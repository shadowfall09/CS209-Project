{"items":[{"tags":["java","ip","cidr"],"comments":[{"owner":{"account_id":7009786,"reputation":3596,"user_id":5373104,"display_name":"Jared Dykstra"},"score":0,"creation_date":1446235055,"post_id":33443914,"comment_id":54676087,"body_markdown":"I think you&#39;ll find the info you&#39;re looking for in this post: http://networkengineering.stackexchange.com/questions/3697/the-slash-after-an-ip-address-cidr-notation","body":"I think you&#39;ll find the info you&#39;re looking for in this post: <a href=\"http://networkengineering.stackexchange.com/questions/3697/the-slash-after-an-ip-address-cidr-notation\" title=\"the slash after an ip address cidr notation\">networkengineering.stackexchange.com/questions/3697/&hellip;</a>"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1446235124,"post_id":33443914,"comment_id":54676118,"body_markdown":"The real way to do it is `address AND mask` to get the subnet address, and `subnet + NOT mask` to get the broadcast address. Both an IP address and a mask are 32-bit unsigned integers, and you need to use those to do IP address manipulation..","body":"The real way to do it is <code>address AND mask</code> to get the subnet address, and <code>subnet + NOT mask</code> to get the broadcast address. Both an IP address and a mask are 32-bit unsigned integers, and you need to use those to do IP address manipulation.."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1446236607,"post_id":33443914,"comment_id":54676817,"body_markdown":"If you are always sure that you&#39;ll have the first (0) address and the last (broadcast address), then you can get an unambiguous answer for this. But if you just give it an arbitrary range, you will more than one answer.","body":"If you are always sure that you&#39;ll have the first (0) address and the last (broadcast address), then you can get an unambiguous answer for this. But if you just give it an arbitrary range, you will more than one answer."},{"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"score":0,"creation_date":1446237036,"post_id":33443914,"comment_id":54677027,"body_markdown":"Just to clarify - The list I have (https://github.com/client9/ipcat/blob/master/datacenters.csv) is the datacenter start and end ranges. So, I&#39;ll not always have the first (0) address and the last(broadcast address)","body":"Just to clarify - The list I have (<a href=\"https://github.com/client9/ipcat/blob/master/datacenters.csv\" rel=\"nofollow noreferrer\">github.com/client9/ipcat/blob/master/datacenters.csv</a>) is the datacenter start and end ranges. So, I&#39;ll not always have the first (0) address and the last(broadcast address)"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1446251304,"post_id":33443914,"comment_id":54681666,"body_markdown":"Doing it properly by `AND`ing an address and mask will _always_ give you the correct subnet,, and adding the subnet to the inverse of the mask will _always_ give you the broadcast address for IPv4 (IPv6 doesn&#39;t have broadcast and can use every address in the subnet, including the subnet and last address). This method works despite which power of two the subnet starts on. This is how IP addresses work, and it works for IPv6, too, except that you need 128-bit unsigned integers for the IPv6 address and mask instead of the 32-bit unsigned integers for IPv4.","body":"Doing it properly by <code>AND</code>ing an address and mask will <i>always</i> give you the correct subnet,, and adding the subnet to the inverse of the mask will <i>always</i> give you the broadcast address for IPv4 (IPv6 doesn&#39;t have broadcast and can use every address in the subnet, including the subnet and last address). This method works despite which power of two the subnet starts on. This is how IP addresses work, and it works for IPv6, too, except that you need 128-bit unsigned integers for the IPv6 address and mask instead of the 32-bit unsigned integers for IPv4."},{"owner":{"account_id":5343182,"reputation":442,"user_id":4259486,"display_name":"bartgras"},"score":0,"creation_date":1500624146,"post_id":33443914,"comment_id":77430043,"body_markdown":"I was doing exactly the same (parsing IPCAT CSV file) and found this simple command best solution: ```ipcalc -rn 108.179.42.64-108.179.42.255``` It correctly calculates the ranges and is available on most linux/mac systems","body":"I was doing exactly the same (parsing IPCAT CSV file) and found this simple command best solution: <code>ipcalc -rn 108.179.42.64-108.179.42.255</code> It correctly calculates the ranges and is available on most linux/mac systems"}],"answers":[{"comments":[{"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"score":0,"creation_date":1446585656,"post_id":33449839,"comment_id":54802104,"body_markdown":"This is quite insightful. Thanks for the detailed writeup!","body":"This is quite insightful. Thanks for the detailed writeup!"},{"owner":{"account_id":7169594,"reputation":1777,"user_id":5477536,"display_name":"GreatAndPowerfulOz"},"score":0,"creation_date":1485810348,"post_id":33449839,"comment_id":71070994,"body_markdown":"This handles the canonical cases. But doesn&#39;t explain how to handle a range such as 5.10.64.1 to 5.10.127.255 which results in 14 CIDRs: \n    5.10.64.1/32\n    5.10.64.2/31\n    5.10.64.4/30\n    5.10.64.8/29\n    5.10.64.16/28\n    5.10.64.32/27\n    5.10.64.64/26\n    5.10.64.128/25\n    5.10.65.0/24\n    5.10.66.0/23\n    5.10.68.0/22\n    5.10.72.0/21\n    5.10.80.0/20\n    5.10.96.0/19","body":"This handles the canonical cases. But doesn&#39;t explain how to handle a range such as 5.10.64.1 to 5.10.127.255 which results in 14 CIDRs:      5.10.64.1/32     5.10.64.2/31     5.10.64.4/30     5.10.64.8/29     5.10.64.16/28     5.10.64.32/27     5.10.64.64/26     5.10.64.128/25     5.10.65.0/24     5.10.66.0/23     5.10.68.0/22     5.10.72.0/21     5.10.80.0/20     5.10.96.0/19"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1485812088,"post_id":33449839,"comment_id":71071815,"body_markdown":"Your example doesn&#39;t relate to the original question, which is what I was answering.","body":"Your example doesn&#39;t relate to the original question, which is what I was answering."},{"owner":{"account_id":8004868,"reputation":179,"user_id":6038447,"display_name":"David Lannan"},"score":1,"creation_date":1595507395,"post_id":33449839,"comment_id":111502724,"body_markdown":"@RonMaupin - OP says: &quot;I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?&quot;\nCIDRs are not single entries - they are blocks. So the comment from GreatAndPowerfulOz is very relevant in this case. And its often over-looked.","body":"@RonMaupin - OP says: &quot;I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?&quot; CIDRs are not single entries - they are blocks. So the comment from GreatAndPowerfulOz is very relevant in this case. And its often over-looked."}],"tags":[],"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446282149,"creation_date":1446282149,"answer_id":33449839,"question_id":33443914,"body_markdown":"In case you haven&#39;t figured it out from my comments:\r\n\r\nIP math must be done in binary. IP addresses and masks are unsigned integers (32 bits for IPv4, 128 bits for IPv6). All you need to know is an address and mask, and you can figure out everything else.\r\n\r\nThis is algorithm for what you want to accomplish, and it applies to both IPv4 and IPv6.\r\n\r\nBased on your question, you are given the subnet (Input 1) and last address (Input 2).\r\n\r\n 1. Subtract the unsigned integer of Input 1 from the unsigned integer\r\n    of Input 2. The result is the inverse subnet mask. The inverse\r\n    subnet mask must be `0`, or the inverse subnet mask plus `1` must be a\r\n    power of `2`, else you have an error in one of the inputs (**STOP,\r\n    INPUT ERROR**).\r\n 2. The `NOT` of the inverse mask (result of Step 1) is the subnet mask.\r\n 3. If Input 1 `AND` the subnet mask does not equal Input 1, you have an\r\n    error in one of the inputs (**STOP, INPUT ERROR**).\r\n 4. The mask length (CIDR number) is the number of `1` bits in the\r\n    subnet mask. There are several ways to calculate the number of `1`\r\n    bits in a binary number, but if the subnet mask is the maximum\r\n    integer (or the inverse mask is `0`), then the mask length is `32`\r\n    (IPv4) or `128` (IPv6). You can loop, counting the number of loops\r\n    and shifting the subnet mask to the left until it equals `0`, loop\r\n    counting the number of loops and shifting the inverse mask to the\r\n    right until it equals `0` then adding `1` to the total and\r\n    subtracting the total from `32` (IPv4) or `128` (IPv6), or subtract\r\n    the exponent of the power of `2` of the total inverse mask\r\n    plus `1` from `32` (IPv4) or `128` (IPv6).\r\n 5. At this point, you have the verified Input 1 (subnet), Input 2 (last\r\n    address), and calculated the mask length (CIDR number).\r\n 6. The final result will be `&lt;Input 1&gt;/&lt;Mask Length&gt;`.\r\n\r\n**Your example:**\r\n\r\nStep 1 (`5.10.127.255 - 5.10.64.0 = 0.0.64.127`):\r\n\r\n    101000010100111111111111111 - 01000010100100000000000000 = 11111111111111\r\n\r\nStep 2 (`NOT 0.0.64.255 = 255.255.192.0` is a power of two):\r\n\r\n    NOT 00000000000000000011111111111111 = 11111111111111111100000000000000\r\n\r\nStep 3 (`5.10.64.0 AND 255.255.192.0 = 5.10.64.0`):\r\n\r\n    01000010100100000000000000 AND 11111111111111111100000000000000 = 01000010100100000000000000\r\n\r\nStep 4 (`0.0.64.255 + 1 = 0.0.65.0 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18`):\r\n\r\n    00000000000000000011111111111111 + 1 = 00000000000000000100000000000000 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18\r\n\r\nStep 5 (Input 1 = `5.10.64.0`, Input 2 = `5.10.127.255`, Mask Length = `18`)\r\n\r\nStep 6 (Final Result = `5.10.64.0/18`)\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<p>In case you haven't figured it out from my comments:</p>\n\n<p>IP math must be done in binary. IP addresses and masks are unsigned integers (32 bits for IPv4, 128 bits for IPv6). All you need to know is an address and mask, and you can figure out everything else.</p>\n\n<p>This is algorithm for what you want to accomplish, and it applies to both IPv4 and IPv6.</p>\n\n<p>Based on your question, you are given the subnet (Input 1) and last address (Input 2).</p>\n\n<ol>\n<li>Subtract the unsigned integer of Input 1 from the unsigned integer\nof Input 2. The result is the inverse subnet mask. The inverse\nsubnet mask must be <code>0</code>, or the inverse subnet mask plus <code>1</code> must be a\npower of <code>2</code>, else you have an error in one of the inputs (<strong>STOP,\nINPUT ERROR</strong>).</li>\n<li>The <code>NOT</code> of the inverse mask (result of Step 1) is the subnet mask.</li>\n<li>If Input 1 <code>AND</code> the subnet mask does not equal Input 1, you have an\nerror in one of the inputs (<strong>STOP, INPUT ERROR</strong>).</li>\n<li>The mask length (CIDR number) is the number of <code>1</code> bits in the\nsubnet mask. There are several ways to calculate the number of <code>1</code>\nbits in a binary number, but if the subnet mask is the maximum\ninteger (or the inverse mask is <code>0</code>), then the mask length is <code>32</code>\n(IPv4) or <code>128</code> (IPv6). You can loop, counting the number of loops\nand shifting the subnet mask to the left until it equals <code>0</code>, loop\ncounting the number of loops and shifting the inverse mask to the\nright until it equals <code>0</code> then adding <code>1</code> to the total and\nsubtracting the total from <code>32</code> (IPv4) or <code>128</code> (IPv6), or subtract\nthe exponent of the power of <code>2</code> of the total inverse mask\nplus <code>1</code> from <code>32</code> (IPv4) or <code>128</code> (IPv6).</li>\n<li>At this point, you have the verified Input 1 (subnet), Input 2 (last\naddress), and calculated the mask length (CIDR number).</li>\n<li>The final result will be <code>&lt;Input 1&gt;/&lt;Mask Length&gt;</code>.</li>\n</ol>\n\n<p><strong>Your example:</strong></p>\n\n<p>Step 1 (<code>5.10.127.255 - 5.10.64.0 = 0.0.64.127</code>):</p>\n\n<pre><code>101000010100111111111111111 - 01000010100100000000000000 = 11111111111111\n</code></pre>\n\n<p>Step 2 (<code>NOT 0.0.64.255 = 255.255.192.0</code> is a power of two):</p>\n\n<pre><code>NOT 00000000000000000011111111111111 = 11111111111111111100000000000000\n</code></pre>\n\n<p>Step 3 (<code>5.10.64.0 AND 255.255.192.0 = 5.10.64.0</code>):</p>\n\n<pre><code>01000010100100000000000000 AND 11111111111111111100000000000000 = 01000010100100000000000000\n</code></pre>\n\n<p>Step 4 (<code>0.0.64.255 + 1 = 0.0.65.0 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18</code>):</p>\n\n<pre><code>00000000000000000011111111111111 + 1 = 00000000000000000100000000000000 = 2^14, exponent of 2^14 = 14, 32 - 14 = 18\n</code></pre>\n\n<p>Step 5 (Input 1 = <code>5.10.64.0</code>, Input 2 = <code>5.10.127.255</code>, Mask Length = <code>18</code>)</p>\n\n<p>Step 6 (Final Result = <code>5.10.64.0/18</code>)</p>\n"},{"tags":[],"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446670554,"creation_date":1446659203,"answer_id":33528623,"question_id":33443914,"body_markdown":"So, I was able to find the Java code here: https://stackoverflow.com/questions/5020317/in-java-given-an-ip-address-range-return-the-minimum-list-of-cidr-blocks-that\r\n\r\n    public class IP2CIDR {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(range2cidrlist(&quot;5.104.109.160&quot;, &quot;5.104.109.191&quot;));\r\n    \t}\r\n    \t\r\n        public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {         \r\n            long start = ipToLong(startIp);         \r\n            long end = ipToLong(endIp);           \r\n    \r\n            ArrayList&lt;String&gt; pairs = new ArrayList&lt;String&gt;();         \r\n            while ( end &gt;= start ) {             \r\n                byte maxsize = 32;             \r\n                while ( maxsize &gt; 0) {                 \r\n                    long mask = CIDR2MASK[ maxsize -1 ];                 \r\n                    long maskedBase = start &amp; mask;                 \r\n    \r\n                    if ( maskedBase != start ) {                     \r\n                        break;                 \r\n                    }                 \r\n    \r\n                    maxsize--;             \r\n                }               \r\n                double x = Math.log( end - start + 1) / Math.log( 2 );             \r\n                byte maxdiff = (byte)( 32 - Math.floor( x ) );             \r\n                if ( maxsize &lt; maxdiff) {                 \r\n                    maxsize = maxdiff;             \r\n                }             \r\n                String ip = longToIP(start);             \r\n                pairs.add( ip + &quot;/&quot; + maxsize);             \r\n                start += Math.pow( 2, (32 - maxsize) );         \r\n            }         \r\n            return pairs;     \r\n        }       \r\n    \r\n        public static final int[] CIDR2MASK = new int[] { 0x00000000, 0x80000000,             \r\n            0xC0000000, 0xE0000000, 0xF0000000, 0xF8000000, 0xFC000000,             \r\n            0xFE000000, 0xFF000000, 0xFF800000, 0xFFC00000, 0xFFE00000,             \r\n            0xFFF00000, 0xFFF80000, 0xFFFC0000, 0xFFFE0000, 0xFFFF0000,             \r\n            0xFFFF8000, 0xFFFFC000, 0xFFFFE000, 0xFFFFF000, 0xFFFFF800,             \r\n            0xFFFFFC00, 0xFFFFFE00, 0xFFFFFF00, 0xFFFFFF80, 0xFFFFFFC0,             \r\n            0xFFFFFFE0, 0xFFFFFFF0, 0xFFFFFFF8, 0xFFFFFFFC, 0xFFFFFFFE,             \r\n            0xFFFFFFFF };       \r\n    \r\n        private static long ipToLong(String strIP) {         \r\n            long[] ip = new long[4];         \r\n            String[] ipSec = strIP.split(&quot;\\\\.&quot;);         \r\n            for (int k = 0; k &lt; 4; k++) {             \r\n                ip[k] = Long.valueOf(ipSec[k]);         \r\n            }         \r\n    \r\n            return (ip[0] &lt;&lt; 24) + (ip[1] &lt;&lt; 16) + (ip[2] &lt;&lt; 8) + ip[3];     \r\n        }       \r\n    \r\n        private static String longToIP(long longIP) {         \r\n            StringBuffer sb = new StringBuffer(&quot;&quot;);         \r\n            sb.append(String.valueOf(longIP &gt;&gt;&gt; 24));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8));         \r\n            sb.append(&quot;.&quot;);         \r\n            sb.append(String.valueOf(longIP &amp; 0x000000FF));   \r\n    \r\n            return sb.toString();     \r\n        }\r\n    }\r\n\r\n  \r\n\r\nThanks everyone for your insights and help!","title":"How to convert IP address range to CIDR in Java?","body":"<p>So, I was able to find the Java code here: <a href=\"https://stackoverflow.com/questions/5020317/in-java-given-an-ip-address-range-return-the-minimum-list-of-cidr-blocks-that\">In Java, given an IP Address range, return the minimum list of CIDR blocks that covers the range</a></p>\n\n<pre><code>public class IP2CIDR {\n\n    public static void main(String[] args) {\n        System.out.println(range2cidrlist(\"5.104.109.160\", \"5.104.109.191\"));\n    }\n\n    public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {         \n        long start = ipToLong(startIp);         \n        long end = ipToLong(endIp);           \n\n        ArrayList&lt;String&gt; pairs = new ArrayList&lt;String&gt;();         \n        while ( end &gt;= start ) {             \n            byte maxsize = 32;             \n            while ( maxsize &gt; 0) {                 \n                long mask = CIDR2MASK[ maxsize -1 ];                 \n                long maskedBase = start &amp; mask;                 \n\n                if ( maskedBase != start ) {                     \n                    break;                 \n                }                 \n\n                maxsize--;             \n            }               \n            double x = Math.log( end - start + 1) / Math.log( 2 );             \n            byte maxdiff = (byte)( 32 - Math.floor( x ) );             \n            if ( maxsize &lt; maxdiff) {                 \n                maxsize = maxdiff;             \n            }             \n            String ip = longToIP(start);             \n            pairs.add( ip + \"/\" + maxsize);             \n            start += Math.pow( 2, (32 - maxsize) );         \n        }         \n        return pairs;     \n    }       \n\n    public static final int[] CIDR2MASK = new int[] { 0x00000000, 0x80000000,             \n        0xC0000000, 0xE0000000, 0xF0000000, 0xF8000000, 0xFC000000,             \n        0xFE000000, 0xFF000000, 0xFF800000, 0xFFC00000, 0xFFE00000,             \n        0xFFF00000, 0xFFF80000, 0xFFFC0000, 0xFFFE0000, 0xFFFF0000,             \n        0xFFFF8000, 0xFFFFC000, 0xFFFFE000, 0xFFFFF000, 0xFFFFF800,             \n        0xFFFFFC00, 0xFFFFFE00, 0xFFFFFF00, 0xFFFFFF80, 0xFFFFFFC0,             \n        0xFFFFFFE0, 0xFFFFFFF0, 0xFFFFFFF8, 0xFFFFFFFC, 0xFFFFFFFE,             \n        0xFFFFFFFF };       \n\n    private static long ipToLong(String strIP) {         \n        long[] ip = new long[4];         \n        String[] ipSec = strIP.split(\"\\\\.\");         \n        for (int k = 0; k &lt; 4; k++) {             \n            ip[k] = Long.valueOf(ipSec[k]);         \n        }         \n\n        return (ip[0] &lt;&lt; 24) + (ip[1] &lt;&lt; 16) + (ip[2] &lt;&lt; 8) + ip[3];     \n    }       \n\n    private static String longToIP(long longIP) {         \n        StringBuffer sb = new StringBuffer(\"\");         \n        sb.append(String.valueOf(longIP &gt;&gt;&gt; 24));         \n        sb.append(\".\");         \n        sb.append(String.valueOf((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16));         \n        sb.append(\".\");         \n        sb.append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8));         \n        sb.append(\".\");         \n        sb.append(String.valueOf(longIP &amp; 0x000000FF));   \n\n        return sb.toString();     \n    }\n}\n</code></pre>\n\n<p>Thanks everyone for your insights and help!</p>\n"},{"comments":[{"owner":{"account_id":8506713,"reputation":91,"user_id":6378031,"display_name":"叶泰航"},"score":0,"creation_date":1474997120,"post_id":39730813,"comment_id":66759113,"body_markdown":"I just replace the long static int array with start &amp; - start, which is shortcur to find the first one.","body":"I just replace the long static int array with start &amp; - start, which is shortcur to find the first one."},{"owner":{"account_id":3710817,"reputation":648,"user_id":3088205,"display_name":"elgholm"},"score":0,"creation_date":1620395763,"post_id":39730813,"comment_id":119195883,"body_markdown":"Had some problems with this code for the range 0.0.0.0 to 0.255.255.255 =&gt; 0.0.0.0/8, start is 0, and the natural logarithm of zero isn&#39;t that nice. Could be a corner case, but the range is a bogon. Just mentioned it if someone else has the same problem. Too bad though, since I liked the bit-and shourtcut! &lt;3","body":"Had some problems with this code for the range 0.0.0.0 to 0.255.255.255 =&gt; 0.0.0.0/8, start is 0, and the natural logarithm of zero isn&#39;t that nice. Could be a corner case, but the range is a bogon. Just mentioned it if someone else has the same problem. Too bad though, since I liked the bit-and shourtcut! &lt;3"}],"tags":[],"owner":{"account_id":8506713,"reputation":91,"user_id":6378031,"display_name":"叶泰航"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1474997024,"creation_date":1474997024,"answer_id":39730813,"question_id":33443914,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class RangeToCidr {\r\n        public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {\r\n            // check parameters\r\n            if (startIp == null || startIp.length() &lt; 8 ||\r\n                endIp == null || endIp.length() &lt; 8) return null;\r\n            long start = ipToLong(startIp);\r\n            long end = ipToLong(endIp);\r\n            // check parameters\r\n            if (start &gt; end) return null;\r\n\r\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n            while (start &lt;= end) {\r\n                // identify the location of first 1&#39;s from lower bit to higher bit of start IP\r\n                // e.g. 00000001.00000001.00000001.01101100, return 4 (100)\r\n                long locOfFirstOne = start &amp; (-start);\r\n                int maxMask = 32 - (int) (Math.log(locOfFirstOne) / Math.log(2));\r\n\r\n                // calculate how many IP addresses between the start and end\r\n                // e.g. between 1.1.1.111 and 1.1.1.120, there are 10 IP address\r\n                // 3 bits to represent 8 IPs, from 1.1.1.112 to 1.1.1.119 (119 - 112 + 1 = 8)\r\n                double curRange = Math.log(end - start + 1) / Math.log(2);\r\n                int maxDiff = 32 - (int) Math.floor(curRange);\r\n\r\n                // why max?\r\n                // if the maxDiff is larger than maxMask\r\n                // which means the numbers of IPs from start to end is smaller than mask range\r\n                // so we can&#39;t use as many as bits we want to mask the start IP to avoid exceed the end IP\r\n                // Otherwise, if maxDiff is smaller than maxMask, which means number of IPs is larger than mask range\r\n                // in this case we can use maxMask to mask as many as IPs from start we want.\r\n                maxMask = Math.max(maxDiff, maxMask);\r\n\r\n                // Add to results\r\n                String ip = longToIP(start);\r\n                result.add(ip + &quot;/&quot; + maxMask);\r\n                // We have already included 2^(32 - maxMask) numbers of IP into result\r\n                // So the next round start must add that number\r\n                start += Math.pow(2, (32 - maxMask));\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private static long ipToLong(String strIP) {\r\n            String[] ipSegs = strIP.split(&quot;\\\\.&quot;);\r\n            long res = 0;\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                res += Long.valueOf(ipSegs[i]) &lt;&lt; (8 * (3 - i));\r\n            }\r\n            return res;\r\n        }\r\n\r\n        private static String longToIP(long longIP) {\r\n            StringBuffer sb = new StringBuffer();\r\n            sb.append(longIP &gt;&gt;&gt; 24).append(&quot;.&quot;)\r\n              .append((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16).append(&quot;.&quot;)\r\n              .append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8)).append(&quot;.&quot;)\r\n              .append(String.valueOf(longIP &amp; 0x000000FF));\r\n\r\n            return sb.toString();\r\n        }\r\n    }\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class RangeToCidr {\n    public static List&lt;String&gt; range2cidrlist( String startIp, String endIp ) {\n        // check parameters\n        if (startIp == null || startIp.length() &lt; 8 ||\n            endIp == null || endIp.length() &lt; 8) return null;\n        long start = ipToLong(startIp);\n        long end = ipToLong(endIp);\n        // check parameters\n        if (start &gt; end) return null;\n\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n        while (start &lt;= end) {\n            // identify the location of first 1's from lower bit to higher bit of start IP\n            // e.g. 00000001.00000001.00000001.01101100, return 4 (100)\n            long locOfFirstOne = start &amp; (-start);\n            int maxMask = 32 - (int) (Math.log(locOfFirstOne) / Math.log(2));\n\n            // calculate how many IP addresses between the start and end\n            // e.g. between 1.1.1.111 and 1.1.1.120, there are 10 IP address\n            // 3 bits to represent 8 IPs, from 1.1.1.112 to 1.1.1.119 (119 - 112 + 1 = 8)\n            double curRange = Math.log(end - start + 1) / Math.log(2);\n            int maxDiff = 32 - (int) Math.floor(curRange);\n\n            // why max?\n            // if the maxDiff is larger than maxMask\n            // which means the numbers of IPs from start to end is smaller than mask range\n            // so we can't use as many as bits we want to mask the start IP to avoid exceed the end IP\n            // Otherwise, if maxDiff is smaller than maxMask, which means number of IPs is larger than mask range\n            // in this case we can use maxMask to mask as many as IPs from start we want.\n            maxMask = Math.max(maxDiff, maxMask);\n\n            // Add to results\n            String ip = longToIP(start);\n            result.add(ip + \"/\" + maxMask);\n            // We have already included 2^(32 - maxMask) numbers of IP into result\n            // So the next round start must add that number\n            start += Math.pow(2, (32 - maxMask));\n        }\n        return result;\n    }\n\n    private static long ipToLong(String strIP) {\n        String[] ipSegs = strIP.split(\"\\\\.\");\n        long res = 0;\n        for (int i = 0; i &lt; 4; i++) {\n            res += Long.valueOf(ipSegs[i]) &lt;&lt; (8 * (3 - i));\n        }\n        return res;\n    }\n\n    private static String longToIP(long longIP) {\n        StringBuffer sb = new StringBuffer();\n        sb.append(longIP &gt;&gt;&gt; 24).append(\".\")\n          .append((longIP &amp; 0x00FFFFFF) &gt;&gt;&gt; 16).append(\".\")\n          .append(String.valueOf((longIP &amp; 0x0000FFFF) &gt;&gt;&gt; 8)).append(\".\")\n          .append(String.valueOf(longIP &amp; 0x000000FF));\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3043659,"reputation":31,"user_id":2579984,"display_name":"PaulQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491096625,"creation_date":1491093926,"answer_id":43163498,"question_id":33443914,"body_markdown":"Something short and sweet in Python:\r\n\r\n    #!/usr/bin/env python\r\n    import ipaddress\r\n    import math\r\n\r\n    ip_from = &#39;5.10.64.0&#39;\r\n    ip_to = &#39;5.10.127.255&#39;\r\n    ip_from_long = int(ipaddress.ip_address(unicode(ip_from)))\r\n    ip_to_long = int(ipaddress.ip_address(unicode(ip_to)))\r\n    ip_range = ip_to_long - ip_from_long\r\n    ip_range +=1\r\n    # the clever line of code\r\n    cidr_range = math.log(4294967296/ip_range)/math.log(2)\r\n    # test for a zero/non-zero fractional part\r\n    if cidr_range % 1 == 0:\r\n      # the output will be: 5.10.64.0/18\r\n      print ip_from + &#39;/&#39; + str(int(cidr_range))\r\n    else:\r\n      print &quot;Error: Not an exact CIDR range - &quot; + str(cidr_range)\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<p>Something short and sweet in Python:</p>\n\n<pre><code>#!/usr/bin/env python\nimport ipaddress\nimport math\n\nip_from = '5.10.64.0'\nip_to = '5.10.127.255'\nip_from_long = int(ipaddress.ip_address(unicode(ip_from)))\nip_to_long = int(ipaddress.ip_address(unicode(ip_to)))\nip_range = ip_to_long - ip_from_long\nip_range +=1\n# the clever line of code\ncidr_range = math.log(4294967296/ip_range)/math.log(2)\n# test for a zero/non-zero fractional part\nif cidr_range % 1 == 0:\n  # the output will be: 5.10.64.0/18\n  print ip_from + '/' + str(int(cidr_range))\nelse:\n  print \"Error: Not an exact CIDR range - \" + str(cidr_range)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10046753,"reputation":31,"user_id":7427850,"display_name":"Xiaodong Ma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496796852,"creation_date":1496796852,"answer_id":44401852,"question_id":33443914,"body_markdown":"\tpublic static int log2(int i) {\r\n\t\tint count = 0;\r\n\t\ti &gt;&gt;= 1;\r\n\t\twhile(i &gt; 0) {\r\n\t\t\tcount++;\r\n\t\t\ti &gt;&gt;= 1;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\n\tpublic static List&lt;String&gt; range2CIDR(String startIp, String endIp) {\r\n\t\tList&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tint start = ipS2I(startIp);\r\n\t\t\tint end = ipS2I(endIp);\r\n\t\t\twhile(start &lt;= end) {\r\n\t\t\t\tint firstNonZero = start &amp; -start;\r\n\t\t\t\tint maxMask = 32 - log2(firstNonZero);\r\n\t\t\t\tmaxMask = Math.max(maxMask, 32 - log2(end - start + 1));\r\n\t\t\t\tres.add(ipI2S(start) + &quot;/&quot; + maxMask);\r\n\t\t\t\tstart += 1 &lt;&lt; (32 - maxMask);\r\n\t\t\t}\r\n\t\t}catch(Exception e) {\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic static int ipS2I(String ip) throws Exception {\r\n\t\tString[] sa = ip.split(&quot;\\\\.&quot;);\r\n\t\tif (sa.length != 4) {\r\n\t\t\tthrow new Exception(&quot;Bad ip address&quot;);\r\n\t\t}\r\n\t\tint res = 0;\r\n\t\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\t\tint t = Integer.valueOf(sa[i]);\r\n\t\t\tif (t &lt; 0 || t &gt; 255) {\r\n\t\t\t\tthrow new Exception(&quot;Bad ip address&quot;);\r\n\t\t\t}\r\n\t\t\tres += t &lt;&lt; ((3-i) &lt;&lt; 3);\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic static String ipI2S(int ip) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append((ip&gt;&gt;24) &amp; 0xFF).append(&quot;.&quot;).append((ip&gt;&gt;16)&amp;0xFF).append(&quot;.&quot;).append((ip&gt;&gt;8) &amp; 0xFF).append(&quot;.&quot;).append(ip &amp; 0xFF);\r\n\t\treturn sb.toString();\r\n\t}\r\n","title":"How to convert IP address range to CIDR in Java?","body":"<pre><code>public static int log2(int i) {\n    int count = 0;\n    i &gt;&gt;= 1;\n    while(i &gt; 0) {\n        count++;\n        i &gt;&gt;= 1;\n    }\n    return count;\n}\n\npublic static List&lt;String&gt; range2CIDR(String startIp, String endIp) {\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\n    try {\n        int start = ipS2I(startIp);\n        int end = ipS2I(endIp);\n        while(start &lt;= end) {\n            int firstNonZero = start &amp; -start;\n            int maxMask = 32 - log2(firstNonZero);\n            maxMask = Math.max(maxMask, 32 - log2(end - start + 1));\n            res.add(ipI2S(start) + \"/\" + maxMask);\n            start += 1 &lt;&lt; (32 - maxMask);\n        }\n    }catch(Exception e) {\n        return res;\n    }\n\n    return res;\n}\n\npublic static int ipS2I(String ip) throws Exception {\n    String[] sa = ip.split(\"\\\\.\");\n    if (sa.length != 4) {\n        throw new Exception(\"Bad ip address\");\n    }\n    int res = 0;\n    for (int i = 0; i &lt; 4; i++) {\n        int t = Integer.valueOf(sa[i]);\n        if (t &lt; 0 || t &gt; 255) {\n            throw new Exception(\"Bad ip address\");\n        }\n        res += t &lt;&lt; ((3-i) &lt;&lt; 3);\n    }\n    return res;\n}\n\npublic static String ipI2S(int ip) {\n    StringBuilder sb = new StringBuilder();\n    sb.append((ip&gt;&gt;24) &amp; 0xFF).append(\".\").append((ip&gt;&gt;16)&amp;0xFF).append(\".\").append((ip&gt;&gt;8) &amp; 0xFF).append(\".\").append(ip &amp; 0xFF);\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13647159,"reputation":207,"user_id":9845909,"display_name":"Prashant Ambardekar"},"score":0,"creation_date":1683104153,"post_id":54602781,"comment_id":134313836,"body_markdown":"addr1.toSequentialRange(addr2) is deprecated. Is there any alternative method for this?","body":"addr1.toSequentialRange(addr2) is deprecated. Is there any alternative method for this?"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1683482737,"post_id":54602781,"comment_id":134370273,"body_markdown":"Yes Prashant Ambardekar use spanWithRange https://seancfoley.github.io/IPAddress/IPAddress/apidocs/inet/ipaddr/IPAddress.html#spanWithRange-inet.ipaddr.IPAddress-","body":"Yes Prashant Ambardekar use spanWithRange <a href=\"https://seancfoley.github.io/IPAddress/IPAddress/apidocs/inet/ipaddr/IPAddress.html#spanWithRange-inet.ipaddr.IPAddress-\" rel=\"nofollow noreferrer\">seancfoley.github.io/IPAddress/IPAddress/apidocs/inet/ipaddr&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1683482778,"post_id":54602781,"comment_id":134370276,"body_markdown":"I am changing the answer to use spanWithRange","body":"I am changing the answer to use spanWithRange"}],"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683482942,"creation_date":1549681821,"answer_id":54602781,"question_id":33443914,"body_markdown":"The [open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) can do this for you.  Disclaimer: I am the project manager of the IPAddress library. \r\n\r\nHere is sample code to do it:\r\n\r\n    static void toPrefixBlocks(String str1, String str2) {\r\n\t\tIPAddressString string1 = new IPAddressString(str1);\r\n\t\tIPAddressString string2 = new IPAddressString(str2);\r\n\t\tIPAddress one = string1.getAddress(), two = string2.getAddress();\r\n\t\tIPAddressSeqRange range = one.spanWithRange(two);\r\n\t\tSystem.out.println(&quot;starting with range &quot; + range);\r\n\t\tIPAddress blocks[] = range.spanWithPrefixBlocks();\r\n\t\tSystem.out.println(&quot;prefix blocks are &quot; + Arrays.asList(blocks));\r\n\t}\r\n\r\nThis is how you would use IPAddress to produce the range from the original CIDR string:\r\n\r\n    static String[] toRange(String str) {\r\n\t\tIPAddressString string = new IPAddressString(str);\r\n\t\tIPAddress addr = string.getAddress();\r\n\t\tSystem.out.println(&quot;starting with CIDR &quot; + addr);\r\n\t\tIPAddress lower = addr.getLower(), upper = addr.getUpper();\r\n\t\tSystem.out.println(&quot;range is &quot; + lower + &quot; to &quot; + upper);\r\n\t\treturn new String[] {lower.toString(), upper.toString()};\r\n\t}\r\n\r\nFor your example, we run this code:\r\n\r\n    String strs[] = toRange(&quot;5.10.64.0/18&quot;);\r\n    System.out.println();\r\n    toPrefixBlocks(strs[0], strs[1]);\r\n\r\nThe output is:\r\n\r\n    starting with CIDR 5.10.64.0/18\r\n    range is 5.10.64.0/18 to 5.10.127.255/18\r\n\r\n    starting with range 5.10.64.0 -&gt; 5.10.127.255\r\n    prefix blocks are [5.10.64.0/18]\r\n\r\n ","title":"How to convert IP address range to CIDR in Java?","body":"<p>The <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">open-source IPAddress Java library</a> can do this for you.  Disclaimer: I am the project manager of the IPAddress library.</p>\n<p>Here is sample code to do it:</p>\n<pre><code>static void toPrefixBlocks(String str1, String str2) {\n    IPAddressString string1 = new IPAddressString(str1);\n    IPAddressString string2 = new IPAddressString(str2);\n    IPAddress one = string1.getAddress(), two = string2.getAddress();\n    IPAddressSeqRange range = one.spanWithRange(two);\n    System.out.println(&quot;starting with range &quot; + range);\n    IPAddress blocks[] = range.spanWithPrefixBlocks();\n    System.out.println(&quot;prefix blocks are &quot; + Arrays.asList(blocks));\n}\n</code></pre>\n<p>This is how you would use IPAddress to produce the range from the original CIDR string:</p>\n<pre><code>static String[] toRange(String str) {\n    IPAddressString string = new IPAddressString(str);\n    IPAddress addr = string.getAddress();\n    System.out.println(&quot;starting with CIDR &quot; + addr);\n    IPAddress lower = addr.getLower(), upper = addr.getUpper();\n    System.out.println(&quot;range is &quot; + lower + &quot; to &quot; + upper);\n    return new String[] {lower.toString(), upper.toString()};\n}\n</code></pre>\n<p>For your example, we run this code:</p>\n<pre><code>String strs[] = toRange(&quot;5.10.64.0/18&quot;);\nSystem.out.println();\ntoPrefixBlocks(strs[0], strs[1]);\n</code></pre>\n<p>The output is:</p>\n<pre><code>starting with CIDR 5.10.64.0/18\nrange is 5.10.64.0/18 to 5.10.127.255/18\n\nstarting with range 5.10.64.0 -&gt; 5.10.127.255\nprefix blocks are [5.10.64.0/18]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603543996,"creation_date":1603543663,"answer_id":64513460,"question_id":33443914,"body_markdown":"We researched a lot and here is how we implemented it in the end, just use `RouteNotation.fromRange(...)` method to get `List&lt;RouteNotation&gt;` after adding below class:\r\n\r\n```java\r\npackage my.vpn.utils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RouteNotation {\r\n    private int ipAddress;\r\n    private int prefix;\r\n\r\n    private RouteNotation(long ipAddress, int prefix) {\r\n        this.ipAddress = (int) ipAddress;\r\n        this.prefix = prefix;\r\n    }\r\n\r\n    public static RouteNotation fromIPv4(long ipAddress, int prefix) {\r\n        return new RouteNotation(ipAddress, prefix);\r\n    }\r\n\r\n    public long getIP() {\r\n        return this.ipAddress;\r\n    }\r\n\r\n    public void setIP(long v) {\r\n        this.ipAddress = (int) v;\r\n    }\r\n\r\n    public int getPrefix() {\r\n        return this.prefix;\r\n    }\r\n\r\n    public void setPrefix(int bitCount) {\r\n        this.prefix = bitCount;\r\n    }\r\n\r\n    public long getFirst() {\r\n        return this.ipAddress &amp; getMaskFromPrefix(this.prefix);\r\n    }\r\n\r\n    public long getLast() {\r\n        return Notation.getNext(this.ipAddress, this.prefix) - 1;\r\n    }\r\n\r\n    /**\r\n     * Generates Notation list from given range.\r\n     * &lt;br&gt;\r\n     * Each IP range can result to multiple notations.\r\n     *\r\n     * @param first First IP included in returned notations.\r\n     * @param last  Last IP included in notations.\r\n     * @return Generated routing range notations.\r\n     */\r\n    public static List&lt;RouteNotation&gt; fromRange(long first, long last) {\r\n        List&lt;RouteNotation&gt; result = new ArrayList&lt;&gt;();\r\n        while (last &gt;= first) {\r\n            // Find prefix required to mask first IP in range.\r\n            byte prefix = getPrefixFromRange(first, last);\r\n            // At last, push current range to result list.\r\n            result.add(RouteNotation.fromIPv4(first, prefix));\r\n            // Skip current Notation range.\r\n            first = getNext(first, prefix);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static int getMaskFromPrefix(int bitCount) {\r\n        return (int) (0xFFFFFFFF00000000L &gt;&gt; bitCount);\r\n    }\r\n\r\n    /**\r\n     * Skips given Notation range and get first of next notation.\r\n     * &lt;p&gt;\r\n     * Used to get next IP right out of prefix range.\r\n     */\r\n    public static long getNext(long ip, int prefix) {\r\n        // Forced to use left-shift or &quot;getUnsigned(ip)&quot;, cause else Java would\r\n        // cast result of &quot;Math.pow(2, 32 - prefix)&quot; method to integer\r\n        // (and prevents any possible integer-overflow which we require).\r\n        return (ip &amp; getMaskFromPrefix(prefix)) + (1L &lt;&lt; (32 - prefix));\r\n    }\r\n\r\n    public static byte getPrefixFromRange(long first, long possibleLast) {\r\n        // Find max prefix required for distance (anything less is invalid).\r\n        long distance = (possibleLast - first) + 1;\r\n        double bitsRequiredForDistance = Math.log(distance) / Math.log(2);\r\n        // Get max constant bit count.\r\n        byte prefix = (byte) (32 - Math.ceil(bitsRequiredForDistance));\r\n        // Validate and increase limit (more prefix means less range).\r\n        while (prefix &lt; 32) {\r\n            // Limit difference to last IP in range (maximum).\r\n            long max = RouteNotation.getNext(first, prefix) - 1;\r\n            if (max &gt; possibleLast) {\r\n                ++prefix;\r\n            }\r\n            // Never allow IP less than first in range (minimum).\r\n            else if ((first &amp; getMaskFromPrefix(prefix)) &lt; first) {\r\n                ++prefix;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return prefix;\r\n    }\r\n}\r\n```\r\n\r\n&gt;**Note** that it&#39;s a minimal need copy (without our unit-tests and many helper methods), but you may need:\r\n```java\r\n/**\r\n * @return Zero on any error, else IP v4 integer.\r\n */\r\npublic static long ipv4_cast(InetAddress address) {\r\n    long result = 0;\r\n    if (address != null) {\r\n        byte data[] = address.getAddress();\r\n        if (data.length &lt;= 4) {\r\n            for (byte b : data) {\r\n                result &lt;&lt;= 8;\r\n                result |= b &amp; 0xFF;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"How to convert IP address range to CIDR in Java?","body":"<p>We researched a lot and here is how we implemented it in the end, just use <code>RouteNotation.fromRange(...)</code> method to get <code>List&lt;RouteNotation&gt;</code> after adding below class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.vpn.utils;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RouteNotation {\n    private int ipAddress;\n    private int prefix;\n\n    private RouteNotation(long ipAddress, int prefix) {\n        this.ipAddress = (int) ipAddress;\n        this.prefix = prefix;\n    }\n\n    public static RouteNotation fromIPv4(long ipAddress, int prefix) {\n        return new RouteNotation(ipAddress, prefix);\n    }\n\n    public long getIP() {\n        return this.ipAddress;\n    }\n\n    public void setIP(long v) {\n        this.ipAddress = (int) v;\n    }\n\n    public int getPrefix() {\n        return this.prefix;\n    }\n\n    public void setPrefix(int bitCount) {\n        this.prefix = bitCount;\n    }\n\n    public long getFirst() {\n        return this.ipAddress &amp; getMaskFromPrefix(this.prefix);\n    }\n\n    public long getLast() {\n        return Notation.getNext(this.ipAddress, this.prefix) - 1;\n    }\n\n    /**\n     * Generates Notation list from given range.\n     * &lt;br&gt;\n     * Each IP range can result to multiple notations.\n     *\n     * @param first First IP included in returned notations.\n     * @param last  Last IP included in notations.\n     * @return Generated routing range notations.\n     */\n    public static List&lt;RouteNotation&gt; fromRange(long first, long last) {\n        List&lt;RouteNotation&gt; result = new ArrayList&lt;&gt;();\n        while (last &gt;= first) {\n            // Find prefix required to mask first IP in range.\n            byte prefix = getPrefixFromRange(first, last);\n            // At last, push current range to result list.\n            result.add(RouteNotation.fromIPv4(first, prefix));\n            // Skip current Notation range.\n            first = getNext(first, prefix);\n        }\n        return result;\n    }\n\n    public static int getMaskFromPrefix(int bitCount) {\n        return (int) (0xFFFFFFFF00000000L &gt;&gt; bitCount);\n    }\n\n    /**\n     * Skips given Notation range and get first of next notation.\n     * &lt;p&gt;\n     * Used to get next IP right out of prefix range.\n     */\n    public static long getNext(long ip, int prefix) {\n        // Forced to use left-shift or &quot;getUnsigned(ip)&quot;, cause else Java would\n        // cast result of &quot;Math.pow(2, 32 - prefix)&quot; method to integer\n        // (and prevents any possible integer-overflow which we require).\n        return (ip &amp; getMaskFromPrefix(prefix)) + (1L &lt;&lt; (32 - prefix));\n    }\n\n    public static byte getPrefixFromRange(long first, long possibleLast) {\n        // Find max prefix required for distance (anything less is invalid).\n        long distance = (possibleLast - first) + 1;\n        double bitsRequiredForDistance = Math.log(distance) / Math.log(2);\n        // Get max constant bit count.\n        byte prefix = (byte) (32 - Math.ceil(bitsRequiredForDistance));\n        // Validate and increase limit (more prefix means less range).\n        while (prefix &lt; 32) {\n            // Limit difference to last IP in range (maximum).\n            long max = RouteNotation.getNext(first, prefix) - 1;\n            if (max &gt; possibleLast) {\n                ++prefix;\n            }\n            // Never allow IP less than first in range (minimum).\n            else if ((first &amp; getMaskFromPrefix(prefix)) &lt; first) {\n                ++prefix;\n            } else {\n                break;\n            }\n        }\n        return prefix;\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>Note</strong> that it's a minimal need copy (without our unit-tests and many helper methods), but you may need:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @return Zero on any error, else IP v4 integer.\n */\npublic static long ipv4_cast(InetAddress address) {\n    long result = 0;\n    if (address != null) {\n        byte data[] = address.getAddress();\n        if (data.length &lt;= 4) {\n            for (byte b : data) {\n                result &lt;&lt;= 8;\n                result |= b &amp; 0xFF;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":7215985,"reputation":143,"user_id":5508454,"display_name":"Dhaval Kotecha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19733,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54602781,"answer_count":7,"score":11,"last_activity_date":1690610682,"creation_date":1446234812,"question_id":33443914,"body_markdown":"I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?\r\n\r\nI used the [SubnetUtils][1] for converting the CIDR to the IP address range, but I can&#39;t figure out the other way around.\r\n\r\nFor example: (using http://ip2cidr.com/)\r\n\r\n&gt; **Input 1**: 5.10.64.0\r\n&gt;\r\n&gt; **Input 2**: 5.10.127.255\r\n&gt;\r\n&gt; **Result**: 5.10.64.0/18\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/util/SubnetUtils.html","title":"How to convert IP address range to CIDR in Java?","body":"<p>I am trying to convert the IP address range into the CIDR notation in Java. Can someone provide an example of how this can be achieved?</p>\n<p>I used the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/util/SubnetUtils.html\" rel=\"nofollow noreferrer\">SubnetUtils</a> for converting the CIDR to the IP address range, but I can't figure out the other way around.</p>\n<p>For example: (using <a href=\"http://ip2cidr.com/\" rel=\"nofollow noreferrer\">http://ip2cidr.com/</a>)</p>\n<blockquote>\n<p><strong>Input 1</strong>: 5.10.64.0</p>\n<p><strong>Input 2</strong>: 5.10.127.255</p>\n<p><strong>Result</strong>: 5.10.64.0/18</p>\n</blockquote>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690543859,"post_id":76787397,"comment_id":135372188,"body_markdown":"@mkl , any suggestions please.","body":"@mkl , any suggestions please."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690554958,"post_id":76787397,"comment_id":135374572,"body_markdown":"What does your `addValidationInformation` do exactly? In particular, does it ensure a path of objects marked `NeedToBeUpdated` exists from the trailer to the updated objects?","body":"What does your <code>addValidationInformation</code> do exactly? In particular, does it ensure a path of objects marked <code>NeedToBeUpdated</code> exists from the trailer to the updated objects?"},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690572864,"post_id":76787397,"comment_id":135377688,"body_markdown":"@mkl I have updated the above description to include the `addValidationInformation` method. Also, I tried setting `dss`, `vri`, `ocsps`, &#39;crls&#39;, `certs`  as `NeedToBeUpdated`. It still not worked. It worked when I called this method before signature with same set of certificates.","body":"@mkl I have updated the above description to include the <code>addValidationInformation</code> method. Also, I tried setting <code>dss</code>, <code>vri</code>, <code>ocsps</code>, &#39;crls&#39;, <code>certs</code>  as <code>NeedToBeUpdated</code>. It still not worked. It worked when I called this method before signature with same set of certificates."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690596943,"post_id":76787397,"comment_id":135379803,"body_markdown":"From the current code, you&#39;re woring on a closed file here: `documentForLTV.close();\n\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();`","body":"From the current code, you&#39;re woring on a closed file here: <code>documentForLTV.close();  &#47;&#47;Checking updated DSS. Updated DSS shows TSA certs which are expected to be added. PDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();</code>"},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690603238,"post_id":76787397,"comment_id":135380075,"body_markdown":"@TilmanHausherr Issue won&#39;t resolve even if I close the document later on. Updated the source code.","body":"@TilmanHausherr Issue won&#39;t resolve even if I close the document later on. Updated the source code."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1690605544,"post_id":76787397,"comment_id":135380191,"body_markdown":"It seems, it is a bug at PDFBox side, because if I use `PDDocument.save` instead of `saveIncremental`, DSS is present in output document but the signature gets invalidated. @mkl","body":"It seems, it is a bug at PDFBox side, because if I use <code>PDDocument.save</code> instead of <code>saveIncremental</code>, DSS is present in output document but the signature gets invalidated. @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690609002,"post_id":76787397,"comment_id":135380389,"body_markdown":"I don&#39;t see your code setting the `NeedToBeUpdated` flags anywhere. `saveIncremental` needs those flags to work, `save` doesn&#39;t. Thus, i think the issue is not a pdfbox but but the missing `NeedToBeUpdated` management in your code.","body":"I don&#39;t see your code setting the <code>NeedToBeUpdated</code> flags anywhere. <code>saveIncremental</code> needs those flags to work, <code>save</code> doesn&#39;t. Thus, i think the issue is not a pdfbox but but the missing <code>NeedToBeUpdated</code> management in your code."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690610700,"post_id":76787397,"comment_id":135380483,"body_markdown":"You can&#39;t do this. Adding, subtracting, or changing data in the signed object is going to invalidate the signature. This is a fact of life. You will have to find a way to incorporate the timestamp into the digital signature process.","body":"You can&#39;t do this. Adding, subtracting, or changing data in the signed object is going to invalidate the signature. This is a fact of life. You will have to find a way to incorporate the timestamp into the digital signature process."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":1,"creation_date":1690610888,"post_id":76787397,"comment_id":135380494,"body_markdown":"Thanks @mkl It worked. I missed making catalog as NeedsToBeUpdated.","body":"Thanks @mkl It worked. I missed making catalog as NeedsToBeUpdated."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690620078,"post_id":76787397,"comment_id":135381264,"body_markdown":"The `AddValidationInformation.java` example from PDFBox had that.","body":"The <code>AddValidationInformation.java</code> example from PDFBox had that."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690623036,"post_id":76787397,"comment_id":135381507,"body_markdown":"@user207421 *&quot;You can&#39;t do this.&quot;* - you may want to read up on integrated pdf signatures and incremental updates.","body":"@user207421 <i>&quot;You can&#39;t do this.&quot;</i> - you may want to read up on integrated pdf signatures and incremental updates."}],"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690610644,"creation_date":1690543775,"question_id":76787397,"body_markdown":"As per my current understanding, it is not allowed to add `DSS` for Timestamp Certificates while signing a PDF(in case of signature timestamp). So, I am trying to first sign the PDF, save it, and then reload it as `PDDocument` to add `DSS` for Timestamp Certificates. \r\n\r\nBelow is my source code for the same:\r\n\r\n```\r\n//This saves the signed file to responseStream\r\nByteArrayInputStream responseStream = new ByteArrayInputStream(outputStream.toByteArray());\r\n\r\n//Reloads output PDF as PDDocument to embed DSS for TSA Certificates\r\nPDDocument documentForLTV = PDDocument.load(responseStream);\r\n\r\n//New response stream with DSS\r\nByteArrayOutputStream outputStreamLTV = new ByteArrayOutputStream();\r\n\r\n//Adds revocation info and certs for TSA into DSS of PDDocument \r\naddValidationInformation(documentForLTV, TSACertificates);\r\n\r\ndocumentForLTV.saveIncremental(outputStreamLTV);\r\n\r\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\r\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();\r\nCOSDictionary catalog = docCatalog.getCOSObject();\r\nCOSDictionary dss = validationService.getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\r\nCOSArray certs = validationService.getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\r\n\r\n//final output response. This  outputStreamLTV does not contain the TSA Certs and revocation info.\r\nByteArrayInputStream responseStreamLTV = new ByteArrayInputStream(outputStreamLTV.toByteArray());\r\n\r\ndocumentForLTV.close();\r\nreturn responseStreamLTV;\r\n```\r\nHere, I am adding Timestamp Certs and Revocation Information to DSS using my method `addValidationInformation`. This is the same method, which I use to add Validation information for signing Certs to `DSS`. And while debugging, I can see it successfully adds the timestamp certificates to DSS. But I can&#39;t find them in my final output PDF.\r\n`outputStreamLTV` only contains Validation Information for Signing Certs.\r\n\r\naddValidationInformation method is as follows:\r\n\r\n```\r\npublic void addValidationInformation(PDDocument document, Certificate[] certificateChain) {\r\n\r\n        List&lt;String&gt; ocspResponse = getOcspData(certificateChain);\r\n        List&lt;String&gt; crlResponse = getClrData(certificateChain);\r\n        List&lt;String&gt; certificates = getCertificates(certificateChain);\r\n\r\n        PDDocumentCatalog docCatalog = document.getDocumentCatalog();\r\n        COSDictionary catalog = docCatalog.getCOSObject();\r\n        catalog.setNeedsTobeUpdated(true);\r\n        // As mentioned in PDFBox Samples\r\n        COSDictionary dss = getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\r\n        dss.setNeedsTobeUpdated(true);\r\n        COSDictionary vri = getOrCreateDictionaryEntry(COSDictionary.class, dss, &quot;VRI&quot;);\r\n        vri.setNeedsTobeUpdated(true);\r\n        COSArray ocsps = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;OCSPs&quot;);\r\n        ocsps.setNeedsTobeUpdated(true);\r\n        COSArray crls = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;CRLs&quot;);\r\n        crls.setNeedsTobeUpdated(true);\r\n        COSArray certs = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\r\n        certs.setNeedsTobeUpdated(true);\r\n\r\n        if (ocspResponse != null) {\r\n            ocspResponse.forEach(ocsp -&gt; {\r\n                byte[] ocspData = b64Decoder.decode(ocsp);\r\n                try {\r\n                    ocsps.add(writeDataToStream(ocspData, document));\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!ocspResponse.isEmpty()) {\r\n            vri.setItem(&quot;OCSP&quot;, ocsps);\r\n        }\r\n\r\n        //Same for CRL and Certs...\r\n\r\n    }\r\n```\r\n\r\nSome of my other findings are:\r\n\r\n1. I am able to add timestamp certs and revocation information in similar way using PDFBox samples `AddValidationInformation` and [this](https://github.com/ETDA/PDFTimestamping/blob/52bf0f1f77626fb0f4c6d4103bcd461515f74430/src/main/java/CreateSignedTimeStamp.java#L183) method. But I prefer to use my current implementation since that sample is not exactly fitting as per my requirements. Also, they will add duplicate code for same functionality. \r\n2. Also, i use `PDDocument.save(outputStreamLTV)` instead of `PDDocument.saveIncremental(outputStreamLTV)`. Output PDF shows desired DSS but the signature gets invalid.\r\n\r\nKindly suggest how can I make my existing code work and what am I missing? It seems there is some issue while saving the PDDocument to stream.\r\nOr is it a bug at `PDFBox` side, because I am able to add DSS using the same method `addValidationInformation` before signature using one dummy call to TSA for fetching certs.\r\n\r\n\r\n","title":"Unable to add DSS to a signed PDF after reloading it","body":"<p>As per my current understanding, it is not allowed to add <code>DSS</code> for Timestamp Certificates while signing a PDF(in case of signature timestamp). So, I am trying to first sign the PDF, save it, and then reload it as <code>PDDocument</code> to add <code>DSS</code> for Timestamp Certificates.</p>\n<p>Below is my source code for the same:</p>\n<pre><code>//This saves the signed file to responseStream\nByteArrayInputStream responseStream = new ByteArrayInputStream(outputStream.toByteArray());\n\n//Reloads output PDF as PDDocument to embed DSS for TSA Certificates\nPDDocument documentForLTV = PDDocument.load(responseStream);\n\n//New response stream with DSS\nByteArrayOutputStream outputStreamLTV = new ByteArrayOutputStream();\n\n//Adds revocation info and certs for TSA into DSS of PDDocument \naddValidationInformation(documentForLTV, TSACertificates);\n\ndocumentForLTV.saveIncremental(outputStreamLTV);\n\n//Checking updated DSS. Updated DSS shows TSA certs which are expected to be added.\nPDDocumentCatalog docCatalog = documentForLTV.getDocumentCatalog();\nCOSDictionary catalog = docCatalog.getCOSObject();\nCOSDictionary dss = validationService.getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\nCOSArray certs = validationService.getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\n\n//final output response. This  outputStreamLTV does not contain the TSA Certs and revocation info.\nByteArrayInputStream responseStreamLTV = new ByteArrayInputStream(outputStreamLTV.toByteArray());\n\ndocumentForLTV.close();\nreturn responseStreamLTV;\n</code></pre>\n<p>Here, I am adding Timestamp Certs and Revocation Information to DSS using my method <code>addValidationInformation</code>. This is the same method, which I use to add Validation information for signing Certs to <code>DSS</code>. And while debugging, I can see it successfully adds the timestamp certificates to DSS. But I can't find them in my final output PDF.\n<code>outputStreamLTV</code> only contains Validation Information for Signing Certs.</p>\n<p>addValidationInformation method is as follows:</p>\n<pre><code>public void addValidationInformation(PDDocument document, Certificate[] certificateChain) {\n\n        List&lt;String&gt; ocspResponse = getOcspData(certificateChain);\n        List&lt;String&gt; crlResponse = getClrData(certificateChain);\n        List&lt;String&gt; certificates = getCertificates(certificateChain);\n\n        PDDocumentCatalog docCatalog = document.getDocumentCatalog();\n        COSDictionary catalog = docCatalog.getCOSObject();\n        catalog.setNeedsTobeUpdated(true);\n        // As mentioned in PDFBox Samples\n        COSDictionary dss = getOrCreateDictionaryEntry(COSDictionary.class, catalog, &quot;DSS&quot;);\n        dss.setNeedsTobeUpdated(true);\n        COSDictionary vri = getOrCreateDictionaryEntry(COSDictionary.class, dss, &quot;VRI&quot;);\n        vri.setNeedsTobeUpdated(true);\n        COSArray ocsps = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;OCSPs&quot;);\n        ocsps.setNeedsTobeUpdated(true);\n        COSArray crls = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;CRLs&quot;);\n        crls.setNeedsTobeUpdated(true);\n        COSArray certs = getOrCreateDictionaryEntry(COSArray.class, dss, &quot;Certs&quot;);\n        certs.setNeedsTobeUpdated(true);\n\n        if (ocspResponse != null) {\n            ocspResponse.forEach(ocsp -&gt; {\n                byte[] ocspData = b64Decoder.decode(ocsp);\n                try {\n                    ocsps.add(writeDataToStream(ocspData, document));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n        }\n\n        if (!ocspResponse.isEmpty()) {\n            vri.setItem(&quot;OCSP&quot;, ocsps);\n        }\n\n        //Same for CRL and Certs...\n\n    }\n</code></pre>\n<p>Some of my other findings are:</p>\n<ol>\n<li>I am able to add timestamp certs and revocation information in similar way using PDFBox samples <code>AddValidationInformation</code> and <a href=\"https://github.com/ETDA/PDFTimestamping/blob/52bf0f1f77626fb0f4c6d4103bcd461515f74430/src/main/java/CreateSignedTimeStamp.java#L183\" rel=\"nofollow noreferrer\">this</a> method. But I prefer to use my current implementation since that sample is not exactly fitting as per my requirements. Also, they will add duplicate code for same functionality.</li>\n<li>Also, i use <code>PDDocument.save(outputStreamLTV)</code> instead of <code>PDDocument.saveIncremental(outputStreamLTV)</code>. Output PDF shows desired DSS but the signature gets invalid.</li>\n</ol>\n<p>Kindly suggest how can I make my existing code work and what am I missing? It seems there is some issue while saving the PDDocument to stream.\nOr is it a bug at <code>PDFBox</code> side, because I am able to add DSS using the same method <code>addValidationInformation</code> before signature using one dummy call to TSA for fetching certs.</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":8463731,"reputation":38767,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":1,"creation_date":1482580344,"post_id":41312981,"comment_id":69829263,"body_markdown":"Use a `BlockingQueue` to hold runnables and keep removing and executing in a background thread?","body":"Use a <code>BlockingQueue</code> to hold runnables and keep removing and executing in a background thread?"},{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":0,"creation_date":1482580418,"post_id":41312981,"comment_id":69829283,"body_markdown":"Can you please give some example links","body":"Can you please give some example links"}],"answers":[{"comments":[{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":0,"creation_date":1482594590,"post_id":41313060,"comment_id":69832754,"body_markdown":"this is what i need actually.. :)","body":"this is what i need actually.. :)"},{"owner":{"account_id":8463731,"reputation":38767,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":0,"creation_date":1482594618,"post_id":41313060,"comment_id":69832766,"body_markdown":"Glad it helped.","body":"Glad it helped."}],"tags":[],"owner":{"account_id":8463731,"reputation":38767,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1482580833,"creation_date":1482580833,"answer_id":41313060,"question_id":41312981,"body_markdown":"You can use a `BlockingQueue` to keep waiting in a separate thread until one or more `Runnable` show up.\r\n\r\n    public class Mainer {\r\n    \tprivate static final BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(15);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tThread t = new Thread(() -&gt; {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tqueue.take().run();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tt.start();\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tqueue.add(() -&gt; {\r\n    \t\t\t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t\t\t});\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>You can use a <code>BlockingQueue</code> to keep waiting in a separate thread until one or more <code>Runnable</code> show up.</p>\n\n<pre><code>public class Mainer {\n    private static final BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(15);\n\n    public static void main(String[] args) {\n        Thread t = new Thread(() -&gt; {\n            while (true) {\n                try {\n                    queue.take().run();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        });\n        t.start();\n\n        for (int i = 0; i &lt; 10; i++) {\n            queue.add(() -&gt; {\n                System.out.println(\"Hello\");\n            });\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681696650,"creation_date":1482582808,"answer_id":41313303,"question_id":41312981,"body_markdown":"I think that you **should be** using an `ExecutorService`.  \r\n\r\n - It maintains a queue of tasks to be run.  You can provide your own queue if you need to.\r\n - New tasks can be added at any time using the `submit` method.\r\n - Futures may be obtained when submitting tasks.\r\n - Tasks may be run one at a time, or in parallel using a pool of worker threads.\r\n - If you use multiple threads, the various executor service implementations provide different pool management strategies.\r\n - There are operations for draining and shutting down the service.\r\n \r\nIf you want an `ExecutorService` that will always run the tasks one at a time, make sure that you specify a thread pool with a maximum size of one thread.\r\n\r\n&gt;  you please give some example links\r\n\r\nThe [javadocs][1] have examples.\r\n\r\n-----------------------\r\n\r\nThe objections that you raised are all based on incorrect information.\r\n\r\n&gt; 1) But I can&#39;t use both of these solution. Because after starting `ExecutorService` I can&#39;t add new task to the service. \r\n\r\nYes you can.  That is what `ExecutorService.submit(...)` does.\r\n\r\n&gt; 2) Because we know that it may throw `InterruptedException` ...\r\n\r\nIt will only throw `InterruptedException` if your application does something to cause that to happen; e.g. shutting down the `ExecutorService` using `shutdownNow()`.  (If you don&#39;t want that, you can use `shutdown()` instead, or simply not shut down the executor at all.  Refer to the javadocs for more details.)\r\n\r\nAnyway, your code can deal with the exception, as the code in the [other answer][2] does ... albeit that it handles it in a way that you *shouldn&#39;t* do in production code.  (Printing a stacktrace to standard output is a bad idea.  And ignoring an `InterruptedException` could be wrong thing, in some contexts.)\r\n\r\n&gt; 3) ... or `ConcurrentModificationException`.\r\n\r\nAFAIK, the only scenario where an `ExecutorService` can throw `ConcurrentModificationException` is if you are using a custom `Queue` class that isn&#39;t implemented properly.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://stackoverflow.com/a/41313060/139985","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>I think that you <strong>should be</strong> using an <code>ExecutorService</code>.</p>\n<ul>\n<li>It maintains a queue of tasks to be run.  You can provide your own queue if you need to.</li>\n<li>New tasks can be added at any time using the <code>submit</code> method.</li>\n<li>Futures may be obtained when submitting tasks.</li>\n<li>Tasks may be run one at a time, or in parallel using a pool of worker threads.</li>\n<li>If you use multiple threads, the various executor service implementations provide different pool management strategies.</li>\n<li>There are operations for draining and shutting down the service.</li>\n</ul>\n<p>If you want an <code>ExecutorService</code> that will always run the tasks one at a time, make sure that you specify a thread pool with a maximum size of one thread.</p>\n<blockquote>\n<p>you please give some example links</p>\n</blockquote>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">javadocs</a> have examples.</p>\n<hr />\n<p>The objections that you raised are all based on incorrect information.</p>\n<blockquote>\n<ol>\n<li>But I can't use both of these solution. Because after starting <code>ExecutorService</code> I can't add new task to the service.</li>\n</ol>\n</blockquote>\n<p>Yes you can.  That is what <code>ExecutorService.submit(...)</code> does.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Because we know that it may throw <code>InterruptedException</code> ...</li>\n</ol>\n</blockquote>\n<p>It will only throw <code>InterruptedException</code> if your application does something to cause that to happen; e.g. shutting down the <code>ExecutorService</code> using <code>shutdownNow()</code>.  (If you don't want that, you can use <code>shutdown()</code> instead, or simply not shut down the executor at all.  Refer to the javadocs for more details.)</p>\n<p>Anyway, your code can deal with the exception, as the code in the <a href=\"https://stackoverflow.com/a/41313060/139985\">other answer</a> does ... albeit that it handles it in a way that you <em>shouldn't</em> do in production code.  (Printing a stacktrace to standard output is a bad idea.  And ignoring an <code>InterruptedException</code> could be wrong thing, in some contexts.)</p>\n<blockquote>\n<ol start=\"3\">\n<li>... or <code>ConcurrentModificationException</code>.</li>\n</ol>\n</blockquote>\n<p>AFAIK, the only scenario where an <code>ExecutorService</code> can throw <code>ConcurrentModificationException</code> is if you are using a custom <code>Queue</code> class that isn't implemented properly.</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690609715,"creation_date":1690609715,"answer_id":76792224,"question_id":41312981,"body_markdown":"Adding implementation to [Stephen answer](https://stackoverflow.com/questions/41312981/create-a-job-queue-or-task-controller-and-dynamically-add-task-to-it-in-java/41313303#41313303)\r\n\r\n```\r\npublic class MyController {\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Logger logger = Logger.getLogger(MyController.class.getName());\r\n\r\n    //POST\r\n    public void addTask(String taskId){\r\n        Runnable task = createTask(taskId);\r\n        executor.submit(task);\r\n    }\r\n\r\n    public void shutdown(){\r\n        executor.shutdown();\r\n    }\r\n\r\n    private Runnable createTask(String taskId) {\r\n        return new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    taskId.toString();\r\n                    //your task\r\n                }catch (Exception e){\r\n                    logger.log(Level.SEVERE,&quot;error executing task&quot;+taskId);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>Adding implementation to <a href=\"https://stackoverflow.com/questions/41312981/create-a-job-queue-or-task-controller-and-dynamically-add-task-to-it-in-java/41313303#41313303\">Stephen answer</a></p>\n<pre><code>public class MyController {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    Logger logger = Logger.getLogger(MyController.class.getName());\n\n    //POST\n    public void addTask(String taskId){\n        Runnable task = createTask(taskId);\n        executor.submit(task);\n    }\n\n    public void shutdown(){\n        executor.shutdown();\n    }\n\n    private Runnable createTask(String taskId) {\n        return new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    taskId.toString();\n                    //your task\n                }catch (Exception e){\n                    logger.log(Level.SEVERE,&quot;error executing task&quot;+taskId);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12809,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41313060,"answer_count":3,"score":2,"last_activity_date":1690609715,"creation_date":1482580156,"question_id":41312981,"body_markdown":"I want to create a job queue to execute multiple tasks. but, my requirement is I should be able to add tasks to that job queue at any time and all those tasks should be executed sequentially. I searched for some solutions on the internet and found these two links:\r\n\r\n1. [Java Thread Pool Executor Example][1] \r\n\r\n2. [Java Executor Framework Tutorial and Best Practices][1]\r\n\r\nBut I can&#39;t use both of these solutions. Because after starting the `ExecutorService` I can&#39;t add a new task to the service. Because we know that It may throw `InterruptedException` or `ConcurrentModificationException`.\r\n\r\n\r\n  [1]: http://howtodoinjava.com/best-practices/java-executor-framework-tutorial-and-best-practices/","title":"Create a Job Queue or Task Controller and dynamically add task to it in Java","body":"<p>I want to create a job queue to execute multiple tasks. but, my requirement is I should be able to add tasks to that job queue at any time and all those tasks should be executed sequentially. I searched for some solutions on the internet and found these two links:</p>\n<ol>\n<li><p><a href=\"http://howtodoinjava.com/best-practices/java-executor-framework-tutorial-and-best-practices/\" rel=\"nofollow noreferrer\">Java Thread Pool Executor Example</a></p>\n</li>\n<li><p><a href=\"http://howtodoinjava.com/best-practices/java-executor-framework-tutorial-and-best-practices/\" rel=\"nofollow noreferrer\">Java Executor Framework Tutorial and Best Practices</a></p>\n</li>\n</ol>\n<p>But I can't use both of these solutions. Because after starting the <code>ExecutorService</code> I can't add a new task to the service. Because we know that It may throw <code>InterruptedException</code> or <code>ConcurrentModificationException</code>.</p>\n"},{"tags":["java","database","cassandra"],"answers":[{"comments":[{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":1,"creation_date":1690576263,"post_id":76790650,"comment_id":135378130,"body_markdown":"The formula is memtable_cleanup_threshold = 1 / (memtable_flush_writers + 1), so we should decrease the memtable_flush_writers value, right? So that memtable_cleanup_threshold will increase","body":"The formula is memtable_cleanup_threshold = 1 / (memtable_flush_writers + 1), so we should decrease the memtable_flush_writers value, right? So that memtable_cleanup_threshold will increase"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1690576368,"post_id":76790650,"comment_id":135378145,"body_markdown":"Or it should be the other way round? I should increase the memtable_flush_writers, so that memtable_cleanup_threshold would decrease and we will see quicker/more frequent memo flush activity","body":"Or it should be the other way round? I should increase the memtable_flush_writers, so that memtable_cleanup_threshold would decrease and we will see quicker/more frequent memo flush activity"},{"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"score":0,"creation_date":1690609758,"post_id":76790650,"comment_id":135380426,"body_markdown":"I have attached more logs","body":"I have attached more logs"},{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1690806580,"post_id":76790650,"comment_id":135399856,"body_markdown":"@user101 Yes, I would start by _decreasing_ memtable_flush_writers down to 1.","body":"@user101 Yes, I would start by <i>decreasing</i> memtable_flush_writers down to 1."}],"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690573737,"creation_date":1690573737,"answer_id":76790650,"question_id":76790046,"body_markdown":"I&#39;ve seen this happen before.  This means that your cluster is taking more writes than it can keep up with.  Eventually what happens, is that the nodes get overwhelmed, stop accepting writes due to the backpressure, and eventually start rejecting them.  This causes the other nodes to accumulate hints.\r\n\r\n&gt; java.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690554222773.log /cassandra/commitlog/CommitLog-6-1690554222773.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690554222773.log’: File exists\r\n\r\nNow, I haven&#39;t seen that particular error.  Although it seems to suggest that a commitlog file can&#39;t be properly hard-linked.  TBH I think it&#39;s more of a symptom rather than a cause.\r\n\r\nHave a look at your metrics.  When this happens, CPU usage tends to go and stay high.  As for fixing this, there are a couple of options:\r\n\r\n - **Throttle-down the write load**. An easy way to do this, is to put an event streamer / message broker (like Pulsar or Kafka) in-between the writing application and the cluster. Then, build a consumer to grab the messages and write them into Cassandra.\r\n - **Add more nodes**.  Probably the most likely scenario, is that the current cluster doesn&#39;t have the resources necessary to process the current write load.  If you&#39;re deploying in a public or private cloud, this should be pretty easy to do.\r\n - **Adjusting `memtable_flush_writers`**.  It&#39;s possible that the default of 2 isn&#39;t right for your cluster&#39;s load.  Read through the comments in the `cassandra.yaml` file, but if I remember right, reducing the number of flush writers should increase flush activity.  From what I&#39;m reading though, I don&#39;t think adjusting this setting will be enough, but it&#39;s worth a try.\r\n\r\n**TL;DR;**\r\n\r\n - Decrease the amount of writes coming in.\r\n - Increase the cluster nodes.\r\n - Adjust `memtable_flush_writers` in the `cassandra.yaml` file (requires restart of all nodes).","title":"Commit logs and hints directory are getting filed up and not rotating","body":"<p>I've seen this happen before.  This means that your cluster is taking more writes than it can keep up with.  Eventually what happens, is that the nodes get overwhelmed, stop accepting writes due to the backpressure, and eventually start rejecting them.  This causes the other nodes to accumulate hints.</p>\n<blockquote>\n<p>java.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690554222773.log /cassandra/commitlog/CommitLog-6-1690554222773.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690554222773.log’: File exists</p>\n</blockquote>\n<p>Now, I haven't seen that particular error.  Although it seems to suggest that a commitlog file can't be properly hard-linked.  TBH I think it's more of a symptom rather than a cause.</p>\n<p>Have a look at your metrics.  When this happens, CPU usage tends to go and stay high.  As for fixing this, there are a couple of options:</p>\n<ul>\n<li><strong>Throttle-down the write load</strong>. An easy way to do this, is to put an event streamer / message broker (like Pulsar or Kafka) in-between the writing application and the cluster. Then, build a consumer to grab the messages and write them into Cassandra.</li>\n<li><strong>Add more nodes</strong>.  Probably the most likely scenario, is that the current cluster doesn't have the resources necessary to process the current write load.  If you're deploying in a public or private cloud, this should be pretty easy to do.</li>\n<li><strong>Adjusting <code>memtable_flush_writers</code></strong>.  It's possible that the default of 2 isn't right for your cluster's load.  Read through the comments in the <code>cassandra.yaml</code> file, but if I remember right, reducing the number of flush writers should increase flush activity.  From what I'm reading though, I don't think adjusting this setting will be enough, but it's worth a try.</li>\n</ul>\n<p><strong>TL;DR;</strong></p>\n<ul>\n<li>Decrease the amount of writes coming in.</li>\n<li>Increase the cluster nodes.</li>\n<li>Adjust <code>memtable_flush_writers</code> in the <code>cassandra.yaml</code> file (requires restart of all nodes).</li>\n</ul>\n"}],"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690609663,"creation_date":1690566743,"question_id":76790046,"body_markdown":"Our commitlogs in cassandra cluster are increasing and it&#39;s not getting rotated. Even the hints directory continues to grow and after some hours the node gets completely filled up. We have to manually flush and drain the nodes in order to keep the cluster up. \r\nWe are continuously seeing the following error in the Cassandra system.log \r\n\r\n```\r\nERROR [CommitLogArchiver:1] 2023-07-28 17:27:19,289 CassandraDaemon.java:244 - Exception in thread Thread[CommitLogArchiver:1,5,main]\r\n\r\njava.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-*****.log /cassandra/commitlog/CommitLog-6-*****.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-****.log’: File exists\r\n```\r\nUpdate 1: More logs\r\n\r\n```\r\n...\r\n\tat org.apache.cassandra.concurrent.NamedThreadFactory.lambda$threadLocalDeallocator$0(NamedThreadFactory.java:84) [apache-cassandra-3.11.10.jar:3.11.10]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\r\nCaused by: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690545624564.log /cassandra/commitlog/CommitLog-6-1690545624564.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690545624564.log’: File exists\r\n.\r\n.\r\n.\r\n\r\nWARN  [CompactionExecutor:80864] 2023-07-28 18:31:35,403 BigTableWriter.java:211 - Writing large partition *****:***_490267998772576797 (124.548MiB) to sstable /cassandra/data1/**/event_source-0b510d8003e811ecb8bb3d20c002593b/md-15942-big-Data.db\r\nINFO  [ReadStage-3] 2023-07-28 18:32:03,841 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\r\nWARN  [CompactionExecutor:80864] 2023-07-28 18:32:36,245 BigTableWriter.java:211 - Writing large partition ***/***:2023-07-28:61:com.Ticket (112.067MiB) to sstable /cassandra/data1/****/****-869ff7d3f4d711ed9031839535e0fa8e/md-1381-big-Data.db\r\n...\r\n\r\nINFO  [HintsDispatcher:8394] 2023-07-28 18:44:12,914 HintsDispatchExecutor.java:282 - Finished hinted handoff of file 7c57e613-f0c6-4f67-9da5-3cfaad15de29-1690397494422-1.hints to endpoint /100.125.114.117: 7c57e613-f0c6-4f67-9da5-3cfaad15de29\r\nINFO  [ReadStage-2] 2023-07-28 18:47:05,188 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\r\nWARN  [CompactionExecutor:80867] 2023-07-28 18:47:24,120 BigTableWriter.java:211 - Writing large partition ***/event_source:comTicket:***_998981534549995600 (166.860MiB) to sstable /cassandra/data1/****/***-0b510d8003e811ecb8bb3d20c002593b/md-15947-big-Data.db\r\n...\r\n```\r\nAny help?","title":"Commit logs and hints directory are getting filed up and not rotating","body":"<p>Our commitlogs in cassandra cluster are increasing and it's not getting rotated. Even the hints directory continues to grow and after some hours the node gets completely filled up. We have to manually flush and drain the nodes in order to keep the cluster up.\nWe are continuously seeing the following error in the Cassandra system.log</p>\n<pre><code>ERROR [CommitLogArchiver:1] 2023-07-28 17:27:19,289 CassandraDaemon.java:244 - Exception in thread Thread[CommitLogArchiver:1,5,main]\n\njava.lang.RuntimeException: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-*****.log /cassandra/commitlog/CommitLog-6-*****.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-****.log’: File exists\n</code></pre>\n<p>Update 1: More logs</p>\n<pre><code>...\n    at org.apache.cassandra.concurrent.NamedThreadFactory.lambda$threadLocalDeallocator$0(NamedThreadFactory.java:84) [apache-cassandra-3.11.10.jar:3.11.10]\n    at java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_342]\nCaused by: java.io.IOException: Exception while executing the command: ln /cassandra/commitlog/CommitLog-6-1690545624564.log /cassandra/commitlog/CommitLog-6-1690545624564.log, command error Code: 1, command output: ln: failed to create hard link ‘/cassandra/commitlog/CommitLog-6-1690545624564.log’: File exists\n.\n.\n.\n\nWARN  [CompactionExecutor:80864] 2023-07-28 18:31:35,403 BigTableWriter.java:211 - Writing large partition *****:***_490267998772576797 (124.548MiB) to sstable /cassandra/data1/**/event_source-0b510d8003e811ecb8bb3d20c002593b/md-15942-big-Data.db\nINFO  [ReadStage-3] 2023-07-28 18:32:03,841 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\nWARN  [CompactionExecutor:80864] 2023-07-28 18:32:36,245 BigTableWriter.java:211 - Writing large partition ***/***:2023-07-28:61:com.Ticket (112.067MiB) to sstable /cassandra/data1/****/****-869ff7d3f4d711ed9031839535e0fa8e/md-1381-big-Data.db\n...\n\nINFO  [HintsDispatcher:8394] 2023-07-28 18:44:12,914 HintsDispatchExecutor.java:282 - Finished hinted handoff of file 7c57e613-f0c6-4f67-9da5-3cfaad15de29-1690397494422-1.hints to endpoint /100.125.114.117: 7c57e613-f0c6-4f67-9da5-3cfaad15de29\nINFO  [ReadStage-2] 2023-07-28 18:47:05,188 NoSpamLogger.java:91 - Maximum memory usage reached (536870912), cannot allocate chunk of 1048576\nWARN  [CompactionExecutor:80867] 2023-07-28 18:47:24,120 BigTableWriter.java:211 - Writing large partition ***/event_source:comTicket:***_998981534549995600 (166.860MiB) to sstable /cassandra/data1/****/***-0b510d8003e811ecb8bb3d20c002593b/md-15947-big-Data.db\n...\n</code></pre>\n<p>Any help?</p>\n"},{"tags":["java","hibernate","validation","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":9840019,"reputation":3334,"user_id":7289257,"display_name":"Kevin Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690604330,"creation_date":1489852264,"answer_id":42876456,"question_id":38453118,"body_markdown":"There was a way to circumvent the `@NotNull` check via native queries if your schema was not generated by Hibernate or Hibernate was not as smart as it ultimately is. You could try to insert / update your database rows natively without triggering the application layer validation but Hibernate is so kind to also generate the `NOT NULL` database constraint for fields annotated with `@NotNull`, which in the end is a great thing.\r\n\r\nYou should wonder why you have the need to execute queries that do not conform to the implemented validation restrictions, for sure the developer who added the constraint thought well about its consequences. In general, the target should be to prevent inserting (avoidable) null values in your database.","title":"Conditionally disable hibernate validation while executing hibernate query","body":"<p>There was a way to circumvent the <code>@NotNull</code> check via native queries if your schema was not generated by Hibernate or Hibernate was not as smart as it ultimately is. You could try to insert / update your database rows natively without triggering the application layer validation but Hibernate is so kind to also generate the <code>NOT NULL</code> database constraint for fields annotated with <code>@NotNull</code>, which in the end is a great thing.</p>\n<p>You should wonder why you have the need to execute queries that do not conform to the implemented validation restrictions, for sure the developer who added the constraint thought well about its consequences. In general, the target should be to prevent inserting (avoidable) null values in your database.</p>\n"}],"owner":{"account_id":3639489,"reputation":385,"user_id":3034019,"accept_rate":44,"display_name":"balajiprasadb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1690604330,"creation_date":1468916670,"question_id":38453118,"body_markdown":"I have a model which has some NOT NULL hibernate validations applied. I need to execute few DAO queries (create /update) such that the validations are relaxed only while executing those queries. I don&#39;t want to completely turn off the validations as there are other queries in my DAO layer which need them. ","title":"Conditionally disable hibernate validation while executing hibernate query","body":"<p>I have a model which has some NOT NULL hibernate validations applied. I need to execute few DAO queries (create /update) such that the validations are relaxed only while executing those queries. I don't want to completely turn off the validations as there are other queries in my DAO layer which need them. </p>\n"},{"tags":["java","android","android-architecture-components","android-architecture-lifecycle"],"comments":[{"owner":{"account_id":972860,"reputation":1594,"user_id":995041,"accept_rate":67,"display_name":"Nick Shvelidze"},"score":1,"creation_date":1506589447,"post_id":46465056,"comment_id":79885122,"body_markdown":"You need to post more code. Show the Activity&#39;s `import`s and class definition.","body":"You need to post more code. Show the Activity&#39;s <code>import</code>s and class definition."},{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":0,"creation_date":1506590600,"post_id":46465056,"comment_id":79885922,"body_markdown":"I have added the code. Please have a look.","body":"I have added the code. Please have a look."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506590764,"post_id":46465056,"comment_id":79886050,"body_markdown":"I dont see any problem except that you import DisposableSubscriber in your ViewModel which is not needed.","body":"I dont see any problem except that you import DisposableSubscriber in your ViewModel which is not needed."},{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":0,"creation_date":1506590914,"post_id":46465056,"comment_id":79886154,"body_markdown":"I have not pasted the inner Subscriber class just because it is not related to this issue anyhow.","body":"I have not pasted the inner Subscriber class just because it is not related to this issue anyhow."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506593304,"post_id":46465056,"comment_id":79887790,"body_markdown":"Please try to set the arch version to 1.0.0-alpha9-1.","body":"Please try to set the arch version to 1.0.0-alpha9-1."},{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":0,"creation_date":1506596689,"post_id":46465056,"comment_id":79889909,"body_markdown":"I have set the version to 1.0.0-alpha9-1 and it worked and then again I replaced it with 1.0.0-beta1 and it is still working. No idea why it didn&#39;t work initially.","body":"I have set the version to 1.0.0-alpha9-1 and it worked and then again I replaced it with 1.0.0-beta1 and it is still working. No idea why it didn&#39;t work initially."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506608277,"post_id":46465056,"comment_id":79897955,"body_markdown":"It&#39;s the Cache of the Annotation processor... . :P If my answers helped, accept it to help others. Thanks.","body":"It&#39;s the Cache of the Annotation processor... . :P If my answers helped, accept it to help others. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":0,"creation_date":1506590652,"post_id":46465297,"comment_id":79885956,"body_markdown":"I have added activity and viewmodel class code. Kindly look into that.","body":"I have added activity and viewmodel class code. Kindly look into that."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506591204,"post_id":46465297,"comment_id":79886341,"body_markdown":"Updated. Make sure to override getLifecycle().","body":"Updated. Make sure to override getLifecycle()."},{"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"score":2,"creation_date":1506591372,"post_id":46465297,"comment_id":79886447,"body_markdown":"I have already tried that. \nLifecycleRegistry mLifecycleRegistry = new LifecycleRegistry(this); \nThe problem is same. It is saying that LifecycleRegistry(LifecycleOwner) can not be applied to packageName.BrowseActivity","body":"I have already tried that.  LifecycleRegistry mLifecycleRegistry = new LifecycleRegistry(this);  The problem is same. It is saying that LifecycleRegistry(LifecycleOwner) can not be applied to packageName.BrowseActivity"},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1506592429,"post_id":46465297,"comment_id":79887198,"body_markdown":"Ive updated my code and rebuilt a very quick example and it was working.  Please try to invalidate your cache, and double-check your gradle file(s)","body":"Ive updated my code and rebuilt a very quick example and it was working.  Please try to invalidate your cache, and double-check your gradle file(s)"}],"tags":[],"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1506593290,"creation_date":1506589852,"answer_id":46465297,"question_id":46465056,"body_markdown":"You don&#39;t need to implement this anymore.\r\n\r\nJust extend your activity by AppCompatActivity which extends LifecycleOwner. \r\n\r\n&gt; This interface was deprecated in API level 1.0.0. Use\r\n&gt; android.support.v7.app.AppCompatActivity which extends LifecycleOwner,\r\n&gt; so there are no use cases for this class.\r\n\r\nYou forgot to override\r\n\r\n\r\n    private final LifecycleRegistry lifecycleRegistry = new LifecycleRegistry(this);\r\n      \r\n    @Override\r\n    public LifecycleRegistry getLifecycle() {\r\n        return lifecycleRegistry;\r\n    }\r\n\r\nYou need at least Support-Lib [26.1][1]\r\n\r\n\r\nSame for fragments. Just extend your Fragment by `LifecycleFragment` which extends `android.support.v4.app.Fragment`\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/support-library/revisions.html#26-1-0\r\n\r\n\r\nEdit: Just rebuilt a quick sample project using Kotlin and it worked. \r\n\r\n    class MainActivity : AppCompatActivity(), HasSupportFragmentInjector, AnkoLogger {\r\n        private val lifecycleRegistry by lazy { android.arch.lifecycle.LifecycleRegistry(this) }\r\n        private val viewModel by lazy { ViewModelProviders.of(this, viewModelFactory).get(BridgesVm::class.java) }\r\n        override fun getLifecycle() = lifecycleRegistry\r\n\r\n        public override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            viewModel.data.observe(this, Observer&lt;Bridge?&gt; { info { &quot;Received&quot; } })\r\n       }\r\n    }\r\n\r\n    class BridgesVm @Inject constructor() : ViewModel() { \r\n            val data: LiveData&lt;Bridge&gt; = MutableLiveData&lt;Bridge&gt;()\r\n    }\r\n\r\n\r\nEdit:\r\n\r\nThere&#39;s a problem using arch version beta1. Consider using 1.0.0-alpha9-1 until this is fixed. In my case it wasnt working if i use beta1 but working with alpha 9-1","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>You don't need to implement this anymore.</p>\n\n<p>Just extend your activity by AppCompatActivity which extends LifecycleOwner. </p>\n\n<blockquote>\n  <p>This interface was deprecated in API level 1.0.0. Use\n  android.support.v7.app.AppCompatActivity which extends LifecycleOwner,\n  so there are no use cases for this class.</p>\n</blockquote>\n\n<p>You forgot to override</p>\n\n<pre><code>private final LifecycleRegistry lifecycleRegistry = new LifecycleRegistry(this);\n\n@Override\npublic LifecycleRegistry getLifecycle() {\n    return lifecycleRegistry;\n}\n</code></pre>\n\n<p>You need at least Support-Lib <a href=\"https://developer.android.com/topic/libraries/support-library/revisions.html#26-1-0\" rel=\"noreferrer\">26.1</a></p>\n\n<p>Same for fragments. Just extend your Fragment by <code>LifecycleFragment</code> which extends <code>android.support.v4.app.Fragment</code></p>\n\n<p>Edit: Just rebuilt a quick sample project using Kotlin and it worked. </p>\n\n<pre><code>class MainActivity : AppCompatActivity(), HasSupportFragmentInjector, AnkoLogger {\n    private val lifecycleRegistry by lazy { android.arch.lifecycle.LifecycleRegistry(this) }\n    private val viewModel by lazy { ViewModelProviders.of(this, viewModelFactory).get(BridgesVm::class.java) }\n    override fun getLifecycle() = lifecycleRegistry\n\n    public override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        viewModel.data.observe(this, Observer&lt;Bridge?&gt; { info { \"Received\" } })\n   }\n}\n\nclass BridgesVm @Inject constructor() : ViewModel() { \n        val data: LiveData&lt;Bridge&gt; = MutableLiveData&lt;Bridge&gt;()\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>There's a problem using arch version beta1. Consider using 1.0.0-alpha9-1 until this is fixed. In my case it wasnt working if i use beta1 but working with alpha 9-1</p>\n"},{"tags":[],"owner":{"account_id":6241623,"reputation":471,"user_id":4855062,"display_name":"Thales Pupo Araujo"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1555270886,"creation_date":1555270886,"answer_id":55679335,"question_id":46465056,"body_markdown":"Same problem here, so I had to update my androidx.appcompat dependency, like below:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0-alpha04&#39;","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>Same problem here, so I had to update my androidx.appcompat dependency, like below:</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.1.0-alpha04'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7638510,"reputation":109,"user_id":5791366,"display_name":"Sachidananda Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1581602263,"creation_date":1563277475,"answer_id":57056481,"question_id":46465056,"body_markdown":"use android jetpack, it&#39;ll solve your problem\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0-rc01&#39;","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>use android jetpack, it'll solve your problem</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.1.0-rc01'\n</code></pre>\n"}],"owner":{"account_id":5605220,"reputation":1427,"user_id":4440076,"display_name":"Amit Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20193,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1690604172,"creation_date":1506589111,"question_id":46465056,"body_markdown":"I am using Android Support Library `26.1.0`. These are the dependencies in the app module:  \r\n\r\n    implementation &quot;android.arch.lifecycle:runtime:1.0.0&quot;\r\n    implementation &quot;android.arch.lifecycle:extensions:1.0.0-beta1&quot;\r\n    implementation &quot;android.arch.persistence.room:rxjava2:1.0.0-beta1&quot;\r\n    implementation &quot;android.arch.lifecycle:common-java8:1.0.0-beta1&quot;\r\n    annotationProcessor &quot;android.arch.lifecycle:compiler:1.0.0-beta1&quot;\r\n\r\nBut when I am trying to use ViewModel like the below: \r\n\r\n    mUserViewModel.getUsers().observe(this,\r\n                (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\r\n                    if(listResource != null){\r\n                        this.handleDataState(listResource.status, listResource.data, listResource.message);\r\n                    }\r\n                });\r\nIt is showing error at `this` and the error message is `Wrong first argument type Found: packagename.BrowseActivity, required: android.arch.lifecycle.LifecycleOwner`. (Although support library version is 26.1+ which already implements LifecycleOwner)\r\n\r\nI have also tried to implement `LifecycleRegistryOwner` which I found in this [sample][1] and this is also not working. Kindly suggest a solution and let me know if I am doing anything wrong.\r\n\r\n**Edit 1** - \r\nThis is an Activity class:\r\n\r\n    import android.arch.lifecycle.Observer;\r\n    import android.arch.lifecycle.ViewModelProviders;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.View;\r\n    import android.widget.ProgressBar;\r\n\r\n    import com.github.amitkma.boilerplate.app.R;\r\n    import com.github.amitkma.boilerplate.app.mapper.UserMapper;\r\n    import com.github.amitkma.boilerplate.app.model.UserModel;\r\n    import com.github.amitkma.boilerplate.app.ui.widget.EmptyView;\r\n    import com.github.amitkma.boilerplate.app.ui.widget.ErrorView;\r\n    import com.github.amitkma.boilerplate.presentation.data.Resource;\r\n    import com.github.amitkma.boilerplate.presentation.data.ResourceState;\r\n    import com.github.amitkma.boilerplate.presentation.factory.ViewModelFactory;\r\n    import com.github.amitkma.boilerplate.presentation.viewmodel.UserViewModel;\r\n    import com.github.amitkma.boilerplate.presentation.vo.UserView;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import javax.inject.Inject;\r\n\r\n    import dagger.android.AndroidInjection;\r\n\r\n    public class BrowseActivity extends AppCompatActivity {\r\n\r\n        @Inject\r\n        UserAdapter mUserAdapter;\r\n        @Inject\r\n        UserMapper mUserMapper;\r\n        @Inject\r\n        ViewModelFactory mViewModelFactory;\r\n        private UserViewModel mUserViewModel;\r\n\r\n        private RecyclerView mRecyclerView;\r\n        private ProgressBar mProgressBar;\r\n        private ErrorView mErrorView;\r\n        private EmptyView mEmptyView;\r\n\r\n\r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n           super.onCreate(savedInstanceState);\r\n           AndroidInjection.inject(this);\r\n           setContentView(R.layout.activity_browse);\r\n           mUserViewModel = ViewModelProviders.of(this, mViewModelFactory)\r\n                .get(UserViewModel.class);\r\n\r\n           mRecyclerView = findViewById(R.id.recycler_browse);\r\n           mProgressBar = findViewById(R.id.progress);\r\n           mEmptyView = findViewById(R.id.view_empty);\r\n           mErrorView = findViewById(R.id.view_error);\r\n\r\n           setupBrowseRecycler();\r\n           setupViewListeners();\r\n       }\r\n\r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            mUserViewModel.getUsers().observe(this,\r\n                (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\r\n                    if(listResource != null){\r\n                        this.handleDataState(listResource.status, listResource.data, listResource.message);\r\n                    }\r\n                });\r\n        }\r\n        ....\r\n    }\r\n    \r\nThis is ViewModel Class:\r\n\r\n    import android.arch.lifecycle.LiveData;\r\n    import android.arch.lifecycle.MutableLiveData;\r\n    import android.arch.lifecycle.ViewModel;\r\n\r\n    import com.github.amitkma.boilerplate.domain.interactor.GetUserList;\r\n    import com.github.amitkma.boilerplate.domain.model.User;\r\n    import com.github.amitkma.boilerplate.presentation.data.Resource;\r\n    import com.github.amitkma.boilerplate.presentation.data.ResourceState;\r\n    import com.github.amitkma.boilerplate.presentation.mapper.UserMapper;\r\n    import com.github.amitkma.boilerplate.presentation.vo.UserView;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import javax.inject.Inject;\r\n\r\n    import io.reactivex.subscribers.DisposableSubscriber;\r\n\r\n    public class UserViewModel extends ViewModel {\r\n\r\n        private final GetUserList mGetUserList;\r\n        private final UserMapper mUserMapper;\r\n\r\n        @Inject\r\n        public UserViewModel(GetUserList getUserList,\r\n                UserMapper userMapper) {\r\n            mGetUserList = getUserList;\r\n            mUserMapper = userMapper;\r\n            fetchUsers();\r\n        }\r\n\r\n        public void fetchUsers(){\r\n            mUserMutableLiveData.postValue(new Resource(ResourceState.LOADING, null, null));\r\n            mGetUserList.execute(new UserSubscriber(), null);\r\n        }\r\n\r\n        public LiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; getUsers(){\r\n            return mUserMutableLiveData;\r\n        }\r\n\r\n        @Override\r\n        protected void onCleared() {\r\n            mGetUserList.dispose();\r\n            super.onCleared();\r\n        }\r\n\r\n        private final MutableLiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; mUserMutableLiveData =\r\n            new MutableLiveData&lt;&gt;();\r\n    }\r\n\r\n  [1]: https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/MainActivity.java","title":"AppCompatActivity not implementing LifecycleOwner","body":"<p>I am using Android Support Library <code>26.1.0</code>. These are the dependencies in the app module:</p>\n<pre><code>implementation &quot;android.arch.lifecycle:runtime:1.0.0&quot;\nimplementation &quot;android.arch.lifecycle:extensions:1.0.0-beta1&quot;\nimplementation &quot;android.arch.persistence.room:rxjava2:1.0.0-beta1&quot;\nimplementation &quot;android.arch.lifecycle:common-java8:1.0.0-beta1&quot;\nannotationProcessor &quot;android.arch.lifecycle:compiler:1.0.0-beta1&quot;\n</code></pre>\n<p>But when I am trying to use ViewModel like the below:</p>\n<pre><code>mUserViewModel.getUsers().observe(this,\n            (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\n                if(listResource != null){\n                    this.handleDataState(listResource.status, listResource.data, listResource.message);\n                }\n            });\n</code></pre>\n<p>It is showing error at <code>this</code> and the error message is <code>Wrong first argument type Found: packagename.BrowseActivity, required: android.arch.lifecycle.LifecycleOwner</code>. (Although support library version is 26.1+ which already implements LifecycleOwner)</p>\n<p>I have also tried to implement <code>LifecycleRegistryOwner</code> which I found in this <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/MainActivity.java\" rel=\"nofollow noreferrer\">sample</a> and this is also not working. Kindly suggest a solution and let me know if I am doing anything wrong.</p>\n<p><strong>Edit 1</strong> -\nThis is an Activity class:</p>\n<pre><code>import android.arch.lifecycle.Observer;\nimport android.arch.lifecycle.ViewModelProviders;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.View;\nimport android.widget.ProgressBar;\n\nimport com.github.amitkma.boilerplate.app.R;\nimport com.github.amitkma.boilerplate.app.mapper.UserMapper;\nimport com.github.amitkma.boilerplate.app.model.UserModel;\nimport com.github.amitkma.boilerplate.app.ui.widget.EmptyView;\nimport com.github.amitkma.boilerplate.app.ui.widget.ErrorView;\nimport com.github.amitkma.boilerplate.presentation.data.Resource;\nimport com.github.amitkma.boilerplate.presentation.data.ResourceState;\nimport com.github.amitkma.boilerplate.presentation.factory.ViewModelFactory;\nimport com.github.amitkma.boilerplate.presentation.viewmodel.UserViewModel;\nimport com.github.amitkma.boilerplate.presentation.vo.UserView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.inject.Inject;\n\nimport dagger.android.AndroidInjection;\n\npublic class BrowseActivity extends AppCompatActivity {\n\n    @Inject\n    UserAdapter mUserAdapter;\n    @Inject\n    UserMapper mUserMapper;\n    @Inject\n    ViewModelFactory mViewModelFactory;\n    private UserViewModel mUserViewModel;\n\n    private RecyclerView mRecyclerView;\n    private ProgressBar mProgressBar;\n    private ErrorView mErrorView;\n    private EmptyView mEmptyView;\n\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       AndroidInjection.inject(this);\n       setContentView(R.layout.activity_browse);\n       mUserViewModel = ViewModelProviders.of(this, mViewModelFactory)\n            .get(UserViewModel.class);\n\n       mRecyclerView = findViewById(R.id.recycler_browse);\n       mProgressBar = findViewById(R.id.progress);\n       mEmptyView = findViewById(R.id.view_empty);\n       mErrorView = findViewById(R.id.view_error);\n\n       setupBrowseRecycler();\n       setupViewListeners();\n   }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        mUserViewModel.getUsers().observe(this,\n            (Observer&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt;) listResource -&gt; {\n                if(listResource != null){\n                    this.handleDataState(listResource.status, listResource.data, listResource.message);\n                }\n            });\n    }\n    ....\n}\n</code></pre>\n<p>This is ViewModel Class:</p>\n<pre><code>import android.arch.lifecycle.LiveData;\nimport android.arch.lifecycle.MutableLiveData;\nimport android.arch.lifecycle.ViewModel;\n\nimport com.github.amitkma.boilerplate.domain.interactor.GetUserList;\nimport com.github.amitkma.boilerplate.domain.model.User;\nimport com.github.amitkma.boilerplate.presentation.data.Resource;\nimport com.github.amitkma.boilerplate.presentation.data.ResourceState;\nimport com.github.amitkma.boilerplate.presentation.mapper.UserMapper;\nimport com.github.amitkma.boilerplate.presentation.vo.UserView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.inject.Inject;\n\nimport io.reactivex.subscribers.DisposableSubscriber;\n\npublic class UserViewModel extends ViewModel {\n\n    private final GetUserList mGetUserList;\n    private final UserMapper mUserMapper;\n\n    @Inject\n    public UserViewModel(GetUserList getUserList,\n            UserMapper userMapper) {\n        mGetUserList = getUserList;\n        mUserMapper = userMapper;\n        fetchUsers();\n    }\n\n    public void fetchUsers(){\n        mUserMutableLiveData.postValue(new Resource(ResourceState.LOADING, null, null));\n        mGetUserList.execute(new UserSubscriber(), null);\n    }\n\n    public LiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; getUsers(){\n        return mUserMutableLiveData;\n    }\n\n    @Override\n    protected void onCleared() {\n        mGetUserList.dispose();\n        super.onCleared();\n    }\n\n    private final MutableLiveData&lt;Resource&lt;List&lt;UserView&gt;&gt;&gt; mUserMutableLiveData =\n        new MutableLiveData&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690544659,"creation_date":1690544659,"answer_id":76787502,"question_id":76787299,"body_markdown":"`MySQL55Dialect` was deprecated and removed from hibernate-core in Hibernate 6.2\r\n\r\nSee [Removal of support for legacy database versions](https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html#database-versions)\r\n\r\n&gt; This version introduces the concept of minimum supported database version for most of the database dialects that Hibernate supports. This implies that the legacy code for versions that are no longer supported by their vendors, has been removed from the hibernate-core module. It is, however, still available in the hibernate-community-dialects module, just under a different package, namely org.hibernate.community.dialect instead of org.hibernate.dialect. Note that this also includes version specific dialects like PostgreSQL81Dialect, MariaDB102Dialect etc.\r\n&gt;\r\n&gt; The minimum supported dialect versions are as follows:\r\n&gt;\r\n&gt; MySQL 5.7\r\n\r\nwhich leaves you with 2 options:\r\n- use `MySQLDialect` \r\n- import `hibernate-community-dialects` and use `MySQL55Dialect`","title":"Unable to resolve name [org.hibernate.dialect.MySQL55Dialect ] as strategy [org.hibernate.dialect.Dialect]","body":"<p><code>MySQL55Dialect</code> was deprecated and removed from hibernate-core in Hibernate 6.2</p>\n<p>See <a href=\"https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html#database-versions\" rel=\"nofollow noreferrer\">Removal of support for legacy database versions</a></p>\n<blockquote>\n<p>This version introduces the concept of minimum supported database version for most of the database dialects that Hibernate supports. This implies that the legacy code for versions that are no longer supported by their vendors, has been removed from the hibernate-core module. It is, however, still available in the hibernate-community-dialects module, just under a different package, namely org.hibernate.community.dialect instead of org.hibernate.dialect. Note that this also includes version specific dialects like PostgreSQL81Dialect, MariaDB102Dialect etc.</p>\n<p>The minimum supported dialect versions are as follows:</p>\n<p>MySQL 5.7</p>\n</blockquote>\n<p>which leaves you with 2 options:</p>\n<ul>\n<li>use <code>MySQLDialect</code></li>\n<li>import <code>hibernate-community-dialects</code> and use <code>MySQL55Dialect</code></li>\n</ul>\n"}],"owner":{"account_id":29110560,"reputation":1,"user_id":22300436,"display_name":"Darshna Tak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690604075,"creation_date":1690542952,"question_id":76787299,"body_markdown":"I am new in Spring Application with maven. Running my project to create the database objects based on my classes created, I got the following error: `\r\nUnable to resolve name [org.hibernate.dialect.MySQL5Dialect] \r\nas strategy [org.hibernate.dialect.Dialect]\r\n`\r\n\r\n![screenshot](https://i.stack.imgur.com/OetYN.png)\r\n\r\nI have added these dependencies:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n","title":"Unable to resolve name [org.hibernate.dialect.MySQL55Dialect ] as strategy [org.hibernate.dialect.Dialect]","body":"<p>I am new in Spring Application with maven. Running my project to create the database objects based on my classes created, I got the following error: <code>Unable to resolve name [org.hibernate.dialect.MySQL5Dialect]  as strategy [org.hibernate.dialect.Dialect]</code></p>\n<p><img src=\"https://i.stack.imgur.com/OetYN.png\" alt=\"screenshot\" /></p>\n<p>I have added these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690416722,"post_id":76775664,"comment_id":135352382,"body_markdown":"There are a few things I don&#39;t understand about your code: 1. You have a constructor `CRentaProperties()` which loads your properties file, but does nothing with them. 2. Your test calls `CRentaProperties.getCRentaUtilsProperties()`, but you haven&#39;t shown this code. How does this call relate to your question?","body":"There are a few things I don&#39;t understand about your code: 1. You have a constructor <code>CRentaProperties()</code> which loads your properties file, but does nothing with them. 2. Your test calls <code>CRentaProperties.getCRentaUtilsProperties()</code>, but you haven&#39;t shown this code. How does this call relate to your question?"},{"owner":{"account_id":19315543,"reputation":9,"user_id":14120401,"display_name":"Adiel Trigueros"},"score":0,"creation_date":1690417425,"post_id":76775664,"comment_id":135352449,"body_markdown":"CRentaProperties.getCRentaUtilsProperties() works very good, but I am not able to cover this part of my code: } catch (FileNotFoundException e) {\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\n            try {\n                input = new FileInputStream(&quot;config.properties&quot;);\n            } catch (FileNotFoundException e1) {\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\n            }, I have no idea how to do it, I am trying with Mockito but it doesn&#180;t work..","body":"CRentaProperties.getCRentaUtilsProperties() works very good, but I am not able to cover this part of my code: } catch (FileNotFoundException e) {             log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);             try {                 input = new FileInputStream(&quot;config.properties&quot;);             } catch (FileNotFoundException e1) {                 log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);             }, I have no idea how to do it, I am trying with Mockito but it doesn&#180;t work.."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690418047,"post_id":76775664,"comment_id":135352511,"body_markdown":"You understand that `CRentaProperties()` doesn&#39;t actually ever throw an `IOException`? So the behaviour you want to test for is the calls to `log.error(...)`?","body":"You understand that <code>CRentaProperties()</code> doesn&#39;t actually ever throw an <code>IOException</code>? So the behaviour you want to test for is the calls to <code>log.error(...)</code>?"},{"owner":{"account_id":19315543,"reputation":9,"user_id":14120401,"display_name":"Adiel Trigueros"},"score":0,"creation_date":1690418222,"post_id":76775664,"comment_id":135352532,"body_markdown":"Exactly, I have to test that, the log.error when the file doesn&#180;t exist on server or local...","body":"Exactly, I have to test that, the log.error when the file doesn&#180;t exist on server or local..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690418913,"post_id":76775664,"comment_id":135352612,"body_markdown":"The simplest way is to create a protected constructor which takes the Logger, the Properties object, and two Strings. Use this constructor in your tests and pass mocks for the Logger and the Properties instances, and valid or invalid paths for the strings. Your public constructor will just call the protected constructor with appropriate defaults.","body":"The simplest way is to create a protected constructor which takes the Logger, the Properties object, and two Strings. Use this constructor in your tests and pass mocks for the Logger and the Properties instances, and valid or invalid paths for the strings. Your public constructor will just call the protected constructor with appropriate defaults."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690601020,"creation_date":1690601020,"answer_id":76791939,"question_id":76775664,"body_markdown":"There are two ways to do this, a &#39;cheat&#39; and the &#39;right&#39; way.\r\n\r\nThe cheat is to have a protected constructor which takes the values to initialise the fields of your class. This will be accessible from your test, as by convention your test class should be in the same package as the class you are testing.\r\n\r\nSo your class becomes:\r\n```\r\npackage org.example;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Properties;\r\n\r\npublic class CRentaProperties {\r\n    public CRentaProperties() {\r\n        this(\r\n                LoggerFactory.getLogger(CRentaProperties.class),\r\n                new Properties(),\r\n                &quot;/home/m1/conf/config.properties&quot;,\r\n                &quot;config.properties&quot;\r\n        );\r\n    }\r\n\r\n    protected CRentaProperties(Logger log, Properties prop, String serverPath, String projectPath) {\r\n        InputStream input = null;\r\n        try {\r\n            input = new FileInputStream(serverPath);\r\n        } catch (FileNotFoundException e) {\r\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\r\n            try {\r\n                input = new FileInputStream(projectPath);\r\n            } catch (FileNotFoundException e1) {\r\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\r\n            }\r\n        }\r\n        try {\r\n            prop.load(input);\r\n        } catch (IOException e) {\r\n            log.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\r\n        } finally {\r\n            if (input != null) {\r\n                try {\r\n                    input.close();\r\n                } catch (IOException e) {\r\n                    log.error(&quot;Error al cerrar el archivo&quot;, e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd the test is:\r\n```\r\npackage org.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.slf4j.Logger;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Properties;\r\n\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.ArgumentMatchers.eq;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.verifyNoInteractions;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass CRentaPropertiesTest {\r\n    @Mock\r\n    Logger logger;\r\n    @Mock\r\n    Properties properties;\r\n\r\n    @Test\r\n    public void testMissingPropertiesFile() {\r\n        CRentaProperties cRentaProperties = new CRentaProperties(\r\n                logger, properties, &quot;/no/such/path&quot;, &quot;/another/no/such/path&quot;\r\n        );\r\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;), any(FileNotFoundException.class));\r\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;), any(FileNotFoundException.class));\r\n        verifyNoInteractions(properties);\r\n    }\r\n}\r\n```\r\n\r\nThe &#39;right&#39; way would be to have components injected into `CRentaProperties` which were factories for a `Logger`, a `Properties` instance and the `String`s which give the file locations, but if you aren&#39;t using a dependency injection framework I think the solution above is fine.\r\n","title":"How should I test this code with Junit or Mockito to simulate the non-existence of the properties file?","body":"<p>There are two ways to do this, a 'cheat' and the 'right' way.</p>\n<p>The cheat is to have a protected constructor which takes the values to initialise the fields of your class. This will be accessible from your test, as by convention your test class should be in the same package as the class you are testing.</p>\n<p>So your class becomes:</p>\n<pre><code>package org.example;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\npublic class CRentaProperties {\n    public CRentaProperties() {\n        this(\n                LoggerFactory.getLogger(CRentaProperties.class),\n                new Properties(),\n                &quot;/home/m1/conf/config.properties&quot;,\n                &quot;config.properties&quot;\n        );\n    }\n\n    protected CRentaProperties(Logger log, Properties prop, String serverPath, String projectPath) {\n        InputStream input = null;\n        try {\n            input = new FileInputStream(serverPath);\n        } catch (FileNotFoundException e) {\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\n            try {\n                input = new FileInputStream(projectPath);\n            } catch (FileNotFoundException e1) {\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\n            }\n        }\n        try {\n            prop.load(input);\n        } catch (IOException e) {\n            log.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\n        } finally {\n            if (input != null) {\n                try {\n                    input.close();\n                } catch (IOException e) {\n                    log.error(&quot;Error al cerrar el archivo&quot;, e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>And the test is:</p>\n<pre><code>package org.example;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.slf4j.Logger;\n\nimport java.io.FileNotFoundException;\nimport java.util.Properties;\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.eq;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.verifyNoInteractions;\n\n@ExtendWith(MockitoExtension.class)\nclass CRentaPropertiesTest {\n    @Mock\n    Logger logger;\n    @Mock\n    Properties properties;\n\n    @Test\n    public void testMissingPropertiesFile() {\n        CRentaProperties cRentaProperties = new CRentaProperties(\n                logger, properties, &quot;/no/such/path&quot;, &quot;/another/no/such/path&quot;\n        );\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;), any(FileNotFoundException.class));\n        verify(logger).error(eq(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;), any(FileNotFoundException.class));\n        verifyNoInteractions(properties);\n    }\n}\n</code></pre>\n<p>The 'right' way would be to have components injected into <code>CRentaProperties</code> which were factories for a <code>Logger</code>, a <code>Properties</code> instance and the <code>String</code>s which give the file locations, but if you aren't using a dependency injection framework I think the solution above is fine.</p>\n"}],"owner":{"account_id":19315543,"reputation":9,"user_id":14120401,"display_name":"Adiel Trigueros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690601020,"creation_date":1690414624,"question_id":76775664,"body_markdown":"I&#39;m trying to do a test to simulate the non-existence of the properties file of my class, but I can&#39;t simulate the catch part, any ideas?:\r\n\r\n```\r\npublic CRentaProperties() throws IOException {\r\n\t\tProperties prop = new Properties();\r\n\t\tInputStream input = null;\r\n\t\ttry {\r\n\t\t\tinput = new FileInputStream(&quot;/home/m1/conf/config.properties&quot;);  \r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tlog.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\r\n\t\t\ttry {\r\n\t\t\t\tinput = new FileInputStream(&quot;config.properties&quot;);\r\n\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\tlog.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\r\n\t\t\t}\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tprop.load(input);\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\r\n\t\t}finally {\r\n\t        if (input != null) {\r\n\t            try {\r\n\t                input.close();\r\n\t            } catch (IOException e) {\r\n\t                log.error(&quot;Error al cerrar el archivo&quot;, e);\r\n\t            }\r\n\t        }\r\n\t    }\r\n```\r\n\r\n\r\nI manage to access the file and its properties using the following test:\r\n```\r\nclass CRentaPropertiesTest {\r\n\r\n\t@Test\r\n    void testUtilPropertiesTest() {\r\n        CRentaProperties properties = null;\r\n\t\ttry {\r\n\t\t\tproperties = new CRentaProperties();\r\n\t\t} catch (IOException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n        try {\r\n\t\t\tCRentaProperties.getCRentaUtilsProperties();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n        \r\n        assertEquals(&quot;Queue&quot; , properties.getqQueue());\r\n        assertEquals(&quot;MANAGER&quot; , properties.getqManager());\r\n        assertEquals(&quot;14&quot; , properties.getqPort());\r\n        assertEquals(&quot;CHANNEL&quot; , properties.getqChannel());\r\n        assertNotNull( properties.getqManager());\r\n       \r\n    }\r\n\r\n```\r\n ","title":"How should I test this code with Junit or Mockito to simulate the non-existence of the properties file?","body":"<p>I'm trying to do a test to simulate the non-existence of the properties file of my class, but I can't simulate the catch part, any ideas?:</p>\n<pre><code>public CRentaProperties() throws IOException {\n        Properties prop = new Properties();\n        InputStream input = null;\n        try {\n            input = new FileInputStream(&quot;/home/m1/conf/config.properties&quot;);  \n        } catch (FileNotFoundException e) {\n            log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN SERVIDOR&quot;, e);\n            try {\n                input = new FileInputStream(&quot;config.properties&quot;);\n            } catch (FileNotFoundException e1) {\n                log.error(&quot;ARCHIVO DE PROPIEDADES NO ENCONTRADO EN PROYECTO&quot;, e1);\n            }\n        }\n        try {\n            prop.load(input);\n        } catch (IOException e) {\n            log.error(&quot;[ERROR DE PROPERTIES]&quot;, e);\n        }finally {\n            if (input != null) {\n                try {\n                    input.close();\n                } catch (IOException e) {\n                    log.error(&quot;Error al cerrar el archivo&quot;, e);\n                }\n            }\n        }\n</code></pre>\n<p>I manage to access the file and its properties using the following test:</p>\n<pre><code>class CRentaPropertiesTest {\n\n    @Test\n    void testUtilPropertiesTest() {\n        CRentaProperties properties = null;\n        try {\n            properties = new CRentaProperties();\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n        try {\n            CRentaProperties.getCRentaUtilsProperties();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        assertEquals(&quot;Queue&quot; , properties.getqQueue());\n        assertEquals(&quot;MANAGER&quot; , properties.getqManager());\n        assertEquals(&quot;14&quot; , properties.getqPort());\n        assertEquals(&quot;CHANNEL&quot; , properties.getqChannel());\n        assertNotNull( properties.getqManager());\n       \n    }\n\n</code></pre>\n"},{"tags":["java","eclipse","editor","folding"],"answers":[{"tags":[],"owner":{"account_id":26644891,"reputation":1,"user_id":20259950,"display_name":"Zavier Chambers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690599582,"creation_date":1690599582,"answer_id":76791888,"question_id":76789712,"body_markdown":"I have found that within Eclipse itself this hasn&#39;t been addressed. Folding code with a free IDE often comes with its downsides and I believe this is one of those cases where you would have to switch over to a paid software to get that much flexibility. I tried to do this myself before coming to college and ended up learning that this IDE simply doesn&#39;t have the option to fold things you desire to fold. It has to be a block of code that is a loop, conditional, class, method, etc.","title":"How can I fold/collapse regional Java code in Eclipse?","body":"<p>I have found that within Eclipse itself this hasn't been addressed. Folding code with a free IDE often comes with its downsides and I believe this is one of those cases where you would have to switch over to a paid software to get that much flexibility. I tried to do this myself before coming to college and ended up learning that this IDE simply doesn't have the option to fold things you desire to fold. It has to be a block of code that is a loop, conditional, class, method, etc.</p>\n"}],"owner":{"account_id":20914472,"reputation":1,"user_id":15364509,"display_name":"laurabaltazar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690599582,"creation_date":1690563224,"question_id":76789712,"body_markdown":"Java editor folding preferences only have the following:\r\nComments,\r\nHeader Comments,\r\nInner Types,\r\nMembers, \r\nImports\r\n\r\nHowever, I want to fold some arbitrary part of my code.\r\n\r\nI tried enable folding of control flow statements (if/else) but seems it only applies to C/C++ editor and not Java.","title":"How can I fold/collapse regional Java code in Eclipse?","body":"<p>Java editor folding preferences only have the following:\nComments,\nHeader Comments,\nInner Types,\nMembers,\nImports</p>\n<p>However, I want to fold some arbitrary part of my code.</p>\n<p>I tried enable folding of control flow statements (if/else) but seems it only applies to C/C++ editor and not Java.</p>\n"},{"tags":["java","multithreading","cucumber","testng"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690535916,"post_id":76786384,"comment_id":135370655,"body_markdown":"Perhaps you are running into limitations of the hardware itself? Then your will need to really split up the tests, not just into threads but into different tasks. Then run each task on a different test runner machine.","body":"Perhaps you are running into limitations of the hardware itself? Then your will need to really split up the tests, not just into threads but into different tasks. Then run each task on a different test runner machine."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690708051,"post_id":76786384,"comment_id":135388715,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8171904,"reputation":1,"user_id":6152049,"display_name":"Enishetty Varun"},"score":0,"creation_date":1690782933,"post_id":76786384,"comment_id":135395572,"body_markdown":"@Jorn Can you please help me with an article to follow for executing different tasks on different test runner machines. Currently, I have test runners for each feature file and is executed concurrently as provisioned in TestNG to provide parallel=&quot;classes&quot; attribute and along with that the scenarios within the feature files are also executed synchronously using dataprovider option in runner class. If I can delegate these tests to different machines that would help to bring multiple threads to run at any point. I am also figuring out forking through maven to bring jvm&#39;s for each runner class.","body":"@Jorn Can you please help me with an article to follow for executing different tasks on different test runner machines. Currently, I have test runners for each feature file and is executed concurrently as provisioned in TestNG to provide parallel=&quot;classes&quot; attribute and along with that the scenarios within the feature files are also executed synchronously using dataprovider option in runner class. If I can delegate these tests to different machines that would help to bring multiple threads to run at any point. I am also figuring out forking through maven to bring jvm&#39;s for each runner class."}],"owner":{"account_id":8171904,"reputation":1,"user_id":6152049,"display_name":"Enishetty Varun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690596373,"creation_date":1690535631,"question_id":76786384,"body_markdown":"I have setup automation framework with Cucumber and TestNg for my backend tests having multiple scenarios with each scenarios set with around 600 examples which is leading to around 25k+ tests.\r\nAs the number of tests are huge, I would like to run the tests concurrently and reduce execution time.\r\n\r\nIn order to achieve this, I used data provider thread count for scenarios to execute concurrently and let&#39;s assume 20.\r\nI observed that from the number of threads which got created, only few will be running at any point of time and others will be in waiting state as this is based on thread scheduler in java.\r\nEven with this approach still the execution time is too long which again requires optimisation.\r\nAny suggestions?","title":"Performance optimisation of Cucumber TestNG tests","body":"<p>I have setup automation framework with Cucumber and TestNg for my backend tests having multiple scenarios with each scenarios set with around 600 examples which is leading to around 25k+ tests.\nAs the number of tests are huge, I would like to run the tests concurrently and reduce execution time.</p>\n<p>In order to achieve this, I used data provider thread count for scenarios to execute concurrently and let's assume 20.\nI observed that from the number of threads which got created, only few will be running at any point of time and others will be in waiting state as this is based on thread scheduler in java.\nEven with this approach still the execution time is too long which again requires optimisation.\nAny suggestions?</p>\n"},{"tags":["java","cassandra","cassandra-3.0","cpu-load"],"answers":[{"tags":[],"owner":{"account_id":287036,"reputation":6037,"user_id":586609,"display_name":"Stanislav Berkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690596149,"creation_date":1690591447,"answer_id":76791668,"question_id":54156509,"body_markdown":"I also experienced all of a sudden high CPU usage by cassandra even having no reads/writes. Further investigation shew it was caused by misconfiguration of Prometheus metric collector. I described my story how I found it out here: https://dev.to/stasberkov/cassandra-high-cpu-load-can-be-caused-by-prometheus-misconfiguration-oc0\r\n\r\nTLDR: I used jvm-tools.","title":"Cassandra high cpu load issues (3.11.1)","body":"<p>I also experienced all of a sudden high CPU usage by cassandra even having no reads/writes. Further investigation shew it was caused by misconfiguration of Prometheus metric collector. I described my story how I found it out here: <a href=\"https://dev.to/stasberkov/cassandra-high-cpu-load-can-be-caused-by-prometheus-misconfiguration-oc0\" rel=\"nofollow noreferrer\">https://dev.to/stasberkov/cassandra-high-cpu-load-can-be-caused-by-prometheus-misconfiguration-oc0</a></p>\n<p>TLDR: I used jvm-tools.</p>\n"}],"owner":{"account_id":5996768,"reputation":397,"user_id":4711199,"accept_rate":40,"display_name":"sandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690596149,"creation_date":1547263157,"question_id":54156509,"body_markdown":"Need some help to solve my high cpu utilisation issues with cassandra. \r\n\r\nWe have a 12 node Cassandra cluster with below spec.\r\n\r\n * 8 cores \r\n * 16GB HEAP/32GB RAM with G1GC\r\n \r\nAll of a sudden I have started seeing some high cpu load (which is around 18-24 on 8 core nodes)\r\n\r\ncassandra stack trace was showing lot of runnable threads like below.\r\n\r\n    sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n     MessagingService-Incoming-/10.xx.xx.xx\r\n     MessagingService-Incoming-/10.xx.xx.xx\r\n    at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n    at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\r\n    at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\r\n    at sun.nio.ch.IOUtil.read(IOUtil.java:192)\r\n    at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)\r\n    at org.apache.cassandra.io.util.NIODataInputStream.reBuffer(NIODataInputStream.java:66)\r\n    at org.apache.cassandra.io.util.RebufferingInputStream.readByte(RebufferingInputStream.java:144)\r\n    at org.apache.cassandra.io.util.RebufferingInputStream.readPrimitiveSlowly(RebufferingInputStream.java:108)\r\n    at org.apache.cassandra.io.util.RebufferingInputStream.readInt(RebufferingInputStream.java:188)\r\n    at org.apache.cassandra.net.IncomingTcpConnection.receiveMessages(IncomingTcpConnection.java:179)\r\n    at org.apache.cassandra.net.IncomingTcpConnection.run(IncomingTcpConnection.java:94)\r\n\r\nand \r\n\r\n    &quot;epollEventLoopGroup-2-9&quot;: running\r\n    at io.netty.channel.epoll.Native.epollWait0(Native Method)\r\n    at io.netty.channel.epoll.Native.epollWait(Native.java:117)\r\n    at io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:226)\r\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:250)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)\r\n    at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nFirst thread mentioned above has 35 occurrences and 24 occurrences for 2nd thread.\r\n\r\n\r\nCan any one figure out what is wrong here ??\r\n\r\nFrom the cluster side, \r\n\r\n * Don&#39;t have any pending compactions/tasks.\r\n * &amp; GC pauses are below 100ms\r\n\r\n\r\nThanks","title":"Cassandra high cpu load issues (3.11.1)","body":"<p>Need some help to solve my high cpu utilisation issues with cassandra. </p>\n\n<p>We have a 12 node Cassandra cluster with below spec.</p>\n\n<ul>\n<li>8 cores </li>\n<li>16GB HEAP/32GB RAM with G1GC</li>\n</ul>\n\n<p>All of a sudden I have started seeing some high cpu load (which is around 18-24 on 8 core nodes)</p>\n\n<p>cassandra stack trace was showing lot of runnable threads like below.</p>\n\n<pre><code>sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n MessagingService-Incoming-/10.xx.xx.xx\n MessagingService-Incoming-/10.xx.xx.xx\nat sun.nio.ch.FileDispatcherImpl.read0(Native Method)\nat sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\nat sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\nat sun.nio.ch.IOUtil.read(IOUtil.java:192)\nat sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)\nat org.apache.cassandra.io.util.NIODataInputStream.reBuffer(NIODataInputStream.java:66)\nat org.apache.cassandra.io.util.RebufferingInputStream.readByte(RebufferingInputStream.java:144)\nat org.apache.cassandra.io.util.RebufferingInputStream.readPrimitiveSlowly(RebufferingInputStream.java:108)\nat org.apache.cassandra.io.util.RebufferingInputStream.readInt(RebufferingInputStream.java:188)\nat org.apache.cassandra.net.IncomingTcpConnection.receiveMessages(IncomingTcpConnection.java:179)\nat org.apache.cassandra.net.IncomingTcpConnection.run(IncomingTcpConnection.java:94)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>\"epollEventLoopGroup-2-9\": running\nat io.netty.channel.epoll.Native.epollWait0(Native Method)\nat io.netty.channel.epoll.Native.epollWait(Native.java:117)\nat io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:226)\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:250)\nat io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)\nat io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>First thread mentioned above has 35 occurrences and 24 occurrences for 2nd thread.</p>\n\n<p>Can any one figure out what is wrong here ??</p>\n\n<p>From the cluster side, </p>\n\n<ul>\n<li>Don't have any pending compactions/tasks.</li>\n<li>&amp; GC pauses are below 100ms</li>\n</ul>\n\n<p>Thanks</p>\n"},{"tags":["java","string","validation","gwt"],"comments":[{"owner":{"account_id":55932,"reputation":13475,"user_id":167586,"accept_rate":90,"display_name":"Matt S."},"score":1,"creation_date":1260931082,"post_id":1911902,"comment_id":1816919,"body_markdown":"There are english characters?!?!  I thought the characters in the English language are from the Latin Alphabet.","body":"There are english characters?!?!  I thought the characters in the English language are from the Latin Alphabet."},{"owner":{"account_id":81115,"reputation":33441,"user_id":228936,"display_name":"Tor Valamo"},"score":0,"creation_date":1260931241,"post_id":1911902,"comment_id":1816926,"body_markdown":"well if he means ascii characters then I would call that english characters.. or american.","body":"well if he means ascii characters then I would call that english characters.. or american."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690594923,"post_id":1911902,"comment_id":135379719,"body_markdown":"Don&#39;t allow &quot;ABCDEF&quot; etc. -- they&#39;re definitely French letters.","body":"Don&#39;t allow &quot;ABCDEF&quot; etc. -- they&#39;re definitely French letters."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690594992,"post_id":1911902,"comment_id":135379724,"body_markdown":"The real question is, why do you want to deliberately weaken password security?","body":"The real question is, why do you want to deliberately weaken password security?"},{"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"score":0,"creation_date":1691303939,"post_id":1911902,"comment_id":135471807,"body_markdown":"@ArfurNarf well, this is a 13 years old question ;)","body":"@ArfurNarf well, this is a 13 years old question ;)"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1691323349,"post_id":1911902,"comment_id":135473425,"body_markdown":"Yeah, sometimes I don&#39;t notice that it&#39;s an old question that soe random recent edit has thrown into view.","body":"Yeah, sometimes I don&#39;t notice that it&#39;s an old question that soe random recent edit has thrown into view."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1262869689,"post_id":1911917,"comment_id":1942258,"body_markdown":"`\\p{L}` is documented: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#ubc","body":"<code>\\p{L}</code> is documented: <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#ubc\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#&zwnj;&#8203;ubc</a>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1262870421,"post_id":1911917,"comment_id":1942341,"body_markdown":"Drat, you&#39;re right. I would swear that I&#39;ve never seen it before in the API docs for years. Are you the maintainer of the Sun API docs?","body":"Drat, you&#39;re right. I would swear that I&#39;ve never seen it before in the API docs for years. Are you the maintainer of the Sun API docs?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1262883590,"post_id":1911917,"comment_id":1944134,"body_markdown":"No, but I&#39;ve read through that particular JavaDoc page more often than I&#39;d like to admit ;-)","body":"No, but I&#39;ve read through that particular JavaDoc page more often than I&#39;d like to admit ;-)"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1504843289,"post_id":1911917,"comment_id":79179583,"body_markdown":"The Unicode Letter category `\\p{L}` covers a LOT of non-Latin letters as well, though.","body":"The Unicode Letter category <code>\\p{L}</code> covers a LOT of non-Latin letters as well, though."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1504843742,"post_id":1911917,"comment_id":79179692,"body_markdown":"I think you want `\\p{script=Latin}`","body":"I think you want <code>\\p{script=Latin}</code>"},{"owner":{"account_id":59197,"reputation":1486,"user_id":177176,"accept_rate":75,"display_name":"Alex White"},"score":0,"creation_date":1600077921,"post_id":1911917,"comment_id":112964234,"body_markdown":"w doesn&#39;t work for apostrophes which can be common in Irish surnames (for instance)","body":"w doesn&#39;t work for apostrophes which can be common in Irish surnames (for instance)"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":6,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1262869341,"creation_date":1260931315,"answer_id":1911917,"question_id":1911902,"body_markdown":"You can use [`String#matches()`][1] with a bit [regex][2] for this. Latin characters are covered by `\\w`.\r\n\r\nSo this should do:\r\n\r\n    boolean valid = input.matches(&quot;\\\\w+&quot;);\r\n\r\nThis by the way also covers numbers and the underscore `_`. Not sure if that harms. Else you can just use `[A-Za-z]+` instead.\r\n\r\nIf you want to cover [diacritical characters][3] as well (&#228;, &#233;, &#242;, and so on, those are per definition also Latin characters), then you need to normalize them first and get rid of the diacritical marks before matching, simply because there&#39;s no *(documented)* regex which covers diacriticals.\r\n\r\n    String clean = Normalizer.normalize(input, Form.NFD).replaceAll(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;, &quot;&quot;);\r\n    boolean valid = clean.matches(&quot;\\\\w+&quot;);\r\n\r\n**Update**: there&#39;s an undocumented regex in Java which covers diacriticals as well, the `\\p{L}`.\r\n\r\n    boolean valid = input.matches(&quot;\\\\p{L}+&quot;);\r\n\r\nAbove works at Java 1.6.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#matches%28java.lang.String%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\r\n  [3]: http://en.wikipedia.org/wiki/Diacritic","title":"Check String whether it contains only Latin characters?","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#matches%28java.lang.String%29\" rel=\"noreferrer\"><code>String#matches()</code></a> with a bit <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">regex</a> for this. Latin characters are covered by <code>\\w</code>.</p>\n\n<p>So this should do:</p>\n\n<pre><code>boolean valid = input.matches(\"\\\\w+\");\n</code></pre>\n\n<p>This by the way also covers numbers and the underscore <code>_</code>. Not sure if that harms. Else you can just use <code>[A-Za-z]+</code> instead.</p>\n\n<p>If you want to cover <a href=\"http://en.wikipedia.org/wiki/Diacritic\" rel=\"noreferrer\">diacritical characters</a> as well (ä, é, ò, and so on, those are per definition also Latin characters), then you need to normalize them first and get rid of the diacritical marks before matching, simply because there's no <em>(documented)</em> regex which covers diacriticals.</p>\n\n<pre><code>String clean = Normalizer.normalize(input, Form.NFD).replaceAll(\"\\\\p{InCombiningDiacriticalMarks}+\", \"\");\nboolean valid = clean.matches(\"\\\\w+\");\n</code></pre>\n\n<p><strong>Update</strong>: there's an undocumented regex in Java which covers diacriticals as well, the <code>\\p{L}</code>.</p>\n\n<pre><code>boolean valid = input.matches(\"\\\\p{L}+\");\n</code></pre>\n\n<p>Above works at Java 1.6.</p>\n"},{"tags":[],"owner":{"display_name":"user164226"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1260931348,"creation_date":1260931348,"answer_id":1911921,"question_id":1911902,"body_markdown":"There might be a better approach, but you could load a collection with whatever you deem to be acceptable characters, and then check each character in the username/password field against that collection.\r\n\r\nPseudo:\r\n&lt;pre&gt;&lt;code&gt;\r\nforeach (character in username)\r\n{\r\n    if !allowedCharacters.contains(character)\r\n    {\r\n        throw exception\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Check String whether it contains only Latin characters?","body":"<p>There might be a better approach, but you could load a collection with whatever you deem to be acceptable characters, and then check each character in the username/password field against that collection.</p>\n\n<p>Pseudo:</p>\n\n<pre><code>\nforeach (character in username)\n{\n    if !allowedCharacters.contains(character)\n    {\n        throw exception\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260931374,"creation_date":1260931374,"answer_id":1911923,"question_id":1911902,"body_markdown":"For something this simple, I&#39;d use a regular expression.\r\n\r\n     \r\n    private static final Pattern p = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\r\n\r\n    static boolean isValid(String input) {\r\n      Matcher m = p.matcher(input);\r\n      return m.matches();\r\n    }\r\n\r\nThere are other pre-defined classes like `\\w` that might work better.","title":"Check String whether it contains only Latin characters?","body":"<p>For something this simple, I'd use a regular expression.</p>\n\n<pre><code>private static final Pattern p = Pattern.compile(\"\\\\p{Alpha}+\");\n\nstatic boolean isValid(String input) {\n  Matcher m = p.matcher(input);\n  return m.matches();\n}\n</code></pre>\n\n<p>There are other pre-defined classes like <code>\\w</code> that might work better.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1262869759,"post_id":1912175,"comment_id":1942266,"body_markdown":"I wouldn&#39;t use this as this allows the input to contain whitespace and control characters (including U+0000), which almost certainly are not welcome in a username.","body":"I wouldn&#39;t use this as this allows the input to contain whitespace and control characters (including U+0000), which almost certainly are not welcome in a username."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1690592507,"post_id":1912175,"comment_id":135379572,"body_markdown":"Use predefined `StandardCharsets.US_ASCII`","body":"Use predefined <code>StandardCharsets.US_ASCII</code>"}],"tags":[],"owner":{"display_name":"user232624"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1690592536,"creation_date":1260935974,"answer_id":1912175,"question_id":1911902,"body_markdown":"    public static boolean isValidISOLatin1 (String s) {\r\n        return StandardCharsets.US_ASCII.newEncoder().canEncode(s);\r\n    } // or &quot;ISO-8859-1&quot; for ISO Latin 1\r\n\r\n\r\nFor reference, see the [documentation on Charset](http://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html).\r\n\r\n\r\n\r\n","title":"Check String whether it contains only Latin characters?","body":"<pre><code>public static boolean isValidISOLatin1 (String s) {\n    return StandardCharsets.US_ASCII.newEncoder().canEncode(s);\n} // or &quot;ISO-8859-1&quot; for ISO Latin 1\n</code></pre>\n<p>For reference, see the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">documentation on Charset</a>.</p>\n"},{"tags":[],"owner":{"account_id":2236070,"reputation":169,"user_id":1972422,"display_name":"fir99"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432122064,"creation_date":1432122064,"answer_id":30348633,"question_id":1911902,"body_markdown":"I successfully used a combination of the answers of user232624, [Joachim Sauer][1] and [Tvaroh][2]:\r\n\r\n    static CharsetEncoder asciiEncoder = Charset.forName(&quot;US-ASCII&quot;); // or &quot;ISO-8859-1&quot; for ISO Latin 1\r\n    \r\n    boolean isValid(String input) {    \r\n        return Character.isLetter(ch) &amp;&amp; asciiEncoder.canEncode(username);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/40342/joachim-sauer\r\n  [2]: https://stackoverflow.com/users/312708/tvaroh","title":"Check String whether it contains only Latin characters?","body":"<p>I successfully used a combination of the answers of user232624, <a href=\"https://stackoverflow.com/users/40342/joachim-sauer\">Joachim Sauer</a> and <a href=\"https://stackoverflow.com/users/312708/tvaroh\">Tvaroh</a>:</p>\n\n<pre><code>static CharsetEncoder asciiEncoder = Charset.forName(\"US-ASCII\"); // or \"ISO-8859-1\" for ISO Latin 1\n\nboolean isValid(String input) {    \n    return Character.isLetter(ch) &amp;&amp; asciiEncoder.canEncode(username);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496062711,"creation_date":1496062711,"answer_id":44243113,"question_id":1911902,"body_markdown":"There is my solution and it is working excellent\r\n\r\n    public static boolean isStringContainsLatinCharactersOnly(final String iStringToCheck)\r\n\t{\r\n\t\treturn iStringToCheck.matches(&quot;^[a-zA-Z0-9.]+$&quot;);\r\n\t}","title":"Check String whether it contains only Latin characters?","body":"<p>There is my solution and it is working excellent</p>\n\n<pre><code>public static boolean isStringContainsLatinCharactersOnly(final String iStringToCheck)\n{\n    return iStringToCheck.matches(\"^[a-zA-Z0-9.]+$\");\n}\n</code></pre>\n"}],"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43739,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":1911917,"answer_count":6,"score":17,"last_activity_date":1690592536,"creation_date":1260930744,"question_id":1911902,"body_markdown":"Greetings,\r\n\r\nI am developing GWT application where user can enter his details in Japanese.\r\nBut the &#39;userid&#39; and &#39;password&#39; should only contain English characters(Latin Alphabet).\r\nHow to validate Strings for this?\r\n","title":"Check String whether it contains only Latin characters?","body":"<p>Greetings,</p>\n\n<p>I am developing GWT application where user can enter his details in Japanese.\nBut the 'userid' and 'password' should only contain English characters(Latin Alphabet).\nHow to validate Strings for this?</p>\n"},{"tags":["java","jpa","scale","precision","bigdecimal"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":2,"creation_date":1455637783,"post_id":35435691,"comment_id":58571949,"body_markdown":"The question has got absolutely nothing to with `java.math.BigDecimal`. `@javax.persistence.Column` is not part of Java SE. It is the subject of JPA.","body":"The question has got absolutely nothing to with <code>java.math.BigDecimal</code>. <code>@javax.persistence.Column</code> is not part of Java SE. It is the subject of JPA."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":9,"creation_date":1455662413,"post_id":35435691,"comment_id":58586939,"body_markdown":"Precision and scale are terms often used for java.math.BigDecimal, which is what he uses for calculations, for example with JPA. ISTM he or she wants to know what they mean in the context of BigDecimal alright.","body":"Precision and scale are terms often used for java.math.BigDecimal, which is what he uses for calculations, for example with JPA. ISTM he or she wants to know what they mean in the context of BigDecimal alright."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1455634517,"creation_date":1455634517,"answer_id":35435732,"question_id":35435691,"body_markdown":"Quoting [Javadoc](https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()):\r\n\r\n&gt; The precision is the number of digits in the unscaled value.\r\n\r\nand\r\n\r\n&gt; If zero or positive, the scale is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.\r\n","title":"BigDecimal, precision and scale","body":"<p>Quoting <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n\n<blockquote>\n  <p>The precision is the number of digits in the unscaled value.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>If zero or positive, the scale is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"comment_count":0,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1541097819,"creation_date":1455634614,"answer_id":35435775,"question_id":35435691,"body_markdown":" - **Precision:**  Total number of significant digits \r\n\r\n - **Scale:** Number of digits to the right of the decimal point\r\n\r\nSee [`BigDecimal`][1] class documentation for details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html","title":"BigDecimal, precision and scale","body":"<ul>\n<li><p><strong>Precision:</strong>  Total number of significant digits </p></li>\n<li><p><strong>Scale:</strong> Number of digits to the right of the decimal point</p></li>\n</ul>\n\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> class documentation for details.</p>\n"},{"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455636186,"creation_date":1455636186,"answer_id":35436364,"question_id":35435691,"body_markdown":"From your example annotation the maximum digits is 2 after the decimal point and 9 before (totally 11):\r\n`123456789,01`","title":"BigDecimal, precision and scale","body":"<p>From your example annotation the maximum digits is 2 after the decimal point and 9 before (totally 11):\n<code>123456789,01</code></p>\n"},{"comments":[{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":3,"creation_date":1455662632,"post_id":35436935,"comment_id":58587042,"body_markdown":"Actually, `[12345, -1]` is better represented by `1.2345E+5`, which is probably what `ToString` will return, too. Otherwise, very nice explanation.","body":"Actually, <code>[12345, -1]</code> is better represented by <code>1.2345E+5</code>, which is probably what <code>ToString</code> will return, too. Otherwise, very nice explanation."},{"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"score":0,"creation_date":1455717808,"post_id":35436935,"comment_id":58613894,"body_markdown":"@RudyVelthuis Thanks, I added a section explaining how the toString method determines whethe or not to use E+ notation","body":"@RudyVelthuis Thanks, I added a section explaining how the toString method determines whethe or not to use E+ notation"},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":1,"creation_date":1455815224,"post_id":35436935,"comment_id":58669085,"body_markdown":"Heck, I see I wrote `ToString`. That is Delphi speak, not Java. ;-)","body":"Heck, I see I wrote <code>ToString</code>. That is Delphi speak, not Java. ;-)"},{"owner":{"account_id":2487587,"reputation":4296,"user_id":2165744,"accept_rate":29,"display_name":"jarosik"},"score":1,"creation_date":1552917414,"post_id":35436935,"comment_id":97180874,"body_markdown":"0.12345 - this is six digits total, not five","body":"0.12345 - this is six digits total, not five"},{"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"score":0,"creation_date":1553302700,"post_id":35436935,"comment_id":97347111,"body_markdown":"@jarosik 0.12345 has scale of 5 because there are 5 digits to the right of the decimal point. That there are six digits displayed doesn&#39;t necessarily matter.","body":"@jarosik 0.12345 has scale of 5 because there are 5 digits to the right of the decimal point. That there are six digits displayed doesn&#39;t necessarily matter."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":3,"creation_date":1608890875,"post_id":35436935,"comment_id":115707508,"body_markdown":"Your example and reference contradict each other: Reference reads as `If zero or positive, the scale is the number of digits to the right of the decimal point` but in your example, you wrote `0.12345 // scale = 5` and `0.1234 // scale = 5`","body":"Your example and reference contradict each other: Reference reads as <code>If zero or positive, the scale is the number of digits to the right of the decimal point</code> but in your example, you wrote <code>0.12345 &#47;&#47; scale = 5</code> and <code>0.1234 &#47;&#47; scale = 5</code>"},{"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"score":0,"creation_date":1620632641,"post_id":35436935,"comment_id":119247878,"body_markdown":"@Farid, `0.1234` is mathematically equivalent to `0.12340`.","body":"@Farid, <code>0.1234</code> is mathematically equivalent to <code>0.12340</code>."},{"owner":{"account_id":425189,"reputation":321,"user_id":805643,"accept_rate":57,"display_name":"Koushik Roy"},"score":1,"creation_date":1630070755,"post_id":35436935,"comment_id":121862743,"body_markdown":"why the scale is not 4 below?\n12340 / 100000 = 0.1234 // scale = 5, precision = 4","body":"why the scale is not 4 below? 12340 / 100000 = 0.1234 // scale = 5, precision = 4"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1666167232,"post_id":35436935,"comment_id":130868819,"body_markdown":"When I do `println(BigDecimal(12345).setScale(2))` then result is 12345.00 and not 0.12345 as mentioned in the answer","body":"When I do <code>println(BigDecimal(12345).setScale(2))</code> then result is 12345.00 and not 0.12345 as mentioned in the answer"},{"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"score":0,"creation_date":1666274049,"post_id":35436935,"comment_id":130901586,"body_markdown":"@firstpostcommenter I&#39;m not sure where the answer mentions 12345.00 versus 0.12345, but I suggest you check the JavaDocs on what *exactly* `setScale()` is doing: It returns a BigDecimal whose scale is the specified value, and whose value is numerically equal to this BigDecimal&#39;s. So, if `bd` is a BigDecimal, then `bd.equals(bd.setScale(2))` is `true`.","body":"@firstpostcommenter I&#39;m not sure where the answer mentions 12345.00 versus 0.12345, but I suggest you check the JavaDocs on what <i>exactly</i> <code>setScale()</code> is doing: It returns a BigDecimal whose scale is the specified value, and whose value is numerically equal to this BigDecimal&#39;s. So, if <code>bd</code> is a BigDecimal, then <code>bd.equals(bd.setScale(2))</code> is <code>true</code>."}],"tags":[],"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"comment_count":10,"down_vote_count":1,"up_vote_count":162,"is_accepted":true,"score":161,"last_activity_date":1661132222,"creation_date":1455637640,"answer_id":35436935,"question_id":35435691,"body_markdown":"A `BigDecimal` is defined by two values: an arbitrary precision integer and a 32-bit integer *scale*. The value of the `BigDecimal` is defined to be ![unscaledValue*10^{-scale}](https://chart.googleapis.com/chart?cht=tx&amp;chl=unscaledValue\\times10^{-scale}).\r\n\r\n\r\n**Precision:**\r\n&gt; The [precision][2] is the number of digits in the unscaled value.\r\nFor instance, for the number 123.45, the precision returned is 5.\r\n\r\nSo, *precision* indicates the length of the arbitrary precision integer. Here are a few examples of numbers with the same scale, but different precision:\r\n\r\n - 12345 / 100000 = 0.12345 // scale = 5, precision = 5\r\n - 12340 / 100000 = 0.1234  // scale = 4, precision = 4\r\n - 1 / 100000 = 0.00001     // scale = 5, precision = 1\r\n\r\nIn the special case that the number is equal to zero (i.e. 0.000), the precision is always 1.\r\n\r\n**Scale:**\r\n&gt; If zero or positive, the [scale][3] is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.\r\n\r\nThis means that the integer value of the ‘BigDecimal’ is multiplied by ![10^{-scale}](https://chart.googleapis.com/chart?cht=tx&amp;chl=10^{-scale}).\r\n\r\nHere are a few examples of the same precision, with different scales:\r\n\r\n- 12345 with scale 5 = 0.12345\r\n- 12345 with scale 4 = 1.2345\r\n- …\r\n- 12345 with scale 0 = 12345\r\n- 12345 with scale -1 = 123450 *†*\r\n\r\n**BigDecimal.toString:** \r\n\r\nThe `toString` method for a `BigDecimal` behaves differently based on the scale and `precision`. (Thanks to @RudyVelthuis for pointing this out.)\r\n\r\n - If `scale == 0`, the integer is just printed out, as-is. \r\n - If `scale &lt; 0`, E-Notation is always used (e.g. 5 scale -1 produces &quot;5E+1&quot;)\r\n - If `scale &gt;= 0` and `precision - scale -1 &gt;= -6` a plain decimal number is produced (e.g. 10000000 scale 1 produces &quot;1000000.0&quot;)\r\n - Otherwise,  E-notation is used, e.g. 10 scale 8 produces &quot;1.0E-7&quot; since `precision - scale -1` equals ![unscaledValue*10^{-scale}](https://chart.googleapis.com/chart?cht=tx&amp;chl=2-8-1=-7) is less than -6. \r\n\r\n**More examples:**\r\n\r\n - 19/100 = 0.19 // integer=19, scale=2, precision=2\r\n - 1/1000 = 0.0001 // integer=1, scale = 4, precision = 1\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/b9B6l.png\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#scale()","title":"BigDecimal, precision and scale","body":"<p>A <code>BigDecimal</code> is defined by two values: an arbitrary precision integer and a 32-bit integer <em>scale</em>. The value of the <code>BigDecimal</code> is defined to be <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=unscaledValue%5Ctimes10%5E%7B-scale%7D\" alt=\"unscaledValue*10^{-scale}\" />.</p>\n<p><strong>Precision:</strong></p>\n<blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#precision()\" rel=\"noreferrer\">precision</a> is the number of digits in the unscaled value.\nFor instance, for the number 123.45, the precision returned is 5.</p>\n</blockquote>\n<p>So, <em>precision</em> indicates the length of the arbitrary precision integer. Here are a few examples of numbers with the same scale, but different precision:</p>\n<ul>\n<li>12345 / 100000 = 0.12345 // scale = 5, precision = 5</li>\n<li>12340 / 100000 = 0.1234  // scale = 4, precision = 4</li>\n<li>1 / 100000 = 0.00001     // scale = 5, precision = 1</li>\n</ul>\n<p>In the special case that the number is equal to zero (i.e. 0.000), the precision is always 1.</p>\n<p><strong>Scale:</strong></p>\n<blockquote>\n<p>If zero or positive, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#scale()\" rel=\"noreferrer\">scale</a> is the number of digits to the right of the decimal point. If negative, the unscaled value of the number is multiplied by ten to the power of the negation of the scale. For example, a scale of -3 means the unscaled value is multiplied by 1000.</p>\n</blockquote>\n<p>This means that the integer value of the ‘BigDecimal’ is multiplied by <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=10%5E%7B-scale%7D\" alt=\"10^{-scale}\" />.</p>\n<p>Here are a few examples of the same precision, with different scales:</p>\n<ul>\n<li>12345 with scale 5 = 0.12345</li>\n<li>12345 with scale 4 = 1.2345</li>\n<li>…</li>\n<li>12345 with scale 0 = 12345</li>\n<li>12345 with scale -1 = 123450 <em>†</em></li>\n</ul>\n<p><strong>BigDecimal.toString:</strong></p>\n<p>The <code>toString</code> method for a <code>BigDecimal</code> behaves differently based on the scale and <code>precision</code>. (Thanks to @RudyVelthuis for pointing this out.)</p>\n<ul>\n<li>If <code>scale == 0</code>, the integer is just printed out, as-is.</li>\n<li>If <code>scale &lt; 0</code>, E-Notation is always used (e.g. 5 scale -1 produces &quot;5E+1&quot;)</li>\n<li>If <code>scale &gt;= 0</code> and <code>precision - scale -1 &gt;= -6</code> a plain decimal number is produced (e.g. 10000000 scale 1 produces &quot;1000000.0&quot;)</li>\n<li>Otherwise,  E-notation is used, e.g. 10 scale 8 produces &quot;1.0E-7&quot; since <code>precision - scale -1</code> equals <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=2-8-1=-7\" alt=\"unscaledValue*10^{-scale}\" /> is less than -6.</li>\n</ul>\n<p><strong>More examples:</strong></p>\n<ul>\n<li>19/100 = 0.19 // integer=19, scale=2, precision=2</li>\n<li>1/1000 = 0.0001 // integer=1, scale = 4, precision = 1</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11885668,"reputation":729,"user_id":8698137,"display_name":"Shadyar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643625219,"creation_date":1643625219,"answer_id":70924491,"question_id":35435691,"body_markdown":"Precision is the total number of significant digits in a number. \r\nScale is the number of digits to the right of the decimal point.\r\n\r\nExamples:\r\n\r\n123.456 Precision=6 Scale=3\r\n\r\n10 Precision=2 Scale=0\r\n\r\n-96.9923 Precision=6 Scale=4\r\n\r\n0.0 Precision=1 Scale=1\r\n\r\n\r\n\r\nNegative Scale\r\n\r\nFor a negative scale value, we apply the following formula:\r\nresult = (given number) * 10 ^ (-(scale value))\r\nExample\r\n\r\nGiven number = 1234.56\r\n\r\nscale = -5\r\n\r\n -&gt;  (1234.56) * 10^(-(-5))\r\n\r\n -&gt;  (1234.56) * 10^(+5)\r\n\r\n -&gt;  123456000\r\n\r\n\r\nReference: https://www.logicbig.com/quick-info/programming/precision-and-scale.html","title":"BigDecimal, precision and scale","body":"<p>Precision is the total number of significant digits in a number.\nScale is the number of digits to the right of the decimal point.</p>\n<p>Examples:</p>\n<p>123.456 Precision=6 Scale=3</p>\n<p>10 Precision=2 Scale=0</p>\n<p>-96.9923 Precision=6 Scale=4</p>\n<p>0.0 Precision=1 Scale=1</p>\n<p>Negative Scale</p>\n<p>For a negative scale value, we apply the following formula:\nresult = (given number) * 10 ^ (-(scale value))\nExample</p>\n<p>Given number = 1234.56</p>\n<p>scale = -5</p>\n<p>-&gt;  (1234.56) * 10^(-(-5))</p>\n<p>-&gt;  (1234.56) * 10^(+5)</p>\n<p>-&gt;  123456000</p>\n<p>Reference: <a href=\"https://www.logicbig.com/quick-info/programming/precision-and-scale.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/quick-info/programming/precision-and-scale.html</a></p>\n"},{"tags":[],"owner":{"account_id":4877429,"reputation":123,"user_id":3932093,"accept_rate":17,"display_name":"imAmanRana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690592144,"creation_date":1690592144,"answer_id":76791689,"question_id":35435691,"body_markdown":"The JPA annotation `@Column(precision = 11, scale = 2)` for `BigDecimal` variable translates to `DECIMAL(11,2)` in the MYSQL database. \r\n\r\nThis means, the column can store a value having 11 digits in total, with 2 digits allowed after the decimal. ie. the Range here would be `[-999999999.99,999999999.99]`","title":"BigDecimal, precision and scale","body":"<p>The JPA annotation <code>@Column(precision = 11, scale = 2)</code> for <code>BigDecimal</code> variable translates to <code>DECIMAL(11,2)</code> in the MYSQL database.</p>\n<p>This means, the column can store a value having 11 digits in total, with 2 digits allowed after the decimal. ie. the Range here would be <code>[-999999999.99,999999999.99]</code></p>\n"}],"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147343,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":35436935,"answer_count":6,"score":110,"last_activity_date":1690592144,"creation_date":1455634411,"question_id":35435691,"body_markdown":"I&#39;m using BigDecimal for my numbers in my application, for example, with JPA. I did a bit of researching about the terms &#39;precision&#39; and &#39;scale&#39; but I don&#39;t understand what are they exactly.\r\n\r\nCan anyone explain me the meaning of &#39;precision&#39; and &#39;scale&#39; for a BigDecimal value?\r\n\r\n    @Column(precision = 11, scale = 2)\r\n\r\nThanks!","title":"BigDecimal, precision and scale","body":"<p>I'm using BigDecimal for my numbers in my application, for example, with JPA. I did a bit of researching about the terms 'precision' and 'scale' but I don't understand what are they exactly.</p>\n\n<p>Can anyone explain me the meaning of 'precision' and 'scale' for a BigDecimal value?</p>\n\n<pre><code>@Column(precision = 11, scale = 2)\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","variables","environment"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1690594023,"post_id":76791663,"comment_id":135379663,"body_markdown":"Use `/usr/libexec/java_home -V` to see what&#39;s installed; use `export JAVA_HOME=/path/to/…` to set `$JAVA_HOME`.","body":"Use <code>&#47;usr&#47;libexec&#47;java_home -V</code> to see what&#39;s installed; use <code>export JAVA_HOME=&#47;path&#47;to&#47;…</code> to set <code>$JAVA_HOME</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690595116,"post_id":76791663,"comment_id":135379729,"body_markdown":"Did you restart your terminal? The file is only re-read when the shell is started again. You might also want to double-check that you’re running `zsh` as your shell. Try `echo $SHELL`. It’s `zsh` by default on recent macOS versions, but if you migrated from an earlier version it might be `bash`. In that case, you should add the setting to `.bashrc` instead.","body":"Did you restart your terminal? The file is only re-read when the shell is started again. You might also want to double-check that you’re running <code>zsh</code> as your shell. Try <code>echo $SHELL</code>. It’s <code>zsh</code> by default on recent macOS versions, but if you migrated from an earlier version it might be <code>bash</code>. In that case, you should add the setting to <code>.bashrc</code> instead."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690603565,"post_id":76791663,"comment_id":135380095,"body_markdown":"It&#39;s `export JAVA_HOME=/Library/all that other stuff`. Then, follow the other advice (such as restarting zsh).","body":"It&#39;s <code>export JAVA_HOME=&#47;Library&#47;all that other stuff</code>. Then, follow the other advice (such as restarting zsh)."}],"owner":{"account_id":26868829,"reputation":1,"user_id":20451154,"display_name":"DozleZabi78"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690591326,"creation_date":1690591326,"question_id":76791663,"body_markdown":"relieved and grateful to find this community you have made and keep it up!\r\nI installed JDK on my laptop, it is JDK20 on OS X Ventura 13.4.1 on ARM64\r\n```\r\njava version &quot;20.0.2&quot; 2023-07-18\r\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\r\n```\r\n\r\nI added JAVA_HOME to my terminal&#39;s environment variable this way:\r\n`nano ~/.zshrc`\r\n\r\ncopy pasted this: \r\n`export /Library/Java/JavaVirtualMachines/jdk-20.jdk/Contents/Home`\r\n\r\nsaved it\r\nthen I tried to check that its actually added it as expected based on what I added to the env var this way:\r\n`echo $JAVA_HOME`\r\n\r\ninstead of seeing the path, I just see a blank line.\r\nI&#39;ve looked it up and tried a few recommended steps, no luck so far,\r\nWhile you are replying I will keep trying to find a fix on my end and update this.\r\n\r\nI tried looking it up, I tried checking that I spelled the export path correctly, I checked that there were no unexpected spaces, I saved the file, I retried and I am still getting the same blank line. I think I am expected to know this because when one installs the JDK on your workstation you are expected to know that you have done so correctly so it works as expected.","title":"Issues verifying that JAVA_HOME is set as expected","body":"<p>relieved and grateful to find this community you have made and keep it up!\nI installed JDK on my laptop, it is JDK20 on OS X Ventura 13.4.1 on ARM64</p>\n<pre><code>java version &quot;20.0.2&quot; 2023-07-18\nJava(TM) SE Runtime Environment (build 20.0.2+9-78)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.2+9-78, mixed mode, sharing)\n</code></pre>\n<p>I added JAVA_HOME to my terminal's environment variable this way:\n<code>nano ~/.zshrc</code></p>\n<p>copy pasted this:\n<code>export /Library/Java/JavaVirtualMachines/jdk-20.jdk/Contents/Home</code></p>\n<p>saved it\nthen I tried to check that its actually added it as expected based on what I added to the env var this way:\n<code>echo $JAVA_HOME</code></p>\n<p>instead of seeing the path, I just see a blank line.\nI've looked it up and tried a few recommended steps, no luck so far,\nWhile you are replying I will keep trying to find a fix on my end and update this.</p>\n<p>I tried looking it up, I tried checking that I spelled the export path correctly, I checked that there were no unexpected spaces, I saved the file, I retried and I am still getting the same blank line. I think I am expected to know this because when one installs the JDK on your workstation you are expected to know that you have done so correctly so it works as expected.</p>\n"},{"tags":["java","android","android-studio","android-13"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688416214,"post_id":76605043,"comment_id":135068752,"body_markdown":"Please describe in detail what &quot;not working&quot; means. What errors does it cause?","body":"Please describe in detail what &quot;not working&quot; means. What errors does it cause?"},{"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"score":0,"creation_date":1688440687,"post_id":76605043,"comment_id":135071047,"body_markdown":"Hi, robert I mentioned comment in code already. the comment is &quot;//getting error on source.getHeight() line&quot; basically we can do only media query to fetch image if want to publish app in playstore. the source.getHeight() returning 0.","body":"Hi, robert I mentioned comment in code already. the comment is &quot;//getting error on source.getHeight() line&quot; basically we can do only media query to fetch image if want to publish app in playstore. the source.getHeight() returning 0."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688454967,"post_id":76605043,"comment_id":135072611,"body_markdown":"What error do you get? Do you simply get 0 as return value or an exception? If you get an exception please include the full output into your question (not in comments!).","body":"What error do you get? Do you simply get 0 as return value or an exception? If you get an exception please include the full output into your question (not in comments!)."},{"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"score":0,"creation_date":1688460896,"post_id":76605043,"comment_id":135073787,"body_markdown":"@Robert done sir. and am very glad that you are trying to helping me.","body":"@Robert done sir. and am very glad that you are trying to helping me."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688464804,"post_id":76605043,"comment_id":135074645,"body_markdown":"Please never paste stack traces as image into question. Just copy &amp; paste the text. Fro what I see the most likely error is that you run into the catch block `FileNotFoundException` in `decodeFile`. Thus the return value is null and so `source` becomes `null`. =&gt; never catch an Exception and return null if your code can not handle this. So I assume your error is you try to load a non-existant file.","body":"Please never paste stack traces as image into question. Just copy &amp; paste the text. Fro what I see the most likely error is that you run into the catch block <code>FileNotFoundException</code> in <code>decodeFile</code>. Thus the return value is null and so <code>source</code> becomes <code>null</code>. =&gt; never catch an Exception and return null if your code can not handle this. So I assume your error is you try to load a non-existant file."},{"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"score":0,"creation_date":1688472218,"post_id":76605043,"comment_id":135076142,"body_markdown":"@Robert Thank you so much sir for writing again. Yes you are correct about  FileNotFoundException I diagnose that permission was denied. so I check what permissions are restricted I found photos and videos permission was denied in my samsung phone. so finally figure out because of you. now I need to know what is minimum api level which need these special permissions (images and videos, music and audio). Also I request you to write in answer so I can mark it as answer sir.","body":"@Robert Thank you so much sir for writing again. Yes you are correct about  FileNotFoundException I diagnose that permission was denied. so I check what permissions are restricted I found photos and videos permission was denied in my samsung phone. so finally figure out because of you. now I need to know what is minimum api level which need these special permissions (images and videos, music and audio). Also I request you to write in answer so I can mark it as answer sir."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1690590914,"post_id":76605043,"comment_id":135379474,"body_markdown":"Please review *[Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/)* (e.g., *&quot;Images should only be used to illustrate problems that* ***can&#39;t be made clear in any other way,*** *such as to provide screenshots of a user interface.&quot;*) and [do the right thing](https://stackoverflow.com/posts/76605043/edit). Thanks in advance.","body":"Please review <i><a href=\"https://meta.stackoverflow.com/questions/285551/\">Why not upload images of code/errors when asking a question?</a></i> (e.g., <i>&quot;Images should only be used to illustrate problems that</i> <b><i>can&#39;t be made clear in any other way,</i></b> <i>such as to provide screenshots of a user interface.&quot;</i>) and <a href=\"https://stackoverflow.com/posts/76605043/edit\">do the right thing</a>. Thanks in advance."}],"answers":[{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1688588186,"post_id":76611174,"comment_id":135095373,"body_markdown":"Your answer could be improved by adding more information on what the code does and how it helps the OP.","body":"Your answer could be improved by adding more information on what the code does and how it helps the OP."}],"tags":[],"owner":{"account_id":28945930,"reputation":1,"user_id":22171515,"display_name":"Saravanan Mani"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1688588218,"creation_date":1688462852,"answer_id":76611174,"question_id":76605043,"body_markdown":"```\r\npublic File compressImage(File fileimage) {\r\n  Bitmap icon = BitmapFactory.decodeFile(String.valueOf(fileimage));\r\n  ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n  icon.compress(Bitmap.CompressFormat.JPEG, 70, bytes);\r\n  String folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS + &quot;/&quot; + &quot;Images&quot;) + &quot;/&quot;;\r\n  File directory = new File(folder);\r\n  if (!directory.exists()) {\r\n    directory.mkdirs();\r\n  }\r\n  File f = new File(folder + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n  try {\r\n    f.createNewFile();\r\n    FileOutputStream fo = new FileOutputStream(f);\r\n    fo.write(bytes.toByteArray());\r\n  } catch (IOException e) {\r\n    e.printStackTrace();\r\n  }\r\n  return f;\r\n}\r\n```","title":"How to compress an image in Android 13 APIs","body":"<pre><code>public File compressImage(File fileimage) {\n  Bitmap icon = BitmapFactory.decodeFile(String.valueOf(fileimage));\n  ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n  icon.compress(Bitmap.CompressFormat.JPEG, 70, bytes);\n  String folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS + &quot;/&quot; + &quot;Images&quot;) + &quot;/&quot;;\n  File directory = new File(folder);\n  if (!directory.exists()) {\n    directory.mkdirs();\n  }\n  File f = new File(folder + System.currentTimeMillis() + &quot;.jpg&quot;);\n  try {\n    f.createNewFile();\n    FileOutputStream fo = new FileOutputStream(f);\n    fo.write(bytes.toByteArray());\n  } catch (IOException e) {\n    e.printStackTrace();\n  }\n  return f;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688475105,"creation_date":1688475105,"answer_id":76612845,"question_id":76605043,"body_markdown":"If you get a `NullPointerException` on `source.getHeight()` then this means `source` has been set to `null`.\r\n\r\nThe only point where `source`is set is on the line \r\n\r\n    source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\r\n\r\nThis means the method `decodeFile` has to return a null value. \r\n\r\nLooking at the method `decodeFile` you can see tha there are only two different code paths that return a value. The first code path returns the value of `BitmapFactory.decodeStream(..)` which AFAIK should never return `null`.\r\n\r\nThe it is most likely the other code path in the `FileNotFoundException ` catch clause. \r\n\r\n```\r\npublic static Bitmap decodeFile(File file, int width, int height) {\r\n    try {\r\n        ....\r\n        return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\r\n\r\n    } catch (FileNotFoundException e) {\r\n        return null;\r\n    }\r\n}\r\n```\r\nThis leads to the conclusion that at some point you are trying to read a File that does not exist or on that you don&#39;t have read permissions. \r\n\r\nAs your app is older the chance is high that if it is a permission problem and the file is on the shared storage (`/sdcard` or subfolder) this is because the app does not make use of scoped storage system introduced with Android 10/11. ","title":"How to compress an image in Android 13 APIs","body":"<p>If you get a <code>NullPointerException</code> on <code>source.getHeight()</code> then this means <code>source</code> has been set to <code>null</code>.</p>\n<p>The only point where <code>source</code>is set is on the line</p>\n<pre><code>source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\n</code></pre>\n<p>This means the method <code>decodeFile</code> has to return a null value.</p>\n<p>Looking at the method <code>decodeFile</code> you can see tha there are only two different code paths that return a value. The first code path returns the value of <code>BitmapFactory.decodeStream(..)</code> which AFAIK should never return <code>null</code>.</p>\n<p>The it is most likely the other code path in the <code>FileNotFoundException </code> catch clause.</p>\n<pre><code>public static Bitmap decodeFile(File file, int width, int height) {\n    try {\n        ....\n        return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\n\n    } catch (FileNotFoundException e) {\n        return null;\n    }\n}\n</code></pre>\n<p>This leads to the conclusion that at some point you are trying to read a File that does not exist or on that you don't have read permissions.</p>\n<p>As your app is older the chance is high that if it is a permission problem and the file is on the shared storage (<code>/sdcard</code> or subfolder) this is because the app does not make use of scoped storage system introduced with Android 10/11.</p>\n"}],"owner":{"account_id":20049042,"reputation":77,"user_id":14698103,"display_name":"DEEPAK MAURYA"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76612845,"answer_count":2,"score":0,"last_activity_date":1690590829,"creation_date":1688389661,"question_id":76605043,"body_markdown":"I have made image compression long ago. It was working well until [Android X][1], but above Android it’s not working.\r\n\r\n    public class ImageCompress {\r\n\r\n        private static final int IMAGE_QUALITY = 99;\r\n        private static final int MAX_SIZE_PIXELS = 1200;\r\n\r\n        public static Bitmap decodeFile(File file, int width, int height) {\r\n            try {\r\n                // Decode image size\r\n                BitmapFactory.Options options = new BitmapFactory.Options();\r\n                options.inJustDecodeBounds = true;\r\n                BitmapFactory.decodeStream(new FileInputStream(file), null, options);\r\n\r\n                // The new size we want to scale to\r\n                final int REQUIRED_WIDTH = width;\r\n                final int REQUIRED_HIGHT = height;\r\n\r\n                // Find the correct scale value. It should be the power of 2.\r\n                int scale = 1;\r\n                while (options.outWidth / scale / 2 &gt;= REQUIRED_WIDTH\r\n                        &amp;&amp; options.outHeight / scale / 2 &gt;= REQUIRED_HIGHT)\r\n                    scale *= 2;\r\n\r\n                // Decode with inSampleSize\r\n                BitmapFactory.Options newOptions = new BitmapFactory.Options();\r\n                newOptions.inSampleSize = scale;\r\n                return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\r\n\r\n            } catch (FileNotFoundException e) {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static File compressImage(final File file, String outputDirectory, Context context) {\r\n            String path = file.getPath();\r\n            String format = path.substring(path.lastIndexOf(&quot;.&quot;)).substring(1);\r\n            Bitmap source;\r\n            try {\r\n                source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\r\n            } catch (Exception e) {\r\n                Log.d(ImageCompress.class.toString(), e.toString() + &quot; Something happened wrong&quot;);\r\n                return null;\r\n            }\r\n\r\n            Bitmap.CompressFormat compressFormat;\r\n\r\n            // If PNG or WebP have the allowed resolution, then do not compress it\r\n            if (&quot;png&quot;.equals(format) || &quot;webp&quot;.equals(format)) return file;\r\n\r\n            // Select format\r\n            switch (format) {\r\n                case &quot;png&quot;:\r\n                    compressFormat = Bitmap.CompressFormat.PNG;\r\n                    break;\r\n                case &quot;webp&quot;:\r\n                    compressFormat = Bitmap.CompressFormat.WEBP;\r\n                    break;\r\n                case &quot;gif&quot;:\r\n                    return file;\r\n                default:\r\n                    compressFormat = Bitmap.CompressFormat.JPEG;\r\n            }\r\n\r\n            // Resize image\r\n            Bitmap resizedBmp;\r\n        // I am getting an error on the source.getHeight() line\r\n            if (source.getHeight() &gt; MAX_SIZE_PIXELS || source.getWidth() &gt; MAX_SIZE_PIXELS) {\r\n                resizedBmp = resizeBitmap(source, MAX_SIZE_PIXELS);\r\n            } else {\r\n                resizedBmp = source;\r\n            }\r\n            File result = null;\r\n            OutputStream fOut = null;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                ContentResolver resolver = BaseApplication.getInstance().getContentResolver();\r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, file.getName());\r\n                contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/&quot; + format);\r\n                contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Constants.MULTIMEDIA_CHATROOM_11);\r\n                Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n                try {\r\n                    fOut = resolver.openOutputStream(imageUri);\r\n                    result = new File(Utils.getPath(BaseApplication.getInstance(), imageUri));\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                // create directory if not exist\r\n                File directory = new File(outputDirectory);\r\n                int code = context.getPackageManager().checkPermission(\r\n                        android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                        context.getPackageName());\r\n                if (code == PackageManager.PERMISSION_GRANTED) {\r\n                    Log.i(ImageCompress.class.getSimpleName(), &quot;creating directory&quot;);\r\n                    if (!directory.isDirectory() || !directory.exists()) {\r\n                        directory.mkdirs();\r\n                    }\r\n                } else {\r\n                    Log.i(ImageCompress.class.getSimpleName(), &quot;failed access&quot;);\r\n                }\r\n\r\n                // Compress image\r\n                result = new File(outputDirectory, file.getName());\r\n\r\n                try {\r\n                    if (!result.exists()) {\r\n                        result.createNewFile();\r\n                        fOut = new FileOutputStream(result);\r\n                    } else {\r\n                        fOut = new FileOutputStream(result);\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            try {\r\n                resizedBmp.compress(compressFormat, IMAGE_QUALITY, fOut);\r\n                fOut.flush();\r\n                fOut.close();\r\n                source.recycle();\r\n                resizedBmp.recycle();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n\r\n            // Copy EXIF orientation from the original image\r\n            try {\r\n                ExifInterface oldExif = new ExifInterface(file.getPath());\r\n                String exifOrientation = oldExif.getAttribute(ExifInterface.TAG_ORIENTATION);\r\n                if (exifOrientation != null) {\r\n                    ExifInterface newExif = new ExifInterface(result.getPath());\r\n                    newExif.setAttribute(ExifInterface.TAG_ORIENTATION, exifOrientation);\r\n                    newExif.saveAttributes();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private static Bitmap resizeBitmap(Bitmap source, int maxSizePixels) {\r\n            int targetWidth, targetHeight;\r\n            double aspectRatio;\r\n\r\n            if (source.getWidth() &gt; source.getHeight()) {\r\n                targetWidth = maxSizePixels;\r\n                aspectRatio = (double) source.getHeight() / (double) source.getWidth();\r\n                targetHeight = (int) (targetWidth * aspectRatio);\r\n            } else {\r\n                targetHeight = maxSizePixels;\r\n                aspectRatio = (double) source.getWidth() / (double) source.getHeight();\r\n                targetWidth = (int) (targetHeight * aspectRatio);\r\n            }\r\n\r\n            return Bitmap.createScaledBitmap(source, targetWidth, targetHeight, false);\r\n        }\r\n    }\r\n\r\nMy app is made for social entertainment purposes, so I don&#39;t have storage access like before due to policies. So we can use only the session scope way to access files. I am getting an error at line source.getHeight() and source.getWidth() as both are zero. How can I fix this this issue for all Android versions?\r\n\r\nError:\r\n\r\n[![Getting error][2]][2]\r\n\r\nPlease note: I noticed this error comes in a few pictures from the gallery.\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx\r\n  [2]: https://i.stack.imgur.com/BAWKd.png\r\n\r\n\r\n\r\n","title":"How to compress an image in Android 13 APIs","body":"<p>I have made image compression long ago. It was working well until <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">Android X</a>, but above Android it’s not working.</p>\n<pre><code>public class ImageCompress {\n\n    private static final int IMAGE_QUALITY = 99;\n    private static final int MAX_SIZE_PIXELS = 1200;\n\n    public static Bitmap decodeFile(File file, int width, int height) {\n        try {\n            // Decode image size\n            BitmapFactory.Options options = new BitmapFactory.Options();\n            options.inJustDecodeBounds = true;\n            BitmapFactory.decodeStream(new FileInputStream(file), null, options);\n\n            // The new size we want to scale to\n            final int REQUIRED_WIDTH = width;\n            final int REQUIRED_HIGHT = height;\n\n            // Find the correct scale value. It should be the power of 2.\n            int scale = 1;\n            while (options.outWidth / scale / 2 &gt;= REQUIRED_WIDTH\n                    &amp;&amp; options.outHeight / scale / 2 &gt;= REQUIRED_HIGHT)\n                scale *= 2;\n\n            // Decode with inSampleSize\n            BitmapFactory.Options newOptions = new BitmapFactory.Options();\n            newOptions.inSampleSize = scale;\n            return BitmapFactory.decodeStream(new FileInputStream(file), null, newOptions);\n\n        } catch (FileNotFoundException e) {\n            return null;\n        }\n    }\n\n    public static File compressImage(final File file, String outputDirectory, Context context) {\n        String path = file.getPath();\n        String format = path.substring(path.lastIndexOf(&quot;.&quot;)).substring(1);\n        Bitmap source;\n        try {\n            source = decodeFile(file, MAX_SIZE_PIXELS, MAX_SIZE_PIXELS);\n        } catch (Exception e) {\n            Log.d(ImageCompress.class.toString(), e.toString() + &quot; Something happened wrong&quot;);\n            return null;\n        }\n\n        Bitmap.CompressFormat compressFormat;\n\n        // If PNG or WebP have the allowed resolution, then do not compress it\n        if (&quot;png&quot;.equals(format) || &quot;webp&quot;.equals(format)) return file;\n\n        // Select format\n        switch (format) {\n            case &quot;png&quot;:\n                compressFormat = Bitmap.CompressFormat.PNG;\n                break;\n            case &quot;webp&quot;:\n                compressFormat = Bitmap.CompressFormat.WEBP;\n                break;\n            case &quot;gif&quot;:\n                return file;\n            default:\n                compressFormat = Bitmap.CompressFormat.JPEG;\n        }\n\n        // Resize image\n        Bitmap resizedBmp;\n    // I am getting an error on the source.getHeight() line\n        if (source.getHeight() &gt; MAX_SIZE_PIXELS || source.getWidth() &gt; MAX_SIZE_PIXELS) {\n            resizedBmp = resizeBitmap(source, MAX_SIZE_PIXELS);\n        } else {\n            resizedBmp = source;\n        }\n        File result = null;\n        OutputStream fOut = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            ContentResolver resolver = BaseApplication.getInstance().getContentResolver();\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, file.getName());\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/&quot; + format);\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Constants.MULTIMEDIA_CHATROOM_11);\n            Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n            try {\n                fOut = resolver.openOutputStream(imageUri);\n                result = new File(Utils.getPath(BaseApplication.getInstance(), imageUri));\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        } else {\n            // create directory if not exist\n            File directory = new File(outputDirectory);\n            int code = context.getPackageManager().checkPermission(\n                    android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                    context.getPackageName());\n            if (code == PackageManager.PERMISSION_GRANTED) {\n                Log.i(ImageCompress.class.getSimpleName(), &quot;creating directory&quot;);\n                if (!directory.isDirectory() || !directory.exists()) {\n                    directory.mkdirs();\n                }\n            } else {\n                Log.i(ImageCompress.class.getSimpleName(), &quot;failed access&quot;);\n            }\n\n            // Compress image\n            result = new File(outputDirectory, file.getName());\n\n            try {\n                if (!result.exists()) {\n                    result.createNewFile();\n                    fOut = new FileOutputStream(result);\n                } else {\n                    fOut = new FileOutputStream(result);\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        try {\n            resizedBmp.compress(compressFormat, IMAGE_QUALITY, fOut);\n            fOut.flush();\n            fOut.close();\n            source.recycle();\n            resizedBmp.recycle();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n\n        // Copy EXIF orientation from the original image\n        try {\n            ExifInterface oldExif = new ExifInterface(file.getPath());\n            String exifOrientation = oldExif.getAttribute(ExifInterface.TAG_ORIENTATION);\n            if (exifOrientation != null) {\n                ExifInterface newExif = new ExifInterface(result.getPath());\n                newExif.setAttribute(ExifInterface.TAG_ORIENTATION, exifOrientation);\n                newExif.saveAttributes();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return result;\n    }\n\n    private static Bitmap resizeBitmap(Bitmap source, int maxSizePixels) {\n        int targetWidth, targetHeight;\n        double aspectRatio;\n\n        if (source.getWidth() &gt; source.getHeight()) {\n            targetWidth = maxSizePixels;\n            aspectRatio = (double) source.getHeight() / (double) source.getWidth();\n            targetHeight = (int) (targetWidth * aspectRatio);\n        } else {\n            targetHeight = maxSizePixels;\n            aspectRatio = (double) source.getWidth() / (double) source.getHeight();\n            targetWidth = (int) (targetHeight * aspectRatio);\n        }\n\n        return Bitmap.createScaledBitmap(source, targetWidth, targetHeight, false);\n    }\n}\n</code></pre>\n<p>My app is made for social entertainment purposes, so I don't have storage access like before due to policies. So we can use only the session scope way to access files. I am getting an error at line source.getHeight() and source.getWidth() as both are zero. How can I fix this this issue for all Android versions?</p>\n<p>Error:</p>\n<p><a href=\"https://i.stack.imgur.com/BAWKd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BAWKd.png\" alt=\"Getting error\" /></a></p>\n<p>Please note: I noticed this error comes in a few pictures from the gallery.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":2,"creation_date":1690479545,"post_id":76782109,"comment_id":135363262,"body_markdown":"Does this answer your question? [What are enums and why are they useful?](https://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful\">What are enums and why are they useful?</a>"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1690480774,"post_id":76782109,"comment_id":135363498,"body_markdown":"@AztecCodes: I agree completely: `You should always use enums when a variable (especially a method parameter) can only take one out of a small set of possible values....If you use enums instead of integers (or String codes), you increase compile-time checking and avoid errors from passing in invalid constants, and you document which values are legal to use.`.  Personally, I liked Pascal [enumeration types](https://wiki.freepascal.org/Enum_Type).  And personally, I think what the OP is trying to do is a bit of an &quot;overreach&quot; ... and I&#39;m unsurprised it &quot;doesn&#39;t work&quot;.  Q: Why not just a &quot;class&quot;?","body":"@AztecCodes: I agree completely: <code>You should always use enums when a variable (especially a method parameter) can only take one out of a small set of possible values....If you use enums instead of integers (or String codes), you increase compile-time checking and avoid errors from passing in invalid constants, and you document which values are legal to use.</code>.  Personally, I liked Pascal <a href=\"https://wiki.freepascal.org/Enum_Type\" rel=\"nofollow noreferrer\">enumeration types</a>.  And personally, I think what the OP is trying to do is a bit of an &quot;overreach&quot; ... and I&#39;m unsurprised it &quot;doesn&#39;t work&quot;.  Q: Why not just a &quot;class&quot;?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1690480993,"post_id":76782109,"comment_id":135363547,"body_markdown":"Use a _class_ with _nested classes_, to achieve what you&#39;re looking to do here.","body":"Use a <i>class</i> with <i>nested classes</i>, to achieve what you&#39;re looking to do here."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690486862,"post_id":76782109,"comment_id":135364566,"body_markdown":"You can, and should, edit this question to improve it. You said that the example &quot;does not work&quot;.  If you got a compiler error, please include a copy of the error message. If you ran the code, please include the expected result and actual result.","body":"You can, and should, edit this question to improve it. You said that the example &quot;does not work&quot;.  If you got a compiler error, please include a copy of the error message. If you ran the code, please include the expected result and actual result."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586047,"post_id":76782109,"comment_id":135379112,"body_markdown":"@AztecCodes - not really.","body":"@AztecCodes - not really."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586059,"post_id":76782109,"comment_id":135379115,"body_markdown":"@Relias - yes, I could do that in several other ways. But I am curious why enums do not allow it.","body":"@Relias - yes, I could do that in several other ways. But I am curious why enums do not allow it."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586068,"post_id":76782109,"comment_id":135379118,"body_markdown":"@OldDogProgrammer - it does not compile, pretty easy to run it yourself and see.","body":"@OldDogProgrammer - it does not compile, pretty easy to run it yourself and see."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586966,"post_id":76782109,"comment_id":135379191,"body_markdown":"@stuartmarks\n Any opinion on that?","body":"@stuartmarks  Any opinion on that?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690587565,"post_id":76782109,"comment_id":135379234,"body_markdown":"@HristoStoyanov, Yes. But, part of writing a good question is not just saying something &quot;does not work&quot;. Writing a good question includes something about *why* it doesn&#39;t (seem) to work. It is *your* responsibility to include that in the question.","body":"@HristoStoyanov, Yes. But, part of writing a good question is not just saying something &quot;does not work&quot;. Writing a good question includes something about <i>why</i> it doesn&#39;t (seem) to work. It is <i>your</i> responsibility to include that in the question."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1690596130,"post_id":76782109,"comment_id":135379769,"body_markdown":"what would be the point of creating an enum like this?  if the methods are individual to each enum, then just implement them as separate methods on a class.  you gain nothing by putting them on an enum.  what are you trying to accomplish?","body":"what would be the point of creating an enum like this?  if the methods are individual to each enum, then just implement them as separate methods on a class.  you gain nothing by putting them on an enum.  what are you trying to accomplish?"}],"answers":[{"comments":[{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690586335,"post_id":76782119,"comment_id":135379146,"body_markdown":"I know that putting the 2 methods at the MyEnum level works, but is is awkward and does not scale - test1() might no work for TWO at all, do I have to throw runtime exceptions? I deliberately made  the test1() and test2() with different signature to avoid that trap of thinking.\n\nYou assignment example makes sense, but only in the cases where you want to treat all MyEnums equally. In my example, I deliberately pick specific enums, so to show that I do not care about the common MyEnum.","body":"I know that putting the 2 methods at the MyEnum level works, but is is awkward and does not scale - test1() might no work for TWO at all, do I have to throw runtime exceptions? I deliberately made  the test1() and test2() with different signature to avoid that trap of thinking.  You assignment example makes sense, but only in the cases where you want to treat all MyEnums equally. In my example, I deliberately pick specific enums, so to show that I do not care about the common MyEnum."},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1690587180,"post_id":76782119,"comment_id":135379211,"body_markdown":"btw, i had my example wrong, so you answer is somewhat correct for the wrong example. Sorry!","body":"btw, i had my example wrong, so you answer is somewhat correct for the wrong example. Sorry!"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1690587673,"post_id":76782119,"comment_id":135379241,"body_markdown":"What you&#39;re looking for isn&#39;t what Java enums are. You may instead want something like a base class with a private constructor, and the nested classes that extend it (the private constructor means that only those nested classes can invoke that constructor, meaning they&#39;re the only classes that can extend that base class).","body":"What you&#39;re looking for isn&#39;t what Java enums are. You may instead want something like a base class with a private constructor, and the nested classes that extend it (the private constructor means that only those nested classes can invoke that constructor, meaning they&#39;re the only classes that can extend that base class)."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690480645,"creation_date":1690478442,"answer_id":76782119,"question_id":76782109,"body_markdown":"Those methods are methods of each individual enum instance, similar to a method declared within an anonymous class, and just like an anonymous class, the methods are not visible to variables of the parent type. Since ONE and TWO are instances of the MyEnum enum, the only methods visible to them are the ones declared in the enum itself, and also, of course, any inherited methods from the parent of all enums, `java.lang.Enum`. \r\n\r\nTo make the method visible, it must be declared as a method of the enum itself:\r\n\r\n```\r\nclass Scratch {\r\n    enum MyEnum {\r\n        ONE {\r\n            public void test1(String v1, String v2) { }\r\n        },\r\n        TWO {\r\n            public void test2(int v3) { }\r\n        };\r\n\r\n        public void test1(String v1, String v2) { }\r\n\r\n        public void test2(int v3) { }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyEnum.ONE.test1(&quot;a&quot;, &quot;b&quot;);\r\n        MyEnum.ONE.test2(0);\r\n\r\n\t\t// remember that an enum variable can be re-assigned, and so \r\n        // all visible methods should be methods of the MyEnum type\r\n\t\tMyEnum foo = MyEnum.ONE;\r\n\t\tfoo = MyEnum.TWO;\r\n    }\r\n}\r\n```\r\n\r\nRemember that an enum variable can be re-assigned, and any enum variable should be able to potentially call the same methods.","title":"Missing capability of Java enums?","body":"<p>Those methods are methods of each individual enum instance, similar to a method declared within an anonymous class, and just like an anonymous class, the methods are not visible to variables of the parent type. Since ONE and TWO are instances of the MyEnum enum, the only methods visible to them are the ones declared in the enum itself, and also, of course, any inherited methods from the parent of all enums, <code>java.lang.Enum</code>.</p>\n<p>To make the method visible, it must be declared as a method of the enum itself:</p>\n<pre><code>class Scratch {\n    enum MyEnum {\n        ONE {\n            public void test1(String v1, String v2) { }\n        },\n        TWO {\n            public void test2(int v3) { }\n        };\n\n        public void test1(String v1, String v2) { }\n\n        public void test2(int v3) { }\n    }\n\n    public static void main(String[] args) {\n        MyEnum.ONE.test1(&quot;a&quot;, &quot;b&quot;);\n        MyEnum.ONE.test2(0);\n\n        // remember that an enum variable can be re-assigned, and so \n        // all visible methods should be methods of the MyEnum type\n        MyEnum foo = MyEnum.ONE;\n        foo = MyEnum.TWO;\n    }\n}\n</code></pre>\n<p>Remember that an enum variable can be re-assigned, and any enum variable should be able to potentially call the same methods.</p>\n"}],"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690590733,"creation_date":1690478345,"question_id":76782109,"body_markdown":"\r\nThe below example looks cool, but invoking enum methods like that does not work. Why? Can you point me to relevant reference docs, workarounds?\r\n\r\n```\r\nclass Scratch {\r\n\tenum MyEnum {\r\n\t\tONE{\r\n\t\t\tvoid test1 (String v1, String v2){}\r\n\t\t},\r\n\t\tTWO{\r\n\t\t\tvoid test2(int v3){}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMyEnum.ONE.test1(&quot;a&quot;,&quot;b&quot;);\r\n\t\tMyEnum.TWO.test2(0);\r\n\t}\r\n}\r\n```\r\n","title":"Missing capability of Java enums?","body":"<p>The below example looks cool, but invoking enum methods like that does not work. Why? Can you point me to relevant reference docs, workarounds?</p>\n<pre><code>class Scratch {\n    enum MyEnum {\n        ONE{\n            void test1 (String v1, String v2){}\n        },\n        TWO{\n            void test2(int v3){}\n        }\n    }\n\n    public static void main(String[] args) {\n        MyEnum.ONE.test1(&quot;a&quot;,&quot;b&quot;);\n        MyEnum.TWO.test2(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"score":0,"creation_date":1690542648,"post_id":76784029,"comment_id":135371954,"body_markdown":"So, and it can&#39;t automatically create all args constructor and we should use Builder annotation? And what is the meaning of this annotation? Without Builder this constructor also should work","body":"So, and it can&#39;t automatically create all args constructor and we should use Builder annotation? And what is the meaning of this annotation? Without Builder this constructor also should work"},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":1,"creation_date":1690588948,"post_id":76784029,"comment_id":135379329,"body_markdown":"Without Builder or SuperBuilder this constructor shoud not working.","body":"Without Builder or SuperBuilder this constructor shoud not working."}],"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690501095,"creation_date":1690501095,"answer_id":76784029,"question_id":76783950,"body_markdown":"You can use @Builder like this : \r\n\r\n    @AllArgsConstructor\r\n    public class Parent {\r\n        private final String parentName;\r\n        private final int parentAge;\r\n    }\r\n    \r\n    public class Child extends Parent {\r\n        private final String childName;\r\n        private final int childAge;\r\n    \r\n        @Builder\r\n        public Child(String parentName, int parentAge, String childName, int childAge) {\r\n            super(parentName, parentAge);\r\n            this.childName = childName;\r\n            this.childAge = childAge;\r\n        }\r\n    }","title":"@AllArgsConstructor of Lombok doesn&#39;t work","body":"<p>You can use @Builder like this :</p>\n<pre><code>@AllArgsConstructor\npublic class Parent {\n    private final String parentName;\n    private final int parentAge;\n}\n\npublic class Child extends Parent {\n    private final String childName;\n    private final int childAge;\n\n    @Builder\n    public Child(String parentName, int parentAge, String childName, int childAge) {\n        super(parentName, parentAge);\n        this.childName = childName;\n        this.childAge = childAge;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690589345,"creation_date":1690589345,"answer_id":76791589,"question_id":76783950,"body_markdown":"You can use @SuperBuilder for this constructor like this :\r\n\r\n    @Override\r\n    public User getUserByCredentials(String mail, String password) {\r\n        User user = null;\r\n        Connection connection = connectionPool.getConnection();\r\n        try {\r\n            PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\r\n            preparedStatement.setString(1, mail);\r\n            preparedStatement.setString(2, password);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            if (resultSet.next()) {\r\n                user = User.builder()\r\n\t\t\t\t.id(resultSet.getInt(&quot;id&quot;))\r\n\t\t\t\t.mail(resultSet.getString(&quot;mail&quot;))\r\n\t\t\t\t.password(resultSet.getString(&quot;password&quot;))\r\n                .name(resultSet.getString(&quot;name&quot;))\r\n                .surname(resultSet.getString(&quot;surname&quot;))\r\n                .date(resultSet.getDate(&quot;date&quot;).toLocalDate())\r\n                .currentBalance(resultSet.getFloat(&quot;balance&quot;))\r\n                .mobile(resultSet.getString(&quot;mobile&quot;))\r\n                .street(resultSet.getString(&quot;street&quot;))\r\n                .accommodationNumber(resultSet.getString(&quot;accommodation_number&quot;))\r\n                .flatNumber(resultSet.getString(&quot;flat_number&quot;))\r\n                .build();\r\n            }\r\n            return user;\r\n        } catch (SQLException e) {\r\n            logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\r\n            return null;\r\n        } finally {\r\n            connectionPool.closeConnection(connection);\r\n        }\r\n    }","title":"@AllArgsConstructor of Lombok doesn&#39;t work","body":"<p>You can use @SuperBuilder for this constructor like this :</p>\n<pre><code>@Override\npublic User getUserByCredentials(String mail, String password) {\n    User user = null;\n    Connection connection = connectionPool.getConnection();\n    try {\n        PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\n        preparedStatement.setString(1, mail);\n        preparedStatement.setString(2, password);\n        ResultSet resultSet = preparedStatement.executeQuery();\n        if (resultSet.next()) {\n            user = User.builder()\n            .id(resultSet.getInt(&quot;id&quot;))\n            .mail(resultSet.getString(&quot;mail&quot;))\n            .password(resultSet.getString(&quot;password&quot;))\n            .name(resultSet.getString(&quot;name&quot;))\n            .surname(resultSet.getString(&quot;surname&quot;))\n            .date(resultSet.getDate(&quot;date&quot;).toLocalDate())\n            .currentBalance(resultSet.getFloat(&quot;balance&quot;))\n            .mobile(resultSet.getString(&quot;mobile&quot;))\n            .street(resultSet.getString(&quot;street&quot;))\n            .accommodationNumber(resultSet.getString(&quot;accommodation_number&quot;))\n            .flatNumber(resultSet.getString(&quot;flat_number&quot;))\n            .build();\n        }\n        return user;\n    } catch (SQLException e) {\n        logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\n        return null;\n    } finally {\n        connectionPool.closeConnection(connection);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24960092,"reputation":3,"user_id":22288620,"display_name":"IvanD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76791589,"answer_count":2,"score":-1,"last_activity_date":1690589345,"creation_date":1690499708,"question_id":76783950,"body_markdown":"Today i faced with Lombok issue what annotation @AllArgsConstructor doesn&#39;t work. I have 1 superclass for my entities: \r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\npublic class BaseEntity {\r\n    protected int id;\r\n}\r\n```\r\n\r\nAnd also some child classes, for example User:\r\n\r\n```\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@SuperBuilder\r\npublic class User extends BaseEntity{\r\n    @Email\r\n    @NotNull\r\n    private String mail;\r\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,16}$&quot;)\r\n    @NotNull\r\n    private String password;\r\n    @Pattern(regexp = &quot;[a-zA-Z ,.&#39;-]+&quot;)\r\n    @NotNull\r\n    private String name;\r\n    @Pattern(regexp = &quot;[a-zA-Z ,.&#39;-]+&quot;)\r\n    @NotNull\r\n    private String surname;\r\n    @NotNull\r\n    private LocalDate date;\r\n    private Float currentBalance;\r\n    private String mobile;\r\n    private String street;\r\n    private String accommodationNumber;\r\n    private String flatNumber;\r\n}\r\n```\r\nAnd, for example, in such service method i try to build user and return it:\r\n\r\n```\r\n @Override\r\n    public User getUserByCredentials(String mail, String password) {\r\n        User user = null;\r\n        Connection connection = connectionPool.getConnection();\r\n        try {\r\n            PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\r\n            preparedStatement.setString(1, mail);\r\n            preparedStatement.setString(2, password);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            if (resultSet.next()) {\r\n                user = new User(resultSet.getInt(&quot;id&quot;), resultSet.getString(&quot;mail&quot;), resultSet.getString(&quot;password&quot;),\r\n                        resultSet.getString(&quot;name&quot;), resultSet.getString(&quot;surname&quot;), resultSet.getDate(&quot;date&quot;).toLocalDate(),\r\n                        resultSet.getFloat(&quot;balance&quot;), resultSet.getString(&quot;mobile&quot;),\r\n                        resultSet.getString(&quot;street&quot;), resultSet.getString(&quot;accommodation_number&quot;),\r\n                        resultSet.getString(&quot;flat_number&quot;));\r\n            }\r\n            return user;\r\n        } catch (SQLException e) {\r\n            logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\r\n            return null;\r\n        } finally {\r\n            connectionPool.closeConnection(connection);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nBut, as a result, i got error, that i don&#39;t have appropriate constructor \r\n[IDEA error](https://i.stack.imgur.com/rQzuF.png)\r\nNote, that it&#39;s spring-boot project and my dependency is:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n","title":"@AllArgsConstructor of Lombok doesn&#39;t work","body":"<p>Today i faced with Lombok issue what annotation @AllArgsConstructor doesn't work. I have 1 superclass for my entities:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\npublic class BaseEntity {\n    protected int id;\n}\n</code></pre>\n<p>And also some child classes, for example User:</p>\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@SuperBuilder\npublic class User extends BaseEntity{\n    @Email\n    @NotNull\n    private String mail;\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,16}$&quot;)\n    @NotNull\n    private String password;\n    @Pattern(regexp = &quot;[a-zA-Z ,.'-]+&quot;)\n    @NotNull\n    private String name;\n    @Pattern(regexp = &quot;[a-zA-Z ,.'-]+&quot;)\n    @NotNull\n    private String surname;\n    @NotNull\n    private LocalDate date;\n    private Float currentBalance;\n    private String mobile;\n    private String street;\n    private String accommodationNumber;\n    private String flatNumber;\n}\n</code></pre>\n<p>And, for example, in such service method i try to build user and return it:</p>\n<pre><code> @Override\n    public User getUserByCredentials(String mail, String password) {\n        User user = null;\n        Connection connection = connectionPool.getConnection();\n        try {\n            PreparedStatement preparedStatement = connection.prepareStatement(GET_USER_QUERY);\n            preparedStatement.setString(1, mail);\n            preparedStatement.setString(2, password);\n            ResultSet resultSet = preparedStatement.executeQuery();\n            if (resultSet.next()) {\n                user = new User(resultSet.getInt(&quot;id&quot;), resultSet.getString(&quot;mail&quot;), resultSet.getString(&quot;password&quot;),\n                        resultSet.getString(&quot;name&quot;), resultSet.getString(&quot;surname&quot;), resultSet.getDate(&quot;date&quot;).toLocalDate(),\n                        resultSet.getFloat(&quot;balance&quot;), resultSet.getString(&quot;mobile&quot;),\n                        resultSet.getString(&quot;street&quot;), resultSet.getString(&quot;accommodation_number&quot;),\n                        resultSet.getString(&quot;flat_number&quot;));\n            }\n            return user;\n        } catch (SQLException e) {\n            logger.warn(&quot;SQLException while getting user. Most likely request is wrong&quot;);\n            return null;\n        } finally {\n            connectionPool.closeConnection(connection);\n        }\n    }\n</code></pre>\n<p>But, as a result, i got error, that i don't have appropriate constructor\n<a href=\"https://i.stack.imgur.com/rQzuF.png\" rel=\"nofollow noreferrer\">IDEA error</a>\nNote, that it's spring-boot project and my dependency is:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690589147,"creation_date":1690589147,"answer_id":76791578,"question_id":76791417,"body_markdown":"You can do it like that:\r\n\r\n\r\n        CompletionStage&lt;Boolean&gt; result = names.stream()\r\n                .map(this::getCount)\r\n                .map(countFuture -&gt; countFuture.thenApply(value -&gt; value &gt; 0))\r\n                .reduce(CompletableFuture.completedFuture(false), (current, next) -&gt; current.thenCombine(next, Boolean::logicalOr))","title":"How to combine results from different CompletionStage in a for loop?","body":"<p>You can do it like that:</p>\n<pre><code>    CompletionStage&lt;Boolean&gt; result = names.stream()\n            .map(this::getCount)\n            .map(countFuture -&gt; countFuture.thenApply(value -&gt; value &gt; 0))\n            .reduce(CompletableFuture.completedFuture(false), (current, next) -&gt; current.thenCombine(next, Boolean::logicalOr))\n</code></pre>\n"}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76791578,"answer_count":1,"score":0,"last_activity_date":1690589147,"creation_date":1690585208,"question_id":76791417,"body_markdown":"I am trying to combine values from multiple CompletionStage. What is the best way to combine the different CompletionStage. Currently I have \r\n```\r\n//Given\r\nCompletionStage&lt;Long&gt; getCount(final String name);\r\n\r\nCompletionStage&lt;Boolean&gt; isAnyOneGreaterThanOne(){\r\n\r\n    final var futures = names.stream()\r\n                             .map(name -&gt; getCount(name))\r\n                             .collect(Collectors.toList());\r\n    \r\n    CompletionStage&lt;Boolean&gt; result = CompletableFuture.completedFuture(false);\r\n    for (final var future : futures){\r\n       result = result.thenCombine(\r\n                         futures.get(i), (previous, longValue) -&gt; previous || (longValue &gt; 0));\r\n    }\r\n    return result;\r\n}\r\n```\r\nIs there a neater/better way to do this?\r\n  ","title":"How to combine results from different CompletionStage in a for loop?","body":"<p>I am trying to combine values from multiple CompletionStage. What is the best way to combine the different CompletionStage. Currently I have</p>\n<pre><code>//Given\nCompletionStage&lt;Long&gt; getCount(final String name);\n\nCompletionStage&lt;Boolean&gt; isAnyOneGreaterThanOne(){\n\n    final var futures = names.stream()\n                             .map(name -&gt; getCount(name))\n                             .collect(Collectors.toList());\n    \n    CompletionStage&lt;Boolean&gt; result = CompletableFuture.completedFuture(false);\n    for (final var future : futures){\n       result = result.thenCombine(\n                         futures.get(i), (previous, longValue) -&gt; previous || (longValue &gt; 0));\n    }\n    return result;\n}\n</code></pre>\n<p>Is there a neater/better way to do this?</p>\n"},{"tags":["java","selenium-webdriver","selenium4"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690575780,"post_id":76789672,"comment_id":135378076,"body_markdown":"you&#39;ll probably need to call getWrappedElement() first as Select is a class object and not a direct webelement reference: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html","body":"you&#39;ll probably need to call getWrappedElement() first as Select is a class object and not a direct webelement reference: <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690588550,"creation_date":1690588550,"answer_id":76791551,"question_id":76789672,"body_markdown":"This error message...\r\n\r\n\tjava.lang.UnsupportedOperationException: getDomAttribute\r\n\tat org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131)\r\n\tat org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)\r\n\r\n...indicates a dependency conflict and it&#39;s almost always a dependency management issue.\r\n\r\n`getDomAttribute()` is a new addition in [tag:selenium4].\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- Your project is updated with the latest [Selenium](https://stackoverflow.com/a/54482491/7429447) release. (current release being _**v4.10.0**_)\r\n- Your project is correctly using the same version of [tag:selenium] libraries for everything and resolve the dependency conflicts following the article [HOW TO DEBUG DEPENDENCY CONFLICTS IN MAVEN AND GRADLE](https://www.javaadvent.com/2020/12/how-to-debug-dependency-conflicts-in-maven-and-gradle.html)\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussion in:\r\n\r\n- [[&#128027; Bug]: java.lang.UnsupportedOperationException: getDomAttribute while using select in Selenium 4](https://github.com/SeleniumHQ/selenium/issues/10905)\r\n- [[&#128027; Bug]: Getting UnsupportedOperationException when while selecting values from dropdowns in selenium-4.0.0](https://github.com/SeleniumHQ/selenium/issues/10290)","title":"Getting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4","body":"<p>This error message...</p>\n<pre><code>java.lang.UnsupportedOperationException: getDomAttribute\nat org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131)\nat org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)\n</code></pre>\n<p>...indicates a dependency conflict and it's almost always a dependency management issue.</p>\n<p><code>getDomAttribute()</code> is a new addition in <a href=\"/questions/tagged/selenium4\" class=\"post-tag\" title=\"show questions tagged &#39;selenium4&#39;\" aria-label=\"show questions tagged &#39;selenium4&#39;\" rel=\"tag\" aria-labelledby=\"tag-selenium4-tooltip-container\">selenium4</a>.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li>Your project is updated with the latest <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> release. (current release being <em><strong>v4.10.0</strong></em>)</li>\n<li>Your project is correctly using the same version of <a href=\"/questions/tagged/selenium\" class=\"post-tag\" title=\"show questions tagged &#39;selenium&#39;\" aria-label=\"show questions tagged &#39;selenium&#39;\" rel=\"tag\" aria-labelledby=\"tag-selenium-tooltip-container\">selenium</a> libraries for everything and resolve the dependency conflicts following the article <a href=\"https://www.javaadvent.com/2020/12/how-to-debug-dependency-conflicts-in-maven-and-gradle.html\" rel=\"nofollow noreferrer\">HOW TO DEBUG DEPENDENCY CONFLICTS IN MAVEN AND GRADLE</a></li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussion in:</p>\n<ul>\n<li><a href=\"https://github.com/SeleniumHQ/selenium/issues/10905\" rel=\"nofollow noreferrer\">[🐛 Bug]: java.lang.UnsupportedOperationException: getDomAttribute while using select in Selenium 4</a></li>\n<li><a href=\"https://github.com/SeleniumHQ/selenium/issues/10290\" rel=\"nofollow noreferrer\">[🐛 Bug]: Getting UnsupportedOperationException when while selecting values from dropdowns in selenium-4.0.0</a></li>\n</ul>\n"}],"owner":{"account_id":16129839,"reputation":21,"user_id":11643821,"display_name":"Snehal Bhosle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690588550,"creation_date":1690562737,"question_id":76789672,"body_markdown":"I am etting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4.. Does anyone know how to resolve this issue? my selenium version is 4.6.0. Tried multiple things but nothing worked..\r\n\r\n`java.lang.UnsupportedOperationException: getDomAttribute\r\nat org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131)\r\n  at org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)`","title":"Getting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4","body":"<p>I am etting java.lang.UnsupportedOperationException: getDomAttribute for Select in Selenium 4.. Does anyone know how to resolve this issue? my selenium version is 4.6.0. Tried multiple things but nothing worked..</p>\n<p><code>java.lang.UnsupportedOperationException: getDomAttribute at org.openqa.selenium.WebElement.getDomAttribute(WebElement.java:131) at org.openqa.selenium.support.ui.Select.&lt;init&gt;(Select.java:54)</code></p>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690588986,"post_id":69861993,"comment_id":135379331,"body_markdown":"&#39;Asynchronous wait&#39; is a contradiction in terms.","body":"&#39;Asynchronous wait&#39; is a contradiction in terms."}],"answers":[{"comments":[{"owner":{"account_id":22803354,"reputation":27,"user_id":16955717,"display_name":"dev-mirzabicer"},"score":0,"creation_date":1636204808,"post_id":69863337,"comment_id":123496807,"body_markdown":"Thank you a lot! I didn&#39;t try this in action yet, but I think it will! I will inform in here if this works.","body":"Thank you a lot! I didn&#39;t try this in action yet, but I think it will! I will inform in here if this works."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636204984,"post_id":69863337,"comment_id":123496837,"body_markdown":"Cool. If this also solves your problem, please upvote the answer, so its easier for others to find it and reuse it in their work.","body":"Cool. If this also solves your problem, please upvote the answer, so its easier for others to find it and reuse it in their work."},{"owner":{"account_id":22803354,"reputation":27,"user_id":16955717,"display_name":"dev-mirzabicer"},"score":1,"creation_date":1636205079,"post_id":69863337,"comment_id":123496859,"body_markdown":"I don&#39;t have 15 &quot;reputation&quot; therefore I can&#39;t upvote lol, but I did press upvote; which will impact the priority of your answer (at least that&#39;s what stackoverflow says).","body":"I don&#39;t have 15 &quot;reputation&quot; therefore I can&#39;t upvote lol, but I did press upvote; which will impact the priority of your answer (at least that&#39;s what stackoverflow says)."},{"owner":{"account_id":14000948,"reputation":405,"user_id":10112588,"display_name":"Donut"},"score":0,"creation_date":1636293935,"post_id":69863337,"comment_id":123512745,"body_markdown":"The correct solution is to use the Bukkit scheduler. Also you most likely want the code after the delay to run on the main server thread so you have to use the Bukkit scheduler anyways.","body":"The correct solution is to use the Bukkit scheduler. Also you most likely want the code after the delay to run on the main server thread so you have to use the Bukkit scheduler anyways."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690589037,"post_id":69863337,"comment_id":135379335,"body_markdown":"But what would be the point? The thread runs, sleeps, exits: nobody else knows anything about it.","body":"But what would be the point? The thread runs, sleeps, exits: nobody else knows anything about it."}],"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"comment_count":5,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1690588435,"creation_date":1636195823,"answer_id":69863337,"question_id":69861993,"body_markdown":"You can create a separate thread by implementing a `Runnable` interface like this and do the delay in there.\r\n\r\n```\r\n// This is happening in the main thread\r\nThread thread = new Thread(){\r\n    public void run(){\r\n      // This code will run async after you execute\r\n      // thead.start() below\r\n      try {\r\n        Thread.sleep(1000);\r\n        System.out.println(&quot;Time to wake up&quot;);\r\n      } catch (InterruptedException e) {\r\n        // See https://www.javaspecialists.eu/archive/Issue056-Shutting-down-Threads-Cleanly.html\r\n        Thread.currentThread().interrupt();\r\n      }\r\n    }\r\n  }\r\n\r\nthread.start();\r\n```","title":"Java asynchronously wait x seconds","body":"<p>You can create a separate thread by implementing a <code>Runnable</code> interface like this and do the delay in there.</p>\n<pre><code>// This is happening in the main thread\nThread thread = new Thread(){\n    public void run(){\n      // This code will run async after you execute\n      // thead.start() below\n      try {\n        Thread.sleep(1000);\n        System.out.println(&quot;Time to wake up&quot;);\n      } catch (InterruptedException e) {\n        // See https://www.javaspecialists.eu/archive/Issue056-Shutting-down-Threads-Cleanly.html\n        Thread.currentThread().interrupt();\n      }\n    }\n  }\n\nthread.start();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22803354,"reputation":27,"user_id":16955717,"display_name":"dev-mirzabicer"},"score":0,"creation_date":1636831981,"post_id":69873086,"comment_id":123664236,"body_markdown":"Shouldn&#39;t I use &quot;runTaskLaterAsynchronously&quot; instead? Thank you so much, by the way.","body":"Shouldn&#39;t I use &quot;runTaskLaterAsynchronously&quot; instead? Thank you so much, by the way."},{"owner":{"account_id":14000948,"reputation":405,"user_id":10112588,"display_name":"Donut"},"score":0,"creation_date":1636849372,"post_id":69873086,"comment_id":123667364,"body_markdown":"No, only use runTaskLaterAsynchronously if you want the code to run asynchronously after the delay. You most likely want the code to run on the main server thread after the delay which is what runTaskLater does (the main server thread is not blocked during the delay).","body":"No, only use runTaskLaterAsynchronously if you want the code to run asynchronously after the delay. You most likely want the code to run on the main server thread after the delay which is what runTaskLater does (the main server thread is not blocked during the delay)."}],"tags":[],"owner":{"account_id":14000948,"reputation":405,"user_id":10112588,"display_name":"Donut"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636294010,"creation_date":1636293460,"answer_id":69873086,"question_id":69861993,"body_markdown":"Use the [Bukkit scheduler](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html).\r\n```java\r\nBukkit.getScheduler().runTaskLater(yourPluginInstance, () -&gt; {\r\n    // put code here to run after the delay\r\n}, delayInTicks);\r\n```\r\nWhen the code runs after the delay it will run on the main server thread.","title":"Java asynchronously wait x seconds","body":"<p>Use the <a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html\" rel=\"nofollow noreferrer\">Bukkit scheduler</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.getScheduler().runTaskLater(yourPluginInstance, () -&gt; {\n    // put code here to run after the delay\n}, delayInTicks);\n</code></pre>\n<p>When the code runs after the delay it will run on the main server thread.</p>\n"}],"owner":{"account_id":22803354,"reputation":27,"user_id":16955717,"display_name":"dev-mirzabicer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69873086,"answer_count":2,"score":0,"last_activity_date":1690588435,"creation_date":1636181130,"question_id":69861993,"body_markdown":"To give some details about what I&#39;m trying to do: I&#39;m making a Minecraft plugin in Java. I have an Object which is bound to the Player object of Minecraft using a HashMap.\r\n\r\nI have a method in this object which is something like:\r\n\r\n```    \r\n    public void faint() {\r\n        ... //Apply the effect on the player\r\n\r\n        //wait for x seconds, and if the player didn&#39;t already wake up, wake them up. (player.wakeUp())\r\n    }\r\n```\r\n\r\nObviously, there will be a lot of stuff going on, so I want this to happen asynchronously. The timer will go on in the background and it won&#39;t block anything else in the code.\r\n\r\nSorry if my question is too simple, but I really checked the web and I&#39;m new to Java, so forgive my ignorance.","title":"Java asynchronously wait x seconds","body":"<p>To give some details about what I'm trying to do: I'm making a Minecraft plugin in Java. I have an Object which is bound to the Player object of Minecraft using a HashMap.</p>\n<p>I have a method in this object which is something like:</p>\n<pre><code>    public void faint() {\n        ... //Apply the effect on the player\n\n        //wait for x seconds, and if the player didn't already wake up, wake them up. (player.wakeUp())\n    }\n</code></pre>\n<p>Obviously, there will be a lot of stuff going on, so I want this to happen asynchronously. The timer will go on in the background and it won't block anything else in the code.</p>\n<p>Sorry if my question is too simple, but I really checked the web and I'm new to Java, so forgive my ignorance.</p>\n"},{"tags":["java","enums","apache-camel","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690586779,"post_id":76791470,"comment_id":135379174,"body_markdown":"I do not understand the problem. The class `ContactMedium` has no field of type `mediumType`, thus there is nothing to set. Please [edit] the pot and clarify. --- As an aside: the enum `mediumType` should start with an uppercase letter (`mediumType` -&gt; `MeditumType`).","body":"I do not understand the problem. The class <code>ContactMedium</code> has no field of type <code>mediumType</code>, thus there is nothing to set. Please <a href=\"https://stackoverflow.com/posts/76791470/edit\">edit</a> the pot and clarify. --- As an aside: the enum <code>mediumType</code> should start with an uppercase letter (<code>mediumType</code> -&gt; <code>MeditumType</code>)."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1690587949,"post_id":76791470,"comment_id":135379251,"body_markdown":"I just edited my question, I clarify that I need to access or somehow set the enum MediumType field in the construction, however, I don&#39;t know if this is possible through the loobok builder","body":"I just edited my question, I clarify that I need to access or somehow set the enum MediumType field in the construction, however, I don&#39;t know if this is possible through the loobok builder"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690588287,"post_id":76791470,"comment_id":135379284,"body_markdown":"Again: The class `ContactMedium` has no field of type `MediumType`, thus there is nothing to set. This is not really related to lombok. I suspect that the class is simply missing a field of type `MediumType`.","body":"Again: The class <code>ContactMedium</code> has no field of type <code>MediumType</code>, thus there is nothing to set. This is not really related to lombok. I suspect that the class is simply missing a field of type <code>MediumType</code>."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1690589058,"post_id":76791470,"comment_id":135379338,"body_markdown":"And how do I add a field called Medium Type that is of type enum the ContactMedium class? Is this possible?","body":"And how do I add a field called Medium Type that is of type enum the ContactMedium class? Is this possible?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690589304,"post_id":76791470,"comment_id":135379353,"body_markdown":"I never said you should add a field called `MediumType`, but of type `MediumType`. We can use enum types just like regular types. Just as we declare a field `String foo`, we can declare a field `MediumType foo`. I recommend reviewing/refreshing the language constructs before using advanced frameworks like lombok, jackson, ...","body":"I never said you should add a field called <code>MediumType</code>, but of type <code>MediumType</code>. We can use enum types just like regular types. Just as we declare a field <code>String foo</code>, we can declare a field <code>MediumType foo</code>. I recommend reviewing/refreshing the language constructs before using advanced frameworks like lombok, jackson, ..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690589484,"post_id":76791470,"comment_id":135379363,"body_markdown":"Declaring a nested `enum`, as you are doing, just creates the type, it doesn&#39;t create a field of that type in the enclosing class.","body":"Declaring a nested <code>enum</code>, as you are doing, just creates the type, it doesn&#39;t create a field of that type in the enclosing class."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1690589760,"post_id":76791470,"comment_id":135379380,"body_markdown":"@tgdavies And how do I generate it in the attached class? Let it be a parameter that I can access in the construction","body":"@tgdavies And how do I generate it in the attached class? Let it be a parameter that I can access in the construction"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690589825,"post_id":76791470,"comment_id":135379394,"body_markdown":"As @Turing85 said, just like any other field: `private MediumType myFieldName;`","body":"As @Turing85 said, just like any other field: <code>private MediumType myFieldName;</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690589860,"post_id":76791470,"comment_id":135379396,"body_markdown":"And do things without lombok for now, you&#39;ll learn more.","body":"And do things without lombok for now, you&#39;ll learn more."}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690587817,"creation_date":1690586545,"question_id":76791470,"body_markdown":"Good afternoon, I am currently working with quarkus and apache camen and I have a class called ContactMedium in which I must use enum called MediumType, as I show below:\r\n\r\n    package org.tmve.customer.ms.beans;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import io.quarkus.runtime.annotations.RegisterForReflection;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Getter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @RegisterForReflection\r\n    @Builder\r\n    public class ContactMedium {\r\n    \r\n        public enum MediumType {\r\n            TELEPHONE_NUMBER(&quot;telephone_number&quot;), POSTAL_ADDRESS(&quot;postal_address&quot;);\r\n            private String value;\r\n    \r\n            MediumType(String value) {\r\n                this.value = value;\r\n            }\r\n        }\r\n        @JsonProperty(&quot;characteristic&quot;)\r\n        private Characteristic characteristic;\r\n    }\r\n\r\nThe problem I&#39;m having is that when I want to use the loombok generator, I can&#39;t find how to compile for the enum type parameter called mediumType and I don&#39;t want to use a plain string type variable:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe line that I am using to build is the following:\r\n\r\n    ContactMedium phoneNumber=ContactMedium.builder().\r\n\r\nIs there a way to work with lombok builder and enum?\r\n\r\n  [1]: https://i.stack.imgur.com/UHc96.png\r\n","title":"Using Builder Lombok with enum in java","body":"<p>Good afternoon, I am currently working with quarkus and apache camen and I have a class called ContactMedium in which I must use enum called MediumType, as I show below:</p>\n<pre><code>package org.tmve.customer.ms.beans;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport io.quarkus.runtime.annotations.RegisterForReflection;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\n@RegisterForReflection\n@Builder\npublic class ContactMedium {\n\n    public enum MediumType {\n        TELEPHONE_NUMBER(&quot;telephone_number&quot;), POSTAL_ADDRESS(&quot;postal_address&quot;);\n        private String value;\n\n        MediumType(String value) {\n            this.value = value;\n        }\n    }\n    @JsonProperty(&quot;characteristic&quot;)\n    private Characteristic characteristic;\n}\n</code></pre>\n<p>The problem I'm having is that when I want to use the loombok generator, I can't find how to compile for the enum type parameter called mediumType and I don't want to use a plain string type variable:</p>\n<p><a href=\"https://i.stack.imgur.com/UHc96.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHc96.png\" alt=\"enter image description here\" /></a></p>\n<p>The line that I am using to build is the following:</p>\n<pre><code>ContactMedium phoneNumber=ContactMedium.builder().\n</code></pre>\n<p>Is there a way to work with lombok builder and enum?</p>\n"},{"tags":["java","reactjs","next.js"],"owner":{"account_id":10243044,"reputation":258,"user_id":7559822,"display_name":"chree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690587625,"creation_date":1690587291,"question_id":76791501,"body_markdown":"I am trying to learn how to build an HTTP server with Java alone before I get to Springboot. As I was working on this REST API, I tried to make a request via Next.js. There are no errors, but I cannot get the data for some reason. I am guessing its the CORS policy on the Java server. \r\n\r\nSO I would like to know how to enable CORS in the main file if possible.\r\n\r\nMAIN FILE:: Sets up the server with a thread poool of 10 and calls MyHTTPHandler\r\n\r\n    package org.example;\r\n    \r\n    import com.sun.net.httpserver.HttpServer;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ThreadPoolExecutor;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            HttpServer server = HttpServer.create(new InetSocketAddress(&quot;localhost&quot;, 8080), 0);\r\n            ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n    \r\n            server.createContext(&quot;/test&quot;, new MyHttpHandler());\r\n            server.setExecutor(threadPoolExecutor);\r\n            server.start();\r\n            System.out.println(&quot;Server started on port 8080&quot;);\r\n        }\r\n    }\r\n\r\nHTTP HANDLER:: A simple GET request for the browser to send the message &quot;HEELLO&quot;\r\n\r\n    package org.example;\r\n    \r\n    import com.sun.net.httpserver.HttpExchange;\r\n    import com.sun.net.httpserver.HttpHandler;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    public class MyHttpHandler implements HttpHandler {\r\n        @Override\r\n        public void handle(HttpExchange httpExchange) throws IOException {\r\n            System.out.println(&quot;REQUEST_METHOD::&quot; + httpExchange.getRequestMethod());\r\n    \r\n            OutputStream outputStream = httpExchange.getResponseBody();\r\n            String str = &quot;HEELLO&quot;;\r\n            if(httpExchange.getRequestMethod().equals(&quot;GET&quot;)){\r\n                httpExchange.sendResponseHeaders(200, str.length());\r\n                outputStream.write(str.getBytes());\r\n                outputStream.flush();\r\n                outputStream.close();\r\n            }\r\n        }\r\n    }\r\n\r\nNEXT.JS FETCH FUNCTION:: Gets the data from the Java Rest API and displays it in the console\r\n\r\n    async function gett() {\r\n        const res = await fetch(`http://localhost:8080/test`)\r\n    \r\n        return res\r\n      }\r\n    \r\n    export default async function Page() {\r\n    \r\n        const getData = gett()\r\n    \r\n        const [data1] = await Promise.all([getData])\r\n    \r\n        console.log(data1)\r\n    \r\n        return &lt;h1&gt;DASHBOARD/settings&lt;/h1&gt;\r\n      }\r\n\r\nThis Code doesn&#39;t seem to throw any errors but I feel like I am missing something with the NEXT.js code that I cant find on Google. Essentially, the fetch does not seem to work. I believe its becuase of Java&#39;s CORS policy, but I am not sure how Java is set by default and there is no notification, or error message about it.\r\n\r\nThanks in advance","title":"Enable CORS in Java without spring (Just vanilla Java)","body":"<p>I am trying to learn how to build an HTTP server with Java alone before I get to Springboot. As I was working on this REST API, I tried to make a request via Next.js. There are no errors, but I cannot get the data for some reason. I am guessing its the CORS policy on the Java server.</p>\n<p>SO I would like to know how to enable CORS in the main file if possible.</p>\n<p>MAIN FILE:: Sets up the server with a thread poool of 10 and calls MyHTTPHandler</p>\n<pre><code>package org.example;\n\nimport com.sun.net.httpserver.HttpServer;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadPoolExecutor;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        HttpServer server = HttpServer.create(new InetSocketAddress(&quot;localhost&quot;, 8080), 0);\n        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n\n        server.createContext(&quot;/test&quot;, new MyHttpHandler());\n        server.setExecutor(threadPoolExecutor);\n        server.start();\n        System.out.println(&quot;Server started on port 8080&quot;);\n    }\n}\n</code></pre>\n<p>HTTP HANDLER:: A simple GET request for the browser to send the message &quot;HEELLO&quot;</p>\n<pre><code>package org.example;\n\nimport com.sun.net.httpserver.HttpExchange;\nimport com.sun.net.httpserver.HttpHandler;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class MyHttpHandler implements HttpHandler {\n    @Override\n    public void handle(HttpExchange httpExchange) throws IOException {\n        System.out.println(&quot;REQUEST_METHOD::&quot; + httpExchange.getRequestMethod());\n\n        OutputStream outputStream = httpExchange.getResponseBody();\n        String str = &quot;HEELLO&quot;;\n        if(httpExchange.getRequestMethod().equals(&quot;GET&quot;)){\n            httpExchange.sendResponseHeaders(200, str.length());\n            outputStream.write(str.getBytes());\n            outputStream.flush();\n            outputStream.close();\n        }\n    }\n}\n</code></pre>\n<p>NEXT.JS FETCH FUNCTION:: Gets the data from the Java Rest API and displays it in the console</p>\n<pre><code>async function gett() {\n    const res = await fetch(`http://localhost:8080/test`)\n\n    return res\n  }\n\nexport default async function Page() {\n\n    const getData = gett()\n\n    const [data1] = await Promise.all([getData])\n\n    console.log(data1)\n\n    return &lt;h1&gt;DASHBOARD/settings&lt;/h1&gt;\n  }\n</code></pre>\n<p>This Code doesn't seem to throw any errors but I feel like I am missing something with the NEXT.js code that I cant find on Google. Essentially, the fetch does not seem to work. I believe its becuase of Java's CORS policy, but I am not sure how Java is set by default and there is no notification, or error message about it.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","elasticsearch","kibana"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1690586037,"post_id":76791106,"comment_id":135379109,"body_markdown":"Avoid using images. Use the tools to add code snippets in the question. Make it easy for those who will reproduce the scenario.","body":"Avoid using images. Use the tools to add code snippets in the question. Make it easy for those who will reproduce the scenario."}],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690587382,"creation_date":1690587382,"answer_id":76791504,"question_id":76791106,"body_markdown":"I think this query can help you:\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;nested&quot;: {\r\n          &quot;path&quot;: &quot;txn_info&quot;,\r\n          &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n              &quot;must&quot;: [\r\n                {\r\n                  &quot;term&quot;: {\r\n                    &quot;txn_info.store_number&quot;: {\r\n                      &quot;value&quot;: 1\r\n                    }\r\n                  }\r\n                }\r\n              ], \r\n              &quot;must_not&quot;: [\r\n                {\r\n                  &quot;bool&quot;: {\r\n                    &quot;filter&quot;: [\r\n                      {\r\n                        &quot;range&quot;: {\r\n                          &quot;txn_info.txt_date&quot;: {\r\n                            &quot;gte&quot;: &quot;2021-08-09&quot;,\r\n                            &quot;lte&quot;: &quot;2021-08-09&quot;\r\n                          }\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"I am trying to filter results from an array in elasticsearch is a nested fields, but the results are not as expected","body":"<p>I think this query can help you:</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;nested&quot;: {\n      &quot;path&quot;: &quot;txn_info&quot;,\n      &quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;must&quot;: [\n            {\n              &quot;term&quot;: {\n                &quot;txn_info.store_number&quot;: {\n                  &quot;value&quot;: 1\n                }\n              }\n            }\n          ], \n          &quot;must_not&quot;: [\n            {\n              &quot;bool&quot;: {\n                &quot;filter&quot;: [\n                  {\n                    &quot;range&quot;: {\n                      &quot;txn_info.txt_date&quot;: {\n                        &quot;gte&quot;: &quot;2021-08-09&quot;,\n                        &quot;lte&quot;: &quot;2021-08-09&quot;\n                      }\n                    }\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":29113839,"reputation":1,"user_id":22303042,"display_name":"Kaushik R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690587382,"creation_date":1690579558,"question_id":76791106,"body_markdown":"I am trying to filter results for store number 1 which are not in a specific date range which in my case is from 2023-01-27 to 2023-07-27, but the result hits are not including which should have.\r\nFor example, store number does not have transaction between 2023-01-27 to 2023-07-27, but other store number has transaction in the above date range and is excluding from the result.\r\n\r\ntxn_info is a nested object which is an array of objects which has transaction date and store number similar to\r\n\r\n[data structure in elastic](https://i.stack.imgur.com/gate8.png)\r\n\r\nBasically, I should be able to filter based on combination of both store number and txn_date (if store number is one and for str num 1, txn_date should not be between 2023-01-27 to 2023-07-27\r\n\r\nMy query:\r\n    \r\n[code](https://i.stack.imgur.com/jD9RI.png)","title":"I am trying to filter results from an array in elasticsearch is a nested fields, but the results are not as expected","body":"<p>I am trying to filter results for store number 1 which are not in a specific date range which in my case is from 2023-01-27 to 2023-07-27, but the result hits are not including which should have.\nFor example, store number does not have transaction between 2023-01-27 to 2023-07-27, but other store number has transaction in the above date range and is excluding from the result.</p>\n<p>txn_info is a nested object which is an array of objects which has transaction date and store number similar to</p>\n<p><a href=\"https://i.stack.imgur.com/gate8.png\" rel=\"nofollow noreferrer\">data structure in elastic</a></p>\n<p>Basically, I should be able to filter based on combination of both store number and txn_date (if store number is one and for str num 1, txn_date should not be between 2023-01-27 to 2023-07-27</p>\n<p>My query:</p>\n<p><a href=\"https://i.stack.imgur.com/jD9RI.png\" rel=\"nofollow noreferrer\">code</a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690588604,"post_id":76791480,"comment_id":135379306,"body_markdown":"Welcome to Stack Overflow. It might help if you take the [tour](https://stackoverflow.com/tour) and see [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask) and other pages in the help center. In its current state, the question risks being [closed](https://stackoverflow.com/help/closed-questions) for being opinion-based.","body":"Welcome to Stack Overflow. It might help if you take the <a href=\"https://stackoverflow.com/tour\">tour</a> and see <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a> and other pages in the help center. In its current state, the question risks being <a href=\"https://stackoverflow.com/help/closed-questions\">closed</a> for being opinion-based."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690588633,"post_id":76791480,"comment_id":135379309,"body_markdown":"Can you, please, edit the question to tell us why you are having trouble deciding?","body":"Can you, please, edit the question to tell us why you are having trouble deciding?"},{"owner":{"account_id":5643193,"reputation":607,"user_id":4466258,"display_name":"Asiri Hewage"},"score":1,"creation_date":1690615003,"post_id":76791480,"comment_id":135380798,"body_markdown":"Considering the specifications of your computer (i7 8565u, MX130, 16GB RAM), it should be able to handle the latest version of Android Studio without any issues.","body":"Considering the specifications of your computer (i7 8565u, MX130, 16GB RAM), it should be able to handle the latest version of Android Studio without any issues."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1690667067,"post_id":76791480,"comment_id":135386207,"body_markdown":"Old versions may expect online resources that no longer exist, so just use the latest version.","body":"Old versions may expect online resources that no longer exist, so just use the latest version."}],"owner":{"account_id":25608099,"reputation":1,"user_id":19381900,"display_name":"Aliemreyr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690586787,"creation_date":1690586787,"question_id":76791480,"body_markdown":"my computer has I7 8565u, MX130, 16 Gb Ram. I want to install Android Studio. Is it more stable to install the latest version or to install any version from 2019?\r\n\r\nI couldn&#39;t decide which path to follow.\r\n\r\nPlease help me....","title":"Does it make more sense to install Android Studio on my device, old version or current version?","body":"<p>my computer has I7 8565u, MX130, 16 Gb Ram. I want to install Android Studio. Is it more stable to install the latest version or to install any version from 2019?</p>\n<p>I couldn't decide which path to follow.</p>\n<p>Please help me....</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":0,"creation_date":1387196271,"post_id":20610769,"comment_id":30842394,"body_markdown":"http://stackoverflow.com/questions/4706199/post-increment-and-pre-increment-within-a-for-loop-produce-same-output (Question is asked for C++ but the answer applies to Java as well)","body":"<a href=\"http://stackoverflow.com/questions/4706199/post-increment-and-pre-increment-within-a-for-loop-produce-same-output\" title=\"post increment and pre increment within a for loop produce same output\">stackoverflow.com/questions/4706199/&hellip;</a> (Question is asked for C++ but the answer applies to Java as well)"},{"owner":{"account_id":3125647,"reputation":4884,"user_id":2644553,"accept_rate":90,"display_name":"Kamlesh Meghwal"},"score":1,"creation_date":1387196745,"post_id":20610769,"comment_id":30842634,"body_markdown":"http://en.wikipedia.org/wiki/Increment_and_decrement_operators","body":"<a href=\"http://en.wikipedia.org/wiki/Increment_and_decrement_operators\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Increment_and_decrement_operators</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1387199612,"post_id":20610769,"comment_id":30844252,"body_markdown":"In this case `--size` reverses what `size++` does.  The important difference is the value left over by the operation.","body":"In this case <code>--size</code> reverses what <code>size++</code> does.  The important difference is the value left over by the operation."},{"owner":{"display_name":"user9016207"},"score":0,"creation_date":1522461296,"post_id":20610769,"comment_id":86175034,"body_markdown":"How is this off-topic?","body":"How is this off-topic?"}],"answers":[{"tags":[],"owner":{"account_id":2610244,"reputation":3750,"user_id":2260473,"accept_rate":82,"display_name":"Denim Datta"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1690585889,"creation_date":1387196451,"answer_id":20610840,"question_id":20610769,"body_markdown":"**Postfix Operation**:\r\n\r\n`a++` or `a--` is postfix operation, meaning that the value of a will get changed after the evaluation of expression.\r\n\r\n    x = a++;\r\n    // This can be rewritten as\r\n    x = a;\r\n    a = a+1;\r\n\r\n    // Similarly\r\n    y = a--;\r\n    // is equivalent to\r\n    y = a;\r\n    a = a-1;\r\n\r\n**Prefix Operation**:\r\n    \r\n`++a` or `--a` is prefix operation, meaning that the value of a will get changed before the evaluation of expression.\r\n\r\n    x = ++a;\r\n    // This can be rewritten as\r\n    a = a+1;\r\n    x = a;\r\n\r\n    // Similarly\r\n    y = --a;\r\n    // is equivalent to\r\n    a = a-1;\r\n    y = a;\r\n\r\n**Example**:\r\n\r\nlets assume this;\r\n\r\n    a = 4;\r\n    \r\n    b = a++; // first b will be 4, and after this a will be 5\r\n\r\n    // now a value is 5\r\n    c = ++a; // first a will be 6, then 6 will be assigned to c\r\n\r\nRefer [this answer][1] also.\r\n\r\n[1]: https://stackoverflow.com/a/4706225/2260473","title":"what is the difference between a++ and ++a or a-- and --a in java?","body":"<p><strong>Postfix Operation</strong>:</p>\n<p><code>a++</code> or <code>a--</code> is postfix operation, meaning that the value of a will get changed after the evaluation of expression.</p>\n<pre><code>x = a++;\n// This can be rewritten as\nx = a;\na = a+1;\n\n// Similarly\ny = a--;\n// is equivalent to\ny = a;\na = a-1;\n</code></pre>\n<p><strong>Prefix Operation</strong>:</p>\n<p><code>++a</code> or <code>--a</code> is prefix operation, meaning that the value of a will get changed before the evaluation of expression.</p>\n<pre><code>x = ++a;\n// This can be rewritten as\na = a+1;\nx = a;\n\n// Similarly\ny = --a;\n// is equivalent to\na = a-1;\ny = a;\n</code></pre>\n<p><strong>Example</strong>:</p>\n<p>lets assume this;</p>\n<pre><code>a = 4;\n\nb = a++; // first b will be 4, and after this a will be 5\n\n// now a value is 5\nc = ++a; // first a will be 6, then 6 will be assigned to c\n</code></pre>\n<p>Refer <a href=\"https://stackoverflow.com/a/4706225/2260473\">this answer</a> also.</p>\n"}],"owner":{"account_id":2500490,"reputation":63,"user_id":2175736,"display_name":"Ghadeer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54394,"favorite_count":0,"down_vote_count":6,"up_vote_count":6,"closed_date":1387196555,"accepted_answer_id":20610840,"answer_count":1,"score":0,"last_activity_date":1690585889,"creation_date":1387196182,"question_id":20610769,"body_markdown":"     public void push(E element) {\r\n        if (size == elements.length) {\r\n            resize(); // doubel of size\r\n        }\r\n        elements[size++] = element;\r\n    }\r\n\r\n\r\n    public E pop() {\r\n        if (size == 0) {\r\n            throw new java.util.EmptyStackException();\r\n        }\r\n        E element = elements[--size];\r\n        elements[size] = null; // set null in last top\r\n        return element;\r\n    }\r\n\r\n\r\nwhat is the difference between a++ and ++a or a-- and --a  in java\r\n\r\nthanks\r\n\r\n\r\n","title":"what is the difference between a++ and ++a or a-- and --a in java?","body":"<pre><code> public void push(E element) {\n    if (size == elements.length) {\n        resize(); // doubel of size\n    }\n    elements[size++] = element;\n}\n\n\npublic E pop() {\n    if (size == 0) {\n        throw new java.util.EmptyStackException();\n    }\n    E element = elements[--size];\n    elements[size] = null; // set null in last top\n    return element;\n}\n</code></pre>\n\n<p>what is the difference between a++ and ++a or a-- and --a  in java</p>\n\n<p>thanks</p>\n"},{"tags":["java","c","sockets","udp","packet"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690558865,"post_id":76789186,"comment_id":135375408,"body_markdown":"It would be more conventional for the client to specify the protocol as 0 when creating the socket: `socket(AF_INET, SOCK_DGRAM, 0)`.  I don&#39;t think that&#39;s causing your probalem, though.","body":"It would be more conventional for the client to specify the protocol as 0 when creating the socket: <code>socket(AF_INET, SOCK_DGRAM, 0)</code>.  I don&#39;t think that&#39;s causing your probalem, though."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1690559257,"post_id":76789186,"comment_id":135375479,"body_markdown":"If memory serves me, Datagram sockets are for doing UDP. Do you understand the ramifications of using UDP, and is this what you want?","body":"If memory serves me, Datagram sockets are for doing UDP. Do you understand the ramifications of using UDP, and is this what you want?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690559594,"post_id":76789186,"comment_id":135375541,"body_markdown":"*inet_addr(&quot;127.0.0.1&quot;),* binding to the loopback address means nothing is going to get to or leave that machine","body":"<i>inet_addr(&quot;127.0.0.1&quot;),</i> binding to the loopback address means nothing is going to get to or leave that machine"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1690559620,"post_id":76789186,"comment_id":135375545,"body_markdown":"My (strong) suggestion is to use WebSockets over raw sockets. Websockets take care of so much plumbing for you. Also, if you&#39;re set on using regular sockets, you might want to look at ServerSocketEx (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java). It again takes care of some of the socket plumbing for you.","body":"My (strong) suggestion is to use WebSockets over raw sockets. Websockets take care of so much plumbing for you. Also, if you&#39;re set on using regular sockets, you might want to look at ServerSocketEx (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>). It again takes care of some of the socket plumbing for you."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690563680,"creation_date":1690559966,"answer_id":76789386,"question_id":76789186,"body_markdown":"Your server&#39;s\r\n&gt; ```\r\n&gt;         DatagramSocket datagramSocket = new DatagramSocket();\r\n&gt; ```\r\ncreates a datagram socket *listening on an arbitrary port*.  That port is unlikely to be the one to which your client is sending.  Instead, one would ordinarily create a socket bound to a specific service port, known in advance to your clients. You seem to want this, on port 5555, as your client is hardcoded to send data to that port.  In other words, you seem to want something more like this:\r\n```\r\n        DatagramSocket datagramSocket = new DatagramSocket(5555);\r\n```\r\nThat will bind the socket to all the machine&#39;s network addresses, but you can instead specify a specific one if you prefer.\r\n\r\nYou seem to have had the idea that you could instead convey the port (and address) at which to receive via the `DatagramPacket`, but it does not work that way.  Those are properties of the socket, not of the packet, and `DatagramSocket.receive()` ignores the address and port initially set on the provided packet.  It would be clearer, then, to initialize the packet without them:\r\n```\r\n        DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length);\r\n```\r\nOn successful receipt of a packet, `DatagramSocket.receive()` *sets* the address and port of the packet object to the source address and port, which is important if you want to send a response or string together multiple packets into a broader conversation.\r\n","title":"How to send byte from c client to java server?","body":"<p>Your server's</p>\n<blockquote>\n<pre><code>        DatagramSocket datagramSocket = new DatagramSocket();\n</code></pre>\n</blockquote>\n<p>creates a datagram socket <em>listening on an arbitrary port</em>.  That port is unlikely to be the one to which your client is sending.  Instead, one would ordinarily create a socket bound to a specific service port, known in advance to your clients. You seem to want this, on port 5555, as your client is hardcoded to send data to that port.  In other words, you seem to want something more like this:</p>\n<pre><code>        DatagramSocket datagramSocket = new DatagramSocket(5555);\n</code></pre>\n<p>That will bind the socket to all the machine's network addresses, but you can instead specify a specific one if you prefer.</p>\n<p>You seem to have had the idea that you could instead convey the port (and address) at which to receive via the <code>DatagramPacket</code>, but it does not work that way.  Those are properties of the socket, not of the packet, and <code>DatagramSocket.receive()</code> ignores the address and port initially set on the provided packet.  It would be clearer, then, to initialize the packet without them:</p>\n<pre><code>        DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length);\n</code></pre>\n<p>On successful receipt of a packet, <code>DatagramSocket.receive()</code> <em>sets</em> the address and port of the packet object to the source address and port, which is important if you want to send a response or string together multiple packets into a broader conversation.</p>\n"},{"tags":[],"owner":{"account_id":21847072,"reputation":957,"user_id":16139739,"display_name":"user16139739"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690585887,"creation_date":1690585887,"answer_id":76791442,"question_id":76789186,"body_markdown":"And, once you fix the problems John Bollinger pointed out:\r\n\r\n&gt;     int length = header.len;\r\n&gt;     \r\n&gt;     while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\r\n&gt;         if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\r\n&gt;               printf(&quot;ERR: %d\\n&quot;, errno);    \r\n&gt;     }\r\n\r\n`header.len` doesn&#39;t have a meaningful value until *after* `pcap_next()` returns, and the value is *different* after each call to `pcap_next()`, because there is no guarantee that all packets are the same length.\r\n\r\nDo\r\n\r\n    while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\r\n        int langth = header.len;\r\n        if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\r\n              printf(&quot;ERR: %d\\n&quot;, errno);\r\n    }\r\n\r\n&gt;     byte[] header = new byte[headerLen];\r\n&gt;     byte[] data = new byte[datagramPacket.getLength() - headerLen];\r\n&gt;     \r\n&gt;     for (int i = 0; i &lt; headerLen; i++){\r\n&gt;         header[i] = datagramPacket.getData()[i];\r\n&gt;     }\r\n&gt;     for (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\r\n&gt;         data[i - headerLen] = datagramPacket.getData()[i];\r\n&gt;     }\r\n\r\nThis code assume that what it receives over the network is a 16-byte pcap header followed by the packet data.\r\n\r\nHowever, your server is *not* sending the pcap header, it&#39;s *only* sending the packet data, so this won&#39;t work.","title":"How to send byte from c client to java server?","body":"<p>And, once you fix the problems John Bollinger pointed out:</p>\n<blockquote>\n<pre><code>int length = header.len;\n\nwhile ((packet = pcap_next(pcap, &amp;header)) != NULL) {\n    if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\n          printf(&quot;ERR: %d\\n&quot;, errno);    \n}\n</code></pre>\n</blockquote>\n<p><code>header.len</code> doesn't have a meaningful value until <em>after</em> <code>pcap_next()</code> returns, and the value is <em>different</em> after each call to <code>pcap_next()</code>, because there is no guarantee that all packets are the same length.</p>\n<p>Do</p>\n<pre><code>while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\n    int langth = header.len;\n    if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\n          printf(&quot;ERR: %d\\n&quot;, errno);\n}\n</code></pre>\n<blockquote>\n<pre><code>byte[] header = new byte[headerLen];\nbyte[] data = new byte[datagramPacket.getLength() - headerLen];\n\nfor (int i = 0; i &lt; headerLen; i++){\n    header[i] = datagramPacket.getData()[i];\n}\nfor (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\n    data[i - headerLen] = datagramPacket.getData()[i];\n}\n</code></pre>\n</blockquote>\n<p>This code assume that what it receives over the network is a 16-byte pcap header followed by the packet data.</p>\n<p>However, your server is <em>not</em> sending the pcap header, it's <em>only</em> sending the packet data, so this won't work.</p>\n"}],"owner":{"account_id":24448437,"reputation":47,"user_id":18371004,"display_name":"sangeun jo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76789386,"answer_count":2,"score":1,"last_activity_date":1690585887,"creation_date":1690558148,"question_id":76789186,"body_markdown":"\r\nI try to send byte data from C client to Java server. \r\nC client didn&#39;t return error code, but Java server couldn&#39;t receive anything. \r\nWhat&#39;s wrong with my code? \r\nI thought I should send packet as byte, but if there is more good way to pass packet data from c to java, please recommend.\r\n\r\nC server\r\n\r\n    pcap_t *pcap;\r\n    char errbuf[PCAP_ERRBUF_SIZE];\r\n    const unsigned char *packet;\r\n    struct pcap_pkthdr header;\r\n    int offset = 0, sock;\r\n\r\n    struct sockaddr_in sin = {\r\n                .sin_family = AF_INET,\r\n                .sin_port = htons(5555),\r\n                .sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;),\r\n                .sin_zero = { 0 }\r\n    };\r\n\r\n    sock = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP);\r\n\r\n    if(!sock) {\r\n         printf(&quot;ERR: socket\\n&quot;);\r\n         return;\r\n    }\r\n\r\n    pcap = pcap_open_live(&quot;wlan0&quot;, BUFSIZ, 1, 0, errbuf);\r\n\r\n    if(!pcap) {\r\n         printf(&quot;ERR: %s\\n&quot;, errbuf);\r\n         return;\r\n    }\r\n\r\n    int langth = header.len;\r\n   \r\n    while ((packet = pcap_next(pcap, &amp;header)) != NULL) {\r\n        if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\r\n              printf(&quot;ERR: %d\\n&quot;, errno);    \r\n    }\r\n\r\n\r\n\r\nJava Server\r\n\r\n    public class UdpServer {\r\n        public static void main(String[] args) throws SocketException, IOException {\r\n            int length = 2048;\r\n            byte[] packet = new byte[length];\r\n            int headerLen = 16;\r\n            DatagramSocket datagramSocket = new DatagramSocket();\r\n            DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length, InetAddress.getLocalHost(), 5555);\r\n            try{\r\n                 while(true) {\r\n                                datagramSocket.receive(datagramPacket);\r\n                                System.out.println(&quot;packet received.\\n&quot;);\r\n                                byte[] header = new byte[headerLen];\r\n                                byte[] data = new byte[datagramPacket.getLength() - headerLen];\r\n\r\n                                for (int i = 0; i &lt; headerLen; i++){\r\n                                        header[i] = datagramPacket.getData()[i];\r\n                                }\r\n                                for (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\r\n                                        data[i - headerLen] = datagramPacket.getData()[i];\r\n                                }\r\n                                \r\n            }\r\n        }  catch (SocketException e) {\r\n                        e.printStackTrace();\r\n        } catch (IOException e) {\r\n                        e.printStackTrace();\r\n        }    \r\n    }\r\n  \r\n\r\n","title":"How to send byte from c client to java server?","body":"<p>I try to send byte data from C client to Java server.\nC client didn't return error code, but Java server couldn't receive anything.\nWhat's wrong with my code?\nI thought I should send packet as byte, but if there is more good way to pass packet data from c to java, please recommend.</p>\n<p>C server</p>\n<pre><code>pcap_t *pcap;\nchar errbuf[PCAP_ERRBUF_SIZE];\nconst unsigned char *packet;\nstruct pcap_pkthdr header;\nint offset = 0, sock;\n\nstruct sockaddr_in sin = {\n            .sin_family = AF_INET,\n            .sin_port = htons(5555),\n            .sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;),\n            .sin_zero = { 0 }\n};\n\nsock = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP);\n\nif(!sock) {\n     printf(&quot;ERR: socket\\n&quot;);\n     return;\n}\n\npcap = pcap_open_live(&quot;wlan0&quot;, BUFSIZ, 1, 0, errbuf);\n\nif(!pcap) {\n     printf(&quot;ERR: %s\\n&quot;, errbuf);\n     return;\n}\n\nint langth = header.len;\n\nwhile ((packet = pcap_next(pcap, &amp;header)) != NULL) {\n    if(!sendto(sock, packet, length, 0, (struct sockeaddr*)&amp;sin, sizeof(sin)))\n          printf(&quot;ERR: %d\\n&quot;, errno);    \n}\n</code></pre>\n<p>Java Server</p>\n<pre><code>public class UdpServer {\n    public static void main(String[] args) throws SocketException, IOException {\n        int length = 2048;\n        byte[] packet = new byte[length];\n        int headerLen = 16;\n        DatagramSocket datagramSocket = new DatagramSocket();\n        DatagramPacket datagramPacket = new DatagramPacket(packet, packet.length, InetAddress.getLocalHost(), 5555);\n        try{\n             while(true) {\n                            datagramSocket.receive(datagramPacket);\n                            System.out.println(&quot;packet received.\\n&quot;);\n                            byte[] header = new byte[headerLen];\n                            byte[] data = new byte[datagramPacket.getLength() - headerLen];\n\n                            for (int i = 0; i &lt; headerLen; i++){\n                                    header[i] = datagramPacket.getData()[i];\n                            }\n                            for (int i = headerLen; i &lt; datagramPacket.getLength(); i++){\n                                    data[i - headerLen] = datagramPacket.getData()[i];\n                            }\n                            \n        }\n    }  catch (SocketException e) {\n                    e.printStackTrace();\n    } catch (IOException e) {\n                    e.printStackTrace();\n    }    \n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","autosuggest"],"answers":[{"comments":[{"owner":{"account_id":29113210,"reputation":27,"user_id":22302560,"display_name":"zjboris"},"score":0,"creation_date":1690829565,"post_id":76791147,"comment_id":135404698,"body_markdown":"Thank you this worked.  I did need to update the first line of code because I saw The constructor WebDriverWait(WebDriver, int) is undefined error to the following                                                           WebDriverWait wdwait = new WebDriverWait(driver, Duration.ofSeconds(10));","body":"Thank you this worked.  I did need to update the first line of code because I saw The constructor WebDriverWait(WebDriver, int) is undefined error to the following                                                           WebDriverWait wdwait = new WebDriverWait(driver, Duration.ofSeconds(10));"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690830167,"post_id":76791147,"comment_id":135404822,"body_markdown":"@zjboris I am using old version of Selenium, in `4.xx` signature of `WebDriverWait` changed, so, yep, you should use `Duration.ofSeconds`. If it works, can you mark this answer as correct, plz? :)","body":"@zjboris I am using old version of Selenium, in <code>4.xx</code> signature of <code>WebDriverWait</code> changed, so, yep, you should use <code>Duration.ofSeconds</code>. If it works, can you mark this answer as correct, plz? :)"}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690580232,"creation_date":1690580232,"answer_id":76791147,"question_id":76790332,"body_markdown":"Actually it&#39;s better to wait for autosuggestions to be present (they are loaded with delay) and to click on element that contains your text input.\r\n\r\nLike:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    driver.get(&quot;https://weather.com/&quot;);\r\n    driver.manage().window().maximize();\r\n\r\n    WebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n    By inputLocator = new By.ById(&quot;LocationSearch_input&quot;);\r\n    wdwait.until(ExpectedConditions.elementToBeClickable(inputLocator));\r\n    WebElement from = driver.findElement(inputLocator);\r\n    from.click();\r\n    String city = &quot;Chicago, IL&quot;;\r\n    from.sendKeys(city);\r\n    String cityLocator = String.format(&quot;//*[@data-testid=&#39;ctaButton&#39; and contains(.,&#39;%s&#39;)]&quot;, city);\r\n    wdwait.until(ExpectedConditions.presenceOfElementLocated(new By.ByXPath(cityLocator)));\r\n    driver.findElement(new By.ByXPath(cityLocator)).click();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTry this code, it works for me.","title":"Selenium Webdriver Java Selecting an item from an Auto Suggestion Drop Down","body":"<p>Actually it's better to wait for autosuggestions to be present (they are loaded with delay) and to click on element that contains your text input.</p>\n<p>Like:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>driver.get(\"https://weather.com/\");\ndriver.manage().window().maximize();\n\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\nBy inputLocator = new By.ById(\"LocationSearch_input\");\nwdwait.until(ExpectedConditions.elementToBeClickable(inputLocator));\nWebElement from = driver.findElement(inputLocator);\nfrom.click();\nString city = \"Chicago, IL\";\nfrom.sendKeys(city);\nString cityLocator = String.format(\"//*[@data-testid='ctaButton' and contains(.,'%s')]\", city);\nwdwait.until(ExpectedConditions.presenceOfElementLocated(new By.ByXPath(cityLocator)));\ndriver.findElement(new By.ByXPath(cityLocator)).click();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Try this code, it works for me.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690584797,"creation_date":1690584797,"answer_id":76791403,"question_id":76790332,"body_markdown":"In the website [National and Local Weather Radar, Daily Forecast, Hurricane and information from The Weather Channel and weather.com](https://weather.com/) the [tag:autosuggest] option with text _**Chicago, IL, United States**_ is a dynamic element so to click on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Code block:\r\n\r\n\t  driver.get(&quot;https://weather.com/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#LocationSearch_input&quot;))).sendKeys(&quot;Chicago, IL&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;LocationSearch_listbox&#39;]//button[contains(., &#39;Chicago, IL, United States&#39;)]&quot;))).click();\r\n           \t\r\n- Browser snapshot:\r\n\r\n![Chicago](https://i.stack.imgur.com/NBQlc.png)","title":"Selenium Webdriver Java Selecting an item from an Auto Suggestion Drop Down","body":"<p>In the website <a href=\"https://weather.com/\" rel=\"nofollow noreferrer\">National and Local Weather Radar, Daily Forecast, Hurricane and information from The Weather Channel and weather.com</a> the <a href=\"/questions/tagged/autosuggest\" class=\"post-tag\" title=\"show questions tagged &#39;autosuggest&#39;\" aria-label=\"show questions tagged &#39;autosuggest&#39;\" rel=\"tag\" aria-labelledby=\"tag-autosuggest-tooltip-container\">autosuggest</a> option with text <em><strong>Chicago, IL, United States</strong></em> is a dynamic element so to click on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Code block:</p>\n<pre><code>driver.get(&quot;https://weather.com/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#LocationSearch_input&quot;))).sendKeys(&quot;Chicago, IL&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='LocationSearch_listbox']//button[contains(., 'Chicago, IL, United States')]&quot;))).click();\n</code></pre>\n</li>\n<li><p>Browser snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/NBQlc.png\" alt=\"Chicago\" /></p>\n"}],"owner":{"account_id":29113210,"reputation":27,"user_id":22302560,"display_name":"zjboris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76791147,"answer_count":2,"score":0,"last_activity_date":1690584797,"creation_date":1690569692,"question_id":76790332,"body_markdown":"I&#39;m trying to select Chicago, IL from the Search City or Zip Code search box on https://weather.com/\r\n\r\n\r\nHere&#39;s the code I&#39;ve tried\r\n\r\n    driver.get(&quot;https://weather.com/&quot;);\r\n    driver.manage().window().maximize();\r\n    WebElement from = driver.findElement(By.id(&quot;LocationSearch_input&quot;));\r\n    from.sendKeys(&quot;Chicago, IL&quot;);\r\n    Thread.sleep(500);\r\n    from.sendKeys(Keys.ARROW_DOWN);\r\n    from.sendKeys(Keys.ENTER);`\r\n\r\nAny Help is appreciated.  Thank you.","title":"Selenium Webdriver Java Selecting an item from an Auto Suggestion Drop Down","body":"<p>I'm trying to select Chicago, IL from the Search City or Zip Code search box on <a href=\"https://weather.com/\" rel=\"nofollow noreferrer\">https://weather.com/</a></p>\n<p>Here's the code I've tried</p>\n<pre><code>driver.get(&quot;https://weather.com/&quot;);\ndriver.manage().window().maximize();\nWebElement from = driver.findElement(By.id(&quot;LocationSearch_input&quot;));\nfrom.sendKeys(&quot;Chicago, IL&quot;);\nThread.sleep(500);\nfrom.sendKeys(Keys.ARROW_DOWN);\nfrom.sendKeys(Keys.ENTER);`\n</code></pre>\n<p>Any Help is appreciated.  Thank you.</p>\n"},{"tags":["java","arrays","sum"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":18,"creation_date":1293583171,"post_id":4550662,"comment_id":4988726,"body_markdown":"Write your own, the code to do it is 2-3 lines long.","body":"Write your own, the code to do it is 2-3 lines long."},{"owner":{"display_name":"user166390"},"score":2,"creation_date":1293588067,"post_id":4550662,"comment_id":4989084,"body_markdown":"Unfortunately the above (and following) &quot;answers&quot; are &quot;The Java Way&quot; :-/ You could use the [Functional Java library](http://www.functionaljava.org/), but it is so cumbersome to deal with the Java syntax.","body":"Unfortunately the above (and following) &quot;answers&quot; are &quot;The Java Way&quot; :-/ You could use the <a href=\"http://www.functionaljava.org/\" rel=\"nofollow noreferrer\">Functional Java library</a>, but it is so cumbersome to deal with the Java syntax."},{"owner":{"account_id":2202222,"reputation":468,"user_id":1946345,"display_name":"Matsu Q."},"score":2,"creation_date":1474054905,"post_id":4550662,"comment_id":66391962,"body_markdown":"I know this question is extremely old, but the [answer by msayag](http://stackoverflow.com/a/17846344/1946345) below seems like it should be marked as the accepted answer.","body":"I know this question is extremely old, but the <a href=\"http://stackoverflow.com/a/17846344/1946345\">answer by msayag</a> below seems like it should be marked as the accepted answer."},{"owner":{"account_id":2344761,"reputation":129,"user_id":2055311,"accept_rate":50,"display_name":"Al G Johnston"},"score":0,"creation_date":1575101220,"post_id":4550662,"comment_id":104459249,"body_markdown":"The problem with writing you own is that it is a loop. When you take a sum of 3 numbers you should be able to do it in one instruction.","body":"The problem with writing you own is that it is a loop. When you take a sum of 3 numbers you should be able to do it in one instruction."}],"answers":[{"tags":[],"owner":{"account_id":12400,"reputation":12305,"user_id":24391,"accept_rate":98,"display_name":"chustar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293583130,"creation_date":1293583130,"answer_id":4550684,"question_id":4550662,"body_markdown":"You have to roll your own.  \r\nYou start with a total of 0. Then you consider for every integer in the array, add it to a total. Then when you&#39;re out of integers, you have the sum.\r\n\r\nIf there were no integers, then the total is 0.","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>You have to roll your own.<br>\nYou start with a total of 0. Then you consider for every integer in the array, add it to a total. Then when you're out of integers, you have the sum.</p>\n\n<p>If there were no integers, then the total is 0.</p>\n"},{"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":4,"creation_date":1293583329,"post_id":4550690,"comment_id":4988740,"body_markdown":"You can make it even nicer with a for-each loop (introduced in Java 1.5).","body":"You can make it even nicer with a for-each loop (introduced in Java 1.5)."}],"tags":[],"owner":{"account_id":258681,"reputation":1993,"user_id":541005,"accept_rate":96,"display_name":"Bnjmn"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1293583236,"creation_date":1293583236,"answer_id":4550690,"question_id":4550662,"body_markdown":"    int sum = 0;\r\n    \r\n    for (int i = 0; i &lt; yourArray.length; i++)\r\n    {\r\n      sum = sum + yourArray[i];\r\n    }\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>int sum = 0;\n\nfor (int i = 0; i &lt; yourArray.length; i++)\n{\n  sum = sum + yourArray[i];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":219151,"reputation":4775,"user_id":475876,"accept_rate":75,"display_name":"Akira Yamamoto"},"score":7,"creation_date":1366393963,"post_id":4550692,"comment_id":23006947,"body_markdown":"I miss you .NET Sum(IEnumerable&lt;Int32&gt;) http://msdn.microsoft.com/en-us/library/system.linq.enumerable.sum.aspx","body":"I miss you .NET Sum(IEnumerable&lt;Int32&gt;) <a href=\"http://msdn.microsoft.com/en-us/library/system.linq.enumerable.sum.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}],"tags":[],"owner":{"account_id":193135,"reputation":353,"user_id":434665,"display_name":"Sebasti&#225;n Gur&#237;"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1293583833,"creation_date":1293583249,"answer_id":4550692,"question_id":4550662,"body_markdown":"You can&#39;t. Other languages have some methods for this like array_sum() in PHP, but Java doesn&#39;t.\r\n\r\nJust..\r\n\r\n    int[] numbers = {1,2,3,4};\r\n    int sum = 0;\r\n    for( int i : numbers) {\r\n        sum += i;\r\n    }\r\n    \r\n    System.out.println(sum);\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>You can't. Other languages have some methods for this like array_sum() in PHP, but Java doesn't.</p>\n\n<p>Just..</p>\n\n<pre><code>int[] numbers = {1,2,3,4};\nint sum = 0;\nfor( int i : numbers) {\n    sum += i;\n}\n\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1293583250,"creation_date":1293583250,"answer_id":4550693,"question_id":4550662,"body_markdown":"There is no &#39;method in a math class&#39; for such thing. Its not like its a square root function or something like that.\r\n\r\nYou just need to have a variable for the sum and loop through the array adding each value you find to the sum. \r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>There is no 'method in a math class' for such thing. Its not like its a square root function or something like that.</p>\n\n<p>You just need to have a variable for the sum and loop through the array adding each value you find to the sum. </p>\n"},{"tags":[],"owner":{"display_name":"anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1293583297,"creation_date":1293583297,"answer_id":4550696,"question_id":4550662,"body_markdown":"    int sum = 0;\r\n    for (int i = 0; i &lt; myArray.length; i++)\r\n      sum += myArray[i];\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>int sum = 0;\nfor (int i = 0; i &lt; myArray.length; i++)\n  sum += myArray[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293583370,"creation_date":1293583370,"answer_id":4550702,"question_id":4550662,"body_markdown":"There are two things to learn from this exercise :\r\n\r\nYou need to iterate through the elements of the array somehow - you can do this with a for loop or a while loop.\r\nYou need to store the result of the summation in an accumulator.  For this, you need to create a variable.\r\n\r\n\r\n    int accumulator = 0;\r\n    for(int i = 0; i &lt; myArray.length; i++) {\r\n        accumulator += myArray[i];\r\n    }\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>There are two things to learn from this exercise :</p>\n\n<p>You need to iterate through the elements of the array somehow - you can do this with a for loop or a while loop.\nYou need to store the result of the summation in an accumulator.  For this, you need to create a variable.</p>\n\n<pre><code>int accumulator = 0;\nfor(int i = 0; i &lt; myArray.length; i++) {\n    accumulator += myArray[i];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2344761,"reputation":129,"user_id":2055311,"accept_rate":50,"display_name":"Al G Johnston"},"score":0,"creation_date":1575101316,"post_id":4550703,"comment_id":104459269,"body_markdown":"But this doesn&#39;t add all the numbers in one fell swoop. It is inefficient.","body":"But this doesn&#39;t add all the numbers in one fell swoop. It is inefficient."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1605838624,"post_id":4550703,"comment_id":114781927,"body_markdown":"I can&#39;t imagine it being less efficient than the streams solution.","body":"I can&#39;t imagine it being less efficient than the streams solution."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690586074,"post_id":4550703,"comment_id":135379119,"body_markdown":"There is absolutely no better way to determine the sum of a set of arbitrary numbers than by **adding up all the numbers**.  O(n) is the best you can do.","body":"There is absolutely no better way to determine the sum of a set of arbitrary numbers than by <b>adding up all the numbers</b>.  O(n) is the best you can do."}],"tags":[],"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"comment_count":3,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1378314114,"creation_date":1293583391,"answer_id":4550703,"question_id":4550662,"body_markdown":"This is one of those simple things that doesn&#39;t (AFAIK) exist in the standard Java API. It&#39;s easy enough to write your own.\r\n\r\nOther answers are perfectly fine, but here&#39;s one with some for-each syntactic sugar.\r\n\r\n    int someArray[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n    int sum = 0;\r\n    \r\n    for (int i : someArray)\r\n        sum += i;\r\n\r\nAlso, an example of array summation is even [shown in the Java 7 Language Specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.4). The example is from **Section 10.4 - Array Access**.\r\n\r\n    class Gauss {\r\n        public static void main(String[] args) {\r\n            int[] ia = new int[101];\r\n            for (int i = 0; i &lt; ia.length; i++) ia[i] = i;\r\n            int sum = 0;\r\n            for (int e : ia) sum += e;\r\n            System.out.println(sum);\r\n        }\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>This is one of those simple things that doesn't (AFAIK) exist in the standard Java API. It's easy enough to write your own.</p>\n\n<p>Other answers are perfectly fine, but here's one with some for-each syntactic sugar.</p>\n\n<pre><code>int someArray[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\nint sum = 0;\n\nfor (int i : someArray)\n    sum += i;\n</code></pre>\n\n<p>Also, an example of array summation is even <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.4\" rel=\"noreferrer\">shown in the Java 7 Language Specification</a>. The example is from <strong>Section 10.4 - Array Access</strong>.</p>\n\n<pre><code>class Gauss {\n    public static void main(String[] args) {\n        int[] ia = new int[101];\n        for (int i = 0; i &lt; ia.length; i++) ia[i] = i;\n        int sum = 0;\n        for (int e : ia) sum += e;\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239936,"reputation":3048,"user_id":509865,"accept_rate":70,"display_name":"Gondim"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1293587656,"creation_date":1293586872,"answer_id":4550892,"question_id":4550662,"body_markdown":"You can make your code look better like this:\r\n\r\n    public void someMethod(){\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.addAll(db.findNumbers());\r\n        ...\r\n        System.out.println(&quot;Result is &quot; + sumOfNumbers(numbers));\r\n    }\r\n    \r\n    private int sumOfNumbers(List&lt;Integer&gt; numbers){\r\n        int sum = 0;\r\n        for (Integer i : numbers){\r\n          sum += i;\r\n        }\r\n        return sum;\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>You can make your code look better like this:</p>\n\n<pre><code>public void someMethod(){\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.addAll(db.findNumbers());\n    ...\n    System.out.println(\"Result is \" + sumOfNumbers(numbers));\n}\n\nprivate int sumOfNumbers(List&lt;Integer&gt; numbers){\n    int sum = 0;\n    for (Integer i : numbers){\n      sum += i;\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1293610412,"creation_date":1293610412,"answer_id":4552486,"question_id":4550662,"body_markdown":"The only point I would add to previous solutions is that I would use a long to accumulate the total to avoid any overflow of value.\r\n\r\n    int[] someArray = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, Integer.MAX_VALUE};\r\n    long sum = 0;\r\n    \r\n    for (int i : someArray)\r\n        sum += i;\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>The only point I would add to previous solutions is that I would use a long to accumulate the total to avoid any overflow of value.</p>\n\n<pre><code>int[] someArray = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, Integer.MAX_VALUE};\nlong sum = 0;\n\nfor (int i : someArray)\n    sum += i;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2253216,"reputation":49,"user_id":1985001,"display_name":"Darrell"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1358366342,"creation_date":1358366342,"answer_id":14366747,"question_id":4550662,"body_markdown":"IMHO a sum function would seem a good fit to extend the Arrays class where fill, sort, search, copy, &amp; equals live. There are a lot of handy methods hiding in the javadocs so it is a fair question when porting Fortran to java to ask before rolling our own helper method. Search through the huge javadoc index for &quot;sum&quot;, &quot;add&quot; and any other keyword you might think of. You might suspect certainly someone has already done this for primitive types int, float, double, Integer, Float, Double? No matter how simple, it is always good to check. Keep the code as simple as possible and don&#39;t reinvent the wheel.","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>IMHO a sum function would seem a good fit to extend the Arrays class where fill, sort, search, copy, &amp; equals live. There are a lot of handy methods hiding in the javadocs so it is a fair question when porting Fortran to java to ask before rolling our own helper method. Search through the huge javadoc index for \"sum\", \"add\" and any other keyword you might think of. You might suspect certainly someone has already done this for primitive types int, float, double, Integer, Float, Double? No matter how simple, it is always good to check. Keep the code as simple as possible and don't reinvent the wheel.</p>\n"},{"comments":[{"owner":{"account_id":6103247,"reputation":3905,"user_id":4761601,"accept_rate":43,"display_name":"Yaroslav Dukal"},"score":1,"creation_date":1498573520,"post_id":17769461,"comment_id":76546374,"body_markdown":"dude it&#39;s  sum=sum+a[i];","body":"dude it&#39;s  sum=sum+a[i];"}],"tags":[],"owner":{"account_id":3073586,"reputation":27,"user_id":2603562,"display_name":"BLaaaaaa"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1374385403,"creation_date":1374385403,"answer_id":17769461,"question_id":4550662,"body_markdown":"     public class Num1\r\n     {\r\n         public static void main ()\r\n         {\r\n              //Declaration and Initialization\r\n              int a[]={10,20,30,40,50}\r\n              \r\n              //To find the sum of array elements\r\n              int sum=0;\r\n              for(int i=0;i&lt;a.length;i++)\r\n              {\r\n                  sum=sum+i;\r\n              }\r\n              \r\n              //To display the sum\r\n              System.out.println(&quot;The sum is :&quot;+sum);\r\n\r\n         }\r\n      } \r\n   \r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code> public class Num1\n {\n     public static void main ()\n     {\n          //Declaration and Initialization\n          int a[]={10,20,30,40,50}\n\n          //To find the sum of array elements\n          int sum=0;\n          for(int i=0;i&lt;a.length;i++)\n          {\n              sum=sum+i;\n          }\n\n          //To display the sum\n          System.out.println(\"The sum is :\"+sum);\n\n     }\n  } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"score":1,"creation_date":1459524717,"post_id":17846344,"comment_id":60339975,"body_markdown":"What if array contains large numbers and the sum is out of int scope?","body":"What if array contains large numbers and the sum is out of int scope?"},{"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"score":8,"creation_date":1459930327,"post_id":17846344,"comment_id":60503730,"body_markdown":"In that case you can use LongStream, either as long sum = IntStream.of(a).asLongStream().sum(); or long sum = LongStream.of(a).sum();","body":"In that case you can use LongStream, either as long sum = IntStream.of(a).asLongStream().sum(); or long sum = LongStream.of(a).sum();"},{"owner":{"account_id":6679434,"reputation":3330,"user_id":5153116,"accept_rate":78,"display_name":"mvorisek"},"score":3,"creation_date":1473091381,"post_id":17846344,"comment_id":65999717,"body_markdown":"Is there any considerable speed advantage in using streams?","body":"Is there any considerable speed advantage in using streams?"},{"owner":{"account_id":223503,"reputation":1165,"user_id":482745,"accept_rate":54,"display_name":"user482745"},"score":1,"creation_date":1536942211,"post_id":17846344,"comment_id":91618763,"body_markdown":"If your sum would not fit long, one should sum pair wise (divide and conquer), because summing smaller BigDecimals is faster.","body":"If your sum would not fit long, one should sum pair wise (divide and conquer), because summing smaller BigDecimals is faster."},{"owner":{"account_id":4889037,"reputation":587,"user_id":3940670,"display_name":"M.Hossein Rahimi"},"score":0,"creation_date":1571779618,"post_id":17846344,"comment_id":103352432,"body_markdown":"Do you have a solution to do the same, on an array of doubles? If you try it on a double you&#39;ll get the err, &quot;method java.util.stream.IntStream.of(int...) is not applicable (varargs mismatch; double[] cannot be converted to int)&quot;","body":"Do you have a solution to do the same, on an array of doubles? If you try it on a double you&#39;ll get the err, &quot;method java.util.stream.IntStream.of(int...) is not applicable (varargs mismatch; double[] cannot be converted to int)&quot;"},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1578011505,"post_id":17846344,"comment_id":105311187,"body_markdown":"@HosseinRahimi `java.util.stream.DoubleStream.of(a).sum();`","body":"@HosseinRahimi <code>java.util.stream.DoubleStream.of(a).sum();</code>"}],"tags":[],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"comment_count":6,"down_vote_count":3,"up_vote_count":337,"is_accepted":false,"score":334,"last_activity_date":1521302693,"creation_date":1374707314,"answer_id":17846344,"question_id":4550662,"body_markdown":"In [tag:Java-8] you can use streams:\r\n\r\n    int[] a = {10,20,30,40,50};\r\n    int sum = IntStream.of(a).sum();\r\n    System.out.println(&quot;The sum is &quot; + sum);\r\n\r\nOutput:\r\n\r\nThe sum is 150.\r\n\r\nIt&#39;s in the package `java.util.stream`\r\n    \r\n    import java.util.stream.*;","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>In <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> you can use streams:</p>\n\n<pre><code>int[] a = {10,20,30,40,50};\nint sum = IntStream.of(a).sum();\nSystem.out.println(\"The sum is \" + sum);\n</code></pre>\n\n<p>Output:</p>\n\n<p>The sum is 150.</p>\n\n<p>It's in the package <code>java.util.stream</code></p>\n\n<pre><code>import java.util.stream.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242423,"reputation":31,"user_id":2735072,"display_name":"GenuineSounds"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377934138,"creation_date":1377934138,"answer_id":18545714,"question_id":4550662,"body_markdown":"I like this method personally. My code style is a little weird.\r\n\r\n    public static int sumOf(int... integers) {\r\n    \tint total = 0;\r\n    \tfor (int i = 0; i &lt; integers.length; total += integers[i++]);\r\n    \treturn total;\r\n    }\r\n\r\nPretty easy to use in code:\r\n\r\n    int[] numbers = { 1, 2, 3, 4, 5 };\r\n    sumOf(1);\r\n    sumOf(1, 2, 3);\r\n    sumOf(numbers);","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I like this method personally. My code style is a little weird.</p>\n\n<pre><code>public static int sumOf(int... integers) {\n    int total = 0;\n    for (int i = 0; i &lt; integers.length; total += integers[i++]);\n    return total;\n}\n</code></pre>\n\n<p>Pretty easy to use in code:</p>\n\n<pre><code>int[] numbers = { 1, 2, 3, 4, 5 };\nsumOf(1);\nsumOf(1, 2, 3);\nsumOf(numbers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365991,"reputation":4575,"user_id":711243,"accept_rate":94,"display_name":"fodon"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1469394089,"creation_date":1379608467,"answer_id":18900322,"question_id":4550662,"body_markdown":"In Apache Math : There is `StatUtils.sum(double[] arr)` ","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>In Apache Math : There is <code>StatUtils.sum(double[] arr)</code> </p>\n"},{"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1456341246,"post_id":19615076,"comment_id":58906100,"body_markdown":"Copy of existing answer.","body":"Copy of existing answer."}],"tags":[],"owner":{"account_id":3496403,"reputation":9,"user_id":2924466,"display_name":"Ashok Vunnam"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382853814,"creation_date":1382852872,"answer_id":19615076,"question_id":4550662,"body_markdown":"    class Addition {\r\n    \r\n         public static void main() {\r\n              int arr[]={5,10,15,20,25,30};         //Declaration and Initialization of an Array\r\n              int sum=0;                            //To find the sum of array elements\r\n              for(int i:arr) {\r\n                  sum += i;\r\n              }\r\n              System.out.println(&quot;The sum is :&quot;+sum);//To display the sum \r\n         }\r\n    } ","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>class Addition {\n\n     public static void main() {\n          int arr[]={5,10,15,20,25,30};         //Declaration and Initialization of an Array\n          int sum=0;                            //To find the sum of array elements\n          for(int i:arr) {\n              sum += i;\n          }\n          System.out.println(\"The sum is :\"+sum);//To display the sum \n     }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":0,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1550046971,"creation_date":1388507854,"answer_id":20860423,"question_id":4550662,"body_markdown":"If you&#39;re using Java 8, the [`Arrays`][1] class provides a [`stream(int[] array)`][2] method which returns a sequential [`IntStream`][3] with the specified `int` array. It has also been overloaded  for `double` and `long` arrays.\r\n\r\n    int [] arr = {1,2,3,4};\r\n    int sum = Arrays.stream(arr).sum(); //prints 10\r\n\r\nIt also provides a method \r\n[`stream(int[] array, int startInclusive, int endExclusive)`][4] which permits you to take a specified range of the array (which can be useful) :\r\n\r\n    int sum = Arrays.stream(new int []{1,2,3,4}, 0, 2).sum(); //prints 3\r\n\r\nFinally, it can take an array of type `T`. So you can per example have a `String` which contains numbers as an input and if you want to sum them just do :\r\n\r\n    int sum = Arrays.stream(&quot;1 2 3 4&quot;.split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).sum();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-int-int-","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>If you're using Java 8, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a> class provides a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\" rel=\"noreferrer\"><code>stream(int[] array)</code></a> method which returns a sequential <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> with the specified <code>int</code> array. It has also been overloaded  for <code>double</code> and <code>long</code> arrays.</p>\n\n<pre><code>int [] arr = {1,2,3,4};\nint sum = Arrays.stream(arr).sum(); //prints 10\n</code></pre>\n\n<p>It also provides a method \n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-int-int-\" rel=\"noreferrer\"><code>stream(int[] array, int startInclusive, int endExclusive)</code></a> which permits you to take a specified range of the array (which can be useful) :</p>\n\n<pre><code>int sum = Arrays.stream(new int []{1,2,3,4}, 0, 2).sum(); //prints 3\n</code></pre>\n\n<p>Finally, it can take an array of type <code>T</code>. So you can per example have a <code>String</code> which contains numbers as an input and if you want to sum them just do :</p>\n\n<pre><code>int sum = Arrays.stream(\"1 2 3 4\".split(\"\\\\s+\")).mapToInt(Integer::parseInt).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4068575,"reputation":9,"user_id":3342561,"display_name":"TRC"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1410750791,"creation_date":1393134151,"answer_id":21964681,"question_id":4550662,"body_markdown":"    public class AddDemo {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tArrayList &lt;Integer&gt;A = new ArrayList&lt;Integer&gt;();\r\n    \t\t\r\n    \t\tScanner S = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter the Numbers: &quot;);\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;5; i++){\r\n    \t\t\t\r\n    \t\t\tA.add(S.nextInt());\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;You have entered: &quot;+A);\r\n    \t\t\r\n    \t\tint Sum = 0;\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;A.size(); i++){\r\n    \t\t\t\r\n    \t\t\tSum = Sum + A.get(i);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;The Sum of Entered List is: &quot;+Sum);\r\n    \r\n    \t}\r\n    \r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>public class AddDemo {\n\n    public static void main(String[] args) {\n\n        ArrayList &lt;Integer&gt;A = new ArrayList&lt;Integer&gt;();\n\n        Scanner S = new Scanner(System.in);\n\n        System.out.println(\"Enter the Numbers: \");\n\n        for(int i=0; i&lt;5; i++){\n\n            A.add(S.nextInt());\n        }\n\n        System.out.println(\"You have entered: \"+A);\n\n        int Sum = 0;\n\n        for(int i=0; i&lt;A.size(); i++){\n\n            Sum = Sum + A.get(i);\n\n        }\n\n        System.out.println(\"The Sum of Entered List is: \"+Sum);\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216793,"reputation":21763,"user_id":472245,"accept_rate":83,"display_name":"towi"},"score":2,"creation_date":1503564780,"post_id":22078933,"comment_id":78671977,"body_markdown":"C-programmer, eh?","body":"C-programmer, eh?"}],"tags":[],"owner":{"account_id":369213,"reputation":906,"user_id":716463,"display_name":"jsanmarb"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515503532,"creation_date":1393530751,"answer_id":22078933,"question_id":4550662,"body_markdown":"I use this:\r\n\r\n\tpublic static long sum(int[] i_arr)\r\n\t{\r\n\t\tlong sum;\r\n\t\tint i;\r\n\t\tfor(sum= 0, i= i_arr.length - 1; 0 &lt;= i; sum+= i_arr[i--]);\r\n\t\treturn sum;\r\n\t}\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I use this:</p>\n\n<pre><code>public static long sum(int[] i_arr)\n{\n    long sum;\n    int i;\n    for(sum= 0, i= i_arr.length - 1; 0 &lt;= i; sum+= i_arr[i--]);\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1410749144,"creation_date":1410749144,"answer_id":25840167,"question_id":4550662,"body_markdown":"In `Java 8` \r\n\r\n**Code**:\r\n\r\n       int[] array = new int[]{1,2,3,4,5};\r\n       int sum = IntStream.of(array).reduce( 0,(a, b) -&gt; a + b);\r\n       System.out.println(&quot;The summation of array is &quot; + sum);\r\n\r\n      System.out.println(&quot;Another way to find summation :&quot; + IntStream.of(array).sum());\r\n\r\n**Output**:\r\n\r\n    The summation of array is 15\r\n    Another way to find summation :15\r\n\r\n**Explanation**:\r\n\r\nIn `Java 8`, you can use reduction concept to do your addition.\r\n\r\n[Read all about Reduction][1] \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>In <code>Java 8</code> </p>\n\n<p><strong>Code</strong>:</p>\n\n<pre><code>   int[] array = new int[]{1,2,3,4,5};\n   int sum = IntStream.of(array).reduce( 0,(a, b) -&gt; a + b);\n   System.out.println(\"The summation of array is \" + sum);\n\n  System.out.println(\"Another way to find summation :\" + IntStream.of(array).sum());\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>The summation of array is 15\nAnother way to find summation :15\n</code></pre>\n\n<p><strong>Explanation</strong>:</p>\n\n<p>In <code>Java 8</code>, you can use reduction concept to do your addition.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"noreferrer\">Read all about Reduction</a> </p>\n"},{"comments":[{"owner":{"account_id":8900304,"reputation":722,"user_id":6643968,"display_name":"Zhurov Konstantin"},"score":1,"creation_date":1553157345,"post_id":31236911,"comment_id":97283007,"body_markdown":"Works:int[] nums = {1,2};\n        final int[] sum = {0};\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        for (int each : nums) { list.add(each); }\n\n        list.stream().forEach(each -&gt; {\n            sum[0] += each;\n        });","body":"Works:int[] nums = {1,2};         final int[] sum = {0};          ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();          for (int each : nums) { list.add(each); }          list.stream().forEach(each -&gt; {             sum[0] += each;         });"}],"tags":[],"owner":{"account_id":6089055,"reputation":313,"user_id":4752024,"display_name":"TheArchon"},"comment_count":1,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1486410476,"creation_date":1436148591,"answer_id":31236911,"question_id":4550662,"body_markdown":"As of Java 8 The use of lambda expressions have become available.\r\n\r\nSee this: \r\n\r\n    int[] nums = /** Your Array **/;\r\n\r\nCompact: \r\n\r\n    int sum = 0;\r\n    Arrays.asList(nums).stream().forEach(each -&gt; {\r\n        sum += each;\r\n    });\r\n\r\nPrefer: \r\n\r\n    int sum = 0;\r\n    \r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \r\n    for (int each : nums) { //refer back to original array\r\n         list.add(each); //there are faster operations…\r\n    }\r\n    \r\n    list.stream().forEach(each -&gt; {\r\n        sum += each;\r\n    });\r\n\r\nReturn or print sum.\r\n\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>As of Java 8 The use of lambda expressions have become available.</p>\n\n<p>See this: </p>\n\n<pre><code>int[] nums = /** Your Array **/;\n</code></pre>\n\n<p>Compact: </p>\n\n<pre><code>int sum = 0;\nArrays.asList(nums).stream().forEach(each -&gt; {\n    sum += each;\n});\n</code></pre>\n\n<p>Prefer: </p>\n\n<pre><code>int sum = 0;\n\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\nfor (int each : nums) { //refer back to original array\n     list.add(each); //there are faster operations…\n}\n\nlist.stream().forEach(each -&gt; {\n    sum += each;\n});\n</code></pre>\n\n<p>Return or print sum.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643043447,"creation_date":1471803290,"answer_id":39067407,"question_id":4550662,"body_markdown":"There is a sum() method in [underscore-java][1] library.\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int sum = U.sum(java.util.Arrays.asList(1, 2, 3, 4));\r\n\r\n            System.out.println(sum);\r\n            // -&gt; 10\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>There is a sum() method in <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library.</p>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.U;\n\npublic class Main {\n    public static void main(String[] args) {\n        int sum = U.sum(java.util.Arrays.asList(1, 2, 3, 4));\n\n        System.out.println(sum);\n        // -&gt; 10\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3612,"user_id":6714430,"display_name":"rashedcs"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505022454,"creation_date":1505020770,"answer_id":46137532,"question_id":4550662,"body_markdown":"\r\nWe may use user defined function. At first initialize sum variable equal to zero. Then traverse the array and add element with sum . Then update the sum variable.\r\n\r\nCode Snippet :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.*;   \r\n    import java.lang.*;  \r\n    import java.io.*;\r\n\r\n\r\n    class Sum\r\n    {\r\n        public static int sum(int arr[])\r\n        {\r\n            int sum=0;\r\n\r\n            for(int i=0; i&lt;arr.length; i++)\r\n            {\r\n                sum += arr[i];\r\n            }\r\n            return sum;\r\n        }\r\n\r\n        public static void main (String[] args)\r\n        {\r\n              int arr[] = {1, 2, 3, 4, 5};\r\n\r\n              int total = sum(arr);\r\n\r\n              System.out.printf(&quot;%d&quot;, total);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>We may use user defined function. At first initialize sum variable equal to zero. Then traverse the array and add element with sum . Then update the sum variable.</p>\n\n<p>Code Snippet :</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>import java.util.*;   \nimport java.lang.*;  \nimport java.io.*;\n\n\nclass Sum\n{\n    public static int sum(int arr[])\n    {\n        int sum=0;\n\n        for(int i=0; i&lt;arr.length; i++)\n        {\n            sum += arr[i];\n        }\n        return sum;\n    }\n\n    public static void main (String[] args)\n    {\n          int arr[] = {1, 2, 3, 4, 5};\n\n          int total = sum(arr);\n\n          System.out.printf(\"%d\", total);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1079267,"reputation":776,"user_id":1076703,"display_name":"Vipul Gulhane"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564463888,"creation_date":1534428131,"answer_id":51878941,"question_id":4550662,"body_markdown":"Use below logic:\r\n\r\n    static int sum()\r\n         {\r\n             int sum = 0; // initialize sum\r\n             int i;\r\n           \r\n             // Iterate through all elements summing them up\r\n             for (i = 0; i &lt; arr.length; i++)\r\n                sum +=  arr[i];\r\n           \r\n             return sum;\r\n         }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>Use below logic:</p>\n\n<pre><code>static int sum()\n     {\n         int sum = 0; // initialize sum\n         int i;\n\n         // Iterate through all elements summing them up\n         for (i = 0; i &lt; arr.length; i++)\n            sum +=  arr[i];\n\n         return sum;\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552524708,"creation_date":1552524708,"answer_id":55153321,"question_id":4550662,"body_markdown":"    /**\r\n     * Sum of all elements from 1 to 1000\r\n     */\r\n    final int sum = Stream.iterate(1, n -&gt; n + 1).limit(1000).mapToInt(el -&gt; el).sum();","title":"How do you find the sum of all the numbers in an array in Java?","body":"<pre><code>/**\n * Sum of all elements from 1 to 1000\n */\nfinal int sum = Stream.iterate(1, n -&gt; n + 1).limit(1000).mapToInt(el -&gt; el).sum();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"score":2,"creation_date":1572371871,"post_id":58147958,"comment_id":103536156,"body_markdown":"Not necessarily fastest. Loop will outperform for small N. See my longer post with details.","body":"Not necessarily fastest. Loop will outperform for small N. See my longer post with details."}],"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569686386,"creation_date":1569685898,"answer_id":58147958,"question_id":4550662,"body_markdown":"A bit surprised to see None of the above answers considers it can be multiple times faster using a thread pool. Here, `parallel` uses a fork-join thread pool and automatically break the stream in multiple parts and run them parallel and then merge. If you just remember the following line of code you can use it many places.\r\n\r\n&gt; So the award for the fastest short and sweet code goes to -\r\n\r\n    int[] nums = {1,2,3};\r\n    int sum =  Arrays.stream(nums).parallel().reduce(0, (a,b)-&gt; a+b);\r\n\r\nLets say you want to do `sum of squares` , then Arrays.stream(nums).parallel().map(x-&gt;x*x).reduce(0, (a,b)-&gt; a+b). Idea is you can still perform reduce , without map . ","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>A bit surprised to see None of the above answers considers it can be multiple times faster using a thread pool. Here, <code>parallel</code> uses a fork-join thread pool and automatically break the stream in multiple parts and run them parallel and then merge. If you just remember the following line of code you can use it many places.</p>\n\n<blockquote>\n  <p>So the award for the fastest short and sweet code goes to -</p>\n</blockquote>\n\n<pre><code>int[] nums = {1,2,3};\nint sum =  Arrays.stream(nums).parallel().reduce(0, (a,b)-&gt; a+b);\n</code></pre>\n\n<p>Lets say you want to do <code>sum of squares</code> , then Arrays.stream(nums).parallel().map(x->x*x).reduce(0, (a,b)-> a+b). Idea is you can still perform reduce , without map . </p>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572373558,"creation_date":1572371817,"answer_id":58613026,"question_id":4550662,"body_markdown":"It depends. How many numbers are you adding? Testing many of the above suggestions:\r\n\r\n    import java.text.NumberFormat;\r\n    import java.util.Arrays;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \r\n        public static final NumberFormat FORMAT = NumberFormat.getInstance(Locale.US);\r\n    \r\n        public static long sumParallel(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = Arrays.stream(array).parallel().reduce(0,(a,b)-&gt;  a + b);\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumStream(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = Arrays.stream(array).reduce(0,(a,b)-&gt;  a + b);\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumLoop(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = 0;\r\n            for (int v: array) {\r\n                sum += v;\r\n            }\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumArray(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = Arrays.stream(array) .sum();\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n        public static long sumStat(int[] array) {\r\n            final long start = System.nanoTime();\r\n            int sum = 0;\r\n            final long end = System.nanoTime();\r\n            System.out.println(sum);\r\n            return  end - start;\r\n        }\r\n    \r\n    \r\n        public static void test(int[] nums) {\r\n            System.out.println(&quot;------&quot;);\r\n            System.out.println(FORMAT.format(nums.length) + &quot; numbers&quot;);\r\n            long p = sumParallel(nums);\r\n            System.out.println(&quot;parallel &quot; + FORMAT.format(p));\r\n            long s = sumStream(nums);\r\n            System.out.println(&quot;stream &quot; +  FORMAT.format(s));\r\n            long ar = sumArray(nums);\r\n            System.out.println(&quot;arrays &quot; +  FORMAT.format(ar));\r\n            long lp = sumLoop(nums);\r\n            System.out.println(&quot;loop &quot; +  FORMAT.format(lp));\r\n    \r\n        }\r\n    \r\n        public static void testNumbers(int howmany) {\r\n            int[] nums = new int[howmany];\r\n            for (int i =0; i &lt; nums.length;i++) {\r\n                nums[i] = (i + 1)%100;\r\n            }\r\n            test(nums);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            testNumbers(3);\r\n            testNumbers(300);\r\n            testNumbers(3000);\r\n            testNumbers(30000);\r\n            testNumbers(300000);\r\n            testNumbers(3000000);\r\n            testNumbers(30000000);\r\n            testNumbers(300000000);\r\n        }\r\n    }\r\n\r\nI found, using an 8 core, 16 G Ubuntu18 machine, the loop was fastest for smaller values and the parallel for larger. But of course it would depend on the hardware you&#39;re running:\r\n\r\n\r\n    ------\r\n    3 numbers\r\n    6\r\n    parallel 4,575,234\r\n    6\r\n    stream 209,849\r\n    6\r\n    arrays 251,173\r\n    6\r\n    loop 576\r\n    ------\r\n    300 numbers\r\n    14850\r\n    parallel 671,428\r\n    14850\r\n    stream 73,469\r\n    14850\r\n    arrays 71,207\r\n    14850\r\n    loop 4,958\r\n    ------\r\n    3,000 numbers\r\n    148500\r\n    parallel 393,112\r\n    148500\r\n    stream 306,240\r\n    148500\r\n    arrays 335,795\r\n    148500\r\n    loop 47,804\r\n    ------\r\n    30,000 numbers\r\n    1485000\r\n    parallel 794,223\r\n    1485000\r\n    stream 1,046,927\r\n    1485000\r\n    arrays 366,400\r\n    1485000\r\n    loop 459,456\r\n    ------\r\n    300,000 numbers\r\n    14850000\r\n    parallel 4,715,590\r\n    14850000\r\n    stream 1,369,509\r\n    14850000\r\n    arrays 1,296,287\r\n    14850000\r\n    loop 1,327,592\r\n    ------\r\n    3,000,000 numbers\r\n    148500000\r\n    parallel 3,996,803\r\n    148500000\r\n    stream 13,426,933\r\n    148500000\r\n    arrays 13,228,364\r\n    148500000\r\n    loop 1,137,424\r\n    ------\r\n    30,000,000 numbers\r\n    1485000000\r\n    parallel 32,894,414\r\n    1485000000\r\n    stream 131,924,691\r\n    1485000000\r\n    arrays 131,689,921\r\n    1485000000\r\n    loop 9,607,527\r\n    ------\r\n    300,000,000 numbers\r\n    1965098112\r\n    parallel 338,552,816\r\n    1965098112\r\n    stream 1,318,649,742\r\n    1965098112\r\n    arrays 1,308,043,340\r\n    1965098112\r\n    loop 98,986,436\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>It depends. How many numbers are you adding? Testing many of the above suggestions:</p>\n\n<pre><code>import java.text.NumberFormat;\nimport java.util.Arrays;\nimport java.util.Locale;\n\npublic class Main {\n\n    public static final NumberFormat FORMAT = NumberFormat.getInstance(Locale.US);\n\n    public static long sumParallel(int[] array) {\n        final long start = System.nanoTime();\n        int sum = Arrays.stream(array).parallel().reduce(0,(a,b)-&gt;  a + b);\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumStream(int[] array) {\n        final long start = System.nanoTime();\n        int sum = Arrays.stream(array).reduce(0,(a,b)-&gt;  a + b);\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumLoop(int[] array) {\n        final long start = System.nanoTime();\n        int sum = 0;\n        for (int v: array) {\n            sum += v;\n        }\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumArray(int[] array) {\n        final long start = System.nanoTime();\n        int sum = Arrays.stream(array) .sum();\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n    public static long sumStat(int[] array) {\n        final long start = System.nanoTime();\n        int sum = 0;\n        final long end = System.nanoTime();\n        System.out.println(sum);\n        return  end - start;\n    }\n\n\n    public static void test(int[] nums) {\n        System.out.println(\"------\");\n        System.out.println(FORMAT.format(nums.length) + \" numbers\");\n        long p = sumParallel(nums);\n        System.out.println(\"parallel \" + FORMAT.format(p));\n        long s = sumStream(nums);\n        System.out.println(\"stream \" +  FORMAT.format(s));\n        long ar = sumArray(nums);\n        System.out.println(\"arrays \" +  FORMAT.format(ar));\n        long lp = sumLoop(nums);\n        System.out.println(\"loop \" +  FORMAT.format(lp));\n\n    }\n\n    public static void testNumbers(int howmany) {\n        int[] nums = new int[howmany];\n        for (int i =0; i &lt; nums.length;i++) {\n            nums[i] = (i + 1)%100;\n        }\n        test(nums);\n    }\n\n    public static void main(String[] args) {\n        testNumbers(3);\n        testNumbers(300);\n        testNumbers(3000);\n        testNumbers(30000);\n        testNumbers(300000);\n        testNumbers(3000000);\n        testNumbers(30000000);\n        testNumbers(300000000);\n    }\n}\n</code></pre>\n\n<p>I found, using an 8 core, 16 G Ubuntu18 machine, the loop was fastest for smaller values and the parallel for larger. But of course it would depend on the hardware you're running:</p>\n\n<pre><code>------\n3 numbers\n6\nparallel 4,575,234\n6\nstream 209,849\n6\narrays 251,173\n6\nloop 576\n------\n300 numbers\n14850\nparallel 671,428\n14850\nstream 73,469\n14850\narrays 71,207\n14850\nloop 4,958\n------\n3,000 numbers\n148500\nparallel 393,112\n148500\nstream 306,240\n148500\narrays 335,795\n148500\nloop 47,804\n------\n30,000 numbers\n1485000\nparallel 794,223\n1485000\nstream 1,046,927\n1485000\narrays 366,400\n1485000\nloop 459,456\n------\n300,000 numbers\n14850000\nparallel 4,715,590\n14850000\nstream 1,369,509\n14850000\narrays 1,296,287\n14850000\nloop 1,327,592\n------\n3,000,000 numbers\n148500000\nparallel 3,996,803\n148500000\nstream 13,426,933\n148500000\narrays 13,228,364\n148500000\nloop 1,137,424\n------\n30,000,000 numbers\n1485000000\nparallel 32,894,414\n1485000000\nstream 131,924,691\n1485000000\narrays 131,689,921\n1485000000\nloop 9,607,527\n------\n300,000,000 numbers\n1965098112\nparallel 338,552,816\n1965098112\nstream 1,318,649,742\n1965098112\narrays 1,308,043,340\n1965098112\nloop 98,986,436\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19950196,"reputation":31,"user_id":14620026,"display_name":"Abhishek Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614146886,"creation_date":1614146886,"answer_id":66345537,"question_id":4550662,"body_markdown":"Most of the answers here are using inbuilt functions-    \r\nHere is my answer if you want to know the whole logic behind this ques:    \r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class SumOfArray {\r\n        public static void main(String[] args){\r\n            Scanner inp = new Scanner(System.in);\r\n            int n = inp.nextInt();\r\n            int[] arr = new int[n];\r\n            for(int i = 0; i &lt; n; i++){\r\n                arr[i] = inp.nextInt();\r\n            }\r\n            System.out.println(&quot;The sum of the array is :&quot; + sum(arr));\r\n        }\r\n        static int sum(int[] arr){\r\n            int sum = 0;\r\n            for (int a = 0; a &lt; arr.length; a++){\r\n                sum = sum + arr[a];\r\n            }\r\n            return sum;\r\n        }\r\n    }\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>Most of the answers here are using inbuilt functions-<br />\nHere is my answer if you want to know the whole logic behind this ques:</p>\n<pre><code>import java.util.*;\n\npublic class SumOfArray {\n    public static void main(String[] args){\n        Scanner inp = new Scanner(System.in);\n        int n = inp.nextInt();\n        int[] arr = new int[n];\n        for(int i = 0; i &lt; n; i++){\n            arr[i] = inp.nextInt();\n        }\n        System.out.println(&quot;The sum of the array is :&quot; + sum(arr));\n    }\n    static int sum(int[] arr){\n        int sum = 0;\n        for (int a = 0; a &lt; arr.length; a++){\n            sum = sum + arr[a];\n        }\n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19594580,"reputation":1380,"user_id":14340917,"display_name":"Monu Rohilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624281708,"creation_date":1624281708,"answer_id":68068720,"question_id":4550662,"body_markdown":"I have the right solution for your problem if you specifically have an array of type double, then this method can be used to calculate the sum of its elements. also, it using math class\r\n\r\n    import org.apache.commons.math3.stat.StatUtils;\r\n     \r\n    public class ArraySum {\r\n     \r\n       public static void main(String[] args) {\r\n    \tdouble[] array = { 10, 4, 17, 33, -2, 14 };\r\n    \tint sum = (int)StatUtils.sum(array);\r\n    \tSystem.out.println(&quot;Sum of array elements is: &quot; + sum);\r\n       }\r\n    }","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I have the right solution for your problem if you specifically have an array of type double, then this method can be used to calculate the sum of its elements. also, it using math class</p>\n<pre><code>import org.apache.commons.math3.stat.StatUtils;\n \npublic class ArraySum {\n \n   public static void main(String[] args) {\n    double[] array = { 10, 4, 17, 33, -2, 14 };\n    int sum = (int)StatUtils.sum(array);\n    System.out.println(&quot;Sum of array elements is: &quot; + sum);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25338697,"reputation":11,"user_id":19210297,"display_name":"Tha&#237;sa Vieira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690584583,"creation_date":1690584583,"answer_id":76791394,"question_id":4550662,"body_markdown":" Algorithm to find the sum of the elements of the array:\r\n\r\n 1. Initialize an array *arr* and a variable *sum*;\r\n 2. Set the value of *sum=0*;\r\n 3. Start a **for loop** from index 0 to the length of the array -1;\r\n 4. In every iteration, perform *sum=sum+arr[i]*;\r\n 5. After the termination of the loop, print the value of the sum.\r\n\r\nSee code bellow:\r\n\r\n    import java.io*;\r\n    import java.util*;\r\n    import java.text*;\r\n    import java.math*;\r\n    import java.util.regex*;\r\n    \r\n    class Test{\r\n    static int arr[] = {1,2,3,4,10,11}\r\n    //method for sum of elements in an array\r\n    static int sum()\r\n    {\r\n    int sum = 0; //initialize sum\r\n    int i;\r\n    \r\n    //iterate through all elements and add them to sum\r\n    for (i=0; i&lt;arr.length;i++)\r\n        sum += arr[i];\r\n\r\n     return sum;\r\n    }\r\n    \r\n    //driver method\r\n    public static void main(String[] args){\r\n    System.out.println(&quot;Sum of given array is &quot; + sum());\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nAnd if you want to get the sum of the elements of an array where the input(stdln) is initially unknown just add:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    int length = input.nextInt();\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>Algorithm to find the sum of the elements of the array:</p>\n<ol>\n<li>Initialize an array <em>arr</em> and a variable <em>sum</em>;</li>\n<li>Set the value of <em>sum=0</em>;</li>\n<li>Start a <strong>for loop</strong> from index 0 to the length of the array -1;</li>\n<li>In every iteration, perform <em>sum=sum+arr[i]</em>;</li>\n<li>After the termination of the loop, print the value of the sum.</li>\n</ol>\n<p>See code bellow:</p>\n<pre><code>import java.io*;\nimport java.util*;\nimport java.text*;\nimport java.math*;\nimport java.util.regex*;\n\nclass Test{\nstatic int arr[] = {1,2,3,4,10,11}\n//method for sum of elements in an array\nstatic int sum()\n{\nint sum = 0; //initialize sum\nint i;\n\n//iterate through all elements and add them to sum\nfor (i=0; i&lt;arr.length;i++)\n    sum += arr[i];\n\n return sum;\n}\n\n//driver method\npublic static void main(String[] args){\nSystem.out.println(&quot;Sum of given array is &quot; + sum());\n}\n\n\n}\n</code></pre>\n<p>And if you want to get the sum of the elements of an array where the input(stdln) is initially unknown just add:</p>\n<pre><code>Scanner input = new Scanner(System.in);\nint length = input.nextInt();\n</code></pre>\n"}],"owner":{"account_id":144569,"reputation":3835,"user_id":353715,"accept_rate":36,"display_name":"TomLisankie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849800,"favorite_count":0,"down_vote_count":6,"up_vote_count":200,"answer_count":29,"score":194,"last_activity_date":1690584583,"creation_date":1293582910,"question_id":4550662,"body_markdown":"I&#39;m having a problem finding the sum of all of the integers in an array in Java. I cannot find any useful method in the `Math` class for this.","title":"How do you find the sum of all the numbers in an array in Java?","body":"<p>I'm having a problem finding the sum of all of the integers in an array in Java. I cannot find any useful method in the <code>Math</code> class for this.</p>\n"},{"tags":["java","android","firebase","google-signin"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1690571732,"post_id":76790499,"comment_id":135377529,"body_markdown":"We really can&#39;t tell you what to type here - it&#39;s not just a few simple lines, and we don&#39;t know what you want the app to actually do here.  You should follow the [documentation](https://firebase.google.com/docs/auth/android/start) exactly as it instructs, and if you have problems with that, show the code you have that doesn&#39;t work the way you expect, along with your debugging details.","body":"We really can&#39;t tell you what to type here - it&#39;s not just a few simple lines, and we don&#39;t know what you want the app to actually do here.  You should follow the <a href=\"https://firebase.google.com/docs/auth/android/start\" rel=\"nofollow noreferrer\">documentation</a> exactly as it instructs, and if you have problems with that, show the code you have that doesn&#39;t work the way you expect, along with your debugging details."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1690573576,"post_id":76790499,"comment_id":135377773,"body_markdown":"What part exactly is not working? Do you have any logs? Does the app crash? You can add log statements to see which part of your code works and which doesn&#39;t. You need to add more information here so that, people can figure out what&#39;s wrong with your code.","body":"What part exactly is not working? Do you have any logs? Does the app crash? You can add log statements to see which part of your code works and which doesn&#39;t. You need to add more information here so that, people can figure out what&#39;s wrong with your code."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1690578822,"post_id":76790499,"comment_id":135378478,"body_markdown":"Try looking at [User Authentication and CRUD Operation with Firebase Realtime Database in Android](https://www.geeksforgeeks.org/user-authentication-and-crud-operation-with-firebase-realtime-database-in-android/).","body":"Try looking at <a href=\"https://www.geeksforgeeks.org/user-authentication-and-crud-operation-with-firebase-realtime-database-in-android/\" rel=\"nofollow noreferrer\">User Authentication and CRUD Operation with Firebase Realtime Database in Android</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690629972,"post_id":76790499,"comment_id":135382200,"body_markdown":"I&#39;m not sure I understand. But since you&#39;re using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"I&#39;m not sure I understand. But since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":19317690,"reputation":41,"user_id":14122062,"display_name":"Nebrass wahaib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690584098,"creation_date":1690584098,"answer_id":76791376,"question_id":76790499,"body_markdown":" it seems like you&#39;re trying to implement a Google Sign-In functionality using Firebase Authentication in an Android Studio project.\r\n\r\nTo implement Google Sign-In with Firebase, you&#39;ll need to perform the following steps:\r\n\r\n1. Add the necessary dependencies: In your project&#39;s `build.gradle` file, make sure you have the necessary dependencies for Google Sign-In and Firebase Authentication. For example:\r\n\r\n```java\r\ndependencies {\r\n    // Other dependencies...\r\n    implementation &#39;com.google.android.gms:play-services-auth:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n}\r\n```\r\n\r\n2. Configure Google Sign-In in the Firebase console: Make sure you have enabled the Google Sign-In provider in the Firebase console and added the appropriate SHA-1 fingerprint for your Android app.\r\n\r\n3. Set up the Google Sign-In request:\r\n\r\n```java\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\n\r\n// ...\r\n\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        // Configure Google Sign In\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        // Build a GoogleSignInClient with the options\r\n        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(MainActivity.this, gso);\r\n\r\n        // Start the sign-in intent\r\n        Intent signInIntent = googleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n});\r\n```\r\n\r\nMake sure to replace `R.string.default_web_client_id` with your own web client ID from the Firebase console.\r\n\r\n4. Handle the sign-in result:\r\n\r\n```java\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n\r\n    if (requestCode == RC_SIGN_IN) {\r\n        Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n        try {\r\n            // Google sign-in was successful\r\n            GoogleSignInAccount account = task.getResult(ApiException.class);\r\n            \r\n            // Get the user&#39;s ID token and authenticate with Firebase\r\n            String idToken = account.getIdToken();\r\n            AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n            FirebaseAuth.getInstance().signInWithCredential(credential)\r\n                    .addOnCompleteListener(MainActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign-in success, update UI with the signed-in user&#39;s information\r\n                                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                                String displayName = user.getDisplayName();\r\n                                Toast.makeText(MainActivity.this, &quot;Welcome &quot; + displayName, Toast.LENGTH_SHORT).show();\r\n                            } else {\r\n                                // Sign-in failed, display a message to the user\r\n                                Toast.makeText(MainActivity.this, &quot;Sign-in failed&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n        } catch (ApiException e) {\r\n            // Google sign-in failed\r\n            Toast.makeText(MainActivity.this, &quot;Google Sign-in Failed&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBe sure to define a constant `RC_SIGN_IN` for the request code.\r\n\r\nRemember to also set up Firebase Authentication in your project and configure it in the Firebase console.\r\n\r\nMake sure you","title":"How do i implement a login with google firebase in my java application","body":"<p>it seems like you're trying to implement a Google Sign-In functionality using Firebase Authentication in an Android Studio project.</p>\n<p>To implement Google Sign-In with Firebase, you'll need to perform the following steps:</p>\n<ol>\n<li>Add the necessary dependencies: In your project's <code>build.gradle</code> file, make sure you have the necessary dependencies for Google Sign-In and Firebase Authentication. For example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    // Other dependencies...\n    implementation 'com.google.android.gms:play-services-auth:19.2.0'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Configure Google Sign-In in the Firebase console: Make sure you have enabled the Google Sign-In provider in the Firebase console and added the appropriate SHA-1 fingerprint for your Android app.</p>\n</li>\n<li><p>Set up the Google Sign-In request:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\n\n// ...\n\nbtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        // Configure Google Sign In\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n\n        // Build a GoogleSignInClient with the options\n        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(MainActivity.this, gso);\n\n        // Start the sign-in intent\n        Intent signInIntent = googleSignInClient.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n});\n</code></pre>\n<p>Make sure to replace <code>R.string.default_web_client_id</code> with your own web client ID from the Firebase console.</p>\n<ol start=\"4\">\n<li>Handle the sign-in result:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == RC_SIGN_IN) {\n        Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n        try {\n            // Google sign-in was successful\n            GoogleSignInAccount account = task.getResult(ApiException.class);\n            \n            // Get the user's ID token and authenticate with Firebase\n            String idToken = account.getIdToken();\n            AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\n            FirebaseAuth.getInstance().signInWithCredential(credential)\n                    .addOnCompleteListener(MainActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if (task.isSuccessful()) {\n                                // Sign-in success, update UI with the signed-in user's information\n                                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                                String displayName = user.getDisplayName();\n                                Toast.makeText(MainActivity.this, &quot;Welcome &quot; + displayName, Toast.LENGTH_SHORT).show();\n                            } else {\n                                // Sign-in failed, display a message to the user\n                                Toast.makeText(MainActivity.this, &quot;Sign-in failed&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n        } catch (ApiException e) {\n            // Google sign-in failed\n            Toast.makeText(MainActivity.this, &quot;Google Sign-in Failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>Be sure to define a constant <code>RC_SIGN_IN</code> for the request code.</p>\n<p>Remember to also set up Firebase Authentication in your project and configure it in the Firebase console.</p>\n<p>Make sure you</p>\n"}],"owner":{"account_id":29038276,"reputation":3,"user_id":22243641,"display_name":"Shiva Ramlal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76791376,"answer_count":1,"score":0,"last_activity_date":1690584098,"creation_date":1690571584,"question_id":76790499,"body_markdown":"I&#39;ve looked at countless youtube videos but nothing try works and I don&#39;t know why I&#39;ve also read through the documentation but with no luck... I&#39;m using android studio and coding in java its a simple problem but I cant seem to figure it out, here is the code I have for the button I&#39;ve kind of left out the old code that I had in the &quot;//google sign in request&quot; as it does not work and makes no sense. I&#39;ve also successfully connected my firebase to the project and added the SHA-1 fingerprint.\r\n\r\n```\r\npackage com.example.firebasegoogleauth4;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\r\nimport com.google.android.gms.auth.api.identity.SignInClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        btn = findViewById(R.id.button1);\r\n        \r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //google sign in request \r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How do i implement a login with google firebase in my java application","body":"<p>I've looked at countless youtube videos but nothing try works and I don't know why I've also read through the documentation but with no luck... I'm using android studio and coding in java its a simple problem but I cant seem to figure it out, here is the code I have for the button I've kind of left out the old code that I had in the &quot;//google sign in request&quot; as it does not work and makes no sense. I've also successfully connected my firebase to the project and added the SHA-1 fingerprint.</p>\n<pre><code>package com.example.firebasegoogleauth4;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\nimport com.google.android.gms.auth.api.identity.SignInClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button btn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        btn = findViewById(R.id.button1);\n        \n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //google sign in request \n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":1,"creation_date":1690585893,"post_id":76791351,"comment_id":135379097,"body_markdown":"when you call &quot;new Test()&quot;, the created instance is not managed by Spring container. you could *autowired* the instance in your Demo3Application instead.\n\n&lt;pre&gt;&lt;code&gt;\n@Autowired\n private Test test2\n&lt;/code&gt;&lt;/pre&gt;\n\nAlso please make sure &quot;CRUDEMongo.class&quot; is the same package as com.example.demo3","body":"when you call &quot;new Test()&quot;, the created instance is not managed by Spring container. you could <i>autowired</i> the instance in your Demo3Application instead.  &lt;pre&gt;&lt;code&gt; @Autowired  private Test test2 &lt;/code&gt;&lt;/pre&gt;  Also please make sure &quot;CRUDEMongo.class&quot; is the same package as com.example.demo3"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690586303,"post_id":76791351,"comment_id":135379143,"body_markdown":"Thank you very much, that worked for me.","body":"Thank you very much, that worked for me."}],"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690785072,"answer_count":0,"score":0,"last_activity_date":1690583671,"creation_date":1690583671,"question_id":76791351,"body_markdown":"I have the following classes in the same package com.example.demo3.\r\n\r\n```\r\n@Component\r\npublic class Test {\r\n    @Autowired\r\n    Test2 test;\r\n    public Test(){\r\n        int i = 3;\r\n    }\r\n    public void print(){\r\n        System.out.println(test);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n`package com.example.demo3;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Test2 {\r\n    \r\n}`\r\n```\r\n```\r\n\r\n`package com.example.demo3;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.ServerApi;\r\nimport com.mongodb.ServerApiVersion;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\n\r\n@Configuration\r\n@SpringBootApplication(\r\nscanBasePackages={&quot;CRUDEMongo.class&quot;})\r\npublic class Demo3Application{\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo3Application.class, args);\r\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\r\n\t\tServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\r\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t\tTest test2 = new Test();\r\n\t\ttest2.print();\r\n\t\ttry(MongoClient client = MongoClients.create(settings)){\r\n\t\t}\r\n\t}\r\n}\r\n`\r\n```\r\n\r\nMy autowired fields are null. Why is that? Because I called Test test2 with new Test()? That shouldnt made a difference because the Constructor of Test2 is not called by new. What is my mistake?\r\n\r\nAll my autowired fields are 0","title":"Autowired Object are always NULL","body":"<p>I have the following classes in the same package com.example.demo3.</p>\n<pre><code>@Component\npublic class Test {\n    @Autowired\n    Test2 test;\n    public Test(){\n        int i = 3;\n    }\n    public void print(){\n        System.out.println(test);\n    }\n}\n</code></pre>\n<pre><code>`package com.example.demo3;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Test2 {\n    \n}`\n</code></pre>\n<pre><code>\n`package com.example.demo3;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.ServerApi;\nimport com.mongodb.ServerApiVersion;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n@Configuration\n@SpringBootApplication(\nscanBasePackages={&quot;CRUDEMongo.class&quot;})\npublic class Demo3Application{\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n        String connectionString = &quot;mongodb+srv://torben:&lt;password&gt;@cluster0.orswsxw.mongodb.net/?retryWrites=true&amp;w=majority&quot;;\n        ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\n        MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString(new ConnectionString(connectionString)).serverApi(serverApi).build();\n        System.out.println(&quot;Hello&quot;);\n        Test test2 = new Test();\n        test2.print();\n        try(MongoClient client = MongoClients.create(settings)){\n        }\n    }\n}\n`\n</code></pre>\n<p>My autowired fields are null. Why is that? Because I called Test test2 with new Test()? That shouldnt made a difference because the Constructor of Test2 is not called by new. What is my mistake?</p>\n<p>All my autowired fields are 0</p>\n"},{"tags":["java","jvm","garbage-collection"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690547480,"post_id":76787773,"comment_id":135372833,"body_markdown":"The [javadoc on WeakReference](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/WeakReference.html) explains what it does and why pretty well. I wouldn&#39;t worry about the exact implementation, especially if digging through JVM code feels complex.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">javadoc on WeakReference</a> explains what it does and why pretty well. I wouldn&#39;t worry about the exact implementation, especially if digging through JVM code feels complex."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690548643,"post_id":76787773,"comment_id":135373083,"body_markdown":"@Jorn where does that logic relating to weak reference handling exist? Do JVM implementations implement it however they like? It&#39;s not a cross-platform feature then, is it?","body":"@Jorn where does that logic relating to weak reference handling exist? Do JVM implementations implement it however they like? It&#39;s not a cross-platform feature then, is it?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690548702,"post_id":76787773,"comment_id":135373100,"body_markdown":"Yes, JVMs can implement it as they choose. They have to, as different JVMs can have completely different garbage collector implementations. It&#39;s still cross-platform, since the spec requires those implementations to follow certain rules. The implementation may not be the exact same, but the effect is the same.","body":"Yes, JVMs can implement it as they choose. They have to, as different JVMs can have completely different garbage collector implementations. It&#39;s still cross-platform, since the spec requires those implementations to follow certain rules. The implementation may not be the exact same, but the effect is the same."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690553054,"post_id":76787773,"comment_id":135374064,"body_markdown":"@Jorn the spec says nothing imperative on weak references (see the question). It seems it&#39;s entirely legal for JVM makers not to handle them in any special way at all","body":"@Jorn the spec says nothing imperative on weak references (see the question). It seems it&#39;s entirely legal for JVM makers not to handle them in any special way at all"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690553433,"post_id":76787773,"comment_id":135374161,"body_markdown":"What are you worried about exactly? A JVM just choosing not to properly handle weak references? I don&#39;t think that particular JVM would see much use.","body":"What are you worried about exactly? A JVM just choosing not to properly handle weak references? I don&#39;t think that particular JVM would see much use."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690555490,"post_id":76787773,"comment_id":135374703,"body_markdown":"@Jorn but does it make one a good Java programmer if they rely on JVM-specific functionality?","body":"@Jorn but does it make one a good Java programmer if they rely on JVM-specific functionality?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690563115,"post_id":76787773,"comment_id":135376146,"body_markdown":"I give up......","body":"I give up......"}],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1690615550,"post_id":76791286,"comment_id":135380849,"body_markdown":"But those bounds are not defined in the spec, are they?","body":"But those bounds are not defined in the spec, are they?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692620463,"post_id":76791286,"comment_id":135643975,"body_markdown":"@JoreJoh what bounds do you mean?","body":"@JoreJoh what bounds do you mean?"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1692626523,"post_id":76791286,"comment_id":135645416,"body_markdown":"@JoreJoh the whole spec is the bounds. E.g. the weak ref getting nulled must be consistent with the JMM.","body":"@JoreJoh the whole spec is the bounds. E.g. the weak ref getting nulled must be consistent with the JMM."}],"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690582698,"creation_date":1690582698,"answer_id":76791286,"question_id":76787773,"body_markdown":"&gt; All in all, how do WeakReferences work? \r\n\r\nThey&#39;re part of the garbage collector analyzing reachability of references from GC roots and treating the `Reference` types specially. In the case of `WeakReference` they do it by not traversing the referent field as part of liveness checking.\r\n\r\nHow exactly they do that is indeed an implementation detail. Of course the observable behavior must still be in bounds of what&#39;s allowed by the spec and the JDK documentation.\r\n\r\n&gt; Do JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)?\r\n\r\nYes. GCs are not guaranteed to run, ever. Which means weak reference processing may also never happen.\r\n\r\n[EpsilonGC][1] is such a GC.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/318","title":"How exactly are WeakReferences processed?","body":"<blockquote>\n<p>All in all, how do WeakReferences work?</p>\n</blockquote>\n<p>They're part of the garbage collector analyzing reachability of references from GC roots and treating the <code>Reference</code> types specially. In the case of <code>WeakReference</code> they do it by not traversing the referent field as part of liveness checking.</p>\n<p>How exactly they do that is indeed an implementation detail. Of course the observable behavior must still be in bounds of what's allowed by the spec and the JDK documentation.</p>\n<blockquote>\n<p>Do JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)?</p>\n</blockquote>\n<p>Yes. GCs are not guaranteed to run, ever. Which means weak reference processing may also never happen.</p>\n<p><a href=\"https://openjdk.org/jeps/318\" rel=\"nofollow noreferrer\">EpsilonGC</a> is such a GC.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690582698,"creation_date":1690546992,"question_id":76787773,"body_markdown":"I looked at the `WeakReference` source code. Here it is:\r\n```java\r\npublic class WeakReference&lt;T&gt; extends Reference&lt;T&gt; {\r\n\r\n    public WeakReference(T referent) {\r\n        super(referent);\r\n    }\r\n\r\n    public WeakReference(T referent, ReferenceQueue&lt;? super T&gt; q) {\r\n        super(referent, q);\r\n    }\r\n\r\n}\r\n```\r\nAs you can see, it contains nothing save for a couple of constructors. I looked into [the JVM specification][1]. It contains no mention of &quot;weak references&quot; except for\r\n\r\n&gt; Classes that might require special support from the Java Virtual Machine include\r\nthose that support:\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; • Weak references, such as the classes in the package java.lang.ref.\r\n\r\nDo JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)? I tried to test that theory and visited [Hotspot&#39;s page][2]. Unfortunately, it lacks adequate documentation and its [source code][3] is too complex for me to analyze\r\n\r\nAll in all, how do `WeakReference`s work? What is the corresponding logic that results in a different garbage collector behavior?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se17/jvms17.pdf\r\n  [2]: https://openjdk.org/groups/hotspot/\r\n  [3]: https://github.com/openjdk/jdk/tree/master/src/hotspot","title":"How exactly are WeakReferences processed?","body":"<p>I looked at the <code>WeakReference</code> source code. Here it is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WeakReference&lt;T&gt; extends Reference&lt;T&gt; {\n\n    public WeakReference(T referent) {\n        super(referent);\n    }\n\n    public WeakReference(T referent, ReferenceQueue&lt;? super T&gt; q) {\n        super(referent, q);\n    }\n\n}\n</code></pre>\n<p>As you can see, it contains nothing save for a couple of constructors. I looked into <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/jvms17.pdf\" rel=\"nofollow noreferrer\">the JVM specification</a>. It contains no mention of &quot;weak references&quot; except for</p>\n<blockquote>\n<p>Classes that might require special support from the Java Virtual Machine include\nthose that support:</p>\n<p>[...]</p>\n<p>• Weak references, such as the classes in the package java.lang.ref.</p>\n</blockquote>\n<p>Do JVM implementations implement that functionality as they see fit then (or, alternatively, not implement it at all)? I tried to test that theory and visited <a href=\"https://openjdk.org/groups/hotspot/\" rel=\"nofollow noreferrer\">Hotspot's page</a>. Unfortunately, it lacks adequate documentation and its <a href=\"https://github.com/openjdk/jdk/tree/master/src/hotspot\" rel=\"nofollow noreferrer\">source code</a> is too complex for me to analyze</p>\n<p>All in all, how do <code>WeakReference</code>s work? What is the corresponding logic that results in a different garbage collector behavior?</p>\n"},{"tags":["java","linux","maven","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690569102,"post_id":76789304,"comment_id":135377166,"body_markdown":"&quot;_I have a Fat Jar JavaFX application ... It&#39;s a modular application_&quot;  – Just want to point out that is arguably an oxymoron. The JAR specification does not allow for multiple modules in a single JAR file and launching with the `-jar` option puts everything on the class-path.","body":"&quot;<i>I have a Fat Jar JavaFX application ... It&#39;s a modular application</i>&quot;  – Just want to point out that is arguably an oxymoron. The JAR specification does not allow for multiple modules in a single JAR file and launching with the <code>-jar</code> option puts everything on the class-path."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690569196,"post_id":76789304,"comment_id":135377184,"body_markdown":"That said, does your fat JAR contain the native JavaFX code for Linux platforms?","body":"That said, does your fat JAR contain the native JavaFX code for Linux platforms?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690575504,"post_id":76789304,"comment_id":135378041,"body_markdown":"What kind of linux system is it? Which ubuntu version? Intel? Arm? 32bit? 64bit? What is in your pom.xml? Please provide a complete pom.xml that replicates your issue as a [mcve], it does not need to be your exact project pom.xml, just something that is complete that somebody can use to replicate this.   Also, provide the build and execution commands you used to create the package and execute it.  Check out [Maven Shade JavaFX runtime components are missing](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing), in case you have not already done so.","body":"What kind of linux system is it? Which ubuntu version? Intel? Arm? 32bit? 64bit? What is in your pom.xml? Please provide a complete pom.xml that replicates your issue as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, it does not need to be your exact project pom.xml, just something that is complete that somebody can use to replicate this.   Also, provide the build and execution commands you used to create the package and execute it.  Check out <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a>, in case you have not already done so."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690580845,"post_id":76789304,"comment_id":135378663,"body_markdown":"See also this recent review of [_packaging_ and _deployment_](https://stackoverflow.com/a/76758560/230513).","body":"See also this recent review of <a href=\"https://stackoverflow.com/a/76758560/230513\"><i>packaging</i> and <i>deployment</i></a>."},{"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1690584817,"post_id":76789304,"comment_id":135379014,"body_markdown":"@Slaw yea, I haven&#39;t pursued the &quot;how to properly package a modular JFX program&quot; yet. jpackage &quot;seems&quot; to work with the fat jar, but it does throw the warning about running unnamed modules. It&#39;s not clear to me how to package a modular application whether it&#39;s FX or not, frankly. Fat Jars seemed to be pass&#233; now. I want to use jpackage so folks can download a simple installer.","body":"@Slaw yea, I haven&#39;t pursued the &quot;how to properly package a modular JFX program&quot; yet. jpackage &quot;seems&quot; to work with the fat jar, but it does throw the warning about running unnamed modules. It&#39;s not clear to me how to package a modular application whether it&#39;s FX or not, frankly. Fat Jars seemed to be pass&#233; now. I want to use jpackage so folks can download a simple installer."},{"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1690584876,"post_id":76789304,"comment_id":135379019,"body_markdown":"@trashgod (and jewelsea) thanks for that link.","body":"@trashgod (and jewelsea) thanks for that link."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690587087,"post_id":76789304,"comment_id":135379202,"body_markdown":"&quot;*I want to use jpackage so folks can download a simple installer.*&quot; -&gt; if that is what you want, then start with that, rather than trying to create a fat jar (IMO).  The best overview for that is IMO [the official Oracle jpackage guide](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A).  Note that there are quite a few tricks in using jpackage (e.g. on Mac it appears to require a paid Apple developer signing certificate), so be prepared for to spend time and frustration, and prototype using it to make sure it is what you want","body":"&quot;<i>I want to use jpackage so folks can download a simple installer.</i>&quot; -&gt; if that is what you want, then start with that, rather than trying to create a fat jar (IMO).  The best overview for that is IMO <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">the official Oracle jpackage guide</a>.  Note that there are quite a few tricks in using jpackage (e.g. on Mac it appears to require a paid Apple developer signing certificate), so be prepared for to spend time and frustration, and prototype using it to make sure it is what you want"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690587356,"post_id":76789304,"comment_id":135379224,"body_markdown":"The [ackman jpackage maven plugin](https://github.com/Akman/jpackage-maven-plugin) can be used to package your app using maven (as that seems to be your chosen pipeline), but as you are running builds targeting multiple platforms, it is a bit tricky.  You will need to run the build on each target platform to get an installer for each (don&#39;t forget that M1 and Intel macs are different platforms, as are 32 bit vs 64 bit architectures and Intel vs Arm linux distros). [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) may help (I haven&#39;t used it).","body":"The <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">ackman jpackage maven plugin</a> can be used to package your app using maven (as that seems to be your chosen pipeline), but as you are running builds targeting multiple platforms, it is a bit tricky.  You will need to run the build on each target platform to get an installer for each (don&#39;t forget that M1 and Intel macs are different platforms, as are 32 bit vs 64 bit architectures and Intel vs Arm linux distros). <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> may help (I haven&#39;t used it)."}],"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690582465,"creation_date":1690559206,"question_id":76789304,"body_markdown":"I have a Fat Jar JavaFX application. Java 17, JavaFX 18. The jar is built using the maven shade plugin. It&#39;s a modular application.\r\n\r\nWhen I try to start it with `java -jar fat.jar`, I get this error:\r\n\r\n    Graphics Device initialization failed for :  es2, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\r\nThis works fine on both Mac and Windows.\r\n\r\nI&#39;m using the JavaFX plugin for maven, so if I run it using `mvn javafx:run`, the app starts up fine.\r\n\r\nI&#39;m using JavaFX from maven dependencies, rather than having it part of the JDK, so the FX jars and libs are part of my fat jar. I don&#39;t think it&#39;s an installation issue per se, but I don&#39;t know. \r\n\r\nThat said, when maven runs it, it runs it as a single java command with a large module/classpath from the repository files. So that start is certainly different.\r\n\r\nHow can I get my fat jar to run properly on Ubuntu?\r\n\r\nEdit:\r\n\r\nThis turned out to be a mistake on my part. My shaded jar was not being rebuilt, and it was instead using the one that was originally from my Mac, and that is why it was failing. After I got the jar to correctly rebuild, it worked as expected.\r\n\r\n","title":"Error starting JavaFX Application on Ubuntu","body":"<p>I have a Fat Jar JavaFX application. Java 17, JavaFX 18. The jar is built using the maven shade plugin. It's a modular application.</p>\n<p>When I try to start it with <code>java -jar fat.jar</code>, I get this error:</p>\n<pre><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n</code></pre>\n<p>This works fine on both Mac and Windows.</p>\n<p>I'm using the JavaFX plugin for maven, so if I run it using <code>mvn javafx:run</code>, the app starts up fine.</p>\n<p>I'm using JavaFX from maven dependencies, rather than having it part of the JDK, so the FX jars and libs are part of my fat jar. I don't think it's an installation issue per se, but I don't know.</p>\n<p>That said, when maven runs it, it runs it as a single java command with a large module/classpath from the repository files. So that start is certainly different.</p>\n<p>How can I get my fat jar to run properly on Ubuntu?</p>\n<p>Edit:</p>\n<p>This turned out to be a mistake on my part. My shaded jar was not being rebuilt, and it was instead using the one that was originally from my Mac, and that is why it was failing. After I got the jar to correctly rebuild, it worked as expected.</p>\n"},{"tags":["java","json-rpc"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690581508,"post_id":76791211,"comment_id":135378726,"body_markdown":"Why does it need to be JSON, as opposed to &quot;anything that lets you do RPC&quot;?","body":"Why does it need to be JSON, as opposed to &quot;anything that lets you do RPC&quot;?"}],"owner":{"account_id":26842610,"reputation":11,"user_id":20428873,"display_name":"Maliha Hossain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690581368,"creation_date":1690581368,"question_id":76791211,"body_markdown":"I am looking for a json-rpc client library for java that will help with interprocess communication. I found json-rpc4j. Are there any other libraries that you can suggest? The josn-rpc 4j is not quite working with the inputstream and outputstream of java.  \r\n\r\nI found jsonrpc 4j client library. but it quite isn&#39;t working for me. so I want to see if any other library works for me . ","title":"JSON-RPC libraries for java","body":"<p>I am looking for a json-rpc client library for java that will help with interprocess communication. I found json-rpc4j. Are there any other libraries that you can suggest? The josn-rpc 4j is not quite working with the inputstream and outputstream of java.</p>\n<p>I found jsonrpc 4j client library. but it quite isn't working for me. so I want to see if any other library works for me .</p>\n"},{"tags":["java","spring","testing","junit","boot"],"answers":[{"tags":[],"owner":{"account_id":3009750,"reputation":757,"user_id":2553521,"display_name":"edwgiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690581343,"creation_date":1690581343,"answer_id":76791209,"question_id":76790979,"body_markdown":"`junit.jupiter.extensions.autodetection.enabled` flag works for the extentions  registered via ServiceLoader mechanism\r\nhttps://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic-enabling\r\n\r\nSo, it&#39;s expected having the `InheritClassTestCheckExtension` full class name \r\nin `META-INF/services/org.junit.jupiter.api.extension.Extension` file\r\n\r\n----------\r\n\r\nAlternativaly, it&#39;s possible using explicit declaration with [`@ExtendWith`][1] or  [`@RegisterExtension`][2] annotations,\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-declarative\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#extensions-registration-programmatic","title":"How do a check previous a test execution in jUnit 5?","body":"<p><code>junit.jupiter.extensions.autodetection.enabled</code> flag works for the extentions  registered via ServiceLoader mechanism\n<a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic-enabling\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic-enabling</a></p>\n<p>So, it's expected having the <code>InheritClassTestCheckExtension</code> full class name\nin <code>META-INF/services/org.junit.jupiter.api.extension.Extension</code> file</p>\n<hr />\n<p>Alternativaly, it's possible using explicit declaration with <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-declarative\" rel=\"nofollow noreferrer\"><code>@ExtendWith</code></a> or  <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-programmatic\" rel=\"nofollow noreferrer\"><code>@RegisterExtension</code></a> annotations,</p>\n"}],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76791209,"answer_count":1,"score":2,"last_activity_date":1690581343,"creation_date":1690577674,"question_id":76790979,"body_markdown":"I need do a validation before execute many test&#39;s in a Spring Boot app, with jUnit 5. Basically I need check if my test have a superclass (because we preload context there). I dont want to edit every test else do something that allows me to check before running each test. I did something like this:\r\n\r\n    public class InheritClassTestCheckExtension implements TestTemplateInvocationContextProvider, BeforeEachCallback {\r\n\r\n    @Override\r\n    public void beforeEach(ExtensionContext context) throws Exception {\r\n\t\tClass&lt;?&gt; superClass = context.getRequiredTestClass().getSuperclass();\r\n\t\tString listClasses = &quot;&quot;;\r\n\t\tif (superClass doesnt exists or is object, throw a exception) {\r\n\t\t\tthrow new Exception(&quot;Need to inherit from class A,B or C&quot;);\r\n       } else { \r\n    \t   Continue to the test&#39;s\r\n       }\r\n    }\r\n\r\nI have this in my junit-platform.properties\r\n\r\n    junit.jupiter.extensions.autodetection.enabled=true\r\n    junit.jupiter.extensions.autodetection.names=com.my.package.InheritClassTestCheckExtension\r\n\r\nBut this doesnt work (It&#39;s not even entering the method beforeEach). I&#39;m in the correct way? Or what can I use to do it?","title":"How do a check previous a test execution in jUnit 5?","body":"<p>I need do a validation before execute many test's in a Spring Boot app, with jUnit 5. Basically I need check if my test have a superclass (because we preload context there). I dont want to edit every test else do something that allows me to check before running each test. I did something like this:</p>\n<pre><code>public class InheritClassTestCheckExtension implements TestTemplateInvocationContextProvider, BeforeEachCallback {\n\n@Override\npublic void beforeEach(ExtensionContext context) throws Exception {\n    Class&lt;?&gt; superClass = context.getRequiredTestClass().getSuperclass();\n    String listClasses = &quot;&quot;;\n    if (superClass doesnt exists or is object, throw a exception) {\n        throw new Exception(&quot;Need to inherit from class A,B or C&quot;);\n   } else { \n       Continue to the test's\n   }\n}\n</code></pre>\n<p>I have this in my junit-platform.properties</p>\n<pre><code>junit.jupiter.extensions.autodetection.enabled=true\njunit.jupiter.extensions.autodetection.names=com.my.package.InheritClassTestCheckExtension\n</code></pre>\n<p>But this doesnt work (It's not even entering the method beforeEach). I'm in the correct way? Or what can I use to do it?</p>\n"},{"tags":["java","netbeans","deployment","tomee-8"],"answers":[{"tags":[],"owner":{"account_id":16816047,"reputation":1,"user_id":12157822,"display_name":"YuanJhen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1570164757,"creation_date":1570164757,"answer_id":58230118,"question_id":58215599,"body_markdown":"&gt; \r\nThis problem only occurs when Tomee is running as a Windows service.&lt;br&gt;\r\nI tested version 7.0.4~8.0.0 to get the following conclusions.&lt;br&gt;&lt;br&gt;\r\nThe Tomee runs the service with the LocalSystem account before version 7.0.6.&lt;br&gt;\r\nStarting with version 7.0.6, the service is run with the LocalService account, so that the permissions are insufficient.&lt;br&gt;&lt;br&gt;\r\n**The following two ways can solve the issue:**&lt;br&gt;\r\n - Give the LocalService account access to the directory `AppData\\Local\\Temp\\`.&lt;br&gt;\r\n - Specifying the Tomee runs the service with the LocalSystem account when installing the service.&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;\r\n`service install %serviceName% --service-user LocalSystem `\r\n&lt;br&gt;&lt;br&gt;","title":"netbeans unable to copy context xml file from temp folder to tomee&#39;s localhost when deploy. FileNotFoundException(access denied)","body":"<blockquote>\n  <p>This problem only occurs when Tomee is running as a Windows service.<br>\n  I tested version 7.0.4~8.0.0 to get the following conclusions.<br><br>\n  The Tomee runs the service with the LocalSystem account before version 7.0.6.<br>\n  Starting with version 7.0.6, the service is run with the LocalService account, so that the permissions are insufficient.<br><br>\n  <strong>The following two ways can solve the issue:</strong><br>\n   - Give the LocalService account access to the directory <code>AppData\\Local\\Temp\\</code>.<br>\n   - Specifying the Tomee runs the service with the LocalSystem account when installing the service.<br>\n  &nbsp;&nbsp;\n  <code>service install %serviceName% --service-user LocalSystem</code>\n  <br><br></p>\n</blockquote>\n"}],"owner":{"account_id":16816047,"reputation":1,"user_id":12157822,"display_name":"YuanJhen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58230118,"answer_count":1,"score":0,"last_activity_date":1690581059,"creation_date":1570092956,"question_id":58215599,"body_markdown":"&lt;b&gt;\r\nnetbeans unable to copy context `xml` file from `AppData\\Local\\Temp\\` folder to `tomee`&#39;s `conf\\Catalina\\localhost` when deploy.\r\n&lt;/b&gt;\r\n\r\nalready tried：\r\n\r\n    deploy to tomee 7.0.X is fine but tomee 8.0.0 fail.\r\n\r\n\r\nfatal error in `stderr.log`：\r\n\r\n&gt; 03-Oct-2019 16:31:22.358 fatal [http-nio-9200-exec-6]\r\n&gt; org.apache.catalina.startup.ExpandWar.copy Error copying\r\n&gt; [C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml] to\r\n&gt; [D:\\Tomee\\apache-tomee-plus-8.0.0\\conf\\Catalina\\localhost\\myApp.xml]\r\n&gt; \tjava.io.FileNotFoundException:\r\n&gt; C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml (Access\r\n&gt; is denied.) \t\tat java.io.FileInputStream.open0(Native Method) \t\tat\r\n&gt; java.io.FileInputStream.open(FileInputStream.java:195) \t\tat\r\n&gt; java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138) \t\tat\r\n&gt; org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:276)","title":"netbeans unable to copy context xml file from temp folder to tomee&#39;s localhost when deploy. FileNotFoundException(access denied)","body":"<p><b>\nnetbeans unable to copy context <code>xml</code> file from <code>AppData\\Local\\Temp\\</code> folder to <code>tomee</code>'s <code>conf\\Catalina\\localhost</code> when deploy.\n</b></p>\n\n<p>already tried：</p>\n\n<pre><code>deploy to tomee 7.0.X is fine but tomee 8.0.0 fail.\n</code></pre>\n\n<p>fatal error in <code>stderr.log</code>：</p>\n\n<blockquote>\n  <p>03-Oct-2019 16:31:22.358 fatal [http-nio-9200-exec-6]\n  org.apache.catalina.startup.ExpandWar.copy Error copying\n  [C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml] to\n  [D:\\Tomee\\apache-tomee-plus-8.0.0\\conf\\Catalina\\localhost\\myApp.xml]\n    java.io.FileNotFoundException:\n  C:\\Users\\xxx\\AppData\\Local\\Temp\\context2716699461818377726.xml (Access\n  is denied.)       at java.io.FileInputStream.open0(Native Method)         at\n  java.io.FileInputStream.open(FileInputStream.java:195)        at\n  java.io.FileInputStream.(FileInputStream.java:138)      at\n  org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:276)</p>\n</blockquote>\n"},{"tags":["java","android","themoviedb-api"],"comments":[{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":1,"creation_date":1599634608,"post_id":63806137,"comment_id":112829863,"body_markdown":"&quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;, could be the image name which needs to be appended after your server path may be. You can clarify this from the recruiter itself.","body":"&quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;, could be the image name which needs to be appended after your server path may be. You can clarify this from the recruiter itself."},{"owner":{"account_id":17607265,"reputation":59,"user_id":12776090,"display_name":"Abhishek Upadhyay"},"score":0,"creation_date":1599634835,"post_id":63806137,"comment_id":112829949,"body_markdown":"@Astha No that didn&#39;t happened.","body":"@Astha No that didn&#39;t happened."}],"answers":[{"tags":[],"owner":{"account_id":8550429,"reputation":104,"user_id":6407505,"display_name":"Jigar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599635658,"creation_date":1599635658,"answer_id":63806507,"question_id":63806137,"body_markdown":"You can Use glide library to fetch and display image from the server. check below URL. &lt;br&gt;\r\n-- https://bumptech.github.io/glide/\r\n     contains how to use glide. &lt;br&gt;\r\n   \r\n\r\n     Glide\r\n            .with(may be context)\r\n            .load(url)\r\n            .into(your Image View);\r\n\r\n\r\n\r\n","title":"How to fetch images from response of themoviedb api","body":"<p>You can Use glide library to fetch and display image from the server. check below URL. <br>\n-- <a href=\"https://bumptech.github.io/glide/\" rel=\"nofollow noreferrer\">https://bumptech.github.io/glide/</a>\ncontains how to use glide. <br></p>\n<pre><code> Glide\n        .with(may be context)\n        .load(url)\n        .into(your Image View);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17607265,"reputation":59,"user_id":12776090,"display_name":"Abhishek Upadhyay"},"score":1,"creation_date":1599636286,"post_id":63806556,"comment_id":112830569,"body_markdown":"This really worked well. Thanks @Astha","body":"This really worked well. Thanks @Astha"},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1653303188,"post_id":63806556,"comment_id":127810446,"body_markdown":"@AbhishekUpadhyay Can you mark the answer as accepted if it helped you with your question :)","body":"@AbhishekUpadhyay Can you mark the answer as accepted if it helped you with your question :)"}],"tags":[],"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1599636276,"creation_date":1599635872,"answer_id":63806556,"question_id":63806137,"body_markdown":"As per the [ the movie db doc][1], it&#39;s in the following format:-\r\n\r\n    http://image.tmdb.org/t/p/w500/your_poster_path\r\n\r\n(Taking poster path from your question, now you can see image by pasting this in browser as URL - http://image.tmdb.org/t/p/w500/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg )\r\n\r\nEither use Glide or picasso to show it by following other answers.\r\n\r\n\r\n  [1]: https://developers.themoviedb.org/3/getting-started/images","title":"How to fetch images from response of themoviedb api","body":"<p>As per the <a href=\"https://developers.themoviedb.org/3/getting-started/images\" rel=\"noreferrer\"> the movie db doc</a>, it's in the following format:-</p>\n<pre><code>http://image.tmdb.org/t/p/w500/your_poster_path\n</code></pre>\n<p>(Taking poster path from your question, now you can see image by pasting this in browser as URL - <a href=\"http://image.tmdb.org/t/p/w500/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg\" rel=\"noreferrer\">http://image.tmdb.org/t/p/w500/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg</a> )</p>\n<p>Either use Glide or picasso to show it by following other answers.</p>\n"}],"owner":{"account_id":17607265,"reputation":59,"user_id":12776090,"display_name":"Abhishek Upadhyay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13347,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1599643273,"answer_count":2,"score":2,"last_activity_date":1690580107,"creation_date":1599633866,"question_id":63806137,"body_markdown":"I&#39;m getting the following JSON response from themoviedb API:\r\n```\r\n{\r\n         &quot;popularity&quot;:1640.159,\r\n         &quot;vote_count&quot;:32,\r\n         &quot;video&quot;:false,\r\n         &quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;,\r\n         &quot;id&quot;:734309,\r\n         &quot;adult&quot;:false,\r\n         &quot;backdrop_path&quot;:&quot;\\/7fvdg211A2L0mHddvzyArRuRalp.jpg&quot;,\r\n         &quot;original_language&quot;:&quot;en&quot;,\r\n         &quot;original_title&quot;:&quot;Santana&quot;,\r\n         &quot;genre_ids&quot;:[\r\n            28\r\n         ],\r\n         &quot;title&quot;:&quot;Santana&quot;,\r\n         &quot;vote_average&quot;:6.3,\r\n         &quot;overview&quot;:&quot;Two brothers — one a narcotics agent and the other a general — finally discover the identity of the drug lord who murdered their parents decades ago. They may kill each other before capturing the bad guys.&quot;,\r\n         &quot;release_date&quot;:&quot;2020-08-28&quot;\r\n      }\r\n```\r\nI have to use `poster_path` but I&#39;m unable to understand it as it&#39;s just the image name but not any path. I&#39;ve no idea how can I get the image from this `poster_path` string. \r\n\r\nPlease help me! When I paste the url on Google I got nothing.","title":"How to fetch images from response of themoviedb api","body":"<p>I'm getting the following JSON response from themoviedb API:</p>\n<pre><code>{\n         &quot;popularity&quot;:1640.159,\n         &quot;vote_count&quot;:32,\n         &quot;video&quot;:false,\n         &quot;poster_path&quot;:&quot;\\/9Rj8l6gElLpRL7Kj17iZhrT5Zuw.jpg&quot;,\n         &quot;id&quot;:734309,\n         &quot;adult&quot;:false,\n         &quot;backdrop_path&quot;:&quot;\\/7fvdg211A2L0mHddvzyArRuRalp.jpg&quot;,\n         &quot;original_language&quot;:&quot;en&quot;,\n         &quot;original_title&quot;:&quot;Santana&quot;,\n         &quot;genre_ids&quot;:[\n            28\n         ],\n         &quot;title&quot;:&quot;Santana&quot;,\n         &quot;vote_average&quot;:6.3,\n         &quot;overview&quot;:&quot;Two brothers — one a narcotics agent and the other a general — finally discover the identity of the drug lord who murdered their parents decades ago. They may kill each other before capturing the bad guys.&quot;,\n         &quot;release_date&quot;:&quot;2020-08-28&quot;\n      }\n</code></pre>\n<p>I have to use <code>poster_path</code> but I'm unable to understand it as it's just the image name but not any path. I've no idea how can I get the image from this <code>poster_path</code> string.</p>\n<p>Please help me! When I paste the url on Google I got nothing.</p>\n"},{"tags":["java","xhtml"],"answers":[{"comments":[{"owner":{"account_id":22115156,"reputation":27,"user_id":16369375,"display_name":"julio11"},"score":0,"creation_date":1690516999,"post_id":76784730,"comment_id":135367787,"body_markdown":"Making those changes give me another error: Method not found: class java.util.ArrayList.selectedBook()","body":"Making those changes give me another error: Method not found: class java.util.ArrayList.selectedBook()"},{"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"score":1,"creation_date":1690517538,"post_id":76784730,"comment_id":135367826,"body_markdown":"Again, similar to your first error, your class does not have a method &quot;SelectedBook()&quot; in it.\n\nOffending line is\n`value=&quot;#{selectionsBean.selectedBook}&quot;&gt;`\n\nYou have two of them.","body":"Again, similar to your first error, your class does not have a method &quot;SelectedBook()&quot; in it.  Offending line is <code>value=&quot;#{selectionsBean.selectedBook}&quot;&gt;</code>  You have two of them."},{"owner":{"account_id":22115156,"reputation":27,"user_id":16369375,"display_name":"julio11"},"score":0,"creation_date":1690520079,"post_id":76784730,"comment_id":135368020,"body_markdown":"Thank you! Everything was fixed . Now when I run the code and the web application comes up, when I select the book and submit the error I receive is : Conversion Error setting value &#39;java&#39; for &#39;null Converter&#39;.","body":"Thank you! Everything was fixed . Now when I run the code and the web application comes up, when I select the book and submit the error I receive is : Conversion Error setting value &#39;java&#39; for &#39;null Converter&#39;."}],"tags":[],"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690516068,"creation_date":1690516068,"answer_id":76784730,"question_id":76784649,"body_markdown":"In your index.html the offending line is:\r\n\r\n    &lt;p&gt;You have selected #{selectionsBean.Size} book(s).\r\n\r\n**selectionsBean.Size** will throw an error because there is no property called &quot;Size&quot; defined in your SelectionsBean class.\r\n\r\nLooking at the sentence, I assume you are trying to show the number of selections made by the customer so instead use:\r\n\r\n    &lt;p&gt;You have selected #{selectionsBean.selections.size()} book(s).\r\n\r\nWhy did that work? Well, in your SelectionsBean class you have defined this property called &quot;selections&quot;:\r\n\r\n    private List&lt;String&gt; selections;\r\n\r\n&quot;selections&quot; is a List type that has inbuilt methods like Size() that returns the number of elements in that list, so you can use that. Be sure to check for nulls because your selections variable is only initialized in your constructor SelectionsBean().","title":"Shopping Cart Application using Java","body":"<p>In your index.html the offending line is:</p>\n<pre><code>&lt;p&gt;You have selected #{selectionsBean.Size} book(s).\n</code></pre>\n<p><strong>selectionsBean.Size</strong> will throw an error because there is no property called &quot;Size&quot; defined in your SelectionsBean class.</p>\n<p>Looking at the sentence, I assume you are trying to show the number of selections made by the customer so instead use:</p>\n<pre><code>&lt;p&gt;You have selected #{selectionsBean.selections.size()} book(s).\n</code></pre>\n<p>Why did that work? Well, in your SelectionsBean class you have defined this property called &quot;selections&quot;:</p>\n<pre><code>private List&lt;String&gt; selections;\n</code></pre>\n<p>&quot;selections&quot; is a List type that has inbuilt methods like Size() that returns the number of elements in that list, so you can use that. Be sure to check for nulls because your selections variable is only initialized in your constructor SelectionsBean().</p>\n"}],"owner":{"account_id":22115156,"reputation":27,"user_id":16369375,"display_name":"julio11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76784730,"answer_count":1,"score":0,"last_activity_date":1690579729,"creation_date":1690514372,"question_id":76784649,"body_markdown":"I&#39;m working on a Java challenge. I want to create an application that displays a list of books as an h:selectOneRadio element. When the user submits the form, store the user’s selection in a @SessionScoped managed bean. Allow the user to return to the list of books and make additional selections. Provide a link to view the shopping cart. On the shopping cart page, display the list of selections the user made, the price of each book, and the total of all books in the cart.\r\n\r\nThis is what I have so far:\r\n\r\n    SelectionsBean.java\r\n    \r\n    package sessiontracking;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.faces.bean.ManagedBean;\r\n    import javax.faces.bean.SessionScoped;\r\n    \r\n    @ManagedBean( name=&quot;selectionsBean&quot; )\r\n    @SessionScoped\r\n    public class SelectionsBean implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private final Map&lt;String, Double&gt; pricesMap;\r\n    \r\n        private List&lt;String&gt; selections;\r\n    \r\n        public SelectionsBean() {\r\n            pricesMap = new HashMap&lt;&gt;();\r\n            pricesMap.put(&quot;Java How to Program&quot;, 139.95);\r\n            pricesMap.put(&quot;C++ How to Program&quot;, 119.95);\r\n            pricesMap.put(&quot;iPhone for Programmers: An App-Driven Approach&quot;, 49.95);\r\n            pricesMap.put(&quot;Android for Programmers: An App-Driven Approach&quot;, 49.95);\r\n    \r\n            // initialize selections list\r\n            selections = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public void addToCart(String selection) {\r\n            selections.add(selection);\r\n        }\r\n    \r\n        public void removeFromCart(String selection) {\r\n            selections.remove(selection);\r\n        }\r\n    \r\n        public double getTotalPrice() {\r\n            double totalPrice = 0.0;\r\n            for (String selection : selections) {\r\n                totalPrice += pricesMap.get(selection);\r\n            }\r\n            return totalPrice;\r\n        }\r\n    \r\n        public List&lt;String&gt; getSelections() {\r\n            return selections;\r\n        }\r\n    \r\n        public void setSelections(List&lt;String&gt; selections) {\r\n            this.selections = selections;\r\n      \r\n    }\r\n\r\n\r\n    index.html\r\n    \r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;!-- index.xhtml --&gt;\r\n    &lt;!-- Allow the user to select a book --&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\r\n    &lt;h:head&gt;\r\n    &lt;title&gt;Book Selection Page&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n    &lt;h1&gt;Welcome to the Bookstore!&lt;/h1&gt;\r\n    &lt;p&gt;You have selected #{selectionsBean.Size} book(s).\r\n    &lt;/p&gt;\r\n    &lt;h3&gt;Select a Book and Press Submit&lt;/h3&gt;\r\n    &lt;h:form&gt;\r\n    &lt;h:selectOneRadio id=&quot;bookSelectOneRadio&quot; required=&quot;true&quot;\r\n    requiredMessage=&quot;Please choose a book, then press Submit&quot;\r\n    value=&quot;#{selectionsBean.selectedBook}&quot;&gt;\r\n    &lt;f:selectItem itemValue=&quot;java&quot; itemLabel=&quot;Java How to Program&quot;/&gt;\r\n    &lt;f:selectItem itemValue=&quot;cpp&quot; itemLabel=&quot;C++ How to Program&quot;/&gt;\r\n    &lt;f:selectItem itemValue=&quot;iphone&quot;\r\n    itemLabel=&quot;iPhone for Programmers: An App-Driven Approach&quot;/&gt;\r\n    &lt;f:selectItem itemValue=&quot;android&quot;\r\n    itemLabel=&quot;Android for Programmers: An App-Driven Approach&quot;/&gt;\r\n    &lt;/h:selectOneRadio&gt;\r\n    &lt;p&gt;&lt;h:commandButton value=&quot;Submit&quot;/&gt;&lt;/p&gt;\r\n    &lt;/h:form&gt;\r\n    &lt;p&gt;&lt;h:outputLink value=&quot;cart.xhtml&quot;&gt;\r\n    Click here to view your shopping cart\r\n    &lt;/h:outputLink&gt;&lt;/p&gt;\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;\r\n\r\n    cart.xhtml\r\n    \r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n    &lt;!-- cart.xhtml --&gt;\r\n    &lt;!-- Display the user&#39;s shopping cart --&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\r\n    &lt;h:head&gt;\r\n    &lt;title&gt;Shopping Cart&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n    &lt;h1&gt;Shopping Cart&lt;/h1&gt;\r\n    &lt;h:dataTable value=&quot;#{cartBean.cart}&quot; var=&quot;item&quot;&gt;\r\n    &lt;h:column&gt;\r\n    &lt;f:facet name=&quot;header&quot;&gt;Book Title&lt;/f:facet&gt;\r\n    #{item.title}\r\n    &lt;/h:column&gt;\r\n    &lt;h:column&gt;\r\n    &lt;f:facet name=&quot;header&quot;&gt;Price&lt;/f:facet&gt;\r\n    #{item.price}\r\n    &lt;/h:column&gt;\r\n    &lt;/h:dataTable&gt;\r\n    &lt;p&gt;Total price: #{cartBean.totalPrice}&lt;/p&gt;\r\n    &lt;p&gt;&lt;h:outputLink value=&quot;index.xhtml&quot;&gt;\r\n    Click here to continue shopping\r\n    &lt;/h:outputLink&gt;&lt;/p&gt;\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhenever I got to compile I this error: \r\n\r\n/index.xhtml: The class &#39;sessiontracking.SelectionsBean&#39; does not have the property &#39;Size&#39;.\r\n\r\nI&#39;m kind of stuck and don&#39;t see in the code how to resolve.\r\n\r\n","title":"Shopping Cart Application using Java","body":"<p>I'm working on a Java challenge. I want to create an application that displays a list of books as an h:selectOneRadio element. When the user submits the form, store the user’s selection in a @SessionScoped managed bean. Allow the user to return to the list of books and make additional selections. Provide a link to view the shopping cart. On the shopping cart page, display the list of selections the user made, the price of each book, and the total of all books in the cart.</p>\n<p>This is what I have so far:</p>\n<pre><code>SelectionsBean.java\n\npackage sessiontracking;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.SessionScoped;\n\n@ManagedBean( name=&quot;selectionsBean&quot; )\n@SessionScoped\npublic class SelectionsBean implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private final Map&lt;String, Double&gt; pricesMap;\n\n    private List&lt;String&gt; selections;\n\n    public SelectionsBean() {\n        pricesMap = new HashMap&lt;&gt;();\n        pricesMap.put(&quot;Java How to Program&quot;, 139.95);\n        pricesMap.put(&quot;C++ How to Program&quot;, 119.95);\n        pricesMap.put(&quot;iPhone for Programmers: An App-Driven Approach&quot;, 49.95);\n        pricesMap.put(&quot;Android for Programmers: An App-Driven Approach&quot;, 49.95);\n\n        // initialize selections list\n        selections = new ArrayList&lt;&gt;();\n    }\n\n    public void addToCart(String selection) {\n        selections.add(selection);\n    }\n\n    public void removeFromCart(String selection) {\n        selections.remove(selection);\n    }\n\n    public double getTotalPrice() {\n        double totalPrice = 0.0;\n        for (String selection : selections) {\n            totalPrice += pricesMap.get(selection);\n        }\n        return totalPrice;\n    }\n\n    public List&lt;String&gt; getSelections() {\n        return selections;\n    }\n\n    public void setSelections(List&lt;String&gt; selections) {\n        this.selections = selections;\n  \n}\n\n\nindex.html\n\n&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;!-- index.xhtml --&gt;\n&lt;!-- Allow the user to select a book --&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://java.sun.com/jsf/html&quot;\nxmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\n&lt;h:head&gt;\n&lt;title&gt;Book Selection Page&lt;/title&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n&lt;h1&gt;Welcome to the Bookstore!&lt;/h1&gt;\n&lt;p&gt;You have selected #{selectionsBean.Size} book(s).\n&lt;/p&gt;\n&lt;h3&gt;Select a Book and Press Submit&lt;/h3&gt;\n&lt;h:form&gt;\n&lt;h:selectOneRadio id=&quot;bookSelectOneRadio&quot; required=&quot;true&quot;\nrequiredMessage=&quot;Please choose a book, then press Submit&quot;\nvalue=&quot;#{selectionsBean.selectedBook}&quot;&gt;\n&lt;f:selectItem itemValue=&quot;java&quot; itemLabel=&quot;Java How to Program&quot;/&gt;\n&lt;f:selectItem itemValue=&quot;cpp&quot; itemLabel=&quot;C++ How to Program&quot;/&gt;\n&lt;f:selectItem itemValue=&quot;iphone&quot;\nitemLabel=&quot;iPhone for Programmers: An App-Driven Approach&quot;/&gt;\n&lt;f:selectItem itemValue=&quot;android&quot;\nitemLabel=&quot;Android for Programmers: An App-Driven Approach&quot;/&gt;\n&lt;/h:selectOneRadio&gt;\n&lt;p&gt;&lt;h:commandButton value=&quot;Submit&quot;/&gt;&lt;/p&gt;\n&lt;/h:form&gt;\n&lt;p&gt;&lt;h:outputLink value=&quot;cart.xhtml&quot;&gt;\nClick here to view your shopping cart\n&lt;/h:outputLink&gt;&lt;/p&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n\ncart.xhtml\n\n&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;!-- cart.xhtml --&gt;\n&lt;!-- Display the user's shopping cart --&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://java.sun.com/jsf/html&quot;\nxmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\n&lt;h:head&gt;\n&lt;title&gt;Shopping Cart&lt;/title&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n&lt;h1&gt;Shopping Cart&lt;/h1&gt;\n&lt;h:dataTable value=&quot;#{cartBean.cart}&quot; var=&quot;item&quot;&gt;\n&lt;h:column&gt;\n&lt;f:facet name=&quot;header&quot;&gt;Book Title&lt;/f:facet&gt;\n#{item.title}\n&lt;/h:column&gt;\n&lt;h:column&gt;\n&lt;f:facet name=&quot;header&quot;&gt;Price&lt;/f:facet&gt;\n#{item.price}\n&lt;/h:column&gt;\n&lt;/h:dataTable&gt;\n&lt;p&gt;Total price: #{cartBean.totalPrice}&lt;/p&gt;\n&lt;p&gt;&lt;h:outputLink value=&quot;index.xhtml&quot;&gt;\nClick here to continue shopping\n&lt;/h:outputLink&gt;&lt;/p&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Whenever I got to compile I this error:</p>\n<p>/index.xhtml: The class 'sessiontracking.SelectionsBean' does not have the property 'Size'.</p>\n<p>I'm kind of stuck and don't see in the code how to resolve.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"score":0,"creation_date":1507529264,"post_id":46639620,"comment_id":80228660,"body_markdown":"Ok, I need something like this : app/users/userId/notifications/{auto-gen-id}/document(The Notification Object). How do I create this sort of a thing in the console or through code?","body":"Ok, I need something like this : app/users/userId/notifications/{auto-gen-id}/document(The Notification Object). How do I create this sort of a thing in the console or through code?"},{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":0,"creation_date":1507556013,"post_id":46639620,"comment_id":80244544,"body_markdown":"@Reim: The console supports creating the structure you want.","body":"@Reim: The console supports creating the structure you want."},{"owner":{"account_id":468965,"reputation":4244,"user_id":875249,"display_name":"Chris"},"score":34,"creation_date":1524861717,"post_id":46639620,"comment_id":87156484,"body_markdown":"Not that anyone else would be dumb enough to miss this, but one other simple way you can end up with this error is if you run a get on a blank document reference, so check your variable and make sure its not an empty string...","body":"Not that anyone else would be dumb enough to miss this, but one other simple way you can end up with this error is if you run a get on a blank document reference, so check your variable and make sure its not an empty string..."}],"tags":[],"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"comment_count":3,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1507528517,"creation_date":1507528517,"answer_id":46639620,"question_id":46639058,"body_markdown":"Hierarchical data structures and subcollections are described in [the documentation][1].  A collection contains documents and a document may contain a subcollection.  The structure is always an alternating pattern of collections and documents.  The documentation contains this description of an example:\r\n\r\n&gt; Notice the alternating pattern of collections and documents. Your\r\n&gt; collections and documents must always follow this pattern. You cannot\r\n&gt; reference a collection in a collection or a document in a document.\r\n\r\nThus, a valid path to a collection will always have an odd number of segments;  a valid path to a document, an even number.  Since your code is trying to query a collection, the path length of four is invalid.\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/data-model#hierarchical-data","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>Hierarchical data structures and subcollections are described in <a href=\"https://firebase.google.com/docs/firestore/data-model#hierarchical-data\" rel=\"noreferrer\">the documentation</a>.  A collection contains documents and a document may contain a subcollection.  The structure is always an alternating pattern of collections and documents.  The documentation contains this description of an example:</p>\n\n<blockquote>\n  <p>Notice the alternating pattern of collections and documents. Your\n  collections and documents must always follow this pattern. You cannot\n  reference a collection in a collection or a document in a document.</p>\n</blockquote>\n\n<p>Thus, a valid path to a collection will always have an odd number of segments;  a valid path to a document, an even number.  Since your code is trying to query a collection, the path length of four is invalid.</p>\n"},{"comments":[{"owner":{"account_id":12402827,"reputation":471,"user_id":9039241,"display_name":"lukeet"},"score":0,"creation_date":1659650933,"post_id":48140181,"comment_id":129351397,"body_markdown":"I want to do this but db.collection doesn&#39;t seem to exist on my db instance?","body":"I want to do this but db.collection doesn&#39;t seem to exist on my db instance?"},{"owner":{"account_id":1769304,"reputation":773,"user_id":1614466,"accept_rate":48,"display_name":"KSHMR"},"score":0,"creation_date":1681312542,"post_id":48140181,"comment_id":134036858,"body_markdown":"@lukeet you might be using the modular SDK? It requires a different way of importing the modules.","body":"@lukeet you might be using the modular SDK? It requires a different way of importing the modules."}],"tags":[],"owner":{"account_id":5916217,"reputation":5793,"user_id":4654957,"accept_rate":50,"display_name":"Diego Ven&#226;ncio"},"comment_count":2,"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1690579718,"creation_date":1515349046,"answer_id":48140181,"question_id":46639058,"body_markdown":"Then you need replace it:\r\n\r\n    db.collection(&quot;app/users/&quot; + uid + &quot;/notifications&quot;)...\r\n\r\nwith it:\r\n\r\n    db.collection(&quot;app&quot;).document(&quot;users&quot;).collection(uid).document(&quot;notifications&quot;)\r\n\r\nYou&#39;re welcome ;)\r\n\r\n--**UPDATE 2023**--\r\n\r\nIf you are using the new Firebase Modular, then remember about the reference:\r\n\r\nFirebase requires changing references: *&quot;collectionName&quot; / &quot;documentName&quot; / &quot;collectionName&quot; / &quot;documentId&quot;, etc.*\r\n\r\n    setDoc(doc(db, &quot;collectionName&quot;, userID, &quot;anotherCollectionName&quot;, documentID), ...\r\n\r\n[ref][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75843735/4654957","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>Then you need replace it:</p>\n<pre><code>db.collection(&quot;app/users/&quot; + uid + &quot;/notifications&quot;)...\n</code></pre>\n<p>with it:</p>\n<pre><code>db.collection(&quot;app&quot;).document(&quot;users&quot;).collection(uid).document(&quot;notifications&quot;)\n</code></pre>\n<p>You're welcome ;)</p>\n<p>--<strong>UPDATE 2023</strong>--</p>\n<p>If you are using the new Firebase Modular, then remember about the reference:</p>\n<p>Firebase requires changing references: <em>&quot;collectionName&quot; / &quot;documentName&quot; / &quot;collectionName&quot; / &quot;documentId&quot;, etc.</em></p>\n<pre><code>setDoc(doc(db, &quot;collectionName&quot;, userID, &quot;anotherCollectionName&quot;, documentID), ...\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/75843735/4654957\">ref</a></p>\n"},{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1549459969,"creation_date":1549459969,"answer_id":54554854,"question_id":46639058,"body_markdown":"You are missing collection reference.\r\ni.e db.collection(** This is getting null **).","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>You are missing collection reference.\ni.e db.collection(** This is getting null **).</p>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582889485,"creation_date":1582889485,"answer_id":60450847,"question_id":46639058,"body_markdown":"I&#39;ve encountered this issue when I provided a wrong entity_Id. \r\n\r\nInstead of `dojo/default/datasets/fe67ec58-6208-4234-a4ee-98c5dce4665f`, \r\nI&#39;ve provided `fe67ec58-6208-4234-a4ee-98c5dce4665f`and now is working fine.","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>I've encountered this issue when I provided a wrong entity_Id. </p>\n\n<p>Instead of <code>dojo/default/datasets/fe67ec58-6208-4234-a4ee-98c5dce4665f</code>, \nI've provided <code>fe67ec58-6208-4234-a4ee-98c5dce4665f</code>and now is working fine.</p>\n"},{"comments":[{"owner":{"account_id":19528139,"reputation":1332,"user_id":14288559,"display_name":"Saar Davidson"},"score":0,"creation_date":1601856728,"post_id":64200679,"comment_id":113527636,"body_markdown":"so what is your solution?","body":"so what is your solution?"},{"owner":{"account_id":3543352,"reputation":39,"user_id":4649214,"display_name":"Georges Damien"},"score":0,"creation_date":1601994149,"post_id":64200679,"comment_id":113575099,"body_markdown":"ensure that you insert data as document Id without the caracter / . For my part, i have a batch in .net (c#) that insert data in FireBase; so i use this line    Immatriculation = car.Immatriculation.Replace(&quot;/&quot;, &quot;&quot;).Replace(&quot;.&quot;, &quot;&quot;).Trim().   to replace the / caractere. Here is the way i use the value as document id :  DocumentReference docRef2 = fireStoreDb.Collection(&quot;asss&quot;).Document(ass.Tel.ToString())\n                                .Collection(&quot;vehicules&quot;).Document(ve.Immatriculation);","body":"ensure that you insert data as document Id without the caracter / . For my part, i have a batch in .net (c#) that insert data in FireBase; so i use this line    Immatriculation = car.Immatriculation.Replace(&quot;/&quot;, &quot;&quot;).Replace(&quot;.&quot;, &quot;&quot;).Trim().   to replace the / caractere. Here is the way i use the value as document id :  DocumentReference docRef2 = fireStoreDb.Collection(&quot;asss&quot;).Document(ass.Tel.ToString())                                 .Collection(&quot;vehicules&quot;).Document(ve.Immatriculation);"}],"tags":[],"owner":{"account_id":3543352,"reputation":39,"user_id":4649214,"display_name":"Georges Damien"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601994341,"creation_date":1601852551,"answer_id":64200679,"question_id":46639058,"body_markdown":"I&#39;ve encountered this issue when I provided an entity_Id that contains the &quot;/&quot; character ( my value was N/A ) when i was trying to read documentReference (DocumentReference docRef2 = fireStoreDb.Collection(&quot;Ass&quot;).Document(ass.Tel.ToString())\r\n.Collection(&quot;vehicules&quot;).Document(ve.Immatriculation);).\r\nHere, the value ve.Immatriculation equals to N/A, and that was the problem.","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>I've encountered this issue when I provided an entity_Id that contains the &quot;/&quot; character ( my value was N/A ) when i was trying to read documentReference (DocumentReference docRef2 = fireStoreDb.Collection(&quot;Ass&quot;).Document(ass.Tel.ToString())\n.Collection(&quot;vehicules&quot;).Document(ve.Immatriculation);).\nHere, the value ve.Immatriculation equals to N/A, and that was the problem.</p>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677325675,"creation_date":1677325675,"answer_id":75565185,"question_id":46639058,"body_markdown":"In my case collection name is empty was causing the crash\r\n\r\n    FirebaseFirestore.getInstance().collection(&quot;&quot;).add(taravih)","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>In my case collection name is empty was causing the crash</p>\n<pre><code>FirebaseFirestore.getInstance().collection(&quot;&quot;).add(taravih)\n</code></pre>\n"}],"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119188,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":46639620,"answer_count":6,"score":81,"last_activity_date":1690579718,"creation_date":1507524810,"question_id":46639058,"body_markdown":"I have the following code and getting an error : \r\n\r\n \r\n\r\n    Invalid collection reference. Collection references must have an odd number of segments\r\n\r\n**And the code :**\r\n\r\n    private void setAdapter() {\r\n    \t\tFirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    \t\tdb.collection(&quot;app/users/&quot; + uid + &quot;/notifications&quot;).get().addOnCompleteListener(task -&gt; {\r\n    \t\t\tif (task.isSuccessful()) {\r\n    \t\t\t\tfor (DocumentSnapshot document : task.getResult()) {\r\n    \t\t\t\t\tLog.d(&quot;FragmentNotifications&quot;, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tLog.w(&quot;FragmentNotifications&quot;, &quot;Error getting notifications.&quot;, task.getException());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}","title":"Firebase Cloud Firestore : Invalid collection reference. Collection references must have an odd number of segments","body":"<p>I have the following code and getting an error : </p>\n\n<pre><code>Invalid collection reference. Collection references must have an odd number of segments\n</code></pre>\n\n<p><strong>And the code :</strong></p>\n\n<pre><code>private void setAdapter() {\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n        db.collection(\"app/users/\" + uid + \"/notifications\").get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                for (DocumentSnapshot document : task.getResult()) {\n                    Log.d(\"FragmentNotifications\", document.getId() + \" =&gt; \" + document.getData());\n                }\n            } else {\n                Log.w(\"FragmentNotifications\", \"Error getting notifications.\", task.getException());\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","image-load"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1690579071,"post_id":76791068,"comment_id":135378503,"body_markdown":"*the image is in src folder of the project* - the image should be contained in a directory found on your classpath. You should NOT use ImageIcon to read the image. Instead you should be using `ImageIO`. You will get an Exception when the image is not found.","body":"<i>the image is in src folder of the project</i> - the image should be contained in a directory found on your classpath. You should NOT use ImageIcon to read the image. Instead you should be using <code>ImageIO</code>. You will get an Exception when the image is not found."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690591360,"post_id":76791068,"comment_id":135379498,"body_markdown":"Many IDEs and build systems will automatically incorporate resources in the `src` file into the resulting &quot;bundle&quot;. This means they are no longer accessible as &quot;files&quot; (which `ImageIcon(String)` is expecting). Instead you need to use `Class#getResource` to obtain a `URL` reference to them","body":"Many IDEs and build systems will automatically incorporate resources in the <code>src</code> file into the resulting &quot;bundle&quot;. This means they are no longer accessible as &quot;files&quot; (which <code>ImageIcon(String)</code> is expecting). Instead you need to use <code>Class#getResource</code> to obtain a <code>URL</code> reference to them"}],"owner":{"account_id":29113913,"reputation":1,"user_id":22303097,"display_name":"SpyrosGew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690579098,"answer_count":0,"score":0,"last_activity_date":1690579155,"creation_date":1690578989,"question_id":76791068,"body_markdown":"i am trying to load an image to a JButton for display but it doesnt load the image is in src folder of the project and its the same type here is the code.\r\n\r\n\r\n```\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            ImageIcon icon = new ImageIcon(&quot;asa.jpg&quot;);\r\n\r\n            // Check if the image was loaded successfully\r\n            if (icon.getImageLoadStatus() == MediaTracker.COMPLETE) {\r\n                // Create a label with the loaded image\r\n                JLabel label = new JLabel(icon);\r\n\r\n                JFrame frame = new JFrame(&quot;Image Test&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.getContentPane().add(label);\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null); // Center the frame on the screen\r\n                frame.setVisible(true);\r\n            } else {\r\n                System.err.println(&quot;Error loading the image.&quot;);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n","title":"image not loading java","body":"<p>i am trying to load an image to a JButton for display but it doesnt load the image is in src folder of the project and its the same type here is the code.</p>\n<pre><code>\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            ImageIcon icon = new ImageIcon(&quot;asa.jpg&quot;);\n\n            // Check if the image was loaded successfully\n            if (icon.getImageLoadStatus() == MediaTracker.COMPLETE) {\n                // Create a label with the loaded image\n                JLabel label = new JLabel(icon);\n\n                JFrame frame = new JFrame(&quot;Image Test&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.getContentPane().add(label);\n                frame.pack();\n                frame.setLocationRelativeTo(null); // Center the frame on the screen\n                frame.setVisible(true);\n            } else {\n                System.err.println(&quot;Error loading the image.&quot;);\n            }\n        });\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1377517612,"post_id":18443039,"comment_id":27099867,"body_markdown":"Are you sure this is the code for sending the data? Looks like it receives something and prints it on `System.out`.","body":"Are you sure this is the code for sending the data? Looks like it receives something and prints it on <code>System.out</code>."},{"owner":{"account_id":3203718,"reputation":400,"user_id":2705230,"accept_rate":86,"display_name":"Daniel Mac"},"score":0,"creation_date":1377518015,"post_id":18443039,"comment_id":27100092,"body_markdown":"Looks abit weird to me. Do you want to communicate over a network connection between two java processes, or are you intending to use the loopback interface?","body":"Looks abit weird to me. Do you want to communicate over a network connection between two java processes, or are you intending to use the loopback interface?"},{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":2,"creation_date":1377519053,"post_id":18443039,"comment_id":27100690,"body_markdown":"(off-topic) Java naming conventions are the classes are written as `UppercaseStartingCamelCase` and fields/variables are written as `lowercaseStartingCamelCase`. Consequently, you should name `Outdata` as `outData` and `Indata` and `inData`. Also, `In` should be `in` and `Out` should be `out`.","body":"(off-topic) Java naming conventions are the classes are written as <code>UppercaseStartingCamelCase</code> and fields/variables are written as <code>lowercaseStartingCamelCase</code>. Consequently, you should name <code>Outdata</code> as <code>outData</code> and <code>Indata</code> and <code>inData</code>. Also, <code>In</code> should be <code>in</code> and <code>Out</code> should be <code>out</code>."},{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":2,"creation_date":1377520115,"post_id":18443039,"comment_id":27101302,"body_markdown":"So you expect &quot;Out.write(Outdata);&quot; to output in ISO 8583 format? But what sort of class is PrintWriter? If it is the usual java.io.PrintWriter then that has no ISO 8583 capability.","body":"So you expect &quot;Out.write(Outdata);&quot; to output in ISO 8583 format? But what sort of class is PrintWriter? If it is the usual java.io.PrintWriter then that has no ISO 8583 capability."}],"answers":[{"tags":[],"owner":{"account_id":2490995,"reputation":732,"user_id":2168435,"accept_rate":48,"display_name":"user2168435"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377682953,"creation_date":1377682953,"answer_id":18484429,"question_id":18443039,"body_markdown":"It turns out that the problem was that i had to write the output using a byte array of integers, this in turn shows in TCP viewer as Hex data, the next issue i faced was that any integer in the byte array over 128 was causing an overflow to by pass that i had to use the following methods\r\n\r\n    Socket server = new Socket(Config.getServerIP(), Config.getServerPort());\r\n    bytes = packData(bytes);\r\n\t\tserver.getOutputStream().write(bytes, 0, bytes.length);\r\n\r\nthen the packData method\r\n\r\n    static byte[] packData(byte[] data) {\r\n\t\tint len = data.length;\r\n\t\tbyte buf[] = new byte[len + 2];\r\n\t\tbuf[0] = (byte) (len &gt;&gt; 8 &amp; 255);\r\n\t\tbuf[1] = (byte) (len &amp; 255);\r\n\t\tSystem.arraycopy(data, 0, buf, 2, len);\r\n\t\treturn buf;\r\n\t}\r\n\r\nHope this helps someone","title":"java- Sending data over network for iso8583","body":"<p>It turns out that the problem was that i had to write the output using a byte array of integers, this in turn shows in TCP viewer as Hex data, the next issue i faced was that any integer in the byte array over 128 was causing an overflow to by pass that i had to use the following methods</p>\n\n<pre><code>Socket server = new Socket(Config.getServerIP(), Config.getServerPort());\nbytes = packData(bytes);\n    server.getOutputStream().write(bytes, 0, bytes.length);\n</code></pre>\n\n<p>then the packData method</p>\n\n<pre><code>static byte[] packData(byte[] data) {\n    int len = data.length;\n    byte buf[] = new byte[len + 2];\n    buf[0] = (byte) (len &gt;&gt; 8 &amp; 255);\n    buf[1] = (byte) (len &amp; 255);\n    System.arraycopy(data, 0, buf, 2, len);\n    return buf;\n}\n</code></pre>\n\n<p>Hope this helps someone</p>\n"}],"owner":{"account_id":2490995,"reputation":732,"user_id":2168435,"accept_rate":48,"display_name":"user2168435"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2690,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690578582,"creation_date":1377516567,"question_id":18443039,"body_markdown":"Im trying to send iso8583 data over a network connection, currently when i send the data it is showing in TCP viewer as one long string\r\n\r\nbut it should look like this \r\n\r\n    0000(0000)  30 38 30 30 82 38 00 00  00 00 00 00 04 00 00 00   0800.8..........\r\n    0016(0010)  00 00 00 00 30 38 32 34  31 30 35 31 30 30 31 33   ....082410510013\r\n    0032(0020)  35 31 30 30 31 33 35 31  30 30 30 38 32 34 33 30   5100135100082430\r\n    0048(0030)  31                                                 1\r\n\r\n\r\nmy code for sending the data\r\n\r\n    Socket plug = new Socket(Config.getServerIP(), Config.getServerPort());\r\n    DataInputStream In= new DataInputStream(plug.getInputStream());\r\n    PrintWriter Out = new PrintWriter(plug.getOutputStream());\r\n\t\t\r\n    String Indata, Outdata;\r\n    Outdata =&quot; &quot;;\r\n    Indata = &quot;NOTHING&quot;;\r\n\r\n    while (!Outdata.equals(&quot;Bye&quot;))\r\n    {\r\n      Outdata=message;\r\n      Out.write(Outdata);\r\n      Out.flush();\r\n\t\r\n      if (!Outdata.equals(&quot;Bye&quot;))\r\n      {\r\n        Indata=In.readLine();\r\n        System.out.println(Indata);\r\n      }\r\n    }\r\n    In.close();\r\n    Out.close();\r\n\r\nDoes the data have to be sent in a specific way?\r\nAny help much appreciated.\r\n","title":"java- Sending data over network for iso8583","body":"<p>Im trying to send iso8583 data over a network connection, currently when i send the data it is showing in TCP viewer as one long string</p>\n\n<p>but it should look like this </p>\n\n<pre><code>0000(0000)  30 38 30 30 82 38 00 00  00 00 00 00 04 00 00 00   0800.8..........\n0016(0010)  00 00 00 00 30 38 32 34  31 30 35 31 30 30 31 33   ....082410510013\n0032(0020)  35 31 30 30 31 33 35 31  30 30 30 38 32 34 33 30   5100135100082430\n0048(0030)  31                                                 1\n</code></pre>\n\n<p>my code for sending the data</p>\n\n<pre><code>Socket plug = new Socket(Config.getServerIP(), Config.getServerPort());\nDataInputStream In= new DataInputStream(plug.getInputStream());\nPrintWriter Out = new PrintWriter(plug.getOutputStream());\n\nString Indata, Outdata;\nOutdata =\" \";\nIndata = \"NOTHING\";\n\nwhile (!Outdata.equals(\"Bye\"))\n{\n  Outdata=message;\n  Out.write(Outdata);\n  Out.flush();\n\n  if (!Outdata.equals(\"Bye\"))\n  {\n    Indata=In.readLine();\n    System.out.println(Indata);\n  }\n}\nIn.close();\nOut.close();\n</code></pre>\n\n<p>Does the data have to be sent in a specific way?\nAny help much appreciated.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-aggregation","elasticsearch-painless"],"comments":[{"owner":{"account_id":5742767,"reputation":9245,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1666101133,"post_id":74111639,"comment_id":130852021,"body_markdown":"I am confused, could you give an example of what you ate trying to achieve ?","body":"I am confused, could you give an example of what you ate trying to achieve ?"}],"answers":[{"comments":[{"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"score":0,"creation_date":1666170272,"post_id":74112336,"comment_id":130869900,"body_markdown":"Actually I wanted to pass the dynamic value in the params map to fetch the respective value. the dynamic value for the params key will be fetched from Elasticsearch document.","body":"Actually I wanted to pass the dynamic value in the params map to fetch the respective value. the dynamic value for the params key will be fetched from Elasticsearch document."},{"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"score":0,"creation_date":1666170856,"post_id":74112336,"comment_id":130870122,"body_markdown":"@RushikeshSabde are you referring to these values &quot;11406&quot;: 1614084531000,                &quot;11473&quot;: 1073523856000, &quot;11549&quot;: 1447461154000,&quot;43904&quot;: 1666015887000,         &quot;43905&quot;: 1666015887000, &quot;43906&quot;: 1666015887000, &quot;43907&quot;: 1666015887000,\n &quot;43908&quot;: 1666015888000,\n                &quot;43909&quot;: 1666015888000,\n                &quot;43910&quot;: 1666015888000 ?. You will only pass key and  value will be from field in another document. So you want  to join two document, find difference and  get average of it. Am I getting it right?","body":"@RushikeshSabde are you referring to these values &quot;11406&quot;: 1614084531000,                &quot;11473&quot;: 1073523856000, &quot;11549&quot;: 1447461154000,&quot;43904&quot;: 1666015887000,         &quot;43905&quot;: 1666015887000, &quot;43906&quot;: 1666015887000, &quot;43907&quot;: 1666015887000,  &quot;43908&quot;: 1666015888000,                 &quot;43909&quot;: 1666015888000,                 &quot;43910&quot;: 1666015888000 ?. You will only pass key and  value will be from field in another document. So you want  to join two document, find difference and  get average of it. Am I getting it right?"},{"owner":{"account_id":7402277,"reputation":340,"user_id":5632321,"display_name":"Anatoly Yakimchuk"},"score":2,"creation_date":1673526046,"post_id":74112336,"comment_id":132521699,"body_markdown":"This answer helped me to solve a similar issue with passing an arbitrary map of id-timestamp values","body":"This answer helped me to solve a similar issue with passing an arbitrary map of id-timestamp values"}],"tags":[],"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666102067,"creation_date":1666101724,"answer_id":74112336,"question_id":74111639,"body_markdown":"Below is based on my understanding of your issue\r\n\r\nI have assumed below mapping for your document. \r\n````\r\nPUT index-name\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;nested_field&quot;:{\r\n        &quot;type&quot;: &quot;nested&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n````\r\nIn your question I believe nested_field is of type nested.\r\n\r\n**Sample Document**\r\n````\r\nPOST index-name/_doc\r\n{\r\n  &quot;nested_field&quot;: [\r\n    {\r\n      &quot;id&quot;: 11406,\r\n      &quot;lastFixed&quot;: 1666015888000\r\n    },\r\n    {\r\n      &quot;id&quot;: 11407,\r\n      &quot;lastFixed&quot;: 1666015888000\r\n    }\r\n  ]\r\n}\r\n````\r\nI am using [nested aggregation](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-nested-aggregation.html) to access nested fields.\r\n\r\n**Query**\r\n````\r\n{\r\n  &quot;size&quot;:0,\r\n  &quot;aggs&quot;: {\r\n    &quot;nest-path-aggr-name&quot;: {\r\n      &quot;nested&quot;: {\r\n        &quot;path&quot;: &quot;nested_field&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;average_agg&quot;: {\r\n          &quot;avg&quot;: {\r\n            &quot;script&quot;: {\r\n              &quot;source&quot;: &quot;&quot;&quot;\r\n                    for(entry in params.entrySet())\r\n                    {\r\n                      if (entry.getKey() == doc[&#39;nested_field.id&#39;].value.toString())\r\n                      {\r\n                        return ( doc[&#39;nested_field.lastFixed&#39;].value -  entry.getValue())/ (1000*60*60); \r\n                      }\r\n                    }\r\n                      return 0;\r\n                  &quot;&quot;&quot;,\r\n              &quot;params&quot;: {\r\n                &quot;11406&quot;: 1614084531000,\r\n                &quot;11473&quot;: 1073523856000,\r\n                &quot;11549&quot;: 1447461154000,\r\n                &quot;43904&quot;: 1666015887000,\r\n                &quot;43905&quot;: 1666015887000,\r\n                &quot;43906&quot;: 1666015887000,\r\n                &quot;43907&quot;: 1666015887000,\r\n                &quot;43908&quot;: 1666015888000,\r\n                &quot;43909&quot;: 1666015888000,\r\n                &quot;43910&quot;: 1666015888000\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n````","title":"Pass a dynamic value in the Elasticsearch Painless script params from the Elasticsearch","body":"<p>Below is based on my understanding of your issue</p>\n<p>I have assumed below mapping for your document.</p>\n<pre><code>PUT index-name\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;nested_field&quot;:{\n        &quot;type&quot;: &quot;nested&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>In your question I believe nested_field is of type nested.</p>\n<p><strong>Sample Document</strong></p>\n<pre><code>POST index-name/_doc\n{\n  &quot;nested_field&quot;: [\n    {\n      &quot;id&quot;: 11406,\n      &quot;lastFixed&quot;: 1666015888000\n    },\n    {\n      &quot;id&quot;: 11407,\n      &quot;lastFixed&quot;: 1666015888000\n    }\n  ]\n}\n</code></pre>\n<p>I am using <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-nested-aggregation.html\" rel=\"nofollow noreferrer\">nested aggregation</a> to access nested fields.</p>\n<p><strong>Query</strong></p>\n<pre><code>{\n  &quot;size&quot;:0,\n  &quot;aggs&quot;: {\n    &quot;nest-path-aggr-name&quot;: {\n      &quot;nested&quot;: {\n        &quot;path&quot;: &quot;nested_field&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;average_agg&quot;: {\n          &quot;avg&quot;: {\n            &quot;script&quot;: {\n              &quot;source&quot;: &quot;&quot;&quot;\n                    for(entry in params.entrySet())\n                    {\n                      if (entry.getKey() == doc['nested_field.id'].value.toString())\n                      {\n                        return ( doc['nested_field.lastFixed'].value -  entry.getValue())/ (1000*60*60); \n                      }\n                    }\n                      return 0;\n                  &quot;&quot;&quot;,\n              &quot;params&quot;: {\n                &quot;11406&quot;: 1614084531000,\n                &quot;11473&quot;: 1073523856000,\n                &quot;11549&quot;: 1447461154000,\n                &quot;43904&quot;: 1666015887000,\n                &quot;43905&quot;: 1666015887000,\n                &quot;43906&quot;: 1666015887000,\n                &quot;43907&quot;: 1666015887000,\n                &quot;43908&quot;: 1666015888000,\n                &quot;43909&quot;: 1666015888000,\n                &quot;43910&quot;: 1666015888000\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29112951,"reputation":1,"user_id":22302356,"display_name":"galdron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690577546,"creation_date":1690566850,"answer_id":76790054,"question_id":74111639,"body_markdown":"I was just trying to solve this problem too. If I understand you correctly, you would like to use a value returned from the document as the &quot;key&quot; for the hash you have created in params. I think the `params.get()` function might be what you are looking for.\r\n\r\nI also changed the script language to `&quot;painless&quot;`. This shouldn&#39;t cause any conflicts with the code, but it does enable the two functions that I used.\r\n\r\nHere is the link to the Elasticsearch example that uses `params.get()`:\r\n[https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax][1]\r\n\r\nI lost the documentation for `int.toString()`, but I tested it and it works as expected.\r\n\r\n```\r\n&quot;script&quot;: {\r\n              &quot;source&quot;: &quot;(doc[&#39;lastFixed&#39;] - params.get(doc[&#39;id&#39;].toString()))/ (1000*60*60)&quot;,\r\n              &quot;lang&quot;: &quot;painless&quot;,\r\n              &quot;params&quot;: {\r\n                &quot;11406&quot;: 1614084531000,\r\n                &quot;11473&quot;: 1073523856000,\r\n                &quot;11549&quot;: 1447461154000,\r\n                &quot;43904&quot;: 1666015887000,\r\n                &quot;43905&quot;: 1666015887000,\r\n                &quot;43906&quot;: 1666015887000,\r\n                &quot;43907&quot;: 1666015887000,\r\n                &quot;43908&quot;: 1666015888000,\r\n                &quot;43909&quot;: 1666015888000,\r\n                &quot;43910&quot;: 1666015888000\r\n                }\r\n            }\r\n```\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax","title":"Pass a dynamic value in the Elasticsearch Painless script params from the Elasticsearch","body":"<p>I was just trying to solve this problem too. If I understand you correctly, you would like to use a value returned from the document as the &quot;key&quot; for the hash you have created in params. I think the <code>params.get()</code> function might be what you are looking for.</p>\n<p>I also changed the script language to <code>&quot;painless&quot;</code>. This shouldn't cause any conflicts with the code, but it does enable the two functions that I used.</p>\n<p>Here is the link to the Elasticsearch example that uses <code>params.get()</code>:\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting-using.html#script-shorten-syntax</a></p>\n<p>I lost the documentation for <code>int.toString()</code>, but I tested it and it works as expected.</p>\n<pre><code>&quot;script&quot;: {\n              &quot;source&quot;: &quot;(doc['lastFixed'] - params.get(doc['id'].toString()))/ (1000*60*60)&quot;,\n              &quot;lang&quot;: &quot;painless&quot;,\n              &quot;params&quot;: {\n                &quot;11406&quot;: 1614084531000,\n                &quot;11473&quot;: 1073523856000,\n                &quot;11549&quot;: 1447461154000,\n                &quot;43904&quot;: 1666015887000,\n                &quot;43905&quot;: 1666015887000,\n                &quot;43906&quot;: 1666015887000,\n                &quot;43907&quot;: 1666015887000,\n                &quot;43908&quot;: 1666015888000,\n                &quot;43909&quot;: 1666015888000,\n                &quot;43910&quot;: 1666015888000\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690577546,"creation_date":1666098943,"question_id":74111639,"body_markdown":"I am passing params map in the painless script, that map is type of `&lt;String, Long&gt;`.\r\nThe key of the map defines the `id` and the value defines the `foundDate` in epoch Long.\r\n\r\nThe elastic Document have the raw structure like this :\r\n\r\n    doc:{\r\n         [ &quot;id&quot;:11406, // type:Long\r\n          &quot;lastFixed&quot;: 1666015888000 // type epoch millis\r\n         ]  // ...mutiple ids and their lastFixed Dates\r\n    }\r\n\r\nI have calculate the average difference between the `foundDate` and `lastFixed` (both are in epoch).\r\n\r\nI have build the ES Painless script as below:\r\n\r\n    &quot;script&quot;: {\r\n                  &quot;source&quot;: &quot;(doc[&#39;lastFixed&#39;] - params[doc[&#39;id&#39;]] )/ (1000*60*60)&quot;,\r\n                  &quot;lang&quot;: &quot;expression&quot;,\r\n                  &quot;params&quot;: {\r\n                    &quot;11406&quot;: 1614084531000,\r\n                    &quot;11473&quot;: 1073523856000,\r\n                    &quot;11549&quot;: 1447461154000,\r\n                    &quot;43904&quot;: 1666015887000,\r\n                    &quot;43905&quot;: 1666015887000,\r\n                    &quot;43906&quot;: 1666015887000,\r\n                    &quot;43907&quot;: 1666015887000,\r\n                    &quot;43908&quot;: 1666015888000,\r\n                    &quot;43909&quot;: 1666015888000,\r\n                    &quot;43910&quot;: 1666015888000\r\n                    }\r\n                }\r\n\r\nFor nesting on the array of `id` &amp; `lastFound` date I am using `nest-path-aggr-name` i.e. the nested path.\r\n\r\nI want to pass the dynamic value in the params map as it will give the `foundDate` from the map for the same `id` in the Elasticsearch document. \r\n\r\nBut I am getting the parsing error from ES. I have tired with `param.doc[&#39;id&#39;]` and `param[]` but both are falling and giving parsing error.\r\n\r\nWhat is the correct way to pass the dynamic value in params map. \r\n\r\n","title":"Pass a dynamic value in the Elasticsearch Painless script params from the Elasticsearch","body":"<p>I am passing params map in the painless script, that map is type of <code>&lt;String, Long&gt;</code>.\nThe key of the map defines the <code>id</code> and the value defines the <code>foundDate</code> in epoch Long.</p>\n<p>The elastic Document have the raw structure like this :</p>\n<pre><code>doc:{\n     [ &quot;id&quot;:11406, // type:Long\n      &quot;lastFixed&quot;: 1666015888000 // type epoch millis\n     ]  // ...mutiple ids and their lastFixed Dates\n}\n</code></pre>\n<p>I have calculate the average difference between the <code>foundDate</code> and <code>lastFixed</code> (both are in epoch).</p>\n<p>I have build the ES Painless script as below:</p>\n<pre><code>&quot;script&quot;: {\n              &quot;source&quot;: &quot;(doc['lastFixed'] - params[doc['id']] )/ (1000*60*60)&quot;,\n              &quot;lang&quot;: &quot;expression&quot;,\n              &quot;params&quot;: {\n                &quot;11406&quot;: 1614084531000,\n                &quot;11473&quot;: 1073523856000,\n                &quot;11549&quot;: 1447461154000,\n                &quot;43904&quot;: 1666015887000,\n                &quot;43905&quot;: 1666015887000,\n                &quot;43906&quot;: 1666015887000,\n                &quot;43907&quot;: 1666015887000,\n                &quot;43908&quot;: 1666015888000,\n                &quot;43909&quot;: 1666015888000,\n                &quot;43910&quot;: 1666015888000\n                }\n            }\n</code></pre>\n<p>For nesting on the array of <code>id</code> &amp; <code>lastFound</code> date I am using <code>nest-path-aggr-name</code> i.e. the nested path.</p>\n<p>I want to pass the dynamic value in the params map as it will give the <code>foundDate</code> from the map for the same <code>id</code> in the Elasticsearch document.</p>\n<p>But I am getting the parsing error from ES. I have tired with <code>param.doc['id']</code> and <code>param[]</code> but both are falling and giving parsing error.</p>\n<p>What is the correct way to pass the dynamic value in params map.</p>\n"},{"tags":["java","maven","intellij-idea","settings"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1500043231,"post_id":45105499,"comment_id":77182522,"body_markdown":"[Check this answer](https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000125290-Indexing-https-plugins-gradle-org-m2?page=1#community_comment_115000160950).","body":"<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000125290-Indexing-https-plugins-gradle-org-m2?page=1#community_comment_115000160950\" rel=\"nofollow noreferrer\">Check this answer</a>."},{"owner":{"account_id":4065181,"reputation":1925,"user_id":3340407,"accept_rate":64,"display_name":"jonua"},"score":1,"creation_date":1500043878,"post_id":45105499,"comment_id":77183002,"body_markdown":"I was research google pages before asking my question. I was found this page, but it&#39;s doesn&#39;t help me","body":"I was research google pages before asking my question. I was found this page, but it&#39;s doesn&#39;t help me"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1500043915,"post_id":45105499,"comment_id":77183032,"body_markdown":"What help are you looking for? Your repository doesn&#39;t support indexing, therefore the only option is to disable the notification.","body":"What help are you looking for? Your repository doesn&#39;t support indexing, therefore the only option is to disable the notification."}],"answers":[{"tags":[],"owner":{"account_id":2586682,"reputation":46,"user_id":2242239,"display_name":"BobTheShrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572362960,"creation_date":1572362960,"answer_id":58610581,"question_id":45105499,"body_markdown":"Have you tried bumping the memory for the importer then restarting the IntelliJ? (worked for me)\r\n\r\nBuild, Execution, Deployment → Build Tools → Maven → Importing → VM options for importer\r\n\r\n\r\nhttps://stackoverflow.com/a/42394767/2242239","title":"Resource nexus-maven-repository-index.properties does not exist","body":"<p>Have you tried bumping the memory for the importer then restarting the IntelliJ? (worked for me)</p>\n\n<p>Build, Execution, Deployment → Build Tools → Maven → Importing → VM options for importer</p>\n\n<p><a href=\"https://stackoverflow.com/a/42394767/2242239\">https://stackoverflow.com/a/42394767/2242239</a></p>\n"}],"owner":{"account_id":4065181,"reputation":1925,"user_id":3340407,"accept_rate":64,"display_name":"jonua"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690577487,"creation_date":1500042710,"question_id":45105499,"body_markdown":"I&#39;m using a remote **artifactory** repo.\r\nI added this repo to settings.xml file which was placed in the `&lt;user&gt;/.m2/` folder:\r\n\r\n\r\n    &lt;settings&gt;\r\n        &lt;mirrors&gt;\r\n            &lt;mirror&gt;\r\n                &lt;id&gt;artifactory&lt;/id&gt;\r\n                &lt;name&gt;artifactory&lt;/name&gt;\r\n                &lt;url&gt;http://example.com/artifactory/repo&lt;/url&gt;\r\n                &lt;mirrorOf&gt;external:*&lt;/mirrorOf&gt;\r\n            &lt;/mirror&gt;\r\n        &lt;/mirrors&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;artifactory&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;snapshots&lt;/id&gt;\r\n                        &lt;name&gt;snapshots-only&lt;/name&gt;\r\n                        &lt;url&gt;http://example.com/artifactory/snapshots-only&lt;/url&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;false&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n                        &lt;/snapshots&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\nIn Idea settings in the &quot;Build Tools -&gt; Maven -&gt; Repositories&quot; page I see URL to my artifactory repo. But when I click on &quot;Update&quot; button, I get error message\r\n\r\n&gt;java.lang.RuntimeException: java.io.FileNotFoundException: Resource nexus-maven-repository-index.properties does not exist\r\n\r\nHow to solve this trouble?\r\n\r\nWindows 8  \r\nMaven 3.2.1  \r\nIdea 2017.1.5\r\n","title":"Resource nexus-maven-repository-index.properties does not exist","body":"<p>I'm using a remote <strong>artifactory</strong> repo.\nI added this repo to settings.xml file which was placed in the <code>&lt;user&gt;/.m2/</code> folder:</p>\n<pre><code>&lt;settings&gt;\n    &lt;mirrors&gt;\n        &lt;mirror&gt;\n            &lt;id&gt;artifactory&lt;/id&gt;\n            &lt;name&gt;artifactory&lt;/name&gt;\n            &lt;url&gt;http://example.com/artifactory/repo&lt;/url&gt;\n            &lt;mirrorOf&gt;external:*&lt;/mirrorOf&gt;\n        &lt;/mirror&gt;\n    &lt;/mirrors&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;artifactory&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;snapshots&lt;/id&gt;\n                    &lt;name&gt;snapshots-only&lt;/name&gt;\n                    &lt;url&gt;http://example.com/artifactory/snapshots-only&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>In Idea settings in the &quot;Build Tools -&gt; Maven -&gt; Repositories&quot; page I see URL to my artifactory repo. But when I click on &quot;Update&quot; button, I get error message</p>\n<blockquote>\n<p>java.lang.RuntimeException: java.io.FileNotFoundException: Resource nexus-maven-repository-index.properties does not exist</p>\n</blockquote>\n<p>How to solve this trouble?</p>\n<p>Windows 8<br />\nMaven 3.2.1<br />\nIdea 2017.1.5</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1575600583,"post_id":59206128,"comment_id":104630000,"body_markdown":"What specifically would you like clarification on? Have you found some resources explaining balanced binary trees which you didn&#39;t understand?","body":"What specifically would you like clarification on? Have you found some resources explaining balanced binary trees which you didn&#39;t understand?"},{"owner":{"display_name":"user12489040"},"score":0,"creation_date":1575600832,"post_id":59206128,"comment_id":104630040,"body_markdown":"What does it mean exactly by &quot;properties&quot;?","body":"What does it mean exactly by &quot;properties&quot;?"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1575601189,"post_id":59206128,"comment_id":104630126,"body_markdown":"That&#39;s a bit vague, it could be implementation details, the time complexity of the operations, the formal conditions defining whether a tree is &quot;balanced&quot; or not... I suggest investigating all of them, and if that kind of question comes up in an interview again, ask for clarification from the interviewer.","body":"That&#39;s a bit vague, it could be implementation details, the time complexity of the operations, the formal conditions defining whether a tree is &quot;balanced&quot; or not... I suggest investigating all of them, and if that kind of question comes up in an interview again, ask for clarification from the interviewer."},{"owner":{"display_name":"user12489040"},"score":0,"creation_date":1575602491,"post_id":59206128,"comment_id":104630372,"body_markdown":"I see, well thank you so much for explaining this. I will definitely look into these to prepare in case it does pop up again. Will do, thank again!","body":"I see, well thank you so much for explaining this. I will definitely look into these to prepare in case it does pop up again. Will do, thank again!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1575604189,"post_id":59206128,"comment_id":104630749,"body_markdown":"There is only one &#39;property&#39; that may be different, and that is the difference between the heights under each node, which is constrained in the case of a balanced tree and unconstrained otherwise, and that in turn leads to a performance upper bound in the case of a balanced tree. It&#39;s a poorly phrased question, if that&#39;s what the interviewer really said.","body":"There is only one &#39;property&#39; that may be different, and that is the difference between the heights under each node, which is constrained in the case of a balanced tree and unconstrained otherwise, and that in turn leads to a performance upper bound in the case of a balanced tree. It&#39;s a poorly phrased question, if that&#39;s what the interviewer really said."},{"owner":{"display_name":"user12489040"},"score":0,"creation_date":1575632603,"post_id":59206128,"comment_id":104641285,"body_markdown":"Thank you for the clarification! But yes, I believed so as well.","body":"Thank you for the clarification! But yes, I believed so as well."}],"answers":[{"comments":[{"owner":{"account_id":16801428,"reputation":920,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1665448417,"post_id":59206446,"comment_id":130697957,"body_markdown":"Simple and direct thank you!","body":"Simple and direct thank you!"}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1575603284,"creation_date":1575602947,"answer_id":59206446,"question_id":59206128,"body_markdown":"By &quot;properties&quot;, I believe the interviewer was asking about Big-O performance complexity.\r\n\r\nWith a balanced tree, access&lt;sup&gt;1&lt;/sup&gt; is _O(log n)_.  \r\nWith an unbalanced tree, access&lt;sup&gt;1&lt;/sup&gt; is _O(n)_ (worst case).\r\n\r\nThat is because an unbalanced tree built from sorted data is effectively the same as a linked list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe space complexity is the same for both types of trees.\r\n\r\n&lt;sup&gt;*1) Access covers lookup, insert, and remove operations.*&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tjkrr.png","title":"Balanced vs Unbalanced Binary Tree - Clarification Needed","body":"<p>By \"properties\", I believe the interviewer was asking about Big-O performance complexity.</p>\n\n<p>With a balanced tree, access<sup>1</sup> is <em>O(log n)</em>.<br>\nWith an unbalanced tree, access<sup>1</sup> is <em>O(n)</em> (worst case).</p>\n\n<p>That is because an unbalanced tree built from sorted data is effectively the same as a linked list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tjkrr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tjkrr.png\" alt=\"enter image description here\"></a></p>\n\n<p>The space complexity is the same for both types of trees.</p>\n\n<p><sup><em>1) Access covers lookup, insert, and remove operations.</em></sup></p>\n"},{"tags":[],"owner":{"account_id":8927384,"reputation":61,"user_id":6661231,"accept_rate":20,"display_name":"veron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690577486,"creation_date":1690575531,"answer_id":76790817,"question_id":59206128,"body_markdown":"I think Andreas&#39;s answer is on point, but you need to know the inner workings of a binary tree and linked list to appreciate it. Seems this is what the interviewer is quizzing you on: do you know what he&#39;s talking about when he brings up the structure, and can you comfortably walk through it to derive a reasonable answer? \r\n\r\nAnother way to think about the question is to shift the focus on the **balanced** tree. What makes it balanced? For each level, the height of the left subtree is the same as the right one, so every root at that level has either two nodes or one node. An unbalanced one is the opposite. \r\n\r\nNow that you understand what an unbalanced vs balanced tree looks like, you can start comparing their implementations. What is the implementation for binary search? You keep halving the tree until the target is located. As a pattern, every time you deal with a problem that involves halving the amount of inputs, that&#39;s log(N), since we&#39;re working with base of x, \r\n\r\n    log(aN) = x =&gt; a^x = N  \r\n\r\nSo the worst case runtime of a balanced search tree is O(log(N)), where the target is either not found or at the very last position, you&#39;re halving N inputs (log(N)).\r\n\r\nFor the *unbalanced* search tree, the worst case scenario is the same where the target is not found or at the very last position, but because the tree is unbalanced, instead of halving, you&#39;re going through every item in a linear way. Therefore, the runtime is O(N).\r\n\r\nWhat does the runtime of the unbalanced tree mean in relation to the balanced tree? If you consider the runtime order, O(N) is slower than O(logN), which is why a balanced tree is usually the better structure. \r\n","title":"Balanced vs Unbalanced Binary Tree - Clarification Needed","body":"<p>I think Andreas's answer is on point, but you need to know the inner workings of a binary tree and linked list to appreciate it. Seems this is what the interviewer is quizzing you on: do you know what he's talking about when he brings up the structure, and can you comfortably walk through it to derive a reasonable answer?</p>\n<p>Another way to think about the question is to shift the focus on the <strong>balanced</strong> tree. What makes it balanced? For each level, the height of the left subtree is the same as the right one, so every root at that level has either two nodes or one node. An unbalanced one is the opposite.</p>\n<p>Now that you understand what an unbalanced vs balanced tree looks like, you can start comparing their implementations. What is the implementation for binary search? You keep halving the tree until the target is located. As a pattern, every time you deal with a problem that involves halving the amount of inputs, that's log(N), since we're working with base of x,</p>\n<pre><code>log(aN) = x =&gt; a^x = N  \n</code></pre>\n<p>So the worst case runtime of a balanced search tree is O(log(N)), where the target is either not found or at the very last position, you're halving N inputs (log(N)).</p>\n<p>For the <em>unbalanced</em> search tree, the worst case scenario is the same where the target is not found or at the very last position, but because the tree is unbalanced, instead of halving, you're going through every item in a linear way. Therefore, the runtime is O(N).</p>\n<p>What does the runtime of the unbalanced tree mean in relation to the balanced tree? If you consider the runtime order, O(N) is slower than O(logN), which is why a balanced tree is usually the better structure.</p>\n"}],"owner":{"display_name":"user12489040"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7994,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1690577486,"creation_date":1575600431,"question_id":59206128,"body_markdown":"I am in need of some clarification, this may be a really stupid question and I have done research but cannot find a clear answer to my question. My question is, **What are some property differences between a balanced binary tree and an unbalanced binary tree?** I was asked this on an interview (java questions) and I had explained to the interviewer the differences however he mentioned that he wants to know the properties that differentiate between the two (binary tree - unbalanced vs balanced). \r\n\r\nIf someone can please clarify this for me, i&#39;d greatly appreciate it.  ","title":"Balanced vs Unbalanced Binary Tree - Clarification Needed","body":"<p>I am in need of some clarification, this may be a really stupid question and I have done research but cannot find a clear answer to my question. My question is, <strong>What are some property differences between a balanced binary tree and an unbalanced binary tree?</strong> I was asked this on an interview (java questions) and I had explained to the interviewer the differences however he mentioned that he wants to know the properties that differentiate between the two (binary tree - unbalanced vs balanced). </p>\n\n<p>If someone can please clarify this for me, i'd greatly appreciate it.  </p>\n"},{"tags":["java","spring","generics","resttemplate","type-erasure"],"answers":[{"comments":[{"owner":{"account_id":4446831,"reputation":393,"user_id":3619889,"accept_rate":40,"display_name":"barun"},"score":1,"creation_date":1690643983,"post_id":76790854,"comment_id":135383803,"body_markdown":"Thank you Yahor for taking the time to respond. Your solution worked. I actually missed that, RestTemplate has an exchange method with ParameterizedTypeReference.","body":"Thank you Yahor for taking the time to respond. Your solution worked. I actually missed that, RestTemplate has an exchange method with ParameterizedTypeReference."}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690576137,"creation_date":1690576137,"answer_id":76790854,"question_id":76790409,"body_markdown":"Java generics undergo type erasure, meaning they don&#39;t retain their generic type at runtime, so `CandyWrapper&lt;Skittle&gt;.class` just wont&#39; work.\r\n\r\nYou may try to use `ParameterizedTypeReference` from Spring instead, which provides an abstract class that you simply subclass to capture the generic type, like:\r\n```java\r\n@Bean\r\npublic CandyStore&lt;Skittle&gt; getSkittleCandyStore(\r\n    RestTemplate restTemplate,\r\n    String skittleUrl\r\n) {\r\n    return new CandyStore&lt;&gt;(\r\n        new ParameterizedTypeReference&lt;CandyWrapper&lt;Skittle&gt;&gt;() {},\r\n        restTemplate,\r\n        skittleUrl\r\n    );\r\n}\r\n```\r\n\r\nand `CandyStore`:\r\n```java\r\npublic class CandyStore&lt;T&gt; {\r\n\r\n    private final RestTemplate restTemplate;\r\n    private final ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef;\r\n    String candyFactroyUrl;\r\n\r\n    public CandyStore(ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef, RestTemplate restTemplate, String factoryUrl) {\r\n        this.typeRef = typeRef;\r\n        this.restTemplate = restTemplate;\r\n        this.candyFactroyUrl = factoryUrl;\r\n    }\r\n\r\n    public CandyWrapper&lt;T&gt; getCandies(){\r\n        HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\r\n        ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\r\n        response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\r\n        return response.getBody();\r\n    }\r\n}\r\n```\r\nso please, make sure to update the `restTemplate.exchange` to use the new `typeRef` field instead, should looks like:\r\n```java\r\nresponse = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\r\n```\r\n\r\nRead more about `ParameterizedTypeReference`: \r\n- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\r\n- https://stackoverflow.com/questions/21987295/using-spring-resttemplate-in-generic-method-with-generic-parameter\r\n","title":"Passing a generic Type as responseType in RestTemplate.exchange() in Spring Rest Template","body":"<p>Java generics undergo type erasure, meaning they don't retain their generic type at runtime, so <code>CandyWrapper&lt;Skittle&gt;.class</code> just wont' work.</p>\n<p>You may try to use <code>ParameterizedTypeReference</code> from Spring instead, which provides an abstract class that you simply subclass to capture the generic type, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CandyStore&lt;Skittle&gt; getSkittleCandyStore(\n    RestTemplate restTemplate,\n    String skittleUrl\n) {\n    return new CandyStore&lt;&gt;(\n        new ParameterizedTypeReference&lt;CandyWrapper&lt;Skittle&gt;&gt;() {},\n        restTemplate,\n        skittleUrl\n    );\n}\n</code></pre>\n<p>and <code>CandyStore</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CandyStore&lt;T&gt; {\n\n    private final RestTemplate restTemplate;\n    private final ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef;\n    String candyFactroyUrl;\n\n    public CandyStore(ParameterizedTypeReference&lt;CandyWrapper&lt;T&gt;&gt; typeRef, RestTemplate restTemplate, String factoryUrl) {\n        this.typeRef = typeRef;\n        this.restTemplate = restTemplate;\n        this.candyFactroyUrl = factoryUrl;\n    }\n\n    public CandyWrapper&lt;T&gt; getCandies(){\n        HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\n        ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\n        response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\n        return response.getBody();\n    }\n}\n</code></pre>\n<p>so please, make sure to update the <code>restTemplate.exchange</code> to use the new <code>typeRef</code> field instead, should looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, typeRef);\n</code></pre>\n<p>Read more about <code>ParameterizedTypeReference</code>:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ParameterizedTypeReference.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21987295/using-spring-resttemplate-in-generic-method-with-generic-parameter\">Using Spring RestTemplate in generic method with generic parameter</a></li>\n</ul>\n"}],"owner":{"account_id":4446831,"reputation":393,"user_id":3619889,"accept_rate":40,"display_name":"barun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76790854,"answer_count":1,"score":0,"last_activity_date":1690576137,"creation_date":1690570444,"question_id":76790409,"body_markdown":"I have a candy factory that exposed various endpoints to get candies in a bag.\r\n\r\ncandy such as \r\n\r\n1. name: m&amp;m ; endpoint: candy-factory/mnms\r\n2. name: skittle; endpoint: candy-factory/skittles\r\n3. name: smarties; endpoint: candy-factory/smarties\r\n\r\nApi response pattern is below\r\n\r\n```\r\n public class CandyWrapper &lt;T&gt; {\r\n  @JsonProperty(&quot;candies&quot;)\r\n  private List&lt;T&gt; candies;\r\n}\r\n```\r\nI have a generic service class which deals with getting the candies using Spring RestTemplate\r\n\r\n```\r\npublic class CandyStore&lt;T&gt; {\r\n\r\n  private final RestTemplate restTemplate;\r\n\r\n  private final Class&lt;CandyWrapper&lt;T&gt;&gt; type\r\n\r\n  String candyFactroyUrl;\r\n\r\n  \r\n  public CandyStore(Class&lt;CandyWrapper&lt;T&gt;&gt; type, RestTemplate restTemplate, String \r\n   factoryUrl) {\r\n    this.type = type;\r\n    ....\r\n    ....\r\n   }\r\n\r\n  public CandyWrapper&lt;T&gt; getCandies(){\r\n      \r\n       HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\r\n       ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\r\n       response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, type);\r\n       \r\n       return response.getBody();\r\n   }\r\n\r\n}\r\n```\r\n\r\nNow when I am going to configure the CandyStore service with the actual type of the Candy ; Unable to determine the candy type to pass in the service constructor.\r\n\r\n```\r\n@Bean()\r\npublic getSkittleCandyStore(RestTemplate restTemplate, String skittleUrl){\r\n\r\n  //TODO\r\n   get the class of type CandyWrapper&lt;Skittle&gt; so that I can pass it to the service \r\n   constructor. \r\n   \r\n   CandyWrapper&lt;Skittle&gt; instance = new CandyWrapper&lt;Skittle&gt;();\r\n\r\n   // instance.getClass() does not give the class conforming to the parameter below.\r\n  return new CandyStore(???, restTemplate, skittleUrl);\r\n\r\n}\r\n\r\n```\r\n\r\nAny help to clear up the generics concepts is appreciated. Thanks!!\r\n\r\n","title":"Passing a generic Type as responseType in RestTemplate.exchange() in Spring Rest Template","body":"<p>I have a candy factory that exposed various endpoints to get candies in a bag.</p>\n<p>candy such as</p>\n<ol>\n<li>name: m&amp;m ; endpoint: candy-factory/mnms</li>\n<li>name: skittle; endpoint: candy-factory/skittles</li>\n<li>name: smarties; endpoint: candy-factory/smarties</li>\n</ol>\n<p>Api response pattern is below</p>\n<pre><code> public class CandyWrapper &lt;T&gt; {\n  @JsonProperty(&quot;candies&quot;)\n  private List&lt;T&gt; candies;\n}\n</code></pre>\n<p>I have a generic service class which deals with getting the candies using Spring RestTemplate</p>\n<pre><code>public class CandyStore&lt;T&gt; {\n\n  private final RestTemplate restTemplate;\n\n  private final Class&lt;CandyWrapper&lt;T&gt;&gt; type\n\n  String candyFactroyUrl;\n\n  \n  public CandyStore(Class&lt;CandyWrapper&lt;T&gt;&gt; type, RestTemplate restTemplate, String \n   factoryUrl) {\n    this.type = type;\n    ....\n    ....\n   }\n\n  public CandyWrapper&lt;T&gt; getCandies(){\n      \n       HttpEntity&lt;HttpHeaders&gt; request = new HttpEntity&lt;&gt;();\n       ResponseEntity&lt;CandyWrapper&lt;T&gt;&gt; response;\n       response = restTemplate.exchange(candyFactroyUrl, HttpMethod.GET, request, type);\n       \n       return response.getBody();\n   }\n\n}\n</code></pre>\n<p>Now when I am going to configure the CandyStore service with the actual type of the Candy ; Unable to determine the candy type to pass in the service constructor.</p>\n<pre><code>@Bean()\npublic getSkittleCandyStore(RestTemplate restTemplate, String skittleUrl){\n\n  //TODO\n   get the class of type CandyWrapper&lt;Skittle&gt; so that I can pass it to the service \n   constructor. \n   \n   CandyWrapper&lt;Skittle&gt; instance = new CandyWrapper&lt;Skittle&gt;();\n\n   // instance.getClass() does not give the class conforming to the parameter below.\n  return new CandyStore(???, restTemplate, skittleUrl);\n\n}\n\n</code></pre>\n<p>Any help to clear up the generics concepts is appreciated. Thanks!!</p>\n"},{"tags":["java","android","video-capture"],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690575232,"answer_count":0,"score":0,"last_activity_date":1690575242,"creation_date":1690573906,"question_id":76790668,"body_markdown":"I am working on an App that will upload videos to firebase, the issue is that I followed a certain tutorial to achieve that but the app cannot pick a video from my Android App even after giving all the necessary permissions. The videos file is open correctly but when I click on a particular video for upload, it&#39;s not picking the video. I don&#39;t know what is the issue. Here is what I did\r\n    \r\n    private void openVideo(){\r\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            intent.setType(&quot;video/*&quot;);\r\n            startActivityForResult(intent,101);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if ((requestCode==101) &amp;&amp; (resultCode == RESULT_OK) &amp;&amp; (data.getData() != null)){\r\n                videoUri = data.getData();\r\n    \r\n                String path = null;\r\n                Cursor cursor;\r\n                int column_index_data;\r\n                String [] projection = {MediaStore.MediaColumns.DATA,MediaStore.Video.Media.BUCKET_DISPLAY_NAME,\r\n                MediaStore.Video.Media._ID,MediaStore.Video.Thumbnails.DATA};\r\n                final String orderBy = MediaStore.Video.Media.DEFAULT_SORT_ORDER;\r\n                cursor = MainActivity.this.getContentResolver().query(videoUri,projection,null,null,orderBy);\r\n                column_index_data = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\r\n                while (cursor.moveToNext()){\r\n                    path = cursor.getString(column_index_data);\r\n                    videoTitle = FilenameUtils.getBaseName(path);\r\n                }\r\n                tvVideoSelected.setText(videoTitle);\r\n            }\r\n        }\r\n\r\n","title":"How to get a video path in java android","body":"<p>I am working on an App that will upload videos to firebase, the issue is that I followed a certain tutorial to achieve that but the app cannot pick a video from my Android App even after giving all the necessary permissions. The videos file is open correctly but when I click on a particular video for upload, it's not picking the video. I don't know what is the issue. Here is what I did</p>\n<pre><code>private void openVideo(){\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;video/*&quot;);\n        startActivityForResult(intent,101);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if ((requestCode==101) &amp;&amp; (resultCode == RESULT_OK) &amp;&amp; (data.getData() != null)){\n            videoUri = data.getData();\n\n            String path = null;\n            Cursor cursor;\n            int column_index_data;\n            String [] projection = {MediaStore.MediaColumns.DATA,MediaStore.Video.Media.BUCKET_DISPLAY_NAME,\n            MediaStore.Video.Media._ID,MediaStore.Video.Thumbnails.DATA};\n            final String orderBy = MediaStore.Video.Media.DEFAULT_SORT_ORDER;\n            cursor = MainActivity.this.getContentResolver().query(videoUri,projection,null,null,orderBy);\n            column_index_data = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\n            while (cursor.moveToNext()){\n                path = cursor.getString(column_index_data);\n                videoTitle = FilenameUtils.getBaseName(path);\n            }\n            tvVideoSelected.setText(videoTitle);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","fetch","retrofit","response"],"comments":[{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1690086946,"post_id":76746280,"comment_id":135302793,"body_markdown":"Why don&#39;t you use `Object` instead of `List` ?","body":"Why don&#39;t you use <code>Object</code> instead of <code>List</code> ?"},{"owner":{"account_id":28815725,"reputation":23,"user_id":22069400,"display_name":"San Nasser"},"score":0,"creation_date":1690127554,"post_id":76746280,"comment_id":135306850,"body_markdown":"I&#39;ve tried but can&#39;t find a way to extract the data from the object .","body":"I&#39;ve tried but can&#39;t find a way to extract the data from the object ."}],"answers":[{"comments":[{"owner":{"account_id":28815725,"reputation":23,"user_id":22069400,"display_name":"San Nasser"},"score":0,"creation_date":1690404348,"post_id":76751459,"comment_id":135350717,"body_markdown":"Pardon me but I didn&#39;t understand how to read and store the response in call onResponse method?","body":"Pardon me but I didn&#39;t understand how to read and store the response in call onResponse method?"},{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1690576553,"post_id":76751459,"comment_id":135378173,"body_markdown":"I have edited my answer based on how you call your api you mentioned in your question","body":"I have edited my answer based on how you call your api you mentioned in your question"},{"owner":{"account_id":28815725,"reputation":23,"user_id":22069400,"display_name":"San Nasser"},"score":0,"creation_date":1692236679,"post_id":76751459,"comment_id":135597367,"body_markdown":"&quot;thanks&quot; for help me , It sure was an effective method.","body":"&quot;thanks&quot; for help me , It sure was an effective method."}],"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690575227,"creation_date":1690173941,"answer_id":76751459,"question_id":76746280,"body_markdown":"We had this problem in our project and we solved it using generic types, you can achieve your goal like this:\r\n\r\nFirst, define a generic type response model with all data you need:\r\n\r\n    public class ResponseModel&lt;T&gt; {\r\n    \r\n        @SerializedName(&quot;data&quot;)\r\n        private T dataModel;\r\n    \r\n        private boolean isSuccess;\r\n        private int statusCode;\r\n        private String message;\r\n    }\r\n\r\nand in your retrofit interface specify type of data:\r\n\r\n    Call&lt;ResponseModel&lt;List&lt;User&gt;&gt;&gt; getUser(\r\n        @Header(authorization) String token\r\n    );\r\n\r\nin this method, we defined that our expected data model is a list of users (`List&lt;User&gt;`)","title":"How to read response data from a custom type of json in android studio","body":"<p>We had this problem in our project and we solved it using generic types, you can achieve your goal like this:</p>\n<p>First, define a generic type response model with all data you need:</p>\n<pre><code>public class ResponseModel&lt;T&gt; {\n\n    @SerializedName(&quot;data&quot;)\n    private T dataModel;\n\n    private boolean isSuccess;\n    private int statusCode;\n    private String message;\n}\n</code></pre>\n<p>and in your retrofit interface specify type of data:</p>\n<pre><code>Call&lt;ResponseModel&lt;List&lt;User&gt;&gt;&gt; getUser(\n    @Header(authorization) String token\n);\n</code></pre>\n<p>in this method, we defined that our expected data model is a list of users (<code>List&lt;User&gt;</code>)</p>\n"}],"owner":{"account_id":28815725,"reputation":23,"user_id":22069400,"display_name":"San Nasser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76751459,"answer_count":1,"score":0,"last_activity_date":1690575227,"creation_date":1690073582,"question_id":76746280,"body_markdown":"I have a group of classes in the API, and I want the results of the request to be semi-uniform, for example, I created a class that contains 3 fields\r\nas follows below :\r\n\r\n\r\n```\r\n public class resultDataClass\r\n    {\r\n        public Boolean state { get;set; }\r\n        public string message { get; set; }\r\n        public object data { get; set; } //this field \r\n\r\n    }\r\n```\r\nThe third field returns different data from all classes \r\nmay be  type op users class or department class or another class\r\n-- below show data json in my response type\r\n\r\nmy be :\r\n\r\n```\r\n{\r\n&quot;state&quot;: true,\r\n&quot;message&quot;: &quot; data description&quot;,\r\n&quot;data&quot;: [\r\n          {\r\n             &quot;id&quot;: 1,\r\n             &quot;UserName&quot;: &quot;&quot;,\r\n             &quot;password&quot;: &quot;&quot;,\r\n             &quot;email&quot;: &quot;&quot;,\r\n             &quot;phone&quot;: &quot;&quot;\r\n          },\r\n          {\r\n             &quot;id&quot;: 2,\r\n             &quot;UserName&quot;: &quot;&quot;,\r\n             &quot;password&quot;: &quot;&quot;,\r\n             &quot;email&quot;: &quot;&quot;,\r\n             &quot;phone&quot;: &quot;&quot;\r\n          }\r\n        ]\r\n}\r\n\r\n```\r\n\r\nand my be  from another class and different fields:\r\n\r\n```\r\n{\r\n&quot;state&quot;: true,\r\n&quot;message&quot;: &quot; data description&quot;,\r\n&quot;data&quot;: [\r\n          {\r\n             &quot;id&quot;: 1,\r\n             &quot;title&quot;: &quot;&quot;,\r\n             &quot;content&quot;: &quot;&quot;,\r\n             &quot;description&quot;: &quot;&quot;,\r\n             &quot;image&quot;: &quot;&quot;\r\n          },\r\n          {\r\n             &quot;id&quot;: 1,\r\n             &quot;title&quot;: &quot;&quot;,\r\n             &quot;content&quot;: &quot;&quot;,\r\n             &quot;description&quot;: &quot;&quot;,\r\n             &quot;image&quot;: &quot;&quot;\r\n          }\r\n        ]\r\n}\r\n```\r\nnow , How can I build another Unified Class in Android Studio Java to fetch data from this json data\r\n\r\n\r\nhow to set response class this :\r\n\r\n```\r\npublic class ResponseClass {\r\n    public boolean state;\r\n    public String message;\r\n    // here how to define object like api class in up \r\n    public List&lt;??&gt;\r\n\r\n    public boolean isState() {\r\n        return state;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am written this code to fetch data for one class .\r\n\r\n\r\n\r\n```\r\nString myMessage=&quot;&quot;;\r\nCall&lt;ResponseData&gt; call=api.getPosts(userId);\r\n    call.enqueue(new Callback&lt;ResponseData&gt;() {\r\n        @Override\r\n        public void onResponse(@NonNull Call&lt;ResponseData&gt; call, @NonNull Response&lt;ResponseData&gt; response) {\r\n                    if(response.isSuccessful()) {\r\n\r\n                        if(response.body.isstate)\r\n                            {\r\n                             \r\n                        try {\r\n                            for(int i = 0; i&lt; response.body().getData().size(); i++)\r\n                            {\r\n                                //here fetch data from desired class\r\n\r\n                                //It could be a user class or any other class\r\n                                mylist.add(row);\r\n                            }\r\n                            \r\n                            adapter=new MyAdapter(getContext(),mylist);\r\n                            recyclerView.setAdapter(adapter);\r\n                            pd.dismiss();\r\n                        }catch (Exception exception)\r\n                        {\r\n                           \r\n                        }\r\n                    } else myMessage=response.body.getmessage();}\r\n                    else {\r\n                        \r\n                    }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(@NonNull Call&lt;ResponseContentData&gt; call, @NonNull Throwable t) {\r\n            Toast.makeText(getContext(), &quot;message :&quot;+ t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    });\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to read response data from a custom type of json in android studio","body":"<p>I have a group of classes in the API, and I want the results of the request to be semi-uniform, for example, I created a class that contains 3 fields\nas follows below :</p>\n<pre><code> public class resultDataClass\n    {\n        public Boolean state { get;set; }\n        public string message { get; set; }\n        public object data { get; set; } //this field \n\n    }\n</code></pre>\n<p>The third field returns different data from all classes\nmay be  type op users class or department class or another class\n-- below show data json in my response type</p>\n<p>my be :</p>\n<pre><code>{\n&quot;state&quot;: true,\n&quot;message&quot;: &quot; data description&quot;,\n&quot;data&quot;: [\n          {\n             &quot;id&quot;: 1,\n             &quot;UserName&quot;: &quot;&quot;,\n             &quot;password&quot;: &quot;&quot;,\n             &quot;email&quot;: &quot;&quot;,\n             &quot;phone&quot;: &quot;&quot;\n          },\n          {\n             &quot;id&quot;: 2,\n             &quot;UserName&quot;: &quot;&quot;,\n             &quot;password&quot;: &quot;&quot;,\n             &quot;email&quot;: &quot;&quot;,\n             &quot;phone&quot;: &quot;&quot;\n          }\n        ]\n}\n\n</code></pre>\n<p>and my be  from another class and different fields:</p>\n<pre><code>{\n&quot;state&quot;: true,\n&quot;message&quot;: &quot; data description&quot;,\n&quot;data&quot;: [\n          {\n             &quot;id&quot;: 1,\n             &quot;title&quot;: &quot;&quot;,\n             &quot;content&quot;: &quot;&quot;,\n             &quot;description&quot;: &quot;&quot;,\n             &quot;image&quot;: &quot;&quot;\n          },\n          {\n             &quot;id&quot;: 1,\n             &quot;title&quot;: &quot;&quot;,\n             &quot;content&quot;: &quot;&quot;,\n             &quot;description&quot;: &quot;&quot;,\n             &quot;image&quot;: &quot;&quot;\n          }\n        ]\n}\n</code></pre>\n<p>now , How can I build another Unified Class in Android Studio Java to fetch data from this json data</p>\n<p>how to set response class this :</p>\n<pre><code>public class ResponseClass {\n    public boolean state;\n    public String message;\n    // here how to define object like api class in up \n    public List&lt;??&gt;\n\n    public boolean isState() {\n        return state;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n<p>I am written this code to fetch data for one class .</p>\n<pre><code>String myMessage=&quot;&quot;;\nCall&lt;ResponseData&gt; call=api.getPosts(userId);\n    call.enqueue(new Callback&lt;ResponseData&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;ResponseData&gt; call, @NonNull Response&lt;ResponseData&gt; response) {\n                    if(response.isSuccessful()) {\n\n                        if(response.body.isstate)\n                            {\n                             \n                        try {\n                            for(int i = 0; i&lt; response.body().getData().size(); i++)\n                            {\n                                //here fetch data from desired class\n\n                                //It could be a user class or any other class\n                                mylist.add(row);\n                            }\n                            \n                            adapter=new MyAdapter(getContext(),mylist);\n                            recyclerView.setAdapter(adapter);\n                            pd.dismiss();\n                        }catch (Exception exception)\n                        {\n                           \n                        }\n                    } else myMessage=response.body.getmessage();}\n                    else {\n                        \n                    }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;ResponseContentData&gt; call, @NonNull Throwable t) {\n            Toast.makeText(getContext(), &quot;message :&quot;+ t.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1362094313,"post_id":15147701,"comment_id":21326693,"body_markdown":"&quot;*Of course, the BlockingQueue doesn&#39;t support changing the size, and the ThreadPoolExecutor doesn&#39;t support changing the queue.*&quot; =&gt; what makes you think so? Some implementations of BlockingQueue have variable sizes.","body":"&quot;<i>Of course, the BlockingQueue doesn&#39;t support changing the size, and the ThreadPoolExecutor doesn&#39;t support changing the queue.</i>&quot; =&gt; what makes you think so? Some implementations of BlockingQueue have variable sizes."},{"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"score":1,"creation_date":1362146130,"post_id":15147701,"comment_id":21346262,"body_markdown":"What implementations would these be?  I have read the javadoc for every known implementing class of [BlockingQueue&lt;E&gt;](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html), and none of them supports being both bounded and resizable.","body":"What implementations would these be?  I have read the javadoc for every known implementing class of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">BlockingQueue&lt;E&gt;</a>, and none of them supports being both bounded and resizable."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1362217800,"post_id":15147701,"comment_id":21371064,"body_markdown":"The ones I was thinking about are unbounded.","body":"The ones I was thinking about are unbounded."},{"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"score":1,"creation_date":1362251186,"post_id":15147701,"comment_id":21380234,"body_markdown":"If they are unbounded, they don&#39;t have a size.  My first statement &quot;I need to be able to change the size of the task queue of a ThreadPoolExecutor&quot; indicates that I need a bounded size, and that I need to change it.  Unbounded queues do not satisfy my requirements.","body":"If they are unbounded, they don&#39;t have a size.  My first statement &quot;I need to be able to change the size of the task queue of a ThreadPoolExecutor&quot; indicates that I need a bounded size, and that I need to change it.  Unbounded queues do not satisfy my requirements."}],"answers":[{"comments":[{"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"score":0,"creation_date":1362251286,"post_id":15175738,"comment_id":21380269,"body_markdown":"This is the best idea I&#39;ve had suggested yet, so I&#39;ll go ahead and flag it as the answer.  Thanks for the help javadba.","body":"This is the best idea I&#39;ve had suggested yet, so I&#39;ll go ahead and flag it as the answer.  Thanks for the help javadba."}],"tags":[],"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362235583,"creation_date":1362235583,"answer_id":15175738,"question_id":15147701,"body_markdown":"Using a mix of &quot;shutdown()&quot; (not shutdownNow()),  then polling with getPoolSize()/isTerminated(), you could (a) stop the existing the pool . Then (b) simultaneously (in a separate thread) a new queue with the desired size could be created. You would have a tradeoff here in terms of:  can you allow there to temporarily exist more threads than the desired number (while the first pool is shutting down).  \r\n ","title":"Change queue size of a ThreadPoolExecutor","body":"<p>Using a mix of \"shutdown()\" (not shutdownNow()),  then polling with getPoolSize()/isTerminated(), you could (a) stop the existing the pool . Then (b) simultaneously (in a separate thread) a new queue with the desired size could be created. You would have a tradeoff here in terms of:  can you allow there to temporarily exist more threads than the desired number (while the first pool is shutting down).  </p>\n"},{"tags":[],"owner":{"account_id":1975904,"reputation":229,"user_id":1773699,"display_name":"Abhishek Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362236166,"creation_date":1362236166,"answer_id":15175814,"question_id":15147701,"body_markdown":"You should use isTerminated() method to check Executor state but make sure before calling isTerminated method you should call shutdown() otherwise isTermainated method aleays return false.","title":"Change queue size of a ThreadPoolExecutor","body":"<p>You should use isTerminated() method to check Executor state but make sure before calling isTerminated method you should call shutdown() otherwise isTermainated method aleays return false.</p>\n"},{"tags":[],"owner":{"account_id":1981904,"reputation":571,"user_id":1778299,"accept_rate":71,"display_name":"Tadhg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690574870,"creation_date":1690574870,"answer_id":76790754,"question_id":15147701,"body_markdown":"You can do this by creating extending the unbounded LinkedBlockingQueue with an implementation which enforce a capacity on the underlying unbounded queue. This gives you a resizable work queue for your thread pool.\r\n\r\nFirst, you&#39;ll need to create the resizable implementation\r\n\r\n    class ResizableBlockingQueue&lt;E&gt; extends LinkedBlockingQueue&lt;E&gt; {\r\n\r\n        private int maxCapacity;\r\n\r\n        public ResizableBlockingQueue(int maxCapacity) {\r\n            this.maxCapacity = maxCapacity;\r\n        }\r\n\r\n        public int getMaxCapacity() {\r\n            return maxCapacity;\r\n        }\r\n\r\n        public void setMaxCapacity(int maxCapacity) {\r\n            this.maxCapacity = maxCapacity;\r\n        }\r\n\r\n        @Override public int remainingCapacity() {\r\n            return getMaxCapacity() - size();\r\n        }\r\n\r\n        @Override public boolean offer(E e) {\r\n            if (remainingCapacity() &lt;= 0) {\r\n                return false;\r\n            }\r\n            return super.offer(e);\r\n        }\r\n    }\r\n\r\nand now you can use it like this\r\n \r\n    ResizableBlockingQueue&lt;Runnable&gt; executionQueue = new ResizableBlockingQueue&lt;&gt;(QUEUE_SIZE);\r\n    ThreadPoolExecutor executor = new ThreadPoolExecutor(MIN_THREADS, MAX_THREADS, 30, TimeUnit.SECONDS, executionQueue);\r\n\r\n    // Need a bigger work queue\r\n    executionQueue.setMaxCapacity(BIGGER_QUEUE_SIZE);\r\n\r\nAs you can see, by this design, setting a smaller capacity will not remove existing work from the queue but will prevent new work from being enqueued until the queue size falls below the new `maxCapacity`\r\n\r\nEnjoy!\r\n\r\n    \r\n","title":"Change queue size of a ThreadPoolExecutor","body":"<p>You can do this by creating extending the unbounded LinkedBlockingQueue with an implementation which enforce a capacity on the underlying unbounded queue. This gives you a resizable work queue for your thread pool.</p>\n<p>First, you'll need to create the resizable implementation</p>\n<pre><code>class ResizableBlockingQueue&lt;E&gt; extends LinkedBlockingQueue&lt;E&gt; {\n\n    private int maxCapacity;\n\n    public ResizableBlockingQueue(int maxCapacity) {\n        this.maxCapacity = maxCapacity;\n    }\n\n    public int getMaxCapacity() {\n        return maxCapacity;\n    }\n\n    public void setMaxCapacity(int maxCapacity) {\n        this.maxCapacity = maxCapacity;\n    }\n\n    @Override public int remainingCapacity() {\n        return getMaxCapacity() - size();\n    }\n\n    @Override public boolean offer(E e) {\n        if (remainingCapacity() &lt;= 0) {\n            return false;\n        }\n        return super.offer(e);\n    }\n}\n</code></pre>\n<p>and now you can use it like this</p>\n<pre><code>ResizableBlockingQueue&lt;Runnable&gt; executionQueue = new ResizableBlockingQueue&lt;&gt;(QUEUE_SIZE);\nThreadPoolExecutor executor = new ThreadPoolExecutor(MIN_THREADS, MAX_THREADS, 30, TimeUnit.SECONDS, executionQueue);\n\n// Need a bigger work queue\nexecutionQueue.setMaxCapacity(BIGGER_QUEUE_SIZE);\n</code></pre>\n<p>As you can see, by this design, setting a smaller capacity will not remove existing work from the queue but will prevent new work from being enqueued until the queue size falls below the new <code>maxCapacity</code></p>\n<p>Enjoy!</p>\n"}],"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":15175738,"answer_count":3,"score":7,"last_activity_date":1690574870,"creation_date":1362094135,"question_id":15147701,"body_markdown":"I need to be able to change the size of the task queue of a [ThreadPoolExecutor](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html).  Of course, the BlockingQueue doesn&#39;t support changing the size, and the ThreadPoolExecutor doesn&#39;t support changing the queue.\r\n\r\nSo, the method I&#39;ve come up with is to use [ThreadPoolExecutor.shutdownNow()](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow%28%29), which gives me back a list of the Runnables that haven&#39;t yet been executed.  Then I can create a new executor with the desired queue size and re-submit all of the tasks.\r\n\r\nThe issue is with the tasks in progress at the time of the shutdownNow() call.  As far as I can tell from the javadoc, the executor will call Thread.interrupt() on all threads currently executing a taks.  I don&#39;t want my tasks to be killed.  This question may have been a long-winded way of asking how to write my tasks such that Thread.interrupt() won&#39;t have any effect?","title":"Change queue size of a ThreadPoolExecutor","body":"<p>I need to be able to change the size of the task queue of a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"noreferrer\">ThreadPoolExecutor</a>.  Of course, the BlockingQueue doesn't support changing the size, and the ThreadPoolExecutor doesn't support changing the queue.</p>\n\n<p>So, the method I've come up with is to use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow%28%29\" rel=\"noreferrer\">ThreadPoolExecutor.shutdownNow()</a>, which gives me back a list of the Runnables that haven't yet been executed.  Then I can create a new executor with the desired queue size and re-submit all of the tasks.</p>\n\n<p>The issue is with the tasks in progress at the time of the shutdownNow() call.  As far as I can tell from the javadoc, the executor will call Thread.interrupt() on all threads currently executing a taks.  I don't want my tasks to be killed.  This question may have been a long-winded way of asking how to write my tasks such that Thread.interrupt() won't have any effect?</p>\n"},{"tags":["java","arraylist","collections","java-stream","collectors"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690573494,"post_id":76790624,"comment_id":135377759,"body_markdown":"Habe you taken a look at the [definition of `IntStream::collect` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#collect(java.util.function.Supplier,java.util.function.ObjIntConsumer,java.util.function.BiConsumer))? The method takes three parameters.","body":"Habe you taken a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#collect(java.util.function.Supplier,java.util.function.ObjIntConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">definition of <code>IntStream::collect</code> (<code>docs.oracle.com</code>)</a>? The method takes three parameters."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690573798,"post_id":76790624,"comment_id":135377798,"body_markdown":"`.boxed().toList();` or since you&#39;re already dealing with an Integer Stream, simply `return numbers.stream().filter(s -&gt; s &gt;= 0).toList();`","body":"<code>.boxed().toList();</code> or since you&#39;re already dealing with an Integer Stream, simply <code>return numbers.stream().filter(s -&gt; s &gt;= 0).toList();</code>"},{"owner":{"account_id":26452725,"reputation":9,"user_id":20095706,"display_name":"testC0der"},"score":0,"creation_date":1690573799,"post_id":76790624,"comment_id":135377799,"body_markdown":"Forgot to write which one. Its Java 19","body":"Forgot to write which one. Its Java 19"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690574313,"creation_date":1690573769,"answer_id":76790658,"question_id":76790624,"body_markdown":"You are using `mapToInt()` without any reason, you can do this way:\r\n\r\n```java\r\npublic static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers) {\r\n    return numbers.stream()\r\n                  .filter(s -&gt; s &gt;= 0)\r\n                  .collect(Collectors.toList());\r\n}\r\n```\r\nYou can also, replace `.collect(Collectors.toList())` with [`.toList()`][1], which is available **since java 16**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toList()","title":"Problem with .collect() method in list .stream() in JAVA","body":"<p>You are using <code>mapToInt()</code> without any reason, you can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers) {\n    return numbers.stream()\n                  .filter(s -&gt; s &gt;= 0)\n                  .collect(Collectors.toList());\n}\n</code></pre>\n<p>You can also, replace <code>.collect(Collectors.toList())</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\"><code>.toList()</code></a>, which is available <strong>since java 16</strong>.</p>\n"}],"owner":{"account_id":26452725,"reputation":9,"user_id":20095706,"display_name":"testC0der"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1690573932,"accepted_answer_id":76790658,"answer_count":1,"score":-1,"last_activity_date":1690574313,"creation_date":1690573323,"question_id":76790624,"body_markdown":"```\r\npublic class PositiveNumbers {\r\n    public static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers){\r\n\r\n        return numbers.stream()\r\n                .mapToInt(Integer::valueOf)\r\n                .filter(s -&gt; s &gt;= 0)\r\n                .collect(Collectors.toCollection(ArrayList&lt;Integer&gt;::new));\r\n    }\r\n}\r\n```\r\n\r\n[  \r\nImage of the code and description of problem given by IntelliJ](https://i.stack.imgur.com/Zc5qz.png)\r\n\r\nTried all that program gives as fix, asked chatGPT, but no results. I cannot see the problem.\r\n\r\nI tried also\r\n\r\n```\r\n.collect(Collectors.toList());\r\n```\r\n\r\nbut same problem...","title":"Problem with .collect() method in list .stream() in JAVA","body":"<pre><code>public class PositiveNumbers {\n    public static List&lt;Integer&gt; positive(List&lt;Integer&gt; numbers){\n\n        return numbers.stream()\n                .mapToInt(Integer::valueOf)\n                .filter(s -&gt; s &gt;= 0)\n                .collect(Collectors.toCollection(ArrayList&lt;Integer&gt;::new));\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Zc5qz.png\" rel=\"nofollow noreferrer\"><br />\nImage of the code and description of problem given by IntelliJ</a></p>\n<p>Tried all that program gives as fix, asked chatGPT, but no results. I cannot see the problem.</p>\n<p>I tried also</p>\n<pre><code>.collect(Collectors.toList());\n</code></pre>\n<p>but same problem...</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690469240,"post_id":76780905,"comment_id":135361082,"body_markdown":"How are you going to use the interface in your code? Are you going to check every time if the returned Object is Mongo or JDBC? Once you answer that question, it should be easier to decide how to change the interface, and even if it should be an interface with two implementations, or separate entirely..","body":"How are you going to use the interface in your code? Are you going to check every time if the returned Object is Mongo or JDBC? Once you answer that question, it should be easier to decide how to change the interface, and even if it should be an interface with two implementations, or separate entirely.."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690469278,"post_id":76780905,"comment_id":135361090,"body_markdown":"In what context would this interface be implemented?","body":"In what context would this interface be implemented?"},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690535214,"post_id":76780905,"comment_id":135370499,"body_markdown":"@ArvindKumarAvinash Factory pattern does not solve this issue. Factory pattern is a creational design pattern. It solves problems related to instantiation. This problem is about the return type of a method that appears to be random and involves totally unrelated types.","body":"@ArvindKumarAvinash Factory pattern does not solve this issue. Factory pattern is a creational design pattern. It solves problems related to instantiation. This problem is about the return type of a method that appears to be random and involves totally unrelated types."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690536178,"post_id":76780905,"comment_id":135370704,"body_markdown":"Please provide more context if you want serious help. It&#39;s not clear what you are doing and ow the interface is used and how the implementation looks like.","body":"Please provide more context if you want serious help. It&#39;s not clear what you are doing and ow the interface is used and how the implementation looks like."},{"owner":{"account_id":19754330,"reputation":23,"user_id":14465001,"display_name":"Fabricio Franco"},"score":0,"creation_date":1691763357,"post_id":76780905,"comment_id":135539932,"body_markdown":"@Jorn yes. My goal is to design an API, and all the time the foreign applications will use different databases. The MongoDB wiil be used for &quot;caching&quot; some results for the user, and Mysql will act as repository.","body":"@Jorn yes. My goal is to design an API, and all the time the foreign applications will use different databases. The MongoDB wiil be used for &quot;caching&quot; some results for the user, and Mysql will act as repository."}],"answers":[{"comments":[{"owner":{"account_id":19754330,"reputation":23,"user_id":14465001,"display_name":"Fabricio Franco"},"score":0,"creation_date":1691764408,"post_id":76781210,"comment_id":135540149,"body_markdown":"thanks a lot. The last solution with Generic Type works for me. I will have queries for some classes that consult the api. God bless you.","body":"thanks a lot. The last solution with Generic Type works for me. I will have queries for some classes that consult the api. God bless you."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690471059,"creation_date":1690471059,"answer_id":76781210,"question_id":76780905,"body_markdown":"&gt; I have an interface that returns a Connection. I&#39;ve changed to Object,\r\n&gt; because I need to return sometimes a Connection and sometimes a\r\n&gt; MongoDatabase object from Mongo. My poor ideia was to change this\r\n&gt; method to Object, like this:\r\n&gt; ```\r\n&gt; Object getConnnection(String uri);\r\n&gt; ```\r\n&gt; Is a poor design?\r\n\r\nIf the intended uses of this interface will require users to cast the return value, or otherwise do anything with it that depends on knowing or assuming whether it is a `Connection` or a `MongoDatabase`, then yes, it is a poor design.\r\n\r\nAlso, `getConnection` is a terrible name for a method that in fact might return something that is not a `Connection`.\r\n\r\n&gt; Any suggestion to improve this aproach?\r\n\r\nThere are plenty of alternatives that would be better, but which one is best for you depends on how you want to use instances of this interface.  Some of the more likely possibilities are\r\n\r\n - give the interface separate methods for retrieving a `Connection` and for retrieving a `MongoDatabase`.  This is not great if individual instances cannot be expected to be able to do both, but even then it&#39;s better than the version presented in the question.\r\n\r\n - provide a separate interface representing objects that can provide `MongoDatabase`s, with an appropriately-named method for that purpose.\r\n\r\n - put a method for retrieving a `MongoDatabase` (only) on a class implementing the interface, and make methods that need to be able to exercise that `getMongoDatabase()` method require instances specifically of that class.  Possibly create a sub-interface that specifies the `getMongoDatabase()` method.\r\n\r\n - make the interface generic, parameterized by the type of object to which it provides access.  For example,\r\n\r\n   ```\r\n   interface DatabaseAccessor&lt;T&gt; {\r\n       public T getDatabaseObject();\r\n   }\r\n   ```\r\n\r\n   Each implementation would then be specific for `Connection`s or `MongoDatabase`s or some other similar thing.  Other methods that want to consume these specify what flavor of `DatabaseAccessor` they need via the type parameter.","title":"Interface to return Generic type","body":"<blockquote>\n<p>I have an interface that returns a Connection. I've changed to Object,\nbecause I need to return sometimes a Connection and sometimes a\nMongoDatabase object from Mongo. My poor ideia was to change this\nmethod to Object, like this:</p>\n<pre><code>Object getConnnection(String uri);\n</code></pre>\n<p>Is a poor design?</p>\n</blockquote>\n<p>If the intended uses of this interface will require users to cast the return value, or otherwise do anything with it that depends on knowing or assuming whether it is a <code>Connection</code> or a <code>MongoDatabase</code>, then yes, it is a poor design.</p>\n<p>Also, <code>getConnection</code> is a terrible name for a method that in fact might return something that is not a <code>Connection</code>.</p>\n<blockquote>\n<p>Any suggestion to improve this aproach?</p>\n</blockquote>\n<p>There are plenty of alternatives that would be better, but which one is best for you depends on how you want to use instances of this interface.  Some of the more likely possibilities are</p>\n<ul>\n<li><p>give the interface separate methods for retrieving a <code>Connection</code> and for retrieving a <code>MongoDatabase</code>.  This is not great if individual instances cannot be expected to be able to do both, but even then it's better than the version presented in the question.</p>\n</li>\n<li><p>provide a separate interface representing objects that can provide <code>MongoDatabase</code>s, with an appropriately-named method for that purpose.</p>\n</li>\n<li><p>put a method for retrieving a <code>MongoDatabase</code> (only) on a class implementing the interface, and make methods that need to be able to exercise that <code>getMongoDatabase()</code> method require instances specifically of that class.  Possibly create a sub-interface that specifies the <code>getMongoDatabase()</code> method.</p>\n</li>\n<li><p>make the interface generic, parameterized by the type of object to which it provides access.  For example,</p>\n<pre><code>interface DatabaseAccessor&lt;T&gt; {\n    public T getDatabaseObject();\n}\n</code></pre>\n<p>Each implementation would then be specific for <code>Connection</code>s or <code>MongoDatabase</code>s or some other similar thing.  Other methods that want to consume these specify what flavor of <code>DatabaseAccessor</code> they need via the type parameter.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690534783,"post_id":76781975,"comment_id":135370413,"body_markdown":"Your interpretation of the Dependency Inversion principle is wrong. Also the interface is not the problem. The problem is that a method and potentially the class has too many responsibilities, that&#39;s obvious by the fact that the same method returns totally unrelated objects. Even worse, the caller does not seem to have any influence on the returned value. So recommending the Single Responsibility principle might be more adequate and helpful.","body":"Your interpretation of the Dependency Inversion principle is wrong. Also the interface is not the problem. The problem is that a method and potentially the class has too many responsibilities, that&#39;s obvious by the fact that the same method returns totally unrelated objects. Even worse, the caller does not seem to have any influence on the returned value. So recommending the Single Responsibility principle might be more adequate and helpful."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690534785,"post_id":76781975,"comment_id":135370414,"body_markdown":"Dependency inversion does not help because he already has created an interface to invert the dependency. The problem is how this interface is implemented. It&#39;s a good example why declaring interface member and parameter types of type object. It does not add any robustness nor does it put any constraint on the final implementation in order to guarantee that the implementation fulfills the purpose/contract.","body":"Dependency inversion does not help because he already has created an interface to invert the dependency. The problem is how this interface is implemented. It&#39;s a good example why declaring interface member and parameter types of type object. It does not add any robustness nor does it put any constraint on the final implementation in order to guarantee that the implementation fulfills the purpose/contract."},{"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"score":0,"creation_date":1690553947,"post_id":76781975,"comment_id":135374307,"body_markdown":"@BionicCode *&quot;Your interpretation of the Dependency Inversion principle is wrong.&quot;* Would you care to elaborate on why that is the case?","body":"@BionicCode <i>&quot;Your interpretation of the Dependency Inversion principle is wrong.&quot;</i> Would you care to elaborate on why that is the case?"},{"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":1,"creation_date":1690574274,"post_id":76781975,"comment_id":135377873,"body_markdown":"@BionicCode &quot;Your interpretation of the Dependency Inversion principle is wrong.&quot; :-D. That&#39;s funny that you&#39;re saying this to a man who wrote three books ([1](https://manning.com/seemann), [2](https://blog.ploeh.dk/dippp), [3](https://blog.ploeh.dk/code-that-fits-in-your-head)) on software design principles and patterns and created [Pluralsight courses](https://blog.ploeh.dk/encapsulation-and-solid) on SOLID design principles.","body":"@BionicCode &quot;Your interpretation of the Dependency Inversion principle is wrong.&quot; :-D. That&#39;s funny that you&#39;re saying this to a man who wrote three books (<a href=\"https://manning.com/seemann\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://blog.ploeh.dk/dippp\" rel=\"nofollow noreferrer\">2</a>, <a href=\"https://blog.ploeh.dk/code-that-fits-in-your-head\" rel=\"nofollow noreferrer\">3</a>) on software design principles and patterns and created <a href=\"https://blog.ploeh.dk/encapsulation-and-solid\" rel=\"nofollow noreferrer\">Pluralsight courses</a> on SOLID design principles."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690576930,"post_id":76781975,"comment_id":135378228,"body_markdown":"@MarkSeemann Sure. I found your summary of the DIP *&quot;that abstractions should be defined by client code, and not by the implementing class.&quot;* wrong in that it does not reflect the original intent or meaning. In my understanding where there is &quot;client code&quot; then the client code is the context that provides the implementation to the abstraction (usually defined by a library, framework or component). However, I still find your terminology of &quot;client code&quot; vs &quot;implementing class&quot; very irritating in this context. Maybe you meant that he should have created the abstraction before the implementation.","body":"@MarkSeemann Sure. I found your summary of the DIP <i>&quot;that abstractions should be defined by client code, and not by the implementing class.&quot;</i> wrong in that it does not reflect the original intent or meaning. In my understanding where there is &quot;client code&quot; then the client code is the context that provides the implementation to the abstraction (usually defined by a library, framework or component). However, I still find your terminology of &quot;client code&quot; vs &quot;implementing class&quot; very irritating in this context. Maybe you meant that he should have created the abstraction before the implementation."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690577520,"post_id":76781975,"comment_id":135378316,"body_markdown":"@Steven Even when a person had written 20 books this doesn&#39;t mean that this person can&#39;t make mistakes, misunderstand or express himself wrong or not precise. In my understanding there is no relationship or correlation between the number of published books and the number or severity of mistakes a person can make. And anybody can point out such errors. This is how science works.  \nAnyway, thanks for enriching the discussion by pointing out his achievements ;-)","body":"@Steven Even when a person had written 20 books this doesn&#39;t mean that this person can&#39;t make mistakes, misunderstand or express himself wrong or not precise. In my understanding there is no relationship or correlation between the number of published books and the number or severity of mistakes a person can make. And anybody can point out such errors. This is how science works.   Anyway, thanks for enriching the discussion by pointing out his achievements ;-)"},{"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"score":1,"creation_date":1690616706,"post_id":76781975,"comment_id":135380957,"body_markdown":"@BionicCode. I was paraphrasing [APPP, chapter 11](https://blog.ploeh.dk/ref/appp): *&quot;clients [...] own the abstract interfaces&quot;*, and I believe that my use of *client code* is congruent with that, but yes, the implication is that one should create the abstraction before the implementation. Furthermore, the abstraction should be driven by the needs of client code, and not by the implementation details of the implementing class.","body":"@BionicCode. I was paraphrasing <a href=\"https://blog.ploeh.dk/ref/appp\" rel=\"nofollow noreferrer\">APPP, chapter 11</a>: <i>&quot;clients [...] own the abstract interfaces&quot;</i>, and I believe that my use of <i>client code</i> is congruent with that, but yes, the implication is that one should create the abstraction before the implementation. Furthermore, the abstraction should be driven by the needs of client code, and not by the implementation details of the implementing class."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633041,"post_id":76781975,"comment_id":135382561,"body_markdown":"Thank you for your reply and for the reference. Now I know what you mean. I even know this book. And I have a strong opinion on the offered ownership interpretation. I believe Robert C. Martin fully agrees with me by later revoking his statement (or to be more precise, by limiting his special interpretation to a very limited case).","body":"Thank you for your reply and for the reference. Now I know what you mean. I even know this book. And I have a strong opinion on the offered ownership interpretation. I believe Robert C. Martin fully agrees with me by later revoking his statement (or to be more precise, by limiting his special interpretation to a very limited case)."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633094,"post_id":76781975,"comment_id":135382570,"body_markdown":"The ownership of the abstractions is not a pure philosophical question as implied. On class level the ownership doesn&#39;t really matter, indeed. It doesn&#39;t change the class level dependency graph whether I announce either the client or the server as the owner. But on component level it actually does matter. It really makes a difference. This is where the author revokes his statement I guess.","body":"The ownership of the abstractions is not a pure philosophical question as implied. On class level the ownership doesn&#39;t really matter, indeed. It doesn&#39;t change the class level dependency graph whether I announce either the client or the server as the owner. But on component level it actually does matter. It really makes a difference. This is where the author revokes his statement I guess."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633121,"post_id":76781975,"comment_id":135382576,"body_markdown":"The point is that when defining the abstraction in the client&#39;s component (the component that uses the abstraction) the server (the component that serves the implementation/functionality) has now a dependency on the client. On component level we use DIP to implement IoC. We do this do revert this exact dependency: we want that the client depends on the server. We want that the client code depends on the framework. We don&#39;t want our framework to depend on the client. We don&#39;t want our business layer to depend on the UI layer. We want the opposite.","body":"The point is that when defining the abstraction in the client&#39;s component (the component that uses the abstraction) the server (the component that serves the implementation/functionality) has now a dependency on the client. On component level we use DIP to implement IoC. We do this do revert this exact dependency: we want that the client depends on the server. We want that the client code depends on the framework. We don&#39;t want our framework to depend on the client. We don&#39;t want our business layer to depend on the UI layer. We want the opposite."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633170,"post_id":76781975,"comment_id":135382583,"body_markdown":"This means we invert the dependencies (like DIP requires) but we do not invert ownership. This is a very important detail. As provoking his philosophical view is, it is not always the right or always applicable. While it may work on class level, it usually doesn&#39;t work on application level. Now that we are clear about the original definition, I still believe that your are not correct here.","body":"This means we invert the dependencies (like DIP requires) but we do not invert ownership. This is a very important detail. As provoking his philosophical view is, it is not always the right or always applicable. While it may work on class level, it usually doesn&#39;t work on application level. Now that we are clear about the original definition, I still believe that your are not correct here."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633207,"post_id":76781975,"comment_id":135382588,"body_markdown":"The idea of ownership inversion is a philosophical point of view introduced by Robert C. Martin. It is definitely not part of the DIP (which was also postulated by Robert C. Martin). To say that *&quot;entails that abstractions should be defined by client code, and not by the implementing class&quot;* is  just wrong, because there is no such entailment or implication in the DIP postulation. And you are not &quot;paraphrasing&quot; correctly. Because his idea in regard of ownership inversion is not about the *&quot;definition&quot;* of abstractions but their ownership.","body":"The idea of ownership inversion is a philosophical point of view introduced by Robert C. Martin. It is definitely not part of the DIP (which was also postulated by Robert C. Martin). To say that <i>&quot;entails that abstractions should be defined by client code, and not by the implementing class&quot;</i> is  just wrong, because there is no such entailment or implication in the DIP postulation. And you are not &quot;paraphrasing&quot; correctly. Because his idea in regard of ownership inversion is not about the <i>&quot;definition&quot;</i> of abstractions but their ownership."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633273,"post_id":76781975,"comment_id":135382593,"body_markdown":"I hope you agree that the business layer defines the interfaces based on the application&#39;s functionality. The business layer is the reusable part of the application and not the user interface. The framework or library defines the API and not the client. .NET is written *before* the client code. This fact makes your suggestion &quot;wrong&quot; too: *&quot;I&#39;d suggest to look at the requirements that client code has, and then define a type (interface or base class) that supports those interactions.&quot;*.","body":"I hope you agree that the business layer defines the interfaces based on the application&#39;s functionality. The business layer is the reusable part of the application and not the user interface. The framework or library defines the API and not the client. .NET is written <i>before</i> the client code. This fact makes your suggestion &quot;wrong&quot; too: <i>&quot;I&#39;d suggest to look at the requirements that client code has, and then define a type (interface or base class) that supports those interactions.&quot;</i>."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633315,"post_id":76781975,"comment_id":135382600,"body_markdown":"You provide the interface to abstract away persistence layer so that the client can use it without knowledge of any details. In other words you pick the database or services your application is based on. Then you design the API/abstractions that allow the client to use it. Because you start your design with use cases, you know what functionality the client must use in order to satisfy the use cases or to provide the required data input in order to allow the business logic to satisfy the use cases.","body":"You provide the interface to abstract away persistence layer so that the client can use it without knowledge of any details. In other words you pick the database or services your application is based on. Then you design the API/abstractions that allow the client to use it. Because you start your design with use cases, you know what functionality the client must use in order to satisfy the use cases or to provide the required data input in order to allow the business logic to satisfy the use cases."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633333,"post_id":76781975,"comment_id":135382602,"body_markdown":"Your suggestion to me reads like you have to design and implement client code first before you implement the server. Of course, he (the OP) should have designed the abstractions before the implementation in order to implement the dependencies properly (in terms of DIP). We want our code to depend on abstractions, so we must abstract away the functionality before we implement it. He should have started with defining the use cases or user stories in order to derive the required functionality and abstractions.","body":"Your suggestion to me reads like you have to design and implement client code first before you implement the server. Of course, he (the OP) should have designed the abstractions before the implementation in order to implement the dependencies properly (in terms of DIP). We want our code to depend on abstractions, so we must abstract away the functionality before we implement it. He should have started with defining the use cases or user stories in order to derive the required functionality and abstractions."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633424,"post_id":76781975,"comment_id":135382612,"body_markdown":"For example: &quot;User saves username&quot;. Then in the next step, he designs the abstract server API for example the `public abstract void SaveUser(username: string) : void` to allow the client to save the username. In the next step the client then designs his code around this abstraction that the server implements.","body":"For example: &quot;User saves username&quot;. Then in the next step, he designs the abstract server API for example the <code>public abstract void SaveUser(username: string) : void</code> to allow the client to save the username. In the next step the client then designs his code around this abstraction that the server implements."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633536,"post_id":76781975,"comment_id":135382631,"body_markdown":"Now *&quot;Furthermore, the abstraction should be driven by the needs of client code, and not by the implementation details of the implementing class.*&quot; turns out to not precise too, because client code never depends on implementation details but on abstractions - and *that* is the meaning of DIP. that&#39;s why abstractions are introduced in the context of DIP. The client has to use implementation details. To decouple this relationship we introduce the interface, that of course are an abstraction of this low-level details.","body":"Now <i>&quot;Furthermore, the abstraction should be driven by the needs of client code, and not by the implementation details of the implementing class.</i>&quot; turns out to not precise too, because client code never depends on implementation details but on abstractions - and <i>that</i> is the meaning of DIP. that&#39;s why abstractions are introduced in the context of DIP. The client has to use implementation details. To decouple this relationship we introduce the interface, that of course are an abstraction of this low-level details."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633584,"post_id":76781975,"comment_id":135382638,"body_markdown":"Again, your referenced statement is about ownership and not dependency. Dependencies are already inverted. The correct phrasing would be that &quot;abstractions should be driven by the abstract low-level functionality of the server (the implementing class) like a framework defines the abstractions by the input required to do the work. Because those abstractions define the interface of client and server. To me this difference is important because you usually design complex applications and not a handful of lose classes.","body":"Again, your referenced statement is about ownership and not dependency. Dependencies are already inverted. The correct phrasing would be that &quot;abstractions should be driven by the abstract low-level functionality of the server (the implementing class) like a framework defines the abstractions by the input required to do the work. Because those abstractions define the interface of client and server. To me this difference is important because you usually design complex applications and not a handful of lose classes."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690633606,"post_id":76781975,"comment_id":135382642,"body_markdown":"The structure of the applications dictates the ownership of the interfaces. For example when implementing the IoC pattern the ownership must be with the server (e.g. a framework). Client code always complements server code. From that point of view it doesn&#39;t make sense to allow the client to define interfaces and then let the server implement them. How is this supposed to work?","body":"The structure of the applications dictates the ownership of the interfaces. For example when implementing the IoC pattern the ownership must be with the server (e.g. a framework). Client code always complements server code. From that point of view it doesn&#39;t make sense to allow the client to define interfaces and then let the server implement them. How is this supposed to work?"},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690634795,"post_id":76781975,"comment_id":135382768,"body_markdown":"Because the server is the constant that usually does not change. The classic client-server relationship is a many-to-one: many clients use a single server. In other words, many different complementing potentially unrelated client implementations use the same interface or abstraction layer to use the functionality of the server (where the server is either a class, component, application, library or framework).","body":"Because the server is the constant that usually does not change. The classic client-server relationship is a many-to-one: many clients use a single server. In other words, many different complementing potentially unrelated client implementations use the same interface or abstraction layer to use the functionality of the server (where the server is either a class, component, application, library or framework)."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690634980,"post_id":76781975,"comment_id":135382790,"body_markdown":"Just another note, Robert C. Martin even considers a third valid owner relationship: no owner. So we have abstraction ownership is inverted too and owned by the client, the non-inverted classic view where abstractions are owned by the server and another classic where the abstractions are neither owned by the client nor the server (standalone).","body":"Just another note, Robert C. Martin even considers a third valid owner relationship: no owner. So we have abstraction ownership is inverted too and owned by the client, the non-inverted classic view where abstractions are owned by the server and another classic where the abstractions are neither owned by the client nor the server (standalone)."}],"tags":[],"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"comment_count":21,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690573883,"creation_date":1690477187,"answer_id":76781975,"question_id":76780905,"body_markdown":"Unless you plan to only use `toString` or the other few methods available on `Object`, that type isn&#39;t useful. Thus, client code will have to attempt to downcast in order to do something more useful with it. Thus, it&#39;s generally regarded as a design smell. I don&#39;t currently have my copy of [Refactoring][1] handy, but as far as I recall, it describes the code smell and suggests better alternatives.\r\n\r\nWhat&#39;s a better design? This depends on context. Why does the interface exist in the first place?\r\n\r\nYou may consider following the [Dependency Inversion Principle][2], which entails that abstractions should be defined by client code, and not by the implementing class.\r\n\r\nSince you don&#39;t describe the needs of client code, it&#39;s difficult to suggest a better API. I&#39;d suggest to look at the requirements that client code has, and then define a type (interface or base class) that supports those interactions. Then return that type from the method.\r\n\r\nIf you can&#39;t do that, a [sum type][3] could be useful. Unfortunately, most object-oriented languages don&#39;t support sum types natively, but you [can implement them with the Visitor design pattern][4].\r\n\r\n\r\n  [1]: https://blog.ploeh.dk/ref/refactoring\r\n  [2]: https://en.wikipedia.org/wiki/Dependency_inversion_principle\r\n  [3]: https://en.wikipedia.org/wiki/Tagged_union\r\n  [4]: https://blog.ploeh.dk/2018/06/25/visitor-as-a-sum-type","title":"Interface to return Generic type","body":"<p>Unless you plan to only use <code>toString</code> or the other few methods available on <code>Object</code>, that type isn't useful. Thus, client code will have to attempt to downcast in order to do something more useful with it. Thus, it's generally regarded as a design smell. I don't currently have my copy of <a href=\"https://blog.ploeh.dk/ref/refactoring\" rel=\"nofollow noreferrer\">Refactoring</a> handy, but as far as I recall, it describes the code smell and suggests better alternatives.</p>\n<p>What's a better design? This depends on context. Why does the interface exist in the first place?</p>\n<p>You may consider following the <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency Inversion Principle</a>, which entails that abstractions should be defined by client code, and not by the implementing class.</p>\n<p>Since you don't describe the needs of client code, it's difficult to suggest a better API. I'd suggest to look at the requirements that client code has, and then define a type (interface or base class) that supports those interactions. Then return that type from the method.</p>\n<p>If you can't do that, a <a href=\"https://en.wikipedia.org/wiki/Tagged_union\" rel=\"nofollow noreferrer\">sum type</a> could be useful. Unfortunately, most object-oriented languages don't support sum types natively, but you <a href=\"https://blog.ploeh.dk/2018/06/25/visitor-as-a-sum-type\" rel=\"nofollow noreferrer\">can implement them with the Visitor design pattern</a>.</p>\n"}],"owner":{"account_id":19754330,"reputation":23,"user_id":14465001,"display_name":"Fabricio Franco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690573883,"creation_date":1690469080,"question_id":76780905,"body_markdown":"I have an interface that returns a Connection. I&#39;ve changed to Object, because I need to return sometimes a Connection and sometimes a MongoDatabase object from Mongo. \r\nMy poor ideia was to change this method to Object, like this: \r\n\r\n`Object getConnnection(String uri);`\r\n\r\nIs a poor design? Any suggestion to improve this aproach? Thanks a lot for any suggestion.","title":"Interface to return Generic type","body":"<p>I have an interface that returns a Connection. I've changed to Object, because I need to return sometimes a Connection and sometimes a MongoDatabase object from Mongo.\nMy poor ideia was to change this method to Object, like this:</p>\n<p><code>Object getConnnection(String uri);</code></p>\n<p>Is a poor design? Any suggestion to improve this aproach? Thanks a lot for any suggestion.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":28850828,"reputation":512,"user_id":22096771,"display_name":"Bademeister"},"score":0,"creation_date":1689083146,"post_id":76209767,"comment_id":135160768,"body_markdown":"Here is an package: https://github.com/alaugks/spring-messagesource-xliff","body":"Here is an package: <a href=\"https://github.com/alaugks/spring-messagesource-xliff\" rel=\"nofollow noreferrer\">github.com/alaugks/spring-messagesource-xliff</a>"}],"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690573593,"creation_date":1683638035,"question_id":76209767,"body_markdown":"I want to manage translations in Spring Boot with XLIFF files.  In my research, property files are always used for the translations. \r\n\r\nDo you know packages with which I can use XLIFF files for translations that can also be integrated well into Spring Boot?","title":"Spring Boot: XLIFF files for translations","body":"<p>I want to manage translations in Spring Boot with XLIFF files.  In my research, property files are always used for the translations.</p>\n<p>Do you know packages with which I can use XLIFF files for translations that can also be integrated well into Spring Boot?</p>\n"},{"tags":["java","soap","soapui","soap-client","webservice-client"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690461409,"post_id":76779706,"comment_id":135359053,"body_markdown":"Please, put `copy` method implementation in the question","body":"Please, put <code>copy</code> method implementation in the question"},{"owner":{"account_id":29102924,"reputation":11,"user_id":22294357,"display_name":"Santosh Reddy"},"score":0,"creation_date":1690476947,"post_id":76779706,"comment_id":135362746,"body_markdown":"@DiedgoBorba added copy method","body":"@DiedgoBorba added copy method"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690477354,"post_id":76779706,"comment_id":135362815,"body_markdown":"If possible, put `request.xml` too, please.","body":"If possible, put <code>request.xml</code> too, please."}],"owner":{"account_id":29102924,"reputation":11,"user_id":22294357,"display_name":"Santosh Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690572777,"creation_date":1690460588,"question_id":76779706,"body_markdown":"I am trying to implement soap client using java getting below error\r\n\r\n&gt; java.net.SocketException: Unexpected end of file from server\r\n\r\nBut using postman agent I&#39;m able to hit the endpoints (added client certificate and host)\r\n\r\nI added PFX certificate into key store and trust store not worked\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\tKeyStore clientStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\tString xmlFile2Send = &quot;C:\\\\Users\\\\santosh.velagala\\\\Downloads\\\\eurochange\\\\request.xml&quot;;\r\n\t\tFileInputStream fin = new FileInputStream(xmlFile2Send);\r\n\t\tByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n\r\n\t\t// Copy SOAP file to the open connection.\r\n\t\tcopy(fin, bout);\r\n\t\tfin.close();\r\n\r\n\t\tbyte[] b = bout.toByteArray();\r\n\t\tStringBuffer buf = new StringBuffer();\r\n\t\tString s = new String(b);\r\n\t\tb = s.getBytes();\r\n\t\tclientStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX_PASSWORD&quot;.toCharArray());\r\n\t\tKeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\tkmf.init(clientStore, &quot;PFX_PASSWORD&quot;.toCharArray());\r\n\t\tKeyManager[] kms = kmf.getKeyManagers();\r\n\t\tKeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\ttrustStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX PASSWORD&quot;.toCharArray());\r\n\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\ttmf.init(trustStore);\r\n\t\tTrustManager[] tms = tmf.getTrustManagers();\r\n\r\n\t\tfinal SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\tsslContext.init(kms, tms, new SecureRandom());\r\n\t\tSSLContext.setDefault(sslContext);\r\n\r\n\t\tHostnameVerifier hostnameVerifier = NoopHostnameVerifier.INSTANCE;\r\n\t\tSystem.setProperty(&quot;https.proxyHost&quot;, &quot;uat.accessesb.com&quot;);\r\n\t\tSystem.setProperty(&quot;https.proxyPort&quot;, &quot;443&quot;);\r\n\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n\t\tHttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n\t\tURL url = new URL(&quot;Service URL&quot;);\r\n\t\tHttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\tcon.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko&quot;);\r\n\t\tcon.setConnectTimeout(10000);\r\n\t\tcon.setSSLSocketFactory(sslContext.getSocketFactory());\r\n\t\tcon.setRequestProperty(&quot;Content-type&quot;, &quot;application/xml;charset=UTF-8&quot;);\r\n\t\tcon.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\r\n\t\tcon.setDoInput(true);\r\n\t\tcon.setDoOutput(true);\r\n\t\tcon.setRequestProperty(&quot;Accept&quot;, &quot;text/xml&quot;);\r\n\t\tcon.setRequestProperty(&quot;SOAPAction&quot;, &quot;urn:checkCardAvailability&quot;);\r\n\t\tOutputStream os = con.getOutputStream();\r\n\t\tOutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\r\n\t\tosw.write(&quot;SOAP XML&quot;);\r\n\t\tosw.flush();\r\n\t\tosw.flush();\r\n\r\n\t\tosw.close();\r\n\t\tos.close(); // don&#39;t forget to close the OutputStream\r\n\r\n\t\tcon.connect();\r\n\t\tSystem.out.println(con.getAllowUserInteraction());\r\n\t\tSystem.out.println(con.getResponseCode());\r\n\t}\r\n    \r\n    public static void copy(InputStream in, OutputStream out)\r\n    \t\tthrows IOException {\r\n    \r\n    \tsynchronized (in) {\r\n    \t\tsynchronized (out) {\r\n    \t\t\tbyte[] buffer = new byte[256];\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tint bytesRead = in.read(buffer);\r\n    \t\t\t\tif (bytesRead == -1)\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tout.write(buffer, 0, bytesRead);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to add client certificate using Java(Soap client)","body":"<p>I am trying to implement soap client using java getting below error</p>\n<blockquote>\n<p>java.net.SocketException: Unexpected end of file from server</p>\n</blockquote>\n<p>But using postman agent I'm able to hit the endpoints (added client certificate and host)</p>\n<p>I added PFX certificate into key store and trust store not worked</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    KeyStore clientStore = KeyStore.getInstance(&quot;JKS&quot;);\n    String xmlFile2Send = &quot;C:\\\\Users\\\\santosh.velagala\\\\Downloads\\\\eurochange\\\\request.xml&quot;;\n    FileInputStream fin = new FileInputStream(xmlFile2Send);\n    ByteArrayOutputStream bout = new ByteArrayOutputStream();\n\n    // Copy SOAP file to the open connection.\n    copy(fin, bout);\n    fin.close();\n\n    byte[] b = bout.toByteArray();\n    StringBuffer buf = new StringBuffer();\n    String s = new String(b);\n    b = s.getBytes();\n    clientStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX_PASSWORD&quot;.toCharArray());\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    kmf.init(clientStore, &quot;PFX_PASSWORD&quot;.toCharArray());\n    KeyManager[] kms = kmf.getKeyManagers();\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n    trustStore.load(new FileInputStream(&quot;PFX CERTIFICATE&quot;), &quot;PFX PASSWORD&quot;.toCharArray());\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(trustStore);\n    TrustManager[] tms = tmf.getTrustManagers();\n\n    final SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(kms, tms, new SecureRandom());\n    SSLContext.setDefault(sslContext);\n\n    HostnameVerifier hostnameVerifier = NoopHostnameVerifier.INSTANCE;\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;uat.accessesb.com&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;443&quot;);\n    HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n    HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n    URL url = new URL(&quot;Service URL&quot;);\n    HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;POST&quot;);\n    con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko&quot;);\n    con.setConnectTimeout(10000);\n    con.setSSLSocketFactory(sslContext.getSocketFactory());\n    con.setRequestProperty(&quot;Content-type&quot;, &quot;application/xml;charset=UTF-8&quot;);\n    con.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\n    con.setDoInput(true);\n    con.setDoOutput(true);\n    con.setRequestProperty(&quot;Accept&quot;, &quot;text/xml&quot;);\n    con.setRequestProperty(&quot;SOAPAction&quot;, &quot;urn:checkCardAvailability&quot;);\n    OutputStream os = con.getOutputStream();\n    OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;);\n    osw.write(&quot;SOAP XML&quot;);\n    osw.flush();\n    osw.flush();\n\n    osw.close();\n    os.close(); // don't forget to close the OutputStream\n\n    con.connect();\n    System.out.println(con.getAllowUserInteraction());\n    System.out.println(con.getResponseCode());\n}\n\npublic static void copy(InputStream in, OutputStream out)\n        throws IOException {\n\n    synchronized (in) {\n        synchronized (out) {\n            byte[] buffer = new byte[256];\n            while (true) {\n                int bytesRead = in.read(buffer);\n                if (bytesRead == -1)\n                    break;\n                out.write(buffer, 0, bytesRead);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690629774,"post_id":76789674,"comment_id":135382176,"body_markdown":"I&#39;m having a hard time understanding what the problem is. So do you need to check if a user already exists? If yes, show us what you have tried.","body":"I&#39;m having a hard time understanding what the problem is. So do you need to check if a user already exists? If yes, show us what you have tried."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690708027,"post_id":76789674,"comment_id":135388712,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19655794,"reputation":1,"user_id":22084420,"display_name":"KraNf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690570378,"creation_date":1690562766,"question_id":76789674,"body_markdown":"I have a database that contains a node called &quot;chats_users&quot; where all user names are recorded to ensure uniqueness. However, I don&#39;t understand how to check for duplicates in this node when the registration button is pressed. [DB](https://i.stack.imgur.com/glDT3.png)\r\n\r\n\r\n```\r\nbuttonReg.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        String email, password, name;\r\n        email = String.valueOf(editTextEmail.getText());\r\n        password = String.valueOf(editTextPassword.getText());\r\n        name = String.valueOf(editTextName.getText());\r\n\r\n        if (TextUtils.isEmpty(name)) {\r\n            Toast.makeText(Register.this, &quot;Enter name&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(email)){\r\n            Toast.makeText(Register.this, &quot;Enter email&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty((password))) {\r\n            Toast.makeText(Register.this, &quot;Enter password&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        if (task.isSuccessful() &amp; password.length() &gt; 6 &amp; Patterns.EMAIL_ADDRESS.matcher(email).matches() &amp; !isName) {\r\n                            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n                            if (currentUser != null) {\r\n                                String userId = currentUser.getUid();\r\n\r\n                                Map&lt;String, Object&gt; userData = new HashMap&lt;&gt;();\r\n                                userData.put(&quot;email&quot;, email);\r\n                                userData.put(&quot;name&quot;, name);\r\n\r\n                                usersRef.child(userId).setValue(userData).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void unused) {\r\n                                        namesRef.child(name).setValue(name);\r\n                                        Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                                        startActivity(intent);\r\n                                        finish();\r\n                                    }\r\n                                }).addOnFailureListener(new OnFailureListener() {\r\n                                    @Override\r\n                                    public void onFailure(@NonNull Exception e) {\r\n\r\n                                    }\r\n                                });\r\n\r\n                            }\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n```\r\n\r\nI tried asking ChatGPT, but it only throws one method through DataChange, which runs only after the main loop. I just need to check if the username the user is trying to enter already exists in my database, and if it does, ask them to enter another one","title":"How to get data for Realtime DB Firebase","body":"<p>I have a database that contains a node called &quot;chats_users&quot; where all user names are recorded to ensure uniqueness. However, I don't understand how to check for duplicates in this node when the registration button is pressed. <a href=\"https://i.stack.imgur.com/glDT3.png\" rel=\"nofollow noreferrer\">DB</a></p>\n<pre><code>buttonReg.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        progressBar.setVisibility(View.VISIBLE);\n        String email, password, name;\n        email = String.valueOf(editTextEmail.getText());\n        password = String.valueOf(editTextPassword.getText());\n        name = String.valueOf(editTextName.getText());\n\n        if (TextUtils.isEmpty(name)) {\n            Toast.makeText(Register.this, &quot;Enter name&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        if (TextUtils.isEmpty(email)){\n            Toast.makeText(Register.this, &quot;Enter email&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        if (TextUtils.isEmpty((password))) {\n            Toast.makeText(Register.this, &quot;Enter password&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        progressBar.setVisibility(View.GONE);\n                        if (task.isSuccessful() &amp; password.length() &gt; 6 &amp; Patterns.EMAIL_ADDRESS.matcher(email).matches() &amp; !isName) {\n                            FirebaseUser currentUser = mAuth.getCurrentUser();\n                            if (currentUser != null) {\n                                String userId = currentUser.getUid();\n\n                                Map&lt;String, Object&gt; userData = new HashMap&lt;&gt;();\n                                userData.put(&quot;email&quot;, email);\n                                userData.put(&quot;name&quot;, name);\n\n                                usersRef.child(userId).setValue(userData).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onSuccess(Void unused) {\n                                        namesRef.child(name).setValue(name);\n                                        Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n                                        startActivity(intent);\n                                        finish();\n                                    }\n                                }).addOnFailureListener(new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n\n                                    }\n                                });\n\n                            }\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n</code></pre>\n<p>I tried asking ChatGPT, but it only throws one method through DataChange, which runs only after the main loop. I just need to check if the username the user is trying to enter already exists in my database, and if it does, ask them to enter another one</p>\n"},{"tags":["java","android","canvas","draw"],"owner":{"account_id":26858374,"reputation":11,"user_id":20442314,"display_name":"Jan Stutz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690570093,"creation_date":1690569757,"question_id":76790340,"body_markdown":"I wan&#39;t to mark with canvas.drawCircle small points on a picture and revert them one by one with a undo button.\r\n\r\nI built the code so far but when I click on undo the image gets unusuable.\r\n\r\nI&#39;m not sure if it&#39;s correct to do it with Canvas Layers in an array.\r\n\r\n[![Before](https://i.stack.imgur.com/N3tpR.jpg)](https://i.stack.imgur.com/N3tpR.jpg)\r\n\r\n[![After undo](https://i.stack.imgur.com/nn9b0.jpg)](https://i.stack.imgur.com/nn9b0.jpg)\r\n\r\nI tried it with BitmapLayers first but it would need too many resources and didn&#39;t change the picture at all.\r\n\r\n```  \r\nif (requestCode==GALLERY_REQ_CODE) {\r\n                assert data != null;\r\n                imgGallery.setImageMatrix(new Matrix());\r\n                imgGallery.setImageURI(data.getData());\r\n                imgGallery.buildDrawingCache();\r\n                canvasLayers = new ArrayList&lt;&gt;();\r\n                markerStrings = new ArrayList&lt;&gt;();\r\n                Bitmap firstbitmap = imgGallery.getDrawingCache();\r\n                Canvas firstCanvas = new Canvas(firstbitmap);\r\n                canvasLayers.add(firstCanvas);\r\n                queensselected = true;\r\n                workersselected = false;\r\n                broodselected = false;\r\n                radioqueens.setChecked(true);\r\n                radioworkers.setChecked(false);\r\n                radiobrood.setChecked(false);\r\n                queencount = 0;\r\n                workercount = 0;\r\n                broodcount = 0;\r\n                txtQueen.setText(&quot;&quot;);\r\n                countQueen.setText(&quot;&quot;);\r\n                txtWorker.setText(&quot;&quot;);\r\n                countWorker.setText(&quot;&quot;);\r\n                txtBrood.setText(&quot;&quot;);\r\n                countBrood.setText(&quot;&quot;);\r\n                pictureadded = true;\r\n                undoButton.setVisibility(GONE);\r\n            }\r\n\r\n\r\nundoButton.setOnClickListener(view -&gt; {\r\n            if (!canvasLayers.isEmpty())\r\n            {\r\n\r\n                Canvas canvaslast = canvasLayers.get(canvasLayers.size() - 1);\r\n                String stringlast = markerStrings.get(markerStrings.size() - 1 );\r\n                canvasLayers.remove(canvasLayers.size() - 1);\r\n                markerStrings.remove(markerStrings.size() - 1);\r\n                imgGallery.draw(canvaslast);\r\n\r\n                if (Objects.equals(stringlast, &quot;Queen&quot;)) {\r\n                    queencount--;\r\n                    countQueen.setText(String.valueOf(queencount));\r\n                    Toast.makeText(getApplicationContext(), &quot;Queen removed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                if (Objects.equals(stringlast, &quot;Worker&quot;)) {\r\n                    workercount--;\r\n                    countWorker.setText(String.valueOf(workercount));\r\n                    Toast.makeText(getApplicationContext(), &quot;Worker removed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                if (Objects.equals(stringlast, &quot;Brood&quot;)) {\r\n                    broodcount--;\r\n                    countBrood.setText(String.valueOf(broodcount));\r\n                    Toast.makeText(getApplicationContext(), &quot;Brood removed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                //If no undos left, hide button\r\n                if (canvasLayers.size() == 1)\r\n                {\r\n                    undoButton.setVisibility(GONE);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n@SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;SetTextI18n&quot;})\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        // handle touch events here\r\n        ImageView view = (ImageView) v;\r\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n            then = System.currentTimeMillis();\r\n        }\r\n\r\n        switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                savedMatrix.set(matrix);\r\n                start.set(event.getX(), event.getY());\r\n                mode = DRAG;\r\n                break;\r\n            case MotionEvent.ACTION_POINTER_DOWN:\r\n                oldDist = spacing(event);\r\n                if (oldDist &gt; 10f) {\r\n                   savedMatrix.set(matrix);\r\n                    midPoint(mid, event);\r\n                    mode = ZOOM;\r\n               }\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                int longClickDuration = 2000;\r\n                if ((System.currentTimeMillis() - then) &gt; longClickDuration) {\r\n\r\n                    // calculate inverse matrix\r\n                    Matrix inverse = new Matrix();\r\n                    imgGallery.getImageMatrix().invert(inverse);\r\n                    touchPoint = new float[] {event.getX(), event.getY()};\r\n                    inverse.mapPoints(touchPoint);\r\n\r\n                    if (pictureadded) {\r\n                    txtQueen.setText(&quot;Queen:&quot;);\r\n                    countQueen.setText(String.valueOf(queencount));\r\n                    txtWorker.setText(&quot;Worker:&quot;);\r\n                    countWorker.setText(String.valueOf(workercount));\r\n                    txtBrood.setText(&quot;Brood:&quot;);\r\n                    countBrood.setText(String.valueOf(broodcount));\r\n\r\n                    Bitmap bitmap = imgGallery.getDrawingCache();\r\n                    Canvas drawCanvas = new Canvas(bitmap);\r\n                    Paint paint = new Paint();\r\n\r\n                        if (queensselected) {\r\n                            queencount++;\r\n                            countQueen.setText(String.valueOf(queencount));\r\n                            paint.setColor(Color.YELLOW);\r\n                            toast = &quot;Queen marked&quot;;\r\n                            markerStrings.add(&quot;Queen&quot;);\r\n                        }\r\n                        if (workersselected) {\r\n                            workercount++;\r\n                            countWorker.setText(String.valueOf(workercount));\r\n                            paint.setColor(Color.RED);\r\n                            toast = &quot;Worker marked&quot;;\r\n                            markerStrings.add(&quot;Worker&quot;);\r\n                        }\r\n                        if (broodselected) {\r\n                            broodcount++;\r\n                            countBrood.setText(String.valueOf(broodcount));\r\n                            paint.setColor(Color.WHITE);\r\n                            toast = &quot;Brood marked&quot;;\r\n                            markerStrings.add(&quot;Brood&quot;);\r\n\r\n                        }\r\n                        drawCanvas.drawCircle(touchPoint[0], touchPoint[1], 10, paint);\r\n                        imgGallery.setImageBitmap(bitmap);\r\n                        canvasLayers.add(drawCanvas);\r\n                        myVib.vibrate(50);\r\n                        undoButton.setVisibility(VISIBLE);\r\n                        Toast.makeText(getApplicationContext(), toast, Toast.LENGTH_SHORT).show();\r\n                        return false;\r\n                    }\r\n\r\n                }\r\n                break;\r\n            case MotionEvent.ACTION_POINTER_UP:\r\n                mode = NONE;\r\n                break;\r\n            case MotionEvent.ACTION_MOVE:\r\n                if (mode == DRAG) {\r\n                    matrix.set(savedMatrix);\r\n                    float dx = event.getX() - start.x;\r\n                    float dy = event.getY() - start.y;\r\n                    matrix.postTranslate(dx, dy);\r\n                }\r\n                else if (mode == ZOOM) {\r\n                    float newDist = spacing(event);\r\n                    if (newDist &gt; 10f) {\r\n                        matrix.set(savedMatrix);\r\n                        float scale = (newDist / oldDist);\r\n                        matrix.postScale(scale, scale, mid.x, mid.y);\r\n\r\n                    }\r\n                    float[] values = new float[9];\r\n                    matrix.getValues(values);\r\n                    float scaleX = values[Matrix.MSCALE_X];\r\n                    float scaleY = values[Matrix.MSCALE_Y];\r\n\r\n                    if(scaleX &lt;= 1f) {\r\n                        matrix.postScale((1f)/scaleX, (1f)/scaleY, mid.x, mid.y);\r\n                    } else if(scaleX &gt;= 3) {\r\n                        matrix.postScale((3f)/scaleX, (3f)/scaleY, mid.x, mid.y);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        view.setImageMatrix(matrix);\r\n        return true;\r\n    }\r\n```\r\n","title":"How to revert drawings to canvas java Android Studio","body":"<p>I wan't to mark with canvas.drawCircle small points on a picture and revert them one by one with a undo button.</p>\n<p>I built the code so far but when I click on undo the image gets unusuable.</p>\n<p>I'm not sure if it's correct to do it with Canvas Layers in an array.</p>\n<p><a href=\"https://i.stack.imgur.com/N3tpR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3tpR.jpg\" alt=\"Before\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nn9b0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nn9b0.jpg\" alt=\"After undo\" /></a></p>\n<p>I tried it with BitmapLayers first but it would need too many resources and didn't change the picture at all.</p>\n<pre><code>if (requestCode==GALLERY_REQ_CODE) {\n                assert data != null;\n                imgGallery.setImageMatrix(new Matrix());\n                imgGallery.setImageURI(data.getData());\n                imgGallery.buildDrawingCache();\n                canvasLayers = new ArrayList&lt;&gt;();\n                markerStrings = new ArrayList&lt;&gt;();\n                Bitmap firstbitmap = imgGallery.getDrawingCache();\n                Canvas firstCanvas = new Canvas(firstbitmap);\n                canvasLayers.add(firstCanvas);\n                queensselected = true;\n                workersselected = false;\n                broodselected = false;\n                radioqueens.setChecked(true);\n                radioworkers.setChecked(false);\n                radiobrood.setChecked(false);\n                queencount = 0;\n                workercount = 0;\n                broodcount = 0;\n                txtQueen.setText(&quot;&quot;);\n                countQueen.setText(&quot;&quot;);\n                txtWorker.setText(&quot;&quot;);\n                countWorker.setText(&quot;&quot;);\n                txtBrood.setText(&quot;&quot;);\n                countBrood.setText(&quot;&quot;);\n                pictureadded = true;\n                undoButton.setVisibility(GONE);\n            }\n\n\nundoButton.setOnClickListener(view -&gt; {\n            if (!canvasLayers.isEmpty())\n            {\n\n                Canvas canvaslast = canvasLayers.get(canvasLayers.size() - 1);\n                String stringlast = markerStrings.get(markerStrings.size() - 1 );\n                canvasLayers.remove(canvasLayers.size() - 1);\n                markerStrings.remove(markerStrings.size() - 1);\n                imgGallery.draw(canvaslast);\n\n                if (Objects.equals(stringlast, &quot;Queen&quot;)) {\n                    queencount--;\n                    countQueen.setText(String.valueOf(queencount));\n                    Toast.makeText(getApplicationContext(), &quot;Queen removed&quot;, Toast.LENGTH_SHORT).show();\n                }\n                if (Objects.equals(stringlast, &quot;Worker&quot;)) {\n                    workercount--;\n                    countWorker.setText(String.valueOf(workercount));\n                    Toast.makeText(getApplicationContext(), &quot;Worker removed&quot;, Toast.LENGTH_SHORT).show();\n                }\n                if (Objects.equals(stringlast, &quot;Brood&quot;)) {\n                    broodcount--;\n                    countBrood.setText(String.valueOf(broodcount));\n                    Toast.makeText(getApplicationContext(), &quot;Brood removed&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                //If no undos left, hide button\n                if (canvasLayers.size() == 1)\n                {\n                    undoButton.setVisibility(GONE);\n                }\n\n            }\n        });\n\n@SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;SetTextI18n&quot;})\n    public boolean onTouch(View v, MotionEvent event) {\n        // handle touch events here\n        ImageView view = (ImageView) v;\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            then = System.currentTimeMillis();\n        }\n\n        switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\n            case MotionEvent.ACTION_DOWN:\n                savedMatrix.set(matrix);\n                start.set(event.getX(), event.getY());\n                mode = DRAG;\n                break;\n            case MotionEvent.ACTION_POINTER_DOWN:\n                oldDist = spacing(event);\n                if (oldDist &gt; 10f) {\n                   savedMatrix.set(matrix);\n                    midPoint(mid, event);\n                    mode = ZOOM;\n               }\n                break;\n            case MotionEvent.ACTION_UP:\n                int longClickDuration = 2000;\n                if ((System.currentTimeMillis() - then) &gt; longClickDuration) {\n\n                    // calculate inverse matrix\n                    Matrix inverse = new Matrix();\n                    imgGallery.getImageMatrix().invert(inverse);\n                    touchPoint = new float[] {event.getX(), event.getY()};\n                    inverse.mapPoints(touchPoint);\n\n                    if (pictureadded) {\n                    txtQueen.setText(&quot;Queen:&quot;);\n                    countQueen.setText(String.valueOf(queencount));\n                    txtWorker.setText(&quot;Worker:&quot;);\n                    countWorker.setText(String.valueOf(workercount));\n                    txtBrood.setText(&quot;Brood:&quot;);\n                    countBrood.setText(String.valueOf(broodcount));\n\n                    Bitmap bitmap = imgGallery.getDrawingCache();\n                    Canvas drawCanvas = new Canvas(bitmap);\n                    Paint paint = new Paint();\n\n                        if (queensselected) {\n                            queencount++;\n                            countQueen.setText(String.valueOf(queencount));\n                            paint.setColor(Color.YELLOW);\n                            toast = &quot;Queen marked&quot;;\n                            markerStrings.add(&quot;Queen&quot;);\n                        }\n                        if (workersselected) {\n                            workercount++;\n                            countWorker.setText(String.valueOf(workercount));\n                            paint.setColor(Color.RED);\n                            toast = &quot;Worker marked&quot;;\n                            markerStrings.add(&quot;Worker&quot;);\n                        }\n                        if (broodselected) {\n                            broodcount++;\n                            countBrood.setText(String.valueOf(broodcount));\n                            paint.setColor(Color.WHITE);\n                            toast = &quot;Brood marked&quot;;\n                            markerStrings.add(&quot;Brood&quot;);\n\n                        }\n                        drawCanvas.drawCircle(touchPoint[0], touchPoint[1], 10, paint);\n                        imgGallery.setImageBitmap(bitmap);\n                        canvasLayers.add(drawCanvas);\n                        myVib.vibrate(50);\n                        undoButton.setVisibility(VISIBLE);\n                        Toast.makeText(getApplicationContext(), toast, Toast.LENGTH_SHORT).show();\n                        return false;\n                    }\n\n                }\n                break;\n            case MotionEvent.ACTION_POINTER_UP:\n                mode = NONE;\n                break;\n            case MotionEvent.ACTION_MOVE:\n                if (mode == DRAG) {\n                    matrix.set(savedMatrix);\n                    float dx = event.getX() - start.x;\n                    float dy = event.getY() - start.y;\n                    matrix.postTranslate(dx, dy);\n                }\n                else if (mode == ZOOM) {\n                    float newDist = spacing(event);\n                    if (newDist &gt; 10f) {\n                        matrix.set(savedMatrix);\n                        float scale = (newDist / oldDist);\n                        matrix.postScale(scale, scale, mid.x, mid.y);\n\n                    }\n                    float[] values = new float[9];\n                    matrix.getValues(values);\n                    float scaleX = values[Matrix.MSCALE_X];\n                    float scaleY = values[Matrix.MSCALE_Y];\n\n                    if(scaleX &lt;= 1f) {\n                        matrix.postScale((1f)/scaleX, (1f)/scaleY, mid.x, mid.y);\n                    } else if(scaleX &gt;= 3) {\n                        matrix.postScale((3f)/scaleX, (3f)/scaleY, mid.x, mid.y);\n                    }\n                }\n                break;\n        }\n        view.setImageMatrix(matrix);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","swing","graphics","graphics2d","affinetransform"],"answers":[{"comments":[{"owner":{"account_id":25110832,"reputation":45,"user_id":18960490,"display_name":"Jacky"},"score":0,"creation_date":1691047309,"post_id":76789321,"comment_id":135439083,"body_markdown":"Thank you, this was of great help to me. After reading it, I realized that my original approach would cause the arrowhead to undergo main rotation and main translation twice. Therefore, I can follow your solution by using AT.setToIdentity or resetting Graphics2D to the previously stored storedTransform.","body":"Thank you, this was of great help to me. After reading it, I realized that my original approach would cause the arrowhead to undergo main rotation and main translation twice. Therefore, I can follow your solution by using AT.setToIdentity or resetting Graphics2D to the previously stored storedTransform."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690569355,"creation_date":1690559349,"answer_id":76789321,"question_id":76787716,"body_markdown":"I would reset the AffineTransform for the arrow head since needs an independent transformation on it before undergoing the main rotation and translation (which is already applied to the Graphics2D object. \r\n \r\n        \r\n```\r\nAT.translate(start.getCenterX(), start.getCenterY());\r\nAT.rotate(angle);\r\ng2d.transform(AT);\r\ng2d.draw(arrowShaft);    \r\n            \r\nAT.setToIdentity();\r\nAT.translate(length - arrowheadLength, 0);\r\nAT.rotate(Math.toRadians(-45));\r\nAT.shear(shearMultiplier, shearMultiplier);\r\ng2d.transform(AT);\r\ng2d.draw(arrowhead);  \r\n```\r\n\r\nOr alternatively, transform your head rectangle first, then the graphics coordinates, and then draw:\r\n\r\n```\r\nAffineTransform headTransform = new AffineTransform();\r\nheadTransform.translate(length - arrowheadLength, 0);\r\nheadTransform.rotate(Math.toRadians(-45));\r\nheadTransform.shear(shearMultiplier, shearMultiplier);\r\nShape arrowhead2 = headTransform.createTransformedShape(new Rectangle(new Dimension(16, 16)));\r\n\r\nAT.translate(start.getCenterX(), start.getCenterY());\r\nAT.rotate(angle);\r\n\r\ng2d.transform(AT);\r\ng2d.draw(arrowShaft);\r\ng2d.draw(arrowhead2);\r\n```\r\n\r\nEither way, the skewed rectangle needs its own transformation.\r\n\r\nBut having said this, I wouldn&#39;t even use affine transforms for this but rather the `java.awt.geom` library including Path2D, and then using basic geometry draw my arrow head and shaft as it is needed. This way, you can still use effective RenderingHints to anti-alias the drawn shapes:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.geom.*;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class CanvasPane2 extends JPanel {\r\n    private static final int PREF_W = 1000;\r\n    private static final int PREF_H = 600;\r\n    private static final int ARROW_HEAD_LENGTH = 36;\r\n    private static final int ARROW_HEAD_WIDTH = 16;\r\n    private static final Color ARROW_HEAD_COLOR = Color.RED;\r\n    private static final Stroke ARROW_HEAD_STROKE = new BasicStroke(3f);\r\n    private double theta;\r\n    private double r;\r\n    private Line2D arrowShaft;\r\n    private Shape arrowHead;\r\n\r\n    public CanvasPane2() {\r\n        addMouseMotionListener(new MyMouse());\r\n    }\r\n    \r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(PREF_W, PREF_H);\r\n    }\r\n    \r\n    private class MyMouse extends MouseAdapter {\r\n        @Override\r\n        public void mouseMoved(MouseEvent e) {\r\n            int x1 = e.getX() - getWidth() / 2;\r\n            int y1 = e.getY() - getHeight() / 2;\r\n            theta = Math.atan2(y1, x1);\r\n            r = Point.distance(0, 0, x1, y1);\r\n            arrowHead = createArrowHead();\r\n            arrowShaft = createShaft();\r\n            repaint();\r\n        }\r\n    }\r\n    \r\n    private Line2D createShaft() {\r\n        double x = (r - ARROW_HEAD_LENGTH) * Math.cos(theta);\r\n        double y = (r - ARROW_HEAD_LENGTH) * Math.sin(theta);\r\n        \r\n        Line2D line = new Line2D.Double(transX(0), transY(0), transX(x), transY(y));\r\n        return line;\r\n    }\r\n    \r\n    private Shape createArrowHead() {\r\n        Path2D path = new Path2D.Double();\r\n        Point2D tip, base, right, left;\r\n\r\n        double tipX = r * Math.cos(theta);\r\n        double tipY = r * Math.sin(theta);\r\n        tip = new Point2D.Double(transX(tipX), transY(tipY));\r\n        \r\n        double baseR = (r - ARROW_HEAD_LENGTH);       \r\n        double baseX = baseR * Math.cos(theta);\r\n        double baseY = baseR * Math.sin(theta);        \r\n        base = new Point2D.Double(transX(baseX), transY(baseY));\r\n        \r\n        double sideR = r - ARROW_HEAD_LENGTH / 2.0;       \r\n        double deltaTheta = Math.atan2(ARROW_HEAD_WIDTH / 2.0, sideR); \r\n        \r\n        double rightX = sideR * Math.cos(theta + deltaTheta);\r\n        double rightY = sideR * Math.sin(theta + deltaTheta);        \r\n        right = new Point2D.Double(transX(rightX), transY(rightY));\r\n        \r\n        double leftX = sideR * Math.cos(theta - deltaTheta);\r\n        double leftY = sideR * Math.sin(theta - deltaTheta);        \r\n        left = new Point2D.Double(transX(leftX), transY(leftY));\r\n        \r\n        path.moveTo(tip.getX(), tip.getY());\r\n        path.lineTo(right.getX(), right.getY());\r\n        path.lineTo(base.getX(), base.getY());\r\n        path.lineTo(left.getX(), left.getY());\r\n        path.closePath();\r\n        return path;\r\n    }\r\n    \r\n    public double transX(double x0) {\r\n        return x0 + getWidth() / 2;\r\n    }\r\n\r\n    public double transY(double y0) {\r\n        return y0 + getHeight() / 2;\r\n    }\r\n\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        int delta = 5;\r\n        int x = getWidth() / 2 - delta;\r\n        int y = getHeight() / 2 - delta;\r\n        g2d.fill(new Rectangle(x, y, 2 * delta, 2 * delta));\r\n        \r\n        if (arrowShaft != null) {\r\n            g2d.draw(arrowShaft);\r\n        }\r\n        \r\n        if (arrowHead != null) {\r\n            Graphics2D g2dB = (Graphics2D) g2d.create();\r\n            g2dB.setColor(ARROW_HEAD_COLOR);\r\n            g2dB.setStroke(ARROW_HEAD_STROKE);\r\n            g2dB.fill(arrowHead);\r\n            g2dB.dispose();\r\n        }\r\n    }\r\n    \r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            CanvasPane2 mainPanel = new CanvasPane2();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAs an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HxHAe.gif","title":"Incorrect Position and Angle of Arrowhead with AffineTransform","body":"<p>I would reset the AffineTransform for the arrow head since needs an independent transformation on it before undergoing the main rotation and translation (which is already applied to the Graphics2D object.</p>\n<pre><code>AT.translate(start.getCenterX(), start.getCenterY());\nAT.rotate(angle);\ng2d.transform(AT);\ng2d.draw(arrowShaft);    \n            \nAT.setToIdentity();\nAT.translate(length - arrowheadLength, 0);\nAT.rotate(Math.toRadians(-45));\nAT.shear(shearMultiplier, shearMultiplier);\ng2d.transform(AT);\ng2d.draw(arrowhead);  \n</code></pre>\n<p>Or alternatively, transform your head rectangle first, then the graphics coordinates, and then draw:</p>\n<pre><code>AffineTransform headTransform = new AffineTransform();\nheadTransform.translate(length - arrowheadLength, 0);\nheadTransform.rotate(Math.toRadians(-45));\nheadTransform.shear(shearMultiplier, shearMultiplier);\nShape arrowhead2 = headTransform.createTransformedShape(new Rectangle(new Dimension(16, 16)));\n\nAT.translate(start.getCenterX(), start.getCenterY());\nAT.rotate(angle);\n\ng2d.transform(AT);\ng2d.draw(arrowShaft);\ng2d.draw(arrowhead2);\n</code></pre>\n<p>Either way, the skewed rectangle needs its own transformation.</p>\n<p>But having said this, I wouldn't even use affine transforms for this but rather the <code>java.awt.geom</code> library including Path2D, and then using basic geometry draw my arrow head and shaft as it is needed. This way, you can still use effective RenderingHints to anti-alias the drawn shapes:</p>\n<p><a href=\"https://i.stack.imgur.com/HxHAe.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HxHAe.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class CanvasPane2 extends JPanel {\n    private static final int PREF_W = 1000;\n    private static final int PREF_H = 600;\n    private static final int ARROW_HEAD_LENGTH = 36;\n    private static final int ARROW_HEAD_WIDTH = 16;\n    private static final Color ARROW_HEAD_COLOR = Color.RED;\n    private static final Stroke ARROW_HEAD_STROKE = new BasicStroke(3f);\n    private double theta;\n    private double r;\n    private Line2D arrowShaft;\n    private Shape arrowHead;\n\n    public CanvasPane2() {\n        addMouseMotionListener(new MyMouse());\n    }\n    \n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(PREF_W, PREF_H);\n    }\n    \n    private class MyMouse extends MouseAdapter {\n        @Override\n        public void mouseMoved(MouseEvent e) {\n            int x1 = e.getX() - getWidth() / 2;\n            int y1 = e.getY() - getHeight() / 2;\n            theta = Math.atan2(y1, x1);\n            r = Point.distance(0, 0, x1, y1);\n            arrowHead = createArrowHead();\n            arrowShaft = createShaft();\n            repaint();\n        }\n    }\n    \n    private Line2D createShaft() {\n        double x = (r - ARROW_HEAD_LENGTH) * Math.cos(theta);\n        double y = (r - ARROW_HEAD_LENGTH) * Math.sin(theta);\n        \n        Line2D line = new Line2D.Double(transX(0), transY(0), transX(x), transY(y));\n        return line;\n    }\n    \n    private Shape createArrowHead() {\n        Path2D path = new Path2D.Double();\n        Point2D tip, base, right, left;\n\n        double tipX = r * Math.cos(theta);\n        double tipY = r * Math.sin(theta);\n        tip = new Point2D.Double(transX(tipX), transY(tipY));\n        \n        double baseR = (r - ARROW_HEAD_LENGTH);       \n        double baseX = baseR * Math.cos(theta);\n        double baseY = baseR * Math.sin(theta);        \n        base = new Point2D.Double(transX(baseX), transY(baseY));\n        \n        double sideR = r - ARROW_HEAD_LENGTH / 2.0;       \n        double deltaTheta = Math.atan2(ARROW_HEAD_WIDTH / 2.0, sideR); \n        \n        double rightX = sideR * Math.cos(theta + deltaTheta);\n        double rightY = sideR * Math.sin(theta + deltaTheta);        \n        right = new Point2D.Double(transX(rightX), transY(rightY));\n        \n        double leftX = sideR * Math.cos(theta - deltaTheta);\n        double leftY = sideR * Math.sin(theta - deltaTheta);        \n        left = new Point2D.Double(transX(leftX), transY(leftY));\n        \n        path.moveTo(tip.getX(), tip.getY());\n        path.lineTo(right.getX(), right.getY());\n        path.lineTo(base.getX(), base.getY());\n        path.lineTo(left.getX(), left.getY());\n        path.closePath();\n        return path;\n    }\n    \n    public double transX(double x0) {\n        return x0 + getWidth() / 2;\n    }\n\n    public double transY(double y0) {\n        return y0 + getHeight() / 2;\n    }\n\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        int delta = 5;\n        int x = getWidth() / 2 - delta;\n        int y = getHeight() / 2 - delta;\n        g2d.fill(new Rectangle(x, y, 2 * delta, 2 * delta));\n        \n        if (arrowShaft != null) {\n            g2d.draw(arrowShaft);\n        }\n        \n        if (arrowHead != null) {\n            Graphics2D g2dB = (Graphics2D) g2d.create();\n            g2dB.setColor(ARROW_HEAD_COLOR);\n            g2dB.setStroke(ARROW_HEAD_STROKE);\n            g2dB.fill(arrowHead);\n            g2dB.dispose();\n        }\n    }\n    \n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            CanvasPane2 mainPanel = new CanvasPane2();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.</p>\n"}],"owner":{"account_id":25110832,"reputation":45,"user_id":18960490,"display_name":"Jacky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789321,"answer_count":1,"score":0,"last_activity_date":1690569355,"creation_date":1690546550,"question_id":76787716,"body_markdown":"I have written a test program using AffineTransform to draw an arrowhead. The program takes the center of the window as the starting point of the arrowhead and the mouse position as the ending point. However, the resulting arrowhead position and angle are incorrect. When my mouse is at the location of the green dot, the correct arrowhead position should be as shown by the red arrowhead in the image below. I&#39;m wondering what could be causing the incorrect arrowhead to be drawn.\r\n[![result][1]][1]\r\n\r\nThe logic I used to draw the entire arrowhead is as follows: \r\n- First, I draw a horizontal line with a length of (length - arrowheadLength) starting from the position (0,0).\r\n[![first][2]][2]\r\n\r\n- Then, I use (0,0) as the upper-left corner of a rectangle and apply shear and rotation to it before translating it to the right end of the horizontal line.\r\n[![second][3]][3]\r\n(shear)\r\n[![shear][4]][4]\r\n(rotate)\r\n[![rotate][5]][5]\r\n(translate)\r\n[![translate][6]][6]\r\n\r\n- Next, the entire arrowhead is rotated based on the calculated angle between the mouse and the start rectangle positions.\r\n[![next][7]][7]\r\n\r\n- Finally, the arrowhead is translated to the position of the start rectangle.\r\n[![finally][8]][8]\r\n\r\n\r\nBelow is the code for drawing the arrowhead:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport javax.swing.event.MouseInputAdapter;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.Line2D;\r\n\r\nclass CanvasPane extends JPanel {\r\n    Rectangle start = new Rectangle();\r\n    Line2D.Double arrowShaft = new Line2D.Double();\r\n    Rectangle arrowhead = new Rectangle(new Dimension(16, 16));\r\n    double shearMultiplier = 0.5;\r\n    double arrowheadLength = arrowhead.width * Math.sqrt(2) * (1 + shearMultiplier);\r\n    MouseEvent me;\r\n    double length, angle;\r\n\r\n    CanvasPane() {\r\n        setPreferredSize(new Dimension(1000, 600));\r\n\r\n        addMouseMotionListener(new MouseInputAdapter() {\r\n            @Override\r\n            public void mouseMoved(MouseEvent e)\r\n            {\r\n                me = e;\r\n                repaint();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n\r\n        start.setBounds(getWidth()/2 - 5, getHeight()/2 - 5, 10, 10);\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.fill(start);\r\n\r\n        if (me != null) {\r\n            length = Point.distance(start.getCenterX(), start.getCenterY(), me.getX(), me.getY());\r\n            angle = Math.atan2(me.getY() - start.getCenterY(), me.getX() - start.getCenterX());\r\n\r\n            arrowShaft.setLine(0, 0, length - arrowheadLength, 0);\r\n            AffineTransform storedTransform = g2d.getTransform();\r\n            AffineTransform AT = new AffineTransform();\r\n\r\n            AT.translate(start.getCenterX(), start.getCenterY());\r\n            AT.rotate(angle);\r\n            // For the arrowShaft, it is first rotated and then translated.\r\n            g2d.transform(AT);\r\n            g2d.draw(arrowShaft);\r\n\r\n            AT.translate(length - arrowheadLength, 0);\r\n            AT.rotate(Math.toRadians(-45));\r\n            AT.shear(shearMultiplier, shearMultiplier);\r\n            // For the arrowhead, it is first sheared, then rotated, translated, rotated again and finally translated.\r\n            g2d.transform(AT);\r\n            g2d.draw(arrowhead);\r\n\r\n            g2d.setTransform(storedTransform);\r\n        }\r\n    }\r\n}\r\n\r\npublic class DrawLine {\r\n    Container createContentPane() {\r\n        JPanel contentPane = new JPanel(new BorderLayout());\r\n        contentPane.setOpaque(true);\r\n        contentPane.add(new CanvasPane(), BorderLayout.CENTER);\r\n        return contentPane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            DrawLine drawLine = new DrawLine();\r\n            frame.setContentPane(drawLine.createContentPane());\r\n\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nCould you please help me identify what might be causing the incorrect position and angle of the arrowhead to be drawn? Thank you.\r\n\r\n  [1]: https://i.stack.imgur.com/lln5f.png\r\n  [2]: https://i.stack.imgur.com/FszFm.png\r\n  [3]: https://i.stack.imgur.com/sHirH.png\r\n  [4]: https://i.stack.imgur.com/9Q9kO.png\r\n  [5]: https://i.stack.imgur.com/Yi85e.png\r\n  [6]: https://i.stack.imgur.com/fOcQO.png\r\n  [7]: https://i.stack.imgur.com/T7Nb6.png\r\n  [8]: https://i.stack.imgur.com/LmTaK.png","title":"Incorrect Position and Angle of Arrowhead with AffineTransform","body":"<p>I have written a test program using AffineTransform to draw an arrowhead. The program takes the center of the window as the starting point of the arrowhead and the mouse position as the ending point. However, the resulting arrowhead position and angle are incorrect. When my mouse is at the location of the green dot, the correct arrowhead position should be as shown by the red arrowhead in the image below. I'm wondering what could be causing the incorrect arrowhead to be drawn.\n<a href=\"https://i.stack.imgur.com/lln5f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lln5f.png\" alt=\"result\" /></a></p>\n<p>The logic I used to draw the entire arrowhead is as follows:</p>\n<ul>\n<li><p>First, I draw a horizontal line with a length of (length - arrowheadLength) starting from the position (0,0).\n<a href=\"https://i.stack.imgur.com/FszFm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FszFm.png\" alt=\"first\" /></a></p>\n</li>\n<li><p>Then, I use (0,0) as the upper-left corner of a rectangle and apply shear and rotation to it before translating it to the right end of the horizontal line.\n<a href=\"https://i.stack.imgur.com/sHirH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHirH.png\" alt=\"second\" /></a>\n(shear)\n<a href=\"https://i.stack.imgur.com/9Q9kO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Q9kO.png\" alt=\"shear\" /></a>\n(rotate)\n<a href=\"https://i.stack.imgur.com/Yi85e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yi85e.png\" alt=\"rotate\" /></a>\n(translate)\n<a href=\"https://i.stack.imgur.com/fOcQO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOcQO.png\" alt=\"translate\" /></a></p>\n</li>\n<li><p>Next, the entire arrowhead is rotated based on the calculated angle between the mouse and the start rectangle positions.\n<a href=\"https://i.stack.imgur.com/T7Nb6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T7Nb6.png\" alt=\"next\" /></a></p>\n</li>\n<li><p>Finally, the arrowhead is translated to the position of the start rectangle.\n<a href=\"https://i.stack.imgur.com/LmTaK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LmTaK.png\" alt=\"finally\" /></a></p>\n</li>\n</ul>\n<p>Below is the code for drawing the arrowhead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.swing.event.MouseInputAdapter;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Line2D;\n\nclass CanvasPane extends JPanel {\n    Rectangle start = new Rectangle();\n    Line2D.Double arrowShaft = new Line2D.Double();\n    Rectangle arrowhead = new Rectangle(new Dimension(16, 16));\n    double shearMultiplier = 0.5;\n    double arrowheadLength = arrowhead.width * Math.sqrt(2) * (1 + shearMultiplier);\n    MouseEvent me;\n    double length, angle;\n\n    CanvasPane() {\n        setPreferredSize(new Dimension(1000, 600));\n\n        addMouseMotionListener(new MouseInputAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e)\n            {\n                me = e;\n                repaint();\n            }\n        });\n    }\n\n    @Override\n    protected void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n\n        start.setBounds(getWidth()/2 - 5, getHeight()/2 - 5, 10, 10);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.fill(start);\n\n        if (me != null) {\n            length = Point.distance(start.getCenterX(), start.getCenterY(), me.getX(), me.getY());\n            angle = Math.atan2(me.getY() - start.getCenterY(), me.getX() - start.getCenterX());\n\n            arrowShaft.setLine(0, 0, length - arrowheadLength, 0);\n            AffineTransform storedTransform = g2d.getTransform();\n            AffineTransform AT = new AffineTransform();\n\n            AT.translate(start.getCenterX(), start.getCenterY());\n            AT.rotate(angle);\n            // For the arrowShaft, it is first rotated and then translated.\n            g2d.transform(AT);\n            g2d.draw(arrowShaft);\n\n            AT.translate(length - arrowheadLength, 0);\n            AT.rotate(Math.toRadians(-45));\n            AT.shear(shearMultiplier, shearMultiplier);\n            // For the arrowhead, it is first sheared, then rotated, translated, rotated again and finally translated.\n            g2d.transform(AT);\n            g2d.draw(arrowhead);\n\n            g2d.setTransform(storedTransform);\n        }\n    }\n}\n\npublic class DrawLine {\n    Container createContentPane() {\n        JPanel contentPane = new JPanel(new BorderLayout());\n        contentPane.setOpaque(true);\n        contentPane.add(new CanvasPane(), BorderLayout.CENTER);\n        return contentPane;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame();\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            DrawLine drawLine = new DrawLine();\n            frame.setContentPane(drawLine.createContentPane());\n\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>Could you please help me identify what might be causing the incorrect position and angle of the arrowhead to be drawn? Thank you.</p>\n"},{"tags":["java","recursion","random","nan"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690465692,"post_id":76780184,"comment_id":135360187,"body_markdown":"Off-topic: You probably have a good reason for rolling your own. But, if if someone comes across this looking for a method to generate random numbers in a normal distribution, it [already exists](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html#nextGaussian())","body":"Off-topic: You probably have a good reason for rolling your own. But, if if someone comes across this looking for a method to generate random numbers in a normal distribution, it <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html#nextGaussian()\" rel=\"nofollow noreferrer\">already exists</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1690468698,"post_id":76780184,"comment_id":135360934,"body_markdown":"Maybe your factorial function is overflowing such that you end up with a 0 in a denominator.","body":"Maybe your factorial function is overflowing such that you end up with a 0 in a denominator."}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":4,"creation_date":1690465046,"post_id":76780250,"comment_id":135360046,"body_markdown":"6) is nonsense. Casting a `String` to a `Double` results in a `ClassCastException`.","body":"6) is nonsense. Casting a <code>String</code> to a <code>Double</code> results in a <code>ClassCastException</code>."},{"owner":{"account_id":21261134,"reputation":1,"user_id":21118313,"display_name":"Rnishu _"},"score":0,"creation_date":1690466279,"post_id":76780250,"comment_id":135360326,"body_markdown":"I have none of these cases anywhere in my code. I do not divide at all, I do not use any special functions and I am not casting anything anywhere.","body":"I have none of these cases anywhere in my code. I do not divide at all, I do not use any special functions and I am not casting anything anywhere."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1690470397,"post_id":76780250,"comment_id":135361372,"body_markdown":"some *inaccuracies*: **2.** `1.0/0.0 = Infinity`, not `NaN`;  **3.** is included in  5. ; **6.** see first comment, no matter what is in a `String`, cast directly from `String`  will result in compile error &quot;incompatible types&quot;; from for example `Object` containing `String` in `ClassCastException` || another example would be `Double.POSITIVE_INFINITY * 0`","body":"some <i>inaccuracies</i>: <b>2.</b> <code>1.0&#47;0.0 = Infinity</code>, not <code>NaN</code>;  <b>3.</b> is included in  5. ; <b>6.</b> see first comment, no matter what is in a <code>String</code>, cast directly from <code>String</code>  will result in compile error &quot;incompatible types&quot;; from for example <code>Object</code> containing <code>String</code> in <code>ClassCastException</code> || another example would be <code>Double.POSITIVE_INFINITY * 0</code>"},{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1690572342,"post_id":76780250,"comment_id":135377618,"body_markdown":"Dividing or modulus (remainder) 0.0 by 0.0 is NaN.  Subtracting infinities of the same sign is NaN, and adding infinities of opposite sign is NaN.  The square root of a negative number is NaN. Raising `1` or `-1` to the power of infinity is NaN.  Raising a negative number to a non-integer power is NaN.  Taking the sine, cosine, or tangent of an infinity is NaN.  Taking the arcsine or arccosine of a value whose absolute value is greater than 1 is NaN.  Taking the logarithm of a negative value is NaN.  But dividing a non-zero number by zero is a positive or negative infinity, **not** NaN.","body":"Dividing or modulus (remainder) 0.0 by 0.0 is NaN.  Subtracting infinities of the same sign is NaN, and adding infinities of opposite sign is NaN.  The square root of a negative number is NaN. Raising <code>1</code> or <code>-1</code> to the power of infinity is NaN.  Raising a negative number to a non-integer power is NaN.  Taking the sine, cosine, or tangent of an infinity is NaN.  Taking the arcsine or arccosine of a value whose absolute value is greater than 1 is NaN.  Taking the logarithm of a negative value is NaN.  But dividing a non-zero number by zero is a positive or negative infinity, <b>not</b> NaN."}],"tags":[],"owner":{"account_id":20909129,"reputation":128,"user_id":15360395,"display_name":"Maximilian Grinik"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1690569308,"creation_date":1690464482,"answer_id":76780250,"question_id":76780184,"body_markdown":"**Possible Cases:**\r\n\r\n1. Division of zero by zero: When you divide zero by zero, the result is NaN.\r\n\r\n2. Division of a non-zero number by zero: Dividing a non-zero number by zero also results in NaN.\r\n\r\n3. Operations involving NaN: Any arithmetic operation involving NaN as an operand will produce NaN as the result.\r\n\r\n4. Mathematical functions with undefined values: Some mathematical functions may have undefined values for certain inputs, resulting in NaN.\r\n\r\n\r\nAlso it&#39;s **important** to note that comparing a value with NaN using the == operator will always return false. Instead, use the e.g. Double.isNaN() method to check if a value is NaN.","title":"What are all the cases that can result in a NaN output?(in Java)","body":"<p><strong>Possible Cases:</strong></p>\n<ol>\n<li><p>Division of zero by zero: When you divide zero by zero, the result is NaN.</p>\n</li>\n<li><p>Division of a non-zero number by zero: Dividing a non-zero number by zero also results in NaN.</p>\n</li>\n<li><p>Operations involving NaN: Any arithmetic operation involving NaN as an operand will produce NaN as the result.</p>\n</li>\n<li><p>Mathematical functions with undefined values: Some mathematical functions may have undefined values for certain inputs, resulting in NaN.</p>\n</li>\n</ol>\n<p>Also it's <strong>important</strong> to note that comparing a value with NaN using the == operator will always return false. Instead, use the e.g. Double.isNaN() method to check if a value is NaN.</p>\n"}],"owner":{"account_id":21261134,"reputation":1,"user_id":21118313,"display_name":"Rnishu _"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690569308,"creation_date":1690464080,"question_id":76780184,"body_markdown":"I am trying to make a random number generator that generates normally distributed numbers, I have a method CDF to calculate the CDF for any given x, then I have a method invNorm that uses Newton&#39;s method over 30 iterations that accepts a desired value and it finds x such that CDF(x)=desired.\r\n\r\n[This is the formula for estimation of CDF that ive implemented](https://i.stack.imgur.com/sK7ul.png)\r\n\r\n[This is the Newton&#39;s method formula I have used(on evaluation the denominator {\\Phi &#39;(x)} simplifies and can brought to the numerator](https://i.stack.imgur.com/huMEi.png)\r\n\r\n```\r\npublic double cdf(double x){\r\n        double out=0;\r\n        for(int k=0;k&lt;30;k++){\r\n            out+=Math.pow(-1,k)*Math.pow(x,(2*k)+1)/(Math.pow(2,k)*factorial(k)*((2*k)+1));\r\n        }\r\n        return 0.5+(out/Math.sqrt(2*Math.PI));\r\n    }\r\n    public double invNorm(double desired){\r\n        double x=0;\r\n        double dx;\r\n        for(int i=0;i&lt;30;i++){\r\n            dx=(cdf(x)-desired)*Math.exp(x*x*0.5)*Math.sqrt(2*Math.PI);\r\n            x-=dx;\r\n        } \r\n        return x;\r\n    }\r\n```\r\n\r\n\r\nBut this code is giving a NaN 10% of the time. When I ran the code to create a array of 100 random numbers and including this line &quot;while(Double.isNaN(arr[i])) arr[i]=Misc.invNorm(Math.random());&quot; that reassigns arr[i] if it got evaluated to NaN, the code ran perfectly and gave 70% value between the first standard deviations, 97 between the second and 100 between the third.The cdf function is definitely not the problem as I checked the cdf function by printing an array of 100 with cdf of random numbers and not a single one of them was NaN, but invNorm does not have any division at all and all powers are integers and there are no trigonometric functions. I considered the possibility of Math.exp returning positive infinity and (cdf(x)-desired) returning 0,but e^450 is not positive infinity and cdf(x) being equal to the desired value is very rare.\r\n\r\nWhile we are on the topic could someone also help me with the implementation of the recursive function for CDF? I tried implementing it like this, where cdf_n is the nth approximation, i consider x0=0, so CDF(x0)=0.5, but this gave NaN almost 60% of the time.\r\n\r\n```\r\npublic double cdf_n(double x,int n){\r\n        if(n==0){\r\n            return 0.5;\r\n        }\r\n        else if(n==1){\r\n            return 1/Math.sqrt(2*Math.PI);\r\n        }\r\n        else{\r\n            return (2-n)*cdf_n(x, n-2);\r\n        }\r\n    }\r\n    public double cdf(double x){\r\n        int n=0;\r\n        double out;\r\n        double cdf=0;\r\n        do{\r\n            out=cdf_n(x,n)*Math.pow(x,n)/factorial(n);\r\n            cdf+=out;\r\n            n++;\r\n        } while(Math.abs(out)&gt;Math.pow(10.0,-15.0));\r\n        return cdf;\r\n    }  \r\n```\r\n[This is the recursive formula](https://i.stack.imgur.com/0BmDn.png)\r\n","title":"What are all the cases that can result in a NaN output?(in Java)","body":"<p>I am trying to make a random number generator that generates normally distributed numbers, I have a method CDF to calculate the CDF for any given x, then I have a method invNorm that uses Newton's method over 30 iterations that accepts a desired value and it finds x such that CDF(x)=desired.</p>\n<p><a href=\"https://i.stack.imgur.com/sK7ul.png\" rel=\"nofollow noreferrer\">This is the formula for estimation of CDF that ive implemented</a></p>\n<p><a href=\"https://i.stack.imgur.com/huMEi.png\" rel=\"nofollow noreferrer\">This is the Newton's method formula I have used(on evaluation the denominator {\\Phi '(x)} simplifies and can brought to the numerator</a></p>\n<pre><code>public double cdf(double x){\n        double out=0;\n        for(int k=0;k&lt;30;k++){\n            out+=Math.pow(-1,k)*Math.pow(x,(2*k)+1)/(Math.pow(2,k)*factorial(k)*((2*k)+1));\n        }\n        return 0.5+(out/Math.sqrt(2*Math.PI));\n    }\n    public double invNorm(double desired){\n        double x=0;\n        double dx;\n        for(int i=0;i&lt;30;i++){\n            dx=(cdf(x)-desired)*Math.exp(x*x*0.5)*Math.sqrt(2*Math.PI);\n            x-=dx;\n        } \n        return x;\n    }\n</code></pre>\n<p>But this code is giving a NaN 10% of the time. When I ran the code to create a array of 100 random numbers and including this line &quot;while(Double.isNaN(arr[i])) arr[i]=Misc.invNorm(Math.random());&quot; that reassigns arr[i] if it got evaluated to NaN, the code ran perfectly and gave 70% value between the first standard deviations, 97 between the second and 100 between the third.The cdf function is definitely not the problem as I checked the cdf function by printing an array of 100 with cdf of random numbers and not a single one of them was NaN, but invNorm does not have any division at all and all powers are integers and there are no trigonometric functions. I considered the possibility of Math.exp returning positive infinity and (cdf(x)-desired) returning 0,but e^450 is not positive infinity and cdf(x) being equal to the desired value is very rare.</p>\n<p>While we are on the topic could someone also help me with the implementation of the recursive function for CDF? I tried implementing it like this, where cdf_n is the nth approximation, i consider x0=0, so CDF(x0)=0.5, but this gave NaN almost 60% of the time.</p>\n<pre><code>public double cdf_n(double x,int n){\n        if(n==0){\n            return 0.5;\n        }\n        else if(n==1){\n            return 1/Math.sqrt(2*Math.PI);\n        }\n        else{\n            return (2-n)*cdf_n(x, n-2);\n        }\n    }\n    public double cdf(double x){\n        int n=0;\n        double out;\n        double cdf=0;\n        do{\n            out=cdf_n(x,n)*Math.pow(x,n)/factorial(n);\n            cdf+=out;\n            n++;\n        } while(Math.abs(out)&gt;Math.pow(10.0,-15.0));\n        return cdf;\n    }  \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0BmDn.png\" rel=\"nofollow noreferrer\">This is the recursive formula</a></p>\n"},{"tags":["java","maven","amazon-s3","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472532405,"creation_date":1472532405,"answer_id":39218925,"question_id":39215174,"body_markdown":"You need to find out the logger name and then set the logger to error \r\n\r\n**Find the logger instance** \r\n\r\nIn the file `&lt;MAVEN_HOME&gt;/conf/logging/simplelogger.properties`.\r\nChange `org.slf4j.simpleLogger.showLogName=true`\r\nFind the logger which logs `Logged in` and `Logged off`\r\n\r\n**disable info logs for the logger instance**\r\n\r\nIf logger instance is `org.apache.maven.x.y.z`\r\nthen set `org.slf4j.simpleLogger.log.org.apache.maven.x.y.z = error`\r\n\r\nthis should not log info logs for that logger instance\r\n","title":"Too verbose logs when downloading artifacts in Maven","body":"<p>You need to find out the logger name and then set the logger to error </p>\n\n<p><strong>Find the logger instance</strong> </p>\n\n<p>In the file <code>&lt;MAVEN_HOME&gt;/conf/logging/simplelogger.properties</code>.\nChange <code>org.slf4j.simpleLogger.showLogName=true</code>\nFind the logger which logs <code>Logged in</code> and <code>Logged off</code></p>\n\n<p><strong>disable info logs for the logger instance</strong></p>\n\n<p>If logger instance is <code>org.apache.maven.x.y.z</code>\nthen set <code>org.slf4j.simpleLogger.log.org.apache.maven.x.y.z = error</code></p>\n\n<p>this should not log info logs for that logger instance</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653400088,"creation_date":1653400088,"answer_id":72364102,"question_id":39215174,"body_markdown":"You need two things:\r\n\r\n1. use either the `--no-transfer-progress` or `--batch-mode` parameter to suppress transfer progress output.\r\n2. pipe the output through `grep` to strip away all the downloading/downloaded messages without stripping away the uploading/uploaded messages.\r\n\r\nIn other words, you need to do this:\r\n\r\n    mvn --batch-mode ... bla bla bla ... | grep -v &#39;Download.* http&#39;\r\n","title":"Too verbose logs when downloading artifacts in Maven","body":"<p>You need two things:</p>\n<ol>\n<li>use either the <code>--no-transfer-progress</code> or <code>--batch-mode</code> parameter to suppress transfer progress output.</li>\n<li>pipe the output through <code>grep</code> to strip away all the downloading/downloaded messages without stripping away the uploading/uploaded messages.</li>\n</ol>\n<p>In other words, you need to do this:</p>\n<pre><code>mvn --batch-mode ... bla bla bla ... | grep -v 'Download.* http'\n</code></pre>\n"}],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690568777,"creation_date":1472504577,"question_id":39215174,"body_markdown":"My console output when running Maven build is polluted with\r\n\r\n    [INFO] Logged in - repository.hid.com\r\n    [INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-api/1.7.6/slf4j-api-1.7.6.pom\r\n    [INFO] Logged off - repository.hid.com\r\n    [INFO] Transfers: 1 Time: 43ms Amount: 0 bytes Throughput: 0.000 bytes/s\r\n    [INFO] Logged in - repository.hid.com\r\n    [INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-parent/1.7.6/slf4j-parent-1.7.6.pom\r\n    [INFO] Logged off - repository.hid.com\r\n    [INFO] Transfers: 1 Time: 41ms Amount: 0 bytes Throughput: 0.000 bytes/s\r\n    [INFO] Logged in - repository.hid.com\r\n    [INFO] Downloading: s3://repository.hid.com/release/com/jcraft/jsch/0.1.42/jsch-0.1.42.pom\r\n    [INFO] Logged off - repository.hid.com\r\n\r\nIn `settings.xml` this repository is configured like\r\n\r\n    &lt;server&gt;\r\n      &lt;id&gt;repository.hid.com&lt;/id&gt;\r\n      &lt;username&gt;usr&lt;/username&gt;\r\n      &lt;password&gt;pwd&lt;/password&gt;\r\n    &lt;/server&gt;\r\n\r\nand then in `pom.xml`:\r\n\r\n     &lt;repository&gt;\r\n        &lt;id&gt;repository.hid.com&lt;/id&gt;\r\n        &lt;url&gt;s3://repository.hid.com/release&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\nIs it possible to get rid of `Logged in` and `Logged off` messages or at least make just one connection per all artifacts?","title":"Too verbose logs when downloading artifacts in Maven","body":"<p>My console output when running Maven build is polluted with</p>\n\n<pre><code>[INFO] Logged in - repository.hid.com\n[INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-api/1.7.6/slf4j-api-1.7.6.pom\n[INFO] Logged off - repository.hid.com\n[INFO] Transfers: 1 Time: 43ms Amount: 0 bytes Throughput: 0.000 bytes/s\n[INFO] Logged in - repository.hid.com\n[INFO] Downloading: s3://repository.hid.com/release/org/slf4j/slf4j-parent/1.7.6/slf4j-parent-1.7.6.pom\n[INFO] Logged off - repository.hid.com\n[INFO] Transfers: 1 Time: 41ms Amount: 0 bytes Throughput: 0.000 bytes/s\n[INFO] Logged in - repository.hid.com\n[INFO] Downloading: s3://repository.hid.com/release/com/jcraft/jsch/0.1.42/jsch-0.1.42.pom\n[INFO] Logged off - repository.hid.com\n</code></pre>\n\n<p>In <code>settings.xml</code> this repository is configured like</p>\n\n<pre><code>&lt;server&gt;\n  &lt;id&gt;repository.hid.com&lt;/id&gt;\n  &lt;username&gt;usr&lt;/username&gt;\n  &lt;password&gt;pwd&lt;/password&gt;\n&lt;/server&gt;\n</code></pre>\n\n<p>and then in <code>pom.xml</code>:</p>\n\n<pre><code> &lt;repository&gt;\n    &lt;id&gt;repository.hid.com&lt;/id&gt;\n    &lt;url&gt;s3://repository.hid.com/release&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>Is it possible to get rid of <code>Logged in</code> and <code>Logged off</code> messages or at least make just one connection per all artifacts?</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":4257006,"reputation":694,"user_id":3482424,"accept_rate":80,"display_name":"Morten"},"score":0,"creation_date":1690566734,"post_id":76789992,"comment_id":135376774,"body_markdown":"I suggest you take a look at this post: https://stackoverflow.com/questions/28453541/java-make-sure-library-is-in-path-environment-variable Cheers. :-)","body":"I suggest you take a look at this post: <a href=\"https://stackoverflow.com/questions/28453541/java-make-sure-library-is-in-path-environment-variable\" title=\"java make sure library is in path environment variable\">stackoverflow.com/questions/28453541/&hellip;</a> Cheers. :-)"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690568744,"creation_date":1690568302,"answer_id":76790203,"question_id":76789992,"body_markdown":"On Windows the value of environment variable `Path` is used for System property `java.library.path`, so the following would include the folder &quot;whatever&quot; in library path:\r\n\r\n    set PATH=whatever;%PATH%\r\n\r\nOn Linux you can set environment variable `LD_LIBRARY_PATH`, this adds folder &quot;whatever&quot; to library path:\r\n\r\n    export LD_LIBRARY_PATH=whatever:$LD_LIBRARY_PATH\r\n\r\nNote that you need to be careful about relying on environment variables, and these variables aren&#39;t used if the `-Djava.library.path=` setting is used. \r\n\r\nAlternatively you could use `jpackage` to build executable version of your app and set `java.library.path` as part of the settings for the launch.","title":"Can I put the library path directly in the code?","body":"<p>On Windows the value of environment variable <code>Path</code> is used for System property <code>java.library.path</code>, so the following would include the folder &quot;whatever&quot; in library path:</p>\n<pre><code>set PATH=whatever;%PATH%\n</code></pre>\n<p>On Linux you can set environment variable <code>LD_LIBRARY_PATH</code>, this adds folder &quot;whatever&quot; to library path:</p>\n<pre><code>export LD_LIBRARY_PATH=whatever:$LD_LIBRARY_PATH\n</code></pre>\n<p>Note that you need to be careful about relying on environment variables, and these variables aren't used if the <code>-Djava.library.path=</code> setting is used.</p>\n<p>Alternatively you could use <code>jpackage</code> to build executable version of your app and set <code>java.library.path</code> as part of the settings for the launch.</p>\n"}],"owner":{"account_id":28903887,"reputation":1,"user_id":22138243,"display_name":"Pietro Cavicchioli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690568744,"creation_date":1690566208,"question_id":76789992,"body_markdown":"I&#39;m testing with JNI.\r\n\r\nSo currently I jave my .class file and my .so file in the same folder, the program actually runs fine, but when I want to run it I have to write:\r\n \r\n```\r\njava -Djava.library.path=. filename.class\r\n```\r\n\r\nSo that the .class can &quot;see&quot; the .so file.\r\n\r\nIs there a way to avoid writing `-Djava.library.path=.`?\r\n\r\n\r\n\r\nI&#39;ve researched online about this topic, but I can&#39;t seem to find anything useful","title":"Can I put the library path directly in the code?","body":"<p>I'm testing with JNI.</p>\n<p>So currently I jave my .class file and my .so file in the same folder, the program actually runs fine, but when I want to run it I have to write:</p>\n<pre><code>java -Djava.library.path=. filename.class\n</code></pre>\n<p>So that the .class can &quot;see&quot; the .so file.</p>\n<p>Is there a way to avoid writing <code>-Djava.library.path=.</code>?</p>\n<p>I've researched online about this topic, but I can't seem to find anything useful</p>\n"},{"tags":["java","eclipse","refactoring","sublimetext3","atom-editor"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1538067361,"post_id":52541244,"comment_id":92023473,"body_markdown":"Did you read [this one](https://stackoverflow.com/a/9460968/2834978)?","body":"Did you read <a href=\"https://stackoverflow.com/a/9460968/2834978\">this one</a>?"},{"owner":{"account_id":5425548,"reputation":6027,"user_id":4317945,"accept_rate":70,"display_name":"Gabe"},"score":3,"creation_date":1538068471,"post_id":52541244,"comment_id":92023981,"body_markdown":"Thanks for that @LuisMu&#241;oz. It does not work in the same way as Sublime/Atom/IntelliJ but better than nothing. (ALT+Shift+A - Multi line editing **only if aligned on the same column**).","body":"Thanks for that @LuisMu&#241;oz. It does not work in the same way as Sublime/Atom/IntelliJ but better than nothing. (ALT+Shift+A - Multi line editing <b>only if aligned on the same column</b>)."},{"owner":{"account_id":7082940,"reputation":460,"user_id":5420675,"display_name":"DarkFranX"},"score":2,"creation_date":1559148313,"post_id":52541244,"comment_id":99333522,"body_markdown":"I&#39;d still like to know if there&#39;s a plugin that would allow us to user the classical multi cursors","body":"I&#39;d still like to know if there&#39;s a plugin that would allow us to user the classical multi cursors"}],"answers":[{"comments":[{"owner":{"account_id":9845313,"reputation":105,"user_id":7293057,"display_name":"Manohar Bhat"},"score":0,"creation_date":1690565865,"post_id":70316624,"comment_id":135376594,"body_markdown":"Note: One thing that is not supported and makes multi caret almost useless. After adding multi caret up or down at the beginning of two or more lines, if you press ctrl+shift+right it should select next word&#39;s under all caret&#39;s. But it selects only one word and multi carets disappear. Same thing is also mentioned for dbeaver which is also based on eclipse framework. https://github.com/dbeaver/dbeaver/issues/6064#issuecomment-1024359946","body":"Note: One thing that is not supported and makes multi caret almost useless. After adding multi caret up or down at the beginning of two or more lines, if you press ctrl+shift+right it should select next word&#39;s under all caret&#39;s. But it selects only one word and multi carets disappear. Same thing is also mentioned for dbeaver which is also based on eclipse framework. <a href=\"https://github.com/dbeaver/dbeaver/issues/6064#issuecomment-1024359946\" rel=\"nofollow noreferrer\">github.com/dbeaver/dbeaver/issues/6064#issuecomment-10243599&zwnj;&#8203;46</a>"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1690568428,"post_id":70316624,"comment_id":135377043,"body_markdown":"@ManoharBhat Good point, thank you for this feedback. I have included your comment in the answer for more visibility.","body":"@ManoharBhat Good point, thank you for this feedback. I have included your comment in the answer for more visibility."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690568401,"creation_date":1639237869,"answer_id":70316624,"question_id":52541244,"body_markdown":"Eclipse 4.22 (Q4 2021) now comes with:\r\n\r\n&gt; ## [Multiple text selection][1]\r\n&gt;\r\n&gt; Support for multiple selection has been added to Text Editors. \r\n&gt;\r\n&gt; Multi selections allow most edit operations (text replacement or insertion, extend selection to next word or to next line, copy/paste...) to apply simultaneously on all ranges.\r\n&gt;\r\n&gt; [![multi edit -- https://www.eclipse.org/eclipse/news/4.22/images/multi-carets.png][2]][2]\r\n&gt;\r\n&gt;Multiple strategies are available to enable multi-selections:\r\n&gt;\r\n&gt; - Turn a block selection into a multi-selection using the To multi-selection command,\r\n&gt; - Add a caret with &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Click&lt;/kbd&gt;,\r\n&gt; - Use the new `Select All` button on the `Find/Replace` dialog.\r\n\r\n----\r\n\r\nEclipse 4.24 (Q2 2022) comes with:\r\n\r\n&gt; ## [Action commands for multiple carets/selections][3]\r\n&gt;\r\n&gt; [![https://www.eclipse.org/eclipse/news/4.24/images/multi-selection-demo.gif][4]][4]\r\n&gt;\r\n&gt; That includes:\r\n&gt;\r\n&gt;  - Multi selection down relative to anchor selection (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;J&lt;/kbd&gt;)\r\n&gt; - Multi selection up relative to anchor selection (e.g. &lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;J&lt;/kbd&gt;)\r\n&gt; - End multi-selection (e.g. &lt;kbd&gt;ESC&lt;/kbd&gt;)\r\n&gt; - Add all matches to multi-selection (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;J&lt;/kbd&gt;)\r\n&gt; - Multi caret up (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;Up&lt;/kbd&gt;)\r\n&gt; - Multi caret down (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Shift-&lt;kbd&gt;Down&lt;/kbd&gt;)\r\n\r\n----\r\n\r\nJuly 2023: [Manohar Bhat](https://stackoverflow.com/users/7293057/manohar-bhat) adds in [the comments](https://stackoverflow.com/questions/52541244/eclipse-multiple-line-editing-on-any-substring-like-in-sublime-text-and-atom/70316624#comment135376594_70316624):\r\n\r\n&gt;  One thing that is not supported and makes multi caret almost useless: After adding multi caret up or down at the beginning of two or more lines, if you press &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;right&lt;/kbd&gt;&lt;kbd&gt;&lt;/kbd&gt;, it should select next word&#39;s under all caret&#39;s.  \r\nBut it selects only one word and multi carets disappear. \r\n&gt;\r\n&gt; Same thing is also mentioned for DBeaver which is also based on eclipse framework, in [`dbeaver/dbeaver` issue 6064](https://github.com/dbeaver/dbeaver/issues/6064#issuecomment-1024359946): &quot;Add support for Multiple selections (multi-cursor)&quot;.\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.22/platform.php#multi-selection\r\n  [2]: https://i.stack.imgur.com/GPsCe.png\r\n  [3]: https://www.eclipse.org/eclipse/news/4.24/platform.php#multi-select-commands\r\n  [4]: https://i.stack.imgur.com/gsmI7.gif","title":"Eclipse - multiple line editing on any substring like in Sublime Text and Atom","body":"<p>Eclipse 4.22 (Q4 2021) now comes with:</p>\n<blockquote>\n<h2><a href=\"https://www.eclipse.org/eclipse/news/4.22/platform.php#multi-selection\" rel=\"nofollow noreferrer\">Multiple text selection</a></h2>\n<p>Support for multiple selection has been added to Text Editors.</p>\n<p>Multi selections allow most edit operations (text replacement or insertion, extend selection to next word or to next line, copy/paste...) to apply simultaneously on all ranges.</p>\n<p><a href=\"https://i.stack.imgur.com/GPsCe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GPsCe.png\" alt=\"multi edit -- https://www.eclipse.org/eclipse/news/4.22/images/multi-carets.png\" /></a></p>\n<p>Multiple strategies are available to enable multi-selections:</p>\n<ul>\n<li>Turn a block selection into a multi-selection using the To multi-selection command,</li>\n<li>Add a caret with <kbd>Alt</kbd>+<kbd>Click</kbd>,</li>\n<li>Use the new <code>Select All</code> button on the <code>Find/Replace</code> dialog.</li>\n</ul>\n</blockquote>\n<hr />\n<p>Eclipse 4.24 (Q2 2022) comes with:</p>\n<blockquote>\n<h2><a href=\"https://www.eclipse.org/eclipse/news/4.24/platform.php#multi-select-commands\" rel=\"nofollow noreferrer\">Action commands for multiple carets/selections</a></h2>\n<p><a href=\"https://i.stack.imgur.com/gsmI7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsmI7.gif\" alt=\"https://www.eclipse.org/eclipse/news/4.24/images/multi-selection-demo.gif\" /></a></p>\n<p>That includes:</p>\n<ul>\n<li>Multi selection down relative to anchor selection (e.g. <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>J</kbd>)</li>\n<li>Multi selection up relative to anchor selection (e.g. <kbd>Alt</kbd>-<kbd>J</kbd>)</li>\n<li>End multi-selection (e.g. <kbd>ESC</kbd>)</li>\n<li>Add all matches to multi-selection (e.g. <kbd>Ctrl</kbd>-<kbd>Shift</kbd>-<kbd>Alt</kbd>-<kbd>J</kbd>)</li>\n<li>Multi caret up (e.g. <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>Shift</kbd>-<kbd>Up</kbd>)</li>\n<li>Multi caret down (e.g. <kbd>Ctrl</kbd>-<kbd>Alt</kbd>-<kbd>Shift-<kbd>Down</kbd>)</li>\n</ul>\n</blockquote>\n<hr />\n<p>July 2023: <a href=\"https://stackoverflow.com/users/7293057/manohar-bhat\">Manohar Bhat</a> adds in <a href=\"https://stackoverflow.com/questions/52541244/eclipse-multiple-line-editing-on-any-substring-like-in-sublime-text-and-atom/70316624#comment135376594_70316624\">the comments</a>:</p>\n<blockquote>\n<p>One thing that is not supported and makes multi caret almost useless: After adding multi caret up or down at the beginning of two or more lines, if you press <kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>right</kbd></kbd>, it should select next word's under all caret's.<br />\nBut it selects only one word and multi carets disappear.</p>\n<p>Same thing is also mentioned for DBeaver which is also based on eclipse framework, in <a href=\"https://github.com/dbeaver/dbeaver/issues/6064#issuecomment-1024359946\" rel=\"nofollow noreferrer\"><code>dbeaver/dbeaver</code> issue 6064</a>: &quot;Add support for Multiple selections (multi-cursor)&quot;.</p>\n</blockquote>\n"}],"owner":{"account_id":5425548,"reputation":6027,"user_id":4317945,"accept_rate":70,"display_name":"Gabe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2757,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690568401,"creation_date":1538065061,"question_id":52541244,"body_markdown":"Is there nowadays any way to achieve in Eclipse multi-line editing **on any substring** like in Sublime and Atom? &lt;sub&gt;(CTRL+D for these)\r\n\r\nA reference to a Plugin would be ok too.\r\n( I found this plugin but it seems abandoned:\r\nhttps://github.com/caspark/eclipse-multicursor )\r\n\r\n&lt;sub&gt;I also found [this similar question](https://stackoverflow.com/questions/12583201/eclipse-multiple-text-selection-like-sublime-text-2) here on stackoverflow but it&#39;s 6 years old. Wondering whether something came out in the mean time.&lt;/sub&gt;\r\n\r\nThanks","title":"Eclipse - multiple line editing on any substring like in Sublime Text and Atom","body":"<p>Is there nowadays any way to achieve in Eclipse multi-line editing <strong>on any substring</strong> like in Sublime and Atom? <sub>(CTRL+D for these)</p>\n\n<p>A reference to a Plugin would be ok too.\n( I found this plugin but it seems abandoned:\n<a href=\"https://github.com/caspark/eclipse-multicursor\" rel=\"noreferrer\">https://github.com/caspark/eclipse-multicursor</a> )</p>\n\n<p>I also found <a href=\"https://stackoverflow.com/questions/12583201/eclipse-multiple-text-selection-like-sublime-text-2\">this similar question</a> here on stackoverflow but it's 6 years old. Wondering whether something came out in the mean time.</sub></p>\n\n<p>Thanks</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1690468223,"post_id":76780187,"comment_id":135360821,"body_markdown":"What does `java.time.Instant.now().toString()` give you?","body":"What does <code>java.time.Instant.now().toString()</code> give you?"},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1690468772,"post_id":76780187,"comment_id":135360951,"body_markdown":"@k314159 this: 2023-07-27T14:39:12.220Z","body":"@k314159 this: 2023-07-27T14:39:12.220Z"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1690469767,"post_id":76780187,"comment_id":135361228,"body_markdown":"So it looks like your server is not returning microsecond-resolution times to the Java system clock. On Linux, the same string contains 9 decimal places instead of 3. So it&#39;s not log4j&#39;s fault, but it just can&#39;t get any higher precision from your server.","body":"So it looks like your server is not returning microsecond-resolution times to the Java system clock. On Linux, the same string contains 9 decimal places instead of 3. So it&#39;s not log4j&#39;s fault, but it just can&#39;t get any higher precision from your server."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1690526463,"post_id":76780187,"comment_id":135368830,"body_markdown":"How do you deploy your application? Do you deploy the original `log4j-core` jar file or do you put everything in an uber-jar?","body":"How do you deploy your application? Do you deploy the original <code>log4j-core</code> jar file or do you put everything in an uber-jar?"},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1690530446,"post_id":76780187,"comment_id":135369533,"body_markdown":"@PiotrP.Karwasz deploying the original jar files (not an uber jar)","body":"@PiotrP.Karwasz deploying the original jar files (not an uber jar)"}],"answers":[{"comments":[{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1690467853,"post_id":76780443,"comment_id":135360722,"body_markdown":"It is not working because the last 3 digits are always 0. I added this to my question","body":"It is not working because the last 3 digits are always 0. I added this to my question"},{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":1,"creation_date":1690469403,"post_id":76780443,"comment_id":135361130,"body_markdown":"I do not think you will get microsecond precision on Windows OS.  You should get accurate precision with your configuration on Linux based systems.","body":"I do not think you will get microsecond precision on Windows OS.  You should get accurate precision with your configuration on Linux based systems."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1690473861,"post_id":76780443,"comment_id":135362144,"body_markdown":"Strangely enough, on Windows, Java uses the Windows API call GetSystemTimeAsFileTime and this is documented as returning the number of 100-nanosecond ticks since the epoch. Thus, you&#39;d think it&#39;s got a resolution of 1/10th of a microsecond, but it looks as if it only gives you milliseconds. I don&#39;t know if it&#39;s Java doing the rounding, or if GetSystemTimeAsFileTime returns a value that always has 0000 at the end.","body":"Strangely enough, on Windows, Java uses the Windows API call GetSystemTimeAsFileTime and this is documented as returning the number of 100-nanosecond ticks since the epoch. Thus, you&#39;d think it&#39;s got a resolution of 1/10th of a microsecond, but it looks as if it only gives you milliseconds. I don&#39;t know if it&#39;s Java doing the rounding, or if GetSystemTimeAsFileTime returns a value that always has 0000 at the end."}],"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690465935,"creation_date":1690465935,"answer_id":76780443,"question_id":76780187,"body_markdown":"I am confused by your question it actually looks like you are getting microsecond precision 848000 (6 digits)?\r\n\r\n - One to three decimal digits (milliseconds).\r\n - Four to six decimal digits (microseconds).\r\n - Seven to nine decimal digits (nanoseconds).\r\n\r\nLog4j appears to be working correctly for you.  If you want more precision you could change to DEFAULT_NANO.\r\n\r\n    Pattern Layout\r\n    PatternLayout has additional options for the %d date format specifier:\r\n\r\n    %d{DEFAULT_MICROS} - e.g. 2012-11-02 14:34:02,123456\r\n    %d{DEFAULT_NANOS} - e.g. 2012-11-02 14:34:02,123456789\r\n    %d{ABSOLUTE_MICROS} - e.g. 14:34:02,123456\r\n    %d{ABSOLUTE_NANOS} - e.g. 14:34:02,123456789\r\n    %d{HH:mm:ss,nnnn} to %d{HH:mm:ss,nnnnnnnnn} - e.g. 14:34:02,1234 to \r\n    14:34:02,123456789\r\n    %d{dd MMM yyyy HH:mm:ss,nnnn} to %d{dd MMM yyyy HH:mm:ss,nnnnnnnnn} - \r\n    e.g. 02 Nov 2012 14:34:02,1234 to 02 Nov 2012 14:34:02,123456789","title":"log4j microsecond precision","body":"<p>I am confused by your question it actually looks like you are getting microsecond precision 848000 (6 digits)?</p>\n<ul>\n<li>One to three decimal digits (milliseconds).</li>\n<li>Four to six decimal digits (microseconds).</li>\n<li>Seven to nine decimal digits (nanoseconds).</li>\n</ul>\n<p>Log4j appears to be working correctly for you.  If you want more precision you could change to DEFAULT_NANO.</p>\n<pre><code>Pattern Layout\nPatternLayout has additional options for the %d date format specifier:\n\n%d{DEFAULT_MICROS} - e.g. 2012-11-02 14:34:02,123456\n%d{DEFAULT_NANOS} - e.g. 2012-11-02 14:34:02,123456789\n%d{ABSOLUTE_MICROS} - e.g. 14:34:02,123456\n%d{ABSOLUTE_NANOS} - e.g. 14:34:02,123456789\n%d{HH:mm:ss,nnnn} to %d{HH:mm:ss,nnnnnnnnn} - e.g. 14:34:02,1234 to \n14:34:02,123456789\n%d{dd MMM yyyy HH:mm:ss,nnnn} to %d{dd MMM yyyy HH:mm:ss,nnnnnnnnn} - \ne.g. 02 Nov 2012 14:34:02,1234 to 02 Nov 2012 14:34:02,123456789\n</code></pre>\n"},{"comments":[{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1690816081,"post_id":76789461,"comment_id":135402078,"body_markdown":"I&#39;m testing my code in Eclipse (maven project), how can I test the multi-release aspect ?","body":"I&#39;m testing my code in Eclipse (maven project), how can I test the multi-release aspect ?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1690821472,"post_id":76789461,"comment_id":135403187,"body_markdown":"Eclipse should not have problems with MR. You should try logging the result of `Clock.instant()` and compare with the timestamp of the log event.","body":"Eclipse should not have problems with MR. You should try logging the result of <code>Clock.instant()</code> and compare with the timestamp of the log event."},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":1,"creation_date":1690900317,"post_id":76789461,"comment_id":135415748,"body_markdown":"Clock.instant() returns millisecond precision. It seems to be a limitation of my system.","body":"Clock.instant() returns millisecond precision. It seems to be a limitation of my system."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690568238,"creation_date":1690560675,"answer_id":76789461,"question_id":76780187,"body_markdown":"The `log4j-core` artifact is a [Multi-release JAR file](https://docs.oracle.com/en/java/javase/20/docs/specs/jar/jar.html) and the only class provided in both a JDK 8 and JDK 9+ version is a [`PreciseClock`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/time/PreciseClock.html) implementation. The JDK 8 version is based on [`System.currentTimeMillis()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#currentTimeMillis()) and has a millisecond precision. The improved JDK 9+ version is based on [`Clock.instant()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#instant()) and has a much better precision.\r\n\r\nYou should check if your system supports multi-release jars. The most common way to lose MR support is to shade all jars into one, but the problem can also come from the application server: older application servers (pre-2017) lack multi-release support in their classloaders.","title":"log4j microsecond precision","body":"<p>The <code>log4j-core</code> artifact is a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/jar/jar.html\" rel=\"nofollow noreferrer\">Multi-release JAR file</a> and the only class provided in both a JDK 8 and JDK 9+ version is a <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/time/PreciseClock.html\" rel=\"nofollow noreferrer\"><code>PreciseClock</code></a> implementation. The JDK 8 version is based on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#currentTimeMillis()\" rel=\"nofollow noreferrer\"><code>System.currentTimeMillis()</code></a> and has a millisecond precision. The improved JDK 9+ version is based on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#instant()\" rel=\"nofollow noreferrer\"><code>Clock.instant()</code></a> and has a much better precision.</p>\n<p>You should check if your system supports multi-release jars. The most common way to lose MR support is to shade all jars into one, but the problem can also come from the application server: older application servers (pre-2017) lack multi-release support in their classloaders.</p>\n"}],"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76789461,"answer_count":2,"score":1,"last_activity_date":1690568238,"creation_date":1690464102,"question_id":76780187,"body_markdown":"I am using log4j to send messages to ElasticSearch, with a Socket appender and a PatternLayout like this:  \r\n\r\n    &lt;PatternLayout pattern=&quot;{&amp;quot;time&amp;quot;: &amp;quot;%d{DEFAULT_MICROS}&amp;quot;, &amp;quot;message&amp;quot;: &amp;quot;%msg&amp;quot;}%n&quot;/&gt;  \r\n\r\nusing `%d{DEFAULT_MICROS}` to get microsecond precise dates as per the [documentation][1].\r\n\r\nBut this gives me only millisecond precision like so: `2023-07-27 15:13:11,848000` (the last 3 digits are always 0)\r\n\r\nThis similar [question][2] suggests that starting Java 9 and log4j 2.11.0, we can get microsecond precision, but I am using Java 11 and the latest log4j (2.20.0), running on Windows Server 2019 and getting only millisecond precision.  What am I missing ?  \r\nIt seems log4j is still using SimpleDateFormat? Can we get it to use the more modern time framework?\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html\r\n  [2]: https://stackoverflow.com/questions/8376488/log4j-conversionpattern-timestamp-with-microseconds","title":"log4j microsecond precision","body":"<p>I am using log4j to send messages to ElasticSearch, with a Socket appender and a PatternLayout like this:</p>\n<pre><code>&lt;PatternLayout pattern=&quot;{&amp;quot;time&amp;quot;: &amp;quot;%d{DEFAULT_MICROS}&amp;quot;, &amp;quot;message&amp;quot;: &amp;quot;%msg&amp;quot;}%n&quot;/&gt;  \n</code></pre>\n<p>using <code>%d{DEFAULT_MICROS}</code> to get microsecond precise dates as per the <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>But this gives me only millisecond precision like so: <code>2023-07-27 15:13:11,848000</code> (the last 3 digits are always 0)</p>\n<p>This similar <a href=\"https://stackoverflow.com/questions/8376488/log4j-conversionpattern-timestamp-with-microseconds\">question</a> suggests that starting Java 9 and log4j 2.11.0, we can get microsecond precision, but I am using Java 11 and the latest log4j (2.20.0), running on Windows Server 2019 and getting only millisecond precision.  What am I missing ?<br />\nIt seems log4j is still using SimpleDateFormat? Can we get it to use the more modern time framework?</p>\n"},{"tags":["java","charts","swtchart"],"owner":{"account_id":19526279,"reputation":43,"user_id":14287068,"display_name":"Yanosik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690568107,"creation_date":1689757749,"question_id":76719645,"body_markdown":"I have a problem in which I&#39;m trying to display a few types of data in a single chart and it&#39;s not going well.  \r\nFirst of all, I have one series of data that is supposed to be displayed as a line chart, and then I have to add some bar charts. The number of bars depends on other conditions but it will be a number between 3 and 5. Each bar series is supposed to be created as a new IBarSeries because I have to check if each of them is bigger than the line chart value and change its color if true.    \r\nThe main function that creates char data looks like that \r\n\r\n ```\r\nprivate void setChartData( final List&lt;double[]&gt; ListOfAllSeries )\r\n    {   \r\n        NumberFormat integerFormat = NumberFormat.getIntegerInstance();\r\n        \r\n        ILineSeries lineSeries = (ILineSeries) chart.getSeriesSet().createSeries( SeriesType.LINE, &quot;LineSeries&quot; );\r\n        lineSeries.setYSeries( ListOfAllSeries.get( 1 ) );\r\n        lineSeries.setVisibleInLegend(false);\r\n\r\n        for(int i = 0; i &lt; ListOfAllSeries.get(0).length; i++)\r\n        {\r\n        \tcreateBarSeries(&quot;BarSeries &quot; + i,new double[] { series1.get(0)[i]}, new double[] {i},ListOfAllSeries.get(1)[i]);\r\n        }        \r\n\r\n        xAxis.getTick().setFormat( integerFormat );\r\n        chart.getAxisSet().adjustRange();\r\n        chart.getAxisSet().getXAxis(0).setRange(new Range(-0.5, ListOfAllSeries.get(0).length - 0.5));\r\n        chart.redraw();\r\n    }\r\n```\r\n\r\nIndex 0 of ListOfAllSeries always contains all bars data and in index 1 is line series data.  \r\n\r\nAnd here is createBarSeries function that creates bar series\r\n```\r\n\r\n    private void createBarSeries(String seriesName, double[] yValues, double[] xValues, double lineValue)\r\n    {\r\n    \tIBarSeries barSeries = (IBarSeries) chart.getSeriesSet().createSeries(SeriesType.BAR,seriesName);\r\n    \tbarSeries.setYSeries(yValues);\r\n    \tbarSeries.setXSeries(xValues);\r\n    \tbarSeries.setBarColor(yValues[0] &gt; lineValue ? redColor : blueColor);\r\n    \tbarSeries.setBarWidth(50);\r\n    \tbarSeries.setBarPadding(0);\r\n    }\r\n```\r\n\r\nThe problem is that bars, excluding the center bar, are shifted on the x-axis. For example, if there are supposed to be 3 bars, the center one will be in place but every other will be shifted from place and I want them to be exactly in the right spot. I tried different technics but nothing seems to work. ","title":"Displaying diffrent series in the same chart using swtchart","body":"<p>I have a problem in which I'm trying to display a few types of data in a single chart and it's not going well.<br />\nFirst of all, I have one series of data that is supposed to be displayed as a line chart, and then I have to add some bar charts. The number of bars depends on other conditions but it will be a number between 3 and 5. Each bar series is supposed to be created as a new IBarSeries because I have to check if each of them is bigger than the line chart value and change its color if true.<br />\nThe main function that creates char data looks like that</p>\n<pre><code>private void setChartData( final List&lt;double[]&gt; ListOfAllSeries )\n   {   \n       NumberFormat integerFormat = NumberFormat.getIntegerInstance();\n       \n       ILineSeries lineSeries = (ILineSeries) chart.getSeriesSet().createSeries( SeriesType.LINE, &quot;LineSeries&quot; );\n       lineSeries.setYSeries( ListOfAllSeries.get( 1 ) );\n       lineSeries.setVisibleInLegend(false);\n\n       for(int i = 0; i &lt; ListOfAllSeries.get(0).length; i++)\n       {\n           createBarSeries(&quot;BarSeries &quot; + i,new double[] { series1.get(0)[i]}, new double[] {i},ListOfAllSeries.get(1)[i]);\n       }        \n\n       xAxis.getTick().setFormat( integerFormat );\n       chart.getAxisSet().adjustRange();\n       chart.getAxisSet().getXAxis(0).setRange(new Range(-0.5, ListOfAllSeries.get(0).length - 0.5));\n       chart.redraw();\n   }\n</code></pre>\n<p>Index 0 of ListOfAllSeries always contains all bars data and in index 1 is line series data.</p>\n<p>And here is createBarSeries function that creates bar series</p>\n<pre><code>\n    private void createBarSeries(String seriesName, double[] yValues, double[] xValues, double lineValue)\n    {\n        IBarSeries barSeries = (IBarSeries) chart.getSeriesSet().createSeries(SeriesType.BAR,seriesName);\n        barSeries.setYSeries(yValues);\n        barSeries.setXSeries(xValues);\n        barSeries.setBarColor(yValues[0] &gt; lineValue ? redColor : blueColor);\n        barSeries.setBarWidth(50);\n        barSeries.setBarPadding(0);\n    }\n</code></pre>\n<p>The problem is that bars, excluding the center bar, are shifted on the x-axis. For example, if there are supposed to be 3 bars, the center one will be in place but every other will be shifted from place and I want them to be exactly in the right spot. I tried different technics but nothing seems to work.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1690050737,"post_id":76745283,"comment_id":135300223,"body_markdown":"I am unable to understand where I made the mistake if I get help asap it will save my day please consider helping .Have a good day thanks in advance if anyone helps","body":"I am unable to understand where I made the mistake if I get help asap it will save my day please consider helping .Have a good day thanks in advance if anyone helps"}],"answers":[{"comments":[{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1690275766,"post_id":76745745,"comment_id":135327120,"body_markdown":"I have checked everything as you said but I could not find any problem still it persists . When I try to use the ObjectMapper instead I got an empty json response","body":"I have checked everything as you said but I could not find any problem still it persists . When I try to use the ObjectMapper instead I got an empty json response"},{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1690276641,"post_id":76745745,"comment_id":135327298,"body_markdown":"I found some error in the class someBean . I had accidentally put the &quot;someBeanFilter&quot; on field2 a String instead of the class I placed it on the class and everything works fine","body":"I found some error in the class someBean . I had accidentally put the &quot;someBeanFilter&quot; on field2 a String instead of the class I placed it on the class and everything works fine"}],"tags":[],"owner":{"account_id":29071038,"reputation":26,"user_id":22269387,"display_name":"Dif"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690059332,"creation_date":1690059332,"answer_id":76745745,"question_id":76745283,"body_markdown":"Based on the provided code, it seems like you are using MappingJacksonValue and SimpleBeanPropertyFilter from Jackson to apply dynamic filtering to the JSON response. The code looks correct, and the response for the endpoint ***/filtering-list*** looks fine. However, the issue might be related to the configuration or usage of the filter.\r\n\r\nBelow, I suggest some points to check:\r\n\r\n**1.** Verify if the ObjectMapper bean is correctly configured in the application. Make sure to register the FilterProvider with the ObjectMapper bean so that it recognizes the filter.\r\n\r\n**2.** Ensure that the SomeBean class is annotated with @JsonFilter(&quot;SomeBeanFilter&quot;), which you already have correctly.\r\n\r\n**3.** Check for any other filter or interceptor configurations that may be affecting the JSON response.\r\n\r\n**4.** Make sure you are accessing the correct URL for the endpoint ***/filtering***.\r\n\r\nAn example to configure the bean:\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n\r\n@Configuration\r\npublic class JacksonConfig {\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;,\r\n                SimpleBeanPropertyFilter.serializeAllExcept(&quot;field2&quot;));\r\n        objectMapper.setFilterProvider(filters);\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\n\r\nIf you have tried the above steps and the issue persists, I recommend checking for other custom configurations, filters, or interceptors that might be interfering with the filtering process. Additionally, review if there are any error logs or exceptions when accessing the ***/filtering*** endpoint.","title":"Simple Spring boot filter not working properly","body":"<p>Based on the provided code, it seems like you are using MappingJacksonValue and SimpleBeanPropertyFilter from Jackson to apply dynamic filtering to the JSON response. The code looks correct, and the response for the endpoint <em><strong>/filtering-list</strong></em> looks fine. However, the issue might be related to the configuration or usage of the filter.</p>\n<p>Below, I suggest some points to check:</p>\n<p><strong>1.</strong> Verify if the ObjectMapper bean is correctly configured in the application. Make sure to register the FilterProvider with the ObjectMapper bean so that it recognizes the filter.</p>\n<p><strong>2.</strong> Ensure that the SomeBean class is annotated with @JsonFilter(&quot;SomeBeanFilter&quot;), which you already have correctly.</p>\n<p><strong>3.</strong> Check for any other filter or interceptor configurations that may be affecting the JSON response.</p>\n<p><strong>4.</strong> Make sure you are accessing the correct URL for the endpoint <em><strong>/filtering</strong></em>.</p>\n<p>An example to configure the bean:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\n\n@Configuration\npublic class JacksonConfig {\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;,\n                SimpleBeanPropertyFilter.serializeAllExcept(&quot;field2&quot;));\n        objectMapper.setFilterProvider(filters);\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>If you have tried the above steps and the issue persists, I recommend checking for other custom configurations, filters, or interceptors that might be interfering with the filtering process. Additionally, review if there are any error logs or exceptions when accessing the <em><strong>/filtering</strong></em> endpoint.</p>\n"},{"tags":[],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690276732,"creation_date":1690276732,"answer_id":76761229,"question_id":76745283,"body_markdown":"I found out my mistake I had put the @JsonFilter(&quot;someBeanFilter&quot;) annotation on the String property field2 instead of the class . I put it on the class and now everything works fine .","title":"Simple Spring boot filter not working properly","body":"<p>I found out my mistake I had put the @JsonFilter(&quot;someBeanFilter&quot;) annotation on the String property field2 instead of the class . I put it on the class and now everything works fine .</p>\n"}],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76745745,"answer_count":2,"score":0,"last_activity_date":1690567915,"creation_date":1690050654,"question_id":76745283,"body_markdown":"I am trying to access an endpoint of a spring boot application with some filters applied on it but the filters are not working properly.I need some help regarding this problem I am providing the suspective things below. \r\n\r\n```\r\npackage com.ronit.Restfulwebservice.filtering;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.springframework.http.converter.json.MappingJacksonValue;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n\r\n@RestController\r\npublic class FilteringController {\r\n\t@GetMapping(&quot;/filtering&quot;)\r\n\tpublic MappingJacksonValue filtering() {\r\n\t\t\r\n\t\tSomeBean someBean = new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;);\r\n\t\t\r\n\t\tMappingJacksonValue mappingJacksonValue = new MappingJacksonValue(someBean);\r\n\t\t\r\n\t\tSimpleBeanPropertyFilter filter = \r\n\t\t\t\tSimpleBeanPropertyFilter.filterOutAllExcept(&quot;field1&quot;,&quot;field3&quot;);\r\n\t\t\r\n\t\tFilterProvider filters = \r\n\t\t\t\tnew SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\r\n\t\t\r\n\t\tmappingJacksonValue.setFilters(filters);\r\n\t\t\r\n\t\treturn mappingJacksonValue;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/filtering-list&quot;)\r\n\tpublic MappingJacksonValue filteringList() {\r\n\t\t\r\n\t\tList&lt;SomeBean&gt; list = Arrays.asList(new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;),\r\n\t\t\t\tnew SomeBean(&quot;value4&quot;, &quot;value5&quot;, &quot;value6&quot;));\r\n\t\t\r\n\t\tMappingJacksonValue mappingJacksonValue = new MappingJacksonValue(list);\r\n\t\t\r\n\t\tSimpleBeanPropertyFilter filter = \r\n\t\t\t\tSimpleBeanPropertyFilter.filterOutAllExcept(&quot;field2&quot;);\r\n\t\t\r\n\t\tFilterProvider filters = \r\n\t\t\t\tnew SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\r\n\t\t\r\n\t\tmappingJacksonValue.setFilters(filters);\r\n\t\t\r\n\t\treturn mappingJacksonValue;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the SomeBean class \r\n\r\n\r\n```\r\npackage com.ronit.Restfulwebservice.filtering;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFilter;\r\n//@JsonIgnoreProperties({&quot;field1&quot;})\r\npublic class SomeBean {\r\n\tprivate String field1;\r\n\t//@JsonIgnore\r\n\t@JsonFilter(&quot;SomeBeanFilter&quot;)\r\n\t//@JsonFilter(&quot;ListFilter&quot;)\r\n\tprivate String field2;\r\n\tprivate String field3;\r\n\r\n\tpublic SomeBean(String field1, String field2, String field3) {\r\n\t\tsuper();\r\n\t\tthis.field1 = field1;\r\n\t\tthis.field2 = field2;\r\n\t\tthis.field3 = field3;\r\n\t}\r\n\r\n\tpublic String getField1() {\r\n\t\treturn field1;\r\n\t}\r\n\r\n\tpublic String getField2() {\r\n\t\treturn field2;\r\n\t}\r\n\r\n\tpublic String getField3() {\r\n\t\treturn field3;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;SomeBean [field1=&quot; + field1 + &quot;, field2=&quot; + field2 + &quot;, field3=&quot; + field3 + &quot;]&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the Application class\r\n\r\n\r\n```\r\npackage com.ronit.Restfulwebservice;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class RestfulWebServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RestfulWebServiceApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThe application.properties file\r\n\r\n\r\n```\r\nlogging.level.org.springframework=debug\r\n\r\n```\r\n\r\nThe pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ronit&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Restful-web-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Restful-web-service&lt;/name&gt;\r\n\t&lt;description&gt;My first rest api &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;--&gt;\r\n\t\t\t&lt;!-- This dependency below converts json file to xml format without this dependency\r\n\t\t\t xml instead of json is given to the browser and the browser displays the same --&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nJson response for http://localhost:8080/filtering-list endpoint\r\n```\r\n[\r\n{\r\n&quot;field1&quot;: &quot;value1&quot;,\r\n&quot;field2&quot;: &quot;value2&quot;,\r\n&quot;field3&quot;: &quot;value3&quot;\r\n},\r\n{\r\n&quot;field1&quot;: &quot;value4&quot;,\r\n&quot;field2&quot;: &quot;value5&quot;,\r\n&quot;field3&quot;: &quot;value6&quot;\r\n}\r\n]\r\n```\r\nJson response for http://localhost:8080/filtering endpoint\r\n\r\n```\r\n{\r\n&quot;field1&quot;: &quot;value1&quot;,\r\n&quot;field2&quot;: &quot;value2&quot;,\r\n&quot;field3&quot;: &quot;value3&quot;\r\n}\r\n```\r\n\r\n\r\nI am following a course on udemy I made the exact same thing in the tutorial and followed the step by step guide on github and built the exact same thing but it is not working . I have searched online for solutions but I found none please help me with this problem . If more details on anything is required please ask thanks in advance","title":"Simple Spring boot filter not working properly","body":"<p>I am trying to access an endpoint of a spring boot application with some filters applied on it but the filters are not working properly.I need some help regarding this problem I am providing the suspective things below.</p>\n<pre><code>package com.ronit.Restfulwebservice.filtering;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.springframework.http.converter.json.MappingJacksonValue;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\n\n@RestController\npublic class FilteringController {\n    @GetMapping(&quot;/filtering&quot;)\n    public MappingJacksonValue filtering() {\n        \n        SomeBean someBean = new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;);\n        \n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(someBean);\n        \n        SimpleBeanPropertyFilter filter = \n                SimpleBeanPropertyFilter.filterOutAllExcept(&quot;field1&quot;,&quot;field3&quot;);\n        \n        FilterProvider filters = \n                new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\n        \n        mappingJacksonValue.setFilters(filters);\n        \n        return mappingJacksonValue;\n    }\n\n    @GetMapping(&quot;/filtering-list&quot;)\n    public MappingJacksonValue filteringList() {\n        \n        List&lt;SomeBean&gt; list = Arrays.asList(new SomeBean(&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;),\n                new SomeBean(&quot;value4&quot;, &quot;value5&quot;, &quot;value6&quot;));\n        \n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(list);\n        \n        SimpleBeanPropertyFilter filter = \n                SimpleBeanPropertyFilter.filterOutAllExcept(&quot;field2&quot;);\n        \n        FilterProvider filters = \n                new SimpleFilterProvider().addFilter(&quot;SomeBeanFilter&quot;, filter);\n        \n        mappingJacksonValue.setFilters(filters);\n        \n        return mappingJacksonValue;\n    }\n}\n\n</code></pre>\n<p>This is the SomeBean class</p>\n<pre><code>package com.ronit.Restfulwebservice.filtering;\n\nimport com.fasterxml.jackson.annotation.JsonFilter;\n//@JsonIgnoreProperties({&quot;field1&quot;})\npublic class SomeBean {\n    private String field1;\n    //@JsonIgnore\n    @JsonFilter(&quot;SomeBeanFilter&quot;)\n    //@JsonFilter(&quot;ListFilter&quot;)\n    private String field2;\n    private String field3;\n\n    public SomeBean(String field1, String field2, String field3) {\n        super();\n        this.field1 = field1;\n        this.field2 = field2;\n        this.field3 = field3;\n    }\n\n    public String getField1() {\n        return field1;\n    }\n\n    public String getField2() {\n        return field2;\n    }\n\n    public String getField3() {\n        return field3;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SomeBean [field1=&quot; + field1 + &quot;, field2=&quot; + field2 + &quot;, field3=&quot; + field3 + &quot;]&quot;;\n    }\n}\n\n</code></pre>\n<p>This is the Application class</p>\n<pre><code>package com.ronit.Restfulwebservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class RestfulWebServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RestfulWebServiceApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>The application.properties file</p>\n<pre><code>logging.level.org.springframework=debug\n\n</code></pre>\n<p>The pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ronit&lt;/groupId&gt;\n    &lt;artifactId&gt;Restful-web-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Restful-web-service&lt;/name&gt;\n    &lt;description&gt;My first rest api &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n            &lt;/dependency&gt;--&gt;\n            &lt;!-- This dependency below converts json file to xml format without this dependency\n             xml instead of json is given to the browser and the browser displays the same --&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Json response for http://localhost:8080/filtering-list endpoint</p>\n<pre><code>[\n{\n&quot;field1&quot;: &quot;value1&quot;,\n&quot;field2&quot;: &quot;value2&quot;,\n&quot;field3&quot;: &quot;value3&quot;\n},\n{\n&quot;field1&quot;: &quot;value4&quot;,\n&quot;field2&quot;: &quot;value5&quot;,\n&quot;field3&quot;: &quot;value6&quot;\n}\n]\n</code></pre>\n<p>Json response for http://localhost:8080/filtering endpoint</p>\n<pre><code>{\n&quot;field1&quot;: &quot;value1&quot;,\n&quot;field2&quot;: &quot;value2&quot;,\n&quot;field3&quot;: &quot;value3&quot;\n}\n</code></pre>\n<p>I am following a course on udemy I made the exact same thing in the tutorial and followed the step by step guide on github and built the exact same thing but it is not working . I have searched online for solutions but I found none please help me with this problem . If more details on anything is required please ask thanks in advance</p>\n"},{"tags":["java","selenium-webdriver","automation","microsoft-edge"],"comments":[{"owner":{"account_id":29100479,"reputation":11,"user_id":22292389,"display_name":"Yogesh Pawar"},"score":0,"creation_date":1690438379,"post_id":76776928,"comment_id":135354388,"body_markdown":"i tried using chromedriver but there is an issue with new chromedriver so i decided to go with edge driver but its also not working","body":"i tried using chromedriver but there is an issue with new chromedriver so i decided to go with edge driver but its also not working"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690446064,"creation_date":1690446064,"answer_id":76777806,"question_id":76776928,"body_markdown":"Just like the way you passed the full path of the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) executable along with the extension as:\r\n\r\n\tC:\\\\Users\\\\yoges\\\\Downloads\\\\chromedriver-win32 (1)\\\\chromedriver-win32.exe\r\n\t\r\nSimilarly, you also have to pass the full path of the [EdgeDriver](https://stackoverflow.com/a/59927747/7429447) executable along with the extension as follows:\r\n\r\n\tC:\\\\Users\\\\yoges\\\\Downloads\\\\edgedriver_win64\\\\edgedriver.exe","title":"SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server using Selenium and Java","body":"<p>Just like the way you passed the full path of the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> executable along with the extension as:</p>\n<pre><code>C:\\\\Users\\\\yoges\\\\Downloads\\\\chromedriver-win32 (1)\\\\chromedriver-win32.exe\n</code></pre>\n<p>Similarly, you also have to pass the full path of the <a href=\"https://stackoverflow.com/a/59927747/7429447\">EdgeDriver</a> executable along with the extension as follows:</p>\n<pre><code>C:\\\\Users\\\\yoges\\\\Downloads\\\\edgedriver_win64\\\\edgedriver.exe\n</code></pre>\n"}],"owner":{"account_id":29100479,"reputation":11,"user_id":22292389,"display_name":"Yogesh Pawar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690567680,"creation_date":1690438292,"question_id":76776928,"body_markdown":"I am using microsoft edge driver for the automation and driver is not responding. This is the error message I am not getting:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;YOGESH&#39;, ip: &#39;192.168.1.7&#39;\r\n    Build info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.7\r\n    Driver info: org.openqa.selenium.edge.EdgeDrivertext\r\n\r\nConsole error image:\r\n\r\n![console error image](https://i.stack.imgur.com/HQw9q.png)","title":"SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server using Selenium and Java","body":"<p>I am using microsoft edge driver for the automation and driver is not responding. This is the error message I am not getting:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'YOGESH', ip: '192.168.1.7'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.7\nDriver info: org.openqa.selenium.edge.EdgeDrivertext\n</code></pre>\n<p>Console error image:</p>\n<p><img src=\"https://i.stack.imgur.com/HQw9q.png\" alt=\"console error image\" /></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":27742746,"reputation":61,"user_id":21178886,"display_name":"Piterek237"},"score":0,"creation_date":1690446120,"post_id":76777507,"comment_id":135355802,"body_markdown":"First off work on Your code, cause it is unreadable. What are those variablees? You&#39;re variable names tells us anything.","body":"First off work on Your code, cause it is unreadable. What are those variablees? You&#39;re variable names tells us anything."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1690471501,"post_id":76777507,"comment_id":135361630,"body_markdown":"The `OnCheckedChangeListener` for `radioGroup1` either has two `OnClickListener`s with the 10% listener firing second, or only the listener for 10%, as written (depending on how this is works at runtime, I&#39;ve never written anything for Android). Change your `if` statements to have their `then` clauses as blocks(`{}`) and this will be easier to see. Also, since you are using an IDE, you should consider not using Hungarian notation.","body":"The <code>OnCheckedChangeListener</code> for <code>radioGroup1</code> either has two <code>OnClickListener</code>s with the 10% listener firing second, or only the listener for 10%, as written (depending on how this is works at runtime, I&#39;ve never written anything for Android). Change your <code>if</code> statements to have their <code>then</code> clauses as blocks(<code>{}</code>) and this will be easier to see. Also, since you are using an IDE, you should consider not using Hungarian notation."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690471535,"post_id":76777507,"comment_id":135361638,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29046727,"reputation":1,"user_id":22250402,"display_name":"Lia Harsono"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690567623,"creation_date":1690443677,"question_id":76777507,"body_markdown":"i&#39;m doing some project related to cafe menu and the calculation. i&#39;m using a radio group for differentiate between 0% discount and 10% discount. When i click the radio button for 10% discount the code is working, but when i choose the radio button for the 0% discount the code isn&#39;t working. the result will be the same as 10% discount. Here&#39;s the code\r\n```\r\npackage com.example.fo_liaharsono_proj_cafestekom;\r\n\r\nimport android.os.Bundle;\r\nimport android.app.Activity;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends Activity {\r\n\tTextView edHrgAyamG,edHrgAyamC,edHrgKentang,edHrgSoft,edHrgAir,edSubTotal,edStatus,edBayar;\r\n\tCheckBox cbAyamG,cbAyamC,cbKentang,cbSoft,cbAir;\r\n\tRadioGroup radioGroup1;\r\n\tRadioButton rgTunai,rgCredit;\r\n\tButton btnPesan;\r\n\t\r\n\tprivate boolean checked;\r\n\tprivate double dSubTotal;\r\n\tprivate double dBayar;\r\n\tprivate double dHrgAyamG;\r\n\tprivate double dHrgAyamC;\r\n\tprivate double dHrgKentang;\r\n\tprivate double dHrgSoft;\r\n\tprivate double dHrgAir;\r\n\tprivate double Diskon;\r\n\t\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        edHrgAyamG = (TextView)findViewById(R.id.edHrgAyamG);\r\n        edHrgAyamC = (TextView)findViewById(R.id.edHrgAyamC);\r\n        edHrgKentang = (TextView)findViewById(R.id.edHrgKentang);\r\n        edHrgSoft = (TextView)findViewById(R.id.edHrgSoft);\r\n        edHrgAir = (TextView)findViewById(R.id.edHrgAir);\r\n        edSubTotal = (TextView)findViewById(R.id.edSubTotal);\r\n        edStatus = (TextView)findViewById(R.id.edStatus);\r\n        edBayar = (TextView)findViewById(R.id.edBayar);\r\n        \r\n        cbAyamG = (CheckBox)findViewById(R.id.cbAyamG);\r\n        cbAyamC = (CheckBox)findViewById(R.id.cbAyamC);\r\n        cbKentang = (CheckBox)findViewById(R.id.cbKentang);\r\n        cbSoft = (CheckBox)findViewById(R.id.cbSoft);\r\n        cbAir = (CheckBox)findViewById(R.id.cbAir);\r\n        \r\n        radioGroup1 = (RadioGroup)findViewById(R.id.radioGroup1);\r\n        rgTunai = (RadioButton)findViewById(R.id.rgTunai);\r\n        rgCredit = (RadioButton)findViewById(R.id.rgCredit);\r\n        \r\n        btnPesan = (Button)findViewById(R.id.btnPesan);\r\n    \r\nradioGroup1.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n\t\r\n\t@Override\r\n\tpublic void onCheckedChanged(RadioGroup arg0, int arg1) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tif(rgTunai.isChecked())\r\n\t\t\tedStatus.setText(&quot;Pembayaran Tunai Diskon 0%&quot;);\r\n\t\tbtnPesan.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tdSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\r\n\t\t\t\tDiskon = (dSubTotal*0)/100;\r\n\t\t\t\tdBayar = (dSubTotal-Diskon)*1000;\r\n\t\t\t\tedBayar.setText(&quot;Rp.  &quot;+dBayar);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(rgCredit.isChecked())\r\n\t\t\tedStatus.setText(&quot;Pembayaran Credit Diskon 10%&quot;);\r\n\t\tbtnPesan.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tdSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\r\n\t\t\t\tDiskon = (dSubTotal*10)/100;\r\n\t\t\t\tdBayar = (dSubTotal-Diskon)*1000;\r\n\t\t\t\tedBayar.setText(&quot;Rp. &quot;+dBayar);\r\n\t\t\t}\r\n\t\t\t});  \r\n\t\t\t}\r\n\t\t});\r\n\t\t};   \t\t\r\n    \t\r\n    \r\n    public void KlikCheckBox(View v){\r\n    \tchecked = ((CheckBox)v).isChecked();\r\n    \tswitch (v.getId()){\r\n    \tcase R.id.cbAyamG:\r\n    \t\tif(checked)edHrgAyamG.setText(&quot;15.000&quot;);\r\n    \t\telse edHrgAyamG.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbAyamC:\r\n    \t\tif(checked)edHrgAyamC.setText(&quot;12.000&quot;);\r\n    \t\telse edHrgAyamC.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbKentang:\r\n    \t\tif(checked)edHrgKentang.setText(&quot;10.000&quot;);\r\n    \t\telse edHrgKentang.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbSoft:\r\n    \t\tif(checked)edHrgSoft.setText(&quot;5.000&quot;);\r\n    \t\telse edHrgSoft.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \tcase R.id.cbAir:\r\n    \t\tif(checked)edHrgAir.setText(&quot;3.000&quot;);\r\n    \t\telse edHrgAir.setText(&quot;0&quot;);\r\n    \t\tbreak;\r\n    \t}\r\n    \tdHrgAyamG = Double.parseDouble(edHrgAyamG.getText().toString());\r\n    \tdHrgAyamC = Double.parseDouble(edHrgAyamC.getText().toString());\r\n    \tdHrgKentang = Double.parseDouble(edHrgKentang.getText().toString());\r\n    \tdHrgSoft = Double.parseDouble(edHrgSoft.getText().toString());\r\n    \tdHrgAir = Double.parseDouble(edHrgAir.getText().toString());\r\n    \t\r\n    \tdSubTotal = ((dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir))*1000;\r\n    \tedSubTotal.setText(&quot;&quot;+dSubTotal);\r\n    }\r\n}\r\n```\r\n\r\n\r\ni&#39;m trying to figure out whats wrong but still can&#39;t find the answer","title":"Calculation using radio group not working","body":"<p>i'm doing some project related to cafe menu and the calculation. i'm using a radio group for differentiate between 0% discount and 10% discount. When i click the radio button for 10% discount the code is working, but when i choose the radio button for the 0% discount the code isn't working. the result will be the same as 10% discount. Here's the code</p>\n<pre><code>package com.example.fo_liaharsono_proj_cafestekom;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity {\n    TextView edHrgAyamG,edHrgAyamC,edHrgKentang,edHrgSoft,edHrgAir,edSubTotal,edStatus,edBayar;\n    CheckBox cbAyamG,cbAyamC,cbKentang,cbSoft,cbAir;\n    RadioGroup radioGroup1;\n    RadioButton rgTunai,rgCredit;\n    Button btnPesan;\n    \n    private boolean checked;\n    private double dSubTotal;\n    private double dBayar;\n    private double dHrgAyamG;\n    private double dHrgAyamC;\n    private double dHrgKentang;\n    private double dHrgSoft;\n    private double dHrgAir;\n    private double Diskon;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        edHrgAyamG = (TextView)findViewById(R.id.edHrgAyamG);\n        edHrgAyamC = (TextView)findViewById(R.id.edHrgAyamC);\n        edHrgKentang = (TextView)findViewById(R.id.edHrgKentang);\n        edHrgSoft = (TextView)findViewById(R.id.edHrgSoft);\n        edHrgAir = (TextView)findViewById(R.id.edHrgAir);\n        edSubTotal = (TextView)findViewById(R.id.edSubTotal);\n        edStatus = (TextView)findViewById(R.id.edStatus);\n        edBayar = (TextView)findViewById(R.id.edBayar);\n        \n        cbAyamG = (CheckBox)findViewById(R.id.cbAyamG);\n        cbAyamC = (CheckBox)findViewById(R.id.cbAyamC);\n        cbKentang = (CheckBox)findViewById(R.id.cbKentang);\n        cbSoft = (CheckBox)findViewById(R.id.cbSoft);\n        cbAir = (CheckBox)findViewById(R.id.cbAir);\n        \n        radioGroup1 = (RadioGroup)findViewById(R.id.radioGroup1);\n        rgTunai = (RadioButton)findViewById(R.id.rgTunai);\n        rgCredit = (RadioButton)findViewById(R.id.rgCredit);\n        \n        btnPesan = (Button)findViewById(R.id.btnPesan);\n    \nradioGroup1.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n    \n    @Override\n    public void onCheckedChanged(RadioGroup arg0, int arg1) {\n        // TODO Auto-generated method stub\n        if(rgTunai.isChecked())\n            edStatus.setText(&quot;Pembayaran Tunai Diskon 0%&quot;);\n        btnPesan.setOnClickListener(new View.OnClickListener() {\n            \n            @Override\n            public void onClick(View arg0) {\n                // TODO Auto-generated method stub\n                dSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\n                Diskon = (dSubTotal*0)/100;\n                dBayar = (dSubTotal-Diskon)*1000;\n                edBayar.setText(&quot;Rp.  &quot;+dBayar);\n            }\n        });\n        if(rgCredit.isChecked())\n            edStatus.setText(&quot;Pembayaran Credit Diskon 10%&quot;);\n        btnPesan.setOnClickListener(new View.OnClickListener() {\n            \n            @Override\n            public void onClick(View arg0) {\n                // TODO Auto-generated method stub\n                dSubTotal = (dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir);\n                Diskon = (dSubTotal*10)/100;\n                dBayar = (dSubTotal-Diskon)*1000;\n                edBayar.setText(&quot;Rp. &quot;+dBayar);\n            }\n            });  \n            }\n        });\n        };          \n        \n    \n    public void KlikCheckBox(View v){\n        checked = ((CheckBox)v).isChecked();\n        switch (v.getId()){\n        case R.id.cbAyamG:\n            if(checked)edHrgAyamG.setText(&quot;15.000&quot;);\n            else edHrgAyamG.setText(&quot;0&quot;);\n            break;\n        case R.id.cbAyamC:\n            if(checked)edHrgAyamC.setText(&quot;12.000&quot;);\n            else edHrgAyamC.setText(&quot;0&quot;);\n            break;\n        case R.id.cbKentang:\n            if(checked)edHrgKentang.setText(&quot;10.000&quot;);\n            else edHrgKentang.setText(&quot;0&quot;);\n            break;\n        case R.id.cbSoft:\n            if(checked)edHrgSoft.setText(&quot;5.000&quot;);\n            else edHrgSoft.setText(&quot;0&quot;);\n            break;\n        case R.id.cbAir:\n            if(checked)edHrgAir.setText(&quot;3.000&quot;);\n            else edHrgAir.setText(&quot;0&quot;);\n            break;\n        }\n        dHrgAyamG = Double.parseDouble(edHrgAyamG.getText().toString());\n        dHrgAyamC = Double.parseDouble(edHrgAyamC.getText().toString());\n        dHrgKentang = Double.parseDouble(edHrgKentang.getText().toString());\n        dHrgSoft = Double.parseDouble(edHrgSoft.getText().toString());\n        dHrgAir = Double.parseDouble(edHrgAir.getText().toString());\n        \n        dSubTotal = ((dHrgAyamG)+(dHrgAyamC)+(dHrgKentang)+(dHrgSoft)+(dHrgAir))*1000;\n        edSubTotal.setText(&quot;&quot;+dSubTotal);\n    }\n}\n</code></pre>\n<p>i'm trying to figure out whats wrong but still can't find the answer</p>\n"},{"tags":["java","ubuntu","ant","nutch"],"answers":[{"tags":[],"owner":{"account_id":10239512,"reputation":1324,"user_id":7557361,"display_name":"Nicomedes E."},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1492513456,"creation_date":1492513456,"answer_id":43470428,"question_id":43469620,"body_markdown":"Try to comment all this part in `build.xml`:\r\n\r\n      &lt;!-- ================================================================== --&gt;\r\n      &lt;!-- SONAR targets                                                      --&gt;\r\n      &lt;!-- ================================================================== --&gt;\r\n      \r\n      &lt;!-- Define the Sonar task if this hasn&#39;t been done in a common script --&gt;\r\n      &lt;taskdef uri=&quot;antlib:org.sonar.ant&quot; resource=&quot;org/sonar/ant/antlib.xml&quot;&gt;\r\n        &lt;classpath path=&quot;${ant.library.dir}&quot;/&gt;\r\n        &lt;classpath path=&quot;${mysql.library.dir}&quot;/&gt;\r\n      &lt;/taskdef&gt;\r\n      \r\n      &lt;!-- Add the target --&gt;\r\n      &lt;target name=&quot;sonar&quot; description=&quot;--&gt; run SONAR analysis&quot;&gt;\r\n        \r\n        &lt;!-- list of mandatory source directories (required) --&gt;\r\n        &lt;property name=&quot;sonar.sources&quot; value=&quot;${src.dir}&quot;/&gt;\r\n     \r\n        &lt;!-- list of properties (optional) --&gt;\r\n        &lt;property name=&quot;sonar.projectName&quot; value=&quot;Nutch Trunk 1.4 Sonar Analysis&quot; /&gt;\r\n        &lt;property name=&quot;sonar.binaries&quot; value=&quot;${build.dir}/classes&quot; /&gt;\r\n        &lt;property name=&quot;sonar.binaries&quot; value=&quot;${build.dir}/plugins&quot; /&gt;\r\n        &lt;property name=&quot;sonar.tests&quot; value=&quot;${test.src.dir}&quot; /&gt;\r\n    \r\n        &lt;sonar:sonar workDir=&quot;${base.dir}&quot; key=&quot;org.apache.nutch:trunk&quot; \r\n         version=&quot;1.4-SNAPSHOT&quot; xmlns:sonar=&quot;antlib:org.sonar.ant&quot;/&gt;\r\n      &lt;/target&gt;\r\n\r\nin this way, it should work.","title":"Nutch - Could not load definitions from resource org/sonar/ant/antlib.xml","body":"<p>Try to comment all this part in <code>build.xml</code>:</p>\n\n<pre><code>  &lt;!-- ================================================================== --&gt;\n  &lt;!-- SONAR targets                                                      --&gt;\n  &lt;!-- ================================================================== --&gt;\n\n  &lt;!-- Define the Sonar task if this hasn't been done in a common script --&gt;\n  &lt;taskdef uri=\"antlib:org.sonar.ant\" resource=\"org/sonar/ant/antlib.xml\"&gt;\n    &lt;classpath path=\"${ant.library.dir}\"/&gt;\n    &lt;classpath path=\"${mysql.library.dir}\"/&gt;\n  &lt;/taskdef&gt;\n\n  &lt;!-- Add the target --&gt;\n  &lt;target name=\"sonar\" description=\"--&gt; run SONAR analysis\"&gt;\n\n    &lt;!-- list of mandatory source directories (required) --&gt;\n    &lt;property name=\"sonar.sources\" value=\"${src.dir}\"/&gt;\n\n    &lt;!-- list of properties (optional) --&gt;\n    &lt;property name=\"sonar.projectName\" value=\"Nutch Trunk 1.4 Sonar Analysis\" /&gt;\n    &lt;property name=\"sonar.binaries\" value=\"${build.dir}/classes\" /&gt;\n    &lt;property name=\"sonar.binaries\" value=\"${build.dir}/plugins\" /&gt;\n    &lt;property name=\"sonar.tests\" value=\"${test.src.dir}\" /&gt;\n\n    &lt;sonar:sonar workDir=\"${base.dir}\" key=\"org.apache.nutch:trunk\" \n     version=\"1.4-SNAPSHOT\" xmlns:sonar=\"antlib:org.sonar.ant\"/&gt;\n  &lt;/target&gt;\n</code></pre>\n\n<p>in this way, it should work.</p>\n"},{"tags":[],"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690567070,"creation_date":1690567070,"answer_id":76790075,"question_id":43469620,"body_markdown":"I know the question is an old one, but felt the answer might help someone else.\r\n\r\nSetting sonarqube for java ant project with configuration specified in [sonarqube-setup-for-ant][1] throws error &#39;could not fine exception...&#39;\r\n\r\nSolution: try replacing the &#39;*&#39; defined in the \r\n\r\n    &lt;classpath path=&quot;/usr/share/ant/lib/sonarqube-ant-task-*.jar&quot; /&gt;\r\n\r\nTarget tag:\r\n```\r\n&lt;target name=&quot;sonar&quot;&gt;\r\n    &lt;taskdef uri=&quot;antlib:org.sonar.ant&quot; resource=&quot;org/sonar/ant/antlib.xml&quot;&gt;\r\n        &lt;!-- Update the following line, or put the &quot;sonarqube-ant-task-*.jar&quot; file in your &quot;$HOME/.ant/lib&quot; folder --&gt;\r\n        &lt;classpath path=&quot;path/to/sonar/ant/task/lib/sonarqube-ant-task-*.jar&quot; /&gt;\r\n    &lt;/taskdef&gt;\r\n \r\n    &lt;!-- Execute SonarScanner for Ant Analysis --&gt;\r\n    &lt;sonar:sonar /&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\n\r\n  [1]: https://pmpl.cs.ui.ac.id/sonarqube/documentation/analysis/scan/sonarscanner-for-ant/#use","title":"Nutch - Could not load definitions from resource org/sonar/ant/antlib.xml","body":"<p>I know the question is an old one, but felt the answer might help someone else.</p>\n<p>Setting sonarqube for java ant project with configuration specified in <a href=\"https://pmpl.cs.ui.ac.id/sonarqube/documentation/analysis/scan/sonarscanner-for-ant/#use\" rel=\"nofollow noreferrer\">sonarqube-setup-for-ant</a> throws error 'could not fine exception...'</p>\n<p>Solution: try replacing the '*' defined in the</p>\n<pre><code>&lt;classpath path=&quot;/usr/share/ant/lib/sonarqube-ant-task-*.jar&quot; /&gt;\n</code></pre>\n<p>Target tag:</p>\n<pre><code>&lt;target name=&quot;sonar&quot;&gt;\n    &lt;taskdef uri=&quot;antlib:org.sonar.ant&quot; resource=&quot;org/sonar/ant/antlib.xml&quot;&gt;\n        &lt;!-- Update the following line, or put the &quot;sonarqube-ant-task-*.jar&quot; file in your &quot;$HOME/.ant/lib&quot; folder --&gt;\n        &lt;classpath path=&quot;path/to/sonar/ant/task/lib/sonarqube-ant-task-*.jar&quot; /&gt;\n    &lt;/taskdef&gt;\n \n    &lt;!-- Execute SonarScanner for Ant Analysis --&gt;\n    &lt;sonar:sonar /&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":8633454,"reputation":37,"user_id":6464408,"display_name":"Kaiux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43470428,"answer_count":2,"score":2,"last_activity_date":1690567070,"creation_date":1492511152,"question_id":43469620,"body_markdown":"I&#39;m learning  [Nutch][1] through the official guide. So when I run  [Ant][2] at bin directory, it says: \r\n\r\n&gt; &quot;Could not load definitions from resource `org/sonar/ant/antlib.xml`. It\r\n&gt; could not be found.&quot;\r\n\r\n I&#39;ve spent a lot of time in google to solve it, but I failed. My OS is Ubuntu16.04.\r\n\r\n![enter image description][3]\r\n\r\n\r\n  [1]: http://nutch.apache.org/\r\n  [2]: http://ant.apache.org/\r\n  [3]: https://i.stack.imgur.com/nmmaq.png","title":"Nutch - Could not load definitions from resource org/sonar/ant/antlib.xml","body":"<p>I'm learning  <a href=\"http://nutch.apache.org/\" rel=\"nofollow noreferrer\">Nutch</a> through the official guide. So when I run  <a href=\"http://ant.apache.org/\" rel=\"nofollow noreferrer\">Ant</a> at bin directory, it says: </p>\n\n<blockquote>\n  <p>\"Could not load definitions from resource <code>org/sonar/ant/antlib.xml</code>. It\n  could not be found.\"</p>\n</blockquote>\n\n<p>I've spent a lot of time in google to solve it, but I failed. My OS is Ubuntu16.04.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nmmaq.png\" alt=\"enter image description\"></p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"score":0,"creation_date":1406629891,"post_id":25013103,"comment_id":38895249,"body_markdown":"Check your pom.xml for 2.4.3 version","body":"Check your pom.xml for 2.4.3 version"},{"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"score":0,"creation_date":1406629953,"post_id":25013103,"comment_id":38895282,"body_markdown":"possible duplicate of [Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved](http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources\">Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved</a>"},{"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"score":0,"creation_date":1406630238,"post_id":25013103,"comment_id":38895419,"body_markdown":"@user987339, I already red this post, I dont understand why new maven project not use 2.5?","body":"@user987339, I already red this post, I dont understand why new maven project not use 2.5?"},{"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"score":0,"creation_date":1406630307,"post_id":25013103,"comment_id":38895462,"body_markdown":"@udalmik, how to check ? I dont add any plugin or dependency in pom.xml.  `&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;entry&lt;/groupId&gt;\n  &lt;artifactId&gt;task&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n&lt;/project&gt;`","body":"@udalmik, how to check ? I dont add any plugin or dependency in pom.xml.  <code>&lt;project xmlns=&quot;http:&#47;&#47;maven.apache.org&#47;POM&#47;4.0.0&quot; xmlns:xsi=&quot;http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance&quot; xsi:schemaLocation=&quot;http:&#47;&#47;maven.apache.org&#47;POM&#47;4.0.0 http:&#47;&#47;maven.apache.org&#47;xsd&#47;maven-4.0.0.xsd&quot;&gt;   &lt;modelVersion&gt;4.0.0&lt;&#47;modelVersion&gt;   &lt;groupId&gt;entry&lt;&#47;groupId&gt;   &lt;artifactId&gt;task&lt;&#47;artifactId&gt;   &lt;version&gt;0.0.1-SNAPSHOT&lt;&#47;version&gt;   &lt;packaging&gt;war&lt;&#47;packaging&gt; &lt;&#47;project&gt;</code>"},{"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"score":0,"creation_date":1406634294,"post_id":25013103,"comment_id":38897537,"body_markdown":"ok, so default one should be used. strange, it should be fine for 3.0.4 http://maven.apache.org/ref/3.0.4/maven-core/default-bindings.html#Bindings_for_war_packaging","body":"ok, so default one should be used. strange, it should be fine for 3.0.4 <a href=\"http://maven.apache.org/ref/3.0.4/maven-core/default-bindings.html#Bindings_for_war_packaging\" rel=\"nofollow noreferrer\">maven.apache.org/ref/3.0.4/maven-core/&hellip;</a>"},{"owner":{"account_id":3808056,"reputation":327,"user_id":3159856,"display_name":"Neeraj"},"score":0,"creation_date":1406634810,"post_id":25013103,"comment_id":38897818,"body_markdown":"Check if eclipse is not able to connect to Internet.","body":"Check if eclipse is not able to connect to Internet."},{"owner":{"account_id":3808056,"reputation":327,"user_id":3159856,"display_name":"Neeraj"},"score":0,"creation_date":1406634964,"post_id":25013103,"comment_id":38897896,"body_markdown":"You need to change default Maven from eclipse to your Maven. You can change it from preferences.","body":"You need to change default Maven from eclipse to your Maven. You can change it from preferences."}],"answers":[{"tags":[],"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406777856,"creation_date":1406777856,"answer_id":25050444,"question_id":25013103,"body_markdown":"I solved it,\r\n\r\njust create src/main/java, src/main/resources, src/test/java, src/test/resources\r\n\r\nThe `maven-resources-plugin` will disappear.","title":"create maven project failed","body":"<p>I solved it,</p>\n\n<p>just create src/main/java, src/main/resources, src/test/java, src/test/resources</p>\n\n<p>The <code>maven-resources-plugin</code> will disappear.</p>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1689939602,"post_id":76694568,"comment_id":135287488,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76694568/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28819118,"reputation":11,"user_id":22072049,"display_name":"Harshit Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689436116,"creation_date":1689436068,"answer_id":76694568,"question_id":25013103,"body_markdown":"I was facing the same challenge but it got resolved soon as I created the folder under src/main/resources and saved.","title":"create maven project failed","body":"<p>I was facing the same challenge but it got resolved soon as I created the folder under src/main/resources and saved.</p>\n"},{"comments":[{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":1,"creation_date":1690924638,"post_id":76790049,"comment_id":135420168,"body_markdown":"thank you for contributing. please let us know how the code fixes the problem","body":"thank you for contributing. please let us know how the code fixes the problem"}],"tags":[],"owner":{"account_id":29113014,"reputation":1,"user_id":22302406,"display_name":"Death2one"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690566766,"creation_date":1690566766,"answer_id":76790049,"question_id":25013103,"body_markdown":"&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance","title":"create maven project failed","body":"<p>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance</p>\n"}],"owner":{"account_id":1785335,"reputation":3954,"user_id":1626906,"accept_rate":78,"display_name":"hiway"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8098,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690566766,"creation_date":1406629431,"question_id":25013103,"body_markdown":"I create a simple maven project in eclipse(indigo), it reports an error:\r\n\r\n`Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.4.3 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.4.3`\r\n\r\n\r\nI found maven-resources-plugin:2.5 in local repo.\r\nI don&#39;t understand why my project needs 2.4.3 but not 2.5?\r\n\r\n\r\nmvn -v:\r\n\r\n    Apache Maven 3.0.4 (r1232337; 2012-01-17 16:44:56+0800)\r\n    Maven home: D:\\Program Files\\maven-3.0\r\n    Java version: 1.6.0_31, vendor: Sun Microsystems Inc.\r\n    Java home: D:\\Program Files\\Java\\jdk1.6.0_31\\jre\r\n    Default locale: zh_CN, platform encoding: GBK\r\n    OS name: &quot;windows xp&quot;, version: &quot;5.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;\r\n","title":"create maven project failed","body":"<p>I create a simple maven project in eclipse(indigo), it reports an error:</p>\n\n<p><code>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.4.3 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.4.3</code></p>\n\n<p>I found maven-resources-plugin:2.5 in local repo.\nI don't understand why my project needs 2.4.3 but not 2.5?</p>\n\n<p>mvn -v:</p>\n\n<pre><code>Apache Maven 3.0.4 (r1232337; 2012-01-17 16:44:56+0800)\nMaven home: D:\\Program Files\\maven-3.0\nJava version: 1.6.0_31, vendor: Sun Microsystems Inc.\nJava home: D:\\Program Files\\Java\\jdk1.6.0_31\\jre\nDefault locale: zh_CN, platform encoding: GBK\nOS name: \"windows xp\", version: \"5.1\", arch: \"x86\", family: \"windows\"\n</code></pre>\n"},{"tags":["java","initialization","static-members","wiremock","control-flow"],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690565280,"creation_date":1690564884,"question_id":76789880,"body_markdown":"I am using WireMock and managed to configure it to use SSL in JUnit 4 tests and disable throwing error if the hostname doesn&#39;t match the WireMock self signed certificate with `CN=Tom Akehurst`.\r\n\r\nThe code block I added to the JUnit test class:\r\n\r\n```\r\n\tstatic {\r\n\t\t//for localhost testing only\r\n\t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\r\n\t\t\tpublic boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n\t\t\t\tif (hostname.equals(&quot;localhost&quot;)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n\r\nNote: replace `newJavaKeyword` with new as it is not posting without doing that.\r\n\r\nThe following is the error thrown if the above code is not added:\r\n```\r\njavax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\r\n```\r\n\r\nNow, I need to move with testing from my local to the server, and I still need to use `WireMock` and all the configured JSON mappings. This time, the test cases will run from the main process not from JUnit, so I need to add the flag `disableVerifyLocalHost` to be passed to say class `A` which will initialize class `B`. In class `B`, I want to run the above static code block only if the the flag `disableVerifyLocalHost` is `true`.\r\n\r\nI think I can put the code block above in a normal public method but I guess the purpose of the static code block is to ensure the code will run only once.\r\n\r\nMy understanding is the the static code block will run very early, so I need to ensure the flag `disableVerifyLocalHost` has been initialized before running the static code block above. Also, I think the flag `disableVerifyLocalHost` must be static as well.\r\n\r\nFollowing is how I think this should be implemented, but not sure:\r\n\r\n```\r\npublic class A {\r\n\r\n   private static boolean disableVerifyLocalHost = false;\r\n   public static setDisableVerifyLocalHost(...) {...}\r\n   public static boolean getDisableVerifyLocalHost(.) {...}\r\n   \r\n   public callClassB() {\r\n       B classB = new B()\r\n   }\r\n}\r\n\r\n\r\npublic class B {\r\n\r\n\tstatic {\r\n\t\t//for localhost testing only\r\n\t\tif (A.getDisableVerifyLocalHost()) {\r\n\t\t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\r\n\t\t\t\tpublic boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n\t\t\t\t\tif (hostname.equals(&quot;localhost&quot;)) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMy question is how to ensure dependency between the code to initialize the flag `disableVerifyLocalHost` and the code to disable checking the hostname `localhost`? Or if you have a better suggestion, please let me know.","title":"How to make Java class to initialize another class, and execute static java code block conditionally","body":"<p>I am using WireMock and managed to configure it to use SSL in JUnit 4 tests and disable throwing error if the hostname doesn't match the WireMock self signed certificate with <code>CN=Tom Akehurst</code>.</p>\n<p>The code block I added to the JUnit test class:</p>\n<pre><code>    static {\n        //for localhost testing only\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n                if (hostname.equals(&quot;localhost&quot;)) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n</code></pre>\n<p>Note: replace <code>newJavaKeyword</code> with new as it is not posting without doing that.</p>\n<p>The following is the error thrown if the above code is not added:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No name matching localhost found\n</code></pre>\n<p>Now, I need to move with testing from my local to the server, and I still need to use <code>WireMock</code> and all the configured JSON mappings. This time, the test cases will run from the main process not from JUnit, so I need to add the flag <code>disableVerifyLocalHost</code> to be passed to say class <code>A</code> which will initialize class <code>B</code>. In class <code>B</code>, I want to run the above static code block only if the the flag <code>disableVerifyLocalHost</code> is <code>true</code>.</p>\n<p>I think I can put the code block above in a normal public method but I guess the purpose of the static code block is to ensure the code will run only once.</p>\n<p>My understanding is the the static code block will run very early, so I need to ensure the flag <code>disableVerifyLocalHost</code> has been initialized before running the static code block above. Also, I think the flag <code>disableVerifyLocalHost</code> must be static as well.</p>\n<p>Following is how I think this should be implemented, but not sure:</p>\n<pre><code>public class A {\n\n   private static boolean disableVerifyLocalHost = false;\n   public static setDisableVerifyLocalHost(...) {...}\n   public static boolean getDisableVerifyLocalHost(.) {...}\n   \n   public callClassB() {\n       B classB = new B()\n   }\n}\n\n\npublic class B {\n\n    static {\n        //for localhost testing only\n        if (A.getDisableVerifyLocalHost()) {\n            javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\n                public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n                    if (hostname.equals(&quot;localhost&quot;)) {\n                        return true;\n                    }\n                    return false;\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>My question is how to ensure dependency between the code to initialize the flag <code>disableVerifyLocalHost</code> and the code to disable checking the hostname <code>localhost</code>? Or if you have a better suggestion, please let me know.</p>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1690645472,"post_id":76788903,"comment_id":135383970,"body_markdown":"Your code is fine. An incrementing counter is what you need. The issues you mention need to be solved in the tool that exploit these metrics. Typically with Prometheus, there are functions that handle reset of a counter automatically and also there are functions to compute a rate from an increasing counter, etc...","body":"Your code is fine. An incrementing counter is what you need. The issues you mention need to be solved in the tool that exploit these metrics. Typically with Prometheus, there are functions that handle reset of a counter automatically and also there are functions to compute a rate from an increasing counter, etc..."}],"owner":{"account_id":245105,"reputation":770,"user_id":518404,"accept_rate":71,"display_name":"Quintonn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690564964,"creation_date":1690555919,"question_id":76788903,"body_markdown":"I have managed to create a Java Application that is able to report the number of message my app processes.  \r\n\r\nI am able to do this with the **LongCounter** metric type.  \r\n\r\nBut I&#39;ve noticed some strange behavior that I didn&#39;t expect.  \r\n\r\nFirstly, the instrumentation sends the last known value every 1 minute.  \r\nI think this is the interval on the **PeriodicMetricReader**.  \r\nWhat then happens in my metrics dashboard, is that if nothing has happened for the last 10 minutes, it will still show the last value as thought it was happening all the time.  \r\n\r\nThis is not too bad, as I can work with this.  \r\n\r\nMy biggest issue is that if my app shuts down and starts back up, my metrics start from zero again.  \r\n\r\nBut ideally I would like to have to continue.  \r\n\r\nI found an article that mentions Aggregation Temporality, and I tried setting this to deltaPreferred, but now with this value, the metrics are not showing up at all in my Signoz dashboards.  \r\n\r\nWhat I&#39;m trying to do is have a metric, simple number, that shows how many messages my app has processed.  \r\nWhile the app is running it works, but if the app restarts, the counter resets, which is wrong.  \r\nAnd I can&#39;t just sum the value, because it keeps sending the last known value every 1 minute. So if I process 1 message, the sum is going to double every 1 minute, or something like that.  \r\n\r\nMaybe I&#39;m doing something wrong.  \r\n\r\nHere is the core of my code:  \r\n\r\n```java\r\nfinal OtlpHttpMetricExporter metricExporter = OtlpHttpMetricExporter.builder().setEndpoint(otlpEndpoint + &quot;metrics&quot;).setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).setCompression(&quot;none&quot;).build();\r\nfinal SdkMeterProviderBuilder metricEmitterProviderBuilder = SdkMeterProvider.builder();\r\nmetricEmitterProviderBuilder.setResource(resource);\r\n\r\nfinal SdkMeterProviderBuilder metricProviderBuilder = metricEmitterProviderBuilder.registerMetricReader(PeriodicMetricReader.builder(metricExporter).setInterval(Duration.ofSeconds(Math.max(30, 50))).build());\r\n\r\nthis.meterProvider = metricProviderBuilder.build();\r\nthis.meter = this.meterProvider.meterBuilder(&quot;my-test&quot;).build();\r\nthis.counter = this.meter.counterBuilder(&quot;my_counter&quot;).setUnit(&quot;message&quot;).build();\r\n\r\n/// And later in my code:\r\n/// when my app sees a message it calls\r\nthis.counter.add(1);\r\n```","title":"Which metric to use for Open Telemetry for basic counter","body":"<p>I have managed to create a Java Application that is able to report the number of message my app processes.</p>\n<p>I am able to do this with the <strong>LongCounter</strong> metric type.</p>\n<p>But I've noticed some strange behavior that I didn't expect.</p>\n<p>Firstly, the instrumentation sends the last known value every 1 minute.<br />\nI think this is the interval on the <strong>PeriodicMetricReader</strong>.<br />\nWhat then happens in my metrics dashboard, is that if nothing has happened for the last 10 minutes, it will still show the last value as thought it was happening all the time.</p>\n<p>This is not too bad, as I can work with this.</p>\n<p>My biggest issue is that if my app shuts down and starts back up, my metrics start from zero again.</p>\n<p>But ideally I would like to have to continue.</p>\n<p>I found an article that mentions Aggregation Temporality, and I tried setting this to deltaPreferred, but now with this value, the metrics are not showing up at all in my Signoz dashboards.</p>\n<p>What I'm trying to do is have a metric, simple number, that shows how many messages my app has processed.<br />\nWhile the app is running it works, but if the app restarts, the counter resets, which is wrong.<br />\nAnd I can't just sum the value, because it keeps sending the last known value every 1 minute. So if I process 1 message, the sum is going to double every 1 minute, or something like that.</p>\n<p>Maybe I'm doing something wrong.</p>\n<p>Here is the core of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final OtlpHttpMetricExporter metricExporter = OtlpHttpMetricExporter.builder().setEndpoint(otlpEndpoint + &quot;metrics&quot;).setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).setCompression(&quot;none&quot;).build();\nfinal SdkMeterProviderBuilder metricEmitterProviderBuilder = SdkMeterProvider.builder();\nmetricEmitterProviderBuilder.setResource(resource);\n\nfinal SdkMeterProviderBuilder metricProviderBuilder = metricEmitterProviderBuilder.registerMetricReader(PeriodicMetricReader.builder(metricExporter).setInterval(Duration.ofSeconds(Math.max(30, 50))).build());\n\nthis.meterProvider = metricProviderBuilder.build();\nthis.meter = this.meterProvider.meterBuilder(&quot;my-test&quot;).build();\nthis.counter = this.meter.counterBuilder(&quot;my_counter&quot;).setUnit(&quot;message&quot;).build();\n\n/// And later in my code:\n/// when my app sees a message it calls\nthis.counter.add(1);\n</code></pre>\n"},{"tags":["java","unit-testing","groovy","spock"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690548060,"post_id":76787892,"comment_id":135372969,"body_markdown":"You are getting a new temp file. Why are you surprised it&#39;s empty?","body":"You are getting a new temp file. Why are you surprised it&#39;s empty?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1690810218,"post_id":76787892,"comment_id":135400682,"body_markdown":"Why do you mock such basic things like files and your excel library?","body":"Why do you mock such basic things like files and your excel library?"}],"answers":[{"comments":[{"owner":{"account_id":15568081,"reputation":197,"user_id":13065408,"display_name":"Thiluxan"},"score":0,"creation_date":1690797059,"post_id":76789820,"comment_id":135397980,"body_markdown":"Still I&#39;m getting the same empty file exception","body":"Still I&#39;m getting the same empty file exception"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1690810258,"post_id":76789820,"comment_id":135400692,"body_markdown":"@Thiluxan If you have new insights, then please edit your question, so we can see the progress and add your new errors.","body":"@Thiluxan If you have new insights, then please edit your question, so we can see the progress and add your new errors."}],"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690564117,"creation_date":1690564117,"answer_id":76789820,"question_id":76787892,"body_markdown":"Don&#39;t try to mock `File` or `FileInputStream`. Just use Spock&#39;s `@TempFile` extension to setup a temporary file with the necessary content.\r\n\r\nThis looks like you expect it to be mocked\r\n```\r\n  new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\r\n  new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\r\n```\r\nhowever that is not how it works.\r\n\r\nTry something along these lines, as I&#39;m not familiar with Apache POI the example might not work, but it should get you started.\r\n\r\n```groovy\r\nclass ASpec extends Specification {\r\n  @TempFile\r\n  File tempFile\r\n\r\n\r\n  def &quot;should generate claims error file&quot;(){\r\n    given: &#39;setup test workbook&#39;\r\n    def testWorkBook = XSSFWorkbook()\r\n    // add some testdata to workbook\r\n\r\n    and: &#39;save workbook&#39;\r\n    tempFile.withOutputStream { testWorkBook.write(it) }\r\n\r\n    and:\r\n    def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\r\n    HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\r\n    errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\r\n\r\n\r\n    when:\r\n    service.generateClaimsErrorFile(errorRecords, tempFile)\r\n\r\n    then:\r\n    noExceptionThrown()\r\n}\r\n```","title":"Getting org.apache.poi.EmptyFileException while writing unit test case for a java function using spock","body":"<p>Don't try to mock <code>File</code> or <code>FileInputStream</code>. Just use Spock's <code>@TempFile</code> extension to setup a temporary file with the necessary content.</p>\n<p>This looks like you expect it to be mocked</p>\n<pre><code>  new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\n  new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\n</code></pre>\n<p>however that is not how it works.</p>\n<p>Try something along these lines, as I'm not familiar with Apache POI the example might not work, but it should get you started.</p>\n<pre><code>class ASpec extends Specification {\n  @TempFile\n  File tempFile\n\n\n  def &quot;should generate claims error file&quot;(){\n    given: 'setup test workbook'\n    def testWorkBook = XSSFWorkbook()\n    // add some testdata to workbook\n\n    and: 'save workbook'\n    tempFile.withOutputStream { testWorkBook.write(it) }\n\n    and:\n    def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\n    HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\n    errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\n\n\n    when:\n    service.generateClaimsErrorFile(errorRecords, tempFile)\n\n    then:\n    noExceptionThrown()\n}\n</code></pre>\n"}],"owner":{"account_id":15568081,"reputation":197,"user_id":13065408,"display_name":"Thiluxan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690564117,"creation_date":1690547998,"question_id":76787892,"body_markdown":"I have this below unit test case for a java function:\r\n\r\n    def &quot;should generate claims error file&quot;(){\r\n        given:\r\n        def tempFile = new TempFile()\r\n        def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\r\n        HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\r\n        errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\r\n        def fileInputStream = Mock(FileInputStream)\r\n        def workBook = Mock(Workbook)\r\n        def file = Mock(File)\r\n    \r\n        and:\r\n        tempFile.getFile() &gt;&gt; file\r\n        file.length() &gt;&gt; 100\r\n        tempFile.getFile().getAbsolutePath() &gt;&gt; &quot;Temp File.xlsx&quot;\r\n        new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\r\n        new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\r\n    \r\n        when:\r\n        service.generateClaimsErrorFile(errorRecords, tempFile)\r\n    \r\n        then:\r\n        noExceptionThrown()\r\n      }\r\n\r\nThis test case is to execute the following piece of java function:\r\n\r\n    try (FileInputStream fis = new FileInputStream(tempFile.getFile().getAbsolutePath());\r\n             Workbook workbook = new XSSFWorkbook(fis)) \r\n    {}\r\n    catch(){}\r\n\r\nThe above test case is throwing `org.apache.poi.EmptyFileException` at the line `Workbook workbook = new XSSFWorkbook(fis)`. How can I fix this and what&#39;s the cause for this issue ?","title":"Getting org.apache.poi.EmptyFileException while writing unit test case for a java function using spock","body":"<p>I have this below unit test case for a java function:</p>\n<pre><code>def &quot;should generate claims error file&quot;(){\n    given:\n    def tempFile = new TempFile()\n    def excelErrorRecord = new ExcelErrorRecord(row: 5, col: 4, message: &quot;Test Message&quot;)\n    HashMap&lt;String, List&lt;ExcelErrorRecord&gt;&gt; errorRecords = new HashMap&lt;&gt;();\n    errorRecords.put(&quot;Medical&quot;,[excelErrorRecord])\n    def fileInputStream = Mock(FileInputStream)\n    def workBook = Mock(Workbook)\n    def file = Mock(File)\n\n    and:\n    tempFile.getFile() &gt;&gt; file\n    file.length() &gt;&gt; 100\n    tempFile.getFile().getAbsolutePath() &gt;&gt; &quot;Temp File.xlsx&quot;\n    new FileInputStream(tempFile.getFile().getAbsolutePath()) &gt;&gt; fileInputStream\n    new XSSFWorkbook(fileInputStream) &gt;&gt; workBook\n\n    when:\n    service.generateClaimsErrorFile(errorRecords, tempFile)\n\n    then:\n    noExceptionThrown()\n  }\n</code></pre>\n<p>This test case is to execute the following piece of java function:</p>\n<pre><code>try (FileInputStream fis = new FileInputStream(tempFile.getFile().getAbsolutePath());\n         Workbook workbook = new XSSFWorkbook(fis)) \n{}\ncatch(){}\n</code></pre>\n<p>The above test case is throwing <code>org.apache.poi.EmptyFileException</code> at the line <code>Workbook workbook = new XSSFWorkbook(fis)</code>. How can I fix this and what's the cause for this issue ?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1690610938,"post_id":76789816,"comment_id":135380499,"body_markdown":"If you are using Tomcat from within Eclipse, try a separate stock install of Tomcat (unzip) and run the web app. Check the logs and see if you are getting any exceptions, warnings, that might give more details of the issue.","body":"If you are using Tomcat from within Eclipse, try a separate stock install of Tomcat (unzip) and run the web app. Check the logs and see if you are getting any exceptions, warnings, that might give more details of the issue."}],"owner":{"account_id":303455,"reputation":43,"user_id":1411421,"accept_rate":25,"display_name":"Marko Sepp&#228;nen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690564081,"creation_date":1690564081,"question_id":76789816,"body_markdown":"When I&#39;m uploading a zipfile to a servlet as a *multipart/form-data*, its parts will be available when the file size is about 480 MB or less, but when the filesize is about 506 MB or more, *req.getParts().size()* is zero.\r\n\r\nThe Tomcat server seems to use the configuration values, which are set in files server.xml and application&#39;s web.xml. I tried to set relevant max sizes to &quot;-1&quot;, but to no avail as I couldn&#39;t upload a file that is slightly larger than 0.5 GB or so.\r\n\r\n**server.xml** - Connector has these values:\r\n\r\n```\r\nmaxPostSize=&quot;-1&quot;\r\nmaxHttpHeaderSize=&quot;65536&quot;\r\ndisableUploadTimeout=&quot;true&quot;\r\nprotocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n```\r\n\r\n**web.xml** - servlet&#39;s multipart-config has these values:\r\n\r\n```\r\n&lt;max-file-size&gt;-1&lt;/max-file-size&gt;\r\n&lt;max-request-size&gt;-1&lt;/max-request-size&gt;\r\n```\r\n\r\nWhat other configuration needs to be done to make Tomcat to not drop parts that are too large? Other parts aren&#39;t left out. E.g. the value of the &quot;dfgdfgd&quot; in the example would still be available, when doing req.getPart(&quot;dfgdfgd&quot;);\r\n\r\n```\r\nvar formdata = new FormData();\r\nformdata.append(&quot;dfgdfg&quot;, &quot;dfgdfgd&quot;);\r\nformdata.append(&quot;filedata&quot;, filedata);\r\n\r\n$.ajax({\r\n\turl: servletpath,\r\n\tmethod: &quot;POST&quot;,\r\n\tprocessData: false,\r\n\tcontentType: false,\r\n\tdata: formdata\r\n}).done(function(data) {\r\n```\r\n\r\nI was going to process &quot;filedata&quot; part in a later phase by retrieving it using req.getPart(&quot;filedata&quot;) and BufferedInputStream, but too large files cause problems as the req.getPart(&quot;filedata&quot;) would be just null.\r\n\r\nI&#39;m using Tomcat 9, Servlet Spec 4.0. I&#39;m using protocol &quot;Http11NioProtocol&quot;, because Eclipse can&#39;t start Tomcat, when it is set as &quot;Http11Nio2Protocol&quot;.","title":"What to configure, when Tomcat gladly accepts a 480 MB upload, but not much more even without maxsize restrictions?","body":"<p>When I'm uploading a zipfile to a servlet as a <em>multipart/form-data</em>, its parts will be available when the file size is about 480 MB or less, but when the filesize is about 506 MB or more, <em>req.getParts().size()</em> is zero.</p>\n<p>The Tomcat server seems to use the configuration values, which are set in files server.xml and application's web.xml. I tried to set relevant max sizes to &quot;-1&quot;, but to no avail as I couldn't upload a file that is slightly larger than 0.5 GB or so.</p>\n<p><strong>server.xml</strong> - Connector has these values:</p>\n<pre><code>maxPostSize=&quot;-1&quot;\nmaxHttpHeaderSize=&quot;65536&quot;\ndisableUploadTimeout=&quot;true&quot;\nprotocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n</code></pre>\n<p><strong>web.xml</strong> - servlet's multipart-config has these values:</p>\n<pre><code>&lt;max-file-size&gt;-1&lt;/max-file-size&gt;\n&lt;max-request-size&gt;-1&lt;/max-request-size&gt;\n</code></pre>\n<p>What other configuration needs to be done to make Tomcat to not drop parts that are too large? Other parts aren't left out. E.g. the value of the &quot;dfgdfgd&quot; in the example would still be available, when doing req.getPart(&quot;dfgdfgd&quot;);</p>\n<pre><code>var formdata = new FormData();\nformdata.append(&quot;dfgdfg&quot;, &quot;dfgdfgd&quot;);\nformdata.append(&quot;filedata&quot;, filedata);\n\n$.ajax({\n    url: servletpath,\n    method: &quot;POST&quot;,\n    processData: false,\n    contentType: false,\n    data: formdata\n}).done(function(data) {\n</code></pre>\n<p>I was going to process &quot;filedata&quot; part in a later phase by retrieving it using req.getPart(&quot;filedata&quot;) and BufferedInputStream, but too large files cause problems as the req.getPart(&quot;filedata&quot;) would be just null.</p>\n<p>I'm using Tomcat 9, Servlet Spec 4.0. I'm using protocol &quot;Http11NioProtocol&quot;, because Eclipse can't start Tomcat, when it is set as &quot;Http11Nio2Protocol&quot;.</p>\n"},{"tags":["java","amazon-web-services","rest","opensearch"],"owner":{"account_id":29112667,"reputation":1,"user_id":22302125,"display_name":"Manda Snehashish Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690563921,"creation_date":1690563563,"question_id":76789750,"body_markdown":"So, I have some documents in OpenSearch that I need to query a lot. My requirement is nothing more than sending a GET request to search for a keyword in an index that I would also specify and get back a JSON document/string that I could process. The JSON documents could be of any length or format so, mapping it to a class is not a possibility.\r\n\r\nI neither need to create indexes nor update or delete or anything else really. I only need the output of a GET request. I have the AWS endpoint, the username, and password for the endpoint with me and nothing else. Certificates, temporary access_keys and everything else is practically out of the question because my University won&#39;t give me anything more than this.\r\n\r\nI prefer Java and was planning to deploy my code as a microservice using Elastic Beanstalk or some other method. I&#39;m using Javalin to create my microservice&#39;s endpoints. Can&#39;t use SpringBoot, it&#39;s too heavy for my small use cases.\r\n\r\nThis is the code that I could get working out of all my tries.\r\n\r\n\r\n```\r\nimport org.apache.http.HttpHost;\r\nimport org.apache.http.auth.AuthScope;\r\nimport org.apache.http.auth.UsernamePasswordCredentials;\r\nimport org.apache.http.impl.client.BasicCredentialsProvider;\r\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\nimport org.opensearch.client.RestClient;\r\nimport org.opensearch.client.RestClientBuilder;\r\nimport org.opensearch.client.json.jackson.JacksonJsonpMapper;\r\nimport org.opensearch.client.opensearch.OpenSearchClient;\r\nimport org.opensearch.client.transport.OpenSearchTransport;\r\nimport org.opensearch.client.transport.rest_client.RestClientTransport;\r\n\r\npublic class OpenSearchInstance {\r\n\t\r\n\tpublic OpenSearchClient createOpenSearchClient(String username, String password, String host, Integer port) {\r\n\t\tfinal HttpHost httpHost = new HttpHost(&quot;https&quot;, port, host);\r\n\t\tfinal BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\t\t\r\n\t\tcredentialsProvider.setCredentials(new AuthScope(httpHost), new UsernamePasswordCredentials(username, password));\r\n\t\t\r\n\t\tfinal RestClient restClient = RestClient.builder(httpHost)\r\n\t\t\t\t.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n\t\t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).build();\r\n\t\t\r\n\t\tfinal OpenSearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n\t\tfinal OpenSearchClient client = new OpenSearchClient(transport);\r\n\t\t\r\n\t\treturn client;\r\n\t}\r\n}\r\n```\r\n\r\nBut when I try to run this code from my Main class, I get a Host scheme not supported exception. For reference, the OpenSearch version of my endpoint is 2.7.0\r\n\r\nMy only use case is putting out GET requests with queries in them to OpenSearch and getting back the JSON string. I don&#39;t need any advanced functionality like pagination or sorting or anything really right now.","title":"Is there a minimal-boilerplate way I can send a GET request to my AWS endpoint?","body":"<p>So, I have some documents in OpenSearch that I need to query a lot. My requirement is nothing more than sending a GET request to search for a keyword in an index that I would also specify and get back a JSON document/string that I could process. The JSON documents could be of any length or format so, mapping it to a class is not a possibility.</p>\n<p>I neither need to create indexes nor update or delete or anything else really. I only need the output of a GET request. I have the AWS endpoint, the username, and password for the endpoint with me and nothing else. Certificates, temporary access_keys and everything else is practically out of the question because my University won't give me anything more than this.</p>\n<p>I prefer Java and was planning to deploy my code as a microservice using Elastic Beanstalk or some other method. I'm using Javalin to create my microservice's endpoints. Can't use SpringBoot, it's too heavy for my small use cases.</p>\n<p>This is the code that I could get working out of all my tries.</p>\n<pre><code>import org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.opensearch.client.RestClient;\nimport org.opensearch.client.RestClientBuilder;\nimport org.opensearch.client.json.jackson.JacksonJsonpMapper;\nimport org.opensearch.client.opensearch.OpenSearchClient;\nimport org.opensearch.client.transport.OpenSearchTransport;\nimport org.opensearch.client.transport.rest_client.RestClientTransport;\n\npublic class OpenSearchInstance {\n    \n    public OpenSearchClient createOpenSearchClient(String username, String password, String host, Integer port) {\n        final HttpHost httpHost = new HttpHost(&quot;https&quot;, port, host);\n        final BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        \n        credentialsProvider.setCredentials(new AuthScope(httpHost), new UsernamePasswordCredentials(username, password));\n        \n        final RestClient restClient = RestClient.builder(httpHost)\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                    \n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                        return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                }).build();\n        \n        final OpenSearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n        final OpenSearchClient client = new OpenSearchClient(transport);\n        \n        return client;\n    }\n}\n</code></pre>\n<p>But when I try to run this code from my Main class, I get a Host scheme not supported exception. For reference, the OpenSearch version of my endpoint is 2.7.0</p>\n<p>My only use case is putting out GET requests with queries in them to OpenSearch and getting back the JSON string. I don't need any advanced functionality like pagination or sorting or anything really right now.</p>\n"},{"tags":["java","spring","rest","design-patterns"],"comments":[{"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"score":0,"creation_date":1690558698,"post_id":76788651,"comment_id":135375374,"body_markdown":"I don&#39;t think so.","body":"I don&#39;t think so."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645313,"post_id":76788651,"comment_id":135383954,"body_markdown":"When you have two domains that are totally independent/decoupled , behind their boundaries and both domains use their own models to represent data then you have to translate the data in order to use it cross-domain. You have to introduce an interface (architectural layer) that converts between the domains.","body":"When you have two domains that are totally independent/decoupled , behind their boundaries and both domains use their own models to represent data then you have to translate the data in order to use it cross-domain. You have to introduce an interface (architectural layer) that converts between the domains."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645339,"post_id":76788651,"comment_id":135383958,"body_markdown":"Take a look at a database system. They introduce the same problem: two independent domains (database and client) that have to exchange data. Solution: you introduce an extra layer, a data object mapper (ORM framework) to convert between the models of both domains. Unless you can allow both domains to use the same data models to satisfy the interface (in order to allow data to cross the domain boundaries) you have no other alternative. You need that extra layer. Such a common type is not possible in the example of the database. But it is possible in case you are the owner of both domains.","body":"Take a look at a database system. They introduce the same problem: two independent domains (database and client) that have to exchange data. Solution: you introduce an extra layer, a data object mapper (ORM framework) to convert between the models of both domains. Unless you can allow both domains to use the same data models to satisfy the interface (in order to allow data to cross the domain boundaries) you have no other alternative. You need that extra layer. Such a common type is not possible in the example of the database. But it is possible in case you are the owner of both domains."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645397,"post_id":76788651,"comment_id":135383963,"body_markdown":"What you must do is to introduce a kind of protocol. Like REST APIs do. For example you could use serialization: serialize the data objects of domain A to JSON. Pass the JSON across the boundaries. Deserialize the JSON to a model type of domain B. In this case the JSON data model dictates how the data has to be formatted in order to pass the boundaries. The JSON objects are owned by the interface layer that connects both domains. This interface layer provides the communication channel and data transport objects (JSON).","body":"What you must do is to introduce a kind of protocol. Like REST APIs do. For example you could use serialization: serialize the data objects of domain A to JSON. Pass the JSON across the boundaries. Deserialize the JSON to a model type of domain B. In this case the JSON data model dictates how the data has to be formatted in order to pass the boundaries. The JSON objects are owned by the interface layer that connects both domains. This interface layer provides the communication channel and data transport objects (JSON)."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690645400,"post_id":76788651,"comment_id":135383964,"body_markdown":"The data transport model can be any of type. JSON was just an example because I thought you could relate to it and it&#39;s functionality because it is a popular format used to transfer data across the client-server domain. The point is, the interface request data in a particular form (the protocol). The communicating objects are now responsible to perform the conversion from domain data types to the transport data type. This provides a clean separation and doesn&#39;t break information hiding principles.","body":"The data transport model can be any of type. JSON was just an example because I thought you could relate to it and it&#39;s functionality because it is a popular format used to transfer data across the client-server domain. The point is, the interface request data in a particular form (the protocol). The communicating objects are now responsible to perform the conversion from domain data types to the transport data type. This provides a clean separation and doesn&#39;t break information hiding principles."}],"owner":{"account_id":26335980,"reputation":3,"user_id":19995812,"display_name":"uzarkov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690563804,"creation_date":1690553955,"question_id":76788651,"body_markdown":"I have a following problem. I have two classes: `AnimalService` responsible for domain logic and `AnimalController` which is responsible for public API available to clients. `AnimalServices` uses domain abstract class `Animal` and `AnimalController` uses DTO objects. `AnimalService` is not aware of `AnimalController` existence, so `Animal` class does not know about `AnimalDTO`.\r\n\r\n```\r\npublic abstract class Animal {\r\n   ...\r\n}\r\n\r\npublic class AnimalController {\r\n\r\n   private final AnimalMapper animalMapper;\r\n\r\n   ...\r\n   \r\n   public AnimalDTO createAnimal(AnimalDTO newAnimal) {\r\n      Animal domainAnimal = animalMapper.fromDTO(newAnimal);\r\n      Animal createdAnimal = animalService.createAnimal(domainAnimal);\r\n      return animalMapper.toDTO(createdAnimal);\r\n   }\r\n}\r\n\r\npublic class AnimalService {\r\n   \r\n   public Animal createAnimal(Animal domainAnimal) {\r\n      ...\r\n   }\r\n}\r\n```\r\n\r\nSince the `Animal` class may have many implementations, Im having troubles with designing `AnimalDTO`. Creating a new `DTO` for every new implementation of `Animal` seems like a very bad dependency, which requires changes in multiple places each and every time and a `Single Responsibility` principle violation. \r\n\r\nIs there any better solution / design that I could possibly use in that case?\r\n","title":"Abstract classes in DTO - complex dependency beetwen layers","body":"<p>I have a following problem. I have two classes: <code>AnimalService</code> responsible for domain logic and <code>AnimalController</code> which is responsible for public API available to clients. <code>AnimalServices</code> uses domain abstract class <code>Animal</code> and <code>AnimalController</code> uses DTO objects. <code>AnimalService</code> is not aware of <code>AnimalController</code> existence, so <code>Animal</code> class does not know about <code>AnimalDTO</code>.</p>\n<pre><code>public abstract class Animal {\n   ...\n}\n\npublic class AnimalController {\n\n   private final AnimalMapper animalMapper;\n\n   ...\n   \n   public AnimalDTO createAnimal(AnimalDTO newAnimal) {\n      Animal domainAnimal = animalMapper.fromDTO(newAnimal);\n      Animal createdAnimal = animalService.createAnimal(domainAnimal);\n      return animalMapper.toDTO(createdAnimal);\n   }\n}\n\npublic class AnimalService {\n   \n   public Animal createAnimal(Animal domainAnimal) {\n      ...\n   }\n}\n</code></pre>\n<p>Since the <code>Animal</code> class may have many implementations, Im having troubles with designing <code>AnimalDTO</code>. Creating a new <code>DTO</code> for every new implementation of <code>Animal</code> seems like a very bad dependency, which requires changes in multiple places each and every time and a <code>Single Responsibility</code> principle violation.</p>\n<p>Is there any better solution / design that I could possibly use in that case?</p>\n"},{"tags":["java","apache-kafka","apache-flink","exactly-once"],"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1592555360,"post_id":62466188,"comment_id":110472972,"body_markdown":"Here (https://stackoverflow.com/a/58644689/2096986) they implemented their own `KafkaSerializationSchema` on the class `ObjSerializationSchema`. I guess it can help to solve your issue since it is a serialization error.","body":"Here (<a href=\"https://stackoverflow.com/a/58644689/2096986\">stackoverflow.com/a/58644689/2096986</a>) they implemented their own <code>KafkaSerializationSchema</code> on the class <code>ObjSerializationSchema</code>. I guess it can help to solve your issue since it is a serialization error."},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1592556447,"post_id":62466188,"comment_id":110473467,"body_markdown":"The KafkaEventSerializationSchema is the one I use from the example. Which i can&#39;t link right now, seems github is down.\nAnyway it also extends KafkaSerializationSchema just like you&#39;re suggesting. I can&#39;t understand what is the problem. If the serialization was a problem. Why does it work when not using EXACTLY_ONCE? and not work when using it?","body":"The KafkaEventSerializationSchema is the one I use from the example. Which i can&#39;t link right now, seems github is down. Anyway it also extends KafkaSerializationSchema just like you&#39;re suggesting. I can&#39;t understand what is the problem. If the serialization was a problem. Why does it work when not using EXACTLY_ONCE? and not work when using it?"},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1592557051,"post_id":62466188,"comment_id":110473741,"body_markdown":"So `KafkaEventSerializationSchema` is the class that you created that implements `KafkaSerializationSchema`. On the java docs says this caveat `Please also implement KafkaContextAware if your serialization schema needs information about the available partitions and the number of parallel subtasks along with the subtask ID on which the Kafka Producer is running.` https://ci.apache.org/projects/flink/flink-docs-release-1.9/api/java/index.html?org/apache/flink/streaming/connectors/kafka/KafkaSerializationSchema.html . Maybe if you post your class it is easier to identify the error.","body":"So <code>KafkaEventSerializationSchema</code> is the class that you created that implements <code>KafkaSerializationSchema</code>. On the java docs says this caveat <code>Please also implement KafkaContextAware if your serialization schema needs information about the available partitions and the number of parallel subtasks along with the subtask ID on which the Kafka Producer is running.</code> <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.9/api/java/index.html?org/apache/flink/streaming/connectors/kafka/KafkaSerializationSchema.html\" rel=\"nofollow noreferrer\">ci.apache.org/projects/flink/flink-docs-release-1.9/api/java&zwnj;&#8203;/&hellip;</a> . Maybe if you post your class it is easier to identify the error."},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1592557551,"post_id":62466188,"comment_id":110473963,"body_markdown":"I will update the post. I cannot post code here.","body":"I will update the post. I cannot post code here."},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1592557992,"post_id":62466188,"comment_id":110474176,"body_markdown":"I guess it is related to timeout when you are using `EXACTLY_ONCE` according to this answer https://stackoverflow.com/a/58648019/2096986","body":"I guess it is related to timeout when you are using <code>EXACTLY_ONCE</code> according to this answer <a href=\"https://stackoverflow.com/a/58648019/2096986\">stackoverflow.com/a/58648019/2096986</a>"},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1592563053,"post_id":62466188,"comment_id":110476402,"body_markdown":"But that is not what the exception is saying. If `transaction.max.timeout.ms` is the problem. What should it be set to? if it is  15 minutes by default, and I get this exception immediately when trying to run the job. I don&#39;t see how it could&#39;ve timeout in few seconds.","body":"But that is not what the exception is saying. If <code>transaction.max.timeout.ms</code> is the problem. What should it be set to? if it is  15 minutes by default, and I get this exception immediately when trying to run the job. I don&#39;t see how it could&#39;ve timeout in few seconds."},{"owner":{"account_id":444651,"reputation":530,"user_id":836606,"display_name":"xrcsblue"},"score":0,"creation_date":1592568408,"post_id":62466188,"comment_id":110479001,"body_markdown":"I am seeing the same error, but the behaviour is inconsistent for me, the same application may fail with this error or work fine( exatly_once and checkpointing enabled in both cases). In my test env when I enabled exactly once I had the transaction.max.timeout.ms related error first, which I fixed by reducing the kafka producer transaction.timeout.ms, but that was a different error).","body":"I am seeing the same error, but the behaviour is inconsistent for me, the same application may fail with this error or work fine( exatly_once and checkpointing enabled in both cases). In my test env when I enabled exactly once I had the transaction.max.timeout.ms related error first, which I fixed by reducing the kafka producer transaction.timeout.ms, but that was a different error)."},{"owner":{"account_id":310386,"reputation":1494,"user_id":623334,"accept_rate":62,"display_name":"vikash dat"},"score":0,"creation_date":1596060322,"post_id":62466188,"comment_id":111693065,"body_markdown":"@WiggyLindholm were you able to resolve this?","body":"@WiggyLindholm were you able to resolve this?"},{"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"score":0,"creation_date":1596125466,"post_id":62466188,"comment_id":111717901,"body_markdown":"@vikash-dat Not really. I made many tweaks back and forth and nothing made it work. The exception seem to come less and less but still occur sometimes. I don&#39;t know why and I got some code provided from a colleague (which I cannot share publicly) however, as far as my eye can see. Practically the same so I don&#39;t know why it works now, or why it didn&#39;t work then. Sorry.\n\nMaybe if I have time at some point I can try to get a working example and post on github.","body":"@vikash-dat Not really. I made many tweaks back and forth and nothing made it work. The exception seem to come less and less but still occur sometimes. I don&#39;t know why and I got some code provided from a colleague (which I cannot share publicly) however, as far as my eye can see. Practically the same so I don&#39;t know why it works now, or why it didn&#39;t work then. Sorry.  Maybe if I have time at some point I can try to get a working example and post on github."}],"answers":[{"tags":[],"owner":{"account_id":4922112,"reputation":1,"user_id":3964434,"display_name":"Ivan Letenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592836778,"creation_date":1592836778,"answer_id":62516983,"question_id":62466188,"body_markdown":"I ran into the same problem and explicitly setting a timeout for the producer helped.\r\n`properties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;900000&quot;);`\r\n","title":"Flink Kafka EXACTLY_ONCE causing KafkaException ByteArraySerializer is not an instance of Serializer","body":"<p>I ran into the same problem and explicitly setting a timeout for the producer helped.\n<code>properties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;900000&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":1437254,"reputation":559,"user_id":8555541,"display_name":"Swapnil Khante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690563771,"creation_date":1690563771,"answer_id":76789779,"question_id":62466188,"body_markdown":"Following parameters are required to enable EXACTLY_ONCE processing\r\n - `transaction.max.timeout.ms` on your Kafka broker should be beyond the maximum expected Flink and/or Kafka downtime.\r\n- The value for `transaction.timeout.ms` is lower than `transaction.max.timeout.ms`.\r\n\r\nFor example,\r\n\r\n```\r\nProperties producerProperties = new Properties();\r\nproducerProperties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;60000&quot;);\r\n```\r\n\r\nIn addition to this you need to set the value for `setTransactionalIdPrefix`. This value has to be unique for each Flink application that you run in the same Kafka cluster.\r\n\r\n","title":"Flink Kafka EXACTLY_ONCE causing KafkaException ByteArraySerializer is not an instance of Serializer","body":"<p>Following parameters are required to enable EXACTLY_ONCE processing</p>\n<ul>\n<li><code>transaction.max.timeout.ms</code> on your Kafka broker should be beyond the maximum expected Flink and/or Kafka downtime.</li>\n<li>The value for <code>transaction.timeout.ms</code> is lower than <code>transaction.max.timeout.ms</code>.</li>\n</ul>\n<p>For example,</p>\n<pre><code>Properties producerProperties = new Properties();\nproducerProperties.setProperty(&quot;transaction.timeout.ms&quot;, &quot;60000&quot;);\n</code></pre>\n<p>In addition to this you need to set the value for <code>setTransactionalIdPrefix</code>. This value has to be unique for each Flink application that you run in the same Kafka cluster.</p>\n"}],"owner":{"account_id":1061042,"reputation":350,"user_id":1062668,"accept_rate":100,"display_name":"Olindholm"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1690563771,"creation_date":1592554878,"question_id":62466188,"body_markdown":"So, I&#39;m trying to enable EXACTLY_ONCE semantic in my Flink Kafka streaming job along with checkpointing.\r\n\r\nHowever I am not getting it to work, so I tried downloading the test sample code from Github:\r\nhttps://github.com/apache/flink/blob/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test/src/main/java/org/apache/flink/streaming/kafka/test/KafkaExample.java\r\n\r\nSo running this works fine. However, when enabling checkpointing I get errors.\r\nOr if I change EXACTLY_ONCE to AT_LEAST_ONCE semantics and enable checkpointing, it works fine. But then when changing it to EXACTLY_ONCE, I get this error again.\r\n\r\n\r\nThe exception I&#39;m getting:\r\n```\r\norg.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\r\n\tat java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\r\n\tat java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:735)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)\r\n\tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.abortTransactions(FlinkKafkaProducer.java:1099)\r\n\tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.initializeState(FlinkKafkaProducer.java:1036)\r\n\tat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.tryRestoreFunction(StreamingFunctionUtils.java:178)\r\n\tat org.apache.flink.streaming.util.functions.StreamingFunctionUtils.restoreFunctionState(StreamingFunctionUtils.java:160)\r\n\tat org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.initializeState(AbstractUdfStreamOperator.java:96)\r\n\tat org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:284)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.initializeStateAndOpen(StreamTask.java:1006)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:454)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:94)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:449)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:461)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:707)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:532)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:430)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:298)\r\n\tat org.apache.flink.streaming.connectors.kafka.internal.FlinkKafkaInternalProducer.&lt;init&gt;(FlinkKafkaInternalProducer.java:76)\r\n\tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.lambda$abortTransactions$2(FlinkKafkaProducer.java:1107)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\r\n\tat java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: org.apache.kafka.common.KafkaException: org.apache.kafka.common.serialization.ByteArraySerializer is not an instance of org.apache.kafka.common.serialization.Serializer\r\n\tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:304)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:360)\r\n\t... 12 more\r\n```\r\n\r\nI&#39;ve made slight changes to the code to work in my enviroment. I&#39;m running it inside the flink operations playground inside docker. (This https://ci.apache.org/projects/flink/flink-docs-stable/getting-started/docker-playgrounds/flink-operations-playground.html). Latest version, 1.10 and the provided kafka inside that is verison 2.2.1\r\n\r\n```\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n\t\tenv.enableCheckpointing(1_000);\r\n\r\n\t\tString inputTopic = &quot;my-input&quot;;\r\n\t\tString outputTopic = &quot;my-output&quot;;\r\n\t\tString kafkaHost = &quot;kafka:9092&quot;;\r\n\r\n\t\tProperties kafkaProps = new Properties();\r\n\t\tkafkaProps.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaHost);\r\n\t\tkafkaProps.setProperty(ConsumerConfig.GROUP_ID_CONFIG, &quot;test&quot;);\r\n\r\n\r\n\t\tDataStream&lt;KafkaEvent&gt; input = env\r\n\t\t\t\t.addSource(new FlinkKafkaConsumer&lt;&gt;(inputTopic, new KafkaEventSchema(), kafkaProps)\r\n\t\t\t\t\t\t.assignTimestampsAndWatermarks(new CustomWatermarkExtractor()))\r\n\t\t\t\t.keyBy(&quot;word&quot;)\r\n\t\t\t\t.map(new RollingAdditionMapper());\r\n\r\n\t\tinput.addSink(\r\n\t\t\t\tnew FlinkKafkaProducer&lt;&gt;(\r\n\t\t\t\t\t\toutputTopic,\r\n\t\t\t\t\t\tnew KafkaEventSerializationSchema(outputTopic),\r\n\t\t\t\t\t\tkafkaProps,\r\n\t\t\t\t\t\tFlinkKafkaProducer.Semantic.EXACTLY_ONCE));\r\n\r\n\t\tenv.execute(&quot;Modern Kafka Example&quot;);\r\n\t}\r\n```\r\n\r\nOther classes from the example can be found:\r\nhttps://github.com/apache/flink/tree/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test-base/src/main/java/org/apache/flink/streaming/kafka/test/base\r\n\r\nI did try to change the serialization to use KafkaSerializationSchema rather than the example code which use SerializationSchema. However that code, below did not help either. Same error.\r\n```\r\nimport org.apache.flink.streaming.connectors.kafka.KafkaSerializationSchema;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\npublic class KafkaEventSerializationSchema implements KafkaSerializationSchema&lt;KafkaEvent&gt; {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate String topic;\r\n\r\n\tpublic KafkaEventSerializationSchema(String topic) {\r\n\t\tthis.topic = topic;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ProducerRecord&lt;byte[], byte[]&gt; serialize(KafkaEvent element, Long timestamp) {\r\n\t\treturn new ProducerRecord&lt;&gt;(topic, element.toString().getBytes());\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nAll help appreciated. I haven&#39;t been able to find any online working code of EXACTLY_ONCE garantuee between flink and kafka. Only loads articles talking about it but not actual substancial working code. That&#39;s all I&#39;m trying to achieve here.","title":"Flink Kafka EXACTLY_ONCE causing KafkaException ByteArraySerializer is not an instance of Serializer","body":"<p>So, I'm trying to enable EXACTLY_ONCE semantic in my Flink Kafka streaming job along with checkpointing.</p>\n\n<p>However I am not getting it to work, so I tried downloading the test sample code from Github:\n<a href=\"https://github.com/apache/flink/blob/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test/src/main/java/org/apache/flink/streaming/kafka/test/KafkaExample.java\" rel=\"noreferrer\">https://github.com/apache/flink/blob/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test/src/main/java/org/apache/flink/streaming/kafka/test/KafkaExample.java</a></p>\n\n<p>So running this works fine. However, when enabling checkpointing I get errors.\nOr if I change EXACTLY_ONCE to AT_LEAST_ONCE semantics and enable checkpointing, it works fine. But then when changing it to EXACTLY_ONCE, I get this error again.</p>\n\n<p>The exception I'm getting:</p>\n\n<pre><code>org.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\n    at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\n    at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:735)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.abortTransactions(FlinkKafkaProducer.java:1099)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.initializeState(FlinkKafkaProducer.java:1036)\n    at org.apache.flink.streaming.util.functions.StreamingFunctionUtils.tryRestoreFunction(StreamingFunctionUtils.java:178)\n    at org.apache.flink.streaming.util.functions.StreamingFunctionUtils.restoreFunctionState(StreamingFunctionUtils.java:160)\n    at org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.initializeState(AbstractUdfStreamOperator.java:96)\n    at org.apache.flink.streaming.api.operators.AbstractStreamOperator.initializeState(AbstractStreamOperator.java:284)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.initializeStateAndOpen(StreamTask.java:1006)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.lambda$beforeInvoke$0(StreamTask.java:454)\n    at org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$SynchronizedStreamTaskActionExecutor.runThrowing(StreamTaskActionExecutor.java:94)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.beforeInvoke(StreamTask.java:449)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:461)\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:707)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:532)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:430)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:298)\n    at org.apache.flink.streaming.connectors.kafka.internal.FlinkKafkaInternalProducer.&lt;init&gt;(FlinkKafkaInternalProducer.java:76)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer.lambda$abortTransactions$2(FlinkKafkaProducer.java:1107)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\n    at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: org.apache.kafka.common.KafkaException: org.apache.kafka.common.serialization.ByteArraySerializer is not an instance of org.apache.kafka.common.serialization.Serializer\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:304)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:360)\n    ... 12 more\n</code></pre>\n\n<p>I've made slight changes to the code to work in my enviroment. I'm running it inside the flink operations playground inside docker. (This <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/getting-started/docker-playgrounds/flink-operations-playground.html\" rel=\"noreferrer\">https://ci.apache.org/projects/flink/flink-docs-stable/getting-started/docker-playgrounds/flink-operations-playground.html</a>). Latest version, 1.10 and the provided kafka inside that is verison 2.2.1</p>\n\n<pre><code>    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        env.enableCheckpointing(1_000);\n\n        String inputTopic = \"my-input\";\n        String outputTopic = \"my-output\";\n        String kafkaHost = \"kafka:9092\";\n\n        Properties kafkaProps = new Properties();\n        kafkaProps.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaHost);\n        kafkaProps.setProperty(ConsumerConfig.GROUP_ID_CONFIG, \"test\");\n\n\n        DataStream&lt;KafkaEvent&gt; input = env\n                .addSource(new FlinkKafkaConsumer&lt;&gt;(inputTopic, new KafkaEventSchema(), kafkaProps)\n                        .assignTimestampsAndWatermarks(new CustomWatermarkExtractor()))\n                .keyBy(\"word\")\n                .map(new RollingAdditionMapper());\n\n        input.addSink(\n                new FlinkKafkaProducer&lt;&gt;(\n                        outputTopic,\n                        new KafkaEventSerializationSchema(outputTopic),\n                        kafkaProps,\n                        FlinkKafkaProducer.Semantic.EXACTLY_ONCE));\n\n        env.execute(\"Modern Kafka Example\");\n    }\n</code></pre>\n\n<p>Other classes from the example can be found:\n<a href=\"https://github.com/apache/flink/tree/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test-base/src/main/java/org/apache/flink/streaming/kafka/test/base\" rel=\"noreferrer\">https://github.com/apache/flink/tree/c025407e8a11dff344b587324ed73bdba2024dff/flink-end-to-end-tests/flink-streaming-kafka-test-base/src/main/java/org/apache/flink/streaming/kafka/test/base</a></p>\n\n<p>I did try to change the serialization to use KafkaSerializationSchema rather than the example code which use SerializationSchema. However that code, below did not help either. Same error.</p>\n\n<pre><code>import org.apache.flink.streaming.connectors.kafka.KafkaSerializationSchema;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\npublic class KafkaEventSerializationSchema implements KafkaSerializationSchema&lt;KafkaEvent&gt; {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    private String topic;\n\n    public KafkaEventSerializationSchema(String topic) {\n        this.topic = topic;\n    }\n\n    @Override\n    public ProducerRecord&lt;byte[], byte[]&gt; serialize(KafkaEvent element, Long timestamp) {\n        return new ProducerRecord&lt;&gt;(topic, element.toString().getBytes());\n    }\n\n\n}\n</code></pre>\n\n<p>All help appreciated. I haven't been able to find any online working code of EXACTLY_ONCE garantuee between flink and kafka. Only loads articles talking about it but not actual substancial working code. That's all I'm trying to achieve here.</p>\n"},{"tags":["java","coldfusion"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690563118,"post_id":76789655,"comment_id":135376148,"body_markdown":"Do you check if `iv` value is correctly formatted as Base64?","body":"Do you check if <code>iv</code> value is correctly formatted as Base64?"}],"owner":{"account_id":4631972,"reputation":447,"user_id":3754262,"accept_rate":24,"display_name":"Miguel Pinto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690563254,"creation_date":1690562585,"question_id":76789655,"body_markdown":"I&#39;m trying to decrypt a message using java objects through Coldfusion 2021.\r\n\r\nFirst I created a java class which works totally fine, and added the jar to the javaPath setting of coldfusion, but it didnt work. So I tried to replicate the code in coldfusion, still using java objects. The code is bellow.\r\n\r\n\r\n    remote function decode () {\r\n\r\n        var req_data = getHttpRequestData();\r\n\r\n        var base64Decoder = createObject(&#39;java&#39;, &#39;java.util.Base64&#39;);\r\n        var arrUtils = createObject(&#39;java&#39;, &#39;org.apache.commons.lang3.ArrayUtils&#39;);\r\n        var keySpecInstance = createObject(&#39;java&#39;, &#39;javax.crypto.spec.SecretKeySpec&#39;);\r\n        var cipherInstance = createObject(&#39;java&#39;, &#39;javax.crypto.Cipher&#39;);\r\n        var ivSpecInstance = createObject(&#39;java&#39;, &#39;javax.crypto.spec.IvParameterSpec&#39;);\r\n\r\n        var key = &#39;KEY_HERE&#39;;\r\n        var iv = req_data.headers[&#39;x-initialization-vector&#39;];\r\n        var authTag = req_data.headers[&#39;x-authentication-tag&#39;];\r\n        var msg = req_data.content;\r\n\r\n        key = base64Decoder.getDecoder().decode(key);\r\n        var keySpec = keySpecInstance.init(key, 0, 32, &#39;AES&#39;);\r\n\r\n        iv = base64Decoder.getDecoder().decode(iv);\r\n        authTag = base64Decoder.getDecoder().decode(authTag);\r\n        msg = base64Decoder.getDecoder().decode(msg);\r\n        var cipherText = arrUtils.addAll(msg, authTag);\r\n\r\n        var cipher = cipherInstance.getInstance(&#39;AES/GCM/NoPadding&#39;);\r\n        cipher.init(cipherInstance.DECRYPT_MODE, keySpec, ivSpecInstance.init(iv));\r\n        \r\n        var msgBytes = cypher.doFinal(cipherText);\r\n\r\n        writeDUmp(msgBytes);\r\n\r\n\r\n    }\r\n\r\n\r\nEverything seems to be working but Coldfusion throws an error `Unsupported parameter: javax.crypto.spec.IvParameterSpec@3a848c55` on the line `cipher.init(...)`\r\n\r\nI&#39;ve tried searching about this online but with no luck.\r\n\r\nIf someone has some insight on how to fix this, or at least clarify what does the error means I&#39;d appreciate it.\r\n\r\nThanks.","title":"Coldfusion Problem with decrypting: Unsupported parameter: javax.crypto.spec.IvParameterSpec","body":"<p>I'm trying to decrypt a message using java objects through Coldfusion 2021.</p>\n<p>First I created a java class which works totally fine, and added the jar to the javaPath setting of coldfusion, but it didnt work. So I tried to replicate the code in coldfusion, still using java objects. The code is bellow.</p>\n<pre><code>remote function decode () {\n\n    var req_data = getHttpRequestData();\n\n    var base64Decoder = createObject('java', 'java.util.Base64');\n    var arrUtils = createObject('java', 'org.apache.commons.lang3.ArrayUtils');\n    var keySpecInstance = createObject('java', 'javax.crypto.spec.SecretKeySpec');\n    var cipherInstance = createObject('java', 'javax.crypto.Cipher');\n    var ivSpecInstance = createObject('java', 'javax.crypto.spec.IvParameterSpec');\n\n    var key = 'KEY_HERE';\n    var iv = req_data.headers['x-initialization-vector'];\n    var authTag = req_data.headers['x-authentication-tag'];\n    var msg = req_data.content;\n\n    key = base64Decoder.getDecoder().decode(key);\n    var keySpec = keySpecInstance.init(key, 0, 32, 'AES');\n\n    iv = base64Decoder.getDecoder().decode(iv);\n    authTag = base64Decoder.getDecoder().decode(authTag);\n    msg = base64Decoder.getDecoder().decode(msg);\n    var cipherText = arrUtils.addAll(msg, authTag);\n\n    var cipher = cipherInstance.getInstance('AES/GCM/NoPadding');\n    cipher.init(cipherInstance.DECRYPT_MODE, keySpec, ivSpecInstance.init(iv));\n    \n    var msgBytes = cypher.doFinal(cipherText);\n\n    writeDUmp(msgBytes);\n\n\n}\n</code></pre>\n<p>Everything seems to be working but Coldfusion throws an error <code>Unsupported parameter: javax.crypto.spec.IvParameterSpec@3a848c55</code> on the line <code>cipher.init(...)</code></p>\n<p>I've tried searching about this online but with no luck.</p>\n<p>If someone has some insight on how to fix this, or at least clarify what does the error means I'd appreciate it.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667672867,"post_id":11880924,"comment_id":131224301,"body_markdown":"Interfaces support default methods since Java 8, not sure if this is supported with Spring Data.","body":"Interfaces support default methods since Java 8, not sure if this is supported with Spring Data."}],"answers":[{"comments":[{"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"score":29,"creation_date":1414082573,"post_id":11881203,"comment_id":41692343,"body_markdown":"Can this custom implementation inject the actual repository, so it can use the methods defined there? Specifically, I&#39;d like to reference various find* functions defined in the Repository interface in a higher level find implementation. Since those find*() functions don&#39;t have an implementation, I can&#39;t declare them in the Custom interface or Impl class.","body":"Can this custom implementation inject the actual repository, so it can use the methods defined there? Specifically, I&#39;d like to reference various find* functions defined in the Repository interface in a higher level find implementation. Since those find*() functions don&#39;t have an implementation, I can&#39;t declare them in the Custom interface or Impl class."},{"owner":{"account_id":272683,"reputation":2425,"user_id":563900,"accept_rate":84,"display_name":"Nick Foote"},"score":21,"creation_date":1435261622,"post_id":11881203,"comment_id":50139707,"body_markdown":"I&#39;ve followed this answer, unfortunately now Spring Data is trying to find the property &quot;customMethod&quot; on my &quot;Account&quot; object as it is trying to automatically generate a query for all methods defined on the AccountRepository. Any way to stop this?","body":"I&#39;ve followed this answer, unfortunately now Spring Data is trying to find the property &quot;customMethod&quot; on my &quot;Account&quot; object as it is trying to automatically generate a query for all methods defined on the AccountRepository. Any way to stop this?"},{"owner":{"account_id":321119,"reputation":5959,"user_id":639753,"accept_rate":74,"display_name":"Xeon"},"score":51,"creation_date":1436751986,"post_id":11881203,"comment_id":50727783,"body_markdown":"@NickFoote note that the name of the class that you implement your repository should be: `AccountRepositoryImpl` not: `AccountRepositoryCustomImpl`, etc. - it&#39;s very strict naming convention.","body":"@NickFoote note that the name of the class that you implement your repository should be: <code>AccountRepositoryImpl</code> not: <code>AccountRepositoryCustomImpl</code>, etc. - it&#39;s very strict naming convention."},{"owner":{"account_id":56043,"reputation":2875,"user_id":167889,"accept_rate":45,"display_name":"end-user"},"score":1,"creation_date":1439572105,"post_id":11881203,"comment_id":51932925,"body_markdown":"@JBCP, did you ever find an answer to this?","body":"@JBCP, did you ever find an answer to this?"},{"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"score":5,"creation_date":1439575603,"post_id":11881203,"comment_id":51934669,"body_markdown":"@end-user: yes, your impl object can inject the repository, no problem","body":"@end-user: yes, your impl object can inject the repository, no problem"},{"owner":{"account_id":56043,"reputation":2875,"user_id":167889,"accept_rate":45,"display_name":"end-user"},"score":0,"creation_date":1439578164,"post_id":11881203,"comment_id":51936037,"body_markdown":"@JBCP: would you have a code snippet to demonstrate where/how?","body":"@JBCP: would you have a code snippet to demonstrate where/how?"},{"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"score":1,"creation_date":1439584088,"post_id":11881203,"comment_id":51938791,"body_markdown":"@end-user - I updated the answer above with the example, its very simple, although I don&#39;t think its necessarily obvious.","body":"@end-user - I updated the answer above with the example, its very simple, although I don&#39;t think its necessarily obvious."},{"owner":{"account_id":2070136,"reputation":1869,"user_id":1844814,"accept_rate":97,"display_name":"Esteban S"},"score":1,"creation_date":1448904643,"post_id":11881203,"comment_id":55764607,"body_markdown":"I see a problem in this specification. If you autowire AccountRepository in AccountRepositoryImpl you will have his own methods inside what is a weird loop. I would autowire another interface that extends the CRUD.","body":"I see a problem in this specification. If you autowire AccountRepository in AccountRepositoryImpl you will have his own methods inside what is a weird loop. I would autowire another interface that extends the CRUD."},{"owner":{"account_id":996671,"reputation":1765,"user_id":1012435,"accept_rate":54,"display_name":"Xdg"},"score":2,"creation_date":1461145789,"post_id":11881203,"comment_id":61062118,"body_markdown":"*Impl filename is important. I had a implementation class with same name as Repository interface (in another package) and Spring didn&#39;t start.","body":"*Impl filename is important. I had a implementation class with same name as Repository interface (in another package) and Spring didn&#39;t start."},{"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"score":3,"creation_date":1467334099,"post_id":11881203,"comment_id":63701799,"body_markdown":"@JBCP, thank you, this is exactly the issue I had to solve. I wanted to extend a repo which I&#39;d already added custom find methods such as `findByFooAndBar()`. I didn&#39;t think to simply inject the repository (which already extends this) into the custom impl, because it feels like that would create a circular reference or something? but it works so...","body":"@JBCP, thank you, this is exactly the issue I had to solve. I wanted to extend a repo which I&#39;d already added custom find methods such as <code>findByFooAndBar()</code>. I didn&#39;t think to simply inject the repository (which already extends this) into the custom impl, because it feels like that would create a circular reference or something? but it works so..."},{"owner":{"account_id":1876334,"reputation":8014,"user_id":1697482,"accept_rate":88,"display_name":"Robert Hunt"},"score":5,"creation_date":1467359328,"post_id":11881203,"comment_id":63709891,"body_markdown":"@wired00 I think it does create a circular reference and I can&#39;t see how @JBCP got it working. When I try and do something similar I end up with an exception: `Error creating bean with name &#39;accountRepositoryImpl&#39;: Bean with name &#39;accountRepositoryImpl&#39; has been injected into other beans [accountRepository] in its raw version as part of a circular reference, but has eventually been wrapped.`","body":"@wired00 I think it does create a circular reference and I can&#39;t see how @JBCP got it working. When I try and do something similar I end up with an exception: <code>Error creating bean with name &#39;accountRepositoryImpl&#39;: Bean with name &#39;accountRepositoryImpl&#39; has been injected into other beans [accountRepository] in its raw version as part of a circular reference, but has eventually been wrapped.</code>"},{"owner":{"account_id":1876334,"reputation":8014,"user_id":1697482,"accept_rate":88,"display_name":"Robert Hunt"},"score":1,"creation_date":1467359682,"post_id":11881203,"comment_id":63710092,"body_markdown":"Actually, it does seems to work unless my custom repository implementation extends `QueryDslRepositorySupport`","body":"Actually, it does seems to work unless my custom repository implementation extends <code>QueryDslRepositorySupport</code>"},{"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"score":0,"creation_date":1467360138,"post_id":11881203,"comment_id":63710357,"body_markdown":"@roberthunt actually I&#39;ve been using this with no problem","body":"@roberthunt actually I&#39;ve been using this with no problem"},{"owner":{"account_id":1876334,"reputation":8014,"user_id":1697482,"accept_rate":88,"display_name":"Robert Hunt"},"score":6,"creation_date":1467361151,"post_id":11881203,"comment_id":63710912,"body_markdown":"Yeah, see my previous comment about it not working if you&#39;re extending `QueryDslRepositorySupport` You must also inject the repository via field or setter injection rather than constructor injection otherwise it won&#39;t be able to create the bean. It does seem to work but the solution feels a bit &#39;dirty&#39;, I&#39;m not sure if there are any plans to improve how this works from the Spring Data team.","body":"Yeah, see my previous comment about it not working if you&#39;re extending <code>QueryDslRepositorySupport</code> You must also inject the repository via field or setter injection rather than constructor injection otherwise it won&#39;t be able to create the bean. It does seem to work but the solution feels a bit &#39;dirty&#39;, I&#39;m not sure if there are any plans to improve how this works from the Spring Data team."},{"owner":{"account_id":1142100,"reputation":1273,"user_id":1125691,"accept_rate":58,"display_name":"mpprdev"},"score":2,"creation_date":1485741655,"post_id":11881203,"comment_id":71036766,"body_markdown":"injecting repository into the custom impl doesn&#39;t work in spring boot 1.4.3. You&#39;ll get a bean circular dependency error and the application fails to start. Instead, you can inject entitymanager (thanks to @jelies) and entityinformation (thanks to @NealeU)","body":"injecting repository into the custom impl doesn&#39;t work in spring boot 1.4.3. You&#39;ll get a bean circular dependency error and the application fails to start. Instead, you can inject entitymanager (thanks to @jelies) and entityinformation (thanks to @NealeU)"},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1485868378,"post_id":11881203,"comment_id":71095665,"body_markdown":"I also putted @Repository to my customrepository Impl but it is not working. is it need some configuration to scan that class as repository?","body":"I also putted @Repository to my customrepository Impl but it is not working. is it need some configuration to scan that class as repository?"},{"owner":{"account_id":3243454,"reputation":1405,"user_id":2735802,"accept_rate":71,"display_name":"Geyser14"},"score":1,"creation_date":1493153156,"post_id":11881203,"comment_id":74290376,"body_markdown":"I was putting my AccountRepositoryImpl class inside of my AccountRepositoryCustom file and having the same problem @NickFoote did. I needed to make sure that 1) the interface was named XRepositoryCustom per the naming convention, 2) the Impl class was also named correctly (without *Custom*) and 3) *RepositoryImpl was in its own file. Then everything worked.","body":"I was putting my AccountRepositoryImpl class inside of my AccountRepositoryCustom file and having the same problem @NickFoote did. I needed to make sure that 1) the interface was named XRepositoryCustom per the naming convention, 2) the Impl class was also named correctly (without <i>Custom</i>) and 3) *RepositoryImpl was in its own file. Then everything worked."},{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1498484511,"post_id":11881203,"comment_id":76503008,"body_markdown":"so what is the solution? get same issue with sring 1.5","body":"so what is the solution? get same issue with sring 1.5"},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1512516351,"post_id":11881203,"comment_id":82287891,"body_markdown":"Is this the recommended way to do it if I want to have my own way of persisting resources? E.g. having a m-to-n relationship and wanting to enforce that the resource and its association has to be created in one run ([see also my question](https://stackoverflow.com/questions/47664170/jparepository-and-many-to-many-relations)).","body":"Is this the recommended way to do it if I want to have my own way of persisting resources? E.g. having a m-to-n relationship and wanting to enforce that the resource and its association has to be created in one run (<a href=\"https://stackoverflow.com/questions/47664170/jparepository-and-many-to-many-relations\">see also my question</a>)."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1537989376,"post_id":11881203,"comment_id":91988993,"body_markdown":"why is AccountRepository  extending AccountRepositoryCustom?","body":"why is AccountRepository  extending AccountRepositoryCustom?"},{"owner":{"account_id":3617971,"reputation":1737,"user_id":3017390,"accept_rate":64,"display_name":"ThinkTank"},"score":0,"creation_date":1552570436,"post_id":11881203,"comment_id":97066765,"body_markdown":"Not able to instantiate main Repository after adding Helper Custom repository\nthough i had annotated with @repository after that also getting same error","body":"Not able to instantiate main Repository after adding Helper Custom repository though i had annotated with @repository after that also getting same error"},{"owner":{"account_id":3617971,"reputation":1737,"user_id":3017390,"accept_rate":64,"display_name":"ThinkTank"},"score":0,"creation_date":1552570446,"post_id":11881203,"comment_id":97066774,"body_markdown":"Not able to instantiate main Repository after adding Helper Custom repository\nthough i had annotated with @repository after that also getting same error","body":"Not able to instantiate main Repository after adding Helper Custom repository though i had annotated with @repository after that also getting same error"},{"owner":{"account_id":457570,"reputation":1996,"user_id":856976,"accept_rate":100,"display_name":"tsnorri"},"score":2,"creation_date":1554128689,"post_id":11881203,"comment_id":97627764,"body_markdown":"Solved the circular dependency by using the Lazy annotation with the Autowired annotation in the custom method implementation.","body":"Solved the circular dependency by using the Lazy annotation with the Autowired annotation in the custom method implementation."},{"owner":{"account_id":2477811,"reputation":130,"user_id":2158051,"display_name":"David Pel&#225;ez"},"score":1,"creation_date":1588841392,"post_id":11881203,"comment_id":109056667,"body_markdown":"Just notice that the custom interface should contains the  @NoRepositoryBean as JPARepository does to exclude repository interfaces from being picked up and thus in consequence getting an instance being created.","body":"Just notice that the custom interface should contains the  @NoRepositoryBean as JPARepository does to exclude repository interfaces from being picked up and thus in consequence getting an instance being created."}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":24,"down_vote_count":2,"up_vote_count":367,"is_accepted":true,"score":365,"last_activity_date":1567792019,"creation_date":1344507485,"answer_id":11881203,"question_id":11880924,"body_markdown":"You need to create a separate interface for your custom methods:\r\n\r\n    public interface AccountRepository \r\n        extends JpaRepository&lt;Account, Long&gt;, AccountRepositoryCustom { ... }\r\n    \r\n    public interface AccountRepositoryCustom {\r\n        public void customMethod();\r\n    }\r\n\r\nand provide an implementation class for that interface:\r\n\r\n    public class AccountRepositoryImpl implements AccountRepositoryCustom {\r\n\r\n        @Autowired\r\n        @Lazy\r\n        AccountRepository accountRepository;  /* Optional - if you need it */\r\n\r\n        public void customMethod() { ... }\r\n    }\r\n\r\n**See also:**\r\n\r\n * [4.6 Custom Implementations for Spring Data Repositories][1]\r\n\r\n * Note that the naming scheme has changed between versions. See https://stackoverflow.com/a/52624752/66686 for details.\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>You need to create a separate interface for your custom methods:</p>\n\n<pre><code>public interface AccountRepository \n    extends JpaRepository&lt;Account, Long&gt;, AccountRepositoryCustom { ... }\n\npublic interface AccountRepositoryCustom {\n    public void customMethod();\n}\n</code></pre>\n\n<p>and provide an implementation class for that interface:</p>\n\n<pre><code>public class AccountRepositoryImpl implements AccountRepositoryCustom {\n\n    @Autowired\n    @Lazy\n    AccountRepository accountRepository;  /* Optional - if you need it */\n\n    public void customMethod() { ... }\n}\n</code></pre>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"noreferrer\">4.6 Custom Implementations for Spring Data Repositories</a></p></li>\n<li><p>Note that the naming scheme has changed between versions. See <a href=\"https://stackoverflow.com/a/52624752/66686\">https://stackoverflow.com/a/52624752/66686</a> for details.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":417955,"reputation":18564,"user_id":794242,"accept_rate":80,"display_name":"Wand Maker"},"score":11,"creation_date":1373454834,"post_id":15341601,"comment_id":25560923,"body_markdown":"Thanks, however, I want to know how to use Pageable and Page in the custom implementation.  Any inputs?","body":"Thanks, however, I want to know how to use Pageable and Page in the custom implementation.  Any inputs?"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":1,"creation_date":1631037462,"post_id":15341601,"comment_id":122114071,"body_markdown":"@WandMaker, just pass them into your custom method and use inside the method.","body":"@WandMaker, just pass them into your custom method and use inside the method."}],"tags":[],"owner":{"account_id":413624,"reputation":9150,"user_id":787375,"accept_rate":100,"display_name":"jelies"},"comment_count":2,"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1363018678,"creation_date":1363013500,"answer_id":15341601,"question_id":11880924,"body_markdown":"In addition to axtavt&#39;s [answer][1], don&#39;t forget you can inject Entity Manager in your custom implementation if you need it to build your queries:\r\n\r\n    public class AccountRepositoryImpl implements AccountRepositoryCustom {\r\n                \r\n        @PersistenceContext\r\n        private EntityManager em;\r\n                \r\n        public void customMethod() { \r\n            ...\r\n            em.createQuery(yourCriteria);\r\n            ...\r\n        }\r\n    }\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11881203/787375","title":"How to add custom method to Spring Data JPA","body":"<p>In addition to axtavt's <a href=\"https://stackoverflow.com/a/11881203/787375\">answer</a>, don't forget you can inject Entity Manager in your custom implementation if you need it to build your queries:</p>\n\n<pre><code>public class AccountRepositoryImpl implements AccountRepositoryCustom {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public void customMethod() { \n        ...\n        em.createQuery(yourCriteria);\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2270702,"reputation":1284,"user_id":1998186,"display_name":"NealeU"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665050925,"creation_date":1383232589,"answer_id":19710310,"question_id":11880924,"body_markdown":"If you want to be able to do more sophisticated operations you might need access to Spring Data&#39;s internals, in which case the following works (as my interim solution to [DATAJPA-422][1]):\r\n\r\n    public class AccountRepositoryImpl implements AccountRepositoryCustom {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n\r\n        private JpaEntityInformation&lt;Account, ?&gt; entityInformation;\r\n    \r\n        @PostConstruct\r\n        public void postConstruct() {\r\n            this.entityInformation = JpaEntityInformationSupport.getMetadata(Account.class, entityManager);\r\n        }\r\n        \r\n        @Override\r\n        @Transactional\r\n        public Account saveWithReferenceToOrganisation(Account entity, long organisationId) {\r\n            entity.setOrganisation(entityManager.getReference(Organisation.class, organisationId));\r\n            return save(entity);\r\n        }\r\n    \r\n        private Account save(Account entity) {\r\n            // save in same way as SimpleJpaRepository\r\n            if (entityInformation.isNew(entity)) {\r\n                entityManager.persist(entity);\r\n                return entity;\r\n            } else {\r\n                return entityManager.merge(entity);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/DATAJPA-422","title":"How to add custom method to Spring Data JPA","body":"<p>If you want to be able to do more sophisticated operations you might need access to Spring Data's internals, in which case the following works (as my interim solution to <a href=\"https://jira.springsource.org/browse/DATAJPA-422\" rel=\"nofollow noreferrer\">DATAJPA-422</a>):</p>\n<pre><code>public class AccountRepositoryImpl implements AccountRepositoryCustom {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private JpaEntityInformation&lt;Account, ?&gt; entityInformation;\n\n    @PostConstruct\n    public void postConstruct() {\n        this.entityInformation = JpaEntityInformationSupport.getMetadata(Account.class, entityManager);\n    }\n    \n    @Override\n    @Transactional\n    public Account saveWithReferenceToOrganisation(Account entity, long organisationId) {\n        entity.setOrganisation(entityManager.getReference(Organisation.class, organisationId));\n        return save(entity);\n    }\n\n    private Account save(Account entity) {\n        // save in same way as SimpleJpaRepository\n        if (entityInformation.isNew(entity)) {\n            entityManager.persist(entity);\n            return entity;\n        } else {\n            return entityManager.merge(entity);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4219414,"reputation":471,"user_id":3454548,"accept_rate":0,"display_name":"Peter Rietzler"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429852427,"creation_date":1429852427,"answer_id":29839225,"question_id":11880924,"body_markdown":"Im using the following code in order to access generated find methods from my custom implementation. Getting the implementation through the bean factory prevents circular bean creation problems.\r\n\r\n    \r\n    public class MyRepositoryImpl implements MyRepositoryExtensions, BeanFactoryAware {\r\n    \r\n        private BrandRepository myRepository;\r\n    \r\n        public MyBean findOne(int first, int second) {\r\n            return myRepository.findOne(new Id(first, second));\r\n        }\r\n\r\n        public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n            myRepository = beanFactory.getBean(MyRepository.class);\r\n        }\r\n    }\r\n\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>Im using the following code in order to access generated find methods from my custom implementation. Getting the implementation through the bean factory prevents circular bean creation problems.</p>\n\n<pre><code>public class MyRepositoryImpl implements MyRepositoryExtensions, BeanFactoryAware {\n\n    private BrandRepository myRepository;\n\n    public MyBean findOne(int first, int second) {\n        return myRepository.findOne(new Id(first, second));\n    }\n\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        myRepository = beanFactory.getBean(MyRepository.class);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"score":1,"creation_date":1503964016,"post_id":30288178,"comment_id":78816159,"body_markdown":"The is a typo on the query, it should be nameoffie*l*d, I don&#39;t have proper right to fix it.","body":"The is a typo on the query, it should be nameoffie<i>l</i>d, I don&#39;t have proper right to fix it."}],"tags":[],"owner":{"account_id":3555436,"reputation":181,"user_id":2969323,"display_name":"Samba"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690562894,"creation_date":1431874530,"answer_id":30288178,"question_id":11880924,"body_markdown":"Considering your code snippet, please note that you can only pass Native objects to the  findBy### method, lets say you want to load a list of accounts that belongs  certain costumers, one solution is to do this, \r\n\r\n    @Query(&quot;Select a from Account a where a.&quot;nameoffield&quot;=?1&quot;)\r\n    List&lt;Account&gt; findByCustomer(String &quot;nameoffield&quot;);\r\n\r\nMake sue the name of the table  to be queried is thesame as the Entity class.\r\nFor further implementations please take a look at  [this][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/jpa.repositories.html","title":"How to add custom method to Spring Data JPA","body":"<p>Considering your code snippet, please note that you can only pass Native objects to the  findBy### method, lets say you want to load a list of accounts that belongs  certain costumers, one solution is to do this,</p>\n<pre><code>@Query(&quot;Select a from Account a where a.&quot;nameoffield&quot;=?1&quot;)\nList&lt;Account&gt; findByCustomer(String &quot;nameoffield&quot;);\n</code></pre>\n<p>Make sue the name of the table  to be queried is thesame as the Entity class.\nFor further implementations please take a look at  <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/jpa.repositories.html\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"comments":[{"owner":{"account_id":1541724,"reputation":1205,"user_id":1436209,"accept_rate":89,"display_name":"Skeeve"},"score":0,"creation_date":1454933814,"post_id":31534087,"comment_id":58250090,"body_markdown":"That is unfortunate, I&#39;ve wasted so much time trying to find out, what I&#39;ve made wrong, and finally, I understand that there is no such feature. Why would they even implement that functionality? To have less beans? To have all dao methods in one place? I could have achieved that in other ways. Does anyone know what is the goal of &quot;adding behaviour to single repositories&quot; feature?","body":"That is unfortunate, I&#39;ve wasted so much time trying to find out, what I&#39;ve made wrong, and finally, I understand that there is no such feature. Why would they even implement that functionality? To have less beans? To have all dao methods in one place? I could have achieved that in other ways. Does anyone know what is the goal of &quot;adding behaviour to single repositories&quot; feature?"},{"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"score":0,"creation_date":1528420620,"post_id":31534087,"comment_id":88512110,"body_markdown":"You can expose any repository methods via REST by simply adding the `@RestResource(path = &quot;myQueryMethod&quot;)` annotation to the method. The quote above is just stating that Spring doesn&#39;t know how you want it mapped (i.e. GET vs POST etc.) so it&#39;s up to you to specify it via the annotation.","body":"You can expose any repository methods via REST by simply adding the <code>@RestResource(path = &quot;myQueryMethod&quot;)</code> annotation to the method. The quote above is just stating that Spring doesn&#39;t know how you want it mapped (i.e. GET vs POST etc.) so it&#39;s up to you to specify it via the annotation."}],"tags":[],"owner":{"account_id":6290171,"reputation":41,"user_id":4888136,"display_name":"Lukasz Magiera"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437467703,"creation_date":1437467703,"answer_id":31534087,"question_id":11880924,"body_markdown":"There is another issue to be considered here. Some people expect that adding custom method to your repository will automatically expose them as REST services under &#39;/search&#39; link. This is unfortunately not the case. Spring doesn&#39;t support that currently. \r\n\r\nThis is &#39;by design&#39; feature, spring data rest explicitly checks if method is a custom method and doesn&#39;t expose it as a REST search link:\r\n\r\n    private boolean isQueryMethodCandidate(Method method) {    \r\n      return isQueryAnnotationPresentOn(method) || !isCustomMethod(method) &amp;&amp; !isBaseClassMethod(method);\r\n    }\r\n\r\nThis is a qoute of Oliver Gierke:\r\n\r\n&gt; This is by design. Custom repository methods are no query methods as\r\n&gt; they can effectively implement any behavior. Thus, it&#39;s currently\r\n&gt; impossible for us to decide about the HTTP method to expose the method\r\n&gt; under. POST would be the safest option but that&#39;s not in line with the\r\n&gt; generic query methods (which receive GET).\r\n\r\n\r\nFor more details see this issue: https://jira.spring.io/browse/DATAREST-206","title":"How to add custom method to Spring Data JPA","body":"<p>There is another issue to be considered here. Some people expect that adding custom method to your repository will automatically expose them as REST services under '/search' link. This is unfortunately not the case. Spring doesn't support that currently. </p>\n\n<p>This is 'by design' feature, spring data rest explicitly checks if method is a custom method and doesn't expose it as a REST search link:</p>\n\n<pre><code>private boolean isQueryMethodCandidate(Method method) {    \n  return isQueryAnnotationPresentOn(method) || !isCustomMethod(method) &amp;&amp; !isBaseClassMethod(method);\n}\n</code></pre>\n\n<p>This is a qoute of Oliver Gierke:</p>\n\n<blockquote>\n  <p>This is by design. Custom repository methods are no query methods as\n  they can effectively implement any behavior. Thus, it's currently\n  impossible for us to decide about the HTTP method to expose the method\n  under. POST would be the safest option but that's not in line with the\n  generic query methods (which receive GET).</p>\n</blockquote>\n\n<p>For more details see this issue: <a href=\"https://jira.spring.io/browse/DATAREST-206\" rel=\"nofollow\">https://jira.spring.io/browse/DATAREST-206</a></p>\n"},{"tags":[],"owner":{"account_id":5610323,"reputation":35021,"user_id":4443323,"accept_rate":74,"display_name":"Tomasz Mularczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1482614868,"creation_date":1463770586,"answer_id":37353996,"question_id":11880924,"body_markdown":"This is limited in usage, but for simple custom methods you can use **default** interface methods like:\r\n\r\n    import demo.database.Customer;\r\n    import org.springframework.data.repository.CrudRepository;\r\n\r\n    public interface CustomerService extends CrudRepository&lt;Customer, Long&gt; {\r\n    \r\n        \r\n        default void addSomeCustomers() {\r\n            Customer[] customers = {\r\n                new Customer(&quot;J&#243;zef&quot;, &quot;Nowak&quot;, &quot;nowakJ@o2.pl&quot;, 679856885, &quot;Rzesz&#243;w&quot;, &quot;Podkarpackie&quot;, &quot;35-061&quot;, &quot;Zamknięta 12&quot;),\r\n                new Customer(&quot;Adrian&quot;, &quot;Mularczyk&quot;, &quot;adii333@wp.pl&quot;, 867569344, &quot;Krosno&quot;, &quot;Podkarpackie&quot;, &quot;32-442&quot;, &quot;Hynka 3/16&quot;),\r\n                new Customer(&quot;Kazimierz&quot;, &quot;Dejna&quot;, &quot;sobieski22@weebly.com&quot;, 996435876, &quot;Jarosław&quot;, &quot;Podkarpackie&quot;, &quot;25-122&quot;, &quot;Korotyńskiego 11&quot;),\r\n                new Customer(&quot;Celina&quot;, &quot;Dykiel&quot;, &quot;celina.dykiel39@yahoo.org&quot;, 947845734, &quot;Żywiec&quot;, &quot;Śląskie&quot;, &quot;54-333&quot;, &quot;Polna 29&quot;)\r\n            };\r\n            \r\n            for (Customer customer : customers) {\r\n                save(customer);\r\n            }\r\n        }\r\n    }\r\n\r\nEDIT: \r\n\r\nIn [this spring][1] tutorial it is written:\r\n\r\n&gt; Spring Data JPA also allows you to define other query methods by\r\n&gt; simply declaring their method signature.\r\n\r\nSo it is even possible to just declare method like:\r\n\r\n    Customer findByHobby(Hobby personHobby);\r\n\r\nand if object `Hobby` is a property of Customer then Spring will automatically define method for you.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/accessing-data-jpa/","title":"How to add custom method to Spring Data JPA","body":"<p>This is limited in usage, but for simple custom methods you can use <strong>default</strong> interface methods like:</p>\n\n<pre><code>import demo.database.Customer;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface CustomerService extends CrudRepository&lt;Customer, Long&gt; {\n\n\n    default void addSomeCustomers() {\n        Customer[] customers = {\n            new Customer(\"Józef\", \"Nowak\", \"nowakJ@o2.pl\", 679856885, \"Rzeszów\", \"Podkarpackie\", \"35-061\", \"Zamknięta 12\"),\n            new Customer(\"Adrian\", \"Mularczyk\", \"adii333@wp.pl\", 867569344, \"Krosno\", \"Podkarpackie\", \"32-442\", \"Hynka 3/16\"),\n            new Customer(\"Kazimierz\", \"Dejna\", \"sobieski22@weebly.com\", 996435876, \"Jarosław\", \"Podkarpackie\", \"25-122\", \"Korotyńskiego 11\"),\n            new Customer(\"Celina\", \"Dykiel\", \"celina.dykiel39@yahoo.org\", 947845734, \"Żywiec\", \"Śląskie\", \"54-333\", \"Polna 29\")\n        };\n\n        for (Customer customer : customers) {\n            save(customer);\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT: </p>\n\n<p>In <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"noreferrer\">this spring</a> tutorial it is written:</p>\n\n<blockquote>\n  <p>Spring Data JPA also allows you to define other query methods by\n  simply declaring their method signature.</p>\n</blockquote>\n\n<p>So it is even possible to just declare method like:</p>\n\n<pre><code>Customer findByHobby(Hobby personHobby);\n</code></pre>\n\n<p>and if object <code>Hobby</code> is a property of Customer then Spring will automatically define method for you.</p>\n"},{"comments":[{"owner":{"account_id":90694,"reputation":31596,"user_id":249538,"accept_rate":91,"display_name":"goat"},"score":1,"creation_date":1536955734,"post_id":51603203,"comment_id":91624489,"body_markdown":"This worked. I want to emphasize the importance of the name of the parameter in the constructor must follow the convention in this answer (must be `accountRepositoryBasic`). Otherwise spring complained about there being 2 bean choices for injection into my `*Impl` constructor.","body":"This worked. I want to emphasize the importance of the name of the parameter in the constructor must follow the convention in this answer (must be <code>accountRepositoryBasic</code>). Otherwise spring complained about there being 2 bean choices for injection into my <code>*Impl</code> constructor."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1537989856,"post_id":51603203,"comment_id":91989218,"body_markdown":"so what is the use of AccountRepository","body":"so what is the use of AccountRepository"},{"owner":{"account_id":3338406,"reputation":4475,"user_id":2805265,"accept_rate":73,"display_name":"geg"},"score":0,"creation_date":1549495905,"post_id":51603203,"comment_id":95927168,"body_markdown":"@KalpeshSoni the methods from both `AccountRepositoryBasic` and `AccountRepositoryCustom` will be available via an injected `AccountRepository`","body":"@KalpeshSoni the methods from both <code>AccountRepositoryBasic</code> and <code>AccountRepositoryCustom</code> will be available via an injected <code>AccountRepository</code>"},{"owner":{"account_id":1872069,"reputation":1309,"user_id":1694086,"display_name":"franta kocourek"},"score":2,"creation_date":1585550363,"post_id":51603203,"comment_id":107788479,"body_markdown":"Can you please provide the way the context should be created? I am not able to put it all together. Thank you.","body":"Can you please provide the way the context should be created? I am not able to put it all together. Thank you."},{"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"score":0,"creation_date":1666844688,"post_id":51603203,"comment_id":131032947,"body_markdown":"This causes circular dependency error also.","body":"This causes circular dependency error also."},{"owner":{"account_id":11884322,"reputation":406,"user_id":8697140,"display_name":"Γιώργος Τερζής"},"score":0,"creation_date":1694623826,"post_id":51603203,"comment_id":135916738,"body_markdown":"This one should be the accepted solution. I have tried it and works, no `@Autowired` needed and it does not cause circular dependency error.","body":"This one should be the accepted solution. I have tried it and works, no <code>@Autowired</code> needed and it does not cause circular dependency error."}],"tags":[],"owner":{"account_id":3427488,"reputation":1251,"user_id":2872878,"display_name":"Danila Piatov"},"comment_count":6,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1532990283,"creation_date":1532990283,"answer_id":51603203,"question_id":11880924,"body_markdown":"The accepted answer works, but has three problems:\r\n \r\n - It uses an undocumented Spring Data feature when naming the custom implementation as `AccountRepositoryImpl`. The [documentation][1] clearly states that it has to be called `AccountRepositoryCustomImpl`, the custom interface name plus `Impl`\r\n - You cannot use constructor injection, only `@Autowired`, that are considered bad practice\r\n - You have a circular dependency inside of the custom implementation (that&#39;s why you cannot use constructor injection). \r\n\r\nI found a way to make it perfect, though not without using another undocumented Spring Data feature:\r\n\r\n    public interface AccountRepository extends AccountRepositoryBasic,\r\n                                               AccountRepositoryCustom \r\n    { \r\n    }\r\n    \r\n    public interface AccountRepositoryBasic extends JpaRepository&lt;Account, Long&gt;\r\n    {\r\n        // standard Spring Data methods, like findByLogin\r\n    }\r\n    \r\n    public interface AccountRepositoryCustom \r\n    {\r\n        public void customMethod();\r\n    }\r\n    \r\n    public class AccountRepositoryCustomImpl implements AccountRepositoryCustom \r\n    {\r\n        private final AccountRepositoryBasic accountRepositoryBasic;\r\n        \r\n        // constructor-based injection\r\n        public AccountRepositoryCustomImpl(\r\n            AccountRepositoryBasic accountRepositoryBasic)\r\n        {\r\n            this.accountRepositoryBasic = accountRepositoryBasic;\r\n        }\r\n    \r\n        public void customMethod() \r\n        {\r\n            // we can call all basic Spring Data methods using\r\n            // accountRepositoryBasic\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>The accepted answer works, but has three problems:</p>\n\n<ul>\n<li>It uses an undocumented Spring Data feature when naming the custom implementation as <code>AccountRepositoryImpl</code>. The <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"noreferrer\">documentation</a> clearly states that it has to be called <code>AccountRepositoryCustomImpl</code>, the custom interface name plus <code>Impl</code></li>\n<li>You cannot use constructor injection, only <code>@Autowired</code>, that are considered bad practice</li>\n<li>You have a circular dependency inside of the custom implementation (that's why you cannot use constructor injection). </li>\n</ul>\n\n<p>I found a way to make it perfect, though not without using another undocumented Spring Data feature:</p>\n\n<pre><code>public interface AccountRepository extends AccountRepositoryBasic,\n                                           AccountRepositoryCustom \n{ \n}\n\npublic interface AccountRepositoryBasic extends JpaRepository&lt;Account, Long&gt;\n{\n    // standard Spring Data methods, like findByLogin\n}\n\npublic interface AccountRepositoryCustom \n{\n    public void customMethod();\n}\n\npublic class AccountRepositoryCustomImpl implements AccountRepositoryCustom \n{\n    private final AccountRepositoryBasic accountRepositoryBasic;\n\n    // constructor-based injection\n    public AccountRepositoryCustomImpl(\n        AccountRepositoryBasic accountRepositoryBasic)\n    {\n        this.accountRepositoryBasic = accountRepositoryBasic;\n    }\n\n    public void customMethod() \n    {\n        // we can call all basic Spring Data methods using\n        // accountRepositoryBasic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6519021,"reputation":328,"user_id":5043823,"display_name":"Devilluminati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542100616,"creation_date":1542065980,"answer_id":53271689,"question_id":11880924,"body_markdown":"I extends the SimpleJpaRepository:\r\n\r\n    public class ExtendedRepositoryImpl&lt;T extends EntityBean&gt; extends SimpleJpaRepository&lt;T, Long&gt;\r\n\t\timplements ExtendedRepository&lt;T&gt; {\r\n        \r\n        private final JpaEntityInformation&lt;T, ?&gt; entityInformation;\r\n\r\n\t    private final EntityManager em;\r\n\r\n\t    public ExtendedRepositoryImpl(final JpaEntityInformation&lt;T, ?&gt; entityInformation,\r\n\t\t\t                                              final EntityManager entityManager) {\r\n\t\t   super(entityInformation, entityManager);\r\n\t\t   this.entityInformation = entityInformation;\r\n\t\t   this.em = entityManager;\r\n\t    }\r\n    }\r\n\r\nand adds this class to @EnableJpaRepositoryries repositoryBaseClass.","title":"How to add custom method to Spring Data JPA","body":"<p>I extends the SimpleJpaRepository:</p>\n\n<pre><code>public class ExtendedRepositoryImpl&lt;T extends EntityBean&gt; extends SimpleJpaRepository&lt;T, Long&gt;\n    implements ExtendedRepository&lt;T&gt; {\n\n    private final JpaEntityInformation&lt;T, ?&gt; entityInformation;\n\n    private final EntityManager em;\n\n    public ExtendedRepositoryImpl(final JpaEntityInformation&lt;T, ?&gt; entityInformation,\n                                                      final EntityManager entityManager) {\n       super(entityInformation, entityManager);\n       this.entityInformation = entityInformation;\n       this.em = entityManager;\n    }\n}\n</code></pre>\n\n<p>and adds this class to @EnableJpaRepositoryries repositoryBaseClass.</p>\n"},{"comments":[{"owner":{"account_id":5022046,"reputation":660,"user_id":4035262,"display_name":"Konstantin Ziubin"},"score":1,"creation_date":1586268973,"post_id":55544940,"comment_id":108062426,"body_markdown":"how to properly Autowire MyEntityRepositoryImpl ?","body":"how to properly Autowire MyEntityRepositoryImpl ?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1586367682,"post_id":55544940,"comment_id":108105388,"body_markdown":"@KonstantinZyubin You autowire `MyEntityRepository`, not the `*Impl`.","body":"@KonstantinZyubin You autowire <code>MyEntityRepository</code>, not the <code>*Impl</code>."},{"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"score":3,"creation_date":1612542161,"post_id":55544940,"comment_id":116807921,"body_markdown":"Amazingly thorough, detailed and helpful answer. Should definitely have more upvotes!","body":"Amazingly thorough, detailed and helpful answer. Should definitely have more upvotes!"},{"owner":{"account_id":3995417,"reputation":570,"user_id":3293102,"accept_rate":50,"display_name":"Samuel Moshie"},"score":0,"creation_date":1624543149,"post_id":55544940,"comment_id":120392329,"body_markdown":"Very helpful answer","body":"Very helpful answer"},{"owner":{"account_id":14338414,"reputation":184,"user_id":10357208,"display_name":"Mattias Santoro"},"score":0,"creation_date":1646927944,"post_id":55544940,"comment_id":126249899,"body_markdown":"What if I want to call my custom method like a SpringData method? \nCan I implement a custom version of &quot;findByCommentEndsWith&quot; in the MyEntityRepositoryImpl with my custom code?","body":"What if I want to call my custom method like a SpringData method?  Can I implement a custom version of &quot;findByCommentEndsWith&quot; in the MyEntityRepositoryImpl with my custom code?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1646937147,"post_id":55544940,"comment_id":126253335,"body_markdown":"@MattiasSantoro hmm, good one, I can&#39;t tell off the top of my head. Would have to try it out to tell","body":"@MattiasSantoro hmm, good one, I can&#39;t tell off the top of my head. Would have to try it out to tell"},{"owner":{"account_id":1116645,"reputation":1415,"user_id":1105832,"display_name":"JanM"},"score":0,"creation_date":1650464350,"post_id":55544940,"comment_id":127123158,"body_markdown":"Useful answer. I&#39;ve successfully used it in spring boot prior 2.6.x, after migration to 2.6.6 this results in circular dependency warning and the app won&#39;t start. Because spring boot 2.6.x prevents circular dependencies by default.","body":"Useful answer. I&#39;ve successfully used it in spring boot prior 2.6.x, after migration to 2.6.6 this results in circular dependency warning and the app won&#39;t start. Because spring boot 2.6.x prevents circular dependencies by default."},{"owner":{"account_id":2584833,"reputation":2656,"user_id":2240780,"accept_rate":78,"display_name":"Julien"},"score":1,"creation_date":1656667473,"post_id":55544940,"comment_id":128633340,"body_markdown":"But you loose the interface &lt;-&gt; implementation method signature checks.","body":"But you loose the interface &lt;-&gt; implementation method signature checks."},{"owner":{"account_id":8274479,"reputation":117,"user_id":6221192,"display_name":"AmeeQ"},"score":0,"creation_date":1675102803,"post_id":55544940,"comment_id":132852277,"body_markdown":"kudos to you, this worked!","body":"kudos to you, this worked!"},{"owner":{"account_id":3781656,"reputation":464,"user_id":3448304,"accept_rate":44,"display_name":"Jurass"},"score":0,"creation_date":1690360404,"post_id":55544940,"comment_id":135341043,"body_markdown":"It doesn&#39;t work for me. It complains about cirular reference when I try to autowire orignal Repository in the Impl","body":"It doesn&#39;t work for me. It complains about cirular reference when I try to autowire orignal Repository in the Impl"}],"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"comment_count":10,"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1680118859,"creation_date":1554512182,"answer_id":55544940,"question_id":11880924,"body_markdown":"There&#39;s a slightly modified solution that **does not require** additional interfaces.\r\n\r\nAs specificed in the [documented functionality][1], the `Impl` suffix allows us to have such clean solution:\r\n\r\n- Define in you regular `@Repository` interface, e.g., `MyEntityRepository`, the custom methods (in addition to your Spring Data methods)\r\n- Create a class `MyEntityRepositoryImpl` (the `Impl` suffix is the magic) anywhere (doesn&#39;t even need to be in the same package) that **implements the custom methods** only and **annotate** such class with **`@Component`** (`@Repository` **will not** work).\r\n   - This class can even inject `MyEntityRepository` via `@Autowired` for use in the custom methods.\r\n\r\n&lt;br&gt;\r\n\r\n# Example:\r\n\r\nEntity class (for completeness):\r\n\r\n    package myapp.domain.myentity;\r\n    @Entity\r\n    public class MyEntity {\r\n        @Id     private Long id;\r\n        @Column private String comment;\r\n    }\r\n\r\nRepository interface:\r\n\r\n    package myapp.domain.myentity;\r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n    \r\n        // EXAMPLE SPRING DATA METHOD\r\n        List&lt;MyEntity&gt; findByCommentEndsWith(String x);\r\n    \r\n        List&lt;MyEntity&gt; doSomeHql(Long id);   // custom method, code at *Impl class below\r\n    \r\n        List&lt;MyEntity&gt; useTheRepo(Long id);  // custom method, code at *Impl class below\r\n    \r\n    }\r\n\r\nCustom methods implementation bean:\r\n\r\n    package myapp.infrastructure.myentity;\r\n\r\n    @Component // Must be @Component !!\r\n    public class MyEntityRepositoryImpl { // must have the exact repo name + Impl !!\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Autowired\r\n        private MyEntityRepository myEntityRepository;\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public List&lt;MyEntity&gt; doSomeHql(Long id) {\r\n            String hql = &quot;SELECT eFROM MyEntity e WHERE e.id = :id&quot;;\r\n            TypedQuery&lt;MyEntity&gt; query = entityManager.createQuery(hql, MyEntity.class);\r\n            query.setParameter(&quot;id&quot;, id);\r\n            return query.getResultList();\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public List&lt;MyEntity&gt; useTheRepo(Long id) {\r\n            List&lt;MyEntity&gt; es = doSomeHql(id);\r\n            es.addAll(myEntityRepository.findByCommentEndsWith(&quot;DO&quot;));\r\n            es.add(myEntityRepository.findById(2L).get());\r\n            return es;\r\n        }\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    // You just autowire the the MyEntityRepository as usual\r\n    // (the Impl class is just impl detail, the clients don&#39;t even know about it)\r\n    @Service\r\n    public class SomeService {\r\n        @Autowired\r\n        private MyEntityRepository myEntityRepository;\r\n\r\n        public void someMethod(String x, long y) {\r\n            // call any method as usual\r\n            myEntityRepository.findByCommentEndsWith(x);\r\n            myEntityRepository.doSomeHql(y);\r\n        }\r\n    }\r\n\r\nAnd that&#39;s all, no need for any interfaces other than the Spring Data repo one you already have.\r\n\r\n&lt;br&gt;\r\n\r\nThe only possible drawbacks I identified are:\r\n\r\n- The custom methods in the `Impl` class are marked as unused by the compiler, thus the `@SuppressWarnings(&quot;unused&quot;)` suggestion.\r\n- You have a limit of one `Impl` class. (Whereas in the regular fragment interfaces implementation [the docs suggest][1] you could have many.)\r\n- If you place the `Impl` class at a different package and your test uses only `@DataJpaTest`, you have to add `@ComponentScan(&quot;package.of.the.impl.clazz&quot;)` to your test, so Spring loads it.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior","title":"How to add custom method to Spring Data JPA","body":"<p>There's a slightly modified solution that <strong>does not require</strong> additional interfaces.</p>\n<p>As specificed in the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"noreferrer\">documented functionality</a>, the <code>Impl</code> suffix allows us to have such clean solution:</p>\n<ul>\n<li>Define in you regular <code>@Repository</code> interface, e.g., <code>MyEntityRepository</code>, the custom methods (in addition to your Spring Data methods)</li>\n<li>Create a class <code>MyEntityRepositoryImpl</code> (the <code>Impl</code> suffix is the magic) anywhere (doesn't even need to be in the same package) that <strong>implements the custom methods</strong> only and <strong>annotate</strong> such class with <strong><code>@Component</code></strong> (<code>@Repository</code> <strong>will not</strong> work).\n<ul>\n<li>This class can even inject <code>MyEntityRepository</code> via <code>@Autowired</code> for use in the custom methods.</li>\n</ul>\n</li>\n</ul>\n<br>\n<h1>Example:</h1>\n<p>Entity class (for completeness):</p>\n<pre><code>package myapp.domain.myentity;\n@Entity\npublic class MyEntity {\n    @Id     private Long id;\n    @Column private String comment;\n}\n</code></pre>\n<p>Repository interface:</p>\n<pre><code>package myapp.domain.myentity;\n\n@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n\n    // EXAMPLE SPRING DATA METHOD\n    List&lt;MyEntity&gt; findByCommentEndsWith(String x);\n\n    List&lt;MyEntity&gt; doSomeHql(Long id);   // custom method, code at *Impl class below\n\n    List&lt;MyEntity&gt; useTheRepo(Long id);  // custom method, code at *Impl class below\n\n}\n</code></pre>\n<p>Custom methods implementation bean:</p>\n<pre><code>package myapp.infrastructure.myentity;\n\n@Component // Must be @Component !!\npublic class MyEntityRepositoryImpl { // must have the exact repo name + Impl !!\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Autowired\n    private MyEntityRepository myEntityRepository;\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public List&lt;MyEntity&gt; doSomeHql(Long id) {\n        String hql = &quot;SELECT eFROM MyEntity e WHERE e.id = :id&quot;;\n        TypedQuery&lt;MyEntity&gt; query = entityManager.createQuery(hql, MyEntity.class);\n        query.setParameter(&quot;id&quot;, id);\n        return query.getResultList();\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public List&lt;MyEntity&gt; useTheRepo(Long id) {\n        List&lt;MyEntity&gt; es = doSomeHql(id);\n        es.addAll(myEntityRepository.findByCommentEndsWith(&quot;DO&quot;));\n        es.add(myEntityRepository.findById(2L).get());\n        return es;\n    }\n\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>// You just autowire the the MyEntityRepository as usual\n// (the Impl class is just impl detail, the clients don't even know about it)\n@Service\npublic class SomeService {\n    @Autowired\n    private MyEntityRepository myEntityRepository;\n\n    public void someMethod(String x, long y) {\n        // call any method as usual\n        myEntityRepository.findByCommentEndsWith(x);\n        myEntityRepository.doSomeHql(y);\n    }\n}\n</code></pre>\n<p>And that's all, no need for any interfaces other than the Spring Data repo one you already have.</p>\n<br>\n<p>The only possible drawbacks I identified are:</p>\n<ul>\n<li>The custom methods in the <code>Impl</code> class are marked as unused by the compiler, thus the <code>@SuppressWarnings(&quot;unused&quot;)</code> suggestion.</li>\n<li>You have a limit of one <code>Impl</code> class. (Whereas in the regular fragment interfaces implementation <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"noreferrer\">the docs suggest</a> you could have many.)</li>\n<li>If you place the <code>Impl</code> class at a different package and your test uses only <code>@DataJpaTest</code>, you have to add <code>@ComponentScan(&quot;package.of.the.impl.clazz&quot;)</code> to your test, so Spring loads it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6002252,"reputation":1712,"user_id":4715129,"accept_rate":77,"display_name":"LoremIpsum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599584023,"creation_date":1599584023,"answer_id":63798370,"question_id":11880924,"body_markdown":"I use SimpleJpaRepository as the base class of  repository implementation and add custom method in the interface,eg:\r\n\r\n    public interface UserRepository  {\r\n        User FindOrInsert(int userId);\r\n    }\r\n    \r\n    @Repository\r\n    public class UserRepositoryImpl extends SimpleJpaRepository implements UserRepository {\r\n    \r\n        private RedisClient redisClient;\r\n    \r\n        public UserRepositoryImpl(RedisClient redisClient, EntityManager em) {\r\n            super(User.class, em);\r\n            this.redisClient = redisClient;\r\n        }\r\n    \r\n    \r\n    @Override\r\n    public User FindOrInsert(int userId) {\r\n    \r\n        User u = redisClient.getOrSet(&quot;test key.. User.class, () -&gt; {\r\n            Optional&lt;User&gt; ou = this.findById(Integer.valueOf(userId));\r\n            return ou.get();\r\n        });\r\n        …………\r\n        return u;\r\n    }\r\n\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>I use SimpleJpaRepository as the base class of  repository implementation and add custom method in the interface,eg:</p>\n<pre><code>public interface UserRepository  {\n    User FindOrInsert(int userId);\n}\n\n@Repository\npublic class UserRepositoryImpl extends SimpleJpaRepository implements UserRepository {\n\n    private RedisClient redisClient;\n\n    public UserRepositoryImpl(RedisClient redisClient, EntityManager em) {\n        super(User.class, em);\n        this.redisClient = redisClient;\n    }\n\n\n@Override\npublic User FindOrInsert(int userId) {\n\n    User u = redisClient.getOrSet(&quot;test key.. User.class, () -&gt; {\n        Optional&lt;User&gt; ou = this.findById(Integer.valueOf(userId));\n        return ou.get();\n    });\n    …………\n    return u;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20167294,"reputation":51,"user_id":14790905,"display_name":"virtual-g"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1607535146,"creation_date":1607479636,"answer_id":65209633,"question_id":11880924,"body_markdown":"I liked Danila&#39;s solution and started using it but nobody else on the team liked having to create 4 classes for each repository. Danila&#39;s solution is the only one here that let&#39;s you use the Spring Data methods in the Impl class. However, I found a way to do it with just a single class:\r\n\r\n```\r\npublic interface UserRepository extends MongoAccess, PagingAndSortingRepository&lt;User&gt; {\r\n\r\n    List&lt;User&gt; getByUsername(String username);\r\n\r\n\r\n    default List&lt;User&gt; getByUsernameCustom(String username) {\r\n        // Can call Spring Data methods!\r\n        findAll();\r\n\r\n        // Can write your own!\r\n        MongoOperations operations = getMongoOperations();\r\n        return operations.find(new Query(Criteria.where(&quot;username&quot;).is(username)), User.class);\r\n    }\r\n}\r\n```\r\n\r\nYou just need some way of getting access to your db bean (in this example, MongoOperations). MongoAccess provides that access to all of your repositories by retrieving the bean directly:\r\n```\r\npublic interface MongoAccess {\r\n    default MongoOperations getMongoOperations() {\r\n        return BeanAccessor.getSingleton(MongoOperations.class);\r\n    }\r\n}\r\n```\r\n\r\nWhere BeanAccessor is:\r\n```\r\n@Component\r\npublic class BeanAccessor implements ApplicationContextAware {\r\n\r\n    private static ApplicationContext applicationContext;\r\n\r\n    public static &lt;T&gt; T getSingleton(Class&lt;T&gt; clazz){\r\n        return applicationContext.getBean(clazz);\r\n    }\r\n\r\n    public static &lt;T&gt; T getSingleton(String beanName, Class&lt;T&gt; clazz){\r\n        return applicationContext.getBean(beanName, clazz);\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        BeanAccessor.applicationContext = applicationContext;\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnfortunately, you can&#39;t @Autowire in an interface. You could autowire the bean into a MongoAccessImpl and provide a method in the interface to access it, but Spring Data blows up. I don&#39;t think it expects to see an Impl associated even indirectly with PagingAndSortingRepository.","title":"How to add custom method to Spring Data JPA","body":"<p>I liked Danila's solution and started using it but nobody else on the team liked having to create 4 classes for each repository. Danila's solution is the only one here that let's you use the Spring Data methods in the Impl class. However, I found a way to do it with just a single class:</p>\n<pre><code>public interface UserRepository extends MongoAccess, PagingAndSortingRepository&lt;User&gt; {\n\n    List&lt;User&gt; getByUsername(String username);\n\n\n    default List&lt;User&gt; getByUsernameCustom(String username) {\n        // Can call Spring Data methods!\n        findAll();\n\n        // Can write your own!\n        MongoOperations operations = getMongoOperations();\n        return operations.find(new Query(Criteria.where(&quot;username&quot;).is(username)), User.class);\n    }\n}\n</code></pre>\n<p>You just need some way of getting access to your db bean (in this example, MongoOperations). MongoAccess provides that access to all of your repositories by retrieving the bean directly:</p>\n<pre><code>public interface MongoAccess {\n    default MongoOperations getMongoOperations() {\n        return BeanAccessor.getSingleton(MongoOperations.class);\n    }\n}\n</code></pre>\n<p>Where BeanAccessor is:</p>\n<pre><code>@Component\npublic class BeanAccessor implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n\n    public static &lt;T&gt; T getSingleton(Class&lt;T&gt; clazz){\n        return applicationContext.getBean(clazz);\n    }\n\n    public static &lt;T&gt; T getSingleton(String beanName, Class&lt;T&gt; clazz){\n        return applicationContext.getBean(beanName, clazz);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        BeanAccessor.applicationContext = applicationContext;\n    }\n\n}\n</code></pre>\n<p>Unfortunately, you can't @Autowire in an interface. You could autowire the bean into a MongoAccessImpl and provide a method in the interface to access it, but Spring Data blows up. I don't think it expects to see an Impl associated even indirectly with PagingAndSortingRepository.</p>\n"},{"comments":[{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":0,"creation_date":1637826014,"post_id":67432622,"comment_id":123930379,"body_markdown":"Wow ;-) - but not of topic here:\nI have never seen @AllArgsConstructor(onConstructor = @__(@Autowired)) what should I think of that. Very nice or better to implement it standard way without lombok. One thought it depends how the setup of your collegues (people that need to read the code) is. If they all are familiar it all fine. Having people changing a lot or not wanting to bve familiar with lombok might be confused. I could guess that it looks like a new syntax / way of plugin in functionality into java classes/objects. - Ok, I just looked it up: lombok states it to be experimental!","body":"Wow ;-) - but not of topic here: I have never seen @AllArgsConstructor(onConstructor = @__(@Autowired)) what should I think of that. Very nice or better to implement it standard way without lombok. One thought it depends how the setup of your collegues (people that need to read the code) is. If they all are familiar it all fine. Having people changing a lot or not wanting to bve familiar with lombok might be confused. I could guess that it looks like a new syntax / way of plugin in functionality into java classes/objects. - Ok, I just looked it up: lombok states it to be experimental!"},{"owner":{"account_id":5700018,"reputation":528,"user_id":4893213,"accept_rate":80,"display_name":"UpsideDownRide"},"score":0,"creation_date":1659218887,"post_id":67432622,"comment_id":129243244,"body_markdown":"@RequiredArgsConstructor works really nicely for setting up constructor injection - just need to make repo private final so it knows what to put in the constructor.","body":"@RequiredArgsConstructor works really nicely for setting up constructor injection - just need to make repo private final so it knows what to put in the constructor."},{"owner":{"account_id":8166380,"reputation":11,"user_id":8551938,"display_name":"mryba"},"score":0,"creation_date":1659339341,"post_id":67432622,"comment_id":129262465,"body_markdown":"@UpsideDownRide you have right, not needed to add arg : (onConstructor = `@__(@Autowired))` - it can be simpled:\n\n`@AllArgsConstructor\nprivate final UserRepository userRepository; // final field is a key here.`","body":"@UpsideDownRide you have right, not needed to add arg : (onConstructor = <code>@__(@Autowired))</code> - it can be simpled:  <code>@AllArgsConstructor private final UserRepository userRepository; &#47;&#47; final field is a key here.</code>"},{"owner":{"account_id":8166380,"reputation":11,"user_id":8551938,"display_name":"mryba"},"score":0,"creation_date":1659339680,"post_id":67432622,"comment_id":129262556,"body_markdown":"@DirkSchumacher - lombok seems to be very popular in new projects in my observation. It is very fit, no need to generate boilerplate code. But team still need to decide to use or not :)","body":"@DirkSchumacher - lombok seems to be very popular in new projects in my observation. It is very fit, no need to generate boilerplate code. But team still need to decide to use or not :)"}],"tags":[],"owner":{"account_id":8166380,"reputation":11,"user_id":8551938,"display_name":"mryba"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620380969,"creation_date":1620380969,"answer_id":67432622,"question_id":11880924,"body_markdown":"I faced with this using mongo and spring. So let&#39;s assume we use MongoRepository to provided base crud operations, and let&#39;s say we need to implement some custom criteria query operation using mongoTemplate. To achieve one interface to inject repository for crud and custom we need to specify:\r\n\r\nCustom interface:\r\n\r\n    public interface UserCustomRepository {\r\n     List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest);\r\n    }\r\n\r\nUserRepository interface &#39;must&#39; first extends UserCustomRepository and then MongoRepository\r\n\r\n\r\n    @Repository\r\n    public interface UserRepository extends UserCustomRepository, MongoRepository&lt;User, ObjectId&gt; {\r\n    }\r\n\r\nUserRepositoryImpl must have the same name as what crud interface with *Impl suffix.\r\n\r\n    @Component\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class UserRepositoryImpl implements UserCustomRepository {\r\n   \r\n     private MongoTemplate mongoTemplate;\r\n    \r\n     @Override\r\n     public List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest){\r\n      //some impl\r\n     }\r\n    }\r\n\r\nLet&#39;s impl some service - here we inject only UserRepository interface and use methods from crud repository and custom class impl.\r\n\r\n    @Service\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class UserService {\r\n   \r\n     private UserRepository userReposityry;\r\n\r\n     public List&lt;User&gt; getUserByCriteria(UserCriteriaRequest request) {\r\n       userRepository.findById(request.getUserId); // Crud repository method\r\n       userRepository.findAllUsersBySomeCriteria(request); // custom method.\r\n     }\r\n    }\r\n    \r\n\r\n\r\n","title":"How to add custom method to Spring Data JPA","body":"<p>I faced with this using mongo and spring. So let's assume we use MongoRepository to provided base crud operations, and let's say we need to implement some custom criteria query operation using mongoTemplate. To achieve one interface to inject repository for crud and custom we need to specify:</p>\n<p>Custom interface:</p>\n<pre><code>public interface UserCustomRepository {\n List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest);\n}\n</code></pre>\n<p>UserRepository interface 'must' first extends UserCustomRepository and then MongoRepository</p>\n<pre><code>@Repository\npublic interface UserRepository extends UserCustomRepository, MongoRepository&lt;User, ObjectId&gt; {\n}\n</code></pre>\n<p>UserRepositoryImpl must have the same name as what crud interface with *Impl suffix.</p>\n<pre><code>@Component\n@NoArgsConstructor\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class UserRepositoryImpl implements UserCustomRepository {\n\n private MongoTemplate mongoTemplate;\n\n @Override\n public List&lt;User&gt; findAllUsersBySomeCriteria(UserCriteriaRequest criteriaRequest){\n  //some impl\n }\n}\n</code></pre>\n<p>Let's impl some service - here we inject only UserRepository interface and use methods from crud repository and custom class impl.</p>\n<pre><code>@Service\n@NoArgsConstructor\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class UserService {\n\n private UserRepository userReposityry;\n\n public List&lt;User&gt; getUserByCriteria(UserCriteriaRequest request) {\n   userRepository.findById(request.getUserId); // Crud repository method\n   userRepository.findAllUsersBySomeCriteria(request); // custom method.\n }\n}\n</code></pre>\n"}],"owner":{"account_id":226240,"reputation":2961,"user_id":487171,"accept_rate":100,"display_name":"Sharad Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268772,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"accepted_answer_id":11881203,"answer_count":13,"score":220,"last_activity_date":1690562894,"creation_date":1344506407,"question_id":11880924,"body_markdown":"I am looking into Spring Data JPA. Consider the below example where I will get all the crud and finder functionality working by default and if I want to customize a finder then that can be also done easily in the interface itself.\r\n\r\n    @Transactional(readOnly = true)\r\n    public interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n     \r\n      @Query(&quot;&lt;JPQ statement here&gt;&quot;)\r\n      List&lt;Account&gt; findByCustomer(Customer customer);\r\n    }\r\n\r\nI would like to know how can I add a complete custom method with its implementation for the above AccountRepository? Since its an Interface I cannot implement the method there.","title":"How to add custom method to Spring Data JPA","body":"<p>I am looking into Spring Data JPA. Consider the below example where I will get all the crud and finder functionality working by default and if I want to customize a finder then that can be also done easily in the interface itself.</p>\n\n<pre><code>@Transactional(readOnly = true)\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n\n  @Query(\"&lt;JPQ statement here&gt;\")\n  List&lt;Account&gt; findByCustomer(Customer customer);\n}\n</code></pre>\n\n<p>I would like to know how can I add a complete custom method with its implementation for the above AccountRepository? Since its an Interface I cannot implement the method there.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":2799979,"reputation":202,"user_id":6319698,"display_name":"Tomasz S"},"score":0,"creation_date":1545645878,"post_id":53911281,"comment_id":94667713,"body_markdown":"Thank you for answer, is there any mechanism that could give me guarantee that topic was really created ? I was thinking about enabling topic auto creation on Kafka broker (which I don&#39;t really want due to security reasons) or setting replication factor value equal to number of nodes.","body":"Thank you for answer, is there any mechanism that could give me guarantee that topic was really created ? I was thinking about enabling topic auto creation on Kafka broker (which I don&#39;t really want due to security reasons) or setting replication factor value equal to number of nodes."},{"owner":{"account_id":3928844,"reputation":1548,"user_id":3248244,"display_name":"Burak Akyıldız"},"score":0,"creation_date":1545649590,"post_id":53911281,"comment_id":94668820,"body_markdown":"I don&#39;t know any mechanism for this but you can write it. After creation check the topic information in a loop if information is correct then break the loop do next step. But If you can split the creation of topic and publication step this could be better i think.","body":"I don&#39;t know any mechanism for this but you can write it. After creation check the topic information in a loop if information is correct then break the loop do next step. But If you can split the creation of topic and publication step this could be better i think."}],"tags":[],"owner":{"account_id":3928844,"reputation":1548,"user_id":3248244,"display_name":"Burak Akyıldız"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690562685,"creation_date":1545642054,"answer_id":53911281,"question_id":53910783,"body_markdown":"Kafka client is not guarenteed about atomic topic creation. You can read it from this [documentation][1]. When you create a topic, kafka will notify distributed systems about topics information so the action is running on different machines and these can&#39;t be atomic without distributed transactional management.\r\n\r\n\r\n  [1]: https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#createTopics-java.util.Collection-org.apache.kafka.clients.admin.CreateTopicsOptions-","title":"Kafka producer throws &quot;Received unknown topic or partition error&quot; when sending to topic created via AdminClient createTopics method","body":"<p>Kafka client is not guarenteed about atomic topic creation. You can read it from this <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#createTopics-java.util.Collection-org.apache.kafka.clients.admin.CreateTopicsOptions-\" rel=\"nofollow noreferrer\">documentation</a>. When you create a topic, kafka will notify distributed systems about topics information so the action is running on different machines and these can't be atomic without distributed transactional management.</p>\n"}],"owner":{"account_id":2799979,"reputation":202,"user_id":6319698,"display_name":"Tomasz S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25069,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53911281,"answer_count":1,"score":7,"last_activity_date":1690562685,"creation_date":1545638816,"question_id":53910783,"body_markdown":"I have issue with topics created using `AdminClient createTopics`.\r\nIn my application I have following sequence:\r\n\r\n 1. create new topic with 1 partition, replication factor set to 1 using `AdminClient.createTopics`\r\n 2. wait on`AdminClient.createTopics` `KafkaFuture` result\r\n 3. immediately send a new message to newly created topic (usually the time between operation 2 and 3 is about 200 milliseconds).\r\n\r\nMy code is as follows:\r\n\r\n    adminClient\r\n      .createTopics(Collections.singleton(new NewTopic(targetTopic, 1, (short) 1)))\r\n      .values()\r\n      .get(targetTopic)\r\n      .get();\r\n    producer.send(new ProducerRecord&lt;&gt;(targetTopic, data));\r\n&lt;/code&gt;\r\n\r\nFrom time to time producer doesn&#39;t see the created topic and throws following exception:\r\n\r\n&gt;    [Producer clientId=producer-1] Error while fetching metadata with correlation id 5 : {targetTopic=UNKNOWN_TOPIC_OR_PARTITION}\r\n&gt;    \r\n&gt;    [Producer clientId=producer-1] Received unknown topic or partition error in produce request on partition targetTopic. The topic/partition may not exist or the user may not have Describe access to it\r\n\r\nThis issue is very rare (&lt; 0,1% all created topics).\r\n\r\nIs it guaranteed that when `AdminClient.createTopics` Kafka future is completed then topic is created and Kafka producer should see that topic ?\r\nIf not then which method of topic creation can give me such guarantee ? \r\n\r\nI am using kafka-clients:2.0.0 and Kafka HD service on Azure. My cluster consists of 3 Zookeeper and 3 Kafka nodes.\r\n","title":"Kafka producer throws &quot;Received unknown topic or partition error&quot; when sending to topic created via AdminClient createTopics method","body":"<p>I have issue with topics created using <code>AdminClient createTopics</code>.\nIn my application I have following sequence:</p>\n\n<ol>\n<li>create new topic with 1 partition, replication factor set to 1 using <code>AdminClient.createTopics</code></li>\n<li>wait on<code>AdminClient.createTopics</code> <code>KafkaFuture</code> result</li>\n<li>immediately send a new message to newly created topic (usually the time between operation 2 and 3 is about 200 milliseconds).</li>\n</ol>\n\n<p>My code is as follows:</p>\n\n<pre><code>adminClient\n  .createTopics(Collections.singleton(new NewTopic(targetTopic, 1, (short) 1)))\n  .values()\n  .get(targetTopic)\n  .get();\nproducer.send(new ProducerRecord&lt;&gt;(targetTopic, data));\n</code></pre>\n\n<p></p>\n\n<p>From time to time producer doesn't see the created topic and throws following exception:</p>\n\n<blockquote>\n  <p>[Producer clientId=producer-1] Error while fetching metadata with correlation id 5 : {targetTopic=UNKNOWN_TOPIC_OR_PARTITION}</p>\n  \n  <p>[Producer clientId=producer-1] Received unknown topic or partition error in produce request on partition targetTopic. The topic/partition may not exist or the user may not have Describe access to it</p>\n</blockquote>\n\n<p>This issue is very rare (&lt; 0,1% all created topics).</p>\n\n<p>Is it guaranteed that when <code>AdminClient.createTopics</code> Kafka future is completed then topic is created and Kafka producer should see that topic ?\nIf not then which method of topic creation can give me such guarantee ? </p>\n\n<p>I am using kafka-clients:2.0.0 and Kafka HD service on Azure. My cluster consists of 3 Zookeeper and 3 Kafka nodes.</p>\n"},{"tags":["java","docker","apache-kafka","docker-compose","kafka-producer-api"],"answers":[{"comments":[{"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"score":3,"creation_date":1626086055,"post_id":68344633,"comment_id":120790066,"body_markdown":"No. I&#39;m aware of the bridges in docker. It&#39;s not related to the bridges.","body":"No. I&#39;m aware of the bridges in docker. It&#39;s not related to the bridges."}],"tags":[],"owner":{"account_id":18316708,"reputation":237,"user_id":13338344,"display_name":"Keyur Barapatre"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626080561,"creation_date":1626080561,"answer_id":68344633,"question_id":68343394,"body_markdown":"Initially they are on default bridge network, and in order to communicate between the containers you have to use container IPs.\r\n\r\nYou can try deploying both of the containers on same network.\r\n\r\nAdd a network definition in your docker-compose\r\n\r\n```\r\nnetworks:\r\n  default:\r\n    external:\r\n      name: zookeeper-kafka\r\n  zookeeper-kafka:\r\n    driver: bridge\r\n```\r\n\r\nIn services definition you can add network name and ports.\r\n\r\nExample, for zookeeper service\r\n\r\n```\r\nzookeeper:\r\n    networks:\r\n    - zookeeper-kafka\r\n    image: confluentinc/cp-zookeeper:5.5.1\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n    volumes:\r\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\r\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\r\n```\r\n\r\nAnd then you can access zookeeper service via zookeeper-kafka:2181 (i.e. network-name:port), while connecting through kafka.\r\n\r\nExample for update kafka service definition\r\n\r\n```\r\nkafka:\r\n    networks:\r\n    - zookeeper-kafka\r\n    image: confluentinc/cp-kafka:5.5.1\r\n    depends_on:\r\n      - zookeeper\r\n    ports:\r\n      - 9092:9092\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper-kafka:2181\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://zookeeper-kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n    volumes:\r\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\r\n```\r\nHopefully this helps you\r\n","title":"not able to connect with the kafka in docker using docker-file","body":"<p>Initially they are on default bridge network, and in order to communicate between the containers you have to use container IPs.</p>\n<p>You can try deploying both of the containers on same network.</p>\n<p>Add a network definition in your docker-compose</p>\n<pre><code>networks:\n  default:\n    external:\n      name: zookeeper-kafka\n  zookeeper-kafka:\n    driver: bridge\n</code></pre>\n<p>In services definition you can add network name and ports.</p>\n<p>Example, for zookeeper service</p>\n<pre><code>zookeeper:\n    networks:\n    - zookeeper-kafka\n    image: confluentinc/cp-zookeeper:5.5.1\n    hostname: zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    volumes:\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\n</code></pre>\n<p>And then you can access zookeeper service via zookeeper-kafka:2181 (i.e. network-name:port), while connecting through kafka.</p>\n<p>Example for update kafka service definition</p>\n<pre><code>kafka:\n    networks:\n    - zookeeper-kafka\n    image: confluentinc/cp-kafka:5.5.1\n    depends_on:\n      - zookeeper\n    ports:\n      - 9092:9092\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper-kafka:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://zookeeper-kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n    volumes:\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\n</code></pre>\n<p>Hopefully this helps you</p>\n"},{"comments":[{"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"score":2,"creation_date":1626200284,"post_id":68354650,"comment_id":120828267,"body_markdown":"Turns out that the issue was with latest docker desktop app. I downgraded the version and issue got vanished. But thanks for the answer.","body":"Turns out that the issue was with latest docker desktop app. I downgraded the version and issue got vanished. But thanks for the answer."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626130581,"creation_date":1626130581,"answer_id":68354650,"question_id":68343394,"body_markdown":"`PLAINTEXT_HOST://0.0.0.0:9092` is not a valid advertised listener; this needs to be a resolvable address. \r\n\r\nIn your error, `Connection to node -1 (localhost/127.0.0.1:9092) terminated`, unclear where this code is running, but if on the same host outside of Docker, then you should advertise `localhost`, not `0.0.0.0`\r\n\r\nYour other error, `InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)` indicates that you have connected to some other server and got a response that the client did not expect. ","title":"not able to connect with the kafka in docker using docker-file","body":"<p><code>PLAINTEXT_HOST://0.0.0.0:9092</code> is not a valid advertised listener; this needs to be a resolvable address.</p>\n<p>In your error, <code>Connection to node -1 (localhost/127.0.0.1:9092) terminated</code>, unclear where this code is running, but if on the same host outside of Docker, then you should advertise <code>localhost</code>, not <code>0.0.0.0</code></p>\n<p>Your other error, <code>InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)</code> indicates that you have connected to some other server and got a response that the client did not expect.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690562579,"creation_date":1690562579,"answer_id":76789654,"question_id":68343394,"body_markdown":"I also experienced same problem, we use kafka container for running functional tests dealing with producers or consumers.\r\n\r\nHere is snippet from docker-compose.yml where the containers for zookeeper, kafka and schema registries are provided\r\n\r\n    zookeeper:\r\n        image: confluentinc/cp-zookeeper:6.1.0\r\n        hostname: zookeeper\r\n        container_name: zookeeper\r\n        healthcheck:\r\n          test: nc -z zookeeper 2181\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 2181\r\n          # Default 8080 port clashes with existing services\r\n          KAFKA_OPTS: &#39;-Dzookeeper.admin.serverPort=3181&#39;\r\n    \r\n    \r\n    kafka:\r\n        image: confluentinc/cp-kafka:6.1.0\r\n        hostname: kafka\r\n        container_name: kafka\r\n        healthcheck:\r\n          test: nc -z kafka 29092\r\n        depends_on:\r\n          zookeeper:\r\n            condition: service_healthy\r\n        ports:\r\n          - &quot;29092:29092&quot;\r\n        environment:\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n          KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\r\n          KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\r\n    \r\n    \r\n    schema-registry:\r\n        image: confluentinc/cp-schema-registry:6.1.0\r\n        hostname: schema-registry\r\n        container_name: schema-registry\r\n        healthcheck:\r\n          test: nc -z schema-registry 8081\r\n        restart: always\r\n        depends_on:\r\n          kafka:\r\n            condition: service_healthy\r\n        ports:\r\n          - &#39;8081:8081&#39;\r\n        environment:\r\n          SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\r\n          SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\r\n          SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n          SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\r\n\r\n\r\nNow as you can see in the **kafka** container\r\n\r\n    KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n\r\nthe security protocol the container is exposing was PLAINTEXT.\r\n\r\nHowever in my case, the problem was in the application.yaml file. Below is the kafka producer config in application.yaml. Now as its mentioned security protocol to be SASL_SSL\r\n\r\n   \r\n\r\n     kafka:\r\n            producer:\r\n              bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVER:}\r\n              key-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n              value-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n            properties:\r\n              schema.registry.url: ${KAFKA_SCHEMA_REGISTRY_URL:}\r\n              sasl:\r\n                jaas:\r\n                  config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&#39;${KAFKA_CLUSTER_API_KEY:}&#39; password=&#39;${KAFKA_CLUSTER_SECRET:}&#39;;\r\n                mechanism: PLAIN\r\n              basic:\r\n                auth:\r\n                  user:\r\n                    info: ${KAFKA_SCHEMA_REGISTRY_API_KEY:}:${KAFKA_SCHEMA_REGISTRY_SECRET:}\r\n                  credentials:\r\n                    source: USER_INFO\r\n              security:\r\n                protocol: SASL_SSL\r\n\r\nSo, in order to run my functional tests, I had to override this security protocol to PLAINTEXT. As this is only needed for functional test, and in production configuration SASL_SSL is the right thing.\r\n\r\nAnd the way we can override is by setting an environment variable named `SPRING_KAFKA_PROPERTIES_SECURITY_PROTOCOL`  this is equivalent to (Spring resolves this implicitly)\r\n\r\n    spring:\r\n        kafka:\r\n           properties:\r\n              security:\r\n                  protocol: PLAINTEXT \r\n\r\nAnd thus, in functional test mode, application was able to connect to the kafka container by overriding the security protocol from **SASL_SSL** to **PLAINTEXT**\r\n                    ","title":"not able to connect with the kafka in docker using docker-file","body":"<p>I also experienced same problem, we use kafka container for running functional tests dealing with producers or consumers.</p>\n<p>Here is snippet from docker-compose.yml where the containers for zookeeper, kafka and schema registries are provided</p>\n<pre><code>zookeeper:\n    image: confluentinc/cp-zookeeper:6.1.0\n    hostname: zookeeper\n    container_name: zookeeper\n    healthcheck:\n      test: nc -z zookeeper 2181\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      # Default 8080 port clashes with existing services\n      KAFKA_OPTS: '-Dzookeeper.admin.serverPort=3181'\n\n\nkafka:\n    image: confluentinc/cp-kafka:6.1.0\n    hostname: kafka\n    container_name: kafka\n    healthcheck:\n      test: nc -z kafka 29092\n    depends_on:\n      zookeeper:\n        condition: service_healthy\n    ports:\n      - &quot;29092:29092&quot;\n    environment:\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\n\n\nschema-registry:\n    image: confluentinc/cp-schema-registry:6.1.0\n    hostname: schema-registry\n    container_name: schema-registry\n    healthcheck:\n      test: nc -z schema-registry 8081\n    restart: always\n    depends_on:\n      kafka:\n        condition: service_healthy\n    ports:\n      - '8081:8081'\n    environment:\n      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\n</code></pre>\n<p>Now as you can see in the <strong>kafka</strong> container</p>\n<pre><code>KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n</code></pre>\n<p>the security protocol the container is exposing was PLAINTEXT.</p>\n<p>However in my case, the problem was in the application.yaml file. Below is the kafka producer config in application.yaml. Now as its mentioned security protocol to be SASL_SSL</p>\n<pre><code> kafka:\n        producer:\n          bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVER:}\n          key-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n          value-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n        properties:\n          schema.registry.url: ${KAFKA_SCHEMA_REGISTRY_URL:}\n          sasl:\n            jaas:\n              config: org.apache.kafka.common.security.plain.PlainLoginModule required username='${KAFKA_CLUSTER_API_KEY:}' password='${KAFKA_CLUSTER_SECRET:}';\n            mechanism: PLAIN\n          basic:\n            auth:\n              user:\n                info: ${KAFKA_SCHEMA_REGISTRY_API_KEY:}:${KAFKA_SCHEMA_REGISTRY_SECRET:}\n              credentials:\n                source: USER_INFO\n          security:\n            protocol: SASL_SSL\n</code></pre>\n<p>So, in order to run my functional tests, I had to override this security protocol to PLAINTEXT. As this is only needed for functional test, and in production configuration SASL_SSL is the right thing.</p>\n<p>And the way we can override is by setting an environment variable named <code>SPRING_KAFKA_PROPERTIES_SECURITY_PROTOCOL</code>  this is equivalent to (Spring resolves this implicitly)</p>\n<pre><code>spring:\n    kafka:\n       properties:\n          security:\n              protocol: PLAINTEXT \n</code></pre>\n<p>And thus, in functional test mode, application was able to connect to the kafka container by overriding the security protocol from <strong>SASL_SSL</strong> to <strong>PLAINTEXT</strong></p>\n"}],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690562579,"creation_date":1626074427,"question_id":68343394,"body_markdown":"```---\r\nversion: &#39;2&#39;\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:5.5.1\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n    volumes:\r\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\r\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\r\n\r\n  kafka:\r\n    image: confluentinc/cp-kafka:5.5.1\r\n    depends_on:\r\n      - zookeeper\r\n    ports:\r\n      - 9092:9092\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n    volumes:\r\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\r\n```\r\n\r\nAbove is the docker-compose file to spin up the zookeeper and kafka instances in docker.\r\n\r\n\r\nWhen I run the service which is trying to make a connection with the kafka. I&#39;m getting below error. I tracked it down on the internet but did not get much on this.\r\n\r\n**Error on the Service-layer**\r\n```\r\n.12:43:18.730 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-2] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n.12:43:19.295 [kafka-producer-network-thread | producer-1] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n.12:43:19.481 [kafka-admin-client-thread | vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] WARN  o.apache.kafka.clients.NetworkClient - [AdminClient clientId=vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n```\r\n\r\n\r\n**Error in Docker when kafka-producer is trying to connect with the kafka brokers.**\r\n\r\n```\r\n[2021-07-12 07:13:19,492] WARN [SocketServer brokerId=1] Unexpected error from /172.20.0.1; closing connection (org.apache.kafka.common.network.Selector)\r\norg.apache.kafka.common.network.InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)\r\nat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:105)\r\nat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\r\nat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\r\nat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\r\nat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\r\nat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\r\nat kafka.network.Processor.poll(SocketServer.scala:893)\r\nat kafka.network.Processor.run(SocketServer.scala:792)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\nNot sure why producer is not able to connect with the broker.\r\nThanks in advance.","title":"not able to connect with the kafka in docker using docker-file","body":"<pre><code>version: '2'\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:5.5.1\n    hostname: zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n    volumes:\n      - ./.docker-volumes/zookeeper/_data:/var/lib/zookeeper/data\n      - ./.docker-volumes/zookeeper/_log:/var/lib/zookeeper/log\n\n  kafka:\n    image: confluentinc/cp-kafka:5.5.1\n    depends_on:\n      - zookeeper\n    ports:\n      - 9092:9092\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://0.0.0.0:9092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n    volumes:\n      - ./.docker-volumes/kafka/_data:/var/lib/kafka/data\n</code></pre>\n<p>Above is the docker-compose file to spin up the zookeeper and kafka instances in docker.</p>\n<p>When I run the service which is trying to make a connection with the kafka. I'm getting below error. I tracked it down on the internet but did not get much on this.</p>\n<p><strong>Error on the Service-layer</strong></p>\n<pre><code>.12:43:18.730 [kafka-producer-network-thread | producer-2] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-2] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n.12:43:19.295 [kafka-producer-network-thread | producer-1] WARN  o.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n.12:43:19.481 [kafka-admin-client-thread | vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] WARN  o.apache.kafka.clients.NetworkClient - [AdminClient clientId=vendor_srs_consumer_srs_restaurant_finance_pan_validate_client_id_0] Connection to node -1 (localhost/127.0.0.1:9092) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n</code></pre>\n<p><strong>Error in Docker when kafka-producer is trying to connect with the kafka brokers.</strong></p>\n<pre><code>[2021-07-12 07:13:19,492] WARN [SocketServer brokerId=1] Unexpected error from /172.20.0.1; closing connection (org.apache.kafka.common.network.Selector)\norg.apache.kafka.common.network.InvalidReceiveException: Invalid receive (size = 369296129 larger than 104857600)\nat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:105)\nat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447)\nat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397)\nat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:678)\nat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:580)\nat org.apache.kafka.common.network.Selector.poll(Selector.java:485)\nat kafka.network.Processor.poll(SocketServer.scala:893)\nat kafka.network.Processor.run(SocketServer.scala:792)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Not sure why producer is not able to connect with the broker.\nThanks in advance.</p>\n"},{"tags":["java","android","import","cordova-plugins","visual-studio-cordova"],"answers":[{"tags":[],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690562197,"creation_date":1690562197,"answer_id":76789610,"question_id":76765204,"body_markdown":"I opened my project in Android Studio in the certain way and it works. So it s important to open in Android Studio your cordova app from the path: yourCordovaApp/platforms/android/app. \r\n\r\nU need to solve gradle problems if it appears and all should run properly. Now all the hints are displaying for me good.","title":"How to enable auto imports while creating Cordova Plugin","body":"<p>I opened my project in Android Studio in the certain way and it works. So it s important to open in Android Studio your cordova app from the path: yourCordovaApp/platforms/android/app.</p>\n<p>U need to solve gradle problems if it appears and all should run properly. Now all the hints are displaying for me good.</p>\n"}],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789610,"answer_count":1,"score":0,"last_activity_date":1690562197,"creation_date":1690306081,"question_id":76765204,"body_markdown":"i am currently developing cordova plugin in Java. I am wondering about turning on auto import with a shortcut like alt+enter to import. \r\nI was searching for plugins for it for vs code and android studio but i didn&#39;t find anything working.\r\nIs there a way to use some IDE supporting auto imports for cordova plugin and android at one time?\r\n\r\nI am confused because some imports look like this:\r\nimport org.apache.cordova.CallbackContext;\r\nimport org.apache.cordova.PermissionHelper;\r\n\r\nAnother imports look like this:\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\n\r\n\r\nAndroid docs are quite huge so i can find info about imports and functions but cordova docs are not enough to know what is going on. Any tips how to easily learn cordova plugins?\r\nBig thanks for responses, have a nice day!","title":"How to enable auto imports while creating Cordova Plugin","body":"<p>i am currently developing cordova plugin in Java. I am wondering about turning on auto import with a shortcut like alt+enter to import.\nI was searching for plugins for it for vs code and android studio but i didn't find anything working.\nIs there a way to use some IDE supporting auto imports for cordova plugin and android at one time?</p>\n<p>I am confused because some imports look like this:\nimport org.apache.cordova.CallbackContext;\nimport org.apache.cordova.PermissionHelper;</p>\n<p>Another imports look like this:\nimport android.content.BroadcastReceiver;\nimport android.content.Context;</p>\n<p>Android docs are quite huge so i can find info about imports and functions but cordova docs are not enough to know what is going on. Any tips how to easily learn cordova plugins?\nBig thanks for responses, have a nice day!</p>\n"},{"tags":["java","spring","spring-boot","flyway"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1690487225,"post_id":76782381,"comment_id":135364629,"body_markdown":"have you tried to specify schema in table annotation?\n@Table(name=&quot;table_name&quot;, schema = &quot;myapp&quot;)","body":"have you tried to specify schema in table annotation? @Table(name=&quot;table_name&quot;, schema = &quot;myapp&quot;)"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690501144,"post_id":76782381,"comment_id":135366570,"body_markdown":"[Edit] your post and include the _complete_ stack trace; indicate the line in your code that causes the exception.","body":"<a href=\"https://stackoverflow.com/posts/76782381/edit\">Edit</a> your post and include the <i>complete</i> stack trace; indicate the line in your code that causes the exception."},{"owner":{"account_id":20069788,"reputation":25,"user_id":17535621,"display_name":"Julia_Gubolin"},"score":0,"creation_date":1690562061,"post_id":76782381,"comment_id":135375980,"body_markdown":"@BlackBear In which table, in the Users table?","body":"@BlackBear In which table, in the Users table?"},{"owner":{"account_id":20069788,"reputation":25,"user_id":17535621,"display_name":"Julia_Gubolin"},"score":0,"creation_date":1690562180,"post_id":76782381,"comment_id":135375998,"body_markdown":"@JimGarrison Thanks for your advice. I will indicate the line that causes the exception.","body":"@JimGarrison Thanks for your advice. I will indicate the line that causes the exception."}],"owner":{"account_id":20069788,"reputation":25,"user_id":17535621,"display_name":"Julia_Gubolin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690562127,"creation_date":1690481206,"question_id":76782381,"body_markdown":"I&#39;m creating an API with Spring Boot (3.1.1), Java, PostgreSQL and Flyway. I started by doing the security settings with Spring Security, creating a user that could have 3 roles (ADMIN, USER, CUSTOMER). The user authentication, authorization and get all/update/delete functions worked without problems.\r\nHowever, I wanted Customer to have more attributes than I put in User, so I created a class called Customer and inherited it from User. I&#39;ve done this in the code and in the migration. I can register users normally, but when I try to login with a User that I saved in the database, I get the error:\r\n\r\n```\r\nSQL Error: 0, SQLState: 42703\r\nERROR: column u1_0.accounttype does not exist\r\nPosi&#231;&#227;o: 62\r\n```\r\n\r\nHowever, I didn&#39;t put this *accounttype* attribute in the User class, only in the Customer class.\r\n\r\n**Class User**\r\n\r\n```\r\npackage com.example.auth.domain.user;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Table(name = &quot;users&quot;)\r\n@Entity(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(of = &quot;id&quot;)\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private String id;\r\n    private String login;\r\n    private String password;\r\n    private UserRole role;\r\n\r\n    public User(String login, String password, UserRole role){\r\n        this.login = login;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        if(this.role == UserRole.ADMIN){\r\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;), new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\r\n        } \r\n        else if(this.role == UserRole.USER){\r\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\r\n        }\r\n        else{\r\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return login;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n**Class Customer:**\r\n\r\n```\r\npackage com.example.auth.domain.costumer;\r\n\r\nimport com.example.auth.domain.user.User;\r\nimport com.example.auth.domain.user.UserRole;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity(name = &quot;customers&quot;)\r\n@Table(name=&quot;customers&quot;)\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Customer extends User{\r\n\r\n    private String name;\r\n    private String email;\r\n    private String phone;\r\n    private Integer relationshipTime;\r\n    private Integer age;\r\n    private CustomerContactRole contactorigin;\r\n    private CustomerAccountTypeRole accounttype;\r\n\r\n    public Customer(String login, String password, String name, String email, String phone,\r\n            Integer relationshipTime, Integer age, CustomerContactRole contactOrigin,\r\n            CustomerAccountTypeRole accountType) {\r\n        super(login, password, UserRole.CUSTOMER);\r\n        this.name = name;\r\n        this.email = email;\r\n        this.phone = phone;\r\n        this.relationshipTime = relationshipTime;\r\n        this.age = age;\r\n        this.contactorigin = contactOrigin;\r\n        this.accounttype = accountType;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Migration: V1__create-product-user-customer-table.sql**\r\n\r\n\r\n```\r\nCREATE TABLE product (\r\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\r\n    name TEXT NOT NULL,\r\n    price INTEGER NOT NULL\r\n);\r\nCREATE TABLE users (\r\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\r\n    login TEXT NOT NULL UNIQUE,\r\n    password TEXT NOT NULL,\r\n    role TEXT NOT NULL,\r\n    dtype TEXT NULL\r\n);\r\n\r\nCREATE TABLE customers (\r\n    name TEXT NOT NULL UNIQUE,\r\n    email TEXT NOT NULL,\r\n    phone TEXT NOT NULL,\r\n    relationshiptime INTEGER NOT NULL,\r\n    age INTEGER NOT NULL,\r\n    contactorigin TEXT NOT NULL,\r\n    accounttype TEXT NOT NULL\r\n) inherits (users);\r\n\r\n```\r\n\r\n**Endpoint that generates the error (when I try to login an User)**\r\n\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login(@RequestBody @Valid AuthenticationDTO data){\r\n        var usernamePassword = new UsernamePasswordAuthenticationToken(data.login(), data.password());\r\n//Line that causes the error\r\n        var auth = this.authenticationManager.authenticate(usernamePassword);\r\n\r\n        String token = tokenService.generateToken((User) auth.getPrincipal());\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Login finished! &quot; + new LoginResponseDTO(token));\r\n    }\r\n\r\n```\r\n**Error**\r\n\r\n```\r\n2023-07-27T13:02:17.441-03:00  WARN 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42703\r\n2023-07-27T13:02:17.441-03:00 ERROR 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column u1_0.accounttype does not exist\r\n  Posi&#231;&#227;o: 62\r\n```","title":"ERROR: column does not exist on PostgreSQL","body":"<p>I'm creating an API with Spring Boot (3.1.1), Java, PostgreSQL and Flyway. I started by doing the security settings with Spring Security, creating a user that could have 3 roles (ADMIN, USER, CUSTOMER). The user authentication, authorization and get all/update/delete functions worked without problems.\nHowever, I wanted Customer to have more attributes than I put in User, so I created a class called Customer and inherited it from User. I've done this in the code and in the migration. I can register users normally, but when I try to login with a User that I saved in the database, I get the error:</p>\n<pre><code>SQL Error: 0, SQLState: 42703\nERROR: column u1_0.accounttype does not exist\nPosição: 62\n</code></pre>\n<p>However, I didn't put this <em>accounttype</em> attribute in the User class, only in the Customer class.</p>\n<p><strong>Class User</strong></p>\n<pre><code>package com.example.auth.domain.user;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\nimport java.util.List;\n\n@Table(name = &quot;users&quot;)\n@Entity(name = &quot;users&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(of = &quot;id&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private String id;\n    private String login;\n    private String password;\n    private UserRole role;\n\n    public User(String login, String password, UserRole role){\n        this.login = login;\n        this.password = password;\n        this.role = role;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        if(this.role == UserRole.ADMIN){\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;), new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\n        } \n        else if(this.role == UserRole.USER){\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;), new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\n        }\n        else{\n            return List.of(new SimpleGrantedAuthority(&quot;ROLE_CUSTOMER&quot;));\n        }\n    }\n\n    @Override\n    public String getUsername() {\n        return login;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p><strong>Class Customer:</strong></p>\n<pre><code>package com.example.auth.domain.costumer;\n\nimport com.example.auth.domain.user.User;\nimport com.example.auth.domain.user.UserRole;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity(name = &quot;customers&quot;)\n@Table(name=&quot;customers&quot;)\n@AllArgsConstructor\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Customer extends User{\n\n    private String name;\n    private String email;\n    private String phone;\n    private Integer relationshipTime;\n    private Integer age;\n    private CustomerContactRole contactorigin;\n    private CustomerAccountTypeRole accounttype;\n\n    public Customer(String login, String password, String name, String email, String phone,\n            Integer relationshipTime, Integer age, CustomerContactRole contactOrigin,\n            CustomerAccountTypeRole accountType) {\n        super(login, password, UserRole.CUSTOMER);\n        this.name = name;\n        this.email = email;\n        this.phone = phone;\n        this.relationshipTime = relationshipTime;\n        this.age = age;\n        this.contactorigin = contactOrigin;\n        this.accounttype = accountType;\n    }\n\n}\n</code></pre>\n<p><strong>Migration: V1__create-product-user-customer-table.sql</strong></p>\n<pre><code>CREATE TABLE product (\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\n    name TEXT NOT NULL,\n    price INTEGER NOT NULL\n);\nCREATE TABLE users (\n    id TEXT PRIMARY KEY UNIQUE NOT NULL,\n    login TEXT NOT NULL UNIQUE,\n    password TEXT NOT NULL,\n    role TEXT NOT NULL,\n    dtype TEXT NULL\n);\n\nCREATE TABLE customers (\n    name TEXT NOT NULL UNIQUE,\n    email TEXT NOT NULL,\n    phone TEXT NOT NULL,\n    relationshiptime INTEGER NOT NULL,\n    age INTEGER NOT NULL,\n    contactorigin TEXT NOT NULL,\n    accounttype TEXT NOT NULL\n) inherits (users);\n\n</code></pre>\n<p><strong>Endpoint that generates the error (when I try to login an User)</strong></p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody @Valid AuthenticationDTO data){\n        var usernamePassword = new UsernamePasswordAuthenticationToken(data.login(), data.password());\n//Line that causes the error\n        var auth = this.authenticationManager.authenticate(usernamePassword);\n\n        String token = tokenService.generateToken((User) auth.getPrincipal());\n\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Login finished! &quot; + new LoginResponseDTO(token));\n    }\n\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>2023-07-27T13:02:17.441-03:00  WARN 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42703\n2023-07-27T13:02:17.441-03:00 ERROR 8700 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column u1_0.accounttype does not exist\n  Posição: 62\n</code></pre>\n"},{"tags":["java","postgresql","jdbctemplate","batch-insert"],"comments":[{"owner":{"account_id":13653906,"reputation":73,"user_id":9850991,"display_name":"Gowtham"},"score":0,"creation_date":1576003846,"post_id":59273602,"comment_id":104754366,"body_markdown":"could you be more specific on the use case","body":"could you be more specific on the use case"},{"owner":{"account_id":15208388,"reputation":71,"user_id":10974034,"display_name":"jagadesh"},"score":0,"creation_date":1576003926,"post_id":59273602,"comment_id":104754388,"body_markdown":"Need to get inserted id&#39;s using jdbcTemplate @Gowtham","body":"Need to get inserted id&#39;s using jdbcTemplate @Gowtham"},{"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"score":1,"creation_date":1670469494,"post_id":59273602,"comment_id":131884732,"body_markdown":"Somebody seemed to have figured out a workaround for your scenario here https://stackoverflow.com/a/74296674/3794466 but haven&#39;t tried it yet myself...","body":"Somebody seemed to have figured out a workaround for your scenario here <a href=\"https://stackoverflow.com/a/74296674/3794466\">stackoverflow.com/a/74296674/3794466</a> but haven&#39;t tried it yet myself..."}],"answers":[{"comments":[{"owner":{"account_id":15208388,"reputation":71,"user_id":10974034,"display_name":"jagadesh"},"score":0,"creation_date":1576005009,"post_id":59273765,"comment_id":104754855,"body_markdown":"for that, we need to use another batchUpdate() declaration which contains ParameterizedPreparedStatementSetter. it is used to get batch-wise rows affected count.","body":"for that, we need to use another batchUpdate() declaration which contains ParameterizedPreparedStatementSetter. it is used to get batch-wise rows affected count."}],"tags":[],"owner":{"account_id":4053804,"reputation":79,"user_id":3332466,"display_name":"Harun Cetin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576019969,"creation_date":1576004493,"answer_id":59273765,"question_id":59273602,"body_markdown":"Try using `int[]` instead of `int[][]`","title":"Spring boot - Jdbc batch insert with returning ids","body":"<p>Try using <code>int[]</code> instead of <code>int[][]</code></p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690561630,"creation_date":1690561630,"answer_id":76789562,"question_id":59273602,"body_markdown":"The underlying issue here is that JDBC distinguishes between updates (SQL statements which return just the number of affected rows) and queries (SQL statements returning a set of rows, which end up in a ResultSet), and allows batching (i.e. sending multiple statements to the server at once) only for updates, not for queries.\r\n\r\n`INSERT ... RETURNING ...` belongs to the &quot;query&quot; category, and thus can&#39;t be batched.\r\n\r\nA possible workaround is mentioned in [this answer to &quot;Insert batch and Return full object using NamedParameterJdbcTemplate&quot;](https://stackoverflow.com/a/74296674/600500) – it&#39;s basically constructing a new SQL statement with many lines in the VALUES clause for each call.\r\nIf you are calling this with batches of many different sizes, your DB optimizer will see many different statements, and might fail to optimize it properly (or at least, has to compile it again each time).\r\n\r\nI found this old post [Batching Select Statement with JDBC](https://javaranch.com/journal/200510/batching.html), which elaborates several options here, and suggests an approach named there &quot;select batching&quot;, where prepared statements of several sizes are set up, and then sent several of them to the DB with the data.\r\n\r\nBecause I just also had this problem, I&#39;ve taken this approach, used spring&#39;s NamedParameterJdbcTemplate and build a generic class which puts together these queries based on some template strings.\r\n\r\nFull code is in [this PR I just opened](https://github.com/zalando-nakadi/nakadi-producer-spring-boot-starter/pull/173/files) (to my library which needs it).\r\n\r\nIt can then be used like this (using the example from the question):\r\n\r\n    QueryStatementBatcher&lt;Integer&gt; batcher = new QueryStatementBatcher&lt;&gt;(\r\n            &quot;INSERT INTO users (name) VALUES &quot;, &quot;(:name#)&quot;, &quot; RETURNING id&quot;,\r\n            (row, n) -&gt; row.getInt(&quot;id&quot;));\r\n\r\n    Stream&lt;MapSqlParameterSource&gt; inputs =\r\n        Stream.of(&quot;Paŭlo Ebermann&quot;, &quot;jagadesh&quot;, &quot;Harun Cetin&quot;)\r\n              .map(name -&gt; new MapSqlParameterSource()\r\n                              .addValue(&quot;name#&quot;, name));\r\n\r\n    List&lt;Integer&gt; generatedIds =\r\n       batcher.queryForStream(jdbcTemplate, inputs)\r\n              .collect(toList());\r\n\r\n\r\nOf course, you&#39;d create the batcher only once and reuse it (it doesn&#39;t have mutable state, so it is thread-safe, and computing the templates is a bit of effort at the beginning).","title":"Spring boot - Jdbc batch insert with returning ids","body":"<p>The underlying issue here is that JDBC distinguishes between updates (SQL statements which return just the number of affected rows) and queries (SQL statements returning a set of rows, which end up in a ResultSet), and allows batching (i.e. sending multiple statements to the server at once) only for updates, not for queries.</p>\n<p><code>INSERT ... RETURNING ...</code> belongs to the &quot;query&quot; category, and thus can't be batched.</p>\n<p>A possible workaround is mentioned in <a href=\"https://stackoverflow.com/a/74296674/600500\">this answer to &quot;Insert batch and Return full object using NamedParameterJdbcTemplate&quot;</a> – it's basically constructing a new SQL statement with many lines in the VALUES clause for each call.\nIf you are calling this with batches of many different sizes, your DB optimizer will see many different statements, and might fail to optimize it properly (or at least, has to compile it again each time).</p>\n<p>I found this old post <a href=\"https://javaranch.com/journal/200510/batching.html\" rel=\"nofollow noreferrer\">Batching Select Statement with JDBC</a>, which elaborates several options here, and suggests an approach named there &quot;select batching&quot;, where prepared statements of several sizes are set up, and then sent several of them to the DB with the data.</p>\n<p>Because I just also had this problem, I've taken this approach, used spring's NamedParameterJdbcTemplate and build a generic class which puts together these queries based on some template strings.</p>\n<p>Full code is in <a href=\"https://github.com/zalando-nakadi/nakadi-producer-spring-boot-starter/pull/173/files\" rel=\"nofollow noreferrer\">this PR I just opened</a> (to my library which needs it).</p>\n<p>It can then be used like this (using the example from the question):</p>\n<pre><code>QueryStatementBatcher&lt;Integer&gt; batcher = new QueryStatementBatcher&lt;&gt;(\n        &quot;INSERT INTO users (name) VALUES &quot;, &quot;(:name#)&quot;, &quot; RETURNING id&quot;,\n        (row, n) -&gt; row.getInt(&quot;id&quot;));\n\nStream&lt;MapSqlParameterSource&gt; inputs =\n    Stream.of(&quot;Paŭlo Ebermann&quot;, &quot;jagadesh&quot;, &quot;Harun Cetin&quot;)\n          .map(name -&gt; new MapSqlParameterSource()\n                          .addValue(&quot;name#&quot;, name));\n\nList&lt;Integer&gt; generatedIds =\n   batcher.queryForStream(jdbcTemplate, inputs)\n          .collect(toList());\n</code></pre>\n<p>Of course, you'd create the batcher only once and reuse it (it doesn't have mutable state, so it is thread-safe, and computing the templates is a bit of effort at the beginning).</p>\n"}],"owner":{"account_id":15208388,"reputation":71,"user_id":10974034,"display_name":"jagadesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2946,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1690561630,"creation_date":1576003700,"question_id":59273602,"body_markdown":"Assume we have a table **users**\r\n\r\n```\r\nid | name\r\n_________\r\n1  | name1\r\n2  | name2\r\n```\r\n\r\n**I can insert a record into users table and get inserted id using the following ways.**\r\n\r\n - tried inserting record using SimpleJdbcInsert and getting the inserted **id** using  executeAndReturnId() method.\r\n - also tried inserting and getting the inserted **id** by using the returning clause and using queryForObject()\r\n```java\r\nquery = INSERT INTO users(name) VALUES(&#39;name3&#39;) RETURNING id;\r\ninsertedId = jdbcTemplate.queryForObject(query, Long.class);\r\n```\r\n\r\n**For Batch Insert:**\r\n```java\r\nquery = INSERT INTO users(name) VALUES(?) RETURNING id;\r\nList&lt;Object[]&gt; objects = new ArrayList&lt;Object[]&gt;(new Object[]{&#39;name3&#39;}, new Object[]{&#39;name4&#39;});\r\nint[] rowsAffected = jdbcTemplate.batchUpdate(query, objects); // this only return affected rows in array\r\n```\r\n**How to get the all inserted ID&#39;s using batch inserting?**\r\n\r\ntried [already asked question][1] also..not helpful :(\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50393576/jdbc-batch-insert-returning-ids","title":"Spring boot - Jdbc batch insert with returning ids","body":"<p>Assume we have a table <strong>users</strong></p>\n\n<pre><code>id | name\n_________\n1  | name1\n2  | name2\n</code></pre>\n\n<p><strong>I can insert a record into users table and get inserted id using the following ways.</strong></p>\n\n<ul>\n<li>tried inserting record using SimpleJdbcInsert and getting the inserted <strong>id</strong> using  executeAndReturnId() method.</li>\n<li>also tried inserting and getting the inserted <strong>id</strong> by using the returning clause and using queryForObject()</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>query = INSERT INTO users(name) VALUES('name3') RETURNING id;\ninsertedId = jdbcTemplate.queryForObject(query, Long.class);\n</code></pre>\n\n<p><strong>For Batch Insert:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>query = INSERT INTO users(name) VALUES(?) RETURNING id;\nList&lt;Object[]&gt; objects = new ArrayList&lt;Object[]&gt;(new Object[]{'name3'}, new Object[]{'name4'});\nint[] rowsAffected = jdbcTemplate.batchUpdate(query, objects); // this only return affected rows in array\n</code></pre>\n\n<p><strong>How to get the all inserted ID's using batch inserting?</strong></p>\n\n<p>tried <a href=\"https://stackoverflow.com/questions/50393576/jdbc-batch-insert-returning-ids\">already asked question</a> also..not helpful :(</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":55367,"reputation":3607,"user_id":165783,"accept_rate":82,"display_name":"James"},"score":1,"creation_date":1699502608,"post_id":76785883,"comment_id":136540993,"body_markdown":"Is the table an InnoDB table? According to https://dev.mysql.com/doc/dev/mysql-server/latest/classmysql_1_1binlog_1_1event_1_1Xid__event.html &quot;An XID event is generated for a commit of a transaction that modifies one or more tables of an XA-capable storage engine.&quot; So if the table being modified uses e.g. MyISAM storage engine then it won&#39;t generate a XID event.","body":"Is the table an InnoDB table? According to <a href=\"https://dev.mysql.com/doc/dev/mysql-server/latest/classmysql_1_1binlog_1_1event_1_1Xid__event.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/dev/mysql-server/latest/&hellip;</a> &quot;An XID event is generated for a commit of a transaction that modifies one or more tables of an XA-capable storage engine.&quot; So if the table being modified uses e.g. MyISAM storage engine then it won&#39;t generate a XID event."}],"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690561574,"creation_date":1690531323,"question_id":76785883,"body_markdown":"I&#39;m currently working with mysql binlog. As i knew, when mysql successfully query (like delete, write, update, ..) one transaction which will save an event (`XID`) to mark the success of a transaction. But it didn&#39;t happen like that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Jw7R6.png\r\nI don&#39;t see any `XID event` when i finish insert query. It messed up my bin log process reading.\r\nWhy does it happend?\r\n","title":"Mysql binlog do not track Xid event after commit one transaction","body":"<p>I'm currently working with mysql binlog. As i knew, when mysql successfully query (like delete, write, update, ..) one transaction which will save an event (<code>XID</code>) to mark the success of a transaction. But it didn't happen like that:</p>\n<p><a href=\"https://i.stack.imgur.com/Jw7R6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jw7R6.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't see any <code>XID event</code> when i finish insert query. It messed up my bin log process reading.\nWhy does it happend?</p>\n"},{"tags":["java","load-testing","gatling"],"comments":[{"owner":{"account_id":1289856,"reputation":7000,"user_id":1242157,"display_name":"Stephane Landelle"},"score":0,"creation_date":1421076305,"post_id":27893423,"comment_id":44209846,"body_markdown":"If you want to build a PoC, why don&#39;t you stick first with the deploy strategies that are officially supported?","body":"If you want to build a PoC, why don&#39;t you stick first with the deploy strategies that are officially supported?"},{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1421101061,"post_id":27893423,"comment_id":44222911,"body_markdown":"@StephaneLandelle, I&#39;ve actually tried the official strategy, and that&#39;s how I found I had to drop all the jars into the lib folder.  I just want to know if building a runnable JAR is possible or not, and why.","body":"@StephaneLandelle, I&#39;ve actually tried the official strategy, and that&#39;s how I found I had to drop all the jars into the lib folder.  I just want to know if building a runnable JAR is possible or not, and why."},{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1422616907,"post_id":27893423,"comment_id":44831191,"body_markdown":"@Philippe, you might be able to use method 1 in my question.  What you need to do is to unzip the Gatling bundle zip file, and paste your scenario scala file into the ${GATLING}/user-files/simulations folder.  Any dependent jar should go into ${GATLING}/lib (you need to create the folder if it&#39;s not in the bundle).  Then you can run Gatling by ${GATLING}/bin/gatlin.sh.  The [file](https://github.com/gatling/gatling/blob/master/gatling-bundle/src/universal/bin/gatling.sh) tells you everything how it work.","body":"@Philippe, you might be able to use method 1 in my question.  What you need to do is to unzip the Gatling bundle zip file, and paste your scenario scala file into the ${GATLING}/user-files/simulations folder.  Any dependent jar should go into ${GATLING}/lib (you need to create the folder if it&#39;s not in the bundle).  Then you can run Gatling by ${GATLING}/bin/gatlin.sh.  The <a href=\"https://github.com/gatling/gatling/blob/master/gatling-bundle/src/universal/bin/gatling.sh\" rel=\"nofollow noreferrer\">file</a> tells you everything how it work."},{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1422617259,"post_id":27893423,"comment_id":44831367,"body_markdown":"This is currently the best practice until Gatling provides a standalone runnable file, which is what I wanted.","body":"This is currently the best practice until Gatling provides a standalone runnable file, which is what I wanted."}],"answers":[{"comments":[{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1439396143,"post_id":29489414,"comment_id":51847945,"body_markdown":"Sorry about the late response.  That&#39;s almost the same as what I ended up doing.  Hope the Gatling team will give official support to this.","body":"Sorry about the late response.  That&#39;s almost the same as what I ended up doing.  Hope the Gatling team will give official support to this."},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":3,"creation_date":1471449274,"post_id":29489414,"comment_id":65354169,"body_markdown":"How can I specify list of simulation classes? -sf doesn&#39;t work as it requires folder path not the package path in bundled jar","body":"How can I specify list of simulation classes? -sf doesn&#39;t work as it requires folder path not the package path in bundled jar"}],"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1428403071,"creation_date":1428402587,"answer_id":29489414,"question_id":27893423,"body_markdown":"I tried to do something similar. I *could not* use Maven as well. I will try to remember how I did this.\r\n\r\n1) I have configured **maven-assembly-plugin** to generate single JAR with dependencies like this:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou need to ensure all required libraries (gatling, scala runtime, zinc compiler) are present on your resulting classpath.\r\n\r\n2) Check the scope of your dependencies as Maven packs only classes defined with *scope=compile* by default. The most simple way is probably to use no test dependencies.\r\n\r\n3) Create a launch script, e.g. **launch.sh**. It should contain something like this:\r\n\r\n    #!/bin/sh\r\n    USER_ARGS=&quot;-Dsomething=$1&quot;\r\n    COMPILATION_CLASSPATH=`find -L ./target -maxdepth 1 -name &quot;*.jar&quot; -type f -exec printf :{} &#39;;&#39;`\r\n    JAVA_OPTS=&quot;-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}&quot;\r\n    java $JAVA_OPTS $USER_ARGS -cp $COMPILATION_CLASSPATH io.gatling.app.Gatling -s your.simulation.FullClassName\r\n\r\nTo explain, I took gatling`s own launch script for inspiration. Note mainly the presence of **target** directory in classpath parameter definition.\r\n\r\n4) Compile your compiled *target* directory and *launch.sh* to a single directory and distribute this (e.g. as archive). Then you can the scenarios by executing **./launch.sh**.\r\n\r\nI know this is *not* a standard solution, but it worked for me. Hopefully it will help you too. If you have any problems or tips to improve, please share with us.","title":"Build executable JAR for Gatling load test","body":"<p>I tried to do something similar. I <em>could not</em> use Maven as well. I will try to remember how I did this.</p>\n\n<p>1) I have configured <strong>maven-assembly-plugin</strong> to generate single JAR with dependencies like this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You need to ensure all required libraries (gatling, scala runtime, zinc compiler) are present on your resulting classpath.</p>\n\n<p>2) Check the scope of your dependencies as Maven packs only classes defined with <em>scope=compile</em> by default. The most simple way is probably to use no test dependencies.</p>\n\n<p>3) Create a launch script, e.g. <strong>launch.sh</strong>. It should contain something like this:</p>\n\n<pre><code>#!/bin/sh\nUSER_ARGS=\"-Dsomething=$1\"\nCOMPILATION_CLASSPATH=`find -L ./target -maxdepth 1 -name \"*.jar\" -type f -exec printf :{} ';'`\nJAVA_OPTS=\"-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}\"\njava $JAVA_OPTS $USER_ARGS -cp $COMPILATION_CLASSPATH io.gatling.app.Gatling -s your.simulation.FullClassName\n</code></pre>\n\n<p>To explain, I took gatling`s own launch script for inspiration. Note mainly the presence of <strong>target</strong> directory in classpath parameter definition.</p>\n\n<p>4) Compile your compiled <em>target</em> directory and <em>launch.sh</em> to a single directory and distribute this (e.g. as archive). Then you can the scenarios by executing <strong>./launch.sh</strong>.</p>\n\n<p>I know this is <em>not</em> a standard solution, but it worked for me. Hopefully it will help you too. If you have any problems or tips to improve, please share with us.</p>\n"},{"comments":[{"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"score":0,"creation_date":1439396012,"post_id":31970046,"comment_id":51847884,"body_markdown":"Thanks for your answer.  The problem is more to do with dependencies.  What I ended up doing is write a custom main class as you did, and use maven to package the project into an executable JAR with dependencies.","body":"Thanks for your answer.  The problem is more to do with dependencies.  What I ended up doing is write a custom main class as you did, and use maven to package the project into an executable JAR with dependencies."},{"owner":{"account_id":3505571,"reputation":989,"user_id":2931171,"display_name":"Magnus Reftel"},"score":0,"creation_date":1484750658,"post_id":31970046,"comment_id":70639241,"body_markdown":"Unfortunately, the fromArgs method was marked private to io.gatling in version 2.2.3, so to use this trick you now need to add something like:\n\n    package io.gatling\n    \n    import io.gatling.app.{Gatling, SelectedSimulationClass}\n    \n    object GatlingHack {\n      def fromArgs(args: Array[String], selectedSimulationClass:     SelectedSimulationClass): Int =\n        Gatling.fromArgs(args, selectedSimulationClass)\n    }","body":"Unfortunately, the fromArgs method was marked private to io.gatling in version 2.2.3, so to use this trick you now need to add something like:      package io.gatling          import io.gatling.app.{Gatling, SelectedSimulationClass}          object GatlingHack {       def fromArgs(args: Array[String], selectedSimulationClass:     SelectedSimulationClass): Int =         Gatling.fromArgs(args, selectedSimulationClass)     }"},{"owner":{"account_id":3505571,"reputation":989,"user_id":2931171,"display_name":"Magnus Reftel"},"score":1,"creation_date":1484751316,"post_id":31970046,"comment_id":70639700,"body_markdown":"Note, though, that Gatling is not meant to be embedded in this way, as pointed out by Stephane Landelle a few days before making the fromArgs method private: https://groups.google.com/d/msg/gatling/387pDAweZEY/Va6TsErHAAAJ","body":"Note, though, that Gatling is not meant to be embedded in this way, as pointed out by Stephane Landelle a few days before making the fromArgs method private: <a href=\"https://groups.google.com/d/msg/gatling/387pDAweZEY/Va6TsErHAAAJ\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/gatling/387pDAweZEY/Va6TsErHAAAJ</a>"}],"tags":[],"owner":{"account_id":1151632,"reputation":51,"user_id":1133206,"display_name":"Pata"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1439394672,"creation_date":1439394672,"answer_id":31970046,"question_id":27893423,"body_markdown":"You can always create a simple Java class that starts Gatling with the Gatling.fromArgs. With this setup you can have all in just one happy executable jar. Let this class be the jar mainClass instead of &quot;io.gatling.app.Gatling&quot;. This example is for a scala simulation class &quot;my.package.MySimulation&quot;.\r\n\r\n    import scala.Option;\r\n    import io.gatling.app.Gatling;\r\n    import io.gatling.core.scenario.Simulation;\r\n\r\n    public class StartSimulation {\r\n\r\n      public static void main(String[] args) {\r\n        Gatling.fromArgs(new String[]{}, new Option&lt;Class&lt;Simulation&gt;&gt;() {\r\n\r\n            private static final long serialVersionUID = 1L;\r\n\r\n            @Override\r\n            public int productArity() {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public Object productElement(int arg0) {\r\n                return null;\r\n            }\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            @Override\r\n            public Class&lt;Simulation&gt; get() {\r\n                try {\r\n                    return (Class&lt;Simulation&gt;) Class.forName(&quot;my.package.MySimulation&quot;);\r\n                } catch (ClassNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public boolean isEmpty() {\r\n                return false;\r\n            }\r\n            \r\n            @Override\r\n            public boolean canEqual(Object o) {\r\n                return false;\r\n            }\r\n        });\r\n      }\r\n    }","title":"Build executable JAR for Gatling load test","body":"<p>You can always create a simple Java class that starts Gatling with the Gatling.fromArgs. With this setup you can have all in just one happy executable jar. Let this class be the jar mainClass instead of \"io.gatling.app.Gatling\". This example is for a scala simulation class \"my.package.MySimulation\".</p>\n\n<pre><code>import scala.Option;\nimport io.gatling.app.Gatling;\nimport io.gatling.core.scenario.Simulation;\n\npublic class StartSimulation {\n\n  public static void main(String[] args) {\n    Gatling.fromArgs(new String[]{}, new Option&lt;Class&lt;Simulation&gt;&gt;() {\n\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public int productArity() {\n            return 0;\n        }\n\n        @Override\n        public Object productElement(int arg0) {\n            return null;\n        }\n\n        @SuppressWarnings(\"unchecked\")\n        @Override\n        public Class&lt;Simulation&gt; get() {\n            try {\n                return (Class&lt;Simulation&gt;) Class.forName(\"my.package.MySimulation\");\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        public boolean isEmpty() {\n            return false;\n        }\n\n        @Override\n        public boolean canEqual(Object o) {\n            return false;\n        }\n    });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1130226,"reputation":141,"user_id":1116502,"display_name":"Saman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447062650,"creation_date":1447062650,"answer_id":33606392,"question_id":27893423,"body_markdown":"I had a similar issue, I fixed it as following: \r\n\r\nInside Gatling package there is `bin/` and take a look at `gatling.sh`. You see that it simply adds certain configurations into classpath and then runs `io.gatling.app.Gatling` class in `gatling-compiler-&lt;version_number&gt;.jar`. So, all you need to do is to make a jar that includes compiler, add configurations and tests to classpath and run `io.gatling.app.Gatling`.\r\nsteps:\r\n\r\nadd compiler dependency:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.gatling&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gatling-compiler&lt;/artifactId&gt;\r\n            &lt;version&gt;${gatling.version}&lt;/version&gt;\r\n        &lt;/dependency\r\n\r\ncreate jar with dependencies:\r\n\r\n      &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\ncreate test jar (this includes your gatling tests)\r\n\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;src/test/resources/*&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\ncreate a package out of your configuration. You can use maven assembly for that. What I usually do, is to create a separate module that handles creating the package for different environments. This package contains your `gatling.conf`, `logback.xml`and all the other resources you application wants including test data.\r\nNow you basically have three packages: `application.jar`, `application-tests.jar` and `application-conf.zip`.\r\nUnzip  `application-conf.zip`, copy  `application.jar`and `application-tests.jar`in the same folder. \r\n\r\nIn this folder, You need to create `target/test-classes/` folder, just\r\nleave it empty. In my case, it was required. I think you can some how\r\nchange that in `gatling.conf`. But I am not sure how.\r\n\r\nRun\r\n\r\n    java -cp &quot;.:application-test.jar:application.jar&quot; io.gatling.app.Gatling  ","title":"Build executable JAR for Gatling load test","body":"<p>I had a similar issue, I fixed it as following: </p>\n\n<p>Inside Gatling package there is <code>bin/</code> and take a look at <code>gatling.sh</code>. You see that it simply adds certain configurations into classpath and then runs <code>io.gatling.app.Gatling</code> class in <code>gatling-compiler-&lt;version_number&gt;.jar</code>. So, all you need to do is to make a jar that includes compiler, add configurations and tests to classpath and run <code>io.gatling.app.Gatling</code>.\nsteps:</p>\n\n<p>add compiler dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.gatling&lt;/groupId&gt;\n        &lt;artifactId&gt;gatling-compiler&lt;/artifactId&gt;\n        &lt;version&gt;${gatling.version}&lt;/version&gt;\n    &lt;/dependency\n</code></pre>\n\n<p>create jar with dependencies:</p>\n\n<pre><code>  &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>create test jar (this includes your gatling tests)</p>\n\n<pre><code> &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;src/test/resources/*&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;finalName&gt;${project.build.finalName}&lt;/finalName&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>create a package out of your configuration. You can use maven assembly for that. What I usually do, is to create a separate module that handles creating the package for different environments. This package contains your <code>gatling.conf</code>, <code>logback.xml</code>and all the other resources you application wants including test data.\nNow you basically have three packages: <code>application.jar</code>, <code>application-tests.jar</code> and <code>application-conf.zip</code>.\nUnzip  <code>application-conf.zip</code>, copy  <code>application.jar</code>and <code>application-tests.jar</code>in the same folder. </p>\n\n<p>In this folder, You need to create <code>target/test-classes/</code> folder, just\nleave it empty. In my case, it was required. I think you can some how\nchange that in <code>gatling.conf</code>. But I am not sure how.</p>\n\n<p>Run</p>\n\n<pre><code>java -cp \".:application-test.jar:application.jar\" io.gatling.app.Gatling  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3943523,"reputation":1010,"user_id":3257039,"accept_rate":50,"display_name":"JamesWillett"},"score":1,"creation_date":1478174440,"post_id":38243675,"comment_id":68051772,"body_markdown":"This was really helpful,  thanks. One small thing, I see that you have imported scala-library twice at the top, in different formats. You could remove that","body":"This was really helpful,  thanks. One small thing, I see that you have imported scala-library twice at the top, in different formats. You could remove that"},{"owner":{"account_id":3252269,"reputation":341,"user_id":3596537,"display_name":"kszosze"},"score":0,"creation_date":1478807141,"post_id":38243675,"comment_id":68311133,"body_markdown":"Thanks, didn&#39;t realize that!","body":"Thanks, didn&#39;t realize that!"},{"owner":{"account_id":220315,"reputation":2619,"user_id":477655,"accept_rate":50,"display_name":"Alex"},"score":0,"creation_date":1479261990,"post_id":38243675,"comment_id":68479811,"body_markdown":"can you please also share your project directory structure that works for this Gradle script? e.g. where are your tests &amp; resources located","body":"can you please also share your project directory structure that works for this Gradle script? e.g. where are your tests &amp; resources located"},{"owner":{"account_id":3252269,"reputation":341,"user_id":3596537,"display_name":"kszosze"},"score":0,"creation_date":1479478105,"post_id":38243675,"comment_id":68587960,"body_markdown":"Aye, I&#39;ll prepare some example code and will let it in my github. But will take a time, since those days I&#39;m really busy. That&#39;s ok? If you are in rush just drop me an email and I&#39;ll try to explain it.","body":"Aye, I&#39;ll prepare some example code and will let it in my github. But will take a time, since those days I&#39;m really busy. That&#39;s ok? If you are in rush just drop me an email and I&#39;ll try to explain it."},{"owner":{"account_id":56218,"reputation":23259,"user_id":168367,"accept_rate":41,"display_name":"Pashec"},"score":0,"creation_date":1507901171,"post_id":38243675,"comment_id":80408113,"body_markdown":"To make the script build reports remove -nr and add &quot;compile &quot;io.gatling.highcharts:gatling-charts-highcharts:2.3.0&quot;&quot; into gradle dependencies","body":"To make the script build reports remove -nr and add &quot;compile &quot;io.gatling.highcharts:gatling-charts-highcharts:2.3.0&quot;&quot; into gradle dependencies"},{"owner":{"account_id":220315,"reputation":2619,"user_id":477655,"accept_rate":50,"display_name":"Alex"},"score":0,"creation_date":1513633344,"post_id":38243675,"comment_id":82719299,"body_markdown":"this gives &quot;com.typesafe.config.ConfigException$Missing: No configuration setting found for key &#39;akka.stream&#39;&quot;. supposedly, because multiple &quot;reference.conf&quot; (with akka config) need to be merged to one while building the fat jar file.","body":"this gives &quot;com.typesafe.config.ConfigException$Missing: No configuration setting found for key &#39;akka.stream&#39;&quot;. supposedly, because multiple &quot;reference.conf&quot; (with akka config) need to be merged to one while building the fat jar file."}],"tags":[],"owner":{"account_id":3252269,"reputation":341,"user_id":3596537,"display_name":"kszosze"},"comment_count":6,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479478370,"creation_date":1467888894,"answer_id":38243675,"question_id":27893423,"body_markdown":"I think is a bit late for that but I face kinda the same problem related here, but instead to use maven I used gradle. Guess that the approach it&#39;s the same, a bit mix of the first solution and something or my own.\r\n\r\nFirst, define a gradle build file with gatling dependencies and a task to build a fatjar\r\n    \r\n    apply plugin: &#39;scala&#39;\r\n    version 0.1\r\n\r\n    dependencies {\r\n      compile group: &#39;io.gatling&#39;, name: &#39;gatling-test-framework&#39;, version: &#39;2.1.7&#39;\r\n      compile group: &#39;com.typesafe.akka&#39;, name: &#39;akka-actor_2.11&#39;, version: &#39;2.4.7&#39;\r\n      compile group: &#39;org.scala-lang&#39;, name: &#39;scala-library&#39;, version: &#39;2.11.7&#39;\r\n    }\r\n\r\n    repositories{\r\n       mavenCentral()\r\n       mavenLocal()\r\n    }\r\n\r\n\r\n    task fatJar(type: Jar) {\r\n\t   manifest {\r\n           attributes &#39;Implementation-Title&#39;: &#39;Preparing test&#39;,  \r\n        \t  &#39;Implementation-Version&#39;: version,\r\n        \t  &#39;Main-Class&#39;: &#39;io.gatling.app.Gatling&#39;\r\n       }\r\n       baseName = project.name + &#39;-all&#39;\r\n          from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } } {\r\n    \t\texclude &#39;META-INF/MANIFEST.MF&#39;\r\n\t\t\texclude &#39;META-INF/*.SF&#39;\r\n\t\t\texclude &#39;META-INF/*.DSA&#39;\r\n\t\t\texclude &#39;META-INF/*.RSA&#39;\r\n    \r\n       }\r\n       with jar\r\n    }\r\n\r\nThat task executed as\r\n\r\n    gradle clean build fatJar\r\n\r\nwill generate a self contained jar which will run the Gatling main class as default. So tell it witch test you want to run is made with the standard &#39;-s&#39; parameter.\r\n\r\nSo last step is create, if you want, a script to run it. I will &quot;steal&quot; the script for the first comment and change a bit\r\n\r\n    #!/bin/sh\r\n\r\n    if [ -z &quot;$1&quot; ];\r\n    then\r\n     \techo &quot;Test config tool&quot;\r\n\t    echo\r\n\t    echo &quot;Running Parameters : &quot;\r\n\t    echo\r\n\t    echo &quot; &lt;Config file&gt; : Test definition file. Required&quot;\r\n\t    echo\r\n\t   exit 0;\r\n     fi\r\n\r\n    USER_ARGS=&quot;-DCONFIG_FILE=$1&quot;\r\n    JAVA_OPTS=&quot;-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}&quot;\r\n    java $JAVA_OPTS $USER_ARGS -jar test-project-all-0.1.jar -s FunctionalTestSimulation -nr\r\n\r\nIn my case I will run the same test with different, easy to configure, parameters so my Simulation is always the same. \r\nAll my scala files are compiled by gradle and package in the jar that&#39;s mean they are in the classpath, changing the &quot;FunctionalTestSimulation&quot; name for a Script variable make easy adapt this script for something more generic.\r\n\r\nGuess that make a Maven version will be easy.\r\n\r\nHope that help somebody.\r\n\r\n**Update with folder structure**\r\nAfter a request will add an small draft of the folder structure for the project:\r\n\r\n    test-project\r\n        |_ build.gradle\r\n        |_ src\r\n            |_ main\r\n                |_ scala\r\n                |_ resources\r\n        |_ runSimulation.sh\r\n        |_ configFile.conf\r\n\r\n\r\n\r\nWhen have time will provide a link to my github with a working one. \r\nCheers","title":"Build executable JAR for Gatling load test","body":"<p>I think is a bit late for that but I face kinda the same problem related here, but instead to use maven I used gradle. Guess that the approach it's the same, a bit mix of the first solution and something or my own.</p>\n\n<p>First, define a gradle build file with gatling dependencies and a task to build a fatjar</p>\n\n<pre><code>apply plugin: 'scala'\nversion 0.1\n\ndependencies {\n  compile group: 'io.gatling', name: 'gatling-test-framework', version: '2.1.7'\n  compile group: 'com.typesafe.akka', name: 'akka-actor_2.11', version: '2.4.7'\n  compile group: 'org.scala-lang', name: 'scala-library', version: '2.11.7'\n}\n\nrepositories{\n   mavenCentral()\n   mavenLocal()\n}\n\n\ntask fatJar(type: Jar) {\n   manifest {\n       attributes 'Implementation-Title': 'Preparing test',  \n          'Implementation-Version': version,\n          'Main-Class': 'io.gatling.app.Gatling'\n   }\n   baseName = project.name + '-all'\n      from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } } {\n        exclude 'META-INF/MANIFEST.MF'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n        exclude 'META-INF/*.RSA'\n\n   }\n   with jar\n}\n</code></pre>\n\n<p>That task executed as</p>\n\n<pre><code>gradle clean build fatJar\n</code></pre>\n\n<p>will generate a self contained jar which will run the Gatling main class as default. So tell it witch test you want to run is made with the standard '-s' parameter.</p>\n\n<p>So last step is create, if you want, a script to run it. I will \"steal\" the script for the first comment and change a bit</p>\n\n<pre><code>#!/bin/sh\n\nif [ -z \"$1\" ];\nthen\n    echo \"Test config tool\"\n    echo\n    echo \"Running Parameters : \"\n    echo\n    echo \" &lt;Config file&gt; : Test definition file. Required\"\n    echo\n   exit 0;\n fi\n\nUSER_ARGS=\"-DCONFIG_FILE=$1\"\nJAVA_OPTS=\"-server -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms512M -Xmx2048M -XX:+HeapDumpOnOutOfMemoryError -XX:+AggressiveOpts -XX:+OptimizeStringConcat -XX:+UseFastAccessorMethods -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false ${JAVA_OPTS}\"\njava $JAVA_OPTS $USER_ARGS -jar test-project-all-0.1.jar -s FunctionalTestSimulation -nr\n</code></pre>\n\n<p>In my case I will run the same test with different, easy to configure, parameters so my Simulation is always the same. \nAll my scala files are compiled by gradle and package in the jar that's mean they are in the classpath, changing the \"FunctionalTestSimulation\" name for a Script variable make easy adapt this script for something more generic.</p>\n\n<p>Guess that make a Maven version will be easy.</p>\n\n<p>Hope that help somebody.</p>\n\n<p><strong>Update with folder structure</strong>\nAfter a request will add an small draft of the folder structure for the project:</p>\n\n<pre><code>test-project\n    |_ build.gradle\n    |_ src\n        |_ main\n            |_ scala\n            |_ resources\n    |_ runSimulation.sh\n    |_ configFile.conf\n</code></pre>\n\n<p>When have time will provide a link to my github with a working one. \nCheers</p>\n"},{"comments":[{"owner":{"account_id":1962722,"reputation":645,"user_id":1763781,"display_name":"breakspirit"},"score":0,"creation_date":1515087999,"post_id":44961728,"comment_id":83176700,"body_markdown":"This also works if the directory is marked as sources root, not test.  Convenient way to quickly run a test I suppose.","body":"This also works if the directory is marked as sources root, not test.  Convenient way to quickly run a test I suppose."}],"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499395325,"creation_date":1499395325,"answer_id":44961728,"question_id":27893423,"body_markdown":"I use IntelliJ Idea  and I got this fixed by right clicking on the scala folder &gt; Mark Directory as &gt; Test Sources Root . Now Execute &quot;Engine&quot; and you will be all good ! ","title":"Build executable JAR for Gatling load test","body":"<p>I use IntelliJ Idea  and I got this fixed by right clicking on the scala folder > Mark Directory as > Test Sources Root . Now Execute \"Engine\" and you will be all good ! </p>\n"},{"tags":[],"owner":{"account_id":2605852,"reputation":283,"user_id":2257038,"display_name":"jamietanna"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542834658,"creation_date":1542834658,"answer_id":53420523,"question_id":27893423,"body_markdown":"I&#39;ve recently blogged about this [Creating a versionable, self-contained (fat-/uber-) JAR for Gatling tests](https://www.jvt.me/posts/2018/11/19/self-contained-gatling-jar/?utm_medium=stackoverflow), the source of which can be found in [jamietanna/fat-gatling-jar](https://gitlab.com/jamietanna/fat-gatling-jar).\r\n\r\nFor a Maven project, the steps would be as follows.\r\n\r\nThe main things you need are to add the dependency on `gatling-charts-highcharts`:\r\n\r\n\t&lt;project&gt;\r\n\t\t&lt;!-- ... --&gt;\r\n\t    &lt;dependencies&gt;\r\n\t        &lt;dependency&gt;\r\n\t            &lt;groupId&gt;io.gatling.highcharts&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;gatling-charts-highcharts&lt;/artifactId&gt;\r\n\t            &lt;version&gt;${gatling.version}&lt;/version&gt;\r\n\t        &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\nNext, you need to make sure your Gatling scenarios/simulations are in `src/main` instead of `src/test`.\r\n\r\nFinally, you can use the `maven-shade-plugin` to build an executable JAR which uses Gatling&#39;s CLI runner as the `mainClass`:\r\n\r\n\t&lt;project&gt;\r\n\t\t&lt;!-- ... --&gt;\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t            &lt;plugin&gt;\r\n\t              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t              &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t              &lt;version&gt;3.1.1&lt;/version&gt;\r\n\t              &lt;configuration&gt;\r\n\t                &lt;filters&gt;\r\n\t                  &lt;!-- https://stackoverflow.com/a/6743609 --&gt;\r\n\t                  &lt;filter&gt;\r\n\t                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t                    &lt;excludes&gt;\r\n\t                      &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t                      &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t                      &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t                    &lt;/excludes&gt;\r\n\t                  &lt;/filter&gt;\r\n\t                &lt;/filters&gt;\r\n\t              &lt;/configuration&gt;\r\n\t              &lt;executions&gt;\r\n\t                &lt;execution&gt;\r\n\t                  &lt;phase&gt;package&lt;/phase&gt;\r\n\t                  &lt;goals&gt;\r\n\t                    &lt;goal&gt;shade&lt;/goal&gt;\r\n\t                  &lt;/goals&gt;\r\n\t                  &lt;configuration&gt;\r\n\t                    &lt;transformers&gt;\r\n\t                      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t                        &lt;mainClass&gt;io.gatling.app.Gatling&lt;/mainClass&gt;\r\n\t                      &lt;/transformer&gt;\r\n\t                    &lt;/transformers&gt;\r\n\t                  &lt;/configuration&gt;\r\n\t                &lt;/execution&gt;\r\n\t              &lt;/executions&gt;\r\n\t            &lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\t\r\n","title":"Build executable JAR for Gatling load test","body":"<p>I've recently blogged about this <a href=\"https://www.jvt.me/posts/2018/11/19/self-contained-gatling-jar/?utm_medium=stackoverflow\" rel=\"nofollow noreferrer\">Creating a versionable, self-contained (fat-/uber-) JAR for Gatling tests</a>, the source of which can be found in <a href=\"https://gitlab.com/jamietanna/fat-gatling-jar\" rel=\"nofollow noreferrer\">jamietanna/fat-gatling-jar</a>.</p>\n\n<p>For a Maven project, the steps would be as follows.</p>\n\n<p>The main things you need are to add the dependency on <code>gatling-charts-highcharts</code>:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;!-- ... --&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.gatling.highcharts&lt;/groupId&gt;\n            &lt;artifactId&gt;gatling-charts-highcharts&lt;/artifactId&gt;\n            &lt;version&gt;${gatling.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Next, you need to make sure your Gatling scenarios/simulations are in <code>src/main</code> instead of <code>src/test</code>.</p>\n\n<p>Finally, you can use the <code>maven-shade-plugin</code> to build an executable JAR which uses Gatling's CLI runner as the <code>mainClass</code>:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;!-- ... --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.1.1&lt;/version&gt;\n              &lt;configuration&gt;\n                &lt;filters&gt;\n                  &lt;!-- https://stackoverflow.com/a/6743609 --&gt;\n                  &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                      &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                      &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                      &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                  &lt;/filter&gt;\n                &lt;/filters&gt;\n              &lt;/configuration&gt;\n              &lt;executions&gt;\n                &lt;execution&gt;\n                  &lt;phase&gt;package&lt;/phase&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                  &lt;/goals&gt;\n                  &lt;configuration&gt;\n                    &lt;transformers&gt;\n                      &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                        &lt;mainClass&gt;io.gatling.app.Gatling&lt;/mainClass&gt;\n                      &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                  &lt;/configuration&gt;\n                &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6600634,"reputation":444,"user_id":5099059,"display_name":"KeKru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690560696,"creation_date":1690560696,"answer_id":76789462,"question_id":27893423,"body_markdown":"For me this worked\r\n\r\n```groovy\r\n\r\ntask fatJar(type: Jar, dependsOn: [&#39;gatlingClasses&#39;, &#39;processResources&#39;]) {\r\n  group =  &quot;build&quot;\r\n  manifest {\r\n    attributes &#39;Implementation-Title&#39;: project.name,\r\n      &#39;Implementation-Version&#39;: project.version,\r\n      &#39;Main-Class&#39;: &#39;myPackage.MyMainClass&#39;\r\n  }\r\n\r\n  exclude &#39;META-INF/MANIFEST.MF&#39;\r\n  exclude &#39;META-INF/*.SF&#39;\r\n  exclude &#39;META-INF/*.DSA&#39;\r\n  exclude &#39;META-INF/*.RSA&#39;\r\n\r\n  duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n  archiveClassifier = &quot;all&quot;\r\n\r\n  from files(sourceSets.main.output.classesDirs)\r\n  from files(sourceSets.gatling.output)\r\n  from {\r\n    configurations.gatlingRuntimeClasspath\r\n      .filter { it.exists() }\r\n      .collect { it.isDirectory() ? it : zipTree(it) }\r\n  }\r\n\r\n\r\n  with jar\r\n}\r\n\r\n```\r\n\r\nModified version of https://medium.com/@suman.maity112/run-gatling-scenarios-as-executable-jar-bfe32c3d9af5","title":"Build executable JAR for Gatling load test","body":"<p>For me this worked</p>\n<pre><code>\ntask fatJar(type: Jar, dependsOn: ['gatlingClasses', 'processResources']) {\n  group =  &quot;build&quot;\n  manifest {\n    attributes 'Implementation-Title': project.name,\n      'Implementation-Version': project.version,\n      'Main-Class': 'myPackage.MyMainClass'\n  }\n\n  exclude 'META-INF/MANIFEST.MF'\n  exclude 'META-INF/*.SF'\n  exclude 'META-INF/*.DSA'\n  exclude 'META-INF/*.RSA'\n\n  duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n  archiveClassifier = &quot;all&quot;\n\n  from files(sourceSets.main.output.classesDirs)\n  from files(sourceSets.gatling.output)\n  from {\n    configurations.gatlingRuntimeClasspath\n      .filter { it.exists() }\n      .collect { it.isDirectory() ? it : zipTree(it) }\n  }\n\n\n  with jar\n}\n\n</code></pre>\n<p>Modified version of <a href=\"https://medium.com/@suman.maity112/run-gatling-scenarios-as-executable-jar-bfe32c3d9af5\" rel=\"nofollow noreferrer\">https://medium.com/@suman.maity112/run-gatling-scenarios-as-executable-jar-bfe32c3d9af5</a></p>\n"}],"owner":{"account_id":448589,"reputation":3955,"user_id":842860,"accept_rate":80,"display_name":"stackoverflower"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20726,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":29489414,"answer_count":7,"score":18,"last_activity_date":1690560696,"creation_date":1421019791,"question_id":27893423,"body_markdown":"I am new to Gatling (2.1.2) and want to do a small prototype project to show to my colleagues.\r\n\r\nAccording to the [quick start][1] page, there are several ways I can run a simulation with Gatling:\r\n\r\n 1. decompress the Gatling bundle into a folder and drop my simulation files into user-files/simulations folder.  bin/gatling.sh will compile and run the simulation files.\r\n 2. use the `gatling-maven-plugin` maven plugin to execute the simulation.\r\n 3. create a project with `gatling-highcharts-maven-archetype`, and run the Engine class.\r\n\r\nand I found those problems\r\n\r\nFor 1, it is hard to add dependencies for simulation classes.  I have to figure out what the jars are needed and drop them to the lib folder.\r\n\r\nFor 2, it requires maven to be installed.\r\n\r\nFor 3, it only runs from an IDE\r\n\r\nI just want a simple executable JAR file with all the dependencies bundled together (my simulation, Gatling and third party), and run it from any machine (like EC2 instances).\r\n\r\nIs there a way to achieve this?\r\n\r\n**Update 1:**\r\n\r\nI tried method 3, but moving all the project files from `test` folder to `main`, and used `maven-assembly-plugin` to build a jar with dependencies.  When I tried to run the file, I got the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\t    at Engine$.delayedEndpoint$Engine$1(Engine.scala:7)\r\n\t    at Engine$delayedInit$body.apply(Engine.scala:4)\r\n\t    at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\r\n\t    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\r\n\t    at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n\t    at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n    \tat scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\r\n    \tat scala.App$class.main(App.scala:76)\r\n    \tat Engine$.main(Engine.scala:4)\r\n    \tat Engine.main(Engine.scala)\r\n    Caused by: java.nio.file.FileSystemNotFoundException\r\n    \tat com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171)\r\n\t    at com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157)\r\n\t    at java.nio.file.Paths.get(Paths.java:143)\r\n\t    at io.gatling.core.util.PathHelper$.uri2path(PathHelper.scala:32)\r\n\t    at IDEPathHelper$.&lt;init&gt;(IDEPathHelper.scala:7)\r\n\t    at IDEPathHelper$.&lt;clinit&gt;(IDEPathHelper.scala)\r\n\t    ... 11 more\r\n\r\nI guess this is something to do with Gatling configuration, but don&#39;t know what has gone wrong.\r\n\r\n\r\n  [1]: http://gatling.io/docs/2.1.2/quickstart.html","title":"Build executable JAR for Gatling load test","body":"<p>I am new to Gatling (2.1.2) and want to do a small prototype project to show to my colleagues.</p>\n\n<p>According to the <a href=\"http://gatling.io/docs/2.1.2/quickstart.html\" rel=\"noreferrer\">quick start</a> page, there are several ways I can run a simulation with Gatling:</p>\n\n<ol>\n<li>decompress the Gatling bundle into a folder and drop my simulation files into user-files/simulations folder.  bin/gatling.sh will compile and run the simulation files.</li>\n<li>use the <code>gatling-maven-plugin</code> maven plugin to execute the simulation.</li>\n<li>create a project with <code>gatling-highcharts-maven-archetype</code>, and run the Engine class.</li>\n</ol>\n\n<p>and I found those problems</p>\n\n<p>For 1, it is hard to add dependencies for simulation classes.  I have to figure out what the jars are needed and drop them to the lib folder.</p>\n\n<p>For 2, it requires maven to be installed.</p>\n\n<p>For 3, it only runs from an IDE</p>\n\n<p>I just want a simple executable JAR file with all the dependencies bundled together (my simulation, Gatling and third party), and run it from any machine (like EC2 instances).</p>\n\n<p>Is there a way to achieve this?</p>\n\n<p><strong>Update 1:</strong></p>\n\n<p>I tried method 3, but moving all the project files from <code>test</code> folder to <code>main</code>, and used <code>maven-assembly-plugin</code> to build a jar with dependencies.  When I tried to run the file, I got the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\n    at Engine$.delayedEndpoint$Engine$1(Engine.scala:7)\n    at Engine$delayedInit$body.apply(Engine.scala:4)\n    at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\n    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\n    at scala.App$$anonfun$main$1.apply(App.scala:76)\n    at scala.App$$anonfun$main$1.apply(App.scala:76)\n    at scala.collection.immutable.List.foreach(List.scala:381)\n    at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\n    at scala.App$class.main(App.scala:76)\n    at Engine$.main(Engine.scala:4)\n    at Engine.main(Engine.scala)\nCaused by: java.nio.file.FileSystemNotFoundException\n    at com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171)\n    at com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157)\n    at java.nio.file.Paths.get(Paths.java:143)\n    at io.gatling.core.util.PathHelper$.uri2path(PathHelper.scala:32)\n    at IDEPathHelper$.&lt;init&gt;(IDEPathHelper.scala:7)\n    at IDEPathHelper$.&lt;clinit&gt;(IDEPathHelper.scala)\n    ... 11 more\n</code></pre>\n\n<p>I guess this is something to do with Gatling configuration, but don't know what has gone wrong.</p>\n"},{"tags":["java","concurrency","java.util.concurrent","grpc-java","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690560156,"creation_date":1619109045,"answer_id":67217300,"question_id":67174565,"body_markdown":"in case someone needs it also, I&#39;ve written it myself due to lack of answers:\r\n\r\nhttps://github.com/morgwai/java-utils/blob/master/src/main/java/pl/morgwai/base/util/concurrent/OrderedConcurrentOutputBuffer.java\r\n\r\nfeedback is welcome :)","title":"java concurrent ordered response buffer","body":"<p>in case someone needs it also, I've written it myself due to lack of answers:</p>\n<p><a href=\"https://github.com/morgwai/java-utils/blob/master/src/main/java/pl/morgwai/base/util/concurrent/OrderedConcurrentOutputBuffer.java\" rel=\"nofollow noreferrer\">https://github.com/morgwai/java-utils/blob/master/src/main/java/pl/morgwai/base/util/concurrent/OrderedConcurrentOutputBuffer.java</a></p>\n<p>feedback is welcome :)</p>\n"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690560156,"creation_date":1618904680,"question_id":67174565,"body_markdown":"i have a stream of messages coming from a websocket or a grpc client. for each message my service produces 0 or more reply messages. by default both websocket endpoints and grpc request observers are guaranteed to be called by maximum 1 thread concurrently, so my replies are sent in the same order as requests. Now I want to dispatch request processing to other threads and process them in parallel, but still keep the order. Therefore, I need some &quot;concurrent ordered response buffer&quot;, which will buffer replies to a given request message until processing of previous requests is finished and replies to them are sent (in order they were produced within each &quot;request bucket&quot;).  \r\nI can develop such  class myself, but it seems a common case, so I was wondering if maybe such thing already exists (to not reinvent the wheel). however I could not easily find anything on the web: does anyone knows about something like this?  \r\nThanks!","title":"java concurrent ordered response buffer","body":"<p>i have a stream of messages coming from a websocket or a grpc client. for each message my service produces 0 or more reply messages. by default both websocket endpoints and grpc request observers are guaranteed to be called by maximum 1 thread concurrently, so my replies are sent in the same order as requests. Now I want to dispatch request processing to other threads and process them in parallel, but still keep the order. Therefore, I need some &quot;concurrent ordered response buffer&quot;, which will buffer replies to a given request message until processing of previous requests is finished and replies to them are sent (in order they were produced within each &quot;request bucket&quot;).<br />\nI can develop such  class myself, but it seems a common case, so I was wondering if maybe such thing already exists (to not reinvent the wheel). however I could not easily find anything on the web: does anyone knows about something like this?<br />\nThanks!</p>\n"},{"tags":["java","eclipse","maven","lifecycle","exec-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690022288,"creation_date":1690022288,"answer_id":76743401,"question_id":76743278,"body_markdown":"Eclipse usually uses his embedded copy of Maven. The `m2.conf` is generated dynamically by eclipse on demand (in example: `/home/yourname/workspace/.metadata/.plugins/org.eclipse.m2e.launching/launches/m2conf17481979518454286727.tmp`). \r\n\r\nYou need to install maven separatly in order to do a automatic build using a builder in the project.\r\n\r\nInstalled maven manually?\r\n--\r\nOk, first you need to activate automatic builds:\r\n[![enter image description here][1]][1]\r\n\r\nThen open the project-properties and add a builder\r\n\r\n[![enter image description here][2]][2]\r\n\r\nChoose the mvn-executable and adjust the properties and goals according to your project.\r\n\r\n  [1]: https://i.stack.imgur.com/EiatR.png\r\n  [2]: https://i.stack.imgur.com/Sbiy6.png","title":"How to trigger maven exec plugin automatically in Eclipse when file is changing?","body":"<p>Eclipse usually uses his embedded copy of Maven. The <code>m2.conf</code> is generated dynamically by eclipse on demand (in example: <code>/home/yourname/workspace/.metadata/.plugins/org.eclipse.m2e.launching/launches/m2conf17481979518454286727.tmp</code>).</p>\n<p>You need to install maven separatly in order to do a automatic build using a builder in the project.</p>\n<h2>Installed maven manually?</h2>\n<p>Ok, first you need to activate automatic builds:\n<a href=\"https://i.stack.imgur.com/EiatR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EiatR.png\" alt=\"enter image description here\" /></a></p>\n<p>Then open the project-properties and add a builder</p>\n<p><a href=\"https://i.stack.imgur.com/Sbiy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sbiy6.png\" alt=\"enter image description here\" /></a></p>\n<p>Choose the mvn-executable and adjust the properties and goals according to your project.</p>\n"}],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76743401,"answer_count":1,"score":0,"last_activity_date":1690560008,"creation_date":1690020516,"question_id":76743278,"body_markdown":"I am using Eclipse 2023 to build a Typescript module with node/npm. I like there to execute each time the a &quot;*.ts&quot; file changes the maven exec plugin to do the typescript compilation. \r\n\r\nI have added the `exec-maven-plugin` and as well the `lifecycle-mapping` plugin. But when I change the &quot;*.ts&quot; file or calling &quot;build&quot; on my maven project, then the plugin get not automatically executed. I need each time to run the maven build manually by using a &quot;Run Configuration&quot;. \r\n\r\nThe project in Eclipse is a maven project (has the &quot;M&quot; icon) and as well under Builders the &quot;Maven Project Builder set. \r\n\r\nAny hint what I am doing wrong or what I missed?\r\n\r\nMy Eclipse Version: 2023-03 (4.27.0)\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.example.application&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;webcomponent&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t   &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                     &lt;lifecycleMappingMetadata&gt;\r\n                       &lt;pluginExecutions&gt;\r\n                         &lt;pluginExecution&gt;\r\n                           &lt;pluginExecutionFilter&gt;\r\n                             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                             &lt;goals&gt;\r\n                               &lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t\t\t\t     &lt;/goals&gt;\r\n\t\t\t\t\t\t  &lt;/pluginExecutionFilter&gt;\r\n                           &lt;action&gt;\r\n                             &lt;execute/&gt;\r\n  \t\t\t\t\t\t&lt;/action&gt;\r\n                         &lt;/pluginExecution&gt;\r\n                       &lt;/pluginExecutions&gt;\r\n                     &lt;/lifecycleMappingMetadata&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t        &lt;executions&gt;\r\n\t\t          &lt;execution&gt;\r\n\t\t            &lt;goals&gt;\r\n\t\t              &lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t            &lt;/goals&gt;\r\n\t\t            &lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t          &lt;/execution&gt;\r\n\t\t        &lt;/executions&gt;\r\n\t\t        &lt;configuration&gt;\r\n\t\t          &lt;executable&gt;npm&lt;/executable&gt;\r\n\t\t          &lt;arguments&gt;\r\n\t\t\t\t\t&lt;argument&gt;run&lt;/argument&gt;\r\n\t\t            &lt;argument&gt;tsc&lt;/argument&gt;\r\n\t\t          &lt;/arguments&gt;\r\n\t\t        &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sv9fI.png","title":"How to trigger maven exec plugin automatically in Eclipse when file is changing?","body":"<p>I am using Eclipse 2023 to build a Typescript module with node/npm. I like there to execute each time the a &quot;*.ts&quot; file changes the maven exec plugin to do the typescript compilation.</p>\n<p>I have added the <code>exec-maven-plugin</code> and as well the <code>lifecycle-mapping</code> plugin. But when I change the &quot;*.ts&quot; file or calling &quot;build&quot; on my maven project, then the plugin get not automatically executed. I need each time to run the maven build manually by using a &quot;Run Configuration&quot;.</p>\n<p>The project in Eclipse is a maven project (has the &quot;M&quot; icon) and as well under Builders the &quot;Maven Project Builder set.</p>\n<p>Any hint what I am doing wrong or what I missed?</p>\n<p>My Eclipse Version: 2023-03 (4.27.0)</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example.application&lt;/groupId&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;webcomponent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;build&gt;\n           &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                     &lt;lifecycleMappingMetadata&gt;\n                       &lt;pluginExecutions&gt;\n                         &lt;pluginExecution&gt;\n                           &lt;pluginExecutionFilter&gt;\n                             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                             &lt;goals&gt;\n                               &lt;goal&gt;exec&lt;/goal&gt;\n                             &lt;/goals&gt;\n                          &lt;/pluginExecutionFilter&gt;\n                           &lt;action&gt;\n                             &lt;execute/&gt;\n                        &lt;/action&gt;\n                         &lt;/pluginExecution&gt;\n                       &lt;/pluginExecutions&gt;\n                     &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;exec&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                  &lt;executable&gt;npm&lt;/executable&gt;\n                  &lt;arguments&gt;\n                    &lt;argument&gt;run&lt;/argument&gt;\n                    &lt;argument&gt;tsc&lt;/argument&gt;\n                  &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Sv9fI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sv9fI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","struts","java-17"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690559937,"creation_date":1690558603,"answer_id":76789233,"question_id":76789189,"body_markdown":"The `cannot access javax.servlet.*` error is NOT caused by using Java 11 / 17.  \r\n\r\nIt is happening because when you switched to Spring Boot 3.1 you have (implicitly) switched from the Java EE specs to Jakarta EE 9.  The  `javax.servlet.*` packages have been renamed to `jakarta.servlet.*`\r\n(There are various tools and guides to help you migrate plain servlet code from Java EE to Jakarta EE, but I don&#39;t think this will help you.)\r\n\r\nStruts 2 is also affected (afflicted) by the Java EE -&gt; Jakarta EE issue.  Unfortunately Struts 6.x does NOT support Jakarta EE 9.  According to Struts issue  [WW-5141][1], the Struts team is targeting support for Jakarta EE 9 in the 7.0.0 milestone.\r\n\r\n----------------\r\n\r\nIn summary:\r\n\r\n  - If you roll back to SpringBoot 2.7, you can use Java 17 and Struts 2 version 6.2.0.\r\n  - If you want to use SpringBoot 3.x, you will need to wait until Struts 2 version 7.0.0 is released.  (And don&#39;t ask me when that will be ...) \r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/WW-5141","title":"Can I use Apache Struts 2 with Java 11/17?","body":"<p>The <code>cannot access javax.servlet.*</code> error is NOT caused by using Java 11 / 17.</p>\n<p>It is happening because when you switched to Spring Boot 3.1 you have (implicitly) switched from the Java EE specs to Jakarta EE 9.  The  <code>javax.servlet.*</code> packages have been renamed to <code>jakarta.servlet.*</code>\n(There are various tools and guides to help you migrate plain servlet code from Java EE to Jakarta EE, but I don't think this will help you.)</p>\n<p>Struts 2 is also affected (afflicted) by the Java EE -&gt; Jakarta EE issue.  Unfortunately Struts 6.x does NOT support Jakarta EE 9.  According to Struts issue  <a href=\"https://issues.apache.org/jira/browse/WW-5141\" rel=\"nofollow noreferrer\">WW-5141</a>, the Struts team is targeting support for Jakarta EE 9 in the 7.0.0 milestone.</p>\n<hr />\n<p>In summary:</p>\n<ul>\n<li>If you roll back to SpringBoot 2.7, you can use Java 17 and Struts 2 version 6.2.0.</li>\n<li>If you want to use SpringBoot 3.x, you will need to wait until Struts 2 version 7.0.0 is released.  (And don't ask me when that will be ...)</li>\n</ul>\n"}],"owner":{"account_id":9282949,"reputation":1,"user_id":6893659,"display_name":"marcinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1690619380,"accepted_answer_id":76789233,"answer_count":1,"score":-1,"last_activity_date":1690559937,"creation_date":1690558182,"question_id":76789189,"body_markdown":"I&#39;m currently trying to do a migration of a project from Java 8 to Java 17 and Spring Boot 2.7 to 3.1.\r\nI&#39;ve encountered dependencies on `javax.servlet` package in latest Apache Struts 2 Core (6.2.0).\r\nI wonder if I can somehow make the project work on JVM 17?\r\n\r\nI tried compiling the project, but with no success - the compiler says `cannot access javax.servlet.*`","title":"Can I use Apache Struts 2 with Java 11/17?","body":"<p>I'm currently trying to do a migration of a project from Java 8 to Java 17 and Spring Boot 2.7 to 3.1.\nI've encountered dependencies on <code>javax.servlet</code> package in latest Apache Struts 2 Core (6.2.0).\nI wonder if I can somehow make the project work on JVM 17?</p>\n<p>I tried compiling the project, but with no success - the compiler says <code>cannot access javax.servlet.*</code></p>\n"},{"tags":["java","inheritance","constructor"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690523355,"post_id":76785117,"comment_id":135368382,"body_markdown":"Your question is answered by David Santamaria&#39;s answer in the question you linked.","body":"Your question is answered by David Santamaria&#39;s answer in the question you linked."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690523359,"post_id":76785117,"comment_id":135368383,"body_markdown":"*Nothing* in Java &#39;supports constructor inheritance&#39;. Constructors are not inherited. `MyException` does not *have* a 1-argument constructor. No other explanation required.","body":"<i>Nothing</i> in Java &#39;supports constructor inheritance&#39;. Constructors are not inherited. <code>MyException</code> does not <i>have</i> a 1-argument constructor. No other explanation required."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690523831,"post_id":76785117,"comment_id":135368444,"body_markdown":"The no-argument constructor of `RuntimeException` is not inherited. You haven&#39;t given `MyException` a constructor, and so a default one is implicitly added by the compiler. That default constructor invokes the superclass&#39;s _no-argument_ constructor (as all constructors implicitly try to do when there&#39;s no explicit call to `super(...)` or `this(...)`). If such a constructor does not exist or is not visible, then the subclass fails to compile.","body":"The no-argument constructor of <code>RuntimeException</code> is not inherited. You haven&#39;t given <code>MyException</code> a constructor, and so a default one is implicitly added by the compiler. That default constructor invokes the superclass&#39;s <i>no-argument</i> constructor (as all constructors implicitly try to do when there&#39;s no explicit call to <code>super(...)</code> or <code>this(...)</code>). If such a constructor does not exist or is not visible, then the subclass fails to compile."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1690560118,"post_id":76785117,"comment_id":135375644,"body_markdown":"Regarding &quot;Why is Java designed like this?&quot;: see [Why are constructors not inherited in Java?](https://stackoverflow.com/questions/18147768/why-are-constructors-not-inherited-in-java)","body":"Regarding &quot;Why is Java designed like this?&quot;: see <a href=\"https://stackoverflow.com/questions/18147768/why-are-constructors-not-inherited-in-java\">Why are constructors not inherited in Java?</a>"},{"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"score":0,"creation_date":1690562621,"post_id":76785117,"comment_id":135376058,"body_markdown":"If I explicitly define a constructor, say a 1-arg constructor, will the compiler still add the default one? (It seems not from what I observed.)","body":"If I explicitly define a constructor, say a 1-arg constructor, will the compiler still add the default one? (It seems not from what I observed.)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690567531,"post_id":76785117,"comment_id":135376907,"body_markdown":"The default constructor is only added by the compiler if no other constructor is explicitly defined. And if you give `MyException` a one-argument constructor, say for the message argument, and you want it to behave like the equivalent constructor of `RuntimeException`, its implementation would look like: `public MyException(String msg) { super(msg); }`.","body":"The default constructor is only added by the compiler if no other constructor is explicitly defined. And if you give <code>MyException</code> a one-argument constructor, say for the message argument, and you want it to behave like the equivalent constructor of <code>RuntimeException</code>, its implementation would look like: <code>public MyException(String msg) { super(msg); }</code>."}],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690523377,"answer_count":0,"score":0,"last_activity_date":1690559870,"creation_date":1690523146,"question_id":76785117,"body_markdown":"I have a class derived from `RuntimeException` and a function as below.\r\n\r\n    public class MyException extends RuntimeException {\r\n      // No contructor implemented;\r\n      // This class inherits the constructors from its parent;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n      String msg = &quot;msg&quot;;\r\n      MyException baseException = new MyException(); // No compiling error\r\n      MyException baseException2 = new MyException(msg); // Compiling error: Expected 0 arguments but found 1\r\n    }\r\n\r\nIt looks like `MyException` inherits the `default constructor` from `RuntimeException`,\r\nbut it does **not** inherit the `1-arg constructor RuntimeException(String message)`.\r\n\r\nIs this expected? Why is Java designed like this?\r\n\r\nI noticed that the similar question was discussed at https://stackoverflow.com/questions/1644317/java-constructor-inheritance.\r\n**That link does not answer my question since:**\r\nThey said Java does not support constructor inheritance, but based on my above observation, Java does support the inheritance of the default constructor,\r\nbut it does not support the 1-arg constructor. Thus I am not sure of the correctness of the answers in that link.\r\n\r\n@Slaw gave an excellent answer: the default constructor is not from inheritance -- it is added by the compiler; Also how the default constructor and other constructors are invoked; In what situation, the compile will fail. I have upvoted that answer. \r\n","title":"Does Java RuntimeException support constructor inheritance?","body":"<p>I have a class derived from <code>RuntimeException</code> and a function as below.</p>\n<pre><code>public class MyException extends RuntimeException {\n  // No contructor implemented;\n  // This class inherits the constructors from its parent;\n}\n\npublic static void main(String[] args) {\n  String msg = &quot;msg&quot;;\n  MyException baseException = new MyException(); // No compiling error\n  MyException baseException2 = new MyException(msg); // Compiling error: Expected 0 arguments but found 1\n}\n</code></pre>\n<p>It looks like <code>MyException</code> inherits the <code>default constructor</code> from <code>RuntimeException</code>,\nbut it does <strong>not</strong> inherit the <code>1-arg constructor RuntimeException(String message)</code>.</p>\n<p>Is this expected? Why is Java designed like this?</p>\n<p>I noticed that the similar question was discussed at <a href=\"https://stackoverflow.com/questions/1644317/java-constructor-inheritance\">Java Constructor Inheritance</a>.\n<strong>That link does not answer my question since:</strong>\nThey said Java does not support constructor inheritance, but based on my above observation, Java does support the inheritance of the default constructor,\nbut it does not support the 1-arg constructor. Thus I am not sure of the correctness of the answers in that link.</p>\n<p>@Slaw gave an excellent answer: the default constructor is not from inheritance -- it is added by the compiler; Also how the default constructor and other constructors are invoked; In what situation, the compile will fail. I have upvoted that answer.</p>\n"},{"tags":["java","android","listview","click","android-timepicker"],"answers":[{"comments":[{"owner":{"account_id":16155139,"reputation":3,"user_id":11662508,"display_name":"Salih Yılmaz"},"score":0,"creation_date":1690560353,"post_id":76789360,"comment_id":135375682,"body_markdown":"Thanks i thought i had to initialize it at global for some reason but just declaring it fixed it.","body":"Thanks i thought i had to initialize it at global for some reason but just declaring it fixed it."}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690559722,"creation_date":1690559722,"answer_id":76789360,"question_id":76789208,"body_markdown":"You can just define your adapter once in your `onCreate()` and update it from anywhere, just make sure it is accessible using a global variable. Just like your `itemList` is accessible from anywhere, you can just add/remove items from your list, and call `adapter.notifyDataSetChanged()` this will automatically update the list view and adapter according to your list. However make sure you attach your adapter to your list view in `onCreate()` itself.","title":"Do i have to initialize ArrayAdapter at each listView update","body":"<p>You can just define your adapter once in your <code>onCreate()</code> and update it from anywhere, just make sure it is accessible using a global variable. Just like your <code>itemList</code> is accessible from anywhere, you can just add/remove items from your list, and call <code>adapter.notifyDataSetChanged()</code> this will automatically update the list view and adapter according to your list. However make sure you attach your adapter to your list view in <code>onCreate()</code> itself.</p>\n"}],"owner":{"account_id":16155139,"reputation":3,"user_id":11662508,"display_name":"Salih Yılmaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789360,"answer_count":1,"score":0,"last_activity_date":1690559722,"creation_date":1690558390,"question_id":76789208,"body_markdown":"I want to update the list view inside click events but because I add the items inside a function that is outside the oncreate(), calls inside the click events dont update the listview. \r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity implements TimePickerDialog.OnTimeSetListener {\r\n    List&lt;String&gt; itemlist = new ArrayList&lt;String&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // Initializing the array lists and the adapter\r\n        Button add = findViewById(R.id.add);\r\n        EditText editText = findViewById (R.id.editText);\r\n        ListView listView = (ListView) findViewById (R.id.listView);\r\n        Button delete = findViewById (R.id.delete);\r\n        Button clear = findViewById(R.id.clear);\r\n\r\n\r\n        ArrayAdapter adapter = new ArrayAdapter (MainActivity.this, android.\r\n        R.layout.simple_list_item_multiple_choice, itemlist);\r\n\r\n        add.setOnClickListener(new View.OnClickListener() {\r\n               @Override\r\n               public void onClick(View view) {\r\n\r\n                   TimePickerFragment timePicker =  new TimePickerFragment();\r\n                   timePicker.show(getSupportFragmentManager(),&quot;time picker&quot;);\r\n                   //If i add items like this, everyting works fine \r\n//                   itemlist.add(editText.getText().toString());\r\n//                   listView.setAdapter(adapter);\r\n//                   adapter.notifyDataSetChanged();\r\n//                   // This is because every time when you add the item the input      space or the eidt text space will be cleared\r\n//                   editText.getText().clear();\r\n               }\r\n           }\r\n        );\r\n\r\n\r\n        // Selecting and Deleting the items from the list when the delete button is pressed\r\n\r\n        delete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                SparseBooleanArray position = listView.getCheckedItemPositions();\r\n\r\n\r\n                Integer count = listView.getCount();\r\n                int item = count - 1;\r\n                while (item &gt;= 0) {\r\n                if (position.get(item)) {\r\n                    itemlist.remove(item);\r\n//                    adapter.remove(itemlist.get(item));\r\n                }\r\n                item--;\r\n                }\r\n                position.clear();\r\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n                listView.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n        // Clearing all the items in the list when the clear button is pressed\r\n        clear.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                itemlist.clear();\r\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n                listView.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\r\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\r\n\r\n        ListView listView=findViewById(R.id.listView);\r\n\r\n        \r\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n        listView.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n}t.simple_list_item_multiple_choice, itemlist);\r\n                listView.setAdapter(adapter);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\r\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\r\n\r\n        ListView listView=findViewById(R.id.listView);\r\n\r\n        /// TODO: Make adapter accessible from here, dont create a local one\r\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\r\n        listView.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class TimePickerFragment extends DialogFragment {\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n\r\n            Calendar c = Calendar.getInstance();\r\n            int hour = c.get(Calendar.HOUR_OF_DAY);\r\n            int minute = c.get(Calendar.MINUTE) ;\r\n\r\n            return new TimePickerDialog(getActivity(), (TimePickerDialog.OnTimeSetListener) getActivity(), hour, minute,android.text.format.DateFormat.is24HourFormat(getActivity()));\r\n\r\n        }\r\n}\r\n```\r\n\r\nWhen i add items like in the commented part, i dont have to initialize adapter each time. I can use the same adapter but when i add items inside ontimeset i have to initialize a new adapter (i tried using adapter as a class member but didnt work) and because of this i think, the updates inside oncreate doesnt change the UI\r\n","title":"Do i have to initialize ArrayAdapter at each listView update","body":"<p>I want to update the list view inside click events but because I add the items inside a function that is outside the oncreate(), calls inside the click events dont update the listview.</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements TimePickerDialog.OnTimeSetListener {\n    List&lt;String&gt; itemlist = new ArrayList&lt;String&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // Initializing the array lists and the adapter\n        Button add = findViewById(R.id.add);\n        EditText editText = findViewById (R.id.editText);\n        ListView listView = (ListView) findViewById (R.id.listView);\n        Button delete = findViewById (R.id.delete);\n        Button clear = findViewById(R.id.clear);\n\n\n        ArrayAdapter adapter = new ArrayAdapter (MainActivity.this, android.\n        R.layout.simple_list_item_multiple_choice, itemlist);\n\n        add.setOnClickListener(new View.OnClickListener() {\n               @Override\n               public void onClick(View view) {\n\n                   TimePickerFragment timePicker =  new TimePickerFragment();\n                   timePicker.show(getSupportFragmentManager(),&quot;time picker&quot;);\n                   //If i add items like this, everyting works fine \n//                   itemlist.add(editText.getText().toString());\n//                   listView.setAdapter(adapter);\n//                   adapter.notifyDataSetChanged();\n//                   // This is because every time when you add the item the input      space or the eidt text space will be cleared\n//                   editText.getText().clear();\n               }\n           }\n        );\n\n\n        // Selecting and Deleting the items from the list when the delete button is pressed\n\n        delete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                SparseBooleanArray position = listView.getCheckedItemPositions();\n\n\n                Integer count = listView.getCount();\n                int item = count - 1;\n                while (item &gt;= 0) {\n                if (position.get(item)) {\n                    itemlist.remove(item);\n//                    adapter.remove(itemlist.get(item));\n                }\n                item--;\n                }\n                position.clear();\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n                listView.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n            }\n        });\n\n        // Clearing all the items in the list when the clear button is pressed\n        clear.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                itemlist.clear();\n                ArrayAdapter&lt;String&gt;  adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n                listView.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n            }\n        });\n    }\n\n    @Override\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\n\n        ListView listView=findViewById(R.id.listView);\n\n        \n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n        listView.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n    }\n}t.simple_list_item_multiple_choice, itemlist);\n                listView.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n            }\n        });\n    }\n\n    @Override\n    public void onTimeSet(TimePicker timePicker, int i, int i1) {\n        itemlist.add(&quot;The time selected is &quot;+i+&quot;:&quot;+i1);\n\n        ListView listView=findViewById(R.id.listView);\n\n        /// TODO: Make adapter accessible from here, dont create a local one\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_multiple_choice, itemlist);\n        listView.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n<pre><code>public class TimePickerFragment extends DialogFragment {\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n\n            Calendar c = Calendar.getInstance();\n            int hour = c.get(Calendar.HOUR_OF_DAY);\n            int minute = c.get(Calendar.MINUTE) ;\n\n            return new TimePickerDialog(getActivity(), (TimePickerDialog.OnTimeSetListener) getActivity(), hour, minute,android.text.format.DateFormat.is24HourFormat(getActivity()));\n\n        }\n}\n</code></pre>\n<p>When i add items like in the commented part, i dont have to initialize adapter each time. I can use the same adapter but when i add items inside ontimeset i have to initialize a new adapter (i tried using adapter as a class member but didnt work) and because of this i think, the updates inside oncreate doesnt change the UI</p>\n"},{"tags":["java","android","freeze","osmdroid"],"comments":[{"owner":{"account_id":2566794,"reputation":95,"user_id":2226614,"accept_rate":38,"display_name":"Luca Bertoncello"},"score":0,"creation_date":1691524585,"post_id":76788661,"comment_id":135502757,"body_markdown":"Maybe I found something interesting in the Android logs... I see many entries like:\nV/WindowStateAnimator(  687): computeShownFrameLocked: WindowStateAnimator{21f6c8f de.lucabert.simplevfr/de.lucabert.simplevfr.MainActivity} not attached, mAlpha=1.0\nDo someone knows what does it means? I didn&#39;t found anything yet...","body":"Maybe I found something interesting in the Android logs... I see many entries like: V/WindowStateAnimator(  687): computeShownFrameLocked: WindowStateAnimator{21f6c8f de.lucabert.simplevfr/de.lucabert.simplevfr.MainActivity} not attached, mAlpha=1.0 Do someone knows what does it means? I didn&#39;t found anything yet..."}],"owner":{"account_id":2566794,"reputation":95,"user_id":2226614,"accept_rate":38,"display_name":"Luca Bertoncello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690559666,"creation_date":1690553991,"question_id":76788661,"body_markdown":"I&#39;m writing an App for VFR navigation. The App uses OSMDroid (currently version 6.1.8).\r\nBasically the App works, but sometimes (can&#39;t say under which conditions!) the App &quot;freezes&quot;.\r\n\r\nUsing log files, I can see, the App works, but the whole display is frozen...&lt;br/&gt;\r\nThe functions that draw the elements were called, all App&#39;s functions works and no exception can be found in the log files.\r\n\r\nBut the display just stop working (not only the OSMDroid&#39;s Map will not be updated, but other elements, too). I can restart the App, other Apps works, but my App doesn&#39;t.&lt;br/&gt;\r\nThe App will not respond to user interaction (tapping on buttons or similar) and all elements on the screen will not be refreshed.&lt;br/&gt;\r\nTrying to force a elements&#39; refresh does not give any results...\r\n\r\nI wrote a Thread that refreshes the screen every 500ms, so that the rest of the App should work &quot;alone&quot;.&lt;br/&gt;\r\nMy code:\r\n```\r\n    contentView = findViewById(android.R.id.content).getRootView();\r\n    updateThread = new Thread(new Runnable()\r\n    {\r\n      @Override\r\n      public void run()\r\n      {\r\n        while(1)\r\n        {\r\n          MainActivity.this.runOnUiThread(new Runnable() {\r\n            public void run() {\r\n              try\r\n              {\r\n                periodicalScreenUpdate(); // this will update the elements on screen...\r\n                Logger.debug(&quot;Invalidate screen&quot;);\r\n                contentView.invalidate();\r\n              }\r\n              catch(Exception e)\r\n              {\r\n                Logger.notice(e);\r\n              }\r\n            }\r\n          }\r\n          Thread.sleep(500);\r\n        }\r\n      });\r\n    }\r\n```\r\nDoes someone have any idea what can be the problem and how I can solve it?\r\n\r\nEDITED: I cannot reproduce the problem with the emulator, but this is not a problem of the device, since I have the problem on all my devices (different types!)...\r\n\r\nThank you very very much!&lt;br/&gt;\r\nLuca","title":"Display is frozen in a Java App using OSMDroid, but App runs in background","body":"<p>I'm writing an App for VFR navigation. The App uses OSMDroid (currently version 6.1.8).\nBasically the App works, but sometimes (can't say under which conditions!) the App &quot;freezes&quot;.</p>\n<p>Using log files, I can see, the App works, but the whole display is frozen...<br/>\nThe functions that draw the elements were called, all App's functions works and no exception can be found in the log files.</p>\n<p>But the display just stop working (not only the OSMDroid's Map will not be updated, but other elements, too). I can restart the App, other Apps works, but my App doesn't.<br/>\nThe App will not respond to user interaction (tapping on buttons or similar) and all elements on the screen will not be refreshed.<br/>\nTrying to force a elements' refresh does not give any results...</p>\n<p>I wrote a Thread that refreshes the screen every 500ms, so that the rest of the App should work &quot;alone&quot;.<br/>\nMy code:</p>\n<pre><code>    contentView = findViewById(android.R.id.content).getRootView();\n    updateThread = new Thread(new Runnable()\n    {\n      @Override\n      public void run()\n      {\n        while(1)\n        {\n          MainActivity.this.runOnUiThread(new Runnable() {\n            public void run() {\n              try\n              {\n                periodicalScreenUpdate(); // this will update the elements on screen...\n                Logger.debug(&quot;Invalidate screen&quot;);\n                contentView.invalidate();\n              }\n              catch(Exception e)\n              {\n                Logger.notice(e);\n              }\n            }\n          }\n          Thread.sleep(500);\n        }\n      });\n    }\n</code></pre>\n<p>Does someone have any idea what can be the problem and how I can solve it?</p>\n<p>EDITED: I cannot reproduce the problem with the emulator, but this is not a problem of the device, since I have the problem on all my devices (different types!)...</p>\n<p>Thank you very very much!<br/>\nLuca</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1690547379,"post_id":76787806,"comment_id":135372814,"body_markdown":"Is that plus you want to replace actually inside quotes or is that just you trying to highlight it? If those quotes exist you could just do `replace(&quot;\\&quot;+\\&quot;&quot;, &quot;;&quot;);` edit: Or if those quotes aren&#39;t there but it is always `+ group` a simple `replace(&quot;+ group&quot;, &quot;; group&quot;);` could work.","body":"Is that plus you want to replace actually inside quotes or is that just you trying to highlight it? If those quotes exist you could just do <code>replace(&quot;\\&quot;+\\&quot;&quot;, &quot;;&quot;);</code> edit: Or if those quotes aren&#39;t there but it is always <code>+ group</code> a simple <code>replace(&quot;+ group&quot;, &quot;; group&quot;);</code> could work."},{"owner":{"account_id":29110967,"reputation":7,"user_id":22300754,"display_name":"gallo"},"score":0,"creation_date":1690789545,"post_id":76787806,"comment_id":135396591,"body_markdown":"the quotes just to highlight which + i want to replace with ;","body":"the quotes just to highlight which + i want to replace with ;"}],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690559473,"creation_date":1690559473,"answer_id":76789336,"question_id":76787806,"body_markdown":"System.out.println(&quot;a+b+c+&quot;.replaceFirst(&quot;(.*)\\\\+&quot;, &quot;$1;&quot;)); // a+b+c; ","title":"Java replace the last character &quot;+&quot; with &quot;;&quot; of the groups of string that match","body":"<p>System.out.println(&quot;a+b+c+&quot;.replaceFirst(&quot;(.*)\\+&quot;, &quot;$1;&quot;)); // a+b+c;</p>\n"}],"owner":{"account_id":29110967,"reputation":7,"user_id":22300754,"display_name":"gallo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1690559473,"creation_date":1690547225,"question_id":76787806,"body_markdown":"I have a file which contains: \r\n\r\n```\r\n....\r\nXPS430_1 + XPS430_3 + XPS430_5 + XPS430_7 + XPS430_9 + XPS430_11 + XPS430_13 + XPS430_15 + \r\nXPS830_1 + XPS830_3 + XPS830_5 + XPS830_7 + XPS830_9 + XPS830_11 + XPS830_13 + XPS830_15 + \r\nXPS751_1 + XPS751_3 + XPS751_5 + XPS751_7 + XPS751_9 + XPS751_11 + XPS751_13 + XPS751_15 &quot;+&quot;\r\ngroup XpsEvenPins = ....\r\n```\r\n\r\nand I would like to replace the last `&quot;+&quot;` with `&quot;;&quot;`\r\nI have multiple occurrences of &quot;group&quot;, and I would like to ends-up with `&quot;;&quot;`\r\n\r\nThanks\r\n\r\nTried several `matcher.replace `and other string manipulation without success. I don&#39;t know how to replace only the last `&quot;+&quot;`?","title":"Java replace the last character &quot;+&quot; with &quot;;&quot; of the groups of string that match","body":"<p>I have a file which contains:</p>\n<pre><code>....\nXPS430_1 + XPS430_3 + XPS430_5 + XPS430_7 + XPS430_9 + XPS430_11 + XPS430_13 + XPS430_15 + \nXPS830_1 + XPS830_3 + XPS830_5 + XPS830_7 + XPS830_9 + XPS830_11 + XPS830_13 + XPS830_15 + \nXPS751_1 + XPS751_3 + XPS751_5 + XPS751_7 + XPS751_9 + XPS751_11 + XPS751_13 + XPS751_15 &quot;+&quot;\ngroup XpsEvenPins = ....\n</code></pre>\n<p>and I would like to replace the last <code>&quot;+&quot;</code> with <code>&quot;;&quot;</code>\nI have multiple occurrences of &quot;group&quot;, and I would like to ends-up with <code>&quot;;&quot;</code></p>\n<p>Thanks</p>\n<p>Tried several <code>matcher.replace </code>and other string manipulation without success. I don't know how to replace only the last <code>&quot;+&quot;</code>?</p>\n"},{"tags":["java","properties"],"comments":[{"owner":{"account_id":388484,"reputation":5939,"user_id":747456,"accept_rate":43,"display_name":"Neil"},"score":5,"creation_date":1326012433,"post_id":8775303,"comment_id":10942181,"body_markdown":"The reason why I need to keep the properties file in the jar directory is that it is better to keep them together when the whole directory (including jar and property ) is copied to another machine and run.","body":"The reason why I need to keep the properties file in the jar directory is that it is better to keep them together when the whole directory (including jar and property ) is copied to another machine and run."},{"owner":{"account_id":388484,"reputation":5939,"user_id":747456,"accept_rate":43,"display_name":"Neil"},"score":1,"creation_date":1326012526,"post_id":8775303,"comment_id":10942196,"body_markdown":"And if I force the user to pass the property file path then he needs to change it every time he runs the batch file from a different machine.","body":"And if I force the user to pass the property file path then he needs to change it every time he runs the batch file from a different machine."}],"answers":[{"tags":[],"owner":{"account_id":444584,"reputation":8231,"user_id":836487,"accept_rate":64,"display_name":"sethu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326011093,"creation_date":1326011093,"answer_id":8776275,"question_id":8775303,"body_markdown":"There&#39;s always a  problem accessing files on your file directory from a jar file. Providing the classpath in a jar file is very limited. Instead try using a bat file or a sh file to start your program. In that way you can specify your classpath anyway you like, referencing any folder anywhere on the system.\r\n\r\nAlso check my answer on this question:\r\n\r\nhttps://stackoverflow.com/questions/8774546/making-exe-file-for-java-project-containing-sqlite/8775042#comment10940685_8775042","title":"Read properties file outside JAR file","body":"<p>There's always a  problem accessing files on your file directory from a jar file. Providing the classpath in a jar file is very limited. Instead try using a bat file or a sh file to start your program. In that way you can specify your classpath anyway you like, referencing any folder anywhere on the system.</p>\n\n<p>Also check my answer on this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8774546/making-exe-file-for-java-project-containing-sqlite/8775042#comment10940685_8775042\">making .exe file for java project containing sqlite</a></p>\n"},{"comments":[{"owner":{"account_id":388484,"reputation":5939,"user_id":747456,"accept_rate":43,"display_name":"Neil"},"score":9,"creation_date":1326095406,"post_id":8777182,"comment_id":10956492,"body_markdown":"This solution works. Thanks for understanding the exact requirement and detailed code.I verified that the properties file is not inside the jar file but still it could access the file from the same directory where the jar file is. In this way there not absolute path hard code is is required . Both jar and property file now can be copied to any directory and run independently.","body":"This solution works. Thanks for understanding the exact requirement and detailed code.I verified that the properties file is not inside the jar file but still it could access the file from the same directory where the jar file is. In this way there not absolute path hard code is is required . Both jar and property file now can be copied to any directory and run independently."},{"owner":{"account_id":6209306,"reputation":348,"user_id":4836072,"display_name":"Darian"},"score":5,"creation_date":1436414193,"post_id":8777182,"comment_id":50604696,"body_markdown":"The file will not found if you execute the command from outside for ex: {{java -jar build/main.jar}}. Do you have any fix for that, @eee?","body":"The file will not found if you execute the command from outside for ex: {{java -jar build/main.jar}}. Do you have any fix for that, @eee?"},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":1,"creation_date":1436417878,"post_id":8777182,"comment_id":50605698,"body_markdown":"@Darian There is nothing to fix here; It only works as designed where the jar and the properties file must be on the same `./` root folder (same directory level) as to what I have described in the file organization architecture. (as per requirement set by the original poster)","body":"@Darian There is nothing to fix here; It only works as designed where the jar and the properties file must be on the same <code>.&#47;</code> root folder (same directory level) as to what I have described in the file organization architecture. (as per requirement set by the original poster)"},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1436418143,"post_id":8777182,"comment_id":50605783,"body_markdown":"@Darian, so if you want to execute `java -jar build/main.jar`, you need to put the properties file in `build` folder as well so that it is on the same directory level as the jar.","body":"@Darian, so if you want to execute <code>java -jar build&#47;main.jar</code>, you need to put the properties file in <code>build</code> folder as well so that it is on the same directory level as the jar."},{"owner":{"account_id":6209306,"reputation":348,"user_id":4836072,"display_name":"Darian"},"score":9,"creation_date":1436432727,"post_id":8777182,"comment_id":50613661,"body_markdown":"Thanks for your response @eee, the problem is I don&#39;t know where user will execute the `java -jar path/to/jar/file`. But I found the solution in another question: `String path = ClassLoader.getSystemClassLoader().getResource(&quot;.&quot;).getPath() + &quot;/main.properties&quot;;`","body":"Thanks for your response @eee, the problem is I don&#39;t know where user will execute the <code>java -jar path&#47;to&#47;jar&#47;file</code>. But I found the solution in another question: <code>String path = ClassLoader.getSystemClassLoader().getResource(&quot;.&quot;).getPath(&zwnj;&#8203;) + &quot;&#47;main.properties&quot;;</code>"},{"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"score":0,"creation_date":1475759349,"post_id":8777182,"comment_id":67079435,"body_markdown":"To read file as stream directly: `InputStream is = ClassLoader.getSystemResourceAsStream(&quot;./main.properties&quot;);`","body":"To read file as stream directly: <code>InputStream is = ClassLoader.getSystemResourceAsStream(&quot;.&#47;main.properties&quot;);</code>"},{"owner":{"account_id":1482404,"reputation":952,"user_id":1391454,"accept_rate":43,"display_name":"Mubasher"},"score":0,"creation_date":1489150921,"post_id":8777182,"comment_id":72557833,"body_markdown":"I have same scenario , but only difference is that my application is a spring base and I have to configure PropertyPlaceholderConfigurer bean. But I dont know how to tell this bean that file is out side of classpath and it is beside jar file. any idea?","body":"I have same scenario , but only difference is that my application is a spring base and I have to configure PropertyPlaceholderConfigurer bean. But I dont know how to tell this bean that file is out side of classpath and it is beside jar file. any idea?"},{"owner":{"account_id":5519125,"reputation":713,"user_id":4382732,"display_name":"Marius Kohmann"},"score":0,"creation_date":1643883069,"post_id":8777182,"comment_id":125459359,"body_markdown":"Just make sure to save your file after you have changed it - if you want updated values...","body":"Just make sure to save your file after you have changed it - if you want updated values..."}],"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"comment_count":8,"down_vote_count":0,"up_vote_count":169,"is_accepted":true,"score":169,"last_activity_date":1549577107,"creation_date":1326022845,"answer_id":8777182,"question_id":8775303,"body_markdown":"So, you want to treat your `.properties` file on the same folder as the main/runnable jar as a file rather than as a resource of the main/runnable jar. In that case, my own solution is as follows:\r\n\r\nFirst thing first: your program file architecture shall be like this (assuming your main program is main.jar and its main properties file is main.properties):\r\n\r\n    ./ - the root of your program\r\n     |__ main.jar\r\n     |__ main.properties\r\n\r\nWith this architecture, you can modify any property in the main.properties file using any text editor before or while your main.jar is running (depending on the current state of the program) since it is just a text-based file. For example, your main.properties file may contain:\r\n\r\n    app.version=1.0.0.0\r\n    app.name=Hello\r\n\r\nSo, when you run your main program from its root/base folder, normally you will run it like this:\r\n\r\n    java -jar ./main.jar\r\n\r\n \r\nor, straight away: \r\n\r\n    java -jar main.jar\r\n\r\n \r\nIn your main.jar, you need to create a few utility methods for every property found in your main.properties file; let say the `app.version` property will have `getAppVersion()` method as follows:\r\n\r\n    /**\r\n     * Gets the app.version property value from\r\n     * the ./main.properties file of the base folder\r\n     *\r\n     * @return app.version string\r\n     * @throws IOException\r\n     */\r\n\r\n    import java.util.Properties;\r\n\r\n    public static String getAppVersion() throws IOException{\r\n    \r\n        String versionString = null;\r\n        \r\n        //to load application&#39;s properties, we use this class\r\n        Properties mainProperties = new Properties();\r\n    \r\n        FileInputStream file;\r\n        \r\n        //the base folder is ./, the root of the main.properties file  \r\n        String path = &quot;./main.properties&quot;;\r\n        \r\n        //load the file handle for main.properties\r\n        file = new FileInputStream(path);\r\n        \r\n        //load all the properties from this file\r\n        mainProperties.load(file);\r\n    \r\n        //we have loaded the properties, so close the file handle\r\n        file.close();\r\n    \r\n        //retrieve the property we are intrested, the app.version\r\n        versionString = mainProperties.getProperty(&quot;app.version&quot;);\r\n    \r\n        return versionString;\r\n    }\r\n\r\n\r\nIn any part of the main program that needs the `app.version` value, we call its method as follows:\r\n\r\n    String version = null;\r\n    try{\r\n         version = getAppVersion();\r\n    }\r\n    catch (IOException ioe){\r\n        ioe.printStackTrace();\r\n    }\r\n","title":"Read properties file outside JAR file","body":"<p>So, you want to treat your <code>.properties</code> file on the same folder as the main/runnable jar as a file rather than as a resource of the main/runnable jar. In that case, my own solution is as follows:</p>\n\n<p>First thing first: your program file architecture shall be like this (assuming your main program is main.jar and its main properties file is main.properties):</p>\n\n<pre><code>./ - the root of your program\n |__ main.jar\n |__ main.properties\n</code></pre>\n\n<p>With this architecture, you can modify any property in the main.properties file using any text editor before or while your main.jar is running (depending on the current state of the program) since it is just a text-based file. For example, your main.properties file may contain:</p>\n\n<pre><code>app.version=1.0.0.0\napp.name=Hello\n</code></pre>\n\n<p>So, when you run your main program from its root/base folder, normally you will run it like this:</p>\n\n<pre><code>java -jar ./main.jar\n</code></pre>\n\n<p>or, straight away: </p>\n\n<pre><code>java -jar main.jar\n</code></pre>\n\n<p>In your main.jar, you need to create a few utility methods for every property found in your main.properties file; let say the <code>app.version</code> property will have <code>getAppVersion()</code> method as follows:</p>\n\n<pre><code>/**\n * Gets the app.version property value from\n * the ./main.properties file of the base folder\n *\n * @return app.version string\n * @throws IOException\n */\n\nimport java.util.Properties;\n\npublic static String getAppVersion() throws IOException{\n\n    String versionString = null;\n\n    //to load application's properties, we use this class\n    Properties mainProperties = new Properties();\n\n    FileInputStream file;\n\n    //the base folder is ./, the root of the main.properties file  \n    String path = \"./main.properties\";\n\n    //load the file handle for main.properties\n    file = new FileInputStream(path);\n\n    //load all the properties from this file\n    mainProperties.load(file);\n\n    //we have loaded the properties, so close the file handle\n    file.close();\n\n    //retrieve the property we are intrested, the app.version\n    versionString = mainProperties.getProperty(\"app.version\");\n\n    return versionString;\n}\n</code></pre>\n\n<p>In any part of the main program that needs the <code>app.version</code> value, we call its method as follows:</p>\n\n<pre><code>String version = null;\ntry{\n     version = getAppVersion();\n}\ncatch (IOException ioe){\n    ioe.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1091117,"reputation":8451,"user_id":1085736,"accept_rate":64,"display_name":"MobileMon"},"score":0,"creation_date":1393333663,"post_id":21132382,"comment_id":33369659,"body_markdown":"I had to drop the getParentFile() part so instead I used: String propertiesPath=jarPath.getAbsolutePath(); but it all depends on where the file is located","body":"I had to drop the getParentFile() part so instead I used: String propertiesPath=jarPath.getAbsolutePath(); but it all depends on where the file is located"},{"owner":{"account_id":2966592,"reputation":423,"user_id":2519617,"accept_rate":65,"display_name":"StackAddict"},"score":4,"creation_date":1420626125,"post_id":21132382,"comment_id":44040416,"body_markdown":"Just Replace &quot;jarPath.getParentFile().getAbsolutePath();&quot; to &quot;jarPath.getParent()&quot;. Works like a charm then.","body":"Just Replace &quot;jarPath.getParentFile().getAbsolutePath();&quot; to &quot;jarPath.getParent()&quot;. Works like a charm then."},{"owner":{"account_id":1482404,"reputation":952,"user_id":1391454,"accept_rate":43,"display_name":"Mubasher"},"score":1,"creation_date":1489150806,"post_id":21132382,"comment_id":72557749,"body_markdown":"Same is the Problem in my case but I have spring base project. How to tell spring that file is beside jar file? any idea","body":"Same is the Problem in my case but I have spring base project. How to tell spring that file is beside jar file? any idea"}],"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"comment_count":3,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1389774446,"creation_date":1389774446,"answer_id":21132382,"question_id":8775303,"body_markdown":"I did it by other way. \r\n\r\n\r\n\r\n    Properties prop = new Properties();\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tFile jarPath=new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\n\t\t\tString propertiesPath=jarPath.getParentFile().getAbsolutePath();\r\n\t\t\tSystem.out.println(&quot; propertiesPath-&quot;+propertiesPath);\r\n\t\t\tprop.load(new FileInputStream(propertiesPath+&quot;/importer.properties&quot;));\r\n\t\t} catch (IOException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\r\n 1. Get Jar file path.\r\n 2. Get Parent folder of that file.\r\n 3. Use that path in InputStreamPath with your properties file name.","title":"Read properties file outside JAR file","body":"<p>I did it by other way. </p>\n\n<pre><code>Properties prop = new Properties();\n    try {\n\n        File jarPath=new File(MyClass.class.getProtectionDomain().getCodeSource().getLocation().getPath());\n        String propertiesPath=jarPath.getParentFile().getAbsolutePath();\n        System.out.println(\" propertiesPath-\"+propertiesPath);\n        prop.load(new FileInputStream(propertiesPath+\"/importer.properties\"));\n    } catch (IOException e1) {\n        e1.printStackTrace();\n    }\n</code></pre>\n\n<ol>\n<li>Get Jar file path.</li>\n<li>Get Parent folder of that file.</li>\n<li>Use that path in InputStreamPath with your properties file name.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3903617,"reputation":169,"user_id":3230805,"accept_rate":60,"display_name":"ddaaggeett"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485114292,"creation_date":1485106501,"answer_id":41794050,"question_id":8775303,"body_markdown":"I have a similar case: wanting my `*.jar` file to access a file in a directory next to said `*.jar` file.  Refer to [THIS ANSWER](https://stackoverflow.com/questions/39081215/access-a-resource-outside-a-jar-from-the-jar) as well.\r\n\r\nMy file structure is:\r\n\r\n    ./ - the root of your program\r\n    |__ *.jar\r\n    |__ dir-next-to-jar/some.txt\r\n\r\nI&#39;m able to load a file (say, `some.txt`) to an InputStream inside the `*.jar` file with the following:\r\n\r\n    InputStream stream = null;\r\n\t\ttry{\r\n\t\t\tstream = ThisClassName.class.getClass().getResourceAsStream(&quot;/dir-next-to-jar/some.txt&quot;);\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.print(&quot;error file to stream: &quot;);\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\nThen do whatever you will with the `stream`","title":"Read properties file outside JAR file","body":"<p>I have a similar case: wanting my <code>*.jar</code> file to access a file in a directory next to said <code>*.jar</code> file.  Refer to <a href=\"https://stackoverflow.com/questions/39081215/access-a-resource-outside-a-jar-from-the-jar\">THIS ANSWER</a> as well.</p>\n\n<p>My file structure is:</p>\n\n<pre><code>./ - the root of your program\n|__ *.jar\n|__ dir-next-to-jar/some.txt\n</code></pre>\n\n<p>I'm able to load a file (say, <code>some.txt</code>) to an InputStream inside the <code>*.jar</code> file with the following:</p>\n\n<pre><code>InputStream stream = null;\n    try{\n        stream = ThisClassName.class.getClass().getResourceAsStream(\"/dir-next-to-jar/some.txt\");\n    }\n    catch(Exception e) {\n        System.out.print(\"error file to stream: \");\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n\n<p>Then do whatever you will with the <code>stream</code></p>\n"},{"tags":[],"owner":{"account_id":1343737,"reputation":2933,"user_id":1284868,"accept_rate":50,"display_name":"pitchblack408"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535391597,"creation_date":1535332774,"answer_id":52031496,"question_id":8775303,"body_markdown":"I have an example of doing both by classpath or from external config with log4j2.properties\r\n\r\n    package org.mmartin.app1;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.core.LoggerContext;\r\n    import org.apache.logging.log4j.LogManager;\r\n    \r\n    \r\n    public class App1 {\r\n    \tprivate static Logger logger=null; \r\n    \tprivate static final String LOG_PROPERTIES_FILE = &quot;config/log4j2.properties&quot;;\r\n    \tprivate static final String  CONFIG_PROPERTIES_FILE = &quot;config/config.properties&quot;;\r\n    \t\r\n    \tprivate Properties properties= new Properties();\r\n    \t\r\n    \tpublic App1() {\r\n    \t\tSystem.out.println(&quot;--Logger intialized with classpath properties file--&quot;);\r\n    \t\tintializeLogger1();\r\n    \t\ttestLogging();\r\n    \t\tSystem.out.println(&quot;--Logger intialized with external file--&quot;);\r\n    \t\tintializeLogger2();\r\n    \t\ttestLogging();\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \t\r\n    \tpublic void readProperties()  {\r\n    \t\tInputStream input = null;\r\n    \t\ttry {\r\n    \t\t\tinput = new FileInputStream(CONFIG_PROPERTIES_FILE);\r\n    \t\t\tthis.properties.load(input);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlogger.error(&quot;Unable to read the config.properties file.&quot;,e);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void printProperties() {\r\n    \t\tthis.properties.list(System.out);\r\n    \t}\r\n    \t\r\n    \tpublic void testLogging() {\r\n    \t\tlogger.debug(&quot;This is a debug message&quot;);\r\n    \t\tlogger.info(&quot;This is an info message&quot;);\r\n    \t\tlogger.warn(&quot;This is a warn message&quot;);\r\n    \t\tlogger.error(&quot;This is an error message&quot;);\r\n    \t\tlogger.fatal(&quot;This is a fatal message&quot;);\r\n    \t\tlogger.info(&quot;Logger&#39;s name: &quot;+logger.getName());\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate void intializeLogger1() {\r\n    \t\tlogger = LogManager.getLogger(App1.class);\r\n    \t}\r\n    \tprivate void intializeLogger2() {\r\n    \t\tLoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n    \t\tFile file = new File(LOG_PROPERTIES_FILE);\r\n    \t\t// this will force a reconfiguration\r\n    \t\tcontext.setConfigLocation(file.toURI());\r\n    \t\tlogger = context.getLogger(App1.class.getName());\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tApp1 app1 = new App1();\r\n    \t\tapp1.readProperties();\r\n    \t\tapp1.printProperties();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    --Logger intialized with classpath properties file--\r\n    [DEBUG] 2018-08-27 10:35:14.510 [main] App1 - This is a debug message\r\n    [INFO ] 2018-08-27 10:35:14.513 [main] App1 - This is an info message\r\n    [WARN ] 2018-08-27 10:35:14.513 [main] App1 - This is a warn message\r\n    [ERROR] 2018-08-27 10:35:14.513 [main] App1 - This is an error message\r\n    [FATAL] 2018-08-27 10:35:14.513 [main] App1 - This is a fatal message\r\n    [INFO ] 2018-08-27 10:35:14.514 [main] App1 - Logger&#39;s name: org.mmartin.app1.App1\r\n    --Logger intialized with external file--\r\n    [DEBUG] 2018-08-27 10:35:14.524 [main] App1 - This is a debug message\r\n    [INFO ] 2018-08-27 10:35:14.525 [main] App1 - This is an info message\r\n    [WARN ] 2018-08-27 10:35:14.525 [main] App1 - This is a warn message\r\n    [ERROR] 2018-08-27 10:35:14.525 [main] App1 - This is an error message\r\n    [FATAL] 2018-08-27 10:35:14.525 [main] App1 - This is a fatal message\r\n    [INFO ] 2018-08-27 10:35:14.525 [main] App1 - Logger&#39;s name: org.mmartin.app1.App1\r\n    -- listing properties --\r\n    dbpassword=password\r\n    database=localhost\r\n    dbuser=user\r\n    \r\n    ","title":"Read properties file outside JAR file","body":"<p>I have an example of doing both by classpath or from external config with log4j2.properties</p>\n\n<pre><code>package org.mmartin.app1;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.LogManager;\n\n\npublic class App1 {\n    private static Logger logger=null; \n    private static final String LOG_PROPERTIES_FILE = \"config/log4j2.properties\";\n    private static final String  CONFIG_PROPERTIES_FILE = \"config/config.properties\";\n\n    private Properties properties= new Properties();\n\n    public App1() {\n        System.out.println(\"--Logger intialized with classpath properties file--\");\n        intializeLogger1();\n        testLogging();\n        System.out.println(\"--Logger intialized with external file--\");\n        intializeLogger2();\n        testLogging();\n    }\n\n\n\n\n    public void readProperties()  {\n        InputStream input = null;\n        try {\n            input = new FileInputStream(CONFIG_PROPERTIES_FILE);\n            this.properties.load(input);\n        } catch (IOException e) {\n            logger.error(\"Unable to read the config.properties file.\",e);\n            System.exit(1);\n        }\n    }\n\n    public void printProperties() {\n        this.properties.list(System.out);\n    }\n\n    public void testLogging() {\n        logger.debug(\"This is a debug message\");\n        logger.info(\"This is an info message\");\n        logger.warn(\"This is a warn message\");\n        logger.error(\"This is an error message\");\n        logger.fatal(\"This is a fatal message\");\n        logger.info(\"Logger's name: \"+logger.getName());\n    }\n\n\n    private void intializeLogger1() {\n        logger = LogManager.getLogger(App1.class);\n    }\n    private void intializeLogger2() {\n        LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\n        File file = new File(LOG_PROPERTIES_FILE);\n        // this will force a reconfiguration\n        context.setConfigLocation(file.toURI());\n        logger = context.getLogger(App1.class.getName());\n    }\n\n    public static void main(String[] args) {\n        App1 app1 = new App1();\n        app1.readProperties();\n        app1.printProperties();\n    }\n}\n\n\n--Logger intialized with classpath properties file--\n[DEBUG] 2018-08-27 10:35:14.510 [main] App1 - This is a debug message\n[INFO ] 2018-08-27 10:35:14.513 [main] App1 - This is an info message\n[WARN ] 2018-08-27 10:35:14.513 [main] App1 - This is a warn message\n[ERROR] 2018-08-27 10:35:14.513 [main] App1 - This is an error message\n[FATAL] 2018-08-27 10:35:14.513 [main] App1 - This is a fatal message\n[INFO ] 2018-08-27 10:35:14.514 [main] App1 - Logger's name: org.mmartin.app1.App1\n--Logger intialized with external file--\n[DEBUG] 2018-08-27 10:35:14.524 [main] App1 - This is a debug message\n[INFO ] 2018-08-27 10:35:14.525 [main] App1 - This is an info message\n[WARN ] 2018-08-27 10:35:14.525 [main] App1 - This is a warn message\n[ERROR] 2018-08-27 10:35:14.525 [main] App1 - This is an error message\n[FATAL] 2018-08-27 10:35:14.525 [main] App1 - This is a fatal message\n[INFO ] 2018-08-27 10:35:14.525 [main] App1 - Logger's name: org.mmartin.app1.App1\n-- listing properties --\ndbpassword=password\ndatabase=localhost\ndbuser=user\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613468937,"creation_date":1550579077,"answer_id":54766296,"question_id":8775303,"body_markdown":"This works for me. Load your properties file from `current directory`.\r\n\r\n**Attention**: The method `Properties#load` [uses ISO-8859-1 encoding](https://stackoverflow.com/a/66221046/1485527). \r\n\r\n    Properties properties = new Properties();\r\n\tproperties.load(new FileReader(new File(&quot;.&quot;).getCanonicalPath() + File.separator + &quot;java.properties&quot;));\r\n\tproperties.forEach((k, v) -&gt; {\r\n\t\t\t\tSystem.out.println(k + &quot; : &quot; + v);\r\n\t\t\t});\r\n\r\nMake sure, that `java.properties` is at the `current directory` . You can just write a little startup script that switches into to the right directory in before, like\r\n\r\n    #! /bin/bash\r\n    scriptdir=&quot;$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&amp; pwd )&quot; \r\n    cd $scriptdir\r\n    java -jar MyExecutable.jar\r\n    cd -\r\n\r\nIn your project just put the `java.properties` file in your project root, in order to make this code work from your IDE as well. ","title":"Read properties file outside JAR file","body":"<p>This works for me. Load your properties file from <code>current directory</code>.</p>\n<p><strong>Attention</strong>: The method <code>Properties#load</code> <a href=\"https://stackoverflow.com/a/66221046/1485527\">uses ISO-8859-1 encoding</a>.</p>\n<pre><code>Properties properties = new Properties();\nproperties.load(new FileReader(new File(&quot;.&quot;).getCanonicalPath() + File.separator + &quot;java.properties&quot;));\nproperties.forEach((k, v) -&gt; {\n            System.out.println(k + &quot; : &quot; + v);\n        });\n</code></pre>\n<p>Make sure, that <code>java.properties</code> is at the <code>current directory</code> . You can just write a little startup script that switches into to the right directory in before, like</p>\n<pre><code>#! /bin/bash\nscriptdir=&quot;$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&amp; pwd )&quot; \ncd $scriptdir\njava -jar MyExecutable.jar\ncd -\n</code></pre>\n<p>In your project just put the <code>java.properties</code> file in your project root, in order to make this code work from your IDE as well.</p>\n"},{"tags":[],"owner":{"account_id":6193307,"reputation":57,"user_id":4825422,"display_name":"Sarangz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594161982,"creation_date":1594161071,"answer_id":62784876,"question_id":8775303,"body_markdown":"Here if you mention `.getPath()` then that will return the path of Jar and I guess \r\nyou will need its parent to refer to all other config files placed with the jar.\r\nThis code works on Windows. Add the code within the main class.\r\n\r\n\r\n```\r\nFile jarDir = new File(MyAppName.class.getProtectionDomain().getCodeSource().getLocation().getPath());\r\nString jarDirpath = jarDir.getParent();\r\n\r\nSystem.out.println(jarDirpath);\r\n```\r\n","title":"Read properties file outside JAR file","body":"<p>Here if you mention <code>.getPath()</code> then that will return the path of Jar and I guess\nyou will need its parent to refer to all other config files placed with the jar.\nThis code works on Windows. Add the code within the main class.</p>\n<pre><code>File jarDir = new File(MyAppName.class.getProtectionDomain().getCodeSource().getLocation().getPath());\nString jarDirpath = jarDir.getParent();\n\nSystem.out.println(jarDirpath);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6619736,"reputation":3818,"user_id":5111870,"accept_rate":57,"display_name":"kk."},"score":3,"creation_date":1616581668,"post_id":66778819,"comment_id":118045206,"body_markdown":"Please add some explanation to your answer.","body":"Please add some explanation to your answer."}],"tags":[],"owner":{"account_id":17850552,"reputation":27,"user_id":12966396,"display_name":"Jay dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616580635,"creation_date":1616580635,"answer_id":66778819,"question_id":8775303,"body_markdown":"    File parentFile = new File(&quot;.&quot;);\r\n    String parentPath = file.getCanonicalPath();\r\n    File resourceFile = new File(parentPath+File.seperator+&quot;&lt;your config file&gt;&quot;);\r\n","title":"Read properties file outside JAR file","body":"<pre><code>File parentFile = new File(&quot;.&quot;);\nString parentPath = file.getCanonicalPath();\nFile resourceFile = new File(parentPath+File.seperator+&quot;&lt;your config file&gt;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":461562,"reputation":1584,"user_id":863336,"display_name":"Bipul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690559364,"creation_date":1690559364,"answer_id":76789325,"question_id":8775303,"body_markdown":"One approach would be to add current directory in the classpath of your JAR using following entry in the META-INF/MANIFEST.MF file:\r\n    \r\n    Class-Path: .\r\n\r\nThen following code to load &quot;system.properties&quot; file will work seamlessly:\r\n\r\n    ResourceBundle systemPropertiesBundle = ResourceBundle.getBundle(&quot;system&quot;);\r\n","title":"Read properties file outside JAR file","body":"<p>One approach would be to add current directory in the classpath of your JAR using following entry in the META-INF/MANIFEST.MF file:</p>\n<pre><code>Class-Path: .\n</code></pre>\n<p>Then following code to load &quot;system.properties&quot; file will work seamlessly:</p>\n<pre><code>ResourceBundle systemPropertiesBundle = ResourceBundle.getBundle(&quot;system&quot;);\n</code></pre>\n"}],"owner":{"account_id":388484,"reputation":5939,"user_id":747456,"accept_rate":43,"display_name":"Neil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232685,"favorite_count":0,"down_vote_count":0,"up_vote_count":152,"accepted_answer_id":8777182,"answer_count":9,"score":152,"last_activity_date":1690559364,"creation_date":1325995539,"question_id":8775303,"body_markdown":"I have a JAR file where all my code is archived for running. I have to access a properties file which need to be changed/edited before each run. I want to keep the properties file in the same directory where the JAR file is. Is there anyway to tell Java to pick up the properties file from that directory ?\r\n\r\nNote: I do not want to keep the properties file in home directory or pass the path of the properties file in command line argument. ","title":"Read properties file outside JAR file","body":"<p>I have a JAR file where all my code is archived for running. I have to access a properties file which need to be changed/edited before each run. I want to keep the properties file in the same directory where the JAR file is. Is there anyway to tell Java to pick up the properties file from that directory ?</p>\n\n<p>Note: I do not want to keep the properties file in home directory or pass the path of the properties file in command line argument. </p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1620273590,"post_id":11399491,"comment_id":119153574,"body_markdown":"For new readers to the question I recommend you don’t use `TimeZone`. That class is poorly designed and long outdated. Instead use `ZoneId` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For new readers to the question I recommend you don’t use <code>TimeZone</code>. That class is poorly designed and long outdated. Instead use <code>ZoneId</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":1626829,"reputation":989,"user_id":1502199,"accept_rate":83,"display_name":"Mr Bean"},"score":7,"creation_date":1341853052,"post_id":11399538,"comment_id":15029827,"body_markdown":"Nope, I am interacting with an api, however good or bad it is designed. Let&#39;s not go into that. They require me to send a timezone like hh:mm only.... naff i know.","body":"Nope, I am interacting with an api, however good or bad it is designed. Let&#39;s not go into that. They require me to send a timezone like hh:mm only.... naff i know."},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":3,"creation_date":1341853165,"post_id":11399538,"comment_id":15029878,"body_markdown":"@MrBean: so by coincidence I&#39;ve shown you what to do: if you already have `TimeZone` class, just call `getOffset()` with current date and convert it from milliseconds to minutes. Then format to `hh:mm`.","body":"@MrBean: so by coincidence I&#39;ve shown you what to do: if you already have <code>TimeZone</code> class, just call <code>getOffset()</code> with current date and convert it from milliseconds to minutes. Then format to <code>hh:mm</code>."},{"owner":{"account_id":129624,"reputation":739,"user_id":328327,"accept_rate":78,"display_name":"johnvdenley"},"score":0,"creation_date":1344827737,"post_id":11399538,"comment_id":15885483,"body_markdown":"Great update Tomasz, however, can I ask you to expand a little. I am storing a date in the serverside Database as UTC (obviously) and Im storing my TZ name (in your example &quot;Europe/Oslo&quot;) also in the serverside Database. I want to pass a date back to the client with the correct offset applied, should I (can I?) do that, or do I pass the date and offset separately?\n\nThe problem being that Im using GWT on the client, so Im unable to use java.util.TimeZone and so cannot convert &quot;Europe/Oslo&quot; as com.google.gwt.i18n.shared.TimeZone.createTimeZone(&quot;Europe/Oslo&quot;) doesnt work!!","body":"Great update Tomasz, however, can I ask you to expand a little. I am storing a date in the serverside Database as UTC (obviously) and Im storing my TZ name (in your example &quot;Europe/Oslo&quot;) also in the serverside Database. I want to pass a date back to the client with the correct offset applied, should I (can I?) do that, or do I pass the date and offset separately?  The problem being that Im using GWT on the client, so Im unable to use java.util.TimeZone and so cannot convert &quot;Europe/Oslo&quot; as com.google.gwt.i18n.shared.TimeZone.createTimeZone(&quot;Europe/O&zwnj;&#8203;slo&quot;) doesnt work!!"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1344844995,"post_id":11399538,"comment_id":15889228,"body_markdown":"@johnvdenley: please ask a separate question, feel free to post follow-up link here.","body":"@johnvdenley: please ask a separate question, feel free to post follow-up link here."},{"owner":{"account_id":129624,"reputation":739,"user_id":328327,"accept_rate":78,"display_name":"johnvdenley"},"score":0,"creation_date":1345134152,"post_id":11399538,"comment_id":15990788,"body_markdown":"OK, I did and its here, although looks like the only solution is to convert the time to apply the required timezone on the server, turn it into a string, parse it into a string[] and pass that back to the client...\nhttp://stackoverflow.com/questions/11989219/sending-a-date-and-timezone-from-gae-server-to-gwt-client","body":"OK, I did and its here, although looks like the only solution is to convert the time to apply the required timezone on the server, turn it into a string, parse it into a string[] and pass that back to the client... <a href=\"http://stackoverflow.com/questions/11989219/sending-a-date-and-timezone-from-gae-server-to-gwt-client\" title=\"sending a date and timezone from gae server to gwt client\">stackoverflow.com/questions/11989219/&hellip;</a>"},{"owner":{"account_id":58631,"reputation":2762,"user_id":175510,"display_name":"Jules"},"score":1,"creation_date":1364397786,"post_id":11399538,"comment_id":22229349,"body_markdown":"That was exactly the answer I was looking for, very well presented, thank you!","body":"That was exactly the answer I was looking for, very well presented, thank you!"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":6,"down_vote_count":1,"up_vote_count":122,"is_accepted":true,"score":121,"last_activity_date":1369136794,"creation_date":1341852360,"answer_id":11399538,"question_id":11399491,"body_markdown":"&gt; I need to save the phone&#39;s timezone in the format [+/-]hh:mm\r\n\r\nNo, you don&#39;t. Offset on its own is not enough, you need to store the whole time zone name/id. For example I live in Oslo where my current offset is +02:00 but in winter (due to [tag:dst]) it is +01:00. The exact switch between standard and summer time depends on factors you don&#39;t want to explore.\r\n\r\nSo instead of storing `+ 02:00` (or should it be `+ 01:00`?) I store `&quot;Europe/Oslo&quot;` in my database. Now I can restore full configuration using:\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;Europe/Oslo&quot;)\r\n\r\nWant to know what is my time zone offset today?\r\n\r\n    tz.getOffset(new Date().getTime()) / 1000 / 60   //yields +120 minutes\r\n\r\nHowever the same in December:\r\n\r\n    Calendar christmas = new GregorianCalendar(2012, DECEMBER, 25);\r\n    tz.getOffset(christmas.getTimeInMillis()) / 1000 / 60   //yields +60 minutes\r\n\r\nEnough to say: store time zone name or id and every time you want to display a date, check what is the current offset (today) rather than storing fixed value. You can use [`TimeZone.getAvailableIDs()`](http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs()) to enumerate all supported timezone IDs.","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<blockquote>\n  <p>I need to save the phone's timezone in the format [+/-]hh:mm</p>\n</blockquote>\n\n<p>No, you don't. Offset on its own is not enough, you need to store the whole time zone name/id. For example I live in Oslo where my current offset is +02:00 but in winter (due to <a href=\"/questions/tagged/dst\" class=\"post-tag\" title=\"show questions tagged &#39;dst&#39;\" rel=\"tag\">dst</a>) it is +01:00. The exact switch between standard and summer time depends on factors you don't want to explore.</p>\n\n<p>So instead of storing <code>+ 02:00</code> (or should it be <code>+ 01:00</code>?) I store <code>\"Europe/Oslo\"</code> in my database. Now I can restore full configuration using:</p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"Europe/Oslo\")\n</code></pre>\n\n<p>Want to know what is my time zone offset today?</p>\n\n<pre><code>tz.getOffset(new Date().getTime()) / 1000 / 60   //yields +120 minutes\n</code></pre>\n\n<p>However the same in December:</p>\n\n<pre><code>Calendar christmas = new GregorianCalendar(2012, DECEMBER, 25);\ntz.getOffset(christmas.getTimeInMillis()) / 1000 / 60   //yields +60 minutes\n</code></pre>\n\n<p>Enough to say: store time zone name or id and every time you want to display a date, check what is the current offset (today) rather than storing fixed value. You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs()\" rel=\"noreferrer\"><code>TimeZone.getAvailableIDs()</code></a> to enumerate all supported timezone IDs.</p>\n"},{"tags":[],"owner":{"account_id":2798625,"reputation":891,"user_id":2407335,"display_name":"PuguaSoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1369176790,"creation_date":1369176790,"answer_id":16680815,"question_id":11399491,"body_markdown":"@MrBean - I was in a similar situation where I had to call a 3rd-party web service and pass in the Android device&#39;s current timezone offset in the format +/-hh:mm.  Here is my solution:\r\n\r\n    public static String getCurrentTimezoneOffset() {\r\n    \t\r\n    \tTimeZone tz = TimeZone.getDefault();  \r\n    \tCalendar cal = GregorianCalendar.getInstance(tz);\r\n    \tint offsetInMillis = tz.getOffset(cal.getTimeInMillis());\r\n\r\n    \tString offset = String.format(&quot;%02d:%02d&quot;, Math.abs(offsetInMillis / 3600000), Math.abs((offsetInMillis / 60000) % 60));\r\n    \toffset = (offsetInMillis &gt;= 0 ? &quot;+&quot; : &quot;-&quot;) + offset;\r\n    \t\r\n    \treturn offset;\r\n    } ","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>@MrBean - I was in a similar situation where I had to call a 3rd-party web service and pass in the Android device's current timezone offset in the format +/-hh:mm.  Here is my solution:</p>\n\n<pre><code>public static String getCurrentTimezoneOffset() {\n\n    TimeZone tz = TimeZone.getDefault();  \n    Calendar cal = GregorianCalendar.getInstance(tz);\n    int offsetInMillis = tz.getOffset(cal.getTimeInMillis());\n\n    String offset = String.format(\"%02d:%02d\", Math.abs(offsetInMillis / 3600000), Math.abs((offsetInMillis / 60000) % 60));\n    offset = (offsetInMillis &gt;= 0 ? \"+\" : \"-\") + offset;\n\n    return offset;\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2181414,"reputation":1494,"user_id":1930821,"display_name":"SoloPilot"},"score":2,"creation_date":1508898786,"post_id":43327092,"comment_id":80793188,"body_markdown":"building.getTimeZone().toZoneId().getId() returns the text (like &quot;Europe/Oslo&quot;), not the offset (like &quot;2&quot;)","body":"building.getTimeZone().toZoneId().getId() returns the text (like &quot;Europe/Oslo&quot;), not the offset (like &quot;2&quot;)"}],"tags":[],"owner":{"account_id":8417773,"reputation":440,"user_id":6327772,"accept_rate":100,"display_name":"Crislips"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492121948,"creation_date":1491837702,"answer_id":43327092,"question_id":11399491,"body_markdown":"I know this is old, but I figured I&#39;d give my input. I had to do this for a project at work and this was my solution.\r\n\r\nI have a Building object that includes the Timezone using the TimeZone class and wanted to create zoneId and offset fields in a new class.\r\n\r\nSo what I did was create:\r\n\r\n    private String timeZoneId;\r\n    private String timeZoneOffset;\r\n\r\nThen in the constructor I passed in the Building object and set these fields like so:\r\n\r\n    this.timeZoneId = building.getTimeZone().getID();\r\n    this.timeZoneOffset = building.getTimeZone().toZoneId().getId();\r\n\r\nSo timeZoneId might equal something like &quot;EST&quot;\r\nAnd timeZoneOffset might equal something like &quot;-05:00&quot;\r\n\r\nI would like to not that you might not ","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>I know this is old, but I figured I'd give my input. I had to do this for a project at work and this was my solution.</p>\n\n<p>I have a Building object that includes the Timezone using the TimeZone class and wanted to create zoneId and offset fields in a new class.</p>\n\n<p>So what I did was create:</p>\n\n<pre><code>private String timeZoneId;\nprivate String timeZoneOffset;\n</code></pre>\n\n<p>Then in the constructor I passed in the Building object and set these fields like so:</p>\n\n<pre><code>this.timeZoneId = building.getTimeZone().getID();\nthis.timeZoneOffset = building.getTimeZone().toZoneId().getId();\n</code></pre>\n\n<p>So timeZoneId might equal something like \"EST\"\nAnd timeZoneOffset might equal something like \"-05:00\"</p>\n\n<p>I would like to not that you might not </p>\n"},{"tags":[],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1654220777,"creation_date":1512672652,"answer_id":47701853,"question_id":11399491,"body_markdown":"With Java 8 now, you can use:\r\n\r\n    Integer offset  = ZonedDateTime.now().getOffset().getTotalSeconds();\r\n\r\nto get the current system time offset from UTC. Then you can convert it to any format you want. Found it useful for my case.\r\n\r\nExample: https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>With Java 8 now, you can use:</p>\n<pre><code>Integer offset  = ZonedDateTime.now().getOffset().getTotalSeconds();\n</code></pre>\n<p>to get the current system time offset from UTC. Then you can convert it to any format you want. Found it useful for my case.</p>\n<p>Example: <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html</a></p>\n"},{"comments":[{"owner":{"account_id":2729141,"reputation":1675,"user_id":3901086,"display_name":"Shadab K"},"score":0,"creation_date":1548695986,"post_id":51105483,"comment_id":95625154,"body_markdown":"works only in Android API 26 and above, android users watch out before using","body":"works only in Android API 26 and above, android users watch out before using"},{"owner":{"account_id":20072607,"reputation":165,"user_id":14716989,"display_name":"Kashan Ahmad"},"score":0,"creation_date":1630518198,"post_id":51105483,"comment_id":121980430,"body_markdown":"@ShadabK android users can do the same using ThreeTenABP and it works like a charm.","body":"@ShadabK android users can do the same using ThreeTenABP and it works like a charm."}],"tags":[],"owner":{"account_id":7010328,"reputation":397,"user_id":5373457,"display_name":"Дмитрий Кулешов"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1530287668,"creation_date":1530287668,"answer_id":51105483,"question_id":11399491,"body_markdown":"    ZoneId here = ZoneId.of(&quot;Europe/Kiev&quot;);\r\n    ZonedDateTime hereAndNow = Instant.now().atZone(here);\r\n    String.format(&quot;%tz&quot;, hereAndNow);\r\nwill give you a standardized string representation like &quot;+0300&quot;","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<pre><code>ZoneId here = ZoneId.of(\"Europe/Kiev\");\nZonedDateTime hereAndNow = Instant.now().atZone(here);\nString.format(\"%tz\", hereAndNow);\n</code></pre>\n\n<p>will give you a standardized string representation like \"+0300\"</p>\n"},{"comments":[{"owner":{"account_id":990824,"reputation":395,"user_id":1008197,"display_name":"Richard Stokes"},"score":1,"creation_date":1574748978,"post_id":53390607,"comment_id":104331178,"body_markdown":"you can have timezones that are not in whole hours e.g. Banglore is GMT +5.5 hours\n\nso I not recommend to use the getOffsetHours","body":"you can have timezones that are not in whole hours e.g. Banglore is GMT +5.5 hours  so I not recommend to use the getOffsetHours"},{"owner":{"account_id":4845031,"reputation":3448,"user_id":4307644,"accept_rate":80,"display_name":"MeetTitan"},"score":0,"creation_date":1682990597,"post_id":53390607,"comment_id":134295371,"body_markdown":"@RichardStokes, Don&#39;t round to an int, then. The maths is right, even if you need a time zone offset that cannot be represented as an integer.","body":"@RichardStokes, Don&#39;t round to an int, then. The maths is right, even if you need a time zone offset that cannot be represented as an integer."}],"tags":[],"owner":{"account_id":4845031,"reputation":3448,"user_id":4307644,"accept_rate":80,"display_name":"MeetTitan"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583565271,"creation_date":1542708453,"answer_id":53390607,"question_id":11399491,"body_markdown":"We can easily get the millisecond offset of a `TimeZone` with only a `TimeZone` instance and `System.currentTimeMillis()`. Then we can convert from milliseconds to any time unit of choice using the `TimeUnit` class.\r\n\r\nLike so:\r\n\r\n    public static int getOffsetHours(TimeZone timeZone) {\r\n        return (int) TimeUnit.MILLISECONDS.toHours(timeZone.getOffset(System.currentTimeMillis()));\r\n    }\r\n\r\n*Or if you prefer the new Java 8 time API*\r\n\r\n    public static ZoneOffset getOffset(TimeZone timeZone) { //for using ZoneOffsett class\r\n        ZoneId zi = timeZone.toZoneId();\r\n        ZoneRules zr = zi.getRules();\r\n        return zr.getOffset(LocalDateTime.now());\r\n    }\r\n\r\n    public static int getOffsetHours(TimeZone timeZone) { //just hour offset\r\n        ZoneOffset zo = getOffset(timeZone);\r\n        TimeUnit.SECONDS.toHours(zo.getTotalSeconds());\r\n    }\r\n","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>We can easily get the millisecond offset of a <code>TimeZone</code> with only a <code>TimeZone</code> instance and <code>System.currentTimeMillis()</code>. Then we can convert from milliseconds to any time unit of choice using the <code>TimeUnit</code> class.</p>\n\n<p>Like so:</p>\n\n<pre><code>public static int getOffsetHours(TimeZone timeZone) {\n    return (int) TimeUnit.MILLISECONDS.toHours(timeZone.getOffset(System.currentTimeMillis()));\n}\n</code></pre>\n\n<p><em>Or if you prefer the new Java 8 time API</em></p>\n\n<pre><code>public static ZoneOffset getOffset(TimeZone timeZone) { //for using ZoneOffsett class\n    ZoneId zi = timeZone.toZoneId();\n    ZoneRules zr = zi.getRules();\n    return zr.getOffset(LocalDateTime.now());\n}\n\npublic static int getOffsetHours(TimeZone timeZone) { //just hour offset\n    ZoneOffset zo = getOffset(timeZone);\n    TimeUnit.SECONDS.toHours(zo.getTotalSeconds());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1690533104,"post_id":57953711,"comment_id":135370066,"body_markdown":"Note this answer gives the ID of the timezone.  Use `.getRules().getOffset(Instant.now())` for the current offset. Also check [@ArvindKumarAvinash&#39;s answer](https://stackoverflow.com/a/67409440/48136) / [voidMainReturn&#39;s answer](https://stackoverflow.com/a/47701853/48136) for alternative way.","body":"Note this answer gives the ID of the timezone.  Use <code>.getRules().getOffset(Instant.now())</code> for the current offset. Also check <a href=\"https://stackoverflow.com/a/67409440/48136\">@ArvindKumarAvinash&#39;s answer</a> / <a href=\"https://stackoverflow.com/a/47701853/48136\">voidMainReturn&#39;s answer</a> for alternative way."}],"tags":[],"owner":{"account_id":5484031,"reputation":421,"user_id":4359454,"display_name":"SuN"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1690559332,"creation_date":1568625292,"answer_id":57953711,"question_id":11399491,"body_markdown":"With Java 8, you can achieve this with the following code.\r\n\r\n* To get the Zone offset\r\n\r\n   ```java\r\n    TimeZone tz = TimeZone.getDefault();\r\n    String offsetId = tz.toZoneId().getRules().getStandardOffset(Instant.now()).getId();\r\n    ```\r\n\r\n    and the `offsetId` will be something like `+01:00`.\r\n\r\n    Note `ZoneRules::getStandardOffset` give you the offset of the zone ID prior _Daylight Saving Time_ gets applied, since the offset of the zone ID may have changed over time, as the Javadoc mention.\r\n\r\n    &gt; Gets the standard offset for the specified instant in this zone.\r\nThis provides access to historic information on how the standard offset has changed over time. The standard offset is the offset before any daylight saving time is applied. This is typically the offset applicable during winter.\r\n\r\n\r\n* To get the current offset with DST\r\n\r\n    ```java\r\n    TimeZone.getDefault().toZoneId().getRules().getOffset(Instant.now()).getId()\r\n    ```\r\n\r\n    The returned identifier will return the actual offset for this zone.\r\n\r\n    &gt; Gets the offset applicable at the specified instant in these rules.\r\nThe mapping from an instant to an offset is simple, there is only one valid offset for each instant. This method returns that offset.\r\n\r\nThe way the functions `ZoneRules::getStandardOffset` / `ZoneRules::getOffset` work, i.e. they needs an `Instant` as parameter is because the specific time point is needed to compute the offset for this zone. Because the rule for this zone may change over time.\r\n\r\nFor example a _zone_ may have changed its TimeZone, like [_Samoa in 2011_](https://www.nytimes.com/2011/12/30/world/asia/samoa-to-skip-friday-and-switch-time-zones.html). Or countries that change their daylight saving time policies, like South Korea or Japan did in the past, maybe some countries in Europe in the future.\r\n\r\nIt is the reason why [@Tomasz Nurkiewicz&#39;s answer](https://stackoverflow.com/a/11399538/48136) recommends to **not store offset in signed hour format** directly, but make the code computes the offset each time it is needed.\r\n\r\n**Other APIs**\r\n\r\n```java\r\nZoneId.systemDefault().getRules().getStandardOffset(Instant.now())\r\nZoneId.systemDefault().getRules().getOffset(Instant.now())\r\n// ZonedDateTime don&#39;t expose the standard offset (i.e without DST)\r\nZonedDateTime.now().getOffset()\r\n```\r\n\r\n**References**\r\n* The timezone rules as maintained in [timezone database](https://en.wikipedia.org/wiki/Tz_database) (used by almost every software system). It is also known as the _Olson database_.\r\n* [W3&#39;s Working With Time Zones](https://www.w3.org/International/wiki/WorkingWithTimeZones)","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>With Java 8, you can achieve this with the following code.</p>\n<ul>\n<li><p>To get the Zone offset</p>\n<pre class=\"lang-java prettyprint-override\"><code>  TimeZone tz = TimeZone.getDefault();\n  String offsetId = tz.toZoneId().getRules().getStandardOffset(Instant.now()).getId();\n</code></pre>\n<p>and the <code>offsetId</code> will be something like <code>+01:00</code>.</p>\n<p>Note <code>ZoneRules::getStandardOffset</code> give you the offset of the zone ID prior <em>Daylight Saving Time</em> gets applied, since the offset of the zone ID may have changed over time, as the Javadoc mention.</p>\n<blockquote>\n<p>Gets the standard offset for the specified instant in this zone.\nThis provides access to historic information on how the standard offset has changed over time. The standard offset is the offset before any daylight saving time is applied. This is typically the offset applicable during winter.</p>\n</blockquote>\n</li>\n<li><p>To get the current offset with DST</p>\n<pre class=\"lang-java prettyprint-override\"><code>TimeZone.getDefault().toZoneId().getRules().getOffset(Instant.now()).getId()\n</code></pre>\n<p>The returned identifier will return the actual offset for this zone.</p>\n<blockquote>\n<p>Gets the offset applicable at the specified instant in these rules.\nThe mapping from an instant to an offset is simple, there is only one valid offset for each instant. This method returns that offset.</p>\n</blockquote>\n</li>\n</ul>\n<p>The way the functions <code>ZoneRules::getStandardOffset</code> / <code>ZoneRules::getOffset</code> work, i.e. they needs an <code>Instant</code> as parameter is because the specific time point is needed to compute the offset for this zone. Because the rule for this zone may change over time.</p>\n<p>For example a <em>zone</em> may have changed its TimeZone, like <a href=\"https://www.nytimes.com/2011/12/30/world/asia/samoa-to-skip-friday-and-switch-time-zones.html\" rel=\"nofollow noreferrer\"><em>Samoa in 2011</em></a>. Or countries that change their daylight saving time policies, like South Korea or Japan did in the past, maybe some countries in Europe in the future.</p>\n<p>It is the reason why <a href=\"https://stackoverflow.com/a/11399538/48136\">@Tomasz Nurkiewicz's answer</a> recommends to <strong>not store offset in signed hour format</strong> directly, but make the code computes the offset each time it is needed.</p>\n<p><strong>Other APIs</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId.systemDefault().getRules().getStandardOffset(Instant.now())\nZoneId.systemDefault().getRules().getOffset(Instant.now())\n// ZonedDateTime don't expose the standard offset (i.e without DST)\nZonedDateTime.now().getOffset()\n</code></pre>\n<p><strong>References</strong></p>\n<ul>\n<li>The timezone rules as maintained in <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\">timezone database</a> (used by almost every software system). It is also known as the <em>Olson database</em>.</li>\n<li><a href=\"https://www.w3.org/International/wiki/WorkingWithTimeZones\" rel=\"nofollow noreferrer\">W3's Working With Time Zones</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1690533213,"post_id":67409440,"comment_id":135370086,"body_markdown":"Note this answer gives the current offset, but if you need the timezone id better use [@Sun&#39;s answer](https://stackoverflow.com/a/57953711/48136).","body":"Note this answer gives the current offset, but if you need the timezone id better use <a href=\"https://stackoverflow.com/a/57953711/48136\">@Sun&#39;s answer</a>."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620253120,"creation_date":1620253120,"answer_id":67409440,"question_id":11399491,"body_markdown":"# *`java.time`: the modern date-time API*\r\n\r\nYou can get the offset of a timezone using [`ZonedDateTime#getOffset`][1].\r\n\r\nNote that the offset of a timezone that observes [DST][2] changes as per the changes in DST. For other places (e.g. India), it remains fixed. Therefore, it is recommended to mention the moment when the offset of a timezone is shown. A moment is mentioned as `Instant.now()` and it represents the date-time in UTC (represented by `Z` which stands for Zulu and specifies the timezone offset of `+00:00` hours).\r\n\r\n**Display offset of all timezones returned by `ZoneId.getAvailableZoneIds()`:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tInstant instant = Instant.now();\r\n    \t\tSystem.out.println(&quot;Timezone offset at &quot; + instant);\r\n    \t\tSystem.out.println(&quot;==============================================&quot;);\r\n    \t\tZoneId.getAvailableZoneIds()\r\n    \t\t\t.stream()\r\n    \t\t\t.sorted()\r\n    \t\t\t.forEach(strZoneId -&gt; System.out.printf(&quot;%-35s: %-6s%n&quot;,\r\n    \t\t\t\tstrZoneId, getTzOffsetString(ZoneId.of(strZoneId), instant)));\r\n    \t}\r\n    \r\n    \tstatic String getTzOffsetString(ZoneId zoneId, Instant instant) {\r\n    \t\treturn ZonedDateTime.ofInstant(instant, zoneId).getOffset().toString();\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Timezone offset at 2021-05-05T21:45:34.150901Z\r\n    ==============================================\r\n    Africa/Abidjan                     : Z     \r\n    Africa/Accra                       : Z     \r\n    Africa/Addis_Ababa                 : +03:00\r\n    ...\r\n    ...\r\n    ...    \r\n    W-SU                               : +03:00\r\n    WET                                : +01:00\r\n    Zulu                               : Z  \r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#getOffset--\r\n  [2]: https://en.wikipedia.org/wiki/Daylight_saving_time","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<h1><em><code>java.time</code>: the modern date-time API</em></h1>\n<p>You can get the offset of a timezone using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#getOffset--\" rel=\"noreferrer\"><code>ZonedDateTime#getOffset</code></a>.</p>\n<p>Note that the offset of a timezone that observes <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">DST</a> changes as per the changes in DST. For other places (e.g. India), it remains fixed. Therefore, it is recommended to mention the moment when the offset of a timezone is shown. A moment is mentioned as <code>Instant.now()</code> and it represents the date-time in UTC (represented by <code>Z</code> which stands for Zulu and specifies the timezone offset of <code>+00:00</code> hours).</p>\n<p><strong>Display offset of all timezones returned by <code>ZoneId.getAvailableZoneIds()</code>:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        Instant instant = Instant.now();\n        System.out.println(&quot;Timezone offset at &quot; + instant);\n        System.out.println(&quot;==============================================&quot;);\n        ZoneId.getAvailableZoneIds()\n            .stream()\n            .sorted()\n            .forEach(strZoneId -&gt; System.out.printf(&quot;%-35s: %-6s%n&quot;,\n                strZoneId, getTzOffsetString(ZoneId.of(strZoneId), instant)));\n    }\n\n    static String getTzOffsetString(ZoneId zoneId, Instant instant) {\n        return ZonedDateTime.ofInstant(instant, zoneId).getOffset().toString();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Timezone offset at 2021-05-05T21:45:34.150901Z\n==============================================\nAfrica/Abidjan                     : Z     \nAfrica/Accra                       : Z     \nAfrica/Addis_Ababa                 : +03:00\n...\n...\n...    \nW-SU                               : +03:00\nWET                                : +01:00\nZulu                               : Z  \n</code></pre>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"noreferrer\">modern date-time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":1626829,"reputation":989,"user_id":1502199,"accept_rate":83,"display_name":"Mr Bean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187709,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":11399538,"answer_count":8,"score":65,"last_activity_date":1690559332,"creation_date":1341852204,"question_id":11399491,"body_markdown":"I need to save the phone&#39;s timezone in the format [+/-]hh:mm\r\n\r\nI am using TimeZone class to deal with this, but the only format I can get is the following:\r\n\r\n    PST -05:00\r\n    GMT +02:00\r\n\r\nI would rather not substring the result, is there any key or option flag I can set to only get the value and not the name of that timezone (GMT/CET/PST...)?","title":"Get TimeZone offset value from TimeZone without TimeZone name","body":"<p>I need to save the phone's timezone in the format [+/-]hh:mm</p>\n\n<p>I am using TimeZone class to deal with this, but the only format I can get is the following:</p>\n\n<pre><code>PST -05:00\nGMT +02:00\n</code></pre>\n\n<p>I would rather not substring the result, is there any key or option flag I can set to only get the value and not the name of that timezone (GMT/CET/PST...)?</p>\n"},{"tags":["java","antlr4"],"answers":[{"comments":[{"owner":{"account_id":29111640,"reputation":1,"user_id":22301285,"display_name":"Iain Young"},"score":0,"creation_date":1690631655,"post_id":76789308,"comment_id":135382405,"body_markdown":"Thanks, I did consider that, but the AST being generated from the parse will be used for syntax highlighting, so I think removing code and splicing lines will make it a problem for maintaining locations of the tokens etc. Definitely worth thinking about though.","body":"Thanks, I did consider that, but the AST being generated from the parse will be used for syntax highlighting, so I think removing code and splicing lines will make it a problem for maintaining locations of the tokens etc. Definitely worth thinking about though."}],"tags":[],"owner":{"account_id":1156784,"reputation":50192,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690559251,"creation_date":1690559251,"answer_id":76789308,"question_id":76788748,"body_markdown":"I had a similar task to accomplish (parsing C header files) where continuation, stringizing etc. are common things and my approach was to implement a preprocessor which handled source lines first, e.g. it spliced lines where a line continuation character was found. With the result of this it was pretty straight forward to do normal parsing.\r\n\r\nSo I&#39;d recommend to do such a line base preprocessing step, where your remove line end comments and after that splice split lines. Then feed this text to your parser, which can then be much simpler than what it must be if it was to handle also the line based tasks.","title":"ANTLR4 : lexing keywords that can be split over lines","body":"<p>I had a similar task to accomplish (parsing C header files) where continuation, stringizing etc. are common things and my approach was to implement a preprocessor which handled source lines first, e.g. it spliced lines where a line continuation character was found. With the result of this it was pretty straight forward to do normal parsing.</p>\n<p>So I'd recommend to do such a line base preprocessing step, where your remove line end comments and after that splice split lines. Then feed this text to your parser, which can then be much simpler than what it must be if it was to handle also the line based tasks.</p>\n"}],"owner":{"account_id":29111640,"reputation":1,"user_id":22301285,"display_name":"Iain Young"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690559251,"creation_date":1690554713,"question_id":76788748,"body_markdown":"I am trying to get a parser working for the IBM BMS language, and have hit a problem. In this language, certain things have to go in certain columns, and if they are too long to fit, then you can put a &quot;continuation character&quot; in column 72 to indicate that the content continues on the next line. Characters after column 72 should be ignored (they are essentially comments). So a line can look like this...\r\n\r\n         DFHMDF POS=(3,39),LENGTH=9,INITIAL=&#39;VERSION :&#39;,ATTRB=(ASKIP,NO*00000250\r\n               RM)                                                      00000260\r\n\r\n...and it should parse the attribute as &quot;ATTRB=(ASKIP,NORM)&quot;. I need the lexer to emit &quot;NORM&quot; as a single token. Note that this split can take place in any part of any keyword (and there are a lot of them). \r\n\r\nI just wondered if anyone has got any ideas (or pointers to docs) as to the best way of approaching this problem using Antlr4. I have a separate lexer and parser grammar and I&#39;ve had some limited success playing with the lexer, but it&#39;s getting very messy very quickly. \r\n\r\nI&#39;m no antlr4 expert, but everything I&#39;ve been reading so far seems to suggest that this sort of thing is not easily done using this sort of parser (I&#39;m beginning to wonder whether I need to hand craft something instead).","title":"ANTLR4 : lexing keywords that can be split over lines","body":"<p>I am trying to get a parser working for the IBM BMS language, and have hit a problem. In this language, certain things have to go in certain columns, and if they are too long to fit, then you can put a &quot;continuation character&quot; in column 72 to indicate that the content continues on the next line. Characters after column 72 should be ignored (they are essentially comments). So a line can look like this...</p>\n<pre><code>     DFHMDF POS=(3,39),LENGTH=9,INITIAL='VERSION :',ATTRB=(ASKIP,NO*00000250\n           RM)                                                      00000260\n</code></pre>\n<p>...and it should parse the attribute as &quot;ATTRB=(ASKIP,NORM)&quot;. I need the lexer to emit &quot;NORM&quot; as a single token. Note that this split can take place in any part of any keyword (and there are a lot of them).</p>\n<p>I just wondered if anyone has got any ideas (or pointers to docs) as to the best way of approaching this problem using Antlr4. I have a separate lexer and parser grammar and I've had some limited success playing with the lexer, but it's getting very messy very quickly.</p>\n<p>I'm no antlr4 expert, but everything I've been reading so far seems to suggest that this sort of thing is not easily done using this sort of parser (I'm beginning to wonder whether I need to hand craft something instead).</p>\n"},{"tags":["java","oracle","function","return-value"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1406094931,"post_id":24902849,"comment_id":38687462,"body_markdown":"A SQL query? What have you tried, and where are you stuck?","body":"A SQL query? What have you tried, and where are you stuck?"},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1406095048,"post_id":24902849,"comment_id":38687511,"body_markdown":"hi @ErwinBolwidt, started server, will post the stacktrace in few minutes.","body":"hi @ErwinBolwidt, started server, will post the stacktrace in few minutes."},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1406095462,"post_id":24902849,"comment_id":38687652,"body_markdown":"@ErwinBolwidt, could you look at the edit now??","body":"@ErwinBolwidt, could you look at the edit now??"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1406095580,"post_id":24902849,"comment_id":38687699,"body_markdown":"Better, but we need to know what the error/exception is that you&#39;re getting. None of us can run this, since we don&#39;t have your database (which is understandable in this situation) but that means that we can&#39;t tell where this code goes wrong.","body":"Better, but we need to know what the error/exception is that you&#39;re getting. None of us can run this, since we don&#39;t have your database (which is understandable in this situation) but that means that we can&#39;t tell where this code goes wrong."},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1406095847,"post_id":24902849,"comment_id":38687817,"body_markdown":"@ErwinBolwidt updated with exception i get, thanks","body":"@ErwinBolwidt updated with exception i get, thanks"},{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1406095880,"post_id":24902849,"comment_id":38687830,"body_markdown":"What you are doing is you are trying to pass a native query to HQL. Hibernate will not recognize your query. If you want to use native queries you should use session.createSQLQuery(&quot;select....&quot;).","body":"What you are doing is you are trying to pass a native query to HQL. Hibernate will not recognize your query. If you want to use native queries you should use session.createSQLQuery(&quot;select....&quot;)."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1406096334,"post_id":24902849,"comment_id":38687989,"body_markdown":"possible duplicate of [How to call a Oracle function from hibernate with return parameter?](http://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter\">How to call a Oracle function from hibernate with return parameter?</a>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1406096465,"post_id":24902849,"comment_id":38688044,"body_markdown":"Duplicate was found by @NinadPingale - your problem is really what is described in that question. You are sending a raw SQL query to a hibernate function that only accepts HQL. The duplicate describes how to issue a raw SQL function call in combination with Hibernate.","body":"Duplicate was found by @NinadPingale - your problem is really what is described in that question. You are sending a raw SQL query to a hibernate function that only accepts HQL. The duplicate describes how to issue a raw SQL function call in combination with Hibernate."}],"answers":[{"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1406095520,"creation_date":1406095035,"answer_id":24902903,"question_id":24902849,"body_markdown":"There are actually multiple ways of doing so. But the easiest of them all is firing a query.\r\nHere&#39;s how to do it.\r\n\r\n    String sql=&quot;select myFunction(&#39;&quot;+number+&quot;&#39;,&#39;&quot;+date&quot;&#39;) from dual&quot;;\r\n    statement.execute(sql);\r\n\r\nSet the input and output parameters if you are using JDBC.\r\n\r\nIf you are using hibernate use Named Queries something like this:\r\n**YourMapping.hbm.xml**\r\n\r\n    &lt;sql-query name=&quot;my_function&quot; callable=&quot;true&quot;&gt;\r\n    &lt;return alias=&quot;demo&quot; class=&quot;net.bean.Demo&quot;&gt;\r\n    &lt;return-property name=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n    &lt;return-property name=&quot;fname&quot; column=&quot;fname&quot;/&gt;\r\n    &lt;return-property name=&quot;lname&quot; column=&quot;lname&quot;/&gt;\r\n    &lt;/return&gt;\r\n        {?=call demoFunc(:param1,:param2)}\r\n    &lt;/sql-query&gt;\r\n\r\nNow this will create a Named Query for the function\r\n\r\nNext thing to do is simply call it using following code\r\n\r\n    Query query=session.getNamedQuery(&quot;my_function&quot;);\r\n    query.setParameter(&quot;parma1&quot;,date);\r\n    query.setParameter(&quot;parma2&quot;,number);\r\n    query.executeUpdate();\r\n\r\nNote that in hbm.xml file the return class name and properties exists only apply if you have mapped the returning values if the function returning appropriate values.","title":"How to call oracle function from java","body":"<p>There are actually multiple ways of doing so. But the easiest of them all is firing a query.\nHere's how to do it.</p>\n\n<pre><code>String sql=\"select myFunction('\"+number+\"','\"+date\"') from dual\";\nstatement.execute(sql);\n</code></pre>\n\n<p>Set the input and output parameters if you are using JDBC.</p>\n\n<p>If you are using hibernate use Named Queries something like this:\n<strong>YourMapping.hbm.xml</strong></p>\n\n<pre><code>&lt;sql-query name=\"my_function\" callable=\"true\"&gt;\n&lt;return alias=\"demo\" class=\"net.bean.Demo\"&gt;\n&lt;return-property name=\"id\" column=\"id\"/&gt;\n&lt;return-property name=\"fname\" column=\"fname\"/&gt;\n&lt;return-property name=\"lname\" column=\"lname\"/&gt;\n&lt;/return&gt;\n    {?=call demoFunc(:param1,:param2)}\n&lt;/sql-query&gt;\n</code></pre>\n\n<p>Now this will create a Named Query for the function</p>\n\n<p>Next thing to do is simply call it using following code</p>\n\n<pre><code>Query query=session.getNamedQuery(\"my_function\");\nquery.setParameter(\"parma1\",date);\nquery.setParameter(\"parma2\",number);\nquery.executeUpdate();\n</code></pre>\n\n<p>Note that in hbm.xml file the return class name and properties exists only apply if you have mapped the returning values if the function returning appropriate values.</p>\n"},{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1406095086,"creation_date":1406095086,"answer_id":24902915,"question_id":24902849,"body_markdown":"Use `session.doWork` from hibernate.\r\n\r\nhttps://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter\r\n\r\nFrom `Oracle documentation` -\r\n\r\nhttp://docs.oracle.com/cd/F49540_01/DOC/java.815/a64686/04_call5.htm\r\n\r\n    FUNCTION balance (acct_id NUMBER) RETURN NUMBER IS\r\n      acct_bal NUMBER;\r\n    BEGIN\r\n      SELECT bal INTO acct_bal FROM accts\r\n        WHERE acct_no = acct_id;\r\n      RETURN acct_bal;\r\n    END;\r\n\r\nFrom a JDBC program, your call to the function balance might look like this:\r\n\r\n    CallableStatement cstmt = conn.prepareCall(&quot;{? = CALL balance(?)}&quot;);\r\n    cstmt.registerOutParameter(1, Types.FLOAT);\r\n    cstmt.setInt(2, acctNo);\r\n    cstmt.executeUpdate();\r\n    float acctBal = cstmt.getFloat(1);","title":"How to call oracle function from java","body":"<p>Use <code>session.doWork</code> from hibernate.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1703351/how-to-call-a-oracle-function-from-hibernate-with-return-parameter\">How to call a Oracle function from hibernate with return parameter?</a></p>\n\n<p>From <code>Oracle documentation</code> -</p>\n\n<p><a href=\"http://docs.oracle.com/cd/F49540_01/DOC/java.815/a64686/04_call5.htm\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/F49540_01/DOC/java.815/a64686/04_call5.htm</a></p>\n\n<pre><code>FUNCTION balance (acct_id NUMBER) RETURN NUMBER IS\n  acct_bal NUMBER;\nBEGIN\n  SELECT bal INTO acct_bal FROM accts\n    WHERE acct_no = acct_id;\n  RETURN acct_bal;\nEND;\n</code></pre>\n\n<p>From a JDBC program, your call to the function balance might look like this:</p>\n\n<pre><code>CallableStatement cstmt = conn.prepareCall(\"{? = CALL balance(?)}\");\ncstmt.registerOutParameter(1, Types.FLOAT);\ncstmt.setInt(2, acctNo);\ncstmt.executeUpdate();\nfloat acctBal = cstmt.getFloat(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4670392,"reputation":300,"user_id":3801222,"accept_rate":56,"display_name":"AtmiyaDas2014"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406095117,"creation_date":1406095117,"answer_id":24902921,"question_id":24902849,"body_markdown":"oracle function:\r\n\r\n    FUNCTION ap_ch_get_acct_balances (VAR_PI_MOB_NO_ACCT_NO VARCHAR2,\r\n    VAR_REPLY_CODE OUT NUMBER, VAR_EXT_RESPONSE OUT VARCHAR2, VAR_PO_ACC_BAL OUT CHAR,\r\n    VAR_PO_ACCT_NO OUT CHAR)  \r\n\r\ncall in java:\r\n\r\n    String call = &quot;{ ? = call FCRLIVE.AP_CH_GET_ACCT_BALANCES(?, ?, ?, ?, ?) }&quot;; ","title":"How to call oracle function from java","body":"<p>oracle function:</p>\n\n<pre><code>FUNCTION ap_ch_get_acct_balances (VAR_PI_MOB_NO_ACCT_NO VARCHAR2,\nVAR_REPLY_CODE OUT NUMBER, VAR_EXT_RESPONSE OUT VARCHAR2, VAR_PO_ACC_BAL OUT CHAR,\nVAR_PO_ACCT_NO OUT CHAR)  \n</code></pre>\n\n<p>call in java:</p>\n\n<pre><code>String call = \"{ ? = call FCRLIVE.AP_CH_GET_ACCT_BALANCES(?, ?, ?, ?, ?) }\"; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":375888,"reputation":309,"user_id":726982,"accept_rate":0,"display_name":"cmg_george"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690558714,"creation_date":1406095434,"answer_id":24902983,"question_id":24902849,"body_markdown":"You can use CallableStatement\r\n\r\n    String sql=&quot;begin ? := aaaa.function(?,?); end;&quot;;\r\n    CallableStatement stmt = connection.prepareCall(sql);\r\n    stmt.registerOutParameter(1, OracleTypes.BOOLEAN);\r\n    stmt.setInt(2, number);\r\n    stmt.setTimestamp(3, date);\r\n    stmt.execute();\r\n\r\nAfter that you can read the returned value with:\r\n\r\n    stmt.getBoolean(1)","title":"How to call oracle function from java","body":"<p>You can use CallableStatement</p>\n<pre><code>String sql=&quot;begin ? := aaaa.function(?,?); end;&quot;;\nCallableStatement stmt = connection.prepareCall(sql);\nstmt.registerOutParameter(1, OracleTypes.BOOLEAN);\nstmt.setInt(2, number);\nstmt.setTimestamp(3, date);\nstmt.execute();\n</code></pre>\n<p>After that you can read the returned value with:</p>\n<pre><code>stmt.getBoolean(1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5077546,"reputation":1,"user_id":4074531,"display_name":"Suneel Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663926276,"creation_date":1663926235,"answer_id":73825850,"question_id":24902849,"body_markdown":"// Oracle Function \r\n\r\n    create or replace function addtwono(a in number, b in number) return varchar2 is\r\n    Result varchar2(10);\r\n    begin\r\n    result:= a + b;\r\n    --c:= result;\r\n    return(&#39;SUCCESS&#39;);\r\n    end ;\r\n\r\n    // Java Code ==========================================\r\n    String query = &quot;begin ? := user.addtwono(?,?); end;&quot;;\r\n    CallableStatement st = connection.prepareCall(query);\r\n    st.registerOutParameter(1, OracleTypes.VARCHAR);\r\n    st.setInt(2, 10);\r\n    st.setInt(3, 15);\r\n    st.execute();\r\n    String rtn = st.getString(1);","title":"How to call oracle function from java","body":"<p>// Oracle Function</p>\n<pre><code>create or replace function addtwono(a in number, b in number) return varchar2 is\nResult varchar2(10);\nbegin\nresult:= a + b;\n--c:= result;\nreturn('SUCCESS');\nend ;\n\n// Java Code ==========================================\nString query = &quot;begin ? := user.addtwono(?,?); end;&quot;;\nCallableStatement st = connection.prepareCall(query);\nst.registerOutParameter(1, OracleTypes.VARCHAR);\nst.setInt(2, 10);\nst.setInt(3, 15);\nst.execute();\nString rtn = st.getString(1);\n</code></pre>\n"}],"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20651,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1690558714,"creation_date":1406094761,"question_id":24902849,"body_markdown":"How to call oracle function from java?.\r\n\r\nI have a oracle function aaa.fucntion(number,date);, this method returns true or false. how do call this from java and get the returned value?\r\n\r\nI am using `Hibernate`\r\n\r\nthis is what i tried,\r\n\r\n    Session session = null;\r\n    \t\t\tString associateHistorySQL=&quot;&quot;;\r\n    \t\t\t \r\n    \t\t\ttry {\r\n    \t\t\t\tsession = HibernateUtil.currentSession();\r\n    \t\t\t\t\r\n    \t\t\t\tassociateHistorySQL = &quot;SELECT aa.myFunction(:aorId,:givenDate) from dual&quot;;\r\n    \r\n    \t\t\t\tQuery associateHistoryQuery = session.createQuery(associateHistorySQL);\r\n    \t\t\t\t\r\n    \t\t\t\tassociateHistoryQuery.setParameter(&quot;aorId&quot;, associateOfficeRecordId);\r\n    \t\t\t\tassociateHistoryQuery.setParameter(&quot;givenDate&quot;, date);\r\n    \t\t\t\t\r\n    \t\t\t\tList associateHistoryList = associateHistoryQuery.list();\r\n    \t\t\t\t\r\n    \t\t\t\tif (associateHistoryList != null &amp;&amp; associateHistoryList.size() &gt; 0 &amp;&amp; new Integer(associateHistoryQuery.uniqueResult().toString()) &gt; 0)\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\telse\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t} finally {\r\n    \t\t\t\tHibernateUtil.cleanUpHibernateFromDao(false);\r\n    \t\t\t}\r\n\r\nThis is the exception i get `unexpected token: aa: line 1:1: unexpected token: aa`\r\n\r\nthanks","title":"How to call oracle function from java","body":"<p>How to call oracle function from java?.</p>\n\n<p>I have a oracle function aaa.fucntion(number,date);, this method returns true or false. how do call this from java and get the returned value?</p>\n\n<p>I am using <code>Hibernate</code></p>\n\n<p>this is what i tried,</p>\n\n<pre><code>Session session = null;\n            String associateHistorySQL=\"\";\n\n            try {\n                session = HibernateUtil.currentSession();\n\n                associateHistorySQL = \"SELECT aa.myFunction(:aorId,:givenDate) from dual\";\n\n                Query associateHistoryQuery = session.createQuery(associateHistorySQL);\n\n                associateHistoryQuery.setParameter(\"aorId\", associateOfficeRecordId);\n                associateHistoryQuery.setParameter(\"givenDate\", date);\n\n                List associateHistoryList = associateHistoryQuery.list();\n\n                if (associateHistoryList != null &amp;&amp; associateHistoryList.size() &gt; 0 &amp;&amp; new Integer(associateHistoryQuery.uniqueResult().toString()) &gt; 0)\n                    return true;\n                else\n                    return false;\n            } finally {\n                HibernateUtil.cleanUpHibernateFromDao(false);\n            }\n</code></pre>\n\n<p>This is the exception i get <code>unexpected token: aa: line 1:1: unexpected token: aa</code></p>\n\n<p>thanks</p>\n"},{"tags":["java","swing","user-interface","graphics","draw"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1612430303,"post_id":66042505,"comment_id":116765991,"body_markdown":"It&#39;s usually better to override `paintComponent` on a JPanel and add the panel to the frame. Also you might want to move down the string, because currently it will be off the top of the frame.","body":"It&#39;s usually better to override <code>paintComponent</code> on a JPanel and add the panel to the frame. Also you might want to move down the string, because currently it will be off the top of the frame."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1612433961,"post_id":66042505,"comment_id":116767736,"body_markdown":"Change `g.drawString(&quot;Hello&quot;, 10, 10);` to `g.drawString(&quot;Hello&quot;, 10, 40);` &amp; the problem might start to make sense..","body":"Change <code>g.drawString(&quot;Hello&quot;, 10, 10);</code> to <code>g.drawString(&quot;Hello&quot;, 10, 40);</code> &amp; the problem might start to make sense.."}],"answers":[{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612507528,"creation_date":1612455743,"answer_id":66049663,"question_id":66042505,"body_markdown":"When using `Graphics` class to draw anything to the `Component`, you should know one important thing:\r\n\r\nWhile `drawRect(int x, int y, int width, int height)` method the `x` and `y` are the &lt;b&gt;top-left&lt;/b&gt; corner, in the `drawString(String s, int x, int y)` the `x` and `y` are the &lt;b&gt;bottom-left&lt;/b&gt; corner.\r\n\r\nIn addition, when you draw anything in a `JFrame`, the position start on the top-left corner on the title of the `JFrame`, so the first paintable pixel is in point (~8, \r\n~28), this is different in every operating-system.","title":"Graphics.drawString() doesnt draw anything on the screen","body":"<p>When using <code>Graphics</code> class to draw anything to the <code>Component</code>, you should know one important thing:</p>\n<p>While <code>drawRect(int x, int y, int width, int height)</code> method the <code>x</code> and <code>y</code> are the <b>top-left</b> corner, in the <code>drawString(String s, int x, int y)</code> the <code>x</code> and <code>y</code> are the <b>bottom-left</b> corner.</p>\n<p>In addition, when you draw anything in a <code>JFrame</code>, the position start on the top-left corner on the title of the <code>JFrame</code>, so the first paintable pixel is in point (~8,\n~28), this is different in every operating-system.</p>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690558578,"creation_date":1690558578,"answer_id":76789232,"question_id":66042505,"body_markdown":"Instead of drawing on the JFrame, which is does not draw it to the exact coordinates, make your main class a child of JPanel by using this code:\r\n```\r\npublic class Main extends JPanel {\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n    \r\n    JFrame frame = new JFrame();\r\n    \r\n    public Main() {\r\n    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tframe.add(this);\r\n    \tframe.pack();\r\n    \tframe.setSize(350, 500);\r\n    \tframe.setVisible(true);\r\n    }\r\n}\r\n```\r\nNow add your `paint` method\r\n```\r\n@Override\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n    \r\n        g.setColor(Color.RED);\r\n        g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\r\n        g.drawString(&quot;Hello&quot;, 10, 10);\r\n    }\r\n```","title":"Graphics.drawString() doesnt draw anything on the screen","body":"<p>Instead of drawing on the JFrame, which is does not draw it to the exact coordinates, make your main class a child of JPanel by using this code:</p>\n<pre><code>public class Main extends JPanel {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n    \n    JFrame frame = new JFrame();\n    \n    public Main() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(this);\n        frame.pack();\n        frame.setSize(350, 500);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Now add your <code>paint</code> method</p>\n<pre><code>@Override\n    public void paint(Graphics g) {\n        super.paint(g);\n    \n        g.setColor(Color.RED);\n        g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\n        g.drawString(&quot;Hello&quot;, 10, 10);\n    }\n</code></pre>\n"}],"owner":{"account_id":20442553,"reputation":69,"user_id":14999071,"display_name":"Coderman69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690558578,"creation_date":1612429862,"question_id":66042505,"body_markdown":"I&#39;m trying to draw a string with the `Graphics.drawString()`. But for some reason nothing shows up on the screen. Drawing a rectangle for example works but `drawString()` doesn&#39;t.\r\n\r\nHere&#39;s my code:\r\n\r\n    public class Main extends JFrame {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    new Main();\r\n\t    }\r\n\t\r\n\t    public Main() {\r\n\t\t    this.setSize(350, 500);\r\n\t\t    this.setVisible(true);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void paint(Graphics g) {\r\n\t\t    super.paint(g);\r\n\t\t\r\n            //Nothing is drawn on the screen.\r\n\t\t    g.setColor(Color.RED);\r\n\t\t    g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\r\n\t\t    g.drawString(&quot;Hello&quot;, 10, 10);\r\n\t    }\r\n    }","title":"Graphics.drawString() doesnt draw anything on the screen","body":"<p>I'm trying to draw a string with the <code>Graphics.drawString()</code>. But for some reason nothing shows up on the screen. Drawing a rectangle for example works but <code>drawString()</code> doesn't.</p>\n<p>Here's my code:</p>\n<pre><code>public class Main extends JFrame {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        this.setSize(350, 500);\n        this.setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n    \n        //Nothing is drawn on the screen.\n        g.setColor(Color.RED);\n        g.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\n        g.drawString(&quot;Hello&quot;, 10, 10);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","windows-services"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1690559249,"post_id":76789104,"comment_id":135375476,"body_markdown":"Applications that are Windows Services need to implement specific APIs to act as a service. It&#39;s possible to use one of many Win Services wrapper applications or you can implement the service control callbacks / API in Java with + Foreign Memory API (incubating or preview JDK16-20). [How to create a windows service from java app](https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app)","body":"Applications that are Windows Services need to implement specific APIs to act as a service. It&#39;s possible to use one of many Win Services wrapper applications or you can implement the service control callbacks / API in Java with + Foreign Memory API (incubating or preview JDK16-20). <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app\">How to create a windows service from java app</a>"}],"owner":{"account_id":26815442,"reputation":1,"user_id":22258674,"display_name":"tictac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690557551,"creation_date":1690557551,"question_id":76789104,"body_markdown":"I want to create a windows service with the following command line:\r\n\r\njava -jar C:\\server\\server.jar -conf C:\\conf\\default.json\r\n\r\nI tried something like this:\r\nsc create ServerService binPath= &quot;java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto\r\n\r\nand trying to start my previous created service, an error that the server doesn&#39;t start in time request ...\r\n\r\nI saw that a windows service must start in a max time before considered timeout.\r\n\r\nIs normal because the java command line start a server which never finish because the java process of the server must remains and listening incoming request.\r\n\r\nI understood (but my comprehension can be it can be false), I must try to launch the command line and return directly the result in order to the service is considered started.\r\nConsequently I tried this:\r\n\r\nsc create ServerService binPath= &quot;cmd /c start java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto\r\n\r\nbut always the same error occurred ... do you have a idea how I can do that plz ?\r\n\r\nthank a lot and best regards\r\n\r\n\r\na windows service which can be start without error and my server up","title":"Create windows service with unfinishing java process","body":"<p>I want to create a windows service with the following command line:</p>\n<p>java -jar C:\\server\\server.jar -conf C:\\conf\\default.json</p>\n<p>I tried something like this:\nsc create ServerService binPath= &quot;java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto</p>\n<p>and trying to start my previous created service, an error that the server doesn't start in time request ...</p>\n<p>I saw that a windows service must start in a max time before considered timeout.</p>\n<p>Is normal because the java command line start a server which never finish because the java process of the server must remains and listening incoming request.</p>\n<p>I understood (but my comprehension can be it can be false), I must try to launch the command line and return directly the result in order to the service is considered started.\nConsequently I tried this:</p>\n<p>sc create ServerService binPath= &quot;cmd /c start java -jar C:\\server\\server.jar -conf C:\\conf\\default.json&quot; DisplayName= &quot;server Service&quot; start= auto</p>\n<p>but always the same error occurred ... do you have a idea how I can do that plz ?</p>\n<p>thank a lot and best regards</p>\n<p>a windows service which can be start without error and my server up</p>\n"},{"tags":["java","jasper-reports"],"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690557312,"answer_count":0,"score":0,"last_activity_date":1690557317,"creation_date":1689183720,"question_id":76673189,"body_markdown":"I am using **JasperSoft-6** tool.\r\n\r\nI am creating `Field` of type `java.util.String`, and trying to associate to my Image element using below code\r\n`new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($F{std}.getBytes()))`\r\n\r\nFinally from java I am trying to set this way\r\n```\r\nbyte[] data = imagesRepo.findByUserId(Long.valueOf(22)).getPicByte();\r\n            System.out.println(&quot;Image length : &quot;+data.length);\r\n//            dataSource.put(&quot;imageData&quot;, data);\r\n//            dataSource.put(&quot;imageData&quot;, CommonFileUtils.decompressBytes(data));\r\n            \r\n            ByteArrayInputStream imageStream = new \r\n            ByteArrayInputStream(data);//CommonFileUtils.decompressBytes(data)\r\n            dataSource.put(&quot;imageData&quot;, imageStream);\r\n```\r\n\r\nStill I am not able to render the image, surprisingly no errors while generating report. report is generated but images are blank.\r\n\r\nI tried to follow this blog from stackoverflow but still no luck\r\nhttps://stackoverflow.com/questions/33547588/how-to-display-a-svg-byte-array-as-an-image-in-a-jasperreport","title":"How to show byte array of Image data in JRXML Jasper report?","body":"<p>I am using <strong>JasperSoft-6</strong> tool.</p>\n<p>I am creating <code>Field</code> of type <code>java.util.String</code>, and trying to associate to my Image element using below code\n<code>new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($F{std}.getBytes()))</code></p>\n<p>Finally from java I am trying to set this way</p>\n<pre><code>byte[] data = imagesRepo.findByUserId(Long.valueOf(22)).getPicByte();\n            System.out.println(&quot;Image length : &quot;+data.length);\n//            dataSource.put(&quot;imageData&quot;, data);\n//            dataSource.put(&quot;imageData&quot;, CommonFileUtils.decompressBytes(data));\n            \n            ByteArrayInputStream imageStream = new \n            ByteArrayInputStream(data);//CommonFileUtils.decompressBytes(data)\n            dataSource.put(&quot;imageData&quot;, imageStream);\n</code></pre>\n<p>Still I am not able to render the image, surprisingly no errors while generating report. report is generated but images are blank.</p>\n<p>I tried to follow this blog from stackoverflow but still no luck\n<a href=\"https://stackoverflow.com/questions/33547588/how-to-display-a-svg-byte-array-as-an-image-in-a-jasperreport\">How to display a svg byte array as an image in a JasperReport?</a></p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":2,"creation_date":1324625886,"post_id":8613408,"comment_id":10690818,"body_markdown":"what is the problem? the stacktrace and the exception message are two different things, so nothing to solve here IMHO","body":"what is the problem? the stacktrace and the exception message are two different things, so nothing to solve here IMHO"},{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":1,"creation_date":1324627264,"post_id":8613408,"comment_id":10691048,"body_markdown":"@kostja: Aren&#39;t they related? I thought the exception message is a brief description of the stacktrace? So if the stacktrace is not null, then the exception message must also contain a value?","body":"@kostja: Aren&#39;t they related? I thought the exception message is a brief description of the stacktrace? So if the stacktrace is not null, then the exception message must also contain a value?"},{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":1,"creation_date":1324628557,"post_id":8613408,"comment_id":10691292,"body_markdown":"added an answer as it is getting tooo long for comments","body":"added an answer as it is getting tooo long for comments"}],"answers":[{"comments":[{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":0,"creation_date":1324627664,"post_id":8613437,"comment_id":10691108,"body_markdown":"Thank you! But how do I know if the SocketTimeOutException occurs due to a Connection Timed Out or other reason?","body":"Thank you! But how do I know if the SocketTimeOutException occurs due to a Connection Timed Out or other reason?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1324628348,"post_id":8613437,"comment_id":10691237,"body_markdown":"A SocketTimeoutException &quot;signals that a timeout has occurred on a socket read or accept.&quot;. That&#39;s what the javadoc says.","body":"A SocketTimeoutException &quot;signals that a timeout has occurred on a socket read or accept.&quot;. That&#39;s what the javadoc says."},{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":0,"creation_date":1324629808,"post_id":8613437,"comment_id":10691499,"body_markdown":"Thanks! Then is it better to just trap SocketTimeOutException? I&#39;m just afraid because just like in ConnectException, there are lot of scenarios that could trigger it. And if I have to display a really specific error message to the user, then I must also check the message of the exception. Not just the name of the Exception only.","body":"Thanks! Then is it better to just trap SocketTimeOutException? I&#39;m just afraid because just like in ConnectException, there are lot of scenarios that could trigger it. And if I have to display a really specific error message to the user, then I must also check the message of the exception. Not just the name of the Exception only."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1324630528,"post_id":8613437,"comment_id":10691630,"body_markdown":"There are not many scenarios: &quot;a timeout has occurred on a socket read or accept&quot;. You should know if you&#39;re doing a socket read or accept. So you know exactly what happened and where.","body":"There are not many scenarios: &quot;a timeout has occurred on a socket read or accept&quot;. You should know if you&#39;re doing a socket read or accept. So you know exactly what happened and where."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1324626022,"creation_date":1324626022,"answer_id":8613437,"question_id":8613408,"body_markdown":"SocketTimeOutException is the type of the exception. It&#39;s probably just that this exception (or the code throwing it) didn&#39;t bother providing a message with the exception, and thought the type of the exception was sufficiently meaningful. Use \r\n\r\n    Log.d(&quot;Error&quot;, &quot;Error Message: &quot; + e);\r\n\r\nor\r\n\r\n    Log.d(&quot;Error&quot;, &quot;Some exception occurred&quot;, e);\r\n\r\nrather than asking the message.","title":"Exception message is null?","body":"<p>SocketTimeOutException is the type of the exception. It's probably just that this exception (or the code throwing it) didn't bother providing a message with the exception, and thought the type of the exception was sufficiently meaningful. Use </p>\n\n<pre><code>Log.d(\"Error\", \"Error Message: \" + e);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Log.d(\"Error\", \"Some exception occurred\", e);\n</code></pre>\n\n<p>rather than asking the message.</p>\n"},{"comments":[{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":0,"creation_date":1324627721,"post_id":8613441,"comment_id":10691114,"body_markdown":"Thanks. I didn&#39;t know that they are separate entities. Just learned about it today. So there are some errors that Java didn&#39;t provide a message?","body":"Thanks. I didn&#39;t know that they are separate entities. Just learned about it today. So there are some errors that Java didn&#39;t provide a message?"},{"owner":{"account_id":1121066,"reputation":316,"user_id":1109369,"display_name":"Tobias Bre&#223;ler"},"score":1,"creation_date":1324628782,"post_id":8613441,"comment_id":10691330,"body_markdown":"Yes, the message is only optional. But I think it&#39;s not a very good software design to let the message null, because the message helps the user to get more detailed information about the error.","body":"Yes, the message is only optional. But I think it&#39;s not a very good software design to let the message null, because the message helps the user to get more detailed information about the error."}],"tags":[],"owner":{"account_id":1121066,"reputation":316,"user_id":1109369,"display_name":"Tobias Bre&#223;ler"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530306656,"creation_date":1324626058,"answer_id":8613441,"question_id":8613408,"body_markdown":"I think the Exception that is thrown in your code has no message. The String is null. But of course you can print the stack trace. These are two different things. You will see the stack trace, but without the message.","title":"Exception message is null?","body":"<p>I think the Exception that is thrown in your code has no message. The String is null. But of course you can print the stack trace. These are two different things. You will see the stack trace, but without the message.</p>\n"},{"comments":[{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":0,"creation_date":1324627509,"post_id":8613443,"comment_id":10691084,"body_markdown":"Thanks! So it is possible for the exception message to be null even the exception was thrown by Java/ Android itself (NOT via throw new Exception)? I am calling e.getMessage() because I want to display the error message to the user.","body":"Thanks! So it is possible for the exception message to be null even the exception was thrown by Java/ Android itself (NOT via throw new Exception)? I am calling e.getMessage() because I want to display the error message to the user."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1324628079,"post_id":8613443,"comment_id":10691186,"body_markdown":"If you&#39;re allowed to throw exception without a message, so is Android. Exception messages are intended for the developer, not for the user. Android code is Java code. You should catch the exception, and display an appropriate error message to the user yourself.","body":"If you&#39;re allowed to throw exception without a message, so is Android. Exception messages are intended for the developer, not for the user. Android code is Java code. You should catch the exception, and display an appropriate error message to the user yourself."},{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":0,"creation_date":1324629441,"post_id":8613443,"comment_id":10691443,"body_markdown":"@JB Nizet: Yes. That is why I also have to know the cause of the exception via its message. My plan is to do something like this: [if (e.getMessage().contains(&quot;Connection Timed Out&quot;) then display &quot;Connection Timed Out&quot;]. If I won&#39;t be able to determine the main cause of the exception, then I won&#39;t also be able to display a specific error message for the user.","body":"@JB Nizet: Yes. That is why I also have to know the cause of the exception via its message. My plan is to do something like this: [if (e.getMessage().contains(&quot;Connection Timed Out&quot;) then display &quot;Connection Timed Out&quot;]. If I won&#39;t be able to determine the main cause of the exception, then I won&#39;t also be able to display a specific error message for the user."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1324630390,"post_id":8613443,"comment_id":10691611,"body_markdown":"The type of the exception and the location where it&#39;s thrown are supposed to be sufficient to display a meaningful error message. You shouldn&#39;t rely on the message of the exception.","body":"The type of the exception and the location where it&#39;s thrown are supposed to be sufficient to display a meaningful error message. You shouldn&#39;t rely on the message of the exception."}],"tags":[],"owner":{"account_id":1083984,"reputation":1741,"user_id":1080166,"accept_rate":62,"display_name":"bvanvelsen - ACA Group"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690557211,"creation_date":1324626066,"answer_id":8613443,"question_id":8613408,"body_markdown":"`e.printStackTrace()` means the actual stacktrace which is almost always present. A message however not. If you check the Javadoc of the [getMessage()][1] method, you will notice that it may return null. There will be message if you call the constructor from exception with the String message param [Exception Javadoc][2]\r\n \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getMessage%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html#Exception%28java.lang.String%29","title":"Exception message is null?","body":"<p><code>e.printStackTrace()</code> means the actual stacktrace which is almost always present. A message however not. If you check the Javadoc of the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getMessage%28%29\" rel=\"nofollow noreferrer\">getMessage()</a> method, you will notice that it may return null. There will be message if you call the constructor from exception with the String message param <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html#Exception%28java.lang.String%29\" rel=\"nofollow noreferrer\">Exception Javadoc</a></p>\n"},{"comments":[{"owner":{"account_id":1001342,"reputation":386,"user_id":1016124,"display_name":"anilsinaci"},"score":0,"creation_date":1324641993,"post_id":8613446,"comment_id":10694506,"body_markdown":"@JB Nizet gives the example of my suggestion.","body":"@JB Nizet gives the example of my suggestion."}],"tags":[],"owner":{"account_id":1001342,"reputation":386,"user_id":1016124,"display_name":"anilsinaci"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324626092,"creation_date":1324626092,"answer_id":8613446,"question_id":8613408,"body_markdown":"Try to give the exception itself to the logger instead of e.getMessage(). Loggers generally have methods which expect Throwable objects and default configurations (generally) of the loggers prints the stack trace.","title":"Exception message is null?","body":"<p>Try to give the exception itself to the logger instead of e.getMessage(). Loggers generally have methods which expect Throwable objects and default configurations (generally) of the loggers prints the stack trace.</p>\n"},{"comments":[{"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"score":0,"creation_date":1324630006,"post_id":8613720,"comment_id":10691525,"body_markdown":"Thanks for the explanation. I should have learned it earlier.","body":"Thanks for the explanation. I should have learned it earlier."}],"tags":[],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1435908319,"creation_date":1324628498,"answer_id":8613720,"question_id":8613408,"body_markdown":"The message and the stacktrace are two distinct pieces of information. While the stackstrace is mandatory, the message is not. Most exceptions carry a message, and it is the best practice to do so, but some just don&#39;t and there&#39;s nothing to be done to fix it.\r\n\r\nYou can make it easier for your clients though and provide a message by wrapping the message-less exception or throwing a custom exception with the original exception as the cause. This might look like following.\r\n\r\n    throw new  MyRuntimeException(&quot;Socket was closed unexpectedly&quot;, e);","title":"Exception message is null?","body":"<p>The message and the stacktrace are two distinct pieces of information. While the stackstrace is mandatory, the message is not. Most exceptions carry a message, and it is the best practice to do so, but some just don't and there's nothing to be done to fix it.</p>\n\n<p>You can make it easier for your clients though and provide a message by wrapping the message-less exception or throwing a custom exception with the original exception as the cause. This might look like following.</p>\n\n<pre><code>throw new  MyRuntimeException(\"Socket was closed unexpectedly\", e);\n</code></pre>\n"}],"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70120,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":8613720,"answer_count":5,"score":43,"last_activity_date":1690557211,"creation_date":1324625720,"question_id":8613408,"body_markdown":"I have a `try-catch` statement in my code. In my catch block, I am calling `e.getMessage()` to print the message of the exception. However, `e.getMessage` keeps returning a null value. Interestingly, when I call `e.printStackTrace,` I have no problem printing the stack trace.\r\n\r\nBelow is my code:\r\n\r\n    try\r\n    {\r\n        console = new BufferedReader(new InputStreamReader(httpsURLConnection.getInputStream()));\r\n    }catch(Exception e)\r\n    {\r\n        Log.d(&quot;Error&quot;, &quot;Error Message: &quot; + e.getMessage()); //e.getMessage is returning a null value\r\n        e.printStackTrace(); //this works. is displaying a SocketTimeOutException\r\n    }\r\n\r\nWhat could be the cause of my problem? How do I solve it?","title":"Exception message is null?","body":"<p>I have a <code>try-catch</code> statement in my code. In my catch block, I am calling <code>e.getMessage()</code> to print the message of the exception. However, <code>e.getMessage</code> keeps returning a null value. Interestingly, when I call <code>e.printStackTrace,</code> I have no problem printing the stack trace.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>try\n{\n    console = new BufferedReader(new InputStreamReader(httpsURLConnection.getInputStream()));\n}catch(Exception e)\n{\n    Log.d(\"Error\", \"Error Message: \" + e.getMessage()); //e.getMessage is returning a null value\n    e.printStackTrace(); //this works. is displaying a SocketTimeOutException\n}\n</code></pre>\n\n<p>What could be the cause of my problem? How do I solve it?</p>\n"},{"tags":["java","algorithm","exponent","superscript","factorization"],"comments":[{"owner":{"account_id":22012967,"reputation":113,"user_id":17989032,"display_name":"Anon"},"score":1,"creation_date":1690551368,"post_id":76788011,"comment_id":135373666,"body_markdown":"How large is this program? You might want to consider adding more of your code to this post. How long does it take to calculate the factorization for each prime number? Or how long does the entire program take to run?","body":"How large is this program? You might want to consider adding more of your code to this post. How long does it take to calculate the factorization for each prime number? Or how long does the entire program take to run?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690554319,"post_id":76788011,"comment_id":135374401,"body_markdown":"Which is your question? Are you asking how to get output with superscript exponents, as opposed to plain text only? Or are you asking for with a prime factorization algorithm?  (As far as I can tell, it seems to be the latter.)  If you are asking about both, you risk having the question closed for lack of focus. If you are asking about one, inclusion of details about the other risks having the question closed, also for lack of focus. Please provide a [Complete but Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) that focuses on *one* issue.","body":"Which is your question? Are you asking how to get output with superscript exponents, as opposed to plain text only? Or are you asking for with a prime factorization algorithm?  (As far as I can tell, it seems to be the latter.)  If you are asking about both, you risk having the question closed for lack of focus. If you are asking about one, inclusion of details about the other risks having the question closed, also for lack of focus. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Complete but Minimal Reproducible Example</a> that focuses on <i>one</i> issue."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690554970,"post_id":76788011,"comment_id":135374575,"body_markdown":"Oh, and welcome to Stack Overflow. It may help to [take the tour](https://stackoverflow.com/tour) and read [How To Ask a Good Question](https://stackoverflow.com/help/how-to-ask).  The question should show example input, expected output / behavior, and actual output / behavior. Eliminate details not relevant to the problem.","body":"Oh, and welcome to Stack Overflow. It may help to <a href=\"https://stackoverflow.com/tour\">take the tour</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How To Ask a Good Question</a>.  The question should show example input, expected output / behavior, and actual output / behavior. Eliminate details not relevant to the problem."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690555021,"post_id":76788011,"comment_id":135374587,"body_markdown":"@old dog programmer...thanks for your reply.   I believed I have made it clear in my question that my problem is specific to improving the efficiency of my output module (which outputs the prime factorization using exponents in superscript form).    I am not in need of a prime factorization algorithm...these are in abundance.   The specific issue is how to convert the output 2 2 3 3 5 5 5 5 11 to 2&#178; &#183; 3&#178; &#183; 5⁴ using a faster method than the one I have been using.  Thank you.","body":"@old dog programmer...thanks for your reply.   I believed I have made it clear in my question that my problem is specific to improving the efficiency of my output module (which outputs the prime factorization using exponents in superscript form).    I am not in need of a prime factorization algorithm...these are in abundance.   The specific issue is how to convert the output 2 2 3 3 5 5 5 5 11 to 2&#178; &#183; 3&#178; &#183; 5⁴ using a faster method than the one I have been using.  Thank you."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690555182,"post_id":76788011,"comment_id":135374627,"body_markdown":"@Anon...there is no other relevant code, only the prime factorization module which can be via use of trial division or Lenstra elliptic-curve, but this is not an issue.  The specific issue is with converting the output 2 2 3 3 5 5 5 5 11 to  2&#178; &#183; 3&#178; &#183; 5⁴  using an efficient method rather than the clunky one I have used.","body":"@Anon...there is no other relevant code, only the prime factorization module which can be via use of trial division or Lenstra elliptic-curve, but this is not an issue.  The specific issue is with converting the output 2 2 3 3 5 5 5 5 11 to  2&#178; &#183; 3&#178; &#183; 5⁴  using an efficient method rather than the clunky one I have used."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690555747,"post_id":76788011,"comment_id":135374770,"body_markdown":"@ Old Dog Programmer...I do sincerely apologize for that.  I am a learner programmer.  I do not believe that my code is out of context for what precedes my output module is just the prime factorization algorithm itself (which I do not need to post).  My problem is specific in how to convert 2 2 3 3 5 5 5 5 11 (prime number in FACTOR[c] array) to 2&#178; &#183; 3&#178; &#183; 5⁴ in a faster, more efficient manner.","body":"@ Old Dog Programmer...I do sincerely apologize for that.  I am a learner programmer.  I do not believe that my code is out of context for what precedes my output module is just the prime factorization algorithm itself (which I do not need to post).  My problem is specific in how to convert 2 2 3 3 5 5 5 5 11 (prime number in FACTOR[c] array) to 2&#178; &#183; 3&#178; &#183; 5⁴ in a faster, more efficient manner."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690556341,"post_id":76788011,"comment_id":135374898,"body_markdown":"@ Old Dog Programmer...you could add any prime factorization algorithm which outputs the primes in an array, then just cut and paste my output module to process the array.  I did not believe that I needed to do anything else to explain the issue.  As I have stated, I am a learner programmer...","body":"@ Old Dog Programmer...you could add any prime factorization algorithm which outputs the primes in an array, then just cut and paste my output module to process the array.  I did not believe that I needed to do anything else to explain the issue.  As I have stated, I am a learner programmer..."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690557192,"post_id":76788011,"comment_id":135375067,"body_markdown":"It is good program design to have the calculations and output in separate methods.  `... public BigInteger [] factorize (long num) { ... } ... public String toStringWithExponents (BigInteger [] factors) { ... } ... `  Then, a third method to get the number to be factorized, and call the other two.  That will make it better for you, and better for us when you ask a question here. You can provide us with a minimal reproducible example by putting `2 2 3 3 5 5 5 5 11`,  and possibly other examples, into arrays to show us a minimal reproducible example that concentrates on the problem.","body":"It is good program design to have the calculations and output in separate methods.  <code>... public BigInteger [] factorize (long num) { ... } ... public String toStringWithExponents (BigInteger [] factors) { ... } ... </code>  Then, a third method to get the number to be factorized, and call the other two.  That will make it better for you, and better for us when you ask a question here. You can provide us with a minimal reproducible example by putting <code>2 2 3 3 5 5 5 5 11</code>,  and possibly other examples, into arrays to show us a minimal reproducible example that concentrates on the problem."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690557583,"post_id":76788011,"comment_id":135375152,"body_markdown":"@Old Dog Prg.  Yeah, but I do not believe it changes anything in regards to whether one method or several methods are in play here.  My output module receives an array (FACTOR[c[), and I gave an example of an output (2 2 3 3 5 5 5 5 11).  The issue is how to process this array to output 2&#178; &#183; 3&#178; &#183; 5⁴  using a faster method than the one I have devised.  I don&#39;t believe anything I have posted is out of context or insufficient in detailing the problem, and assistance has been given (which I will carefully study in due course).  I do not understand the, for want of better words, antagonism here!","body":"@Old Dog Prg.  Yeah, but I do not believe it changes anything in regards to whether one method or several methods are in play here.  My output module receives an array (FACTOR[c[), and I gave an example of an output (2 2 3 3 5 5 5 5 11).  The issue is how to process this array to output 2&#178; &#183; 3&#178; &#183; 5⁴  using a faster method than the one I have devised.  I don&#39;t believe anything I have posted is out of context or insufficient in detailing the problem, and assistance has been given (which I will carefully study in due course).  I do not understand the, for want of better words, antagonism here!"},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690566606,"post_id":76788011,"comment_id":135376746,"body_markdown":"@trincot...the reason I did not react was because someone else (thorin9000) gave the correct solution to the matter.  He gave his solution in the comments section, rather than giving a formal answer.  The answer provided by gOOse was not the optimal solution because it required me to rewrite my entire program, whilst thorin9000&#39;s answer enabled me to make a few simple modifications to my code enabling my program to function correctly.  I thanked thorin9000 for his help.","body":"@trincot...the reason I did not react was because someone else (thorin9000) gave the correct solution to the matter.  He gave his solution in the comments section, rather than giving a formal answer.  The answer provided by gOOse was not the optimal solution because it required me to rewrite my entire program, whilst thorin9000&#39;s answer enabled me to make a few simple modifications to my code enabling my program to function correctly.  I thanked thorin9000 for his help."}],"answers":[{"comments":[{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690556091,"post_id":76788256,"comment_id":135374852,"body_markdown":"@WJS...thanks for your response. I do not believe that there is any other relevant code to post, for what precedes my output module is just the prime factorization module itself which stores 2 2 3 3 5 5 5 5 11 primes in an array to be processed by my output module (conversion to 2&#178; &#183; 3&#178; &#183; 5⁴).  I will carefully study what you have suggested and will try to implement the changes in my program, thank you.","body":"@WJS...thanks for your response. I do not believe that there is any other relevant code to post, for what precedes my output module is just the prime factorization module itself which stores 2 2 3 3 5 5 5 5 11 primes in an array to be processed by my output module (conversion to 2&#178; &#183; 3&#178; &#183; 5⁴).  I will carefully study what you have suggested and will try to implement the changes in my program, thank you."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":1,"creation_date":1690557086,"post_id":76788256,"comment_id":135375046,"body_markdown":"@WJS...certainly, I do apologize.  I have been answering several &quot;comments&quot; on this post.  Many thanks again for the time and trouble you have taken with this.","body":"@WJS...certainly, I do apologize.  I have been answering several &quot;comments&quot; on this post.  Many thanks again for the time and trouble you have taken with this."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690557644,"post_id":76788256,"comment_id":135375165,"body_markdown":"It is worth noting that the time taken to format the factorization is *probably* going to be tiny compared with the time taken to do the factorization.  Even if you do the formatting inefficiently.  (Or to put it another way ... I suspect that you have jumped to an incorrect conclusion as to why your complete program is slow.)","body":"It is worth noting that the time taken to format the factorization is <i>probably</i> going to be tiny compared with the time taken to do the factorization.  Even if you do the formatting inefficiently.  (Or to put it another way ... I suspect that you have jumped to an incorrect conclusion as to why your complete program is slow.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690558211,"post_id":76788256,"comment_id":135375273,"body_markdown":"And if you want to understand why factorization is slow (&quot;exponentially&quot; as you put it), read https://en.wikipedia.org/wiki/Integer_factorization.  It points out that no polynomial time algorithm has yet been discovered (or more precisely, published in open literature) for integer factorization.","body":"And if you want to understand why factorization is slow (&quot;exponentially&quot; as you put it), read <a href=\"https://en.wikipedia.org/wiki/Integer_factorization\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Integer_factorization</a>.  It points out that no polynomial time algorithm has yet been discovered (or more precisely, published in open literature) for integer factorization."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690558427,"post_id":76788256,"comment_id":135375315,"body_markdown":"@Stephen....I have several different prime factorization algorithms which output the prime numbers in an array (trial division, eliptic curve etc).  The method I use to convert 2 2 3 3 5 5 5 5 11 to 2&#178; &#183; 3&#178; &#183; 5⁴ does slow things down for larger numbers.  As I have stated several times, it is not the prime factorization algorithm that is the issue here, it is how I get the output in the  2&#178; &#183; 3&#178; &#183; 5⁴ form.  Many here do not seem to understand this simple point...","body":"@Stephen....I have several different prime factorization algorithms which output the prime numbers in an array (trial division, eliptic curve etc).  The method I use to convert 2 2 3 3 5 5 5 5 11 to 2&#178; &#183; 3&#178; &#183; 5⁴ does slow things down for larger numbers.  As I have stated several times, it is not the prime factorization algorithm that is the issue here, it is how I get the output in the  2&#178; &#183; 3&#178; &#183; 5⁴ form.  Many here do not seem to understand this simple point..."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690558514,"post_id":76788256,"comment_id":135375336,"body_markdown":"@ Stephen C...again, it is respectfully your lack of understanding of my question.  My issue is specific in the getting an output in the form 2&#178; &#183; 3&#178; &#183; 5⁴.  You did not understand my post, simple as.","body":"@ Stephen C...again, it is respectfully your lack of understanding of my question.  My issue is specific in the getting an output in the form 2&#178; &#183; 3&#178; &#183; 5⁴.  You did not understand my post, simple as."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690560454,"post_id":76788256,"comment_id":135375704,"body_markdown":"@StephenC You are correct about factorization in general as it is a mathematically intensive operation.  My focus was on the formatting question and sped up the exponent conversion by a factor of about `60-70` based on simple iterative tests using `System.nanotime()`.","body":"@StephenC You are correct about factorization in general as it is a mathematically intensive operation.  My focus was on the formatting question and sped up the exponent conversion by a factor of about <code>60-70</code> based on simple iterative tests using <code>System.nanotime()</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690561737,"post_id":76788256,"comment_id":135375936,"body_markdown":"I surely &gt;did&lt; understand your question.  But with respect, you did not understand &gt;my&lt; point. So I will say it again.  Yoiu said (and I quote): *&quot;I have tried to find a more efficient way of doing the operation, but cannot find any other way.&quot;* - The efficiency of the operation of formatting the output is close to IRRELEVANT to the overall application performance.  There is no point in optimizing code that has minimal impact on the overall performance.  It makes no difference if the application can output the result in 0.01 seconds if it takes 1 seconds or 1,000 to do the factorization.","body":"I surely &gt;did&lt; understand your question.  But with respect, you did not understand &gt;my&lt; point. So I will say it again.  Yoiu said (and I quote): <i>&quot;I have tried to find a more efficient way of doing the operation, but cannot find any other way.&quot;</i> - The efficiency of the operation of formatting the output is close to IRRELEVANT to the overall application performance.  There is no point in optimizing code that has minimal impact on the overall performance.  It makes no difference if the application can output the result in 0.01 seconds if it takes 1 seconds or 1,000 to do the factorization."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690561849,"post_id":76788256,"comment_id":135375953,"body_markdown":"Also ... as a learner programmer ... you should be paying attention to what people are trying to teach you.  And not &gt;assuming&lt;  that they don&#39;t know what they are talking about.  One lesson you need to learn is to be wary of premature optimization; see https://en.wikipedia.org/wiki/Program_optimization#When_to_optimize.","body":"Also ... as a learner programmer ... you should be paying attention to what people are trying to teach you.  And not &gt;assuming&lt;  that they don&#39;t know what they are talking about.  One lesson you need to learn is to be wary of premature optimization; see <a href=\"https://en.wikipedia.org/wiki/Program_optimization#When_to_optimize\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Program_optimization#When_to_optimize</a>."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690562074,"post_id":76788256,"comment_id":135375984,"body_markdown":"@WJS...indeed, this is exactly the whole purpose of my original post!!!!  I do not understand why many here did not get this.  I had requests for more code (what more code could I provide?  Which factorization algorithm should I have put in (eliptic curve, trial division...its completely irrelevant to the matter because I used the same output module for all of them).  I thought it best to put in the section of code that was the issue...I gave an example of the formatting I wanted (2&#178; &#183; 3&#178; &#183; 5⁴), said I had numbers in an array (FACTOR[c] which had the prime numbers.  What more was needed?!","body":"@WJS...indeed, this is exactly the whole purpose of my original post!!!!  I do not understand why many here did not get this.  I had requests for more code (what more code could I provide?  Which factorization algorithm should I have put in (eliptic curve, trial division...its completely irrelevant to the matter because I used the same output module for all of them).  I thought it best to put in the section of code that was the issue...I gave an example of the formatting I wanted (2&#178; &#183; 3&#178; &#183; 5⁴), said I had numbers in an array (FACTOR[c] which had the prime numbers.  What more was needed?!"},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690562350,"post_id":76788256,"comment_id":135376022,"body_markdown":"@Stephen...go to my original post and highlight where I was asking for assistance with prime factorization algorithms?  You cannot...the matter was purely about the formatting issue.  Secondly, you have not tried my output module with any prime factorization algorithm...it does impact it significantly as opposed to having just the output in the form of 2 2 3 3 5 5 5 5 11.  My code which converts the 2 2 3 3 5 5 5 5 11 output to 2&#178; &#183; 3&#178; &#183; 5⁴ incurs a lot computation cost for larger composites.  You clearly do not understand the issue here...","body":"@Stephen...go to my original post and highlight where I was asking for assistance with prime factorization algorithms?  You cannot...the matter was purely about the formatting issue.  Secondly, you have not tried my output module with any prime factorization algorithm...it does impact it significantly as opposed to having just the output in the form of 2 2 3 3 5 5 5 5 11.  My code which converts the 2 2 3 3 5 5 5 5 11 output to 2&#178; &#183; 3&#178; &#183; 5⁴ incurs a lot computation cost for larger composites.  You clearly do not understand the issue here..."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690562526,"post_id":76788256,"comment_id":135376045,"body_markdown":"@ThomasFarkas  The issue is that without knowing how you are factoring the values, the issue may be (and probably is) in the factoring process, not in the formatting process.  In general, factoring is very computationally intensive. Formatting, isn&#39;t,.  Stephen is correct in pointing out that you may be focusing on something that adds little to no performance improvement relative to the factoring algorithm. 1/2","body":"@ThomasFarkas  The issue is that without knowing how you are factoring the values, the issue may be (and probably is) in the factoring process, not in the formatting process.  In general, factoring is very computationally intensive. Formatting, isn&#39;t,.  Stephen is correct in pointing out that you may be focusing on something that adds little to no performance improvement relative to the factoring algorithm. 1/2"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690562555,"post_id":76788256,"comment_id":135376051,"body_markdown":"Even though I sped up the formatting process, it may not make a dent in your overall performance, relatively speaking.  The best thing to do is simply to write your program as you see fit, and then run something like `Java Microbenchmark Harness` to zero in on where to best focus focus your optimization efforts.2/2.","body":"Even though I sped up the formatting process, it may not make a dent in your overall performance, relatively speaking.  The best thing to do is simply to write your program as you see fit, and then run something like <code>Java Microbenchmark Harness</code> to zero in on where to best focus focus your optimization efforts.2/2."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690562911,"post_id":76788256,"comment_id":135376108,"body_markdown":"@WJS...There is a computational cost of converting an array of numbers such as 2 2 3 3 5 5 5 5 11 to output in the format of 2&#178; &#183; 3&#178; &#183; 5⁴.  I was merely seeking a more efficient way than what I have devised.  When dealing with very large composites, it can make a big difference...when compared to just outputing  2 2 3 3 5 5 5 5 11.  I will try to implement the improvements you have suggested...I do have a little difficulty in understanding your code, but I will study it.  All I want is just to get the array of primes sorting to the 2&#178; &#183; 3&#178; &#183; 5⁴ format with less computational cost.  Thats all.","body":"@WJS...There is a computational cost of converting an array of numbers such as 2 2 3 3 5 5 5 5 11 to output in the format of 2&#178; &#183; 3&#178; &#183; 5⁴.  I was merely seeking a more efficient way than what I have devised.  When dealing with very large composites, it can make a big difference...when compared to just outputing  2 2 3 3 5 5 5 5 11.  I will try to implement the improvements you have suggested...I do have a little difficulty in understanding your code, but I will study it.  All I want is just to get the array of primes sorting to the 2&#178; &#183; 3&#178; &#183; 5⁴ format with less computational cost.  Thats all."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690564095,"post_id":76788256,"comment_id":135376305,"body_markdown":"BTW, since your exponents will all be &gt;= 1 you can remove the code dealing with the sign.","body":"BTW, since your exponents will all be &gt;= 1 you can remove the code dealing with the sign."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1690564212,"post_id":76788256,"comment_id":135376318,"body_markdown":"@WJS....yes, they will all be positive integers.  I will remove the code you suggested.  Thanks again for the time and trouble..","body":"@WJS....yes, they will all be positive integers.  I will remove the code you suggested.  Thanks again for the time and trouble.."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":16,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690556375,"creation_date":1690550800,"answer_id":76788256,"question_id":76788011,"body_markdown":"It would be useful to show more of your code in an [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)\r\n\r\nOne specific problem is that you try to replace a digit with the `unicode` value whether that digit is present or not.  There may be better solutions than the following but this processes the digits in the exponent as `ints` and limits the string handling.\r\n\r\nStore the symbols in a list, in order of their index.\r\n```\r\nstatic List&lt;String&gt; sups = List.of(&quot;\\u2070&quot;, &quot;\\u00b9&quot;, &quot;\\u00b2&quot;, &quot;\\u00b3&quot;,\r\n        &quot;\\u2074&quot;, &quot;\\u2075&quot;, &quot;\\u2076&quot;, &quot;\\u2077&quot;, &quot;\\u2078&quot;, &quot;\\u2079&quot;);\r\n```\r\nNow define a lambda to call to convert to the exponent.\r\n\r\n- first, covert to positive and save sign if required\r\n- then, iterate over the number, getting each digit using the remainder `%` operator. Then using that digit, index into the list of unicode characters and prepend the digit, building the exponent from right to left.\r\n- then prepend the sign and return the string.\r\n``` \r\nFunction&lt;Integer, String&gt; toExp = exp -&gt; {\r\n    String sign = &quot;&quot;;\r\n    if (exp &lt; 0) {\r\n        sign = &quot;\\u207B&quot;; // minus sign\r\n        exp = -exp;\r\n    }\r\n    String result = sups.get(exp % 10);\r\n    while (exp &gt; 10) {\r\n        exp /= 10;\r\n        result = sups.get(exp % 10) + result;\r\n    }\r\n    return sign + result;\r\n};\r\n\r\nSystem.out.printf(&quot;%d%s%n&quot;, 3, toExp.apply(12));\r\nSystem.out.printf(&quot;%d%s%n&quot;, 12, toExp.apply(-329));\r\n```\r\nprints\r\n```\r\n3&#185;&#178;\r\n12⁻&#179;&#178;⁹\r\n   ","title":"Prime factorization with superscript exponents java","body":"<p>It would be useful to show more of your code in an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a></p>\n<p>One specific problem is that you try to replace a digit with the <code>unicode</code> value whether that digit is present or not.  There may be better solutions than the following but this processes the digits in the exponent as <code>ints</code> and limits the string handling.</p>\n<p>Store the symbols in a list, in order of their index.</p>\n<pre><code>static List&lt;String&gt; sups = List.of(&quot;\\u2070&quot;, &quot;\\u00b9&quot;, &quot;\\u00b2&quot;, &quot;\\u00b3&quot;,\n        &quot;\\u2074&quot;, &quot;\\u2075&quot;, &quot;\\u2076&quot;, &quot;\\u2077&quot;, &quot;\\u2078&quot;, &quot;\\u2079&quot;);\n</code></pre>\n<p>Now define a lambda to call to convert to the exponent.</p>\n<ul>\n<li>first, covert to positive and save sign if required</li>\n<li>then, iterate over the number, getting each digit using the remainder <code>%</code> operator. Then using that digit, index into the list of unicode characters and prepend the digit, building the exponent from right to left.</li>\n<li>then prepend the sign and return the string.</li>\n</ul>\n<pre><code>Function&lt;Integer, String&gt; toExp = exp -&gt; {\n    String sign = &quot;&quot;;\n    if (exp &lt; 0) {\n        sign = &quot;\\u207B&quot;; // minus sign\n        exp = -exp;\n    }\n    String result = sups.get(exp % 10);\n    while (exp &gt; 10) {\n        exp /= 10;\n        result = sups.get(exp % 10) + result;\n    }\n    return sign + result;\n};\n\nSystem.out.printf(&quot;%d%s%n&quot;, 3, toExp.apply(12));\nSystem.out.printf(&quot;%d%s%n&quot;, 12, toExp.apply(-329));\n</code></pre>\n<p>prints</p>\n<pre><code>3¹²\n12⁻³²⁹\n   \n</code></pre>\n"}],"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76788256,"answer_count":1,"score":0,"last_activity_date":1690556375,"creation_date":1690548916,"question_id":76788011,"body_markdown":"I would like to have my outputs from my Prime Factorization module in my calculator program to be in this form:  247500 = 2&#178; &#183; 3&#178; &#183; 5⁴ &#183; 11 instead of 2^2 * 3^2 * 5^4 * 11 or 2 2 3 3 5 5 5 5 11.\r\n\r\nThe problem is that due to my extremely limited programming knowledge, my implementation of exponent sorting and displaying slows my program down &quot;exponentially&quot; (pun intended) for larger numbers.  I have tried to find a more efficient way of doing the operation, but cannot find any other way.\r\n\r\nI devised the following method...it works, but its very slow.  I apologize if conventions are not being followed (I am a learner programmer).\r\n\r\nThe prime numbers are stored in the array FACTOR[c]...I&#39;m using BigInteger in my factorization module.\r\n\r\n    if (counter == 0) {\r\n    \t\t  \t\t\t\t\t\r\n      OUTPUT = &quot;prime number&quot;;\r\n    \t\t  \t\t\t\t\t\r\n    }\r\n    \t\t  \t\t\t\t\r\n    else {\r\n    \t\t  \t\t\t\t\t\r\n      OUTPUT = OUTPUT + FACTOR[c];\r\n      c ++;\r\n    \t\t  \t\t\t\t\t\r\n      do {\r\n    \t\t  \t\t\t\t\t\t\r\n         if (FACTOR[c].compareTo(FACTOR[c-1]) == 0) {\r\n    \t\t  \t\t\t\t\t\t\t\r\n           exponent++;\r\n    \t\t  \t\t\t\t\t\t\t\r\n           if (c == counter) {  // condition if the number with exponent is the last in derivation.\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n    \t  exp = String.valueOf(exponent);\r\n    \t  str.conversion (exp);\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n    \t  OUTPUT = OUTPUT + exp;\r\n    \t  break;\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n           }\r\n    \t\t  \t\t\t\t\t\t\t\r\n         }\r\n    \t\t  \t\t\t\t\t\r\n         else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) ==  -1))&amp;&amp; exponent &gt; 1)) {\r\n    \t\r\n           if (c == counter) {  // condition if the number with exponent is the last in derivation.\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n             exp = String.valueOf(exponent);\r\n             str.conversion (exp);\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n             OUTPUT = OUTPUT + exp + &quot; &#183; &quot; + FACTOR[c];\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n             break;\r\n    \t\t  \t\t\t\t\t\t\t\t\r\n           }\r\n    \t\t  \t\t\t\t\t\t\t\r\n           exp = String.valueOf(exponent);\r\n           str.conversion (exp);\r\n    \t\t  \t\t\t\t\t\t\t\r\n           OUTPUT = OUTPUT + exp + &quot; &#183; &quot; + FACTOR[c];\r\n    \t\t  \t\t\t\t\t\t\t\r\n           exponent = 1;\r\n    \t\t  \t\t\t\t\t\t\r\n        }\r\n    \t\t  \t\t\t\t\t\r\n        else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) == -1)) &amp;&amp; exponent == 1)) {\r\n    \t\t  \t\t\t\t\t\t\t\r\n         OUTPUT = OUTPUT + &quot; &#183; &quot; + String.valueOf(FACTOR[c]);\r\n    \t\t  \t\t\t\t\t\t\r\n         }\r\n    \t\t  \t\t\t\t\t\r\n         c++;\r\n    \t\t  \t\t\t\t\t\t\r\n      } while (c!= counter+1);\r\n    \t\t  \t\t\t\t\t\r\n    }\r\n    \t\t  \t\t\t\t\r\n    answer = firstword + &quot; = &quot; + OUTPUT;\r\n    \r\n    class Convtonum {\r\n    \t\r\n    \tvoid conversion (String str) {\r\n    \t\t\r\n                // Converts 0-9 numbers into superscript form\r\n                str = str.replaceAll(&quot;0&quot;, &quot;\\u2070&quot;);\r\n    \t    str = str.replaceAll(&quot;1&quot;, &quot;\\u00b9&quot;);\r\n    \t    str = str.replaceAll(&quot;2&quot;, &quot;\\u00b2&quot;);\r\n    \t    str = str.replaceAll(&quot;3&quot;, &quot;\\u00b3&quot;);\r\n    \t    str = str.replaceAll(&quot;4&quot;, &quot;\\u2074&quot;);\r\n    \t    str = str.replaceAll(&quot;5&quot;, &quot;\\u2075&quot;);\r\n    \t    str = str.replaceAll(&quot;6&quot;, &quot;\\u2076&quot;);\r\n    \t    str = str.replaceAll(&quot;7&quot;, &quot;\\u2077&quot;);\r\n    \t    str = str.replaceAll(&quot;8&quot;, &quot;\\u2078&quot;);\r\n    \t    str = str.replaceAll(&quot;9&quot;, &quot;\\u2079&quot;);       \r\n    \r\n    \t    CALCULATOR.exp = str;\r\n    \t    \r\n    \t}\r\n    \r\n    }\r\n\r\nHow could this be made to be more faster / efficient?","title":"Prime factorization with superscript exponents java","body":"<p>I would like to have my outputs from my Prime Factorization module in my calculator program to be in this form:  247500 = 2² · 3² · 5⁴ · 11 instead of 2^2 * 3^2 * 5^4 * 11 or 2 2 3 3 5 5 5 5 11.</p>\n<p>The problem is that due to my extremely limited programming knowledge, my implementation of exponent sorting and displaying slows my program down &quot;exponentially&quot; (pun intended) for larger numbers.  I have tried to find a more efficient way of doing the operation, but cannot find any other way.</p>\n<p>I devised the following method...it works, but its very slow.  I apologize if conventions are not being followed (I am a learner programmer).</p>\n<p>The prime numbers are stored in the array FACTOR[c]...I'm using BigInteger in my factorization module.</p>\n<pre><code>if (counter == 0) {\n                            \n  OUTPUT = &quot;prime number&quot;;\n                            \n}\n                        \nelse {\n                            \n  OUTPUT = OUTPUT + FACTOR[c];\n  c ++;\n                            \n  do {\n                                \n     if (FACTOR[c].compareTo(FACTOR[c-1]) == 0) {\n                                    \n       exponent++;\n                                    \n       if (c == counter) {  // condition if the number with exponent is the last in derivation.\n                                        \n      exp = String.valueOf(exponent);\n      str.conversion (exp);\n                                        \n      OUTPUT = OUTPUT + exp;\n      break;\n                                        \n       }\n                                    \n     }\n                            \n     else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) ==  -1))&amp;&amp; exponent &gt; 1)) {\n    \n       if (c == counter) {  // condition if the number with exponent is the last in derivation.\n                                        \n         exp = String.valueOf(exponent);\n         str.conversion (exp);\n                                        \n         OUTPUT = OUTPUT + exp + &quot; · &quot; + FACTOR[c];\n                                        \n         break;\n                                        \n       }\n                                    \n       exp = String.valueOf(exponent);\n       str.conversion (exp);\n                                    \n       OUTPUT = OUTPUT + exp + &quot; · &quot; + FACTOR[c];\n                                    \n       exponent = 1;\n                                \n    }\n                            \n    else if (((FACTOR[c].compareTo(FACTOR[c-1]) == 1 || (FACTOR[c].compareTo(FACTOR[c-1]) == -1)) &amp;&amp; exponent == 1)) {\n                                    \n     OUTPUT = OUTPUT + &quot; · &quot; + String.valueOf(FACTOR[c]);\n                                \n     }\n                            \n     c++;\n                                \n  } while (c!= counter+1);\n                            \n}\n                        \nanswer = firstword + &quot; = &quot; + OUTPUT;\n\nclass Convtonum {\n    \n    void conversion (String str) {\n        \n            // Converts 0-9 numbers into superscript form\n            str = str.replaceAll(&quot;0&quot;, &quot;\\u2070&quot;);\n        str = str.replaceAll(&quot;1&quot;, &quot;\\u00b9&quot;);\n        str = str.replaceAll(&quot;2&quot;, &quot;\\u00b2&quot;);\n        str = str.replaceAll(&quot;3&quot;, &quot;\\u00b3&quot;);\n        str = str.replaceAll(&quot;4&quot;, &quot;\\u2074&quot;);\n        str = str.replaceAll(&quot;5&quot;, &quot;\\u2075&quot;);\n        str = str.replaceAll(&quot;6&quot;, &quot;\\u2076&quot;);\n        str = str.replaceAll(&quot;7&quot;, &quot;\\u2077&quot;);\n        str = str.replaceAll(&quot;8&quot;, &quot;\\u2078&quot;);\n        str = str.replaceAll(&quot;9&quot;, &quot;\\u2079&quot;);       \n\n        CALCULATOR.exp = str;\n        \n    }\n\n}\n</code></pre>\n<p>How could this be made to be more faster / efficient?</p>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1690551642,"post_id":76788276,"comment_id":135373739,"body_markdown":"please enable spring security DEBUG or TRACE logs and update your question with the full logs so that we can see what is actually happening under the hood.","body":"please enable spring security DEBUG or TRACE logs and update your question with the full logs so that we can see what is actually happening under the hood."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690552245,"post_id":76788276,"comment_id":135373856,"body_markdown":"I will add log, but it&#39;s not very helpful. You can see that my JWT is not valid and it&#39;s true, but my Question is why JWT is actually validated.","body":"I will add log, but it&#39;s not very helpful. You can see that my JWT is not valid and it&#39;s true, but my Question is why JWT is actually validated."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690554811,"post_id":76788276,"comment_id":135374525,"body_markdown":"i dont know if i was unclear i asked for the full logs you have cut out all the actual relevant information before the exception so that we can actually see what the server is doing before the exception. Thats why i wrote the FULL logs, and not &quot;the exception&quot;","body":"i dont know if i was unclear i asked for the full logs you have cut out all the actual relevant information before the exception so that we can actually see what the server is doing before the exception. Thats why i wrote the FULL logs, and not &quot;the exception&quot;"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690555742,"post_id":76788276,"comment_id":135374767,"body_markdown":"It was full log with DEBUG. With TRACE is comming more","body":"It was full log with DEBUG. With TRACE is comming more"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557289,"post_id":76788276,"comment_id":135375093,"body_markdown":"why do you have this `@Order(10)`? there is something here you arnt telling us","body":"why do you have this <code>@Order(10)</code>? there is something here you arnt telling us"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557461,"post_id":76788276,"comment_id":135375137,"body_markdown":"Because it&#39;s giving more Filters :) . I think I got it. If I start without Autorization Header I got:\n 2023-07-28 16:53:28,337 TRACE [qtp1542747725-42] BearerTokenAuthenticationFilter: Did not process request since did not find bearer token","body":"Because it&#39;s giving more Filters :) . I think I got it. If I start without Autorization Header I got:  2023-07-28 16:53:28,337 TRACE [qtp1542747725-42] BearerTokenAuthenticationFilter: Did not process request since did not find bearer token"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557619,"post_id":76788276,"comment_id":135375159,"body_markdown":"also what is this `concatArrays(whitelistActuator, new String[]{whitelistError}`","body":"also what is this <code>concatArrays(whitelistActuator, new String[]{whitelistError}</code>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557647,"post_id":76788276,"comment_id":135375166,"body_markdown":"it is very hard for us to help you when there is a lot of abstraction and things that are not needed for the problem in the code example. We cant reproduce things or rule out things if there a lot of things ntd needed in the example as clutter","body":"it is very hard for us to help you when there is a lot of abstraction and things that are not needed for the problem in the code example. We cant reproduce things or rule out things if there a lot of things ntd needed in the example as clutter"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557648,"post_id":76788276,"comment_id":135375167,"body_markdown":"It&#39;s mean that BearerTokenAuthenticationFilter is active undependent of my url, but if Bearer Header is not available - it makes no validation","body":"It&#39;s mean that BearerTokenAuthenticationFilter is active undependent of my url, but if Bearer Header is not available - it makes no validation"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557707,"post_id":76788276,"comment_id":135375183,"body_markdown":"Sorry I tried to remove most of unrelated code","body":"Sorry I tried to remove most of unrelated code"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690557773,"post_id":76788276,"comment_id":135375192,"body_markdown":"for instance, how do i know if the problem is not in this code? `concatArrays(whitelistActuator, new String[]{whitelistError}` you are posting here `/public/v1/csrf` i cant see anywhere in your code that you have whitelisted this endpoint?","body":"for instance, how do i know if the problem is not in this code? <code>concatArrays(whitelistActuator, new String[]{whitelistError}</code> you are posting here <code>&#47;public&#47;v1&#47;csrf</code> i cant see anywhere in your code that you have whitelisted this endpoint?"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690557902,"post_id":76788276,"comment_id":135375225,"body_markdown":"I am very apreciated you for your help. Your suggestion set spring security on trace was very helpful","body":"I am very apreciated you for your help. Your suggestion set spring security on trace was very helpful"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690558592,"post_id":76788276,"comment_id":135375355,"body_markdown":"This thread is also very helpful:\nhttps://stackoverflow.com/questions/35896502/spring-security-bypass-url-or-filter","body":"This thread is also very helpful: <a href=\"https://stackoverflow.com/questions/35896502/spring-security-bypass-url-or-filter\" title=\"spring security bypass url or filter\">stackoverflow.com/questions/35896502/&hellip;</a>"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690558661,"post_id":76788276,"comment_id":135375369,"body_markdown":"And for spring-boot 3\nhttps://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityCustomizer.html#customize(org.springframework.security.config.annotation.web.builders.WebSecurity)","body":"And for spring-boot 3 <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityCustomizer.html#customize(org.springframework.security.config.annotation.web.builders.WebSecurity)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/api/org/&hellip;</a>"}],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690555836,"creation_date":1690550963,"question_id":76788276,"body_markdown":"I have a security configuration, witch permited some request paths for all. If I send &quot;public&quot; request without Authorization header I can reach application and recive 200 Response. But if I send expired Bearer Authorizaton, Spring try to validate my JWT and I get 401 Error.\r\n\r\nSchould Authorization Header not be ignored by &quot;public&quot; url?\r\n\r\nMy Security Config:\r\n\r\n    \t@Bean\r\n\t@Order(10)\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\t// @formatter:off\r\n\t\thttp\r\n\t\t\t\t.csrf(AbstractHttpConfigurer::disable)\r\n\t\t\t\t.authorizeHttpRequests(authorizeRequests -&gt;\r\n\t\t\t\t\t\tauthorizeRequests\r\n\t\t\t\t\t\t\t\t.requestMatchers(concatArrays(concatArrays(whitelistActuator, new String[]{whitelistError}),\r\n\t\t\t\t\t\t\t\t\t\twhitelistPublic) )\r\n\t\t\t\t\t\t\t\t.permitAll().anyRequest()\r\n\t\t\t\t\t\t\t\t.authenticated()\r\n\t\t\t\t)\r\n\t\t\t\t.oauth2ResourceServer( oauth2ResourceServer -&gt;\r\n\t\t\t\t\t\toauth2ResourceServer\r\n\t\t\t\t\t\t\t\t.jwt(jwt -&gt;\r\n\t\t\t\t\t\t\t\t\t\tjwt.jwtAuthenticationConverter(getJwtAuthenticationConverter()))\r\n\t\t\t\t\t\t\t\t.authenticationEntryPoint(this.authenticationEntryPoint)\r\n\t\t\t\t)\r\n\t\t\t\t.formLogin(AbstractHttpConfigurer::disable)\r\n\t\t\t\t.getSharedObject(AuthenticationManagerBuilder.class).authenticationEventPublisher(this.eventPublisher);\r\n\t\t// @formatter:on\r\n\t\treturn http.build();\r\n\t}\r\n\r\nSpring Security Log:\r\n```\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=1/0,kio=1,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] onFillable enter HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} null\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] SocketChannelEndPoint: filled 2476 DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] SelectableChannelEndPoint: Key interests updated 1 -&gt; 0 on SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}]\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] ManagedSelector: Selector sun.nio.ch.WEPollSelectorImpl@44ba404d waiting with 1 keys\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] filled 2476 RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\r\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] parse RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parseNext s=START DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: START --&gt; SPACE1\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE1 --&gt; URI\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: URI --&gt; SPACE2\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE2 --&gt; REQUEST_VERSION\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: REQUEST_VERSION --&gt; HEADER\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(null) header=Authorization, headerString=[Authorization], valueString=[Bearer ***]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Host: localhost:8080) header=Host, headerString=[Host], valueString=[localhost:8080]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Connection: keep-alive) header=Connection, headerString=[Connection], valueString=[keep-alive]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; IN_VALUE\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; FIELD\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(User-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)) header=User-Agent, headerString=[User-Agent], valueString=[Apache-HttpClient/4.5.2 (Java/17.0.5)]\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER --&gt; CONTENT\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpInput: reopen HttpInput@188787857 cs=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} cp=org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c eof=false\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] BlockingContentProducer: reopening org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c\r\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] AsyncContentProducer: reopening AsyncContentProducer@3a01807d[r=null,t=null,i=null,error=false,c=HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=null,age=0}]\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: REQUEST for /public/v1/csrf on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}\r\nHEAD /public/v1/csrf HTTP/1.1\r\nAuthorization: Bearer ***\r\nHost: localhost:8080\r\nConnection: keep-alive\r\nUser-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)\r\n\r\n\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}] parsed true HttpParser{s=CONTENT,0 of -1}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: releaseRequestBuffer HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}]\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: handle http://localhost:8080/public/v1/csrf HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1} \r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannelState: handling HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: action DISPATCH HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] Server: REQUEST HEAD /public/v1/csrf ?null on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: scope null||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: context=||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: Entering scope org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800, dispatch=REQUEST asyncstarted=false\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: sessionHandler=org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800 session=null\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: servlet |/public/v1/csrf|null|ServletPathMapping{matchValue=, pattern=/, servletName=dispatcherServlet, mappingMatch=DEFAULT, servletPath=/public/v1/csrf, pathInfo=null} -&gt; dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED}\r\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: chain=Chain@5927b22(org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter==org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter@64757d56{inst=true,async=true,src=EMBEDDED:null})-&gt;Chain@59d95c6b(characterEncodingFilter==org.springframework.boot.web.servlet.filter.OrderedCharacterEncodingFilter@1d7c9811{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@4098593c(webMvcObservationFilter==org.springframework.web.filter.ServerHttpObservationFilter@3ce7394f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@30731804(formContentFilter==org.springframework.boot.web.servlet.filter.OrderedFormContentFilter@6723cce7{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@26ae3e43(requestContextFilter==org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter@74cd798f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@350714f9(springSecurityFilterChain==org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean$1@7f012923{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@37d4fadc(jwtCsrfTokenFilter==de.myfir.maklerportal.security.csrf.JwtCsrfTokenFilter@601f264d{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@1fcf671a(resourceFilter==de.myfir.maklerportal.security.emabac.ResourceFilter@4403bff8{inst=true,async=true,src=JAKARTA_API:null})-&gt;ChainEnd@48441e86(dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED})\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@220cda54, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39109603, org.springframework.security.web.context.SecurityContextHolderFilter@1e5e3147, org.springframework.security.web.header.HeaderWriterFilter@44dcc0e4, org.springframework.web.filter.CorsFilter@4d3990a5, org.springframework.security.web.authentication.logout.LogoutFilter@43f7f48d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2c3b0cc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aed692d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74cd8c55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18df26a1, org.springframework.security.web.access.ExceptionTranslationFilter@6cd6698b, org.springframework.security.web.access.intercept.AuthorizationFilter@fe38c0e]] (1/3)\r\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] FilterChainProxy: Securing HEAD /public/v1/csrf\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking DisableEncodeUrlFilter (1/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking SecurityContextHolderFilter (3/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking HeaderWriterFilter (4/12)\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking CorsFilter (5/12)\r\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] RequestMappingHandlerMapping: Mapped to de.myfir.bff.mi.CsrfRestController#getCsrf()\r\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking LogoutFilter (6/12)\r\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] LogoutFilter: Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] FilterChainProxy: Invoking BearerTokenAuthenticationFilter (7/12)\r\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] ProviderManager: Authenticating request with JwtAuthenticationProvider (1/2)\r\n\r\n*** and hier will be error Token validation\r\n\r\n\r\n```\r\n\r\n\r\n   ","title":"Spring Security. Bearer Token Validation despite public (permitAll) url","body":"<p>I have a security configuration, witch permited some request paths for all. If I send &quot;public&quot; request without Authorization header I can reach application and recive 200 Response. But if I send expired Bearer Authorizaton, Spring try to validate my JWT and I get 401 Error.</p>\n<p>Schould Authorization Header not be ignored by &quot;public&quot; url?</p>\n<p>My Security Config:</p>\n<pre><code>    @Bean\n@Order(10)\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    // @formatter:off\n    http\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorizeRequests -&gt;\n                    authorizeRequests\n                            .requestMatchers(concatArrays(concatArrays(whitelistActuator, new String[]{whitelistError}),\n                                    whitelistPublic) )\n                            .permitAll().anyRequest()\n                            .authenticated()\n            )\n            .oauth2ResourceServer( oauth2ResourceServer -&gt;\n                    oauth2ResourceServer\n                            .jwt(jwt -&gt;\n                                    jwt.jwtAuthenticationConverter(getJwtAuthenticationConverter()))\n                            .authenticationEntryPoint(this.authenticationEntryPoint)\n            )\n            .formLogin(AbstractHttpConfigurer::disable)\n            .getSharedObject(AuthenticationManagerBuilder.class).authenticationEventPublisher(this.eventPublisher);\n    // @formatter:on\n    return http.build();\n}\n</code></pre>\n<p>Spring Security Log:</p>\n<pre><code>2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=1/0,kio=1,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] onFillable enter HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} null\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] SocketChannelEndPoint: filled 2476 DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] SelectableChannelEndPoint: Key interests updated 1 -&gt; 0 on SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}]\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-333] ManagedSelector: Selector sun.nio.ch.WEPollSelectorImpl@44ba404d waiting with 1 keys\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] filled 2476 RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\n2023-07-28 16:38:53,595 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=0/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=START,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=0,c=false/false,a=IDLE,uri=null,age=0}] parse RetainableByteBuffer@5314b5ea{DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00},r=1}\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parseNext s=START DirectByteBuffer@180af005[p=0,l=2476,c=8192,r=2476]={&lt;&lt;&lt;HEAD /public/v1/csrf HTTP...4.5.2 (Java/17.0.5)\\r\\n\\r\\n&gt;&gt;&gt;\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00...\\x00\\x00\\x00\\x00\\x00\\x00\\x00}\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: START --&gt; SPACE1\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE1 --&gt; URI\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: URI --&gt; SPACE2\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: SPACE2 --&gt; REQUEST_VERSION\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: REQUEST_VERSION --&gt; HEADER\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Authorization --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(null) header=Authorization, headerString=[Authorization], valueString=[Bearer ***]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Host --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Host: localhost:8080) header=Host, headerString=[Host], valueString=[localhost:8080]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:Connection: keep-alive --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(Connection: keep-alive) header=Connection, headerString=[Connection], valueString=[keep-alive]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; IN_VALUE\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER:User-Agent --&gt; FIELD\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: parsedHeader(User-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)) header=User-Agent, headerString=[User-Agent], valueString=[Apache-HttpClient/4.5.2 (Java/17.0.5)]\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpParser: HEADER --&gt; CONTENT\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] HttpInput: reopen HttpInput@188787857 cs=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0} cp=org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c eof=false\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] BlockingContentProducer: reopening org.eclipse.jetty.server.BlockingContentProducer@1dee3d9c\n2023-07-28 16:38:53,596 DEBUG [qtp1542747725-39] AsyncContentProducer: reopening AsyncContentProducer@3a01807d[r=null,t=null,i=null,error=false,c=HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=null,age=0}]\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: REQUEST for /public/v1/csrf on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}\nHEAD /public/v1/csrf HTTP/1.1\nAuthorization: Bearer ***\nHost: localhost:8080\nConnection: keep-alive\nUser-Agent: Apache-HttpClient/4.5.2 (Java/17.0.5)\n\n\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}] parsed true HttpParser{s=CONTENT,0 of -1}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpConnection: releaseRequestBuffer HttpConnection@5a73727b::SocketChannelEndPoint@678cba87[{l=/127.0.0.1:8080,r=/127.0.0.1:65195,OPEN,fill=-,flush=-,to=1/30000}{io=0/0,kio=0,kro=1}]-&gt;[HttpConnection@5a73727b[p=HttpParser{s=CONTENT,0 of -1},g=HttpGenerator@464c0333{s=START}]=&gt;HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1}]\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: handle http://localhost:8080/public/v1/csrf HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=IDLE,uri=http://localhost:8080/public/v1/csrf,age=1} \n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannelState: handling HttpChannelState@22cc2c14{s=IDLE rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] HttpChannel: action DISPATCH HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] Server: REQUEST HEAD /public/v1/csrf ?null on HttpChannelOverHttp@75fd70d6{s=HttpChannelState@22cc2c14{s=HANDLING rs=BLOCKING os=OPEN is=IDLE awp=false se=false i=true al=0},r=1,c=false/false,a=HANDLING,uri=http://localhost:8080/public/v1/csrf,age=1}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: scope null||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ContextHandler: context=||/public/v1/csrf @ o.s.b.w.e.j.JettyEmbeddedWebAppContext@b01cb8d{application,/,[file:///C:/Users/***/AppData/Local/Temp/jetty-docbase.8080.6008215122729850307/, jar:file:/C:/Users/***/.gradle/caches/modules-2/files-2.1/org.webjars/swagger-ui/4.18.1/7297bf31fb28c091221409205f9cabdfefd2af52/swagger-ui-4.18.1.jar!/META-INF/resources],AVAILABLE}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: Entering scope org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800, dispatch=REQUEST asyncstarted=false\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] SessionHandler: sessionHandler=org.eclipse.jetty.server.session.SessionHandler952393960==dftMaxIdleSec=1800 session=null\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: servlet |/public/v1/csrf|null|ServletPathMapping{matchValue=, pattern=/, servletName=dispatcherServlet, mappingMatch=DEFAULT, servletPath=/public/v1/csrf, pathInfo=null} -&gt; dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED}\n2023-07-28 16:38:53,597 DEBUG [qtp1542747725-39] ServletHandler: chain=Chain@5927b22(org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter==org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter@64757d56{inst=true,async=true,src=EMBEDDED:null})-&gt;Chain@59d95c6b(characterEncodingFilter==org.springframework.boot.web.servlet.filter.OrderedCharacterEncodingFilter@1d7c9811{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@4098593c(webMvcObservationFilter==org.springframework.web.filter.ServerHttpObservationFilter@3ce7394f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@30731804(formContentFilter==org.springframework.boot.web.servlet.filter.OrderedFormContentFilter@6723cce7{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@26ae3e43(requestContextFilter==org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter@74cd798f{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@350714f9(springSecurityFilterChain==org.springframework.boot.web.servlet.DelegatingFilterProxyRegistrationBean$1@7f012923{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@37d4fadc(jwtCsrfTokenFilter==de.myfir.maklerportal.security.csrf.JwtCsrfTokenFilter@601f264d{inst=true,async=true,src=JAKARTA_API:null})-&gt;Chain@1fcf671a(resourceFilter==de.myfir.maklerportal.security.emabac.ResourceFilter@4403bff8{inst=true,async=true,src=JAKARTA_API:null})-&gt;ChainEnd@48441e86(dispatcherServlet==org.springframework.web.servlet.DispatcherServlet@7ef5559e{jsp=null,order=-1,inst=true,async=true,src=JAKARTA_API:null,STARTED})\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@220cda54, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39109603, org.springframework.security.web.context.SecurityContextHolderFilter@1e5e3147, org.springframework.security.web.header.HeaderWriterFilter@44dcc0e4, org.springframework.web.filter.CorsFilter@4d3990a5, org.springframework.security.web.authentication.logout.LogoutFilter@43f7f48d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2c3b0cc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aed692d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74cd8c55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18df26a1, org.springframework.security.web.access.ExceptionTranslationFilter@6cd6698b, org.springframework.security.web.access.intercept.AuthorizationFilter@fe38c0e]] (1/3)\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] FilterChainProxy: Securing HEAD /public/v1/csrf\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking DisableEncodeUrlFilter (1/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking SecurityContextHolderFilter (3/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking HeaderWriterFilter (4/12)\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking CorsFilter (5/12)\n2023-07-28 16:38:53,598 DEBUG [qtp1542747725-39] RequestMappingHandlerMapping: Mapped to de.myfir.bff.mi.CsrfRestController#getCsrf()\n2023-07-28 16:38:53,598 TRACE [qtp1542747725-39] FilterChainProxy: Invoking LogoutFilter (6/12)\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] LogoutFilter: Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] FilterChainProxy: Invoking BearerTokenAuthenticationFilter (7/12)\n2023-07-28 16:38:53,599 TRACE [qtp1542747725-39] ProviderManager: Authenticating request with JwtAuthenticationProvider (1/2)\n\n*** and hier will be error Token validation\n\n\n</code></pre>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1688546798,"post_id":76618264,"comment_id":135086313,"body_markdown":"Please [edit] your question to add a link to the docs you are referring to.","body":"Please <a href=\"https://stackoverflow.com/posts/76618264/edit\">edit</a> your question to add a link to the docs you are referring to."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688563261,"post_id":76618264,"comment_id":135089979,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1688574234,"post_id":76618264,"comment_id":135092822,"body_markdown":"No, this is just that synchronized is implemented in the JVM, while a semaphore is implemented in Java (which sees that you use a virtual thread and yields instead of blocking).","body":"No, this is just that synchronized is implemented in the JVM, while a semaphore is implemented in Java (which sees that you use a virtual thread and yields instead of blocking)."}],"answers":[{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690555434,"creation_date":1690555434,"answer_id":76788835,"question_id":76618264,"body_markdown":"The [JEP 425][1] gives, in my opinion, more detailed technical information on the issue you raised. It mentions `java.util.concurrent.locks.ReentrantLock`. A synchronization primitive `Semaphore` also exists in Java Concurrency and it uses the same `AbstractQueuedSynchronizer` a.k.a. the AQS as `ReentrantLock` does, so it is conceptually the same, but semantic of `ReentrantLock` is very similar to that of `synchronized` block, which is advised to be replaced. But this is a technical remark.\r\n\r\nThe key difference is that `ReentrantLock`, AQS, direct `Unsafe`/`VarHandle` and similar synchronization primitives use non-blocking CAS technique while `synchronized` blocks the thread, at least in a case of contention. \r\n\r\nTo understand the difference between the two, I&#39;d advise to learn more about [CAS][2] and/or experiment with Java `Atomic*` methods `compareAndSet`.\r\n\r\n As a side note, `ReentrantLock`, AQS and few other other synchronization primitives still may block the thread (in fact, it is necessary, generally speaking), it is done by calling `LockSupport.park` methods. Under the hood, `LockSupport.park` also invokes a native method, but for some reason this is not (or lesser?) problem for Virtual Threads. \r\n\r\n   \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/425\r\n  [2]: https://en.wikipedia.org/wiki/Compare-and-swap","title":"Synchronize block pinning virtual thread","body":"<p>The <a href=\"https://openjdk.org/jeps/425\" rel=\"noreferrer\">JEP 425</a> gives, in my opinion, more detailed technical information on the issue you raised. It mentions <code>java.util.concurrent.locks.ReentrantLock</code>. A synchronization primitive <code>Semaphore</code> also exists in Java Concurrency and it uses the same <code>AbstractQueuedSynchronizer</code> a.k.a. the AQS as <code>ReentrantLock</code> does, so it is conceptually the same, but semantic of <code>ReentrantLock</code> is very similar to that of <code>synchronized</code> block, which is advised to be replaced. But this is a technical remark.</p>\n<p>The key difference is that <code>ReentrantLock</code>, AQS, direct <code>Unsafe</code>/<code>VarHandle</code> and similar synchronization primitives use non-blocking CAS technique while <code>synchronized</code> blocks the thread, at least in a case of contention.</p>\n<p>To understand the difference between the two, I'd advise to learn more about <a href=\"https://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"noreferrer\">CAS</a> and/or experiment with Java <code>Atomic*</code> methods <code>compareAndSet</code>.</p>\n<p>As a side note, <code>ReentrantLock</code>, AQS and few other other synchronization primitives still may block the thread (in fact, it is necessary, generally speaking), it is done by calling <code>LockSupport.park</code> methods. Under the hood, <code>LockSupport.park</code> also invokes a native method, but for some reason this is not (or lesser?) problem for Virtual Threads.</p>\n"}],"owner":{"account_id":18702847,"reputation":88,"user_id":13634675,"display_name":"Васил Егов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1182,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76788835,"answer_count":1,"score":4,"last_activity_date":1690555434,"creation_date":1688544270,"question_id":76618264,"body_markdown":"I am an enthusiast and am wondering about virtual threads. In the docs it says that one of the conditions to pin the thread is in a synchronized block, and in those cases to use a semaphore. Here are the docs to the JEP https://openjdk.org/jeps/444 \r\n\r\n&gt; There are two scenarios in which a virtual thread cannot be unmounted during blocking operations because it is pinned to its carrier:\r\n&gt; When it executes code inside a synchronized block or method, or \r\n&gt; When it executes a native method or a foreign function.\r\n\r\nIs this due to the implementation of a synchronized block being a spin lock and the thread does not stop executing instructions, while a semaphore will yield after a few attempts?","title":"Synchronize block pinning virtual thread","body":"<p>I am an enthusiast and am wondering about virtual threads. In the docs it says that one of the conditions to pin the thread is in a synchronized block, and in those cases to use a semaphore. Here are the docs to the JEP <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/444</a></p>\n<blockquote>\n<p>There are two scenarios in which a virtual thread cannot be unmounted during blocking operations because it is pinned to its carrier:\nWhen it executes code inside a synchronized block or method, or\nWhen it executes a native method or a foreign function.</p>\n</blockquote>\n<p>Is this due to the implementation of a synchronized block being a spin lock and the thread does not stop executing instructions, while a semaphore will yield after a few attempts?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","accessibility"],"comments":[{"owner":{"account_id":708924,"reputation":5021,"user_id":608042,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1690554246,"post_id":76774545,"comment_id":135374385,"body_markdown":"I tried to provide some background in my answer. To really help you, could you explain what you are trying to achieve?","body":"I tried to provide some background in my answer. To really help you, could you explain what you are trying to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":708924,"reputation":5021,"user_id":608042,"accept_rate":62,"display_name":"Andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690555141,"creation_date":1690554209,"answer_id":76788683,"question_id":76774545,"body_markdown":"How about [`getAriaRole()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getAriaRole())\r\n\r\n&gt; `default java.lang.String getAriaRole()`&lt;br&gt;\r\n&gt; Gets result of computing the WAI-ARIA role of element. \r\n\r\nThe role is computed as follows:\r\n\r\n1. The role is taken from the `role` attribute, if present\r\n2. If not, the element has the [implicit role assigned in the ARIA in HTML standard](https://www.w3.org/TR/html-aria/#implicit)\r\n\r\n---\r\n\r\nHere is why what you tried doesn’t work.\r\n\r\n```Java\r\nWebElement.getAttribute(&quot;Role&quot;)\r\n```\r\n\r\nThis only works for elements that have their role explicitly assigned via the `role` attribute, like `&lt;div role=&quot;img&quot;&gt;`. It does not work for the implicit role that `&lt;img&gt;` has.\r\n\r\n```\r\nWebElement.getCssValue(&quot;Role&quot;)\r\n```\r\n\r\nThis would access the element’s `style` properties. There is no accessibility information in CSS, especially [no role property](https://developer.mozilla.org/en-US/docs/Web/CSS/Reference#index).\r\n\r\n```\r\nWebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\r\n```\r\n\r\nThis will search any element with `computed-property` in the [classList](https://developer.mozilla.org/en-US/docs/Web/API/Element/classList), set via the `class` attribute, “in the current context”.\r\n\r\nI’m assuming you are trying to search for Chrome developer tools Accessibility panel with this? That’s not possible at all. It’s part of the the Chrome browser’s UI, and not part of the web page.","title":"How to access Computed Properties like Role:img using selenium in Java","body":"<p>How about <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getAriaRole()\" rel=\"nofollow noreferrer\"><code>getAriaRole()</code></a></p>\n<blockquote>\n<p><code>default java.lang.String getAriaRole()</code><br>\nGets result of computing the WAI-ARIA role of element.</p>\n</blockquote>\n<p>The role is computed as follows:</p>\n<ol>\n<li>The role is taken from the <code>role</code> attribute, if present</li>\n<li>If not, the element has the <a href=\"https://www.w3.org/TR/html-aria/#implicit\" rel=\"nofollow noreferrer\">implicit role assigned in the ARIA in HTML standard</a></li>\n</ol>\n<hr />\n<p>Here is why what you tried doesn’t work.</p>\n<pre><code>WebElement.getAttribute(&quot;Role&quot;)\n</code></pre>\n<p>This only works for elements that have their role explicitly assigned via the <code>role</code> attribute, like <code>&lt;div role=&quot;img&quot;&gt;</code>. It does not work for the implicit role that <code>&lt;img&gt;</code> has.</p>\n<pre><code>WebElement.getCssValue(&quot;Role&quot;)\n</code></pre>\n<p>This would access the element’s <code>style</code> properties. There is no accessibility information in CSS, especially <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Reference#index\" rel=\"nofollow noreferrer\">no role property</a>.</p>\n<pre><code>WebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\n</code></pre>\n<p>This will search any element with <code>computed-property</code> in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\">classList</a>, set via the <code>class</code> attribute, “in the current context”.</p>\n<p>I’m assuming you are trying to search for Chrome developer tools Accessibility panel with this? That’s not possible at all. It’s part of the the Chrome browser’s UI, and not part of the web page.</p>\n"}],"owner":{"account_id":26730682,"reputation":1,"user_id":20333085,"display_name":"Siddhant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690555141,"creation_date":1690400445,"question_id":76774545,"body_markdown":"![The Developer Tools Accessibility panel in dark mode is showing an Accessibility Tree with the selected node out of view, an empty grouping of ARIA Attributes, and then Computed Properties][1]\r\n\r\nThere are a set of properties retrieved under the Accessibility section of the webpage for the inspected element:\r\n\r\n```\r\nComputed Properties\r\n\r\nName: &quot;&quot;\r\n`aria-labelledby`: Not specified\r\n`aria-label`: Not specified\r\n`title`: Not specified\r\nRole: generic\r\n```\r\n\r\nThese properties are returned under the computed Property category and are not visible inside the DOM.\r\n\r\nTo understand it better, it is more like what a browser interprets that element to be based on its definition.\r\n\r\n```\r\nTried out the following methods unsuccessfully:\r\n\r\nWebElement.getAttribute(&quot;Role&quot;)\r\nWebElement.getCssValue(&quot;Role&quot;)\r\nWebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EGJdN.png","title":"How to access Computed Properties like Role:img using selenium in Java","body":"<p><img src=\"https://i.stack.imgur.com/EGJdN.png\" alt=\"The Developer Tools Accessibility panel in dark mode is showing an Accessibility Tree with the selected node out of view, an empty grouping of ARIA Attributes, and then Computed Properties\" /></p>\n<p>There are a set of properties retrieved under the Accessibility section of the webpage for the inspected element:</p>\n<pre><code>Computed Properties\n\nName: &quot;&quot;\n`aria-labelledby`: Not specified\n`aria-label`: Not specified\n`title`: Not specified\nRole: generic\n</code></pre>\n<p>These properties are returned under the computed Property category and are not visible inside the DOM.</p>\n<p>To understand it better, it is more like what a browser interprets that element to be based on its definition.</p>\n<pre><code>Tried out the following methods unsuccessfully:\n\nWebElement.getAttribute(&quot;Role&quot;)\nWebElement.getCssValue(&quot;Role&quot;)\nWebElement.findElement(By.cssSelector(&quot;.computed-property&quot;)\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9853,"page":281,"page_size":100}
