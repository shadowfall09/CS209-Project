{"items":[{"tags":["java","android","android-studio","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1535364202,"post_id":52035699,"comment_id":91023927,"body_markdown":"Where do you put the caret? At the beginning of the word?","body":"Where do you put the caret? At the beginning of the word?"},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":1,"creation_date":1572342348,"post_id":52035699,"comment_id":103520781,"body_markdown":"@Khemraj Old question, I know - but if you still want a double click to select the whole word, you can uncheck &#39;Editor -&gt; General -&gt; Honor &quot;CamelHumps&quot; words settings when selecting on double click&#39;","body":"@Khemraj Old question, I know - but if you still want a double click to select the whole word, you can uncheck &#39;Editor -&gt; General -&gt; Honor &quot;CamelHumps&quot; words settings when selecting on double click&#39;"},{"owner":{"account_id":167109,"reputation":2229,"user_id":391693,"display_name":"farfareast"},"score":0,"creation_date":1686340499,"post_id":52035699,"comment_id":134790727,"body_markdown":"In Rider 2023.1.2 this setting is in: Settings/Editor/General/Typing Assistance : (checkbox) Use CamelHumps","body":"In Rider 2023.1.2 this setting is in: Settings/Editor/General/Typing Assistance : (checkbox) Use CamelHumps"}],"tags":[],"owner":{"account_id":11763153,"reputation":388,"user_id":8608614,"display_name":"Frandall"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1535359940,"creation_date":1535359940,"answer_id":52035699,"question_id":52034981,"body_markdown":"enable Use &quot;CamelHumps&quot; words in Settings | Editor | General | Smart Keys","title":"Shortcut for selection till next capital letter IntellIJ/ Android Studio","body":"<p>enable Use \"CamelHumps\" words in Settings | Editor | General | Smart Keys</p>\n"},{"tags":[],"owner":{"account_id":16025047,"reputation":199,"user_id":11565523,"display_name":"Saad Mansoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669793789,"creation_date":1669793789,"answer_id":74624264,"question_id":52034981,"body_markdown":"I rather create a shortcut (in keymap) to jump to the capitalLetter.\r\nHere is how you do it:\r\n\r\nSteps:\r\n1. open settins `(CTRL + ALT + S)`\r\n2. search for `camelHump`\r\n3. in keymap, for &quot;Move Caret to the Next word With Selection&quot;\r\n4. set shortcut key as per your desire.\r\n        e.g. i put shortcut as `ALT+SHIFT+rightArrow`, because it is similiar to `ALT+CTRL+rightArrow` (which is used to select whole word)","title":"Shortcut for selection till next capital letter IntellIJ/ Android Studio","body":"<p>I rather create a shortcut (in keymap) to jump to the capitalLetter.\nHere is how you do it:</p>\n<p>Steps:</p>\n<ol>\n<li>open settins <code>(CTRL + ALT + S)</code></li>\n<li>search for <code>camelHump</code></li>\n<li>in keymap, for &quot;Move Caret to the Next word With Selection&quot;</li>\n<li>set shortcut key as per your desire.\ne.g. i put shortcut as <code>ALT+SHIFT+rightArrow</code>, because it is similiar to <code>ALT+CTRL+rightArrow</code> (which is used to select whole word)</li>\n</ol>\n"}],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1669793789,"creation_date":1535356847,"question_id":52034981,"body_markdown":"Say I have following two strings.\r\n\r\n    String s = &quot;update_user_name&quot;;\r\n    String s = &quot;updateUserName&quot;;\r\n\r\nCurrently I use **`CTRL + SHIFT + (Right/Left Arrow)`** to make whole world selection. \r\n\r\nIs there a shortcut for selecting till next capital letter (in 2nd case). Or for different part of word? \r\n\r\nI hope there is one shortcut that I don&#39;t know.\r\n\r\nSo that when I press that shortcut that select only **update** from these strings. Then on next press it select **update_user/ updateUser**. \r\n\r\n**Please note** this shortcut is expected to work with method names/ strings/ or any text in code.\r\n\r\nI hope you understood me.\r\n","title":"Shortcut for selection till next capital letter IntellIJ/ Android Studio","body":"<p>Say I have following two strings.</p>\n\n<pre><code>String s = \"update_user_name\";\nString s = \"updateUserName\";\n</code></pre>\n\n<p>Currently I use <strong><code>CTRL + SHIFT + (Right/Left Arrow)</code></strong> to make whole world selection. </p>\n\n<p>Is there a shortcut for selecting till next capital letter (in 2nd case). Or for different part of word? </p>\n\n<p>I hope there is one shortcut that I don't know.</p>\n\n<p>So that when I press that shortcut that select only <strong>update</strong> from these strings. Then on next press it select <strong>update_user/ updateUser</strong>. </p>\n\n<p><strong>Please note</strong> this shortcut is expected to work with method names/ strings/ or any text in code.</p>\n\n<p>I hope you understood me.</p>\n"},{"tags":["java","spring-boot","pom.xml","dependency-management","maven-dependency"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793755,"creation_date":1669793755,"answer_id":74624258,"question_id":74623194,"body_markdown":"From the Maven guide:\r\n\r\n&gt; Imports are most effective when used for defining a &quot;library&quot; of related artifacts that are generally part of a multiproject build. It is fairly common for one project to use one or more artifacts from these libraries. However, it has sometimes been difficult to keep the versions in the project using the artifacts in synch with the versions distributed in the library. The pattern below illustrates how a &quot;bill of materials&quot; (BOM) can be created for use by other projects.\r\n\r\nRead more here: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms\r\n","title":"What is the difference between normal and bom dependencies in pom.xml?","body":"<p>From the Maven guide:</p>\n<blockquote>\n<p>Imports are most effective when used for defining a &quot;library&quot; of related artifacts that are generally part of a multiproject build. It is fairly common for one project to use one or more artifacts from these libraries. However, it has sometimes been difficult to keep the versions in the project using the artifacts in synch with the versions distributed in the library. The pattern below illustrates how a &quot;bill of materials&quot; (BOM) can be created for use by other projects.</p>\n</blockquote>\n<p>Read more here: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms</a></p>\n"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669793755,"creation_date":1669785702,"question_id":74623194,"body_markdown":"I see on maven repository, there are two types of dependencies while I was trying to add into my pom.xml of springBoot Application. \r\nartifactId = aws-java-sdk and aws-java-sdk-bom\r\n&lt;/dependency&gt;\r\nWhat&#39;s is the difference between the normal one and the one with the &quot;bom&quot;. How do we know which one is a better fit for our requirement?","title":"What is the difference between normal and bom dependencies in pom.xml?","body":"<p>I see on maven repository, there are two types of dependencies while I was trying to add into my pom.xml of springBoot Application.\nartifactId = aws-java-sdk and aws-java-sdk-bom\n\nWhat's is the difference between the normal one and the one with the &quot;bom&quot;. How do we know which one is a better fit for our requirement?</p>\n"},{"tags":["java","string-formatting","stringbuilder"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669788181,"post_id":74623407,"comment_id":131719912,"body_markdown":"Perhaps a better question to ask would be: How do I join an arbitrary number of strings together, separated by a comma and a space?","body":"Perhaps a better question to ask would be: How do I join an arbitrary number of strings together, separated by a comma and a space?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1669788418,"post_id":74623407,"comment_id":131719967,"body_markdown":"And why did you reject your `String.join` solution -- that&#39;s the right way to do it.","body":"And why did you reject your <code>String.join</code> solution -- that&#39;s the right way to do it."},{"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"score":0,"creation_date":1669788813,"post_id":74623407,"comment_id":131720042,"body_markdown":"I have 17 items currently and I started thinking about how long the string would be and how i could format it better. You are right that it worked but I was hoping i could find a way to have three items per line to make it cleaner i guess.","body":"I have 17 items currently and I started thinking about how long the string would be and how i could format it better. You are right that it worked but I was hoping i could find a way to have three items per line to make it cleaner i guess."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1669788852,"post_id":74623407,"comment_id":131720048,"body_markdown":"You certainly can do that, but you&#39;ll need to do some programming to do it -- write a loop that goes through every three items, and handle the remainder somehow.","body":"You certainly can do that, but you&#39;ll need to do some programming to do it -- write a loop that goes through every three items, and handle the remainder somehow."},{"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"score":0,"creation_date":1669789119,"post_id":74623407,"comment_id":131720102,"body_markdown":"I assumed, maybe naively, that i could. I am currently working on a loop to do just that but I am just not sure how exactly I am going to do it. Thought maybe someone could point me in the right direction I suppose.","body":"I assumed, maybe naively, that i could. I am currently working on a loop to do just that but I am just not sure how exactly I am going to do it. Thought maybe someone could point me in the right direction I suppose."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669790790,"post_id":74623407,"comment_id":131720491,"body_markdown":"So you are really after some kind of word wrap feature for console output? The only ones I have seen were hand coded.","body":"So you are really after some kind of word wrap feature for console output? The only ones I have seen were hand coded."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669791201,"post_id":74623407,"comment_id":131720591,"body_markdown":"`IntStream.range(0, (inventory.size() + 2) / 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;, &quot;&quot;, &quot;, &quot;))) .collect(Collectors.joining(&quot;\\n&quot;))`. Prints an ugly comma in the end, though, we will need to fix that.","body":"<code>IntStream.range(0, (inventory.size() + 2) &#47; 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;, &quot;&quot;, &quot;, &quot;))) .collect(Collectors.joining(&quot;\\n&quot;))</code>. Prints an ugly comma in the end, though, we will need to fix that."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1669791837,"post_id":74623407,"comment_id":131720730,"body_markdown":"@OleV.V. `IntStream.range(0, (inventory.size() + 2) / 3)\n                .mapToObj(i -&gt; String.join(&quot;, &quot;, inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size()))))\n                .collect(Collectors.joining(&quot;\\n&quot;));`","body":"@OleV.V. <code>IntStream.range(0, (inventory.size() + 2) &#47; 3)                 .mapToObj(i -&gt; String.join(&quot;, &quot;, inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size()))))                 .collect(Collectors.joining(&quot;\\n&quot;));</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669793939,"post_id":74623407,"comment_id":131721318,"body_markdown":"@chptr-one Nice! That gives output that at least I like. Or `IntStream.range(0, (inventory.size() + 2) / 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;))) .collect(Collectors.joining(&quot;,\\n&quot;))` if we want comma after each line except the last.","body":"@chptr-one Nice! That gives output that at least I like. Or <code>IntStream.range(0, (inventory.size() + 2) &#47; 3) .mapToObj(i -&gt; inventory.subList(i * 3, Math.min((i + 1) * 3, inventory.size())).stream().collect(Collectors.joining(&quot;, &quot;))) .collect(Collectors.joining(&quot;,\\n&quot;))</code> if we want comma after each line except the last."}],"answers":[{"comments":[{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1669793668,"post_id":74623913,"comment_id":131721230,"body_markdown":"Combining `List.subList` and `String.join` is a creative way to append the comma conditionally.   Thanks for sharing!","body":"Combining <code>List.subList</code> and <code>String.join</code> is a creative way to append the comma conditionally.   Thanks for sharing!"},{"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"score":0,"creation_date":1669837334,"post_id":74623913,"comment_id":131736499,"body_markdown":"So I really like both answers provided but for the sake of simplicity I am going to accept this answer. I believe it to be more concise and it gets the job done. However i would like it noted that the other answer provided has a very SMALL benefit over this one in that it  can append a comma on the third item in each line if there are more items after.","body":"So I really like both answers provided but for the sake of simplicity I am going to accept this answer. I believe it to be more concise and it gets the job done. However i would like it noted that the other answer provided has a very SMALL benefit over this one in that it  can append a comma on the third item in each line if there are more items after."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1669878869,"post_id":74623913,"comment_id":131744187,"body_markdown":"Good point, I hadn&#39;t considered that you may want to keep the trailing commas.","body":"Good point, I hadn&#39;t considered that you may want to keep the trailing commas."}],"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669791607,"creation_date":1669791607,"answer_id":74623913,"question_id":74623407,"body_markdown":"Using the `String.join()` you describe in the comments, you get this:\r\n\r\n    List&lt;String&gt; inventory = List.of(\r\n        &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;,\r\n        &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;);\r\n\r\n    public void displayInventory()  {                   \r\n        System.out.println(&quot;Inventory:&quot;);\r\n        for (int i = 0, size = inventory.size(); i &lt; size; i += 3)\r\n            System.out.println(String.join(&quot;, &quot;,\r\n                inventory.subList(i, Math.min(i + 3, size))));\r\n    } \r\n\r\n\r\nand\r\n\r\n    displayInentory();\r\n\r\noutput:\r\n\r\n    Inventory:\r\n    A, B, C\r\n    D, E, F\r\n    G, H, I\r\n    J, K, L\r\n    M, N, O\r\n    P, Q\r\n\r\n","title":"Can I format an unknown amount of strings comma separated with three strings on each line?","body":"<p>Using the <code>String.join()</code> you describe in the comments, you get this:</p>\n<pre><code>List&lt;String&gt; inventory = List.of(\n    &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;,\n    &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;M&quot;, &quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;);\n\npublic void displayInventory()  {                   \n    System.out.println(&quot;Inventory:&quot;);\n    for (int i = 0, size = inventory.size(); i &lt; size; i += 3)\n        System.out.println(String.join(&quot;, &quot;,\n            inventory.subList(i, Math.min(i + 3, size))));\n} \n</code></pre>\n<p>and</p>\n<pre><code>displayInentory();\n</code></pre>\n<p>output:</p>\n<pre><code>Inventory:\nA, B, C\nD, E, F\nG, H, I\nJ, K, L\nM, N, O\nP, Q\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"score":1,"creation_date":1669837452,"post_id":74624211,"comment_id":131736536,"body_markdown":"Thank you very much, your solution is what I thought I was going to have to do but couldn&#39;t figure it out. However, I have accepted the other answer due to its simplicity. Thanks again for your assistance!","body":"Thank you very much, your solution is what I thought I was going to have to do but couldn&#39;t figure it out. However, I have accepted the other answer due to its simplicity. Thanks again for your assistance!"},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1669879065,"post_id":74624211,"comment_id":131744230,"body_markdown":"Another downside to this solution is that it will not handle inventory items with special characters such as `%n`, `%s` properly.  I&#39;m not sure if this would ever occur with inventory items specifically, but it&#39;s another downside to utilizing the `.format(...)` API, or any API that performs blind substitution.","body":"Another downside to this solution is that it will not handle inventory items with special characters such as <code>%n</code>, <code>%s</code> properly.  I&#39;m not sure if this would ever occur with inventory items specifically, but it&#39;s another downside to utilizing the <code>.format(...)</code> API, or any API that performs blind substitution."}],"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793405,"creation_date":1669793405,"answer_id":74624211,"question_id":74623407,"body_markdown":"&gt; Do I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?\r\n\r\nYes, or use a looping method as described in another answer [here](https://stackoverflow.com/a/74623913/3196753).  This is because `PrintStream.format()` doesn&#39;t allow any unused variables.\r\n\r\nBelow is and adaptation of &quot;check[ing] to see if there is a multiple of three items in the players inventory&quot; by manipulating the format string.\r\n\r\n    List inventory = List.of(&quot;Shovel&quot;, &quot;Dirt&quot;, &quot;Magazine&quot;, &quot;Marble&quot;, &quot;Orange&quot;, &quot;Knife&quot;, &quot;Popsicle&quot;);\r\n\r\n    StringBuilder format = new StringBuilder();\r\n    for(int i = 0; i &lt; inventory.size(); i++) {\r\n        if(i == 0) {\r\n            // first item, prepend &quot;Inventory:&quot;\r\n            format.append(&quot;Inventory:%n%s&quot;);\r\n        } else if(i == inventory.size() -1) {\r\n            // last item, don&#39;t prepend or append\r\n            format.append(&quot;%s&quot;);\r\n        } else if(i % 3 == 2) {\r\n            // third item, append newline\r\n            format.append(&quot;%s%n&quot;);\r\n        } else if(i &lt; inventory.size() -1) {\r\n            // 1st or 2nd item, append comma and space\r\n            format.append(&quot;%s, &quot;);\r\n        }\r\n    }\r\n    \r\n    System.out.println(&quot;Format: \\n&quot; + format + &quot;\\n&quot;);\r\n    System.out.format(format.toString(), inventory.toArray());;\r\n\r\n\r\nOutput:\r\n\r\n    Format: \r\n    Inventory:%n%s%s, %s%n%s, %s, %s%n%s\r\n\r\n    Inventory:\r\n    ShovelDirt, Magazine\r\n    Marble, Orange, Knife\r\n    Popsicle\r\n\r\n","title":"Can I format an unknown amount of strings comma separated with three strings on each line?","body":"<blockquote>\n<p>Do I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?</p>\n</blockquote>\n<p>Yes, or use a looping method as described in another answer <a href=\"https://stackoverflow.com/a/74623913/3196753\">here</a>.  This is because <code>PrintStream.format()</code> doesn't allow any unused variables.</p>\n<p>Below is and adaptation of &quot;check[ing] to see if there is a multiple of three items in the players inventory&quot; by manipulating the format string.</p>\n<pre><code>List inventory = List.of(&quot;Shovel&quot;, &quot;Dirt&quot;, &quot;Magazine&quot;, &quot;Marble&quot;, &quot;Orange&quot;, &quot;Knife&quot;, &quot;Popsicle&quot;);\n\nStringBuilder format = new StringBuilder();\nfor(int i = 0; i &lt; inventory.size(); i++) {\n    if(i == 0) {\n        // first item, prepend &quot;Inventory:&quot;\n        format.append(&quot;Inventory:%n%s&quot;);\n    } else if(i == inventory.size() -1) {\n        // last item, don't prepend or append\n        format.append(&quot;%s&quot;);\n    } else if(i % 3 == 2) {\n        // third item, append newline\n        format.append(&quot;%s%n&quot;);\n    } else if(i &lt; inventory.size() -1) {\n        // 1st or 2nd item, append comma and space\n        format.append(&quot;%s, &quot;);\n    }\n}\n\nSystem.out.println(&quot;Format: \\n&quot; + format + &quot;\\n&quot;);\nSystem.out.format(format.toString(), inventory.toArray());;\n</code></pre>\n<p>Output:</p>\n<pre><code>Format: \nInventory:%n%s%s, %s%n%s, %s, %s%n%s\n\nInventory:\nShovelDirt, Magazine\nMarble, Orange, Knife\nPopsicle\n</code></pre>\n"}],"owner":{"account_id":22730133,"reputation":35,"user_id":16893190,"display_name":"Justice Brinston"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74623913,"answer_count":2,"score":0,"last_activity_date":1669793405,"creation_date":1669787656,"question_id":74623407,"body_markdown":"I have looked for the past hour at least but to no avail. I&#39;m writing a text based adventure game and I have an ArrayList storing my inventory. I am currently working on a &quot;displayInventory&quot; method which simply prints the inventory to console. \r\n     \r\n    public void displayInventory() \t\r\n\t{   \t\t\t\t\r\n\t\t\r\n\t\tStringBuilder result = new StringBuilder(&quot;Inventory: \\n&quot;);\r\n\r\n\r\n\t\tString format = (&quot;%s, %s, %s %n&quot;); \r\n\t\t\r\n\t\tfor (int i=0; i&lt; inventory.size(); i++)\r\n\t\t{\r\n\t\t\t\r\n\t\t\tresult.append(inventory.get(i));\r\n\t\t}\r\n\t\t\t\r\n\t\t//String result = String.join(&quot;,&quot; inventory);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.format(format, result.toString());;\r\n\t} \r\n\t\r\nNow initially my issue was figuring out how to use it with StringBuilder but now I sort of have that down. But I&#39;ve run into the issue where I&#39;ve set the format to three strings(items from inventory) to be printed to each line. After testing it with only two items I get the errors below (which makes sense).\r\n\r\n\r\n    Inventory: \r\n    Small BottleLarge Bottle, Exception in thread &quot;main&quot; java.util.MissingFormatArgumentException: Format specifier &#39;%s&#39;\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2688)\r\n\tat java.base/java.io.PrintStream.format(PrintStream.java:1209)\r\n\tat wonderland/gameObjects.Player.displayInventory(Player.java:41)\r\n\tat wonderland/gameObjects.Test.main(Test.java:19)\r\n\r\nDo I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?\r\n\r\nThe player could pick three items up, use one, then pick up another two. I need some way of displaying the varying amount of items that could be in their inventory.\r\n\r\nI hate asking questions on SO because they almost always get declared duplicates, despite no case being identical. So I was really hesitant but couldn&#39;t take the head trauma any longer. Thank you in advance for any and all help/answers.","title":"Can I format an unknown amount of strings comma separated with three strings on each line?","body":"<p>I have looked for the past hour at least but to no avail. I'm writing a text based adventure game and I have an ArrayList storing my inventory. I am currently working on a &quot;displayInventory&quot; method which simply prints the inventory to console.</p>\n<pre><code>public void displayInventory()  \n{                   \n    \n    StringBuilder result = new StringBuilder(&quot;Inventory: \\n&quot;);\n\n\n    String format = (&quot;%s, %s, %s %n&quot;); \n    \n    for (int i=0; i&lt; inventory.size(); i++)\n    {\n        \n        result.append(inventory.get(i));\n    }\n        \n    //String result = String.join(&quot;,&quot; inventory);\n    \n    \n    System.out.format(format, result.toString());;\n} \n</code></pre>\n<p>Now initially my issue was figuring out how to use it with StringBuilder but now I sort of have that down. But I've run into the issue where I've set the format to three strings(items from inventory) to be printed to each line. After testing it with only two items I get the errors below (which makes sense).</p>\n<pre><code>Inventory: \nSmall BottleLarge Bottle, Exception in thread &quot;main&quot; java.util.MissingFormatArgumentException: Format specifier '%s'\nat java.base/java.util.Formatter.format(Formatter.java:2688)\nat java.base/java.io.PrintStream.format(PrintStream.java:1209)\nat wonderland/gameObjects.Player.displayInventory(Player.java:41)\nat wonderland/gameObjects.Test.main(Test.java:19)\n</code></pre>\n<p>Do I need to set up some sort of check to see if there is a multiple of three items in the players inventory and have different print statements/formats if not? Is there a way to format an unknown amount (or at least a varying amount) of strings?</p>\n<p>The player could pick three items up, use one, then pick up another two. I need some way of displaying the varying amount of items that could be in their inventory.</p>\n<p>I hate asking questions on SO because they almost always get declared duplicates, despite no case being identical. So I was really hesitant but couldn't take the head trauma any longer. Thank you in advance for any and all help/answers.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1648761976,"post_id":71522462,"comment_id":126713953,"body_markdown":"Please see [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822). It looks like there&#39;s an output log in Hackerearth that might tell you what&#39;s wrong.","body":"Please see <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a>. It looks like there&#39;s an output log in Hackerearth that might tell you what&#39;s wrong."}],"answers":[{"comments":[{"owner":{"account_id":21964729,"reputation":1798,"user_id":16242139,"display_name":"Zero"},"score":0,"creation_date":1689177731,"post_id":74624182,"comment_id":135177566,"body_markdown":"Read [this](https://meta.stackoverflow.com/q/421831) before pasting AI generated answers.","body":"Read <a href=\"https://meta.stackoverflow.com/q/421831\">this</a> before pasting AI generated answers."}],"tags":[],"owner":{"account_id":21647682,"reputation":1,"user_id":15968777,"display_name":"Lingaswamy Dacharam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669793203,"creation_date":1669793203,"answer_id":74624182,"question_id":71522462,"body_markdown":"Displayed when a program exits and returns a value other than 0 to the shell\r\n\r\nIn C/C++ \r\n    You forget to add &quot;return 0&quot; at the end of the program. Your program\r\n    threw an exception which was not caught Your program is trying to\r\n    allocate too much memory in a vector\r\n\r\nIn interpreted languages (for e.g. Python)\r\n    Usually means that your program has either crashed or raised an\r\n    uncaught exception Many runtime errors or you are trying to return different variables(in my case).","title":"Runtime error - NZEC Non-zero exit code: This error has occurred because the program has exited after returning a different value from 0 to the shell","body":"<p>Displayed when a program exits and returns a value other than 0 to the shell</p>\n<p>In C/C++\nYou forget to add &quot;return 0&quot; at the end of the program. Your program\nthrew an exception which was not caught Your program is trying to\nallocate too much memory in a vector</p>\n<p>In interpreted languages (for e.g. Python)\nUsually means that your program has either crashed or raised an\nuncaught exception Many runtime errors or you are trying to return different variables(in my case).</p>\n"}],"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669793203,"creation_date":1647577454,"question_id":71522462,"body_markdown":"Problem\r\nYou are given an array  of size  that contains integers. Here,  is an even number. You are required to perform the following operations:\r\n\r\nDivide the array of numbers in two equal halves\r\nNote: Here, two equal parts of a test case are created by dividing the array into two equal parts.\r\nTake the first digit of the numbers that are available in the first half of the array (first 50% of the test case)\r\nTake the last digit of the numbers that are available in the second half of the array (second 50% of the test case)\r\nGenerate a number by using the digits that have been selected in the above steps\r\nYour task is to determine whether the newly-generated number is divisible by .\r\n\r\nInput format\r\n\r\nFirst line: A single integer  denoting the size of array \r\nSecond line:  space-separated integers denoting the elements of array \r\nOutput format\r\nIf the newly-generated number is divisible by , then print . Otherwise, print .\r\n\r\nConstraints\r\n \r\n\r\nSample Input\r\n6\r\n15478 8452 8232 874 985 4512\r\nSample Output\r\nOUI\r\nTime Limit: 1\r\nMemory Limit: 256\r\nSource Limit:\r\nExplanation\r\nThe first digit of 15478 is 1.\r\nThe first digit of 8452 is 8.\r\nThe first digit of 8232 is 8.\r\nThe last digit of 874 is 4.\r\nThe last digit of 985 is 5.\r\nThe last digit of 4512 is 2.\r\nThe newly generated number will be 188452 which is divisible by 11.\r\n\r\n [Java Code working in eclipse][1]\r\n\r\n[Error in Hackerearth][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s3lhI.png\r\n  [2]: https://i.stack.imgur.com/uZWAk.png","title":"Runtime error - NZEC Non-zero exit code: This error has occurred because the program has exited after returning a different value from 0 to the shell","body":"<p>Problem\nYou are given an array  of size  that contains integers. Here,  is an even number. You are required to perform the following operations:</p>\n<p>Divide the array of numbers in two equal halves\nNote: Here, two equal parts of a test case are created by dividing the array into two equal parts.\nTake the first digit of the numbers that are available in the first half of the array (first 50% of the test case)\nTake the last digit of the numbers that are available in the second half of the array (second 50% of the test case)\nGenerate a number by using the digits that have been selected in the above steps\nYour task is to determine whether the newly-generated number is divisible by .</p>\n<p>Input format</p>\n<p>First line: A single integer  denoting the size of array\nSecond line:  space-separated integers denoting the elements of array\nOutput format\nIf the newly-generated number is divisible by , then print . Otherwise, print .</p>\n<p>Constraints</p>\n<p>Sample Input\n6\n15478 8452 8232 874 985 4512\nSample Output\nOUI\nTime Limit: 1\nMemory Limit: 256\nSource Limit:\nExplanation\nThe first digit of 15478 is 1.\nThe first digit of 8452 is 8.\nThe first digit of 8232 is 8.\nThe last digit of 874 is 4.\nThe last digit of 985 is 5.\nThe last digit of 4512 is 2.\nThe newly generated number will be 188452 which is divisible by 11.</p>\n<p><a href=\"https://i.stack.imgur.com/s3lhI.png\" rel=\"nofollow noreferrer\">Java Code working in eclipse</a></p>\n<p><a href=\"https://i.stack.imgur.com/uZWAk.png\" rel=\"nofollow noreferrer\">Error in Hackerearth</a></p>\n"},{"tags":["java","ssl","tls1.2","tls1.3"],"owner":{"account_id":11254118,"reputation":219,"user_id":8254454,"display_name":"Dimitri Tenenbaum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669792465,"creation_date":1669741459,"question_id":74617657,"body_markdown":"I would like modify sun.security.ssl.SSLSocketImpl and use the customized class, for learning purposes. \r\nI can&#39;t extend it - the class is final. \r\nI can&#39;t copy/paste, because it uses several sun.security.ssl classes that can&#39;t be imported. \r\nAre there any ideas? \r\nA dirty way would be also ok - it&#39;s just for learning and playing.","title":"Customize sun.security.ssl.SSLSocketImpl","body":"<p>I would like modify sun.security.ssl.SSLSocketImpl and use the customized class, for learning purposes.\nI can't extend it - the class is final.\nI can't copy/paste, because it uses several sun.security.ssl classes that can't be imported.\nAre there any ideas?\nA dirty way would be also ok - it's just for learning and playing.</p>\n"},{"tags":["java","spring","neo4j","spring-data","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669792257,"creation_date":1669792257,"answer_id":74624017,"question_id":74615262,"body_markdown":"Params are bound as variables. Variables are interpolated with dollar:\r\n\r\n```\r\n&quot;MATCH(user:User{id:$id})-[watched:WATCHED]-&gt;(movie:Movie{title:$title})&quot;\r\n```","title":"Spring Neo4j Pass Node Property as Parameter","body":"<p>Params are bound as variables. Variables are interpolated with dollar:</p>\n<pre><code>&quot;MATCH(user:User{id:$id})-[watched:WATCHED]-&gt;(movie:Movie{title:$title})&quot;\n</code></pre>\n"}],"owner":{"account_id":26768595,"reputation":5,"user_id":20365354,"display_name":"sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74624017,"answer_count":1,"score":0,"last_activity_date":1669792257,"creation_date":1669730357,"question_id":74615262,"body_markdown":"I am trying to pass a property as a parameter.\r\n\r\nI have tried this:\r\n\r\n```\r\nString get_interest=&quot;MATCH(user:User{id:{id}})-[watched:WATCHED]-&gt;(movie:Movie{title:{title}}) &quot; +\r\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\r\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\r\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\r\n        &quot;RETURN similarMovie Limit 20&quot;;\r\n```\r\nBut it fails with this error:\r\n\r\n\r\n```\r\n&quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;Cypher execution failed with code &#39;Neo.ClientError.Statement.SyntaxError&#39;: Invalid input &#39;{&#39;: expected \\&quot;+\\&quot; or \\&quot;-\\&quot; (line 1, column 24 (offset: 23))\r\n```\r\n\r\n \r\n\r\nI have tried this and it worked:\r\n\r\n\r\n```\r\nString get_interest=&quot;MATCH(user:User{id:\\&quot;02331\\&quot;})-[watched:WATCHED]-&gt;(movie:Movie{title:\\&quot;The Mask\\&quot;}) &quot; +\r\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\r\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\r\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\r\n        &quot;RETURN similarMovie Limit 20&quot;;\r\n```\r\n\r\nBut I want to pass other User ids and titles.\r\n\r\n\r\nThis is my Repository\r\n```\r\n@Query(get_interest)\r\nCollection&lt;Movie&gt; getMovieByInterest(@Param(&quot;id&quot;) String id,\r\n                                         @Param(&quot;title&quot;) String title);\r\n```\r\n","title":"Spring Neo4j Pass Node Property as Parameter","body":"<p>I am trying to pass a property as a parameter.</p>\n<p>I have tried this:</p>\n<pre><code>String get_interest=&quot;MATCH(user:User{id:{id}})-[watched:WATCHED]-&gt;(movie:Movie{title:{title}}) &quot; +\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\n        &quot;RETURN similarMovie Limit 20&quot;;\n</code></pre>\n<p>But it fails with this error:</p>\n<pre><code>&quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;Cypher execution failed with code 'Neo.ClientError.Statement.SyntaxError': Invalid input '{': expected \\&quot;+\\&quot; or \\&quot;-\\&quot; (line 1, column 24 (offset: 23))\n</code></pre>\n<p>I have tried this and it worked:</p>\n<pre><code>String get_interest=&quot;MATCH(user:User{id:\\&quot;02331\\&quot;})-[watched:WATCHED]-&gt;(movie:Movie{title:\\&quot;The Mask\\&quot;}) &quot; +\n        &quot;MATCH(movie)-[:BELONGS_TO]-&gt;(category:Category) &quot; +\n        &quot;MATCH(category)&lt;-[:BELONGS_TO]-(similarMovie:Movie) &quot; +\n        &quot;WHERE NOT EXISTS((user) -[:WATCHED]-&gt;(similarMovie))&quot; +\n        &quot;RETURN similarMovie Limit 20&quot;;\n</code></pre>\n<p>But I want to pass other User ids and titles.</p>\n<p>This is my Repository</p>\n<pre><code>@Query(get_interest)\nCollection&lt;Movie&gt; getMovieByInterest(@Param(&quot;id&quot;) String id,\n                                         @Param(&quot;title&quot;) String title);\n</code></pre>\n"},{"tags":["java","json","jackson","offsetdatetime"],"answers":[{"tags":[],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669792143,"creation_date":1669188677,"answer_id":74543145,"question_id":74542681,"body_markdown":"resolved by\r\n\r\n```\r\n @Bean\r\n  @Primary\r\n  public ObjectMapper objectMapper() {\r\n    return new ObjectMapper()\r\n        .registerModule(new JavaTimeModule();\r\n  }\r\n\r\n","title":"Deserialize OffsetDataTime java 17","body":"<p>resolved by</p>\n<pre><code> @Bean\n  @Primary\n  public ObjectMapper objectMapper() {\n    return new ObjectMapper()\n        .registerModule(new JavaTimeModule();\n  }\n\n</code></pre>\n"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669792143,"creation_date":1669185544,"question_id":74542681,"body_markdown":"I test endpoints&#39; basic security.\r\n```\r\nTest\r\n\r\n mvc.perform(MockMvcRequestBuilders.post(path)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .content(objectMapper.writeValueAsString(OBJECT))\r\n        .params(usersSampleRequestParams)\r\n        .with(httpBasic(user, password)))\r\n        .andExpect(status().isOk());\r\n    enter code here\r\n\r\nController\r\n\r\n@PostMapping(&quot;/path&quot;)\r\n  public void methodSignature(@RequestBody Car car) {}\r\n```\r\n\r\nThe problem is \r\n**com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.OffsetDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: Car field [&quot;DateOfProducing&quot;])**\r\n\r\n\r\nI tried different solutions:\r\n1. to add \r\ncom.fasterxml.jackson.datatype:jackson-datatype-jsr310 to dependencies\r\n2) ``` objectMapper.registerModule(new JavaTimeModule());```\r\n3) ``` JsonMapper.builder()\r\n    .findAndAddModules()\r\n    .build();```\r\n4) tried serialize object through Gson and register TypeAdapter\r\n   ``` GsonBuilder builder = new GsonBuilder();\r\n    builder.registerTypeAdapter(OffsetDateTime.class, new JSON.OffsetDateTimeTypeAdapter());```\r\n\r\nThe service where I write tests uses java 17 but Car Entity is From another repository which uses java 8.\r\nIt seems to me that the problem does&#39;t relate to my test but relates to Car&#39;s repository dependencies.\r\nTQ, for any piece of advice.\r\n\r\n","title":"Deserialize OffsetDataTime java 17","body":"<p>I test endpoints' basic security.</p>\n<pre><code>Test\n\n mvc.perform(MockMvcRequestBuilders.post(path)\n        .contentType(MediaType.APPLICATION_JSON)\n        .content(objectMapper.writeValueAsString(OBJECT))\n        .params(usersSampleRequestParams)\n        .with(httpBasic(user, password)))\n        .andExpect(status().isOk());\n    enter code here\n\nController\n\n@PostMapping(&quot;/path&quot;)\n  public void methodSignature(@RequestBody Car car) {}\n</code></pre>\n<p>The problem is\n<strong>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type <code>java.time.OffsetDateTime</code> not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: Car field [&quot;DateOfProducing&quot;])</strong></p>\n<p>I tried different solutions:</p>\n<ol>\n<li>to add\ncom.fasterxml.jackson.datatype:jackson-datatype-jsr310 to dependencies</li>\n</ol>\n<ol start=\"2\">\n<li><code> objectMapper.registerModule(new JavaTimeModule());</code></li>\n<li>\n<pre><code> .findAndAddModules()\n .build();```\n</code></pre>\n</li>\n<li>tried serialize object through Gson and register TypeAdapter\n<pre><code> builder.registerTypeAdapter(OffsetDateTime.class, new JSON.OffsetDateTimeTypeAdapter());```\n\n</code></pre>\n</li>\n</ol>\n<p>The service where I write tests uses java 17 but Car Entity is From another repository which uses java 8.\nIt seems to me that the problem does't relate to my test but relates to Car's repository dependencies.\nTQ, for any piece of advice.</p>\n"},{"tags":["java","string","lambda","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1445686639,"creation_date":1445686639,"answer_id":33317722,"question_id":33317686,"body_markdown":"What you want is to collect elements of a Stream into a String. This can be done using [`Collectors.joining(delimiter)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-):\r\n\r\n    inputText.chars() // get char stream\r\n\t\t     .filter(c -&gt; c != &#39; &#39;) // remove spaces\r\n\t\t\t .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char\r\n\t\t\t .mapToObj(i -&gt; String.format(&quot;%05X&quot;, i &amp; 0xFFFFF)) // to Hex String values\r\n\t\t\t .collect(joining(&quot; &quot;));  // join each value together, separated with a space\r\n\r\nThis has the benefit that:\r\n\r\n - There&#39;s no need to use `forEach` and mutate an external object.\r\n - There&#39;s no need to delete the last character.","title":"Add space as split to strings using Java 8 stream (lambdas)","body":"<p>What you want is to collect elements of a Stream into a String. This can be done using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\"><code>Collectors.joining(delimiter)</code></a>:</p>\n\n<pre><code>inputText.chars() // get char stream\n         .filter(c -&gt; c != ' ') // remove spaces\n         .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char\n         .mapToObj(i -&gt; String.format(\"%05X\", i &amp; 0xFFFFF)) // to Hex String values\n         .collect(joining(\" \"));  // join each value together, separated with a space\n</code></pre>\n\n<p>This has the benefit that:</p>\n\n<ul>\n<li>There's no need to use <code>forEach</code> and mutate an external object.</li>\n<li>There's no need to delete the last character.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670007721,"post_id":74623983,"comment_id":131780671,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74623983/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27094905,"reputation":1,"user_id":20642232,"display_name":"Ashish Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669792035,"creation_date":1669792035,"answer_id":74623983,"question_id":33317686,"body_markdown":"StringBuilder sb = new StringBuilder(); inputText.chars() // get char stream .filter(c -&gt; c != &#39; &#39;) // remove spaces .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char .boxed() // to Integer stream .map(i -&gt; String.format(&quot;%05X &quot;, i &amp; 0xFFFFF)) // to Hex String values .forEach(sb::append); if (sb.length() &gt; 0) sb.deleteCharAt(sb.length() - 1); return sb.toString();","title":"Add space as split to strings using Java 8 stream (lambdas)","body":"<p>StringBuilder sb = new StringBuilder(); inputText.chars() // get char stream .filter(c -&gt; c != ' ') // remove spaces .map(c -&gt; c ^ random.nextInt(randBound)) // do xor for each char .boxed() // to Integer stream .map(i -&gt; String.format(&quot;%05X &quot;, i &amp; 0xFFFFF)) // to Hex String values .forEach(sb::append); if (sb.length() &gt; 0) sb.deleteCharAt(sb.length() - 1); return sb.toString();</p>\n"}],"owner":{"account_id":5685459,"reputation":3363,"user_id":4495175,"accept_rate":93,"display_name":"Letfar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6454,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33317722,"answer_count":2,"score":4,"last_activity_date":1669792035,"creation_date":1445686413,"question_id":33317686,"body_markdown":"I&#39;m writing a Xor method which ecnrypts some string by adding (as xor operation) random values to its characters. Result should look like as string with hex values of encrypted characters.\r\n\r\n**Example:**\r\n\r\n&quot;*Hello world*&quot; =&gt; &quot;*0006F 00046 00066 00076 0004D 0007F 00047 0007D 00062 0006E*&quot;\r\n\r\n**The code:**\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n\r\n    inputText.chars()                                      // get char stream\r\n             .filter(c -&gt; c != &#39; &#39;)                         // remove spaces\r\n             .map(c -&gt; c ^ random.nextInt(randBound))       // do xor for each char\r\n             .boxed()                                       // to Integer stream\r\n             .map(i -&gt; String.format(&quot;%05X &quot;, i &amp; 0xFFFFF)) // to Hex String values\r\n             .forEach(sb::append);\r\n\r\n    if (sb.length() &gt; 0)\r\n        sb.deleteCharAt(sb.length() - 1);\r\n\r\n    return sb.toString();\r\n\r\nAs you see, I&#39;ve formated the result as `&quot;%05X &quot;`, so I&#39;ve got unwanted space in the end of string. And need to use `sb.deleteCharAt(sb.length() - 1);`.\r\n\r\nHow to format the correct result directly in stream?","title":"Add space as split to strings using Java 8 stream (lambdas)","body":"<p>I'm writing a Xor method which ecnrypts some string by adding (as xor operation) random values to its characters. Result should look like as string with hex values of encrypted characters.</p>\n\n<p><strong>Example:</strong></p>\n\n<p>\"<em>Hello world</em>\" => \"<em>0006F 00046 00066 00076 0004D 0007F 00047 0007D 00062 0006E</em>\"</p>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\n\ninputText.chars()                                      // get char stream\n         .filter(c -&gt; c != ' ')                         // remove spaces\n         .map(c -&gt; c ^ random.nextInt(randBound))       // do xor for each char\n         .boxed()                                       // to Integer stream\n         .map(i -&gt; String.format(\"%05X \", i &amp; 0xFFFFF)) // to Hex String values\n         .forEach(sb::append);\n\nif (sb.length() &gt; 0)\n    sb.deleteCharAt(sb.length() - 1);\n\nreturn sb.toString();\n</code></pre>\n\n<p>As you see, I've formated the result as <code>\"%05X \"</code>, so I've got unwanted space in the end of string. And need to use <code>sb.deleteCharAt(sb.length() - 1);</code>.</p>\n\n<p>How to format the correct result directly in stream?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669293611,"post_id":74557127,"comment_id":131614858,"body_markdown":"If `stud.doj` is a genuine date, you can select between the begining and the end of year : `where doj &gt;= 1/1/2017 and doj &lt; 1/1/2018`.","body":"If <code>stud.doj</code> is a genuine date, you can select between the begining and the end of year : <code>where doj &gt;= 1&#47;1&#47;2017 and doj &lt; 1&#47;1&#47;2018</code>."},{"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"score":0,"creation_date":1669294470,"post_id":74557127,"comment_id":131615163,"body_markdown":"is there any way to extract year in jpql ?","body":"is there any way to extract year in jpql ?"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669303046,"post_id":74557127,"comment_id":131618109,"body_markdown":"you can find solutions here https://stackoverflow.com/questions/34295105/extract-year-from-date-field-using-jpql-and-jpa","body":"you can find solutions here <a href=\"https://stackoverflow.com/questions/34295105/extract-year-from-date-field-using-jpql-and-jpa\" title=\"extract year from date field using jpql and jpa\">stackoverflow.com/questions/34295105/&hellip;</a>"}],"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669791995,"creation_date":1669275360,"question_id":74557127,"body_markdown":"How to extract full year from date field in jpql ?\r\n\r\nex: 06-SEP-17  -&gt;From this i wanted to get year as 2017\r\n```\r\n@Query(value = &quot;SELECT stud FROM Student stud where stud.doj = &#39;2017&#39; &quot;) //in this query doj is in 06-SEP-17 format, my requirement is to extract full year from this and compare.\r\nList&lt;Student&gt; getStudents()","title":"How to extract year from date in jpql?","body":"<p>How to extract full year from date field in jpql ?</p>\n<p>ex: 06-SEP-17  -&gt;From this i wanted to get year as 2017</p>\n<pre><code>@Query(value = &quot;SELECT stud FROM Student stud where stud.doj = '2017' &quot;) //in this query doj is in 06-SEP-17 format, my requirement is to extract full year from this and compare.\nList&lt;Student&gt; getStudents()\n</code></pre>\n"},{"tags":["java","r","openstreetmap"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668763195,"post_id":74486683,"comment_id":131490113,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":19679759,"reputation":1500,"user_id":14407123,"display_name":"mgrund"},"score":1,"creation_date":1669105979,"post_id":74486683,"comment_id":131562142,"body_markdown":"Do you really need &quot;esri-topo&quot;? If you set e.g. `type = &quot;osm&quot;` it should work.","body":"Do you really need &quot;esri-topo&quot;? If you set e.g. <code>type = &quot;osm&quot;</code> it should work."}],"answers":[{"tags":[],"owner":{"account_id":22629254,"reputation":1,"user_id":16806898,"display_name":"DonQUijote"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669791326,"creation_date":1669791326,"answer_id":74623872,"question_id":74486683,"body_markdown":"Problem solved. \r\nI downloaded all the java stuff from this link: \r\nhttps://www.oracle.com/java/technologies/downloads/#jdk19-windows\r\nThen I had to define the Windows JAVA_PATH according to the recipe here: \r\nhttps://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/\r\nThen I had to edit the type-setting in read_osm to type=&quot;osm&quot; as kindly suggested by @mgrund in the comment. \r\nThen my programs worked as before. ","title":"read_osm in tmaptools delivers errors","body":"<p>Problem solved.\nI downloaded all the java stuff from this link:\n<a href=\"https://www.oracle.com/java/technologies/downloads/#jdk19-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk19-windows</a>\nThen I had to define the Windows JAVA_PATH according to the recipe here:\n<a href=\"https://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-set-java-path-in-windows-and-linux/</a>\nThen I had to edit the type-setting in read_osm to type=&quot;osm&quot; as kindly suggested by @mgrund in the comment.\nThen my programs worked as before.</p>\n"}],"owner":{"account_id":22629254,"reputation":1,"user_id":16806898,"display_name":"DonQUijote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669791326,"creation_date":1668759285,"question_id":74486683,"body_markdown":"The following line in R: \r\n\r\n```\r\nbg = read_osm(bb(c(min(lons)+0.5,min(lats)+0.2,max(lons),max(lats))), type=&#39;esri-topo&#39;)\r\n\r\n```\r\ncreates the error message below. What&#39;s wrong, and how to fix it?\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat edu.cens.spatial.RTileController.getTileValues(RTileController.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat RJavaTools.invokeMethod(RJavaTools.java:399)\r\nError in osmtile(x%%nX, y, zoom, type) : could not obtain tile: 65 36 7\r\n```\r\n\r\nI have loaded the libs: tmaptools, tmap, rnaturalearth, raster, ncdf4\r\nlons and lats are numeric vectors:\r\n lons\r\n [1]  5.042400  5.127200  5.212000  5.296800  5.381600  5.466400  5.551200  5.636000  5.720800  5.805600  5.890400  5.975200\r\n[13]  6.060000  6.144800  6.229600  6.314400  6.399200  6.484000  6.568800  6.653600  6.738400  6.823200  6.908000  6.992800\r\n[25]  7.077600  7.162400  7.247200  7.332000  7.416800  7.501600  7.586400  7.671200  7.756000  7.840800  7.925600  8.010401\r\n[37]  8.095200  8.180000  8.264800  8.349600  8.434401  8.519200  8.604000  8.688801  8.773600  8.858400  8.943200  9.028000\r\n[49]  9.112801  9.197600  9.282400  9.367201  9.452000  9.536800  9.621600  9.706400  9.791201  9.876000  9.960800 10.045601\r\n[61] 10.130400 10.215200 10.300000 10.384800 10.469601 10.554400 10.639200 10.724001 10.808800 10.893600 10.978400 11.063200\r\n[73] 11.148001 11.232800 11.317600 11.402401 11.487200 11.572001 11.656800 11.741600\r\n\r\nlats\r\n [1] 57.02248 57.06742 57.11237 57.15733 57.20227 57.24723 57.29218 57.33712 57.38208 57.42702 57.47197 57.51693 57.56187\r\n[14] 57.60683 57.65178 57.69672 57.74168 57.78662 57.83157 57.87653 57.92147 57.96643 58.01138 58.05632 58.10128 58.14622\r\n[27] 58.19117 58.23613 58.28107 58.32603 58.37098 58.41592 58.46088 58.50583 58.55077 58.59573 58.64067 58.68563 58.73058\r\n[40] 58.77552 58.82048 58.86543 58.91037 58.95533 59.00027 59.04523 59.09018 59.13512 59.18008 59.22503 59.26997 59.31493\r\n[53] 59.35987 59.40483 59.44978 59.49472 59.53968 59.58463 59.62957 59.67453 59.71947 59.76443 59.80938 59.85432 59.89928\r\n[66] 59.94423 59.98917 60.03413 60.07907 60.12403 60.16898 60.21392 60.25888 60.30383 60.34877 60.39373 60.43867 60.48363\r\n[79] 60.52858 60.57352\r\n\r\n\r\n\r\n\r\nhoped to get a map area. didnt work\r\n","title":"read_osm in tmaptools delivers errors","body":"<p>The following line in R:</p>\n<pre><code>bg = read_osm(bb(c(min(lons)+0.5,min(lats)+0.2,max(lons),max(lats))), type='esri-topo')\n\n</code></pre>\n<p>creates the error message below. What's wrong, and how to fix it?</p>\n<pre><code>java.lang.NullPointerException\n    at edu.cens.spatial.RTileController.getTileValues(RTileController.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at RJavaTools.invokeMethod(RJavaTools.java:399)\nError in osmtile(x%%nX, y, zoom, type) : could not obtain tile: 65 36 7\n</code></pre>\n<p>I have loaded the libs: tmaptools, tmap, rnaturalearth, raster, ncdf4\nlons and lats are numeric vectors:\nlons\n[1]  5.042400  5.127200  5.212000  5.296800  5.381600  5.466400  5.551200  5.636000  5.720800  5.805600  5.890400  5.975200\n[13]  6.060000  6.144800  6.229600  6.314400  6.399200  6.484000  6.568800  6.653600  6.738400  6.823200  6.908000  6.992800\n[25]  7.077600  7.162400  7.247200  7.332000  7.416800  7.501600  7.586400  7.671200  7.756000  7.840800  7.925600  8.010401\n[37]  8.095200  8.180000  8.264800  8.349600  8.434401  8.519200  8.604000  8.688801  8.773600  8.858400  8.943200  9.028000\n[49]  9.112801  9.197600  9.282400  9.367201  9.452000  9.536800  9.621600  9.706400  9.791201  9.876000  9.960800 10.045601\n[61] 10.130400 10.215200 10.300000 10.384800 10.469601 10.554400 10.639200 10.724001 10.808800 10.893600 10.978400 11.063200\n[73] 11.148001 11.232800 11.317600 11.402401 11.487200 11.572001 11.656800 11.741600</p>\n<p>lats\n[1] 57.02248 57.06742 57.11237 57.15733 57.20227 57.24723 57.29218 57.33712 57.38208 57.42702 57.47197 57.51693 57.56187\n[14] 57.60683 57.65178 57.69672 57.74168 57.78662 57.83157 57.87653 57.92147 57.96643 58.01138 58.05632 58.10128 58.14622\n[27] 58.19117 58.23613 58.28107 58.32603 58.37098 58.41592 58.46088 58.50583 58.55077 58.59573 58.64067 58.68563 58.73058\n[40] 58.77552 58.82048 58.86543 58.91037 58.95533 59.00027 59.04523 59.09018 59.13512 59.18008 59.22503 59.26997 59.31493\n[53] 59.35987 59.40483 59.44978 59.49472 59.53968 59.58463 59.62957 59.67453 59.71947 59.76443 59.80938 59.85432 59.89928\n[66] 59.94423 59.98917 60.03413 60.07907 60.12403 60.16898 60.21392 60.25888 60.30383 60.34877 60.39373 60.43867 60.48363\n[79] 60.52858 60.57352</p>\n<p>hoped to get a map area. didnt work</p>\n"},{"tags":["java","loops","for-loop","if-statement","arraylist"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1669788116,"post_id":74623450,"comment_id":131719897,"body_markdown":"have you tried debugging your program?","body":"have you tried debugging your program?"},{"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"score":0,"creation_date":1669788328,"post_id":74623450,"comment_id":131719947,"body_markdown":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n\tat java.base/java.util.Objects.checkIndex(Objects.java:359)\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\n\tat Quiz6.quize103.main(quize103.java:59)","body":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5 \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Precon&zwnj;&#8203;ditions.java:100) \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIn&zwnj;&#8203;dex(Preconditions.ja&zwnj;&#8203;va:106) \tat java.base/jdk.internal.util.Preconditions.checkIndex(Precond&zwnj;&#8203;itions.java:302) \tat java.base/java.util.Objects.checkIndex(Objects.java:359) \tat java.base/java.util.ArrayList.get(ArrayList.java:427) \tat Quiz6.quize103.main(quize103.java:59)"},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":1,"creation_date":1669788376,"post_id":74623450,"comment_id":131719954,"body_markdown":"should you start from 1 or 0? \nor you should start from 0, but if it is 0, then you should print &quot;Year 1: No comperison&quot; perhaps? \nshould you compare item at i with item at i+1 or item at i-1? if you compare with item i+1, should you update the for condition where to stop?\nI hope my questions help you to point where your fix should be.","body":"should you start from 1 or 0?  or you should start from 0, but if it is 0, then you should print &quot;Year 1: No comperison&quot; perhaps?  should you compare item at i with item at i+1 or item at i-1? if you compare with item i+1, should you update the for condition where to stop? I hope my questions help you to point where your fix should be."},{"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"score":0,"creation_date":1669789112,"post_id":74623450,"comment_id":131720100,"body_markdown":"Thank you @fauzimh! Your questions helped and I found the problem in my code.","body":"Thank you @fauzimh! Your questions helped and I found the problem in my code."}],"answers":[{"comments":[{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":1,"creation_date":1669791445,"post_id":74623654,"comment_id":131720642,"body_markdown":"Yes, this technique is fine, however developers will often start from an index of zero to ensure bounds are clearly defined.  Whenever you attempt to access a `previous` or `next` index in an array without any type of sanity checking when looping, you will ultimately risk the chance of being out of bounds.  For this reason, it&#39;s often safer and easier to read to simply stash the value you wish to compare from a previous iteration.  I&#39;ve provided an example answer which illustrates this.  I believe if you revisit this code a year later, you will agree that it&#39;s easier to understand this way. :)","body":"Yes, this technique is fine, however developers will often start from an index of zero to ensure bounds are clearly defined.  Whenever you attempt to access a <code>previous</code> or <code>next</code> index in an array without any type of sanity checking when looping, you will ultimately risk the chance of being out of bounds.  For this reason, it&#39;s often safer and easier to read to simply stash the value you wish to compare from a previous iteration.  I&#39;ve provided an example answer which illustrates this.  I believe if you revisit this code a year later, you will agree that it&#39;s easier to understand this way. :)"},{"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"score":1,"creation_date":1669814943,"post_id":74623654,"comment_id":131728268,"body_markdown":"thanks @tresf. I learned a lot from this short reply and your example.","body":"thanks @tresf. I learned a lot from this short reply and your example."}],"tags":[],"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669789692,"creation_date":1669789692,"answer_id":74623654,"question_id":74623450,"body_markdown":"Thanks to user fauzimh who asked me some insightful questions, I found the answer to my problem. Turned out that by adding when comparing, I would be going over the length of my ArrayList, so all I had to do was subtract.\r\n\r\nHere is the updated code.\r\n&gt;        System.out.println(&quot;Year 1: No comparison&quot;);\r\n&gt;        for (int i = 1; i &lt; revenues.size(); i = i + 1){\r\n&gt;            if (revenues.get(i) &lt; revenues.get(i-1)){\r\n&gt;                System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\r\n&gt;            } else if (revenues.get(i) &gt; revenues.get(i-1)){\r\n&gt;                System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\r\n&gt;            } else {\r\n&gt;                System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\r\n&gt;            }\r\n&gt;        }\r\n\r\nI hope I am right because it seemed to work.","title":"Dose anyone know what I did wrong in this loop?","body":"<p>Thanks to user fauzimh who asked me some insightful questions, I found the answer to my problem. Turned out that by adding when comparing, I would be going over the length of my ArrayList, so all I had to do was subtract.</p>\n<p>Here is the updated code.</p>\n<blockquote>\n<pre><code>   System.out.println(&quot;Year 1: No comparison&quot;);\n   for (int i = 1; i &lt; revenues.size(); i = i + 1){\n       if (revenues.get(i) &lt; revenues.get(i-1)){\n           System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\n       } else if (revenues.get(i) &gt; revenues.get(i-1)){\n           System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\n       } else {\n           System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\n       }\n   }\n</code></pre>\n</blockquote>\n<p>I hope I am right because it seemed to work.</p>\n"},{"comments":[{"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"score":1,"creation_date":1669814833,"post_id":74623748,"comment_id":131728212,"body_markdown":"Thanks for this. This is much more better than my own.","body":"Thanks for this. This is much more better than my own."}],"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669791173,"creation_date":1669790444,"answer_id":74623748,"question_id":74623450,"body_markdown":"Some general improvements:\r\n* Store the year you want to compare in a dedicated variable (e.g. `previousYear`)\r\n* Try to loop with an index of `0`, it&#39;s easier to keep track of since that&#39;s what Java Arrays and Java Lists use!\r\n* If you want to show `0` as your `1st` year, just add the `+1` to the lines showing your output.\r\n* `i++` is shorthand for `i = i + 1`\r\n\r\nIn my case, I&#39;ve initialized a variable called `previousYear` as `-1`, which will show an increase the first year no matter what, since there&#39;s nothing to compare to.  Hopefully this helps. :)\r\n\r\n    // Create the list of revenues\r\n    List&lt;Integer&gt; revenues = Arrays.asList(new Integer[]{ 1234, 2345, 2123, 2123 });\r\n\r\n    // Default last years revenue to -1 since we don&#39;t know it yet\r\n    int previousYear = -1;\r\n\r\n    // Compare each year to the previous year\r\n    for (int i = 0; i &lt; revenues.size(); i++){\r\n        // Store the current year&#39;s revenue\r\n        int currentYear = revenues.get(i);\r\n\r\n        // Show comparison to the screen\r\n        if (previousYear == -1) {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: no comparison&quot;);\r\n        } else if (currentYear &gt; previousYear) {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\r\n        } else if (currentYear &lt; previousYear) {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\r\n        } else {\r\n            System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\r\n        }\r\n\r\n        // Store as previous year for next loop\r\n        previousYear = currentYear;\r\n    }","title":"Dose anyone know what I did wrong in this loop?","body":"<p>Some general improvements:</p>\n<ul>\n<li>Store the year you want to compare in a dedicated variable (e.g. <code>previousYear</code>)</li>\n<li>Try to loop with an index of <code>0</code>, it's easier to keep track of since that's what Java Arrays and Java Lists use!</li>\n<li>If you want to show <code>0</code> as your <code>1st</code> year, just add the <code>+1</code> to the lines showing your output.</li>\n<li><code>i++</code> is shorthand for <code>i = i + 1</code></li>\n</ul>\n<p>In my case, I've initialized a variable called <code>previousYear</code> as <code>-1</code>, which will show an increase the first year no matter what, since there's nothing to compare to.  Hopefully this helps. :)</p>\n<pre><code>// Create the list of revenues\nList&lt;Integer&gt; revenues = Arrays.asList(new Integer[]{ 1234, 2345, 2123, 2123 });\n\n// Default last years revenue to -1 since we don't know it yet\nint previousYear = -1;\n\n// Compare each year to the previous year\nfor (int i = 0; i &lt; revenues.size(); i++){\n    // Store the current year's revenue\n    int currentYear = revenues.get(i);\n\n    // Show comparison to the screen\n    if (previousYear == -1) {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: no comparison&quot;);\n    } else if (currentYear &gt; previousYear) {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: increased&quot;);\n    } else if (currentYear &lt; previousYear) {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: decreased&quot;);\n    } else {\n        System.out.println(&quot;Year &quot;+ (i+1) +&quot;: stayed the same&quot;);\n    }\n\n    // Store as previous year for next loop\n    previousYear = currentYear;\n}\n</code></pre>\n"}],"owner":{"account_id":27094197,"reputation":21,"user_id":20641596,"display_name":"O D E"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669804500,"accepted_answer_id":74623748,"answer_count":2,"score":1,"last_activity_date":1669791173,"creation_date":1669787909,"question_id":74623450,"body_markdown":"For a project in school, I was asked to write a program that loops through the values in an ArrayList named *revenues* and prints whether or not if the numbers withen *revenues* increased, decreased, or stayed the same while it went through the ArrayList.\r\n\r\nThis is what I wrote\r\n\r\n```\r\n        System.out.println(&quot;Year 1: No comperison&quot;);\r\n        for (int i = 0; i &lt; revenues.size(); i = i + 1){\r\n            if (revenues.get(i) &lt; revenues.get(i+1)){\r\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: increased&quot;);\r\n            } else if (revenues.get(i) &gt; revenues.get(i+1)){\r\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: decreased&quot;);\r\n            } else {\r\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: stayed the same&quot;);\r\n            }\r\n        }\r\n```\r\n\r\nBut whenever I ran the program, it shows me an error message because of this code.\r\n\r\nThis is the error \r\n```\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:359)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n```","title":"Dose anyone know what I did wrong in this loop?","body":"<p>For a project in school, I was asked to write a program that loops through the values in an ArrayList named <em>revenues</em> and prints whether or not if the numbers withen <em>revenues</em> increased, decreased, or stayed the same while it went through the ArrayList.</p>\n<p>This is what I wrote</p>\n<pre><code>        System.out.println(&quot;Year 1: No comperison&quot;);\n        for (int i = 0; i &lt; revenues.size(); i = i + 1){\n            if (revenues.get(i) &lt; revenues.get(i+1)){\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: increased&quot;);\n            } else if (revenues.get(i) &gt; revenues.get(i+1)){\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: decreased&quot;);\n            } else {\n                System.out.println(&quot;Year &quot;+ (i) +&quot;: stayed the same&quot;);\n            }\n        }\n</code></pre>\n<p>But whenever I ran the program, it shows me an error message because of this code.</p>\n<p>This is the error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 5 out of bounds for length 5\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n    at java.base/java.util.Objects.checkIndex(Objects.java:359)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jsp"],"answers":[{"comments":[{"owner":{"account_id":15289746,"reputation":15,"user_id":11031613,"display_name":"Lorena"},"score":0,"creation_date":1669826987,"post_id":74620551,"comment_id":131733135,"body_markdown":"Moved webapp to main folder and set the preffix to &quot;/view/&quot; but getting the same error.","body":"Moved webapp to main folder and set the preffix to &quot;/view/&quot; but getting the same error."}],"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669790841,"creation_date":1669758181,"answer_id":74620551,"question_id":74619146,"body_markdown":"Usually project has next hierarhy:\r\n```\r\nsrc\r\n     `-- main\r\n         |-- java\r\n         |   `-- ...\r\n         |-- resources\r\n         |   `-- ...\r\n         `-- webapp\r\n             |-- ...\r\n```\r\nAnd it is better to make same hierarhy in your code.\r\nIn this case root is `webapp` folder for `InternalResourceViewResolver`\r\n```\r\ninternalResourceViewResolver.setPrefix(&quot;/view/&quot;)\r\n```\r\nJsp should be in `webapp` hierarhy, due to different behaviour in case of store you jsp in resources folder (war and jar package store this jsp in different places in builder war and jar).","title":"Spring MVC throws 404 NOT_FOUND while looking for JSP files","body":"<p>Usually project has next hierarhy:</p>\n<pre><code>src\n     `-- main\n         |-- java\n         |   `-- ...\n         |-- resources\n         |   `-- ...\n         `-- webapp\n             |-- ...\n</code></pre>\n<p>And it is better to make same hierarhy in your code.\nIn this case root is <code>webapp</code> folder for <code>InternalResourceViewResolver</code></p>\n<pre><code>internalResourceViewResolver.setPrefix(&quot;/view/&quot;)\n</code></pre>\n<p>Jsp should be in <code>webapp</code> hierarhy, due to different behaviour in case of store you jsp in resources folder (war and jar package store this jsp in different places in builder war and jar).</p>\n"}],"owner":{"account_id":15289746,"reputation":15,"user_id":11031613,"display_name":"Lorena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669790841,"creation_date":1669749177,"question_id":74619146,"body_markdown":"In a simple Spring Core MVC Project (No Spring Boot, no XML configuration) I got 404 NOT_FOUND while trying to access to a URL declared in a controller, and it says that cannot find the JSP File.\r\n\r\nHere&#39;s the console output:\r\n\r\n    [http-nio-8080-exec-1] DEBUG DispatcherServlet - GET &quot;/appmutualista/socios/showSocios&quot;, parameters={}\r\n    [http-nio-8080-exec-1] DEBUG RequestMappingHandlerMapping - Mapped to dev.lorena.projects.appmutualista.controller.SocioController#showSocios()\r\n    [http-nio-8080-exec-1] DEBUG JstlView - View name &#39;socios&#39;, model {}\r\n    [http-nio-8080-exec-1] DEBUG JstlView - Forwarding to [/webapp/view/socios.jsp]\r\n    [http-nio-8080-exec-1] DEBUG DispatcherServlet - Completed 404 NOT_FOUND\r\n\r\nThe controller:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/socios&quot;)\r\n    public class SocioController {\r\n    \t\r\n    \t@GetMapping(&quot;/showSocios&quot;)\r\n    \tpublic String showSocios() {\r\n    \t\treturn &quot;socios&quot;;\r\n    \t}\r\n    }\r\n\r\nThe ViewResolver bean in @Configuration class:\r\n\r\n    @Bean\r\n    public ViewResolver internalResourceViewResolver() {\r\n        InternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver();\r\n        internalResourceViewResolver.setPrefix(&quot;/webapp/view/&quot;);\r\n        internalResourceViewResolver.setSuffix(&quot;.jsp&quot;);\r\n        return internalResourceViewResolver;\r\n     }\r\n\r\nAnd the project structure:\r\n\r\n[![The Project Structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mL2t1.png\r\n\r\nI am using embedded Tomcat 9 and JDK 8 to run the APP. After hours, I cannot figure out what I am doing wrong.","title":"Spring MVC throws 404 NOT_FOUND while looking for JSP files","body":"<p>In a simple Spring Core MVC Project (No Spring Boot, no XML configuration) I got 404 NOT_FOUND while trying to access to a URL declared in a controller, and it says that cannot find the JSP File.</p>\n<p>Here's the console output:</p>\n<pre><code>[http-nio-8080-exec-1] DEBUG DispatcherServlet - GET &quot;/appmutualista/socios/showSocios&quot;, parameters={}\n[http-nio-8080-exec-1] DEBUG RequestMappingHandlerMapping - Mapped to dev.lorena.projects.appmutualista.controller.SocioController#showSocios()\n[http-nio-8080-exec-1] DEBUG JstlView - View name 'socios', model {}\n[http-nio-8080-exec-1] DEBUG JstlView - Forwarding to [/webapp/view/socios.jsp]\n[http-nio-8080-exec-1] DEBUG DispatcherServlet - Completed 404 NOT_FOUND\n</code></pre>\n<p>The controller:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/socios&quot;)\npublic class SocioController {\n    \n    @GetMapping(&quot;/showSocios&quot;)\n    public String showSocios() {\n        return &quot;socios&quot;;\n    }\n}\n</code></pre>\n<p>The ViewResolver bean in @Configuration class:</p>\n<pre><code>@Bean\npublic ViewResolver internalResourceViewResolver() {\n    InternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver();\n    internalResourceViewResolver.setPrefix(&quot;/webapp/view/&quot;);\n    internalResourceViewResolver.setSuffix(&quot;.jsp&quot;);\n    return internalResourceViewResolver;\n }\n</code></pre>\n<p>And the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/mL2t1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mL2t1.png\" alt=\"The Project Structure\" /></a></p>\n<p>I am using embedded Tomcat 9 and JDK 8 to run the APP. After hours, I cannot figure out what I am doing wrong.</p>\n"},{"tags":["java","file","multipart"],"answers":[{"comments":[{"owner":{"account_id":9885446,"reputation":175,"user_id":7320094,"accept_rate":14,"display_name":"K.Sumith"},"score":0,"creation_date":1529486275,"post_id":50935113,"comment_id":88886474,"body_markdown":"I am trying to create file within my program, not uploading it. Is there a way to create within java or convert file to multipart within java without loosing data","body":"I am trying to create file within my program, not uploading it. Is there a way to create within java or convert file to multipart within java without loosing data"},{"owner":{"account_id":12581210,"reputation":196,"user_id":9151832,"display_name":"Varun"},"score":0,"creation_date":1529489783,"post_id":50935113,"comment_id":88888845,"body_markdown":"Multipart is one of the simple way in MVC to upload file.\n\nIf it is not uploading can u post stack trace .\n\nMake sure form is submitting by post and controller method also post.","body":"Multipart is one of the simple way in MVC to upload file.  If it is not uploading can u post stack trace .  Make sure form is submitting by post and controller method also post."}],"tags":[],"owner":{"account_id":12581210,"reputation":196,"user_id":9151832,"display_name":"Varun"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529441250,"creation_date":1529434030,"answer_id":50935113,"question_id":50926887,"body_markdown":"If you upload like that then file will read from local and it will not read when u check-in or run from server.\r\n\r\nUse common Multipart or standard Multipart resolver which may solve your issue.\r\n\r\n\r\nRefer below code.  \r\n\r\n**JSP**  \r\n    method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt; \r\n\r\n\r\n**Controller:**  \r\n\r\n    Multipart upload;\r\n    byte[] bytes = file.getBytes(); \r\n    Path path=file.get(fileinputstream (upload));\r\n\r\n**Bean:**  \r\n\r\n    private Multipart upload;\r\n    Getter and setter method;\r\n\r\n**Register Bean**\r\n\r\n    @Bean public MultipartResolver multipartResolver() { \r\n        return new StandardServletMultipartResolver(); \r\n    }\r\n\r\n","title":"How to create a Multipart file using java","body":"<p>If you upload like that then file will read from local and it will not read when u check-in or run from server.</p>\n\n<p>Use common Multipart or standard Multipart resolver which may solve your issue.</p>\n\n<p>Refer below code.  </p>\n\n<p><strong>JSP</strong><br>\n    method=\"POST\" enctype=\"multipart/form-data\"> </p>\n\n<p><strong>Controller:</strong>  </p>\n\n<pre><code>Multipart upload;\nbyte[] bytes = file.getBytes(); \nPath path=file.get(fileinputstream (upload));\n</code></pre>\n\n<p><strong>Bean:</strong>  </p>\n\n<pre><code>private Multipart upload;\nGetter and setter method;\n</code></pre>\n\n<p><strong>Register Bean</strong></p>\n\n<pre><code>@Bean public MultipartResolver multipartResolver() { \n    return new StandardServletMultipartResolver(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7949519,"reputation":51,"user_id":6000746,"display_name":"Harshal Khatri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789848,"creation_date":1669789848,"answer_id":74623672,"question_id":50926887,"body_markdown":"You can create Multipart file using MockMultipartFile in java.\r\n\r\nMultipartFile multipartFile = new MockMultipartFile(&quot;sourceFile.tmp&quot;, &quot;Hello World&quot;.getBytes());\r\n","title":"How to create a Multipart file using java","body":"<p>You can create Multipart file using MockMultipartFile in java.</p>\n<p>MultipartFile multipartFile = new MockMultipartFile(&quot;sourceFile.tmp&quot;, &quot;Hello World&quot;.getBytes());</p>\n"}],"owner":{"account_id":9885446,"reputation":175,"user_id":7320094,"accept_rate":14,"display_name":"K.Sumith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15137,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1669789848,"creation_date":1529406297,"question_id":50926887,"body_markdown":"I am trying to use create Multipart files and upload these files using my Java Spring MVC web application. I could not find any documentation to create a multipart file using Java, so I tried to create a file and then convert it to a multipart file and then upload it. I use the following code:\r\n\r\n    int randomCode = randomCodeGenerator() ;\r\n    File file1 = new File(&quot;E:\\\\myAccount\\\\voice&quot;+randomCode+&quot;.xml&quot;);\r\n    FileWriter writer = new FileWriter(file1);\r\n    writer.write(response);\r\n    writer.close();\r\n\r\nI am then trying to convert it into a multipart file as follows:\r\n\r\n    DiskFileItem fileItem = new DiskFileItem(&quot;file&quot;, &quot;text/plain&quot;, false, file1.getName(), (int) file1.length() , file1.getParentFile());\r\n    fileItem.getOutputStream();\r\n    MultipartFile multipartFile = new CommonsMultipartFile(fileItem);\r\n    byte[] `filedata` = multipartFile.getBytes();\r\n\r\nNow I always get the `filedata` as 0, which means the multipart file is empty. but I have already written to the file before converting it into multipart.\r\n\r\nI am not sure what I am missing here. Also, I am not sure this approach will work on my server since I am trying to create a file on my disk, which is working for me locally. Is there any way to create a multipart file or convert the file to Multipart file without losing data.","title":"How to create a Multipart file using java","body":"<p>I am trying to use create Multipart files and upload these files using my Java Spring MVC web application. I could not find any documentation to create a multipart file using Java, so I tried to create a file and then convert it to a multipart file and then upload it. I use the following code:</p>\n\n<pre><code>int randomCode = randomCodeGenerator() ;\nFile file1 = new File(\"E:\\\\myAccount\\\\voice\"+randomCode+\".xml\");\nFileWriter writer = new FileWriter(file1);\nwriter.write(response);\nwriter.close();\n</code></pre>\n\n<p>I am then trying to convert it into a multipart file as follows:</p>\n\n<pre><code>DiskFileItem fileItem = new DiskFileItem(\"file\", \"text/plain\", false, file1.getName(), (int) file1.length() , file1.getParentFile());\nfileItem.getOutputStream();\nMultipartFile multipartFile = new CommonsMultipartFile(fileItem);\nbyte[] `filedata` = multipartFile.getBytes();\n</code></pre>\n\n<p>Now I always get the <code>filedata</code> as 0, which means the multipart file is empty. but I have already written to the file before converting it into multipart.</p>\n\n<p>I am not sure what I am missing here. Also, I am not sure this approach will work on my server since I am trying to create a file on my disk, which is working for me locally. Is there any way to create a multipart file or convert the file to Multipart file without losing data.</p>\n"},{"tags":["java","caching"],"answers":[{"tags":[],"owner":{"account_id":2871901,"reputation":1,"user_id":2465051,"display_name":"Emmanuel Sitamon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789453,"creation_date":1669789453,"answer_id":74623621,"question_id":74542354,"body_markdown":"To solve your problem , you need to read the line, you input.nextLine() instead of next().\r\nAlso you must create a second object of type scanner for the nextLine() method. \r\nSee Code below\r\n\r\npublic static void main(String[] args) {\r\n\t   \r\n       Scanner in = new Scanner(System.in);\r\n       System.out.print(&quot;Enter cache blocks: &quot;);\r\n       int blockNum = in.nextInt();\r\n       System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\r\n       int setAssoc = in.nextInt();\r\n       System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\r\n       String replacementPolicy = in.next();\r\n       Simulate cache = new Simulate(blockNum, setAssoc, replacementPolicy);\r\n       System.out.println(&quot;Enter reference string:&quot;);\r\n       Scanner inRef = new Scanner(System.in);\r\n       String input = inRef.nextLine();\r\n       String[] references = input.trim().split(&quot; &quot;);\r\n       System.out.println(input);\r\n       int[] refs = new int[references.length];\r\n       for (int i = 0; i &lt; references.length; i++) {\r\n           refs[i] = Integer.parseInt(references[i]);\r\n       }\r\n       cache.simulate(refs);\r\n   }","title":"Cant get my Cache simulator to run correctly","body":"<p>To solve your problem , you need to read the line, you input.nextLine() instead of next().\nAlso you must create a second object of type scanner for the nextLine() method.\nSee Code below</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>   Scanner in = new Scanner(System.in);\n   System.out.print(&quot;Enter cache blocks: &quot;);\n   int blockNum = in.nextInt();\n   System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\n   int setAssoc = in.nextInt();\n   System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\n   String replacementPolicy = in.next();\n   Simulate cache = new Simulate(blockNum, setAssoc, replacementPolicy);\n   System.out.println(&quot;Enter reference string:&quot;);\n   Scanner inRef = new Scanner(System.in);\n   String input = inRef.nextLine();\n   String[] references = input.trim().split(&quot; &quot;);\n   System.out.println(input);\n   int[] refs = new int[references.length];\n   for (int i = 0; i &lt; references.length; i++) {\n       refs[i] = Integer.parseInt(references[i]);\n   }\n   cache.simulate(refs);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26528823,"reputation":1,"user_id":20161363,"display_name":"deadpanrobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669789453,"creation_date":1669182995,"question_id":74542354,"body_markdown":"So I have been trying to get a program that will simulate how a LRU replacement policy on a simple cache but for some reason when I input the numbers im trying to enter into the reference string for the cache to implement, it only displays the first number entered and displays 0s after that. I need it to add numbers into the cache using the LRU replacement policy that we are learning in class.\r\n\r\nHere is my code\r\n\r\n`\r\n```\r\npackage cacheProject;\r\n\r\nimport java.util.Scanner;\r\npublic class cacheProject {\r\n\r\n   private int numBlocks;\r\n   private int setAssoc;\r\n   private String replacementPolicy;\r\n   public cacheProject(int numBlocks, int setAssoc, String replacementPolicy) {\r\n       this.numBlocks = numBlocks;\r\n       this.setAssoc = setAssoc;\r\n       this.replacementPolicy = replacementPolicy;\r\n   }\r\n   public void simulate(int[] references) {\r\n       int missRate = 0;\r\n       int hits = 0;\r\n       int[] cache = new int[numBlocks];\r\n       for (int i = 0; i &lt; references.length; i++) {\r\n           int block = references[i];\r\n           // check if block is in cache\r\n           boolean inCache = false;\r\n           for (int j = 0; j &lt; cache.length; j++) {\r\n               if (cache[j] == block) {\r\n                   inCache = true;\r\n                   hits++;\r\n                   break;\r\n               }\r\n           }\r\n           // if not in cache, add it\r\n           if (!inCache) {\r\n               missRate++;\r\n               // if cache is full, remove LRU block\r\n               if (cache[numBlocks - 1] != 0) {\r\n                   int lruBlock = findLRUBlock(cache);\r\n                   cache[lruBlock] = 0;\r\n               }\r\n               // add new block to cache\r\n               for (int j = 0; j &lt; cache.length; j++) {\r\n                   if (cache[j] == 0) {\r\n                       cache[j] = block;\r\n                       break;\r\n                   }\r\n               }\r\n           }\r\n       }\r\n       System.out.println(&quot;Miss rate: &quot; + (double) missRate / references.length);\r\n       System.out.println(&quot;Hits: &quot; + hits);\r\n       System.out.println(&quot;Cache contents:&quot;);\r\n       for (int i = 0; i &lt; cache.length; i++) {\r\n           System.out.print(cache[i] + &quot; &quot;);\r\n       }\r\n       System.out.println();\r\n   }\r\n   public int findLRUBlock(int[] cache) {\r\n       if (replacementPolicy.equals(&quot;LRU&quot;)) {\r\n           int lruBlock = 0;\r\n           int lruTime = Integer.MAX_VALUE;\r\n           for (int i = 0; i &lt; cache.length; i++) {\r\n               int time = 0;\r\n               for (int j = 0; j &lt; cache.length; j++) {\r\n                   if (cache[i] == cache[j]) {\r\n                       time++;\r\n                   }\r\n               }\r\n               if (time &lt; lruTime) {\r\n                   lruBlock = i;\r\n                   lruTime = time;\r\n               }\r\n           }\r\n           return lruBlock;\r\n       }\r\n       return -1;\r\n   }\r\n   public static void main(String[] args) {\r\n       Scanner in = new Scanner(System.in);\r\n       System.out.print(&quot;Enter number of cache blocks: &quot;);\r\n       int numBlocks = in.nextInt();\r\n       System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\r\n       int setAssoc = in.nextInt();\r\n       System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\r\n       String replacementPolicy = in.next();\r\n       cacheProject cache = new cacheProject(numBlocks, setAssoc, replacementPolicy);\r\n       System.out.println(&quot;Enter reference string:&quot;);\r\n       String input = in.next();\r\n       String[] references = input.split(&quot; &quot;);\r\n       int[] refs = new int[references.length];\r\n       for (int i = 0; i &lt; references.length; i++) {\r\n           refs[i] = Integer.parseInt(references[i]);\r\n       }\r\n       cache.simulate(refs);\r\n   }\r\n}\r\n```\r\n`\r\n\r\n\r\nHere is the output \r\n\r\nEnter number of cache blocks: 5\r\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\r\nEnter replacement policy (FIFO or LRU): LRU\r\nEnter reference string:\r\n3 4 3 5 4 3 5\r\nMiss rate: 1.0\r\nHits: 0\r\nCache contents:\r\n3 0 0 0 0 \r\n\r\nWhat I am expecting is\r\n\r\nEnter number of cache blocks: 5\r\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\r\nEnter replacement policy (FIFO or LRU): LRU\r\nEnter reference string:\r\n3 4 3 5 4\r\nMiss rate: 1.0\r\nHits: 0\r\nCache contents:\r\n3 4 3 5 4","title":"Cant get my Cache simulator to run correctly","body":"<p>So I have been trying to get a program that will simulate how a LRU replacement policy on a simple cache but for some reason when I input the numbers im trying to enter into the reference string for the cache to implement, it only displays the first number entered and displays 0s after that. I need it to add numbers into the cache using the LRU replacement policy that we are learning in class.</p>\n<p>Here is my code</p>\n<p>`</p>\n<pre><code>package cacheProject;\n\nimport java.util.Scanner;\npublic class cacheProject {\n\n   private int numBlocks;\n   private int setAssoc;\n   private String replacementPolicy;\n   public cacheProject(int numBlocks, int setAssoc, String replacementPolicy) {\n       this.numBlocks = numBlocks;\n       this.setAssoc = setAssoc;\n       this.replacementPolicy = replacementPolicy;\n   }\n   public void simulate(int[] references) {\n       int missRate = 0;\n       int hits = 0;\n       int[] cache = new int[numBlocks];\n       for (int i = 0; i &lt; references.length; i++) {\n           int block = references[i];\n           // check if block is in cache\n           boolean inCache = false;\n           for (int j = 0; j &lt; cache.length; j++) {\n               if (cache[j] == block) {\n                   inCache = true;\n                   hits++;\n                   break;\n               }\n           }\n           // if not in cache, add it\n           if (!inCache) {\n               missRate++;\n               // if cache is full, remove LRU block\n               if (cache[numBlocks - 1] != 0) {\n                   int lruBlock = findLRUBlock(cache);\n                   cache[lruBlock] = 0;\n               }\n               // add new block to cache\n               for (int j = 0; j &lt; cache.length; j++) {\n                   if (cache[j] == 0) {\n                       cache[j] = block;\n                       break;\n                   }\n               }\n           }\n       }\n       System.out.println(&quot;Miss rate: &quot; + (double) missRate / references.length);\n       System.out.println(&quot;Hits: &quot; + hits);\n       System.out.println(&quot;Cache contents:&quot;);\n       for (int i = 0; i &lt; cache.length; i++) {\n           System.out.print(cache[i] + &quot; &quot;);\n       }\n       System.out.println();\n   }\n   public int findLRUBlock(int[] cache) {\n       if (replacementPolicy.equals(&quot;LRU&quot;)) {\n           int lruBlock = 0;\n           int lruTime = Integer.MAX_VALUE;\n           for (int i = 0; i &lt; cache.length; i++) {\n               int time = 0;\n               for (int j = 0; j &lt; cache.length; j++) {\n                   if (cache[i] == cache[j]) {\n                       time++;\n                   }\n               }\n               if (time &lt; lruTime) {\n                   lruBlock = i;\n                   lruTime = time;\n               }\n           }\n           return lruBlock;\n       }\n       return -1;\n   }\n   public static void main(String[] args) {\n       Scanner in = new Scanner(System.in);\n       System.out.print(&quot;Enter number of cache blocks: &quot;);\n       int numBlocks = in.nextInt();\n       System.out.print(&quot;Enter set associativity (1=direct mapped, 2=2-way, 4=4-way): &quot;);\n       int setAssoc = in.nextInt();\n       System.out.print(&quot;Enter replacement policy (FIFO or LRU): &quot;);\n       String replacementPolicy = in.next();\n       cacheProject cache = new cacheProject(numBlocks, setAssoc, replacementPolicy);\n       System.out.println(&quot;Enter reference string:&quot;);\n       String input = in.next();\n       String[] references = input.split(&quot; &quot;);\n       int[] refs = new int[references.length];\n       for (int i = 0; i &lt; references.length; i++) {\n           refs[i] = Integer.parseInt(references[i]);\n       }\n       cache.simulate(refs);\n   }\n}\n</code></pre>\n<p>`</p>\n<p>Here is the output</p>\n<p>Enter number of cache blocks: 5\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\nEnter replacement policy (FIFO or LRU): LRU\nEnter reference string:\n3 4 3 5 4 3 5\nMiss rate: 1.0\nHits: 0\nCache contents:\n3 0 0 0 0</p>\n<p>What I am expecting is</p>\n<p>Enter number of cache blocks: 5\nEnter set associativity (1=direct mapped, 2=2-way, 4=4-way): 1\nEnter replacement policy (FIFO or LRU): LRU\nEnter reference string:\n3 4 3 5 4\nMiss rate: 1.0\nHits: 0\nCache contents:\n3 4 3 5 4</p>\n"},{"tags":["java","android-studio","android-recyclerview","grid-layout","gridlayoutmanager"],"answers":[{"tags":[],"owner":{"account_id":9640946,"reputation":1,"user_id":7155210,"display_name":"Umesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669705911,"creation_date":1669705911,"answer_id":74610286,"question_id":74604248,"body_markdown":"I think it can be work reverse you array before initialize your adapter.\r\nLike this: \r\n\r\n     Collections.reverse(uri);\r\n    adapter = new RecyclerAdapter(uri);\r\n       ","title":"Android Studio GridLayout reverse not working","body":"<p>I think it can be work reverse you array before initialize your adapter.\nLike this:</p>\n<pre><code> Collections.reverse(uri);\nadapter = new RecyclerAdapter(uri);\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18291879,"reputation":21,"user_id":13318514,"display_name":"yashvala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789332,"creation_date":1669789332,"answer_id":74623604,"question_id":74604248,"body_markdown":"You Can Reverse this Layout Manager\r\n\r\nStep1- goto your **ArrayList**\r\n\r\nStep2- Reverse **Collections.reverse(mArrayList);**\r\n\r\nStep3- Set **Adapter**","title":"Android Studio GridLayout reverse not working","body":"<p>You Can Reverse this Layout Manager</p>\n<p>Step1- goto your <strong>ArrayList</strong></p>\n<p>Step2- Reverse <strong>Collections.reverse(mArrayList);</strong></p>\n<p>Step3- Set <strong>Adapter</strong></p>\n"}],"owner":{"account_id":27051204,"reputation":1,"user_id":20604535,"display_name":"Vinz Jose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669789332,"creation_date":1669655859,"question_id":74604248,"body_markdown":"I&#39;m currently making a instagram type of app in Android Studio, my app only shows the newest pic at the bottom of the grid. The Collections.reverse(arrayList) is not working\r\n\r\nhere&#39;s my main.java\r\n\r\n```\r\npackage com.example.mygram;\r\n\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.mygram.utils.SpacingItemDecoder;\r\n\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int IMAGE_PICK_CODE=1000;\r\n    private static final int PERMISSION_CODE=1001;\r\n\r\n    RecyclerView recyclerView;\r\n    TextView textView;\r\n    Button pick, gallery;\r\n    CircleImageView profpic;\r\n\r\n    ArrayList &lt;Uri&gt; uri = new ArrayList&lt;&gt;();\r\n\r\n    RecyclerAdapter adapter ;\r\n\r\n    private static final int Read_Permission = 101;\r\n    private static final int PICK_IMAGE = 1;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        profpic = findViewById(R.id.profile_image);\r\n        gallery = findViewById(R.id.select);\r\n        gallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                intent.setType(&quot;image/*&quot;);\r\n                galleryActivityResultLauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n        textView = findViewById(R.id.totalPhotos);\r\n        recyclerView = findViewById(R.id.recyclerView_Gallery_Images);\r\n        pick = findViewById(R.id.pick);\r\n\r\n        adapter = new RecyclerAdapter(uri);\r\n        recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\r\n        SpacingItemDecoder itemDecorator = new SpacingItemDecoder(10);\r\n        recyclerView.addItemDecoration(itemDecorator);\r\n        recyclerView.setAdapter(adapter);\r\n        Collections.reverse(uri);\r\n\r\n\r\n        pick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, Read_Permission);\r\n\r\n                    return;\r\n                }\r\n\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image/*&quot;);\r\n                if  (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR2){\r\n                    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n                }\r\n                //intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\r\n            }\r\n        });\r\n    }\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; galleryActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK){\r\n                        Intent data = result.getData();\r\n                        Uri imageUri = data.getData();\r\n\r\n                        profpic.setImageURI(imageUri);\r\n                    }\r\n                    else{\r\n                        Toast.makeText(MainActivity.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\r\n            if(data.getClipData()!=null){\r\n\r\n                int countofImages = data.getClipData().getItemCount();\r\n                for(int i=0; i&lt;countofImages; i++){\r\n                    Uri imageuri = data.getClipData().getItemAt(i).getUri();\r\n                    uri.add(imageuri);\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n                textView.setText(&quot;&quot;);\r\n            }else{\r\n                Uri imageuri = data.getData();\r\n                uri.add(imageuri);\r\n            }\r\n            adapter.notifyDataSetChanged();\r\n            textView.setText(&quot;&quot;);\r\n        }else{\r\n            Toast.makeText(this, &quot;You haven&#39;t pick any images&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nhere&#39;s my adapter.java\r\n\r\n```\r\npackage com.example.mygram;\r\n\r\nimport android.media.Image;\r\nimport android.net.Uri;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\r\n\r\n    private ArrayList&lt;Uri&gt; uriArrayList;\r\n\r\n    public RecyclerAdapter(ArrayList&lt;Uri&gt; uriArrayList) {\r\n        this.uriArrayList = uriArrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.custom_single_image,parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\r\n        holder.imageView.setImageURI(uriArrayList.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return uriArrayList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView imageView;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView = itemView.findViewById(R.id.image);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI want my app to display the last selected images at the top and first grid. I dont know what code should I use and where to put it. Please help, thank you!","title":"Android Studio GridLayout reverse not working","body":"<p>I'm currently making a instagram type of app in Android Studio, my app only shows the newest pic at the bottom of the grid. The Collections.reverse(arrayList) is not working</p>\n<p>here's my main.java</p>\n<pre><code>package com.example.mygram;\n\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.Manifest;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.mygram.utils.SpacingItemDecoder;\n\n\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int IMAGE_PICK_CODE=1000;\n    private static final int PERMISSION_CODE=1001;\n\n    RecyclerView recyclerView;\n    TextView textView;\n    Button pick, gallery;\n    CircleImageView profpic;\n\n    ArrayList &lt;Uri&gt; uri = new ArrayList&lt;&gt;();\n\n    RecyclerAdapter adapter ;\n\n    private static final int Read_Permission = 101;\n    private static final int PICK_IMAGE = 1;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        profpic = findViewById(R.id.profile_image);\n        gallery = findViewById(R.id.select);\n        gallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_PICK);\n                intent.setType(&quot;image/*&quot;);\n                galleryActivityResultLauncher.launch(intent);\n            }\n        });\n\n        textView = findViewById(R.id.totalPhotos);\n        recyclerView = findViewById(R.id.recyclerView_Gallery_Images);\n        pick = findViewById(R.id.pick);\n\n        adapter = new RecyclerAdapter(uri);\n        recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this,3));\n        SpacingItemDecoder itemDecorator = new SpacingItemDecoder(10);\n        recyclerView.addItemDecoration(itemDecorator);\n        recyclerView.setAdapter(adapter);\n        Collections.reverse(uri);\n\n\n        pick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, Read_Permission);\n\n                    return;\n                }\n\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                if  (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR2){\n                    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n                }\n                //intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\n            }\n        });\n    }\n\n    private ActivityResultLauncher&lt;Intent&gt; galleryActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK){\n                        Intent data = result.getData();\n                        Uri imageUri = data.getData();\n\n                        profpic.setImageURI(imageUri);\n                    }\n                    else{\n                        Toast.makeText(MainActivity.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n    );\n\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\n            if(data.getClipData()!=null){\n\n                int countofImages = data.getClipData().getItemCount();\n                for(int i=0; i&lt;countofImages; i++){\n                    Uri imageuri = data.getClipData().getItemAt(i).getUri();\n                    uri.add(imageuri);\n                }\n                adapter.notifyDataSetChanged();\n                textView.setText(&quot;&quot;);\n            }else{\n                Uri imageuri = data.getData();\n                uri.add(imageuri);\n            }\n            adapter.notifyDataSetChanged();\n            textView.setText(&quot;&quot;);\n        }else{\n            Toast.makeText(this, &quot;You haven't pick any images&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    }\n}\n</code></pre>\n<p>here's my adapter.java</p>\n<pre><code>package com.example.mygram;\n\nimport android.media.Image;\nimport android.net.Uri;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\n\n    private ArrayList&lt;Uri&gt; uriArrayList;\n\n    public RecyclerAdapter(ArrayList&lt;Uri&gt; uriArrayList) {\n        this.uriArrayList = uriArrayList;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.custom_single_image,parent, false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\n        holder.imageView.setImageURI(uriArrayList.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return uriArrayList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView imageView;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            imageView = itemView.findViewById(R.id.image);\n        }\n    }\n}\n</code></pre>\n<p>I want my app to display the last selected images at the top and first grid. I dont know what code should I use and where to put it. Please help, thank you!</p>\n"},{"tags":["java","selenium","selenium-webdriver","testing"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669706248,"creation_date":1669706248,"answer_id":74610349,"question_id":74610200,"body_markdown":"Use css (example with class = submitButton):\r\n```\r\nBy.css(&quot;.submitButton::before&quot;)\r\n```","title":"Cannot write an xpath for a pseudo element","body":"<p>Use css (example with class = submitButton):</p>\n<pre><code>By.css(&quot;.submitButton::before&quot;)\n</code></pre>\n"}],"owner":{"account_id":21664991,"reputation":1,"user_id":15983543,"display_name":"SousaKarl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669722521,"answer_count":1,"score":0,"last_activity_date":1669788585,"creation_date":1669705443,"question_id":74610200,"body_markdown":"I need your help in trying to write the Xpath for a pseudo element in selenium.. I have attached the code snippet  below.\r\n\r\nI need to write an xpath for the ::before element which is a check box and needs to be clicked?\r\n\r\n\r\n\r\nThanks in advance for your help.\r\n\r\nCode:\r\n[Code Snippet][1]\r\n\r\n\r\n\r\nI am trying to click on the check box.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/geW1y.png","title":"Cannot write an xpath for a pseudo element","body":"<p>I need your help in trying to write the Xpath for a pseudo element in selenium.. I have attached the code snippet  below.</p>\n<p>I need to write an xpath for the ::before element which is a check box and needs to be clicked?</p>\n<p>Thanks in advance for your help.</p>\n<p>Code:\n<a href=\"https://i.stack.imgur.com/geW1y.png\" rel=\"nofollow noreferrer\">Code Snippet</a></p>\n<p>I am trying to click on the check box.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3918586,"reputation":458,"user_id":3241790,"accept_rate":20,"display_name":"Zaher88abd"},"score":0,"creation_date":1669740134,"post_id":74617242,"comment_id":131709344,"body_markdown":"Please, check this question [link](https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery).","body":"Please, check this question <a href=\"https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery\">link</a>."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":1,"creation_date":1669740387,"post_id":74617242,"comment_id":131709432,"body_markdown":"Does this answer your question? [Select multiple images from android gallery](https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19585815/select-multiple-images-from-android-gallery\">Select multiple images from android gallery</a>"}],"answers":[{"comments":[{"owner":{"account_id":11922497,"reputation":36,"user_id":8724629,"display_name":"Fahim Fahad Leo"},"score":0,"creation_date":1669742929,"post_id":74617846,"comment_id":131710309,"body_markdown":"check out this answer. https://stackoverflow.com/a/54573243/8724629","body":"check out this answer. <a href=\"https://stackoverflow.com/a/54573243/8724629\">stackoverflow.com/a/54573243/8724629</a>"}],"tags":[],"owner":{"account_id":11922497,"reputation":36,"user_id":8724629,"display_name":"Fahim Fahad Leo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669742396,"creation_date":1669742396,"answer_id":74617846,"question_id":74617242,"body_markdown":"Ok you need to understand a few things. Firstly, if you want to limit the number of items user can pick from intent don&#39;t use default method like you used. Instead create an activity then customize it. Secondly, If you want to use default system, let user select as much as user wants but take only those which you want from the **ActivityResultLauncher**.\r\n\r\n         Intent intent = new Intent();\r\n            intent.setType(&quot;*/*&quot;);\r\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n            intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\r\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n            someActivityResultLauncher.launch(intent);\r\n\r\nUse this above code in onClick method and \r\n\r\n          ArrayList&lt;Uri&gt; files;\r\n        someActivityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        if (null != result.getData()) {\r\n                            files = new ArrayList&lt;&gt;();\r\n                            if (null != result.getData().getClipData()) {\r\n                                int count = result.getData().getClipData().getItemCount();\r\n                                if (count &gt;= 10) {\r\n                                    showSweetAlertError(this, &quot;Error&quot;, &quot;Maximum 10 photo.&quot;);\r\n                                }\r\n                                for (int i = 0; i &lt; Math.min(count, 10); i++) {\r\n                                    Uri uri = result.getData().getClipData().getItemAt(i).getUri();\r\n                                    files.add(uri);\r\n                                }\r\n                            } else {\r\n                                Uri uri = result.getData().getData();\r\n                                files.add(uri);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\nCreate `ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher` globally\r\nthen in onCreate write the above code. This should work.\r\n\r\n**Note:**  If user selects a single photo then `result.getData().getData()` code will be executed. If user select multiple photos then `result.getData().getClipData()` code will be executed. So the if statement is important.","title":"how I can select multiple images from gallery in android studio","body":"<p>Ok you need to understand a few things. Firstly, if you want to limit the number of items user can pick from intent don't use default method like you used. Instead create an activity then customize it. Secondly, If you want to use default system, let user select as much as user wants but take only those which you want from the <strong>ActivityResultLauncher</strong>.</p>\n<pre><code>     Intent intent = new Intent();\n        intent.setType(&quot;*/*&quot;);\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        someActivityResultLauncher.launch(intent);\n</code></pre>\n<p>Use this above code in onClick method and</p>\n<pre><code>      ArrayList&lt;Uri&gt; files;\n    someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    if (null != result.getData()) {\n                        files = new ArrayList&lt;&gt;();\n                        if (null != result.getData().getClipData()) {\n                            int count = result.getData().getClipData().getItemCount();\n                            if (count &gt;= 10) {\n                                showSweetAlertError(this, &quot;Error&quot;, &quot;Maximum 10 photo.&quot;);\n                            }\n                            for (int i = 0; i &lt; Math.min(count, 10); i++) {\n                                Uri uri = result.getData().getClipData().getItemAt(i).getUri();\n                                files.add(uri);\n                            }\n                        } else {\n                            Uri uri = result.getData().getData();\n                            files.add(uri);\n                        }\n                    }\n                }\n            });\n</code></pre>\n<p>Create <code>ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher</code> globally\nthen in onCreate write the above code. This should work.</p>\n<p><strong>Note:</strong>  If user selects a single photo then <code>result.getData().getData()</code> code will be executed. If user select multiple photos then <code>result.getData().getClipData()</code> code will be executed. So the if statement is important.</p>\n"}],"owner":{"account_id":27087173,"reputation":3,"user_id":20635504,"display_name":"Ahmad bustanji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74617846,"answer_count":1,"score":-1,"last_activity_date":1669787861,"creation_date":1669739423,"question_id":74617242,"body_markdown":"This is my code:- \r\n\r\n```\r\nIntent intent = new Intent();\r\nintent.setType(&quot;image/*&quot;);\r\nintent.setAction(Intent.ACTION_GET_CONTENT);\r\nintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\nstartActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), 1);\r\n```\r\n\r\n\r\nI tried using a set of libraries, but I could not add a limit that makes the user select a maximum of 10 images","title":"how I can select multiple images from gallery in android studio","body":"<p>This is my code:-</p>\n<pre><code>Intent intent = new Intent();\nintent.setType(&quot;image/*&quot;);\nintent.setAction(Intent.ACTION_GET_CONTENT);\nintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\nstartActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), 1);\n</code></pre>\n<p>I tried using a set of libraries, but I could not add a limit that makes the user select a maximum of 10 images</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1669735114,"post_id":74616157,"comment_id":131707272,"body_markdown":"What is the reason why you want to do this?","body":"What is the reason why you want to do this?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669785819,"post_id":74616157,"comment_id":131719503,"body_markdown":"Can you provide a specific example or describe your problem in detail? What do you expect to achieve? What now?","body":"Can you provide a specific example or describe your problem in detail? What do you expect to achieve? What now?"},{"owner":{"account_id":1403541,"reputation":87,"user_id":1331859,"accept_rate":83,"display_name":"JackoBongo"},"score":0,"creation_date":1669799237,"post_id":74616157,"comment_id":131722853,"body_markdown":"@JFabianMeier it&#39;s a huge project and this module (legacy stuff that is barely used) takes a long time to compile. To speed up debugging session, it&#39;s much faster to ignore this module and use the JAR instead.","body":"@JFabianMeier it&#39;s a huge project and this module (legacy stuff that is barely used) takes a long time to compile. To speed up debugging session, it&#39;s much faster to ignore this module and use the JAR instead."}],"answers":[{"comments":[{"owner":{"account_id":1403541,"reputation":87,"user_id":1331859,"accept_rate":83,"display_name":"JackoBongo"},"score":0,"creation_date":1669822361,"post_id":74623441,"comment_id":131731393,"body_markdown":"Unfortunately this section doesn&#39;t show up, I have a &quot;Maven dependency&quot; instead.","body":"Unfortunately this section doesn&#39;t show up, I have a &quot;Maven dependency&quot; instead."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1669860832,"post_id":74623441,"comment_id":131741389,"body_markdown":"Use the `mvn` command to install the jar to the local repository, and then add it to the project. There is no direct interface for vscode, you can submit a feature request on [GitHub](https://github.com/redhat-developer/vscode-java/issues/new).","body":"Use the <code>mvn</code> command to install the jar to the local repository, and then add it to the project. There is no direct interface for vscode, you can submit a feature request on <a href=\"https://github.com/redhat-developer/vscode-java/issues/new\" rel=\"nofollow noreferrer\">GitHub</a>."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669787833,"creation_date":1669787833,"answer_id":74623441,"question_id":74616157,"body_markdown":"You can add the `.jar` package through the plus sign on the right side of **Referenced Libraries** under the **JAVA PROJECTS** panel.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BWpp8.png","title":"How replace ignore a Maven module and reference a JAR in VS Code","body":"<p>You can add the <code>.jar</code> package through the plus sign on the right side of <strong>Referenced Libraries</strong> under the <strong>JAVA PROJECTS</strong> panel.</p>\n<p><a href=\"https://i.stack.imgur.com/BWpp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BWpp8.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1403541,"reputation":87,"user_id":1331859,"accept_rate":83,"display_name":"JackoBongo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669787833,"creation_date":1669734595,"question_id":74616157,"body_markdown":"I&#39;m currently running a multi-modules Maven project in VS Code and I would like to ignore a module in the IDE and use its JAR instead, without modifying the `pom.xml` files.\r\n\r\nIt&#39;s easily achievable on IntelliJ (`Project Structure` &gt; `Modules` &gt; delete the module then go in `Librairies` &gt; `New Project Library` and select the JAR).\r\n\r\nIs there something similar achievable under VS Code?","title":"How replace ignore a Maven module and reference a JAR in VS Code","body":"<p>I'm currently running a multi-modules Maven project in VS Code and I would like to ignore a module in the IDE and use its JAR instead, without modifying the <code>pom.xml</code> files.</p>\n<p>It's easily achievable on IntelliJ (<code>Project Structure</code> &gt; <code>Modules</code> &gt; delete the module then go in <code>Librairies</code> &gt; <code>New Project Library</code> and select the JAR).</p>\n<p>Is there something similar achievable under VS Code?</p>\n"},{"tags":["java","grpc","grpc-java"],"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1676923788,"post_id":74622741,"comment_id":133231377,"body_markdown":"Exaclty same thing: https://github.com/grpc/grpc-java/issues/9903 \nI had to make client reconnect manually though I thought it should be done under the hood.","body":"Exaclty same thing: <a href=\"https://github.com/grpc/grpc-java/issues/9903\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/9903</a>  I had to make client reconnect manually though I thought it should be done under the hood."}],"owner":{"account_id":27093159,"reputation":11,"user_id":20640659,"display_name":"Shivani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669786612,"creation_date":1669780772,"question_id":74622741,"body_markdown":"I am new to grpc. I am trying to implement a new short-lived stream feature in our java application. I used maximum connection age method of NettyServerBuilder.\r\n\r\n```\r\nprivate Server buildGrpcServer(int port) {\r\n   return NettyServerBuilder.forPort(port)\r\n         .addService(ServerInterceptors.intercept(routingServiceImpl,\r\n               Arrays.asList(requestHeaderInterceptor, responseHeaderInterceptor)))\r\n         .addService(healthCheckServiceImpl).intercept(exceptionHandler)\r\n         .permitKeepAliveTime(keepAliveTime, TimeUnit.SECONDS).permitKeepAliveWithoutCalls(true)\r\n         .maxConnectionAge(grpcMaxConnectionAgeSeconds, TimeUnit.SECONDS)\r\n         .maxConnectionAgeGrace(grpcMaxConnectionAgeGraceSeconds, TimeUnit.SECONDS)\r\n         .build();\r\n}\r\n```\r\nGoal is to keep connection open for streams for a specific time and then terminate gracefully.\r\n\r\nHowever, I am getting below error on client side:\r\n\r\n\r\n```\r\nio.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR\r\nReceived Goaway\r\nmax_age\r\n\tat io.grpc.Status.asRuntimeException(Status.java:533)\r\n\tat io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:460)\r\n\tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n\tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n\tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:426)\r\n\tat io.grpc.internal.ClientCallImpl.access$500(ClientCallImpl.java:66)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:689)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$900(ClientCallImpl.java:577)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:751)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:740)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n```\r\n\r\nServer side error:\r\n```\r\nCANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception&quot;,&quot;stack_trace&quot;:&quot;io.grpc.StatusRuntimeException: CANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception\r\n\tat io.grpc.Status.asRuntimeException(Status.java:526)\r\n\tat io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:366)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.sendMessageToClient(EventBrokerConsumerHandler.java:688)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBiDirectionalEventLocally(EventBrokerConsumerHandler.java:633)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBidirectionalEvent(EventBrokerConsumerHandler.java:477)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.handleBidirectionalEvent(EventBrokerConsumerHandler.java:313)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processMessage(EventBrokerConsumerHandler.java:273)\r\n\tat com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.onMessage(EventBrokerConsumerHandler.java:178)\r\n\tat io.nats.client.impl.NatsDispatcher.run(NatsDispatcher.java:98)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nTrying to implement short lived streams using max connection age and grace","title":"grpc: Implementing shortLived streams using MaxConnectionAge. Getting io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR Receiv","body":"<p>I am new to grpc. I am trying to implement a new short-lived stream feature in our java application. I used maximum connection age method of NettyServerBuilder.</p>\n<pre><code>private Server buildGrpcServer(int port) {\n   return NettyServerBuilder.forPort(port)\n         .addService(ServerInterceptors.intercept(routingServiceImpl,\n               Arrays.asList(requestHeaderInterceptor, responseHeaderInterceptor)))\n         .addService(healthCheckServiceImpl).intercept(exceptionHandler)\n         .permitKeepAliveTime(keepAliveTime, TimeUnit.SECONDS).permitKeepAliveWithoutCalls(true)\n         .maxConnectionAge(grpcMaxConnectionAgeSeconds, TimeUnit.SECONDS)\n         .maxConnectionAgeGrace(grpcMaxConnectionAgeGraceSeconds, TimeUnit.SECONDS)\n         .build();\n}\n</code></pre>\n<p>Goal is to keep connection open for streams for a specific time and then terminate gracefully.</p>\n<p>However, I am getting below error on client side:</p>\n<pre><code>io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR\nReceived Goaway\nmax_age\n    at io.grpc.Status.asRuntimeException(Status.java:533)\n    at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:460)\n    at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n    at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n    at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:426)\n    at io.grpc.internal.ClientCallImpl.access$500(ClientCallImpl.java:66)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:689)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$900(ClientCallImpl.java:577)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:751)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:740)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n<p>Server side error:</p>\n<pre><code>CANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception&quot;,&quot;stack_trace&quot;:&quot;io.grpc.StatusRuntimeException: CANCELLED: call already cancelled. Use ServerCallStreamObserver.setOnCancelHandler() to disable this exception\n    at io.grpc.Status.asRuntimeException(Status.java:526)\n    at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:366)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.sendMessageToClient(EventBrokerConsumerHandler.java:688)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBiDirectionalEventLocally(EventBrokerConsumerHandler.java:633)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processBidirectionalEvent(EventBrokerConsumerHandler.java:477)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.handleBidirectionalEvent(EventBrokerConsumerHandler.java:313)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.processMessage(EventBrokerConsumerHandler.java:273)\n    at com.mastercard.eventframework.event.gateway.broker.EventBrokerConsumerHandler.onMessage(EventBrokerConsumerHandler.java:178)\n    at io.nats.client.impl.NatsDispatcher.run(NatsDispatcher.java:98)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Trying to implement short lived streams using max connection age and grace</p>\n"},{"tags":["java","android","admob","native"],"comments":[{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502830376,"post_id":45701271,"comment_id":78361032,"body_markdown":"What all position you should show..? and add your listv.xml layout","body":"What all position you should show..? and add your listv.xml layout"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502830426,"post_id":45701271,"comment_id":78361044,"body_markdown":"@MuthukrishnanRajendran sorry I don&#39;t understand :/","body":"@MuthukrishnanRajendran sorry I don&#39;t understand :/"},{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502830445,"post_id":45701271,"comment_id":78361054,"body_markdown":"You want to show in every position..?","body":"You want to show in every position..?"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502830605,"post_id":45701271,"comment_id":78361122,"body_markdown":"@MuthukrishnanRajendran no only in the 3rd index position 3. thanks","body":"@MuthukrishnanRajendran no only in the 3rd index position 3. thanks"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502831292,"post_id":45701271,"comment_id":78361430,"body_markdown":"@MuthukrishnanRajendran I have added the listv.xml thanks","body":"@MuthukrishnanRajendran I have added the listv.xml thanks"}],"answers":[{"comments":[{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502832665,"post_id":45701653,"comment_id":78362057,"body_markdown":"Thanks for your help but for my main xml I had the native ad xml with a test code and I need to use this to test it. I have edited it above.","body":"Thanks for your help but for my main xml I had the native ad xml with a test code and I need to use this to test it. I have edited it above."},{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502832949,"post_id":45701653,"comment_id":78362186,"body_markdown":"Just add this 2 line **adView.setAdUnitId(&quot;[your unit id]&quot;);\n            adView.setAdSize(new AdSize(AdSize.FULL_WIDTH, 80));** it will work fine, And Please remove your Add uid from the question.","body":"Just add this 2 line <b>adView.setAdUnitId(&quot;[your unit id]&quot;);             adView.setAdSize(new AdSize(AdSize.FULL_WIDTH, 80));</b> it will work fine, And Please remove your Add uid from the question."},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502833562,"post_id":45701653,"comment_id":78362418,"body_markdown":"Thanks but the ad doesn&#39;t show. I can see this in the logs:                                                                              java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.","body":"Thanks but the ad doesn&#39;t show. I can see this in the logs:                                                                              java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first."},{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502833635,"post_id":45701653,"comment_id":78362449,"body_markdown":"Try to remove **if (adView != null) {\n            return adView;\n        }** in getAddView() and check","body":"Try to remove <b>if (adView != null) {             return adView;         }</b> in getAddView() and check"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502834348,"post_id":45701653,"comment_id":78362737,"body_markdown":"Can&#39;t find the error, trying to look for one but can&#39;t at the moment.","body":"Can&#39;t find the error, trying to look for one but can&#39;t at the moment."},{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502834420,"post_id":45701653,"comment_id":78362756,"body_markdown":"Try to create a view with false **View rowView = inflater.inflate(R.layout.layout_add, null, false);**","body":"Try to create a view with false <b>View rowView = inflater.inflate(R.layout.layout_add, null, false);</b>"},{"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"score":0,"creation_date":1502834468,"post_id":45701653,"comment_id":78362775,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/151991/discussion-between-muthukrishnan-rajendran-and-samantha).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/151991/discussion-between-muthukrishnan-rajendran-and-samantha\">continue this discussion in chat</a>."},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1502894044,"post_id":45701653,"comment_id":78390832,"body_markdown":"Still can&#39;t get the Native Ad to show tried different things not showing","body":"Still can&#39;t get the Native Ad to show tried different things not showing"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1503169797,"post_id":45701653,"comment_id":78508616,"body_markdown":"I can get this to work now but the problem is my ImageView on the left is covering the Ad how can i remove all the views just for this position=2 so the ad fits in nicely?","body":"I can get this to work now but the problem is my ImageView on the left is covering the Ad how can i remove all the views just for this position=2 so the ad fits in nicely?"},{"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"score":0,"creation_date":1503170182,"post_id":45701653,"comment_id":78508736,"body_markdown":"Okay will accept now, can do with visibility gone. Thanks for you help Muk","body":"Okay will accept now, can do with visibility gone. Thanks for you help Muk"}],"tags":[],"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502832917,"creation_date":1502831690,"answer_id":45701653,"question_id":45701271,"body_markdown":"You can try like this,\r\n\r\n    public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\r\n   \r\n    \r\n        private NativeExpressAdView adView;\r\n    \r\n        private NativeExpressAdView getAddView() {\r\n            if (adView != null) {\r\n                return adView;\r\n            }\r\n            adView = new NativeExpressAdView(context);\r\n           \r\n            adView.setAdUnitId(&quot;[your unit id]&quot;);\r\n            adView.setAdSize(new AdSize(AdSize.FULL_WIDTH, 80));\r\n    \r\n            LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n            adView.setLayoutParams(layoutParams);\r\n            AdRequest request = new AdRequest.Builder().build();\r\n            adView.loadAd(request);\r\n    \r\n            return adView;\r\n        }\r\n    \r\n        public View getView(int position, View view, ViewGroup parent) {\r\n            LayoutInflater inflater = context.getLayoutInflater();\r\n            View rowView = inflater.inflate(R.layout.layout_add, null, true);\r\n    \r\n    //        NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\r\n    \r\n            LinearLayout linearLayout = (LinearLayout) rowView.findViewById(R.id.addView);\r\n    \r\n            linearLayout.removeAllViews();\r\n            TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\r\n            ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\r\n            TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\r\n    \r\n    \r\n            txtTitle.setText(numbers[position]);\r\n            imageView.setImageResource(imgid[position]);\r\n            extratxt.setText(&quot;Number: &quot; + numbers[position]);\r\n    \r\n            if (position == 2) {\r\n                linearLayout.addView(getAddView());\r\n                linearLayout.setVisibility(View.VISIBLE);\r\n            } else {\r\n                linearLayout.removeAllViews();\r\n                linearLayout.setVisibility(View.GONE);\r\n            }\r\n    \r\n            return rowView;\r\n    \r\n        }\r\n    \r\n        ;\r\n    }\r\n\r\nLayour xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imgid&quot;\r\n                android:layout_width=&quot;60dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:padding=&quot;5dp&quot;/&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/number&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n                    android:textColor=&quot;#4CBE99&quot;/&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/addView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;&lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"Native Ad Admob to Custom List Adapter in Android","body":"<p>You can try like this,</p>\n\n<pre><code>public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\n\n\n    private NativeExpressAdView adView;\n\n    private NativeExpressAdView getAddView() {\n        if (adView != null) {\n            return adView;\n        }\n        adView = new NativeExpressAdView(context);\n\n        adView.setAdUnitId(\"[your unit id]\");\n        adView.setAdSize(new AdSize(AdSize.FULL_WIDTH, 80));\n\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        adView.setLayoutParams(layoutParams);\n        AdRequest request = new AdRequest.Builder().build();\n        adView.loadAd(request);\n\n        return adView;\n    }\n\n    public View getView(int position, View view, ViewGroup parent) {\n        LayoutInflater inflater = context.getLayoutInflater();\n        View rowView = inflater.inflate(R.layout.layout_add, null, true);\n\n//        NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\n\n        LinearLayout linearLayout = (LinearLayout) rowView.findViewById(R.id.addView);\n\n        linearLayout.removeAllViews();\n        TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\n        ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\n        TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\n\n\n        txtTitle.setText(numbers[position]);\n        imageView.setImageResource(imgid[position]);\n        extratxt.setText(\"Number: \" + numbers[position]);\n\n        if (position == 2) {\n            linearLayout.addView(getAddView());\n            linearLayout.setVisibility(View.VISIBLE);\n        } else {\n            linearLayout.removeAllViews();\n            linearLayout.setVisibility(View.GONE);\n        }\n\n        return rowView;\n\n    }\n\n    ;\n}\n</code></pre>\n\n<p>Layour xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    &gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imgid\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            android:padding=\"5dp\"/&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/number\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"10dp\"\n                android:layout_marginTop=\"5dp\"\n                android:padding=\"2dp\"\n                android:textAppearance=\"?android:attr/textAppearanceMedium\"\n                android:textColor=\"#4CBE99\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView1\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"10dp\"/&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/addView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"&gt;&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":398479,"reputation":1207,"user_id":763179,"accept_rate":77,"display_name":"Sam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45701653,"answer_count":1,"score":1,"last_activity_date":1669786567,"creation_date":1502829969,"question_id":45701271,"body_markdown":"I&#39;m struggling to find a way to add a native ad within my app on Android. \r\n\r\n\r\nMainActivity Class: \r\n\r\n     public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout.tab1, container, false);\r\n    \r\n            final String[] numbers = {&quot;one&quot;,&quot;two&quot;, &quot;&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;,&quot;six&quot;,&quot;seven&quot; &quot;eight&quot;,&quot;nine&quot;, &quot;ten&quot; &quot;eleven&quot;,&quot;twelve&quot;, &quot;thirteen&quot;};\r\n    \r\n    \r\n            Integer[] images = {0,1,2,3,4,5,6,7,8,9,10,11,12,13\r\n            };\r\n    \r\n            CustomListAdapter adapter=new CustomListAdapter(this.getActivity(), mobileArray, images);\r\n    \r\n            NativeExpressAdView adView = (NativeExpressAdView) rootView.findViewById(R.id.adView);\r\n            AdRequest request = new AdRequest.Builder().build();\r\n            adView.loadAd(request);\r\n    \r\n            list=(ListView) rootView.findViewById(R.id.list_view);\r\n            list.setAdapter(adapter);\r\n\r\n\r\n\r\nCustomListAdapter Class:\r\n\r\n    public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\r\n    \r\n        private final Activity context;\r\n        private final String[] numbers;\r\n        private final Integer[] imgid;\r\n    \r\n        public CustomListAdapter(Activity context, String[] numbers, Integer[] imgid) {\r\n            super(context, R.layout.listv, itemname);\r\n            // TODO Auto-generated constructor stub\r\n    \r\n            this.context=context;\r\n            this.numbers=numbers;\r\n            this.imgid=imgid;\r\n        }\r\n    \r\n        public View getView(int position,View view,ViewGroup parent) {\r\n            LayoutInflater inflater=context.getLayoutInflater();\r\n            View rowView=inflater.inflate(R.layout.listv, null,true);\r\n    \r\n            NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\r\n            TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\r\n            ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\r\n            TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\r\n    \r\n        \r\n            txtTitle.setText(numbers[position]);\r\n            imageView.setImageResource(imgid[position]);\r\n            extratxt.setText(&quot;Number: &quot;numbers[position]);\r\n    \r\n            return rowView;\r\n    \r\n        };\r\n    }\r\n\r\nI want to add the native add within a particular index in array, ideally where it shows &quot;&quot;. I&#39;m trying to add the adView into the adapter but unsure how to do this.\r\n\r\nEdit:\r\n\r\nlistv layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imgid&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:padding=&quot;5dp&quot; /&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/number&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:padding=&quot;2dp&quot;\r\n                android:textColor=&quot;#4CBE99&quot; /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;/&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.gms.ads.NativeExpressAdView\r\n        android:id=&quot;@+id/adView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        ads:adSize=&quot;345x80&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/2793859312&quot;&gt;&lt;/com.google.android.gms.ads.NativeExpressAdView&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Native Ad Admob to Custom List Adapter in Android","body":"<p>I'm struggling to find a way to add a native ad within my app on Android. </p>\n\n<p>MainActivity Class: </p>\n\n<pre><code> public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.tab1, container, false);\n\n        final String[] numbers = {\"one\",\"two\", \"\", \"three\", \"four\", \"five\",\"six\",\"seven\" \"eight\",\"nine\", \"ten\" \"eleven\",\"twelve\", \"thirteen\"};\n\n\n        Integer[] images = {0,1,2,3,4,5,6,7,8,9,10,11,12,13\n        };\n\n        CustomListAdapter adapter=new CustomListAdapter(this.getActivity(), mobileArray, images);\n\n        NativeExpressAdView adView = (NativeExpressAdView) rootView.findViewById(R.id.adView);\n        AdRequest request = new AdRequest.Builder().build();\n        adView.loadAd(request);\n\n        list=(ListView) rootView.findViewById(R.id.list_view);\n        list.setAdapter(adapter);\n</code></pre>\n\n<p>CustomListAdapter Class:</p>\n\n<pre><code>public class CustomListAdapter extends ArrayAdapter&lt;String&gt; {\n\n    private final Activity context;\n    private final String[] numbers;\n    private final Integer[] imgid;\n\n    public CustomListAdapter(Activity context, String[] numbers, Integer[] imgid) {\n        super(context, R.layout.listv, itemname);\n        // TODO Auto-generated constructor stub\n\n        this.context=context;\n        this.numbers=numbers;\n        this.imgid=imgid;\n    }\n\n    public View getView(int position,View view,ViewGroup parent) {\n        LayoutInflater inflater=context.getLayoutInflater();\n        View rowView=inflater.inflate(R.layout.listv, null,true);\n\n        NativeExpressAdView adView = (NativeExpressAdView) rowView.findViewById(R.id.adView);\n        TextView txtTitle = (TextView) rowView.findViewById(R.id.number);\n        ImageView imageView = (ImageView) rowView.findViewById(R.id.imgid);\n        TextView extratxt = (TextView) rowView.findViewById(R.id.textView1);\n\n\n        txtTitle.setText(numbers[position]);\n        imageView.setImageResource(imgid[position]);\n        extratxt.setText(\"Number: \"numbers[position]);\n\n        return rowView;\n\n    };\n}\n</code></pre>\n\n<p>I want to add the native add within a particular index in array, ideally where it shows \"\". I'm trying to add the adView into the adapter but unsure how to do this.</p>\n\n<p>Edit:</p>\n\n<p>listv layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imgid\"\n        android:layout_width=\"60dp\"\n        android:layout_height=\"60dp\"\n        android:padding=\"5dp\" /&gt;\n    &lt;LinearLayout android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/number\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textAppearance=\"?android:attr/textAppearanceMedium\"\n            android:layout_marginLeft=\"10dp\"\n            android:layout_marginTop=\"5dp\"\n            android:padding=\"2dp\"\n            android:textColor=\"#4CBE99\" /&gt;\n        &lt;TextView\n            android:id=\"@+id/textView1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"10dp\"/&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n\n&lt;com.google.android.gms.ads.NativeExpressAdView\n    android:id=\"@+id/adView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:visibility=\"visible\"\n    android:layout_gravity=\"center\"\n    ads:adSize=\"345x80\"\n    ads:adUnitId=\"ca-app-pub-3940256099942544/2793859312\"&gt;&lt;/com.google.android.gms.ads.NativeExpressAdView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","teradata"],"comments":[{"owner":{"account_id":2977058,"reputation":59773,"user_id":2527905,"display_name":"dnoeth"},"score":0,"creation_date":1669284938,"post_id":74558124,"comment_id":131611911,"body_markdown":"It&#39;s not stored like this in Teradata. Quick guess: Might be based on the session character set, 10 digits + plus 10 spaces, Java expects 10 UTF-16, but gets 10 UTF-8 characters and fills with spcaes?","body":"It&#39;s not stored like this in Teradata. Quick guess: Might be based on the session character set, 10 digits + plus 10 spaces, Java expects 10 UTF-16, but gets 10 UTF-8 characters and fills with spcaes?"},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1669290804,"post_id":74558124,"comment_id":131613934,"body_markdown":"The screenshots are from Teradata studio ide and this is pretty much read only data. So there&#39;s no involvement of java at this point.","body":"The screenshots are from Teradata studio ide and this is pretty much read only data. So there&#39;s no involvement of java at this point."},{"owner":{"account_id":2977058,"reputation":59773,"user_id":2527905,"display_name":"dnoeth"},"score":1,"creation_date":1669296834,"post_id":74558124,"comment_id":131615955,"body_markdown":"Well, Studio is Java based. Try switching the session charset to UTF16....","body":"Well, Studio is Java based. Try switching the session charset to UTF16...."}],"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669786139,"creation_date":1669280776,"question_id":74558124,"body_markdown":"I&#39;m having an issue with data in Teradata where extra spaces are added beyond the specifies column limit. This is true for all the character type columns everywhere. Please look at the below screenshots.\r\n\r\nWe are having to trim the contents in our Java logic layer or sometimes in the sql query itself which is not convenient. I couldn&#39;t find much in the documentations as well. Has anyone else faced this issue?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lc17a.png\r\n  [2]: https://i.stack.imgur.com/LZqsv.png","title":"Teradata storing extra spaces beyond the column&#39;s character limit","body":"<p>I'm having an issue with data in Teradata where extra spaces are added beyond the specifies column limit. This is true for all the character type columns everywhere. Please look at the below screenshots.</p>\n<p>We are having to trim the contents in our Java logic layer or sometimes in the sql query itself which is not convenient. I couldn't find much in the documentations as well. Has anyone else faced this issue?</p>\n<p><a href=\"https://i.stack.imgur.com/lc17a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lc17a.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LZqsv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LZqsv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-poi","headless","netbsd"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1449420716,"post_id":34118478,"comment_id":55988770,"body_markdown":"How did you install the JVM? Was it from a package? Did you skip any dependencies? Do you have freetype installed?","body":"How did you install the JVM? Was it from a package? Did you skip any dependencies? Do you have freetype installed?"},{"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"score":0,"creation_date":1449421915,"post_id":34118478,"comment_id":55989227,"body_markdown":"I am not the administrator of the target machine so unfortunately I cannot give you such details aboute the JVM installation.  Freetype seems to be installed because `freetype-config` is available.","body":"I am not the administrator of the target machine so unfortunately I cannot give you such details aboute the JVM installation.  Freetype seems to be installed because <code>freetype-config</code> is available."},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1449645108,"post_id":34118478,"comment_id":56092339,"body_markdown":"You likely need to install the missing libraries on that machine to make it work.","body":"You likely need to install the missing libraries on that machine to make it work."},{"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"score":0,"creation_date":1449661543,"post_id":34118478,"comment_id":56102402,"body_markdown":"@centic Is is possible to do this as non-root?","body":"@centic Is is possible to do this as non-root?"},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1449731826,"post_id":34118478,"comment_id":56137319,"body_markdown":"Usually this will require root-access as installing these adds system libraries. You could try installing them manually somewhere in the user-directory and adjusting the LD_LIBRARY_PATH to include these, but it sounds like a hack for a very common library which is usually required to have a fully working Java JRE installation.","body":"Usually this will require root-access as installing these adds system libraries. You could try installing them manually somewhere in the user-directory and adjusting the LD_LIBRARY_PATH to include these, but it sounds like a hack for a very common library which is usually required to have a fully working Java JRE installation."}],"answers":[{"tags":[],"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1450055311,"creation_date":1450047781,"answer_id":34257466,"question_id":34118478,"body_markdown":"I found an older library version in the system:\r\n\r\n    bash-4.3$ find /usr -name &quot;libfreetype.*&quot;\r\n    find: /usr/games/hide: Permission denied\r\n    /usr/pkg/lib/libfreetype.la\r\n    /usr/pkg/lib/libfreetype.a\r\n    /usr/pkg/lib/libfreetype.so\r\n    /usr/pkg/lib/libfreetype.so.6\r\n    /usr/pkg/lib/libfreetype.so.6.11.3\r\n\r\nThen I created a symbolic link for the lastest available version as if it would be version 7:\r\n\r\n    ln -s /usr/pkg/lib/libfreetype.so.6.11.3 ~/tmp/lib/libfreetype.so.7\r\n\r\nAnd start now my jar file with an environment variable:\r\n\r\n    LD_LIBRARY_PATH=~/tmp/lib java -jar -Xmx200m -Djava.awt.headless=true myJar.jar","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>I found an older library version in the system:</p>\n\n<pre><code>bash-4.3$ find /usr -name \"libfreetype.*\"\nfind: /usr/games/hide: Permission denied\n/usr/pkg/lib/libfreetype.la\n/usr/pkg/lib/libfreetype.a\n/usr/pkg/lib/libfreetype.so\n/usr/pkg/lib/libfreetype.so.6\n/usr/pkg/lib/libfreetype.so.6.11.3\n</code></pre>\n\n<p>Then I created a symbolic link for the lastest available version as if it would be version 7:</p>\n\n<pre><code>ln -s /usr/pkg/lib/libfreetype.so.6.11.3 ~/tmp/lib/libfreetype.so.7\n</code></pre>\n\n<p>And start now my jar file with an environment variable:</p>\n\n<pre><code>LD_LIBRARY_PATH=~/tmp/lib java -jar -Xmx200m -Djava.awt.headless=true myJar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13706618,"reputation":1221,"user_id":9890027,"display_name":"Ders"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621952325,"creation_date":1621952325,"answer_id":67689895,"question_id":34118478,"body_markdown":"I had an issue similar to this. [Danny&#39;s answer](https://stackoverflow.com/questions/34118478/apache-poi-missing-dynamic-library-libfreetype-so#answer-34257466) pointed me in the right direction. Basically, if the app is inside a [Tomcat Docker](https://hub.docker.com/_/tomcat) container, make sure you are not using the slim version.\r\n\r\nUsing `tomcat:9.0.24-jdk11-openjdk-slim`, `find /usr -name libfreetype.*` shows that [FreeType `libfreetype`](https://sourceforge.net/projects/freetype/) was not included in the JVM. Updating the base image to `tomcat:9.0.24-jdk11-openjdk` resolved this.","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>I had an issue similar to this. <a href=\"https://stackoverflow.com/questions/34118478/apache-poi-missing-dynamic-library-libfreetype-so#answer-34257466\">Danny's answer</a> pointed me in the right direction. Basically, if the app is inside a <a href=\"https://hub.docker.com/_/tomcat\" rel=\"nofollow noreferrer\">Tomcat Docker</a> container, make sure you are not using the slim version.</p>\n<p>Using <code>tomcat:9.0.24-jdk11-openjdk-slim</code>, <code>find /usr -name libfreetype.*</code> shows that <a href=\"https://sourceforge.net/projects/freetype/\" rel=\"nofollow noreferrer\">FreeType <code>libfreetype</code></a> was not included in the JVM. Updating the base image to <code>tomcat:9.0.24-jdk11-openjdk</code> resolved this.</p>\n"},{"tags":[],"owner":{"account_id":16443641,"reputation":1,"user_id":11879125,"display_name":"gunjan kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669786015,"creation_date":1669785649,"answer_id":74623190,"question_id":34118478,"body_markdown":"First, update your apt using RUN `apt update`;\r\nand then install fontconfig libfreetype6 through the below command.\r\n\r\n    apt install -y fontconfig libfreetype6\r\n\r\nI faced this for jdk11.","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>First, update your apt using RUN <code>apt update</code>;\nand then install fontconfig libfreetype6 through the below command.</p>\n<pre><code>apt install -y fontconfig libfreetype6\n</code></pre>\n<p>I faced this for jdk11.</p>\n"}],"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7375,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34257466,"answer_count":3,"score":3,"last_activity_date":1669786015,"creation_date":1449412029,"question_id":34118478,"body_markdown":"I use Apache POI to write out a spreadsheet. The problematic line is where I invoke `Sheet#autoSizeColumn(int column)`. If I run it on a unix shell with no graphical environment, the following exception appears:\r\n\r\n    Exception in thread &quot;Thread-3&quot; java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/xawt/libmawt.so: Shared object &quot;libXext.so.7&quot; not found\r\n\r\nAccording to [apache&#39;s quick guide][1] there is a property which should be set to signalize headless environment, so I try the following call:\r\n\r\n     java -jar -Xmx200m -Djava.awt.headless=true myJar.jar\r\n\r\nBut I get then another exception for the same line:\r\n\r\n    Exception in thread &quot;Thread-3&quot; java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/libfontmanager.so: Shared object &quot;libfreetype.so.7&quot; not found\r\n\r\nThe above apache guide also says &quot;I should ensure that the fonts I use in your workbook are available to Java&quot;. I really don&#39;t use any specific fonts, the one and only thing I do with fonts is\r\n\r\n    XSSFFont boldFont = (XSSFFont) wb.createFont();\r\n    boldFont.setBold(true);\r\n    titleRowStyle.setFont(boldFont);\r\n\r\nThe unix shell runs\r\n\r\n    openjdk version &quot;1.7.0-internal&quot;\r\n    OpenJDK Runtime Environment (build 1.7.0-internal-pkgsrc_2015_01_06_05_56-b00)\r\n    OpenJDK 64-Bit Server VM (build 24.71-b01, mixed mode)\r\n\r\nand\r\n\r\n    NetBSD *** 6.1.5 NetBSD 6.1.5 (jajo) #1: Sun Jun 21 09:13:03 UTC 2015  spaj@***:/usr/src/sys/arch/amd64/compile/jajo amd64\r\n\r\n\r\nIs it possible to fix this issue?\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/quick-guide.html#Autofit","title":"Apache POI missing dynamic library libfreetype.so","body":"<p>I use Apache POI to write out a spreadsheet. The problematic line is where I invoke <code>Sheet#autoSizeColumn(int column)</code>. If I run it on a unix shell with no graphical environment, the following exception appears:</p>\n\n<pre><code>Exception in thread \"Thread-3\" java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/xawt/libmawt.so: Shared object \"libXext.so.7\" not found\n</code></pre>\n\n<p>According to <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#Autofit\" rel=\"nofollow\">apache's quick guide</a> there is a property which should be set to signalize headless environment, so I try the following call:</p>\n\n<pre><code> java -jar -Xmx200m -Djava.awt.headless=true myJar.jar\n</code></pre>\n\n<p>But I get then another exception for the same line:</p>\n\n<pre><code>Exception in thread \"Thread-3\" java.lang.UnsatisfiedLinkError: /usr/pkg/java/openjdk7/jre/lib/amd64/libfontmanager.so: Shared object \"libfreetype.so.7\" not found\n</code></pre>\n\n<p>The above apache guide also says \"I should ensure that the fonts I use in your workbook are available to Java\". I really don't use any specific fonts, the one and only thing I do with fonts is</p>\n\n<pre><code>XSSFFont boldFont = (XSSFFont) wb.createFont();\nboldFont.setBold(true);\ntitleRowStyle.setFont(boldFont);\n</code></pre>\n\n<p>The unix shell runs</p>\n\n<pre><code>openjdk version \"1.7.0-internal\"\nOpenJDK Runtime Environment (build 1.7.0-internal-pkgsrc_2015_01_06_05_56-b00)\nOpenJDK 64-Bit Server VM (build 24.71-b01, mixed mode)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>NetBSD *** 6.1.5 NetBSD 6.1.5 (jajo) #1: Sun Jun 21 09:13:03 UTC 2015  spaj@***:/usr/src/sys/arch/amd64/compile/jajo amd64\n</code></pre>\n\n<p>Is it possible to fix this issue?</p>\n"},{"tags":["java","hibernate","quarkus","hana","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669785325,"creation_date":1669785325,"answer_id":74623168,"question_id":74306585,"body_markdown":"Since Hibernate supports SAP HANA, Quarkus does so as well in JVM mode at least. If you want support for native image, you will have to contact SAP so that they make sure their JDBC driver works in native mode.","title":"Does Quarkus (panache) support SAP HANA db access?","body":"<p>Since Hibernate supports SAP HANA, Quarkus does so as well in JVM mode at least. If you want support for native image, you will have to contact SAP so that they make sure their JDBC driver works in native mode.</p>\n"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669785325,"creation_date":1667493342,"question_id":74306585,"body_markdown":"I plan to build a platform which i want to use Quarkus for (for the first time, coming from Spring Boot). The platform will use PostgreSQL as persistent storages, however there may be cases where a microservices has to connect to SAP HANA storages to read data from. I know there are java drivers for SAP HANA, but does Quarkus cause issues with this or is there some kind of &quot;lack&quot; of integration for this when for example using the panache module from Quarkus? I don&#39;t think i saw it on the list of supported databases. I only found one example on github of someone claiming using sap hana integration, but it was just a private person nothing official. Does anyone know or has done that and seen whether this causes issues in any way? ","title":"Does Quarkus (panache) support SAP HANA db access?","body":"<p>I plan to build a platform which i want to use Quarkus for (for the first time, coming from Spring Boot). The platform will use PostgreSQL as persistent storages, however there may be cases where a microservices has to connect to SAP HANA storages to read data from. I know there are java drivers for SAP HANA, but does Quarkus cause issues with this or is there some kind of &quot;lack&quot; of integration for this when for example using the panache module from Quarkus? I don't think i saw it on the list of supported databases. I only found one example on github of someone claiming using sap hana integration, but it was just a private person nothing official. Does anyone know or has done that and seen whether this causes issues in any way?</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":1197390,"reputation":1157,"user_id":4467687,"display_name":"Crispert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669784055,"creation_date":1669783495,"answer_id":74622992,"question_id":74614610,"body_markdown":"You could use [commandLine][1] to run the main method in MyClass which could call postBuild:\r\n\r\n    commandLine &#39;java&#39; &#39;&lt;pathToSrc&gt;/&lt;mypackage&gt;.MyClass&#39;\r\n\r\n\r\nBe careful to set the package name and source location properly. The path should point to the location (minus package directory tree) of the MyClass.class file, **not MyClass.java**. If your class is not compiled or it changes often, you could call javac to compile it each time before you run it (optionally using a shell script / batch file) to bundle both commands and simplify the gradle call and help you test the setup directly.\r\n\r\n\r\nIf your class uses code from libraries ensure you add them to the classpath:\r\n\r\n    &#39;-classpath&#39; &#39;mylib1.jar:mylib2.jar&#39;\r\n\r\nIf you use java in the build process you might also have a look at [scar][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46959783/running-shell-command-from-gradle-script\r\n  [2]: https://github.com/EsotericSoftware/scar","title":"Android - Run a Java method in Gradle after an apk build","body":"<p>You could use <a href=\"https://stackoverflow.com/questions/46959783/running-shell-command-from-gradle-script\">commandLine</a> to run the main method in MyClass which could call postBuild:</p>\n<pre><code>commandLine 'java' '&lt;pathToSrc&gt;/&lt;mypackage&gt;.MyClass'\n</code></pre>\n<p>Be careful to set the package name and source location properly. The path should point to the location (minus package directory tree) of the MyClass.class file, <strong>not MyClass.java</strong>. If your class is not compiled or it changes often, you could call javac to compile it each time before you run it (optionally using a shell script / batch file) to bundle both commands and simplify the gradle call and help you test the setup directly.</p>\n<p>If your class uses code from libraries ensure you add them to the classpath:</p>\n<pre><code>'-classpath' 'mylib1.jar:mylib2.jar'\n</code></pre>\n<p>If you use java in the build process you might also have a look at <a href=\"https://github.com/EsotericSoftware/scar\" rel=\"nofollow noreferrer\">scar</a></p>\n"}],"owner":{"account_id":12564826,"reputation":33,"user_id":9141190,"display_name":"The_Cuber7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74622992,"answer_count":1,"score":1,"last_activity_date":1669784055,"creation_date":1669727410,"question_id":74614610,"body_markdown":"I&#39;m currently building a Android application, and I would like to do some processing after the apk is built.\r\n\r\nI&#39;ve already succeeded to launch a gradle task after the build:\r\n\r\n```\r\ntasks.whenTaskAdded {\r\n        task -&gt;\r\n            if(task.name == &#39;assembleRelease&#39;){\r\n                task.finalizedBy postApkProcess\r\n            }\r\n    }\r\n\r\n    task postApkProcess{\r\n        doLast {\r\n           println &#39;OK&#39;\r\n        }\r\n    }\r\n```\r\n\r\nBut I struggle to launch a method inside that task. What I would like to do is to call something like `new MyClass().postBuild()` inside the class (or if it is not possible, run the main method of a Java class), but I don&#39;t find a way to do it. \r\n\r\nI&#39;ve tried to build a task `task postProcess(type: JavaExec)`, but the line `apply plugin: &#39;java&#39;`conflicts with the Android plugin.\r\n\r\n\r\nIs there a way to do it ?","title":"Android - Run a Java method in Gradle after an apk build","body":"<p>I'm currently building a Android application, and I would like to do some processing after the apk is built.</p>\n<p>I've already succeeded to launch a gradle task after the build:</p>\n<pre><code>tasks.whenTaskAdded {\n        task -&gt;\n            if(task.name == 'assembleRelease'){\n                task.finalizedBy postApkProcess\n            }\n    }\n\n    task postApkProcess{\n        doLast {\n           println 'OK'\n        }\n    }\n</code></pre>\n<p>But I struggle to launch a method inside that task. What I would like to do is to call something like <code>new MyClass().postBuild()</code> inside the class (or if it is not possible, run the main method of a Java class), but I don't find a way to do it.</p>\n<p>I've tried to build a task <code>task postProcess(type: JavaExec)</code>, but the line <code>apply plugin: 'java'</code>conflicts with the Android plugin.</p>\n<p>Is there a way to do it ?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667361966,"creation_date":1667360738,"answer_id":74284141,"question_id":74283148,"body_markdown":"You can parse a JSON response and get a particular field/fields from Response by customising it.\r\n\r\nThe other option is to use `@JsonIgnore` annotation on the fields which you don&#39;t want them to be part of response.","title":"Avoid unncessary relationship Rest Api Response JPA","body":"<p>You can parse a JSON response and get a particular field/fields from Response by customising it.</p>\n<p>The other option is to use <code>@JsonIgnore</code> annotation on the fields which you don't want them to be part of response.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669783220,"creation_date":1669783220,"answer_id":74622969,"question_id":74283148,"body_markdown":"You can solve this by creating DTOs for your use cases and I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Student.class)\r\n    public interface StudentDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        Set&lt;CourseDto&gt; getCourses();\r\n\r\n        @EntityView(Course.class)\r\n        interface CourseDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`StudentDto a = entityViewManager.find(entityManager, StudentDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;StudentDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Avoid unncessary relationship Rest Api Response JPA","body":"<p>You can solve this by creating DTOs for your use cases and I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Student.class)\npublic interface StudentDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    Set&lt;CourseDto&gt; getCourses();\n\n    @EntityView(Course.class)\n    interface CourseDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>StudentDto a = entityViewManager.find(entityManager, StudentDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;StudentDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":13044340,"reputation":485,"user_id":11079729,"display_name":"Girbson BIJOU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669783220,"creation_date":1667348788,"question_id":74283148,"body_markdown":"I have a springboot Application with 10 Tables in my database. When i make a get request on one table,  it returns a response with in all the tables having any related records in all the 10 tables. I use Lazy fetch, the problems does not solve. I need to return only response  expectated by front end app. For example, if the client wants only students then the REST API should return only students (not its child entities). How can i solve this problem.\r\n","title":"Avoid unncessary relationship Rest Api Response JPA","body":"<p>I have a springboot Application with 10 Tables in my database. When i make a get request on one table,  it returns a response with in all the tables having any related records in all the 10 tables. I use Lazy fetch, the problems does not solve. I need to return only response  expectated by front end app. For example, if the client wants only students then the REST API should return only students (not its child entities). How can i solve this problem.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1669781050,"post_id":74622761,"comment_id":131718781,"body_markdown":"How about reading the javadocs for File::renameTo - https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)","body":"How about reading the javadocs for File::renameTo - <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669781239,"post_id":74622761,"comment_id":131718805,"body_markdown":"Just change `finalPath` to whatever you want, before you call `Files.write`.","body":"Just change <code>finalPath</code> to whatever you want, before you call <code>Files.write</code>."}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669782784,"creation_date":1669782784,"answer_id":74622927,"question_id":74622761,"body_markdown":"Replace your code with this and update your &quot;CustomName_ABC&quot; with your new fileName.\r\n\r\n    String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\r\n    String finalPath = localPath + &quot;CustomName_ABC&quot;;\r\n\r\n    File uploadPath = new File(finalPath);\r\n    if (!uploadPath.getParentFile().exists()) {\r\n        uploadPath.getParentFile().mkdirs();\r\n    }\r\n    Files.copy(file.toPath(), uploadPath.toPath());\r\n\r\nYou can copy your old file to a new filePath (directory) by using **Files.copy()** method. It will take two parameters:\r\n    \r\n 1. Old file path\r\n 2. New file path\r\n\r\n","title":"How to rename a file before insert to a path Java?","body":"<p>Replace your code with this and update your &quot;CustomName_ABC&quot; with your new fileName.</p>\n<pre><code>String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\nString finalPath = localPath + &quot;CustomName_ABC&quot;;\n\nFile uploadPath = new File(finalPath);\nif (!uploadPath.getParentFile().exists()) {\n    uploadPath.getParentFile().mkdirs();\n}\nFiles.copy(file.toPath(), uploadPath.toPath());\n</code></pre>\n<p>You can copy your old file to a new filePath (directory) by using <strong>Files.copy()</strong> method. It will take two parameters:</p>\n<ol>\n<li>Old file path</li>\n<li>New file path</li>\n</ol>\n"}],"owner":{"account_id":22377078,"reputation":177,"user_id":16591189,"display_name":"Foody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669782784,"creation_date":1669780931,"question_id":74622761,"body_markdown":"I need to insert a file to a path. However, the file name need to change to a specific name before inserted.\r\n\r\nHow can I change the name of the file **before** insert to path? As many resources online only able to change the file name after inserted. [Online Resource for rename file][1]\r\n\r\n**My code currently**\r\n\r\n    String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\r\n\r\n    String finalPath = localPath + file.getOriginalFilename();\r\n\r\n    File uploadPath = new File(finalPath);\r\n    if (!uploadPath.getParentFile().exists()) {\r\n        uploadPath.getParentFile().mkdirs();\r\n    }\r\n\r\n    //I think need to rename the file here before insert to path\r\n\r\n    byte[] bytes = file.getBytes();\r\n    Path path = Paths.get(finalPath);\r\n    Files.write(path, bytes);\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-program-to-rename-a-file/","title":"How to rename a file before insert to a path Java?","body":"<p>I need to insert a file to a path. However, the file name need to change to a specific name before inserted.</p>\n<p>How can I change the name of the file <strong>before</strong> insert to path? As many resources online only able to change the file name after inserted. <a href=\"https://www.geeksforgeeks.org/java-program-to-rename-a-file/\" rel=\"nofollow noreferrer\">Online Resource for rename file</a></p>\n<p><strong>My code currently</strong></p>\n<pre><code>String localPath = &quot;c://Users/foody/Documents/write_file_local/&quot;;\n\nString finalPath = localPath + file.getOriginalFilename();\n\nFile uploadPath = new File(finalPath);\nif (!uploadPath.getParentFile().exists()) {\n    uploadPath.getParentFile().mkdirs();\n}\n\n//I think need to rename the file here before insert to path\n\nbyte[] bytes = file.getBytes();\nPath path = Paths.get(finalPath);\nFiles.write(path, bytes);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"comments":[{"owner":{"account_id":5238787,"reputation":134,"user_id":4186547,"display_name":"20kLeagues"},"score":0,"creation_date":1670213213,"post_id":74622876,"comment_id":131815764,"body_markdown":"Thanks, this is actually what I ended up going for! I did try many other ways to do it, Spring boot maven plugin provides a NONE flag for the layout option which excludes the main class which worked but it would have been a chore to change that value for runnable vs non-runnable builds.","body":"Thanks, this is actually what I ended up going for! I did try many other ways to do it, Spring boot maven plugin provides a NONE flag for the layout option which excludes the main class which worked but it would have been a chore to change that value for runnable vs non-runnable builds."}],"tags":[],"owner":{"account_id":27092919,"reputation":59,"user_id":20640440,"display_name":"Games3D"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669782188,"creation_date":1669782188,"answer_id":74622876,"question_id":74621829,"body_markdown":"I would think the best solution (even though it might take some rework) separate module 2 into two separate modules, one for the core classes and another for the application. Then module 3 can easily import module 2 classes as the module 2 application is no longer in there.\r\n\r\nIf this isn&#39;t an option then you will need to define the main class in the pom file when building your war file config. See this related link: https://stackoverflow.com/questions/29061346/using-maven-to-create-runnable-war\r\n","title":"Spring Boot module as a dependency gets started as its own app when in a war","body":"<p>I would think the best solution (even though it might take some rework) separate module 2 into two separate modules, one for the core classes and another for the application. Then module 3 can easily import module 2 classes as the module 2 application is no longer in there.</p>\n<p>If this isn't an option then you will need to define the main class in the pom file when building your war file config. See this related link: <a href=\"https://stackoverflow.com/questions/29061346/using-maven-to-create-runnable-war\">Using Maven to create &quot;runnable WAR&quot;</a></p>\n"}],"owner":{"account_id":5238787,"reputation":134,"user_id":4186547,"display_name":"20kLeagues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74622876,"answer_count":1,"score":0,"last_activity_date":1669782188,"creation_date":1669770132,"question_id":74621829,"body_markdown":"My application is structured as such:\r\n- root\r\n  - module 1 (pure classes)\r\n  - module 2 (spring boot app) -&gt; has module 1 as a dependency\r\n  - module 3 (sprint boot app) -&gt; has module 2 as a dependency \r\n\r\nWhen I package module 3 as a war and deploy it on tomcat, for some reason the module 2 app also starts up. I only want to use the module 2 classes in module 3, and not have the Spring app start up from module 2.\r\n\r\nI package module 2 using the maven-war plugin:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\r\n                    &lt;classesClassifier&gt;classes&lt;/classesClassifier&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nand import the jar in module 3 via:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;module2&lt;artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI have tried using the spring boot plugin to package as well, but I am unable to prevent the module 2 application from starting in module 3. ","title":"Spring Boot module as a dependency gets started as its own app when in a war","body":"<p>My application is structured as such:</p>\n<ul>\n<li>root\n<ul>\n<li>module 1 (pure classes)</li>\n<li>module 2 (spring boot app) -&gt; has module 1 as a dependency</li>\n<li>module 3 (sprint boot app) -&gt; has module 2 as a dependency</li>\n</ul>\n</li>\n</ul>\n<p>When I package module 3 as a war and deploy it on tomcat, for some reason the module 2 app also starts up. I only want to use the module 2 classes in module 3, and not have the Spring app start up from module 2.</p>\n<p>I package module 2 using the maven-war plugin:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n                    &lt;classesClassifier&gt;classes&lt;/classesClassifier&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and import the jar in module 3 via:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.company&lt;/groupId&gt;\n            &lt;artifactId&gt;module2&lt;artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have tried using the spring boot plugin to package as well, but I am unable to prevent the module 2 application from starting in module 3.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1669789309,"post_id":74622566,"comment_id":131720150,"body_markdown":"Please show us what did you try?","body":"Please show us what did you try?"}],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669781105,"creation_date":1669781105,"answer_id":74622782,"question_id":74622566,"body_markdown":"Like this\r\n\r\n    LinkedHashMap&lt;City,Port&gt; nearestPortsFromCity=new LinkedHashMap&lt;City,Port&gt;();\r\n        for(City city : cities){\r\n            nearestPortsFromCity.put(city,getNearestAgent(findAll(main.ports,p-&gt;p.city.equals(city)));\r\n        }\r\n\r\nWith that done, now you can access the nearest port from a city by doing\r\n\r\n    Port nearest=nearestPortsFromCity.get(theCity);","title":"How to calculate the shortest distance between agents in a gis map","body":"<p>Like this</p>\n<pre><code>LinkedHashMap&lt;City,Port&gt; nearestPortsFromCity=new LinkedHashMap&lt;City,Port&gt;();\n    for(City city : cities){\n        nearestPortsFromCity.put(city,getNearestAgent(findAll(main.ports,p-&gt;p.city.equals(city)));\n    }\n</code></pre>\n<p>With that done, now you can access the nearest port from a city by doing</p>\n<pre><code>Port nearest=nearestPortsFromCity.get(theCity);\n</code></pre>\n"}],"owner":{"account_id":27019974,"reputation":1,"user_id":20578112,"display_name":"LeticiaMello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669781105,"creation_date":1669778865,"question_id":74622566,"body_markdown":"I&#39;m trying to implement a model in which vehicles move from a City agent ``` Cidade ``` to a Port agent ``` Porto ```.\r\n\r\nThe parameters are loaded from a database - Ports: ```latitude```  and ```longitude```; City: ```cidades```. There is a ```City``` agent type embedded in Main called ```cidades```and there is a population of Port agents in Main called ```portoes```. \r\n\r\nThose parameters are used to define the position of the ```City``` and ```Ports``` agents in a ```gis map``` so that it is possible to map the distances between them\r\n\r\nI&#39;m using the ```getNearestAgent``` function to get the nearest agent from the collection. The body of the function is defined as ```return getNearestAgent(main.portoes);```.\r\n\r\nThe function is returning the value of the nearest ```Port``` in relation to the first element of the ```City``` agent. What I&#39;m trying to do in sequence is calculate the nearest ```Port``` to every ```City``` element, but I&#39;m not sure how.\r\n","title":"How to calculate the shortest distance between agents in a gis map","body":"<p>I'm trying to implement a model in which vehicles move from a City agent <code>Cidade</code> to a Port agent <code>Porto</code>.</p>\n<p>The parameters are loaded from a database - Ports: <code>latitude</code>  and <code>longitude</code>; City: <code>cidades</code>. There is a <code>City</code> agent type embedded in Main called <code>cidades</code>and there is a population of Port agents in Main called <code>portoes</code>.</p>\n<p>Those parameters are used to define the position of the <code>City</code> and <code>Ports</code> agents in a <code>gis map</code> so that it is possible to map the distances between them</p>\n<p>I'm using the <code>getNearestAgent</code> function to get the nearest agent from the collection. The body of the function is defined as <code>return getNearestAgent(main.portoes);</code>.</p>\n<p>The function is returning the value of the nearest <code>Port</code> in relation to the first element of the <code>City</code> agent. What I'm trying to do in sequence is calculate the nearest <code>Port</code> to every <code>City</code> element, but I'm not sure how.</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669713874,"post_id":74610754,"comment_id":131699564,"body_markdown":"intent.getData().toString().","body":"intent.getData().toString()."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669981631,"post_id":74622688,"comment_id":131771955,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74622688/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20577530,"reputation":21,"user_id":15104361,"display_name":"xist"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669780254,"creation_date":1669780254,"answer_id":74622688,"question_id":74610754,"body_markdown":"getdata was null too\r\n\r\ni found it in:\r\nintent.getClipData().getItemAt(0).coerceToText(this).toString();","title":"android get shared text file from files","body":"<p>getdata was null too</p>\n<p>i found it in:\nintent.getClipData().getItemAt(0).coerceToText(this).toString();</p>\n"}],"owner":{"account_id":20577530,"reputation":21,"user_id":15104361,"display_name":"xist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669780254,"creation_date":1669708594,"question_id":74610754,"body_markdown":"im trying to get a text files contents. it is a file shared from the files browser ive narrowed it down to its a bundle that i can get from getextras.\r\n\r\nbut how do i get the data inside. the functions for retrieving require a key? i didn&#39;t create the intent. All the examples show both the send and receive therefore don&#39;t answer the question about what the key is.\r\n\r\n```\r\nintent.getExtras()\r\n```\r\nIntent { act=android.intent.action.SEND cat=[android.intent.category.DEFAULT] typ=text/plain flg=0x1b080001 cmp=com.psymblyb.noter/.MainActivity clip={text/plain U:content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Fsample.txt} (has extras)\r\n\r\n\r\n```\r\nintent.getExtras().toString()\r\n```\r\nBundle[mParcelledData.dataSize=416]","title":"android get shared text file from files","body":"<p>im trying to get a text files contents. it is a file shared from the files browser ive narrowed it down to its a bundle that i can get from getextras.</p>\n<p>but how do i get the data inside. the functions for retrieving require a key? i didn't create the intent. All the examples show both the send and receive therefore don't answer the question about what the key is.</p>\n<pre><code>intent.getExtras()\n</code></pre>\n<p>Intent { act=android.intent.action.SEND cat=[android.intent.category.DEFAULT] typ=text/plain flg=0x1b080001 cmp=com.psymblyb.noter/.MainActivity clip={text/plain U:content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2Fsample.txt} (has extras)</p>\n<pre><code>intent.getExtras().toString()\n</code></pre>\n<p>Bundle[mParcelledData.dataSize=416]</p>\n"},{"tags":["java","windows","netbeans","unicenta"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1669403790,"post_id":74576532,"comment_id":131641133,"body_markdown":"A mix of JDK versions. What get you with `java -version`?","body":"A mix of JDK versions. What get you with <code>java -version</code>?"},{"owner":{"account_id":10789794,"reputation":319,"user_id":7937696,"accept_rate":0,"display_name":"Carlos Botero"},"score":0,"creation_date":1669433995,"post_id":74576532,"comment_id":131645419,"body_markdown":"Thanks for the clue, I am getting: C:\\Users\\Carlos&gt;java -version\njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)","body":"Thanks for the clue, I am getting: C:\\Users\\Carlos&gt;java -version java version &quot;19.0.1&quot; 2022-10-18 Java(TM) SE Runtime Environment (build 19.0.1+10-21) Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1669454702,"post_id":74576532,"comment_id":131647554,"body_markdown":"Try to compile+run with JDK8. Probably, the POS lib is not compatible with Java 19.","body":"Try to compile+run with JDK8. Probably, the POS lib is not compatible with Java 19."},{"owner":{"account_id":10789794,"reputation":319,"user_id":7937696,"accept_rate":0,"display_name":"Carlos Botero"},"score":0,"creation_date":1669780170,"post_id":74576532,"comment_id":131718630,"body_markdown":"To PeterMmm: Thanks for your interest. You helped me. And yes, they&#39;re not compatible, and the 19th version does not supersede correctly the 8th one. I solved the problem by uninstalling every Java in my PC, and then reinstalling the JRE only. I then could run uniCenta, which is critical for my family business. Thanks","body":"To PeterMmm: Thanks for your interest. You helped me. And yes, they&#39;re not compatible, and the 19th version does not supersede correctly the 8th one. I solved the problem by uninstalling every Java in my PC, and then reinstalling the JRE only. I then could run uniCenta, which is critical for my family business. Thanks"}],"owner":{"account_id":10789794,"reputation":319,"user_id":7937696,"accept_rate":0,"display_name":"Carlos Botero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669780079,"creation_date":1669399632,"question_id":74576532,"body_markdown":"I had installed the Point of Sale program called: uniCenta oPOS, which requires the installation of jre. It was running fine. But later I installed NetBeans, which uses jdk, to develop the uniCenta version with source code. After that my uniCenta program stopped launching, that is, the compiled, installed and executable uniCenta that I downloaded from the uniCenta webpage wont load anymore.\r\nIt seems to me that the NetBeans installation changed something in Windows 10 because I cannot run the jar file anymore. And I tried a lot of options, like uninstalling NetBeans, uninstalling jre and reinstalling it, and uninstalling and reinstalling uniCenta. Nothing works.\r\nWhen I tried to run the uniCenta jar in cmd window, it doesn&#39;t run either and produces the following report:\r\n\r\n    C:\\Program Files (x86)\\unicentaopos-4.6.1&gt;java -jar unicentaopos.jar\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/logback-classic-1.2.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/posapps-client-1.4.8-exe.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/weblaf-1.2.9.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/slf4j-simple-1.7.24.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n    08:22:20.214 | java.lang.ExceptionInInitializerError\r\n    java.lang.ExceptionInInitializerError: null\r\n            at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\r\n            at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\r\n            at com.alee.utils.XmlUtils.initializeXStream(XmlUtils.java:94)\r\n            at com.alee.utils.XmlUtils.getXStream(XmlUtils.java:81)\r\n            at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\r\n            at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\r\n            at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\r\n            at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\r\n            at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\r\n            at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\r\n            at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\r\n            at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\r\n            at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @414d77e\r\n            at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n            at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n            at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n            at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\r\n            at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n            ... 35 common frames omitted\r\n    08:22:20.230 | java.lang.ExceptionInInitializerError\r\n    java.lang.ExceptionInInitializerError: null\r\n            at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\r\n            at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\r\n            at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\r\n            at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\r\n            at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\r\n            at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\r\n            at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.xstream.XStream.processAnnotations(java.lang.Class)&quot; because the return value of &quot;com.alee.utils.XmlUtils.getXStream()&quot; is null\r\n            at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\r\n            at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\r\n            ... 25 common frames omitted\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: Could not initialize class com.alee.managers.style.StyleManager\r\n            at com.alee.laf.label.WebLabelUI.uninstallUI(WebLabelUI.java:122)\r\n            at java.desktop/javax.swing.JComponent.uninstallUIAndProperties(JComponent.java:755)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:730)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:471)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\r\n            at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\r\n            at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\r\n            at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\r\n            at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\r\n            at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\r\n            at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\r\n            at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\r\n            at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n            at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n            at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n            at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n            at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n            at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n            at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.lang.ExceptionInInitializerError: Exception java.lang.NullPointerException [in thread &quot;AWT-EventQueue-0&quot;]\r\n            at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\r\n            at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\r\n            at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\r\n            at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\r\n            at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\r\n            at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\r\n            ... 21 more\r\n\r\nThat report comes from a program that runs perfectly in other computers. And it&#39;s an already installed and executable program, so errors make no sense.\r\n\r\nWhat could be the problem? Any ideas? Thanks.\r\n\r\n\r\nSolved: The solution was actually easy. Several Java versions were installed in my Window$ 10 PC at the same time (8, 17 and 19) and I had JRE and JDK. I supposed that they didn&#39;t interfere because they come from the same company (Oracle), but they did interfere.\r\nSo I went to Apps &amp; Features in Windows 10 Configuration section and uninstalled everything related to Java, which went smoothly. Then I reinstalled JRE so now I only have this Java version. UniCenta recognizes this Java without problems and now starts normally. After deleting 2 protocols to link with the DataBase, uniCenta loads now completely and normally.\r\nIf one wanted to develop Java with NetBeans (JDK) and at the same time install uniCenta oPOS (JRE) in the Windows PC, turns out that the JDK doesn&#39;t supersede correctly the JRE subset. Shame on Oracle.","title":"After installing NetBeans in Windows 10, I cannot run uniCenta oPOS which is a jar file (solved)","body":"<p>I had installed the Point of Sale program called: uniCenta oPOS, which requires the installation of jre. It was running fine. But later I installed NetBeans, which uses jdk, to develop the uniCenta version with source code. After that my uniCenta program stopped launching, that is, the compiled, installed and executable uniCenta that I downloaded from the uniCenta webpage wont load anymore.\nIt seems to me that the NetBeans installation changed something in Windows 10 because I cannot run the jar file anymore. And I tried a lot of options, like uninstalling NetBeans, uninstalling jre and reinstalling it, and uninstalling and reinstalling uniCenta. Nothing works.\nWhen I tried to run the uniCenta jar in cmd window, it doesn't run either and produces the following report:</p>\n<pre><code>C:\\Program Files (x86)\\unicentaopos-4.6.1&gt;java -jar unicentaopos.jar\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/logback-classic-1.2.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/posapps-client-1.4.8-exe.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/weblaf-1.2.9.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Program%20Files%20(x86)/unicentaopos-4.6.1/lib/slf4j-simple-1.7.24.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n08:22:20.214 | java.lang.ExceptionInInitializerError\njava.lang.ExceptionInInitializerError: null\n        at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\n        at com.alee.utils.XmlUtils.initializeXStream(XmlUtils.java:94)\n        at com.alee.utils.XmlUtils.getXStream(XmlUtils.java:81)\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\n        at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\n        at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\n        at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\n        at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\n        at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\n        at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\n        at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\n        at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @414d77e\n        at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n        at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\n        at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n        ... 35 common frames omitted\n08:22:20.230 | java.lang.ExceptionInInitializerError\njava.lang.ExceptionInInitializerError: null\n        at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\n        at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\n        at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\n        at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\n        at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\n        at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\n        at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.xstream.XStream.processAnnotations(java.lang.Class)&quot; because the return value of &quot;com.alee.utils.XmlUtils.getXStream()&quot; is null\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\n        at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\n        ... 25 common frames omitted\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: Could not initialize class com.alee.managers.style.StyleManager\n        at com.alee.laf.label.WebLabelUI.uninstallUI(WebLabelUI.java:122)\n        at java.desktop/javax.swing.JComponent.uninstallUIAndProperties(JComponent.java:755)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:730)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:471)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:180)\n        at java.desktop/javax.swing.JLabel.&lt;init&gt;(JLabel.java:251)\n        at com.alee.laf.label.WebLabel.&lt;init&gt;(WebLabel.java:65)\n        at com.alee.extended.statusbar.WebMemoryBar.&lt;init&gt;(WebMemoryBar.java:83)\n        at com.openbravo.pos.forms.JRootApp.initComponents(JRootApp.java:985)\n        at com.openbravo.pos.forms.JRootApp.&lt;init&gt;(JRootApp.java:195)\n        at com.openbravo.pos.forms.JRootFrame.initFrame(JRootFrame.java:70)\n        at com.openbravo.pos.forms.StartPOS.lambda$main$0(StartPOS.java:112)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.NullPointerException [in thread &quot;AWT-EventQueue-0&quot;]\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\n        at com.alee.managers.style.StyleManager.&lt;clinit&gt;(StyleManager.java:66)\n        at com.alee.laf.label.WebLabelUI.installUI(WebLabelUI.java:96)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:740)\n        at java.desktop/javax.swing.JLabel.setUI(JLabel.java:274)\n        at com.alee.laf.label.WebLabel.updateUI(WebLabel.java:466)\n        ... 21 more\n</code></pre>\n<p>That report comes from a program that runs perfectly in other computers. And it's an already installed and executable program, so errors make no sense.</p>\n<p>What could be the problem? Any ideas? Thanks.</p>\n<p>Solved: The solution was actually easy. Several Java versions were installed in my Window$ 10 PC at the same time (8, 17 and 19) and I had JRE and JDK. I supposed that they didn't interfere because they come from the same company (Oracle), but they did interfere.\nSo I went to Apps &amp; Features in Windows 10 Configuration section and uninstalled everything related to Java, which went smoothly. Then I reinstalled JRE so now I only have this Java version. UniCenta recognizes this Java without problems and now starts normally. After deleting 2 protocols to link with the DataBase, uniCenta loads now completely and normally.\nIf one wanted to develop Java with NetBeans (JDK) and at the same time install uniCenta oPOS (JRE) in the Windows PC, turns out that the JDK doesn't supersede correctly the JRE subset. Shame on Oracle.</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1669777092,"post_id":74622082,"comment_id":131718214,"body_markdown":"bytecode version 61.0 is for class files compiled with jdk17 compiler, so maybe you could clean and rebuild whole project to resolve that.","body":"bytecode version 61.0 is for class files compiled with jdk17 compiler, so maybe you could clean and rebuild whole project to resolve that."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1669778787,"post_id":74622082,"comment_id":131718440,"body_markdown":"What version of Spring are you using?  Spring 6.x.x **requires** Java 17.","body":"What version of Spring are you using?  Spring 6.x.x <b>requires</b> Java 17."},{"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"score":0,"creation_date":1669779697,"post_id":74622082,"comment_id":131718574,"body_markdown":"@MNEMO I have tried clean the lifecycle of the maven then rebuild it. but the problem remains","body":"@MNEMO I have tried clean the lifecycle of the maven then rebuild it. but the problem remains"},{"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"score":0,"creation_date":1669779730,"post_id":74622082,"comment_id":131718578,"body_markdown":"@StephenC I have edit my question with my pom file and my Spring should 3.0.0","body":"@StephenC I have edit my question with my pom file and my Spring should 3.0.0"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1669780262,"post_id":74622082,"comment_id":131718651,"body_markdown":"Ah yes.  I see you originally said Spring but you are actually using SpringBoot ... which is versioned differently.","body":"Ah yes.  I see you originally said Spring but you are actually using SpringBoot ... which is versioned differently."}],"answers":[{"comments":[{"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"score":0,"creation_date":1669780189,"post_id":74622668,"comment_id":131718635,"body_markdown":"Thank you that fixed the problem! I end up changing it to `2.7.5` tho but this lead me to an understanding of where I did wrong","body":"Thank you that fixed the problem! I end up changing it to <code>2.7.5</code> tho but this lead me to an understanding of where I did wrong"}],"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669780037,"creation_date":1669780037,"answer_id":74622668,"question_id":74622082,"body_markdown":"Spring Boot 3.0.0 requires Java 17 and upwards to be compatible with the new features. If you really want to use Java 1.8 I would suggest downgrading the Spring Boot version to the previous stable version which is `2.7.6`","title":"The JVM level keep changed to the version that I don&#39;t want when building spring project","body":"<p>Spring Boot 3.0.0 requires Java 17 and upwards to be compatible with the new features. If you really want to use Java 1.8 I would suggest downgrading the Spring Boot version to the previous stable version which is <code>2.7.6</code></p>\n"}],"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74622668,"answer_count":1,"score":1,"last_activity_date":1669780037,"creation_date":1669773310,"question_id":74622082,"body_markdown":"I am currently in the need to create a Spring project with Java version 8. I have set Java to the version 8 and the JDK is 1.8. However, when I build it - I got this notification\r\n[![enter image description here][1]][1]\r\n\r\nWhich indeed turn my Java into 17 in my pom.xml . I tried to change the version from my pom and synced it but when I rebuild my project again I got this error\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eSW5D.png\r\n  [2]: https://i.stack.imgur.com/dZ6p2.png\r\n\r\nUpgrading my java version to above 8 is not an option. How to fix this?\r\n\r\n//edit:\r\npom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"The JVM level keep changed to the version that I don&#39;t want when building spring project","body":"<p>I am currently in the need to create a Spring project with Java version 8. I have set Java to the version 8 and the JDK is 1.8. However, when I build it - I got this notification\n<a href=\"https://i.stack.imgur.com/eSW5D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSW5D.png\" alt=\"enter image description here\" /></a></p>\n<p>Which indeed turn my Java into 17 in my pom.xml . I tried to change the version from my pom and synced it but when I rebuild my project again I got this error\n<a href=\"https://i.stack.imgur.com/dZ6p2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dZ6p2.png\" alt=\"enter image description here\" /></a></p>\n<p>Upgrading my java version to above 8 is not an option. How to fix this?</p>\n<p>//edit:\npom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse","gradle","run-configuration"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1669730836,"post_id":74615098,"comment_id":131705622,"body_markdown":"Eclispe doesn&#39;t use JAVA_HOME and I don&#39;t know what might be setting that `stringAttribute` in the launch config. Please edit the question to include the full .launch file and show screen shots of the launch config edit window.","body":"Eclispe doesn&#39;t use JAVA_HOME and I don&#39;t know what might be setting that <code>stringAttribute</code> in the launch config. Please edit the question to include the full .launch file and show screen shots of the launch config edit window."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1669733312,"post_id":74615098,"comment_id":131706538,"body_markdown":"I don&#39;t know if variables are resolved in a Gradle run configuration in the _Java home_ field, but if so, it has to be `${env_var:JAVA_HOME}`.","body":"I don&#39;t know if variables are resolved in a Gradle run configuration in the <i>Java home</i> field, but if so, it has to be <code>${env_var:JAVA_HOME}</code>."},{"owner":{"account_id":18152963,"reputation":3,"user_id":13205410,"display_name":"Hari"},"score":0,"creation_date":1669811232,"post_id":74615098,"comment_id":131726961,"body_markdown":"So, does that mean that we cannot include runConfiguration&#39;s launch file in our project repo so others could use it?","body":"So, does that mean that we cannot include runConfiguration&#39;s launch file in our project repo so others could use it?"}],"owner":{"account_id":18152963,"reputation":3,"user_id":13205410,"display_name":"Hari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669779998,"creation_date":1669729611,"question_id":74615098,"body_markdown":"I&#39;ve been trying to create a runConfiguration within Eclipse for a gradle project I&#39;m working on. When I tried saving it as a local file which created a .launch file, it has a parameter\r\n```\r\n    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\r\n```\r\n\r\nIs it possible to have value as ${JAVA_HOME} instead of using my local directory? \r\n\r\nEdit: Adding the full launch config file. \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;launchConfiguration type=&quot;org.eclipse.buildship.core.launch.runconfiguration&quot;&gt;\r\n    &lt;listAttribute key=&quot;arguments&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;build_scans_enabled&quot; value=&quot;false&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;gradle_distribution&quot; value=&quot;GRADLE_DISTRIBUTION(LOCAL_INSTALLATION(/opt/gradle/gradle-7.3.3))&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;gradle_user_home&quot; value=&quot;/Users/harishankarv/.gradle&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\r\n    &lt;listAttribute key=&quot;jvm_arguments&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;offline_mode&quot; value=&quot;false&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;override_workspace_settings&quot; value=&quot;false&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;show_console_view&quot; value=&quot;true&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;show_execution_view&quot; value=&quot;true&quot;/&gt;\r\n    &lt;listAttribute key=&quot;tasks&quot;&gt;\r\n        &lt;listEntry value=&quot;installJars&quot;/&gt;\r\n    &lt;/listAttribute&gt;\r\n    &lt;stringAttribute key=&quot;working_dir&quot; value=&quot;${workspace_loc:/project_name}&quot;/&gt;\r\n&lt;/launchConfiguration&gt;\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m8v15.png","title":"Setting Eclipse&#39;s runConfiguration to use JAVA_HOME environment variables instead of local directory","body":"<p>I've been trying to create a runConfiguration within Eclipse for a gradle project I'm working on. When I tried saving it as a local file which created a .launch file, it has a parameter</p>\n<pre><code>    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\n</code></pre>\n<p>Is it possible to have value as ${JAVA_HOME} instead of using my local directory?</p>\n<p>Edit: Adding the full launch config file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;launchConfiguration type=&quot;org.eclipse.buildship.core.launch.runconfiguration&quot;&gt;\n    &lt;listAttribute key=&quot;arguments&quot;/&gt;\n    &lt;booleanAttribute key=&quot;build_scans_enabled&quot; value=&quot;false&quot;/&gt;\n    &lt;stringAttribute key=&quot;gradle_distribution&quot; value=&quot;GRADLE_DISTRIBUTION(LOCAL_INSTALLATION(/opt/gradle/gradle-7.3.3))&quot;/&gt;\n    &lt;stringAttribute key=&quot;gradle_user_home&quot; value=&quot;/Users/harishankarv/.gradle&quot;/&gt;\n    &lt;stringAttribute key=&quot;java_home&quot; value=&quot;/Library/Java/JavaVirtualMachines/java-sdk/Contents/Home&quot;/&gt;\n    &lt;listAttribute key=&quot;jvm_arguments&quot;/&gt;\n    &lt;booleanAttribute key=&quot;offline_mode&quot; value=&quot;false&quot;/&gt;\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\n    &lt;booleanAttribute key=&quot;override_workspace_settings&quot; value=&quot;false&quot;/&gt;\n    &lt;booleanAttribute key=&quot;show_console_view&quot; value=&quot;true&quot;/&gt;\n    &lt;booleanAttribute key=&quot;show_execution_view&quot; value=&quot;true&quot;/&gt;\n    &lt;listAttribute key=&quot;tasks&quot;&gt;\n        &lt;listEntry value=&quot;installJars&quot;/&gt;\n    &lt;/listAttribute&gt;\n    &lt;stringAttribute key=&quot;working_dir&quot; value=&quot;${workspace_loc:/project_name}&quot;/&gt;\n&lt;/launchConfiguration&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/m8v15.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8v15.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","backtracking","sudoku"],"comments":[{"owner":{"account_id":18655075,"reputation":2482,"user_id":13597675,"display_name":"Aziz Sonawalla"},"score":0,"creation_date":1590675230,"post_id":62063330,"comment_id":109774510,"body_markdown":"What&#39;s the value of EMPTY? In the else condition of ``if(solver(board, count) &gt; count)`` you should use EMPTY as well rather than 0. If EMPTY is something other than 0, then this will throw your code off","body":"What&#39;s the value of EMPTY? In the else condition of <code>if(solver(board, count) &gt; count)</code> you should use EMPTY as well rather than 0. If EMPTY is something other than 0, then this will throw your code off"},{"owner":{"display_name":"user13634030"},"score":0,"creation_date":1590675611,"post_id":62063330,"comment_id":109774732,"body_markdown":"Thanks for asking, EMPTY is 0. Do you also have an idea how to solve the main problem?","body":"Thanks for asking, EMPTY is 0. Do you also have an idea how to solve the main problem?"}],"answers":[{"tags":[],"owner":{"account_id":18655075,"reputation":2482,"user_id":13597675,"display_name":"Aziz Sonawalla"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590676000,"creation_date":1590676000,"answer_id":62067181,"question_id":62063330,"body_markdown":"The issue with your code is that it stops after it finds the first solution - more specifically, your code will never change an assigned value to a cell unless it is wrong. This is standard backtracking that you&#39;ve implemented. What you need to do is, once you find one solution, you need to force your code to use other values and see if it also returns a valid solution. \r\n\r\nLet&#39;s say this is the last row of your sudoku (where you&#39;re missing the last value), and your count is currently 0 (i.e. no solution so far):\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 0 |\r\n\r\nYour code will try all values from 1-9 for that last cell, and once it finds out that 9 is the correct value, it will fill it in and make a recursive call.\r\n\r\nOn the recursive call, your code will not find any empty values so it will increment count by 1  (so count is now 1) and return, specifically this line: ``return count + 1;``Because you&#39;re not making any further recursive calls at this point, the incremented count will be passed up the recursive stack and and you&#39;ll end up with a value of 1.\r\n\r\nWhat you need to do is, once you&#39;ve found one solution, you need to backtrack again and force increment one of the values. Your last line in the solution you found looks like this:\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |\r\n\r\nYou cannot increment the last cell because it&#39;s already at 9, so you set it to 0 / EMPTY and go to the previous value. The previous value is 8, which can be incremented to 9, so you do that and then solve that board:\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 9 | 0 |\r\n\r\nMaybe this doesn&#39;t return a solution, so you go back one more (setting the second last cell to 0 and increment the previous cell:\r\n\r\n    | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 0 | 0 |\r\n\r\nNow see if this gives you a solution. And so on...\r\n\r\nTLDR: once you find a solution, you need to feed it back to your code with tighter constraints (i.e. force increment one of the valid values and see if it still gives you another solution).","title":"Sudoku Backtracking with Solution Counter","body":"<p>The issue with your code is that it stops after it finds the first solution - more specifically, your code will never change an assigned value to a cell unless it is wrong. This is standard backtracking that you've implemented. What you need to do is, once you find one solution, you need to force your code to use other values and see if it also returns a valid solution. </p>\n\n<p>Let's say this is the last row of your sudoku (where you're missing the last value), and your count is currently 0 (i.e. no solution so far):</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 0 |\n</code></pre>\n\n<p>Your code will try all values from 1-9 for that last cell, and once it finds out that 9 is the correct value, it will fill it in and make a recursive call.</p>\n\n<p>On the recursive call, your code will not find any empty values so it will increment count by 1  (so count is now 1) and return, specifically this line: <code>return count + 1;</code>Because you're not making any further recursive calls at this point, the incremented count will be passed up the recursive stack and and you'll end up with a value of 1.</p>\n\n<p>What you need to do is, once you've found one solution, you need to backtrack again and force increment one of the values. Your last line in the solution you found looks like this:</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |\n</code></pre>\n\n<p>You cannot increment the last cell because it's already at 9, so you set it to 0 / EMPTY and go to the previous value. The previous value is 8, which can be incremented to 9, so you do that and then solve that board:</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 9 | 0 |\n</code></pre>\n\n<p>Maybe this doesn't return a solution, so you go back one more (setting the second last cell to 0 and increment the previous cell:</p>\n\n<pre><code>| 1 | 2 | 3 | 4 | 5 | 6 | 8 | 0 | 0 |\n</code></pre>\n\n<p>Now see if this gives you a solution. And so on...</p>\n\n<p>TLDR: once you find a solution, you need to feed it back to your code with tighter constraints (i.e. force increment one of the valid values and see if it still gives you another solution).</p>\n"},{"tags":[],"owner":{"display_name":"user13634030"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590689593,"creation_date":1590679597,"answer_id":62068452,"question_id":62063330,"body_markdown":"Thanks to [this][1] answer by Aziz Sonawalla, I think I figured it out.\r\n\r\nThe following implementation was able to solve the uniquely solveable sudoku given [here][2]. Also the algorithm is now able to solve sudokus with more than one solution ([example][3]) and recognize that there is more than one solution. If this is the case, the program will give only one of the possible solutions.\r\n\r\nThe code looks like this:\r\n\r\n```Java\r\n// Backtracking-Algorithm\r\npublic int[][] board2 = new int[GRID_SIZE][GRID_SIZE];\r\n\r\npublic int solver(int[][] board, int count) { // Starts with count = 0\r\n \r\n    for (int i = 0; i &lt; GRID_SIZE; i++) { //GRID_SIZE = 9\r\n\r\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\r\n\r\n        /*\r\n         * Only empty fields will be changed\r\n         */\r\n\r\n        if (board[i][j] == EMPTY) { //EMPTY = 0\r\n\r\n          /*\r\n           * Try all numbers between 1 and 9\r\n           */\r\n\r\n          for (int n = 1; n &lt;= GRID_SIZE &amp;&amp; count &lt; 2; n++) {\r\n\r\n            /*\r\n             * Is number n safe?\r\n             */\r\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\r\n\r\n              board[i][j] = n;\r\n              int cache = solver(board, count);\r\n              if (cache &gt; count) {\r\n                count = cache;\r\n                for (int k = 0; k &lt; board.length; k++) {\r\n                  for (int l = 0; l &lt; board.length; l++) {\r\n                    if (board[k][l] != EMPTY) {\r\n                      board2[k][l] = board[k][l];\r\n                    }\r\n\r\n                  }\r\n                }\r\n                \r\n                board[i][j] = EMPTY;\r\n                \r\n              } else {\r\n                board[i][j] = EMPTY;\r\n              }\r\n\r\n            }\r\n          }\r\n          return count;\r\n        }\r\n      }\r\n    }\r\n    return count + 1;\r\n}\r\n```\r\n\r\nThe solution is saved in the array `board2` now. \r\n\r\nThis implementation is working as intended (as far as I know). If you find any mistakes, please leave a comment.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62067181/13634030\r\n  [2]: https://www.baeldung.com/java-sudoku\r\n  [3]: https://sandwalk.blogspot.com/2007/06/i-knew-it-there-can-be-more-than-one.html","title":"Sudoku Backtracking with Solution Counter","body":"<p>Thanks to <a href=\"https://stackoverflow.com/a/62067181/13634030\">this</a> answer by Aziz Sonawalla, I think I figured it out.</p>\n\n<p>The following implementation was able to solve the uniquely solveable sudoku given <a href=\"https://www.baeldung.com/java-sudoku\" rel=\"nofollow noreferrer\">here</a>. Also the algorithm is now able to solve sudokus with more than one solution (<a href=\"https://sandwalk.blogspot.com/2007/06/i-knew-it-there-can-be-more-than-one.html\" rel=\"nofollow noreferrer\">example</a>) and recognize that there is more than one solution. If this is the case, the program will give only one of the possible solutions.</p>\n\n<p>The code looks like this:</p>\n\n<pre><code>// Backtracking-Algorithm\npublic int[][] board2 = new int[GRID_SIZE][GRID_SIZE];\n\npublic int solver(int[][] board, int count) { // Starts with count = 0\n\n    for (int i = 0; i &lt; GRID_SIZE; i++) { //GRID_SIZE = 9\n\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\n\n        /*\n         * Only empty fields will be changed\n         */\n\n        if (board[i][j] == EMPTY) { //EMPTY = 0\n\n          /*\n           * Try all numbers between 1 and 9\n           */\n\n          for (int n = 1; n &lt;= GRID_SIZE &amp;&amp; count &lt; 2; n++) {\n\n            /*\n             * Is number n safe?\n             */\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\n\n              board[i][j] = n;\n              int cache = solver(board, count);\n              if (cache &gt; count) {\n                count = cache;\n                for (int k = 0; k &lt; board.length; k++) {\n                  for (int l = 0; l &lt; board.length; l++) {\n                    if (board[k][l] != EMPTY) {\n                      board2[k][l] = board[k][l];\n                    }\n\n                  }\n                }\n\n                board[i][j] = EMPTY;\n\n              } else {\n                board[i][j] = EMPTY;\n              }\n\n            }\n          }\n          return count;\n        }\n      }\n    }\n    return count + 1;\n}\n</code></pre>\n\n<p>The solution is saved in the array <code>board2</code> now. </p>\n\n<p>This implementation is working as intended (as far as I know). If you find any mistakes, please leave a comment.</p>\n"},{"tags":[],"owner":{"account_id":27092484,"reputation":23,"user_id":20640049,"display_name":"hobbes18"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669777429,"creation_date":1669777429,"answer_id":74622422,"question_id":62063330,"body_markdown":"i have the exact same problem to find number of multiple solutions but I have a different code, how would you modify the code that it finds all possible solutions and gives out the number of solutions?\r\nThank you! :)\r\n\r\n\r\n\r\ncode:\r\n\r\n```\r\n\r\nboard = [\r\n    [7,8,0,4,0,0,1,2,0],\r\n    [6,0,0,0,7,5,0,0,9],\r\n    [0,0,0,6,0,1,0,7,8],\r\n    [0,0,7,0,4,0,2,6,0],\r\n    [0,0,1,0,5,0,9,3,0],\r\n    [9,0,4,0,6,0,0,0,5],\r\n    [0,7,0,3,0,0,0,1,2],\r\n    [1,2,0,0,0,7,4,0,0],\r\n    [0,4,9,2,0,6,0,0,7]\r\n]\r\n\r\n\r\ndef solve(bo):\r\n    find = find_empty(bo)\r\n    if not find:\r\n        return True\r\n    else:\r\n        row, col = find\r\n\r\n    for num in range(1,10):\r\n        if valid(bo, num, (row, col)):\r\n            bo[row][col] = num          \r\n\r\n            if solve(bo):                 \r\n                return True\r\n\r\n            bo[row][col] = 0              \r\n\r\n    return False\r\n\r\n\r\ndef valid(bo, num, pos):\r\n    # Check row\r\n    for field in range(len(bo[0])):                     \r\n        if bo[pos[0]][field] == num and pos[1] != field:\r\n            return False\r\n\r\n    # Check column\r\n    for line in range(len(bo)):\r\n        if bo[line][pos[1]] == num and pos[0] != line:\r\n            return False\r\n\r\n    # Check box\r\n    box_x = pos[1] // 3\r\n    box_y = pos[0] // 3\r\n\r\n    for i in range(box_y*3, box_y*3 + 3):\r\n        for j in range(box_x * 3, box_x*3 + 3):\r\n            if bo[i][j] == num and (i,j) != pos:\r\n                return False\r\n\r\n    return True\r\n\r\n\r\ndef print_board(bo):\r\n    for i in range(len(bo)):\r\n        if i % 3 == 0 and i != 0:\r\n            print(&quot;- - - - - - - - - - - - - &quot;)\r\n\r\n        for j in range(len(bo[0])):\r\n            if j % 3 == 0 and j != 0:\r\n                print(&quot; | &quot;, end=&quot;&quot;)\r\n\r\n            if j == 8:\r\n                print(bo[i][j])\r\n            else:\r\n                print(str(bo[i][j]) + &quot; &quot;, end=&quot;&quot;)\r\n\r\n\r\ndef find_empty(bo):\r\n    for i in range(len(bo)):\r\n        for j in range(len(bo[0])):\r\n            if bo[i][j] == 0:\r\n                return (i, j)  # row, col\r\n\r\n    return None\r\nif __name__ == &quot;__main__&quot;:\r\n    print_board(board)\r\n    solve(board)\r\n    print(&quot;___________________&quot;)\r\n    print(&quot;&quot;)\r\n    print_board(board)\r\n\r\n\r\n```\r\n\r\n   ","title":"Sudoku Backtracking with Solution Counter","body":"<p>i have the exact same problem to find number of multiple solutions but I have a different code, how would you modify the code that it finds all possible solutions and gives out the number of solutions?\nThank you! :)</p>\n<p>code:</p>\n<pre><code>\nboard = [\n    [7,8,0,4,0,0,1,2,0],\n    [6,0,0,0,7,5,0,0,9],\n    [0,0,0,6,0,1,0,7,8],\n    [0,0,7,0,4,0,2,6,0],\n    [0,0,1,0,5,0,9,3,0],\n    [9,0,4,0,6,0,0,0,5],\n    [0,7,0,3,0,0,0,1,2],\n    [1,2,0,0,0,7,4,0,0],\n    [0,4,9,2,0,6,0,0,7]\n]\n\n\ndef solve(bo):\n    find = find_empty(bo)\n    if not find:\n        return True\n    else:\n        row, col = find\n\n    for num in range(1,10):\n        if valid(bo, num, (row, col)):\n            bo[row][col] = num          \n\n            if solve(bo):                 \n                return True\n\n            bo[row][col] = 0              \n\n    return False\n\n\ndef valid(bo, num, pos):\n    # Check row\n    for field in range(len(bo[0])):                     \n        if bo[pos[0]][field] == num and pos[1] != field:\n            return False\n\n    # Check column\n    for line in range(len(bo)):\n        if bo[line][pos[1]] == num and pos[0] != line:\n            return False\n\n    # Check box\n    box_x = pos[1] // 3\n    box_y = pos[0] // 3\n\n    for i in range(box_y*3, box_y*3 + 3):\n        for j in range(box_x * 3, box_x*3 + 3):\n            if bo[i][j] == num and (i,j) != pos:\n                return False\n\n    return True\n\n\ndef print_board(bo):\n    for i in range(len(bo)):\n        if i % 3 == 0 and i != 0:\n            print(&quot;- - - - - - - - - - - - - &quot;)\n\n        for j in range(len(bo[0])):\n            if j % 3 == 0 and j != 0:\n                print(&quot; | &quot;, end=&quot;&quot;)\n\n            if j == 8:\n                print(bo[i][j])\n            else:\n                print(str(bo[i][j]) + &quot; &quot;, end=&quot;&quot;)\n\n\ndef find_empty(bo):\n    for i in range(len(bo)):\n        for j in range(len(bo[0])):\n            if bo[i][j] == 0:\n                return (i, j)  # row, col\n\n    return None\nif __name__ == &quot;__main__&quot;:\n    print_board(board)\n    solve(board)\n    print(&quot;___________________&quot;)\n    print(&quot;&quot;)\n    print_board(board)\n\n\n</code></pre>\n"}],"owner":{"display_name":"user13634030"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62068452,"answer_count":3,"score":4,"last_activity_date":1669777429,"creation_date":1590664464,"question_id":62063330,"body_markdown":"**Background**\r\n\r\nI&#39;ve implemented a sudoku-solver algorithm (backtracking) that looks like this:\r\n```Java\r\n//Backtracking-Algorithm\r\npublic static boolean solver(int[][] board) {\r\n    for (int i = 0; i &lt; 9; i++) {\r\n        for (int j = 0; j &lt; 9; j++) {\r\n            if (board[i][j] == 0) {\r\n                for (int n = 1; n &lt; 10; n++) {\r\n                    if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\r\n                        board[i][j] = n;\r\n                        if (!solver(board)) {\r\n                            board[i][j] = 0;\r\n                        } else {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\nThis solution is working fine (it can solve sudokus).\r\n\r\n**What I try to achieve**\r\n\r\nI now want to achieve that the algorithm tells me, whether there is only one solution or more solutions. \r\n\r\n**What I&#39;ve tried**\r\n\r\nI tried to achieve my goal, by changing the return type to an int and count the possible solutions (stops at 2, because if there are two solutions, I can say there are &quot;multiple&quot; solutions). So basically, I just want to know whether there is no, one, or many solution(s):\r\n\r\n```Java\r\n// Backtracking-Algorithm\r\npublic int solver(int[][] board, int count) { //Starts with count = 0\r\n  if (count &lt; 2) {\r\n    for (int i = 0; i &lt; GRID_SIZE; i++) {\r\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\r\n        /*\r\n         * Only empty fields will be changed\r\n         */\r\n        if (board[i][j] == EMPTY) {\r\n          /*\r\n           * Try all numbers between 1 and 9\r\n           */\r\n          for (int n = 1; n &lt;= GRID_SIZE; n++) {\r\n            /*\r\n             * Is number n safe?\r\n             */\r\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\r\n              board[i][j] = n;\r\n              if (solver(board, count) &gt; count) {\r\n                count++;\r\n              } else {\r\n                board[i][j] = 0;\r\n              }\r\n            }\r\n          }\r\n          return count;\r\n        }\r\n      }\r\n    }\r\n    return count + 1;\r\n  }\r\n  return count;\r\n}\r\n```\r\n\r\nThe problem is that `count` always goes to &quot;1&quot; and then the algorithm stops. \r\n\r\n**Question**\r\n\r\nWhat changes in the code are necessary to make it work?","title":"Sudoku Backtracking with Solution Counter","body":"<p><strong>Background</strong></p>\n\n<p>I've implemented a sudoku-solver algorithm (backtracking) that looks like this:</p>\n\n<pre><code>//Backtracking-Algorithm\npublic static boolean solver(int[][] board) {\n    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            if (board[i][j] == 0) {\n                for (int n = 1; n &lt; 10; n++) {\n                    if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\n                        board[i][j] = n;\n                        if (!solver(board)) {\n                            board[i][j] = 0;\n                        } else {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>This solution is working fine (it can solve sudokus).</p>\n\n<p><strong>What I try to achieve</strong></p>\n\n<p>I now want to achieve that the algorithm tells me, whether there is only one solution or more solutions. </p>\n\n<p><strong>What I've tried</strong></p>\n\n<p>I tried to achieve my goal, by changing the return type to an int and count the possible solutions (stops at 2, because if there are two solutions, I can say there are \"multiple\" solutions). So basically, I just want to know whether there is no, one, or many solution(s):</p>\n\n<pre><code>// Backtracking-Algorithm\npublic int solver(int[][] board, int count) { //Starts with count = 0\n  if (count &lt; 2) {\n    for (int i = 0; i &lt; GRID_SIZE; i++) {\n      for (int j = 0; j &lt; GRID_SIZE; j++) {\n        /*\n         * Only empty fields will be changed\n         */\n        if (board[i][j] == EMPTY) {\n          /*\n           * Try all numbers between 1 and 9\n           */\n          for (int n = 1; n &lt;= GRID_SIZE; n++) {\n            /*\n             * Is number n safe?\n             */\n            if (checkRow(board, i, n) &amp;&amp; checkColumn(board, j, n) &amp;&amp; checkBox(board, i, j, n)) {\n              board[i][j] = n;\n              if (solver(board, count) &gt; count) {\n                count++;\n              } else {\n                board[i][j] = 0;\n              }\n            }\n          }\n          return count;\n        }\n      }\n    }\n    return count + 1;\n  }\n  return count;\n}\n</code></pre>\n\n<p>The problem is that <code>count</code> always goes to \"1\" and then the algorithm stops. </p>\n\n<p><strong>Question</strong></p>\n\n<p>What changes in the code are necessary to make it work?</p>\n"},{"tags":["java","aws-lambda","micronaut"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669776637,"creation_date":1669776637,"answer_id":74622353,"question_id":74622197,"body_markdown":"Your HTTP client sends inacceptable data. In your test you send `dto.class` but you actually should send an instance of `AwsProxyRequestContext`.\r\n\r\n```java\r\n  @Test\r\n  void testHello1() {\r\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\r\n    http.toBlocking().exchange(request, new AwsProxyRequestContext(/* initialise instance properly with your data */));\r\n  }\r\n```","title":"Integration test in JUNIT for REST endpoint inside Lambda function?","body":"<p>Your HTTP client sends inacceptable data. In your test you send <code>dto.class</code> but you actually should send an instance of <code>AwsProxyRequestContext</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testHello1() {\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\n    http.toBlocking().exchange(request, new AwsProxyRequestContext(/* initialise instance properly with your data */));\n  }\n</code></pre>\n"}],"owner":{"account_id":4752457,"reputation":33,"user_id":3842125,"display_name":"user3842125"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669776637,"creation_date":1669774837,"question_id":74622197,"body_markdown":"I have a Micronaut Controller API configured inside Lambda. I am able to test this via Postman using a bearer token. \r\n\r\nController:\r\n```java\r\n  @Get(&quot;v1/path&quot;)\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  public dto testApi(AwsProxyRequestContext context) {\r\n    /// Some logic on the context.\r\n  }\r\n```\r\n\r\nIntegration test:\r\n\r\n```java\r\n  @Inject\r\n  @Client(&quot;/&quot;)\r\n  HttpClient http;\r\n\r\n  @Test\r\n  void testHello1() {\r\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\r\n    http.toBlocking().exchange(request, dto.class);\r\n  }\r\n```\r\n\r\n\r\nThe test returns `Bad Request`, but if I remove the `AwsProxyRequestContext context` in the API, this `test works`.\r\n\r\nPlease help on what else should I pass in with the request to get this test working with the `AwsProxyRequestContext context`.\r\n","title":"Integration test in JUNIT for REST endpoint inside Lambda function?","body":"<p>I have a Micronaut Controller API configured inside Lambda. I am able to test this via Postman using a bearer token.</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Get(&quot;v1/path&quot;)\n  @Produces(MediaType.APPLICATION_JSON)\n  public dto testApi(AwsProxyRequestContext context) {\n    /// Some logic on the context.\n  }\n</code></pre>\n<p>Integration test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Inject\n  @Client(&quot;/&quot;)\n  HttpClient http;\n\n  @Test\n  void testHello1() {\n    MutableHttpRequest&lt;Object&gt; request = HttpRequest.GET(&quot;/v1/path&quot;).bearerAuth(token);\n    http.toBlocking().exchange(request, dto.class);\n  }\n</code></pre>\n<p>The test returns <code>Bad Request</code>, but if I remove the <code>AwsProxyRequestContext context</code> in the API, this <code>test works</code>.</p>\n<p>Please help on what else should I pass in with the request to get this test working with the <code>AwsProxyRequestContext context</code>.</p>\n"},{"tags":["java","memory","httpclient","heap-memory","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1668531567,"post_id":74439514,"comment_id":131426092,"body_markdown":"Needs more info. How much memory is assigned to the jvm? How much memory is it spiking to? What buffer are you using","body":"Needs more info. How much memory is assigned to the jvm? How much memory is it spiking to? What buffer are you using"},{"owner":{"account_id":3927687,"reputation":666,"user_id":3247425,"accept_rate":50,"display_name":"John"},"score":0,"creation_date":1668534088,"post_id":74439514,"comment_id":131427033,"body_markdown":"8 GB is assigned to JVM, The memory is spiking to 7 GB by when 120000 (in 4 mns) requests are made. Vertx buffer is used","body":"8 GB is assigned to JVM, The memory is spiking to 7 GB by when 120000 (in 4 mns) requests are made. Vertx buffer is used"}],"answers":[{"tags":[],"owner":{"account_id":3927687,"reputation":666,"user_id":3247425,"accept_rate":50,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669776632,"creation_date":1669776632,"answer_id":74622352,"question_id":74439514,"body_markdown":"This is resolved. I feel silly to answer this.\r\n\r\nThe issue was because miss configuration of threadpool.\r\nAfter changing **keepAlive** to true, it worked. Along with some minor changes on the \r\n\r\n&gt; maxPoolSize, keelAliveTimeout, idleTimeout\r\n\r\n it worked perfectly fine.","title":"Memory spike for 30K RPM with 100KB payload each","body":"<p>This is resolved. I feel silly to answer this.</p>\n<p>The issue was because miss configuration of threadpool.\nAfter changing <strong>keepAlive</strong> to true, it worked. Along with some minor changes on the</p>\n<blockquote>\n<p>maxPoolSize, keelAliveTimeout, idleTimeout</p>\n</blockquote>\n<p>it worked perfectly fine.</p>\n"}],"owner":{"account_id":3927687,"reputation":666,"user_id":3247425,"accept_rate":50,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669776632,"creation_date":1668473300,"question_id":74439514,"body_markdown":"While testing with 30K RPM with 100 KB payload size on vert.x httpclient. I am noticing a spike in memory and it goes up until the system crashes, no GC collection in between.\r\n\r\n    httpClient\r\n                    .request(requestOpts)\r\n                    .onSuccess(\r\n                        request -&gt; {\r\n                            request.send(payload);\r\n                        }\r\n                    );\r\n\r\nWhile running the same for 2 minutes Average response time was - 71.26 and average throughput was 499.26. But running the same over 3 minutes the system crashes.\r\n\r\nNOTE: requests payload is converted into String (Base 64)and then bytes. Since direct conversion was not allowed on Buffer.","title":"Memory spike for 30K RPM with 100KB payload each","body":"<p>While testing with 30K RPM with 100 KB payload size on vert.x httpclient. I am noticing a spike in memory and it goes up until the system crashes, no GC collection in between.</p>\n<pre><code>httpClient\n                .request(requestOpts)\n                .onSuccess(\n                    request -&gt; {\n                        request.send(payload);\n                    }\n                );\n</code></pre>\n<p>While running the same for 2 minutes Average response time was - 71.26 and average throughput was 499.26. But running the same over 3 minutes the system crashes.</p>\n<p>NOTE: requests payload is converted into String (Base 64)and then bytes. Since direct conversion was not allowed on Buffer.</p>\n"},{"tags":["java","file","sockets","client","transfer"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1542062401,"post_id":53269682,"comment_id":93425817,"body_markdown":"What transfer do you not know how to make? The file transfer proceeds like every other socket connection, you must have one peer act as the client and initiate a connection to the other peer which must act as the server, listening on a port that the client knows and waiting for the connection.","body":"What transfer do you not know how to make? The file transfer proceeds like every other socket connection, you must have one peer act as the client and initiate a connection to the other peer which must act as the server, listening on a port that the client knows and waiting for the connection."},{"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"score":0,"creation_date":1542063615,"post_id":53269682,"comment_id":93426157,"body_markdown":"hmm....the client who owns the file should open a seversocket so the one who wants the file can connect to it just like the server then? Can a client connect to more than one serversocket at a time?","body":"hmm....the client who owns the file should open a seversocket so the one who wants the file can connect to it just like the server then? Can a client connect to more than one serversocket at a time?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1542066463,"post_id":53269682,"comment_id":93426918,"body_markdown":"Of course, a client can (and does) have numerous connections open at a time.","body":"Of course, a client can (and does) have numerous connections open at a time."},{"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"score":1,"creation_date":1542140119,"post_id":53269682,"comment_id":93459603,"body_markdown":"@JamesKPolk you sir helped me a lot with this useful information! I was able to transfer from one client to another easily! Next estep, shared transfer and then I can fix and organize my code!","body":"@JamesKPolk you sir helped me a lot with this useful information! I was able to transfer from one client to another easily! Next estep, shared transfer and then I can fix and organize my code!"}],"answers":[{"tags":[],"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542140300,"creation_date":1542140300,"answer_id":53288861,"question_id":53269682,"body_markdown":"I was able to make a transfer between two clients easily with the information provided and a little research on stackOverflow to understand more about out/inputStreams!\r\nThis post also helped me a lot: https://stackoverflow.com/questions/26569288/sending-a-file-with-java-sockets-losing-data\r\nnext step is the shared transfer","title":"File transfer Client to Client in JAVA","body":"<p>I was able to make a transfer between two clients easily with the information provided and a little research on stackOverflow to understand more about out/inputStreams!\nThis post also helped me a lot: <a href=\"https://stackoverflow.com/questions/26569288/sending-a-file-with-java-sockets-losing-data\">Sending a file with Java Sockets, losing data</a>\nnext step is the shared transfer</p>\n"}],"owner":{"account_id":14736857,"reputation":187,"user_id":10642622,"display_name":"Bruno Lira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53288861,"answer_count":1,"score":1,"last_activity_date":1669776325,"creation_date":1542054803,"question_id":53269682,"body_markdown":"I need to implement a program to transfer files. I decided to make it using a chat template I&#39;ve made about 1 month ago so I would have a chat with file transfer option.\r\nThe transfer should follow the following points:  \r\n\r\n1- Server only keeps a list of all files provided by connected clients (No file are actually located in the server, only their names)\r\n\r\n2- Client &quot;1&quot; requests file &quot;A&quot; then: \r\n\r\n   if file &quot;A&quot; is located ONLY in client &quot;2&quot;, then client &quot;2&quot; should send 100% of the file to client &quot;1&quot;\r\n\r\n   if file &quot;A&quot; is located in client &quot;2&quot; and client &quot;3&quot; also has file &quot;A&quot;, then client &quot;2&quot; should send 50% of the file to client &quot;1&quot; and client &quot;3&quot; should send the other 50%.\r\n\r\n(if the file is located in 4 clients it should be 25% each....and so it goes...)\r\n\r\nI&#39;ve already managed to make the server find out which client is requesting the file and which clients have it. But now I&#39;m stuck, I don&#39;t know how to make the transfer. \r\n\r\nCould someone give me an example of how to do it? or point me through the right direction? \r\n\r\n[I&#39;m aware my code has some flaws and I will fix it later, right now I need to make the transfer happen before working on fixes, so please, unless it&#39;s related, try to focus on that] \r\n\r\n**Server:**\r\n\r\n    package tor;\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    public class Server extends Thread {\r\n\r\n\tprivate String cname;\r\n\tprivate Socket client;\r\n\tpublic static Vector&lt;PrintStream&gt; clients;\r\n\tpublic static Vector&lt;String&gt; clientnames;\r\n\tpublic static Vector&lt;String&gt; archives;\r\n\tpublic Server(Socket client) {\r\n\t\tthis.client = client;\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tclients = new Vector&lt;PrintStream&gt;();\r\n\t\tclientnames = new Vector&lt;String&gt;();\r\n\t\tarchives = new Vector&lt;String&gt;();\r\n\r\n\t\ttry {\r\n\r\n\t\t\tServerSocket server = new ServerSocket(2391);\r\n\t\t\tSystem.out.println(&quot;Server Started!!\\n&quot;);\r\n\t\t\twhile (true) {\r\n\t\t\t\tSocket client = server.accept();\r\n\t\t\t\tServer s = new Server(client);\r\n\t\t\t\ts.start();\r\n\t\t\t}\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Server could not start &quot;);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n\t\t\tPrintStream out = new PrintStream(client.getOutputStream());\r\n\t\t\tcname = in.readLine();\r\n\t\t\tSystem.out.println(cname + &quot; Connected --- SERVER!&quot;);\r\n\r\n\t\t\tif (cname == null) {\r\n\t\t\t\tSystem.out.println(&quot;Unknown Name&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclientnames.add(cname);\r\n\t\t\tclients.add(out);\r\n\t\t\tconnected(&quot; ********** [&quot;, cname, &quot;] Connected! **********&quot;);\r\n\r\n\t\t\tString arq;\r\n\t\t\tint size = in.read();\r\n\t\t\tSystem.out.println(size);\r\n\t\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\t\tarq = in.readLine();\r\n\t\t\t\tarchives.add(arq);\r\n\t\t\t}\r\n\t\t\tString msg = in.readLine();\r\n\t\t\tString selected;\r\n\t\t\twhile (true) {\r\n\t\t\t\twhile (!(msg).equals(&quot;/exit&quot;) &amp;&amp; !(msg).equals(&quot;/Exit&quot;) &amp;&amp; !(msg).equals(&quot;/EXIT&quot;)) {\r\n\r\n\t\t\t\t\tif ((msg).equals(&quot;/list&quot;) || (msg).equals(&quot;/List&quot;) || (msg).equals(&quot;/list&quot;)) {\r\n\t\t\t\t\t\tout.println(&quot;-------- Archives List --------&quot;);\r\n\t\t\t\t\t\tfor (int i = 0; i &lt; archives.size(); i++) {\r\n\t\t\t\t\t\t\tout.println(i+&quot;- &quot;+archives.get(i));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tout.println(&quot;-------- ******************* --------&quot;);\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t} else if (msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))){\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t\tint gnum = Integer.parseInt(msg);\r\n\t\t\t\t\t\tselected=archives.get(gnum);\r\n\t\t\t\t\t\treturnAll(&quot;[&quot;, out, &quot;]: &quot;, &quot;idreq&quot;);\r\n\t\t\t\t\t\tout.println(&quot;1&quot;);\r\n\t\t\t\t\t\treqAll(selected);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// I BELIVE HERE IS THE RIGHT PLACE TO MAKE DE TRANSFER CODE\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturnAll(&quot;[&quot;, out, &quot;]: &quot;, msg);\r\n\t\t\t\t\t\tmsg = in.readLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tmsg = in.readLine();\r\n\t\t\t\tsize = Integer.parseInt(msg);\r\n\t\t\t\tfor (int i = 0; i &lt;= size; i++) {\r\n\t\t\t\t\tarq = in.readLine();\r\n\t\t\t\t\tfor(int j=0;j&lt;archives.size();j++) {\r\n\t\t\t\t\tif (archives.get(j).equals(arq)) {\r\n\t\t\t\t\t\tarchives.remove(j);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturnAll(&quot; ********** [&quot;, out, &quot;] disconnected &quot;, &quot; ********** &quot;);\r\n\t\t\t\tclients.remove(out);\r\n\t\t\t\tclientnames.remove(cname);\r\n\t\t\t\tclient.close();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;A Client disconnected &quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// METHOD TO SEND CONNECTION MESSAGE\r\n\tpublic void connected(String msg1, String cname, String msg2) throws IOException {\r\n\t\tEnumeration&lt;PrintStream&gt; e = clients.elements();\r\n\t\twhile (e.hasMoreElements()) {\r\n\t\t\tPrintStream message = (PrintStream) e.nextElement();\r\n\t\t\tmessage.println(msg1 + cname + msg2);\r\n\t\t}\r\n\t}\r\n\r\n\t// METHOD TO RETURN MESSAGE TO ALL CLIENTS\r\n\tpublic void returnAll(String msg1, PrintStream saida, String ac, String msg2) throws IOException {\r\n\t\tEnumeration&lt;PrintStream&gt; e = clients.elements();\r\n\t\twhile (e.hasMoreElements()) {\r\n\t\t\tPrintStream message = (PrintStream) e.nextElement();\r\n\t\t\tmessage.println(msg1 + cname + ac + msg2);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void reqAll(String req) throws IOException {\r\n\t\tEnumeration&lt;PrintStream&gt; e = clients.elements();\r\n\t\twhile (e.hasMoreElements()) {\r\n\t\t\tPrintStream message = (PrintStream) e.nextElement();\r\n\t\t\tmessage.println(req);\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n    }\r\n\r\n**Client:**\r\n\r\n    package tor;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Client extends Thread {\r\n    \tprivate Socket con;\r\n    \tprivate static boolean done = false;\r\n    \tstatic ArrayList&lt;String&gt; localArq = new ArrayList&lt;String&gt;();\r\n    \tstatic int c=0;\r\n\t\r\n\tpublic Client(Socket s) {\r\n\t\tcon = s;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\r\n\t\ttry {\r\n\t    \tString ip;\r\n\t\t\tScanner s = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter Server&#39;s IP: &quot;);\r\n\t\t\tip =s.next();\r\n\t\t\tSocket con = new Socket(ip, 2391);\r\n\t\t\tPrintStream out = new PrintStream(con.getOutputStream());\r\n\t\t\tSystem.out.println(&quot;Connected to Server!&quot;);\r\n\t\t\tSystem.out.print(&quot;Enter your Nickname: &quot;);\r\n\t\t\tBufferedReader scan = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tString cname = scan.readLine();\r\n\t\t\tout.println(cname);\r\n\t\t\tString dir=&quot;C:\\\\javator\\\\&quot;+cname;\r\n\t\t\tThread t = new Client(con);\r\n\t\t\tt.start();\r\n\t\t\t\r\n\t\t\tFile folder = new File(dir);\r\n\t\t\tfolder.mkdir();\r\n\t\t\tFile[] listOfFiles = folder.listFiles();\r\n\t\t\tfor (int i = 0; i &lt; listOfFiles.length; i++) {\r\n\t\t\t  if (listOfFiles[i].isFile()) {\r\n\t\t\t    localArq.add(listOfFiles[i].getName());\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\tint size=localArq.size();\r\n\t\t\tout.write(size);\r\n\t\t\tfor(int i=0;i&lt;size;i++) {\r\n\t\t\t\tout.println(localArq.get(i));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tString msg;\r\n\t\t\twhile (true) {\r\n\t\t\t\tSystem.out.print(&quot;&quot;);\r\n\t\t\t\tmsg = scan.readLine();\r\n\t\t\t\tif(msg.equals(&quot;/ll&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;-------- LOCAL LIST --------&quot;);\r\n\t\t\t\tfor (int i = 0; i &lt; localArq.size(); i++) {\r\n\t\t\t\t\tSystem.out.println(localArq.get(i));\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;-------- ******************* --------&quot;);\r\n\t\t\t\tmsg = scan.readLine();\r\n\t\t\t\t}else if(msg.equals(&quot;/exit&quot;) || (msg.equals(&quot;/Exit&quot;)) || (msg.equals(&quot;/EXIT&quot;))) {\r\n\t\t\t\t\tout.println(msg);\r\n\t\t\t\t\tsize=localArq.size();\r\n\t\t\t\t\tout.println(size);\r\n\t\t\t\t\tfor(int i=0;i&lt;size;i++) {\r\n\t\t\t\t\t\tout.println(localArq.get(i));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if(msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))) {\r\n\t\t\t\t\tSystem.out.println(&quot;Chose file&#39;s number to /get: &quot;);\r\n\t\t\t\tc++;\r\n\t\t\t\t}\r\n\t\t\t\tif (done == true) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tout.println(msg);\r\n\t\t}\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\t\t\tString rmsg;\r\n\t\t\tString req;\r\n\t\t\t\r\n\t\t\twhile (true) {\r\n\t\t\t\trmsg = in.readLine();\r\n\t\t\t\tif (rmsg == null) {\r\n\t\t\t\t\tSystem.out.println(&quot;Connection Terminated&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}else if(rmsg.substring(rmsg.length() - 5).equals(&quot;idreq&quot;)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\treq = in.readLine();\r\n\t\t\t\t\tfor(int i=0;i&lt;localArq.size();i++) { //IDENTIFIES WHO OWNS THE REQUESTED FILE\r\n\t\t\t\t\t\tif(localArq.get(i).equals(req)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Owns requested file&quot;);\r\n\t\t\t\t\t\t\tSocket requester = new Socket(&quot;192.168.3.114&quot;, 2007);\r\n\t\t\t\t\t\t\tObjectOutputStream outputr = new ObjectOutputStream(requester.getOutputStream());\r\n\t\t\t\t\t\t\tObjectInputStream inputr = new ObjectInputStream(requester.getInputStream());\r\n\t\t\t\t\t\t    Object mens= inputr.readObject();\r\n\t\t\t\t\t\t    System.out.println(mens);\r\n\t\t\t\t\t\t    outputr.writeObject(&quot;OWNER FOUND&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(c==1) { //IDENTIFIES WHO WANTS THE FILE\r\n\t\t\t\t\trmsg = in.readLine();\r\n\t\t\t\t\tc= Integer.parseInt(rmsg);\r\n\t\t\t\t\tSystem.out.println(&quot;file: &quot;+req);\r\n\t\t\t\t\t\r\n\t\t\t\t\tServerSocket peer = new ServerSocket(2007);\r\n\t\t\t\t\tSystem.out.println(&quot;OPEN FOR CONNECTIONS\\n&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tSocket client = peer.accept();\r\n\t\t\t\t\t\tSystem.out.println(&quot;Client connected: &quot; + client.getInetAddress().getHostAddress());\r\n\t\t\t\t\t\tObjectOutputStream outputo = new ObjectOutputStream(client.getOutputStream());\r\n\t\t\t\t\t\tObjectInputStream inputo = new ObjectInputStream(client.getInputStream());\r\n\t\t\t\t\t\toutputo.flush();\r\n\t\t\t\t\t\toutputo.writeObject(&quot;Connected to requester&quot;);\r\n\t\t\t\t        Object mens= inputo.readObject();\r\n\t\t\t\t\t    System.out.println(mens);\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t else {\r\n\t\t\t\tSystem.out.println(rmsg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tdone = true;\r\n\t}\r\n    }","title":"File transfer Client to Client in JAVA","body":"<p>I need to implement a program to transfer files. I decided to make it using a chat template I've made about 1 month ago so I would have a chat with file transfer option.\nThe transfer should follow the following points:</p>\n<p>1- Server only keeps a list of all files provided by connected clients (No file are actually located in the server, only their names)</p>\n<p>2- Client &quot;1&quot; requests file &quot;A&quot; then:</p>\n<p>if file &quot;A&quot; is located ONLY in client &quot;2&quot;, then client &quot;2&quot; should send 100% of the file to client &quot;1&quot;</p>\n<p>if file &quot;A&quot; is located in client &quot;2&quot; and client &quot;3&quot; also has file &quot;A&quot;, then client &quot;2&quot; should send 50% of the file to client &quot;1&quot; and client &quot;3&quot; should send the other 50%.</p>\n<p>(if the file is located in 4 clients it should be 25% each....and so it goes...)</p>\n<p>I've already managed to make the server find out which client is requesting the file and which clients have it. But now I'm stuck, I don't know how to make the transfer.</p>\n<p>Could someone give me an example of how to do it? or point me through the right direction?</p>\n<p>[I'm aware my code has some flaws and I will fix it later, right now I need to make the transfer happen before working on fixes, so please, unless it's related, try to focus on that]</p>\n<p><strong>Server:</strong></p>\n<pre><code>package tor;\n\nimport java.util.*;\nimport java.io.*;\nimport java.net.*;\n\npublic class Server extends Thread {\n\nprivate String cname;\nprivate Socket client;\npublic static Vector&lt;PrintStream&gt; clients;\npublic static Vector&lt;String&gt; clientnames;\npublic static Vector&lt;String&gt; archives;\npublic Server(Socket client) {\n    this.client = client;\n\n}\n\npublic static void main(String[] args) {\n    clients = new Vector&lt;PrintStream&gt;();\n    clientnames = new Vector&lt;String&gt;();\n    archives = new Vector&lt;String&gt;();\n\n    try {\n\n        ServerSocket server = new ServerSocket(2391);\n        System.out.println(&quot;Server Started!!\\n&quot;);\n        while (true) {\n            Socket client = server.accept();\n            Server s = new Server(client);\n            s.start();\n        }\n\n    } catch (IOException e) {\n        System.out.println(&quot;Server could not start &quot;);\n\n    }\n\n}\n\n\n@Override\npublic void run() {\n\n    try {\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n        PrintStream out = new PrintStream(client.getOutputStream());\n        cname = in.readLine();\n        System.out.println(cname + &quot; Connected --- SERVER!&quot;);\n\n        if (cname == null) {\n            System.out.println(&quot;Unknown Name&quot;);\n            return;\n        }\n        clientnames.add(cname);\n        clients.add(out);\n        connected(&quot; ********** [&quot;, cname, &quot;] Connected! **********&quot;);\n\n        String arq;\n        int size = in.read();\n        System.out.println(size);\n        for (int i = 0; i &lt; size; i++) {\n            arq = in.readLine();\n            archives.add(arq);\n        }\n        String msg = in.readLine();\n        String selected;\n        while (true) {\n            while (!(msg).equals(&quot;/exit&quot;) &amp;&amp; !(msg).equals(&quot;/Exit&quot;) &amp;&amp; !(msg).equals(&quot;/EXIT&quot;)) {\n\n                if ((msg).equals(&quot;/list&quot;) || (msg).equals(&quot;/List&quot;) || (msg).equals(&quot;/list&quot;)) {\n                    out.println(&quot;-------- Archives List --------&quot;);\n                    for (int i = 0; i &lt; archives.size(); i++) {\n                        out.println(i+&quot;- &quot;+archives.get(i));\n                    }\n                    out.println(&quot;-------- ******************* --------&quot;);\n                    msg = in.readLine();\n                } else if (msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))){\n                    msg = in.readLine();\n                    int gnum = Integer.parseInt(msg);\n                    selected=archives.get(gnum);\n                    returnAll(&quot;[&quot;, out, &quot;]: &quot;, &quot;idreq&quot;);\n                    out.println(&quot;1&quot;);\n                    reqAll(selected);\n                    \n                    // I BELIVE HERE IS THE RIGHT PLACE TO MAKE DE TRANSFER CODE\n                    \n                    \n                    msg = in.readLine();\n                } else {\n                    returnAll(&quot;[&quot;, out, &quot;]: &quot;, msg);\n                    msg = in.readLine();\n                }\n            }\n            msg = in.readLine();\n            size = Integer.parseInt(msg);\n            for (int i = 0; i &lt;= size; i++) {\n                arq = in.readLine();\n                for(int j=0;j&lt;archives.size();j++) {\n                if (archives.get(j).equals(arq)) {\n                    archives.remove(j);\n                }\n                }\n            }\n            returnAll(&quot; ********** [&quot;, out, &quot;] disconnected &quot;, &quot; ********** &quot;);\n            clients.remove(out);\n            clientnames.remove(cname);\n            client.close();\n            break;\n        }\n    } catch (IOException e) {\n        System.out.println(&quot;A Client disconnected &quot;);\n    }\n\n}\n\n// METHOD TO SEND CONNECTION MESSAGE\npublic void connected(String msg1, String cname, String msg2) throws IOException {\n    Enumeration&lt;PrintStream&gt; e = clients.elements();\n    while (e.hasMoreElements()) {\n        PrintStream message = (PrintStream) e.nextElement();\n        message.println(msg1 + cname + msg2);\n    }\n}\n\n// METHOD TO RETURN MESSAGE TO ALL CLIENTS\npublic void returnAll(String msg1, PrintStream saida, String ac, String msg2) throws IOException {\n    Enumeration&lt;PrintStream&gt; e = clients.elements();\n    while (e.hasMoreElements()) {\n        PrintStream message = (PrintStream) e.nextElement();\n        message.println(msg1 + cname + ac + msg2);\n    }\n}\n\npublic void reqAll(String req) throws IOException {\n    Enumeration&lt;PrintStream&gt; e = clients.elements();\n    while (e.hasMoreElements()) {\n        PrintStream message = (PrintStream) e.nextElement();\n        message.println(req);\n    }\n}\n\n\n}\n</code></pre>\n<p><strong>Client:</strong></p>\n<pre><code>package tor;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class Client extends Thread {\n    private Socket con;\n    private static boolean done = false;\n    static ArrayList&lt;String&gt; localArq = new ArrayList&lt;String&gt;();\n    static int c=0;\n\npublic Client(Socket s) {\n    con = s;\n}\n\npublic static void main(String[] args) {\n\n\n    try {\n        String ip;\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;Enter Server's IP: &quot;);\n        ip =s.next();\n        Socket con = new Socket(ip, 2391);\n        PrintStream out = new PrintStream(con.getOutputStream());\n        System.out.println(&quot;Connected to Server!&quot;);\n        System.out.print(&quot;Enter your Nickname: &quot;);\n        BufferedReader scan = new BufferedReader(new InputStreamReader(System.in));\n        String cname = scan.readLine();\n        out.println(cname);\n        String dir=&quot;C:\\\\javator\\\\&quot;+cname;\n        Thread t = new Client(con);\n        t.start();\n        \n        File folder = new File(dir);\n        folder.mkdir();\n        File[] listOfFiles = folder.listFiles();\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\n          if (listOfFiles[i].isFile()) {\n            localArq.add(listOfFiles[i].getName());\n          }\n        }\n        int size=localArq.size();\n        out.write(size);\n        for(int i=0;i&lt;size;i++) {\n            out.println(localArq.get(i));\n        }\n        \n        \n        String msg;\n        while (true) {\n            System.out.print(&quot;&quot;);\n            msg = scan.readLine();\n            if(msg.equals(&quot;/ll&quot;)) {\n            System.out.println(&quot;-------- LOCAL LIST --------&quot;);\n            for (int i = 0; i &lt; localArq.size(); i++) {\n                System.out.println(localArq.get(i));\n            }\n            System.out.println(&quot;-------- ******************* --------&quot;);\n            msg = scan.readLine();\n            }else if(msg.equals(&quot;/exit&quot;) || (msg.equals(&quot;/Exit&quot;)) || (msg.equals(&quot;/EXIT&quot;))) {\n                out.println(msg);\n                size=localArq.size();\n                out.println(size);\n                for(int i=0;i&lt;size;i++) {\n                    out.println(localArq.get(i));\n                }\n                \n            }\n            else if(msg.equals(&quot;/get&quot;) || (msg.equals(&quot;/GET&quot;)) || (msg.equals(&quot;/Get&quot;))) {\n                System.out.println(&quot;Chose file's number to /get: &quot;);\n            c++;\n            }\n            if (done == true) {\n                break;\n            }\n            out.println(msg);\n    }\n    } catch (UnknownHostException e) {\n        System.out.println(e.getMessage());\n    } catch (IOException e) {\n        System.err.println(e.getMessage());\n    }\n}\n\n@Override\npublic void run() {\n    try {\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String rmsg;\n        String req;\n        \n        while (true) {\n            rmsg = in.readLine();\n            if (rmsg == null) {\n                System.out.println(&quot;Connection Terminated&quot;);\n                break;\n            }else if(rmsg.substring(rmsg.length() - 5).equals(&quot;idreq&quot;)) {\n                \n                req = in.readLine();\n                for(int i=0;i&lt;localArq.size();i++) { //IDENTIFIES WHO OWNS THE REQUESTED FILE\n                    if(localArq.get(i).equals(req)) {\n                        \n                        System.out.println(&quot;Owns requested file&quot;);\n                        Socket requester = new Socket(&quot;192.168.3.114&quot;, 2007);\n                        ObjectOutputStream outputr = new ObjectOutputStream(requester.getOutputStream());\n                        ObjectInputStream inputr = new ObjectInputStream(requester.getInputStream());\n                        Object mens= inputr.readObject();\n                        System.out.println(mens);\n                        outputr.writeObject(&quot;OWNER FOUND&quot;);\n                    }\n                }\n                if(c==1) { //IDENTIFIES WHO WANTS THE FILE\n                rmsg = in.readLine();\n                c= Integer.parseInt(rmsg);\n                System.out.println(&quot;file: &quot;+req);\n                \n                ServerSocket peer = new ServerSocket(2007);\n                System.out.println(&quot;OPEN FOR CONNECTIONS\\n&quot;);\n                \n                    Socket client = peer.accept();\n                    System.out.println(&quot;Client connected: &quot; + client.getInetAddress().getHostAddress());\n                    ObjectOutputStream outputo = new ObjectOutputStream(client.getOutputStream());\n                    ObjectInputStream inputo = new ObjectInputStream(client.getInputStream());\n                    outputo.flush();\n                    outputo.writeObject(&quot;Connected to requester&quot;);\n                    Object mens= inputo.readObject();\n                    System.out.println(mens);\n                \n                }\n                \n            }\n             else {\n            System.out.println(rmsg);\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    done = true;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661980886,"creation_date":1661980886,"answer_id":73562007,"question_id":73559543,"body_markdown":"To override this shortcoming, I&#39;d to refere to the implementation class in the code (instead of depending on the auto configuration of spring boot)\r\n\r\n```java\r\n@Bean\r\npublic Client feignClient(HttpClient httpClient) {\r\n\tvar client = new ApacheHttpClient(httpClient);\r\n\treturn (request, options) -&gt; convertResponse(client.execute(request, options));\r\n}\r\n\r\nprivate Response convertResponse(Response response) throws IOException {\r\n\r\n\t// ...\r\n}\r\n    \r\n```","title":"How to intercept http response in feign and spring boot before ErrorDecoder invoked","body":"<p>To override this shortcoming, I'd to refere to the implementation class in the code (instead of depending on the auto configuration of spring boot)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Client feignClient(HttpClient httpClient) {\n    var client = new ApacheHttpClient(httpClient);\n    return (request, options) -&gt; convertResponse(client.execute(request, options));\n}\n\nprivate Response convertResponse(Response response) throws IOException {\n\n    // ...\n}\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12087033,"reputation":1,"user_id":8835358,"display_name":"user8835358"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669775071,"creation_date":1669775071,"answer_id":74622224,"question_id":73559543,"body_markdown":"**SynchronousMethodHandler** uses **feign.Logger** to print logs before and after the feign request process unless the log level is NONE. The calling sequence is as follows: &lt;br&gt;\r\n1. `logger.logResuest(configKey, logLevel, request)`\r\n2. `response = client.execute(request, options)`\r\n3. `response = logger.logAndRebufferResponse(configKey, logLevel, response, elapsedTime)` \r\n\r\nThis logger is created by **DefaultFeignLoggerFactory#create()**. If you define your own logger and register it as a SringBean,  **DefaultFeignLoggerFactory** should use your own logger to print logs, you can see it in `FeignClientsConfigurations` that the logger is `@Autowired(required = false)`.\r\nSo you should define your own logger, for example:\r\n```java\r\npublic class MyFeignLogger extends Slf4jLogger {\r\n\r\n    @Override\r\n    protected Response logAndRebufferResponse(String configKey, Logger.Level logLevel, Response response, long elapsedTime) {\r\n        Response rsp = super.logAndRebufferResponse(configKey, logLevel, response, elapsedTime);\r\n        //you can change response status here by java reflect. \r\n        if(xxxx) {\r\n            ReflectUtil.setFieldValue(rsp, &quot;status&quot;, 400);\r\n        }\r\n        return rsp;\r\n    }\r\n}\r\n```\r\n\r\nThen register this class as Bean:\r\n```java\r\n@Configuration\r\n@AutoConfiguration(FeignClientsConfiguration.class)\r\npublic class MyFeignConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public Logger.Level feignLoggerLevel() {\r\n        return Logger.Level.FULL;\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public Logger feignLogger() {\r\n        return new MyFeignLogger();\r\n    }\r\n}\r\n```\r\nIt works.","title":"How to intercept http response in feign and spring boot before ErrorDecoder invoked","body":"<p><strong>SynchronousMethodHandler</strong> uses <strong>feign.Logger</strong> to print logs before and after the feign request process unless the log level is NONE. The calling sequence is as follows: <br></p>\n<ol>\n<li><code>logger.logResuest(configKey, logLevel, request)</code></li>\n<li><code>response = client.execute(request, options)</code></li>\n<li><code>response = logger.logAndRebufferResponse(configKey, logLevel, response, elapsedTime)</code></li>\n</ol>\n<p>This logger is created by <strong>DefaultFeignLoggerFactory#create()</strong>. If you define your own logger and register it as a SringBean,  <strong>DefaultFeignLoggerFactory</strong> should use your own logger to print logs, you can see it in <code>FeignClientsConfigurations</code> that the logger is <code>@Autowired(required = false)</code>.\nSo you should define your own logger, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFeignLogger extends Slf4jLogger {\n\n    @Override\n    protected Response logAndRebufferResponse(String configKey, Logger.Level logLevel, Response response, long elapsedTime) {\n        Response rsp = super.logAndRebufferResponse(configKey, logLevel, response, elapsedTime);\n        //you can change response status here by java reflect. \n        if(xxxx) {\n            ReflectUtil.setFieldValue(rsp, &quot;status&quot;, 400);\n        }\n        return rsp;\n    }\n}\n</code></pre>\n<p>Then register this class as Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@AutoConfiguration(FeignClientsConfiguration.class)\npublic class MyFeignConfiguration {\n\n    @Bean\n    @Primary\n    public Logger.Level feignLoggerLevel() {\n        return Logger.Level.FULL;\n    }\n\n    @Bean\n    @Primary\n    public Logger feignLogger() {\n        return new MyFeignLogger();\n    }\n}\n</code></pre>\n<p>It works.</p>\n"}],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73562007,"answer_count":2,"score":0,"last_activity_date":1669775071,"creation_date":1661965866,"question_id":73559543,"body_markdown":"I need to intercept HTTP response and alter HTTP status code. \r\nfor example, I might change 200 to 400 (based on the response object itself) so that the ErrorDecoder should be invoked.\r\n\r\nI need to do this without extending the `feign.Client` class! (in fact, the `feign.httpclient.ApacheHttpClient ` which I am using is final!)\r\n\r\nI tried to provide an implementation for `ResponseMapper` but it seems the response mapper (and the `Decoder` that I used to override) isn&#39;t invoked until the HTTP status check is done inside `AsyncResponseHandler#handleResponse`!\r\n\r\nI am talking mainly here about how the implementation of [SynchronousMethodHandler][1] and [AsyncResponseHandler][2] works.\r\n\r\n***To sum it up***, my main issue is that `AsyncResponseHandler#handleResponse` doesn&#39;t invoke the `Decoder` (hence the `ResponseMapper`) before the `ErrorDecoder`, and if it does then the `ResponseMapper` can do the HTTP status code I need.\r\n\r\n\r\n  [1]: https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/SynchronousMethodHandler.java\r\n  [2]: https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/AsyncResponseHandler.java","title":"How to intercept http response in feign and spring boot before ErrorDecoder invoked","body":"<p>I need to intercept HTTP response and alter HTTP status code.\nfor example, I might change 200 to 400 (based on the response object itself) so that the ErrorDecoder should be invoked.</p>\n<p>I need to do this without extending the <code>feign.Client</code> class! (in fact, the <code>feign.httpclient.ApacheHttpClient </code> which I am using is final!)</p>\n<p>I tried to provide an implementation for <code>ResponseMapper</code> but it seems the response mapper (and the <code>Decoder</code> that I used to override) isn't invoked until the HTTP status check is done inside <code>AsyncResponseHandler#handleResponse</code>!</p>\n<p>I am talking mainly here about how the implementation of <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/SynchronousMethodHandler.java\" rel=\"nofollow noreferrer\">SynchronousMethodHandler</a> and <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/AsyncResponseHandler.java\" rel=\"nofollow noreferrer\">AsyncResponseHandler</a> works.</p>\n<p><em><strong>To sum it up</strong></em>, my main issue is that <code>AsyncResponseHandler#handleResponse</code> doesn't invoke the <code>Decoder</code> (hence the <code>ResponseMapper</code>) before the <code>ErrorDecoder</code>, and if it does then the <code>ResponseMapper</code> can do the HTTP status code I need.</p>\n"},{"tags":["java","spring-boot","ubuntu","pdf"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1669771171,"post_id":74621898,"comment_id":131717360,"body_markdown":"This would depend on the locales of the server and client.  Are they different?","body":"This would depend on the locales of the server and client.  Are they different?"},{"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"score":0,"creation_date":1669771238,"post_id":74621898,"comment_id":131717376,"body_markdown":"How an I determine the locales?","body":"How an I determine the locales?"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":1,"creation_date":1669771893,"post_id":74621898,"comment_id":131717467,"body_markdown":"Just a guess, but I think that it&#39;s more likely that the problem exists in the code that generates the PDF content.","body":"Just a guess, but I think that it&#39;s more likely that the problem exists in the code that generates the PDF content."},{"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"score":0,"creation_date":1669772438,"post_id":74621898,"comment_id":131717556,"body_markdown":"But what would explain the difference between running it locally (and getting the correct $ in PDF) vs running it on Ubuntu (and getting the currency symbol)?","body":"But what would explain the difference between running it locally (and getting the correct $ in PDF) vs running it on Ubuntu (and getting the currency symbol)?"}],"answers":[{"tags":[],"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669772889,"creation_date":1669772889,"answer_id":74622051,"question_id":74621898,"body_markdown":"It turns out the problem was locale.  Thanks, Jim Garrison.  I fixed the issue by adding the following statement to the endpoint method:\r\n\r\n```\r\nLocale.setDefault(Locale.US);\r\n```","title":"Spring Boot web app deployed to Ubuntu returning PDF containing a currency symbol (&#164;) rather than a dollar sign ($)","body":"<p>It turns out the problem was locale.  Thanks, Jim Garrison.  I fixed the issue by adding the following statement to the endpoint method:</p>\n<pre><code>Locale.setDefault(Locale.US);\n</code></pre>\n"}],"owner":{"account_id":2198323,"reputation":69,"user_id":1943430,"accept_rate":50,"display_name":"Barry S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669772889,"creation_date":1669770949,"question_id":74621898,"body_markdown":"I have a Spring Boot web app that generates a PDF (as a ByteArrayOutputStream) and returns it (ByteArrayInputStream) as an attachment from an endpoint.  When running the app locally (MacOS) the PDF correctly contains dollar signs ($).  I have deployed the web to an Ubuntu server on AWS.  When calling the endpoint from the Ubuntu deployment, the PDF contains a currency symbol (&#164;) instead of a dollar sign ($) for each occurrence.  I cannot determine why this is happening.\r\n\r\nUbuntu version: ```Linux ip-172-31-92-87 5.15.0-1023-aws #27-Ubuntu SMP Thu Oct 20 16:44:17 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux```\r\n\r\nThe currency symbol showing up in the pdf: [https://www.compart.com/en/unicode/U+00A4][1]\r\n\r\nRelevant java endpoint code:\r\n\r\n```\r\n@PostMapping(value = &quot;/invoice/upload&quot;, produces = { &quot;application/pdf&quot; })\r\n    public ResponseEntity&lt;Object&gt; handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n...\r\n) { \r\n   // ...code that generates pdf...\r\n   String contentDispositionValue = &quot;attachment; filename=\\&quot;&quot; + simpleFilename + &quot;\\&quot;&quot;;\r\n\r\n        ByteArrayInputStream pdfInputStream = new ByteArrayInputStream(pdfOutputStream.toByteArray());\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;content-disposition&quot;, contentDispositionValue);\r\n\r\n        return ResponseEntity\r\n                .ok()\r\n                .headers(headers)\r\n                .contentLength(pdfOutputStream.size())\r\n                .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n                .body(new InputStreamResource(pdfInputStream));\r\n\r\n    }\r\n```\r\n\r\nI have tried adding a header &quot;Content-Type: application/pdf; charset=utf-8&quot; but that didn&#39;t work either.\r\n\r\nI am using the following dependency in the pom.xml that is used to generate the pdf:\r\n\r\n```\r\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.7&lt;/version&gt;\r\n```\r\n\r\nCan anyone explain why this is happening?  And how can I prevent the currency symbol from showing up in the PDF and have it use dollar signs as intended.  Thanks in advance!\r\n\r\n\r\n  [1]: https://www.compart.com/en/unicode/U+00A4","title":"Spring Boot web app deployed to Ubuntu returning PDF containing a currency symbol (&#164;) rather than a dollar sign ($)","body":"<p>I have a Spring Boot web app that generates a PDF (as a ByteArrayOutputStream) and returns it (ByteArrayInputStream) as an attachment from an endpoint.  When running the app locally (MacOS) the PDF correctly contains dollar signs ($).  I have deployed the web to an Ubuntu server on AWS.  When calling the endpoint from the Ubuntu deployment, the PDF contains a currency symbol (¤) instead of a dollar sign ($) for each occurrence.  I cannot determine why this is happening.</p>\n<p>Ubuntu version: <code>Linux ip-172-31-92-87 5.15.0-1023-aws #27-Ubuntu SMP Thu Oct 20 16:44:17 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</code></p>\n<p>The currency symbol showing up in the pdf: <a href=\"https://www.compart.com/en/unicode/U+00A4\" rel=\"nofollow noreferrer\">https://www.compart.com/en/unicode/U+00A4</a></p>\n<p>Relevant java endpoint code:</p>\n<pre><code>@PostMapping(value = &quot;/invoice/upload&quot;, produces = { &quot;application/pdf&quot; })\n    public ResponseEntity&lt;Object&gt; handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file,\n...\n) { \n   // ...code that generates pdf...\n   String contentDispositionValue = &quot;attachment; filename=\\&quot;&quot; + simpleFilename + &quot;\\&quot;&quot;;\n\n        ByteArrayInputStream pdfInputStream = new ByteArrayInputStream(pdfOutputStream.toByteArray());\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;content-disposition&quot;, contentDispositionValue);\n\n        return ResponseEntity\n                .ok()\n                .headers(headers)\n                .contentLength(pdfOutputStream.size())\n                .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\n                .body(new InputStreamResource(pdfInputStream));\n\n    }\n</code></pre>\n<p>I have tried adding a header &quot;Content-Type: application/pdf; charset=utf-8&quot; but that didn't work either.</p>\n<p>I am using the following dependency in the pom.xml that is used to generate the pdf:</p>\n<pre><code>            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n</code></pre>\n<p>Can anyone explain why this is happening?  And how can I prevent the currency symbol from showing up in the PDF and have it use dollar signs as intended.  Thanks in advance!</p>\n"},{"tags":["java","for-loop","arraylist","integer","max"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1514697314,"post_id":48040197,"comment_id":83050785,"body_markdown":"What are you defining as the first max value in the loop?","body":"What are you defining as the first max value in the loop?"},{"owner":{"account_id":6807639,"reputation":25999,"user_id":5238915,"accept_rate":100,"display_name":"RoadRunner"},"score":0,"creation_date":1514700562,"post_id":48040197,"comment_id":83051212,"body_markdown":"You just use a `HashMap` for this, as seen [here](https://ideone.com/hsWro8).","body":"You just use a <code>HashMap</code> for this, as seen <a href=\"https://ideone.com/hsWro8\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1514697940,"creation_date":1514697940,"answer_id":48040254,"question_id":48040197,"body_markdown":"You seem to have forgotten to access the **element** at the `maxIndex` in your comparison. And you set the **index** to the *value* of the element in your `if` (instead of the *`index`*). I think you wanted,\r\n\r\n    public int findIndexOfMax() {\r\n        int maxIndex = 0;\r\n        for (int k = 1; k &lt; myFreqs.size(); k++) {\r\n            if (myFreqs.get(k) &gt; myFreqs.get(maxIndex)) {\r\n                maxIndex = k;\r\n            }\r\n        }\r\n        return maxIndex;\r\n    }","title":"How to return first max value in a Java ArrayList","body":"<p>You seem to have forgotten to access the <strong>element</strong> at the <code>maxIndex</code> in your comparison. And you set the <strong>index</strong> to the <em>value</em> of the element in your <code>if</code> (instead of the <em><code>index</code></em>). I think you wanted,</p>\n\n<pre><code>public int findIndexOfMax() {\n    int maxIndex = 0;\n    for (int k = 1; k &lt; myFreqs.size(); k++) {\n        if (myFreqs.get(k) &gt; myFreqs.get(maxIndex)) {\n            maxIndex = k;\n        }\n    }\n    return maxIndex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12591043,"reputation":1,"user_id":9157737,"display_name":"Rahul Rana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514702222,"creation_date":1514702222,"answer_id":48040543,"question_id":48040197,"body_markdown":"I think you are using the integers on the left as index for the Strings on the right and when you use 3 as index for the second time it is overlapping the value &quot;a&quot; with &quot;test&quot;.","title":"How to return first max value in a Java ArrayList","body":"<p>I think you are using the integers on the left as index for the Strings on the right and when you use 3 as index for the second time it is overlapping the value \"a\" with \"test\".</p>\n"},{"tags":[],"owner":{"account_id":16747509,"reputation":1,"user_id":12105330,"display_name":"Tia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669772721,"creation_date":1669772721,"answer_id":74622038,"question_id":48040197,"body_markdown":"\r\n\r\n**since there is a tie between &quot;a&quot; and &quot;test.&quot; Frequencies, you want to return the first value which is &quot;a&quot; with the occurrence of 3**\r\n\r\n\r\nto do so, you need to find the max value and its position in myFreqs and then get the value of the other ArrayList containing the words at the index of the position of the max value.\r\n\r\n    int maxElement = 0;\r\n    int maxPosition = 0;\r\n    for(int i = 0; i &lt; this.myFreqs.size(); i++){\r\n        if(this.freqs.get(i) &gt; maxElement){\r\n            maxElement = this.freqs.get(i);\r\n            maxPosition = i;\r\n        }\r\n    }\r\n    return maxPosition;\r\n   \r\n\r\nnow you can simply find the first most frequent word in the arrayList of the words:\r\n\r\n    words.get(maxFreq)\r\n    \r\n\r\n","title":"How to return first max value in a Java ArrayList","body":"<p><strong>since there is a tie between &quot;a&quot; and &quot;test.&quot; Frequencies, you want to return the first value which is &quot;a&quot; with the occurrence of 3</strong></p>\n<p>to do so, you need to find the max value and its position in myFreqs and then get the value of the other ArrayList containing the words at the index of the position of the max value.</p>\n<pre><code>int maxElement = 0;\nint maxPosition = 0;\nfor(int i = 0; i &lt; this.myFreqs.size(); i++){\n    if(this.freqs.get(i) &gt; maxElement){\n        maxElement = this.freqs.get(i);\n        maxPosition = i;\n    }\n}\nreturn maxPosition;\n</code></pre>\n<p>now you can simply find the first most frequent word in the arrayList of the words:</p>\n<pre><code>words.get(maxFreq)\n</code></pre>\n"}],"owner":{"account_id":11756295,"reputation":187,"user_id":8603883,"accept_rate":64,"display_name":"charlie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48040254,"answer_count":3,"score":0,"last_activity_date":1669772721,"creation_date":1514697148,"question_id":48040197,"body_markdown":"I&#39;m trying to return the first index of the max value of an `ArrayList&lt;Integer&gt;`. The code below finds the second maximum instead of the first. How do I return the first max value encountered by the loop?\r\n\r\n\tpublic int findIndexOfMax() {\r\n\t\tint maxIndex = 0;\r\n\t\tfor (int k = 0; k &lt; myFreqs.size(); k++) {\r\n\t\t\tif (myFreqs.get(k) &gt; maxIndex) {\r\n\t\t\t\tmaxIndex = myFreqs.get(k);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxIndex;\r\n\t}\r\n\r\nWhat gets returned is &#39;test. 3&#39;. But it should be the first max which is 3 for the letter &#39;a&#39;.\r\n\r\n    Number of unique words: 7\r\n    1\tthis\r\n    1\tis\r\n    3\ta\r\n    3\ttest.\r\n    1\tyes\r\n    1\ttest\r\n    1\tof\r\n    The word that occurs most often and its count are: test. 3","title":"How to return first max value in a Java ArrayList","body":"<p>I'm trying to return the first index of the max value of an <code>ArrayList&lt;Integer&gt;</code>. The code below finds the second maximum instead of the first. How do I return the first max value encountered by the loop?</p>\n\n<pre><code>public int findIndexOfMax() {\n    int maxIndex = 0;\n    for (int k = 0; k &lt; myFreqs.size(); k++) {\n        if (myFreqs.get(k) &gt; maxIndex) {\n            maxIndex = myFreqs.get(k);\n        }\n    }\n    return maxIndex;\n}\n</code></pre>\n\n<p>What gets returned is 'test. 3'. But it should be the first max which is 3 for the letter 'a'.</p>\n\n<pre><code>Number of unique words: 7\n1   this\n1   is\n3   a\n3   test.\n1   yes\n1   test\n1   of\nThe word that occurs most often and its count are: test. 3\n</code></pre>\n"},{"tags":["java","algorithm","graph","breadth-first-search"],"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669763717,"post_id":74621070,"comment_id":131716141,"body_markdown":"@AlexanderIvanchenko I just shared it.","body":"@AlexanderIvanchenko I just shared it."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669767165,"creation_date":1669766003,"answer_id":74621509,"question_id":74621070,"body_markdown":"It&#39;s a good idea to use a `Map` to construct the path between nodes. But the probless is that you&#39;re overriding Values since there couldn&#39;t more than one entry with same Key (`4 -&gt; 6` has been overridden with `4 -&gt; 5`, and you received an incorrect result).\r\n\r\nTo solve this issue we can reverse the Map, i.e. the *Keys* would represent sibling-nodes (*keys are unique*), and *Values* - parent-nodes (values can be duplicated). And when the `destination` node was found (or all nodes has been visited) the path would be constructed in restored in reversed order, i.e. from `destination` to `source` (we would need to reverse the list).\r\n\r\nAlso **note** that a `HashSet` of visited nodes is redundant since this information is already reflected in the Map.\r\n\r\nThat how BFS implementation might look like:\r\n\r\n    public static List&lt;Node&gt; getDirections(Node source, Node destination) {\r\n        Map&lt;Node, Node&gt; paths = new HashMap&lt;&gt;(); // Map of paths also allows to track the visited nodes\r\n        Queue&lt;Node&gt; queue = new ArrayDeque&lt;&gt;();  // is more performant than LinkedList\r\n        queue.add(source);\r\n        paths.put(source, null); // the starting point of the path\r\n        \r\n        boolean isFound = false;\r\n        \r\n        while (!isFound &amp;&amp; !queue.isEmpty()) {\r\n            Node current = queue.remove();\r\n            \r\n            for (Node sibling : current.getSiblingNodes()) {\r\n                if (paths.containsKey(sibling)) continue;\r\n                // update the Map of paths\r\n                paths.put(sibling, current);\r\n                // the target node was found\r\n                if (sibling.equals(destination)) {\r\n                    isFound = true; // we need to terminate the search, no need to explore all nodes if the path is found\r\n                    break;\r\n                }\r\n                queue.add(sibling); // adding the sibling to the queue\r\n            }\r\n        }\r\n        return getPath(source, destination, paths);\r\n    }\r\n\r\nHelper method for generating the path:\r\n    \r\n    public static List&lt;Node&gt; getPath(Node start, Node end, Map&lt;Node, Node&gt; paths) {\r\n        List&lt;Node&gt; path = new ArrayList&lt;&gt;();\r\n        Node current = end;\r\n        path.add(current);\r\n        while (current != start &amp;&amp; current != null) { // if there&#39;s no path from start to end current eventually will become null\r\n            path.add(paths.get(current));\r\n            current = paths.get(current);\r\n        }\r\n        Collections.reverse(path);\r\n        return current != null ? path : Collections.emptyList();\r\n    }\r\n\r\n***Note** `equals()` implementation in the `Node` class actually doesn&#39;t override `java.lang.Object.equals()` because the signature doesn&#39;t match. Also, implementation of `hashCode()` is missing, which goes against the contract of the [`equals()`][equals]. Therefore, in hash-based collections, default implementations for both `equals` and `hashCode` would be used. It didn&#39;t cause troubles in the original code, only because OP was using literally the same objects.*\r\n\r\nHere&#39;s an example of correct implementation:\r\n\r\n    public class Node {\r\n        private final int value;\r\n        private final Set&lt;Node&gt; siblingNodes = new HashSet&lt;&gt;();\r\n        \r\n        // constructor, getters, addSiblingNode(), etc.\r\n        \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return o instanceof Node other &amp;&amp; value == other.value;\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(value);\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        // sample data from the question\r\n        \r\n        List&lt;Node&gt; shortestPath = getDirections(node0, node7);\r\n        \r\n        String path = shortestPath.stream()\r\n            .map(Node::getValue)\r\n            .map(String::valueOf)\r\n            .collect(Collectors.joining(&quot; -&gt; &quot;));\r\n    \r\n        System.out.println(path);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 6 -&gt; 7\r\n```\r\n\r\n\r\n   [equals]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"BFS (Breadth First Search) - Not calculating the shortest Path in Java","body":"<p>It's a good idea to use a <code>Map</code> to construct the path between nodes. But the probless is that you're overriding Values since there couldn't more than one entry with same Key (<code>4 -&gt; 6</code> has been overridden with <code>4 -&gt; 5</code>, and you received an incorrect result).</p>\n<p>To solve this issue we can reverse the Map, i.e. the <em>Keys</em> would represent sibling-nodes (<em>keys are unique</em>), and <em>Values</em> - parent-nodes (values can be duplicated). And when the <code>destination</code> node was found (or all nodes has been visited) the path would be constructed in restored in reversed order, i.e. from <code>destination</code> to <code>source</code> (we would need to reverse the list).</p>\n<p>Also <strong>note</strong> that a <code>HashSet</code> of visited nodes is redundant since this information is already reflected in the Map.</p>\n<p>That how BFS implementation might look like:</p>\n<pre><code>public static List&lt;Node&gt; getDirections(Node source, Node destination) {\n    Map&lt;Node, Node&gt; paths = new HashMap&lt;&gt;(); // Map of paths also allows to track the visited nodes\n    Queue&lt;Node&gt; queue = new ArrayDeque&lt;&gt;();  // is more performant than LinkedList\n    queue.add(source);\n    paths.put(source, null); // the starting point of the path\n    \n    boolean isFound = false;\n    \n    while (!isFound &amp;&amp; !queue.isEmpty()) {\n        Node current = queue.remove();\n        \n        for (Node sibling : current.getSiblingNodes()) {\n            if (paths.containsKey(sibling)) continue;\n            // update the Map of paths\n            paths.put(sibling, current);\n            // the target node was found\n            if (sibling.equals(destination)) {\n                isFound = true; // we need to terminate the search, no need to explore all nodes if the path is found\n                break;\n            }\n            queue.add(sibling); // adding the sibling to the queue\n        }\n    }\n    return getPath(source, destination, paths);\n}\n</code></pre>\n<p>Helper method for generating the path:</p>\n<pre><code>public static List&lt;Node&gt; getPath(Node start, Node end, Map&lt;Node, Node&gt; paths) {\n    List&lt;Node&gt; path = new ArrayList&lt;&gt;();\n    Node current = end;\n    path.add(current);\n    while (current != start &amp;&amp; current != null) { // if there's no path from start to end current eventually will become null\n        path.add(paths.get(current));\n        current = paths.get(current);\n    }\n    Collections.reverse(path);\n    return current != null ? path : Collections.emptyList();\n}\n</code></pre>\n<p><em><strong>Note</strong> <code>equals()</code> implementation in the <code>Node</code> class actually doesn't override <code>java.lang.Object.equals()</code> because the signature doesn't match. Also, implementation of <code>hashCode()</code> is missing, which goes against the contract of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals()</code></a>. Therefore, in hash-based collections, default implementations for both <code>equals</code> and <code>hashCode</code> would be used. It didn't cause troubles in the original code, only because OP was using literally the same objects.</em></p>\n<p>Here's an example of correct implementation:</p>\n<pre><code>public class Node {\n    private final int value;\n    private final Set&lt;Node&gt; siblingNodes = new HashSet&lt;&gt;();\n    \n    // constructor, getters, addSiblingNode(), etc.\n    \n    @Override\n    public boolean equals(Object o) {\n        return o instanceof Node other &amp;&amp; value == other.value;\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(value);\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    // sample data from the question\n    \n    List&lt;Node&gt; shortestPath = getDirections(node0, node7);\n    \n    String path = shortestPath.stream()\n        .map(Node::getValue)\n        .map(String::valueOf)\n        .collect(Collectors.joining(&quot; -&gt; &quot;));\n\n    System.out.println(path);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 6 -&gt; 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669772482,"creation_date":1669772482,"answer_id":74622023,"question_id":74621070,"body_markdown":"Your `getDirections()` implementation seems correct. But there is a problem with the `Node` class. You should add the following two methods to `Node`.\r\nThese are needed to store `Node` objects in a `Map` or `Set`.\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            return obj instanceof Node n\r\n                &amp;&amp; n.value == value;\r\n        }\r\n\r\n\r\noutput:\r\n\r\n    0\r\n    2\r\n    3\r\n    4\r\n    6\r\n    7\r\n\r\n","title":"BFS (Breadth First Search) - Not calculating the shortest Path in Java","body":"<p>Your <code>getDirections()</code> implementation seems correct. But there is a problem with the <code>Node</code> class. You should add the following two methods to <code>Node</code>.\nThese are needed to store <code>Node</code> objects in a <code>Map</code> or <code>Set</code>.</p>\n<pre><code>    @Override\n    public int hashCode() {\n        return value;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Node n\n            &amp;&amp; n.value == value;\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>0\n2\n3\n4\n6\n7\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1669772482,"creation_date":1669762109,"question_id":74621070,"body_markdown":"I have a problem in calculating the shortest path through BFS algorithm in Java.\r\n\r\nWhen I tried to define a path from Node 0 to Node 7 , I got this result. `(0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5)`\r\n\r\nHow can I fix the issue?\r\n\r\nHere is my Node Class\r\n\r\n    public class Node {\r\n      private final int value;\r\n      private final Set&lt;Node&gt; siblingNodes;\r\n    \r\n      public Node(int value) {\r\n        this.value = value;\r\n        siblingNodes = new HashSet&lt;Node&gt;();\r\n      }\r\n    \r\n      public Set&lt;Node&gt; getSiblingNodes() {\r\n        return siblingNodes;\r\n      }\r\n    \r\n      public boolean equals(Node compareTo) {\r\n        return (compareTo.getValue() == value);\r\n      }\r\n    \r\n      public int getValue() {\r\n        return value;\r\n      }\r\n    \r\n      public void addSiblingNode(Node node) {\r\n        siblingNodes.add(node); \r\n      }\r\n    }\r\n\r\n\r\nHere is the code snippets shown below.\r\n\r\n      public static void main(String[] args) {\r\n    \t/**\r\n    \t *\r\n    \t *        1             -&gt; 5\r\n    \t * 0 -&gt;           -&gt; 4\r\n    \t *        2 -&gt; 3        -&gt; 6    -&gt; 7\r\n    \t *\r\n    \t */\r\n    \t    Node node0 = new Node(0);\r\n    \r\n    \t    Node node1 = new Node(1);\r\n    \t    Node node2 = new Node(2);\r\n    \t    node0.addSiblingNode(node1);\r\n    \t    node0.addSiblingNode(node2);    \r\n    \r\n    \t    Node node3 = new Node(3);\r\n    \t    node2.addSiblingNode(node3);\r\n    \r\n    \t    Node node4 = new Node(4);\r\n    \t    node3.addSiblingNode(node4);\r\n    \r\n    \t    Node node5 = new Node(5);\r\n    \t    Node node6 = new Node(6);\r\n    \t    node4.addSiblingNode(node5);\r\n    \t    node4.addSiblingNode(node6);\r\n    \t    \r\n    \t    Node node7 = new Node(7);\r\n    \t    node6.addSiblingNode(node7);\r\n    \r\n    \t    List&lt;Node&gt; shortestPath = getDirections(node0, node7);\r\n    \t    for(Node node : shortestPath) {\r\n    \t      System.out.println(node.getValue());\r\n    \t    }\r\n    \t  }\r\n    \r\n    \t  public static List&lt;Node&gt; getDirections(Node sourceNode, Node destinationNode) {\r\n    \t    // Initialization.\r\n    \t    Map&lt;Node, Node&gt; nextNodeMap = new HashMap&lt;Node, Node&gt;();\r\n    \t    Node currentNode = sourceNode;\r\n    \t    Node previousNode = sourceNode;\r\n    \r\n    \t    // Queue\r\n    \t    Queue&lt;Node&gt; queue = new LinkedList&lt;Node&gt;();\r\n    \t    queue.add(currentNode);\r\n    \r\n    \t\t/*\r\n    \t\t * The set of visited nodes doesn&#39;t have to be a Map, and, since order\r\n    \t\t * is not important, an ordered collection is not needed. HashSet is \r\n    \t\t * fast for add and lookup, if configured properly.\r\n    \t\t */\r\n    \t    Set&lt;Node&gt; visitedNodes = new HashSet&lt;Node&gt;();\r\n    \t    visitedNodes.add(currentNode);\r\n    \r\n    \t    //Search.\r\n    \t    while (!queue.isEmpty()) {\r\n    \t      currentNode = queue.remove();\r\n    \t      if (currentNode.equals(destinationNode)) {\r\n    \t        // Handle case where the node leading to the destinatino node\r\n    \t        // itself pointed to multiple nodes. In this case,\r\n    \t        // nextNodeMap is incorrect and we need to rely on the previously\r\n    \t        // seen node.\r\n    \t        // Also need to check for edge-case of start node == end node.\r\n    \t        if (!previousNode.equals(currentNode)) {\r\n    \t          nextNodeMap.put(previousNode, currentNode);\r\n    \t        }\r\n    \t        break;\r\n    \t      } else {\r\n    \t        for (Node nextNode : currentNode.getSiblingNodes()) {\r\n    \t          if (!visitedNodes.contains(nextNode)) {\r\n    \t            queue.add(nextNode);\r\n    \t            visitedNodes.add(nextNode);\r\n    \r\n    \t            // Look up of next node instead of previous.\r\n    \t            nextNodeMap.put(currentNode, nextNode);\r\n    \t            previousNode = currentNode;\r\n    \t          }\r\n    \t        }\r\n    \t      }\r\n    \t    }\r\n    \r\n    \t    // If all nodes are explored and the destination node hasn&#39;t been found.\r\n    \t    if (!currentNode.equals(destinationNode)) {\r\n    \t        throw new RuntimeException(&quot;No feasible path.&quot;);\r\n    \t    }\r\n    \r\n    \t    // Reconstruct path. No need to reverse.\r\n    \t    List&lt;Node&gt; directions = new LinkedList&lt;Node&gt;();\r\n    \t    for (Node node = sourceNode; node != null; node = nextNodeMap.get(node)) {\r\n    \t        directions.add(node);\r\n    \t    }\r\n    \r\n    \t    return directions;\r\n    \t  }\r\n    \t}\r\n","title":"BFS (Breadth First Search) - Not calculating the shortest Path in Java","body":"<p>I have a problem in calculating the shortest path through BFS algorithm in Java.</p>\n<p>When I tried to define a path from Node 0 to Node 7 , I got this result. <code>(0 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5)</code></p>\n<p>How can I fix the issue?</p>\n<p>Here is my Node Class</p>\n<pre><code>public class Node {\n  private final int value;\n  private final Set&lt;Node&gt; siblingNodes;\n\n  public Node(int value) {\n    this.value = value;\n    siblingNodes = new HashSet&lt;Node&gt;();\n  }\n\n  public Set&lt;Node&gt; getSiblingNodes() {\n    return siblingNodes;\n  }\n\n  public boolean equals(Node compareTo) {\n    return (compareTo.getValue() == value);\n  }\n\n  public int getValue() {\n    return value;\n  }\n\n  public void addSiblingNode(Node node) {\n    siblingNodes.add(node); \n  }\n}\n</code></pre>\n<p>Here is the code snippets shown below.</p>\n<pre><code>  public static void main(String[] args) {\n    /**\n     *\n     *        1             -&gt; 5\n     * 0 -&gt;           -&gt; 4\n     *        2 -&gt; 3        -&gt; 6    -&gt; 7\n     *\n     */\n        Node node0 = new Node(0);\n\n        Node node1 = new Node(1);\n        Node node2 = new Node(2);\n        node0.addSiblingNode(node1);\n        node0.addSiblingNode(node2);    \n\n        Node node3 = new Node(3);\n        node2.addSiblingNode(node3);\n\n        Node node4 = new Node(4);\n        node3.addSiblingNode(node4);\n\n        Node node5 = new Node(5);\n        Node node6 = new Node(6);\n        node4.addSiblingNode(node5);\n        node4.addSiblingNode(node6);\n        \n        Node node7 = new Node(7);\n        node6.addSiblingNode(node7);\n\n        List&lt;Node&gt; shortestPath = getDirections(node0, node7);\n        for(Node node : shortestPath) {\n          System.out.println(node.getValue());\n        }\n      }\n\n      public static List&lt;Node&gt; getDirections(Node sourceNode, Node destinationNode) {\n        // Initialization.\n        Map&lt;Node, Node&gt; nextNodeMap = new HashMap&lt;Node, Node&gt;();\n        Node currentNode = sourceNode;\n        Node previousNode = sourceNode;\n\n        // Queue\n        Queue&lt;Node&gt; queue = new LinkedList&lt;Node&gt;();\n        queue.add(currentNode);\n\n        /*\n         * The set of visited nodes doesn't have to be a Map, and, since order\n         * is not important, an ordered collection is not needed. HashSet is \n         * fast for add and lookup, if configured properly.\n         */\n        Set&lt;Node&gt; visitedNodes = new HashSet&lt;Node&gt;();\n        visitedNodes.add(currentNode);\n\n        //Search.\n        while (!queue.isEmpty()) {\n          currentNode = queue.remove();\n          if (currentNode.equals(destinationNode)) {\n            // Handle case where the node leading to the destinatino node\n            // itself pointed to multiple nodes. In this case,\n            // nextNodeMap is incorrect and we need to rely on the previously\n            // seen node.\n            // Also need to check for edge-case of start node == end node.\n            if (!previousNode.equals(currentNode)) {\n              nextNodeMap.put(previousNode, currentNode);\n            }\n            break;\n          } else {\n            for (Node nextNode : currentNode.getSiblingNodes()) {\n              if (!visitedNodes.contains(nextNode)) {\n                queue.add(nextNode);\n                visitedNodes.add(nextNode);\n\n                // Look up of next node instead of previous.\n                nextNodeMap.put(currentNode, nextNode);\n                previousNode = currentNode;\n              }\n            }\n          }\n        }\n\n        // If all nodes are explored and the destination node hasn't been found.\n        if (!currentNode.equals(destinationNode)) {\n            throw new RuntimeException(&quot;No feasible path.&quot;);\n        }\n\n        // Reconstruct path. No need to reverse.\n        List&lt;Node&gt; directions = new LinkedList&lt;Node&gt;();\n        for (Node node = sourceNode; node != null; node = nextNodeMap.get(node)) {\n            directions.add(node);\n        }\n\n        return directions;\n      }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1669772843,"post_id":74621992,"comment_id":131717609,"body_markdown":"See: [Android detect or block floating/overlaying apps](https://stackoverflow.com/q/36923301/295004) and [How do apps detect that SAW permission is currently being used?](https://stackoverflow.com/q/66681440/295004)","body":"See: <a href=\"https://stackoverflow.com/q/36923301/295004\">Android detect or block floating/overlaying apps</a> and <a href=\"https://stackoverflow.com/q/66681440/295004\">How do apps detect that SAW permission is currently being used?</a>"}],"owner":{"account_id":10859890,"reputation":35,"user_id":7985066,"display_name":"Deki Kurnia Hadi Permana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669772109,"creation_date":1669772109,"question_id":74621992,"body_markdown":"I&#39;m building a broswer app on android for school exams. now the application is able to minimize cheating because the application requires users to allow drawing over other apps. However, currently the application is still found to have loopholes, namely by using floating windows / floating apps. Is there a way to block or disable floating apps or floating windows on Android?","title":"How to disable the floating window feature or floating application on android?","body":"<p>I'm building a broswer app on android for school exams. now the application is able to minimize cheating because the application requires users to allow drawing over other apps. However, currently the application is still found to have loopholes, namely by using floating windows / floating apps. Is there a way to block or disable floating apps or floating windows on Android?</p>\n"},{"tags":["java","docker","ip","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26288,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1669768200,"post_id":74618238,"comment_id":131716896,"body_markdown":"I would say that&#39;s a problem of container, not a Keycloak. Please share docker configuration `docker info`. How did you start Keycloak container? Did you enable IPv6 for Docker daemon https://docs.docker.com/config/daemon/ipv6/ ?","body":"I would say that&#39;s a problem of container, not a Keycloak. Please share docker configuration <code>docker info</code>. How did you start Keycloak container? Did you enable IPv6 for Docker daemon <a href=\"https://docs.docker.com/config/daemon/ipv6/\" rel=\"nofollow noreferrer\">docs.docker.com/config/daemon/ipv6</a> ?"},{"owner":{"account_id":370159,"reputation":4890,"user_id":717932,"accept_rate":91,"display_name":"dardo"},"score":0,"creation_date":1669771537,"post_id":74618238,"comment_id":131717427,"body_markdown":"It seems to be for sure, I’ve tried connecting to the same database with both quarkus and spring boot via container and get the same error. Yes I have ipv6 enabled on the daemon. I think that’s more for listening on IPv6 than anything, however.","body":"It seems to be for sure, I’ve tried connecting to the same database with both quarkus and spring boot via container and get the same error. Yes I have ipv6 enabled on the daemon. I think that’s more for listening on IPv6 than anything, however."},{"owner":{"account_id":4077251,"reputation":26288,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1669790043,"post_id":74618238,"comment_id":131720326,"body_markdown":"You can try stupid workaround: start container in the host network explicitly, not in default network.","body":"You can try stupid workaround: start container in the host network explicitly, not in default network."}],"owner":{"account_id":370159,"reputation":4890,"user_id":717932,"accept_rate":91,"display_name":"dardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669771784,"creation_date":1669744180,"question_id":74618238,"body_markdown":"I&#39;m attempting to create a Docker container using `quay.io/keycloak/keycloak:20.0.1` image the that will connect to a Postgres Database listening on IPv6. Working with a downloaded zip of Keycloak, the application is able to make a connection if I export JAVA_OPTS as follows:\r\n\r\n`$ export JAVA_OPTS=-Djava.net.preferIPv6Addresses=true`\r\n\r\nIf I attempt to do the same within Docker, however, I receive java.net.UnknownHostException. I&#39;ve tried both the hostname which should resolve, as well as the IP that is behind the hostname.\r\n\r\nIf I try to use the IP within the Docker container, I receive:\r\n\r\n`Caused by: java.net.SocketException: Protocol family unavailable`\r\n\r\nI&#39;m not sure how to proceed from here, thanks!\r\n\r\nUPDATE: This seems to extend beyond just Keycloak, I’ve attempted connecting to the same DB via container using both Spring Boot and Quarkus and receive the same error.\r\n\r\n","title":"Keycloak Docker Postgres with IPv6 UnknownHostException","body":"<p>I'm attempting to create a Docker container using <code>quay.io/keycloak/keycloak:20.0.1</code> image the that will connect to a Postgres Database listening on IPv6. Working with a downloaded zip of Keycloak, the application is able to make a connection if I export JAVA_OPTS as follows:</p>\n<p><code>$ export JAVA_OPTS=-Djava.net.preferIPv6Addresses=true</code></p>\n<p>If I attempt to do the same within Docker, however, I receive java.net.UnknownHostException. I've tried both the hostname which should resolve, as well as the IP that is behind the hostname.</p>\n<p>If I try to use the IP within the Docker container, I receive:</p>\n<p><code>Caused by: java.net.SocketException: Protocol family unavailable</code></p>\n<p>I'm not sure how to proceed from here, thanks!</p>\n<p>UPDATE: This seems to extend beyond just Keycloak, I’ve attempted connecting to the same DB via container using both Spring Boot and Quarkus and receive the same error.</p>\n"},{"tags":["java","selenium","cucumber","pageobjects"],"comments":[{"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"score":0,"creation_date":1568023135,"post_id":57851412,"comment_id":102129993,"body_markdown":"Add the stack trace . Are you using cucumber-picocontainer ?","body":"Add the stack trace . Are you using cucumber-picocontainer ?"},{"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"score":0,"creation_date":1568023714,"post_id":57851412,"comment_id":102130249,"body_markdown":"@Rahul L yes. I am using cucumber-picoconatiner.","body":"@Rahul L yes. I am using cucumber-picoconatiner."},{"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"score":0,"creation_date":1568023843,"post_id":57851412,"comment_id":102130304,"body_markdown":"java.lang.NullPointerException\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:103)\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:92)\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:79)\n\tat Pages.LoginPage.&lt;init&gt;(LoginPage.java:20)\n\tat Steps.MyStepdefs.the_user_login_to_the_application(MyStepdefs.java:35)","body":"java.lang.NullPointerException \tat org.openqa.selenium.support.PageFactory.initElements(PageFac&zwnj;&#8203;tory.java:103) \tat org.openqa.selenium.support.PageFactory.initElements(PageFac&zwnj;&#8203;tory.java:92) \tat org.openqa.selenium.support.PageFactory.initElements(PageFac&zwnj;&#8203;tory.java:79) \tat Pages.LoginPage.&lt;init&gt;(LoginPage.java:20) \tat Steps.MyStepdefs.the_user_login_to_the_application(MyStepdef&zwnj;&#8203;s.java:35)"},{"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"score":0,"creation_date":1568024802,"post_id":57851412,"comment_id":102130752,"body_markdown":"In login page constructor change this line - PageFactory.initElements(driver, this);","body":"In login page constructor change this line - PageFactory.initElements(driver, this);"},{"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"score":0,"creation_date":1568025716,"post_id":57851412,"comment_id":102131154,"body_markdown":"@Rahul it still gives me an error. I tried debugging to find out the problem. In my Before method in Hooks, I am able to instantiate driver and wait for Page class. For the first instance it associates a value like WebDriverWait as 3353 but then it calls again the constructor and assigns another value to WebDriver wait as 3327 . I am sure that there is some sort of mistake in the Page class constructor. I also tried changing here as this.wait = wait but it does not help. NPE always!","body":"@Rahul it still gives me an error. I tried debugging to find out the problem. In my Before method in Hooks, I am able to instantiate driver and wait for Page class. For the first instance it associates a value like WebDriverWait as 3353 but then it calls again the constructor and assigns another value to WebDriver wait as 3327 . I am sure that there is some sort of mistake in the Page class constructor. I also tried changing here as this.wait = wait but it does not help. NPE always!"}],"answers":[{"tags":[],"owner":{"account_id":5814859,"reputation":11,"user_id":4584841,"display_name":"Satish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669768323,"creation_date":1669768323,"answer_id":74621692,"question_id":57851412,"body_markdown":"I had the same issue. My driver was null in the arguments being passed to webdriver wait. I put if statement to check if driver is null and it is. so initiated the page class where driver was setup and it is fixed. Message me if still stuck","title":"Cucumber - WebDriverWait null pointer exception - Java","body":"<p>I had the same issue. My driver was null in the arguments being passed to webdriver wait. I put if statement to check if driver is null and it is. so initiated the page class where driver was setup and it is fixed. Message me if still stuck</p>\n"}],"owner":{"account_id":16475018,"reputation":153,"user_id":11903221,"display_name":"automaticien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669768323,"creation_date":1568021896,"question_id":57851412,"body_markdown":"I am trying to integrate Cucumber Framework to existing automation framework. Something that I can&#39;t understand that each call the method WaitForElement, it gives me a null pointer exception. Maybe someone can explain where I am doing it wrong.\r\n\r\nFollowing is my TestStep class\r\n\r\n\r\n    package Steps;\r\n    import TestFramework.*;\r\n    import io.cucumber.java.en.*;\r\n    import org.junit.Assert;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class MyStepdefs extends BaseStep{\r\n    private WebDriver driver = null;\r\n    private Hooks lHooks;\r\n    private SceanarioContext sceanarioContext;\r\n    private WebDriverWait wait;\r\n\r\n\r\n    public MyStepdefs(Hooks lHooks, Hooks lwait, SceanarioContext sceanarioContext) {\r\n        this.driver = lHooks.driver;\r\n        this.wait=new WebDriverWait(driver,10);\r\n        this.sceanarioContext=sceanarioContext;\r\n    }\r\n\r\n    @Given(&quot;The user login to the application&quot;)\r\n    public void the_user_login_to_the_application() {\r\n        LoginPage loginObject = new LoginPage(driver,wait);\r\n        resultValue = loginObject.VerifyUrl();\r\n        resultMessage = &quot;URL is verified&quot;;\r\n        Assert.assertTrue(resultMessage,resultValue);\r\n    }    \r\n    }\r\n\r\n\r\nFollowing is my BaseStep class which is extended by Mysteps. \r\n\r\n    package Steps;\r\n\r\n    import Pages.BasePage;\r\n    import io.cucumber.datatable.DataTable;\r\n    import org.apache.log4j.Logger;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n     public class BaseStep{\r\n    public WebDriver driver = null;\r\n    public long explicitWaitValue = 10;\r\n    public WaitHelper wait;\r\n    public Boolean resultValue;\r\n    public final static Logger logger = Logger.getLogger(BasePage.class);\r\n    public String resultMessage=&quot;&quot;;\r\n    public Object scenarioContextObject;\r\n\r\n    public String GetTableValues(String headerValue, DataTable dataTable) {\r\n        List&lt;Map&lt;String, String&gt;&gt; data = dataTable.asMaps(String.class, String.class);\r\n        String value = data.get(0).get(headerValue);\r\n        return value;\r\n    }\r\n    }\r\n\r\n\r\nFollowing is my Hooks class which does the browser and driver instantiation. I have declared Pages in this class which is in the src/Pages packages to share the instantiation of the Webdriver and WebdriverWait class. I cannot extend Hooks class in BaseStep class as it does not allow me to do so.\r\n\r\n\r\n    package Steps;\r\n\r\n    import Pages.Page;\r\n    import TestFramework.ConfigFileReader;\r\n    import TestFramework.ManageWebDriver;\r\n    import io.cucumber.core.api.Scenario;\r\n    import io.cucumber.java.After;\r\n    import io.cucumber.java.Before;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.xhtmlrenderer.css.parser.property.PrimitivePropertyBuilders;\r\n\r\n    public class Hooks {\r\n    protected static WebDriver driver = null;\r\n    public static WebDriverWait wait =null;\r\n    protected static Page page;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        ConfigFileReader configFileReader = new ConfigFileReader();\r\n        String browserName = configFileReader.getDefaultBrowser();\r\n        ManageWebDriver manage = new ManageWebDriver();\r\n        this.driver = manage.GetBrowser(browserName);\r\n        driver.get(configFileReader.getApplicationUrl());\r\n        wait = new WebDriverWait(driver,10);\r\n        page = new Page(driver,wait);\r\n    }\r\n    @After\r\n    public void tearDown(Scenario scenario) {\r\n        if (scenario.isFailed()) {\r\n            final byte[] screenshot = ((TakesScreenshot) driver)\r\n                    .getScreenshotAs(OutputType.BYTES);\r\n            scenario.embed(screenshot, &quot;image/png&quot;); //stick it in the report\r\n        }\r\n        driver.close();\r\n    }\r\n\r\n    }\r\n\r\nFollowing is my LoginPage class which is called in my Steps to perform functionalities\r\n\r\n    package Pages;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.How;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n    public class LoginPage extends BasePage{\r\n\r\n\r\n    WebDriver driver;\r\n    WebDriverWait wait;\r\n    Boolean url = false;\r\n\r\n\r\n    public LoginPage(WebDriver driver,WebDriverWait wait) {\r\n        super(driver,wait);\r\n        this.driver = driver;\r\n        this.wait=wait;\r\n        PageFactory.initElements(driver, wait);\r\n    }\r\n\r\n    @FindBy(how = How.ID, using = &quot;username&quot;)\r\n    private WebElement loginEmail;\r\n    public boolean VerifyUrl(){\r\n        WaitUntilElement(loginEmail);\r\n        if(driver.getCurrentUrl().contains(&quot;auth&quot;))\r\n            return url=true;\r\n        return false;\r\n    }\r\n    }\r\n\r\nFollowing is my BasePage class which is extended by the LoginPage. This is where the problem happens. I do get a value for wait when I debug. But when the WaitUntilElement is called, it gives a Null Pointer exception\r\n\r\n    package Pages;\r\n    import org.apache.log4j.Logger;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.support.ui.*;\r\n\r\n    public class BasePage extends Page {\r\n    public WebDriver driver = null;\r\n    public long explicitWaitValue = 10;\r\n    public Boolean resultValue;\r\n    public final static Logger logger = Logger.getLogger(BasePage.class);\r\n    public String resultMessage=&quot;&quot;;\r\n    public Object scenarioContextObject;\r\n\r\n    public BasePage(WebDriver driver,WebDriverWait wait) {\r\n        super(driver,wait);\r\n        this.driver = driver;\r\n        this.wait=wait;\r\n    }\r\n    public void WaitUntilElement(WebElement element){\r\n        wait.until(ExpectedConditions.visibilityOf(element));\r\n    }\r\n    }\r\n\r\n\r\n\r\nFollowing is the Page class which gets the value of driver and wait when it is instantiated in the Hooks class. This in turn is extended by BasePage\r\n\r\n    package Pages;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n    public class Page {\r\n    public WebDriver driver;\r\n    public WebDriverWait wait;\r\n\r\n    public Page(WebDriver driver, WebDriverWait wait){\r\n        this.driver = driver;\r\n        this.wait = new WebDriverWait(driver,10);\r\n    }\r\n    }\r\n\r\nI have tried instantiating the WebDriver in BasePage and Page as well. But somehow it gives me a null pointer exception always.\r\n\r\nI am new to the implementation of Cucumber with Java hence maybe I am missing something minute or maybe something major which I am not able to find out. It would be brilliant to know where I am making the mistake.","title":"Cucumber - WebDriverWait null pointer exception - Java","body":"<p>I am trying to integrate Cucumber Framework to existing automation framework. Something that I can't understand that each call the method WaitForElement, it gives me a null pointer exception. Maybe someone can explain where I am doing it wrong.</p>\n\n<p>Following is my TestStep class</p>\n\n<pre><code>package Steps;\nimport TestFramework.*;\nimport io.cucumber.java.en.*;\nimport org.junit.Assert;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MyStepdefs extends BaseStep{\nprivate WebDriver driver = null;\nprivate Hooks lHooks;\nprivate SceanarioContext sceanarioContext;\nprivate WebDriverWait wait;\n\n\npublic MyStepdefs(Hooks lHooks, Hooks lwait, SceanarioContext sceanarioContext) {\n    this.driver = lHooks.driver;\n    this.wait=new WebDriverWait(driver,10);\n    this.sceanarioContext=sceanarioContext;\n}\n\n@Given(\"The user login to the application\")\npublic void the_user_login_to_the_application() {\n    LoginPage loginObject = new LoginPage(driver,wait);\n    resultValue = loginObject.VerifyUrl();\n    resultMessage = \"URL is verified\";\n    Assert.assertTrue(resultMessage,resultValue);\n}    \n}\n</code></pre>\n\n<p>Following is my BaseStep class which is extended by Mysteps. </p>\n\n<pre><code>package Steps;\n\nimport Pages.BasePage;\nimport io.cucumber.datatable.DataTable;\nimport org.apache.log4j.Logger;\nimport org.openqa.selenium.WebDriver;\n\nimport java.util.List;\nimport java.util.Map;\n\n public class BaseStep{\npublic WebDriver driver = null;\npublic long explicitWaitValue = 10;\npublic WaitHelper wait;\npublic Boolean resultValue;\npublic final static Logger logger = Logger.getLogger(BasePage.class);\npublic String resultMessage=\"\";\npublic Object scenarioContextObject;\n\npublic String GetTableValues(String headerValue, DataTable dataTable) {\n    List&lt;Map&lt;String, String&gt;&gt; data = dataTable.asMaps(String.class, String.class);\n    String value = data.get(0).get(headerValue);\n    return value;\n}\n}\n</code></pre>\n\n<p>Following is my Hooks class which does the browser and driver instantiation. I have declared Pages in this class which is in the src/Pages packages to share the instantiation of the Webdriver and WebdriverWait class. I cannot extend Hooks class in BaseStep class as it does not allow me to do so.</p>\n\n<pre><code>package Steps;\n\nimport Pages.Page;\nimport TestFramework.ConfigFileReader;\nimport TestFramework.ManageWebDriver;\nimport io.cucumber.core.api.Scenario;\nimport io.cucumber.java.After;\nimport io.cucumber.java.Before;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.xhtmlrenderer.css.parser.property.PrimitivePropertyBuilders;\n\npublic class Hooks {\nprotected static WebDriver driver = null;\npublic static WebDriverWait wait =null;\nprotected static Page page;\n\n@Before\npublic void setUp() throws Exception {\n    ConfigFileReader configFileReader = new ConfigFileReader();\n    String browserName = configFileReader.getDefaultBrowser();\n    ManageWebDriver manage = new ManageWebDriver();\n    this.driver = manage.GetBrowser(browserName);\n    driver.get(configFileReader.getApplicationUrl());\n    wait = new WebDriverWait(driver,10);\n    page = new Page(driver,wait);\n}\n@After\npublic void tearDown(Scenario scenario) {\n    if (scenario.isFailed()) {\n        final byte[] screenshot = ((TakesScreenshot) driver)\n                .getScreenshotAs(OutputType.BYTES);\n        scenario.embed(screenshot, \"image/png\"); //stick it in the report\n    }\n    driver.close();\n}\n\n}\n</code></pre>\n\n<p>Following is my LoginPage class which is called in my Steps to perform functionalities</p>\n\n<pre><code>package Pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.How;\nimport org.openqa.selenium.support.PageFactory;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class LoginPage extends BasePage{\n\n\nWebDriver driver;\nWebDriverWait wait;\nBoolean url = false;\n\n\npublic LoginPage(WebDriver driver,WebDriverWait wait) {\n    super(driver,wait);\n    this.driver = driver;\n    this.wait=wait;\n    PageFactory.initElements(driver, wait);\n}\n\n@FindBy(how = How.ID, using = \"username\")\nprivate WebElement loginEmail;\npublic boolean VerifyUrl(){\n    WaitUntilElement(loginEmail);\n    if(driver.getCurrentUrl().contains(\"auth\"))\n        return url=true;\n    return false;\n}\n}\n</code></pre>\n\n<p>Following is my BasePage class which is extended by the LoginPage. This is where the problem happens. I do get a value for wait when I debug. But when the WaitUntilElement is called, it gives a Null Pointer exception</p>\n\n<pre><code>package Pages;\nimport org.apache.log4j.Logger;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.support.ui.*;\n\npublic class BasePage extends Page {\npublic WebDriver driver = null;\npublic long explicitWaitValue = 10;\npublic Boolean resultValue;\npublic final static Logger logger = Logger.getLogger(BasePage.class);\npublic String resultMessage=\"\";\npublic Object scenarioContextObject;\n\npublic BasePage(WebDriver driver,WebDriverWait wait) {\n    super(driver,wait);\n    this.driver = driver;\n    this.wait=wait;\n}\npublic void WaitUntilElement(WebElement element){\n    wait.until(ExpectedConditions.visibilityOf(element));\n}\n}\n</code></pre>\n\n<p>Following is the Page class which gets the value of driver and wait when it is instantiated in the Hooks class. This in turn is extended by BasePage</p>\n\n<pre><code>package Pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Page {\npublic WebDriver driver;\npublic WebDriverWait wait;\n\npublic Page(WebDriver driver, WebDriverWait wait){\n    this.driver = driver;\n    this.wait = new WebDriverWait(driver,10);\n}\n}\n</code></pre>\n\n<p>I have tried instantiating the WebDriver in BasePage and Page as well. But somehow it gives me a null pointer exception always.</p>\n\n<p>I am new to the implementation of Cucumber with Java hence maybe I am missing something minute or maybe something major which I am not able to find out. It would be brilliant to know where I am making the mistake.</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":1,"creation_date":1669517907,"post_id":74586446,"comment_id":131657888,"body_markdown":"debug=true helped me in similar scenarios. Also share us the application properties. If it is possible, a GitHub repository to help you","body":"debug=true helped me in similar scenarios. Also share us the application properties. If it is possible, a GitHub repository to help you"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1669518222,"post_id":74586446,"comment_id":131657914,"body_markdown":"How are you running the app? Shell or Eclipse?","body":"How are you running the app? Shell or Eclipse?"},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669567827,"post_id":74586446,"comment_id":131665639,"body_markdown":"My &quot;application properties&quot; file is completely empty in this miniature project of the original. I am running the app in Eclips (actually in STS). Will set debug to true and upload the code on GitHub when I get home. Thanks.","body":"My &quot;application properties&quot; file is completely empty in this miniature project of the original. I am running the app in Eclips (actually in STS). Will set debug to true and upload the code on GitHub when I get home. Thanks."},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669768342,"post_id":74586446,"comment_id":131716917,"body_markdown":"@JRichardsz: I updated the original post with error message I see in console after activating the debug flag","body":"@JRichardsz: I updated the original post with error message I see in console after activating the debug flag"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1669846675,"post_id":74586446,"comment_id":131739108,"body_markdown":"Share us the code and I will fix it. I think the problem is in your package","body":"Share us the code and I will fix it. I think the problem is in your package"},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669863025,"post_id":74586446,"comment_id":131741701,"body_markdown":"Here is the code::\nhttps://github.com/ramy670/TestProject","body":"Here is the code:: <a href=\"https://github.com/ramy670/TestProject\" rel=\"nofollow noreferrer\">github.com/ramy670/TestProject</a>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1669904582,"post_id":74586446,"comment_id":131752677,"body_markdown":"Repository is empty or dont exist","body":"Repository is empty or dont exist"},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669933571,"post_id":74586446,"comment_id":131762027,"body_markdown":"Forgot to make it public, sorry about that. Repo is now public.","body":"Forgot to make it public, sorry about that. Repo is now public."},{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1670090782,"post_id":74586446,"comment_id":131794371,"body_markdown":"Did you found that everything was as it should? (i.e nothing to correct)","body":"Did you found that everything was as it should? (i.e nothing to correct)"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":1,"creation_date":1670164052,"post_id":74586446,"comment_id":131806441,"body_markdown":"Not related to the question but your github code has one error in the main: SpringApplication.run(Application.class, args);.. it should be **TestApplication**. Also I downloaded your code and ran it. Rest controllers work as expected:  https://user-images.githubusercontent.com/3322836/205496303-767b3bfc-ed2f-4a2d-be15-6f3ee0f2a8a9.png  Are you on windows? Try on linue, try with eclipse instead STS, try with shell mvn spring-boot:run  Share the result updating the question, not as comments","body":"Not related to the question but your github code has one error in the main: SpringApplication.run(Application.class, args);.. it should be <b>TestApplication</b>. Also I downloaded your code and ran it. Rest controllers work as expected:  <a href=\"https://user-images.githubusercontent.com/3322836/205496303-767b3bfc-ed2f-4a2d-be15-6f3ee0f2a8a9.png\" rel=\"nofollow noreferrer\">user-images.githubusercontent.com/3322836/&hellip;</a>  Are you on windows? Try on linue, try with eclipse instead STS, try with shell mvn spring-boot:run  Share the result updating the question, not as comments"}],"answers":[{"comments":[{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669644508,"post_id":74600399,"comment_id":131682476,"body_markdown":"I tried, same error. I removed @ ReponseBody and replaced @ Controller with @ RestController but still received the same error.","body":"I tried, same error. I removed @ ReponseBody and replaced @ Controller with @ RestController but still received the same error."}],"tags":[],"owner":{"account_id":10462154,"reputation":26,"user_id":7712561,"display_name":"Mahesh Chandra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669637543,"creation_date":1669637543,"answer_id":74600399,"question_id":74586446,"body_markdown":"Did you tried making call to the endpoint via postman ? If so, can you try again after removing @ResponseBody annotation.","title":"Spring Boot Controller not mapping (Whitelabel Error Page)","body":"<p>Did you tried making call to the endpoint via postman ? If so, can you try again after removing @ResponseBody annotation.</p>\n"},{"comments":[{"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"score":0,"creation_date":1669644387,"post_id":74600481,"comment_id":131682436,"body_markdown":"I had @RestController at start (Without @ReponseBody), also same error.","body":"I had @RestController at start (Without @ReponseBody), also same error."}],"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669638052,"creation_date":1669638052,"answer_id":74600481,"question_id":74586446,"body_markdown":"Instead of @Controller use @RestController","title":"Spring Boot Controller not mapping (Whitelabel Error Page)","body":"<p>Instead of @Controller use @RestController</p>\n"}],"owner":{"account_id":15718611,"reputation":71,"user_id":11342145,"display_name":"Ramy670"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669768277,"creation_date":1669506193,"question_id":74586446,"body_markdown":"I have a Spring REST project that is redirecting all requests to error page, even if they are mapped in the controller.\r\n\r\nI reduced the code to the smallest possible version that produces the error:\r\n\r\nHere is the project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the Application class (The imports are removed to make the thread easier to read):\r\n\r\n    package com.example.demo;\r\n\t\r\n\t@Controller\r\n\t@SpringBootApplication\r\n\tpublic class TestApplication {\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(Application.class, args);\r\n\t\t}\r\n\t\r\n\t\r\n\t\t@GetMapping(&quot;/greeting&quot;)\r\n\t\t@ResponseBody\r\n\t\tpublic String greeting() {\r\n\t\t\treturn &quot;greeting&quot;;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\nOriginally I hade a sperate controller from the App class, but moved the controller code to the app class to make sure that this is not a project structure problem\r\nHere is the controller code (Tried with and without it, and received the same error):\r\n\r\n\t@Controller\r\n\t@SpringBootApplication\r\n\tpublic class TestApplication {\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(Application.class, args);\r\n\t\t}\r\n\t\r\n\t\r\n\t\t@GetMapping(&quot;/hello&quot;)\r\n\t\t@ResponseBody\r\n\t\tpublic String greeting() {\r\n\t\t\treturn &quot;greeting&quot;;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n(Both  http://localhost:8080/greeting as well as well http://localhost:8080/hello return the same error page)\r\n\r\nDependencies and plugins from the pom file: \r\n\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\r\n(Tried with and without tomcat as dependency and nothing changed)\r\n\r\nAnd lastly here is the error message I receive in the browser when I visit the links (http://localhost:8080/greeting and http://localhost:8080/hello):\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n    Sun Nov 27 00:16:08 CET 2022\r\n    There was an unexpected error (type=Not Found, status=404).\r\n\r\n**Edit:**\r\nAfter setting debug to true in project.properties, here is the error message I see in console (Worth mentioning that the project ran with no issues when I tried it on another system (Same OS)):\r\n\r\n     GET &quot;/greeting&quot;, parameters={}\r\n     Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n     Resource not found\r\n     Completed 404 NOT_FOUND\r\n     &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n\r\n(Timestamps are removed to make reading easier)\r\n\r\n [1]: https://i.stack.imgur.com/lEYg9.png","title":"Spring Boot Controller not mapping (Whitelabel Error Page)","body":"<p>I have a Spring REST project that is redirecting all requests to error page, even if they are mapped in the controller.</p>\n<p>I reduced the code to the smallest possible version that produces the error:</p>\n<p>Here is the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/lEYg9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEYg9.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Application class (The imports are removed to make the thread easier to read):</p>\n<pre><code>package com.example.demo;\n\n@Controller\n@SpringBootApplication\npublic class TestApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n\n    @GetMapping(&quot;/greeting&quot;)\n    @ResponseBody\n    public String greeting() {\n        return &quot;greeting&quot;;\n    }\n\n}\n</code></pre>\n<p>Originally I hade a sperate controller from the App class, but moved the controller code to the app class to make sure that this is not a project structure problem\nHere is the controller code (Tried with and without it, and received the same error):</p>\n<pre><code>@Controller\n@SpringBootApplication\npublic class TestApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n\n    @GetMapping(&quot;/hello&quot;)\n    @ResponseBody\n    public String greeting() {\n        return &quot;greeting&quot;;\n    }\n\n}\n</code></pre>\n<p>(Both  http://localhost:8080/greeting as well as well http://localhost:8080/hello return the same error page)</p>\n<p>Dependencies and plugins from the pom file:</p>\n<pre><code>        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n    \n</code></pre>\n<p>(Tried with and without tomcat as dependency and nothing changed)</p>\n<p>And lastly here is the error message I receive in the browser when I visit the links (http://localhost:8080/greeting and http://localhost:8080/hello):</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun Nov 27 00:16:08 CET 2022\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p><strong>Edit:</strong>\nAfter setting debug to true in project.properties, here is the error message I see in console (Worth mentioning that the project ran with no issues when I tried it on another system (Same OS)):</p>\n<pre><code> GET &quot;/greeting&quot;, parameters={}\n Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n Resource not found\n Completed 404 NOT_FOUND\n &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n</code></pre>\n<p>(Timestamps are removed to make reading easier)</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1666177947,"post_id":74102833,"comment_id":130872643,"body_markdown":"It sounds like a problem with your class loader. Have you configured the application, including Hibernate, to use it?","body":"It sounds like a problem with your class loader. Have you configured the application, including Hibernate, to use it?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1666278959,"post_id":74102833,"comment_id":130903802,"body_markdown":"I have configured the application, but how would I set the ClassLoaderService of Hibernate through Spring @AndyWilkinson","body":"I have configured the application, but how would I set the ClassLoaderService of Hibernate through Spring @AndyWilkinson"}],"answers":[{"tags":[],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666787187,"creation_date":1666787187,"answer_id":74207770,"question_id":74102833,"body_markdown":"The solution was based upon my failed solution and involved injecting a custom Class Loader Service into hibernate. Link for complete answer: https://stackoverflow.com/questions/74160078/how-do-i-inject-hibernate-classloaderservice-into-spring-boot","title":"How to process Entities into Spring which originate from an external jar file?","body":"<p>The solution was based upon my failed solution and involved injecting a custom Class Loader Service into hibernate. Link for complete answer: <a href=\"https://stackoverflow.com/questions/74160078/how-do-i-inject-hibernate-classloaderservice-into-spring-boot\">How do I inject Hibernate ClassLoaderService into Spring Boot?</a></p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669767468,"creation_date":1669767468,"answer_id":74621613,"question_id":74102833,"body_markdown":"To solve:\r\n&gt;I have to load the `@Entity` classes from the Plugins into Spring, so that it recognizes the `@Entity` classes as &quot;Managed Types&quot;.\r\n\r\nWhen entities are in in the classpath of underlying spring-boot application (assuming in `package com.example.plugin;`), then it comes down to annotate your application/configuration with:\r\n```\r\n@EntityScan({&quot;com.example.plugin&quot; /*, ... */})\r\n```\r\n... to &quot;manage&quot; them in terms of JPA.\r\n\r\nWhen we also want to load ([tag:spring-data]) &quot;jpa repositories&quot;, then (also/alternatively(?)):\r\n```\r\n@EnableJpaRepositories({&quot;package.of.repository&quot;/*, ...*/})\r\n```\r\n\r\n- https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html\r\n- https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html","title":"How to process Entities into Spring which originate from an external jar file?","body":"<p>To solve:</p>\n<blockquote>\n<p>I have to load the <code>@Entity</code> classes from the Plugins into Spring, so that it recognizes the <code>@Entity</code> classes as &quot;Managed Types&quot;.</p>\n</blockquote>\n<p>When entities are in in the classpath of underlying spring-boot application (assuming in <code>package com.example.plugin;</code>), then it comes down to annotate your application/configuration with:</p>\n<pre><code>@EntityScan({&quot;com.example.plugin&quot; /*, ... */})\n</code></pre>\n<p>... to &quot;manage&quot; them in terms of JPA.</p>\n<p>When we also want to load (<a href=\"/questions/tagged/spring-data\" class=\"post-tag\" title=\"show questions tagged &#39;spring-data&#39;\" aria-label=\"show questions tagged &#39;spring-data&#39;\" rel=\"tag\" aria-labelledby=\"spring-data-container\">spring-data</a>) &quot;jpa repositories&quot;, then (also/alternatively(?)):</p>\n<pre><code>@EnableJpaRepositories({&quot;package.of.repository&quot;/*, ...*/})\n</code></pre>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/domain/EntityScan.html</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html</a></li>\n</ul>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74207770,"answer_count":2,"score":0,"last_activity_date":1669767468,"creation_date":1666038099,"question_id":74102833,"body_markdown":"Hello I am have a project with the general following structure:\r\n1. Core Spring Application, which has an API integrated into it.\r\n2. Plugins, which are built based on the API.\r\n\r\nThe Plugins are compiled independently and stored in a folder named &quot;plugins&quot;, which is generated in the directory in which the Core Application runs.\r\n\r\nThe Plugins contain `@Entity` classes which extend a Super Class from the API.\r\n\r\nThe Core Spring Application can successfully read and load any classes from the plugins, when loaded independently from Spring. (I have written my own ClassLoader and ClassLoaderManager)\r\n\r\n**My issue:** I have to load the `@Entity` classes from the Plugins into Spring, so that it recognizes the `@Entity` classes as &quot;Managed Types&quot;.\r\n\r\n**Failed Solution:**\r\nI have attempted to remedy this problem by using this Bean:\r\n```java\r\n@Bean\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\r\n    LocalContainerEntityManagerFactoryBean bean = new  LocalContainerEntityManagerFactoryBean();\r\n    bean.setDataSource(dataSource);\r\n    bean.setPackagesToScan(// I inject the packages here);\r\n    bean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n    CustomUnitPostProcessor postProcessor = new CustomPostProcessor(&quot;base package&quot;);\r\n    bean.setPersistenceUnitPostProcessors(postProcessor);\r\n    return bean;\r\n}\r\n\r\npublic class CustomUnitPostProcessor extends ClasspathScanningPersistenceUnitPostProcessor {\r\n\r\n    public CustomUnitPostProcessor(String basePackage) {\r\n        super(basePackage);\r\n    }\r\n\r\n    @Override\r\n    public void postProcessPersistenceUnitInfo(MutablePersistenceUnitInfo pui) {\r\n        // Adding Jar File Package URLs to PUI via pui.addJarFileURL();\r\n        super.postProcessPersistenceUnitInfo(pui);\r\n    }\r\n}\r\n```\r\nUnfortunately, this method fails due to the `org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [// Class which is supposed to be loaded]`. Which breaks the `EntityManagerFactory`.\r\n\r\n\r\nI am open to any solutions which would either fix my failed solution, or would achieve the same result.\r\n\r\n-AwesomeDude091","title":"How to process Entities into Spring which originate from an external jar file?","body":"<p>Hello I am have a project with the general following structure:</p>\n<ol>\n<li>Core Spring Application, which has an API integrated into it.</li>\n<li>Plugins, which are built based on the API.</li>\n</ol>\n<p>The Plugins are compiled independently and stored in a folder named &quot;plugins&quot;, which is generated in the directory in which the Core Application runs.</p>\n<p>The Plugins contain <code>@Entity</code> classes which extend a Super Class from the API.</p>\n<p>The Core Spring Application can successfully read and load any classes from the plugins, when loaded independently from Spring. (I have written my own ClassLoader and ClassLoaderManager)</p>\n<p><strong>My issue:</strong> I have to load the <code>@Entity</code> classes from the Plugins into Spring, so that it recognizes the <code>@Entity</code> classes as &quot;Managed Types&quot;.</p>\n<p><strong>Failed Solution:</strong>\nI have attempted to remedy this problem by using this Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\n    LocalContainerEntityManagerFactoryBean bean = new  LocalContainerEntityManagerFactoryBean();\n    bean.setDataSource(dataSource);\n    bean.setPackagesToScan(// I inject the packages here);\n    bean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n    CustomUnitPostProcessor postProcessor = new CustomPostProcessor(&quot;base package&quot;);\n    bean.setPersistenceUnitPostProcessors(postProcessor);\n    return bean;\n}\n\npublic class CustomUnitPostProcessor extends ClasspathScanningPersistenceUnitPostProcessor {\n\n    public CustomUnitPostProcessor(String basePackage) {\n        super(basePackage);\n    }\n\n    @Override\n    public void postProcessPersistenceUnitInfo(MutablePersistenceUnitInfo pui) {\n        // Adding Jar File Package URLs to PUI via pui.addJarFileURL();\n        super.postProcessPersistenceUnitInfo(pui);\n    }\n}\n</code></pre>\n<p>Unfortunately, this method fails due to the <code>org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [// Class which is supposed to be loaded]</code>. Which breaks the <code>EntityManagerFactory</code>.</p>\n<p>I am open to any solutions which would either fix my failed solution, or would achieve the same result.</p>\n<p>-AwesomeDude091</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":0,"creation_date":1679198104,"post_id":74613614,"comment_id":133677243,"body_markdown":"`missing type id property &#39;@class&#39;` means that `OAuth2AuthorizationRequest` was not serialized properly. Check your JSON. It should start with this: `{&quot;@class&quot;:&quot;org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest&quot;,&quot;authorizationUri&quot;:&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;,&quot;authorizationGrantType&quot;:{&quot;value&quot;:&quot;authorization_code&quot;}...` and not with this: `{&quot;authorizationUri&quot;:&quot;https://accounts.google.com/o/oauth2/v2/auth&quot;,&quot;responseType&quot;:{&quot;value&quot;:&quot;code&quot;},...` It&#39;s probably because you didn&#39;t register Spring Security modules (see `SecurityJackson2Modules`).","body":"<code>missing type id property &#39;@class&#39;</code> means that <code>OAuth2AuthorizationRequest</code> was not serialized properly. Check your JSON. It should start with this: <code>{&quot;@class&quot;:&quot;org.springframework.security.oauth2.core.endpoint&zwnj;&#8203;.OAuth2Authorization&zwnj;&#8203;Request&quot;,&quot;authorizat&zwnj;&#8203;ionUri&quot;:&quot;https:&#47;&#47;acc&zwnj;&#8203;ounts.google.com&#47;o&#47;o&zwnj;&#8203;auth2&#47;v2&#47;auth&quot;,&quot;auth&zwnj;&#8203;orizationGrantType&quot;:&zwnj;&#8203;{&quot;value&quot;:&quot;authorizat&zwnj;&#8203;ion_code&quot;}...</code> and not with this: <code>{&quot;authorizationUri&quot;:&quot;https:&#47;&#47;accounts.google.com&#47;o&#47;oauth2&#47;v2&zwnj;&#8203;&#47;auth&quot;,&quot;responseType&zwnj;&#8203;&quot;:{&quot;value&quot;:&quot;code&quot;},.&zwnj;&#8203;..</code> It&#39;s probably because you didn&#39;t register Spring Security modules (see <code>SecurityJackson2Modules</code>)."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669766347,"creation_date":1669756008,"answer_id":74620244,"question_id":74613614,"body_markdown":"In OAuth2 wording, REST APIs are **resource-servers**, not clients.\r\n\r\nWhat you can do is have\r\n- your proxy be transparent to OAuth2 (forward requests with their JWT access-token authorization header and responses status code)\r\n- configure each REST API as resource-server. Tutorials there: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials.\r\n- add an OAuth2 client library to your Angular app to handle tokens and authorize requests. My favorite is [angular-auth-oidc-client][1]\r\n- probably use an intermediate authorization-server for identity federation (Google, Facebook, etc., but also internal DB, LDAP, or whatever is needed), roles management, MFA,... Keycloak is a famous &quot;on premise&quot; solution, but you can search for &quot;OIDC authorization-server&quot; in your favorite search engine and have plenty of alternate choices, including SaaS like Auth0 or Amazon Cognito. \r\n\r\nThis is fully compatible with distributed architectures and micro-services (session-less is the default configuration  for resource-servers in the tutorials I linked).\r\n\r\nTwo cases for a micro-service delegating some of its processing to another resource-server:\r\n- the &quot;child&quot; request is made on behalf of the user who initiated the request =&gt; retrieve original access-token from `Authentication` instance in security-context and forward it (set it as Bearer authorization header for the sub-request)\r\n- the &quot;child&quot; request is not made on behalf of a user =&gt; client-credentials must be used (the micro-services acquires a new access-token in its own name to authorize the sub request). Refer to `spring-boot-oauth2-client` and your preferred REST client docs for details (`WebClient`, `@FeignClient`, `RestTemplate`). \r\n\r\n\r\n  [1]: https://github.com/damienbod/angular-auth-oidc-client","title":"How to use Spring OAuth2 Client in SPA and multi-node application?","body":"<p>In OAuth2 wording, REST APIs are <strong>resource-servers</strong>, not clients.</p>\n<p>What you can do is have</p>\n<ul>\n<li>your proxy be transparent to OAuth2 (forward requests with their JWT access-token authorization header and responses status code)</li>\n<li>configure each REST API as resource-server. Tutorials there: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials</a>.</li>\n<li>add an OAuth2 client library to your Angular app to handle tokens and authorize requests. My favorite is <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a></li>\n<li>probably use an intermediate authorization-server for identity federation (Google, Facebook, etc., but also internal DB, LDAP, or whatever is needed), roles management, MFA,... Keycloak is a famous &quot;on premise&quot; solution, but you can search for &quot;OIDC authorization-server&quot; in your favorite search engine and have plenty of alternate choices, including SaaS like Auth0 or Amazon Cognito.</li>\n</ul>\n<p>This is fully compatible with distributed architectures and micro-services (session-less is the default configuration  for resource-servers in the tutorials I linked).</p>\n<p>Two cases for a micro-service delegating some of its processing to another resource-server:</p>\n<ul>\n<li>the &quot;child&quot; request is made on behalf of the user who initiated the request =&gt; retrieve original access-token from <code>Authentication</code> instance in security-context and forward it (set it as Bearer authorization header for the sub-request)</li>\n<li>the &quot;child&quot; request is not made on behalf of a user =&gt; client-credentials must be used (the micro-services acquires a new access-token in its own name to authorize the sub request). Refer to <code>spring-boot-oauth2-client</code> and your preferred REST client docs for details (<code>WebClient</code>, <code>@FeignClient</code>, <code>RestTemplate</code>).</li>\n</ul>\n"}],"owner":{"account_id":5297359,"reputation":473,"user_id":4784969,"accept_rate":17,"display_name":"Politechniczny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669766347,"creation_date":1669722444,"question_id":74613614,"body_markdown":"I want to implement a feature that user connects his account with external applications (similar feature is in Facebook). User has to log in to external application and grant permission to access data by my application.\r\n\r\nOnce user connected an external app, data will be exchanged in background using access and refresh tokens.\r\n\r\nApplication architecture is:\r\n- SPA front-end (Angular)\r\n- REST API (Spring), multiple nodes\r\n- ScyllaDB\r\n- Envoy proxy (with JWT verification)\r\n\r\nThe first idea is to use Spring OAuth2 Client. However, some changes need to be made:\r\n- there is no Principal because JWT is verified by Envoy proxy and X-USER-ID header is added\r\n- REST API is stateless and we shouldn&#39;t store authorization code in session\r\n- even with sessions, there are multiple nodes and we need to share authorization code between nodes\r\n- custom URL, e.g. /app_name/connect instead of /oauth2/authorization/app_name\r\n- redirect URL may be invalid (but it&#39;s verified by Spring&#39;s filter)\r\n\r\nHow this could work:\r\n- user click &quot;Connect with app&quot; in SPA\r\n- SPA redirects user to /oauth2/authorization/app_name (or custom URL)\r\n- Spring redirects user to external app&#39;s authentication server\r\n- user authenticates and grants permissions\r\n- external app redirects user back to Spring (or straight to SPA?)\r\n- Spring redirects user back to SPA (or SPA sends access token to REST API?)\r\n\r\nDespite Spring Security components can be replaced, many of them are coupled and you need to rewrite OAuth2 Client flow almost from scratch. Maybe I&#39;m doing something wrong and it can be achieved easier.\r\n\r\nWhat I already did:\r\n\r\n```java\r\nhttp\r\n      .cors().and()\r\n      .csrf().disable()\r\n      .authorizeRequests().anyRequest().permitAll().and()\r\n      .oauth2Client(); // get rid of these two filters?\r\n```\r\n\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class OAuth2ClientConfig {\r\n\r\n  private final CassandraTemplate cassandraTemplate;\r\n\r\n  // overriding original client service - we need to store tokens in database\r\n  @Bean\r\n  public OAuth2AuthorizedClientService authorizedClientService(\r\n    CassandraTemplate cassandraTemplate,\r\n    ClientRegistrationRepository clientRegistrationRepository) {\r\n    return new ScyllaOAuth2AuthorizedClientService(cassandraTemplate, clientRegistrationRepository);\r\n  }\r\n\r\n  // configure client provider to use authorization code with refresh token\r\n  @Bean\r\n  public OAuth2AuthorizedClientManager authorizedClientManager(\r\n    ClientRegistrationRepository clientRegistrationRepository,\r\n    OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n\r\n    var authorizedClientProvider =\r\n      OAuth2AuthorizedClientProviderBuilder.builder()\r\n        .authorizationCode()\r\n        .refreshToken()\r\n        .build();\r\n\r\n    var authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(\r\n      clientRegistrationRepository,\r\n      authorizedClientRepository);\r\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\r\n    return authorizedClientManager;\r\n  }\r\n\r\n  // the specs recommend to use WebClient for exchanging data instead of RestTemplate\r\n  @Bean\r\n  public WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\r\n    ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\r\n      new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n    return WebClient.builder()\r\n      .apply(oauth2Client.oauth2Configuration())\r\n      .build();\r\n  }\r\n\r\n  // override request repository - and I&#39;m stuck there\r\n  @Bean\r\n  public AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository() {\r\n    return new ScyllaOAuth2AuthorizationRequestRepository(cassandraTemplate);\r\n  }\r\n\r\n}\r\n```\r\n\r\nBecause there are multiple nodes of REST API, we can&#39;t use sessions. We need to store request somewhere, e.g. ScyllaDB, Redis, Hazelcast, etc. I decided to store it as JSON in ScyllaDB but I ran into trouble.\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic final class ScyllaOAuth2AuthorizationRequestRepository implements AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; {\r\n\r\n  private final CassandraTemplate cassandraTemplate;\r\n  private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n  @Override\r\n  public OAuth2AuthorizationRequest loadAuthorizationRequest(HttpServletRequest request) {\r\n    Assert.notNull(request, &quot;request cannot be null&quot;);\r\n    var stateParameter = this.getStateParameter(request);\r\n    if (stateParameter == null) {\r\n      return null;\r\n    }\r\n    return this.getAuthorizationRequest(request, stateParameter);\r\n  }\r\n\r\n  @Override\r\n  public void saveAuthorizationRequest(OAuth2AuthorizationRequest authorizationRequest, HttpServletRequest request,\r\n                                       HttpServletResponse response) {\r\n    Assert.notNull(request, &quot;request cannot be null&quot;);\r\n    Assert.notNull(response, &quot;response cannot be null&quot;);\r\n    if (authorizationRequest == null) {\r\n      this.removeAuthorizationRequest(request, response);\r\n      return;\r\n    }\r\n    var state = authorizationRequest.getState();\r\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\r\n    Assert.hasText(state, &quot;authorizationRequest.state cannot be empty&quot;);\r\n    try {\r\n      // serialization of Auth2AuthorizationRequest to JSON works\r\n      cassandraTemplate.getCqlOperations().execute(&quot;insert into oauth2_requests (user_id,state,data) values (?,?,?)&quot;,\r\n        userId, state, objectMapper.writeValueAsString(authorizationRequest));\r\n    } catch (JsonProcessingException e) {\r\n      log.warn(&quot;Unable to save authorization request&quot;, e);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public OAuth2AuthorizationRequest removeAuthorizationRequest(HttpServletRequest request) {\r\n    Assert.notNull(request, &quot;request cannot be null&quot;);\r\n    var stateParameter = this.getStateParameter(request);\r\n    if (stateParameter == null) {\r\n      return null;\r\n    }\r\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\r\n    var originalRequest = this.getAuthorizationRequest(request, stateParameter);\r\n    cassandraTemplate.getCqlOperations().execute(&quot;delete from oauth2_requests where user_id=? and state=?&quot;,\r\n      userId, stateParameter);\r\n    return originalRequest;\r\n  }\r\n\r\n  private String getStateParameter(HttpServletRequest request) {\r\n    return request.getParameter(OAuth2ParameterNames.STATE);\r\n  }\r\n\r\n  private UUID getUserId(HttpServletRequest request) {\r\n    return UUID.fromString(request.getHeader(Constants.USER_ID));\r\n  }\r\n\r\n  private OAuth2AuthorizationRequest getAuthorizationRequest(HttpServletRequest request, String state) {\r\n    var userId = getUserId(request);\r\n    var jsonRequest = cassandraTemplate.getCqlOperations().queryForObject(\r\n      &quot;select data from oauth2_requests where user_id=? and state=?&quot;, String.class, userId, state);\r\n    if (StringUtils.isNotBlank(jsonRequest)) {\r\n      try {\r\n        // trying to mess with OAuth2ClientJackson2Module\r\n        var objectMapper = new Jackson2ObjectMapperBuilder().autoDetectFields(true)\r\n          .autoDetectGettersSetters(true)\r\n          .modules(new OAuth2ClientJackson2Module())\r\n          .visibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY)\r\n          .build();\r\n        return objectMapper.readValue(jsonRequest, OAuth2AuthorizationRequest.class);\r\n      } catch (JsonProcessingException e) {\r\n        log.warn(&quot;Error decoding authentication request&quot;, e);\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n```\r\n\r\nI get error when trying to deserialize JSON to OAuth2AuthorizationRequest:\r\n\r\n```\r\nMissing type id when trying to resolve subtype of [simple type, class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest]: missing type id property &#39;@class&#39;\r\n```\r\n\r\nWithout adding OAuth2ClientJackson2Module there is another error:\r\n\r\n```\r\nCannot construct instance of `org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationResponseType` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\n\r\nBy the way, OAuth2ClientJackson2Module seems never used in original filters.\r\n\r\nMaybe it&#39;s better to serialize this object Java way and store it as BLOB or do not store request in database but somewhere other.\r\n\r\nAnother part is the controller action:\r\n\r\n```java\r\n  // it had to be /apps/app_name/connect but in Spring OAuth2 Client it&#39;s hardcoded to append provider name at the end\r\n  @GetMapping(&quot;/apps/connect/app_name&quot;)\r\n  public void connect(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    userAppService.authorize(request, response, &quot;app_name&quot;);\r\n  }\r\n```\r\n\r\nTo get rid of filters which verify redirect URL and have many things hardcoded:\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserAppService {\r\n\r\n  private final HttpSecurity httpSecurity;\r\n  private final AuthenticationDetailsSource&lt;HttpServletRequest, ?&gt; authenticationDetailsSource = new WebAuthenticationDetailsSource();\r\n  private final AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository;\r\n  private final ClientRegistrationRepository clientRegistrationRepository;\r\n  private final OAuth2AuthorizedClientManager authorizedClientManager;\r\n  private final OAuth2AuthorizedClientRepository authorizedClientRepository;\r\n  private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n\r\n  public void authorize(HttpServletRequest request, HttpServletResponse response, String appName) throws IOException {\r\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\r\n    var authorizeRequest = OAuth2AuthorizeRequest\r\n      .withClientRegistrationId(appName)\r\n      .principal(UUIDPrincipal.fromUserId(userId))\r\n      .build();\r\n    if (isAuthorizationResponse(request)) {\r\n      var authorizationRequest = this.authorizationRequestRepository.loadAuthorizationRequest(request);\r\n      if (authorizationRequest != null) {\r\n        processAuthorizationRequest(request, response);\r\n      }\r\n    } else {\r\n      try {\r\n        OAuth2AuthorizedClient authorizedClient = authorizedClientManager.authorize(authorizeRequest);\r\n        if (authorizedClient != null) {\r\n          OAuth2AccessToken accessToken = authorizedClient.getAccessToken();\r\n          System.out.println(accessToken);\r\n        }\r\n      } catch (ClientAuthorizationException e) {\r\n        // in this URL provider name is appended at the end and no way to change this behavior\r\n        var authorizationRequestResolver = new DefaultOAuth2AuthorizationRequestResolver(clientRegistrationRepository,\r\n          &quot;/apps/connect&quot;);\r\n        var authorizationRequest = authorizationRequestResolver.resolve(request);\r\n        this.authorizationRequestRepository.saveAuthorizationRequest(authorizationRequest, request, response);\r\n        this.redirectStrategy.sendRedirect(request, response, authorizationRequest.getAuthorizationRequestUri());\r\n      }\r\n    }\r\n  }\r\n\r\n  private void processAuthorizationRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    var authorizationRequest = this.authorizationRequestRepository.removeAuthorizationRequest(request, response);\r\n    var registrationId = (String) authorizationRequest.getAttribute(OAuth2ParameterNames.REGISTRATION_ID);\r\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(registrationId);\r\n    var params = toMultiMap(request.getParameterMap());\r\n    var redirectUri = UrlUtils.buildFullRequestUrl(request);\r\n    var authorizationResponse = convert(params, redirectUri);\r\n    var authenticationRequest = new OAuth2AuthorizationCodeAuthenticationToken(\r\n      clientRegistration, new OAuth2AuthorizationExchange(authorizationRequest, authorizationResponse));\r\n    authenticationRequest.setDetails(this.authenticationDetailsSource.buildDetails(request));\r\n    OAuth2AuthorizationCodeAuthenticationToken authenticationResult;\r\n    try {\r\n      var authenticationManager = httpSecurity.getSharedObject(AuthenticationManager.class);\r\n      authenticationResult = (OAuth2AuthorizationCodeAuthenticationToken) authenticationManager\r\n        .authenticate(authenticationRequest);\r\n    } catch (OAuth2AuthorizationException ex) {\r\n      OAuth2Error error = ex.getError();\r\n      UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(authorizationRequest.getRedirectUri())\r\n        .queryParam(OAuth2ParameterNames.ERROR, error.getErrorCode());\r\n      if (!StringUtils.hasText(error.getDescription())) {\r\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_DESCRIPTION, error.getDescription());\r\n      }\r\n      if (!StringUtils.hasText(error.getUri())) {\r\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_URI, error.getUri());\r\n      }\r\n      this.redirectStrategy.sendRedirect(request, response, uriBuilder.build().encode().toString());\r\n      return;\r\n    }\r\n    // just copy-paste of original filter - trying to understand what&#39;s happening there\r\n    Authentication currentAuthentication = SecurityContextHolder.getContext().getAuthentication();\r\n    String principalName = (currentAuthentication != null) ? currentAuthentication.getName() : &quot;anonymousUser&quot;;\r\n    OAuth2AuthorizedClient authorizedClient = new OAuth2AuthorizedClient(\r\n      authenticationResult.getClientRegistration(), principalName, authenticationResult.getAccessToken(),\r\n      authenticationResult.getRefreshToken());\r\n    this.authorizedClientRepository.saveAuthorizedClient(authorizedClient, currentAuthentication, request,\r\n      response);\r\n    String redirectUrl = authorizationRequest.getRedirectUri();\r\n    this.redirectStrategy.sendRedirect(request, response, redirectUrl);\r\n  }\r\n\r\n  private static boolean isAuthorizationResponse(HttpServletRequest request) {\r\n    return isAuthorizationResponseSuccess(request) || isAuthorizationResponseError(request);\r\n  }\r\n\r\n  private static boolean isAuthorizationResponseSuccess(HttpServletRequest request) {\r\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.CODE))\r\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\r\n  }\r\n\r\n  private static boolean isAuthorizationResponseError(HttpServletRequest request) {\r\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.ERROR))\r\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\r\n  }\r\n\r\n  // copy paste - not tested this code yet\r\n  static MultiValueMap&lt;String, String&gt; toMultiMap(Map&lt;String, String[]&gt; map) {\r\n    MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;(map.size());\r\n    map.forEach((key, values) -&gt; {\r\n      if (values.length &gt; 0) {\r\n        for (String value : values) {\r\n          params.add(key, value);\r\n        }\r\n      }\r\n    });\r\n    return params;\r\n  }\r\n\r\n  static OAuth2AuthorizationResponse convert(MultiValueMap&lt;String, String&gt; request, String redirectUri) {\r\n    String code = request.getFirst(OAuth2ParameterNames.CODE);\r\n    String errorCode = request.getFirst(OAuth2ParameterNames.ERROR);\r\n    String state = request.getFirst(OAuth2ParameterNames.STATE);\r\n    if (StringUtils.hasText(code)) {\r\n      return OAuth2AuthorizationResponse.success(code).redirectUri(redirectUri).state(state).build();\r\n    }\r\n    String errorDescription = request.getFirst(OAuth2ParameterNames.ERROR_DESCRIPTION);\r\n    String errorUri = request.getFirst(OAuth2ParameterNames.ERROR_URI);\r\n    return OAuth2AuthorizationResponse.error(errorCode)\r\n      .redirectUri(redirectUri)\r\n      .errorDescription(errorDescription)\r\n      .errorUri(errorUri)\r\n      .state(state)\r\n      .build();\r\n  }\r\n\r\n}\r\n```\r\n\r\nClient service to stored authorized clients in database:\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic class ScyllaOAuth2AuthorizedClientService implements OAuth2AuthorizedClientService {\r\n\r\n  private final CassandraTemplate cassandraTemplate;\r\n  private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n  @Override\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public OAuth2AuthorizedClient loadAuthorizedClient(String clientRegistrationId, String principal) {\r\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\r\n    var userApp = cassandraTemplate.selectOneById(id, UserApp.class);\r\n    if (userApp != null) {\r\n      var clientRegistration = getClientRegistration(clientRegistrationId);\r\n      var accessToken = getAccessToken(userApp);\r\n      var refreshToken = getRefreshToken(userApp);\r\n      return new OAuth2AuthorizedClient(clientRegistration, principal, accessToken, refreshToken);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void saveAuthorizedClient(OAuth2AuthorizedClient authorizedClient, Authentication principal) {\r\n    Assert.notNull(authorizedClient, &quot;authorizedClient cannot be null&quot;);\r\n    Assert.notNull(principal, &quot;principal cannot be null&quot;);\r\n    var userApp = new UserApp();\r\n    userApp.setUserId((UUID) principal.getPrincipal());\r\n    userApp.setAppCode(authorizedClient.getClientRegistration().getClientId());\r\n    if (authorizedClient.getAccessToken() != null) {\r\n      userApp.setAccessToken(authorizedClient.getAccessToken().getTokenValue());\r\n      userApp.setAccessTokenType(OAuth2AccessToken.TokenType.BEARER.getValue());\r\n      userApp.setAccessTokenScopes(authorizedClient.getAccessToken().getScopes());\r\n      userApp.setAccessTokenIssuedAt(authorizedClient.getAccessToken().getIssuedAt());\r\n      userApp.setAccessTokenExpiresAt(authorizedClient.getAccessToken().getExpiresAt());\r\n    }\r\n    if (authorizedClient.getRefreshToken() != null) {\r\n      userApp.setRefreshToken(authorizedClient.getRefreshToken().getTokenValue());\r\n      userApp.setRefreshTokenIssuedAt(authorizedClient.getRefreshToken().getIssuedAt());\r\n      userApp.setRefreshTokenExpiresAt(authorizedClient.getRefreshToken().getExpiresAt());\r\n    }\r\n    cassandraTemplate.insert(userApp);\r\n  }\r\n\r\n  @Override\r\n  public void removeAuthorizedClient(String clientRegistrationId, String principal) {\r\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\r\n    cassandraTemplate.deleteById(id, UserApp.class);\r\n  }\r\n\r\n  private ClientRegistration getClientRegistration(String clientRegistrationId) {\r\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(clientRegistrationId);\r\n    if (clientRegistration == null) {\r\n      throw new DataRetrievalFailureException(\r\n        &quot;The ClientRegistration with id &#39;&quot; + clientRegistrationId + &quot;&#39; exists in the data source, &quot;\r\n          + &quot;however, it was not found in the ClientRegistrationRepository.&quot;);\r\n    }\r\n    return clientRegistration;\r\n  }\r\n\r\n  private OAuth2AccessToken getAccessToken(UserApp userApp) {\r\n    return new OAuth2AccessToken(\r\n      OAuth2AccessToken.TokenType.BEARER,\r\n      userApp.getAccessToken(),\r\n      userApp.getAccessTokenIssuedAt(),\r\n      userApp.getAccessTokenExpiresAt(),\r\n      userApp.getAccessTokenScopes());\r\n  }\r\n\r\n  private OAuth2RefreshToken getRefreshToken(UserApp userApp) {\r\n    return new OAuth2RefreshToken(userApp.getRefreshToken(), userApp.getRefreshTokenIssuedAt());\r\n  }\r\n}\r\n```\r\n\r\nToo much code overwrite. I need to make it as simple as possible.\r\n\r\nCurrently I&#39;m struggling with storing authorize request in database.\r\n\r\nHow to do it Spring way but to keep the app architecture given at the beginning of this question?\r\n\r\nAny way to configure OAuth2 Client without hardcoded URL like /oauth2/authorization/provider_name?\r\n\r\nMaybe it&#39;s better to do the whole OAuth2 flow client-side (within SPA) and the SPA should send access and request token to REST API (to store the tokens in order to be able to exchange data with external app)?","title":"How to use Spring OAuth2 Client in SPA and multi-node application?","body":"<p>I want to implement a feature that user connects his account with external applications (similar feature is in Facebook). User has to log in to external application and grant permission to access data by my application.</p>\n<p>Once user connected an external app, data will be exchanged in background using access and refresh tokens.</p>\n<p>Application architecture is:</p>\n<ul>\n<li>SPA front-end (Angular)</li>\n<li>REST API (Spring), multiple nodes</li>\n<li>ScyllaDB</li>\n<li>Envoy proxy (with JWT verification)</li>\n</ul>\n<p>The first idea is to use Spring OAuth2 Client. However, some changes need to be made:</p>\n<ul>\n<li>there is no Principal because JWT is verified by Envoy proxy and X-USER-ID header is added</li>\n<li>REST API is stateless and we shouldn't store authorization code in session</li>\n<li>even with sessions, there are multiple nodes and we need to share authorization code between nodes</li>\n<li>custom URL, e.g. /app_name/connect instead of /oauth2/authorization/app_name</li>\n<li>redirect URL may be invalid (but it's verified by Spring's filter)</li>\n</ul>\n<p>How this could work:</p>\n<ul>\n<li>user click &quot;Connect with app&quot; in SPA</li>\n<li>SPA redirects user to /oauth2/authorization/app_name (or custom URL)</li>\n<li>Spring redirects user to external app's authentication server</li>\n<li>user authenticates and grants permissions</li>\n<li>external app redirects user back to Spring (or straight to SPA?)</li>\n<li>Spring redirects user back to SPA (or SPA sends access token to REST API?)</li>\n</ul>\n<p>Despite Spring Security components can be replaced, many of them are coupled and you need to rewrite OAuth2 Client flow almost from scratch. Maybe I'm doing something wrong and it can be achieved easier.</p>\n<p>What I already did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n      .cors().and()\n      .csrf().disable()\n      .authorizeRequests().anyRequest().permitAll().and()\n      .oauth2Client(); // get rid of these two filters?\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class OAuth2ClientConfig {\n\n  private final CassandraTemplate cassandraTemplate;\n\n  // overriding original client service - we need to store tokens in database\n  @Bean\n  public OAuth2AuthorizedClientService authorizedClientService(\n    CassandraTemplate cassandraTemplate,\n    ClientRegistrationRepository clientRegistrationRepository) {\n    return new ScyllaOAuth2AuthorizedClientService(cassandraTemplate, clientRegistrationRepository);\n  }\n\n  // configure client provider to use authorization code with refresh token\n  @Bean\n  public OAuth2AuthorizedClientManager authorizedClientManager(\n    ClientRegistrationRepository clientRegistrationRepository,\n    OAuth2AuthorizedClientRepository authorizedClientRepository) {\n\n    var authorizedClientProvider =\n      OAuth2AuthorizedClientProviderBuilder.builder()\n        .authorizationCode()\n        .refreshToken()\n        .build();\n\n    var authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(\n      clientRegistrationRepository,\n      authorizedClientRepository);\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n    return authorizedClientManager;\n  }\n\n  // the specs recommend to use WebClient for exchanging data instead of RestTemplate\n  @Bean\n  public WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\n    ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\n      new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n    return WebClient.builder()\n      .apply(oauth2Client.oauth2Configuration())\n      .build();\n  }\n\n  // override request repository - and I'm stuck there\n  @Bean\n  public AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository() {\n    return new ScyllaOAuth2AuthorizationRequestRepository(cassandraTemplate);\n  }\n\n}\n</code></pre>\n<p>Because there are multiple nodes of REST API, we can't use sessions. We need to store request somewhere, e.g. ScyllaDB, Redis, Hazelcast, etc. I decided to store it as JSON in ScyllaDB but I ran into trouble.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\npublic final class ScyllaOAuth2AuthorizationRequestRepository implements AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; {\n\n  private final CassandraTemplate cassandraTemplate;\n  private final ObjectMapper objectMapper = new ObjectMapper();\n\n  @Override\n  public OAuth2AuthorizationRequest loadAuthorizationRequest(HttpServletRequest request) {\n    Assert.notNull(request, &quot;request cannot be null&quot;);\n    var stateParameter = this.getStateParameter(request);\n    if (stateParameter == null) {\n      return null;\n    }\n    return this.getAuthorizationRequest(request, stateParameter);\n  }\n\n  @Override\n  public void saveAuthorizationRequest(OAuth2AuthorizationRequest authorizationRequest, HttpServletRequest request,\n                                       HttpServletResponse response) {\n    Assert.notNull(request, &quot;request cannot be null&quot;);\n    Assert.notNull(response, &quot;response cannot be null&quot;);\n    if (authorizationRequest == null) {\n      this.removeAuthorizationRequest(request, response);\n      return;\n    }\n    var state = authorizationRequest.getState();\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\n    Assert.hasText(state, &quot;authorizationRequest.state cannot be empty&quot;);\n    try {\n      // serialization of Auth2AuthorizationRequest to JSON works\n      cassandraTemplate.getCqlOperations().execute(&quot;insert into oauth2_requests (user_id,state,data) values (?,?,?)&quot;,\n        userId, state, objectMapper.writeValueAsString(authorizationRequest));\n    } catch (JsonProcessingException e) {\n      log.warn(&quot;Unable to save authorization request&quot;, e);\n    }\n  }\n\n  @Override\n  public OAuth2AuthorizationRequest removeAuthorizationRequest(HttpServletRequest request) {\n    Assert.notNull(request, &quot;request cannot be null&quot;);\n    var stateParameter = this.getStateParameter(request);\n    if (stateParameter == null) {\n      return null;\n    }\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\n    var originalRequest = this.getAuthorizationRequest(request, stateParameter);\n    cassandraTemplate.getCqlOperations().execute(&quot;delete from oauth2_requests where user_id=? and state=?&quot;,\n      userId, stateParameter);\n    return originalRequest;\n  }\n\n  private String getStateParameter(HttpServletRequest request) {\n    return request.getParameter(OAuth2ParameterNames.STATE);\n  }\n\n  private UUID getUserId(HttpServletRequest request) {\n    return UUID.fromString(request.getHeader(Constants.USER_ID));\n  }\n\n  private OAuth2AuthorizationRequest getAuthorizationRequest(HttpServletRequest request, String state) {\n    var userId = getUserId(request);\n    var jsonRequest = cassandraTemplate.getCqlOperations().queryForObject(\n      &quot;select data from oauth2_requests where user_id=? and state=?&quot;, String.class, userId, state);\n    if (StringUtils.isNotBlank(jsonRequest)) {\n      try {\n        // trying to mess with OAuth2ClientJackson2Module\n        var objectMapper = new Jackson2ObjectMapperBuilder().autoDetectFields(true)\n          .autoDetectGettersSetters(true)\n          .modules(new OAuth2ClientJackson2Module())\n          .visibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY)\n          .build();\n        return objectMapper.readValue(jsonRequest, OAuth2AuthorizationRequest.class);\n      } catch (JsonProcessingException e) {\n        log.warn(&quot;Error decoding authentication request&quot;, e);\n      }\n    }\n    return null;\n  }\n\n}\n</code></pre>\n<p>I get error when trying to deserialize JSON to OAuth2AuthorizationRequest:</p>\n<pre><code>Missing type id when trying to resolve subtype of [simple type, class org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest]: missing type id property '@class'\n</code></pre>\n<p>Without adding OAuth2ClientJackson2Module there is another error:</p>\n<pre><code>Cannot construct instance of `org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationResponseType` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<p>By the way, OAuth2ClientJackson2Module seems never used in original filters.</p>\n<p>Maybe it's better to serialize this object Java way and store it as BLOB or do not store request in database but somewhere other.</p>\n<p>Another part is the controller action:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // it had to be /apps/app_name/connect but in Spring OAuth2 Client it's hardcoded to append provider name at the end\n  @GetMapping(&quot;/apps/connect/app_name&quot;)\n  public void connect(HttpServletRequest request, HttpServletResponse response) throws IOException {\n    userAppService.authorize(request, response, &quot;app_name&quot;);\n  }\n</code></pre>\n<p>To get rid of filters which verify redirect URL and have many things hardcoded:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class UserAppService {\n\n  private final HttpSecurity httpSecurity;\n  private final AuthenticationDetailsSource&lt;HttpServletRequest, ?&gt; authenticationDetailsSource = new WebAuthenticationDetailsSource();\n  private final AuthorizationRequestRepository&lt;OAuth2AuthorizationRequest&gt; authorizationRequestRepository;\n  private final ClientRegistrationRepository clientRegistrationRepository;\n  private final OAuth2AuthorizedClientManager authorizedClientManager;\n  private final OAuth2AuthorizedClientRepository authorizedClientRepository;\n  private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n  public void authorize(HttpServletRequest request, HttpServletResponse response, String appName) throws IOException {\n    var userId = UUID.fromString(request.getHeader(Constants.USER_ID));\n    var authorizeRequest = OAuth2AuthorizeRequest\n      .withClientRegistrationId(appName)\n      .principal(UUIDPrincipal.fromUserId(userId))\n      .build();\n    if (isAuthorizationResponse(request)) {\n      var authorizationRequest = this.authorizationRequestRepository.loadAuthorizationRequest(request);\n      if (authorizationRequest != null) {\n        processAuthorizationRequest(request, response);\n      }\n    } else {\n      try {\n        OAuth2AuthorizedClient authorizedClient = authorizedClientManager.authorize(authorizeRequest);\n        if (authorizedClient != null) {\n          OAuth2AccessToken accessToken = authorizedClient.getAccessToken();\n          System.out.println(accessToken);\n        }\n      } catch (ClientAuthorizationException e) {\n        // in this URL provider name is appended at the end and no way to change this behavior\n        var authorizationRequestResolver = new DefaultOAuth2AuthorizationRequestResolver(clientRegistrationRepository,\n          &quot;/apps/connect&quot;);\n        var authorizationRequest = authorizationRequestResolver.resolve(request);\n        this.authorizationRequestRepository.saveAuthorizationRequest(authorizationRequest, request, response);\n        this.redirectStrategy.sendRedirect(request, response, authorizationRequest.getAuthorizationRequestUri());\n      }\n    }\n  }\n\n  private void processAuthorizationRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\n    var authorizationRequest = this.authorizationRequestRepository.removeAuthorizationRequest(request, response);\n    var registrationId = (String) authorizationRequest.getAttribute(OAuth2ParameterNames.REGISTRATION_ID);\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(registrationId);\n    var params = toMultiMap(request.getParameterMap());\n    var redirectUri = UrlUtils.buildFullRequestUrl(request);\n    var authorizationResponse = convert(params, redirectUri);\n    var authenticationRequest = new OAuth2AuthorizationCodeAuthenticationToken(\n      clientRegistration, new OAuth2AuthorizationExchange(authorizationRequest, authorizationResponse));\n    authenticationRequest.setDetails(this.authenticationDetailsSource.buildDetails(request));\n    OAuth2AuthorizationCodeAuthenticationToken authenticationResult;\n    try {\n      var authenticationManager = httpSecurity.getSharedObject(AuthenticationManager.class);\n      authenticationResult = (OAuth2AuthorizationCodeAuthenticationToken) authenticationManager\n        .authenticate(authenticationRequest);\n    } catch (OAuth2AuthorizationException ex) {\n      OAuth2Error error = ex.getError();\n      UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(authorizationRequest.getRedirectUri())\n        .queryParam(OAuth2ParameterNames.ERROR, error.getErrorCode());\n      if (!StringUtils.hasText(error.getDescription())) {\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_DESCRIPTION, error.getDescription());\n      }\n      if (!StringUtils.hasText(error.getUri())) {\n        uriBuilder.queryParam(OAuth2ParameterNames.ERROR_URI, error.getUri());\n      }\n      this.redirectStrategy.sendRedirect(request, response, uriBuilder.build().encode().toString());\n      return;\n    }\n    // just copy-paste of original filter - trying to understand what's happening there\n    Authentication currentAuthentication = SecurityContextHolder.getContext().getAuthentication();\n    String principalName = (currentAuthentication != null) ? currentAuthentication.getName() : &quot;anonymousUser&quot;;\n    OAuth2AuthorizedClient authorizedClient = new OAuth2AuthorizedClient(\n      authenticationResult.getClientRegistration(), principalName, authenticationResult.getAccessToken(),\n      authenticationResult.getRefreshToken());\n    this.authorizedClientRepository.saveAuthorizedClient(authorizedClient, currentAuthentication, request,\n      response);\n    String redirectUrl = authorizationRequest.getRedirectUri();\n    this.redirectStrategy.sendRedirect(request, response, redirectUrl);\n  }\n\n  private static boolean isAuthorizationResponse(HttpServletRequest request) {\n    return isAuthorizationResponseSuccess(request) || isAuthorizationResponseError(request);\n  }\n\n  private static boolean isAuthorizationResponseSuccess(HttpServletRequest request) {\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.CODE))\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\n  }\n\n  private static boolean isAuthorizationResponseError(HttpServletRequest request) {\n    return StringUtils.hasText(request.getParameter(OAuth2ParameterNames.ERROR))\n      &amp;&amp; StringUtils.hasText(request.getParameter(OAuth2ParameterNames.STATE));\n  }\n\n  // copy paste - not tested this code yet\n  static MultiValueMap&lt;String, String&gt; toMultiMap(Map&lt;String, String[]&gt; map) {\n    MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;(map.size());\n    map.forEach((key, values) -&gt; {\n      if (values.length &gt; 0) {\n        for (String value : values) {\n          params.add(key, value);\n        }\n      }\n    });\n    return params;\n  }\n\n  static OAuth2AuthorizationResponse convert(MultiValueMap&lt;String, String&gt; request, String redirectUri) {\n    String code = request.getFirst(OAuth2ParameterNames.CODE);\n    String errorCode = request.getFirst(OAuth2ParameterNames.ERROR);\n    String state = request.getFirst(OAuth2ParameterNames.STATE);\n    if (StringUtils.hasText(code)) {\n      return OAuth2AuthorizationResponse.success(code).redirectUri(redirectUri).state(state).build();\n    }\n    String errorDescription = request.getFirst(OAuth2ParameterNames.ERROR_DESCRIPTION);\n    String errorUri = request.getFirst(OAuth2ParameterNames.ERROR_URI);\n    return OAuth2AuthorizationResponse.error(errorCode)\n      .redirectUri(redirectUri)\n      .errorDescription(errorDescription)\n      .errorUri(errorUri)\n      .state(state)\n      .build();\n  }\n\n}\n</code></pre>\n<p>Client service to stored authorized clients in database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class ScyllaOAuth2AuthorizedClientService implements OAuth2AuthorizedClientService {\n\n  private final CassandraTemplate cassandraTemplate;\n  private final ClientRegistrationRepository clientRegistrationRepository;\n\n  @Override\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public OAuth2AuthorizedClient loadAuthorizedClient(String clientRegistrationId, String principal) {\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\n    var userApp = cassandraTemplate.selectOneById(id, UserApp.class);\n    if (userApp != null) {\n      var clientRegistration = getClientRegistration(clientRegistrationId);\n      var accessToken = getAccessToken(userApp);\n      var refreshToken = getRefreshToken(userApp);\n      return new OAuth2AuthorizedClient(clientRegistration, principal, accessToken, refreshToken);\n    } else {\n      return null;\n    }\n  }\n\n  @Override\n  public void saveAuthorizedClient(OAuth2AuthorizedClient authorizedClient, Authentication principal) {\n    Assert.notNull(authorizedClient, &quot;authorizedClient cannot be null&quot;);\n    Assert.notNull(principal, &quot;principal cannot be null&quot;);\n    var userApp = new UserApp();\n    userApp.setUserId((UUID) principal.getPrincipal());\n    userApp.setAppCode(authorizedClient.getClientRegistration().getClientId());\n    if (authorizedClient.getAccessToken() != null) {\n      userApp.setAccessToken(authorizedClient.getAccessToken().getTokenValue());\n      userApp.setAccessTokenType(OAuth2AccessToken.TokenType.BEARER.getValue());\n      userApp.setAccessTokenScopes(authorizedClient.getAccessToken().getScopes());\n      userApp.setAccessTokenIssuedAt(authorizedClient.getAccessToken().getIssuedAt());\n      userApp.setAccessTokenExpiresAt(authorizedClient.getAccessToken().getExpiresAt());\n    }\n    if (authorizedClient.getRefreshToken() != null) {\n      userApp.setRefreshToken(authorizedClient.getRefreshToken().getTokenValue());\n      userApp.setRefreshTokenIssuedAt(authorizedClient.getRefreshToken().getIssuedAt());\n      userApp.setRefreshTokenExpiresAt(authorizedClient.getRefreshToken().getExpiresAt());\n    }\n    cassandraTemplate.insert(userApp);\n  }\n\n  @Override\n  public void removeAuthorizedClient(String clientRegistrationId, String principal) {\n    var id = BasicMapId.id(&quot;userId&quot;, principal).with(&quot;appCode&quot;, clientRegistrationId);\n    cassandraTemplate.deleteById(id, UserApp.class);\n  }\n\n  private ClientRegistration getClientRegistration(String clientRegistrationId) {\n    var clientRegistration = this.clientRegistrationRepository.findByRegistrationId(clientRegistrationId);\n    if (clientRegistration == null) {\n      throw new DataRetrievalFailureException(\n        &quot;The ClientRegistration with id '&quot; + clientRegistrationId + &quot;' exists in the data source, &quot;\n          + &quot;however, it was not found in the ClientRegistrationRepository.&quot;);\n    }\n    return clientRegistration;\n  }\n\n  private OAuth2AccessToken getAccessToken(UserApp userApp) {\n    return new OAuth2AccessToken(\n      OAuth2AccessToken.TokenType.BEARER,\n      userApp.getAccessToken(),\n      userApp.getAccessTokenIssuedAt(),\n      userApp.getAccessTokenExpiresAt(),\n      userApp.getAccessTokenScopes());\n  }\n\n  private OAuth2RefreshToken getRefreshToken(UserApp userApp) {\n    return new OAuth2RefreshToken(userApp.getRefreshToken(), userApp.getRefreshTokenIssuedAt());\n  }\n}\n</code></pre>\n<p>Too much code overwrite. I need to make it as simple as possible.</p>\n<p>Currently I'm struggling with storing authorize request in database.</p>\n<p>How to do it Spring way but to keep the app architecture given at the beginning of this question?</p>\n<p>Any way to configure OAuth2 Client without hardcoded URL like /oauth2/authorization/provider_name?</p>\n<p>Maybe it's better to do the whole OAuth2 flow client-side (within SPA) and the SPA should send access and request token to REST API (to store the tokens in order to be able to exchange data with external app)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669765025,"post_id":74621344,"comment_id":131716384,"body_markdown":"The terrible `java.sql.Timestamp` class was replaced years ago by the modern *java.time* classes defined in JSR 310. Furthermore, for benchmarking you should be using `System.nanoTime()` rather than date-time classes.","body":"The terrible <code>java.sql.Timestamp</code> class was replaced years ago by the modern <i>java.time</i> classes defined in JSR 310. Furthermore, for benchmarking you should be using <code>System.nanoTime()</code> rather than date-time classes."},{"owner":{"account_id":17019221,"reputation":87,"user_id":12312246,"display_name":"behanep757"},"score":0,"creation_date":1669765725,"post_id":74621344,"comment_id":131716509,"body_markdown":"@BasilBourque both using `System.nanoTime()` standalone and subtracting the 2 values and `java.time.Instant` combined with `java.time.Duration` seem to be working correctly. However, the `System.nanoTime()` seems to be more consistent, and _java.time_ seemed to be more for comparing dates, so I don&#39;t know how accurate they are in the nano seconds. Which one should I be using (is more accurate)?","body":"@BasilBourque both using <code>System.nanoTime()</code> standalone and subtracting the 2 values and <code>java.time.Instant</code> combined with <code>java.time.Duration</code> seem to be working correctly. However, the <code>System.nanoTime()</code> seems to be more consistent, and <i>java.time</i> seemed to be more for comparing dates, so I don&#39;t know how accurate they are in the nano seconds. Which one should I be using (is more accurate)?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669765827,"post_id":74621344,"comment_id":131716528,"body_markdown":"I deleted my Comment. I was having a brain spasm. Obviously subtracting a later and greater count of `System.nanoTime` from an earlier lesser one will always return a negative. My bad.","body":"I deleted my Comment. I was having a brain spasm. Obviously subtracting a later and greater count of <code>System.nanoTime</code> from an earlier lesser one will always return a negative. My bad."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669766034,"post_id":74621344,"comment_id":131716559,"body_markdown":"You can indeed use `Duration` class if you wish, though it adds no values for a small number of nanoseconds. The `Duration` class holds a count of whole seconds plus a count of nanoseconds for a fractional second. See [the source code](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/Duration.java). You should get same results from `endNano - startNano` as from `Duration.ofNanos( endNano - startNano ).toNanos()`","body":"You can indeed use <code>Duration</code> class if you wish, though it adds no values for a small number of nanoseconds. The <code>Duration</code> class holds a count of whole seconds plus a count of nanoseconds for a fractional second. See <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/Duration.java\" rel=\"nofollow noreferrer\">the source code</a>. You should get same results from <code>endNano - startNano</code> as from <code>Duration.ofNanos( endNano - startNano ).toNanos()</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669766393,"post_id":74621344,"comment_id":131716622,"body_markdown":"As @user16320675 says, the `getNano` method accesses the internally-stored fractional second kept as a count of nanoseconds. The existence of this `getNano` (&amp; `getSeconds`)  method is one of the few flaws in the design of the otherwise brilliant *java.time* classes. Both `getNano` &amp; `getSeconds` methods unnecessarily reveal internal implementation details, breaking encapsulation. They really should be deprecated. Avoid the `getNano` method, and instead use only the `to…` methods: `toNanos()` for total length (if not exceeding the limit of a `long`) and `toNanosPart` for fractional second.","body":"As @user16320675 says, the <code>getNano</code> method accesses the internally-stored fractional second kept as a count of nanoseconds. The existence of this <code>getNano</code> (&amp; <code>getSeconds</code>)  method is one of the few flaws in the design of the otherwise brilliant <i>java.time</i> classes. Both <code>getNano</code> &amp; <code>getSeconds</code> methods unnecessarily reveal internal implementation details, breaking encapsulation. They really should be deprecated. Avoid the <code>getNano</code> method, and instead use only the <code>to…</code> methods: <code>toNanos()</code> for total length (if not exceeding the limit of a <code>long</code>) and <code>toNanosPart</code> for fractional second."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1669766905,"post_id":74621344,"comment_id":131716701,"body_markdown":"It&#39;s quite possible for `System.currentTimeMillis` to go backwards as it corrects for clock inaccuracy.","body":"It&#39;s quite possible for <code>System.currentTimeMillis</code> to go backwards as it corrects for clock inaccuracy."}],"owner":{"account_id":17019221,"reputation":87,"user_id":12312246,"display_name":"behanep757"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1669764467,"answer_count":0,"score":0,"last_activity_date":1669765748,"creation_date":1669764322,"question_id":74621344,"body_markdown":"I&#39;m trying to see how long a snippet of codes takes to execute, however, as mentioned in the title, I get a negative value returned in the terminal.\r\n\r\nI&#39;ve searched stack overflow for this problem, and there were multiple questions the exact same of mine [(1)][1] [(2)][2], and all of them had the same answers: The clock counters on the different CPU cores could slightly differ from each other, resulting in this strange behavior.\r\n\r\nHowever, these answers were from back in 2010, and since then both windows and java have developed a lot. Since this issue was already fixed back in 2010 on linux, I thought maybe this was also fixed on windows 10 now and my issue might come from a different problem.\r\n\r\nThat&#39;s why I&#39;ve created this new thread, since there might be a new/different solution.\r\n\r\nI&#39;m using windows 10 and openjdk-19, and am using the following code\r\n\r\n    import java.sql.Timestamp;\r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            // gets the time in the beginning\r\n            Timestamp begin = new Timestamp(System.currentTimeMillis());\r\n            // assigns the number of iterations in the for loop and o to zero\r\n            long times = 1000000000;\r\n            int o = 0;\r\n            // keeps adding 1 to o for &quot;times&quot; times\r\n            for (int i = 0; i &lt; times; i++) {\r\n                o++;\r\n            }\r\n            // prints the result of o\r\n            System.out.println(o);\r\n            // get the end time\r\n            Timestamp end = new Timestamp(System.currentTimeMillis());\r\n            // compare the 2 times and print it out in milliseconds\r\n            System.out.println((end.getNanos() - begin.getNanos()) / 1000000);\r\n        }\r\n    }\r\n\r\nand this is an example of an unexpected result:\r\n\r\n```\r\n1000000000\r\n-298\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nEDIT:\r\n\r\nThe question has been marked as duplicate, where the answer indicates that ```System.currentTimeMillis()``` causes a +- 15ms difference, but this doesn&#39;t answer the fact that it becomes negative and the difference is larger than what was said. Further more, they say to use ```System.nanoTime()``` instead, but this also causes negative results, and only gives numbers in the hundreds like 300 or -200.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7866206/why-i-get-a-negative-elapsed-time-using-system-nanotime\r\n  [2]: https://stackoverflow.com/questions/3274892/why-is-my-system-nanotime-broken","title":"elapsed times returns negative value","body":"<p>I'm trying to see how long a snippet of codes takes to execute, however, as mentioned in the title, I get a negative value returned in the terminal.</p>\n<p>I've searched stack overflow for this problem, and there were multiple questions the exact same of mine <a href=\"https://stackoverflow.com/questions/7866206/why-i-get-a-negative-elapsed-time-using-system-nanotime\">(1)</a> <a href=\"https://stackoverflow.com/questions/3274892/why-is-my-system-nanotime-broken\">(2)</a>, and all of them had the same answers: The clock counters on the different CPU cores could slightly differ from each other, resulting in this strange behavior.</p>\n<p>However, these answers were from back in 2010, and since then both windows and java have developed a lot. Since this issue was already fixed back in 2010 on linux, I thought maybe this was also fixed on windows 10 now and my issue might come from a different problem.</p>\n<p>That's why I've created this new thread, since there might be a new/different solution.</p>\n<p>I'm using windows 10 and openjdk-19, and am using the following code</p>\n<pre><code>import java.sql.Timestamp;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // gets the time in the beginning\n        Timestamp begin = new Timestamp(System.currentTimeMillis());\n        // assigns the number of iterations in the for loop and o to zero\n        long times = 1000000000;\n        int o = 0;\n        // keeps adding 1 to o for &quot;times&quot; times\n        for (int i = 0; i &lt; times; i++) {\n            o++;\n        }\n        // prints the result of o\n        System.out.println(o);\n        // get the end time\n        Timestamp end = new Timestamp(System.currentTimeMillis());\n        // compare the 2 times and print it out in milliseconds\n        System.out.println((end.getNanos() - begin.getNanos()) / 1000000);\n    }\n}\n</code></pre>\n<p>and this is an example of an unexpected result:</p>\n<pre><code>1000000000\n-298\n\nProcess finished with exit code 0\n</code></pre>\n<p>EDIT:</p>\n<p>The question has been marked as duplicate, where the answer indicates that <code>System.currentTimeMillis()</code> causes a +- 15ms difference, but this doesn't answer the fact that it becomes negative and the difference is larger than what was said. Further more, they say to use <code>System.nanoTime()</code> instead, but this also causes negative results, and only gives numbers in the hundreds like 300 or -200.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1669763772,"post_id":74621272,"comment_id":131716153,"body_markdown":"? `private int x; private int y;` ? and then `myArray[x][y]`, ... perhaps. I&#39;m not really sure what you&#39;re asking.","body":"? <code>private int x; private int y;</code> ? and then <code>myArray[x][y]</code>, ... perhaps. I&#39;m not really sure what you&#39;re asking."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1669768061,"post_id":74621272,"comment_id":131716872,"body_markdown":"This sounds like an [XY Problem](http://xyproblem.info)","body":"This sounds like an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669769414,"post_id":74621272,"comment_id":131717094,"body_markdown":"@JimGarrison: agree, one that would benefit from inclusion of more key information","body":"@JimGarrison: agree, one that would benefit from inclusion of more key information"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669764688,"creation_date":1669763977,"answer_id":74621310,"question_id":74621272,"body_markdown":"# Write a class\r\n\r\nWrite a class to represent the coordinate location within your matrix.\r\n\r\nUse [records][1] to declare a class whose purpose is to communicate data transparently and immutably. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`.\r\n\r\n    record MatrixCoordinate( int rowIndex , int columnIndex ) { }\r\n\r\nInstantiate like any class.\r\n\r\n    MatrixCoordinate mc = new MatrixCoordinate( 1 , 2 );\r\n\r\nCollect such objects for multiple coordinates.\r\n\r\n```java\r\nList &lt; MatrixCoordinate &gt; coordinates =\r\n        List.of(\r\n                new MatrixCoordinate( 1 , 2 ) ,\r\n                new MatrixCoordinate( 0 , 1 )\r\n        );\r\n```\r\n\r\nTo access the coordinates, call the implicitly defined accessor (getter) methods. The accessor name by default is the name of the field property.\r\n\r\nComplete example.\r\n\r\n```java\r\npackage work.basil.example.recs;\r\n\r\nimport java.util.List;\r\n\r\npublic class App2\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        record MatrixCoordinate( int rowIndex , int columnIndex ) { }\r\n        List &lt; MatrixCoordinate &gt; coordinates =\r\n                List.of(\r\n                        new MatrixCoordinate( 1 , 2 ) ,\r\n                        new MatrixCoordinate( 0 , 1 )\r\n                );\r\n\r\n        int[][] arr =\r\n                {\r\n                        { 1 , 2 , 3 } ,\r\n                        { 4 , 3 , 6 } ,\r\n                        { 7 , 8 , 9 }\r\n                };\r\n\r\n        for ( MatrixCoordinate coordinate : coordinates )\r\n        {\r\n            int x = arr[ coordinate.rowIndex ][ coordinate.columnIndex ];\r\n            System.out.println( coordinate + &quot; = &quot; + x );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nMatrixCoordinate[rowIndex=1, columnIndex=2] = 6\r\nMatrixCoordinate[rowIndex=0, columnIndex=1] = 2\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"Separating 2d array value into separate variables","body":"<h1>Write a class</h1>\n<p>Write a class to represent the coordinate location within your matrix.</p>\n<p>Use <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a> to declare a class whose purpose is to communicate data transparently and immutably. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre><code>record MatrixCoordinate( int rowIndex , int columnIndex ) { }\n</code></pre>\n<p>Instantiate like any class.</p>\n<pre><code>MatrixCoordinate mc = new MatrixCoordinate( 1 , 2 );\n</code></pre>\n<p>Collect such objects for multiple coordinates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; MatrixCoordinate &gt; coordinates =\n        List.of(\n                new MatrixCoordinate( 1 , 2 ) ,\n                new MatrixCoordinate( 0 , 1 )\n        );\n</code></pre>\n<p>To access the coordinates, call the implicitly defined accessor (getter) methods. The accessor name by default is the name of the field property.</p>\n<p>Complete example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.recs;\n\nimport java.util.List;\n\npublic class App2\n{\n    public static void main ( String[] args )\n    {\n        record MatrixCoordinate( int rowIndex , int columnIndex ) { }\n        List &lt; MatrixCoordinate &gt; coordinates =\n                List.of(\n                        new MatrixCoordinate( 1 , 2 ) ,\n                        new MatrixCoordinate( 0 , 1 )\n                );\n\n        int[][] arr =\n                {\n                        { 1 , 2 , 3 } ,\n                        { 4 , 3 , 6 } ,\n                        { 7 , 8 , 9 }\n                };\n\n        for ( MatrixCoordinate coordinate : coordinates )\n        {\n            int x = arr[ coordinate.rowIndex ][ coordinate.columnIndex ];\n            System.out.println( coordinate + &quot; = &quot; + x );\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>MatrixCoordinate[rowIndex=1, columnIndex=2] = 6\nMatrixCoordinate[rowIndex=0, columnIndex=1] = 2\n</code></pre>\n"}],"owner":{"account_id":16304422,"reputation":166,"user_id":11774730,"display_name":"Benjamin McDowell"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1669778357,"answer_count":1,"score":-3,"last_activity_date":1669764688,"creation_date":1669763555,"question_id":74621272,"body_markdown":"I have a 2D array in Java.\r\n\r\nFor example, ```[[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;],[&#39;d&#39;,&#39;e&#39;,&#39;f&#39;],[&#39;g&#39;,&#39;h&#39;,&#39;i&#39;]].```\r\n\r\nAnd let&#39;s say I wanted to access element `&#39;f&#39;` which would be represented as element ```[1][2]```.\r\n\r\nHow would I split the `1` and `2` up so  that they can be stored in separate variables (e.g. `int x` and `int y`)?","title":"Separating 2d array value into separate variables","body":"<p>I have a 2D array in Java.</p>\n<p>For example, <code>[['a','b','c'],['d','e','f'],['g','h','i']].</code></p>\n<p>And let's say I wanted to access element <code>'f'</code> which would be represented as element <code>[1][2]</code>.</p>\n<p>How would I split the <code>1</code> and <code>2</code> up so  that they can be stored in separate variables (e.g. <code>int x</code> and <code>int y</code>)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":254596,"reputation":20919,"user_id":534109,"display_name":"Tieson T."},"score":0,"creation_date":1304658969,"post_id":5907037,"comment_id":6799650,"body_markdown":"So what steps have you previously taken to solve this yourself?","body":"So what steps have you previously taken to solve this yourself?"},{"owner":{"account_id":162132,"reputation":95999,"user_id":383402,"accept_rate":60,"display_name":"Borealid"},"score":6,"creation_date":1304659182,"post_id":5907037,"comment_id":6799679,"body_markdown":"I think your connection timed out. That&#39;s what it looks like to me.","body":"I think your connection timed out. That&#39;s what it looks like to me."},{"owner":{"account_id":272537,"reputation":2753,"user_id":563673,"accept_rate":43,"display_name":"Ankit"},"score":0,"creation_date":1304659483,"post_id":5907037,"comment_id":6799732,"body_markdown":"Just ping the site https://www.verisign.com/ and  see you can connect or not, or is it using much time to connect.","body":"Just ping the site <a href=\"https://www.verisign.com/\" rel=\"nofollow noreferrer\">verisign.com</a> and  see you can connect or not, or is it using much time to connect."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1669763746,"creation_date":1304660481,"answer_id":5907240,"question_id":5907037,"body_markdown":"We can&#39;t diagnose your networks for you.  You need to do it yourself, or get your local admins to look at.  \r\n\r\nThings you should check **before** you bug your admins:\r\n\r\n  - can you `ping` the host?\r\n  - can you connect to `http://www.verisign.com` using a web browser?\r\n  - can you connect to `https://www.verisign.com` using a web browser?\r\n  - can you connect to `http://www.verisign.com` using your program?\r\n  - can you connect to *anything* using your program?\r\n\r\nThe chances are that your problem is firewall related.  My first guess would be that you don&#39;t have the correct environment variables or Java system properties set to tell the JVM to use a local proxy server for outgoing HTTP / HTTPS requests.  \r\n\r\nIf it is not a problem with your settings, you will need to get help from someone local who can help you diagnose the problem.","title":"Connection timed out. Why?","body":"<p>We can't diagnose your networks for you.  You need to do it yourself, or get your local admins to look at.</p>\n<p>Things you should check <strong>before</strong> you bug your admins:</p>\n<ul>\n<li>can you <code>ping</code> the host?</li>\n<li>can you connect to <code>http://www.verisign.com</code> using a web browser?</li>\n<li>can you connect to <code>https://www.verisign.com</code> using a web browser?</li>\n<li>can you connect to <code>http://www.verisign.com</code> using your program?</li>\n<li>can you connect to <em>anything</em> using your program?</li>\n</ul>\n<p>The chances are that your problem is firewall related.  My first guess would be that you don't have the correct environment variables or Java system properties set to tell the JVM to use a local proxy server for outgoing HTTP / HTTPS requests.</p>\n<p>If it is not a problem with your settings, you will need to get help from someone local who can help you diagnose the problem.</p>\n"}],"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28742,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1674720378,"accepted_answer_id":5907240,"answer_count":1,"score":6,"last_activity_date":1669763746,"creation_date":1304658815,"question_id":5907037,"body_markdown":"I get an exception when I run this code. Why?\r\n\r\n\r\n&gt;Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class MainClass {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;java.protocol.handler.pkgs&quot;, &quot;com.sun.net.ssl.internal.www.protocol&quot;);\r\n    \r\n        URL url = new URL(&quot;https://www.verisign.com/&quot;);\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\r\n    \r\n        String line;\r\n        while ((line = in.readLine()) != null) {\r\n          System.out.println(line);\r\n        }\r\n        in.close();\r\n      }\r\n    }\r\n\r\n\r\nException:    \r\n    \r\n    Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\r\n    \tat java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\r\n    \tat java.net.Socket.connect(Socket.java:525)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:550)\r\n    \tat com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:141)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:163)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:394)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:529)\r\n    \tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:272)\r\n    \tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:329)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:172)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:801)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:158)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1049)\r\n    \tat com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl.getInputStream(HttpsURLConnectionOldImpl.java:204)\r\n    \tat java.net.URL.openStream(URL.java:1010)\r\n    \tat https.ssl.MainClass.main(MainClass.java:13)\r\n\r\n\r\n","title":"Connection timed out. Why?","body":"<p>I get an exception when I run this code. Why?</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.net.ConnectException: Connection timed out: connect</p>\n</blockquote>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class MainClass {\n\n  public static void main(String[] args) throws Exception {\n    System.setProperty(\"java.protocol.handler.pkgs\", \"com.sun.net.ssl.internal.www.protocol\");\n\n    URL url = new URL(\"https://www.verisign.com/\");\n    BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\n\n    String line;\n    while ((line = in.readLine()) != null) {\n      System.out.println(line);\n    }\n    in.close();\n  }\n}\n</code></pre>\n\n<p>Exception:    </p>\n\n<pre><code>Exception in thread \"main\" java.net.ConnectException: Connection timed out: connect\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\n    at java.net.Socket.connect(Socket.java:525)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:550)\n    at com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:141)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:163)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:394)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:529)\n    at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:272)\n    at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:329)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:172)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:801)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:158)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1049)\n    at com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl.getInputStream(HttpsURLConnectionOldImpl.java:204)\n    at java.net.URL.openStream(URL.java:1010)\n    at https.ssl.MainClass.main(MainClass.java:13)\n</code></pre>\n"},{"tags":["java","testing","mockito","mockito-inline"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1669838219,"post_id":74621180,"comment_id":131736767,"body_markdown":"I would check the following: 1. Is there ONLY mockito-inline on your classpath (mockito-core may interfere if you have it) 2. Imports: particularly eq static 3. readFromFile returns correct value?","body":"I would check the following: 1. Is there ONLY mockito-inline on your classpath (mockito-core may interfere if you have it) 2. Imports: particularly eq static 3. readFromFile returns correct value?"},{"owner":{"account_id":1417305,"reputation":747,"user_id":1342664,"accept_rate":67,"display_name":"EliasM"},"score":0,"creation_date":1669838934,"post_id":74621180,"comment_id":131736986,"body_markdown":"1. I have only mockito-inline in my pom.xml file. 2. readFromFile is returning a value, I noticed after PowerMockito.mockStatic(Util.class); or MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class) my previous values are reseting to null, that&#39;s why I am getting null... but I don&#39;t know why is setting null","body":"1. I have only mockito-inline in my pom.xml file. 2. readFromFile is returning a value, I noticed after PowerMockito.mockStatic(Util.class); or MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class) my previous values are reseting to null, that&#39;s why I am getting null... but I don&#39;t know why is setting null"}],"owner":{"account_id":1417305,"reputation":747,"user_id":1342664,"accept_rate":67,"display_name":"EliasM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669762947,"creation_date":1669762947,"question_id":74621180,"body_markdown":"I am using MockedStatic in static Util.parse(string, class) method but when I am running is not mocking and its printing NULL, basically it should give me a static file as a response that I loaded before, for that I am using MockedStatic 3.4.4, or I am doing something wrong, if someone can help me with that.\r\n\r\n    public List&lt;ServiceRecord&gt; getListServices(Services.Type type, String env) throws Exception {\r\n    \r\n            Swagger swagger2 = Util.parse(&quot;{ss}&quot;, Swagger.class);\r\n            System.out.println(swagger2);\r\n\r\nthis is my test class:\r\n\r\n   \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class RemoteServicesTest {\r\n    ...     \r\n    @Test\r\n     public void getListServicesLegacyTest() throws Exception {\r\n    \r\n            Swagger swaggerMock = IoUtil.readFromFile(&quot;mock.json&quot;, Swagger.class);\r\n    \r\n    \r\n            try(MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class)) {\r\n                mockUtil2.when(() -&gt; Util.parse(eq(&quot;{ss}&quot;), eq(Swagger.class))).thenReturn(swaggerMock);\r\n                List&lt;ServiceRecord&gt; serviceRecordList2 = remoteCloudLegacyServices.getListServices(Services.Type.LEGACY, environment.getEnv());\r\n            }\r\n\r\nmy pom.xml\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;","title":"MockedStatic is not mocking one static method","body":"<p>I am using MockedStatic in static Util.parse(string, class) method but when I am running is not mocking and its printing NULL, basically it should give me a static file as a response that I loaded before, for that I am using MockedStatic 3.4.4, or I am doing something wrong, if someone can help me with that.</p>\n<pre><code>public List&lt;ServiceRecord&gt; getListServices(Services.Type type, String env) throws Exception {\n\n        Swagger swagger2 = Util.parse(&quot;{ss}&quot;, Swagger.class);\n        System.out.println(swagger2);\n</code></pre>\n<p>this is my test class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class RemoteServicesTest {\n...     \n@Test\n public void getListServicesLegacyTest() throws Exception {\n\n        Swagger swaggerMock = IoUtil.readFromFile(&quot;mock.json&quot;, Swagger.class);\n\n\n        try(MockedStatic&lt;Util&gt; mockUtil2 = Mockito.mockStatic(Util.class)) {\n            mockUtil2.when(() -&gt; Util.parse(eq(&quot;{ss}&quot;), eq(Swagger.class))).thenReturn(swaggerMock);\n            List&lt;ServiceRecord&gt; serviceRecordList2 = remoteCloudLegacyServices.getListServices(Services.Type.LEGACY, environment.getEnv());\n        }\n</code></pre>\n<p>my pom.xml</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":7384995,"reputation":5496,"user_id":5620297,"accept_rate":93,"display_name":"Kaspar Lee"},"score":0,"creation_date":1459280184,"post_id":36293548,"comment_id":60212284,"body_markdown":"Can you give us an example of what the string should become?","body":"Can you give us an example of what the string should become?"},{"owner":{"display_name":"user2705585"},"score":0,"creation_date":1459280238,"post_id":36293548,"comment_id":60212324,"body_markdown":"What&#39;s expected output ? What about `12-10` ?","body":"What&#39;s expected output ? What about <code>12-10</code> ?"},{"owner":{"account_id":10388280,"reputation":135,"user_id":7660499,"accept_rate":60,"display_name":"shikhar"},"score":0,"creation_date":1570458533,"post_id":36293548,"comment_id":102910189,"body_markdown":"Check out my solution in C++ without regular expressions and works for every possible case. I am inserting space instead of &#39;-&#39; https://codeshare.io/5ZRWJ7","body":"Check out my solution in C++ without regular expressions and works for every possible case. I am inserting space instead of &#39;-&#39; <a href=\"https://codeshare.io/5ZRWJ7\" rel=\"nofollow noreferrer\">codeshare.io/5ZRWJ7</a>"}],"answers":[{"comments":[{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1669707504,"post_id":36293610,"comment_id":131697603,"body_markdown":"Thanks, @Wiktor Stribiżew , this method works in most cases but for example with this string &quot;ABC372654&quot; did not work, it could not separate the string into blocks of 3, do you have any idea?","body":"Thanks, @Wiktor Stribiżew , this method works in most cases but for example with this string &quot;ABC372654&quot; did not work, it could not separate the string into blocks of 3, do you have any idea?"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1669708774,"post_id":36293610,"comment_id":131697948,"body_markdown":"@mi_mo There is no word boundary between `C` and `3`. There is no hyphen in this string either. Use a numeric boundary, `.replaceFirst(&quot;(?&lt;!\\\\d)(\\\\d{2})(\\\\d+)(\\\\d)$&quot;, &quot;$1-$2$3&quot;)`. Or`.replaceFirst(&quot;(?&lt;!\\\\d)(\\\\d{2})(\\\\d{2})(\\\\d{2})$&quot;, &quot;$1 $2 $3&quot;)`, I do not know your requirements. You might want to remove the numeric boundary, too.","body":"@mi_mo There is no word boundary between <code>C</code> and <code>3</code>. There is no hyphen in this string either. Use a numeric boundary, <code>.replaceFirst(&quot;(?&lt;!\\\\d)(\\\\d{2})(\\\\d+)(\\\\d)$&quot;, &quot;$1-$2$3&quot;)</code>. Or<code>.replaceFirst(&quot;(?&lt;!\\\\d)(\\\\d{2})(\\\\d{2})(\\\\d{2})$&quot;, &quot;$1 $2 $3&quot;)</code>, I do not know your requirements. You might want to remove the numeric boundary, too."},{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1669719370,"post_id":36293610,"comment_id":131701551,"body_markdown":"i have some strings like these: &quot;ABC372654&quot;, &quot;0 - 22 1985--324&quot;, I want to remove all none-numeric and alphabetic characters and split them into blocks of three and for last block or for 2 last blocks the blocks can have 2 characters(if last block has less than 3 characters for example remained just 4 characters) for example this string &quot;0 - 22 1985--324&quot; should be like this &quot;022 198 53 24&quot; but this string &quot;ABC372654&quot; should be &quot;ABC 372 654&quot;","body":"i have some strings like these: &quot;ABC372654&quot;, &quot;0 - 22 1985--324&quot;, I want to remove all none-numeric and alphabetic characters and split them into blocks of three and for last block or for 2 last blocks the blocks can have 2 characters(if last block has less than 3 characters for example remained just 4 characters) for example this string &quot;0 - 22 1985--324&quot; should be like this &quot;022 198 53 24&quot; but this string &quot;ABC372654&quot; should be &quot;ABC 372 654&quot;"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1669720847,"post_id":36293610,"comment_id":131702040,"body_markdown":"@mi_mo 1) Remove non-alnum chars with `abc.replaceAll(&quot;\\\\P{Alnum}+&quot;, &quot;&quot;)`, 2) then use `.replaceAll(&quot;(?:\\\\G|(?&lt;!\\\\d))(?:\\\\d{3}(?=(?:\\\\d{3})+\\\\d{0,2}$)|\\\\d{3}$|\\\\d{2}(?!$))&quot;,&quot;$0 &quot;).trim()`","body":"@mi_mo 1) Remove non-alnum chars with <code>abc.replaceAll(&quot;\\\\P{Alnum}+&quot;, &quot;&quot;)</code>, 2) then use <code>.replaceAll(&quot;(?:\\\\G|(?&lt;!\\\\d))(?:\\\\d{3}(?=(?:\\\\d{3})+\\\\d{0,2}&zwnj;&#8203;$)|\\\\d{3}$|\\\\d{2}(?!&zwnj;&#8203;$))&quot;,&quot;$0 &quot;).trim()</code>"},{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1669744830,"post_id":36293610,"comment_id":131710917,"body_markdown":"Tnx, could you please guide me about the Regex that you used for example: `(?:\\\\G|(?&lt;!\\\\d))(?:\\\\d{3}(?=(?:\\\\d{3})+\\\\d{0,2}$)|\\\\d{3}$|\\\\d{2}(?!$))&quot;,&quot;$0 &quot;)`, how can I figure out them? i could not understand their meaning by using online Regex compilers like Regexr.com","body":"Tnx, could you please guide me about the Regex that you used for example: <code>(?:\\\\G|(?&lt;!\\\\d))(?:\\\\d{3}(?=(?:\\\\d{3})+\\\\d{0,2}$)|\\\\d{3}$|\\\\&zwnj;&#8203;d{2}(?!$))&quot;,&quot;$0 &quot;)</code>, how can I figure out them? i could not understand their meaning by using online Regex compilers like Regexr.com"}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1459282610,"creation_date":1459280239,"answer_id":36293610,"question_id":36293548,"body_markdown":"You can use a `\\G` within a lookbehind based regex:\r\n\r\n    String abc = &quot;12-10 23 5555 8361&quot;;\r\n    String hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n   \tSystem.out.println(hello.replaceAll(&quot;(?&lt;=\\\\G\\\\d{3})&quot;, &quot;-&quot;));\r\n    // =&gt; 121-023-555-583-61\r\n\r\nSee the [IDEONE demo][1]\r\n\r\nThe `(?&lt;=\\\\G\\\\d{3})` regex contains just a zero-width assertion that matches a position at the start of the string or at the end of the last successful match (`\\G`) that is followed with 3 digits (`\\d{3}`). In Java regex, this pattern works fine in the current scenario (i.e. `\\G` moves the regex index from within lookbehind). This won&#39;t work in Android though.\r\n\r\n**UPDATE**:\r\n\r\nFor the updated requirements, you can use a several step approach like\r\n\r\n    public static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t String s = &quot;0 - 22 1985--324&quot;; // =&gt; 022-198-53-24\r\n\t\t run(s);\r\n\t\t s = &quot;555372654&quot;;  // =&gt; 555-372-654\r\n\t\t run(s);\r\n\t\t s = &quot;12-10 23 5555 8361&quot;; // =&gt; 121-023-555-583-61\r\n\t\t run(s);\r\n\t}\r\n\tpublic static void run(String abc) {\r\n    \tString hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n   \t\thello = hello.replaceAll(&quot;(?&lt;=\\\\G\\\\d{3})(?!$)&quot;, &quot;-&quot;);\r\n   \t\tSystem.out.println(hello.replaceAll(&quot;\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$&quot;, &quot;$1-$2$3&quot;));\r\n\t}\r\n\r\nSee [another IDEONE demo][2]\r\n\r\nThe regex is updated with `(?!$)` at the end that fails the match at the end of the string.\r\n\r\nThe `.replaceAll(&quot;\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$&quot;, &quot;$1-$2$3&quot;)` is necessary to re-arrange the 2 last digit groups at the end: if there are 3 or more digits followed with a hyphen and then just 1 digit, we need to move the hyphen after the first 2 digits, and move the other digits right after this hyphen.\r\n\r\n  [1]: http://ideone.com/36efro\r\n  [2]: http://ideone.com/am1Sp7","title":"Split a string into blocks of three?","body":"<p>You can use a <code>\\G</code> within a lookbehind based regex:</p>\n\n<pre><code>String abc = \"12-10 23 5555 8361\";\nString hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\nSystem.out.println(hello.replaceAll(\"(?&lt;=\\\\G\\\\d{3})\", \"-\"));\n// =&gt; 121-023-555-583-61\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/36efro\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<p>The <code>(?&lt;=\\\\G\\\\d{3})</code> regex contains just a zero-width assertion that matches a position at the start of the string or at the end of the last successful match (<code>\\G</code>) that is followed with 3 digits (<code>\\d{3}</code>). In Java regex, this pattern works fine in the current scenario (i.e. <code>\\G</code> moves the regex index from within lookbehind). This won't work in Android though.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>For the updated requirements, you can use a several step approach like</p>\n\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n     String s = \"0 - 22 1985--324\"; // =&gt; 022-198-53-24\n     run(s);\n     s = \"555372654\";  // =&gt; 555-372-654\n     run(s);\n     s = \"12-10 23 5555 8361\"; // =&gt; 121-023-555-583-61\n     run(s);\n}\npublic static void run(String abc) {\n    String hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\n    hello = hello.replaceAll(\"(?&lt;=\\\\G\\\\d{3})(?!$)\", \"-\");\n    System.out.println(hello.replaceAll(\"\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$\", \"$1-$2$3\"));\n}\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/am1Sp7\" rel=\"nofollow\">another IDEONE demo</a></p>\n\n<p>The regex is updated with <code>(?!$)</code> at the end that fails the match at the end of the string.</p>\n\n<p>The <code>.replaceAll(\"\\\\b(\\\\d{2})(\\\\d+)-(\\\\d)$\", \"$1-$2$3\")</code> is necessary to re-arrange the 2 last digit groups at the end: if there are 3 or more digits followed with a hyphen and then just 1 digit, we need to move the hyphen after the first 2 digits, and move the other digits right after this hyphen.</p>\n"},{"comments":[{"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"score":1,"creation_date":1459280684,"post_id":36293664,"comment_id":60212622,"body_markdown":"For this number `555372654` it ends with trailing `-`.","body":"For this number <code>555372654</code> it ends with trailing <code>-</code>."},{"owner":{"display_name":"user2705585"},"score":0,"creation_date":1459280763,"post_id":36293664,"comment_id":60212662,"body_markdown":"@user1950349: Let me check.","body":"@user1950349: Let me check."},{"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"score":0,"creation_date":1459280870,"post_id":36293664,"comment_id":60212727,"body_markdown":"And each block should have atleast two digits so for this example `0 - 22 1985--324` it fails as I get `022-198-532-4`. Instead I should tget `022-198-53-24`","body":"And each block should have atleast two digits so for this example <code>0 - 22 1985--324</code> it fails as I get <code>022-198-532-4</code>. Instead I should tget <code>022-198-53-24</code>"}],"tags":[],"owner":{"display_name":"user2705585"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459280474,"creation_date":1459280474,"answer_id":36293664,"question_id":36293548,"body_markdown":"You could also group three digits and replace with captured group and `-`.\r\n\r\n**Regex:** `(\\d{3})`\r\n\r\n**Replacement to do:** Replace with `\\1-`\r\n\r\n**Java Code**\r\n\r\n    String abc = &quot;12-10 23 5555 8361&quot;;\r\n\tString hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n\tSystem.out.println(hello.replaceAll(&quot;(\\\\d{3})&quot;, &quot;$1-&quot;));\r\n\r\n**[Regex101 Demo][1]**\r\n\r\n**[Ideone Demo][2]**\r\n\r\n\r\n  [1]: https://regex101.com/r/tF2aS0/1\r\n  [2]: http://ideone.com/juSraC","title":"Split a string into blocks of three?","body":"<p>You could also group three digits and replace with captured group and <code>-</code>.</p>\n\n<p><strong>Regex:</strong> <code>(\\d{3})</code></p>\n\n<p><strong>Replacement to do:</strong> Replace with <code>\\1-</code></p>\n\n<p><strong>Java Code</strong></p>\n\n<pre><code>String abc = \"12-10 23 5555 8361\";\nString hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\nSystem.out.println(hello.replaceAll(\"(\\\\d{3})\", \"$1-\"));\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/tF2aS0/1\" rel=\"nofollow\">Regex101 Demo</a></strong></p>\n\n<p><strong><a href=\"http://ideone.com/juSraC\" rel=\"nofollow\">Ideone Demo</a></strong></p>\n"}],"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2152,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36293610,"answer_count":2,"score":3,"last_activity_date":1669762440,"creation_date":1459280061,"question_id":36293548,"body_markdown":"I have a String of digits. I need to group those digits in block of length three and separate by single dash. If necessary, the final block or the last two blocks can be of length two.\r\n\r\n        String abc = &quot;12-10 23 5555 8361&quot;;\r\n        String hello = abc.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\r\n\r\n\r\nNow, how can I group them in blocks of length three?\r\n\r\nExpected result is\r\n\r\n    121-023-555-583-61","title":"Split a string into blocks of three?","body":"<p>I have a String of digits. I need to group those digits in block of length three and separate by single dash. If necessary, the final block or the last two blocks can be of length two.</p>\n\n<pre><code>    String abc = \"12-10 23 5555 8361\";\n    String hello = abc.replaceAll(\"[^a-zA-Z0-9]\", \"\");\n</code></pre>\n\n<p>Now, how can I group them in blocks of length three?</p>\n\n<p>Expected result is</p>\n\n<pre><code>121-023-555-583-61\n</code></pre>\n"},{"tags":["java","android","networking","android-intent","android-service"],"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":0,"creation_date":1346149064,"post_id":12157130,"comment_id":16267516,"body_markdown":"This other Q&amp;A could help:\r\n\r\nhttp://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-timeouts","body":"This other Q&amp;A could help:    <a href=\"http://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-timeouts\" title=\"how to check internet access on android inetaddress never timeouts\">stackoverflow.com/questions/1560788/&hellip;</a>"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1416899905,"post_id":12157130,"comment_id":42742542,"body_markdown":"http://developer.android.com/training/monitoring-device-state/connectivity-monitoring.html","body":"<a href=\"http://developer.android.com/training/monitoring-device-state/connectivity-monitoring.html\" rel=\"nofollow noreferrer\">developer.android.com/training/monitoring-device-state/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3518227,"reputation":961,"user_id":2941150,"display_name":"Kuldeep Bhimte"},"score":0,"creation_date":1596004029,"post_id":43205741,"comment_id":111665611,"body_markdown":"Would this work when the internet is connected and the strength is weakening(not disconnected)","body":"Would this work when the internet is connected and the strength is weakening(not disconnected)"},{"owner":{"account_id":1933468,"reputation":677,"user_id":1742374,"display_name":"pepan"},"score":0,"creation_date":1596725803,"post_id":43205741,"comment_id":111908979,"body_markdown":"@KuldeepBhimte not really; it only works when an event is triggered; check here: https://stackoverflow.com/questions/1206891/android-how-to-monitor-wifi-signal-strength","body":"@KuldeepBhimte not really; it only works when an event is triggered; check here: <a href=\"https://stackoverflow.com/questions/1206891/android-how-to-monitor-wifi-signal-strength\" title=\"android how to monitor wifi signal strength\">stackoverflow.com/questions/1206891/&hellip;</a>"},{"owner":{"account_id":16634316,"reputation":1305,"user_id":12021422,"display_name":"Rahul Shyokand"},"score":0,"creation_date":1600501883,"post_id":43205741,"comment_id":113113212,"body_markdown":"Cool, Worked Like a Charm Seems easier than registering Intent in `AndroidManifest.xml`","body":"Cool, Worked Like a Charm Seems easier than registering Intent in <code>AndroidManifest.xml</code>"}],"tags":[],"owner":{"account_id":1933468,"reputation":677,"user_id":1742374,"display_name":"pepan"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1491304787,"creation_date":1491304787,"answer_id":43205741,"question_id":12157130,"body_markdown":"The code from Chirag Raval above certainly works. The trouble is that the listener will get invoked even when the application is not running in foreground. \r\n\r\nIMHO, the better approach is to register / unregister the receiver in the `onResume()` / `onPause()` methods of all your application activities. This code should do it:\r\n\r\n    private final NetworkStateReceiver stateReceiver = new NetworkStateReceiver();\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        IntentFilter filter = new IntentFilter();\r\n        filter.addAction(&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;);\r\n        registerReceiver(stateReceiver, filter);\r\n    }\r\n    \r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        unregisterReceiver(stateReceiver);\r\n    }\r\n\r\nObviously, remove the registration from `AndroidManifest.xml` file.\r\n\r\nUsing this solution, the receiver will be called also when switching between activities of your application (assuming you are closing them). In such a case, use a static flag (being shared between all your activities) like in the example below (called `online`):\r\n\r\n    public class NetworkStateReceiver extends BroadcastReceiver {\r\n    \r\n        private static boolean online = true;  // we expect the app being online when starting\r\n    \r\n        public static final String TAG = NetworkStateReceiver.class.getSimpleName();\r\n    \r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.d(TAG,&quot;Network connectivity change&quot;);\r\n            ConnectivityManager manager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo ni = manager.getActiveNetworkInfo();\r\n            if (ni == null || ni.getState() != NetworkInfo.State.CONNECTED) {\r\n                Log.d(TAG,&quot;There&#39;s no network connectivity&quot;);\r\n                if (online) // don&#39;t show the message if already offline\r\n                    Toast.makeText(context, R.string.noInternet, Toast.LENGTH_SHORT).show();\r\n                online = false;\r\n            } else {\r\n                Log.d(TAG,&quot;Network &quot;+ni.getTypeName()+&quot; connected&quot;);\r\n                if (!online)  // don&#39;t show the message if already online\r\n                    Toast.makeText(context, R.string.backOnline, Toast.LENGTH_SHORT).show();\r\n                online = true;\r\n            }\r\n        }\r\n    }\r\n\r\nIf starting your app when being offline, the Toast message will appear; otherwise it appears only when losing / re-establishing the connection .\r\n","title":"Internet listener Android example","body":"<p>The code from Chirag Raval above certainly works. The trouble is that the listener will get invoked even when the application is not running in foreground. </p>\n\n<p>IMHO, the better approach is to register / unregister the receiver in the <code>onResume()</code> / <code>onPause()</code> methods of all your application activities. This code should do it:</p>\n\n<pre><code>private final NetworkStateReceiver stateReceiver = new NetworkStateReceiver();\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    IntentFilter filter = new IntentFilter();\n    filter.addAction(\"android.net.conn.CONNECTIVITY_CHANGE\");\n    registerReceiver(stateReceiver, filter);\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    unregisterReceiver(stateReceiver);\n}\n</code></pre>\n\n<p>Obviously, remove the registration from <code>AndroidManifest.xml</code> file.</p>\n\n<p>Using this solution, the receiver will be called also when switching between activities of your application (assuming you are closing them). In such a case, use a static flag (being shared between all your activities) like in the example below (called <code>online</code>):</p>\n\n<pre><code>public class NetworkStateReceiver extends BroadcastReceiver {\n\n    private static boolean online = true;  // we expect the app being online when starting\n\n    public static final String TAG = NetworkStateReceiver.class.getSimpleName();\n\n    public void onReceive(Context context, Intent intent) {\n        Log.d(TAG,\"Network connectivity change\");\n        ConnectivityManager manager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo ni = manager.getActiveNetworkInfo();\n        if (ni == null || ni.getState() != NetworkInfo.State.CONNECTED) {\n            Log.d(TAG,\"There's no network connectivity\");\n            if (online) // don't show the message if already offline\n                Toast.makeText(context, R.string.noInternet, Toast.LENGTH_SHORT).show();\n            online = false;\n        } else {\n            Log.d(TAG,\"Network \"+ni.getTypeName()+\" connected\");\n            if (!online)  // don't show the message if already online\n                Toast.makeText(context, R.string.backOnline, Toast.LENGTH_SHORT).show();\n            online = true;\n        }\n    }\n}\n</code></pre>\n\n<p>If starting your app when being offline, the Toast message will appear; otherwise it appears only when losing / re-establishing the connection .</p>\n"}],"owner":{"account_id":1295520,"reputation":852,"user_id":1246683,"accept_rate":57,"display_name":"Zeeshan Chaudhry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32286,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1669762302,"answer_count":1,"score":25,"last_activity_date":1669762269,"creation_date":1346148774,"question_id":12157130,"body_markdown":"I am working on an Android app that will continuously remain connected to Internet. If Internet is dow, it should give an appropriate message to the User.\r\n\r\nIs there any thing like Internet Listener? Or how to implement this event that whenever Internet connection is not available it should give alert.\r\n","title":"Internet listener Android example","body":"<p>I am working on an Android app that will continuously remain connected to Internet. If Internet is dow, it should give an appropriate message to the User.</p>\n\n<p>Is there any thing like Internet Listener? Or how to implement this event that whenever Internet connection is not available it should give alert.</p>\n"},{"tags":["java","properties","apache-commons-config"],"comments":[{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":1,"creation_date":1327341314,"post_id":8975908,"comment_id":11244894,"body_markdown":"Can you please clarify, i&#39;m not sure what you are trying to do","body":"Can you please clarify, i&#39;m not sure what you are trying to do"},{"owner":{"account_id":1193129,"reputation":1261,"user_id":1165463,"display_name":"Uhkkgjhfjf Jgkjkhj"},"score":1,"creation_date":1327342010,"post_id":8975908,"comment_id":11245140,"body_markdown":"I have a property what has a multi line valie, eg:\nkey1 = val1,\\\n       val2,\\\n       val3\nkey2 = hello\n\nval1,val2,val3 are in separate lines, but when PropertiesConfigurations writes them to a file, it will write them in one line","body":"I have a property what has a multi line valie, eg: key1 = val1,\\        val2,\\        val3 key2 = hello  val1,val2,val3 are in separate lines, but when PropertiesConfigurations writes them to a file, it will write them in one line"},{"owner":{"account_id":1044371,"reputation":10970,"user_id":1049678,"display_name":"Aviram Segal"},"score":0,"creation_date":1327342161,"post_id":8975908,"comment_id":11245196,"body_markdown":"ah you are talking about how it writes it... ok","body":"ah you are talking about how it writes it... ok"}],"answers":[{"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1327349860,"creation_date":1327349860,"answer_id":8977996,"question_id":8975908,"body_markdown":"Check the [User Guide for Properties files](http://commons.apache.org/configuration/userguide/howto_properties.html):\r\n\r\n[Special Characters and Escaping](http://commons.apache.org/configuration/userguide/howto_properties.html#Special_Characters_and_Escaping):\r\n&gt; If you need a special character in a property like a line feed, a\r\n&gt; tabulation or an unicode character, you can specify it with the same\r\n&gt; escaped notation used for Java Strings. The list separator (&quot;,&quot; by\r\n&gt; default), can also be escaped:\r\n&gt; \r\n&gt; `key = This \\n string \\t contains \\, escaped \\\\ characters \\u0020`\r\n\r\nBackslashes are more difficult.\r\n\r\n[Lists and arrays](http://commons.apache.org/configuration/userguide/howto_properties.html#Lists_and_arrays):\r\n\r\n&gt; You can specify a list of values in your properties file by using the\r\n&gt; same key on several lines:\r\n&gt; \r\n&gt;     # chart colors\r\n&gt;     colors.pie = #FF0000;\r\n&gt;     colors.pie = #00FF00;\r\n&gt;     colors.pie = #0000FF;\r\n\r\n\r\n","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>Check the <a href=\"http://commons.apache.org/configuration/userguide/howto_properties.html\" rel=\"noreferrer\">User Guide for Properties files</a>:</p>\n\n<p><a href=\"http://commons.apache.org/configuration/userguide/howto_properties.html#Special_Characters_and_Escaping\" rel=\"noreferrer\">Special Characters and Escaping</a>:</p>\n\n<blockquote>\n  <p>If you need a special character in a property like a line feed, a\n  tabulation or an unicode character, you can specify it with the same\n  escaped notation used for Java Strings. The list separator (\",\" by\n  default), can also be escaped:</p>\n  \n  <p><code>key = This \\n string \\t contains \\, escaped \\\\ characters \\u0020</code></p>\n</blockquote>\n\n<p>Backslashes are more difficult.</p>\n\n<p><a href=\"http://commons.apache.org/configuration/userguide/howto_properties.html#Lists_and_arrays\" rel=\"noreferrer\">Lists and arrays</a>:</p>\n\n<blockquote>\n  <p>You can specify a list of values in your properties file by using the\n  same key on several lines:</p>\n\n<pre><code># chart colors\ncolors.pie = #FF0000;\ncolors.pie = #00FF00;\ncolors.pie = #0000FF;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":193,"is_accepted":false,"score":193,"last_activity_date":1327355410,"creation_date":1327352595,"answer_id":8978515,"question_id":8975908,"body_markdown":"If you mean the following; that just relies on backslash + end-of-line. I just found it documented in:\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\r\n\r\n    primes = 2,\\\r\n        3,\\\r\n        5,\\\r\n        7,\\\r\n        11","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>If you mean the following; that just relies on backslash + end-of-line. I just found it documented in:\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html</a></p>\n\n<pre><code>primes = 2,\\\n    3,\\\n    5,\\\n    7,\\\n    11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1471279999,"creation_date":1471279999,"answer_id":38959408,"question_id":8975908,"body_markdown":"You need to combine the `\\n` character inside the content and the line continuation escape (`\\&lt;eol&gt;` at end of line) to get a multi line property actually be represented in the properties file and in the returned value:\r\n\r\n    KEY1=first line\\n\\\r\n    second line\\n\\\r\n    last line\r\n    KEY2=another key\r\n\r\nNot sure if commons-configuration can be configured to actually use this syntax for writing.","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>You need to combine the <code>\\n</code> character inside the content and the line continuation escape (<code>\\&lt;eol&gt;</code> at end of line) to get a multi line property actually be represented in the properties file and in the returned value:</p>\n\n<pre><code>KEY1=first line\\n\\\nsecond line\\n\\\nlast line\nKEY2=another key\n</code></pre>\n\n<p>Not sure if commons-configuration can be configured to actually use this syntax for writing.</p>\n"},{"tags":[],"owner":{"account_id":307033,"reputation":309,"user_id":5416366,"display_name":"Mikhail Fursov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528218080,"creation_date":1528218080,"answer_id":50705403,"question_id":8975908,"body_markdown":"Another option could be is to use one of properties formats that is  designed to support multi-line values.\r\n\r\nXML can handle multi-line properties well, but it has a lot of noise.\r\n\r\nMProps: is an example of the format with almost no special formatting required: https://github.com/mprops/mprops-java","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>Another option could be is to use one of properties formats that is  designed to support multi-line values.</p>\n\n<p>XML can handle multi-line properties well, but it has a lot of noise.</p>\n\n<p>MProps: is an example of the format with almost no special formatting required: <a href=\"https://github.com/mprops/mprops-java\" rel=\"nofollow noreferrer\">https://github.com/mprops/mprops-java</a></p>\n"}],"owner":{"account_id":1193129,"reputation":1261,"user_id":1165463,"display_name":"Uhkkgjhfjf Jgkjkhj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110374,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"answer_count":4,"score":126,"last_activity_date":1669762163,"creation_date":1327339686,"question_id":8975908,"body_markdown":"I have a properties file where a property has a comma-separated list value. How can I write these property values so that they span multiple lines? (Maybe a backslash after the comma?)\r\n\r\nI can&#39;t find anything about this or at least about escaping comma to comma and backslash.","title":"How to write multiple line property value using PropertiesConfiguration?","body":"<p>I have a properties file where a property has a comma-separated list value. How can I write these property values so that they span multiple lines? (Maybe a backslash after the comma?)</p>\n<p>I can't find anything about this or at least about escaping comma to comma and backslash.</p>\n"},{"tags":["java","logging","log4j","slf4j"],"comments":[{"owner":{"account_id":38846,"reputation":29755,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"score":6,"creation_date":1271076163,"post_id":2621701,"comment_id":2634400,"body_markdown":"It looks like there&#39;s some discussion of adding this to slf4j 2.0 on the dev mailing list: http://www.qos.ch/pipermail/slf4j-dev/2010-March/002865.html","body":"It looks like there&#39;s some discussion of adding this to slf4j 2.0 on the dev mailing list: <a href=\"http://www.qos.ch/pipermail/slf4j-dev/2010-March/002865.html\" rel=\"nofollow noreferrer\">qos.ch/pipermail/slf4j-dev/2010-March/002865.html</a>"},{"owner":{"account_id":196971,"reputation":2814,"user_id":440730,"accept_rate":50,"display_name":"tuxSlayer"},"score":1,"creation_date":1373888608,"post_id":2621701,"comment_id":25708730,"body_markdown":"take a look at Marker, this is custom data you can pass to log chain.","body":"take a look at Marker, this is custom data you can pass to log chain."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1378347363,"post_id":2621701,"comment_id":27421335,"body_markdown":"@tuxSlayer can you please elaborate how to use Marker in this case?","body":"@tuxSlayer can you please elaborate how to use Marker in this case?"},{"owner":{"account_id":196971,"reputation":2814,"user_id":440730,"accept_rate":50,"display_name":"tuxSlayer"},"score":0,"creation_date":1378721205,"post_id":2621701,"comment_id":27542176,"body_markdown":"Probably its not the best idea for &quot;logging&quot; but you can use several markers for log entry &quot;priority&quot; (high|low|normal, info|warn|fatal) and use filtering in logback or custom appender to consume markers and drive log entries into separate channels (log info, email fatal etc). However, the more straight way is to have a facade for this as was pointed in answers below.","body":"Probably its not the best idea for &quot;logging&quot; but you can use several markers for log entry &quot;priority&quot; (high|low|normal, info|warn|fatal) and use filtering in logback or custom appender to consume markers and drive log entries into separate channels (log info, email fatal etc). However, the more straight way is to have a facade for this as was pointed in answers below."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":2,"creation_date":1558594342,"post_id":2621701,"comment_id":99154062,"body_markdown":"This feature is supposed to be part of `slf4j 2.0`. https://jira.qos.ch/browse/SLF4J-124 See my answer for details and for a possible `slf4j 1.x`-workaround.","body":"This feature is supposed to be part of <code>slf4j 2.0</code>. <a href=\"https://jira.qos.ch/browse/SLF4J-124\" rel=\"nofollow noreferrer\">jira.qos.ch/browse/SLF4J-124</a> See my answer for details and for a possible <code>slf4j 1.x</code>-workaround."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":0,"creation_date":1669761255,"post_id":2621701,"comment_id":131715550,"body_markdown":"The Logger.atLevel() introduced in SLF4J 2.0 provides the desired functionality.","body":"The Logger.atLevel() introduced in SLF4J 2.0 provides the desired functionality."}],"answers":[{"comments":[{"owner":{"account_id":112835,"reputation":9845,"user_id":297484,"display_name":"chris"},"score":0,"creation_date":1271072853,"post_id":2621718,"comment_id":2634024,"body_markdown":"sorry, i see what you&#39;re asking now. no, there&#39;s no generic way to change log level at runtime, but you could easily implement a helper method with a switch statment.","body":"sorry, i see what you&#39;re asking now. no, there&#39;s no generic way to change log level at runtime, but you could easily implement a helper method with a switch statment."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1417667021,"post_id":2621718,"comment_id":43039819,"body_markdown":"Yes, but then you have to do that once for each overloaded version of the &quot;log&quot; method.","body":"Yes, but then you have to do that once for each overloaded version of the &quot;log&quot; method."}],"tags":[],"owner":{"account_id":112835,"reputation":9845,"user_id":297484,"display_name":"chris"},"comment_count":2,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1271072565,"creation_date":1271072565,"answer_id":2621718,"question_id":2621701,"body_markdown":"no, it has a number of methods, info(), debug(), warn(), etc (this replaces the priority field)\r\n\r\nhave a look at http://www.slf4j.org/api/org/slf4j/Logger.html for the full Logger api.","title":"Setting log level of message at runtime in slf4j","body":"<p>no, it has a number of methods, info(), debug(), warn(), etc (this replaces the priority field)</p>\n\n<p>have a look at <a href=\"http://www.slf4j.org/api/org/slf4j/Logger.html\" rel=\"nofollow noreferrer\">http://www.slf4j.org/api/org/slf4j/Logger.html</a> for the full Logger api.</p>\n"},{"comments":[{"owner":{"account_id":38846,"reputation":29755,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"score":14,"creation_date":1271076335,"post_id":2622044,"comment_id":2634421,"body_markdown":"There&#39;s no mapping necessary really. There are five levels already implicitly defined by the methods in `org.slf4j.Logger`: debug, error, info, trace, warn.","body":"There&#39;s no mapping necessary really. There are five levels already implicitly defined by the methods in <code>org.slf4j.Logger</code>: debug, error, info, trace, warn."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1271076571,"post_id":2622044,"comment_id":2634458,"body_markdown":"That is a mapping, and it costs CPU cycles to support it.","body":"That is a mapping, and it costs CPU cycles to support it."},{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":1,"creation_date":1291123739,"post_id":2622044,"comment_id":4685508,"body_markdown":"And the issues got closed as Invalid. As far as I understand this, it is a deliberate design choice.","body":"And the issues got closed as Invalid. As far as I understand this, it is a deliberate design choice."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1291152584,"post_id":2622044,"comment_id":4691409,"body_markdown":"@ripper234 - which supports what I said in my answer, IMO.","body":"@ripper234 - which supports what I said in my answer, IMO."},{"owner":{"account_id":68828,"reputation":25201,"user_id":200609,"accept_rate":25,"display_name":"Richard Fearn"},"score":11,"creation_date":1306358683,"post_id":2622044,"comment_id":7115514,"body_markdown":"@ripper234 - I don&#39;t think your bug addressed the same issue as scompt.com&#39;s original question. You asked about configuring the level of the *underlying logging system* via the SLF4J API. What scompt.com was after was a generic &#39;log&#39; method in the SLF4J API, that takes the logging level *of the message* as a parameter.","body":"@ripper234 - I don&#39;t think your bug addressed the same issue as scompt.com&#39;s original question. You asked about configuring the level of the <i>underlying logging system</i> via the SLF4J API. What scompt.com was after was a generic &#39;log&#39; method in the SLF4J API, that takes the logging level <i>of the message</i> as a parameter."},{"owner":{"account_id":1217553,"reputation":2750,"user_id":1184842,"accept_rate":92,"display_name":"jan"},"score":1,"creation_date":1396003231,"post_id":2622044,"comment_id":34606378,"body_markdown":"+1 @RichardFearn And one cannot undo the comment upvote after 60 seconds, *meh*. Feature request is existing meanwhile: http://bugzilla.slf4j.org/show_bug.cgi?id=133","body":"+1 @RichardFearn And one cannot undo the comment upvote after 60 seconds, <i>meh</i>. Feature request is existing meanwhile: <a href=\"http://bugzilla.slf4j.org/show_bug.cgi?id=133\" rel=\"nofollow noreferrer\">bugzilla.slf4j.org/show_bug.cgi?id=133</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1429791659,"post_id":2622044,"comment_id":47772703,"body_markdown":"The RFE links don&#39;t resolve any more.  The relevant links are now: http://jira.qos.ch/browse/SLF4J-124 and http://jira.qos.ch/browse/SLF4J-197 ... and both have been closed.  Read the comments for the rationale.","body":"The RFE links don&#39;t resolve any more.  The relevant links are now: <a href=\"http://jira.qos.ch/browse/SLF4J-124\" rel=\"nofollow noreferrer\">jira.qos.ch/browse/SLF4J-124</a> and <a href=\"http://jira.qos.ch/browse/SLF4J-197\" rel=\"nofollow noreferrer\">jira.qos.ch/browse/SLF4J-197</a> ... and both have been closed.  Read the comments for the rationale."},{"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"score":0,"creation_date":1531371550,"post_id":2622044,"comment_id":89572215,"body_markdown":"SLFJ does one thing very good, it routs all other logging framework calls to one logging implementation, i suggest you write your implementation (its a simple one class to do whatever you need) ever since i did it, i have no issues with logging.","body":"SLFJ does one thing very good, it routs all other logging framework calls to one logging implementation, i suggest you write your implementation (its a simple one class to do whatever you need) ever since i did it, i have no issues with logging."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":1,"creation_date":1625006168,"post_id":2622044,"comment_id":120510922,"body_markdown":"Fixed in SLF4J 2.0.0-alpha2. See also my below. \n\nhttps://stackoverflow.com/a/68185612/100970","body":"Fixed in SLF4J 2.0.0-alpha2. See also my below.   <a href=\"https://stackoverflow.com/a/68185612/100970\">stackoverflow.com/a/68185612/100970</a>"},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1653945003,"post_id":2622044,"comment_id":127970183,"body_markdown":"I am the one-billionth person to look up how to set the logging level in slf4j, and like everyone else, so far unable to find a clear and simple answer.","body":"I am the one-billionth person to look up how to set the logging level in slf4j, and like everyone else, so far unable to find a clear and simple answer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1653951460,"post_id":2622044,"comment_id":127971232,"body_markdown":"@Gerry - Clear simple answer.  Update to SLF4J 2.0.0.  As of right now, the latest is alpha7.","body":"@Gerry - Clear simple answer.  Update to SLF4J 2.0.0.  As of right now, the latest is alpha7."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":11,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1652443285,"creation_date":1271075811,"answer_id":2622044,"question_id":2621701,"body_markdown":"There is no way to do this with slf4j 1.x.\r\n\r\nI imagine that the reason that this functionality is missing is that it is next to impossible to construct a `Level` type for slf4j that can be efficiently mapped to the `Level` (or equivalent) type used in all of the possible logging implementations behind the facade.  Alternatively, the designers decided that [your use-case is too unusual][1] to justify the overheads of supporting it.\r\n\r\nConcerning [@ripper234][2]&#39;s [use-case][3] (unit testing), I think the pragmatic solution is modify the unit test(s) to hard-wire knowledge of what logging system is behind the slf4j facade ... when running the unit tests.\r\n\r\n------------------\r\n\r\n**UPDATE** \r\n\r\nThey intend to implement piecemeal construction of logging events (with dynamic logging levels) in slf4j 2.0; see https://jira.qos.ch/browse/SLF4J-124.  According to @Ceki (see comments), it is implemented in the 2.0.0-alpha2 release.\r\n\r\n\r\n  [1]: http://jira.qos.ch/browse/SLF4J-124\r\n  [2]: https://stackoverflow.com/users/11236/ripper234\r\n  [3]: http://jira.qos.ch/browse/SLF4J-197","title":"Setting log level of message at runtime in slf4j","body":"<p>There is no way to do this with slf4j 1.x.</p>\n<p>I imagine that the reason that this functionality is missing is that it is next to impossible to construct a <code>Level</code> type for slf4j that can be efficiently mapped to the <code>Level</code> (or equivalent) type used in all of the possible logging implementations behind the facade.  Alternatively, the designers decided that <a href=\"http://jira.qos.ch/browse/SLF4J-124\" rel=\"nofollow noreferrer\">your use-case is too unusual</a> to justify the overheads of supporting it.</p>\n<p>Concerning <a href=\"https://stackoverflow.com/users/11236/ripper234\">@ripper234</a>'s <a href=\"http://jira.qos.ch/browse/SLF4J-197\" rel=\"nofollow noreferrer\">use-case</a> (unit testing), I think the pragmatic solution is modify the unit test(s) to hard-wire knowledge of what logging system is behind the slf4j facade ... when running the unit tests.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>They intend to implement piecemeal construction of logging events (with dynamic logging levels) in slf4j 2.0; see <a href=\"https://jira.qos.ch/browse/SLF4J-124\" rel=\"nofollow noreferrer\">https://jira.qos.ch/browse/SLF4J-124</a>.  According to @Ceki (see comments), it is implemented in the 2.0.0-alpha2 release.</p>\n"},{"comments":[{"owner":{"account_id":222105,"reputation":1801,"user_id":480483,"accept_rate":80,"display_name":"djjeck"},"score":5,"creation_date":1403224517,"post_id":6131369,"comment_id":37587409,"body_markdown":"True, but slf4j purpose is not to have to write log wrappers.","body":"True, but slf4j purpose is not to have to write log wrappers."},{"owner":{"account_id":68828,"reputation":25201,"user_id":200609,"accept_rate":25,"display_name":"Richard Fearn"},"score":6,"creation_date":1403254161,"post_id":6131369,"comment_id":37596552,"body_markdown":"The purpose of SLF4J is to provide an abstraction for different logging frameworks. If that abstraction doesn&#39;t provide exactly what you need, you have no choice but to write a helper method. The only other alternative is to contribute a method like the one in my answer to the SLF4J project.","body":"The purpose of SLF4J is to provide an abstraction for different logging frameworks. If that abstraction doesn&#39;t provide exactly what you need, you have no choice but to write a helper method. The only other alternative is to contribute a method like the one in my answer to the SLF4J project."},{"owner":{"account_id":222105,"reputation":1801,"user_id":480483,"accept_rate":80,"display_name":"djjeck"},"score":2,"creation_date":1403289962,"post_id":6131369,"comment_id":37616622,"body_markdown":"I agree, but in this case there are caveats, like that you wouldn&#39;t be able to provide file and line number anymore, unless you implemented yet another workaround for that. \nIn this case I would have stuck with log4j, until the framework supported the feature - which eventually happened through an extension, see Robert Elliot&#39;s more recent answer.","body":"I agree, but in this case there are caveats, like that you wouldn&#39;t be able to provide file and line number anymore, unless you implemented yet another workaround for that.  In this case I would have stuck with log4j, until the framework supported the feature - which eventually happened through an extension, see Robert Elliot&#39;s more recent answer."}],"tags":[],"owner":{"account_id":68828,"reputation":25201,"user_id":200609,"accept_rate":25,"display_name":"Richard Fearn"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1306360013,"creation_date":1306360013,"answer_id":6131369,"question_id":2621701,"body_markdown":"This can be done with an `enum` and a helper method:\r\n\r\n    enum LogLevel {\r\n        TRACE,\r\n        DEBUG,\r\n        INFO,\r\n        WARN,\r\n        ERROR,\r\n    }\r\n\r\n    public static void log(Logger logger, LogLevel level, String format, Object[] argArray) {\r\n        switch (level) {\r\n            case TRACE:\r\n                logger.trace(format, argArray);\r\n                break;\r\n            case DEBUG:\r\n                logger.debug(format, argArray);\r\n                break;\r\n            case INFO:\r\n                logger.info(format, argArray);\r\n                break;\r\n            case WARN:\r\n                logger.warn(format, argArray);\r\n                break;\r\n            case ERROR:\r\n                logger.error(format, argArray);\r\n                break;\r\n        }\r\n    }\r\n    \r\n    // example usage:\r\n    private static final Logger logger = ...\r\n    final LogLevel level = ...\r\n    log(logger, level, &quot;Something bad happened&quot;, ...);\r\n\r\nYou could add other variants of `log`, say if you wanted generic equivalents of SLF4J&#39;s 1-parameter or 2-parameter `warn`/`error`/etc. methods.\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>This can be done with an <code>enum</code> and a helper method:</p>\n\n<pre><code>enum LogLevel {\n    TRACE,\n    DEBUG,\n    INFO,\n    WARN,\n    ERROR,\n}\n\npublic static void log(Logger logger, LogLevel level, String format, Object[] argArray) {\n    switch (level) {\n        case TRACE:\n            logger.trace(format, argArray);\n            break;\n        case DEBUG:\n            logger.debug(format, argArray);\n            break;\n        case INFO:\n            logger.info(format, argArray);\n            break;\n        case WARN:\n            logger.warn(format, argArray);\n            break;\n        case ERROR:\n            logger.error(format, argArray);\n            break;\n    }\n}\n\n// example usage:\nprivate static final Logger logger = ...\nfinal LogLevel level = ...\nlog(logger, level, \"Something bad happened\", ...);\n</code></pre>\n\n<p>You could add other variants of <code>log</code>, say if you wanted generic equivalents of SLF4J's 1-parameter or 2-parameter <code>warn</code>/<code>error</code>/etc. methods.</p>\n"},{"comments":[{"owner":{"account_id":1758,"reputation":5722,"user_id":2391,"accept_rate":100,"display_name":"Anonymoose"},"score":0,"creation_date":1340834095,"post_id":7829534,"comment_id":14760942,"body_markdown":"This would be easier to use with a variadic (Object...) args parameter.","body":"This would be easier to use with a variadic (Object...) args parameter."},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1387559858,"post_id":7829534,"comment_id":31019042,"body_markdown":"&quot;org.slf4j.Logger&quot; has quite a few logging method signatures that are not handled in the above class, so an extension is probably warranted: http://www.slf4j.org/api/org/slf4j/Logger.html","body":"&quot;org.slf4j.Logger&quot; has quite a few logging method signatures that are not handled in the above class, so an extension is probably warranted: <a href=\"http://www.slf4j.org/api/org/slf4j/Logger.html\" rel=\"nofollow noreferrer\">slf4j.org/api/org/slf4j/Logger.html</a>"},{"owner":{"account_id":2592553,"reputation":463,"user_id":2246932,"display_name":"Domin"},"score":2,"creation_date":1439362312,"post_id":7829534,"comment_id":51824185,"body_markdown":"I think that this implementation will add a non desired change.\nWhen you use the call logger.info(...) the logger has access to the caller class and method and it could be added to the log entry automatically.\nNow,  with this implementation, the call log(logger, level, txt) will produce a log entry which will have always the same caller: Loglevel.log.\nAm I right?","body":"I think that this implementation will add a non desired change. When you use the call logger.info(...) the logger has access to the caller class and method and it could be added to the log entry automatically. Now,  with this implementation, the call log(logger, level, txt) will produce a log entry which will have always the same caller: Loglevel.log. Am I right?"},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1439402839,"post_id":7829534,"comment_id":51851725,"body_markdown":"@Domin Hi, you mean, the logger could examine the current call stack, then extract the last entry for automatic logging, which is not the case here? In principle yes, but in fact, the stack will grove a bit more even after this until the actual message is written out (in particular, logback has to be called at some point, an then the actual appender). I think it should be the appender&#39;s role to throw away non-interesting stack lines, so you could adapt it to throw everything away up to and including the call to this Loglevel class.","body":"@Domin Hi, you mean, the logger could examine the current call stack, then extract the last entry for automatic logging, which is not the case here? In principle yes, but in fact, the stack will grove a bit more even after this until the actual message is written out (in particular, logback has to be called at some point, an then the actual appender). I think it should be the appender&#39;s role to throw away non-interesting stack lines, so you could adapt it to throw everything away up to and including the call to this Loglevel class."},{"owner":{"account_id":2592553,"reputation":463,"user_id":2246932,"display_name":"Domin"},"score":0,"creation_date":1439561445,"post_id":7829534,"comment_id":51926583,"body_markdown":"@David, Yes, you are right :-). I&#39;m not sure that it is a task for the appender because on that case you are defining a hard dependency between the appender and the logger... but... it is a solution. Thanks David","body":"@David, Yes, you are right :-). I&#39;m not sure that it is a task for the appender because on that case you are defining a hard dependency between the appender and the logger... but... it is a solution. Thanks David"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1558706113,"post_id":7829534,"comment_id":99200635,"body_markdown":"The trouble with this is you are not logging with slf4j anymore.  You are logging with a custom logging facade for the slf4j logging facade for a real logger.  You have to modify your test / application / whatever code to do this.","body":"The trouble with this is you are not logging with slf4j anymore.  You are logging with a custom logging facade for the slf4j logging facade for a real logger.  You have to modify your test / application / whatever code to do this."},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1558708144,"post_id":7829534,"comment_id":99201814,"body_markdown":"@StephenC ... but only when needed, i.e. probably just in a few classes. This new &quot;logging facade&quot; is after all just a thin shim that can even be code-duplicated. (Maybe slf4j has this facility now? I haven&#39;t seriously coded in some time)","body":"@StephenC ... but only when needed, i.e. probably just in a few classes. This new &quot;logging facade&quot; is after all just a thin shim that can even be code-duplicated. (Maybe slf4j has this facility now? I haven&#39;t seriously coded in some time)"},{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1657029210,"post_id":7829534,"comment_id":128708637,"body_markdown":"@DavidTonhofer actually the entry point into the logging facade should remove stack frames. The appender can&#39;t know what logging framework is calling it - could be SLF4J, could be just raw Logback, could be log4j2 with its own Logback adapter, could be a newer j.u.l with Logback, could be some homebrew logging.","body":"@DavidTonhofer actually the entry point into the logging facade should remove stack frames. The appender can&#39;t know what logging framework is calling it - could be SLF4J, could be just raw Logback, could be log4j2 with its own Logback adapter, could be a newer j.u.l with Logback, could be some homebrew logging."}],"tags":[],"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"comment_count":8,"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1319068085,"creation_date":1319067678,"answer_id":7829534,"question_id":2621701,"body_markdown":"Richard Fearn has the right idea, so I wrote up the full class based on his skeleton code. It&#39;s hopefully short enough to post here. Copy &amp; paste for enjoyment. I should probably add some magic incantation, too: &quot;This code is released to the public domain&quot;\r\n\r\n\r\n    import org.slf4j.Logger;\r\n    \r\n    public class LogLevel {\r\n    \r\n        /**\r\n         * Allowed levels, as an enum. Import using &quot;import [package].LogLevel.Level&quot;\r\n         * Every logging implementation has something like this except SLF4J.\r\n         */\r\n    \r\n        public static enum Level {\r\n            TRACE, DEBUG, INFO, WARN, ERROR\r\n        }\r\n    \r\n        /**\r\n         * This class cannot be instantiated, why would you want to?\r\n         */\r\n    \r\n        private LogLevel() {\r\n            // Unreachable\r\n        }\r\n    \r\n        /**\r\n         * Log at the specified level. If the &quot;logger&quot; is null, nothing is logged.\r\n         * If the &quot;level&quot; is null, nothing is logged. If the &quot;txt&quot; is null,\r\n         * behaviour depends on the SLF4J implementation.\r\n         */\r\n    \r\n        public static void log(Logger logger, Level level, String txt) {\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    logger.trace(txt);\r\n                    break;\r\n                case DEBUG:\r\n                    logger.debug(txt);\r\n                    break;\r\n                case INFO:\r\n                    logger.info(txt);\r\n                    break;\r\n                case WARN:\r\n                    logger.warn(txt);\r\n                    break;\r\n                case ERROR:\r\n                    logger.error(txt);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Log at the specified level. If the &quot;logger&quot; is null, nothing is logged.\r\n         * If the &quot;level&quot; is null, nothing is logged. If the &quot;format&quot; or the &quot;argArray&quot;\r\n         * are null, behaviour depends on the SLF4J-backing implementation.\r\n         */\r\n    \r\n        public static void log(Logger logger, Level level, String format, Object[] argArray) {\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    logger.trace(format, argArray);\r\n                    break;\r\n                case DEBUG:\r\n                    logger.debug(format, argArray);\r\n                    break;\r\n                case INFO:\r\n                    logger.info(format, argArray);\r\n                    break;\r\n                case WARN:\r\n                    logger.warn(format, argArray);\r\n                    break;\r\n                case ERROR:\r\n                    logger.error(format, argArray);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Log at the specified level, with a Throwable on top. If the &quot;logger&quot; is null,\r\n         * nothing is logged. If the &quot;level&quot; is null, nothing is logged. If the &quot;format&quot; or\r\n         * the &quot;argArray&quot; or the &quot;throwable&quot; are null, behaviour depends on the SLF4J-backing\r\n         * implementation.\r\n         */\r\n        \r\n        public static void log(Logger logger, Level level, String txt, Throwable throwable) {\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    logger.trace(txt, throwable);\r\n                    break;\r\n                case DEBUG:\r\n                    logger.debug(txt, throwable);\r\n                    break;\r\n                case INFO:\r\n                    logger.info(txt, throwable);\r\n                    break;\r\n                case WARN:\r\n                    logger.warn(txt, throwable);\r\n                    break;\r\n                case ERROR:\r\n                    logger.error(txt, throwable);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Check whether a SLF4J logger is enabled for a certain loglevel. \r\n         * If the &quot;logger&quot; or the &quot;level&quot; is null, false is returned.\r\n         */\r\n    \r\n        public static boolean isEnabledFor(Logger logger, Level level) {\r\n            boolean res = false;\r\n            if (logger != null &amp;&amp; level != null) {\r\n                switch (level) {\r\n                case TRACE:\r\n                    res = logger.isTraceEnabled();\r\n                    break;\r\n                case DEBUG:\r\n                    res = logger.isDebugEnabled();\r\n                    break;\r\n                case INFO:\r\n                    res = logger.isInfoEnabled();\r\n                    break;\r\n                case WARN:\r\n                    res = logger.isWarnEnabled();\r\n                    break;\r\n                case ERROR:\r\n                    res = logger.isErrorEnabled();\r\n                    break;\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    }\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>Richard Fearn has the right idea, so I wrote up the full class based on his skeleton code. It's hopefully short enough to post here. Copy &amp; paste for enjoyment. I should probably add some magic incantation, too: \"This code is released to the public domain\"</p>\n\n<pre><code>import org.slf4j.Logger;\n\npublic class LogLevel {\n\n    /**\n     * Allowed levels, as an enum. Import using \"import [package].LogLevel.Level\"\n     * Every logging implementation has something like this except SLF4J.\n     */\n\n    public static enum Level {\n        TRACE, DEBUG, INFO, WARN, ERROR\n    }\n\n    /**\n     * This class cannot be instantiated, why would you want to?\n     */\n\n    private LogLevel() {\n        // Unreachable\n    }\n\n    /**\n     * Log at the specified level. If the \"logger\" is null, nothing is logged.\n     * If the \"level\" is null, nothing is logged. If the \"txt\" is null,\n     * behaviour depends on the SLF4J implementation.\n     */\n\n    public static void log(Logger logger, Level level, String txt) {\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                logger.trace(txt);\n                break;\n            case DEBUG:\n                logger.debug(txt);\n                break;\n            case INFO:\n                logger.info(txt);\n                break;\n            case WARN:\n                logger.warn(txt);\n                break;\n            case ERROR:\n                logger.error(txt);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Log at the specified level. If the \"logger\" is null, nothing is logged.\n     * If the \"level\" is null, nothing is logged. If the \"format\" or the \"argArray\"\n     * are null, behaviour depends on the SLF4J-backing implementation.\n     */\n\n    public static void log(Logger logger, Level level, String format, Object[] argArray) {\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                logger.trace(format, argArray);\n                break;\n            case DEBUG:\n                logger.debug(format, argArray);\n                break;\n            case INFO:\n                logger.info(format, argArray);\n                break;\n            case WARN:\n                logger.warn(format, argArray);\n                break;\n            case ERROR:\n                logger.error(format, argArray);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Log at the specified level, with a Throwable on top. If the \"logger\" is null,\n     * nothing is logged. If the \"level\" is null, nothing is logged. If the \"format\" or\n     * the \"argArray\" or the \"throwable\" are null, behaviour depends on the SLF4J-backing\n     * implementation.\n     */\n\n    public static void log(Logger logger, Level level, String txt, Throwable throwable) {\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                logger.trace(txt, throwable);\n                break;\n            case DEBUG:\n                logger.debug(txt, throwable);\n                break;\n            case INFO:\n                logger.info(txt, throwable);\n                break;\n            case WARN:\n                logger.warn(txt, throwable);\n                break;\n            case ERROR:\n                logger.error(txt, throwable);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Check whether a SLF4J logger is enabled for a certain loglevel. \n     * If the \"logger\" or the \"level\" is null, false is returned.\n     */\n\n    public static boolean isEnabledFor(Logger logger, Level level) {\n        boolean res = false;\n        if (logger != null &amp;&amp; level != null) {\n            switch (level) {\n            case TRACE:\n                res = logger.isTraceEnabled();\n                break;\n            case DEBUG:\n                res = logger.isDebugEnabled();\n                break;\n            case INFO:\n                res = logger.isInfoEnabled();\n                break;\n            case WARN:\n                res = logger.isWarnEnabled();\n                break;\n            case ERROR:\n                res = logger.isErrorEnabled();\n                break;\n            }\n        }\n        return res;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":5,"creation_date":1342144403,"post_id":10353716,"comment_id":15132419,"body_markdown":"This explicitly refers to log4j and not slf4j generically","body":"This explicitly refers to log4j and not slf4j generically"}],"tags":[],"owner":{"account_id":1441479,"reputation":21,"user_id":1361505,"display_name":"massimo virgilio"},"comment_count":1,"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1335541510,"creation_date":1335541510,"answer_id":10353716,"question_id":2621701,"body_markdown":"using java introspection you can do it, for example:\r\n\r\n\tprivate void changeRootLoggerLevel(int level) {\r\n\r\n\t\tif (logger instanceof org.slf4j.impl.Log4jLoggerAdapter) {\r\n\t\t\ttry {\r\n\t\t\t\tClass loggerIntrospected = logger.getClass();\r\n\t\t\t\tField fields[] = loggerIntrospected.getDeclaredFields();\r\n\t\t\t\tfor (int i = 0; i &lt; fields.length; i++) {\r\n\t\t\t\t\tString fieldName = fields[i].getName();\r\n\t\t\t\t\tif (fieldName.equals(&quot;logger&quot;)) {\r\n\t\t\t\t\t\tfields[i].setAccessible(true);\r\n\t\t\t\t\t\torg.apache.log4j.Logger loggerImpl = (org.apache.log4j.Logger) fields[i]\r\n\t\t\t\t\t\t\t\t.get(logger);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (level == DIAGNOSTIC_LEVEL) {\r\n\t\t\t\t\t\t\tloggerImpl.setLevel(Level.DEBUG);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tloggerImpl.setLevel(org.apache.log4j.Logger.getRootLogger().getLevel());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// fields[i].setAccessible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\torg.apache.log4j.Logger.getLogger(LoggerSLF4JImpl.class).error(&quot;An error was thrown while changing the Logger level&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}","title":"Setting log level of message at runtime in slf4j","body":"<p>using java introspection you can do it, for example:</p>\n\n<pre><code>private void changeRootLoggerLevel(int level) {\n\n    if (logger instanceof org.slf4j.impl.Log4jLoggerAdapter) {\n        try {\n            Class loggerIntrospected = logger.getClass();\n            Field fields[] = loggerIntrospected.getDeclaredFields();\n            for (int i = 0; i &lt; fields.length; i++) {\n                String fieldName = fields[i].getName();\n                if (fieldName.equals(\"logger\")) {\n                    fields[i].setAccessible(true);\n                    org.apache.log4j.Logger loggerImpl = (org.apache.log4j.Logger) fields[i]\n                            .get(logger);\n\n                    if (level == DIAGNOSTIC_LEVEL) {\n                        loggerImpl.setLevel(Level.DEBUG);\n                    } else {\n                        loggerImpl.setLevel(org.apache.log4j.Logger.getRootLogger().getLevel());\n                    }\n\n                    // fields[i].setAccessible(false);\n                }\n            }\n        } catch (Exception e) {\n            org.apache.log4j.Logger.getLogger(LoggerSLF4JImpl.class).error(\"An error was thrown while changing the Logger level\", e);\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":0,"creation_date":1395186666,"post_id":14399850,"comment_id":34220905,"body_markdown":"I was already using Logback-backed slf4j, and this instantly allowed me to clean up my unit tests. Thanks!","body":"I was already using Logback-backed slf4j, and this instantly allowed me to clean up my unit tests. Thanks!"},{"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"score":2,"creation_date":1396426716,"post_id":14399850,"comment_id":34777125,"body_markdown":"This was my first -1, thanks. I believe you are wrong. Logback uses SLF4J, so the answer IS relevant.","body":"This was my first -1, thanks. I believe you are wrong. Logback uses SLF4J, so the answer IS relevant."},{"owner":{"account_id":1217553,"reputation":2750,"user_id":1184842,"accept_rate":92,"display_name":"jan"},"score":6,"creation_date":1396509415,"post_id":14399850,"comment_id":34822407,"body_markdown":"@AlexandrosGelbessis You should reread the question. It was asked for a method that could log programmatically one log message at any level. You are changing the level of the root logger for all messages, not only for one.","body":"@AlexandrosGelbessis You should reread the question. It was asked for a method that could log programmatically one log message at any level. You are changing the level of the root logger for all messages, not only for one."}],"tags":[],"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"comment_count":3,"down_vote_count":12,"up_vote_count":33,"is_accepted":false,"score":21,"last_activity_date":1484353230,"creation_date":1358515218,"answer_id":14399850,"question_id":2621701,"body_markdown":"Try switching to Logback and use\r\n\r\n\tch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger)LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\r\n\trootLogger.setLevel(Level.toLevel(&quot;info&quot;));\r\n\r\nI believe this will be the only call to Logback and the rest of your code will remain unchanged. Logback uses SLF4J and the migration will be painless, just the xml config files will have to be changed.\r\n\r\nRemember to set the log level back after you&#39;re done.","title":"Setting log level of message at runtime in slf4j","body":"<p>Try switching to Logback and use</p>\n\n<pre><code>ch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger)LoggerFactory.getLogger(ch.qos.logback.classic.Logger.ROOT_LOGGER_NAME);\nrootLogger.setLevel(Level.toLevel(\"info\"));\n</code></pre>\n\n<p>I believe this will be the only call to Logback and the rest of your code will remain unchanged. Logback uses SLF4J and the migration will be painless, just the xml config files will have to be changed.</p>\n\n<p>Remember to set the log level back after you're done.</p>\n"},{"tags":[],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1396012488,"creation_date":1396012488,"answer_id":22713932,"question_id":2621701,"body_markdown":"Anyone wanting a drop-in fully SLF4J compatible solution to this problem might want to check out [Lidalia SLF4J Extensions](http://projects.lidalia.org.uk/lidalia-slf4j-ext/) - it&#39;s on Maven Central.","title":"Setting log level of message at runtime in slf4j","body":"<p>Anyone wanting a drop-in fully SLF4J compatible solution to this problem might want to check out <a href=\"http://projects.lidalia.org.uk/lidalia-slf4j-ext/\" rel=\"noreferrer\">Lidalia SLF4J Extensions</a> - it's on Maven Central.</p>\n"},{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1477659998,"post_id":24154212,"comment_id":67868577,"body_markdown":"Like other answers, this does not address the original question, it&#39;s a different problem.","body":"Like other answers, this does not address the original question, it&#39;s a different problem."}],"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1402457587,"creation_date":1402457587,"answer_id":24154212,"question_id":2621701,"body_markdown":"I have just encountered a similar need.\r\nIn my case, slf4j is configured with the java logging adapter (the jdk14 one).\r\nUsing the following code snippet I have managed to change the debug level at runtime:\r\n\r\n    Logger logger = LoggerFactory.getLogger(&quot;testing&quot;);\r\n    java.util.logging.Logger julLogger = java.util.logging.Logger.getLogger(&quot;testing&quot;);\r\n    julLogger.setLevel(java.util.logging.Level.FINE);\r\n    logger.debug(&quot;hello world&quot;);\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>I have just encountered a similar need.\nIn my case, slf4j is configured with the java logging adapter (the jdk14 one).\nUsing the following code snippet I have managed to change the debug level at runtime:</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(\"testing\");\njava.util.logging.Logger julLogger = java.util.logging.Logger.getLogger(\"testing\");\njulLogger.setLevel(java.util.logging.Level.FINE);\nlogger.debug(\"hello world\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456317591,"creation_date":1456317591,"answer_id":35602473,"question_id":2621701,"body_markdown":"Based on the answer of massimo virgilio, I&#39;ve also managed to do it with slf4j-log4j using introspection. HTH.\r\n\r\n\tLogger LOG = LoggerFactory.getLogger(MyOwnClass.class);\r\n\r\n\torg.apache.logging.slf4j.Log4jLogger LOGGER = (org.apache.logging.slf4j.Log4jLogger) LOG;\r\n\r\n\ttry {\r\n        Class loggerIntrospected = LOGGER.getClass();\r\n        Field fields[] = loggerIntrospected.getDeclaredFields();\r\n        for (int i = 0; i &lt; fields.length; i++) {\r\n            String fieldName = fields[i].getName();\r\n            if (fieldName.equals(&quot;logger&quot;)) {\r\n                fields[i].setAccessible(true);\r\n                org.apache.logging.log4j.core.Logger loggerImpl = (org.apache.logging.log4j.core.Logger) fields[i].get(LOGGER);\r\n                loggerImpl.setLevel(Level.DEBUG);\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;ERROR :&quot; + e.getMessage());\r\n    }","title":"Setting log level of message at runtime in slf4j","body":"<p>Based on the answer of massimo virgilio, I've also managed to do it with slf4j-log4j using introspection. HTH.</p>\n\n<pre><code>Logger LOG = LoggerFactory.getLogger(MyOwnClass.class);\n\norg.apache.logging.slf4j.Log4jLogger LOGGER = (org.apache.logging.slf4j.Log4jLogger) LOG;\n\ntry {\n    Class loggerIntrospected = LOGGER.getClass();\n    Field fields[] = loggerIntrospected.getDeclaredFields();\n    for (int i = 0; i &lt; fields.length; i++) {\n        String fieldName = fields[i].getName();\n        if (fieldName.equals(\"logger\")) {\n            fields[i].setAccessible(true);\n            org.apache.logging.log4j.core.Logger loggerImpl = (org.apache.logging.log4j.core.Logger) fields[i].get(LOGGER);\n            loggerImpl.setLevel(Level.DEBUG);\n        }\n    }\n} catch (Exception e) {\n    System.out.println(\"ERROR :\" + e.getMessage());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1538954223,"post_id":35922732,"comment_id":92314236,"body_markdown":"Well yea ... but now you need to modify your codebase to use this API as well as or instead of slf4j.  If you use it instead of slf4j 1) it probably needs to be richer, 2) lots of (at least) imports need to be changed, and 3) this new layer in front of slf4j adds an extra logging overhead.","body":"Well yea ... but now you need to modify your codebase to use this API as well as or instead of slf4j.  If you use it instead of slf4j 1) it probably needs to be richer, 2) lots of (at least) imports need to be changed, and 3) this new layer in front of slf4j adds an extra logging overhead."},{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":5,"creation_date":1539948727,"post_id":35922732,"comment_id":92695610,"body_markdown":"Be also aware that when you go for this solution, the class that does the actual logging will not be logged (because the logger is initialized with `LevelLogger`), which is not a good thing because it&#39;s generally very useful information.","body":"Be also aware that when you go for this solution, the class that does the actual logging will not be logged (because the logger is initialized with <code>LevelLogger</code>), which is not a good thing because it&#39;s generally very useful information."}],"tags":[],"owner":{"account_id":10135,"reputation":14548,"user_id":18995,"accept_rate":81,"display_name":"Paul Croarkin"},"comment_count":2,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1457629266,"creation_date":1457629266,"answer_id":35922732,"question_id":2621701,"body_markdown":"You can implement this using Java 8 lambdas.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.slf4j.event.Level;\r\n    \r\n    public class LevelLogger {\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(LevelLogger.class);\r\n    \tprivate static final Map&lt;Level, LoggingFunction&gt; map;\r\n    \r\n    \tstatic {\r\n    \t\tmap = new HashMap&lt;&gt;();\r\n    \t\tmap.put(Level.TRACE, (o) -&gt; LOGGER.trace(o));\r\n    \t\tmap.put(Level.DEBUG, (o) -&gt; LOGGER.debug(o));\r\n    \t\tmap.put(Level.INFO, (o) -&gt; LOGGER.info(o));\r\n    \t\tmap.put(Level.WARN, (o) -&gt; LOGGER.warn(o));\r\n    \t\tmap.put(Level.ERROR, (o) -&gt; LOGGER.error(o));\r\n    \t}\r\n    \t\r\n    \tpublic static void log(Level level, String s) {\r\n    \t\tmap.get(level).log(s);\r\n    \t}\r\n    \t\r\n    \t@FunctionalInterface\r\n    \tprivate interface LoggingFunction {\r\n    \t\tpublic void log(String arg);\r\n    \t}\r\n    }","title":"Setting log level of message at runtime in slf4j","body":"<p>You can implement this using Java 8 lambdas.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.event.Level;\n\npublic class LevelLogger {\n    private static final Logger LOGGER = LoggerFactory.getLogger(LevelLogger.class);\n    private static final Map&lt;Level, LoggingFunction&gt; map;\n\n    static {\n        map = new HashMap&lt;&gt;();\n        map.put(Level.TRACE, (o) -&gt; LOGGER.trace(o));\n        map.put(Level.DEBUG, (o) -&gt; LOGGER.debug(o));\n        map.put(Level.INFO, (o) -&gt; LOGGER.info(o));\n        map.put(Level.WARN, (o) -&gt; LOGGER.warn(o));\n        map.put(Level.ERROR, (o) -&gt; LOGGER.error(o));\n    }\n\n    public static void log(Level level, String s) {\n        map.get(level).log(s);\n    }\n\n    @FunctionalInterface\n    private interface LoggingFunction {\n        public void log(String arg);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2401759,"reputation":525,"user_id":2099362,"display_name":"EndlosSchleife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469784645,"creation_date":1469784645,"answer_id":38655293,"question_id":2621701,"body_markdown":"Here&#39;s a lambda solution not as user-friendly as @Paul Croarkin&#39;s in one way (the level is effectively passed twice). But I think (a) the user should pass the Logger; and (b) AFAIU the original question was not asking for a convenient way for everywhere in the application, only a situation with few usages inside a library.\r\n\r\n\tpackage test.lambda;\r\n\timport java.util.function.*;\r\n\timport org.slf4j.*;\r\n\t\r\n\tpublic class LoggerLambda {\r\n\t\tprivate static final Logger LOG = LoggerFactory.getLogger(LoggerLambda.class);\r\n\t\r\n\t\tprivate LoggerLambda() {}\r\n\t\r\n\t\tpublic static void log(BiConsumer&lt;? super String, ? super Object[]&gt; logFunc, Supplier&lt;Boolean&gt; logEnabledPredicate, \r\n\t\t\t\tString format, Object... args) {\r\n\t\t\tif (logEnabledPredicate.get()) {\r\n\t\t\t\tlogFunc.accept(format, args);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint a = 1, b = 2, c = 3;\r\n\t\t\tThrowable e = new Exception(&quot;something went wrong&quot;, new IllegalArgumentException());\r\n\t\t\tlog(LOG::info, LOG::isInfoEnabled, &quot;a = {}, b = {}, c = {}&quot;, a, b, c);\r\n\t\t\t\r\n\t\t\t// warn(String, Object...) instead of warn(String, Throwable), but prints stacktrace nevertheless\r\n\t\t\tlog(LOG::warn, LOG::isWarnEnabled, &quot;error doing something: {}&quot;, e, e);\r\n\t\t}\r\n\t}\r\n\r\nSince slf4j [allows a Throwable (whose stack trace should be logged) inside the varargs param](http://www.slf4j.org/faq.html#paramException), I think there is no need for overloading the `log` helper method for other consumers than `(String, Object[])`.","title":"Setting log level of message at runtime in slf4j","body":"<p>Here's a lambda solution not as user-friendly as @Paul Croarkin's in one way (the level is effectively passed twice). But I think (a) the user should pass the Logger; and (b) AFAIU the original question was not asking for a convenient way for everywhere in the application, only a situation with few usages inside a library.</p>\n\n<pre><code>package test.lambda;\nimport java.util.function.*;\nimport org.slf4j.*;\n\npublic class LoggerLambda {\n    private static final Logger LOG = LoggerFactory.getLogger(LoggerLambda.class);\n\n    private LoggerLambda() {}\n\n    public static void log(BiConsumer&lt;? super String, ? super Object[]&gt; logFunc, Supplier&lt;Boolean&gt; logEnabledPredicate, \n            String format, Object... args) {\n        if (logEnabledPredicate.get()) {\n            logFunc.accept(format, args);\n        }\n    }\n\n    public static void main(String[] args) {\n        int a = 1, b = 2, c = 3;\n        Throwable e = new Exception(\"something went wrong\", new IllegalArgumentException());\n        log(LOG::info, LOG::isInfoEnabled, \"a = {}, b = {}, c = {}\", a, b, c);\n\n        // warn(String, Object...) instead of warn(String, Throwable), but prints stacktrace nevertheless\n        log(LOG::warn, LOG::isWarnEnabled, \"error doing something: {}\", e, e);\n    }\n}\n</code></pre>\n\n<p>Since slf4j <a href=\"http://www.slf4j.org/faq.html#paramException\" rel=\"nofollow\">allows a Throwable (whose stack trace should be logged) inside the varargs param</a>, I think there is no need for overloading the <code>log</code> helper method for other consumers than <code>(String, Object[])</code>.</p>\n"},{"tags":[],"owner":{"account_id":202116,"reputation":1645,"user_id":448978,"display_name":"youurayy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498006205,"creation_date":1498006205,"answer_id":44665169,"question_id":2621701,"body_markdown":"I was able to do this for the JDK14 binding by first requesting the SLF4J Logger instance and _then_ setting the level on the binding -- you may try this for the Log4J binding.\r\n\r\n    private void setLevel(Class loggerClass, java.util.logging.Level level) {\r\n      org.slf4j.LoggerFactory.getLogger(loggerClass);\r\n      java.util.logging.Logger.getLogger(loggerClass.getName()).setLevel(level);\r\n    }\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>I was able to do this for the JDK14 binding by first requesting the SLF4J Logger instance and <em>then</em> setting the level on the binding -- you may try this for the Log4J binding.</p>\n\n<pre><code>private void setLevel(Class loggerClass, java.util.logging.Level level) {\n  org.slf4j.LoggerFactory.getLogger(loggerClass);\n  java.util.logging.Logger.getLogger(loggerClass.getName()).setLevel(level);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12159655,"reputation":41,"user_id":8877602,"display_name":"Glenn Inn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550278011,"creation_date":1550278011,"answer_id":54718800,"question_id":2621701,"body_markdown":"The method I use is to import the ch.qos.logback modules and then type-cast the slf4j Logger instance to a ch.qos.logback.classic.Logger. This instance includes a setLevel() method.  \r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n    Logger levelSet = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\r\n    // Now you can set the desired logging-level\r\n    levelSet.setLevel( Level.OFF );\r\n\r\n\r\nTo find out the possible Logging-levels, you can explode the ch.qos.logback class to see all the possible values for **Level**:\r\n\r\n    prompt$ javap -cp logback-classic-1.2.3.jar ch.qos.logback.classic.Level\r\n\r\nThe results are the following:\r\n\r\n    {\r\n       // ...skipping\r\n       public static final ch.qos.logback.classic.Level OFF;\r\n       public static final ch.qos.logback.classic.Level ERROR;\r\n       public static final ch.qos.logback.classic.Level WARN;\r\n       public static final ch.qos.logback.classic.Level INFO;\r\n       public static final ch.qos.logback.classic.Level DEBUG;\r\n       public static final ch.qos.logback.classic.Level TRACE;\r\n       public static final ch.qos.logback.classic.Level ALL;\r\n    }\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>The method I use is to import the ch.qos.logback modules and then type-cast the slf4j Logger instance to a ch.qos.logback.classic.Logger. This instance includes a setLevel() method.  </p>\n\n<pre><code>import ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\n\nLogger levelSet = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n\n// Now you can set the desired logging-level\nlevelSet.setLevel( Level.OFF );\n</code></pre>\n\n<p>To find out the possible Logging-levels, you can explode the ch.qos.logback class to see all the possible values for <strong>Level</strong>:</p>\n\n<pre><code>prompt$ javap -cp logback-classic-1.2.3.jar ch.qos.logback.classic.Level\n</code></pre>\n\n<p>The results are the following:</p>\n\n<pre><code>{\n   // ...skipping\n   public static final ch.qos.logback.classic.Level OFF;\n   public static final ch.qos.logback.classic.Level ERROR;\n   public static final ch.qos.logback.classic.Level WARN;\n   public static final ch.qos.logback.classic.Level INFO;\n   public static final ch.qos.logback.classic.Level DEBUG;\n   public static final ch.qos.logback.classic.Level TRACE;\n   public static final ch.qos.logback.classic.Level ALL;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":0,"creation_date":1558432413,"post_id":55847315,"comment_id":99090179,"body_markdown":"Thank you very much for this awesome approach - I posted a similar answer, based on your idea.","body":"Thank you very much for this awesome approach - I posted a similar answer, based on your idea."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":0,"creation_date":1558512650,"post_id":55847315,"comment_id":99121696,"body_markdown":"`DEBUG` is missing as constant.","body":"<code>DEBUG</code> is missing as constant."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":0,"creation_date":1558512723,"post_id":55847315,"comment_id":99121732,"body_markdown":"This solution will always log `LogLevel` as class and `log` as method, which makes the logs less meaningfull.","body":"This solution will always log <code>LogLevel</code> as class and <code>log</code> as method, which makes the logs less meaningfull."}],"tags":[],"owner":{"account_id":5694248,"reputation":113,"user_id":4501221,"display_name":"Kamil Nowak"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556188590,"creation_date":1556188590,"answer_id":55847315,"question_id":2621701,"body_markdown":"I&#39;ve just needed something like that and came up with:\r\n\r\n\t@RequiredArgsConstructor //lombok annotation\r\n\tpublic enum LogLevel{\r\n\t\t\r\n\t\tTRACE(l -&gt; l::trace),\r\n\t\tINFO (l -&gt; l::info),\r\n\t\tWARN (l -&gt; l::warn),\r\n\t\tERROR(l -&gt; l::error);\r\n\t\t\r\n\t\tprivate final Function&lt;Logger, Consumer&lt;String&gt;&gt; function;\r\n\t\t\r\n\t\tpublic void log(Logger logger, String message) {\r\n\t\t\tfunction.apply(logger).accept(message);\r\n\t\t}\r\n\t}\r\n\r\nusage:\r\n\r\n\t\tLogLevel level = LogLevel.TRACE;\r\n    \tlevel.log(logger, &quot;message&quot;);\r\n\r\nLogger is passed during invocation, so the class info should be ok, and it works nicely with @Slf4j lombok annotation.","title":"Setting log level of message at runtime in slf4j","body":"<p>I've just needed something like that and came up with:</p>\n\n<pre><code>@RequiredArgsConstructor //lombok annotation\npublic enum LogLevel{\n\n    TRACE(l -&gt; l::trace),\n    INFO (l -&gt; l::info),\n    WARN (l -&gt; l::warn),\n    ERROR(l -&gt; l::error);\n\n    private final Function&lt;Logger, Consumer&lt;String&gt;&gt; function;\n\n    public void log(Logger logger, String message) {\n        function.apply(logger).accept(message);\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>    LogLevel level = LogLevel.TRACE;\n    level.log(logger, \"message\");\n</code></pre>\n\n<p>Logger is passed during invocation, so the class info should be ok, and it works nicely with @Slf4j lombok annotation.</p>\n"},{"comments":[{"owner":{"account_id":3491742,"reputation":497,"user_id":2921256,"display_name":"andrebrait"},"score":0,"creation_date":1583931442,"post_id":56235230,"comment_id":107277111,"body_markdown":"Note: the `LogMethod` interface needs to be public for it to work with classes outside of its package.\nOther than that, it works as intended. Thanks!","body":"Note: the <code>LogMethod</code> interface needs to be public for it to work with classes outside of its package. Other than that, it works as intended. Thanks!"}],"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558605916,"creation_date":1558430859,"answer_id":56235230,"question_id":2621701,"body_markdown":"It is **not** possible to specify a log level in sjf4j `1.x` out of the box. But there is hope for slf4j `2.0` to fix [the issue][1]. In 2.0 it might look like this:\r\n\r\n    // POTENTIAL 2.0 SOLUTION\r\n    import org.slf4j.helpers.Util;\r\n    import static org.slf4j.spi.LocationAwareLogger.*;\r\n\r\n    // does not work with slf4j 1.x\r\n    Util.log(logger, DEBUG_INT, &quot;hello world!&quot;);\r\n\r\n\r\nIn the meanwhile, for slf4j 1.x, you can use this workaround:\r\n\r\nCopy this class into your classpath:\r\n\r\n    import org.slf4j.Logger;\r\n    import java.util.function.Function;\r\n    \r\n    public enum LogLevel {\r\n    \r\n        TRACE(l -&gt; l::trace, Logger::isTraceEnabled),\r\n        DEBUG(l -&gt; l::debug, Logger::isDebugEnabled),\r\n        INFO(l -&gt; l::info, Logger::isInfoEnabled),\r\n        WARN(l -&gt; l::warn, Logger::isWarnEnabled),\r\n        ERROR(l -&gt; l::error, Logger::isErrorEnabled);\r\n    \r\n        interface LogMethod {\r\n            void log(String format, Object... arguments);\r\n        }\r\n    \r\n        private final Function&lt;Logger, LogMethod&gt; logMethod;\r\n        private final Function&lt;Logger, Boolean&gt; isEnabledMethod;\r\n    \r\n        LogLevel(Function&lt;Logger, LogMethod&gt; logMethod, Function&lt;Logger, Boolean&gt; isEnabledMethod) {\r\n            this.logMethod = logMethod;\r\n            this.isEnabledMethod = isEnabledMethod;\r\n        }\r\n    \r\n        public LogMethod prepare(Logger logger) {\r\n            return logMethod.apply(logger);\r\n        }\r\n    \r\n        public boolean isEnabled(Logger logger) {\r\n            return isEnabledMethod.apply(logger);\r\n        }\r\n    }\r\n\r\nThen you can use it like this:\r\n\r\n    Logger logger = LoggerFactory.getLogger(Application.class);\r\n\r\n    LogLevel level = LogLevel.ERROR;\r\n    level.prepare(logger).log(&quot;It works!&quot;); // just message, without parameter\r\n    level.prepare(logger).log(&quot;Hello {}!&quot;, &quot;world&quot;); // with slf4j&#39;s parameter replacing\r\n\r\n    try {\r\n        throw new RuntimeException(&quot;Oops&quot;);\r\n    } catch (Throwable t) {\r\n        level.prepare(logger).log(&quot;Exception&quot;, t);\r\n    }\r\n\r\n    if (level.isEnabled(logger)) {\r\n        level.prepare(logger).log(&quot;logging is enabled&quot;);\r\n    }\r\n\r\nThis will output a log like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [main] ERROR Application - It works!\r\n    [main] ERROR Application - Hello world!\r\n    [main] ERROR Application - Exception\r\n    java.lang.RuntimeException: Oops\r\n    \tat Application.main(Application.java:14)\r\n    [main] ERROR Application - logging is enabled\r\n\r\nIs it worth it?\r\n\r\n* &lt;kbd&gt;Pro&lt;/kbd&gt; It keeps the **source code location** (class names, method names, line numbers will point to *your* code)\r\n* &lt;kbd&gt;Pro&lt;/kbd&gt; You can easily define **variables**, parameters and return types as `LogLevel`\r\n* &lt;kbd&gt;Pro&lt;/kbd&gt; Your business code stays short and easy to read, and no additional **dependencies** required.\r\n\r\nThe source code as minimal example is hosted [on GitHub][2].\r\n\r\n\r\n  [1]: https://jira.qos.ch/browse/SLF4J-124\r\n  [2]: https://github.com/slartidan/slf4jloglevel/tree/master/src/main/java","title":"Setting log level of message at runtime in slf4j","body":"<p>It is <strong>not</strong> possible to specify a log level in sjf4j <code>1.x</code> out of the box. But there is hope for slf4j <code>2.0</code> to fix <a href=\"https://jira.qos.ch/browse/SLF4J-124\" rel=\"noreferrer\">the issue</a>. In 2.0 it might look like this:</p>\n\n<pre><code>// POTENTIAL 2.0 SOLUTION\nimport org.slf4j.helpers.Util;\nimport static org.slf4j.spi.LocationAwareLogger.*;\n\n// does not work with slf4j 1.x\nUtil.log(logger, DEBUG_INT, \"hello world!\");\n</code></pre>\n\n<p>In the meanwhile, for slf4j 1.x, you can use this workaround:</p>\n\n<p>Copy this class into your classpath:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport java.util.function.Function;\n\npublic enum LogLevel {\n\n    TRACE(l -&gt; l::trace, Logger::isTraceEnabled),\n    DEBUG(l -&gt; l::debug, Logger::isDebugEnabled),\n    INFO(l -&gt; l::info, Logger::isInfoEnabled),\n    WARN(l -&gt; l::warn, Logger::isWarnEnabled),\n    ERROR(l -&gt; l::error, Logger::isErrorEnabled);\n\n    interface LogMethod {\n        void log(String format, Object... arguments);\n    }\n\n    private final Function&lt;Logger, LogMethod&gt; logMethod;\n    private final Function&lt;Logger, Boolean&gt; isEnabledMethod;\n\n    LogLevel(Function&lt;Logger, LogMethod&gt; logMethod, Function&lt;Logger, Boolean&gt; isEnabledMethod) {\n        this.logMethod = logMethod;\n        this.isEnabledMethod = isEnabledMethod;\n    }\n\n    public LogMethod prepare(Logger logger) {\n        return logMethod.apply(logger);\n    }\n\n    public boolean isEnabled(Logger logger) {\n        return isEnabledMethod.apply(logger);\n    }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(Application.class);\n\nLogLevel level = LogLevel.ERROR;\nlevel.prepare(logger).log(\"It works!\"); // just message, without parameter\nlevel.prepare(logger).log(\"Hello {}!\", \"world\"); // with slf4j's parameter replacing\n\ntry {\n    throw new RuntimeException(\"Oops\");\n} catch (Throwable t) {\n    level.prepare(logger).log(\"Exception\", t);\n}\n\nif (level.isEnabled(logger)) {\n    level.prepare(logger).log(\"logging is enabled\");\n}\n</code></pre>\n\n<p>This will output a log like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[main] ERROR Application - It works!\n[main] ERROR Application - Hello world!\n[main] ERROR Application - Exception\njava.lang.RuntimeException: Oops\n    at Application.main(Application.java:14)\n[main] ERROR Application - logging is enabled\n</code></pre>\n\n<p>Is it worth it?</p>\n\n<ul>\n<li><kbd>Pro</kbd> It keeps the <strong>source code location</strong> (class names, method names, line numbers will point to <em>your</em> code)</li>\n<li><kbd>Pro</kbd> You can easily define <strong>variables</strong>, parameters and return types as <code>LogLevel</code></li>\n<li><kbd>Pro</kbd> Your business code stays short and easy to read, and no additional <strong>dependencies</strong> required.</li>\n</ul>\n\n<p>The source code as minimal example is hosted <a href=\"https://github.com/slartidan/slf4jloglevel/tree/master/src/main/java\" rel=\"noreferrer\">on GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":2596982,"reputation":33,"user_id":2250433,"display_name":"pablo127"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566117303,"creation_date":1566117303,"answer_id":57542934,"question_id":2621701,"body_markdown":"It is not possible with slf4j API to dynamically change log level but you can configure logback (if you use this) by your own. In that case create factory class for your logger and implement root logger with configuration that you need. \r\n\r\n\r\n    LoggerContext loggerContext = new LoggerContext();\r\n    ch.qos.logback.classic.Logger root = loggerContext.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\r\n    \r\n    // Configure appender\r\n    final TTLLLayout layout = new TTLLLayout();\r\n    layout.start(); // default layout of logging messages (the form that message displays \r\n    // e.g. 10:26:49.113 [main] INFO com.yourpackage.YourClazz - log message\r\n\r\n    final LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;&gt;();\r\n    encoder.setCharset(StandardCharsets.UTF_8);\r\n    encoder.setLayout(layout);\r\n    \r\n    final ConsoleAppender&lt;ILoggingEvent&gt; appender = new ConsoleAppender&lt;&gt;();\r\n    appender.setContext(loggerContext);\r\n    appender.setEncoder(encoder);\r\n    appender.setName(&quot;console&quot;);\r\n    appender.start();\r\n\r\n    root.addAppender(appender);\r\n\r\n\r\nAfter you configure root logger (only once is enough) you can delegate getting new logger by\r\n\r\n    final ch.qos.logback.classic.Logger logger = loggerContext.getLogger(clazz);\r\n\r\nRemember to use the same `loggerContext`.\r\n\r\nChanging log level is easy to do with root logger given from `loggerContext`.\r\n\r\n    root.setLevel(Level.DEBUG);\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>It is not possible with slf4j API to dynamically change log level but you can configure logback (if you use this) by your own. In that case create factory class for your logger and implement root logger with configuration that you need. </p>\n\n<pre><code>LoggerContext loggerContext = new LoggerContext();\nch.qos.logback.classic.Logger root = loggerContext.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\n\n// Configure appender\nfinal TTLLLayout layout = new TTLLLayout();\nlayout.start(); // default layout of logging messages (the form that message displays \n// e.g. 10:26:49.113 [main] INFO com.yourpackage.YourClazz - log message\n\nfinal LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;&gt;();\nencoder.setCharset(StandardCharsets.UTF_8);\nencoder.setLayout(layout);\n\nfinal ConsoleAppender&lt;ILoggingEvent&gt; appender = new ConsoleAppender&lt;&gt;();\nappender.setContext(loggerContext);\nappender.setEncoder(encoder);\nappender.setName(\"console\");\nappender.start();\n\nroot.addAppender(appender);\n</code></pre>\n\n<p>After you configure root logger (only once is enough) you can delegate getting new logger by</p>\n\n<pre><code>final ch.qos.logback.classic.Logger logger = loggerContext.getLogger(clazz);\n</code></pre>\n\n<p>Remember to use the same <code>loggerContext</code>.</p>\n\n<p>Changing log level is easy to do with root logger given from <code>loggerContext</code>.</p>\n\n<pre><code>root.setLevel(Level.DEBUG);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1632755409,"post_id":61795855,"comment_id":122572641,"body_markdown":"There is no such method, setLevel","body":"There is no such method, setLevel"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1645529620,"post_id":61795855,"comment_id":125890164,"body_markdown":"The logger used in this question is `org.slf4j.Logger`, not `ch.qos.logback.classic.Logger`.","body":"The logger used in this question is <code>org.slf4j.Logger</code>, not <code>ch.qos.logback.classic.Logger</code>."}],"tags":[],"owner":{"account_id":10050309,"reputation":445,"user_id":7430325,"display_name":"Torino"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589454478,"creation_date":1589454478,"answer_id":61795855,"question_id":2621701,"body_markdown":"Confirm answer [Ondrej Skopek][1]\r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    var rootLogger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n    rootLogger.setLevel(Level.TRACE);\r\n\r\nYou will get result:\r\n\r\n&gt; 2020-05-14 14:01:16,644 TRACE [] [o.a.k.c.m.Metrics] Test worker\r\n&gt; Registered metric named MetricName [name=bufferpool-wait-time-total,\r\n&gt; group=producer-metrics, description=The total time an appender waits\r\n&gt; for space allocation., tags={client-id=producer-2}]\r\n\r\n  [1]: https://stackoverflow.com/a/14399850/7430325","title":"Setting log level of message at runtime in slf4j","body":"<p>Confirm answer <a href=\"https://stackoverflow.com/a/14399850/7430325\">Ondrej Skopek</a></p>\n\n<pre><code>import ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport org.slf4j.LoggerFactory;\n\nvar rootLogger = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\nrootLogger.setLevel(Level.TRACE);\n</code></pre>\n\n<p>You will get result:</p>\n\n<blockquote>\n  <p>2020-05-14 14:01:16,644 TRACE [] [o.a.k.c.m.Metrics] Test worker\n  Registered metric named MetricName [name=bufferpool-wait-time-total,\n  group=producer-metrics, description=The total time an appender waits\n  for space allocation., tags={client-id=producer-2}]</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"score":0,"creation_date":1652366356,"post_id":68185612,"comment_id":127593378,"body_markdown":"oh the naming is terrible :(","body":"oh the naming is terrible :("},{"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"score":3,"creation_date":1652366775,"post_id":68185612,"comment_id":127593575,"body_markdown":"boom! https://jira.qos.ch/browse/SLF4J-124?focusedCommentId=20911&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-20911 `atLevel` :) thank gosh!","body":"boom! <a href=\"https://jira.qos.ch/browse/SLF4J-124?focusedCommentId=20911&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-20911\" rel=\"nofollow noreferrer\">jira.qos.ch/browse/&hellip;</a> <code>atLevel</code> :) thank gosh!"},{"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"score":1,"creation_date":1669507425,"post_id":68185612,"comment_id":131656773,"body_markdown":"`logger.atLevel` is the right one. Per the javadoc `logAMessageAtGivenLevel` is intended to be used by logging systems implementing the SLF4J API and not by end users.","body":"<code>logger.atLevel</code> is the right one. Per the javadoc <code>logAMessageAtGivenLevel</code> is intended to be used by logging systems implementing the SLF4J API and not by end users."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":0,"creation_date":1669760887,"post_id":68185612,"comment_id":131715466,"body_markdown":"Changed my answer to use &quot;atLevel()&quot; method instead of &quot;makeLoggingEventBuilder()&quot; method. The latter is intended for use by logging systems and not end users.","body":"Changed my answer to use &quot;atLevel()&quot; method instead of &quot;makeLoggingEventBuilder()&quot; method. The latter is intended for use by logging systems and not end users."},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1701720614,"post_id":68185612,"comment_id":136808569,"body_markdown":"I am trying to use this but I noticed there isn&#39;t a warn level. Which level should I use for that?","body":"I am trying to use this but I noticed there isn&#39;t a warn level. Which level should I use for that?"}],"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669760838,"creation_date":1625000639,"answer_id":68185612,"question_id":2621701,"body_markdown":"The fluent API in SLF4J v2.0 introduces a new method, namely `Logger.atLevel(Level)` which an be used to accomplish the desired outcome.\r\n\r\nExample code:\r\n\r\n    public void logAMessageAtGivenLevel(Level aLevel, String aMessage) {\r\n      Logger logger = .. // some slf4j logger of choice\r\n      logger.atLevel(aLevel).log(aMessage);\r\n    }\r\n\r\nThe default implementation will return the singleton instance of `NOPLoggingEventBuilder` if the logger is disabled for the given `Level`. This implementation of the `LoggingEventBuilder` interface, as the name NOP indicates, does nothing, preserving nanosecond execution time for disabled log messages.\r\n\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>The fluent API in SLF4J v2.0 introduces a new method, namely <code>Logger.atLevel(Level)</code> which an be used to accomplish the desired outcome.</p>\n<p>Example code:</p>\n<pre><code>public void logAMessageAtGivenLevel(Level aLevel, String aMessage) {\n  Logger logger = .. // some slf4j logger of choice\n  logger.atLevel(aLevel).log(aMessage);\n}\n</code></pre>\n<p>The default implementation will return the singleton instance of <code>NOPLoggingEventBuilder</code> if the logger is disabled for the given <code>Level</code>. This implementation of the <code>LoggingEventBuilder</code> interface, as the name NOP indicates, does nothing, preserving nanosecond execution time for disabled log messages.</p>\n"}],"owner":{"account_id":38846,"reputation":29755,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178978,"favorite_count":0,"down_vote_count":0,"up_vote_count":134,"accepted_answer_id":2622044,"answer_count":18,"score":134,"last_activity_date":1669761436,"creation_date":1271072359,"question_id":2621701,"body_markdown":"When using log4j, the `Logger.log(Priority p, Object message)` method is available and can be used to log a message at a log level determined at runtime. We&#39;re using this fact and [this tip][1] to redirect stderr to a logger at a specific log level.\r\n\r\nslf4j doesn&#39;t have a generic `log()` method that I can find. Does that mean there&#39;s no way to implement the above?\r\n\r\n**Update:** As of SLF4J version 2.0, it is possible to use the `Logger.atLevel()` method. For example:\r\n\r\n    import org.slf4j.event.Level;\r\n    import org.slf4j.Logger;\r\n    ...\r\n    Logger logger = ... // some slf4j logger of choice\r\n    logger.atLevel(Level.Info).log(&quot;hello world&quot;);\r\n\r\n\r\n  [1]: http://www.mail-archive.com/log4j-user@logging.apache.org/msg05005.html\r\n","title":"Setting log level of message at runtime in slf4j","body":"<p>When using log4j, the <code>Logger.log(Priority p, Object message)</code> method is available and can be used to log a message at a log level determined at runtime. We're using this fact and <a href=\"http://www.mail-archive.com/log4j-user@logging.apache.org/msg05005.html\" rel=\"noreferrer\">this tip</a> to redirect stderr to a logger at a specific log level.</p>\n<p>slf4j doesn't have a generic <code>log()</code> method that I can find. Does that mean there's no way to implement the above?</p>\n<p><strong>Update:</strong> As of SLF4J version 2.0, it is possible to use the <code>Logger.atLevel()</code> method. For example:</p>\n<pre><code>import org.slf4j.event.Level;\nimport org.slf4j.Logger;\n...\nLogger logger = ... // some slf4j logger of choice\nlogger.atLevel(Level.Info).log(&quot;hello world&quot;);\n</code></pre>\n"},{"tags":["java","regex","date","parsing"],"comments":[{"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":6,"creation_date":1264620555,"post_id":2149680,"comment_id":2092153,"body_markdown":"Do you want to allow any year, and also invalid numbers for months and days? 9999-99-99 for example? What about invalid dates like 2009-02-29?","body":"Do you want to allow any year, and also invalid numbers for months and days? 9999-99-99 for example? What about invalid dates like 2009-02-29?"},{"owner":{"account_id":5267,"reputation":12414,"user_id":8384,"accept_rate":62,"display_name":"McKay"},"score":0,"creation_date":1376569168,"post_id":2149680,"comment_id":26764850,"body_markdown":"Related question, Regex only: http://stackoverflow.com/q/8647893/8384","body":"Related question, Regex only: <a href=\"http://stackoverflow.com/q/8647893/8384\">stackoverflow.com/q/8647893/8384</a>"}],"answers":[{"tags":[],"owner":{"account_id":42267,"reputation":135909,"user_id":123109,"accept_rate":55,"display_name":"Greg Bacon"},"comment_count":0,"down_vote_count":4,"up_vote_count":118,"is_accepted":true,"score":114,"last_activity_date":1662221733,"creation_date":1264620464,"answer_id":2149692,"question_id":2149680,"body_markdown":"Use the following regular expression:\r\n\r\n    ^\\d{4}-\\d{2}-\\d{2}$\r\n\r\nas in\r\n\r\n    if (str.matches(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;)) {\r\n        ...\r\n    }\r\n\r\nWith the `matches` method, the anchors `^` and `$` (beginning and end of string, respectively) are present implicitly.\r\n\r\nThe pattern above checks conformance with the general “shape” of a date, but it will accept more invalid than valid dates. You may be surprised to learn that checking for valid dates — including leap years! — is *possible* using a regular expression, but not advisable. Borrowing from [an answer elsewhere by Kuldeep][0], we can all find amusement and admiration for persistence in\r\n\r\n    ((18|19|20)[0-9]{2}[\\-.](0[13578]|1[02])[\\-.](0[1-9]|[12][0-9]|3[01]))|(18|19|20)[0-9]{2}[\\-.](0[469]|11)[\\-.](0[1-9]|[12][0-9]|30)|(18|19|20)[0-9]{2}[\\-.](02)[\\-.](0[1-9]|1[0-9]|2[0-8])|(((18|19|20)(04|08|[2468][048]|[13579][26]))|2000)[\\-.](02)[\\-.]29\r\n\r\nIn a production context, your colleagues will appreciate a more straightforward implementation. Remember, the first rule of optimization is Don’t!\r\n\r\n[0]: https://stackoverflow.com/a/38059380/123109","title":"Regex date format validation on Java","body":"<p>Use the following regular expression:</p>\n<pre><code>^\\d{4}-\\d{2}-\\d{2}$\n</code></pre>\n<p>as in</p>\n<pre><code>if (str.matches(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;)) {\n    ...\n}\n</code></pre>\n<p>With the <code>matches</code> method, the anchors <code>^</code> and <code>$</code> (beginning and end of string, respectively) are present implicitly.</p>\n<p>The pattern above checks conformance with the general “shape” of a date, but it will accept more invalid than valid dates. You may be surprised to learn that checking for valid dates — including leap years! — is <em>possible</em> using a regular expression, but not advisable. Borrowing from <a href=\"https://stackoverflow.com/a/38059380/123109\">an answer elsewhere by Kuldeep</a>, we can all find amusement and admiration for persistence in</p>\n<pre><code>((18|19|20)[0-9]{2}[\\-.](0[13578]|1[02])[\\-.](0[1-9]|[12][0-9]|3[01]))|(18|19|20)[0-9]{2}[\\-.](0[469]|11)[\\-.](0[1-9]|[12][0-9]|30)|(18|19|20)[0-9]{2}[\\-.](02)[\\-.](0[1-9]|1[0-9]|2[0-8])|(((18|19|20)(04|08|[2468][048]|[13579][26]))|2000)[\\-.](02)[\\-.]29\n</code></pre>\n<p>In a production context, your colleagues will appreciate a more straightforward implementation. Remember, the first rule of optimization is Don’t!</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":19,"creation_date":1264624759,"post_id":2149698,"comment_id":2092597,"body_markdown":"don&#39;t forget to call `setLenient(false)` if you want the SimpleDateFormat reject invalid dates. Your code will accept &quot;9999-99-00&quot; (would be `Wed Feb 28 00:00:00 CET 10007`)","body":"don&#39;t forget to call <code>setLenient(false)</code> if you want the SimpleDateFormat reject invalid dates. Your code will accept &quot;9999-99-00&quot; (would be <code>Wed Feb 28 00:00:00 CET 10007</code>)"},{"owner":{"account_id":34884,"reputation":2608,"user_id":98644,"accept_rate":91,"display_name":"Sheldon"},"score":1,"creation_date":1264627425,"post_id":2149698,"comment_id":2092876,"body_markdown":"Thank you Carlos, I don&#39;t even knew that It will recognize inputs like 2009-20-20.\nThanks :)","body":"Thank you Carlos, I don&#39;t even knew that It will recognize inputs like 2009-20-20. Thanks :)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1264637237,"post_id":2149698,"comment_id":2094001,"body_markdown":"and another point: SimpleDateFormat does not check the format: &quot;2010-1-8&quot;, &quot;10-001-002&quot;, ... will be accepted","body":"and another point: SimpleDateFormat does not check the format: &quot;2010-1-8&quot;, &quot;10-001-002&quot;, ... will be accepted"},{"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"score":3,"creation_date":1363015505,"post_id":2149698,"comment_id":21669061,"body_markdown":"I think this should be &quot;yyyy-MM-dd&quot;","body":"I think this should be &quot;yyyy-MM-dd&quot;"},{"owner":{"account_id":75156,"reputation":12077,"user_id":215651,"accept_rate":50,"display_name":"lreeder"},"score":1,"creation_date":1453649272,"post_id":2149698,"comment_id":57684471,"body_markdown":"@maloney I agree. &quot;Y&quot; in SimpleDateFormat is week of year.  I edited the format string to match your suggestion.","body":"@maloney I agree. &quot;Y&quot; in SimpleDateFormat is week of year.  I edited the format string to match your suggestion."}],"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":5,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1453649219,"creation_date":1264620518,"answer_id":2149698,"question_id":2149680,"body_markdown":"You need more than a `regex`, for example &quot;9999-99-00&quot; isn&#39;t a valid date. There&#39;s a `SimpleDateFormat` class that&#39;s built to do this. More heavyweight, but more comprehensive.\r\n\r\ne.g. \r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        \r\n    boolean isValidDate(string input) {\r\n         try {\r\n              format.parse(input);\r\n              return true;\r\n         }\r\n         catch(ParseException e){\r\n              return false;\r\n         }\r\n    }\r\n\r\nUnfortunately, `SimpleDateFormat` is both heavyweight and not thread-safe. ","title":"Regex date format validation on Java","body":"<p>You need more than a <code>regex</code>, for example \"9999-99-00\" isn't a valid date. There's a <code>SimpleDateFormat</code> class that's built to do this. More heavyweight, but more comprehensive.</p>\n\n<p>e.g. </p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n\nboolean isValidDate(string input) {\n     try {\n          format.parse(input);\n          return true;\n     }\n     catch(ParseException e){\n          return false;\n     }\n}\n</code></pre>\n\n<p>Unfortunately, <code>SimpleDateFormat</code> is both heavyweight and not thread-safe. </p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1264624781,"post_id":2149704,"comment_id":2092601,"body_markdown":"You can just call the 1-argument method `parse(String)` instead of the 2-argument one. _ _ _ And don&#39;t forget to call `setLenient(false)` if you want the SimpleDateFormat reject invalid dates.","body":"You can just call the 1-argument method <code>parse(String)</code> instead of the 2-argument one. _ _ _ And don&#39;t forget to call <code>setLenient(false)</code> if you want the SimpleDateFormat reject invalid dates."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1525722932,"post_id":2149704,"comment_id":87460390,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":93306,"reputation":556,"user_id":255337,"display_name":"Keilly"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264620586,"creation_date":1264620586,"answer_id":2149704,"question_id":2149680,"body_markdown":"Construct a SimpleDateFormat with the mask, and then call:\r\nSimpleDateFormat.parse(String s, ParsePosition p)\r\n","title":"Regex date format validation on Java","body":"<p>Construct a SimpleDateFormat with the mask, and then call:\nSimpleDateFormat.parse(String s, ParsePosition p)</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264628323,"creation_date":1264628323,"answer_id":2150441,"question_id":2149680,"body_markdown":"For fine control, consider an [InputVerifier](http://java.sun.com/javase/6/docs/api/javax/swing/InputVerifier.html) using the `SimpleDateFormat(&quot;YYYY-MM-dd&quot;)` suggested by Steve B.","title":"Regex date format validation on Java","body":"<p>For fine control, consider an <a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/InputVerifier.html\" rel=\"nofollow noreferrer\">InputVerifier</a> using the <code>SimpleDateFormat(\"YYYY-MM-dd\")</code> suggested by Steve B.</p>\n"},{"comments":[{"owner":{"account_id":5267,"reputation":12414,"user_id":8384,"accept_rate":62,"display_name":"McKay"},"score":0,"creation_date":1376569265,"post_id":2151338,"comment_id":26764893,"body_markdown":"regex can validate values","body":"regex can validate values"},{"owner":{"account_id":1399667,"reputation":347,"user_id":1328673,"accept_rate":22,"display_name":"MS13"},"score":0,"creation_date":1634201802,"post_id":2151338,"comment_id":122963577,"body_markdown":"Do you should care about thread safety if you&#39;ll create a new DateFormat object every time you need one? I think you are overengineering things","body":"Do you should care about thread safety if you&#39;ll create a new DateFormat object every time you need one? I think you are overengineering things"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1693952556,"post_id":2151338,"comment_id":135826890,"body_markdown":"&quot;to avoid the creation of a new SimpleDateFormat for each call&quot;","body":"&quot;to avoid the creation of a new SimpleDateFormat for each call&quot;"}],"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1264703514,"creation_date":1264637021,"answer_id":2151338,"question_id":2149680,"body_markdown":"Putting it all together:  \r\n\r\n* `REGEX` doesn&#39;t validate values (like &quot;2010-19-19&quot;)  \r\n* `SimpleDateFormat` does not check format (&quot;2010-1-2&quot;, &quot;1-0002-003&quot; are accepted)  \r\n\r\nit&#39;s necessary to use both to validate format and value:  \r\n\r\n    public static boolean isValid(String text) {\r\n        if (text == null || !text.matches(&quot;\\\\d{4}-[01]\\\\d-[0-3]\\\\d&quot;))\r\n            return false;\r\n        SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        df.setLenient(false);\r\n        try {\r\n            df.parse(text);\r\n            return true;\r\n        } catch (ParseException ex) {\r\n            return false;\r\n        }\r\n    }\r\n&lt;br/&gt; \r\n&lt;hr/&gt;\r\nA ThreadLocal can be used to avoid the creation of a new SimpleDateFormat for each call.  \r\nIt is needed in a multithread context since the SimpleDateFormat is not thread safe:\r\n\r\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; format = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n        @Override\r\n        protected SimpleDateFormat initialValue() {\r\n            SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            df.setLenient(false);\r\n            System.out.println(&quot;created&quot;);\r\n            return df;\r\n        }\r\n    };\r\n    \r\n    public static boolean isValid(String text) {\r\n        if (text == null || !text.matches(&quot;\\\\d{4}-[01]\\\\d-[0-3]\\\\d&quot;))\r\n            return false;\r\n        try {\r\n            format.get().parse(text);\r\n            return true;\r\n        } catch (ParseException ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n(same can be done for a Matcher, that also is not thread safe)","title":"Regex date format validation on Java","body":"<p>Putting it all together:  </p>\n\n<ul>\n<li><code>REGEX</code> doesn't validate values (like \"2010-19-19\")  </li>\n<li><code>SimpleDateFormat</code> does not check format (\"2010-1-2\", \"1-0002-003\" are accepted)  </li>\n</ul>\n\n<p>it's necessary to use both to validate format and value:  </p>\n\n<pre><code>public static boolean isValid(String text) {\n    if (text == null || !text.matches(\"\\\\d{4}-[01]\\\\d-[0-3]\\\\d\"))\n        return false;\n    SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n    df.setLenient(false);\n    try {\n        df.parse(text);\n        return true;\n    } catch (ParseException ex) {\n        return false;\n    }\n}\n</code></pre>\n\n<p><br/> \n<hr/>\nA ThreadLocal can be used to avoid the creation of a new SimpleDateFormat for each call.<br>\nIt is needed in a multithread context since the SimpleDateFormat is not thread safe:</p>\n\n<pre><code>private static final ThreadLocal&lt;SimpleDateFormat&gt; format = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n    @Override\n    protected SimpleDateFormat initialValue() {\n        SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n        df.setLenient(false);\n        System.out.println(\"created\");\n        return df;\n    }\n};\n\npublic static boolean isValid(String text) {\n    if (text == null || !text.matches(\"\\\\d{4}-[01]\\\\d-[0-3]\\\\d\"))\n        return false;\n    try {\n        format.get().parse(text);\n        return true;\n    } catch (ParseException ex) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>(same can be done for a Matcher, that also is not thread safe)</p>\n"},{"tags":[],"owner":{"account_id":716295,"reputation":161,"user_id":641969,"display_name":"CKuharski"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1324634056,"creation_date":1299100494,"answer_id":5173576,"question_id":2149680,"body_markdown":"This will do it regex: `&quot;^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$&quot;`\r\nThis will take care of valid formats and valid dates.  It will not validate the correct days of the month i.e. leap year.\r\n\r\n\r\n\r\n    String regex = &quot;^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$&quot;;\r\n    \r\n    Assert.assertTrue(&quot;Date: matched.&quot;, Pattern.matches(regex, &quot;2011-1-1&quot;));\r\n    Assert.assertFalse(&quot;Date (month): not matched.&quot;, Pattern.matches(regex, &quot;2011-13-1&quot;));\r\n\r\n\r\nGood luck!","title":"Regex date format validation on Java","body":"<p>This will do it regex: <code>\"^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$\"</code>\nThis will take care of valid formats and valid dates.  It will not validate the correct days of the month i.e. leap year.</p>\n\n<pre><code>String regex = \"^((19|20)\\\\d\\\\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$\";\n\nAssert.assertTrue(\"Date: matched.\", Pattern.matches(regex, \"2011-1-1\"));\nAssert.assertFalse(\"Date (month): not matched.\", Pattern.matches(regex, \"2011-13-1\"));\n</code></pre>\n\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1376568625,"post_id":18252071,"comment_id":26764605,"body_markdown":"http://stackoverflow.com/questions/1905551/how-can-i-make-simpledateformat-parse-fail-when-month-is-greater-than-12","body":"<a href=\"http://stackoverflow.com/questions/1905551/how-can-i-make-simpledateformat-parse-fail-when-month-is-greater-than-12\" title=\"how can i make simpledateformat parse fail when month is greater than 12\">stackoverflow.com/questions/1905551/&hellip;</a>"},{"owner":{"account_id":247188,"reputation":7267,"user_id":521754,"accept_rate":77,"display_name":"despot"},"score":2,"creation_date":1376637716,"post_id":18252071,"comment_id":26793348,"body_markdown":"Hey BalusC - that&#39;s true :), you can make SimpleDateFormat.parse cover most invalid dates. I already had this approach tested in the &quot;Date checking/testing and performance testing&quot; section. It does not cover invalid dates like 001-0002-00003. (I guess it depends what you consider invalid - in my case this was an invalid date). Also as you can see this approach is the slowest (check the post when I discuss the 3rd approach). Also you are free to run the Tester at your side and see the times ;)","body":"Hey BalusC - that&#39;s true :), you can make SimpleDateFormat.parse cover most invalid dates. I already had this approach tested in the &quot;Date checking/testing and performance testing&quot; section. It does not cover invalid dates like 001-0002-00003. (I guess it depends what you consider invalid - in my case this was an invalid date). Also as you can see this approach is the slowest (check the post when I discuss the 3rd approach). Also you are free to run the Tester at your side and see the times ;)"},{"owner":{"account_id":247188,"reputation":7267,"user_id":521754,"accept_rate":77,"display_name":"despot"},"score":0,"creation_date":1376638010,"post_id":18252071,"comment_id":26793486,"body_markdown":"also another hint - if you want to make the regex cover years from 1900 to 9999, than this should be the 3rd group: (([^01][0-9]|19|[2-9][0-9])\\\\d\\\\d)","body":"also another hint - if you want to make the regex cover years from 1900 to 9999, than this should be the 3rd group: (([^01][0-9]|19|[2-9][0-9])\\\\d\\\\d)"}],"tags":[],"owner":{"account_id":247188,"reputation":7267,"user_id":521754,"accept_rate":77,"display_name":"despot"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1376568420,"creation_date":1376567378,"answer_id":18252071,"question_id":2149680,"body_markdown":"I would go with a simple regex which will check that days doesn&#39;t have more than 31 days and months no more than 12. Something like:  \r\n\r\n    (0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)\r\n\r\nThis is the format &quot;dd-MM-yyyy&quot;. You can tweak it to your needs (for example take off the ? to make the leading 0 required - now its optional), and then use a custom logic to cut down to the specific rules like leap years February number of days case, and other months number of days cases. See the DateChecker code below.  \r\n\r\nI am choosing this approach since I tested that this is the best one when performance is taken into account. I checked this (1st) approach versus 2nd approach of validating a date against a regex that takes care of the other use cases, and 3rd approach of using the same simple regex above in combination with SimpleDateFormat.parse(date).  \r\n**The 1st approach was 4 times faster than the 2nd approach, and 8 times faster than the 3rd approach.** See the self contained date checker and performance tester main class at the bottom.\r\nOne thing that I left unchecked is the joda time approach(s). (The more efficient date/time library).\r\n\r\nDate checker code:\r\n\r\n\tclass DateChecker {\r\n\r\n\t\tprivate Matcher matcher;\r\n\t\tprivate Pattern pattern;\r\n\r\n\t\tpublic DateChecker(String regex) {\r\n\t\t\tpattern = Pattern.compile(regex);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Checks if the date format is a valid.\r\n\t\t * Uses the regex pattern to match the date first. \r\n\t\t * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\r\n\t\t * \r\n\t\t * @param date the date that needs to be checked.\r\n\t\t * @return if the date is of an valid format or not.\r\n\t\t */\r\n\t\tpublic boolean check(final String date) {\r\n\t\t\tmatcher = pattern.matcher(date);\r\n\t\t\tif (matcher.matches()) {\r\n\t\t\t\tmatcher.reset();\r\n\t\t\t\tif (matcher.find()) {\r\n\t\t\t\t\tint day = Integer.parseInt(matcher.group(1));\r\n\t\t\t\t\tint month = Integer.parseInt(matcher.group(2));\r\n\t\t\t\t\tint year = Integer.parseInt(matcher.group(3));\r\n\r\n\t\t\t\t\tswitch (month) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\tcase 7:\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\tcase 10:\r\n\t\t\t\t\tcase 12: return day &lt; 32;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\tcase 9:\r\n\t\t\t\t\tcase 11: return day &lt; 31;\r\n\t\t\t\t\tcase 2: \r\n\t\t\t\t\t\tint modulo100 = year % 100;\r\n\t\t\t\t\t\t//http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\r\n\t\t\t\t\t\tif ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\r\n\t\t\t\t\t\t\t//its a leap year\r\n\t\t\t\t\t\t\treturn day &lt; 30;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn day &lt; 29;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getRegex() {\r\n\t\t\treturn pattern.pattern();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nDate checking/testing and performance testing:  \r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Tester {\r\n    \r\n    \tprivate static final String[] validDateStrings = new String[]{\r\n    \t\t&quot;1-1-2000&quot;, //leading 0s for day and month optional\r\n    \t\t&quot;01-1-2000&quot;, //leading 0 for month only optional\r\n    \t\t&quot;1-01-2000&quot;, //leading 0 for day only optional\r\n    \t\t&quot;01-01-1800&quot;, //first accepted date\r\n    \t\t&quot;31-12-2199&quot;, //last accepted date\r\n    \t\t&quot;31-01-2000&quot;, //January has 31 days\r\n    \t\t&quot;31-03-2000&quot;, //March has 31 days\r\n    \t\t&quot;31-05-2000&quot;, //May has 31 days\r\n    \t\t&quot;31-07-2000&quot;, //July has 31 days\r\n    \t\t&quot;31-08-2000&quot;, //August has 31 days\r\n    \t\t&quot;31-10-2000&quot;, //October has 31 days\r\n    \t\t&quot;31-12-2000&quot;, //December has 31 days\r\n    \t\t&quot;30-04-2000&quot;, //April has 30 days\r\n    \t\t&quot;30-06-2000&quot;, //June has 30 days\r\n    \t\t&quot;30-09-2000&quot;, //September has 30 days\r\n    \t\t&quot;30-11-2000&quot;, //November has 30 days\r\n    \t};\r\n    \tprivate static final String[] invalidDateStrings = new String[]{\r\n    \t\t&quot;00-01-2000&quot;, //there is no 0-th day\r\n    \t\t&quot;01-00-2000&quot;, //there is no 0-th month\r\n    \t\t&quot;31-12-1799&quot;, //out of lower boundary date\r\n    \t\t&quot;01-01-2200&quot;, //out of high boundary date\r\n    \t\t&quot;32-01-2000&quot;, //January doesn&#39;t have 32 days\r\n    \t\t&quot;32-03-2000&quot;, //March doesn&#39;t have 32 days\r\n    \t\t&quot;32-05-2000&quot;, //May doesn&#39;t have 32 days\r\n    \t\t&quot;32-07-2000&quot;, //July doesn&#39;t have 32 days\r\n    \t\t&quot;32-08-2000&quot;, //August doesn&#39;t have 32 days\r\n    \t\t&quot;32-10-2000&quot;, //October doesn&#39;t have 32 days\r\n    \t\t&quot;32-12-2000&quot;, //December doesn&#39;t have 32 days\r\n    \t\t&quot;31-04-2000&quot;, //April doesn&#39;t have 31 days\r\n    \t\t&quot;31-06-2000&quot;, //June doesn&#39;t have 31 days\r\n    \t\t&quot;31-09-2000&quot;, //September doesn&#39;t have 31 days\r\n    \t\t&quot;31-11-2000&quot;, //November doesn&#39;t have 31 days\r\n    \t\t&quot;001-02-2000&quot;, //SimpleDateFormat valid date (day with leading 0s) even with lenient set to false\r\n    \t\t&quot;1-0002-2000&quot;, //SimpleDateFormat valid date (month with leading 0s) even with lenient set to false\r\n    \t\t&quot;01-02-0003&quot;, //SimpleDateFormat valid date (year with leading 0s) even with lenient set to false\r\n    \t\t&quot;01.01-2000&quot;, //. invalid separator between day and month\r\n    \t\t&quot;01-01.2000&quot;, //. invalid separator between month and year\r\n    \t\t&quot;01/01-2000&quot;, /// invalid separator between day and month\r\n    \t\t&quot;01-01/2000&quot;, /// invalid separator between month and year\r\n    \t\t&quot;01_01-2000&quot;, //_ invalid separator between day and month\r\n    \t\t&quot;01-01_2000&quot;, //_ invalid separator between month and year\r\n    \t\t&quot;01-01-2000-12345&quot;, //only whole string should be matched\r\n    \t\t&quot;01-13-2000&quot;, //month bigger than 13\r\n    \t};\r\n    \t\r\n    \t/**\r\n    \t * These constants will be used to generate the valid and invalid boundary dates for the leap years. (For no leap year, Feb. 28 valid and Feb. 29 invalid; for a leap year Feb. 29 valid and Feb. 30 invalid)   \r\n    \t */\r\n    \tprivate static final int LEAP_STEP = 4;\r\n    \tprivate static final int YEAR_START = 1800;\r\n    \tprivate static final int YEAR_END = 2199;\r\n    \t\r\n    \t/**\r\n    \t * This date regex will find matches for valid dates between 1800 and 2199 in the format of &quot;dd-MM-yyyy&quot;.\r\n    \t * The leading 0 is optional.\r\n    \t */\r\n    \tprivate static final String DATE_REGEX = &quot;((0?[1-9]|[12][0-9]|3[01])-(0?[13578]|1[02])-(18|19|20|21)[0-9]{2})|((0?[1-9]|[12][0-9]|30)-(0?[469]|11)-(18|19|20|21)[0-9]{2})|((0?[1-9]|1[0-9]|2[0-8])-(0?2)-(18|19|20|21)[0-9]{2})|(29-(0?2)-(((18|19|20|21)(04|08|[2468][048]|[13579][26]))|2000))&quot;;\r\n    \t\r\n    \t/**\r\n    \t * This date regex is similar to the first one, but with the difference of matching only the whole string. So &quot;01-01-2000-12345&quot; won&#39;t pass with a match.\r\n    \t * Keep in mind that String.matches tries to match only the whole string.\r\n    \t */\r\n    \tprivate static final String DATE_REGEX_ONLY_WHOLE_STRING = &quot;^&quot; + DATE_REGEX + &quot;$&quot;;\r\n    \t\r\n    \t/**\r\n    \t * The simple regex (without checking for 31 day months and leap years):\r\n    \t */\r\n    \tprivate static final String DATE_REGEX_SIMPLE = &quot;(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)&quot;;\r\n    \t\r\n    \t/**\r\n    \t * This date regex is similar to the first one, but with the difference of matching only the whole string. So &quot;01-01-2000-12345&quot; won&#39;t pass with a match.\r\n    \t */\r\n    \tprivate static final String DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING = &quot;^&quot; + DATE_REGEX_SIMPLE + &quot;$&quot;;\r\n    \t\r\n    \tprivate static final SimpleDateFormat SDF = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \tstatic {\r\n    \t\tSDF.setLenient(false);\r\n    \t}\r\n    \t\r\n    \tprivate static final DateChecker dateValidatorSimple = new DateChecker(DATE_REGEX_SIMPLE);\r\n    \tprivate static final DateChecker dateValidatorSimpleOnlyWholeString = new DateChecker(DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\r\n    \t\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeStatistics dateTimeStatistics = new DateTimeStatistics();\r\n    \t\tboolean shouldMatch = true;\r\n    \t\tfor (int i = 0; i &lt; validDateStrings.length; i++) {\r\n    \t\t\tString validDate = validDateStrings[i];\r\n    \t\t\tmatchAssertAndPopulateTimes(\r\n    \t\t\t\t\tdateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, validDate);\r\n    \t\t}\r\n    \r\n    \t\tshouldMatch = false;\r\n    \t\tfor (int i = 0; i &lt; invalidDateStrings.length; i++) {\r\n    \t\t\tString invalidDate = invalidDateStrings[i];\r\n    \t\t\t\r\n    \t\t\tmatchAssertAndPopulateTimes(dateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, invalidDate);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int year = YEAR_START; year &lt; (YEAR_END + 1); year++) {\r\n    \t\t\tFebruaryBoundaryDates februaryBoundaryDates = createValidAndInvalidFebruaryBoundaryDateStringsFromYear(year);\r\n    \t\t\tshouldMatch = true;\r\n    \t\t\tmatchAssertAndPopulateTimes(dateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, februaryBoundaryDates.getValidFebruaryBoundaryDateString());\r\n    \t\t\tshouldMatch = false;\r\n    \t\t\tmatchAssertAndPopulateTimes(dateTimeStatistics,\r\n    \t\t\t\t\tshouldMatch, februaryBoundaryDates.getInvalidFebruaryBoundaryDateString());\r\n    \t\t}\r\n    \t\t\r\n    \t\tdateTimeStatistics.calculateAvarageTimesAndPrint();\r\n    \t}\r\n    \t\r\n    \tprivate static void matchAssertAndPopulateTimes(\r\n    \t\t\tDateTimeStatistics dateTimeStatistics,\r\n    \t\t\tboolean shouldMatch, String date) {\r\n    \t\tdateTimeStatistics.addDate(date);\r\n    \t\tmatchAndPopulateTimeToMatch(date, DATE_REGEX, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegex());\r\n    \t\tmatchAndPopulateTimeToMatch(date, DATE_REGEX_ONLY_WHOLE_STRING, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegexOnlyWholeString());\r\n    \t\tboolean matchesSimpleDateFormat = matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(date, dateTimeStatistics.getTimesTakenWithSimpleDateFormatParse());\r\n    \t\tmatchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\r\n    \t\t\t\tdateTimeStatistics.getTimesTakenWithDateRegexSimple(), shouldMatch,\r\n    \t\t\t\tdate, matchesSimpleDateFormat, DATE_REGEX_SIMPLE);\r\n    \t\tmatchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\r\n    \t\t\t\tdateTimeStatistics.getTimesTakenWithDateRegexSimpleOnlyWholeString(), shouldMatch,\r\n    \t\t\t\tdate, matchesSimpleDateFormat, DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\r\n    \t\t\r\n    \t\tmatchAndPopulateTimeToMatch(date, dateValidatorSimple, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimple());\r\n    \t\tmatchAndPopulateTimeToMatch(date, dateValidatorSimpleOnlyWholeString, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimpleOnlyWholeString());\r\n    \t}\r\n    \r\n    \tprivate static void matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\r\n    \t\t\tList&lt;Long&gt; times,\r\n    \t\t\tboolean shouldMatch, String date, boolean matchesSimpleDateFormat, String regex) {\r\n    \t\tboolean matchesFromRegex = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\r\n    \t\tassert !((matchesSimpleDateFormat &amp;&amp; matchesFromRegex) ^ shouldMatch) : &quot;Parsing with SimpleDateFormat and date:&quot; + date + &quot;\\nregex:&quot; + regex + &quot;\\nshouldMatch:&quot; + shouldMatch;\r\n    \t}\r\n    \t\r\n    \tprivate static void matchAndPopulateTimeToMatch(String date, String regex, boolean shouldMatch, List&lt;Long&gt; times) {\r\n    \t\tboolean matches = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\r\n    \t\tassert !(matches ^ shouldMatch) : &quot;date:&quot; + date + &quot;\\nregex:&quot; + regex + &quot;\\nshouldMatch:&quot; + shouldMatch;\r\n    \t}\r\n    \t\r\n    \tprivate static void matchAndPopulateTimeToMatch(String date, DateChecker dateValidator, boolean shouldMatch, List&lt;Long&gt; times) {\r\n    \t\tlong timestampStart;\r\n    \t\tlong timestampEnd;\r\n    \t\tboolean matches;\r\n    \t\ttimestampStart = System.nanoTime();\r\n    \t\tmatches = dateValidator.check(date);\r\n    \t\ttimestampEnd = System.nanoTime();\r\n    \t\ttimes.add(timestampEnd - timestampStart);\r\n    \t\tassert !(matches ^ shouldMatch) : &quot;date:&quot; + date + &quot;\\ndateValidator with regex:&quot; + dateValidator.getRegex() + &quot;\\nshouldMatch:&quot; + shouldMatch;\r\n    \t}\r\n    \t\r\n    \tprivate static boolean matchAndPopulateTimeToMatchAndReturnMatches(String date, String regex, List&lt;Long&gt; times) {\r\n    \t\tlong timestampStart;\r\n    \t\tlong timestampEnd;\r\n    \t\tboolean matches;\r\n    \t\ttimestampStart = System.nanoTime();\r\n    \t\tmatches = date.matches(regex);\r\n    \t\ttimestampEnd = System.nanoTime();\r\n    \t\ttimes.add(timestampEnd - timestampStart);\r\n    \t\treturn matches;\r\n    \t}\r\n    \t\r\n    \tprivate static boolean matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(String date, List&lt;Long&gt; times) {\r\n    \t\tlong timestampStart;\r\n    \t\tlong timestampEnd;\r\n    \t\tboolean matches = true;\r\n    \t\ttimestampStart = System.nanoTime();\r\n    \t\ttry {\r\n    \t\t\tSDF.parse(date);\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\tmatches = false;\r\n    \t\t} finally {\r\n    \t\t\ttimestampEnd = System.nanoTime();\r\n    \t\t\ttimes.add(timestampEnd - timestampStart);\r\n    \t\t}\r\n    \t\treturn matches;\r\n    \t}\r\n    \t\r\n    \tprivate static FebruaryBoundaryDates createValidAndInvalidFebruaryBoundaryDateStringsFromYear(int year) {\r\n    \t\tFebruaryBoundaryDates februaryBoundaryDates;\r\n    \t\tint modulo100 = year % 100;\r\n    \t\t//http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\r\n    \t\tif ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\r\n    \t\t\tfebruaryBoundaryDates = new FebruaryBoundaryDates(\r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(29, year), \r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(30, year)\r\n    \t\t\t\t\t);\r\n    \t\t} else {\r\n    \t\t\tfebruaryBoundaryDates = new FebruaryBoundaryDates(\r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(28, year), \r\n    \t\t\t\t\tcreateFebruaryDateFromDayAndYear(29, year)\r\n    \t\t\t\t\t);\r\n    \t\t}\r\n    \t\treturn februaryBoundaryDates;\r\n    \t}\r\n    \t\r\n    \tprivate static String createFebruaryDateFromDayAndYear(int day, int year) {\r\n    \t\treturn String.format(&quot;%d-02-%d&quot;, day, year);\r\n    \t}\r\n    \r\n    \tstatic class FebruaryBoundaryDates {\r\n    \t\tprivate String validFebruaryBoundaryDateString;\r\n    \t\tString invalidFebruaryBoundaryDateString;\r\n    \t\tpublic FebruaryBoundaryDates(String validFebruaryBoundaryDateString,\r\n    \t\t\t\tString invalidFebruaryBoundaryDateString) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\r\n    \t\t\tthis.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic String getValidFebruaryBoundaryDateString() {\r\n    \t\t\treturn validFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic void setValidFebruaryBoundaryDateString(\r\n    \t\t\t\tString validFebruaryBoundaryDateString) {\r\n    \t\t\tthis.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic String getInvalidFebruaryBoundaryDateString() {\r\n    \t\t\treturn invalidFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t\tpublic void setInvalidFebruaryBoundaryDateString(\r\n    \t\t\t\tString invalidFebruaryBoundaryDateString) {\r\n    \t\t\tthis.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic class DateTimeStatistics {\r\n    \t\tprivate List&lt;String&gt; dates = new ArrayList&lt;String&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegex = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegexOnlyWholeString = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegexSimple = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithDateRegexSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithSimpleDateFormatParse = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithdateValidatorSimple = new ArrayList&lt;Long&gt;();\r\n    \t\tprivate List&lt;Long&gt; timesTakenWithdateValidatorSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\r\n    \t\tpublic List&lt;String&gt; getDates() {\r\n    \t\t\treturn dates;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegex() {\r\n    \t\t\treturn timesTakenWithDateRegex;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegexOnlyWholeString() {\r\n    \t\t\treturn timesTakenWithDateRegexOnlyWholeString;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegexSimple() {\r\n    \t\t\treturn timesTakenWithDateRegexSimple;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithDateRegexSimpleOnlyWholeString() {\r\n    \t\t\treturn timesTakenWithDateRegexSimpleOnlyWholeString;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithSimpleDateFormatParse() {\r\n    \t\t\treturn timesTakenWithSimpleDateFormatParse;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithdateValidatorSimple() {\r\n    \t\t\treturn timesTakenWithdateValidatorSimple;\r\n    \t\t}\r\n    \t\tpublic List&lt;Long&gt; getTimesTakenWithdateValidatorSimpleOnlyWholeString() {\r\n    \t\t\treturn timesTakenWithdateValidatorSimpleOnlyWholeString;\r\n    \t\t}\r\n    \t\tpublic void addDate(String date) {\r\n    \t\t\tdates.add(date);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegex(long time) {\r\n    \t\t\ttimesTakenWithDateRegex.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegexOnlyWholeString(long time) {\r\n    \t\t\ttimesTakenWithDateRegexOnlyWholeString.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegexSimple(long time) {\r\n    \t\t\ttimesTakenWithDateRegexSimple.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithDateRegexSimpleOnlyWholeString(long time) {\r\n    \t\t\ttimesTakenWithDateRegexSimpleOnlyWholeString.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithSimpleDateFormatParse(long time) {\r\n    \t\t\ttimesTakenWithSimpleDateFormatParse.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithdateValidatorSimple(long time) {\r\n    \t\t\ttimesTakenWithdateValidatorSimple.add(time);\r\n    \t\t}\r\n    \t\tpublic void addTimesTakenWithdateValidatorSimpleOnlyWholeString(long time) {\r\n    \t\t\ttimesTakenWithdateValidatorSimpleOnlyWholeString.add(time);\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate void calculateAvarageTimesAndPrint() {\r\n    \t\t\tlong[] sumOfTimes = new long[7];\r\n    \t\t\tint timesSize = timesTakenWithDateRegex.size();\r\n    \t\t\tfor (int i = 0; i &lt; timesSize; i++) {\r\n    \t\t\t\tsumOfTimes[0] += timesTakenWithDateRegex.get(i);\r\n    \t\t\t\tsumOfTimes[1] += timesTakenWithDateRegexOnlyWholeString.get(i);\r\n    \t\t\t\tsumOfTimes[2] += timesTakenWithDateRegexSimple.get(i);\r\n    \t\t\t\tsumOfTimes[3] += timesTakenWithDateRegexSimpleOnlyWholeString.get(i);\r\n    \t\t\t\tsumOfTimes[4] += timesTakenWithSimpleDateFormatParse.get(i);\r\n    \t\t\t\tsumOfTimes[5] += timesTakenWithdateValidatorSimple.get(i);\r\n    \t\t\t\tsumOfTimes[6] += timesTakenWithdateValidatorSimpleOnlyWholeString.get(i);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegex (in nanoseconds):&quot; + (double) sumOfTimes[0] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexOnlyWholeString (in nanoseconds):&quot; + (double) sumOfTimes[1] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimple (in nanoseconds):&quot; + (double) sumOfTimes[2] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimpleOnlyWholeString (in nanoseconds):&quot; + (double) sumOfTimes[3] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithSimpleDateFormatParse (in nanoseconds):&quot; + (double) sumOfTimes[4] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimple + timesTakenWithSimpleDateFormatParse (in nanoseconds):&quot; + (double) (sumOfTimes[2] + sumOfTimes[4]) / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithDateRegexSimpleOnlyWholeString + timesTakenWithSimpleDateFormatParse (in nanoseconds):&quot; + (double) (sumOfTimes[3] + sumOfTimes[4]) / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithdateValidatorSimple (in nanoseconds):&quot; + (double) sumOfTimes[5] / timesSize);\r\n    \t\t\tSystem.out.println(&quot;AVG from timesTakenWithdateValidatorSimpleOnlyWholeString (in nanoseconds):&quot; + (double) sumOfTimes[6] / timesSize);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic class DateChecker {\r\n    \r\n    \t\tprivate Matcher matcher;\r\n    \t\tprivate Pattern pattern;\r\n    \r\n    \t\tpublic DateChecker(String regex) {\r\n    \t\t\tpattern = Pattern.compile(regex);\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Checks if the date format is a valid.\r\n    \t\t * Uses the regex pattern to match the date first. \r\n    \t\t * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\r\n    \t\t * \r\n    \t\t * @param date the date that needs to be checked.\r\n    \t\t * @return if the date is of an valid format or not.\r\n    \t\t */\r\n    \t\tpublic boolean check(final String date) {\r\n    \t\t\tmatcher = pattern.matcher(date);\r\n    \t\t\tif (matcher.matches()) {\r\n    \t\t\t\tmatcher.reset();\r\n    \t\t\t\tif (matcher.find()) {\r\n    \t\t\t\t\tint day = Integer.parseInt(matcher.group(1));\r\n    \t\t\t\t\tint month = Integer.parseInt(matcher.group(2));\r\n    \t\t\t\t\tint year = Integer.parseInt(matcher.group(3));\r\n    \r\n    \t\t\t\t\tswitch (month) {\r\n    \t\t\t\t\tcase 1:\r\n    \t\t\t\t\tcase 3:\r\n    \t\t\t\t\tcase 5:\r\n    \t\t\t\t\tcase 7:\r\n    \t\t\t\t\tcase 8:\r\n    \t\t\t\t\tcase 10:\r\n    \t\t\t\t\tcase 12: return day &lt; 32;\r\n    \t\t\t\t\tcase 4:\r\n    \t\t\t\t\tcase 6:\r\n    \t\t\t\t\tcase 9:\r\n    \t\t\t\t\tcase 11: return day &lt; 31;\r\n    \t\t\t\t\tcase 2: \r\n    \t\t\t\t\t\tint modulo100 = year % 100;\r\n    \t\t\t\t\t\t//http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\r\n    \t\t\t\t\t\tif ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\r\n    \t\t\t\t\t\t\t//its a leap year\r\n    \t\t\t\t\t\t\treturn day &lt; 30;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\treturn day &lt; 29;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic String getRegex() {\r\n    \t\t\treturn pattern.pattern();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nSome useful notes:  \r\n- to enable the assertions (assert checks) you need to use -ea argument when running the tester. (In eclipse this is done by editing the Run/Debug configuration -&gt; Arguments tab -&gt; VM Arguments -&gt; insert &quot;-ea&quot;  \r\n- the regex above is bounded to years 1800 to 2199  \r\n- you don&#39;t need to use ^ at the beginning and $ at the end to match only the whole date string. The String.matches takes care of that.  \r\n- make sure u check the valid and invalid cases and change them according the rules that you have.  \r\n- the &quot;only whole string&quot; version of each regex gives the same speed as the &quot;normal&quot; version (the one without ^ and $). If you see performance differences this is because java &quot;gets used&quot; to processing the same instructions so the time lowers. If you switch the lines where the &quot;normal&quot; and the &quot;only whole string&quot; version execute, you will see this proven.  \r\n\r\nHope this helps someone!  \r\nCheers,  \r\nDespot","title":"Regex date format validation on Java","body":"<p>I would go with a simple regex which will check that days doesn't have more than 31 days and months no more than 12. Something like:  </p>\n\n<pre><code>(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)\n</code></pre>\n\n<p>This is the format \"dd-MM-yyyy\". You can tweak it to your needs (for example take off the ? to make the leading 0 required - now its optional), and then use a custom logic to cut down to the specific rules like leap years February number of days case, and other months number of days cases. See the DateChecker code below.  </p>\n\n<p>I am choosing this approach since I tested that this is the best one when performance is taken into account. I checked this (1st) approach versus 2nd approach of validating a date against a regex that takes care of the other use cases, and 3rd approach of using the same simple regex above in combination with SimpleDateFormat.parse(date).<br>\n<strong>The 1st approach was 4 times faster than the 2nd approach, and 8 times faster than the 3rd approach.</strong> See the self contained date checker and performance tester main class at the bottom.\nOne thing that I left unchecked is the joda time approach(s). (The more efficient date/time library).</p>\n\n<p>Date checker code:</p>\n\n<pre><code>class DateChecker {\n\n    private Matcher matcher;\n    private Pattern pattern;\n\n    public DateChecker(String regex) {\n        pattern = Pattern.compile(regex);\n    }\n\n    /**\n     * Checks if the date format is a valid.\n     * Uses the regex pattern to match the date first. \n     * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\n     * \n     * @param date the date that needs to be checked.\n     * @return if the date is of an valid format or not.\n     */\n    public boolean check(final String date) {\n        matcher = pattern.matcher(date);\n        if (matcher.matches()) {\n            matcher.reset();\n            if (matcher.find()) {\n                int day = Integer.parseInt(matcher.group(1));\n                int month = Integer.parseInt(matcher.group(2));\n                int year = Integer.parseInt(matcher.group(3));\n\n                switch (month) {\n                case 1:\n                case 3:\n                case 5:\n                case 7:\n                case 8:\n                case 10:\n                case 12: return day &lt; 32;\n                case 4:\n                case 6:\n                case 9:\n                case 11: return day &lt; 31;\n                case 2: \n                    int modulo100 = year % 100;\n                    //http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\n                    if ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\n                        //its a leap year\n                        return day &lt; 30;\n                    } else {\n                        return day &lt; 29;\n                    }\n                default:\n                    break;\n                }\n            }\n        }\n        return false;\n    }\n\n    public String getRegex() {\n        return pattern.pattern();\n    }\n}\n</code></pre>\n\n<p>Date checking/testing and performance testing:  </p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Tester {\n\n    private static final String[] validDateStrings = new String[]{\n        \"1-1-2000\", //leading 0s for day and month optional\n        \"01-1-2000\", //leading 0 for month only optional\n        \"1-01-2000\", //leading 0 for day only optional\n        \"01-01-1800\", //first accepted date\n        \"31-12-2199\", //last accepted date\n        \"31-01-2000\", //January has 31 days\n        \"31-03-2000\", //March has 31 days\n        \"31-05-2000\", //May has 31 days\n        \"31-07-2000\", //July has 31 days\n        \"31-08-2000\", //August has 31 days\n        \"31-10-2000\", //October has 31 days\n        \"31-12-2000\", //December has 31 days\n        \"30-04-2000\", //April has 30 days\n        \"30-06-2000\", //June has 30 days\n        \"30-09-2000\", //September has 30 days\n        \"30-11-2000\", //November has 30 days\n    };\n    private static final String[] invalidDateStrings = new String[]{\n        \"00-01-2000\", //there is no 0-th day\n        \"01-00-2000\", //there is no 0-th month\n        \"31-12-1799\", //out of lower boundary date\n        \"01-01-2200\", //out of high boundary date\n        \"32-01-2000\", //January doesn't have 32 days\n        \"32-03-2000\", //March doesn't have 32 days\n        \"32-05-2000\", //May doesn't have 32 days\n        \"32-07-2000\", //July doesn't have 32 days\n        \"32-08-2000\", //August doesn't have 32 days\n        \"32-10-2000\", //October doesn't have 32 days\n        \"32-12-2000\", //December doesn't have 32 days\n        \"31-04-2000\", //April doesn't have 31 days\n        \"31-06-2000\", //June doesn't have 31 days\n        \"31-09-2000\", //September doesn't have 31 days\n        \"31-11-2000\", //November doesn't have 31 days\n        \"001-02-2000\", //SimpleDateFormat valid date (day with leading 0s) even with lenient set to false\n        \"1-0002-2000\", //SimpleDateFormat valid date (month with leading 0s) even with lenient set to false\n        \"01-02-0003\", //SimpleDateFormat valid date (year with leading 0s) even with lenient set to false\n        \"01.01-2000\", //. invalid separator between day and month\n        \"01-01.2000\", //. invalid separator between month and year\n        \"01/01-2000\", /// invalid separator between day and month\n        \"01-01/2000\", /// invalid separator between month and year\n        \"01_01-2000\", //_ invalid separator between day and month\n        \"01-01_2000\", //_ invalid separator between month and year\n        \"01-01-2000-12345\", //only whole string should be matched\n        \"01-13-2000\", //month bigger than 13\n    };\n\n    /**\n     * These constants will be used to generate the valid and invalid boundary dates for the leap years. (For no leap year, Feb. 28 valid and Feb. 29 invalid; for a leap year Feb. 29 valid and Feb. 30 invalid)   \n     */\n    private static final int LEAP_STEP = 4;\n    private static final int YEAR_START = 1800;\n    private static final int YEAR_END = 2199;\n\n    /**\n     * This date regex will find matches for valid dates between 1800 and 2199 in the format of \"dd-MM-yyyy\".\n     * The leading 0 is optional.\n     */\n    private static final String DATE_REGEX = \"((0?[1-9]|[12][0-9]|3[01])-(0?[13578]|1[02])-(18|19|20|21)[0-9]{2})|((0?[1-9]|[12][0-9]|30)-(0?[469]|11)-(18|19|20|21)[0-9]{2})|((0?[1-9]|1[0-9]|2[0-8])-(0?2)-(18|19|20|21)[0-9]{2})|(29-(0?2)-(((18|19|20|21)(04|08|[2468][048]|[13579][26]))|2000))\";\n\n    /**\n     * This date regex is similar to the first one, but with the difference of matching only the whole string. So \"01-01-2000-12345\" won't pass with a match.\n     * Keep in mind that String.matches tries to match only the whole string.\n     */\n    private static final String DATE_REGEX_ONLY_WHOLE_STRING = \"^\" + DATE_REGEX + \"$\";\n\n    /**\n     * The simple regex (without checking for 31 day months and leap years):\n     */\n    private static final String DATE_REGEX_SIMPLE = \"(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-((18|19|20|21)\\\\d\\\\d)\";\n\n    /**\n     * This date regex is similar to the first one, but with the difference of matching only the whole string. So \"01-01-2000-12345\" won't pass with a match.\n     */\n    private static final String DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING = \"^\" + DATE_REGEX_SIMPLE + \"$\";\n\n    private static final SimpleDateFormat SDF = new SimpleDateFormat(\"dd-MM-yyyy\");\n    static {\n        SDF.setLenient(false);\n    }\n\n    private static final DateChecker dateValidatorSimple = new DateChecker(DATE_REGEX_SIMPLE);\n    private static final DateChecker dateValidatorSimpleOnlyWholeString = new DateChecker(DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        DateTimeStatistics dateTimeStatistics = new DateTimeStatistics();\n        boolean shouldMatch = true;\n        for (int i = 0; i &lt; validDateStrings.length; i++) {\n            String validDate = validDateStrings[i];\n            matchAssertAndPopulateTimes(\n                    dateTimeStatistics,\n                    shouldMatch, validDate);\n        }\n\n        shouldMatch = false;\n        for (int i = 0; i &lt; invalidDateStrings.length; i++) {\n            String invalidDate = invalidDateStrings[i];\n\n            matchAssertAndPopulateTimes(dateTimeStatistics,\n                    shouldMatch, invalidDate);\n        }\n\n        for (int year = YEAR_START; year &lt; (YEAR_END + 1); year++) {\n            FebruaryBoundaryDates februaryBoundaryDates = createValidAndInvalidFebruaryBoundaryDateStringsFromYear(year);\n            shouldMatch = true;\n            matchAssertAndPopulateTimes(dateTimeStatistics,\n                    shouldMatch, februaryBoundaryDates.getValidFebruaryBoundaryDateString());\n            shouldMatch = false;\n            matchAssertAndPopulateTimes(dateTimeStatistics,\n                    shouldMatch, februaryBoundaryDates.getInvalidFebruaryBoundaryDateString());\n        }\n\n        dateTimeStatistics.calculateAvarageTimesAndPrint();\n    }\n\n    private static void matchAssertAndPopulateTimes(\n            DateTimeStatistics dateTimeStatistics,\n            boolean shouldMatch, String date) {\n        dateTimeStatistics.addDate(date);\n        matchAndPopulateTimeToMatch(date, DATE_REGEX, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegex());\n        matchAndPopulateTimeToMatch(date, DATE_REGEX_ONLY_WHOLE_STRING, shouldMatch, dateTimeStatistics.getTimesTakenWithDateRegexOnlyWholeString());\n        boolean matchesSimpleDateFormat = matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(date, dateTimeStatistics.getTimesTakenWithSimpleDateFormatParse());\n        matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\n                dateTimeStatistics.getTimesTakenWithDateRegexSimple(), shouldMatch,\n                date, matchesSimpleDateFormat, DATE_REGEX_SIMPLE);\n        matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\n                dateTimeStatistics.getTimesTakenWithDateRegexSimpleOnlyWholeString(), shouldMatch,\n                date, matchesSimpleDateFormat, DATE_REGEX_SIMPLE_ONLY_WHOLE_STRING);\n\n        matchAndPopulateTimeToMatch(date, dateValidatorSimple, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimple());\n        matchAndPopulateTimeToMatch(date, dateValidatorSimpleOnlyWholeString, shouldMatch, dateTimeStatistics.getTimesTakenWithdateValidatorSimpleOnlyWholeString());\n    }\n\n    private static void matchAndPopulateTimeToMatchAndReturnMatchesAndCheck(\n            List&lt;Long&gt; times,\n            boolean shouldMatch, String date, boolean matchesSimpleDateFormat, String regex) {\n        boolean matchesFromRegex = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\n        assert !((matchesSimpleDateFormat &amp;&amp; matchesFromRegex) ^ shouldMatch) : \"Parsing with SimpleDateFormat and date:\" + date + \"\\nregex:\" + regex + \"\\nshouldMatch:\" + shouldMatch;\n    }\n\n    private static void matchAndPopulateTimeToMatch(String date, String regex, boolean shouldMatch, List&lt;Long&gt; times) {\n        boolean matches = matchAndPopulateTimeToMatchAndReturnMatches(date, regex, times);\n        assert !(matches ^ shouldMatch) : \"date:\" + date + \"\\nregex:\" + regex + \"\\nshouldMatch:\" + shouldMatch;\n    }\n\n    private static void matchAndPopulateTimeToMatch(String date, DateChecker dateValidator, boolean shouldMatch, List&lt;Long&gt; times) {\n        long timestampStart;\n        long timestampEnd;\n        boolean matches;\n        timestampStart = System.nanoTime();\n        matches = dateValidator.check(date);\n        timestampEnd = System.nanoTime();\n        times.add(timestampEnd - timestampStart);\n        assert !(matches ^ shouldMatch) : \"date:\" + date + \"\\ndateValidator with regex:\" + dateValidator.getRegex() + \"\\nshouldMatch:\" + shouldMatch;\n    }\n\n    private static boolean matchAndPopulateTimeToMatchAndReturnMatches(String date, String regex, List&lt;Long&gt; times) {\n        long timestampStart;\n        long timestampEnd;\n        boolean matches;\n        timestampStart = System.nanoTime();\n        matches = date.matches(regex);\n        timestampEnd = System.nanoTime();\n        times.add(timestampEnd - timestampStart);\n        return matches;\n    }\n\n    private static boolean matchWithSimpleDateFormatAndPopulateTimeToMatchAndReturnMatches(String date, List&lt;Long&gt; times) {\n        long timestampStart;\n        long timestampEnd;\n        boolean matches = true;\n        timestampStart = System.nanoTime();\n        try {\n            SDF.parse(date);\n        } catch (ParseException e) {\n            matches = false;\n        } finally {\n            timestampEnd = System.nanoTime();\n            times.add(timestampEnd - timestampStart);\n        }\n        return matches;\n    }\n\n    private static FebruaryBoundaryDates createValidAndInvalidFebruaryBoundaryDateStringsFromYear(int year) {\n        FebruaryBoundaryDates februaryBoundaryDates;\n        int modulo100 = year % 100;\n        //http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\n        if ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\n            februaryBoundaryDates = new FebruaryBoundaryDates(\n                    createFebruaryDateFromDayAndYear(29, year), \n                    createFebruaryDateFromDayAndYear(30, year)\n                    );\n        } else {\n            februaryBoundaryDates = new FebruaryBoundaryDates(\n                    createFebruaryDateFromDayAndYear(28, year), \n                    createFebruaryDateFromDayAndYear(29, year)\n                    );\n        }\n        return februaryBoundaryDates;\n    }\n\n    private static String createFebruaryDateFromDayAndYear(int day, int year) {\n        return String.format(\"%d-02-%d\", day, year);\n    }\n\n    static class FebruaryBoundaryDates {\n        private String validFebruaryBoundaryDateString;\n        String invalidFebruaryBoundaryDateString;\n        public FebruaryBoundaryDates(String validFebruaryBoundaryDateString,\n                String invalidFebruaryBoundaryDateString) {\n            super();\n            this.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\n            this.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\n        }\n        public String getValidFebruaryBoundaryDateString() {\n            return validFebruaryBoundaryDateString;\n        }\n        public void setValidFebruaryBoundaryDateString(\n                String validFebruaryBoundaryDateString) {\n            this.validFebruaryBoundaryDateString = validFebruaryBoundaryDateString;\n        }\n        public String getInvalidFebruaryBoundaryDateString() {\n            return invalidFebruaryBoundaryDateString;\n        }\n        public void setInvalidFebruaryBoundaryDateString(\n                String invalidFebruaryBoundaryDateString) {\n            this.invalidFebruaryBoundaryDateString = invalidFebruaryBoundaryDateString;\n        }\n    }\n\n    static class DateTimeStatistics {\n        private List&lt;String&gt; dates = new ArrayList&lt;String&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegex = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegexOnlyWholeString = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegexSimple = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithDateRegexSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithSimpleDateFormatParse = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithdateValidatorSimple = new ArrayList&lt;Long&gt;();\n        private List&lt;Long&gt; timesTakenWithdateValidatorSimpleOnlyWholeString = new ArrayList&lt;Long&gt;();\n        public List&lt;String&gt; getDates() {\n            return dates;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegex() {\n            return timesTakenWithDateRegex;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegexOnlyWholeString() {\n            return timesTakenWithDateRegexOnlyWholeString;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegexSimple() {\n            return timesTakenWithDateRegexSimple;\n        }\n        public List&lt;Long&gt; getTimesTakenWithDateRegexSimpleOnlyWholeString() {\n            return timesTakenWithDateRegexSimpleOnlyWholeString;\n        }\n        public List&lt;Long&gt; getTimesTakenWithSimpleDateFormatParse() {\n            return timesTakenWithSimpleDateFormatParse;\n        }\n        public List&lt;Long&gt; getTimesTakenWithdateValidatorSimple() {\n            return timesTakenWithdateValidatorSimple;\n        }\n        public List&lt;Long&gt; getTimesTakenWithdateValidatorSimpleOnlyWholeString() {\n            return timesTakenWithdateValidatorSimpleOnlyWholeString;\n        }\n        public void addDate(String date) {\n            dates.add(date);\n        }\n        public void addTimesTakenWithDateRegex(long time) {\n            timesTakenWithDateRegex.add(time);\n        }\n        public void addTimesTakenWithDateRegexOnlyWholeString(long time) {\n            timesTakenWithDateRegexOnlyWholeString.add(time);\n        }\n        public void addTimesTakenWithDateRegexSimple(long time) {\n            timesTakenWithDateRegexSimple.add(time);\n        }\n        public void addTimesTakenWithDateRegexSimpleOnlyWholeString(long time) {\n            timesTakenWithDateRegexSimpleOnlyWholeString.add(time);\n        }\n        public void addTimesTakenWithSimpleDateFormatParse(long time) {\n            timesTakenWithSimpleDateFormatParse.add(time);\n        }\n        public void addTimesTakenWithdateValidatorSimple(long time) {\n            timesTakenWithdateValidatorSimple.add(time);\n        }\n        public void addTimesTakenWithdateValidatorSimpleOnlyWholeString(long time) {\n            timesTakenWithdateValidatorSimpleOnlyWholeString.add(time);\n        }\n\n        private void calculateAvarageTimesAndPrint() {\n            long[] sumOfTimes = new long[7];\n            int timesSize = timesTakenWithDateRegex.size();\n            for (int i = 0; i &lt; timesSize; i++) {\n                sumOfTimes[0] += timesTakenWithDateRegex.get(i);\n                sumOfTimes[1] += timesTakenWithDateRegexOnlyWholeString.get(i);\n                sumOfTimes[2] += timesTakenWithDateRegexSimple.get(i);\n                sumOfTimes[3] += timesTakenWithDateRegexSimpleOnlyWholeString.get(i);\n                sumOfTimes[4] += timesTakenWithSimpleDateFormatParse.get(i);\n                sumOfTimes[5] += timesTakenWithdateValidatorSimple.get(i);\n                sumOfTimes[6] += timesTakenWithdateValidatorSimpleOnlyWholeString.get(i);\n            }\n            System.out.println(\"AVG from timesTakenWithDateRegex (in nanoseconds):\" + (double) sumOfTimes[0] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexOnlyWholeString (in nanoseconds):\" + (double) sumOfTimes[1] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimple (in nanoseconds):\" + (double) sumOfTimes[2] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimpleOnlyWholeString (in nanoseconds):\" + (double) sumOfTimes[3] / timesSize);\n            System.out.println(\"AVG from timesTakenWithSimpleDateFormatParse (in nanoseconds):\" + (double) sumOfTimes[4] / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimple + timesTakenWithSimpleDateFormatParse (in nanoseconds):\" + (double) (sumOfTimes[2] + sumOfTimes[4]) / timesSize);\n            System.out.println(\"AVG from timesTakenWithDateRegexSimpleOnlyWholeString + timesTakenWithSimpleDateFormatParse (in nanoseconds):\" + (double) (sumOfTimes[3] + sumOfTimes[4]) / timesSize);\n            System.out.println(\"AVG from timesTakenWithdateValidatorSimple (in nanoseconds):\" + (double) sumOfTimes[5] / timesSize);\n            System.out.println(\"AVG from timesTakenWithdateValidatorSimpleOnlyWholeString (in nanoseconds):\" + (double) sumOfTimes[6] / timesSize);\n        }\n    }\n\n    static class DateChecker {\n\n        private Matcher matcher;\n        private Pattern pattern;\n\n        public DateChecker(String regex) {\n            pattern = Pattern.compile(regex);\n        }\n\n        /**\n         * Checks if the date format is a valid.\n         * Uses the regex pattern to match the date first. \n         * Than additionally checks are performed on the boundaries of the days taken the month into account (leap years are covered).\n         * \n         * @param date the date that needs to be checked.\n         * @return if the date is of an valid format or not.\n         */\n        public boolean check(final String date) {\n            matcher = pattern.matcher(date);\n            if (matcher.matches()) {\n                matcher.reset();\n                if (matcher.find()) {\n                    int day = Integer.parseInt(matcher.group(1));\n                    int month = Integer.parseInt(matcher.group(2));\n                    int year = Integer.parseInt(matcher.group(3));\n\n                    switch (month) {\n                    case 1:\n                    case 3:\n                    case 5:\n                    case 7:\n                    case 8:\n                    case 10:\n                    case 12: return day &lt; 32;\n                    case 4:\n                    case 6:\n                    case 9:\n                    case 11: return day &lt; 31;\n                    case 2: \n                        int modulo100 = year % 100;\n                        //http://science.howstuffworks.com/science-vs-myth/everyday-myths/question50.htm\n                        if ((modulo100 == 0 &amp;&amp; year % 400 == 0) || (modulo100 != 0 &amp;&amp; year % LEAP_STEP == 0)) {\n                            //its a leap year\n                            return day &lt; 30;\n                        } else {\n                            return day &lt; 29;\n                        }\n                    default:\n                        break;\n                    }\n                }\n            }\n            return false;\n        }\n\n        public String getRegex() {\n            return pattern.pattern();\n        }\n    }\n}\n</code></pre>\n\n<p>Some useful notes:<br>\n- to enable the assertions (assert checks) you need to use -ea argument when running the tester. (In eclipse this is done by editing the Run/Debug configuration -> Arguments tab -> VM Arguments -> insert \"-ea\"<br>\n- the regex above is bounded to years 1800 to 2199<br>\n- you don't need to use ^ at the beginning and $ at the end to match only the whole date string. The String.matches takes care of that.<br>\n- make sure u check the valid and invalid cases and change them according the rules that you have.<br>\n- the \"only whole string\" version of each regex gives the same speed as the \"normal\" version (the one without ^ and $). If you see performance differences this is because java \"gets used\" to processing the same instructions so the time lowers. If you switch the lines where the \"normal\" and the \"only whole string\" version execute, you will see this proven.  </p>\n\n<p>Hope this helps someone!<br>\nCheers,<br>\nDespot</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1525723150,"post_id":42861846,"comment_id":87460490,"body_markdown":"Good of you to suggest the modern *java.time* classes. But your example code could be much simpler. (a) That input string’s format is standard ISO 8601 format. The *java.time* classes use the standard formats by default. So no need to specify a custom formatting pattern. (b) Your call to the `DateTimeFormatter` object, and passing a method reference, is correct but awkward. Easier to call `LocalDate.parse` static method and pass the formatter object (if needed, if input is non-standard). (c) Put together, more simple to do this: `LocalDate ld = LocalDate.parse( &quot;2018-01-23&quot; ) ;`","body":"Good of you to suggest the modern <i>java.time</i> classes. But your example code could be much simpler. (a) That input string’s format is standard ISO 8601 format. The <i>java.time</i> classes use the standard formats by default. So no need to specify a custom formatting pattern. (b) Your call to the <code>DateTimeFormatter</code> object, and passing a method reference, is correct but awkward. Easier to call <code>LocalDate.parse</code> static method and pass the formatter object (if needed, if input is non-standard). (c) Put together, more simple to do this: <code>LocalDate ld = LocalDate.parse( &quot;2018-01-23&quot; ) ;</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1550579994,"post_id":42861846,"comment_id":96313170,"body_markdown":"Furthermore the formatter implicitly used by `LocalDate.parse( &quot;2018-01-23&quot; )` is strict, which gives an even better validation than `DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)`.","body":"Furthermore the formatter implicitly used by <code>LocalDate.parse( &quot;2018-01-23&quot; )</code> is strict, which gives an even better validation than <code>DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)</code>."}],"tags":[],"owner":{"account_id":1766283,"reputation":1821,"user_id":1612093,"accept_rate":89,"display_name":"Mike"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525723004,"creation_date":1489765716,"answer_id":42861846,"question_id":2149680,"body_markdown":"# java.time\r\n\r\nThe proper (and easy) way to do date/time validation using Java 8+ is to use the [`java.time.format.DateTimeFormatter`][1] class. Using a regex for validation isn&#39;t really ideal for dates. For the example case in this question:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n    try {\r\n        LocalDate date = formatter.parse(text, LocalDate::from);\r\n    } catch (DateTimeParseException e) {\r\n        // Thrown if text could not be parsed in the specified format\r\n    }\r\n\r\nThis code will parse the text, validate that it is a valid date, and also return the date as a [`LocalDate`][2] object. Note that the `DateTimeFormatter` class has a number of static predefined date formats matching ISO standards if your use case matches any of them.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Regex date format validation on Java","body":"<h1>java.time</h1>\n\n<p>The proper (and easy) way to do date/time validation using Java 8+ is to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>java.time.format.DateTimeFormatter</code></a> class. Using a regex for validation isn't really ideal for dates. For the example case in this question:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\n\ntry {\n    LocalDate date = formatter.parse(text, LocalDate::from);\n} catch (DateTimeParseException e) {\n    // Thrown if text could not be parsed in the specified format\n}\n</code></pre>\n\n<p>This code will parse the text, validate that it is a valid date, and also return the date as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> object. Note that the <code>DateTimeFormatter</code> class has a number of static predefined date formats matching ISO standards if your use case matches any of them.</p>\n"},{"tags":[],"owner":{"account_id":11518499,"reputation":71,"user_id":8441145,"display_name":"Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525721082,"creation_date":1525719905,"answer_id":50220855,"question_id":2149680,"body_markdown":"If you want a simple regex then it won&#39;t be accurate.\r\nhttps://www.freeformatter.com/java-regex-tester.html#ad-output offers a tool to test your Java regex. Also, at the bottom you can find some suggested regexes for validating a date.\r\n\r\nISO date format (yyyy-mm-dd):\r\n\r\n    ^[0-9]{4}-(((0[13578]|(10|12))-(0[1-9]|[1-2][0-9]|3[0-1]))|(02-(0[1-9]|[1-2][0-9]))|((0[469]|11)-(0[1-9]|[1-2][0-9]|30)))$\r\n\r\nISO date format (yyyy-mm-dd) with separators &#39;-&#39; or &#39;/&#39; or &#39;.&#39; or &#39; &#39;. Forces usage of same separator accross date.\r\n\r\n    ^[0-9]{4}([- /.])(((0[13578]|(10|12))\\1(0[1-9]|[1-2][0-9]|3[0-1]))|(02\\1(0[1-9]|[1-2][0-9]))|((0[469]|11)\\1(0[1-9]|[1-2][0-9]|30)))$\r\n\r\nUnited States date format (mm/dd/yyyy)\r\n\r\n    ^(((0[13578]|(10|12))/(0[1-9]|[1-2][0-9]|3[0-1]))|(02/(0[1-9]|[1-2][0-9]))|((0[469]|11)/(0[1-9]|[1-2][0-9]|30)))/[0-9]{4}$\r\n\r\nHours and minutes, 24 hours format (HH:MM):\r\n\r\n    ^(20|21|22|23|[01]\\d|\\d)((:[0-5]\\d){1,2})$\r\n\r\nGood luck","title":"Regex date format validation on Java","body":"<p>If you want a simple regex then it won't be accurate.\n<a href=\"https://www.freeformatter.com/java-regex-tester.html#ad-output\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/java-regex-tester.html#ad-output</a> offers a tool to test your Java regex. Also, at the bottom you can find some suggested regexes for validating a date.</p>\n\n<p>ISO date format (yyyy-mm-dd):</p>\n\n<pre><code>^[0-9]{4}-(((0[13578]|(10|12))-(0[1-9]|[1-2][0-9]|3[0-1]))|(02-(0[1-9]|[1-2][0-9]))|((0[469]|11)-(0[1-9]|[1-2][0-9]|30)))$\n</code></pre>\n\n<p>ISO date format (yyyy-mm-dd) with separators '-' or '/' or '.' or ' '. Forces usage of same separator accross date.</p>\n\n<pre><code>^[0-9]{4}([- /.])(((0[13578]|(10|12))\\1(0[1-9]|[1-2][0-9]|3[0-1]))|(02\\1(0[1-9]|[1-2][0-9]))|((0[469]|11)\\1(0[1-9]|[1-2][0-9]|30)))$\n</code></pre>\n\n<p>United States date format (mm/dd/yyyy)</p>\n\n<pre><code>^(((0[13578]|(10|12))/(0[1-9]|[1-2][0-9]|3[0-1]))|(02/(0[1-9]|[1-2][0-9]))|((0[469]|11)/(0[1-9]|[1-2][0-9]|30)))/[0-9]{4}$\n</code></pre>\n\n<p>Hours and minutes, 24 hours format (HH:MM):</p>\n\n<pre><code>^(20|21|22|23|[01]\\d|\\d)((:[0-5]\\d){1,2})$\n</code></pre>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":5028618,"reputation":654,"user_id":4039605,"display_name":"Ramapati Maurya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530099665,"creation_date":1530099665,"answer_id":51061908,"question_id":2149680,"body_markdown":"    \r\n\r\n&gt; Below added code is working for me if you are using pattern\r\n&gt; dd-MM-yyyy.\r\n\r\n    \r\n    public boolean isValidDate(String date) {\r\n            boolean check;\r\n            String date1 = &quot;^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-([12][0-9]{3})$&quot;;\r\n            check = date.matches(date1);\r\n           \r\n            return check;\r\n        }","title":"Regex date format validation on Java","body":"<blockquote>\n  <p>Below added code is working for me if you are using pattern\n  dd-MM-yyyy.</p>\n</blockquote>\n\n<pre><code>public boolean isValidDate(String date) {\n        boolean check;\n        String date1 = \"^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-([12][0-9]{3})$\";\n        check = date.matches(date1);\n\n        return check;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":155533,"reputation":90025,"user_id":372239,"accept_rate":80,"display_name":"Toto"},"score":0,"creation_date":1537790775,"post_id":52478926,"comment_id":91898943,"body_markdown":"If you have used another answer, you could flag this question as a duplicate.","body":"If you have used another answer, you could flag this question as a duplicate."},{"owner":{"account_id":155533,"reputation":90025,"user_id":372239,"accept_rate":80,"display_name":"Toto"},"score":0,"creation_date":1537790865,"post_id":52478926,"comment_id":91898996,"body_markdown":"What is the purpose of `(?:1[6-9]|[2-9]\\d)?` before  `\\d{4}`?","body":"What is the purpose of <code>(?:1[6-9]|[2-9]\\d)?</code> before  <code>\\d{4}</code>?"},{"owner":{"account_id":6568360,"reputation":8825,"user_id":5077196,"accept_rate":87,"display_name":"Yahya Hussein"},"score":0,"creation_date":1537791786,"post_id":52478926,"comment_id":91899542,"body_markdown":"technically it is not, this question is asking about another date format, I just wanted to give the credit to the answer I depended on.","body":"technically it is not, this question is asking about another date format, I just wanted to give the credit to the answer I depended on."},{"owner":{"account_id":14911309,"reputation":149,"user_id":10766719,"display_name":"bohemian"},"score":0,"creation_date":1544395618,"post_id":52478926,"comment_id":94250192,"body_markdown":"This is almost the right answer, but does not take into account the particular case of leap years at the end of the century.\n\nFrom Wikipedia: Every year that is exactly divisible by four is a leap year, except for years that are exactly divisible by 100, but these centurial years are leap years if they are exactly divisible by 400. For example, the years 1700, 1800, and 1900 were not leap years, but the years 1600 and 2000 were.","body":"This is almost the right answer, but does not take into account the particular case of leap years at the end of the century.  From Wikipedia: Every year that is exactly divisible by four is a leap year, except for years that are exactly divisible by 100, but these centurial years are leap years if they are exactly divisible by 400. For example, the years 1700, 1800, and 1900 were not leap years, but the years 1600 and 2000 were."}],"tags":[],"owner":{"account_id":6568360,"reputation":8825,"user_id":5077196,"accept_rate":87,"display_name":"Yahya Hussein"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537793014,"creation_date":1537790345,"answer_id":52478926,"question_id":2149680,"body_markdown":"The following regex will accept YYYY-MM-DD (within the range 1600-2999 year) formatted dates taking into consideration leap years:\r\n\r\n \r\n\r\n     ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0[13578]|1[02])(-)31)|((0[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)02(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0[1-9])|(?:1[0-2]))(-)(?:0[1-9]|1\\d|2[0-8])$\r\n\r\nExamples:\r\n\r\n[![Date regex examples][1]][1]\r\n\r\nYou can test it [here][2].\r\n\r\nNote: if you want to accept one digit as month or day you can use:\r\n\r\n     ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0?[13578]|1[02])(-)31)|((0?[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)0?2(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0?[1-9])|(?:1[0-2]))(-)(?:0?[1-9]|1\\d|2[0-8])$\r\n\r\nI have created the above regex starting from this [solution][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/heMr1.png\r\n  [2]: https://regexr.com/40156\r\n  [3]: https://stackoverflow.com/a/15504877/5077196","title":"Regex date format validation on Java","body":"<p>The following regex will accept YYYY-MM-DD (within the range 1600-2999 year) formatted dates taking into consideration leap years:</p>\n\n<pre><code> ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0[13578]|1[02])(-)31)|((0[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)02(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0[1-9])|(?:1[0-2]))(-)(?:0[1-9]|1\\d|2[0-8])$\n</code></pre>\n\n<p>Examples:</p>\n\n<p><a href=\"https://i.stack.imgur.com/heMr1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/heMr1.png\" alt=\"Date regex examples\"></a></p>\n\n<p>You can test it <a href=\"https://regexr.com/40156\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Note: if you want to accept one digit as month or day you can use:</p>\n\n<pre><code> ^((?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:(?:0?[13578]|1[02])(-)31)|((0?[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)0?2(-)29)$|^(?:(?:1[6-9]|2[0-9])\\d{2})(-)(?:(?:0?[1-9])|(?:1[0-2]))(-)(?:0?[1-9]|1\\d|2[0-8])$\n</code></pre>\n\n<p>I have created the above regex starting from this <a href=\"https://stackoverflow.com/a/15504877/5077196\">solution</a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669761087,"creation_date":1669761087,"answer_id":74620946,"question_id":2149680,"body_markdown":"The pattern `yyyy-MM-dd` is the [default pattern](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE) used by [`LocalDate#parse`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-). Therefore, all you need to do is to pass your date string to this method and check if it is successfully parsed or some exception has occurred.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] arr = { &quot;2022-11-29&quot;, &quot;0000-00-00&quot;, &quot;2022-1-2&quot;, &quot;2022-02-29&quot; };\r\n            for (String s : arr) {\r\n                try {\r\n                    System.out.println(&quot;================================&quot;);\r\n                    System.out.println(LocalDate.parse(s) + &quot; is a valid date &quot;);\r\n                } catch (DateTimeParseException e) {\r\n                    System.out.println(e.getMessage());\r\n    \r\n                    // Recommended; so that the caller can handle it appropriately\r\n                    // throw new IllegalArgumentException(&quot;Invalid date&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    ================================\r\n    2022-11-29 is a valid date \r\n    ================================\r\n    Text &#39;0000-00-00&#39; could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 0\r\n    ================================\r\n    Text &#39;2022-1-2&#39; could not be parsed at index 5\r\n    ================================\r\n    Text &#39;2022-02-29&#39; could not be parsed: Invalid date &#39;February 29&#39; as &#39;2022&#39; is not a leap year\r\n\r\nSome important notes:\r\n--\r\n\r\n 1. `java.time` types follow [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) standards and therefore you do need to specify a `DateTimeFormatter` to parse a date-time string which is in ISO 8601 format.\r\n 2. The `java.time` API, released with Java-8 in March 2014, supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it has been strongly recommended to use this modern date-time API. Learn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Regex date format validation on Java","body":"<p>The pattern <code>yyyy-MM-dd</code> is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"nofollow noreferrer\">default pattern</a> used by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>LocalDate#parse</code></a>. Therefore, all you need to do is to pass your date string to this method and check if it is successfully parsed or some exception has occurred.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] arr = { &quot;2022-11-29&quot;, &quot;0000-00-00&quot;, &quot;2022-1-2&quot;, &quot;2022-02-29&quot; };\n        for (String s : arr) {\n            try {\n                System.out.println(&quot;================================&quot;);\n                System.out.println(LocalDate.parse(s) + &quot; is a valid date &quot;);\n            } catch (DateTimeParseException e) {\n                System.out.println(e.getMessage());\n\n                // Recommended; so that the caller can handle it appropriately\n                // throw new IllegalArgumentException(&quot;Invalid date&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>================================\n2022-11-29 is a valid date \n================================\nText '0000-00-00' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 0\n================================\nText '2022-1-2' could not be parsed at index 5\n================================\nText '2022-02-29' could not be parsed: Invalid date 'February 29' as '2022' is not a leap year\n</code></pre>\n<h2>Some important notes:</h2>\n<ol>\n<li><code>java.time</code> types follow <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standards and therefore you do need to specify a <code>DateTimeFormatter</code> to parse a date-time string which is in ISO 8601 format.</li>\n<li>The <code>java.time</code> API, released with Java-8 in March 2014, supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it has been strongly recommended to use this modern date-time API. Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</li>\n</ol>\n"}],"owner":{"account_id":34884,"reputation":2608,"user_id":98644,"accept_rate":91,"display_name":"Sheldon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284908,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":2149692,"answer_count":12,"score":78,"last_activity_date":1669761087,"creation_date":1264620303,"question_id":2149680,"body_markdown":"I&#39;m just wondering if there is a way (maybe with regex) to validate that an input on a Java desktop app is exactly a string formatted as: &quot;YYYY-MM-DD&quot;.","title":"Regex date format validation on Java","body":"<p>I'm just wondering if there is a way (maybe with regex) to validate that an input on a Java desktop app is exactly a string formatted as: &quot;YYYY-MM-DD&quot;.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1669755094,"post_id":74619572,"comment_id":131714007,"body_markdown":"I believe the Log4j2 answer to this is to put your tags into other contexts, rather than the thread context. They provide an extensible mechanism to define contexts based on things other than threads. https://logging.apache.org/log4j/2.x/manual/extending.html#Custom_ContextDataInjector","body":"I believe the Log4j2 answer to this is to put your tags into other contexts, rather than the thread context. They provide an extensible mechanism to define contexts based on things other than threads. <a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html#Custom_ContextDataInjector\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1669755455,"post_id":74619572,"comment_id":131714104,"body_markdown":"I think you mix two concepts: the `ThreadContext` is basically a `ThreadLocal&lt;Map&lt;String, String&gt;&gt;` to store additional logging metadata. Loggers are associated with logger contexts using a [`ContextSelector`](https://logging.apache.org/log4j/2.x/manual/extending.html#ContextSelector). The default one uses the caller&#39;s classloader, it does not care about threads.","body":"I think you mix two concepts: the <code>ThreadContext</code> is basically a <code>ThreadLocal&lt;Map&lt;String, String&gt;&gt;</code> to store additional logging metadata. Loggers are associated with logger contexts using a <a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html#ContextSelector\" rel=\"nofollow noreferrer\"><code>ContextSelector</code></a>. The default one uses the caller&#39;s classloader, it does not care about threads."}],"answers":[{"tags":[],"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669760612,"creation_date":1669760612,"answer_id":74620884,"question_id":74619572,"body_markdown":"Okay, what I ended up having to do was to add to the ThreadContext for each of the common pool threads that were used in the parallelStream.\r\n\r\n    if (!Thread.currentThread().getName().startsWith(mainThread)) {              \r\n        ThreadContext.put(BATCH_LOGGER_THREAD_CONTEXT_KEY, configuration);\r\n    }\r\nThis allowed the log lines to go to the expected file. I also had to remember to clean up the ThreadContext for the threads after the processing was complete so there wasn&#39;t any leakage into other logs.","title":"Is there a way to add parallelStream threads to existing Log4J2 context?","body":"<p>Okay, what I ended up having to do was to add to the ThreadContext for each of the common pool threads that were used in the parallelStream.</p>\n<pre><code>if (!Thread.currentThread().getName().startsWith(mainThread)) {              \n    ThreadContext.put(BATCH_LOGGER_THREAD_CONTEXT_KEY, configuration);\n}\n</code></pre>\n<p>This allowed the log lines to go to the expected file. I also had to remember to clean up the ThreadContext for the threads after the processing was complete so there wasn't any leakage into other logs.</p>\n"}],"owner":{"account_id":1454976,"reputation":374,"user_id":1370823,"display_name":"Steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669760612,"creation_date":1669751682,"question_id":74619572,"body_markdown":"I&#39;m working on some large data processing, and am using a parallelStream on a collection to run this. Prior to the processing we have already added a configuration to the Log4J thread context. While it&#39;s running the processing, it is only logging the main thread to the file, but the other threads are not being written there. \r\n\r\nI&#39;m sure there is some way that the additional threads can be added to the same log file, but so far I have been unable to find the solution.\r\n\r\nAll of the processing is working correctly, the log is the last bit that I&#39;m having an issue with, and am trying to resolve.\r\n\r\nThanks!","title":"Is there a way to add parallelStream threads to existing Log4J2 context?","body":"<p>I'm working on some large data processing, and am using a parallelStream on a collection to run this. Prior to the processing we have already added a configuration to the Log4J thread context. While it's running the processing, it is only logging the main thread to the file, but the other threads are not being written there.</p>\n<p>I'm sure there is some way that the additional threads can be added to the same log file, but so far I have been unable to find the solution.</p>\n<p>All of the processing is working correctly, the log is the last bit that I'm having an issue with, and am trying to resolve.</p>\n<p>Thanks!</p>\n"},{"tags":["java","multithreading","sockets","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1669761591,"post_id":74620860,"comment_id":131715640,"body_markdown":"Just a really quick comment: I don&#39;t think you want to declare and initialize the `ThreadPoolExecutor` within the loop; instead move that row outside the loop?","body":"Just a really quick comment: I don&#39;t think you want to declare and initialize the <code>ThreadPoolExecutor</code> within the loop; instead move that row outside the loop?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669762030,"post_id":74620860,"comment_id":131715744,"body_markdown":"You need to learn more about proper use of an executor service. Start by reading the Javadoc of [`ExecutorService`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html). Then [The Java Tutorials](https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html) by Oracle, free of cost. After that, search Stack Overflow as this topic has already been addressed many times.","body":"You need to learn more about proper use of an executor service. Start by reading the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. Then <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a> by Oracle, free of cost. After that, search Stack Overflow as this topic has already been addressed many times."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669766995,"post_id":74620860,"comment_id":131716717,"body_markdown":"Adding to what Mick said, Every call to `Executors.newFixedThreadPool(10)` creates _ten_ new threads. You certainly don&#39;t want to do that for every new connection. What you want is to create just _one_ thread pool, and then re-use those same ten threads again and again by submitting a new task to the pool for each incoming connection.","body":"Adding to what Mick said, Every call to <code>Executors.newFixedThreadPool(10)</code> creates <i>ten</i> new threads. You certainly don&#39;t want to do that for every new connection. What you want is to create just <i>one</i> thread pool, and then re-use those same ten threads again and again by submitting a new task to the pool for each incoming connection."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1669847443,"post_id":74620860,"comment_id":131739300,"body_markdown":"The executors create threads on demand @SolomonSlow.  It won&#39;t create 10 new threads but just 1 core thread.  That said, he should be using a centrral executor like you and others mention.","body":"The executors create threads on demand @SolomonSlow.  It won&#39;t create 10 new threads but just 1 core thread.  That said, he should be using a centrral executor like you and others mention."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669865176,"post_id":74620860,"comment_id":131741969,"body_markdown":"@Gray, Javadoc for [`Executors.newFixedThreadPool(nThreads)`](https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)) says, &quot;Creates a thread pool that reuses a _fixed number_ of threads.&quot; It creates `nThreads`. If you look in the OpenJDK source, you&#39;ll see that it returns a `new ThreadPoolExecutor(nThreads, nThreads,...)` The pool always has exactly nThreads threads.","body":"@Gray, Javadoc for <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow noreferrer\"><code>Executors.newFixedThreadPool(nThreads)</code></a> says, &quot;Creates a thread pool that reuses a <i>fixed number</i> of threads.&quot; It creates <code>nThreads</code>. If you look in the OpenJDK source, you&#39;ll see that it returns a <code>new ThreadPoolExecutor(nThreads, nThreads,...)</code> The pool always has exactly nThreads threads."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1669908969,"post_id":74620860,"comment_id":131754405,"body_markdown":"I know the javadocs @SolomonSlow but I also know the code.  Take a look at the `execute()` method of `ThreadPoolExecutor`.  The workers are created on demand.","body":"I know the javadocs @SolomonSlow but I also know the code.  Take a look at the <code>execute()</code> method of <code>ThreadPoolExecutor</code>.  The workers are created on demand."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669910389,"post_id":74620860,"comment_id":131755010,"body_markdown":"@Gray, Well, Smack me down for looking at the source code for the one method without bothering to look at the source for the class that does all of the work. I guess it&#39;s like Uncle Bob says: Only the code can tell you what the code actually does.","body":"@Gray, Well, Smack me down for looking at the source code for the one method without bothering to look at the source for the class that does all of the work. I guess it&#39;s like Uncle Bob says: Only the code can tell you what the code actually does."}],"owner":{"account_id":26688119,"reputation":11,"user_id":20297102,"display_name":"Matthew Watson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669760423,"creation_date":1669760423,"question_id":74620860,"body_markdown":"This is my 2nd ever Post I&#39;m pretty new to Programming.\r\n\r\nI&#39;m working on making my Socket Server Concurrent (Multithreaded) on the Server side. I understand I have to use Threaded Pools after my Socket accepts but I&#39;m just very confused what to do. currently the requests are slower then it was when it was only iterative because its not working correctly. \r\n\r\n\r\n\r\n\r\n```\r\n//MultiClient Class\r\n\r\nimport java.util.*;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class MultiServer {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;What port should the server be using?&quot;);\r\n\t\tint portNumber = scnr.nextInt();\r\n\t\t\r\n\t\twhile ((portNumber &lt; 1025) ||(portNumber &gt; 4998)) {\r\n\t\t\tSystem.out.println(&quot;Please enter a Port Number between &#39;1025&#39; and &#39;4998&#39;.&quot;);\r\n\t\t\tportNumber = scnr.nextInt();\r\n\t\t}\r\n\t\ttry (ServerSocket serverSock = new ServerSocket(portNumber)){\r\n\t\t\tSystem.out.println(&quot;Server listening on port &quot; + portNumber);\r\n\r\n\twhile(true) {\r\n\t\t  Socket sock = serverSock.accept();\r\n\t\t  MultiServerHandler msh = new MultiServerHandler(sock);\r\n\t\t  ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n\t\t  executor.execute(msh);\r\n\t\t\r\n         \r\n\t}\r\n\t\t\r\n  } catch (IOException ex) {\r\n      System.out.println(&quot;Server exception: &quot; + ex.getMessage());\r\n      ex.printStackTrace();\r\n  }\r\n\t\t\r\n\t\t}\r\n\t}\r\n```\r\n```\r\n//MultiClientHandler Class\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\n\r\npublic class MultiServerHandler extends Thread{\r\n\r\n\tprivate Socket sock;\r\n\t\r\n\tpublic MultiServerHandler(Socket sock) {\r\n\t\tthis.sock = sock;\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\t\r\n\t\ttry {\r\n\t\tSystem.out.println(&quot;New client connected&quot;);\r\n\r\n\t\tInputStream input = sock.getInputStream();\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n\r\n\t\tOutputStream output = sock.getOutputStream();\r\n\t\tPrintWriter writer = new PrintWriter(output, true);\r\n\r\n\t\tString command;\r\n\r\n\t\t    command = reader.readLine();\r\n\t\t    Process process = Runtime.getRuntime().exec(command);\r\n\t\t    BufferedReader read = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t    String result;\r\n\t\t    \r\n\t\t    while((result = read.readLine()) != null) {\r\n\t\t  \t  writer.println(result);\r\n\t\t    }\r\n\t\t    sock.close();\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n}\r\n```\r\n\r\n\r\nSo far I just know I have to implement it after the socket accepts but I&#39;m not too sure yet. ","title":"Thread Pooled Concurrent Server (JAVA)","body":"<p>This is my 2nd ever Post I'm pretty new to Programming.</p>\n<p>I'm working on making my Socket Server Concurrent (Multithreaded) on the Server side. I understand I have to use Threaded Pools after my Socket accepts but I'm just very confused what to do. currently the requests are slower then it was when it was only iterative because its not working correctly.</p>\n<pre><code>//MultiClient Class\n\nimport java.util.*;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.net.*;\nimport java.io.*;\n\npublic class MultiServer {\n\n    public static void main(String[] args) throws IOException {\n        Scanner scnr = new Scanner(System.in);\n        \n        System.out.println(&quot;What port should the server be using?&quot;);\n        int portNumber = scnr.nextInt();\n        \n        while ((portNumber &lt; 1025) ||(portNumber &gt; 4998)) {\n            System.out.println(&quot;Please enter a Port Number between '1025' and '4998'.&quot;);\n            portNumber = scnr.nextInt();\n        }\n        try (ServerSocket serverSock = new ServerSocket(portNumber)){\n            System.out.println(&quot;Server listening on port &quot; + portNumber);\n\n    while(true) {\n          Socket sock = serverSock.accept();\n          MultiServerHandler msh = new MultiServerHandler(sock);\n          ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n          executor.execute(msh);\n        \n         \n    }\n        \n  } catch (IOException ex) {\n      System.out.println(&quot;Server exception: &quot; + ex.getMessage());\n      ex.printStackTrace();\n  }\n        \n        }\n    }\n</code></pre>\n<pre><code>//MultiClientHandler Class\n\nimport java.io.*;\nimport java.net.*;\n\n\npublic class MultiServerHandler extends Thread{\n\n    private Socket sock;\n    \n    public MultiServerHandler(Socket sock) {\n        this.sock = sock;\n    }\n    \n    public void run() {\n        \n        try {\n        System.out.println(&quot;New client connected&quot;);\n\n        InputStream input = sock.getInputStream();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n\n        OutputStream output = sock.getOutputStream();\n        PrintWriter writer = new PrintWriter(output, true);\n\n        String command;\n\n            command = reader.readLine();\n            Process process = Runtime.getRuntime().exec(command);\n            BufferedReader read = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String result;\n            \n            while((result = read.readLine()) != null) {\n              writer.println(result);\n            }\n            sock.close();\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    \n}\n</code></pre>\n<p>So far I just know I have to implement it after the socket accepts but I'm not too sure yet.</p>\n"},{"tags":["java","android","push-notification"],"comments":[{"owner":{"account_id":6457179,"reputation":2397,"user_id":5002179,"accept_rate":77,"display_name":"MurugananthamS"},"score":0,"creation_date":1573556383,"post_id":58817214,"comment_id":103912000,"body_markdown":"did yu using FCM or some other concept to send notification","body":"did yu using FCM or some other concept to send notification"},{"owner":{"account_id":7773500,"reputation":5844,"user_id":5882307,"display_name":"OMi Shah"},"score":0,"creation_date":1573556704,"post_id":58817214,"comment_id":103912165,"body_markdown":"For push notification, you need to use push services like Firebase Cloud Messaging https://firebase.google.com/docs/cloud-messaging, but I will recommend you to use OneSignal https://onesignal.com/ which is easy to implement using API calls.","body":"For push notification, you need to use push services like Firebase Cloud Messaging <a href=\"https://firebase.google.com/docs/cloud-messaging\" rel=\"nofollow noreferrer\">firebase.google.com/docs/cloud-messaging</a>, but I will recommend you to use OneSignal <a href=\"https://onesignal.com/\" rel=\"nofollow noreferrer\">onesignal.com</a> which is easy to implement using API calls."},{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573557432,"post_id":58817214,"comment_id":103912531,"body_markdown":"@MurugananthamS no. I just want to create a simple notification but i can send to all users","body":"@MurugananthamS no. I just want to create a simple notification but i can send to all users"},{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573557466,"post_id":58817214,"comment_id":103912545,"body_markdown":"@OMiShah will check it! thank you","body":"@OMiShah will check it! thank you"},{"owner":{"account_id":6457179,"reputation":2397,"user_id":5002179,"accept_rate":77,"display_name":"MurugananthamS"},"score":0,"creation_date":1573558886,"post_id":58817214,"comment_id":103913270,"body_markdown":"than you have to implement FCM messaging service https://blog.mindorks.com/pushing-notifications-in-android-using-fcm refer this link","body":"than you have to implement FCM messaging service <a href=\"https://blog.mindorks.com/pushing-notifications-in-android-using-fcm\" rel=\"nofollow noreferrer\">blog.mindorks.com/pushing-notifications-in-android-using-fcm</a> refer this link"},{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573563237,"post_id":58817214,"comment_id":103915622,"body_markdown":"@MurugananthamS I have questions, if i implement the FCM Messaging service can I send the notification through apps rather than i have to go to firebase console to send the notification? I want to make a notification than can be send by phone","body":"@MurugananthamS I have questions, if i implement the FCM Messaging service can I send the notification through apps rather than i have to go to firebase console to send the notification? I want to make a notification than can be send by phone"}],"answers":[{"comments":[{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573558767,"post_id":58817878,"comment_id":103913204,"body_markdown":"do I have to implement it on the same page of my class?","body":"do I have to implement it on the same page of my class?"},{"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"score":0,"creation_date":1573558864,"post_id":58817878,"comment_id":103913257,"body_markdown":"It&#39;s a public function, you are passing context in the parameter you can use this method to show notification in Android system.","body":"It&#39;s a public function, you are passing context in the parameter you can use this method to show notification in Android system."},{"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"score":0,"creation_date":1573564931,"post_id":58817878,"comment_id":103916511,"body_markdown":"I have question. I have `notification()` on my **onCreate** . How to pass  `(Context context, String title, String message, Intent intent, int reqCode)` inside my `notification` on my **onCreate** ?","body":"I have question. I have <code>notification()</code> on my <b>onCreate</b> . How to pass  <code>(Context context, String title, String message, Intent intent, int reqCode)</code> inside my <code>notification</code> on my <b>onCreate</b> ?"},{"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"score":0,"creation_date":1573575657,"post_id":58817878,"comment_id":103922238,"body_markdown":"I&#39;ve added the implementation.","body":"I&#39;ve added the implementation."},{"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"score":0,"creation_date":1573588060,"post_id":58817878,"comment_id":103927987,"body_markdown":"If you are using Firebase push notification service then you can show notification on push received by passing the data","body":"If you are using Firebase push notification service then you can show notification on push received by passing the data"}],"tags":[],"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1573575637,"creation_date":1573558445,"answer_id":58817878,"question_id":58817214,"body_markdown":"After Oreo SDK you have to create Notification channel in order to show a notification, check this method for reference:\r\n\r\n\r\n    /**\r\n     *\r\n     * @param context\r\n     * @param title  --&gt; title to show\r\n     * @param message --&gt; details to show\r\n     * @param intent --&gt; What should happen on clicking the notification\r\n     * @param reqCode --&gt; unique code for the notification\r\n     */\r\n\r\n    public void showNotification(Context context, String title, String message, Intent intent, int reqCode) {\r\n        SharedPreferenceManager sharedPreferenceManager = SharedPreferenceManager.getInstance(context);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, reqCode, intent, PendingIntent.FLAG_ONE_SHOT);\r\n        String CHANNEL_ID = &quot;channel_name&quot;;// The id of the channel.\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n                .setSmallIcon(R.mipmap.notification_logo)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setAutoCancel(true)\r\n                .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\r\n                .setContentIntent(pendingIntent);\r\n        NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Channel Name&quot;;// The user-visible name of the channel.\r\n            int importance = NotificationManager.IMPORTANCE_HIGH;\r\n            NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            notificationManager.createNotificationChannel(mChannel);\r\n        }\r\n        notificationManager.notify(reqCode, notificationBuilder.build()); // 0 is the request code, it should be unique id\r\n\r\n        Log.d(&quot;showNotification&quot;, &quot;showNotification: &quot; + reqCode);\r\n    }\r\n\r\n\r\n\r\nHow to use this method:\r\n\r\n        int reqCode = 1;\r\n        Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n        showNotification(this, &quot;Title&quot;, &quot;This is the message to display&quot;, intent, reqCode);\r\n\r\n","title":"How to make Notification appear on the phone for Android Studio?","body":"<p>After Oreo SDK you have to create Notification channel in order to show a notification, check this method for reference:</p>\n\n<pre><code>/**\n *\n * @param context\n * @param title  --&gt; title to show\n * @param message --&gt; details to show\n * @param intent --&gt; What should happen on clicking the notification\n * @param reqCode --&gt; unique code for the notification\n */\n\npublic void showNotification(Context context, String title, String message, Intent intent, int reqCode) {\n    SharedPreferenceManager sharedPreferenceManager = SharedPreferenceManager.getInstance(context);\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(context, reqCode, intent, PendingIntent.FLAG_ONE_SHOT);\n    String CHANNEL_ID = \"channel_name\";// The id of the channel.\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(context, CHANNEL_ID)\n            .setSmallIcon(R.mipmap.notification_logo)\n            .setContentTitle(title)\n            .setContentText(message)\n            .setAutoCancel(true)\n            .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\n            .setContentIntent(pendingIntent);\n    NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = \"Channel Name\";// The user-visible name of the channel.\n        int importance = NotificationManager.IMPORTANCE_HIGH;\n        NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, importance);\n        notificationManager.createNotificationChannel(mChannel);\n    }\n    notificationManager.notify(reqCode, notificationBuilder.build()); // 0 is the request code, it should be unique id\n\n    Log.d(\"showNotification\", \"showNotification: \" + reqCode);\n}\n</code></pre>\n\n<p>How to use this method:</p>\n\n<pre><code>    int reqCode = 1;\n    Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n    showNotification(this, \"Title\", \"This is the message to display\", intent, reqCode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17402519,"reputation":137,"user_id":12611136,"display_name":"Syeda Soghat Zehra Jaffri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669760131,"creation_date":1669760131,"answer_id":74620819,"question_id":58817214,"body_markdown":"         public void sendNotification (String message, String title ){\r\n    \r\n            Intent intent = new Intent(getApplicationContext(), CampaignActivity.class);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 , intent,\r\n                    PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n    \r\n            String channelId = &quot;some_channel_id&quot;;\r\n            Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n            NotificationCompat.Builder notificationBuilder =\r\n                    new NotificationCompat.Builder(this, channelId)\r\n                            .setSmallIcon(R.mipmap.ic_launcher_round)\r\n    //                        .setContentTitle(getString(R.string.app_name)\r\n                            .setContentTitle(title)\r\n                            .setContentText(message)\r\n                            .setAutoCancel(true)\r\n                            .setSound(defaultSoundUri)\r\n                            .setContentIntent(pendingIntent);\r\n    \r\n            NotificationManager notificationManager =\r\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n            // Since android Oreo notification channel is needed.\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationChannel channel = new NotificationChannel(channelId,\r\n                        &quot;Channel human readable title&quot;,\r\n                        NotificationManager.IMPORTANCE_DEFAULT);\r\n                assert notificationManager != null;\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n    \r\n            assert notificationManager != null;\r\n            notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\r\n        }","title":"How to make Notification appear on the phone for Android Studio?","body":"<pre><code>     public void sendNotification (String message, String title ){\n\n        Intent intent = new Intent(getApplicationContext(), CampaignActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 , intent,\n                PendingIntent.FLAG_IMMUTABLE);\n\n\n        String channelId = &quot;some_channel_id&quot;;\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        NotificationCompat.Builder notificationBuilder =\n                new NotificationCompat.Builder(this, channelId)\n                        .setSmallIcon(R.mipmap.ic_launcher_round)\n//                        .setContentTitle(getString(R.string.app_name)\n                        .setContentTitle(title)\n                        .setContentText(message)\n                        .setAutoCancel(true)\n                        .setSound(defaultSoundUri)\n                        .setContentIntent(pendingIntent);\n\n        NotificationManager notificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        // Since android Oreo notification channel is needed.\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(channelId,\n                    &quot;Channel human readable title&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT);\n            assert notificationManager != null;\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        assert notificationManager != null;\n        notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\n    }\n</code></pre>\n"}],"owner":{"account_id":16928931,"reputation":73,"user_id":12243801,"display_name":"baelyn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12445,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58817878,"answer_count":2,"score":5,"last_activity_date":1669760131,"creation_date":1573556175,"question_id":58817214,"body_markdown":"I want to create a push notification where Admin can send notification to all users. I found a tutorial and follow it but it doesn&#39;t work. I&#39;m not sure where I did wrong but I got error that said \r\n\r\n`Developer Warning for package &quot;... &quot; Failed to post notification on channel &quot;null&quot;`\r\n\r\n```\r\n b1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String tittle = ed1.getText().toString().trim();\r\n                String subject = ed2.getText().toString().trim();\r\n                String body = ed3.getText().toString().trim();\r\n\r\n                NotificationManager notif = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n                Notification notify = new Notification.Builder\r\n                        (getApplicationContext()).setContentTitle(tittle).setContentText(body).\r\n                        setContentTitle(subject).setSmallIcon(R.drawable.ps).build();\r\n\r\n                notify.flags |= Notification.FLAG_AUTO_CANCEL;\r\n                notif.notify(0, notify);\r\n            }\r\n        });\r\n\r\n```","title":"How to make Notification appear on the phone for Android Studio?","body":"<p>I want to create a push notification where Admin can send notification to all users. I found a tutorial and follow it but it doesn't work. I'm not sure where I did wrong but I got error that said </p>\n\n<p><code>Developer Warning for package \"... \" Failed to post notification on channel \"null\"</code></p>\n\n<pre><code> b1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String tittle = ed1.getText().toString().trim();\n                String subject = ed2.getText().toString().trim();\n                String body = ed3.getText().toString().trim();\n\n                NotificationManager notif = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n                Notification notify = new Notification.Builder\n                        (getApplicationContext()).setContentTitle(tittle).setContentText(body).\n                        setContentTitle(subject).setSmallIcon(R.drawable.ps).build();\n\n                notify.flags |= Notification.FLAG_AUTO_CANCEL;\n                notif.notify(0, notify);\n            }\n        });\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":3,"creation_date":1379105617,"post_id":18795041,"comment_id":27715778,"body_markdown":"pretty sure you have to make the constructor private. No annotation is going to stop things from calling the public constructor","body":"pretty sure you have to make the constructor private. No annotation is going to stop things from calling the public constructor"}],"answers":[{"comments":[{"owner":{"account_id":1495402,"reputation":2213,"user_id":1401472,"accept_rate":78,"display_name":"user1401472"},"score":0,"creation_date":1379160202,"post_id":18795108,"comment_id":27726928,"body_markdown":"Thanks. I thought of DI as an alternative. But there the container just returns the same bean instance instead of creating it every time when a getBean method is called. I think any one can still instantiate the class by new.","body":"Thanks. I thought of DI as an alternative. But there the container just returns the same bean instance instead of creating it every time when a getBean method is called. I think any one can still instantiate the class by new."},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":2,"creation_date":1379169131,"post_id":18795108,"comment_id":27729011,"body_markdown":"If the contract of the class includes it shall not be directly instantiated, then you don&#39;t necessarily need to enforce this with some programming trick.  If the client wants to violate your contract, let him/her do so and pay the consequences. You were clear enough.","body":"If the contract of the class includes it shall not be directly instantiated, then you don&#39;t necessarily need to enforce this with some programming trick.  If the client wants to violate your contract, let him/her do so and pay the consequences. You were clear enough."},{"owner":{"account_id":1336729,"reputation":799,"user_id":1279301,"accept_rate":67,"display_name":"Sumit Kumar Saha"},"score":0,"creation_date":1531924764,"post_id":18795108,"comment_id":89780529,"body_markdown":"use Google Guice, https://www.journaldev.com/2403/google-guice-dependency-injection-example-tutorial","body":"use Google Guice, <a href=\"https://www.journaldev.com/2403/google-guice-dependency-injection-example-tutorial\" rel=\"nofollow noreferrer\">journaldev.com/2403/&hellip;</a>"},{"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"score":0,"creation_date":1662449943,"post_id":18795108,"comment_id":130001644,"body_markdown":"what is https://www.baeldung.com/lombok-custom-annotation ?","body":"what is <a href=\"https://www.baeldung.com/lombok-custom-annotation\" rel=\"nofollow noreferrer\">baeldung.com/lombok-custom-annotation</a> ?"}],"tags":[],"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1379262324,"creation_date":1379105774,"answer_id":18795108,"question_id":18795041,"body_markdown":"No annotation can prevent a class from being instantiated. However, if you plan to implement something like a Dependency Injection framework, or just a simple object factory, then you can use reflection to read the annotation and prevent the class from being instantiated more than once, but I understand this is not the answer you were looking for.\r\n\r\nYou can actually think about dropping the singleton pattern and moving to some more modern solution like a proper DI framework, which can give you the same result - with more flexibility.","title":"How can I implement @Singleton annotation?","body":"<p>No annotation can prevent a class from being instantiated. However, if you plan to implement something like a Dependency Injection framework, or just a simple object factory, then you can use reflection to read the annotation and prevent the class from being instantiated more than once, but I understand this is not the answer you were looking for.</p>\n\n<p>You can actually think about dropping the singleton pattern and moving to some more modern solution like a proper DI framework, which can give you the same result - with more flexibility.</p>\n"},{"comments":[{"owner":{"account_id":125523,"reputation":6611,"user_id":321356,"accept_rate":82,"display_name":"Jan D&#246;rrenhaus"},"score":1,"creation_date":1379105940,"post_id":18795128,"comment_id":27715926,"body_markdown":"@gd1 Which may or may not be required.","body":"@gd1 Which may or may not be required."},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":1,"creation_date":1379105960,"post_id":18795128,"comment_id":27715932,"body_markdown":"Better to mention. :)","body":"Better to mention. :)"},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":1,"creation_date":1379105989,"post_id":18795128,"comment_id":27715942,"body_markdown":"@gd1 Is there a general way to thread-safe a singleton? Or is it really on a per-implementation basis? Start by making `getInstance()` synchronized?","body":"@gd1 Is there a general way to thread-safe a singleton? Or is it really on a per-implementation basis? Start by making <code>getInstance()</code> synchronized?"},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":2,"creation_date":1379106326,"post_id":18795128,"comment_id":27716088,"body_markdown":"Not necessarily. You can initialize the instance immediately upon class initialization (which is guaranteed to be thread-safe), or, if you stick with lazy initialization, you have to make the instance reference volatile (Java 1.5+) and perform double-checked locking. See http://en.wikipedia.org/wiki/Double-checked_locking . However, this seems so outdated: there are good DI frameworks out there, and they support singleton objects. And most remarkably, they can be turned non-singleton anytime without changing a line of code.","body":"Not necessarily. You can initialize the instance immediately upon class initialization (which is guaranteed to be thread-safe), or, if you stick with lazy initialization, you have to make the instance reference volatile (Java 1.5+) and perform double-checked locking. See <a href=\"http://en.wikipedia.org/wiki/Double-checked_locking\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Double-checked_locking</a> . However, this seems so outdated: there are good DI frameworks out there, and they support singleton objects. And most remarkably, they can be turned non-singleton anytime without changing a line of code."},{"owner":{"account_id":2061092,"reputation":1198,"user_id":1837599,"accept_rate":88,"display_name":"Chocksmith"},"score":4,"creation_date":1462914977,"post_id":18795128,"comment_id":61836210,"body_markdown":"sometimes DI is just too much. There are many cases where a simple Singleton solves the problem. Need to be open minded here.","body":"sometimes DI is just too much. There are many cases where a simple Singleton solves the problem. Need to be open minded here."}],"tags":[],"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1647859895,"creation_date":1379105887,"answer_id":18795128,"question_id":18795041,"body_markdown":"    public class ASingletonClass {\r\n\r\n        private static ASingletonClass instance = null;\r\n\r\n        private ASingletonClass() {\r\n    \r\n        }\r\n    \r\n        public static ASingletonClass getInstance() {\r\n            if (instance == null) {\r\n                 instance = new ASingletonClass();\r\n            }\r\n\r\n            return instance;\r\n        }\r\n    }\r\n\r\nThis is the right way to implement singleton. The annotation cannot stop people from calling the public constructor. ","title":"How can I implement @Singleton annotation?","body":"<pre><code>public class ASingletonClass {\n\n    private static ASingletonClass instance = null;\n\n    private ASingletonClass() {\n\n    }\n\n    public static ASingletonClass getInstance() {\n        if (instance == null) {\n             instance = new ASingletonClass();\n        }\n\n        return instance;\n    }\n}\n</code></pre>\n<p>This is the right way to implement singleton. The annotation cannot stop people from calling the public constructor.</p>\n"},{"tags":[],"owner":{"account_id":9813913,"reputation":173,"user_id":7271034,"display_name":"Jayant Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540554621,"creation_date":1540554621,"answer_id":53008089,"question_id":18795041,"body_markdown":"You can also use lazy initialization of the class. Example code as below.\r\n\r\n    class LazyInitialization implements PrintStatement {\r\n       private static LazyInitialization instance;\r\n\r\n       private LazyInitialization() {\r\n\r\n       }\r\n\r\n       static LazyInitialization getInstance() {\r\n         if (instance == null)\r\n            instance = new LazyInitialization();\r\n\r\n         return instance;\r\n       }\r\n\r\n       @Override\r\n       public void print() {\r\n          System.out.println(&quot;I am inside&quot;);\r\n       }\r\n    }","title":"How can I implement @Singleton annotation?","body":"<p>You can also use lazy initialization of the class. Example code as below.</p>\n\n<pre><code>class LazyInitialization implements PrintStatement {\n   private static LazyInitialization instance;\n\n   private LazyInitialization() {\n\n   }\n\n   static LazyInitialization getInstance() {\n     if (instance == null)\n        instance = new LazyInitialization();\n\n     return instance;\n   }\n\n   @Override\n   public void print() {\n      System.out.println(\"I am inside\");\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26195120,"reputation":1,"user_id":19876330,"display_name":"Ethan Graham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669760092,"creation_date":1669760092,"answer_id":74620813,"question_id":18795041,"body_markdown":"It is arguably best to have a stateless singleton:\r\n\r\n    public class Singleton {\r\n        private static final Singleton INSTANCE = new Singleton();\r\n        \r\n        private Singleton() {}\r\n        \r\n        public static Singleton getInstance() {\r\n            return INSTANCE;\r\n        }\r\n    }","title":"How can I implement @Singleton annotation?","body":"<p>It is arguably best to have a stateless singleton:</p>\n<pre><code>public class Singleton {\n    private static final Singleton INSTANCE = new Singleton();\n    \n    private Singleton() {}\n    \n    public static Singleton getInstance() {\n        return INSTANCE;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1495402,"reputation":2213,"user_id":1401472,"accept_rate":78,"display_name":"user1401472"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42497,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":18795108,"answer_count":4,"score":27,"last_activity_date":1669760092,"creation_date":1379105497,"question_id":18795041,"body_markdown":"Possibly a repeated question. But I need to implement something like \r\n    \r\n    @Singleton\r\n    public class Person {\r\n    }\r\n    \r\nThat will ensure only single instance of Person object. \r\n    \r\nOne way is to make constructor private. But that makes the Singleton annotation redundant. \r\n    \r\nI could not really understand if I can really restrict object creation to single object without making the constructor private.\r\n    \r\nIs that even possible?","title":"How can I implement @Singleton annotation?","body":"<p>Possibly a repeated question. But I need to implement something like </p>\n\n<pre><code>@Singleton\npublic class Person {\n}\n</code></pre>\n\n<p>That will ensure only single instance of Person object. </p>\n\n<p>One way is to make constructor private. But that makes the Singleton annotation redundant. </p>\n\n<p>I could not really understand if I can really restrict object creation to single object without making the constructor private.</p>\n\n<p>Is that even possible?</p>\n"},{"tags":["java","testng","allure"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670035489,"post_id":74620766,"comment_id":131785601,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74620766/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27090925,"reputation":1,"user_id":20638734,"display_name":"Kate"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669759823,"creation_date":1669759823,"answer_id":74620766,"question_id":71839673,"body_markdown":"My example will be on Java : how to set unknow(pink status) to Step\r\n\r\nAllure.getLifecycle().stopStep();","title":"Trigger Status &#39;unknown&#39; in Allure report","body":"<p>My example will be on Java : how to set unknow(pink status) to Step</p>\n<p>Allure.getLifecycle().stopStep();</p>\n"}],"owner":{"account_id":207741,"reputation":573,"user_id":457788,"accept_rate":44,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669759823,"creation_date":1649753344,"question_id":71839673,"body_markdown":"I&#39;m using TestNG with Allure.\r\n\r\nThrowing **org.testng.SkipException** will trigger status **skipped** (gray color) in the report:\r\n\r\n    if (DateUtils.dayOfMonth() &lt; data.getTagDesMonatsAb()) {\r\n\t\tthrow new SkipException(&quot;Der Test wird nur ab dem &quot; + data.getTagDesMonatsAb() + &quot;. des Monats ausgef&#252;hrt.&quot;);\r\n    }\r\n\r\nBut how can I make the have status **unknown** (pink color)?\r\n","title":"Trigger Status &#39;unknown&#39; in Allure report","body":"<p>I'm using TestNG with Allure.</p>\n<p>Throwing <strong>org.testng.SkipException</strong> will trigger status <strong>skipped</strong> (gray color) in the report:</p>\n<pre><code>if (DateUtils.dayOfMonth() &lt; data.getTagDesMonatsAb()) {\n    throw new SkipException(&quot;Der Test wird nur ab dem &quot; + data.getTagDesMonatsAb() + &quot;. des Monats ausgeführt.&quot;);\n}\n</code></pre>\n<p>But how can I make the have status <strong>unknown</strong> (pink color)?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1669759862,"post_id":74620643,"comment_id":131715215,"body_markdown":"Besides the wrong order numeric vs. alphabetical the recipe &quot;last ID + 1&quot; could with concurrent call result in twice the same ID. Can you not use the DB provided auto-generated sequences?","body":"Besides the wrong order numeric vs. alphabetical the recipe &quot;last ID + 1&quot; could with concurrent call result in twice the same ID. Can you not use the DB provided auto-generated sequences?"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1669762937,"post_id":74620643,"comment_id":131715971,"body_markdown":"your code would work fine if your getLastID to actually got the last id, e.g. `select pID from yourtablename order by -substring_index(pID,&#39;-&#39;) limit 1`.  that would not be very efficient though.  I suggest you ditch the SP- prefix.","body":"your code would work fine if your getLastID to actually got the last id, e.g. <code>select pID from yourtablename order by -substring_index(pID,&#39;-&#39;) limit 1</code>.  that would not be very efficient though.  I suggest you ditch the SP- prefix."}],"answers":[{"tags":[],"owner":{"account_id":18025917,"reputation":329,"user_id":13101880,"display_name":"Charles Yang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669759274,"creation_date":1669759274,"answer_id":74620685,"question_id":74620643,"body_markdown":"Would not recommend using &quot;SP-&quot; in your primary key. Would recommend an arbitrary id that auto increments. See these docs: https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\r\n\r\nExample:\r\n```\r\nCREATE TABLE users (\r\n    id INT NOT NULL AUTO_INCREMENT,\r\n    pID VARCHAR(20),\r\n    ... -- other columns\r\n    PRIMARY KEY (id)\r\n);\r\n```\r\n\r\nWhen you create a new user, you can then update the pID to be &quot;SP-&quot; + generated_id\r\n\r\n\r\nTables in MySQL maintain insertion order. If you can guarantee that pID will not be updated after being inserted the first time, you can still get the correct lastId by selecting the last element of the unsorted table. Don&#39;t sort, as it&#39;s sorting alphabetically, not numerically. ","title":"Duplicate entry &#39;SP-10&#39; for key &#39;PRIMARY&#39; mySQL on auto generating ID java","body":"<p>Would not recommend using &quot;SP-&quot; in your primary key. Would recommend an arbitrary id that auto increments. See these docs: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html</a></p>\n<p>Example:</p>\n<pre><code>CREATE TABLE users (\n    id INT NOT NULL AUTO_INCREMENT,\n    pID VARCHAR(20),\n    ... -- other columns\n    PRIMARY KEY (id)\n);\n</code></pre>\n<p>When you create a new user, you can then update the pID to be &quot;SP-&quot; + generated_id</p>\n<p>Tables in MySQL maintain insertion order. If you can guarantee that pID will not be updated after being inserted the first time, you can still get the correct lastId by selecting the last element of the unsorted table. Don't sort, as it's sorting alphabetically, not numerically.</p>\n"}],"owner":{"account_id":26429220,"reputation":344,"user_id":20075659,"display_name":"Siyum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669759274,"creation_date":1669758928,"question_id":74620643,"body_markdown":"I am generating the user IDs(for a table) using java. When I am sort it by descending order, it goes like this. \r\n : \r\n\r\n[![mysql][1]][1]\r\n\r\n\r\nI am using following code to get the next user ID:\r\n\r\n    String tempStID = studentBO.getLastID();\r\n    if (tempStID.equalsIgnoreCase(&quot;&quot;)) {\r\n                lblStID.setText(&quot;SS-&quot; + 1);\r\n            } else {\r\n                String[] array = tempStID.split(&quot;-&quot;);\r\n                int tempNumber = Integer.parseInt(array[1]);\r\n                int finalizeOrderId = tempNumber + 1;\r\n                lblStID.setText(&quot;SS-&quot; + finalizeOrderId);\r\n            }\r\n\r\nAs this code getting the SS-9 as the last ID it generate SS-10 for the next ID, but as it is already there it giving me the duplicate entry error.\r\n\r\n[![error][2]][2]\r\n\r\nAny way to fix this? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K2YNN.png\r\n  [2]: https://i.stack.imgur.com/rg33k.png","title":"Duplicate entry &#39;SP-10&#39; for key &#39;PRIMARY&#39; mySQL on auto generating ID java","body":"<p>I am generating the user IDs(for a table) using java. When I am sort it by descending order, it goes like this.\n:</p>\n<p><a href=\"https://i.stack.imgur.com/K2YNN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K2YNN.png\" alt=\"mysql\" /></a></p>\n<p>I am using following code to get the next user ID:</p>\n<pre><code>String tempStID = studentBO.getLastID();\nif (tempStID.equalsIgnoreCase(&quot;&quot;)) {\n            lblStID.setText(&quot;SS-&quot; + 1);\n        } else {\n            String[] array = tempStID.split(&quot;-&quot;);\n            int tempNumber = Integer.parseInt(array[1]);\n            int finalizeOrderId = tempNumber + 1;\n            lblStID.setText(&quot;SS-&quot; + finalizeOrderId);\n        }\n</code></pre>\n<p>As this code getting the SS-9 as the last ID it generate SS-10 for the next ID, but as it is already there it giving me the duplicate entry error.</p>\n<p><a href=\"https://i.stack.imgur.com/rg33k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rg33k.png\" alt=\"error\" /></a></p>\n<p>Any way to fix this?</p>\n"},{"tags":["java","postgresql","spring-boot","jpa"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1565546016,"post_id":57451581,"comment_id":101379341,"body_markdown":"Share the `Tag` also, just in case.","body":"Share the <code>Tag</code> also, just in case."},{"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"score":0,"creation_date":1565546773,"post_id":57451581,"comment_id":101379502,"body_markdown":"I&#39;ve added now, thanks","body":"I&#39;ve added now, thanks"}],"answers":[{"comments":[{"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"score":0,"creation_date":1565541726,"post_id":57451800,"comment_id":101378420,"body_markdown":"What do you mean with &quot;converter your parameter before passing to the method&quot;?","body":"What do you mean with &quot;converter your parameter before passing to the method&quot;?"},{"owner":{"account_id":16249049,"reputation":99,"user_id":11733464,"display_name":"Sereysopheak Eap"},"score":0,"creation_date":1565542276,"post_id":57451800,"comment_id":101378527,"body_markdown":"I mean rather passing a collection, you should pass only a string follows the pattern [?, ?, ...].","body":"I mean rather passing a collection, you should pass only a string follows the pattern [?, ?, ...]."},{"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"score":0,"creation_date":1565542515,"post_id":57451800,"comment_id":101378568,"body_markdown":"I&#39;ve tried this, but it doesn&#39;t return the result to me.. And If I execute the same query through the database, I get a lot of results","body":"I&#39;ve tried this, but it doesn&#39;t return the result to me.. And If I execute the same query through the database, I get a lot of results"},{"owner":{"account_id":16249049,"reputation":99,"user_id":11733464,"display_name":"Sereysopheak Eap"},"score":0,"creation_date":1565543086,"post_id":57451800,"comment_id":101378675,"body_markdown":"Did you try with only one single element to filter?","body":"Did you try with only one single element to filter?"},{"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"score":0,"creation_date":1565543254,"post_id":57451800,"comment_id":101378720,"body_markdown":"Yes, I did. With one element I can get the results, but with more the one I always got errors","body":"Yes, I did. With one element I can get the results, but with more the one I always got errors"},{"owner":{"account_id":16249049,"reputation":99,"user_id":11733464,"display_name":"Sereysopheak Eap"},"score":0,"creation_date":1565543507,"post_id":57451800,"comment_id":101378781,"body_markdown":"I think that&#39;s the conversion problem. What the SQL query needs is [&#39;xxx&#39;, &#39;yyy&#39;], and the first and last of single quote ```&#39;``` are provided by the framework already, you need to handle the middle ones","body":"I think that&#39;s the conversion problem. What the SQL query needs is [&#39;xxx&#39;, &#39;yyy&#39;], and the first and last of single quote <code>&#39;</code> are provided by the framework already, you need to handle the middle ones"},{"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"score":0,"creation_date":1565543927,"post_id":57451800,"comment_id":101378881,"body_markdown":"Should I pass a String or a List&lt;String&gt; to the query?","body":"Should I pass a String or a List&lt;String&gt; to the query?"},{"owner":{"account_id":16249049,"reputation":99,"user_id":11733464,"display_name":"Sereysopheak Eap"},"score":0,"creation_date":1565544201,"post_id":57451800,"comment_id":101378940,"body_markdown":"If you want to stick with this approach, you should pass a String but that should be converted in this format ```xxx&#39;, &#39;yyy```. But it&#39;s a bit misleading. I would recommend you to change your approach not using the native query","body":"If you want to stick with this approach, you should pass a String but that should be converted in this format <code>xxx&#39;, &#39;yyy</code>. But it&#39;s a bit misleading. I would recommend you to change your approach not using the native query"}],"tags":[],"owner":{"account_id":16249049,"reputation":99,"user_id":11733464,"display_name":"Sereysopheak Eap"},"comment_count":8,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565541649,"creation_date":1565541649,"answer_id":57451800,"question_id":57451581,"body_markdown":"In a native query approach, the SQL is passed exactly to be executed as is what it&#39;s written. And I think the framework could not serialize your collection as the required pattern ```all(array[?, ?, ?, ...])```. In that case, you should convert your parameter before passing to the method or change the approach to not using the native query.","title":"How can I use all(array[]) in a native query with Spring Boot?","body":"<p>In a native query approach, the SQL is passed exactly to be executed as is what it's written. And I think the framework could not serialize your collection as the required pattern <code>all(array[?, ?, ?, ...])</code>. In that case, you should convert your parameter before passing to the method or change the approach to not using the native query.</p>\n"},{"tags":[],"owner":{"account_id":133697,"reputation":63,"user_id":335264,"display_name":"thoomasbro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669758881,"creation_date":1669758881,"answer_id":74620637,"question_id":57451581,"body_markdown":"Had the same trouble casting the list&lt;String&gt; to a text[] using spring + hibernate &amp; native query\r\n\r\nSee https://stackoverflow.com/a/55179555/335264 for a working solution\r\n(uses two postgresql functions to do the casting)","title":"How can I use all(array[]) in a native query with Spring Boot?","body":"<p>Had the same trouble casting the list to a text[] using spring + hibernate &amp; native query</p>\n<p>See <a href=\"https://stackoverflow.com/a/55179555/335264\">https://stackoverflow.com/a/55179555/335264</a> for a working solution\n(uses two postgresql functions to do the casting)</p>\n"}],"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1835,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1669758881,"creation_date":1565539687,"question_id":57451581,"body_markdown":"I&#39;ve tried to do a native query with Spring Boot using `all(array[])` function, however, I couldn&#39;t make it correctly. I don&#39;t know the quantity of Strings that I&#39;ll pass, it&#39;s a dynamic quantity. Can you guys help me on this, please?\r\n\r\n\r\nI&#39;ve tried using `List&lt;String&gt;`, `String[]` and just `String` as below:\r\n\r\n1. passing `String` and in the query `all(array[:texto])`: no errors, however, no results.\r\n\r\n2. passing `List&lt;String&gt;` and in the query `all(array[:texto])`:\r\n```\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* record\r\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n```\r\n\r\n3. passing `String[]` and in the query `all(array[:texto])`:\r\n```\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* bytea\r\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n```\r\n\r\n4. passing `String[]` and in the query `all(array[CAST(:texto AS TEXT)])`: no errors, however, no results.\r\n\r\n``` \r\n@Query(value=&quot;SELECT * FROM Tag WHERE nome ILIKE all(array[:texto])&quot;, nativeQuery=true)\r\npublic List&lt;Tag&gt; findPacotesByTexto(@Param(&quot;texto&quot;) List&lt;String&gt; texto);\r\n```\r\n\r\n**EDITED:**\r\n\r\n```\r\n@Entity\r\npublic class Tag {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate String nome;\r\n\t\r\n\t@ManyToOne\r\n\t@JsonIgnore\r\n    @JoinColumn(name=&quot;pacote_id&quot;)\r\n\tprivate Pacote pacote;\r\n\t\r\n\tTag() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Tag (String nome, Pacote pacote) {\r\n\t\tthis.nome = nome;\r\n\t\tthis.pacote = pacote;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic String getNome() {\r\n\t\treturn nome;\r\n\t}\r\n\r\n\tpublic Pacote getPacote() {\r\n\t\treturn pacote;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nHow can I make this work?\r\n\r\nThanks in advance.","title":"How can I use all(array[]) in a native query with Spring Boot?","body":"<p>I've tried to do a native query with Spring Boot using <code>all(array[])</code> function, however, I couldn't make it correctly. I don't know the quantity of Strings that I'll pass, it's a dynamic quantity. Can you guys help me on this, please?</p>\n\n<p>I've tried using <code>List&lt;String&gt;</code>, <code>String[]</code> and just <code>String</code> as below:</p>\n\n<ol>\n<li><p>passing <code>String</code> and in the query <code>all(array[:texto])</code>: no errors, however, no results.</p></li>\n<li><p>passing <code>List&lt;String&gt;</code> and in the query <code>all(array[:texto])</code>:</p></li>\n</ol>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* record\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<ol start=\"3\">\n<li>passing <code>String[]</code> and in the query <code>all(array[:texto])</code>:</li>\n</ol>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: operator does not exist: character varying ~~* bytea\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<ol start=\"4\">\n<li>passing <code>String[]</code> and in the query <code>all(array[CAST(:texto AS TEXT)])</code>: no errors, however, no results.</li>\n</ol>\n\n<pre><code>@Query(value=\"SELECT * FROM Tag WHERE nome ILIKE all(array[:texto])\", nativeQuery=true)\npublic List&lt;Tag&gt; findPacotesByTexto(@Param(\"texto\") List&lt;String&gt; texto);\n</code></pre>\n\n<p><strong>EDITED:</strong></p>\n\n<pre><code>@Entity\npublic class Tag {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(nullable = false)\n    private String nome;\n\n    @ManyToOne\n    @JsonIgnore\n    @JoinColumn(name=\"pacote_id\")\n    private Pacote pacote;\n\n    Tag() {\n\n    }\n\n    public Tag (String nome, Pacote pacote) {\n        this.nome = nome;\n        this.pacote = pacote;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public Pacote getPacote() {\n        return pacote;\n    }\n\n}\n</code></pre>\n\n<p>How can I make this work?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","file","object","io"],"answers":[{"comments":[{"owner":{"account_id":59102,"reputation":627,"user_id":176859,"display_name":"idarwin"},"score":0,"creation_date":1669765713,"post_id":74591922,"comment_id":131716505,"body_markdown":"Thanks for this answer. It&#39;s a good idea to run code you&#39;re posting (JShell is good for this) as you have a typo (lenght for length) and also good to make the indentation correct and consistent (maybe use the formatter in an IDE).","body":"Thanks for this answer. It&#39;s a good idea to run code you&#39;re posting (JShell is good for this) as you have a typo (lenght for length) and also good to make the indentation correct and consistent (maybe use the formatter in an IDE)."}],"tags":[],"owner":{"account_id":27003082,"reputation":1,"user_id":20564055,"display_name":"Balpreet Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669567739,"creation_date":1669567679,"answer_id":74591922,"question_id":74591465,"body_markdown":"You can simple use `Scanner.nextLine();` function.\r\nHere is the following code which can help\r\n\r\nalso import the libraries\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.File;\r\nimport java.util.Arrays;\r\n```\r\n\r\nUse following code:-\r\n```\r\nString []words = new String[1];\r\ntry{\r\n   File file = new File(&quot;/path/to/Dictionary.txt&quot;);\r\nScanner scan = new Scanner(file);\r\nint i=0;\r\nwhile(scan.hasNextLine()){\r\nwords[i]=scan.nextLine();\r\ni++;\r\nwords = Arrays.copyOf(words,words.legnth+1); // Increasing legnth of array with 1\r\n}\r\n}\r\ncatch(Exception e){\r\nSystem.out.println(e);\r\n}\r\n```\r\n\r\nYou must go and research on `Scanner` class","title":"How to print contents of a text to console as objects","body":"<p>You can simple use <code>Scanner.nextLine();</code> function.\nHere is the following code which can help</p>\n<p>also import the libraries</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\nimport java.util.Arrays;\n</code></pre>\n<p>Use following code:-</p>\n<pre><code>String []words = new String[1];\ntry{\n   File file = new File(&quot;/path/to/Dictionary.txt&quot;);\nScanner scan = new Scanner(file);\nint i=0;\nwhile(scan.hasNextLine()){\nwords[i]=scan.nextLine();\ni++;\nwords = Arrays.copyOf(words,words.legnth+1); // Increasing legnth of array with 1\n}\n}\ncatch(Exception e){\nSystem.out.println(e);\n}\n</code></pre>\n<p>You must go and research on <code>Scanner</code> class</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669567921,"creation_date":1669567921,"answer_id":74591957,"question_id":74591465,"body_markdown":"This is a very simple solution using `Files`:\r\n\r\n```\r\npackage org.kodejava.io;\r\n\r\nimport java.net.URI;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class ReadFileAsListDemo {\r\n    public static void main(String[] args) {\r\n        ReadFileAsListDemo demo = new ReadFileAsListDemo();\r\n        demo.readFileAsList();\r\n    }\r\n\r\n    private void readFileAsList() {\r\n        String fileName = &quot;Dictionary.txt&quot;;\r\n\r\n        try {\r\n            URI uri = Objects.requireNonNull(this.getClass().getResource(fileName)).toURI();\r\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(uri),\r\n                    Charset.defaultCharset());\r\n\r\n            for (String line : lines) {\r\n                System.out.println(line);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSource: https://kodejava.org/how-do-i-read-all-lines-from-a-file/\r\n\r\nThis is another neat solution using buffered reader:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n&#160;* BufferedReader and Scanner can be used to read\r\nline by line from any File or\r\n&#160;* console in Java.\r\n&#160;* This Java program\r\ndemonstrate line by line reading using BufferedReader in Java\r\n&#160;*\r\n&#160;* @author Javin Paul\r\n&#160;*/\r\npublic class BufferedReaderExample {  \r\n\r\n    public static void main(String args[]) {\r\n     \r\n        //reading file line by line in Java using BufferedReader      \r\n        FileInputStream fis = null;\r\n        BufferedReader reader = null;\r\n     \r\n        try {\r\n            fis = new FileInputStream(&quot;C:/sample.txt&quot;);\r\n            reader = new BufferedReader(new InputStreamReader(fis));\r\n         \r\n            System.out.println(&quot;Reading\r\nFile line by line using BufferedReader&quot;);\r\n         \r\n            String line = reader.readLine();\r\n            while(line != null){\r\n                System.out.println(line);\r\n                line = reader.readLine();\r\n            }          \r\n         \r\n        } catch (FileNotFoundException ex) {\r\n            Logger.getLogger(BufferedReaderExample.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(BufferedReaderExample.class.getName()).log(Level.SEVERE, null, ex);\r\n         \r\n        } finally {\r\n            try {\r\n                reader.close();\r\n                fis.close();\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(BufferedReaderExample.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n  }\r\n```\r\n\r\nSource: https://javarevisited.blogspot.com/2012/07/read-file-line-by-line-java-example-scanner.html#axzz7lrQcYlyy","title":"How to print contents of a text to console as objects","body":"<p>This is a very simple solution using <code>Files</code>:</p>\n<pre><code>package org.kodejava.io;\n\nimport java.net.URI;\nimport java.nio.charset.Charset;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class ReadFileAsListDemo {\n    public static void main(String[] args) {\n        ReadFileAsListDemo demo = new ReadFileAsListDemo();\n        demo.readFileAsList();\n    }\n\n    private void readFileAsList() {\n        String fileName = &quot;Dictionary.txt&quot;;\n\n        try {\n            URI uri = Objects.requireNonNull(this.getClass().getResource(fileName)).toURI();\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(uri),\n                    Charset.defaultCharset());\n\n            for (String line : lines) {\n                System.out.println(line);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Source: <a href=\"https://kodejava.org/how-do-i-read-all-lines-from-a-file/\" rel=\"nofollow noreferrer\">https://kodejava.org/how-do-i-read-all-lines-from-a-file/</a></p>\n<p>This is another neat solution using buffered reader:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n * BufferedReader and Scanner can be used to read\nline by line from any File or\n * console in Java.\n * This Java program\ndemonstrate line by line reading using BufferedReader in Java\n *\n * @author Javin Paul\n */\npublic class BufferedReaderExample {  \n\n    public static void main(String args[]) {\n     \n        //reading file line by line in Java using BufferedReader      \n        FileInputStream fis = null;\n        BufferedReader reader = null;\n     \n        try {\n            fis = new FileInputStream(&quot;C:/sample.txt&quot;);\n            reader = new BufferedReader(new InputStreamReader(fis));\n         \n            System.out.println(&quot;Reading\nFile line by line using BufferedReader&quot;);\n         \n            String line = reader.readLine();\n            while(line != null){\n                System.out.println(line);\n                line = reader.readLine();\n            }          \n         \n        } catch (FileNotFoundException ex) {\n            Logger.getLogger(BufferedReaderExample.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (IOException ex) {\n            Logger.getLogger(BufferedReaderExample.class.getName()).log(Level.SEVERE, null, ex);\n         \n        } finally {\n            try {\n                reader.close();\n                fis.close();\n            } catch (IOException ex) {\n                Logger.getLogger(BufferedReaderExample.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n  }\n</code></pre>\n<p>Source: <a href=\"https://javarevisited.blogspot.com/2012/07/read-file-line-by-line-java-example-scanner.html#axzz7lrQcYlyy\" rel=\"nofollow noreferrer\">https://javarevisited.blogspot.com/2012/07/read-file-line-by-line-java-example-scanner.html#axzz7lrQcYlyy</a></p>\n"},{"tags":[],"owner":{"account_id":59102,"reputation":627,"user_id":176859,"display_name":"idarwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669758095,"creation_date":1669758095,"answer_id":74620540,"question_id":74591465,"body_markdown":"These are all good answers. The OP didn&#39;t state what release of Java they require, but in modern Java I&#39;d just use:\r\n```java\r\nimport java.nio.file.*;\r\npublic class x {\r\n    public static void main(String[] args) throws java.io.IOException {\r\n        Files.lines(Path.of(&quot;/path/to/Dictionary.txt&quot;)).forEach(System.out::println);\r\n    }\r\n}\r\n```","title":"How to print contents of a text to console as objects","body":"<p>These are all good answers. The OP didn't state what release of Java they require, but in modern Java I'd just use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.*;\npublic class x {\n    public static void main(String[] args) throws java.io.IOException {\n        Files.lines(Path.of(&quot;/path/to/Dictionary.txt&quot;)).forEach(System.out::println);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27063939,"reputation":1,"user_id":20615580,"display_name":"Stef Konstantinou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669758095,"creation_date":1669564159,"question_id":74591465,"body_markdown":"Let&#39;s say I have theese words in a text file\r\n\r\n# Dictionary.txt\r\n\r\n```\r\nartificial\r\nintelligence\r\nabbreviation\r\nhybrid\r\nhysteresis\r\nilluminance\r\nidentity\r\ninaccuracy\r\nimpedance\r\nimpenetrable\r\nimperfection\r\nimpossible\r\nindependent\r\n```\r\n\r\nHow can I make each word a different object and print them on the console?","title":"How to print contents of a text to console as objects","body":"<p>Let's say I have theese words in a text file</p>\n<h1>Dictionary.txt</h1>\n<pre><code>artificial\nintelligence\nabbreviation\nhybrid\nhysteresis\nilluminance\nidentity\ninaccuracy\nimpedance\nimpenetrable\nimperfection\nimpossible\nindependent\n</code></pre>\n<p>How can I make each word a different object and print them on the console?</p>\n"},{"tags":["java","function","file","weka","tostring"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669757405,"creation_date":1669757405,"answer_id":74620450,"question_id":74620282,"body_markdown":"The code after the line `data.setClassIndex` is either unnecessary or not valid (like `re.appened` or `br.getData`). I recommend reading the [Javadoc documentation](https://weka.sourceforge.io/doc.dev/) of the Weka API for the relevant classes that you want to use.\r\n\r\nThe following code has the method `readArff`, which reads an ARFF file using the [DataSource](https://weka.sourceforge.io/doc.dev/weka/core/converters/ConverterUtils.DataSource.html) class (this class can the Weka Loader to use automatically based on the file&#39;s extension) and returns the `Instances` dataset object that it generated from it. It will throw an `IOException` if the file does not exist.\r\n\r\nThe `main` method calls the `readArff` method, expecting one argument (the path to the ARFF file to read) to be supplied when executing the `ArffHelper` class.\r\n\r\n```java\r\nimport weka.core.Instances;\r\nimport weka.core.converters.ConverterUtils;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class ArffHelper {\r\n\r\n  public Instances readArff(String path) throws Exception {\r\n    if (!new File(path).exists())\r\n      throw new IOException(&quot;File does not exist: &quot; + path);\r\n    \r\n    Instances data = ConverterUtils.DataSource.read(path);\r\n    data.setClassIndex(data.numAttributes() - 1);  // assuming that the class is the last attribute\r\n    return data; \r\n  }\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    ArffHelper b = new ArffHelper();\r\n    Instances data = b.readArff(args[0]);\r\n    System.out.println(data);\r\n  }\r\n}\r\n```\r\n","title":"read .arff file using Weka library in java","body":"<p>The code after the line <code>data.setClassIndex</code> is either unnecessary or not valid (like <code>re.appened</code> or <code>br.getData</code>). I recommend reading the <a href=\"https://weka.sourceforge.io/doc.dev/\" rel=\"nofollow noreferrer\">Javadoc documentation</a> of the Weka API for the relevant classes that you want to use.</p>\n<p>The following code has the method <code>readArff</code>, which reads an ARFF file using the <a href=\"https://weka.sourceforge.io/doc.dev/weka/core/converters/ConverterUtils.DataSource.html\" rel=\"nofollow noreferrer\">DataSource</a> class (this class can the Weka Loader to use automatically based on the file's extension) and returns the <code>Instances</code> dataset object that it generated from it. It will throw an <code>IOException</code> if the file does not exist.</p>\n<p>The <code>main</code> method calls the <code>readArff</code> method, expecting one argument (the path to the ARFF file to read) to be supplied when executing the <code>ArffHelper</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import weka.core.Instances;\nimport weka.core.converters.ConverterUtils;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class ArffHelper {\n\n  public Instances readArff(String path) throws Exception {\n    if (!new File(path).exists())\n      throw new IOException(&quot;File does not exist: &quot; + path);\n    \n    Instances data = ConverterUtils.DataSource.read(path);\n    data.setClassIndex(data.numAttributes() - 1);  // assuming that the class is the last attribute\n    return data; \n  }\n\n  public static void main(String[] args) throws Exception {\n    ArffHelper b = new ArffHelper();\n    Instances data = b.readArff(args[0]);\n    System.out.println(data);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16700619,"reputation":1,"user_id":12070490,"display_name":"nan27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669757405,"creation_date":1669756249,"question_id":74620282,"body_markdown":"I am trying to read an .arff file in Weka. I did this code. I keep getting error not sure about my work.\r\n\r\n\r\n\r\n```\r\npublic String fileArff(String filePath) throws Exception\r\n    {\r\n       \r\n        try {\r\n\r\n        BufferedReader br = new BufferedReader(new FileReader(filePath));\r\n        ArffReader re = new ArffReader(br);\r\n        Instances data = re.getData();\r\n        data.setClassIndex(data.numAttributes()-1);\r\n\r\n        File file = new File(filePath);\r\n\r\n        if (file.exists() &amp;&amp; file.isFile() &amp;&amp; file.canRead()) {\r\n         return &quot;The file exists&quot;;\r\n            \r\n        }\r\n\r\n        while (data != null)\r\n        {\r\n            re.appened(data);\r\n            re.appened(&quot;\\n&quot;);\r\n\r\n            data = br.getData();\r\n        }\r\n        \r\n        return re.toString();\r\n        }\r\n\r\n        catch (IOException e)\r\n        {\r\n            return &quot;There is an error&quot;;\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nI am trying to read a .arff file in java language, and I used Weka library. ","title":"read .arff file using Weka library in java","body":"<p>I am trying to read an .arff file in Weka. I did this code. I keep getting error not sure about my work.</p>\n<pre><code>public String fileArff(String filePath) throws Exception\n    {\n       \n        try {\n\n        BufferedReader br = new BufferedReader(new FileReader(filePath));\n        ArffReader re = new ArffReader(br);\n        Instances data = re.getData();\n        data.setClassIndex(data.numAttributes()-1);\n\n        File file = new File(filePath);\n\n        if (file.exists() &amp;&amp; file.isFile() &amp;&amp; file.canRead()) {\n         return &quot;The file exists&quot;;\n            \n        }\n\n        while (data != null)\n        {\n            re.appened(data);\n            re.appened(&quot;\\n&quot;);\n\n            data = br.getData();\n        }\n        \n        return re.toString();\n        }\n\n        catch (IOException e)\n        {\n            return &quot;There is an error&quot;;\n        }\n    }\n\n</code></pre>\n<p>I am trying to read a .arff file in java language, and I used Weka library.</p>\n"},{"tags":["java","sorting","hashmap"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1669753271,"post_id":74619516,"comment_id":131713536,"body_markdown":"This is very unclear.   For example, why does the constructor have to be private, and why can&#39;t it take arguments the way `by()` does?","body":"This is very unclear.   For example, why does the constructor have to be private, and why can&#39;t it take arguments the way <code>by()</code> does?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1669755873,"post_id":74619516,"comment_id":131714203,"body_markdown":"What do you mean, a problem?  It looks like your code is reasonable as is.","body":"What do you mean, a problem?  It looks like your code is reasonable as is."}],"answers":[{"comments":[{"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"score":0,"creation_date":1669928942,"post_id":74620315,"comment_id":131760931,"body_markdown":"Thank You, great answer, Iterator was the solution of my problem :)","body":"Thank You, great answer, Iterator was the solution of my problem :)"}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669756885,"creation_date":1669756534,"answer_id":74620315,"question_id":74619516,"body_markdown":"I think the question is about the fact that to fully configure a `Sort` object from your map, you need to use the first map entry in conjunction with `Sort.by()`, and then use all the other entries in conjunction with `Sort.and()`.  That is, the first entry requires different handling than the rest.\r\n\r\nThere are lots of ways of dealing with that, but the one I&#39;m going to suggest is to work directly with the iterator of the map&#39;s entry set.  Something like this:\r\n```\r\nprivate Sort buildSort(Map&lt;WorklistColumn, Direction&gt; columnsDirectionsMap) {\r\n    if (columnsDirectionsMap.isEmpty()) {\r\n        throw new NoCriteriaException();  // or whatever\r\n    }\r\n\r\n    Iterator&lt;Map.Entry&lt;WorklistColumn, Direction&gt;&gt; criterionIterator =\r\n            columnsDirectionsMap.entrySet().iterator();\r\n    Map.Entry&lt;WorklistColumn, Direction&gt; criterion = criterionIterator.next();\r\n    Sort sort = Sort.by(criterion.key().toString(), criterion.value());\r\n\r\n    while (criterionIterator.hasNext()) {\r\n        criterion = criterionIterator.next();\r\n        sort.and(criterion.key().toString(), criterion.value());\r\n    }\r\n\r\n    return sort;\r\n}\r\n```\r\nDo note that depending on the `Map` implementation involved, the order of the entries may not be easily predictable.  I assume that you need control of that order for this approach to work as desired, so it&#39;s on you to choose a `Map` implementation that provides that. A `LinkedHashMap` might be suitable, for example, but probably not a `HashMap`.","title":"Building a Sort object based on Map&lt;Enum, Enum&gt;","body":"<p>I think the question is about the fact that to fully configure a <code>Sort</code> object from your map, you need to use the first map entry in conjunction with <code>Sort.by()</code>, and then use all the other entries in conjunction with <code>Sort.and()</code>.  That is, the first entry requires different handling than the rest.</p>\n<p>There are lots of ways of dealing with that, but the one I'm going to suggest is to work directly with the iterator of the map's entry set.  Something like this:</p>\n<pre><code>private Sort buildSort(Map&lt;WorklistColumn, Direction&gt; columnsDirectionsMap) {\n    if (columnsDirectionsMap.isEmpty()) {\n        throw new NoCriteriaException();  // or whatever\n    }\n\n    Iterator&lt;Map.Entry&lt;WorklistColumn, Direction&gt;&gt; criterionIterator =\n            columnsDirectionsMap.entrySet().iterator();\n    Map.Entry&lt;WorklistColumn, Direction&gt; criterion = criterionIterator.next();\n    Sort sort = Sort.by(criterion.key().toString(), criterion.value());\n\n    while (criterionIterator.hasNext()) {\n        criterion = criterionIterator.next();\n        sort.and(criterion.key().toString(), criterion.value());\n    }\n\n    return sort;\n}\n</code></pre>\n<p>Do note that depending on the <code>Map</code> implementation involved, the order of the entries may not be easily predictable.  I assume that you need control of that order for this approach to work as desired, so it's on you to choose a <code>Map</code> implementation that provides that. A <code>LinkedHashMap</code> might be suitable, for example, but probably not a <code>HashMap</code>.</p>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669756885,"creation_date":1669751385,"question_id":74619516,"body_markdown":"I would like to build a `Sort` object based on `Map&lt;Column, Direction&gt;`. I have a problem with the fact that the `Sort` class only has a private constructor, it just has to be created by the static method `by()` or `and()`, therefore I have a problem with initialising the sort object with the first element from the map.\r\n\r\n```\r\nprivate Sort buildSort(Map&lt;WorklistColumn, Direction&gt; columnsDirectionsmap){\r\n        Sort sort = by(&quot;wartość inicjalna kt&#243;rej nie chcemy&quot;, Direction.Ascending);\r\n        for (Map.Entry&lt;WorklistColumn, Direction&gt; columnWithDirection : columnsDirectionsmap.entrySet()) {\r\n            sort.and(columnWithDirection.getKey().toString(), columnWithDirection.getValue());\r\n        }\r\n        return sort;\r\n    }\r\n\r\npublic class Sort {\r\n    private List&lt;Column&gt; columns = new ArrayList();\r\n\r\n    private Sort() {\r\n    }\r\n\r\n    public static Sort by(String column) {\r\n        return (new Sort()).and(column);\r\n    }\r\n\r\n    public static Sort by(String column, Direction direction) {\r\n        return (new Sort()).and(column, direction);\r\n    }\r\n    public Sort and(String name) {\r\n        this.columns.add(new Column(name));\r\n        return this;\r\n    }\r\n\r\n    public Sort and(String name, Direction direction) {\r\n        this.columns.add(new Column(name, direction));\r\n        return this;\r\n    }\r\n```\r\n\r\n\r\nBuild a Sort object from a map","title":"Building a Sort object based on Map&lt;Enum, Enum&gt;","body":"<p>I would like to build a <code>Sort</code> object based on <code>Map&lt;Column, Direction&gt;</code>. I have a problem with the fact that the <code>Sort</code> class only has a private constructor, it just has to be created by the static method <code>by()</code> or <code>and()</code>, therefore I have a problem with initialising the sort object with the first element from the map.</p>\n<pre><code>private Sort buildSort(Map&lt;WorklistColumn, Direction&gt; columnsDirectionsmap){\n        Sort sort = by(&quot;wartość inicjalna której nie chcemy&quot;, Direction.Ascending);\n        for (Map.Entry&lt;WorklistColumn, Direction&gt; columnWithDirection : columnsDirectionsmap.entrySet()) {\n            sort.and(columnWithDirection.getKey().toString(), columnWithDirection.getValue());\n        }\n        return sort;\n    }\n\npublic class Sort {\n    private List&lt;Column&gt; columns = new ArrayList();\n\n    private Sort() {\n    }\n\n    public static Sort by(String column) {\n        return (new Sort()).and(column);\n    }\n\n    public static Sort by(String column, Direction direction) {\n        return (new Sort()).and(column, direction);\n    }\n    public Sort and(String name) {\n        this.columns.add(new Column(name));\n        return this;\n    }\n\n    public Sort and(String name, Direction direction) {\n        this.columns.add(new Column(name, direction));\n        return this;\n    }\n</code></pre>\n<p>Build a Sort object from a map</p>\n"},{"tags":["java","multithreading","binary-search-tree","deadlock"],"comments":[{"owner":{"account_id":14814124,"reputation":956,"user_id":10698740,"display_name":"Andrey Kachow"},"score":0,"creation_date":1669901032,"post_id":74608863,"comment_id":131751223,"body_markdown":"Ok I noticed that I should NOT use `tryLock()`, because the method aquires the lock if it can, and I just wanted to check if it is locked","body":"Ok I noticed that I should NOT use <code>tryLock()</code>, because the method aquires the lock if it can, and I just wanted to check if it is locked"}],"answers":[{"tags":[],"owner":{"account_id":27090475,"reputation":36,"user_id":20638343,"display_name":"user20638343"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669755998,"creation_date":1669755998,"answer_id":74620243,"question_id":74608863,"body_markdown":"```java\r\n      leftLock.lock();\r\n      if (left == null) {\r\n        ...\r\n      } else {\r\n        leftLock.lock();\r\n        prevLock.unlock();\r\n        left.insertHelper(key, lose, leftLock);\r\n      }\r\n```\r\n\r\nIn the code snippet above a thread acquires `leftLock` twice, but release it only once inside `left.insertHelper(...)`.  \r\nAs a result, any other thread that wants to acquire the same `leftLock` will block forever waiting until `leftLock` is released.","title":"Why is my code deadlocking? Java fine-grained concurrent BST implementation attempt failed","body":"<pre class=\"lang-java prettyprint-override\"><code>      leftLock.lock();\n      if (left == null) {\n        ...\n      } else {\n        leftLock.lock();\n        prevLock.unlock();\n        left.insertHelper(key, lose, leftLock);\n      }\n</code></pre>\n<p>In the code snippet above a thread acquires <code>leftLock</code> twice, but release it only once inside <code>left.insertHelper(...)</code>.<br />\nAs a result, any other thread that wants to acquire the same <code>leftLock</code> will block forever waiting until <code>leftLock</code> is released.</p>\n"}],"owner":{"account_id":14814124,"reputation":956,"user_id":10698740,"display_name":"Andrey Kachow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74620243,"answer_count":1,"score":0,"last_activity_date":1669755998,"creation_date":1669692557,"question_id":74608863,"body_markdown":"Could you please help me understand why my Reentrant Lock code is getting stuck?\r\nI am implementing a Concurrent Binary Search Tree with an integer key and an integer `val`, where `val` is a counting variable, which can get incremented by some amount if the same key is inserted.\r\n\r\nI have only an `insert` function, where I add new nodes if the key is absent and increment counter stored in the node if the key exists.\r\n\r\nI am trying to implement an approach where I lock either left or right and I also have a previous lock on the path of tree traversal. I acquire a child and then release the parent, not vice versa because I don&#39;t want other threads to sneak into the child before me.\r\n\r\nHere is my thought process.\r\n\r\n```\r\nStep 1 locking root and going right, because 1 is greater than 0\r\n\r\n      root\r\n       |\r\n       |    &lt;------ locked as prev lock\r\n       |\r\n       0\r\n      / \\\r\n     /   \\  &lt;----- not locked yet\r\n    /     \\\r\n  null     1\r\n\r\n\r\nStep 2 locking right and calling recursion. In recursive call the parent lock should be released\r\n\r\n      root\r\n       |\r\n       |    &lt;------ locked as prev lock\r\n       |\r\n       0\r\n      / \\\r\n     /   \\  &lt;----- locked\r\n    /     \\\r\n  null     1\r\n\r\nStep 3 unlocking parent vertex, because the right child is secured by right lock, so we are safe\r\n\r\n      root\r\n       |\r\n       |    &lt;------ unlocking this.\r\n       |\r\n       0\r\n      / \\\r\n     /   \\  &lt;----- locked\r\n    /     \\\r\n  null     1\r\n\r\n```\r\n\r\nHowever, the reality is that I am missing something and nothing works.\r\n\r\nHere is the code:\r\n\r\n```\r\nclass RootBST {\r\n  Lock lock = new ReentrantLock();\r\n  BST root = null;\r\n\r\n  void insert(int key, int lose) {\r\n    lock.lock();\r\n    if (root == null) {\r\n      root = new BST(key, lose);\r\n      lock.unlock();\r\n      return;\r\n    }\r\n    root.insertHelper(key, lose, lock);\r\n  }\r\n}\r\n\r\nclass BST {\r\n  int key;\r\n  int val;\r\n  BST left = null;\r\n  BST right = null;\r\n\r\n  Lock leftLock = new ReentrantLock();\r\n  Lock rightLock = new ReentrantLock();\r\n\r\n  BST(int key, int val) {\r\n    this.key = key;\r\n    this.val = val;\r\n  }\r\n\r\n  void insertHelper(int key, int lose, Lock prevLock) {\r\n    if (!prevLock.tryLock()) {\r\n      System.out.println(&quot;ERROR&quot;);\r\n      return;\r\n    }\r\n    if (key == this.key) {\r\n      this.val += lose;\r\n      prevLock.unlock();\r\n    } else if (key &lt; this.key) {\r\n      leftLock.lock();\r\n      if (left == null) {\r\n        left = new BST(key, lose);\r\n        leftLock.unlock();\r\n        prevLock.unlock();\r\n      } else {\r\n        leftLock.lock();\r\n        prevLock.unlock();\r\n        left.insertHelper(key, lose, leftLock);\r\n      }\r\n    } else {\r\n      rightLock.lock();\r\n      if (right == null) {\r\n        right = new BST(key, lose);\r\n        rightLock.unlock();\r\n        prevLock.unlock();\r\n      } else {\r\n        prevLock.unlock();\r\n        right.insertHelper(key, lose, rightLock);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nHow can I fix this? Thank you!","title":"Why is my code deadlocking? Java fine-grained concurrent BST implementation attempt failed","body":"<p>Could you please help me understand why my Reentrant Lock code is getting stuck?\nI am implementing a Concurrent Binary Search Tree with an integer key and an integer <code>val</code>, where <code>val</code> is a counting variable, which can get incremented by some amount if the same key is inserted.</p>\n<p>I have only an <code>insert</code> function, where I add new nodes if the key is absent and increment counter stored in the node if the key exists.</p>\n<p>I am trying to implement an approach where I lock either left or right and I also have a previous lock on the path of tree traversal. I acquire a child and then release the parent, not vice versa because I don't want other threads to sneak into the child before me.</p>\n<p>Here is my thought process.</p>\n<pre><code>Step 1 locking root and going right, because 1 is greater than 0\n\n      root\n       |\n       |    &lt;------ locked as prev lock\n       |\n       0\n      / \\\n     /   \\  &lt;----- not locked yet\n    /     \\\n  null     1\n\n\nStep 2 locking right and calling recursion. In recursive call the parent lock should be released\n\n      root\n       |\n       |    &lt;------ locked as prev lock\n       |\n       0\n      / \\\n     /   \\  &lt;----- locked\n    /     \\\n  null     1\n\nStep 3 unlocking parent vertex, because the right child is secured by right lock, so we are safe\n\n      root\n       |\n       |    &lt;------ unlocking this.\n       |\n       0\n      / \\\n     /   \\  &lt;----- locked\n    /     \\\n  null     1\n\n</code></pre>\n<p>However, the reality is that I am missing something and nothing works.</p>\n<p>Here is the code:</p>\n<pre><code>class RootBST {\n  Lock lock = new ReentrantLock();\n  BST root = null;\n\n  void insert(int key, int lose) {\n    lock.lock();\n    if (root == null) {\n      root = new BST(key, lose);\n      lock.unlock();\n      return;\n    }\n    root.insertHelper(key, lose, lock);\n  }\n}\n\nclass BST {\n  int key;\n  int val;\n  BST left = null;\n  BST right = null;\n\n  Lock leftLock = new ReentrantLock();\n  Lock rightLock = new ReentrantLock();\n\n  BST(int key, int val) {\n    this.key = key;\n    this.val = val;\n  }\n\n  void insertHelper(int key, int lose, Lock prevLock) {\n    if (!prevLock.tryLock()) {\n      System.out.println(&quot;ERROR&quot;);\n      return;\n    }\n    if (key == this.key) {\n      this.val += lose;\n      prevLock.unlock();\n    } else if (key &lt; this.key) {\n      leftLock.lock();\n      if (left == null) {\n        left = new BST(key, lose);\n        leftLock.unlock();\n        prevLock.unlock();\n      } else {\n        leftLock.lock();\n        prevLock.unlock();\n        left.insertHelper(key, lose, leftLock);\n      }\n    } else {\n      rightLock.lock();\n      if (right == null) {\n        right = new BST(key, lose);\n        rightLock.unlock();\n        prevLock.unlock();\n      } else {\n        prevLock.unlock();\n        right.insertHelper(key, lose, rightLock);\n      }\n    }\n  }\n}\n</code></pre>\n<p>How can I fix this? Thank you!</p>\n"},{"tags":["java","inheritance","design-patterns","builder","lombok"],"answers":[{"comments":[{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":10,"creation_date":1562964664,"post_id":37752703,"comment_id":100559823,"body_markdown":"This solution won&#39;t work if parent class has a @Builder annotation as well.","body":"This solution won&#39;t work if parent class has a @Builder annotation as well."}],"tags":[],"owner":{"account_id":4919914,"reputation":1265,"user_id":3962748,"accept_rate":55,"display_name":"Abhinav Aggarwal"},"comment_count":1,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1465574840,"creation_date":1465574840,"answer_id":37752703,"question_id":37751900,"body_markdown":"Here we just need to call super of the builder.\r\n\r\n    @Data\r\n    public class B extends A {\r\n        Integer b1;\r\n    \r\n        @Builder\r\n        public B(Integer b1, Integer a1) {\r\n            super(a1);\r\n            this.b1 = b1;\r\n        }\r\n\r\n        public static class BBuilder extends ABuilder{\r\n                BBuilder() {\r\n                    super();\r\n                }\r\n        }\r\n    }","title":"Inheritance for builders in lombok","body":"<p>Here we just need to call super of the builder.</p>\n\n<pre><code>@Data\npublic class B extends A {\n    Integer b1;\n\n    @Builder\n    public B(Integer b1, Integer a1) {\n        super(a1);\n        this.b1 = b1;\n    }\n\n    public static class BBuilder extends ABuilder{\n            BBuilder() {\n                super();\n            }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1533651772,"creation_date":1533651772,"answer_id":51729115,"question_id":37751900,"body_markdown":"Lombok has introduced experimental features with version: 1.18.2 for inheritance issues faced with Builder annotation, and can be resolved with @SuperBuilder annotation\r\n\r\nPlease use lombok version: 1.18.2, @SuperBuilder annotations in child/parent class","title":"Inheritance for builders in lombok","body":"<p>Lombok has introduced experimental features with version: 1.18.2 for inheritance issues faced with Builder annotation, and can be resolved with @SuperBuilder annotation</p>\n\n<p>Please use lombok version: 1.18.2, @SuperBuilder annotations in child/parent class</p>\n"},{"comments":[{"owner":{"account_id":16752149,"reputation":2993,"user_id":12109043,"display_name":"zr0gravity7"},"score":1,"creation_date":1671734991,"post_id":57013950,"comment_id":132166984,"body_markdown":"To clarify, this does not enable doing `A.builder()`, and `B.builder()`.","body":"To clarify, this does not enable doing <code>A.builder()</code>, and <code>B.builder()</code>."}],"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1562965029,"creation_date":1562965029,"answer_id":57013950,"question_id":37751900,"body_markdown":"If you are using Lombok 1.18.4 along with IntelliJ, following code shall work for you:\r\n\r\n    @Data\r\n    @Builder\r\n    class A {\r\n        Integer a1;\r\n    }\r\n    \r\n    @Data\r\n    class B extends A {\r\n        Integer b1;\r\n    \r\n        @Builder (builderMethodName = &quot;BBuilder&quot;)\r\n        public B(Integer b1, Integer a1) {\r\n            super(a1);\r\n            this.b1 = b1;\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args){\r\n        System.out.println(B.BBuilder().a1(1).b1(1).build());\r\n    \r\n        }\r\n    }\r\nOne a side note, @SuperBuilder annotation didn&#39;t work in IntelliJ at time of writing this answer. If you have multiple level of inheritance, please avoid Lombok or it will make your Java models messy.","title":"Inheritance for builders in lombok","body":"<p>If you are using Lombok 1.18.4 along with IntelliJ, following code shall work for you:</p>\n\n<pre><code>@Data\n@Builder\nclass A {\n    Integer a1;\n}\n\n@Data\nclass B extends A {\n    Integer b1;\n\n    @Builder (builderMethodName = \"BBuilder\")\n    public B(Integer b1, Integer a1) {\n        super(a1);\n        this.b1 = b1;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args){\n    System.out.println(B.BBuilder().a1(1).b1(1).build());\n\n    }\n}\n</code></pre>\n\n<p>One a side note, @SuperBuilder annotation didn't work in IntelliJ at time of writing this answer. If you have multiple level of inheritance, please avoid Lombok or it will make your Java models messy.</p>\n"},{"tags":[],"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1634772728,"creation_date":1619806888,"answer_id":67338751,"question_id":37751900,"body_markdown":"Both child and parent should be marked with `@SuperBuilder`.\r\n\r\nHaving both parent and child as `@Builder` won&#39;t work.\r\n\r\n*Parent class A:*\r\n\r\n    @Data\r\n    @SuperBuilder\r\n    public class A {\r\n        Integer a1;\r\n    }\r\n\r\n*Child class B:*\r\n\r\n    @Data\r\n    @SuperBuilder\r\n    public class B extends A {\r\n        Integer b1;\r\n    }","title":"Inheritance for builders in lombok","body":"<p>Both child and parent should be marked with <code>@SuperBuilder</code>.</p>\n<p>Having both parent and child as <code>@Builder</code> won't work.</p>\n<p><em>Parent class A:</em></p>\n<pre><code>@Data\n@SuperBuilder\npublic class A {\n    Integer a1;\n}\n</code></pre>\n<p><em>Child class B:</em></p>\n<pre><code>@Data\n@SuperBuilder\npublic class B extends A {\n    Integer b1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20602312,"reputation":21,"user_id":15123361,"display_name":"Sanskar Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669755959,"creation_date":1669755838,"answer_id":74620221,"question_id":37751900,"body_markdown":"After hours of hacking at this, I found a viable solution without using the @SuperBuilder. Consider an example -\r\n\r\n```\r\npublic class A{\r\n    int x;\r\n    \r\n    @Builder(toBuilder = true)\r\n    public A(int x){\r\n        this.x = x;\r\n    }\r\n    \r\n    public static class ABuilder{\r\n        protected ABuilder(){} //Note this is important, otherwise BBuilder won&#39;t be able to access private no-args constructor of ABuilder\r\n    }\r\n}\r\n\r\npublic class B extends A{\r\n    \r\n    @Builder(builderMethodName=&quot;BBuilder&quot;, toBuilder=true)\r\n    public B(int x){\r\n        super(x);\r\n    }\r\n    \r\n    public static class BBuilder extends ABuilder{\r\n        BBuilder(){\r\n            super();\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(){\r\n    B obj = new B();\r\n    //we can use the existing obj as  obj.toBuilder().x(5).build();\r\n    //this will return an object of B and not A\r\n\r\n}\r\n```\r\n\r\nP.S : I am not sure if @SuperBuilder is an experimental feature still ; so didn&#39;t want to take chances","title":"Inheritance for builders in lombok","body":"<p>After hours of hacking at this, I found a viable solution without using the @SuperBuilder. Consider an example -</p>\n<pre><code>public class A{\n    int x;\n    \n    @Builder(toBuilder = true)\n    public A(int x){\n        this.x = x;\n    }\n    \n    public static class ABuilder{\n        protected ABuilder(){} //Note this is important, otherwise BBuilder won't be able to access private no-args constructor of ABuilder\n    }\n}\n\npublic class B extends A{\n    \n    @Builder(builderMethodName=&quot;BBuilder&quot;, toBuilder=true)\n    public B(int x){\n        super(x);\n    }\n    \n    public static class BBuilder extends ABuilder{\n        BBuilder(){\n            super();\n        }\n    }\n}\n\npublic static void main(){\n    B obj = new B();\n    //we can use the existing obj as  obj.toBuilder().x(5).build();\n    //this will return an object of B and not A\n\n}\n</code></pre>\n<p>P.S : I am not sure if @SuperBuilder is an experimental feature still ; so didn't want to take chances</p>\n"}],"owner":{"account_id":4919914,"reputation":1265,"user_id":3962748,"accept_rate":55,"display_name":"Abhinav Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31735,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":37752703,"answer_count":5,"score":39,"last_activity_date":1669755959,"creation_date":1465572330,"question_id":37751900,"body_markdown":"I was trying to use lombok for my project. \r\n\r\nI have a class A:\r\n\r\n    @Data\r\n    @Builder\r\n    public class A {\r\n        Integer a1;\r\n    }\r\n\r\nand a class B:\r\n\r\n    @Data\r\n    public class B extends A {\r\n        Integer b1;\r\n        \r\n        @Builder\r\n        public B(Integer b1, Integer a1) {\r\n            super(a1);\r\n            this.b1 = b1;\r\n        }\r\n    }\r\n\r\nI am getting an error saying builder() in B cannot override builder() in A, as return type in BBuilder is not compatible with return type in ABuilder. \r\n\r\nIs there some way to do this using lombok? \r\nI do not want to write the complete builder for for B, unless I don&#39;t have any other option. \r\n\r\nPS: I have given explicit constructor for class B due to [Issue][1].\r\nI tried searching, but I could not find a good solution for the same.\r\n\r\n\r\n  [1]: https://reinhard.codes/2015/09/16/lomboks-builder-annotation-and-inheritance/","title":"Inheritance for builders in lombok","body":"<p>I was trying to use lombok for my project. </p>\n\n<p>I have a class A:</p>\n\n<pre><code>@Data\n@Builder\npublic class A {\n    Integer a1;\n}\n</code></pre>\n\n<p>and a class B:</p>\n\n<pre><code>@Data\npublic class B extends A {\n    Integer b1;\n\n    @Builder\n    public B(Integer b1, Integer a1) {\n        super(a1);\n        this.b1 = b1;\n    }\n}\n</code></pre>\n\n<p>I am getting an error saying builder() in B cannot override builder() in A, as return type in BBuilder is not compatible with return type in ABuilder. </p>\n\n<p>Is there some way to do this using lombok? \nI do not want to write the complete builder for for B, unless I don't have any other option. </p>\n\n<p>PS: I have given explicit constructor for class B due to <a href=\"https://reinhard.codes/2015/09/16/lomboks-builder-annotation-and-inheritance/\" rel=\"noreferrer\">Issue</a>.\nI tried searching, but I could not find a good solution for the same.</p>\n"},{"tags":["java","couchbase","membase"],"comments":[{"owner":{"account_id":1320707,"reputation":2772,"user_id":1266600,"display_name":"sushain97"},"score":0,"creation_date":1376007692,"post_id":18138136,"comment_id":26564169,"body_markdown":"can you provide some of your own code?","body":"can you provide some of your own code?"},{"owner":{"account_id":3031410,"reputation":1737,"user_id":2570342,"accept_rate":23,"display_name":"TommyT"},"score":0,"creation_date":1376008220,"post_id":18138136,"comment_id":26564276,"body_markdown":"How Do I check my build path and run path in intellij and the jars it is using to build and run  .. I want to know if they are different","body":"How Do I check my build path and run path in intellij and the jars it is using to build and run  .. I want to know if they are different"},{"owner":{"account_id":1949239,"reputation":789,"user_id":1802775,"accept_rate":54,"display_name":"Augusto"},"score":0,"creation_date":1376014483,"post_id":18138136,"comment_id":26565545,"body_markdown":"Problem seems to be at this line at com.couchbase.client.ViewConnection.createConnections(ViewConnection.java:120)","body":"Problem seems to be at this line at com.couchbase.client.ViewConnection.createConnections(ViewCo&zwnj;&#8203;nnection.java:120)"}],"answers":[{"comments":[{"owner":{"account_id":3031410,"reputation":1737,"user_id":2570342,"accept_rate":23,"display_name":"TommyT"},"score":0,"creation_date":1376007375,"post_id":18138276,"comment_id":26564093,"body_markdown":"So is there some class in the API that is final .. as I am not extending anything in any of my custom classes.","body":"So is there some class in the API that is final .. as I am not extending anything in any of my custom classes."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1376013827,"post_id":18138276,"comment_id":26565422,"body_markdown":"You&#39;re downloading a class at runtime from somewhere, and that class is attempting to subclass a class that&#39;s declared `final` in your runtime environment.","body":"You&#39;re downloading a class at runtime from somewhere, and that class is attempting to subclass a class that&#39;s declared <code>final</code> in your runtime environment."},{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":0,"creation_date":1389777103,"post_id":18138276,"comment_id":31802219,"body_markdown":"I got this warning when I made new Android project with wizard of fresh installed Android Studio 0.4.2 :S","body":"I got this warning when I made new Android project with wizard of fresh installed Android Studio 0.4.2 :S"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1376016784,"creation_date":1376006863,"answer_id":18138276,"question_id":18138136,"body_markdown":"The message means what it says.\r\n\r\nSomewhere, somehow you have managed to create a class that extends a superclass, where the superclass has been declared as `final`.\r\n\r\nThe most likely cause is that you have a conflict between your build classpath and your launch classpath.  In other words, you are compiling your subclass against a version of the superclass that is not `final`, and then running against a version that is `final`.  The verifier is saying (correctly) that this is wrong.\r\n\r\n------------------------\r\n\r\nIf it is not your build / one of your classes that is causing this, then it is some internal conflict within the CouchDB client classes that you are using.  Indeed the fact that this is a `VerifyError` rather than an `IncompatibleClassChangeError` suggests that this maybe a problem with some dynamically generated bytecodes.","title":"Cannot inherit from final class error","body":"<p>The message means what it says.</p>\n\n<p>Somewhere, somehow you have managed to create a class that extends a superclass, where the superclass has been declared as <code>final</code>.</p>\n\n<p>The most likely cause is that you have a conflict between your build classpath and your launch classpath.  In other words, you are compiling your subclass against a version of the superclass that is not <code>final</code>, and then running against a version that is <code>final</code>.  The verifier is saying (correctly) that this is wrong.</p>\n\n<hr>\n\n<p>If it is not your build / one of your classes that is causing this, then it is some internal conflict within the CouchDB client classes that you are using.  Indeed the fact that this is a <code>VerifyError</code> rather than an <code>IncompatibleClassChangeError</code> suggests that this maybe a problem with some dynamically generated bytecodes.</p>\n"},{"comments":[{"owner":{"account_id":8764373,"reputation":1258,"user_id":6553331,"accept_rate":67,"display_name":"temp_"},"score":1,"creation_date":1526335435,"post_id":48401985,"comment_id":87695536,"body_markdown":"This was my mistake, very simple fix `open class Foo(){ ...`","body":"This was my mistake, very simple fix <code>open class Foo(){ ...</code>"},{"owner":{"account_id":5042646,"reputation":170,"user_id":4049544,"display_name":"NayMak"},"score":1,"creation_date":1579013049,"post_id":48401985,"comment_id":105620861,"body_markdown":"Note that you cannot use `open` in a `data class`","body":"Note that you cannot use <code>open</code> in a <code>data class</code>"}],"tags":[],"owner":{"account_id":3817409,"reputation":12833,"user_id":3166417,"accept_rate":39,"display_name":"itzhar"},"comment_count":2,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1648078190,"creation_date":1516711149,"answer_id":48401985,"question_id":18138136,"body_markdown":"if you&#39;re using kotlin, add `open` to your class (extends RealmObject) declaration\r\n\r\n\r\n    open class Foo() {\r\n    \r\n    }","title":"Cannot inherit from final class error","body":"<p>if you're using kotlin, add <code>open</code> to your class (extends RealmObject) declaration</p>\n<pre><code>open class Foo() {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1763611,"reputation":72068,"user_id":1610034,"accept_rate":55,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546262281,"creation_date":1546262281,"answer_id":53987956,"question_id":18138136,"body_markdown":"I also faced this with IntelliJ Idea: 2018.3 Community Edition, However running following fixed it for me:\r\n\r\n    mvn -U idea:idea clean compile install -DskipTests\r\n","title":"Cannot inherit from final class error","body":"<p>I also faced this with IntelliJ Idea: 2018.3 Community Edition, However running following fixed it for me:</p>\n\n<pre><code>mvn -U idea:idea clean compile install -DskipTests\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8412221"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669755865,"creation_date":1669755865,"answer_id":74620227,"question_id":18138136,"body_markdown":"maybe you would be extend a java class which is marked as final keyword but as you know, inheritance is not possible with final class.","title":"Cannot inherit from final class error","body":"<p>maybe you would be extend a java class which is marked as final keyword but as you know, inheritance is not possible with final class.</p>\n"}],"owner":{"account_id":3031410,"reputation":1737,"user_id":2570342,"accept_rate":23,"display_name":"TommyT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66511,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":48401985,"answer_count":4,"score":25,"last_activity_date":1669755865,"creation_date":1376005872,"question_id":18138136,"body_markdown":"What does this error mean .. It runs fine in Eclipse but not in intellij idea\r\n\r\n    Exception in thread &quot;main&quot; java.lang.VerifyError: Cannot inherit from final class\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:615)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\r\n\tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n\tat com.couchbase.client.ViewConnection.createConnections(ViewConnection.java:120)\r\n\tat com.couchbase.client.ViewConnection.&lt;init&gt;(ViewConnection.java:100)\r\n\tat com.couchbase.client.CouchbaseConnectionFactory.createViewConnection(CouchbaseConnectionFactory.java:179)\r\n\tat com.couchbase.client.CouchbaseClient.&lt;init&gt;(CouchbaseClient.java:243)\r\n\tat com.couchbase.client.CouchbaseClient.&lt;init&gt;(CouchbaseClient.java:175)\r\n\tat com.couchbase.App.putincbase(App.java:122)\r\n\tat examplesCons.TestCons.run(TestCons.java:89)\r\n\tat examplesCons.TestCons.main(TestCons.java:121)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI get this error when I try to run couchbase using couchbase-client-1.1.6.jar from Intellij IDea.","title":"Cannot inherit from final class error","body":"<p>What does this error mean .. It runs fine in Eclipse but not in intellij idea</p>\n\n<pre><code>Exception in thread \"main\" java.lang.VerifyError: Cannot inherit from final class\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:615)\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\nat java.net.URLClassLoader.access$000(URLClassLoader.java:58)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\nat com.couchbase.client.ViewConnection.createConnections(ViewConnection.java:120)\nat com.couchbase.client.ViewConnection.&lt;init&gt;(ViewConnection.java:100)\nat com.couchbase.client.CouchbaseConnectionFactory.createViewConnection(CouchbaseConnectionFactory.java:179)\nat com.couchbase.client.CouchbaseClient.&lt;init&gt;(CouchbaseClient.java:243)\nat com.couchbase.client.CouchbaseClient.&lt;init&gt;(CouchbaseClient.java:175)\nat com.couchbase.App.putincbase(App.java:122)\nat examplesCons.TestCons.run(TestCons.java:89)\nat examplesCons.TestCons.main(TestCons.java:121)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\n</code></pre>\n\n<p>I get this error when I try to run couchbase using couchbase-client-1.1.6.jar from Intellij IDea.</p>\n"},{"tags":["java","mysql","netbeans","datatables"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669758156,"post_id":74620146,"comment_id":131714780,"body_markdown":"No, you don&#39;t need to select all the columns. Either log some output, or step through your code with the debugger to see what&#39;s happening.","body":"No, you don&#39;t need to select all the columns. Either log some output, or step through your code with the debugger to see what&#39;s happening."},{"owner":{"account_id":17595442,"reputation":15,"user_id":12766422,"display_name":"lemon07"},"score":0,"creation_date":1670028044,"post_id":74620146,"comment_id":131784752,"body_markdown":"thanks for the advice. Checked the debugger and at the end I just wrote the table name wrong sjshjhs.","body":"thanks for the advice. Checked the debugger and at the end I just wrote the table name wrong sjshjhs."}],"owner":{"account_id":17595442,"reputation":15,"user_id":12766422,"display_name":"lemon07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669755263,"creation_date":1669755263,"question_id":74620146,"body_markdown":"I&#39;m doing a calendar program in Netbeans using Mysql database. there is a table for every event which has many column, one of them being a Boolean called &quot;Tarea&quot; (Task). This determines if the day will go on the table of Pending which should only display the date and title of the event.\r\n\r\nTo do this I used the following code: \r\n```\r\n void TablaPendientes(){\r\n    String url = &quot;jdbc:mysql://localhost:3306/calendario&quot;;\r\nString user = &quot;root&quot;;\r\nString pass = &quot;password&quot;;\r\ntry(Connection connection = DriverManager.getConnection(url, user,pass))\r\n{\r\n        DefaultTableModel model = (DefaultTableModel) tablaRecursos.getModel();\r\n        pst=connection.prepareStatement(&quot;select Fecha, TituloE from eventos where Tarea = 1&quot;);\r\n        rs=pst.executeQuery();\r\n        while (rs.next())\r\n        { \r\n            model.addRow(new String[]{rs.getString(&quot;Fecha&quot;),  rs.getString(&quot;TituloE&quot;)});\r\n        }\r\n}catch(SQLException e){\r\nSystem.out.println(e.getMessage());\r\n}\r\n}\r\n``` \r\n\r\nI called the function form my main but it still doesn&#39;t plot the table. Can I only put all of the values of the table? I ask this because in another table that has practically the same code except that in the statement it is &quot;select * from&quot;, it plots correctly.\r\n","title":"How can I insert only certain columns from a mysql table to netbeans?","body":"<p>I'm doing a calendar program in Netbeans using Mysql database. there is a table for every event which has many column, one of them being a Boolean called &quot;Tarea&quot; (Task). This determines if the day will go on the table of Pending which should only display the date and title of the event.</p>\n<p>To do this I used the following code:</p>\n<pre><code> void TablaPendientes(){\n    String url = &quot;jdbc:mysql://localhost:3306/calendario&quot;;\nString user = &quot;root&quot;;\nString pass = &quot;password&quot;;\ntry(Connection connection = DriverManager.getConnection(url, user,pass))\n{\n        DefaultTableModel model = (DefaultTableModel) tablaRecursos.getModel();\n        pst=connection.prepareStatement(&quot;select Fecha, TituloE from eventos where Tarea = 1&quot;);\n        rs=pst.executeQuery();\n        while (rs.next())\n        { \n            model.addRow(new String[]{rs.getString(&quot;Fecha&quot;),  rs.getString(&quot;TituloE&quot;)});\n        }\n}catch(SQLException e){\nSystem.out.println(e.getMessage());\n}\n}\n</code></pre>\n<p>I called the function form my main but it still doesn't plot the table. Can I only put all of the values of the table? I ask this because in another table that has practically the same code except that in the statement it is &quot;select * from&quot;, it plots correctly.</p>\n"},{"tags":["java","apache-spark","stack-overflow","rdd"],"comments":[{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1669667593,"post_id":74604637,"comment_id":131690185,"body_markdown":"That&#39;s correct and expected: RangePartitioner is implementing reservoir sampling via the sketch method in Partitioner.scala. In order to generate a truly random sample, all elements must be read. Imagine if you had a single column of 100 integers from 1 to 100 you wanted to sort that was already sorted in ascending order, and only read the first 10% of this data. You&#39;d only get read some of the smallest values (1-11), so your estimated &quot;range&quot; wouldn&#39;t be right.","body":"That&#39;s correct and expected: RangePartitioner is implementing reservoir sampling via the sketch method in Partitioner.scala. In order to generate a truly random sample, all elements must be read. Imagine if you had a single column of 100 integers from 1 to 100 you wanted to sort that was already sorted in ascending order, and only read the first 10% of this data. You&#39;d only get read some of the smallest values (1-11), so your estimated &quot;range&quot; wouldn&#39;t be right."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1669667619,"post_id":74604637,"comment_id":131690196,"body_markdown":"Borrowed from so elsewhere.","body":"Borrowed from so elsewhere."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1669667681,"post_id":74604637,"comment_id":131690220,"body_markdown":"Oh how i hate java.","body":"Oh how i hate java."},{"owner":{"account_id":27076111,"reputation":1,"user_id":20626028,"display_name":"LIREN HUANG"},"score":0,"creation_date":1669670564,"post_id":74604637,"comment_id":131691022,"body_markdown":"@thebluephantom thank you very much for the explanation. I thought sketch is to random sample a subset of the RDD. So, I was expecting first run only iterates part of the data. But for me, the two runs both iterated through the entire RDD list.","body":"@thebluephantom thank you very much for the explanation. I thought sketch is to random sample a subset of the RDD. So, I was expecting first run only iterates part of the data. But for me, the two runs both iterated through the entire RDD list."},{"owner":{"account_id":27076111,"reputation":1,"user_id":20626028,"display_name":"LIREN HUANG"},"score":0,"creation_date":1669670714,"post_id":74604637,"comment_id":131691058,"body_markdown":"@thebluephantom my follow up question would be. Since cache() can avoid an extra run of the transformation. Does everyone really always cache() before sort()? What if I have an iterative process of sort(). This would case stack overflow.","body":"@thebluephantom my follow up question would be. Since cache() can avoid an extra run of the transformation. Does everyone really always cache() before sort()? What if I have an iterative process of sort(). This would case stack overflow."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1669671104,"post_id":74604637,"comment_id":131691172,"body_markdown":"I was thinking of that to. Not sure.","body":"I was thinking of that to. Not sure."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1669671251,"post_id":74604637,"comment_id":131691202,"body_markdown":"There could be bugs in the code...","body":"There could be bugs in the code..."}],"owner":{"account_id":27076111,"reputation":1,"user_id":20626028,"display_name":"LIREN HUANG"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669754959,"creation_date":1669658043,"question_id":74604637,"body_markdown":"I recently found out that, if I apply a `sort()` function, the transformation in front would run twice. As shown below, `mapPartitions` runs twice. (I have checked downstream steps, it was not caused by another action to re-computing this transformation, The transformation repeat it self independently)\r\n\r\n```java\r\nReflexivSubKmerDS.cache();\r\nDSExtendReflexivKmerToArrayFirstTime DSKmerExtentionToArrayFirst = new DSExtendReflexivKmerToArrayFirstTime();\r\nReflexivLongSubKmerDS = ReflexivSubKmerDS.mapPartitions(DSKmerExtentionToArrayFirst, ReflexivLongSubKmerEncoderCompressed);\r\n\r\nReflexivLongSubKmerDS = ReflexivLongSubKmerDS.sort(&quot;k-1&quot;);\r\n```\r\n\r\nIf I add a cache() or persist() before the sort() function, the problem goes away, it only ran once.\r\n\r\n```\r\nReflexivSubKmerDS.cache();\r\nDSExtendReflexivKmerToArrayFirstTime DSKmerExtentionToArrayFirst = new DSExtendReflexivKmerToArrayFirstTime();\r\nReflexivLongSubKmerDS = ReflexivSubKmerDS.mapPartitions(DSKmerExtentionToArrayFirst, ReflexivLongSubKmerEncoderCompressed);\r\n\r\nReflexivLongSubKmerDS.persist(StorageLevel.DISK_ONLY());\r\nReflexivLongSubKmerDS = ReflexivLongSubKmerDS.sort(&quot;k-1&quot;);\r\n```\r\n\r\nDoes this make any sense? Is it normal?\r\n\r\nThank you\r\n\r\nI have checked downstream steps, it was not caused by another action to re-computing this transformation, The transformation repeat it self independently\r\n\r\nI also checked, if this is only a sampling step by `sort()` function. But apparently, all elements of the RDD was computed.\r\n\r\n","title":"Spark sort causes former transformation running twice","body":"<p>I recently found out that, if I apply a <code>sort()</code> function, the transformation in front would run twice. As shown below, <code>mapPartitions</code> runs twice. (I have checked downstream steps, it was not caused by another action to re-computing this transformation, The transformation repeat it self independently)</p>\n<pre class=\"lang-java prettyprint-override\"><code>ReflexivSubKmerDS.cache();\nDSExtendReflexivKmerToArrayFirstTime DSKmerExtentionToArrayFirst = new DSExtendReflexivKmerToArrayFirstTime();\nReflexivLongSubKmerDS = ReflexivSubKmerDS.mapPartitions(DSKmerExtentionToArrayFirst, ReflexivLongSubKmerEncoderCompressed);\n\nReflexivLongSubKmerDS = ReflexivLongSubKmerDS.sort(&quot;k-1&quot;);\n</code></pre>\n<p>If I add a cache() or persist() before the sort() function, the problem goes away, it only ran once.</p>\n<pre><code>ReflexivSubKmerDS.cache();\nDSExtendReflexivKmerToArrayFirstTime DSKmerExtentionToArrayFirst = new DSExtendReflexivKmerToArrayFirstTime();\nReflexivLongSubKmerDS = ReflexivSubKmerDS.mapPartitions(DSKmerExtentionToArrayFirst, ReflexivLongSubKmerEncoderCompressed);\n\nReflexivLongSubKmerDS.persist(StorageLevel.DISK_ONLY());\nReflexivLongSubKmerDS = ReflexivLongSubKmerDS.sort(&quot;k-1&quot;);\n</code></pre>\n<p>Does this make any sense? Is it normal?</p>\n<p>Thank you</p>\n<p>I have checked downstream steps, it was not caused by another action to re-computing this transformation, The transformation repeat it self independently</p>\n<p>I also checked, if this is only a sampling step by <code>sort()</code> function. But apparently, all elements of the RDD was computed.</p>\n"},{"tags":["java","string","integer"],"answers":[{"tags":[],"owner":{"account_id":5619243,"reputation":2195,"user_id":4449640,"accept_rate":100,"display_name":"Kyle Williamson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1449092108,"creation_date":1449091773,"answer_id":34053371,"question_id":34053309,"body_markdown":"Because you are using the string &quot;01234&quot; as an integer (with `parseInt()`), the `system.out.println` is printing an integer.\r\n\r\n&quot;01234&quot; as an integer would be 1234.  This is because 0 is the only integer that starts with a zero.  \r\n\r\n*None of these are real numbers:*\r\n\r\n    0456,\r\n    0234, \r\n    05555555, \r\n    01\r\nIf you were to store &quot;01234&quot; as a string, the 0 would hold its value.\r\n\r\n ","title":"Why does Integer.parseInt() remove 0 from string values?","body":"<p>Because you are using the string \"01234\" as an integer (with <code>parseInt()</code>), the <code>system.out.println</code> is printing an integer.</p>\n\n<p>\"01234\" as an integer would be 1234.  This is because 0 is the only integer that starts with a zero.  </p>\n\n<p><em>None of these are real numbers:</em></p>\n\n<pre><code>0456,\n0234, \n05555555, \n01\n</code></pre>\n\n<p>If you were to store \"01234\" as a string, the 0 would hold its value.</p>\n"},{"comments":[{"owner":{"account_id":3551904,"reputation":2223,"user_id":2966583,"accept_rate":93,"display_name":"stramin"},"score":1,"creation_date":1562780210,"post_id":34053476,"comment_id":100488108,"body_markdown":"In many languages (even Java) a leading zero is very significant, a leading zero means the number is an octal (0123 = 83)","body":"In many languages (even Java) a leading zero is very significant, a leading zero means the number is an octal (0123 = 83)"}],"tags":[],"owner":{"account_id":6432600,"reputation":49531,"user_id":4987285,"accept_rate":97,"display_name":"skypjack"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449092138,"creation_date":1449092138,"answer_id":34053476,"question_id":34053309,"body_markdown":"The zero in the first expression, once converted to an integer, is simply not significant.\r\n\r\nIf it were, what would be the difference between `01` and `001`? Why the conversion should ends with one non significant `0` as a right choice, even better than the one having two significant zeros? What about three significant zeros? According with this logic, it would have been even more significant!!\r\n\r\nNo, I&#39;m sorry, figures that are not significant are removed, and that&#39;s why the string `&#39;01234&#39;` (that is, of course, a legal string) is converted to the integer `1234`.\r\n\r\nSee [here][1] for further details:\r\n\r\n&gt; Leading zeros are never significant.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Significant_figures","title":"Why does Integer.parseInt() remove 0 from string values?","body":"<p>The zero in the first expression, once converted to an integer, is simply not significant.</p>\n\n<p>If it were, what would be the difference between <code>01</code> and <code>001</code>? Why the conversion should ends with one non significant <code>0</code> as a right choice, even better than the one having two significant zeros? What about three significant zeros? According with this logic, it would have been even more significant!!</p>\n\n<p>No, I'm sorry, figures that are not significant are removed, and that's why the string <code>'01234'</code> (that is, of course, a legal string) is converted to the integer <code>1234</code>.</p>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/Significant_figures\" rel=\"nofollow\">here</a> for further details:</p>\n\n<blockquote>\n  <p>Leading zeros are never significant.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449092447,"creation_date":1449092447,"answer_id":34053558,"question_id":34053309,"body_markdown":"Because integers do not begin with zero, zero has no importance in numbers integers then when parse `Integer.parseInt(&quot;01234&quot;)`, from string to int the 0 be  deleted `1234`.\r\nConversely where zero is at the end is not deleted `12340`.","title":"Why does Integer.parseInt() remove 0 from string values?","body":"<p>Because integers do not begin with zero, zero has no importance in numbers integers then when parse <code>Integer.parseInt(\"01234\")</code>, from string to int the 0 be  deleted <code>1234</code>.\nConversely where zero is at the end is not deleted <code>12340</code>.</p>\n"}],"owner":{"account_id":5176046,"reputation":175,"user_id":4143148,"accept_rate":80,"display_name":"Name Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16147,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":34053371,"answer_count":3,"score":5,"last_activity_date":1669754252,"creation_date":1449091552,"question_id":34053309,"body_markdown":"I have been trying to investigate why `Integer.parseInt()` removes 0 and returns the remaining numbers. For example:\r\n\r\n    @Test\r\n\tpublic void testInteger() {\r\n\t\tSystem.out.println(Integer.parseInt(&quot;01234&quot;));\r\n\t\tSystem.out.println(Integer.parseInt(&quot;12340&quot;));\r\n\t}\r\n\r\nThe first line prints 1234 and the second 12340. Why is the 0 removed from the first line. This does not make sense. I am aware a Integer is the wrapper object of an int and an int stores 32 bits.\r\n\r\nCould you please explain why?","title":"Why does Integer.parseInt() remove 0 from string values?","body":"<p>I have been trying to investigate why <code>Integer.parseInt()</code> removes 0 and returns the remaining numbers. For example:</p>\n<pre><code>@Test\npublic void testInteger() {\n    System.out.println(Integer.parseInt(&quot;01234&quot;));\n    System.out.println(Integer.parseInt(&quot;12340&quot;));\n}\n</code></pre>\n<p>The first line prints 1234 and the second 12340. Why is the 0 removed from the first line. This does not make sense. I am aware a Integer is the wrapper object of an int and an int stores 32 bits.</p>\n<p>Could you please explain why?</p>\n"},{"tags":["java","input","java.util.scanner"],"comments":[{"owner":{"account_id":5083464,"reputation":4521,"user_id":4185106,"accept_rate":89,"display_name":"moffeltje"},"score":4,"creation_date":1433314323,"post_id":30612811,"comment_id":49292358,"body_markdown":"Do you know what a `class` means in Java?","body":"Do you know what a <code>class</code> means in Java?"},{"owner":{"account_id":5133110,"reputation":3741,"user_id":4112664,"display_name":"almightyGOSU"},"score":1,"creation_date":1433314362,"post_id":30612811,"comment_id":49292379,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a>"},{"owner":{"account_id":6226754,"reputation":277,"user_id":4844730,"display_name":"The Man"},"score":1,"creation_date":1433315027,"post_id":30612811,"comment_id":49292781,"body_markdown":"@moffeltje I do know what class and objects mean in C++, though I haven&#39;t get to that part in Java.","body":"@moffeltje I do know what class and objects mean in C++, though I haven&#39;t get to that part in Java."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1433315365,"post_id":30612811,"comment_id":49293029,"body_markdown":"Do you know what IO streams/readers/writers are? Do you know what is `System.in`?","body":"Do you know what IO streams/readers/writers are? Do you know what is <code>System.in</code>?"},{"owner":{"account_id":6226754,"reputation":277,"user_id":4844730,"display_name":"The Man"},"score":0,"creation_date":1433315453,"post_id":30612811,"comment_id":49293092,"body_markdown":"@Pshemo It is an object that reads input from specifically the keyboard?","body":"@Pshemo It is an object that reads input from specifically the keyboard?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1433315804,"post_id":30612811,"comment_id":49293323,"body_markdown":"Yes, it is input standard input stream which is meant to read data from user (by default from keyboard). Now Scanner is class which is meant to read data from streams (or even readers) in textual form. So its instance needs to know which stream it needs to read. We pass this information via constructor just like in your case, since we want Scanner to read from standard input stream we are using `new Scanner(System.in);`. Then we store created instance in `input` reference. This lets us use methods like` nextInt()` `nextLine()` which are not available for `InputStream`.","body":"Yes, it is input standard input stream which is meant to read data from user (by default from keyboard). Now Scanner is class which is meant to read data from streams (or even readers) in textual form. So its instance needs to know which stream it needs to read. We pass this information via constructor just like in your case, since we want Scanner to read from standard input stream we are using <code>new Scanner(System.in);</code>. Then we store created instance in <code>input</code> reference. This lets us use methods like` nextInt()` <code>nextLine()</code> which are not available for <code>InputStream</code>."},{"owner":{"account_id":6226754,"reputation":277,"user_id":4844730,"display_name":"The Man"},"score":0,"creation_date":1433316612,"post_id":30612811,"comment_id":49293835,"body_markdown":"@Pshemo Got it now. Thanks for helping me out!","body":"@Pshemo Got it now. Thanks for helping me out!"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1433316771,"post_id":30612811,"comment_id":49293948,"body_markdown":"BTW, as mentioned earlier Scanner can be used to read data as text from any InputStream or Reader. So it can also read from file if you pass instance of FileInputStream or FileReader, or any source which can be wrapped by any InputStream/Reader.","body":"BTW, as mentioned earlier Scanner can be used to read data as text from any InputStream or Reader. So it can also read from file if you pass instance of FileInputStream or FileReader, or any source which can be wrapped by any InputStream/Reader."}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1433314377,"creation_date":1433314377,"answer_id":30612852,"question_id":30612811,"body_markdown":"`Scanner input = new Scanner(System.in);` creates a *new* `Scanner` instance which points to the *input stream* passed as argument. In your case the steam is *Standard input stream*.\r\n\r\nSo, once your scanner instance is pointing to it, you can *scan* the stream and get `integers`, `strings` and do other stuff .","title":"What does Scanner input = new Scanner(System.in) actually mean?","body":"<p><code>Scanner input = new Scanner(System.in);</code> creates a <em>new</em> <code>Scanner</code> instance which points to the <em>input stream</em> passed as argument. In your case the steam is <em>Standard input stream</em>.</p>\n\n<p>So, once your scanner instance is pointing to it, you can <em>scan</em> the stream and get <code>integers</code>, <code>strings</code> and do other stuff .</p>\n"},{"tags":[],"owner":{"account_id":2113637,"reputation":1067,"user_id":1878375,"accept_rate":95,"display_name":"Tim Kathete Stadler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433314402,"creation_date":1433314402,"answer_id":30612860,"question_id":30612811,"body_markdown":"    Scanner input = new Scanner(System.in);\r\nCreates a new object of type `Scanner` from the standard input of the program (in this case probably the console)\r\nand\r\n\r\n    int i = input.nextInt()\r\n\r\nuses the `nextInt` Method of that object, which allows you to enter some text and it will be parsed into an integer. ","title":"What does Scanner input = new Scanner(System.in) actually mean?","body":"<pre><code>Scanner input = new Scanner(System.in);\n</code></pre>\n\n<p>Creates a new object of type <code>Scanner</code> from the standard input of the program (in this case probably the console)\nand</p>\n\n<pre><code>int i = input.nextInt()\n</code></pre>\n\n<p>uses the <code>nextInt</code> Method of that object, which allows you to enter some text and it will be parsed into an integer. </p>\n"},{"tags":[],"owner":{"account_id":5083464,"reputation":4521,"user_id":4185106,"accept_rate":89,"display_name":"moffeltje"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1637696203,"creation_date":1433316074,"answer_id":30613358,"question_id":30612811,"body_markdown":"Alright, let&#39;s elaborate with some simplified explanation about the [`Scanner`][1] class.\r\n\r\nIt is a standard Oracle class which you can use by calling the `import java.util.Scanner`.\r\n\r\nSo let&#39;s make a basic example of the class:\r\n\r\n    class Scanner {\r\n       InputStream source;\r\n\r\n       Scanner(InputStream src) {\r\n           this.source = src;\r\n       }\r\n\r\n       int nextInt() {\r\n           int nextInteger;\r\n           //Scans the next token of the input as an int from the source.\r\n           return nextInteger;\r\n       }\r\n    }\r\n\r\nNow when you call `Scanner input = new Scanner(System.in);` you make a new object of the `Scanner` class (so you make a new &quot;Scanner&quot;) and you store it in the variable `input`. At the same time you are calling the (so called) [constructor][2] of the class, with the parameter `System.in`. That means it is going to read from the standard input stream of the program.\r\n\r\nNow when you are calling `input.nextInt();` you execute the method from the object you just created (also [documented][3]). But as we see, this method returns a integer, so if we want to use that integer, we have to assign the call to a variable like you do:\r\n\r\n    int i = input.nextInt();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#Scanner(java.io.InputStream)\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()","title":"What does Scanner input = new Scanner(System.in) actually mean?","body":"<p>Alright, let's elaborate with some simplified explanation about the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code></a> class.</p>\n<p>It is a standard Oracle class which you can use by calling the <code>import java.util.Scanner</code>.</p>\n<p>So let's make a basic example of the class:</p>\n<pre><code>class Scanner {\n   InputStream source;\n\n   Scanner(InputStream src) {\n       this.source = src;\n   }\n\n   int nextInt() {\n       int nextInteger;\n       //Scans the next token of the input as an int from the source.\n       return nextInteger;\n   }\n}\n</code></pre>\n<p>Now when you call <code>Scanner input = new Scanner(System.in);</code> you make a new object of the <code>Scanner</code> class (so you make a new &quot;Scanner&quot;) and you store it in the variable <code>input</code>. At the same time you are calling the (so called) <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#Scanner(java.io.InputStream)\" rel=\"nofollow noreferrer\">constructor</a> of the class, with the parameter <code>System.in</code>. That means it is going to read from the standard input stream of the program.</p>\n<p>Now when you are calling <code>input.nextInt();</code> you execute the method from the object you just created (also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">documented</a>). But as we see, this method returns a integer, so if we want to use that integer, we have to assign the call to a variable like you do:</p>\n<pre><code>int i = input.nextInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10876948,"reputation":1,"user_id":7997110,"display_name":"DEVENDRA PARIHAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591426589,"creation_date":1494589526,"answer_id":43937030,"question_id":30612811,"body_markdown":"    Scanner s = new Scanner(System.in);\r\n\r\nAbove statement creates an object of `Scanner` class which is defined in `java.util.scanner` package. `Scanner` class allows user to take input from console.\r\n\r\n`System.in` is passed as a parameter in `Scanner` class. It tells the java compiler that system input will be provided through console(keyboard). \r\n\r\n","title":"What does Scanner input = new Scanner(System.in) actually mean?","body":"<pre><code>Scanner s = new Scanner(System.in);\n</code></pre>\n\n<p>Above statement creates an object of <code>Scanner</code> class which is defined in <code>java.util.scanner</code> package. <code>Scanner</code> class allows user to take input from console.</p>\n\n<p><code>System.in</code> is passed as a parameter in <code>Scanner</code> class. It tells the java compiler that system input will be provided through console(keyboard). </p>\n"},{"tags":[],"owner":{"account_id":20966452,"reputation":1,"user_id":15404575,"display_name":"Molly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669753860,"creation_date":1669753860,"answer_id":74619959,"question_id":30612811,"body_markdown":"Scanner input = new Scanner(System.in); \r\nit creates a new Scanner instance which points to the input stream passed as argument. So here the steam is Standard input stream.\r\n\r\nSo, once your scanner instance is pointing to it, you can scan the stream and store the value into integers, strings and do other things","title":"What does Scanner input = new Scanner(System.in) actually mean?","body":"<p>Scanner input = new Scanner(System.in);\nit creates a new Scanner instance which points to the input stream passed as argument. So here the steam is Standard input stream.</p>\n<p>So, once your scanner instance is pointing to it, you can scan the stream and store the value into integers, strings and do other things</p>\n"}],"owner":{"account_id":6226754,"reputation":277,"user_id":4844730,"display_name":"The Man"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155281,"favorite_count":0,"down_vote_count":4,"up_vote_count":18,"accepted_answer_id":30613358,"answer_count":5,"score":14,"last_activity_date":1669753860,"creation_date":1433314244,"question_id":30612811,"body_markdown":"    Scanner input = new Scanner(System.in);\r\n\r\nCould you give me a detailed explanation on what the code above is doing step by step? I don&#39;t really understand how it works and how it links to me later being able to do this statement:\r\n\r\n    int i = input.nextInt()","title":"What does Scanner input = new Scanner(System.in) actually mean?","body":"<pre><code>Scanner input = new Scanner(System.in);\n</code></pre>\n\n<p>Could you give me a detailed explanation on what the code above is doing step by step? I don't really understand how it works and how it links to me later being able to do this statement:</p>\n\n<pre><code>int i = input.nextInt()\n</code></pre>\n"},{"tags":["java","websocket","microservices","scalability","stateless"],"answers":[{"tags":[],"owner":{"account_id":1096969,"reputation":1372,"user_id":6997699,"display_name":"AndrewR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669753831,"creation_date":1669753831,"answer_id":74619955,"question_id":74607202,"body_markdown":"You may want to consider a &quot;routing service&quot; - which will keep a mapping between rooms and servers where these rooms are.\r\n\r\nAlternatively, you may consider decoupling websocket connection handlers and rooms. So you have one service to server websockers. Another service service takes care of rooms. And one more to map users to websockets.\r\n\r\nSo when a user joins a room, two things will happen: websocket will be handled in Connection service and the user get a mapping between their id and the connection service instance (this does not have to be a specific instance as this will leak service implementation details; more on this below). In addition, Rooms service will register the user to the room.\r\n\r\nNow when there is a message to deliver to all; each user id can be resolved to a connection handler and the message be sent there.\r\n\r\nConnection service could have API like: deliver(address, message). Address is something meaningful to the connection service; for example encoded address of the web server and, maybe, a websocket id. This api is nice at it reduces scope for the connection service - all the service knows is how to deliver a message; service does not know anything about users or rooms.\r\n\r\nLong story short, you could define services for managing connections, managing rooms and managing users - and let them talk via apis. The main goal is to reduce scope of each service to its core goals.","title":"Websocket app into stateless microservice?","body":"<p>You may want to consider a &quot;routing service&quot; - which will keep a mapping between rooms and servers where these rooms are.</p>\n<p>Alternatively, you may consider decoupling websocket connection handlers and rooms. So you have one service to server websockers. Another service service takes care of rooms. And one more to map users to websockets.</p>\n<p>So when a user joins a room, two things will happen: websocket will be handled in Connection service and the user get a mapping between their id and the connection service instance (this does not have to be a specific instance as this will leak service implementation details; more on this below). In addition, Rooms service will register the user to the room.</p>\n<p>Now when there is a message to deliver to all; each user id can be resolved to a connection handler and the message be sent there.</p>\n<p>Connection service could have API like: deliver(address, message). Address is something meaningful to the connection service; for example encoded address of the web server and, maybe, a websocket id. This api is nice at it reduces scope for the connection service - all the service knows is how to deliver a message; service does not know anything about users or rooms.</p>\n<p>Long story short, you could define services for managing connections, managing rooms and managing users - and let them talk via apis. The main goal is to reduce scope of each service to its core goals.</p>\n"}],"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74619955,"answer_count":1,"score":0,"last_activity_date":1669753831,"creation_date":1669675009,"question_id":74607202,"body_markdown":"i would like to convert an app i have created into a proper microservice, following all the usual practices.\r\n\r\nHowever i am unable to understand how to achieve statelessness and horizontal scaling. This specific app does the following in short.\r\n\r\n1. User A starts a sharing room and connects to a websocket\r\n\r\n2. User B joins the sharing room and connects to a websocket\r\n\r\n3. When a third service streams some binary data via tcp to this service, both users get the data via websockets\r\n\r\nThink of it as video streaming to a group of people\r\n\r\nI am trying to understand how i would manage enforcing the users to connect to the same instance, where the sharing room exists in memory, and how this could possibly become stateless.\r\n\r\nOne of my issues is that when User B makes the request to join this room, how will I know which instance holds this in memory?\r\n\r\n Thank you\r\n","title":"Websocket app into stateless microservice?","body":"<p>i would like to convert an app i have created into a proper microservice, following all the usual practices.</p>\n<p>However i am unable to understand how to achieve statelessness and horizontal scaling. This specific app does the following in short.</p>\n<ol>\n<li><p>User A starts a sharing room and connects to a websocket</p>\n</li>\n<li><p>User B joins the sharing room and connects to a websocket</p>\n</li>\n<li><p>When a third service streams some binary data via tcp to this service, both users get the data via websockets</p>\n</li>\n</ol>\n<p>Think of it as video streaming to a group of people</p>\n<p>I am trying to understand how i would manage enforcing the users to connect to the same instance, where the sharing room exists in memory, and how this could possibly become stateless.</p>\n<p>One of my issues is that when User B makes the request to join this room, how will I know which instance holds this in memory?</p>\n<p>Thank you</p>\n"},{"tags":["java","opengl","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669753710,"creation_date":1669753710,"answer_id":74619923,"question_id":74619845,"body_markdown":"You have to setup a [perspective projection](https://en.wikipedia.org/wiki/3D_projection#Perspective_projection) matrix with [`glFrustum`](https://registry.khronos.org/OpenGL-Refpages/gl2.1/xhtml/glFrustum.xml). Also see [Viewing frustum](https://en.wikipedia.org/wiki/Viewing_frustum).  \r\n\r\n```java\r\nGL11.glMatrixMode(GL.GL_PROJECTION);\r\nGL11.glLoadIdentity();\r\nGL11.glFrustum(-1.0, 1.0, -1.0, 1.0, 1.0, 10.0);\r\n\r\nGL11.glMatrixMode(GL.GL_MODELVIEW);\r\nGL11.glLoadIdentity();\r\nGL11.glTranslatef(0.0f, 0.0f, -3.0f);\r\nGL11.glRotatef(45f, 0.5f, 1.0f, 0.0f);\r\n```","title":"Issue with rendering a cube with LWJGL and OpenGL","body":"<p>You have to setup a <a href=\"https://en.wikipedia.org/wiki/3D_projection#Perspective_projection\" rel=\"nofollow noreferrer\">perspective projection</a> matrix with <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl2.1/xhtml/glFrustum.xml\" rel=\"nofollow noreferrer\"><code>glFrustum</code></a>. Also see <a href=\"https://en.wikipedia.org/wiki/Viewing_frustum\" rel=\"nofollow noreferrer\">Viewing frustum</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>GL11.glMatrixMode(GL.GL_PROJECTION);\nGL11.glLoadIdentity();\nGL11.glFrustum(-1.0, 1.0, -1.0, 1.0, 1.0, 10.0);\n\nGL11.glMatrixMode(GL.GL_MODELVIEW);\nGL11.glLoadIdentity();\nGL11.glTranslatef(0.0f, 0.0f, -3.0f);\nGL11.glRotatef(45f, 0.5f, 1.0f, 0.0f);\n</code></pre>\n"}],"owner":{"account_id":14706564,"reputation":11,"user_id":12248461,"display_name":"W.G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669753710,"creation_date":1669753153,"question_id":74619845,"body_markdown":"I&#39;ve been trying to render a cube and all I&#39;m getting are some weirdly colored squares. The tutorial I&#39;m following says to change the z value in `glTranslatef` at the beginning of the while loop, but after following that I don&#39;t see anything. \r\n\r\n```java\r\nprivate void loop() {\r\n    float rquad = 0;\r\n\r\n    GL.createCapabilities();\r\n\r\n    while ( !glfwWindowShouldClose(window) ) {\r\n        GL11.glClear(GL11.GL_COLOR_BUFFER_BIT | GL11.GL_DEPTH_BUFFER_BIT);\r\n\r\n        GL11.glLoadIdentity();\r\n        GL11.glTranslatef(0.0f, 0.0f, 0.0f);\r\n        GL11.glRotatef(45f, 0.4f, 0.98f, 0.1f);\r\n        RenderCube();\r\n        // Render end here\r\n        glfwSwapBuffers(window); // swap the color buffers\r\n        glfwPollEvents();\r\n\r\n        //Update control variables\r\n        rquad += 0.03;\r\n    }\r\n}\r\n\r\npublic void RenderCube() {\r\n    GL11.glBegin(GL_QUADS);\r\n    GL11.glColor3f(0.0f, 1.0f, 0.0f);\r\n    GL11.glVertex3f(1.0f, 1.0f, -1.0f);\r\n    GL11.glVertex3f(-1.0f, 1.0f, -1.0f);\r\n    GL11.glVertex3f(-1.0f, 1.0f, 1.0f);\r\n    GL11.glVertex3f(1.0f, 1.0f, 1.0f);\r\n    GL11.glColor3f(1.0f, 0.5f, 0.0f);\r\n    GL11.glVertex3f(1.0f, -1.0f, 1.0f);\r\n    GL11.glVertex3f(-1.0f, -1.0f, 1.0f);\r\n    GL11.glVertex3f(-1.0f, -1.0f, -1.0f);\r\n    GL11.glVertex3f(1.0f, -1.0f, -1.0f);\r\n    GL11.glColor3f(1.0f, 0.0f, 0.0f);\r\n    GL11.glVertex3f(1.0f, 1.0f, 1.0f);\r\n    GL11.glVertex3f(-1.0f, 1.0f, 1.0f);\r\n    GL11.glVertex3f(-1.0f, -1.0f, 1.0f);\r\n    GL11.glVertex3f(1.0f, -1.0f, 1.0f);\r\n    GL11.glColor3f(1.0f, 1.0f, 0.0f);\r\n    GL11.glVertex3f(1.0f, -1.0f, -1.0f);\r\n    GL11.glVertex3f(-1.0f, -1.0f, -1.0f);\r\n    GL11.glVertex3f(-1.0f, 1.0f, -1.0f);\r\n    GL11.glVertex3f(0.1f, 1.0f, -1.0f);\r\n    GL11.glColor3f(0.0f, 0.0f, 1.0f);\r\n    GL11.glVertex3f(-1.0f, 1.0f, 1.0f);\r\n    GL11.glVertex3f(-1.0f, 1.0f, -1.0f);\r\n    GL11.glVertex3f(-1.0f, -1.0f, -1.0f);\r\n    GL11.glVertex3f(-1.0f, -1.0f, 0.1f);\r\n    GL11.glColor3f(1.0f, 0.0f, 1.0f);\r\n    GL11.glVertex3f(1.0f, 1.0f, -1.0f);\r\n    GL11.glVertex3f(1.0f, 1.0f, 1.0f);\r\n    GL11.glVertex3f(1.0f, -1.0f, 1.0f);\r\n    GL11.glVertex3f(1.0f, -1.0f, -1.0f);\r\n    GL11.glEnd();\r\n}\r\n```\r\n\r\nI tried to change the translation values. Is there a simple way to move the cube forward so the camera can see it?","title":"Issue with rendering a cube with LWJGL and OpenGL","body":"<p>I've been trying to render a cube and all I'm getting are some weirdly colored squares. The tutorial I'm following says to change the z value in <code>glTranslatef</code> at the beginning of the while loop, but after following that I don't see anything.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void loop() {\n    float rquad = 0;\n\n    GL.createCapabilities();\n\n    while ( !glfwWindowShouldClose(window) ) {\n        GL11.glClear(GL11.GL_COLOR_BUFFER_BIT | GL11.GL_DEPTH_BUFFER_BIT);\n\n        GL11.glLoadIdentity();\n        GL11.glTranslatef(0.0f, 0.0f, 0.0f);\n        GL11.glRotatef(45f, 0.4f, 0.98f, 0.1f);\n        RenderCube();\n        // Render end here\n        glfwSwapBuffers(window); // swap the color buffers\n        glfwPollEvents();\n\n        //Update control variables\n        rquad += 0.03;\n    }\n}\n\npublic void RenderCube() {\n    GL11.glBegin(GL_QUADS);\n    GL11.glColor3f(0.0f, 1.0f, 0.0f);\n    GL11.glVertex3f(1.0f, 1.0f, -1.0f);\n    GL11.glVertex3f(-1.0f, 1.0f, -1.0f);\n    GL11.glVertex3f(-1.0f, 1.0f, 1.0f);\n    GL11.glVertex3f(1.0f, 1.0f, 1.0f);\n    GL11.glColor3f(1.0f, 0.5f, 0.0f);\n    GL11.glVertex3f(1.0f, -1.0f, 1.0f);\n    GL11.glVertex3f(-1.0f, -1.0f, 1.0f);\n    GL11.glVertex3f(-1.0f, -1.0f, -1.0f);\n    GL11.glVertex3f(1.0f, -1.0f, -1.0f);\n    GL11.glColor3f(1.0f, 0.0f, 0.0f);\n    GL11.glVertex3f(1.0f, 1.0f, 1.0f);\n    GL11.glVertex3f(-1.0f, 1.0f, 1.0f);\n    GL11.glVertex3f(-1.0f, -1.0f, 1.0f);\n    GL11.glVertex3f(1.0f, -1.0f, 1.0f);\n    GL11.glColor3f(1.0f, 1.0f, 0.0f);\n    GL11.glVertex3f(1.0f, -1.0f, -1.0f);\n    GL11.glVertex3f(-1.0f, -1.0f, -1.0f);\n    GL11.glVertex3f(-1.0f, 1.0f, -1.0f);\n    GL11.glVertex3f(0.1f, 1.0f, -1.0f);\n    GL11.glColor3f(0.0f, 0.0f, 1.0f);\n    GL11.glVertex3f(-1.0f, 1.0f, 1.0f);\n    GL11.glVertex3f(-1.0f, 1.0f, -1.0f);\n    GL11.glVertex3f(-1.0f, -1.0f, -1.0f);\n    GL11.glVertex3f(-1.0f, -1.0f, 0.1f);\n    GL11.glColor3f(1.0f, 0.0f, 1.0f);\n    GL11.glVertex3f(1.0f, 1.0f, -1.0f);\n    GL11.glVertex3f(1.0f, 1.0f, 1.0f);\n    GL11.glVertex3f(1.0f, -1.0f, 1.0f);\n    GL11.glVertex3f(1.0f, -1.0f, -1.0f);\n    GL11.glEnd();\n}\n</code></pre>\n<p>I tried to change the translation values. Is there a simple way to move the cube forward so the camera can see it?</p>\n"},{"tags":["java","maven","jenkins","credentials"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638280638,"post_id":70161188,"comment_id":124042398,"body_markdown":"Have you tried storing them as &quot;secrets&quot; in Jenkins? I did this for unencrypting encrypted files in my application. I think if you store them as (for instance) &quot;MAVEN_PWD&quot; you should be able to retrieve them at runtime.","body":"Have you tried storing them as &quot;secrets&quot; in Jenkins? I did this for unencrypting encrypted files in my application. I think if you store them as (for instance) &quot;MAVEN_PWD&quot; you should be able to retrieve them at runtime."},{"owner":{"display_name":"user17544628"},"score":0,"creation_date":1638281168,"post_id":70161188,"comment_id":124042640,"body_markdown":"@hfontanez Yes, and the tests still fail to resolve the externalized variables. How did you access those variables in the project you mentioned? Command line arguments, Surefire plugin configuration, etc.?","body":"@hfontanez Yes, and the tests still fail to resolve the externalized variables. How did you access those variables in the project you mentioned? Command line arguments, Surefire plugin configuration, etc.?"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1638284956,"post_id":70161188,"comment_id":124044392,"body_markdown":"#1 Are you using scripted pipeline or declarative pipeline? #2 Java frameworks like maven don&#39;t care how jenkins manage its variables. Usually those use environment variables to avoid hardcoded values.  Is there an option for you, the use of environment variables?","body":"#1 Are you using scripted pipeline or declarative pipeline? #2 Java frameworks like maven don&#39;t care how jenkins manage its variables. Usually those use environment variables to avoid hardcoded values.  Is there an option for you, the use of environment variables?"},{"owner":{"display_name":"user17544628"},"score":0,"creation_date":1638285419,"post_id":70161188,"comment_id":124044574,"body_markdown":"@JRichardsz I am using a declarative pipeline and open to using environment variables.","body":"@JRichardsz I am using a declarative pipeline and open to using environment variables."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638285793,"post_id":70161188,"comment_id":124044735,"body_markdown":"@MikeDeitrick unfortunately I do not remember and I am no longer employed at the place where I did this. But, I think JRichardsz is into something.","body":"@MikeDeitrick unfortunately I do not remember and I am no longer employed at the place where I did this. But, I think JRichardsz is into something."}],"answers":[{"comments":[{"owner":{"display_name":"user17544628"},"score":0,"creation_date":1638306757,"post_id":70175310,"comment_id":124052917,"body_markdown":"Thank you for the detailed response. I tried adding new properties in the main properties section of the pom.xml that reference the environment variable (i.e. `&lt;secret&gt;${env.SECRET}&lt;/secret&gt;`) but now I&#39;m seeing a slightly different error. It seems the test configuration (bootstrap-test.yaml) is viewing `&quot;${secret}&quot;` (with or without double quotes) as a literal value and not performing any string interpolation. I realize this is now a completely different concern from my original question. I want to say the method you described will work, but I&#39;m not sure...","body":"Thank you for the detailed response. I tried adding new properties in the main properties section of the pom.xml that reference the environment variable (i.e. <code>&lt;secret&gt;${env.SECRET}&lt;&#47;secret&gt;</code>) but now I&#39;m seeing a slightly different error. It seems the test configuration (bootstrap-test.yaml) is viewing <code>&quot;${secret}&quot;</code> (with or without double quotes) as a literal value and not performing any string interpolation. I realize this is now a completely different concern from my original question. I want to say the method you described will work, but I&#39;m not sure..."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1638317896,"post_id":70175310,"comment_id":124055726,"body_markdown":"you could try without jenkins.  Injecting the env var direct on the shell with `export TEST_USERNAME=john` , then in your pom.xml `${env.TEST_USERNAME}`, the running your maven command, directly on the shell : `mvn clean package`. If it works, with jenkins will work. If not works in the shell, will not work on jenkins.","body":"you could try without jenkins.  Injecting the env var direct on the shell with <code>export TEST_USERNAME=john</code> , then in your pom.xml <code>${env.TEST_USERNAME}</code>, the running your maven command, directly on the shell : <code>mvn clean package</code>. If it works, with jenkins will work. If not works in the shell, will not work on jenkins."},{"owner":{"display_name":"user17544628"},"score":0,"creation_date":1638367853,"post_id":70175310,"comment_id":124069125,"body_markdown":"Interesting findings based on your suggestions... running this project locally (on a Windows machine, by the way) after exporting the variables does in fact work, but does **not** work in Jenkins. The method that worked locally involved setting either the environment or system property variables in the Surefire plugin configuration section. I did prefix references to environment variables created by Jenkins with `env.`. I&#39;ll update my question based on these findings.","body":"Interesting findings based on your suggestions... running this project locally (on a Windows machine, by the way) after exporting the variables does in fact work, but does <b>not</b> work in Jenkins. The method that worked locally involved setting either the environment or system property variables in the Surefire plugin configuration section. I did prefix references to environment variables created by Jenkins with <code>env.</code>. I&#39;ll update my question based on these findings."},{"owner":{"display_name":"user17544628"},"score":0,"creation_date":1638372048,"post_id":70175310,"comment_id":124071143,"body_markdown":"Added one more update about verifying Jenkins environment variables through the Maven antrun plugin.","body":"Added one more update about verifying Jenkins environment variables through the Maven antrun plugin."},{"owner":{"display_name":"user17544628"},"score":0,"creation_date":1638808103,"post_id":70175310,"comment_id":124180404,"body_markdown":"Really bizarre finding - I was originally calling Maven with `mvn clean install -f ./pom.xml...`, as folks have the ability to adjust where their POM is located (but encouraged to follow Maven conventions). It turns out something really weird was happening when passing &#39;./pom.xml&#39; to Maven, but &#39;pom.xml&#39; actually manages to resolve the environment variables perfectly fine. I have no clue why this is happening, but I&#39;m going to accept your answer as it logically makes sense.","body":"Really bizarre finding - I was originally calling Maven with <code>mvn clean install -f .&#47;pom.xml...</code>, as folks have the ability to adjust where their POM is located (but encouraged to follow Maven conventions). It turns out something really weird was happening when passing &#39;./pom.xml&#39; to Maven, but &#39;pom.xml&#39; actually manages to resolve the environment variables perfectly fine. I have no clue why this is happening, but I&#39;m going to accept your answer as it logically makes sense."}],"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638302295,"creation_date":1638302295,"answer_id":70175310,"question_id":70161188,"body_markdown":"I tried on a fresh jenkins and it works as expected. If plugin(java class) is able to read environment variables and jenkins inject environment variables, everything should work.\r\n\r\nI think your error is the environment variable syntax. Accoding to [this](https://stackoverflow.com/a/10463133/3957754) you should use **${env.VARIABLE_NAME}** to use **environment variables** in a pom.xml. So in your case, your pom.xml should be like this:\r\n\r\n``` \r\n&lt;test_username&gt;${env.TEST_USERNAME}&lt;/test_username&gt;\r\n&lt;test_username&gt;${env.TEST_PASSWORD}&lt;/test_username&gt;\r\n```\r\n\r\nAnd then inject the required variables with\r\n\r\n```\r\nwithCredentials([\r\n    [\r\n        $class: &#39;UsernamePasswordMultiBinding&#39;, \r\n        credentialsId: &#39;TEST&#39;, \r\n        usernameVariable: &#39;TEST_USERNAME&#39;, \r\n        passwordVariable: &#39;TEST_PASSWORD&#39;\r\n    ]\r\n]) {\r\n    sh &#39;mvn clean install&#39;\r\n}\r\n```\r\n\r\n### Java system properties and environment variables\r\n\r\nWhen you use `-Dmykey = value` on any java implementation, you are setting a System property, **not an environment variable**. Check this:\r\n\r\n- https://stackoverflow.com/questions/7054972/java-system-properties-and-environment-variables","title":"Pass Jenkins credentials to Maven Surefire plugin","body":"<p>I tried on a fresh jenkins and it works as expected. If plugin(java class) is able to read environment variables and jenkins inject environment variables, everything should work.</p>\n<p>I think your error is the environment variable syntax. Accoding to <a href=\"https://stackoverflow.com/a/10463133/3957754\">this</a> you should use <strong>${env.VARIABLE_NAME}</strong> to use <strong>environment variables</strong> in a pom.xml. So in your case, your pom.xml should be like this:</p>\n<pre><code>&lt;test_username&gt;${env.TEST_USERNAME}&lt;/test_username&gt;\n&lt;test_username&gt;${env.TEST_PASSWORD}&lt;/test_username&gt;\n</code></pre>\n<p>And then inject the required variables with</p>\n<pre><code>withCredentials([\n    [\n        $class: 'UsernamePasswordMultiBinding', \n        credentialsId: 'TEST', \n        usernameVariable: 'TEST_USERNAME', \n        passwordVariable: 'TEST_PASSWORD'\n    ]\n]) {\n    sh 'mvn clean install'\n}\n</code></pre>\n<h3>Java system properties and environment variables</h3>\n<p>When you use <code>-Dmykey = value</code> on any java implementation, you are setting a System property, <strong>not an environment variable</strong>. Check this:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7054972/java-system-properties-and-environment-variables\">Java system properties and environment variables</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1638835608,"post_id":70248706,"comment_id":124188994,"body_markdown":"explanation: Microsoft Windows. Thanks to divine providence, the real servers are Linux &lt;3","body":"explanation: Microsoft Windows. Thanks to divine providence, the real servers are Linux &lt;3"}],"tags":[],"owner":{"display_name":"user17544628"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638808287,"creation_date":1638808287,"answer_id":70248706,"question_id":70161188,"body_markdown":"This is incredibly bizarre, but how one specifies the POM location seems to make a difference. Originally I was supplying `-f ./pom.xml` to Maven and the environment variables could not be resolved. On a complete whim I supplied `f pom.xml` (no &#39;./&#39;) and the environment variables where resolved successfully.\r\n\r\nUnfortunately I have no idea why this makes a difference, but will update my answer if I manage to uncover more details down the road...","title":"Pass Jenkins credentials to Maven Surefire plugin","body":"<p>This is incredibly bizarre, but how one specifies the POM location seems to make a difference. Originally I was supplying <code>-f ./pom.xml</code> to Maven and the environment variables could not be resolved. On a complete whim I supplied <code>f pom.xml</code> (no './') and the environment variables where resolved successfully.</p>\n<p>Unfortunately I have no idea why this makes a difference, but will update my answer if I manage to uncover more details down the road...</p>\n"}],"owner":{"display_name":"user17544628"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70175310,"answer_count":2,"score":0,"last_activity_date":1669753210,"creation_date":1638219199,"question_id":70161188,"body_markdown":"**Use Case**\r\n\r\nI am developing a templated pipeline solution so teams can build, test and scan their projects consistently with every job run in Jenkins. One of these projects uses Maven for dependency management and requires passing Jenkins credentials so integration tests can be run.\r\n\r\n**Examples**\r\n\r\nPassing credentials via command line arguments works just fine. For example...\r\n\r\n```dsl\r\nwithCredentials([\r\n    [\r\n        $class: &#39;UsernamePasswordMultiBinding&#39;, \r\n        credentialsId: &#39;TEST&#39;, \r\n        usernameVariable: &#39;TEST_USERNAME&#39;, \r\n        passwordVariable: &#39;TEST_PASSWORD&#39;\r\n    ]\r\n]) {\r\n    sh &#39;mvn clean install -D test_username=$TEST_USERNAME -D test_password=$TEST_PASSWORD&#39;\r\n}\r\n```\r\n\r\nI&#39;d strongly prefer to pass these variables to the underlying plugins via each respective plugin&#39;s configuration (namely the Maven Surefire plugin). The justification for this preferred approach is to utilize a structured method to manage system properties. I&#39;ve tried a number of methods including passing arguments by setting the `&lt;argLines&gt;` element of the Surefire configuration and setting the `&lt;systemPropertyValues&gt;` element, but neither method is working. Also, it&#39;s preferred to reference these properties via a YAML file to achieve externalized configuration, but I am not opposed to other methods of accessing this information **if it&#39;s impossible to reference credential variables in a configuration file**.\r\n\r\n*pom.xml*\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.22.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- Tacking &#39;env.&#39; to the beginning of each variable name does not make a difference; tests still fail. --&gt;\r\n        &lt;argLines&gt;-D test_username=${TEST_USERNAME} -D test_password=${TEST_PASSWORD}&lt;/argLines&gt;\r\n        &lt;systemPropertyVariables&gt;\r\n            &lt;test_username&gt;${TEST_USERNAME}&lt;/test_username&gt;\r\n            &lt;test_username&gt;${TEST_PASSWORD}&lt;/test_username&gt;\r\n        &lt;/systemPropertyVariables&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n*bootstrap-test.yaml*\r\n\r\n```yaml\r\ndatasource:\r\n    jdbc_url: *omitted*\r\n    username: ${test_username}\r\n    password: ${test_password}\r\n```\r\n\r\n**Results**\r\n\r\nIf I try to run the tests in the Jenkins environment by specifying system properties in the configuration section, then the tests fail. As an aside I am passing these credentials off to Spring Boot, but the `entityManagerFactory` (`org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder`) fails to initialize.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [com/acme/Config.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: Unable to resolve persistence unit root URL\r\n```\r\n\r\nI fear the issue might be due to Spring Boot&#39;s inability to access obfuscated credentials, or trying to access system properties within a configuration file too late in Maven&#39;s lifecycle. \r\n\r\nI am also not entirely opposed to passing system properties via command line, but the templated solution will need to include an effective (secure) way to round up different credential types to pass off to the Maven invocation.\r\n\r\n---\r\n\r\n**UPDATE 1**:\r\n\r\nRunning this project locally (on a Windows machine, by the way) after exporting the variables does in fact work, but does **not work** in Jenkins. The method that worked locally involved setting either the environment or system property variables in the Surefire plugin configuration section. I did prefix references to environment variables created by Jenkins with `env.`.\r\n\r\n---\r\n\r\n**UPDATE 2**:\r\n\r\nUsing the Maven antrun plugin I was able to echo the masked secrets exported by Jenkins.","title":"Pass Jenkins credentials to Maven Surefire plugin","body":"<p><strong>Use Case</strong></p>\n<p>I am developing a templated pipeline solution so teams can build, test and scan their projects consistently with every job run in Jenkins. One of these projects uses Maven for dependency management and requires passing Jenkins credentials so integration tests can be run.</p>\n<p><strong>Examples</strong></p>\n<p>Passing credentials via command line arguments works just fine. For example...</p>\n<pre><code>withCredentials([\n    [\n        $class: 'UsernamePasswordMultiBinding', \n        credentialsId: 'TEST', \n        usernameVariable: 'TEST_USERNAME', \n        passwordVariable: 'TEST_PASSWORD'\n    ]\n]) {\n    sh 'mvn clean install -D test_username=$TEST_USERNAME -D test_password=$TEST_PASSWORD'\n}\n</code></pre>\n<p>I'd strongly prefer to pass these variables to the underlying plugins via each respective plugin's configuration (namely the Maven Surefire plugin). The justification for this preferred approach is to utilize a structured method to manage system properties. I've tried a number of methods including passing arguments by setting the <code>&lt;argLines&gt;</code> element of the Surefire configuration and setting the <code>&lt;systemPropertyValues&gt;</code> element, but neither method is working. Also, it's preferred to reference these properties via a YAML file to achieve externalized configuration, but I am not opposed to other methods of accessing this information <strong>if it's impossible to reference credential variables in a configuration file</strong>.</p>\n<p><em>pom.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!-- Tacking 'env.' to the beginning of each variable name does not make a difference; tests still fail. --&gt;\n        &lt;argLines&gt;-D test_username=${TEST_USERNAME} -D test_password=${TEST_PASSWORD}&lt;/argLines&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;test_username&gt;${TEST_USERNAME}&lt;/test_username&gt;\n            &lt;test_username&gt;${TEST_PASSWORD}&lt;/test_username&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><em>bootstrap-test.yaml</em></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasource:\n    jdbc_url: *omitted*\n    username: ${test_username}\n    password: ${test_password}\n</code></pre>\n<p><strong>Results</strong></p>\n<p>If I try to run the tests in the Jenkins environment by specifying system properties in the configuration section, then the tests fail. As an aside I am passing these credentials off to Spring Boot, but the <code>entityManagerFactory</code> (<code>org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder</code>) fails to initialize.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/acme/Config.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: Unable to resolve persistence unit root URL\n</code></pre>\n<p>I fear the issue might be due to Spring Boot's inability to access obfuscated credentials, or trying to access system properties within a configuration file too late in Maven's lifecycle.</p>\n<p>I am also not entirely opposed to passing system properties via command line, but the templated solution will need to include an effective (secure) way to round up different credential types to pass off to the Maven invocation.</p>\n<hr />\n<p><strong>UPDATE 1</strong>:</p>\n<p>Running this project locally (on a Windows machine, by the way) after exporting the variables does in fact work, but does <strong>not work</strong> in Jenkins. The method that worked locally involved setting either the environment or system property variables in the Surefire plugin configuration section. I did prefix references to environment variables created by Jenkins with <code>env.</code>.</p>\n<hr />\n<p><strong>UPDATE 2</strong>:</p>\n<p>Using the Maven antrun plugin I was able to echo the masked secrets exported by Jenkins.</p>\n"},{"tags":["java","android","gradle","build","apk"],"comments":[{"owner":{"account_id":75304,"reputation":11310,"user_id":2438460,"accept_rate":81,"display_name":"Ye Lin Aung"},"score":1,"creation_date":1437123434,"post_id":31471844,"comment_id":50909320,"body_markdown":"Can you post your gradle logs as well?","body":"Can you post your gradle logs as well?"},{"owner":{"account_id":3131417,"reputation":2305,"user_id":2649104,"accept_rate":65,"display_name":"Srujan Barai"},"score":0,"creation_date":1484749689,"post_id":31471844,"comment_id":70638475,"body_markdown":"Any success? Im having the same issue","body":"Any success? Im having the same issue"}],"answers":[{"comments":[{"owner":{"account_id":6634994,"reputation":423,"user_id":5122382,"display_name":"Danila Grigorenko"},"score":0,"creation_date":1437123504,"post_id":31471943,"comment_id":50909356,"body_markdown":"Of course you should change `storePassword &quot;pass&quot;, keyAlias &quot;alias&quot;, keyPassword &quot;keypass&quot;`","body":"Of course you should change <code>storePassword &quot;pass&quot;, keyAlias &quot;alias&quot;, keyPassword &quot;keypass&quot;</code>"}],"tags":[],"owner":{"account_id":6634994,"reputation":423,"user_id":5122382,"display_name":"Danila Grigorenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437123451,"creation_date":1437123451,"answer_id":31471943,"question_id":31471844,"body_markdown":"Add this to `app/build.gradle:` to `android` section:\r\n\r\n    signingConfigs {\r\n    \r\n            release {\r\n    \r\n                storeFile file(&#39;../../android-release-key.keystore&#39;)\r\n                storePassword &quot;pass&quot;\r\n                keyAlias &quot;alias&quot;\r\n                keyPassword &quot;keypass&quot;\r\n    \r\n            }\r\n        }\r\n    buildTypes {\r\n    \r\n            release {\r\n    \r\n                signingConfig signingConfigs.release\r\n            }\r\n        }","title":"Android Studio 1.2.2, build successful but no apk in build/output?","body":"<p>Add this to <code>app/build.gradle:</code> to <code>android</code> section:</p>\n\n<pre><code>signingConfigs {\n\n        release {\n\n            storeFile file('../../android-release-key.keystore')\n            storePassword \"pass\"\n            keyAlias \"alias\"\n            keyPassword \"keypass\"\n\n        }\n    }\nbuildTypes {\n\n        release {\n\n            signingConfig signingConfigs.release\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1333089,"reputation":7030,"user_id":1276495,"accept_rate":60,"display_name":"Mohammad Arman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437123557,"creation_date":1437123557,"answer_id":31471981,"question_id":31471844,"body_markdown":"After successful build, **run** your application. Then you will get the **APK folder** inside of the **app/build** folder.","title":"Android Studio 1.2.2, build successful but no apk in build/output?","body":"<p>After successful build, <strong>run</strong> your application. Then you will get the <strong>APK folder</strong> inside of the <strong>app/build</strong> folder.</p>\n"},{"tags":[],"owner":{"account_id":2393497,"reputation":1372,"user_id":2092850,"display_name":"Beyka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437125681,"creation_date":1437125681,"answer_id":31472698,"question_id":31471844,"body_markdown":"By default Android Studio 1.2.2 store apks in build-&gt; artifacts-&gt;project_name-&gt;aproject_name.apk","title":"Android Studio 1.2.2, build successful but no apk in build/output?","body":"<p>By default Android Studio 1.2.2 store apks in build-> artifacts->project_name->aproject_name.apk</p>\n"},{"tags":[],"owner":{"account_id":3031960,"reputation":855,"user_id":2570783,"accept_rate":43,"display_name":"Jason Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437816920,"creation_date":1437816920,"answer_id":31625077,"question_id":31471844,"body_markdown":"The Executing tasks of make project command in Android Studio 1.2.2 are different from those in the previous version. In 1.2.2 , the executing tasks are [:app:compileDebugSources, :app:compileDebugAndroidTestSources]  while in previous version the executing tasks are [:app:assembleDebug, :lib:bundleDebug]. That is why you can not find .apk.You can get the .apk by running your application.","title":"Android Studio 1.2.2, build successful but no apk in build/output?","body":"<p>The Executing tasks of make project command in Android Studio 1.2.2 are different from those in the previous version. In 1.2.2 , the executing tasks are [:app:compileDebugSources, :app:compileDebugAndroidTestSources]  while in previous version the executing tasks are [:app:assembleDebug, :lib:bundleDebug]. That is why you can not find .apk.You can get the .apk by running your application.</p>\n"},{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445506609,"creation_date":1445506609,"answer_id":33277870,"question_id":31471844,"body_markdown":"Open messages tab then open Information:See complete output in console \r\n`This will show you more details about what happened` ","title":"Android Studio 1.2.2, build successful but no apk in build/output?","body":"<p>Open messages tab then open Information:See complete output in console \n<code>This will show you more details about what happened</code> </p>\n"},{"tags":[],"owner":{"account_id":7052244,"reputation":816,"user_id":6745536,"display_name":"iamattiq1991"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669753186,"creation_date":1669753186,"answer_id":74619850,"question_id":31471844,"body_markdown":"I was using Azure DevOps and my case issue was related to gradle task that I was providing. \r\n\r\nWrong task:\r\n\r\n    - task: Gradle@3\r\n      displayName: &#39;gradlew $(Build.DefinitionName)&#39;\r\n      inputs:\r\n        tasks: &#39;bundleskyandroid&#39;\r\n\r\n \r\nChanged to assembleskyandroid and it worked. \r\n\r\n    - task: Gradle@3\r\n      displayName: &#39;gradlew $(Build.DefinitionName)&#39;\r\n      inputs:\r\n        tasks: &#39;assembleskyandroid&#39;\r\n\r\nMy build.gradle file\r\n\r\n \r\n\r\n    productFlavors \r\n            { \r\n              skyandroid \r\n              {\r\n                  applicationId &#39;io.xxxxxx.skyandroid&#39;\r\n                  versionCode 7\r\n                  versionName &#39;1.10&#39;\r\n                  manifestPlaceholders = [manifestApplicationId: &quot;${applicationId}&quot;]\r\n                  signingConfig signingConfigs.skyandroid\r\n              }\r\n            }\r\n\r\n","title":"Android Studio 1.2.2, build successful but no apk in build/output?","body":"<p>I was using Azure DevOps and my case issue was related to gradle task that I was providing.</p>\n<p>Wrong task:</p>\n<pre><code>- task: Gradle@3\n  displayName: 'gradlew $(Build.DefinitionName)'\n  inputs:\n    tasks: 'bundleskyandroid'\n</code></pre>\n<p>Changed to assembleskyandroid and it worked.</p>\n<pre><code>- task: Gradle@3\n  displayName: 'gradlew $(Build.DefinitionName)'\n  inputs:\n    tasks: 'assembleskyandroid'\n</code></pre>\n<p>My build.gradle file</p>\n<pre><code>productFlavors \n        { \n          skyandroid \n          {\n              applicationId 'io.xxxxxx.skyandroid'\n              versionCode 7\n              versionName '1.10'\n              manifestPlaceholders = [manifestApplicationId: &quot;${applicationId}&quot;]\n              signingConfig signingConfigs.skyandroid\n          }\n        }\n</code></pre>\n"}],"owner":{"account_id":6641019,"reputation":81,"user_id":5126716,"display_name":"Aaron Noseday"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6291,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1669753186,"creation_date":1437123138,"question_id":31471844,"body_markdown":"I began a few days ago with Android Studio 1.2.2 in order to make some simple app by curiosity. I did a first one and was able to get the .apk without any problem in app&gt;build&gt;output.\r\n\r\nBut since yesterday I can&#39;t get any .apk in output folder although build is successful. Maybe have I done an unintentional mistake ? I see .gradle and output directories are excluded (folder is red) and I&#39;ve got the problem since it is, why are those excluded and what would be the manipulation to solve this ?\r\n\r\n[Here&#39;s a screenshot][1]\r\n\r\nI&#39;ve searched and read some threads but didn&#39;t manage to find the solution to my problem, I guess it must be simple but as a noob I still can&#39;t figure some things :)\r\n\r\nThanks a lot for your help,\r\n\r\nAaron \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qsh1h.jpg","title":"Android Studio 1.2.2, build successful but no apk in build/output?","body":"<p>I began a few days ago with Android Studio 1.2.2 in order to make some simple app by curiosity. I did a first one and was able to get the .apk without any problem in app>build>output.</p>\n\n<p>But since yesterday I can't get any .apk in output folder although build is successful. Maybe have I done an unintentional mistake ? I see .gradle and output directories are excluded (folder is red) and I've got the problem since it is, why are those excluded and what would be the manipulation to solve this ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/qsh1h.jpg\" rel=\"noreferrer\">Here's a screenshot</a></p>\n\n<p>I've searched and read some threads but didn't manage to find the solution to my problem, I guess it must be simple but as a noob I still can't figure some things :)</p>\n\n<p>Thanks a lot for your help,</p>\n\n<p>Aaron </p>\n"},{"tags":["java","save","file-location"],"comments":[{"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"score":0,"creation_date":1669752760,"post_id":74619505,"comment_id":131713360,"body_markdown":"What do you mean by &quot;the project file location&quot;? Do you mean where the code is executing from?","body":"What do you mean by &quot;the project file location&quot;? Do you mean where the code is executing from?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669758427,"post_id":74619505,"comment_id":131714856,"body_markdown":"I’m not sure what you’re trying to accomplish.  If you want to make an image viewer, you don’t need to copy the files.","body":"I’m not sure what you’re trying to accomplish.  If you want to make an image viewer, you don’t need to copy the files."}],"answers":[{"comments":[{"owner":{"account_id":19566044,"reputation":3,"user_id":14318177,"display_name":"Kai Kishpaugh"},"score":0,"creation_date":1669782528,"post_id":74619818,"comment_id":131718992,"body_markdown":"all I am looking for is a way to use a JFileChooser to retrieve a file from my PC, and programmatically save it as a file inside the source folder of a java project.","body":"all I am looking for is a way to use a JFileChooser to retrieve a file from my PC, and programmatically save it as a file inside the source folder of a java project."}],"tags":[],"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669753028,"creation_date":1669753028,"answer_id":74619818,"question_id":74619505,"body_markdown":"`System.getProperty(&quot;user.dir&quot;)` will return the path for the current working dir. I&#39;m assuming that&#39;s what you mean. Then it&#39;s just using what you suggested to write the file out.\r\n\r\n```\r\nvar workingDir = System.getProperty(&quot;user.dir&quot;);\r\nvar outputfile = new File(workingDir + &quot;/saved.png&quot;);\r\nImageIO.write(yourBufferedImage, &quot;png&quot;, outputfile);\r\n```\r\n\r\nSomething like that anyway.","title":"How do I save image file into java project file location from JFileChooser?","body":"<p><code>System.getProperty(&quot;user.dir&quot;)</code> will return the path for the current working dir. I'm assuming that's what you mean. Then it's just using what you suggested to write the file out.</p>\n<pre><code>var workingDir = System.getProperty(&quot;user.dir&quot;);\nvar outputfile = new File(workingDir + &quot;/saved.png&quot;);\nImageIO.write(yourBufferedImage, &quot;png&quot;, outputfile);\n</code></pre>\n<p>Something like that anyway.</p>\n"}],"owner":{"account_id":19566044,"reputation":3,"user_id":14318177,"display_name":"Kai Kishpaugh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669753028,"creation_date":1669751331,"question_id":74619505,"body_markdown":"I am retrieving an image file with the following lines of code...\r\n\r\nHow do I make sure it ends up in the project file location?\r\n\r\n```\r\npublic void run() {\r\n    JFileChooser fileChooser = new JFileChooser();\r\n    fileChooser.setFileFilter(new FileNameExtensionFilter(&quot;Images&quot;, &quot;jpg&quot;, &quot;png&quot;));\r\n    while (fileChooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {\r\n        try {\r\n            File f = fileChooser.getSelectedFile();  \r\n            BufferedImage thisImage = ImageIO.read(f);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI assume I am supposed to use ImageIO.write() in some way?? Nothing I have dont works.\r\n\r\nTwo things I&#39;ve tried:\r\n\r\n```\r\nFiles.copy(f.toPath(), new File(System.getProperty(&quot;user.dir&quot;)).toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n```\r\n\r\n`ImageIO.write(thisImage, &quot;png&quot;, f); `","title":"How do I save image file into java project file location from JFileChooser?","body":"<p>I am retrieving an image file with the following lines of code...</p>\n<p>How do I make sure it ends up in the project file location?</p>\n<pre><code>public void run() {\n    JFileChooser fileChooser = new JFileChooser();\n    fileChooser.setFileFilter(new FileNameExtensionFilter(&quot;Images&quot;, &quot;jpg&quot;, &quot;png&quot;));\n    while (fileChooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {\n        try {\n            File f = fileChooser.getSelectedFile();  \n            BufferedImage thisImage = ImageIO.read(f);\n        }\n    }\n}\n</code></pre>\n<p>I assume I am supposed to use ImageIO.write() in some way?? Nothing I have dont works.</p>\n<p>Two things I've tried:</p>\n<pre><code>Files.copy(f.toPath(), new File(System.getProperty(&quot;user.dir&quot;)).toPath(), StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n<p><code>ImageIO.write(thisImage, &quot;png&quot;, f); </code></p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1669752408,"post_id":74619577,"comment_id":131713268,"body_markdown":"String sql2 = &quot;select * from message where inboxId = &quot;+ inboxId;","body":"String sql2 = &quot;select * from message where inboxId = &quot;+ inboxId;"},{"owner":{"account_id":26675525,"reputation":19,"user_id":20286317,"display_name":"stackunderflow3"},"score":0,"creation_date":1669753901,"post_id":74619577,"comment_id":131713710,"body_markdown":"@PaulMarcelinBejan I did that but im getting error &quot;local variable inboxId may not have been intialized&quot;. I initialized it in the while loop. Does that mean the value is only initialized within the scope of the while loop? If so how can I fix this.","body":"@PaulMarcelinBejan I did that but im getting error &quot;local variable inboxId may not have been intialized&quot;. I initialized it in the while loop. Does that mean the value is only initialized within the scope of the while loop? If so how can I fix this."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1669754274,"post_id":74619577,"comment_id":131713818,"body_markdown":"It is trying to tell you that there is a possibility that the while condition can be false, this means that you can&#39;t use the variable until you assign a value to it.","body":"It is trying to tell you that there is a possibility that the while condition can be false, this means that you can&#39;t use the variable until you assign a value to it."},{"owner":{"account_id":26675525,"reputation":19,"user_id":20286317,"display_name":"stackunderflow3"},"score":0,"creation_date":1669754481,"post_id":74619577,"comment_id":131713875,"body_markdown":"Ok thanks I initialized it to zero then.","body":"Ok thanks I initialized it to zero then."}],"answers":[{"comments":[{"owner":{"account_id":26675525,"reputation":19,"user_id":20286317,"display_name":"stackunderflow3"},"score":0,"creation_date":1669754045,"post_id":74619726,"comment_id":131713755,"body_markdown":"I did &quot;String sql2 = &quot;select * from message where inboxId = &quot;+ inboxId;&quot; I did that but im getting error &quot;local variable inboxId may not have been intialized&quot;. I initialized it in the while loop. Does that mean the value is only initialized within the scope of the while loop? If so how can I fix this.","body":"I did &quot;String sql2 = &quot;select * from message where inboxId = &quot;+ inboxId;&quot; I did that but im getting error &quot;local variable inboxId may not have been intialized&quot;. I initialized it in the while loop. Does that mean the value is only initialized within the scope of the while loop? If so how can I fix this."}],"tags":[],"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669752556,"creation_date":1669752556,"answer_id":74619726,"question_id":74619577,"body_markdown":"`String sql2 = &quot;select * from message where inboxId = &quot; + 1234;`\r\n\r\n1234 could be a variable. You could also use `String.format()` to do it as well.\r\n\r\n`String sql2 = String.format(&quot;select * from message where inboxId = %d&quot;, 1234);`\r\n            ","title":"How can I pass integer into string for sql query","body":"<p><code>String sql2 = &quot;select * from message where inboxId = &quot; + 1234;</code></p>\n<p>1234 could be a variable. You could also use <code>String.format()</code> to do it as well.</p>\n<p><code>String sql2 = String.format(&quot;select * from message where inboxId = %d&quot;, 1234);</code></p>\n"},{"comments":[{"owner":{"account_id":26675525,"reputation":19,"user_id":20286317,"display_name":"stackunderflow3"},"score":0,"creation_date":1669754040,"post_id":74619816,"comment_id":131713754,"body_markdown":"I did &quot;String sql2 = &quot;select * from message where inboxId = &quot;+ inboxId;&quot; I did that but im getting error &quot;local variable inboxId may not have been intialized&quot;. I initialized it in the while loop. Does that mean the value is only initialized within the scope of the while loop? If so how can I fix this.","body":"I did &quot;String sql2 = &quot;select * from message where inboxId = &quot;+ inboxId;&quot; I did that but im getting error &quot;local variable inboxId may not have been intialized&quot;. I initialized it in the while loop. Does that mean the value is only initialized within the scope of the while loop? If so how can I fix this."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1669759153,"post_id":74619816,"comment_id":131715029,"body_markdown":"Since you only set it inside the while look, the compiles is unable to determine that it will always be initialized and it may not actually be initialized (if the first call to rs.next() returned false).\nSolve by initializing it to a reasonable value.  Possibly `int inboxId = -1;`  I assume that -1 will never be a real value in the db.","body":"Since you only set it inside the while look, the compiles is unable to determine that it will always be initialized and it may not actually be initialized (if the first call to rs.next() returned false). Solve by initializing it to a reasonable value.  Possibly <code>int inboxId = -1;</code>  I assume that -1 will never be a real value in the db."},{"owner":{"account_id":26675525,"reputation":19,"user_id":20286317,"display_name":"stackunderflow3"},"score":0,"creation_date":1669937445,"post_id":74619816,"comment_id":131762882,"body_markdown":"Hi how would I be able to do this if there are 2 unknown values for variables. Please take a look. In this statement both senderID and receiverID are unknown. This is the sql statement: &quot;select * from message where senderID = ? AND receiverID = ?&quot;. Both senderID and receiverID are pass are arguments for this method. But how can I pass them in the SQL query.","body":"Hi how would I be able to do this if there are 2 unknown values for variables. Please take a look. In this statement both senderID and receiverID are unknown. This is the sql statement: &quot;select * from message where senderID = ? AND receiverID = ?&quot;. Both senderID and receiverID are pass are arguments for this method. But how can I pass them in the SQL query."},{"owner":{"account_id":26675525,"reputation":19,"user_id":20286317,"display_name":"stackunderflow3"},"score":0,"creation_date":1669937925,"post_id":74619816,"comment_id":131762955,"body_markdown":"I tried the following: String sql2 = &quot;select * from message where senderID = ? AND recieverID = ?&quot;; \n            p = con.prepareStatement(sql2);\n            rs = p.executeQuery();\n            p.setInt(1, senderId);\n            p.setInt(1, recieverId);","body":"I tried the following: String sql2 = &quot;select * from message where senderID = ? AND recieverID = ?&quot;;              p = con.prepareStatement(sql2);             rs = p.executeQuery();             p.setInt(1, senderId);             p.setInt(1, recieverId);"}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669753018,"creation_date":1669753018,"answer_id":74619816,"question_id":74619577,"body_markdown":"Try this:\r\n\r\n```java\r\n  String sql2 = &quot;select * from message where inboxId = ?&quot;; //The ? indicates a variable in the prepared statement.\r\n  p = con.prepareStatement(sql2);\r\n  p.setInt(1, inboxId);\r\n  rs = p.executeQuery();\r\n```","title":"How can I pass integer into string for sql query","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  String sql2 = &quot;select * from message where inboxId = ?&quot;; //The ? indicates a variable in the prepared statement.\n  p = con.prepareStatement(sql2);\n  p.setInt(1, inboxId);\n  rs = p.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":26675525,"reputation":19,"user_id":20286317,"display_name":"stackunderflow3"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669753018,"creation_date":1669751730,"question_id":74619577,"body_markdown":"I have written a program that extracts data from an SQL table:\r\n\r\n\r\n\r\n        \r\n```\r\nString url = &quot;jdbc:mysql://localhost/petcare&quot;;\r\n\t\tString password = &quot;ParkSideRoad161997&quot;;\r\n\t\tString username = &quot;root&quot;;\r\n        // Step 2: Making connection using\r\n        // Connection type and inbuilt function on\r\n//        Connection con = null;\r\n        PreparedStatement p = null;\r\n        ResultSet rs = null;\r\n \r\n        // Try block to catch exception/s\r\n        try {\r\n        \tConnection con = DriverManager.getConnection(url, username, password);\r\n            // SQL command data stored in String datatype\r\n            String sql = &quot;select * from inbox&quot;;\r\n            p = con.prepareStatement(sql);\r\n            rs = p.executeQuery();\r\n \r\n            // Printing ID, name, email of customers\r\n            // of the SQL command above\r\n            System.out.println(&quot;inboxId&quot;);\r\n            int inboxId;\r\n \r\n            // Condition check\r\n            while (rs.next()) {\r\n \r\n                  inboxId = rs.getInt(&quot;InboxId&quot;);\r\n//                System.out.println(inboxId);\r\n            }\r\n            \r\n            String sql2 = &quot;select * from message where inboxId = int&quot;;//this is where i need help\r\n            p = con.prepareStatement(sql2);\r\n            rs = p.executeQuery();\r\n         \r\n            // Printing ID, name, email of customers\r\n            // of the SQL command above\r\n            System.out.println(&quot;Inbox:&quot;);\r\n            \r\n        }\r\n \r\n        // Catch block to handle exception\r\n        catch (SQLException e) {\r\n \r\n            // Print exception pop-up on screen\r\n            System.out.println(e);\r\n        }\r\n```\r\n\r\nOnce I get the inboxId, I want to run sql2 and pass inboxId as int. How can I do this. Each user will have a different inboxId so thats why to get the user inbox I want to extract and messages in the message table that are meant for inboxId of the user. \r\n\r\n\r\nI tried the query string sql and it works now I just need to fix String sql2. ","title":"How can I pass integer into string for sql query","body":"<p>I have written a program that extracts data from an SQL table:</p>\n<pre><code>String url = &quot;jdbc:mysql://localhost/petcare&quot;;\n        String password = &quot;ParkSideRoad161997&quot;;\n        String username = &quot;root&quot;;\n        // Step 2: Making connection using\n        // Connection type and inbuilt function on\n//        Connection con = null;\n        PreparedStatement p = null;\n        ResultSet rs = null;\n \n        // Try block to catch exception/s\n        try {\n            Connection con = DriverManager.getConnection(url, username, password);\n            // SQL command data stored in String datatype\n            String sql = &quot;select * from inbox&quot;;\n            p = con.prepareStatement(sql);\n            rs = p.executeQuery();\n \n            // Printing ID, name, email of customers\n            // of the SQL command above\n            System.out.println(&quot;inboxId&quot;);\n            int inboxId;\n \n            // Condition check\n            while (rs.next()) {\n \n                  inboxId = rs.getInt(&quot;InboxId&quot;);\n//                System.out.println(inboxId);\n            }\n            \n            String sql2 = &quot;select * from message where inboxId = int&quot;;//this is where i need help\n            p = con.prepareStatement(sql2);\n            rs = p.executeQuery();\n         \n            // Printing ID, name, email of customers\n            // of the SQL command above\n            System.out.println(&quot;Inbox:&quot;);\n            \n        }\n \n        // Catch block to handle exception\n        catch (SQLException e) {\n \n            // Print exception pop-up on screen\n            System.out.println(e);\n        }\n</code></pre>\n<p>Once I get the inboxId, I want to run sql2 and pass inboxId as int. How can I do this. Each user will have a different inboxId so thats why to get the user inbox I want to extract and messages in the message table that are meant for inboxId of the user.</p>\n<p>I tried the query string sql and it works now I just need to fix String sql2.</p>\n"},{"tags":["java","android","sqlite","radio-button","android-sqlite"],"answers":[{"comments":[{"owner":{"account_id":27078367,"reputation":11,"user_id":20627891,"display_name":"Dookii Piking"},"score":0,"creation_date":1669747147,"post_id":74611802,"comment_id":131711696,"body_markdown":"I updated the code. Could you please check it and help me figuring this out.","body":"I updated the code. Could you please check it and help me figuring this out."},{"owner":{"account_id":27078367,"reputation":11,"user_id":20627891,"display_name":"Dookii Piking"},"score":0,"creation_date":1669753607,"post_id":74611802,"comment_id":131713634,"body_markdown":"I used your example above for the radiobutton, but as you can see from the code, it reads from a text file, and there is an error with columns.","body":"I used your example above for the radiobutton, but as you can see from the code, it reads from a text file, and there is an error with columns."},{"owner":{"account_id":27078367,"reputation":11,"user_id":20627891,"display_name":"Dookii Piking"},"score":0,"creation_date":1669753750,"post_id":74611802,"comment_id":131713672,"body_markdown":"Maybe I&#39;m not inserting your example correctly into mine.","body":"Maybe I&#39;m not inserting your example correctly into mine."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1669774277,"post_id":74611802,"comment_id":131717796,"body_markdown":"@DookiiPiking certainly your addData method works **IF** passed an SQLiteDatabase object (as I used your MySQLite code), additionally getData works (again used in the additional section of the answer). So it&#39;s either your loadDataFromAsset (suggest add some logging and examine the log, not by any chance a trapped exception).","body":"@DookiiPiking certainly your addData method works <b>IF</b> passed an SQLiteDatabase object (as I used your MySQLite code), additionally getData works (again used in the additional section of the answer). So it&#39;s either your loadDataFromAsset (suggest add some logging and examine the log, not by any chance a trapped exception)."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669752734,"creation_date":1669714308,"answer_id":74611802,"question_id":74607559,"body_markdown":"I&#39;d suggest building the WHERE clause based upon the radio buttons and as some would suggest binding the search arguments to protect against SQL injection.\r\n\r\ne.g. something along the lines of:-\r\n\r\n    public Cursor getData(String value, boolean price_rb, boolean type_rb, boolean power_rb, boolean weight_rb, boolean country_rb, boolean name_rb) {\r\n\r\n        ArrayList&lt;String&gt; intermediateWhereArgs = new ArrayList&lt;&gt;();\r\n\r\n        StringBuilder whereClause = new StringBuilder();\r\n        if (value.length() &lt; 1 || (!price_rb &amp;&amp; !type_rb &amp;&amp; !power_rb &amp;&amp; !weight_rb &amp;&amp; !country_rb &amp;&amp; !name_rb)) {\r\n            whereClause = null;\r\n        } else {\r\n            if(price_rb) {\r\n                if (whereClause.length() &gt; 0) {\r\n                    whereClause.append(&quot; OR &quot;);\r\n                }\r\n                whereClause.append(PRICE_COLUMN + &quot; LIKE ?&quot;);\r\n                intermediateWhereArgs.add(value);\r\n            }\r\n            if(type_rb) {\r\n                if (whereClause.length() &gt; 0) {\r\n                    whereClause.append(&quot; OR &quot;);\r\n                }\r\n                whereClause.append(TYPE_COLUMN + &quot; LIKE ?&quot;);\r\n                intermediateWhereArgs.add(value);\r\n            }\r\n            if(power_rb) {\r\n                if (whereClause.length() &gt; 0) {\r\n                    whereClause.append(&quot; OR &quot;);\r\n                }\r\n                whereClause.append(POWER_COLUMN + &quot; LIKE ?&quot;);\r\n                intermediateWhereArgs.add(value);\r\n            }\r\n            if(weight_rb) {\r\n                if (whereClause.length() &gt; 0) {\r\n                    whereClause.append(&quot; OR &quot;);\r\n                }\r\n                whereClause.append(WEIGHT_COLUMN + &quot; LIKE ?&quot;);\r\n                intermediateWhereArgs.add(value);\r\n            }\r\n            if(country_rb) {\r\n                if (whereClause.length() &gt; 0) {\r\n                    whereClause.append(&quot; OR &quot;);\r\n                }\r\n                whereClause.append(COUNTRY_COLUMN + &quot; LIKE ?&quot;);\r\n                intermediateWhereArgs.add(value);\r\n            }\r\n            if(name_rb) {\r\n                if (whereClause.length() &gt; 0) {\r\n                    whereClause.append(&quot; OR &quot;);\r\n                }\r\n                whereClause.append(NAME_COLUMN + &quot; LIKE ?&quot;);\r\n                intermediateWhereArgs.add(value);\r\n            }\r\n        }\r\n        String[] whereArgs = null;\r\n        if (intermediateWhereArgs.size() &gt; 0) {\r\n            whereArgs = new String[intermediateWhereArgs.size()];\r\n            for (int i=0; i &lt; intermediateWhereArgs.size(); i++) {\r\n                whereArgs[i] = intermediateWhereArgs.get(i);\r\n            }\r\n        }\r\n        String actualWhereClause = &quot;&quot;;\r\n        if (whereClause != null) {\r\n            actualWhereClause = whereClause.toString();\r\n        }\r\n        return this.getWritableDatabase().query(TABLE_NAME,null,actualWhereClause,whereArgs,null,null,NAME_COLUMN);\r\n    }\r\n\r\nI&#39;m not sure this is exactly what you want do perhaps consider this working example that utilises the above.\r\n\r\nFirst **DatabaseHelper** (which includes the above) :-\r\n\r\n    class DatabaseHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DATABASE_NAME = &quot;the_database.db&quot;;\r\n        public static final int DATABASE_VERSION = 1;\r\n        public static final String TABLE_NAME = &quot;the_table&quot;;\r\n        public static final String ID_COLUMN = BaseColumns._ID;\r\n        public static final String PRICE_COLUMN = &quot;price&quot;;\r\n        public static final String TYPE_COLUMN = &quot;type&quot;;\r\n        public static final String POWER_COLUMN = &quot;power&quot;;\r\n        public static final String WEIGHT_COLUMN = &quot;weight&quot;;\r\n        public static final String COUNTRY_COLUMN = &quot;country&quot;;\r\n        public static final String NAME_COLUMN = &quot;name&quot;;\r\n        public static final String TABLE_CREATE_SQL = &quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME + &quot;(&quot; +\r\n                ID_COLUMN + &quot; INTEGER PRIMARY KEY&quot; +\r\n                &quot;,&quot; + PRICE_COLUMN + &quot; TEXT&quot; +\r\n                &quot;,&quot; + TYPE_COLUMN + &quot; TEXT&quot; +\r\n                &quot;,&quot; + POWER_COLUMN + &quot; TEXT&quot; +\r\n                &quot;,&quot; + WEIGHT_COLUMN + &quot; TEXT&quot; +\r\n                &quot;,&quot; + COUNTRY_COLUMN + &quot; TEXT&quot; +\r\n                &quot;,&quot; + NAME_COLUMN + &quot; TEXT&quot; +\r\n                &quot;)&quot;;\r\n    \r\n        private SQLiteDatabase db;\r\n        private DatabaseHelper(Context context) {\r\n            super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n        }\r\n    \r\n        private static volatile DatabaseHelper instance;\r\n        public static DatabaseHelper getDatabaseHelperInstance(Context context) {\r\n            if (instance==null) {\r\n                instance = new DatabaseHelper(context);\r\n                instance.db = instance.getWritableDatabase();\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(TABLE_CREATE_SQL);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n    \r\n        }\r\n    \r\n        public long insert(Long id, String price, String type, String power, String weight, String country, String name) {\r\n            ContentValues cv = new ContentValues();\r\n            if (id !=null) {\r\n                cv.put(ID_COLUMN,id);\r\n            }\r\n            cv.put(PRICE_COLUMN,price);\r\n            cv.put(TYPE_COLUMN,type);\r\n            cv.put(POWER_COLUMN,power);\r\n            cv.put(WEIGHT_COLUMN,weight);\r\n            cv.put(COUNTRY_COLUMN,country);\r\n            cv.put(NAME_COLUMN,name);\r\n            long rv =  db.insert(TABLE_NAME,null,cv);\r\n            return rv;\r\n        }\r\n    \r\n        public long insert(String price, String type, String power, String weight, String country, String name) {\r\n            return insert(null,price,type,power,weight,country,name);\r\n        }\r\n        public Cursor getData(String value, boolean price_rb, boolean type_rb, boolean power_rb, boolean weight_rb, boolean country_rb, boolean name_rb) {\r\n    \r\n            ArrayList&lt;String&gt; intermediateWhereArgs = new ArrayList&lt;&gt;();\r\n    \r\n            StringBuilder whereClause = new StringBuilder();\r\n            if (value.length() &lt; 1 || (!price_rb &amp;&amp; !type_rb &amp;&amp; !power_rb &amp;&amp; !weight_rb &amp;&amp; !country_rb &amp;&amp; !name_rb)) {\r\n                whereClause = null;\r\n            } else {\r\n                if(price_rb) {\r\n                    if (whereClause.length() &gt; 0) {\r\n                        whereClause.append(&quot; OR &quot;);\r\n                    }\r\n                    whereClause.append(PRICE_COLUMN + &quot; LIKE ?&quot;);\r\n                    intermediateWhereArgs.add(value);\r\n                }\r\n                if(type_rb) {\r\n                    if (whereClause.length() &gt; 0) {\r\n                        whereClause.append(&quot; OR &quot;);\r\n                    }\r\n                    whereClause.append(TYPE_COLUMN + &quot; LIKE ?&quot;);\r\n                    intermediateWhereArgs.add(value);\r\n                }\r\n                if(power_rb) {\r\n                    if (whereClause.length() &gt; 0) {\r\n                        whereClause.append(&quot; OR &quot;);\r\n                    }\r\n                    whereClause.append(POWER_COLUMN + &quot; LIKE ?&quot;);\r\n                    intermediateWhereArgs.add(value);\r\n                }\r\n                if(weight_rb) {\r\n                    if (whereClause.length() &gt; 0) {\r\n                        whereClause.append(&quot; OR &quot;);\r\n                    }\r\n                    whereClause.append(WEIGHT_COLUMN + &quot; LIKE ?&quot;);\r\n                    intermediateWhereArgs.add(value);\r\n                }\r\n                if(country_rb) {\r\n                    if (whereClause.length() &gt; 0) {\r\n                        whereClause.append(&quot; OR &quot;);\r\n                    }\r\n                    whereClause.append(COUNTRY_COLUMN + &quot; LIKE ?&quot;);\r\n                    intermediateWhereArgs.add(value);\r\n                }\r\n                if(name_rb) {\r\n                    if (whereClause.length() &gt; 0) {\r\n                        whereClause.append(&quot; OR &quot;);\r\n                    }\r\n                    whereClause.append(NAME_COLUMN + &quot; LIKE ?&quot;);\r\n                    intermediateWhereArgs.add(value);\r\n                }\r\n            }\r\n            String[] whereArgs = null;\r\n            if (intermediateWhereArgs.size() &gt; 0) {\r\n                whereArgs = new String[intermediateWhereArgs.size()];\r\n                for (int i=0; i &lt; intermediateWhereArgs.size(); i++) {\r\n                    whereArgs[i] = intermediateWhereArgs.get(i);\r\n                }\r\n            }\r\n            String actualWhereClause = &quot;&quot;;\r\n            if (whereClause != null) {\r\n                actualWhereClause = whereClause.toString();\r\n            }\r\n            return this.getWritableDatabase().query(TABLE_NAME,null,actualWhereClause,whereArgs,null,null,NAME_COLUMN);\r\n        }\r\n    }\r\n\r\nSome Activity code which utilises the above. The activity has a Radio Button group (so only 1 button can be selected). \r\n\r\nThe resultant data is listed in a ListView that uses a SimpleCursorAdapater. The data is refreshed every time a button is clicked, the data displayed dependant upon the text in the edit text. If empty, then ALL rows are displayed. Otherwise the respective button determines the filter.\r\n\r\n- where this may or may differ is that only a single filter is aplied as only 1 button can be checked with a RadioGroup. If multiple radio buttons can be clicked then the filter will be on multiple columns (untested so may need tweaking accordingly).\r\n\r\n**MainActivity** :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        EditText inputValue;\r\n        RadioGroup radioGroup;\r\n        RadioButton priceRadioButton;\r\n        RadioButton powerRadioButton;\r\n        RadioButton typeRadioButton;\r\n        RadioButton weightRadioButton;\r\n        RadioButton countryRadioButton;\r\n        RadioButton nameRadioButton;\r\n        ListView listView;\r\n        DatabaseHelper databaseHelper;\r\n        SimpleCursorAdapter sca;\r\n        Cursor csr;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            inputValue = this.findViewById(R.id.value_edittext);\r\n            radioGroup = this.findViewById(R.id.filter_radiogroup);\r\n            priceRadioButton = this.findViewById(R.id.price_radiobutton);\r\n            powerRadioButton = this.findViewById(R.id.power_radiobutton);\r\n            typeRadioButton = this.findViewById(R.id.type_radiobutton);\r\n            weightRadioButton = this.findViewById(R.id.weight_radiobutton);\r\n            countryRadioButton = this.findViewById(R.id.country_radiobutton);\r\n            nameRadioButton = this.findViewById(R.id.name_radiobutton);\r\n            radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup radioGroup, int i) {\r\n                    setupOrRefreshListView();\r\n                }\r\n            });\r\n            listView = this.findViewById(R.id.list);\r\n            databaseHelper = DatabaseHelper.getDatabaseHelperInstance(this);\r\n            addSomeData();\r\n            setupOrRefreshListView();\r\n        }\r\n    \r\n        private void setupOrRefreshListView() {\r\n            csr = databaseHelper.getData(\r\n                    inputValue.getText().toString(),\r\n                    priceRadioButton.isChecked(),\r\n                    typeRadioButton.isChecked(),\r\n                    powerRadioButton.isChecked(),\r\n                    weightRadioButton.isChecked(),\r\n                    countryRadioButton.isChecked(),\r\n                    nameRadioButton.isChecked()\r\n            );\r\n            if (sca==null) {\r\n                sca = new SimpleCursorAdapter(\r\n                        this,\r\n                        android.R.layout.simple_list_item_2,\r\n                        csr,\r\n                        new String[]{\r\n                                DatabaseHelper.ID_COLUMN,\r\n                                DatabaseHelper.NAME_COLUMN\r\n                        },\r\n                        new int[]{\r\n                                android.R.id.text1,\r\n                                android.R.id.text2\r\n                        },\r\n                        0\r\n                );\r\n                listView.setAdapter(sca);\r\n            } else {\r\n                sca.swapCursor(csr);\r\n            }\r\n        }\r\n    \r\n        private void addSomeData() {\r\n            databaseHelper.insert(&quot;10&quot;,&quot;type1&quot;,&quot;high&quot;,&quot;heavy&quot;,&quot;Australia&quot;,&quot;Fred&quot;);\r\n            databaseHelper.insert(&quot;100&quot;,&quot;type2&quot;,&quot;medium&quot;,&quot;medium&quot;,&quot;France&quot;,&quot;Mary&quot;);\r\n            databaseHelper.insert(&quot;1000&quot;,&quot;type3&quot;,&quot;normal&quot;,&quot;normal&quot;,&quot;England&quot;,&quot;Sue&quot;);\r\n            databaseHelper.insert(&quot;10000&quot;,&quot;type4&quot;,&quot;low&quot;,&quot;light&quot;,&quot;Germany&quot;,&quot;Tom&quot;);\r\n            databaseHelper.insert(&quot;100000&quot;,&quot;type5&quot;,&quot;none&quot;,&quot;very light&quot;,&quot;Spain&quot;,&quot;Jane&quot;);\r\n        }\r\n    }\r\n\r\n----\r\n\r\n**Demo Run**\r\n\r\n----\r\n\r\nWhen run (only designed to run once, otherwise it will duplicate the data) the database is loaded with data (as per the `addSomeData` method):-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the device shows :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n- for brevity just the id and the name are shown (rather than use a custom layout).\r\n\r\n- i.e. all of the 5 rows added are displayed as expected.\r\n\r\nIf a button is clicked/checked then, as there is no text in the edit text, then the same data is displayed (but the button can be seen to be checked)\r\n\r\nIf text is added let&#39;s say 10 and the Price button (first) is checked (sorry for brevity/convenience labels not added) then:-\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIf 1000 then Sue etc.\r\n\r\nIf 1000% then Jane, Sue and Tom (1% or 10% would show all).\r\n\r\nNo data is shown if any of the other buttons are checked.\r\n\r\nIf %e% (or %E% as LIKE is not case dependant) is input then:-\r\n\r\n- the Price button shows nothing.\r\n- the Type button (second) shows all 5 ( as per typ**e**)\r\n- The Power button (third) shows Jane and Mary (non**e** and m**e**dium)\r\n    - e.g. \r\n\r\n    - [![enter image description here][4]][4]\r\n\r\nand so on.\r\n\r\n**Additional re comment**\r\n\r\n&gt; I updated the code. Could you please check it and help me figuring this out.\r\n\r\nYour issue is not with the filter SQL but that you are trying to update the **textView** from another thread and that isn&#39;t happening.\r\n\r\n\r\nIf you add a line to write the result of the filer to the log e.g.:-\r\n\r\n                       textView.post(new Runnable() {\r\n                            public void run() {\r\n                                System.out.println(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; LINE ADDED FOR DEBUG\r\n                                textView.setText(data);\r\n                            }\r\n                        });\r\n\r\n\r\nThe you will see that the log includes the expected result e.g. *(run using your MySQlite code)*\r\n\r\n    2022-11-30 06:47:13.971 13016-13056/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE &#39;%f%&#39; OR type LIKE &#39;%f%&#39; OR power LIKE &#39;%f%&#39; OR weight LIKE &#39;%f%&#39; OR country LIKE &#39;%f%&#39; OR name LIKE &#39;%f%&#39;) ORDER BY name\r\n    2022-11-30 06:47:13.986 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:13.986 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:13.986 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:13.986 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:14.132 13016-13057/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE &#39;%fr%&#39; OR type LIKE &#39;%fr%&#39; OR power LIKE &#39;%fr%&#39; OR weight LIKE &#39;%fr%&#39; OR country LIKE &#39;%fr%&#39; OR name LIKE &#39;%fr%&#39;) ORDER BY name\r\n    2022-11-30 06:47:14.155 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:14.155 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:14.155 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:14.155 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.367 13016-13058/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE &#39;%fre%&#39; OR type LIKE &#39;%fre%&#39; OR power LIKE &#39;%fre%&#39; OR weight LIKE &#39;%fre%&#39; OR country LIKE &#39;%fre%&#39; OR name LIKE &#39;%fre%&#39;) ORDER BY name\r\n    2022-11-30 06:47:18.388 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.388 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.388 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.388 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.564 13016-13059/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE &#39;%fred%&#39; OR type LIKE &#39;%fred%&#39; OR power LIKE &#39;%fred%&#39; OR weight LIKE &#39;%fred%&#39; OR country LIKE &#39;%fred%&#39; OR name LIKE &#39;%fred%&#39;) ORDER BY name\r\n    2022-11-30 06:47:18.583 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.583 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.583 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \r\n    2022-11-30 06:47:18.583 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia:\r\n\r\n- as can be seen for each character entered in the EditText results in the filter being applied so result after entering **f**, another result after entering **r** (so edit text is **fr**) and so on\r\n\r\n**BUT** the extracted data is not reflected in the **textView** TextView.\r\n\r\nAdding the method to the activity code:-\r\n\r\n    private void refreshTextView(String filteredDataResult) {\r\n        textView.setText(filteredDataResult);\r\n    }\r\n\r\nAnd then using:-\r\n\r\n                        textView.post(new Runnable() {\r\n                            public void run() {\r\n                                System.out.println(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; REMOVE WHEN HAPPY WITH RESULT\r\n                                //textView.setText(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COMMENTED OUT\r\n                                refreshTextView(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; LINE ADDED\r\n                            }\r\n                        });\r\n\r\nThe result being :-\r\n\r\n\r\nWhen first run:-\r\n\r\n[![enter image description here][5]][5]\r\n\r\n- Hello World being the initial value as per the layout.\r\n\r\nEnter **f** and :-\r\n\r\n[![enter image description here][6]][6]\r\n\r\nChange to **h** and :-\r\n\r\n[![enter image description here][7]][7]\r\n\r\n**x** and :-\r\n\r\n[![enter image description here][8]][8]\r\n\r\n- i.e. no data matches filter\r\n\r\nclear the input and all rows are displayed:-\r\n\r\n[![enter image description here][9]][9]\r\n\r\n**However**\r\n\r\nThe radio buttons serve no purpose, see the original answer for how you could make use of the radio buttons to effect the filter.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vLFLN.png\r\n  [2]: https://i.stack.imgur.com/O2opD.png\r\n  [3]: https://i.stack.imgur.com/w4P2o.png\r\n  [4]: https://i.stack.imgur.com/0YJdu.png\r\n  [5]: https://i.stack.imgur.com/Dzj7g.png\r\n  [6]: https://i.stack.imgur.com/mSvPm.png\r\n  [7]: https://i.stack.imgur.com/1Zpv6.png\r\n  [8]: https://i.stack.imgur.com/DzHYN.png\r\n  [9]: https://i.stack.imgur.com/ss5ow.png","title":"How to make radioButton as SQLite filter in Android Studio?","body":"<p>I'd suggest building the WHERE clause based upon the radio buttons and as some would suggest binding the search arguments to protect against SQL injection.</p>\n<p>e.g. something along the lines of:-</p>\n<pre><code>public Cursor getData(String value, boolean price_rb, boolean type_rb, boolean power_rb, boolean weight_rb, boolean country_rb, boolean name_rb) {\n\n    ArrayList&lt;String&gt; intermediateWhereArgs = new ArrayList&lt;&gt;();\n\n    StringBuilder whereClause = new StringBuilder();\n    if (value.length() &lt; 1 || (!price_rb &amp;&amp; !type_rb &amp;&amp; !power_rb &amp;&amp; !weight_rb &amp;&amp; !country_rb &amp;&amp; !name_rb)) {\n        whereClause = null;\n    } else {\n        if(price_rb) {\n            if (whereClause.length() &gt; 0) {\n                whereClause.append(&quot; OR &quot;);\n            }\n            whereClause.append(PRICE_COLUMN + &quot; LIKE ?&quot;);\n            intermediateWhereArgs.add(value);\n        }\n        if(type_rb) {\n            if (whereClause.length() &gt; 0) {\n                whereClause.append(&quot; OR &quot;);\n            }\n            whereClause.append(TYPE_COLUMN + &quot; LIKE ?&quot;);\n            intermediateWhereArgs.add(value);\n        }\n        if(power_rb) {\n            if (whereClause.length() &gt; 0) {\n                whereClause.append(&quot; OR &quot;);\n            }\n            whereClause.append(POWER_COLUMN + &quot; LIKE ?&quot;);\n            intermediateWhereArgs.add(value);\n        }\n        if(weight_rb) {\n            if (whereClause.length() &gt; 0) {\n                whereClause.append(&quot; OR &quot;);\n            }\n            whereClause.append(WEIGHT_COLUMN + &quot; LIKE ?&quot;);\n            intermediateWhereArgs.add(value);\n        }\n        if(country_rb) {\n            if (whereClause.length() &gt; 0) {\n                whereClause.append(&quot; OR &quot;);\n            }\n            whereClause.append(COUNTRY_COLUMN + &quot; LIKE ?&quot;);\n            intermediateWhereArgs.add(value);\n        }\n        if(name_rb) {\n            if (whereClause.length() &gt; 0) {\n                whereClause.append(&quot; OR &quot;);\n            }\n            whereClause.append(NAME_COLUMN + &quot; LIKE ?&quot;);\n            intermediateWhereArgs.add(value);\n        }\n    }\n    String[] whereArgs = null;\n    if (intermediateWhereArgs.size() &gt; 0) {\n        whereArgs = new String[intermediateWhereArgs.size()];\n        for (int i=0; i &lt; intermediateWhereArgs.size(); i++) {\n            whereArgs[i] = intermediateWhereArgs.get(i);\n        }\n    }\n    String actualWhereClause = &quot;&quot;;\n    if (whereClause != null) {\n        actualWhereClause = whereClause.toString();\n    }\n    return this.getWritableDatabase().query(TABLE_NAME,null,actualWhereClause,whereArgs,null,null,NAME_COLUMN);\n}\n</code></pre>\n<p>I'm not sure this is exactly what you want do perhaps consider this working example that utilises the above.</p>\n<p>First <strong>DatabaseHelper</strong> (which includes the above) :-</p>\n<pre><code>class DatabaseHelper extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = &quot;the_database.db&quot;;\n    public static final int DATABASE_VERSION = 1;\n    public static final String TABLE_NAME = &quot;the_table&quot;;\n    public static final String ID_COLUMN = BaseColumns._ID;\n    public static final String PRICE_COLUMN = &quot;price&quot;;\n    public static final String TYPE_COLUMN = &quot;type&quot;;\n    public static final String POWER_COLUMN = &quot;power&quot;;\n    public static final String WEIGHT_COLUMN = &quot;weight&quot;;\n    public static final String COUNTRY_COLUMN = &quot;country&quot;;\n    public static final String NAME_COLUMN = &quot;name&quot;;\n    public static final String TABLE_CREATE_SQL = &quot;CREATE TABLE IF NOT EXISTS &quot; + TABLE_NAME + &quot;(&quot; +\n            ID_COLUMN + &quot; INTEGER PRIMARY KEY&quot; +\n            &quot;,&quot; + PRICE_COLUMN + &quot; TEXT&quot; +\n            &quot;,&quot; + TYPE_COLUMN + &quot; TEXT&quot; +\n            &quot;,&quot; + POWER_COLUMN + &quot; TEXT&quot; +\n            &quot;,&quot; + WEIGHT_COLUMN + &quot; TEXT&quot; +\n            &quot;,&quot; + COUNTRY_COLUMN + &quot; TEXT&quot; +\n            &quot;,&quot; + NAME_COLUMN + &quot; TEXT&quot; +\n            &quot;)&quot;;\n\n    private SQLiteDatabase db;\n    private DatabaseHelper(Context context) {\n        super(context,DATABASE_NAME,null,DATABASE_VERSION);\n    }\n\n    private static volatile DatabaseHelper instance;\n    public static DatabaseHelper getDatabaseHelperInstance(Context context) {\n        if (instance==null) {\n            instance = new DatabaseHelper(context);\n            instance.db = instance.getWritableDatabase();\n        }\n        return instance;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(TABLE_CREATE_SQL);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n\n    }\n\n    public long insert(Long id, String price, String type, String power, String weight, String country, String name) {\n        ContentValues cv = new ContentValues();\n        if (id !=null) {\n            cv.put(ID_COLUMN,id);\n        }\n        cv.put(PRICE_COLUMN,price);\n        cv.put(TYPE_COLUMN,type);\n        cv.put(POWER_COLUMN,power);\n        cv.put(WEIGHT_COLUMN,weight);\n        cv.put(COUNTRY_COLUMN,country);\n        cv.put(NAME_COLUMN,name);\n        long rv =  db.insert(TABLE_NAME,null,cv);\n        return rv;\n    }\n\n    public long insert(String price, String type, String power, String weight, String country, String name) {\n        return insert(null,price,type,power,weight,country,name);\n    }\n    public Cursor getData(String value, boolean price_rb, boolean type_rb, boolean power_rb, boolean weight_rb, boolean country_rb, boolean name_rb) {\n\n        ArrayList&lt;String&gt; intermediateWhereArgs = new ArrayList&lt;&gt;();\n\n        StringBuilder whereClause = new StringBuilder();\n        if (value.length() &lt; 1 || (!price_rb &amp;&amp; !type_rb &amp;&amp; !power_rb &amp;&amp; !weight_rb &amp;&amp; !country_rb &amp;&amp; !name_rb)) {\n            whereClause = null;\n        } else {\n            if(price_rb) {\n                if (whereClause.length() &gt; 0) {\n                    whereClause.append(&quot; OR &quot;);\n                }\n                whereClause.append(PRICE_COLUMN + &quot; LIKE ?&quot;);\n                intermediateWhereArgs.add(value);\n            }\n            if(type_rb) {\n                if (whereClause.length() &gt; 0) {\n                    whereClause.append(&quot; OR &quot;);\n                }\n                whereClause.append(TYPE_COLUMN + &quot; LIKE ?&quot;);\n                intermediateWhereArgs.add(value);\n            }\n            if(power_rb) {\n                if (whereClause.length() &gt; 0) {\n                    whereClause.append(&quot; OR &quot;);\n                }\n                whereClause.append(POWER_COLUMN + &quot; LIKE ?&quot;);\n                intermediateWhereArgs.add(value);\n            }\n            if(weight_rb) {\n                if (whereClause.length() &gt; 0) {\n                    whereClause.append(&quot; OR &quot;);\n                }\n                whereClause.append(WEIGHT_COLUMN + &quot; LIKE ?&quot;);\n                intermediateWhereArgs.add(value);\n            }\n            if(country_rb) {\n                if (whereClause.length() &gt; 0) {\n                    whereClause.append(&quot; OR &quot;);\n                }\n                whereClause.append(COUNTRY_COLUMN + &quot; LIKE ?&quot;);\n                intermediateWhereArgs.add(value);\n            }\n            if(name_rb) {\n                if (whereClause.length() &gt; 0) {\n                    whereClause.append(&quot; OR &quot;);\n                }\n                whereClause.append(NAME_COLUMN + &quot; LIKE ?&quot;);\n                intermediateWhereArgs.add(value);\n            }\n        }\n        String[] whereArgs = null;\n        if (intermediateWhereArgs.size() &gt; 0) {\n            whereArgs = new String[intermediateWhereArgs.size()];\n            for (int i=0; i &lt; intermediateWhereArgs.size(); i++) {\n                whereArgs[i] = intermediateWhereArgs.get(i);\n            }\n        }\n        String actualWhereClause = &quot;&quot;;\n        if (whereClause != null) {\n            actualWhereClause = whereClause.toString();\n        }\n        return this.getWritableDatabase().query(TABLE_NAME,null,actualWhereClause,whereArgs,null,null,NAME_COLUMN);\n    }\n}\n</code></pre>\n<p>Some Activity code which utilises the above. The activity has a Radio Button group (so only 1 button can be selected).</p>\n<p>The resultant data is listed in a ListView that uses a SimpleCursorAdapater. The data is refreshed every time a button is clicked, the data displayed dependant upon the text in the edit text. If empty, then ALL rows are displayed. Otherwise the respective button determines the filter.</p>\n<ul>\n<li>where this may or may differ is that only a single filter is aplied as only 1 button can be checked with a RadioGroup. If multiple radio buttons can be clicked then the filter will be on multiple columns (untested so may need tweaking accordingly).</li>\n</ul>\n<p><strong>MainActivity</strong> :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    EditText inputValue;\n    RadioGroup radioGroup;\n    RadioButton priceRadioButton;\n    RadioButton powerRadioButton;\n    RadioButton typeRadioButton;\n    RadioButton weightRadioButton;\n    RadioButton countryRadioButton;\n    RadioButton nameRadioButton;\n    ListView listView;\n    DatabaseHelper databaseHelper;\n    SimpleCursorAdapter sca;\n    Cursor csr;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        inputValue = this.findViewById(R.id.value_edittext);\n        radioGroup = this.findViewById(R.id.filter_radiogroup);\n        priceRadioButton = this.findViewById(R.id.price_radiobutton);\n        powerRadioButton = this.findViewById(R.id.power_radiobutton);\n        typeRadioButton = this.findViewById(R.id.type_radiobutton);\n        weightRadioButton = this.findViewById(R.id.weight_radiobutton);\n        countryRadioButton = this.findViewById(R.id.country_radiobutton);\n        nameRadioButton = this.findViewById(R.id.name_radiobutton);\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup radioGroup, int i) {\n                setupOrRefreshListView();\n            }\n        });\n        listView = this.findViewById(R.id.list);\n        databaseHelper = DatabaseHelper.getDatabaseHelperInstance(this);\n        addSomeData();\n        setupOrRefreshListView();\n    }\n\n    private void setupOrRefreshListView() {\n        csr = databaseHelper.getData(\n                inputValue.getText().toString(),\n                priceRadioButton.isChecked(),\n                typeRadioButton.isChecked(),\n                powerRadioButton.isChecked(),\n                weightRadioButton.isChecked(),\n                countryRadioButton.isChecked(),\n                nameRadioButton.isChecked()\n        );\n        if (sca==null) {\n            sca = new SimpleCursorAdapter(\n                    this,\n                    android.R.layout.simple_list_item_2,\n                    csr,\n                    new String[]{\n                            DatabaseHelper.ID_COLUMN,\n                            DatabaseHelper.NAME_COLUMN\n                    },\n                    new int[]{\n                            android.R.id.text1,\n                            android.R.id.text2\n                    },\n                    0\n            );\n            listView.setAdapter(sca);\n        } else {\n            sca.swapCursor(csr);\n        }\n    }\n\n    private void addSomeData() {\n        databaseHelper.insert(&quot;10&quot;,&quot;type1&quot;,&quot;high&quot;,&quot;heavy&quot;,&quot;Australia&quot;,&quot;Fred&quot;);\n        databaseHelper.insert(&quot;100&quot;,&quot;type2&quot;,&quot;medium&quot;,&quot;medium&quot;,&quot;France&quot;,&quot;Mary&quot;);\n        databaseHelper.insert(&quot;1000&quot;,&quot;type3&quot;,&quot;normal&quot;,&quot;normal&quot;,&quot;England&quot;,&quot;Sue&quot;);\n        databaseHelper.insert(&quot;10000&quot;,&quot;type4&quot;,&quot;low&quot;,&quot;light&quot;,&quot;Germany&quot;,&quot;Tom&quot;);\n        databaseHelper.insert(&quot;100000&quot;,&quot;type5&quot;,&quot;none&quot;,&quot;very light&quot;,&quot;Spain&quot;,&quot;Jane&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Demo Run</strong></p>\n<hr />\n<p>When run (only designed to run once, otherwise it will duplicate the data) the database is loaded with data (as per the <code>addSomeData</code> method):-</p>\n<p><a href=\"https://i.stack.imgur.com/vLFLN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vLFLN.png\" alt=\"enter image description here\" /></a></p>\n<p>And the device shows :-</p>\n<p><a href=\"https://i.stack.imgur.com/O2opD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2opD.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>for brevity just the id and the name are shown (rather than use a custom layout).</p>\n</li>\n<li><p>i.e. all of the 5 rows added are displayed as expected.</p>\n</li>\n</ul>\n<p>If a button is clicked/checked then, as there is no text in the edit text, then the same data is displayed (but the button can be seen to be checked)</p>\n<p>If text is added let's say 10 and the Price button (first) is checked (sorry for brevity/convenience labels not added) then:-</p>\n<p><a href=\"https://i.stack.imgur.com/w4P2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w4P2o.png\" alt=\"enter image description here\" /></a></p>\n<p>If 1000 then Sue etc.</p>\n<p>If 1000% then Jane, Sue and Tom (1% or 10% would show all).</p>\n<p>No data is shown if any of the other buttons are checked.</p>\n<p>If %e% (or %E% as LIKE is not case dependant) is input then:-</p>\n<ul>\n<li>the Price button shows nothing.</li>\n<li>the Type button (second) shows all 5 ( as per typ<strong>e</strong>)</li>\n<li>The Power button (third) shows Jane and Mary (non<strong>e</strong> and m<strong>e</strong>dium)\n<ul>\n<li><p>e.g.</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/0YJdu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0YJdu.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n</li>\n</ul>\n<p>and so on.</p>\n<p><strong>Additional re comment</strong></p>\n<blockquote>\n<p>I updated the code. Could you please check it and help me figuring this out.</p>\n</blockquote>\n<p>Your issue is not with the filter SQL but that you are trying to update the <strong>textView</strong> from another thread and that isn't happening.</p>\n<p>If you add a line to write the result of the filer to the log e.g.:-</p>\n<pre><code>                   textView.post(new Runnable() {\n                        public void run() {\n                            System.out.println(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; LINE ADDED FOR DEBUG\n                            textView.setText(data);\n                        }\n                    });\n</code></pre>\n<p>The you will see that the log includes the expected result e.g. <em>(run using your MySQlite code)</em></p>\n<pre><code>2022-11-30 06:47:13.971 13016-13056/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE '%f%' OR type LIKE '%f%' OR power LIKE '%f%' OR weight LIKE '%f%' OR country LIKE '%f%' OR name LIKE '%f%') ORDER BY name\n2022-11-30 06:47:13.986 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:13.986 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:13.986 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:13.986 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:14.132 13016-13057/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE '%fr%' OR type LIKE '%fr%' OR power LIKE '%fr%' OR weight LIKE '%fr%' OR country LIKE '%fr%' OR name LIKE '%fr%') ORDER BY name\n2022-11-30 06:47:14.155 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:14.155 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:14.155 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:14.155 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.367 13016-13058/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE '%fre%' OR type LIKE '%fre%' OR power LIKE '%fre%' OR weight LIKE '%fre%' OR country LIKE '%fre%' OR name LIKE '%fre%') ORDER BY name\n2022-11-30 06:47:18.388 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.388 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.388 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.388 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.564 13016-13059/a.a.so74607559javasqlitefilterbyradiobuttons I/System.out: SELECT  * FROM emergency_service WHERE (price LIKE '%fred%' OR type LIKE '%fred%' OR power LIKE '%fred%' OR weight LIKE '%fred%' OR country LIKE '%fred%' OR name LIKE '%fred%') ORDER BY name\n2022-11-30 06:47:18.583 I/System.out: 1) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.583 I/System.out: 2) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.583 I/System.out: 3) fred: 100.00: type2: Medium: Medium: Australia: \n2022-11-30 06:47:18.583 I/System.out: 4) fred: 100.00: type2: Medium: Medium: Australia:\n</code></pre>\n<ul>\n<li>as can be seen for each character entered in the EditText results in the filter being applied so result after entering <strong>f</strong>, another result after entering <strong>r</strong> (so edit text is <strong>fr</strong>) and so on</li>\n</ul>\n<p><strong>BUT</strong> the extracted data is not reflected in the <strong>textView</strong> TextView.</p>\n<p>Adding the method to the activity code:-</p>\n<pre><code>private void refreshTextView(String filteredDataResult) {\n    textView.setText(filteredDataResult);\n}\n</code></pre>\n<p>And then using:-</p>\n<pre><code>                    textView.post(new Runnable() {\n                        public void run() {\n                            System.out.println(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; REMOVE WHEN HAPPY WITH RESULT\n                            //textView.setText(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COMMENTED OUT\n                            refreshTextView(data); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; LINE ADDED\n                        }\n                    });\n</code></pre>\n<p>The result being :-</p>\n<p>When first run:-</p>\n<p><a href=\"https://i.stack.imgur.com/Dzj7g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dzj7g.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Hello World being the initial value as per the layout.</li>\n</ul>\n<p>Enter <strong>f</strong> and :-</p>\n<p><a href=\"https://i.stack.imgur.com/mSvPm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSvPm.png\" alt=\"enter image description here\" /></a></p>\n<p>Change to <strong>h</strong> and :-</p>\n<p><a href=\"https://i.stack.imgur.com/1Zpv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Zpv6.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>x</strong> and :-</p>\n<p><a href=\"https://i.stack.imgur.com/DzHYN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DzHYN.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>i.e. no data matches filter</li>\n</ul>\n<p>clear the input and all rows are displayed:-</p>\n<p><a href=\"https://i.stack.imgur.com/ss5ow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ss5ow.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>However</strong></p>\n<p>The radio buttons serve no purpose, see the original answer for how you could make use of the radio buttons to effect the filter.</p>\n"}],"owner":{"account_id":27078367,"reputation":11,"user_id":20627891,"display_name":"Dookii Piking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669752734,"creation_date":1669677955,"question_id":74607559,"body_markdown":"This code filters the SQL query by 6 filters: name, weight, country, power and type. How to make RadioButton element as a separate filter? I have 6 RadioButton elements. Each element for one filter. Weight radioButton to filter by weight, Country radioButton to filter by country etc.\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n    MySQLite\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Locale;\r\n    import java.util.StringTokenizer;\r\n    \r\n    public class MySQLite extends SQLiteOpenHelper {\r\n        private static final int DATABASE_VERSION = 4;\r\n    \r\n        static final String DATABASE_NAME = &quot;phones&quot;;\r\n    \r\n        static final String TABLE_NAME = &quot;emergency_service&quot;;\r\n        static final String ID = &quot;id&quot;;\r\n        static final String NAME = &quot;name&quot;;\r\n        static final String PRICE = &quot;price&quot;;\r\n        static final String TYPE = &quot;type&quot;;\r\n        static final String POWER = &quot;power&quot;;\r\n        static final String WEIGHT = &quot;weight&quot;;\r\n        static final String COUNTRY = &quot;country&quot;;\r\n    \r\n        static final String ASSETS_FILE_NAME = &quot;vacuumcleaner.txt&quot;;\r\n        static final String DATA_SEPARATOR = &quot;|&quot;;\r\n    \r\n        private Context context;\r\n    \r\n        public MySQLite(Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\r\n                    + ID + &quot; INTEGER PRIMARY KEY,&quot;\r\n                    + NAME + &quot; TEXT,&quot;\r\n                    + PRICE + &quot; TEXT,&quot;\r\n                    + TYPE + &quot; TEXT,&quot;\r\n                    + POWER + &quot; TEXT,&quot;\r\n                    + WEIGHT + &quot; TEXT,&quot;\r\n                    + COUNTRY + &quot; TEXT&quot; + &quot;)&quot;;\r\n            db.execSQL(CREATE_CONTACTS_TABLE);\r\n            System.out.println(CREATE_CONTACTS_TABLE);\r\n            loadDataFromAsset(context, ASSETS_FILE_NAME,  db);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n            System.out.println(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n            onCreate(db);\r\n        }\r\n    \r\n    \r\n        public void addData(SQLiteDatabase db, String name, String price, String type, String power, String weight, String country) {\r\n            ContentValues values = new ContentValues();\r\n            values.put(NAME, name);\r\n            values.put(PRICE, price);\r\n            values.put(TYPE, type);\r\n            values.put(POWER, power);\r\n            values.put(WEIGHT, weight);\r\n            values.put(COUNTRY, country);\r\n            db.insert(TABLE_NAME, null, values);\r\n        }\r\n    \r\n    \r\n        public void loadDataFromAsset(Context context, String fileName, SQLiteDatabase db) {\r\n            BufferedReader in = null;\r\n    \r\n            try {\r\n    \r\n                InputStream is = context.getAssets().open(fileName);\r\n    \r\n                in = new BufferedReader(new InputStreamReader(is));\r\n    \r\n                String str;\r\n                while ((str = in.readLine()) != null) {\r\n                    String strTrim = str.trim();\r\n                    if (!strTrim.equals(&quot;&quot;)) {\r\n                        StringTokenizer st = new StringTokenizer(strTrim, DATA_SEPARATOR);\r\n                        String name = st.nextToken().trim();\r\n                        String price = st.nextToken().trim();\r\n                        String type = st.nextToken().trim();\r\n                        String power = st.nextToken().trim();\r\n                        String weight = st.nextToken().trim();\r\n                        String country = st.nextToken().trim();\r\n                        addData(db, name, price, type, power, weight, country);\r\n                    }\r\n                }\r\n    \r\n    \r\n            } catch (IOException ignored) {\r\n            } finally {\r\n                if (in != null) {\r\n                    try {\r\n                        in.close();\r\n                    } catch (IOException ignored) {\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public String getData(String filter) {\r\n    \r\n            String selectQuery;\r\n    \r\n            if (filter.equals(&quot;&quot;)) {\r\n                selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY &quot; + NAME;\r\n            } else {\r\n                selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE (&quot; + PRICE + &quot; LIKE &#39;%&quot;  +\r\n                        filter.toLowerCase() + &quot;%&#39;&quot; +\r\n                        &quot; OR &quot; + TYPE + &quot; LIKE &#39;%&quot; + filter + &quot;%&#39;&quot; + &quot; OR &quot; +  POWER + &quot; LIKE &#39;%&quot; + filter + &quot;%&#39;&quot;\r\n                        + &quot; OR &quot; + WEIGHT + &quot; LIKE &#39;%&quot; + filter + &quot;%&#39;&quot; + &quot; OR &quot; + COUNTRY +\r\n                        &quot; LIKE &#39;%&quot; + filter + &quot;%&#39;&quot; + &quot; OR &quot; + NAME + &quot; LIKE &#39;%&quot; + filter + &quot;%&#39;&quot; +&quot;) ORDER BY &quot; + NAME;\r\n    \r\n            }\r\n    \r\n            System.out.println(selectQuery);\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n            Cursor cursor = db.rawQuery(selectQuery, null);\r\n    \r\n            StringBuilder data = new StringBuilder();\r\n    \r\n            int num = 0;\r\n            if (cursor.moveToFirst()) {\r\n                do {\r\n                    int n = cursor.getColumnIndex(NAME);\r\n                    int t = cursor.getColumnIndex(PRICE);\r\n                    int k = cursor.getColumnIndex(TYPE);\r\n                    int s = cursor.getColumnIndex(POWER);\r\n                    int a = cursor.getColumnIndex(WEIGHT);\r\n                    int d = cursor.getColumnIndex(COUNTRY);\r\n                    String name = cursor.getString(n);\r\n                    String price = cursor.getString(t);\r\n                    String type = cursor.getString(k);\r\n                    String power = cursor.getString(s);\r\n                    String weight = cursor.getString(a);\r\n                    String country = cursor.getString(d);\r\n                    data.append(String.valueOf(++num) + &quot;) &quot; + name + &quot;: &quot; + price + &quot;: &quot;+ type + &quot;: &quot; + power + &quot;: &quot; + weight + &quot;: &quot; + country + &quot;: &quot; +&quot;\\n&quot;);\r\n                } while (cursor.moveToNext());\r\n            }\r\n            return data.toString();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThis was SQLite class, here is MainActivity.java:\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        MainActivity\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.text.Editable;\r\n    import android.text.TextWatcher;\r\n    import android.util.TypedValue;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.TextView;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private final int LARGE_FONT = 16;\r\n        private final int SMALL_FONT = 12;\r\n        private int fontSize = SMALL_FONT;\r\n    \r\n        MySQLite db = new MySQLite(this);\r\n    \r\n        EditText editText;\r\n        TextView textView;\r\n        RadioGroup radioGroup;\r\n        RadioButton priceRadioButton;\r\n        RadioButton powerRadioButton;\r\n        RadioButton typeRadioButton;\r\n        RadioButton weightRadioButton;\r\n        RadioButton countryRadioButton;\r\n        RadioButton nameRadioButton;\r\n    \r\n    \r\n        static final String FILTER = &quot;FILTER&quot;;\r\n        String filter = &quot;&quot;;\r\n    \r\n        SharedPreferences sPref;\r\n        static final String CONFIG_FILE_NAME = &quot;Config&quot;;\r\n        static final String FONT_SIZE = &quot;FontSize&quot;;\r\n    \r\n        @Override\r\n        public void onSaveInstanceState(Bundle savedInstanceState) {\r\n            savedInstanceState.putString(FILTER, filter);\r\n            super.onSaveInstanceState(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    \r\n            editText = findViewById(R.id.editText);\r\n            textView = findViewById(R.id.textView);\r\n    \r\n            textView.setKeyListener(null);\r\n    \r\n    \r\n            sPref = getSharedPreferences(CONFIG_FILE_NAME, MODE_PRIVATE);\r\n            fontSize = sPref.getInt(FONT_SIZE, SMALL_FONT);\r\n    \r\n            textView.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize);\r\n            textView.requestFocus();\r\n    \r\n    \r\n            if (savedInstanceState != null) {\r\n                editText.setText(savedInstanceState.getString(FILTER));\r\n            }\r\n    \r\n            textView.setText(R.string.Загрузка_данных);\r\n    \r\n    \r\n            editText.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                }\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n    \r\n    \r\n                    new Thread(new Runnable() {\r\n                        public void run() {\r\n                            filter = editText.getText().toString().trim();\r\n                            final String data = db.getData(filter);\r\n                            textView.post(new Runnable() {\r\n                                public void run() {\r\n                                    textView.setText(data);\r\n                                }\r\n                            });\r\n                        }\r\n                    }).start();\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n    \r\n            editText.post(new Runnable() {\r\n                public void run() {\r\n                    editText.setText(filter);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n    \r\n            menu.findItem(R.id.large_font).setChecked(fontSize == LARGE_FONT);\r\n            return true;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            int id = item.getItemId();\r\n    \r\n            if (id == R.id.email) {\r\n                Intent i = new Intent(Intent.ACTION_SEND);\r\n                i.setType(&quot;message/rfc822&quot;);\r\n                i.putExtra(Intent.EXTRA_EMAIL, new String[]{getString(R.string.myemail)});\r\n                i.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.Добавьте_еще_номер));\r\n                i.putExtra(Intent.EXTRA_TEXT, getString(R.string.Предлагаю_такой_номер));\r\n                try {\r\n                    startActivity(Intent.createChooser(i, getString(R.string.Посылка_письма)));\r\n                } catch (android.content.ActivityNotFoundException ex) {\r\n                    Toast.makeText(MainActivity.this, R.string.Нет_установленного_почтового_клиента, Toast.LENGTH_SHORT).show();\r\n                }\r\n                return true;\r\n            }\r\n    \r\n            if (id == R.id.large_font) {\r\n                item.setChecked(!item.isChecked());\r\n                int size = item.isChecked() ? LARGE_FONT : SMALL_FONT;\r\n                textView.setTextSize(TypedValue.COMPLEX_UNIT_SP, size);\r\n                fontSize = size;\r\n                return true;\r\n            }\r\n    \r\n            if (id == R.id.exit) {\r\n                finish();\r\n                return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n    \r\n            SharedPreferences.Editor ed = sPref.edit();\r\n            ed.putInt(FONT_SIZE, fontSize);\r\n            ed.apply();\r\n        }\r\n    }\r\n\r\n","title":"How to make radioButton as SQLite filter in Android Studio?","body":"<p>This code filters the SQL query by 6 filters: name, weight, country, power and type. How to make RadioButton element as a separate filter? I have 6 RadioButton elements. Each element for one filter. Weight radioButton to filter by weight, Country radioButton to filter by country etc.</p>\n<pre><code>MySQLite\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.Locale;\nimport java.util.StringTokenizer;\n\npublic class MySQLite extends SQLiteOpenHelper {\n    private static final int DATABASE_VERSION = 4;\n\n    static final String DATABASE_NAME = &quot;phones&quot;;\n\n    static final String TABLE_NAME = &quot;emergency_service&quot;;\n    static final String ID = &quot;id&quot;;\n    static final String NAME = &quot;name&quot;;\n    static final String PRICE = &quot;price&quot;;\n    static final String TYPE = &quot;type&quot;;\n    static final String POWER = &quot;power&quot;;\n    static final String WEIGHT = &quot;weight&quot;;\n    static final String COUNTRY = &quot;country&quot;;\n\n    static final String ASSETS_FILE_NAME = &quot;vacuumcleaner.txt&quot;;\n    static final String DATA_SEPARATOR = &quot;|&quot;;\n\n    private Context context;\n\n    public MySQLite(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\n                + ID + &quot; INTEGER PRIMARY KEY,&quot;\n                + NAME + &quot; TEXT,&quot;\n                + PRICE + &quot; TEXT,&quot;\n                + TYPE + &quot; TEXT,&quot;\n                + POWER + &quot; TEXT,&quot;\n                + WEIGHT + &quot; TEXT,&quot;\n                + COUNTRY + &quot; TEXT&quot; + &quot;)&quot;;\n        db.execSQL(CREATE_CONTACTS_TABLE);\n        System.out.println(CREATE_CONTACTS_TABLE);\n        loadDataFromAsset(context, ASSETS_FILE_NAME,  db);\n    }\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        System.out.println(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(db);\n    }\n\n\n    public void addData(SQLiteDatabase db, String name, String price, String type, String power, String weight, String country) {\n        ContentValues values = new ContentValues();\n        values.put(NAME, name);\n        values.put(PRICE, price);\n        values.put(TYPE, type);\n        values.put(POWER, power);\n        values.put(WEIGHT, weight);\n        values.put(COUNTRY, country);\n        db.insert(TABLE_NAME, null, values);\n    }\n\n\n    public void loadDataFromAsset(Context context, String fileName, SQLiteDatabase db) {\n        BufferedReader in = null;\n\n        try {\n\n            InputStream is = context.getAssets().open(fileName);\n\n            in = new BufferedReader(new InputStreamReader(is));\n\n            String str;\n            while ((str = in.readLine()) != null) {\n                String strTrim = str.trim();\n                if (!strTrim.equals(&quot;&quot;)) {\n                    StringTokenizer st = new StringTokenizer(strTrim, DATA_SEPARATOR);\n                    String name = st.nextToken().trim();\n                    String price = st.nextToken().trim();\n                    String type = st.nextToken().trim();\n                    String power = st.nextToken().trim();\n                    String weight = st.nextToken().trim();\n                    String country = st.nextToken().trim();\n                    addData(db, name, price, type, power, weight, country);\n                }\n            }\n\n\n        } catch (IOException ignored) {\n        } finally {\n            if (in != null) {\n                try {\n                    in.close();\n                } catch (IOException ignored) {\n                }\n            }\n        }\n\n    }\n\n\n    public String getData(String filter) {\n\n        String selectQuery;\n\n        if (filter.equals(&quot;&quot;)) {\n            selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY &quot; + NAME;\n        } else {\n            selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE (&quot; + PRICE + &quot; LIKE '%&quot;  +\n                    filter.toLowerCase() + &quot;%'&quot; +\n                    &quot; OR &quot; + TYPE + &quot; LIKE '%&quot; + filter + &quot;%'&quot; + &quot; OR &quot; +  POWER + &quot; LIKE '%&quot; + filter + &quot;%'&quot;\n                    + &quot; OR &quot; + WEIGHT + &quot; LIKE '%&quot; + filter + &quot;%'&quot; + &quot; OR &quot; + COUNTRY +\n                    &quot; LIKE '%&quot; + filter + &quot;%'&quot; + &quot; OR &quot; + NAME + &quot; LIKE '%&quot; + filter + &quot;%'&quot; +&quot;) ORDER BY &quot; + NAME;\n\n        }\n\n        System.out.println(selectQuery);\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        StringBuilder data = new StringBuilder();\n\n        int num = 0;\n        if (cursor.moveToFirst()) {\n            do {\n                int n = cursor.getColumnIndex(NAME);\n                int t = cursor.getColumnIndex(PRICE);\n                int k = cursor.getColumnIndex(TYPE);\n                int s = cursor.getColumnIndex(POWER);\n                int a = cursor.getColumnIndex(WEIGHT);\n                int d = cursor.getColumnIndex(COUNTRY);\n                String name = cursor.getString(n);\n                String price = cursor.getString(t);\n                String type = cursor.getString(k);\n                String power = cursor.getString(s);\n                String weight = cursor.getString(a);\n                String country = cursor.getString(d);\n                data.append(String.valueOf(++num) + &quot;) &quot; + name + &quot;: &quot; + price + &quot;: &quot;+ type + &quot;: &quot; + power + &quot;: &quot; + weight + &quot;: &quot; + country + &quot;: &quot; +&quot;\\n&quot;);\n            } while (cursor.moveToNext());\n        }\n        return data.toString();\n    }\n\n}\n</code></pre>\n<p>This was SQLite class, here is MainActivity.java:</p>\n<pre><code>    MainActivity\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.TypedValue;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.EditText;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private final int LARGE_FONT = 16;\n    private final int SMALL_FONT = 12;\n    private int fontSize = SMALL_FONT;\n\n    MySQLite db = new MySQLite(this);\n\n    EditText editText;\n    TextView textView;\n    RadioGroup radioGroup;\n    RadioButton priceRadioButton;\n    RadioButton powerRadioButton;\n    RadioButton typeRadioButton;\n    RadioButton weightRadioButton;\n    RadioButton countryRadioButton;\n    RadioButton nameRadioButton;\n\n\n    static final String FILTER = &quot;FILTER&quot;;\n    String filter = &quot;&quot;;\n\n    SharedPreferences sPref;\n    static final String CONFIG_FILE_NAME = &quot;Config&quot;;\n    static final String FONT_SIZE = &quot;FontSize&quot;;\n\n    @Override\n    public void onSaveInstanceState(Bundle savedInstanceState) {\n        savedInstanceState.putString(FILTER, filter);\n        super.onSaveInstanceState(savedInstanceState);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        editText = findViewById(R.id.editText);\n        textView = findViewById(R.id.textView);\n\n        textView.setKeyListener(null);\n\n\n        sPref = getSharedPreferences(CONFIG_FILE_NAME, MODE_PRIVATE);\n        fontSize = sPref.getInt(FONT_SIZE, SMALL_FONT);\n\n        textView.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize);\n        textView.requestFocus();\n\n\n        if (savedInstanceState != null) {\n            editText.setText(savedInstanceState.getString(FILTER));\n        }\n\n        textView.setText(R.string.Загрузка_данных);\n\n\n        editText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n\n\n                new Thread(new Runnable() {\n                    public void run() {\n                        filter = editText.getText().toString().trim();\n                        final String data = db.getData(filter);\n                        textView.post(new Runnable() {\n                            public void run() {\n                                textView.setText(data);\n                            }\n                        });\n                    }\n                }).start();\n\n            }\n\n        });\n\n\n        editText.post(new Runnable() {\n            public void run() {\n                editText.setText(filter);\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n\n        menu.findItem(R.id.large_font).setChecked(fontSize == LARGE_FONT);\n        return true;\n    }\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n\n        if (id == R.id.email) {\n            Intent i = new Intent(Intent.ACTION_SEND);\n            i.setType(&quot;message/rfc822&quot;);\n            i.putExtra(Intent.EXTRA_EMAIL, new String[]{getString(R.string.myemail)});\n            i.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.Добавьте_еще_номер));\n            i.putExtra(Intent.EXTRA_TEXT, getString(R.string.Предлагаю_такой_номер));\n            try {\n                startActivity(Intent.createChooser(i, getString(R.string.Посылка_письма)));\n            } catch (android.content.ActivityNotFoundException ex) {\n                Toast.makeText(MainActivity.this, R.string.Нет_установленного_почтового_клиента, Toast.LENGTH_SHORT).show();\n            }\n            return true;\n        }\n\n        if (id == R.id.large_font) {\n            item.setChecked(!item.isChecked());\n            int size = item.isChecked() ? LARGE_FONT : SMALL_FONT;\n            textView.setTextSize(TypedValue.COMPLEX_UNIT_SP, size);\n            fontSize = size;\n            return true;\n        }\n\n        if (id == R.id.exit) {\n            finish();\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        SharedPreferences.Editor ed = sPref.edit();\n        ed.putInt(FONT_SIZE, fontSize);\n        ed.apply();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","serialization"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1669667912,"post_id":74605593,"comment_id":131690298,"body_markdown":"You can still use Java Serializable. It&#39;s [just not recommended, even in Java](https://foojay.io/today/avoid-java-serialization/). There&#39;s no way to specify &quot;type that is Kotlin serializable&quot;.","body":"You can still use Java Serializable. It&#39;s <a href=\"https://foojay.io/today/avoid-java-serialization/\" rel=\"nofollow noreferrer\">just not recommended, even in Java</a>. There&#39;s no way to specify &quot;type that is Kotlin serializable&quot;."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1669670391,"post_id":74605593,"comment_id":131690976,"body_markdown":"Worst case you can always create your own interface for anything you want to pass to implement.","body":"Worst case you can always create your own interface for anything you want to pass to implement."},{"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"score":0,"creation_date":1669697111,"post_id":74605593,"comment_id":131695584,"body_markdown":"I think you can say that you should pass the modal/POJO.","body":"I think you can say that you should pass the modal/POJO."},{"owner":{"account_id":3908710,"reputation":700,"user_id":3234641,"accept_rate":80,"display_name":"A-_-S"},"score":0,"creation_date":1669799559,"post_id":74605593,"comment_id":131722960,"body_markdown":"you can check this as an example of how to serialize a generic collection that holds value Any: (https://github.com/assafshouval/PolymorphicMapSerializer/blob/master/src/main/kotlin/Main.kt). or check my answer below","body":"you can check this as an example of how to serialize a generic collection that holds value Any: (<a href=\"https://github.com/assafshouval/PolymorphicMapSerializer/blob/master/src/main/kotlin/Main.kt\" rel=\"nofollow noreferrer\">github.com/assafshouval/PolymorphicMapSerializer/blob/maste&zwnj;&#8203;r/&hellip;</a>). or check my answer below"}],"answers":[{"tags":[],"owner":{"account_id":3908710,"reputation":700,"user_id":3234641,"accept_rate":80,"display_name":"A-_-S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669751752,"creation_date":1669751752,"answer_id":74619584,"question_id":74605593,"body_markdown":"it depends what exactly you need.\r\nBut you can for instance have this:  \r\n\r\n   \r\n\r\n    public foo&lt;T&gt;(data: T, serializer: KSerializer&lt;T&gt; ) {\r\n           // ...\r\n       }","title":"How to recieve any type of serializable object in Kotlin (Android)","body":"<p>it depends what exactly you need.\nBut you can for instance have this:</p>\n<pre><code>public foo&lt;T&gt;(data: T, serializer: KSerializer&lt;T&gt; ) {\n       // ...\n   }\n</code></pre>\n"}],"owner":{"account_id":15675204,"reputation":853,"user_id":11310616,"display_name":"Yonatan Avhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669751752,"creation_date":1669663501,"question_id":74605593,"body_markdown":"In Java, classes could implement the `java.io.Serializable` interface to allow serializing them, and any method that received serializable data as a parameter would look like so:\r\n\r\n```java\r\npublic void foo(Serializable data) {\r\n    // ...\r\n}\r\n```\r\n\r\nHowever, in Kotlin, we don&#39;t implement an interface to indicate that an object is serializable, instead, we use the `@kotlinx.serialization.Serializable` annotation on a class, meaning that there&#39;s no type that a function can take that would cover any serializable data.\r\n\r\nI could create my own interface and implement that on any serializable type I create, but that won&#39;t work if I wanted to pass an object I didn&#39;t write into the function. For example, a `List&lt;T&gt;`, or a `HashMap&lt;K, V&gt;`, etc.\r\n\r\nIs there a way to write a function that can receive *any* kind of serializable data?","title":"How to recieve any type of serializable object in Kotlin (Android)","body":"<p>In Java, classes could implement the <code>java.io.Serializable</code> interface to allow serializing them, and any method that received serializable data as a parameter would look like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo(Serializable data) {\n    // ...\n}\n</code></pre>\n<p>However, in Kotlin, we don't implement an interface to indicate that an object is serializable, instead, we use the <code>@kotlinx.serialization.Serializable</code> annotation on a class, meaning that there's no type that a function can take that would cover any serializable data.</p>\n<p>I could create my own interface and implement that on any serializable type I create, but that won't work if I wanted to pass an object I didn't write into the function. For example, a <code>List&lt;T&gt;</code>, or a <code>HashMap&lt;K, V&gt;</code>, etc.</p>\n<p>Is there a way to write a function that can receive <em>any</em> kind of serializable data?</p>\n"},{"tags":["java","user-interface","javafx","fxml","javafx-11"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1669741847,"post_id":74617617,"comment_id":131709922,"body_markdown":"Why not just call `mTableView.getItems()` to get the sorted, filtered list. Then you can check if it’s empty, get elements from it, etc.","body":"Why not just call <code>mTableView.getItems()</code> to get the sorted, filtered list. Then you can check if it’s empty, get elements from it, etc."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1669744779,"post_id":74617617,"comment_id":131710898,"body_markdown":"You could also simply make the `sortedList` an instance variable.","body":"You could also simply make the <code>sortedList</code> an instance variable."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669750537,"creation_date":1669745956,"answer_id":74618580,"question_id":74617617,"body_markdown":"Get the list from the table when you need it:\r\n\r\n    @FXML\r\n    public void handleSearch(ActionEvent event) {\r\n        List&lt;Employee&gt; employees = mTableView.getItems();\r\n        if (! employees.isEmpty()) {\r\n            // get first item:\r\n            Employee firstSearchResults = employees.get(0);\r\n            // now do whatever you need\r\n            // You may want special handling if there is more than one result, etc.\r\n        }\r\n    }","title":"Javafx How to select filtered value from Tableview on button click","body":"<p>Get the list from the table when you need it:</p>\n<pre><code>@FXML\npublic void handleSearch(ActionEvent event) {\n    List&lt;Employee&gt; employees = mTableView.getItems();\n    if (! employees.isEmpty()) {\n        // get first item:\n        Employee firstSearchResults = employees.get(0);\n        // now do whatever you need\n        // You may want special handling if there is more than one result, etc.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74618580,"answer_count":1,"score":1,"last_activity_date":1669750537,"creation_date":1669741293,"question_id":74617617,"body_markdown":"i am new to Java FX and trying to implement a table view with filter using a textfield. i have a textfield and search button along with it. my requirement is i will enter a search value in textfield and click the search button. if the value is in the table i need to load another fxml(passing the selected value as an argument to that fxml and controller).But i am unable to get the filtered value to handleSearch() method.\r\n\r\nFXML File(TableView textField and Button)\r\n\r\n \r\n\r\n       &lt;TableView fx:id=&quot;mTableView&quot; layoutY=&quot;71.0&quot; prefHeight=&quot;451.0&quot; prefWidth=&quot;929.0&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                        &lt;columns&gt;\r\n                            &lt;TableColumn fx:id=&quot;idColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;ID&quot; /&gt;\r\n                            &lt;TableColumn fx:id=&quot;nameColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;Name&quot; /&gt;\r\n                            &lt;TableColumn fx:id=&quot;salColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;Salary&quot; /&gt;\r\n                        &lt;/columns&gt;\r\n                    &lt;/TableView&gt;\r\n    ....\r\n    ....\r\n    \r\n        &lt;TextField fx:id=&quot;mTextField&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;366.0&quot; /&gt;\r\n                                    &lt;Button fx:id=&quot;searchBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleSearch&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;  text=&quot;Search&quot; /&gt;\r\n\r\n..\r\n\r\n    Controller \r\n    \r\n     @FXML\r\n        private TableView&lt;Employee&gt; mTableView;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Employee, Integer&gt; idColumn;\r\n        @FXML\r\n        private TableColumn&lt;Employee, String&gt; nameColumn;\r\n        @FXML\r\n        private TableColumn&lt;Employee, String&gt; salColumn;\r\n    \r\n     ObservableList&lt;Employee&gt;  mList = FXCollections.observableArrayList();\r\n    \r\n    \r\n    @FXML\r\n        public void handleSearch(ActionEvent event) {\r\n     // need to get selected value here to load another fxml\r\n    }\r\n    \r\n    \r\n     public void loadRecords(){\r\n    //this method is called to populate the tableview with data from DB( called from initialize() method of the controller)\r\n    ...\r\n    ...\r\n     idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\r\n                nameColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Name&quot;));\r\n                salColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;salary&quot;));\r\n                mTableView.setItems(mList);\r\n                FilteredList&lt;Employee&gt; filteredList = new FilteredList&lt;&gt;(mList,b-&gt;true);\r\n                mTextField.textProperty().addListener(((observableValue, oldValue, newValue) -&gt; {\r\n                    key = null;\r\n                    filteredList.setPredicate(cinema -&gt; {\r\n                        if(newValue.isEmpty() || newValue.isBlank() || newValue == null){\r\n                            return true;\r\n                        }\r\n                        String searchKeyword = newValue.toLowerCase();\r\n                      \r\n                        if(isContain(cinema.getId().toString().toLowerCase(),searchKeyword)){\r\n                            return true;\r\n                        }\r\n                        else {\r\n                            return false;\r\n                        }\r\n                    });\r\n                }));\r\n                SortedList&lt;Employee&gt; sortedList = new SortedList&lt;&gt;(filteredList);\r\n                key = filteredList.get(0).getId().toString();\r\n                sortedList.comparatorProperty().bind(mTableView.comparatorProperty());\r\n                mTableView.setItems(sortedList);\r\n    }","title":"Javafx How to select filtered value from Tableview on button click","body":"<p>i am new to Java FX and trying to implement a table view with filter using a textfield. i have a textfield and search button along with it. my requirement is i will enter a search value in textfield and click the search button. if the value is in the table i need to load another fxml(passing the selected value as an argument to that fxml and controller).But i am unable to get the filtered value to handleSearch() method.</p>\n<p>FXML File(TableView textField and Button)</p>\n<pre><code>   &lt;TableView fx:id=&quot;mTableView&quot; layoutY=&quot;71.0&quot; prefHeight=&quot;451.0&quot; prefWidth=&quot;929.0&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n                    &lt;columns&gt;\n                        &lt;TableColumn fx:id=&quot;idColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;ID&quot; /&gt;\n                        &lt;TableColumn fx:id=&quot;nameColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;Name&quot; /&gt;\n                        &lt;TableColumn fx:id=&quot;salColumn&quot; prefWidth=&quot;75.0&quot; text=&quot;Salary&quot; /&gt;\n                    &lt;/columns&gt;\n                &lt;/TableView&gt;\n....\n....\n\n    &lt;TextField fx:id=&quot;mTextField&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;366.0&quot; /&gt;\n                                &lt;Button fx:id=&quot;searchBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleSearch&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;166.0&quot;  text=&quot;Search&quot; /&gt;\n</code></pre>\n<p>..</p>\n<pre><code>Controller \n\n @FXML\n    private TableView&lt;Employee&gt; mTableView;\n\n    @FXML\n    private TableColumn&lt;Employee, Integer&gt; idColumn;\n    @FXML\n    private TableColumn&lt;Employee, String&gt; nameColumn;\n    @FXML\n    private TableColumn&lt;Employee, String&gt; salColumn;\n\n ObservableList&lt;Employee&gt;  mList = FXCollections.observableArrayList();\n\n\n@FXML\n    public void handleSearch(ActionEvent event) {\n // need to get selected value here to load another fxml\n}\n\n\n public void loadRecords(){\n//this method is called to populate the tableview with data from DB( called from initialize() method of the controller)\n...\n...\n idColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\n            nameColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Name&quot;));\n            salColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;salary&quot;));\n            mTableView.setItems(mList);\n            FilteredList&lt;Employee&gt; filteredList = new FilteredList&lt;&gt;(mList,b-&gt;true);\n            mTextField.textProperty().addListener(((observableValue, oldValue, newValue) -&gt; {\n                key = null;\n                filteredList.setPredicate(cinema -&gt; {\n                    if(newValue.isEmpty() || newValue.isBlank() || newValue == null){\n                        return true;\n                    }\n                    String searchKeyword = newValue.toLowerCase();\n                  \n                    if(isContain(cinema.getId().toString().toLowerCase(),searchKeyword)){\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                });\n            }));\n            SortedList&lt;Employee&gt; sortedList = new SortedList&lt;&gt;(filteredList);\n            key = filteredList.get(0).getId().toString();\n            sortedList.comparatorProperty().bind(mTableView.comparatorProperty());\n            mTableView.setItems(sortedList);\n}\n</code></pre>\n"},{"tags":["java","abstract-class","new-operator","static-classes"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1669750779,"post_id":74619322,"comment_id":131712794,"body_markdown":"See also https://stackoverflow.com/q/18704298/869736 and https://stackoverflow.com/q/37773920/869736.","body":"See also <a href=\"https://stackoverflow.com/q/18704298/869736\">stackoverflow.com/q/18704298/869736</a> and <a href=\"https://stackoverflow.com/q/37773920/869736\">stackoverflow.com/q/37773920/869736</a>."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1669751131,"post_id":74619322,"comment_id":131712900,"body_markdown":"*abstract classes cannot have instances* -- false.  Interfaces and abstract classes cannot be directly *instantiated*, but if they could not have any instances at all then what good would they be?  An instance of a class that implements interface `I` is an instance of `I`, and an instance of a subclass of abstract class `A` is in instance of `A` as well.  You are looking at instantiation of an anonymous inner class extending `Sink.ChainedReference`.","body":"<i>abstract classes cannot have instances</i> -- false.  Interfaces and abstract classes cannot be directly <i>instantiated</i>, but if they could not have any instances at all then what good would they be?  An instance of a class that implements interface <code>I</code> is an instance of <code>I</code>, and an instance of a subclass of abstract class <code>A</code> is in instance of <code>A</code> as well.  You are looking at instantiation of an anonymous inner class extending <code>Sink.ChainedReference</code>."},{"owner":{"account_id":27088857,"reputation":1,"user_id":20636969,"display_name":"Sergey Chernov"},"score":0,"creation_date":1669838666,"post_id":74619322,"comment_id":131736906,"body_markdown":"Gents, thank you for replies","body":"Gents, thank you for replies"}],"owner":{"account_id":27088857,"reputation":1,"user_id":20636969,"display_name":"Sergey Chernov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669750718,"answer_count":0,"score":0,"last_activity_date":1669750252,"creation_date":1669750252,"question_id":74619322,"body_markdown":"I am newbiew in Java programming. I&#39;ve stuck on streams learning at this moment. Please, review two code areas below, which are parts of streams creation:\r\n1) for Sink interface (extends from interface java/util/function/Consumer)/ nested class ChainedReference\r\n\r\n```\r\nabstract static class ChainedReference&lt;T, E_OUT&gt; implements Sink&lt;T&gt; {\r\n    protected final Sink&lt;? super E_OUT&gt; downstream;\r\n\r\n    public ChainedReference(Sink&lt;? super E_OUT&gt; downstream) {\r\n        this.downstream = Objects.requireNonNull(downstream);\r\n    }\r\n    ...\r\n}\r\n```\r\n2) for abstract class ReferencePipeline (extends from AbstractPipeline)/ opWrapSink method\r\n\r\n```\r\n@Override\r\nSink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;P_OUT&gt; sink) {\r\n    **return new Sink.ChainedReference**&lt;P_OUT, P_OUT&gt;(sink) {\r\n        @Override\r\n        public void begin(long size) {...}\r\n\r\n        @Override\r\n        public void accept(P_OUT u) {...}\r\n    };\r\n}\r\n```\r\nCould you advice how operator &quot;new&quot; works in code &quot;return new Sink.ChainedReference&quot;? From one hand, abstract classes cannot have instances. From another hand, we use operator &quot;new&quot; to create a class instance. In curly brackets, code authors override methods and sometimes add new variables. Can we use operator &quot;new&quot; with abstract static class constructor to override methods and define new variables?\r\n\r\nBest Regards\r\n\r\n\r\n\r\n\r\nI&#39;ve expected that operator &quot;new&quot; couldn&#39;t be used with abstract classes","title":"New instance for abstract static class ChainedReference","body":"<p>I am newbiew in Java programming. I've stuck on streams learning at this moment. Please, review two code areas below, which are parts of streams creation:</p>\n<ol>\n<li>for Sink interface (extends from interface java/util/function/Consumer)/ nested class ChainedReference</li>\n</ol>\n<pre><code>abstract static class ChainedReference&lt;T, E_OUT&gt; implements Sink&lt;T&gt; {\n    protected final Sink&lt;? super E_OUT&gt; downstream;\n\n    public ChainedReference(Sink&lt;? super E_OUT&gt; downstream) {\n        this.downstream = Objects.requireNonNull(downstream);\n    }\n    ...\n}\n</code></pre>\n<ol start=\"2\">\n<li>for abstract class ReferencePipeline (extends from AbstractPipeline)/ opWrapSink method</li>\n</ol>\n<pre><code>@Override\nSink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;P_OUT&gt; sink) {\n    **return new Sink.ChainedReference**&lt;P_OUT, P_OUT&gt;(sink) {\n        @Override\n        public void begin(long size) {...}\n\n        @Override\n        public void accept(P_OUT u) {...}\n    };\n}\n</code></pre>\n<p>Could you advice how operator &quot;new&quot; works in code &quot;return new Sink.ChainedReference&quot;? From one hand, abstract classes cannot have instances. From another hand, we use operator &quot;new&quot; to create a class instance. In curly brackets, code authors override methods and sometimes add new variables. Can we use operator &quot;new&quot; with abstract static class constructor to override methods and define new variables?</p>\n<p>Best Regards</p>\n<p>I've expected that operator &quot;new&quot; couldn't be used with abstract classes</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1669722177,"post_id":74611575,"comment_id":131702493,"body_markdown":"(in the container) do `ldd /opt/jdk1.8.0/bin/java` to see if the libraries needed by the `java` program are (all) present and valid.","body":"(in the container) do <code>ldd &#47;opt&#47;jdk1.8.0&#47;bin&#47;java</code> to see if the libraries needed by the <code>java</code> program are (all) present and valid."}],"answers":[{"tags":[],"owner":{"account_id":13263599,"reputation":510,"user_id":9616557,"display_name":"Potter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669750158,"creation_date":1669750158,"answer_id":74619306,"question_id":74611575,"body_markdown":"I just realize it has one space inside my python code where I export the `JAVA_HOME`. After remove it finally the code worked.\r\n\r\n    import os\r\n    import sys\r\n    \r\n    os.environ[&quot;SPARK_HOME&quot;]=&#39;/opt/spark-3.3.1&#39;\r\n    os.environ[&quot;JAVA_HOME&quot;]=&#39; /opt/jdk1.8.0&#39;\r\n    sys.path+=[os.environ[&quot;SPARK_HOME&quot;]+&quot;/python&quot;]\r\n    sys.path+=[os.environ[&quot;SPARK_HOME&quot;]+&quot;/python/build&quot;]\r\n    sys.path+=[os.environ[&quot;SPARK_HOME&quot;]+&quot;/python/lib/py4j-0.10.9.5-src.zip&quot;]","title":"Java binary available, but still &quot;No such file or directory&quot;","body":"<p>I just realize it has one space inside my python code where I export the <code>JAVA_HOME</code>. After remove it finally the code worked.</p>\n<pre><code>import os\nimport sys\n\nos.environ[&quot;SPARK_HOME&quot;]='/opt/spark-3.3.1'\nos.environ[&quot;JAVA_HOME&quot;]=' /opt/jdk1.8.0'\nsys.path+=[os.environ[&quot;SPARK_HOME&quot;]+&quot;/python&quot;]\nsys.path+=[os.environ[&quot;SPARK_HOME&quot;]+&quot;/python/build&quot;]\nsys.path+=[os.environ[&quot;SPARK_HOME&quot;]+&quot;/python/lib/py4j-0.10.9.5-src.zip&quot;]\n</code></pre>\n"}],"owner":{"account_id":13263599,"reputation":510,"user_id":9616557,"display_name":"Potter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669750158,"creation_date":1669713209,"question_id":74611575,"body_markdown":"When I run the command I got the error:\r\n\r\n    root@1290ff36814b:/opt/airflow/dags# python test.py\r\n    /opt/spark-3.3.1/bin/spark-class: line 71:  /opt/jdk1.8.0/bin/java: No such file or directory\r\n    /opt/spark-3.3.1/bin/spark-class: line 96: CMD: bad array subscript\r\n    Traceback (most recent call last):\r\n      File &quot;test.py&quot;, line 16, in &lt;module&gt;\r\n        .appName(&#39;test&#39;) \\\r\n      File &quot;/opt/spark-3.3.1/python/pyspark/sql/session.py&quot;, line 269, in getOrCreate\r\n        sc = SparkContext.getOrCreate(sparkConf)\r\n      File &quot;/opt/spark-3.3.1/python/pyspark/context.py&quot;, line 483, in getOrCreate\r\n        SparkContext(conf=conf or SparkConf())\r\n      File &quot;/opt/spark-3.3.1/python/pyspark/context.py&quot;, line 195, in __init__\r\n        SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n      File &quot;/opt/spark-3.3.1/python/pyspark/context.py&quot;, line 417, in _ensure_initialized\r\n        SparkContext._gateway = gateway or launch_gateway(conf)\r\n      File &quot;/opt/spark-3.3.1/python/pyspark/java_gateway.py&quot;, line 106, in launch_gateway\r\n        raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\r\n    RuntimeError: Java gateway process exited before sending its port number\r\n\r\n\r\nThis is a docker container and /opt/jdk1.8.0 is a volume, and the volume is visible inside container and also de java binary.\r\n\r\n    root@1290ff36814b:/opt/airflow/dags# ls -l /opt/jdk1.8.0/bin/java\r\n    -rwxr-xr-x 1 uucp 143 8464 Dec 15  2018 /opt/jdk1.8.0/bin/java\r\n    root@1290ff36814b:/opt/airflow/dags# ls -l /opt/jdk1.8.0/\r\n    total 25996\r\n    -r--r--r-- 1 uucp 143     3244 Dec 15  2018 COPYRIGHT\r\n    -r--r--r-- 1 uucp 143       40 Dec 15  2018 LICENSE\r\n    -r--r--r-- 1 uucp 143      159 Dec 15  2018 README.html\r\n    -rw-r--r-- 1 uucp 143   112724 Dec 12  2018 THIRDPARTYLICENSEREADME-JAVAFX.txt\r\n    -r--r--r-- 1 uucp 143   153824 Dec 15  2018 THIRDPARTYLICENSEREADME.txt\r\n    drwxr-xr-x 2 uucp 143     4096 Dec 15  2018 bin\r\n    drwxr-xr-x 3 uucp 143      132 Dec 15  2018 include\r\n    -rw-r--r-- 1 uucp 143  5211154 Dec 12  2018 javafx-src.zip\r\n    drwxr-xr-x 5 uucp 143     4096 Dec 15  2018 jre\r\n    drwxr-xr-x 5 uucp 143     4096 Dec 15  2018 lib\r\n    drwxr-xr-x 4 uucp 143       47 Dec 15  2018 man\r\n    -rw-r--r-- 1 uucp 143      424 Dec 15  2018 release\r\n    -rw-r--r-- 1 uucp 143 21105955 Dec 15  2018 src.zip\r\n    root@1290ff36814b:/opt/airflow/dags#\r\n\r\nWhy this happen?\r\n\r\nI already tried to set JAVA_HOME and PATH, but still the same problem.","title":"Java binary available, but still &quot;No such file or directory&quot;","body":"<p>When I run the command I got the error:</p>\n<pre><code>root@1290ff36814b:/opt/airflow/dags# python test.py\n/opt/spark-3.3.1/bin/spark-class: line 71:  /opt/jdk1.8.0/bin/java: No such file or directory\n/opt/spark-3.3.1/bin/spark-class: line 96: CMD: bad array subscript\nTraceback (most recent call last):\n  File &quot;test.py&quot;, line 16, in &lt;module&gt;\n    .appName('test') \\\n  File &quot;/opt/spark-3.3.1/python/pyspark/sql/session.py&quot;, line 269, in getOrCreate\n    sc = SparkContext.getOrCreate(sparkConf)\n  File &quot;/opt/spark-3.3.1/python/pyspark/context.py&quot;, line 483, in getOrCreate\n    SparkContext(conf=conf or SparkConf())\n  File &quot;/opt/spark-3.3.1/python/pyspark/context.py&quot;, line 195, in __init__\n    SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n  File &quot;/opt/spark-3.3.1/python/pyspark/context.py&quot;, line 417, in _ensure_initialized\n    SparkContext._gateway = gateway or launch_gateway(conf)\n  File &quot;/opt/spark-3.3.1/python/pyspark/java_gateway.py&quot;, line 106, in launch_gateway\n    raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\nRuntimeError: Java gateway process exited before sending its port number\n</code></pre>\n<p>This is a docker container and /opt/jdk1.8.0 is a volume, and the volume is visible inside container and also de java binary.</p>\n<pre><code>root@1290ff36814b:/opt/airflow/dags# ls -l /opt/jdk1.8.0/bin/java\n-rwxr-xr-x 1 uucp 143 8464 Dec 15  2018 /opt/jdk1.8.0/bin/java\nroot@1290ff36814b:/opt/airflow/dags# ls -l /opt/jdk1.8.0/\ntotal 25996\n-r--r--r-- 1 uucp 143     3244 Dec 15  2018 COPYRIGHT\n-r--r--r-- 1 uucp 143       40 Dec 15  2018 LICENSE\n-r--r--r-- 1 uucp 143      159 Dec 15  2018 README.html\n-rw-r--r-- 1 uucp 143   112724 Dec 12  2018 THIRDPARTYLICENSEREADME-JAVAFX.txt\n-r--r--r-- 1 uucp 143   153824 Dec 15  2018 THIRDPARTYLICENSEREADME.txt\ndrwxr-xr-x 2 uucp 143     4096 Dec 15  2018 bin\ndrwxr-xr-x 3 uucp 143      132 Dec 15  2018 include\n-rw-r--r-- 1 uucp 143  5211154 Dec 12  2018 javafx-src.zip\ndrwxr-xr-x 5 uucp 143     4096 Dec 15  2018 jre\ndrwxr-xr-x 5 uucp 143     4096 Dec 15  2018 lib\ndrwxr-xr-x 4 uucp 143       47 Dec 15  2018 man\n-rw-r--r-- 1 uucp 143      424 Dec 15  2018 release\n-rw-r--r-- 1 uucp 143 21105955 Dec 15  2018 src.zip\nroot@1290ff36814b:/opt/airflow/dags#\n</code></pre>\n<p>Why this happen?</p>\n<p>I already tried to set JAVA_HOME and PATH, but still the same problem.</p>\n"},{"tags":["java","amazon-s3","minio","aws-s3-client","s3-iam-policy"],"comments":[{"owner":{"account_id":7177876,"reputation":719,"user_id":5483074,"accept_rate":100,"display_name":"Abdullah Ilgaz"},"score":0,"creation_date":1669722162,"post_id":74613462,"comment_id":131702491,"body_markdown":"Do you need to assign new policy to your user&#39;s role? If it is what you needed, then you can check out IAM SDK (https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/iam-examples-policies.html)","body":"Do you need to assign new policy to your user&#39;s role? If it is what you needed, then you can check out IAM SDK (<a href=\"https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/iam-examples-policies.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/&hellip;</a>&zwnj;&#8203;)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1669722356,"post_id":74613462,"comment_id":131702570,"body_markdown":"@Abdullah Ilgaz I am looking for a java API. added java tag","body":"@Abdullah Ilgaz I am looking for a java API. added java tag"},{"owner":{"account_id":7177876,"reputation":719,"user_id":5483074,"accept_rate":100,"display_name":"Abdullah Ilgaz"},"score":0,"creation_date":1669726339,"post_id":74613462,"comment_id":131703892,"body_markdown":"which sdk version are you using?","body":"which sdk version are you using?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1669727564,"post_id":74613462,"comment_id":131704329,"body_markdown":"version is 2.16.10","body":"version is 2.16.10"},{"owner":{"account_id":7177876,"reputation":719,"user_id":5483074,"accept_rate":100,"display_name":"Abdullah Ilgaz"},"score":0,"creation_date":1669748042,"post_id":74613462,"comment_id":131711972,"body_markdown":"OK. I&#39;ll edit my answer to help you about AWS SDK for Java 2.x","body":"OK. I&#39;ll edit my answer to help you about AWS SDK for Java 2.x"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1669722232,"post_id":74613543,"comment_id":131702517,"body_markdown":"Soryy maybe my question is clear but its not about usage of PutBucketPolicy. I see that PutBucketPolicy method exists but there are no method for setting up policy to user. I am looking for that method.","body":"Soryy maybe my question is clear but its not about usage of PutBucketPolicy. I see that PutBucketPolicy method exists but there are no method for setting up policy to user. I am looking for that method."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1669910122,"post_id":74613543,"comment_id":131754906,"body_markdown":"Unfortunately this doesn&#39;t work with minio https://stackoverflow.com/questions/74642101/iamexception-invalid-sts-api-version-2010-05-08-expecting-2011-06-15","body":"Unfortunately this doesn&#39;t work with minio <a href=\"https://stackoverflow.com/questions/74642101/iamexception-invalid-sts-api-version-2010-05-08-expecting-2011-06-15\" title=\"iamexception invalid sts api version 2010 05 08 expecting 2011 06 15\">stackoverflow.com/questions/74642101/&hellip;</a>"},{"owner":{"account_id":7177876,"reputation":719,"user_id":5483074,"accept_rate":100,"display_name":"Abdullah Ilgaz"},"score":0,"creation_date":1669919965,"post_id":74613543,"comment_id":131758248,"body_markdown":"It seems like you used &quot;Minio via Aws API&quot;. Is that correct?","body":"It seems like you used &quot;Minio via Aws API&quot;. Is that correct?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1669932222,"post_id":74613543,"comment_id":131761728,"body_markdown":"you are absolutely correct","body":"you are absolutely correct"},{"owner":{"account_id":7177876,"reputation":719,"user_id":5483074,"accept_rate":100,"display_name":"Abdullah Ilgaz"},"score":0,"creation_date":1669962273,"post_id":74613543,"comment_id":131766354,"body_markdown":"@gstackoverflow AWS SDK and AWS API are totally different approaches. I&#39;ve never used AWS API.","body":"@gstackoverflow AWS SDK and AWS API are totally different approaches. I&#39;ve never used AWS API."}],"tags":[],"owner":{"account_id":7177876,"reputation":719,"user_id":5483074,"accept_rate":100,"display_name":"Abdullah Ilgaz"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669750134,"creation_date":1669722080,"answer_id":74613543,"question_id":74613462,"body_markdown":"*Edited Answer:* \r\n\r\nYour updated question helped me determine what you were looking for.\r\n\r\nYou need to create a policy and assign it to a role. You can then assign that role to your user. The AWS SDK for Java 2.x provides support for all of these actions with IAM.\r\n\r\nHere&#39;s what we can do:\r\n\r\n#### 1- Creating a policy\r\n\r\n\r\nTo create a new policy, provide the policy’s name and a JSON-formatted policy document in a `CreatePolicyRequest` to the **IamClient**’s `createPolicy` method.\r\n\r\n**Imports**\r\n```\r\nimport software.amazon.awssdk.core.waiters.WaiterResponse;\r\nimport software.amazon.awssdk.services.iam.model.CreatePolicyRequest;\r\nimport software.amazon.awssdk.services.iam.model.CreatePolicyResponse;\r\nimport software.amazon.awssdk.services.iam.model.GetPolicyRequest;\r\nimport software.amazon.awssdk.services.iam.model.GetPolicyResponse;\r\nimport software.amazon.awssdk.services.iam.model.IamException;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.iam.IamClient;\r\nimport software.amazon.awssdk.services.iam.waiters.IamWaiter;\r\n```\r\n\r\n**Code**\r\n```\r\n    public static String createIAMPolicy(IamClient iam, String policyName ) {\r\n\r\n        try {\r\n            // Create an IamWaiter object\r\n            IamWaiter iamWaiter = iam.waiter();\r\n\r\n            CreatePolicyRequest request = CreatePolicyRequest.builder()\r\n                .policyName(policyName)\r\n                .policyDocument(PolicyDocument).build();\r\n\r\n            CreatePolicyResponse response = iam.createPolicy(request);\r\n\r\n            // Wait until the policy is created\r\n            GetPolicyRequest polRequest = GetPolicyRequest.builder()\r\n                    .policyArn(response.policy().arn())\r\n                    .build();\r\n\r\n            WaiterResponse&lt;GetPolicyResponse&gt; waitUntilPolicyExists = iamWaiter.waitUntilPolicyExists(polRequest);\r\n            waitUntilPolicyExists.matched().response().ifPresent(System.out::println);\r\n            return response.policy().arn();\r\n\r\n         } catch (IamException e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n        return &quot;&quot; ;\r\n    }\r\n```\r\n*You can check out [CreatePolicy.java][1] for complete example.*\r\n\r\n#### 2- Attach a role policy\r\n\r\nYou can attach a policy to an IAM role by calling the **IamClient**’s `attachRolePolicy` method.\r\n\r\n**Imports**\r\n```\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.iam.IamClient;\r\nimport software.amazon.awssdk.services.iam.model.IamException;\r\nimport software.amazon.awssdk.services.iam.model.AttachRolePolicyRequest;\r\nimport software.amazon.awssdk.services.iam.model.AttachedPolicy;\r\nimport software.amazon.awssdk.services.iam.model.ListAttachedRolePoliciesRequest;\r\nimport software.amazon.awssdk.services.iam.model.ListAttachedRolePoliciesResponse;\r\nimport java.util.List;\r\n```\r\n\r\n**Code**\r\n```\r\n    public static void attachIAMRolePolicy(IamClient iam, String roleName, String policyArn ) {\r\n\r\n        try {\r\n\r\n             ListAttachedRolePoliciesRequest request = ListAttachedRolePoliciesRequest.builder()\r\n                    .roleName(roleName)\r\n                    .build();\r\n\r\n            ListAttachedRolePoliciesResponse  response = iam.listAttachedRolePolicies(request);\r\n            List&lt;AttachedPolicy&gt; attachedPolicies = response.attachedPolicies();\r\n\r\n            // Ensure that the policy is not attached to this role\r\n            String polArn = &quot;&quot;;\r\n            for (AttachedPolicy policy: attachedPolicies) {\r\n                polArn = policy.policyArn();\r\n                if (polArn.compareTo(policyArn)==0) {\r\n                   System.out.println(roleName +\r\n                            &quot; policy is already attached to this role.&quot;);\r\n                    return;\r\n                }\r\n          }\r\n\r\n            AttachRolePolicyRequest attachRequest =\r\n                AttachRolePolicyRequest.builder()\r\n                        .roleName(roleName)\r\n                        .policyArn(policyArn)\r\n                        .build();\r\n\r\n            iam.attachRolePolicy(attachRequest);\r\n\r\n            System.out.println(&quot;Successfully attached policy &quot; + policyArn +\r\n                &quot; to role &quot; + roleName);\r\n\r\n         } catch (IamException e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n          }\r\n\r\n     System.out.println(&quot;Done&quot;);\r\n    }\r\n```\r\n*You can check out [AttachRolePolicy.java][2] for complete example.*\r\n\r\n### Bonus Content \r\n\r\n#### Scenario for create a user and assume a role\r\n\r\nThe following code example shows how to:\r\n\r\n  \r\n\r\n - Create a user who has no permissions.\r\n - Create a role that grants permission to list Amazon S3 buckets for the account.\r\n - Add a policy to let the user assume the role.\r\n - Assume the role and list Amazon S3 buckets using temporary credentials.\r\n - Delete the policy, role, and user.\r\n\r\n```\r\n/*\r\n  To run this Java V2 code example, set up your development environment, including your credentials.\r\n\r\n  For information, see this documentation topic:\r\n\r\n  https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n\r\n  This example performs these operations:\r\n\r\n  1. Creates a user that has no permissions.\r\n  2. Creates a role and policy that grants Amazon S3 permissions.\r\n  3. Creates a role.\r\n  4. Grants the user permissions.\r\n  5. Gets temporary credentials by assuming the role.  Creates an Amazon S3 Service client object with the temporary credentials.\r\n  6. Deletes the resources.\r\n */\r\n\r\npublic class IAMScenario {\r\n    public static final String DASHES = new String(new char[80]).replace(&quot;\\0&quot;, &quot;-&quot;);\r\n    public static final String PolicyDocument =\r\n            &quot;{&quot; +\r\n                    &quot;  \\&quot;Version\\&quot;: \\&quot;2012-10-17\\&quot;,&quot; +\r\n                    &quot;  \\&quot;Statement\\&quot;: [&quot; +\r\n                    &quot;    {&quot; +\r\n                    &quot;        \\&quot;Effect\\&quot;: \\&quot;Allow\\&quot;,&quot; +\r\n                    &quot;        \\&quot;Action\\&quot;: [&quot; +\r\n                    &quot;            \\&quot;s3:*\\&quot;&quot; +\r\n                    &quot;       ],&quot; +\r\n                    &quot;       \\&quot;Resource\\&quot;: \\&quot;*\\&quot;&quot; +\r\n                    &quot;    }&quot; +\r\n                    &quot;   ]&quot; +\r\n                    &quot;}&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        final String usage = &quot;\\n&quot; +\r\n            &quot;Usage:\\n&quot; +\r\n            &quot;    &lt;username&gt; &lt;policyName&gt; &lt;roleName&gt; &lt;roleSessionName&gt; &lt;fileLocation&gt; &lt;bucketName&gt; \\n\\n&quot; +\r\n            &quot;Where:\\n&quot; +\r\n            &quot;    username - The name of the IAM user to create. \\n\\n&quot; +\r\n            &quot;    policyName - The name of the policy to create. \\n\\n&quot; +\r\n            &quot;    roleName - The name of the role to create. \\n\\n&quot; +\r\n            &quot;    roleSessionName - The name of the session required for the assumeRole operation. \\n\\n&quot; +\r\n            &quot;    fileLocation - The file location to the JSON required to create the role (see Readme). \\n\\n&quot; +\r\n            &quot;    bucketName - The name of the Amazon S3 bucket from which objects are read. \\n\\n&quot; ;\r\n\r\n        if (args.length != 6) {\r\n            System.out.println(usage);\r\n            System.exit(1);\r\n        }\r\n\r\n        String userName = args[0];\r\n        String policyName = args[1];\r\n        String roleName = args[2];\r\n        String roleSessionName = args[3];\r\n        String fileLocation = args[4];\r\n        String bucketName = args[5];\r\n\r\n        Region region = Region.AWS_GLOBAL;\r\n        IamClient iam = IamClient.builder()\r\n            .region(region)\r\n            .credentialsProvider(ProfileCredentialsProvider.create())\r\n            .build();\r\n\r\n        System.out.println(DASHES);\r\n        System.out.println(&quot;Welcome to the AWS IAM example scenario.&quot;);\r\n        System.out.println(DASHES);\r\n\r\n        System.out.println(DASHES);\r\n        System.out.println(&quot; 1. Create the IAM user.&quot;);\r\n        Boolean createUser = createIAMUser(iam, userName);\r\n        System.out.println(DASHES);\r\n\r\n       if (createUser) {\r\n           System.out.println(userName + &quot; was successfully created.&quot;);\r\n\r\n           System.out.println(DASHES);\r\n           System.out.println(&quot;2. Creates a policy.&quot;);\r\n           String polArn = createIAMPolicy(iam, policyName);\r\n           System.out.println(&quot;The policy &quot; + polArn + &quot; was successfully created.&quot;);\r\n           System.out.println(DASHES);\r\n\r\n           System.out.println(DASHES);\r\n           System.out.println(&quot;3. Creates a role.&quot;);\r\n           String roleArn = createIAMRole(iam, roleName, fileLocation);\r\n           System.out.println(roleArn + &quot; was successfully created.&quot;);\r\n           System.out.println(DASHES);\r\n\r\n           System.out.println(DASHES);\r\n           System.out.println(&quot;4. Grants the user permissions.&quot;);\r\n           attachIAMRolePolicy(iam, roleName, polArn);\r\n           System.out.println(DASHES);\r\n\r\n           System.out.println(DASHES);\r\n           System.out.println(&quot;*** Wait for 1 MIN so the resource is available&quot;);\r\n           TimeUnit.MINUTES.sleep(1);\r\n           System.out.println(&quot;5. Gets temporary credentials by assuming the role.&quot;);\r\n           System.out.println(&quot;Perform an Amazon S3 Service operation using the temporary credentials.&quot;);\r\n           assumeGivenRole(roleArn, roleSessionName, bucketName);\r\n           System.out.println(DASHES);\r\n\r\n           System.out.println(DASHES);\r\n           System.out.println(&quot;6 Getting ready to delete the AWS resources&quot;);\r\n           deleteRole(iam, roleName, polArn);\r\n           deleteIAMUser(iam, userName);\r\n           System.out.println(DASHES);\r\n\r\n           System.out.println(DASHES);\r\n           System.out.println(&quot;This IAM Scenario has successfully completed&quot;);\r\n           System.out.println(DASHES);\r\n       } else {\r\n           System.out.println(userName +&quot; was not successfully created.&quot;);\r\n       }\r\n    }\r\n\r\n    public static Boolean createIAMUser(IamClient iam, String username ) {\r\n\r\n        try {\r\n            // Create an IamWaiter object\r\n            IamWaiter iamWaiter = iam.waiter();\r\n            CreateUserRequest request = CreateUserRequest.builder()\r\n                .userName(username)\r\n                .build();\r\n\r\n            // Wait until the user is created.\r\n            CreateUserResponse response = iam.createUser(request);\r\n            GetUserRequest userRequest = GetUserRequest.builder()\r\n                .userName(response.user().userName())\r\n                .build();\r\n\r\n            WaiterResponse&lt;GetUserResponse&gt; waitUntilUserExists = iamWaiter.waitUntilUserExists(userRequest);\r\n            waitUntilUserExists.matched().response().ifPresent(System.out::println);\r\n            return true;\r\n\r\n        } catch (IamException e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static String createIAMRole(IamClient iam, String rolename, String fileLocation ) throws Exception {\r\n\r\n        try {\r\n            JSONObject jsonObject = (JSONObject) readJsonSimpleDemo(fileLocation);\r\n            CreateRoleRequest request = CreateRoleRequest.builder()\r\n                .roleName(rolename)\r\n                .assumeRolePolicyDocument(jsonObject.toJSONString())\r\n                .description(&quot;Created using the AWS SDK for Java&quot;)\r\n                .build();\r\n\r\n            CreateRoleResponse response = iam.createRole(request);\r\n            System.out.println(&quot;The ARN of the role is &quot;+response.role().arn());\r\n            return response.role().arn();\r\n\r\n        } catch (IamException e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static String createIAMPolicy(IamClient iam, String policyName ) {\r\n\r\n        try {\r\n            // Create an IamWaiter object.\r\n            IamWaiter iamWaiter = iam.waiter();\r\n            CreatePolicyRequest request = CreatePolicyRequest.builder()\r\n                .policyName(policyName)\r\n                .policyDocument(PolicyDocument).build();\r\n\r\n            CreatePolicyResponse response = iam.createPolicy(request);\r\n\r\n            // Wait until the policy is created.\r\n            GetPolicyRequest polRequest = GetPolicyRequest.builder()\r\n                .policyArn(response.policy().arn())\r\n                .build();\r\n\r\n            WaiterResponse&lt;GetPolicyResponse&gt; waitUntilPolicyExists = iamWaiter.waitUntilPolicyExists(polRequest);\r\n            waitUntilPolicyExists.matched().response().ifPresent(System.out::println);\r\n            return response.policy().arn();\r\n\r\n        } catch (IamException e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n        return &quot;&quot; ;\r\n    }\r\n\r\n    public static void attachIAMRolePolicy(IamClient iam, String roleName, String policyArn ) {\r\n\r\n        try {\r\n            ListAttachedRolePoliciesRequest request = ListAttachedRolePoliciesRequest.builder()\r\n                .roleName(roleName)\r\n                .build();\r\n\r\n            ListAttachedRolePoliciesResponse response = iam.listAttachedRolePolicies(request);\r\n            List&lt;AttachedPolicy&gt; attachedPolicies = response.attachedPolicies();\r\n\r\n            String polArn;\r\n            for (AttachedPolicy policy: attachedPolicies) {\r\n                polArn = policy.policyArn();\r\n                if (polArn.compareTo(policyArn)==0) {\r\n                    System.out.println(roleName + &quot; policy is already attached to this role.&quot;);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            AttachRolePolicyRequest attachRequest = AttachRolePolicyRequest.builder()\r\n                .roleName(roleName)\r\n                .policyArn(policyArn)\r\n                .build();\r\n\r\n            iam.attachRolePolicy(attachRequest);\r\n            System.out.println(&quot;Successfully attached policy &quot; + policyArn + &quot; to role &quot; + roleName);\r\n\r\n        } catch (IamException e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    // Invoke an Amazon S3 operation using the Assumed Role.\r\n    public static void assumeGivenRole(String roleArn, String roleSessionName, String bucketName) {\r\n\r\n        StsClient stsClient = StsClient.builder()\r\n            .region(Region.US_EAST_1)\r\n            .build();\r\n\r\n        try {\r\n            AssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\r\n                .roleArn(roleArn)\r\n                .roleSessionName(roleSessionName)\r\n                .build();\r\n\r\n            AssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\r\n            Credentials myCreds = roleResponse.credentials();\r\n            String key = myCreds.accessKeyId();\r\n            String secKey = myCreds.secretAccessKey();\r\n            String secToken = myCreds.sessionToken();\r\n\r\n            // List all objects in an Amazon S3 bucket using the temp creds.\r\n            Region region = Region.US_EAST_1;\r\n            S3Client s3 = S3Client.builder()\r\n                .credentialsProvider(StaticCredentialsProvider.create(AwsSessionCredentials.create(key, secKey, secToken)))\r\n                .region(region)\r\n                .build();\r\n\r\n            System.out.println(&quot;Created a S3Client using temp credentials.&quot;);\r\n            System.out.println(&quot;Listing objects in &quot;+bucketName);\r\n            ListObjectsRequest listObjects = ListObjectsRequest.builder()\r\n                .bucket(bucketName)\r\n                .build();\r\n\r\n            ListObjectsResponse res = s3.listObjects(listObjects);\r\n            List&lt;S3Object&gt; objects = res.contents();\r\n            for (S3Object myValue : objects) {\r\n                System.out.println(&quot;The name of the key is &quot; + myValue.key());\r\n                System.out.println(&quot;The owner is &quot; + myValue.owner());\r\n            }\r\n\r\n        } catch (StsException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    public static void deleteRole(IamClient iam, String roleName, String polArn) {\r\n\r\n        try {\r\n            // First the policy needs to be detached.\r\n            DetachRolePolicyRequest rolePolicyRequest = DetachRolePolicyRequest.builder()\r\n                .policyArn(polArn)\r\n                .roleName(roleName)\r\n                .build();\r\n\r\n            iam.detachRolePolicy(rolePolicyRequest);\r\n\r\n            // Delete the policy.\r\n            DeletePolicyRequest request = DeletePolicyRequest.builder()\r\n                .policyArn(polArn)\r\n                .build();\r\n\r\n            iam.deletePolicy(request);\r\n            System.out.println(&quot;*** Successfully deleted &quot;+polArn);\r\n\r\n            // Delete the role.\r\n            DeleteRoleRequest roleRequest = DeleteRoleRequest.builder()\r\n                .roleName(roleName)\r\n                .build();\r\n\r\n            iam.deleteRole(roleRequest);\r\n            System.out.println(&quot;*** Successfully deleted &quot; +roleName);\r\n\r\n        } catch (IamException e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    public static void deleteIAMUser(IamClient iam, String userName) {\r\n\r\n        try {\r\n            DeleteUserRequest request = DeleteUserRequest.builder()\r\n                .userName(userName)\r\n                .build();\r\n\r\n            iam.deleteUser(request);\r\n            System.out.println(&quot;*** Successfully deleted &quot; + userName);\r\n\r\n        } catch (IamException e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    public static Object readJsonSimpleDemo(String filename) throws Exception {\r\n        FileReader reader = new FileReader(filename);\r\n        JSONParser jsonParser = new JSONParser();\r\n        return jsonParser.parse(reader);\r\n    }\r\n}\r\n\r\n```\r\n\r\n###\r\n---\r\n*Original Answer:*\r\n\r\n### PutBucketPolicy\r\n\r\nIf you don&#39;t have `PutBucketPolicy` permissions, Amazon S3 returns a `403 Access Denied` error. If you have the correct permissions, but you&#39;re not using an identity that belongs to the bucket owner&#39;s account, Amazon S3 returns a `405 Method Not Allowed` error.\r\n\r\nYou can check out for more from AWS API Reference: [PutBucketPolicy][3]\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/iam/src/main/java/com/example/iam/CreatePolicy.java\r\n  [2]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/iam/src/main/java/com/example/iam/AttachRolePolicy.java\r\n  [3]: https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketPolicy.html","title":"How to setup user policy for the minio bucket using s3Client?","body":"<p><em>Edited Answer:</em></p>\n<p>Your updated question helped me determine what you were looking for.</p>\n<p>You need to create a policy and assign it to a role. You can then assign that role to your user. The AWS SDK for Java 2.x provides support for all of these actions with IAM.</p>\n<p>Here's what we can do:</p>\n<h4>1- Creating a policy</h4>\n<p>To create a new policy, provide the policy’s name and a JSON-formatted policy document in a <code>CreatePolicyRequest</code> to the <strong>IamClient</strong>’s <code>createPolicy</code> method.</p>\n<p><strong>Imports</strong></p>\n<pre><code>import software.amazon.awssdk.core.waiters.WaiterResponse;\nimport software.amazon.awssdk.services.iam.model.CreatePolicyRequest;\nimport software.amazon.awssdk.services.iam.model.CreatePolicyResponse;\nimport software.amazon.awssdk.services.iam.model.GetPolicyRequest;\nimport software.amazon.awssdk.services.iam.model.GetPolicyResponse;\nimport software.amazon.awssdk.services.iam.model.IamException;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.iam.IamClient;\nimport software.amazon.awssdk.services.iam.waiters.IamWaiter;\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>    public static String createIAMPolicy(IamClient iam, String policyName ) {\n\n        try {\n            // Create an IamWaiter object\n            IamWaiter iamWaiter = iam.waiter();\n\n            CreatePolicyRequest request = CreatePolicyRequest.builder()\n                .policyName(policyName)\n                .policyDocument(PolicyDocument).build();\n\n            CreatePolicyResponse response = iam.createPolicy(request);\n\n            // Wait until the policy is created\n            GetPolicyRequest polRequest = GetPolicyRequest.builder()\n                    .policyArn(response.policy().arn())\n                    .build();\n\n            WaiterResponse&lt;GetPolicyResponse&gt; waitUntilPolicyExists = iamWaiter.waitUntilPolicyExists(polRequest);\n            waitUntilPolicyExists.matched().response().ifPresent(System.out::println);\n            return response.policy().arn();\n\n         } catch (IamException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n        return &quot;&quot; ;\n    }\n</code></pre>\n<p><em>You can check out <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/iam/src/main/java/com/example/iam/CreatePolicy.java\" rel=\"nofollow noreferrer\">CreatePolicy.java</a> for complete example.</em></p>\n<h4>2- Attach a role policy</h4>\n<p>You can attach a policy to an IAM role by calling the <strong>IamClient</strong>’s <code>attachRolePolicy</code> method.</p>\n<p><strong>Imports</strong></p>\n<pre><code>import software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.iam.IamClient;\nimport software.amazon.awssdk.services.iam.model.IamException;\nimport software.amazon.awssdk.services.iam.model.AttachRolePolicyRequest;\nimport software.amazon.awssdk.services.iam.model.AttachedPolicy;\nimport software.amazon.awssdk.services.iam.model.ListAttachedRolePoliciesRequest;\nimport software.amazon.awssdk.services.iam.model.ListAttachedRolePoliciesResponse;\nimport java.util.List;\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>    public static void attachIAMRolePolicy(IamClient iam, String roleName, String policyArn ) {\n\n        try {\n\n             ListAttachedRolePoliciesRequest request = ListAttachedRolePoliciesRequest.builder()\n                    .roleName(roleName)\n                    .build();\n\n            ListAttachedRolePoliciesResponse  response = iam.listAttachedRolePolicies(request);\n            List&lt;AttachedPolicy&gt; attachedPolicies = response.attachedPolicies();\n\n            // Ensure that the policy is not attached to this role\n            String polArn = &quot;&quot;;\n            for (AttachedPolicy policy: attachedPolicies) {\n                polArn = policy.policyArn();\n                if (polArn.compareTo(policyArn)==0) {\n                   System.out.println(roleName +\n                            &quot; policy is already attached to this role.&quot;);\n                    return;\n                }\n          }\n\n            AttachRolePolicyRequest attachRequest =\n                AttachRolePolicyRequest.builder()\n                        .roleName(roleName)\n                        .policyArn(policyArn)\n                        .build();\n\n            iam.attachRolePolicy(attachRequest);\n\n            System.out.println(&quot;Successfully attached policy &quot; + policyArn +\n                &quot; to role &quot; + roleName);\n\n         } catch (IamException e) {\n                System.err.println(e.awsErrorDetails().errorMessage());\n                System.exit(1);\n          }\n\n     System.out.println(&quot;Done&quot;);\n    }\n</code></pre>\n<p><em>You can check out <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/iam/src/main/java/com/example/iam/AttachRolePolicy.java\" rel=\"nofollow noreferrer\">AttachRolePolicy.java</a> for complete example.</em></p>\n<h3>Bonus Content</h3>\n<h4>Scenario for create a user and assume a role</h4>\n<p>The following code example shows how to:</p>\n<ul>\n<li>Create a user who has no permissions.</li>\n<li>Create a role that grants permission to list Amazon S3 buckets for the account.</li>\n<li>Add a policy to let the user assume the role.</li>\n<li>Assume the role and list Amazon S3 buckets using temporary credentials.</li>\n<li>Delete the policy, role, and user.</li>\n</ul>\n<pre><code>/*\n  To run this Java V2 code example, set up your development environment, including your credentials.\n\n  For information, see this documentation topic:\n\n  https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n\n  This example performs these operations:\n\n  1. Creates a user that has no permissions.\n  2. Creates a role and policy that grants Amazon S3 permissions.\n  3. Creates a role.\n  4. Grants the user permissions.\n  5. Gets temporary credentials by assuming the role.  Creates an Amazon S3 Service client object with the temporary credentials.\n  6. Deletes the resources.\n */\n\npublic class IAMScenario {\n    public static final String DASHES = new String(new char[80]).replace(&quot;\\0&quot;, &quot;-&quot;);\n    public static final String PolicyDocument =\n            &quot;{&quot; +\n                    &quot;  \\&quot;Version\\&quot;: \\&quot;2012-10-17\\&quot;,&quot; +\n                    &quot;  \\&quot;Statement\\&quot;: [&quot; +\n                    &quot;    {&quot; +\n                    &quot;        \\&quot;Effect\\&quot;: \\&quot;Allow\\&quot;,&quot; +\n                    &quot;        \\&quot;Action\\&quot;: [&quot; +\n                    &quot;            \\&quot;s3:*\\&quot;&quot; +\n                    &quot;       ],&quot; +\n                    &quot;       \\&quot;Resource\\&quot;: \\&quot;*\\&quot;&quot; +\n                    &quot;    }&quot; +\n                    &quot;   ]&quot; +\n                    &quot;}&quot;;\n\n    public static void main(String[] args) throws Exception {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;username&gt; &lt;policyName&gt; &lt;roleName&gt; &lt;roleSessionName&gt; &lt;fileLocation&gt; &lt;bucketName&gt; \\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    username - The name of the IAM user to create. \\n\\n&quot; +\n            &quot;    policyName - The name of the policy to create. \\n\\n&quot; +\n            &quot;    roleName - The name of the role to create. \\n\\n&quot; +\n            &quot;    roleSessionName - The name of the session required for the assumeRole operation. \\n\\n&quot; +\n            &quot;    fileLocation - The file location to the JSON required to create the role (see Readme). \\n\\n&quot; +\n            &quot;    bucketName - The name of the Amazon S3 bucket from which objects are read. \\n\\n&quot; ;\n\n        if (args.length != 6) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n\n        String userName = args[0];\n        String policyName = args[1];\n        String roleName = args[2];\n        String roleSessionName = args[3];\n        String fileLocation = args[4];\n        String bucketName = args[5];\n\n        Region region = Region.AWS_GLOBAL;\n        IamClient iam = IamClient.builder()\n            .region(region)\n            .credentialsProvider(ProfileCredentialsProvider.create())\n            .build();\n\n        System.out.println(DASHES);\n        System.out.println(&quot;Welcome to the AWS IAM example scenario.&quot;);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot; 1. Create the IAM user.&quot;);\n        Boolean createUser = createIAMUser(iam, userName);\n        System.out.println(DASHES);\n\n       if (createUser) {\n           System.out.println(userName + &quot; was successfully created.&quot;);\n\n           System.out.println(DASHES);\n           System.out.println(&quot;2. Creates a policy.&quot;);\n           String polArn = createIAMPolicy(iam, policyName);\n           System.out.println(&quot;The policy &quot; + polArn + &quot; was successfully created.&quot;);\n           System.out.println(DASHES);\n\n           System.out.println(DASHES);\n           System.out.println(&quot;3. Creates a role.&quot;);\n           String roleArn = createIAMRole(iam, roleName, fileLocation);\n           System.out.println(roleArn + &quot; was successfully created.&quot;);\n           System.out.println(DASHES);\n\n           System.out.println(DASHES);\n           System.out.println(&quot;4. Grants the user permissions.&quot;);\n           attachIAMRolePolicy(iam, roleName, polArn);\n           System.out.println(DASHES);\n\n           System.out.println(DASHES);\n           System.out.println(&quot;*** Wait for 1 MIN so the resource is available&quot;);\n           TimeUnit.MINUTES.sleep(1);\n           System.out.println(&quot;5. Gets temporary credentials by assuming the role.&quot;);\n           System.out.println(&quot;Perform an Amazon S3 Service operation using the temporary credentials.&quot;);\n           assumeGivenRole(roleArn, roleSessionName, bucketName);\n           System.out.println(DASHES);\n\n           System.out.println(DASHES);\n           System.out.println(&quot;6 Getting ready to delete the AWS resources&quot;);\n           deleteRole(iam, roleName, polArn);\n           deleteIAMUser(iam, userName);\n           System.out.println(DASHES);\n\n           System.out.println(DASHES);\n           System.out.println(&quot;This IAM Scenario has successfully completed&quot;);\n           System.out.println(DASHES);\n       } else {\n           System.out.println(userName +&quot; was not successfully created.&quot;);\n       }\n    }\n\n    public static Boolean createIAMUser(IamClient iam, String username ) {\n\n        try {\n            // Create an IamWaiter object\n            IamWaiter iamWaiter = iam.waiter();\n            CreateUserRequest request = CreateUserRequest.builder()\n                .userName(username)\n                .build();\n\n            // Wait until the user is created.\n            CreateUserResponse response = iam.createUser(request);\n            GetUserRequest userRequest = GetUserRequest.builder()\n                .userName(response.user().userName())\n                .build();\n\n            WaiterResponse&lt;GetUserResponse&gt; waitUntilUserExists = iamWaiter.waitUntilUserExists(userRequest);\n            waitUntilUserExists.matched().response().ifPresent(System.out::println);\n            return true;\n\n        } catch (IamException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n        return false;\n    }\n\n    public static String createIAMRole(IamClient iam, String rolename, String fileLocation ) throws Exception {\n\n        try {\n            JSONObject jsonObject = (JSONObject) readJsonSimpleDemo(fileLocation);\n            CreateRoleRequest request = CreateRoleRequest.builder()\n                .roleName(rolename)\n                .assumeRolePolicyDocument(jsonObject.toJSONString())\n                .description(&quot;Created using the AWS SDK for Java&quot;)\n                .build();\n\n            CreateRoleResponse response = iam.createRole(request);\n            System.out.println(&quot;The ARN of the role is &quot;+response.role().arn());\n            return response.role().arn();\n\n        } catch (IamException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n        return &quot;&quot;;\n    }\n\n    public static String createIAMPolicy(IamClient iam, String policyName ) {\n\n        try {\n            // Create an IamWaiter object.\n            IamWaiter iamWaiter = iam.waiter();\n            CreatePolicyRequest request = CreatePolicyRequest.builder()\n                .policyName(policyName)\n                .policyDocument(PolicyDocument).build();\n\n            CreatePolicyResponse response = iam.createPolicy(request);\n\n            // Wait until the policy is created.\n            GetPolicyRequest polRequest = GetPolicyRequest.builder()\n                .policyArn(response.policy().arn())\n                .build();\n\n            WaiterResponse&lt;GetPolicyResponse&gt; waitUntilPolicyExists = iamWaiter.waitUntilPolicyExists(polRequest);\n            waitUntilPolicyExists.matched().response().ifPresent(System.out::println);\n            return response.policy().arn();\n\n        } catch (IamException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n        return &quot;&quot; ;\n    }\n\n    public static void attachIAMRolePolicy(IamClient iam, String roleName, String policyArn ) {\n\n        try {\n            ListAttachedRolePoliciesRequest request = ListAttachedRolePoliciesRequest.builder()\n                .roleName(roleName)\n                .build();\n\n            ListAttachedRolePoliciesResponse response = iam.listAttachedRolePolicies(request);\n            List&lt;AttachedPolicy&gt; attachedPolicies = response.attachedPolicies();\n\n            String polArn;\n            for (AttachedPolicy policy: attachedPolicies) {\n                polArn = policy.policyArn();\n                if (polArn.compareTo(policyArn)==0) {\n                    System.out.println(roleName + &quot; policy is already attached to this role.&quot;);\n                    return;\n                }\n            }\n\n            AttachRolePolicyRequest attachRequest = AttachRolePolicyRequest.builder()\n                .roleName(roleName)\n                .policyArn(policyArn)\n                .build();\n\n            iam.attachRolePolicy(attachRequest);\n            System.out.println(&quot;Successfully attached policy &quot; + policyArn + &quot; to role &quot; + roleName);\n\n        } catch (IamException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n\n    // Invoke an Amazon S3 operation using the Assumed Role.\n    public static void assumeGivenRole(String roleArn, String roleSessionName, String bucketName) {\n\n        StsClient stsClient = StsClient.builder()\n            .region(Region.US_EAST_1)\n            .build();\n\n        try {\n            AssumeRoleRequest roleRequest = AssumeRoleRequest.builder()\n                .roleArn(roleArn)\n                .roleSessionName(roleSessionName)\n                .build();\n\n            AssumeRoleResponse roleResponse = stsClient.assumeRole(roleRequest);\n            Credentials myCreds = roleResponse.credentials();\n            String key = myCreds.accessKeyId();\n            String secKey = myCreds.secretAccessKey();\n            String secToken = myCreds.sessionToken();\n\n            // List all objects in an Amazon S3 bucket using the temp creds.\n            Region region = Region.US_EAST_1;\n            S3Client s3 = S3Client.builder()\n                .credentialsProvider(StaticCredentialsProvider.create(AwsSessionCredentials.create(key, secKey, secToken)))\n                .region(region)\n                .build();\n\n            System.out.println(&quot;Created a S3Client using temp credentials.&quot;);\n            System.out.println(&quot;Listing objects in &quot;+bucketName);\n            ListObjectsRequest listObjects = ListObjectsRequest.builder()\n                .bucket(bucketName)\n                .build();\n\n            ListObjectsResponse res = s3.listObjects(listObjects);\n            List&lt;S3Object&gt; objects = res.contents();\n            for (S3Object myValue : objects) {\n                System.out.println(&quot;The name of the key is &quot; + myValue.key());\n                System.out.println(&quot;The owner is &quot; + myValue.owner());\n            }\n\n        } catch (StsException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n    }\n\n    public static void deleteRole(IamClient iam, String roleName, String polArn) {\n\n        try {\n            // First the policy needs to be detached.\n            DetachRolePolicyRequest rolePolicyRequest = DetachRolePolicyRequest.builder()\n                .policyArn(polArn)\n                .roleName(roleName)\n                .build();\n\n            iam.detachRolePolicy(rolePolicyRequest);\n\n            // Delete the policy.\n            DeletePolicyRequest request = DeletePolicyRequest.builder()\n                .policyArn(polArn)\n                .build();\n\n            iam.deletePolicy(request);\n            System.out.println(&quot;*** Successfully deleted &quot;+polArn);\n\n            // Delete the role.\n            DeleteRoleRequest roleRequest = DeleteRoleRequest.builder()\n                .roleName(roleName)\n                .build();\n\n            iam.deleteRole(roleRequest);\n            System.out.println(&quot;*** Successfully deleted &quot; +roleName);\n\n        } catch (IamException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n\n    public static void deleteIAMUser(IamClient iam, String userName) {\n\n        try {\n            DeleteUserRequest request = DeleteUserRequest.builder()\n                .userName(userName)\n                .build();\n\n            iam.deleteUser(request);\n            System.out.println(&quot;*** Successfully deleted &quot; + userName);\n\n        } catch (IamException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n\n    public static Object readJsonSimpleDemo(String filename) throws Exception {\n        FileReader reader = new FileReader(filename);\n        JSONParser jsonParser = new JSONParser();\n        return jsonParser.parse(reader);\n    }\n}\n\n</code></pre>\n<h3></h3>\n<hr />\n<p><em>Original Answer:</em></p>\n<h3>PutBucketPolicy</h3>\n<p>If you don't have <code>PutBucketPolicy</code> permissions, Amazon S3 returns a <code>403 Access Denied</code> error. If you have the correct permissions, but you're not using an identity that belongs to the bucket owner's account, Amazon S3 returns a <code>405 Method Not Allowed</code> error.</p>\n<p>You can check out for more from AWS API Reference: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketPolicy.html\" rel=\"nofollow noreferrer\">PutBucketPolicy</a></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74613543,"answer_count":1,"score":1,"last_activity_date":1669750134,"creation_date":1669721643,"question_id":74613462,"body_markdown":"We use Minio as our backend service but we communicate with it through \r\n\r\n    software.amazon.awssdk.services.s3.S3Client\r\n\r\nI see that this class contains method `putBucketPolicy`\r\n\r\nbut I don&#39;t see any method which allow to assign policy to user. Is there any way to assigh user policy using S3Client ?","title":"How to setup user policy for the minio bucket using s3Client?","body":"<p>We use Minio as our backend service but we communicate with it through</p>\n<pre><code>software.amazon.awssdk.services.s3.S3Client\n</code></pre>\n<p>I see that this class contains method <code>putBucketPolicy</code></p>\n<p>but I don't see any method which allow to assign policy to user. Is there any way to assigh user policy using S3Client ?</p>\n"},{"tags":["java","spring","grails","grails-orm"],"answers":[{"tags":[],"owner":{"account_id":3512861,"reputation":326,"user_id":2936778,"accept_rate":50,"display_name":"Orubel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669749792,"creation_date":1669749792,"answer_id":74619249,"question_id":74605584,"body_markdown":"Not that I am aware but it is unnecessary as the function is very simple (AFAIK):\r\n\r\n    if(Objects.nonNull(userService.save(user))){\r\n        return user;\r\n    }else{\r\n        // throw error\r\n    }\r\n\r\n","title":"Does Spring Data has a configuration like grails gorm save failOnError?","body":"<p>Not that I am aware but it is unnecessary as the function is very simple (AFAIK):</p>\n<pre><code>if(Objects.nonNull(userService.save(user))){\n    return user;\n}else{\n    // throw error\n}\n</code></pre>\n"}],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669749792,"creation_date":1669663432,"question_id":74605584,"body_markdown":"So we have a project first created with grails using gorm, now we are migrating everything to spring boot, and we are using Spring Data, on gorm hibernate save method, there was an parameter failOnError that throw a `grails.validation.ValidationException` if validation fails. My question is if I can configure this on Spring Data with hibernate, if yes where I can configure? Can&#39;t found on the documentation.","title":"Does Spring Data has a configuration like grails gorm save failOnError?","body":"<p>So we have a project first created with grails using gorm, now we are migrating everything to spring boot, and we are using Spring Data, on gorm hibernate save method, there was an parameter failOnError that throw a <code>grails.validation.ValidationException</code> if validation fails. My question is if I can configure this on Spring Data with hibernate, if yes where I can configure? Can't found on the documentation.</p>\n"},{"tags":["java","sql","date","date-format","localdate"],"comments":[{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":2,"creation_date":1669504998,"post_id":74586223,"comment_id":131656471,"body_markdown":"you have to provide recreatable example with type of expection you got in order to get some answer about 1st question.  See how you can format LocalDate: https://stackoverflow.com/questions/43605744/java-localdate-formatting","body":"you have to provide recreatable example with type of expection you got in order to get some answer about 1st question.  See how you can format LocalDate: <a href=\"https://stackoverflow.com/questions/43605744/java-localdate-formatting\" title=\"java localdate formatting\">stackoverflow.com/questions/43605744/java-localdate-formatti&zwnj;&#8203;ng</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1669505626,"post_id":74586223,"comment_id":131656556,"body_markdown":"[Please read this](https://www.baeldung.com/java-convert-localdate-sql-date) to convert LocalDate to java.sql.Date and visa versa.","body":"<a href=\"https://www.baeldung.com/java-convert-localdate-sql-date\" rel=\"nofollow noreferrer\">Please read this</a> to convert LocalDate to java.sql.Date and visa versa."},{"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"score":1,"creation_date":1669507574,"post_id":74586223,"comment_id":131656790,"body_markdown":"@DevilsHnd So from what I can tell, method 2 is what I am doing, but getting the error.","body":"@DevilsHnd So from what I can tell, method 2 is what I am doing, but getting the error."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1669507938,"post_id":74586223,"comment_id":131656831,"body_markdown":"Make sure your **import** is `java.sql.Date` and **not** the antique `java.util.Date`. What error?","body":"Make sure your <b>import</b> is <code>java.sql.Date</code> and <b>not</b> the antique <code>java.util.Date</code>. What error?"},{"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"score":0,"creation_date":1669508004,"post_id":74586223,"comment_id":131656838,"body_markdown":"@rostIvan Thanks, looks like DateTimeFormatter is exactly what I need. As for question 1, I am not sure what else I can provide. I went ahead and tested the exact lines of code using this online compiler and it seems to work fine (I also removed the java.sql.Date import to double check it was using the correct one): https://onecompiler.com/java/3yq5ym4f6","body":"@rostIvan Thanks, looks like DateTimeFormatter is exactly what I need. As for question 1, I am not sure what else I can provide. I went ahead and tested the exact lines of code using this online compiler and it seems to work fine (I also removed the java.sql.Date import to double check it was using the correct one): <a href=\"https://onecompiler.com/java/3yq5ym4f6\" rel=\"nofollow noreferrer\">onecompiler.com/java/3yq5ym4f6</a>"},{"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"score":0,"creation_date":1669508100,"post_id":74586223,"comment_id":131656849,"body_markdown":"@DevilsHnd I can confirm I am using import java.sql.Date . The error is in the first sentence of the question where it does not recognize valueOf(java.time.LocalDate)","body":"@DevilsHnd I can confirm I am using import java.sql.Date . The error is in the first sentence of the question where it does not recognize valueOf(java.time.LocalDate)"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1669508410,"post_id":74586223,"comment_id":131656884,"body_markdown":"I can not reproduce the Error. Code works for me.","body":"I can not reproduce the Error. Code works for me."},{"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"score":0,"creation_date":1669508811,"post_id":74586223,"comment_id":131656933,"body_markdown":"@DevilsHnd I wish I could say the same haha. I added a direct screenshot to the error in case I had didn&#39;t copy it correctly.","body":"@DevilsHnd I wish I could say the same haha. I added a direct screenshot to the error in case I had didn&#39;t copy it correctly."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669511787,"post_id":74586223,"comment_id":131657259,"body_markdown":"@DevilsHnd `java.util.Date` has no `valueOf` methods. So that cannot be the cause. The OP&#39;s error message does seem to be a true mystery.","body":"@DevilsHnd <code>java.util.Date</code> has no <code>valueOf</code> methods. So that cannot be the cause. The OP&#39;s error message does seem to be a true mystery."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669537746,"post_id":74586223,"comment_id":131660089,"body_markdown":"You should not use `java.sql.Date`. Since JDBC 4.2 your database can readily accept a modern `LocalDate` object. See [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2).","body":"You should not use <code>java.sql.Date</code>. Since JDBC 4.2 your database can readily accept a modern <code>LocalDate</code> object. See <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669537790,"post_id":74586223,"comment_id":131660096,"body_markdown":"Which is your java version? Up until Java 7 `java.sql.Date` only had a `valueOf(String)` method, which might explain your error message. (And yes, in the end this comment may contradict my previous comment, depending on your answer. JDBC 4.2 requires at least Java 8.)","body":"Which is your java version? Up until Java 7 <code>java.sql.Date</code> only had a <code>valueOf(String)</code> method, which might explain your error message. (And yes, in the end this comment may contradict my previous comment, depending on your answer. JDBC 4.2 requires at least Java 8.)"},{"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"score":1,"creation_date":1669567299,"post_id":74586223,"comment_id":131665532,"body_markdown":"@OleV.V. in my build.gradle I am seeing `sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8`","body":"@OleV.V. in my build.gradle I am seeing <code>sourceCompatibility JavaVersion.VERSION_1_8         targetCompatibility JavaVersion.VERSION_1_8</code>"}],"answers":[{"comments":[{"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"score":0,"creation_date":1669513404,"post_id":74586827,"comment_id":131657427,"body_markdown":"Ah, I see... well if I shouldn&#39;t use java.sql.Date either, then it&#39;s not too bad if I ignore this error. Should I be storing LocalDate into the database directly then? Or do I convert the LocalDate into a string and then store that instead? (I was going to take a similar approach with java.sql.Date)","body":"Ah, I see... well if I shouldn&#39;t use java.sql.Date either, then it&#39;s not too bad if I ignore this error. Should I be storing LocalDate into the database directly then? Or do I convert the LocalDate into a string and then store that instead? (I was going to take a similar approach with java.sql.Date)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669525816,"post_id":74586827,"comment_id":131658564,"body_markdown":"@dan See my edits addressing your points.","body":"@dan See my edits addressing your points."},{"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"score":0,"creation_date":1669526896,"post_id":74586827,"comment_id":131658680,"body_markdown":"Very thorough, thank you. I too was not sure why there were many downvotes. I tried a few things in Intellij to address the error: restarted, invalidated caches. Both of these did not work unfortunately. I don&#39;t want to go through the trouble of reinstalling, but since I will be using only LocalDate now I am not too worried. I have been reading up on a few posts regarding the interaction between LocalDate and DATE columns in database so hopefully I can get it all working from here.","body":"Very thorough, thank you. I too was not sure why there were many downvotes. I tried a few things in Intellij to address the error: restarted, invalidated caches. Both of these did not work unfortunately. I don&#39;t want to go through the trouble of reinstalling, but since I will be using only LocalDate now I am not too worried. I have been reading up on a few posts regarding the interaction between LocalDate and DATE columns in database so hopefully I can get it all working from here."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669749418,"creation_date":1669512171,"answer_id":74586827,"question_id":74586223,"body_markdown":"# A real mystery\r\n\r\nYour code should indeed work in Java 8+. \r\n\r\nYour error message:\r\n\r\n&gt;valueOf(java.lang.String)&#39; in &#39;java.sql.Date&#39; cannot be applied to &#39;(java.time.LocalDate)\r\n\r\n… does indeed seem to be a true mystery. \r\n\r\nSome other folks here suggested you were using `java.util.Date` rather than `java.sql.Date`. That cannot be the case. The  [`java.util.Date`][1] class has no `valueOf` methods. \r\n\r\nSee these two lines:\r\n\r\n```java\r\nLocalDate localDate = LocalDate.of( 2023 , 1 , 23 ) ;\r\njava.sql.Date sqlDate = java.sql.Date.valueOf( localDate ) ;\r\n```\r\n\r\n… [run at Ideone.com][2]:\r\n\r\n&gt;2023-01-23\r\n&gt;\r\n&gt;2023-01-23\r\n\r\n## IDE confused?\r\n\r\nMy only wild guess is that your [IDE][3] is having a brain spasm. \r\n\r\nOn occasion, any of the major IDEs (IntelliJ, Eclipse, NetBeans) can become frightfully confused. I suggest you first restart the IDE and your computer. Then search for tips on doing a reset. At the very least, look for ways to do a &quot;clean&quot;, then rebuild your project. Perhaps you&#39;ll need to go further, looking for ways to &quot;flush caches&quot; or some such option.\r\n\r\n# Database\r\n\r\nYou said:\r\n\r\n&gt;My end goal is to then pass my sqlDate to a database, hopefully I am taking the correct approach for doing so.\r\n\r\nNo, never use the `java.sql.Date` class. It was replaced years ago by `java.time.LocalDate`. As of JDBC 4.2 and later, support for `LocalDate` is required of all JDBC drivers.\r\n\r\nWriting to database:\r\n\r\n    myPreparedStatement.setObject( … , localDate ) ;\r\n\r\nRetrieval:\r\n\r\n    LocalDate localDate = myResultSet.getObject( … , LocalDate.class ) ;\r\n\r\nYou commented:\r\n\r\n&gt;Should I be storing LocalDate into the database directly then?\r\n\r\nAvoid the legacy date-time classes wherever you can. Use only *java.time* classes wherever you can. The *java.time* framework is industry-leading. \r\n\r\nAmong the many flaws in `java.sql.Date` is that it *pretends* to represent a date-only but actually has a time-of-day with an implied offset-from-UTC. And I think you&#39;ll find a separate time zone buried in that source code as well. A terrible mess. \r\n\r\nIn contrast, a `java.time.LocalDate` truly represents a date only value. Just a year, month, day, with no time-of-day, no offset, and no time zone.\r\n\r\nIf handed a `java.sql.Date` object, immediately convert to `LocalDate`. Use the new conversion methods added to the old classes.\r\n\r\n    LocalDate localDate = myJavaSqlDate.toLocalDate() ;\r\n\r\nYou commented:\r\n\r\n&gt; Or do I convert the LocalDate into a string and then store that instead? \r\n\r\nNo, avoid dumb strings where you have smart types available. If you use the *java.time* classes with a JDBC driver for JDBC 4.2+, you should have no problems. \r\n\r\nBut always do extensive experimentation and testing to be sure that  (a) you understand how it all works, and (b) that all seems to be operating correctly. I recommend always having a few basic stupid-simple tests in your code-base as a sanity-check, to confirm the basic operations are working. \r\n\r\n# Generating text\r\n\r\nYou said:\r\n\r\n&gt;My second problem is that I would like to format my month in MMM\r\n\r\nYou can hard-code a desired format for a `LocalDate` using `DateTimeFormatter`. Search Stack Overflow to learn more as this has been covered many many times already.\r\n\r\nI suggest alternatively letting *java.time* automatically localize. Again, search to learn more. Use a `Locale` language to specify the human language and cultural norms of localization. \r\n\r\n    Locale locale = Locale.UK ; \r\n    DateTimeFormatter f = \r\n        DateTimeFormatter\r\n        .ofLocalizedDate ( FormatStyle.LONG ) \r\n        .withLocale( locale ) ;\r\n    String output = localDate.format( f ) ;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.time.LocalDate)\r\n  [2]: https://ideone.com/\r\n  [3]: https://en.wikipedia.org/wiki/Integrated_development_environment","title":"java.sql.Date.valueOf(java.time.LocalDate) not recognized and LocalDate formatting","body":"<h1>A real mystery</h1>\n<p>Your code should indeed work in Java 8+.</p>\n<p>Your error message:</p>\n<blockquote>\n<p>valueOf(java.lang.String)' in 'java.sql.Date' cannot be applied to '(java.time.LocalDate)</p>\n</blockquote>\n<p>… does indeed seem to be a true mystery.</p>\n<p>Some other folks here suggested you were using <code>java.util.Date</code> rather than <code>java.sql.Date</code>. That cannot be the case. The  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.time.LocalDate)\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a> class has no <code>valueOf</code> methods.</p>\n<p>See these two lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate localDate = LocalDate.of( 2023 , 1 , 23 ) ;\njava.sql.Date sqlDate = java.sql.Date.valueOf( localDate ) ;\n</code></pre>\n<p>… <a href=\"https://ideone.com/\" rel=\"nofollow noreferrer\">run at Ideone.com</a>:</p>\n<blockquote>\n<p>2023-01-23</p>\n<p>2023-01-23</p>\n</blockquote>\n<h2>IDE confused?</h2>\n<p>My only wild guess is that your <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> is having a brain spasm.</p>\n<p>On occasion, any of the major IDEs (IntelliJ, Eclipse, NetBeans) can become frightfully confused. I suggest you first restart the IDE and your computer. Then search for tips on doing a reset. At the very least, look for ways to do a &quot;clean&quot;, then rebuild your project. Perhaps you'll need to go further, looking for ways to &quot;flush caches&quot; or some such option.</p>\n<h1>Database</h1>\n<p>You said:</p>\n<blockquote>\n<p>My end goal is to then pass my sqlDate to a database, hopefully I am taking the correct approach for doing so.</p>\n</blockquote>\n<p>No, never use the <code>java.sql.Date</code> class. It was replaced years ago by <code>java.time.LocalDate</code>. As of JDBC 4.2 and later, support for <code>LocalDate</code> is required of all JDBC drivers.</p>\n<p>Writing to database:</p>\n<pre><code>myPreparedStatement.setObject( … , localDate ) ;\n</code></pre>\n<p>Retrieval:</p>\n<pre><code>LocalDate localDate = myResultSet.getObject( … , LocalDate.class ) ;\n</code></pre>\n<p>You commented:</p>\n<blockquote>\n<p>Should I be storing LocalDate into the database directly then?</p>\n</blockquote>\n<p>Avoid the legacy date-time classes wherever you can. Use only <em>java.time</em> classes wherever you can. The <em>java.time</em> framework is industry-leading.</p>\n<p>Among the many flaws in <code>java.sql.Date</code> is that it <em>pretends</em> to represent a date-only but actually has a time-of-day with an implied offset-from-UTC. And I think you'll find a separate time zone buried in that source code as well. A terrible mess.</p>\n<p>In contrast, a <code>java.time.LocalDate</code> truly represents a date only value. Just a year, month, day, with no time-of-day, no offset, and no time zone.</p>\n<p>If handed a <code>java.sql.Date</code> object, immediately convert to <code>LocalDate</code>. Use the new conversion methods added to the old classes.</p>\n<pre><code>LocalDate localDate = myJavaSqlDate.toLocalDate() ;\n</code></pre>\n<p>You commented:</p>\n<blockquote>\n<p>Or do I convert the LocalDate into a string and then store that instead?</p>\n</blockquote>\n<p>No, avoid dumb strings where you have smart types available. If you use the <em>java.time</em> classes with a JDBC driver for JDBC 4.2+, you should have no problems.</p>\n<p>But always do extensive experimentation and testing to be sure that  (a) you understand how it all works, and (b) that all seems to be operating correctly. I recommend always having a few basic stupid-simple tests in your code-base as a sanity-check, to confirm the basic operations are working.</p>\n<h1>Generating text</h1>\n<p>You said:</p>\n<blockquote>\n<p>My second problem is that I would like to format my month in MMM</p>\n</blockquote>\n<p>You can hard-code a desired format for a <code>LocalDate</code> using <code>DateTimeFormatter</code>. Search Stack Overflow to learn more as this has been covered many many times already.</p>\n<p>I suggest alternatively letting <em>java.time</em> automatically localize. Again, search to learn more. Use a <code>Locale</code> language to specify the human language and cultural norms of localization.</p>\n<pre><code>Locale locale = Locale.UK ; \nDateTimeFormatter f = \n    DateTimeFormatter\n    .ofLocalizedDate ( FormatStyle.LONG ) \n    .withLocale( locale ) ;\nString output = localDate.format( f ) ;\n</code></pre>\n"}],"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":74586827,"answer_count":1,"score":-1,"last_activity_date":1669749418,"creation_date":1669503482,"question_id":74586223,"body_markdown":"The code below gives me the [error][1] `&#39;valueOf(java.lang.String)&#39; in &#39;java.sql.Date&#39; cannot be applied to &#39;(java.time.LocalDate)&#39;`, which I understand means that valueOf is expecting a string... but according to [this post][2], it should also be able to accept a LocalDate.\r\n\r\n    LocalDate releaseDate = LocalDate.of(year, month, day);\r\n    Date sqlDate = Date.valueOf(releaseDate);\r\n\r\nHere is the same code running on an online compiler: https://onecompiler.com/java/3yq5zkf6d\r\n\r\nWhat am I doing wrong?\r\n\r\nMy second problem is that I would like to format my month in MMM without having to use java.util.Date (I read somewhere that LocalDate is now preferred and so I have been trying to avoid java.util.Date):\r\n\r\n    int year = selectedYear;\r\n    int month = selectedMonth;\r\n    int day = selectedDay;\r\n\r\n    binding.buttonReleaseDate.setText(** formatted date string would go here **);\r\n\r\nMy end goal is to then pass my sqlDate to a database, hopefully I am taking the correct approach for doing so.\r\n\r\nAppreciate any help I can get with this. \r\n\r\n\r\n  [1]: https://i.gyazo.com/462ee0873933cd990fde04d2448cf183.png\r\n  [2]: https://stackoverflow.com/a/29751575/9205480","title":"java.sql.Date.valueOf(java.time.LocalDate) not recognized and LocalDate formatting","body":"<p>The code below gives me the <a href=\"https://i.gyazo.com/462ee0873933cd990fde04d2448cf183.png\" rel=\"nofollow noreferrer\">error</a> <code>'valueOf(java.lang.String)' in 'java.sql.Date' cannot be applied to '(java.time.LocalDate)'</code>, which I understand means that valueOf is expecting a string... but according to <a href=\"https://stackoverflow.com/a/29751575/9205480\">this post</a>, it should also be able to accept a LocalDate.</p>\n<pre><code>LocalDate releaseDate = LocalDate.of(year, month, day);\nDate sqlDate = Date.valueOf(releaseDate);\n</code></pre>\n<p>Here is the same code running on an online compiler: <a href=\"https://onecompiler.com/java/3yq5zkf6d\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3yq5zkf6d</a></p>\n<p>What am I doing wrong?</p>\n<p>My second problem is that I would like to format my month in MMM without having to use java.util.Date (I read somewhere that LocalDate is now preferred and so I have been trying to avoid java.util.Date):</p>\n<pre><code>int year = selectedYear;\nint month = selectedMonth;\nint day = selectedDay;\n\nbinding.buttonReleaseDate.setText(** formatted date string would go here **);\n</code></pre>\n<p>My end goal is to then pass my sqlDate to a database, hopefully I am taking the correct approach for doing so.</p>\n<p>Appreciate any help I can get with this.</p>\n"},{"tags":["java","git","spring-boot","spring-cloud-config"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1669639804,"post_id":74599943,"comment_id":131680828,"body_markdown":"An answer provided, if it suits you requirement please consider to upvote and accept it, otherwise feel free to leave comment, i will gladly try to help you.","body":"An answer provided, if it suits you requirement please consider to upvote and accept it, otherwise feel free to leave comment, i will gladly try to help you."}],"answers":[{"comments":[{"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"score":0,"creation_date":1669691307,"post_id":74600845,"comment_id":131694824,"body_markdown":"Did not understand what is missing in my current property files or code. Or what do I need to do to get rid of the error.","body":"Did not understand what is missing in my current property files or code. Or what do I need to do to get rid of the error."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1669705292,"post_id":74600845,"comment_id":131697067,"body_markdown":"@kakoli have you seen the &#39;pom&#39; file dependency ? cause there isnt any &#39;spring-cloud-config-server&#39; nor &#39;spring-cloud-starter-config&#39; dependency with in server config and client &#39;pom&#39; file that you shared.","body":"@kakoli have you seen the &#39;pom&#39; file dependency ? cause there isnt any &#39;spring-cloud-config-server&#39; nor &#39;spring-cloud-starter-config&#39; dependency with in server config and client &#39;pom&#39; file that you shared."},{"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"score":0,"creation_date":1669748448,"post_id":74600845,"comment_id":131712085,"body_markdown":"Client pom.xml has spring-cloud-starter-config.\nServer pom.xml has spring-cloud-config-server","body":"Client pom.xml has spring-cloud-starter-config. Server pom.xml has spring-cloud-config-server"}],"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669639733,"creation_date":1669639733,"answer_id":74600845,"question_id":74599943,"body_markdown":"I believe you follow the first boot-strapping for your central cloud registration to do so you need following artifact with in your client service `pom` file.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdd the following properties to you client service property file `application.prop` \r\n\r\n    spring.application.name=systems-lookup-service\r\n    spring.cloud.config.uri=http://localhost:&quot;cloud-config-port&quot;\r\n    spring.profiles.active=dev\r\n    spring.config.import=optional:configserver:\r\n\r\nWith in main class on central cloud config add the annotation `@EnableConfigServer` and within it `pom` file add following artifact\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nappend following properties to your central cloud config property file\r\n\r\n    spring.application.name=configuration-server\r\n    server.port=8780\r\n    management.endpoints.web.exposure.include=*\r\n    spring.cloud.config.server.git.uri=file:absoluthe-path\r\n    spring.cloud.config.server.git.clone-on-start=true\r\n    spring.cloud.config.allowOverride=true\r\n\r\nFinally add your client service properties in your gitrepo with naming `servicename-profile` convention.\r\n\r\n**Extra point** \r\n\r\nYou may consider to use spring cloud boss, for hot reloading the configs and not restarting services to handshake again, find out more in [here][1].\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-bus","title":"Spring cloud-config client giving error Failed to configure a DataSource: &#39;url&#39; attribute is not specified","body":"<p>I believe you follow the first boot-strapping for your central cloud registration to do so you need following artifact with in your client service <code>pom</code> file.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Add the following properties to you client service property file <code>application.prop</code></p>\n<pre><code>spring.application.name=systems-lookup-service\nspring.cloud.config.uri=http://localhost:&quot;cloud-config-port&quot;\nspring.profiles.active=dev\nspring.config.import=optional:configserver:\n</code></pre>\n<p>With in main class on central cloud config add the annotation <code>@EnableConfigServer</code> and within it <code>pom</code> file add following artifact</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>append following properties to your central cloud config property file</p>\n<pre><code>spring.application.name=configuration-server\nserver.port=8780\nmanagement.endpoints.web.exposure.include=*\nspring.cloud.config.server.git.uri=file:absoluthe-path\nspring.cloud.config.server.git.clone-on-start=true\nspring.cloud.config.allowOverride=true\n</code></pre>\n<p>Finally add your client service properties in your gitrepo with naming <code>servicename-profile</code> convention.</p>\n<p><strong>Extra point</strong></p>\n<p>You may consider to use spring cloud boss, for hot reloading the configs and not restarting services to handshake again, find out more in <a href=\"https://spring.io/projects/spring-cloud-bus\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1669797055,"post_id":74619093,"comment_id":131722186,"body_markdown":"Are you familiar with client side boot-strap approach ? disabling datasource auto-configuration is **not definitely** a solution, the whole problem is about handshaking from server and client to pass environment properties from parent context of IOC to the IOC, which datasource configuration and bean declarations is definitely happens when IOC initiated. completely irrelevant. if you had some thing else in mind about disabling datasource next time try to address is directly https://stackoverflow.com/help/minimal-reproducible-example for saving the time of people who providing answers.","body":"Are you familiar with client side boot-strap approach ? disabling datasource auto-configuration is <b>not definitely</b> a solution, the whole problem is about handshaking from server and client to pass environment properties from parent context of IOC to the IOC, which datasource configuration and bean declarations is definitely happens when IOC initiated. completely irrelevant. if you had some thing else in mind about disabling datasource next time try to address is directly <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> for saving the time of people who providing answers."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1669798510,"post_id":74619093,"comment_id":131722608,"body_markdown":"In this book you can find more insights about client side bootstrap approached Piotr Mińkowski - Mastering Spring Cloud (2018) - page 141 . and getting more familiar with bootstrap context lifecycle and functionalities.","body":"In this book you can find more insights about client side bootstrap approached Piotr Mińkowski - Mastering Spring Cloud (2018) - page 141 . and getting more familiar with bootstrap context lifecycle and functionalities."}],"tags":[],"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669748862,"creation_date":1669748862,"answer_id":74619093,"question_id":74599943,"body_markdown":"Disabled auto-configuration of the data source by annotating client main with @SpringBootApplication(exclude={DataSourceAutoConfiguration.class})","title":"Spring cloud-config client giving error Failed to configure a DataSource: &#39;url&#39; attribute is not specified","body":"<p>Disabled auto-configuration of the data source by annotating client main with @SpringBootApplication(exclude={DataSourceAutoConfiguration.class})</p>\n"}],"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669748862,"creation_date":1669635073,"question_id":74599943,"body_markdown":"1) Spring cloud-config server started with application.properties :\r\n\r\n```\r\nserver.port:8888\r\nspring.application.name=test-config-server\r\nspring.cloud.config.server.git.uri=https://gitlab.com/pearsontechnology/gpt/sms/sms-micro-services/config-server.git\r\nspring.cloud.config.server.git.default-label=develop\r\n\r\n#Private repo. access credentials\r\nspring.cloud.config.server.git.username=xxx\r\nspring.cloud.config.server.git.password=xxxx\r\n\r\nspring.cloud.config.server.git.clone-on-start=true\r\nspring.cloud.config.profile=dev\r\n\r\n```\r\n\r\nOn starting the config-client,\r\n*Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.*\r\n\r\nMy version of spring boot, spring-cloud and dependencies are as follows from pom.xml :\r\n\r\n```\r\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n&lt;java.version&gt;17&lt;/java.version&gt;\r\n&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\napplication.prop of config-client :\r\n\r\n```\r\nspring.application.name=systems-lookup-service\r\nspring.cloud.config.profile=dev\r\nspring.config.import=optional:configserver:\r\nserver.port=8081\r\n ```\r\nProperties related to Datasource like url etc. need to be taken from \r\nsystems-lookup-service-dev.properties hosted on Git.\r\n\r\n```\r\ncustom.url=jdbc:oracle:thin:@localhost:1998/smscert\r\ncustom.username=smscert\r\ncustom.password=go#salt\r\ncustom.driverClassName=\r\n\r\n```\r\n\r\nAnd the DAO class in config-client accessing the db :\r\n```\r\npublic class XXDaoImpl implements XXDao {\r\n\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @Autowired(required=false)\r\n    private DataSourceConfig config;\r\n\r\n    @Autowired\r\n    public SystemDaoImpl(JdbcTemplate jdbcTemplateIn){\r\n        final DataSource dataSource = DataSourceBuilder.create()\r\n                                                        .driverClassName(config.getDriverClassName())\r\n                                                        .url(config.getUrl())\r\n                                                        .username(config.getUsername())\r\n                                                        .password(config.getPassword())\r\n                                                        .build();\r\n        this.jdbcTemplate = new JdbcTemplate(dataSource);\r\n\r\n    }\r\n\t\r\n\t...............\r\n}\r\n\r\n\r\n@Component\r\n@ConfigurationProperties(&quot;custom&quot;)\r\npublic class DataSourceConfig {\r\n\r\n\tprivate String url;\r\n\r\n\tprivate String username;\r\n\r\n\tprivate String password;\r\n\r\n\t//@Value(&quot;${greeting.message}&quot;)\r\n\tprivate String driverClassName;\r\n    ....\r\n}\r\n","title":"Spring cloud-config client giving error Failed to configure a DataSource: &#39;url&#39; attribute is not specified","body":"<ol>\n<li>Spring cloud-config server started with application.properties :</li>\n</ol>\n<pre><code>server.port:8888\nspring.application.name=test-config-server\nspring.cloud.config.server.git.uri=https://gitlab.com/pearsontechnology/gpt/sms/sms-micro-services/config-server.git\nspring.cloud.config.server.git.default-label=develop\n\n#Private repo. access credentials\nspring.cloud.config.server.git.username=xxx\nspring.cloud.config.server.git.password=xxxx\n\nspring.cloud.config.server.git.clone-on-start=true\nspring.cloud.config.profile=dev\n\n</code></pre>\n<p>On starting the config-client,\n<em>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.</em></p>\n<p>My version of spring boot, spring-cloud and dependencies are as follows from pom.xml :</p>\n<pre><code>&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n&lt;java.version&gt;17&lt;/java.version&gt;\n&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>application.prop of config-client :</p>\n<pre><code>spring.application.name=systems-lookup-service\nspring.cloud.config.profile=dev\nspring.config.import=optional:configserver:\nserver.port=8081\n</code></pre>\n<p>Properties related to Datasource like url etc. need to be taken from\nsystems-lookup-service-dev.properties hosted on Git.</p>\n<pre><code>custom.url=jdbc:oracle:thin:@localhost:1998/smscert\ncustom.username=smscert\ncustom.password=go#salt\ncustom.driverClassName=\n\n</code></pre>\n<p>And the DAO class in config-client accessing the db :</p>\n<pre><code>public class XXDaoImpl implements XXDao {\n\n    private JdbcTemplate jdbcTemplate;\n\n    @Autowired(required=false)\n    private DataSourceConfig config;\n\n    @Autowired\n    public SystemDaoImpl(JdbcTemplate jdbcTemplateIn){\n        final DataSource dataSource = DataSourceBuilder.create()\n                                                        .driverClassName(config.getDriverClassName())\n                                                        .url(config.getUrl())\n                                                        .username(config.getUsername())\n                                                        .password(config.getPassword())\n                                                        .build();\n        this.jdbcTemplate = new JdbcTemplate(dataSource);\n\n    }\n    \n    ...............\n}\n\n\n@Component\n@ConfigurationProperties(&quot;custom&quot;)\npublic class DataSourceConfig {\n\n    private String url;\n\n    private String username;\n\n    private String password;\n\n    //@Value(&quot;${greeting.message}&quot;)\n    private String driverClassName;\n    ....\n}\n</code></pre>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"score":0,"creation_date":1669747810,"post_id":74618083,"comment_id":131711895,"body_markdown":"Is it a Junit test with just mockito or an integration test? Can you post whole unit test class with mocks and annotations you have?","body":"Is it a Junit test with just mockito or an integration test? Can you post whole unit test class with mocks and annotations you have?"},{"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"score":0,"creation_date":1669748020,"post_id":74618083,"comment_id":131711963,"body_markdown":"@VaibS this is just a JUnit test with mockito, there is no integration going on","body":"@VaibS this is just a JUnit test with mockito, there is no integration going on"},{"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"score":0,"creation_date":1669748181,"post_id":74618083,"comment_id":131712012,"body_markdown":"In that, I doubt a Spring component (MockRestServiceServer) is required and will work. You can just mock with when().then() and that should work","body":"In that, I doubt a Spring component (MockRestServiceServer) is required and will work. You can just mock with when().then() and that should work"}],"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669748455,"creation_date":1669743439,"question_id":74618083,"body_markdown":"I have the following mocked server:\r\n\r\n`mockInteractiveServer = MockRestServiceServer.createServer(oauthClientConfig.getRestTemplate());`\r\n\r\nI use this mocked server in a JUnit test case:\r\n\r\n        @Test\r\n        public void myTestMethod() throws Exception{\r\n            \r\n            HttpHeaders responseHeaders = new HttpHeaders();\r\n            responseHeaders.add(&quot;Location&quot;, &quot;samplePrefix/sampleTicketId&quot;);\r\n\r\n            mockInteractiveServer\r\n                .expect(ExpectedCount.once(), requestTo(new URI(&quot;mockURI&quot;)))\r\n                .andExpect(method(HttpMethod.POST))\r\n                .andExpect(content().string(&quot;validation content&quot;))\r\n                .andRespond(withStatus(HttpStatus.OK)\r\n                        .headers(responseHeaders));\r\n           \r\n            //calls the actual service, which should call the mocked server\r\n            String ticketId = interactiveTicketService.myMethod(new createTicketRequest());\r\n\r\n            assertThat(ticketId).isEqualTo(&quot;sampleTicketId&quot;);\r\n\r\n        }\r\n\r\nThe actual service, `InteractiveTicketService`, calls the server here:\r\n\r\n    public String myMethod(CreateTicketRequest createTicketRequest){\r\n\r\n        //This builds the model object\r\n        TicketRequest request = myBuilder.buildTicketRequest();\r\n   \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n\r\n        //createTicketResponse is null\r\n        ResponseEntity&lt;String&gt; createTicketResponse = iDOCClient.getRestTemplate()\r\n                .postForEntity(iDOCClient.getRequestUrl() + &quot;/interactive-documents&quot;, request, String.class);\r\n    }\r\n\r\n\r\nAnd this is the model class I am passing to the `postForEntity()` method:\r\n\r\n    public class MyTicket implements TicketRequest {\r\n\r\n      private List&lt;Document&gt; documents;\r\n      private PublishingRequestWrapper data;\r\n      private String assignedTo;\r\n      private String requestType;\r\n      private String templateGroup;\r\n      private List&lt;Object&gt; templates;\r\n      \r\n      //constructors, getters &amp; setters\r\n     }\r\n\r\nAgain, the issue I am facing is that the `ResponseEntity` is always null.","title":"MockRestServiceServer Returning Null ResponseEntity?","body":"<p>I have the following mocked server:</p>\n<p><code>mockInteractiveServer = MockRestServiceServer.createServer(oauthClientConfig.getRestTemplate());</code></p>\n<p>I use this mocked server in a JUnit test case:</p>\n<pre><code>    @Test\n    public void myTestMethod() throws Exception{\n        \n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.add(&quot;Location&quot;, &quot;samplePrefix/sampleTicketId&quot;);\n\n        mockInteractiveServer\n            .expect(ExpectedCount.once(), requestTo(new URI(&quot;mockURI&quot;)))\n            .andExpect(method(HttpMethod.POST))\n            .andExpect(content().string(&quot;validation content&quot;))\n            .andRespond(withStatus(HttpStatus.OK)\n                    .headers(responseHeaders));\n       \n        //calls the actual service, which should call the mocked server\n        String ticketId = interactiveTicketService.myMethod(new createTicketRequest());\n\n        assertThat(ticketId).isEqualTo(&quot;sampleTicketId&quot;);\n\n    }\n</code></pre>\n<p>The actual service, <code>InteractiveTicketService</code>, calls the server here:</p>\n<pre><code>public String myMethod(CreateTicketRequest createTicketRequest){\n\n    //This builds the model object\n    TicketRequest request = myBuilder.buildTicketRequest();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n\n    //createTicketResponse is null\n    ResponseEntity&lt;String&gt; createTicketResponse = iDOCClient.getRestTemplate()\n            .postForEntity(iDOCClient.getRequestUrl() + &quot;/interactive-documents&quot;, request, String.class);\n}\n</code></pre>\n<p>And this is the model class I am passing to the <code>postForEntity()</code> method:</p>\n<pre><code>public class MyTicket implements TicketRequest {\n\n  private List&lt;Document&gt; documents;\n  private PublishingRequestWrapper data;\n  private String assignedTo;\n  private String requestType;\n  private String templateGroup;\n  private List&lt;Object&gt; templates;\n  \n  //constructors, getters &amp; setters\n }\n</code></pre>\n<p>Again, the issue I am facing is that the <code>ResponseEntity</code> is always null.</p>\n"},{"tags":["java","selenium","user-interface","automation"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669748101,"post_id":74618909,"comment_id":131711989,"body_markdown":"In what line, as your source code has multiple calls to By.id, some of them use output of another method as argument?","body":"In what line, as your source code has multiple calls to By.id, some of them use output of another method as argument?"}],"answers":[{"comments":[{"owner":{"account_id":26549570,"reputation":1,"user_id":20179124,"display_name":"Adexis"},"score":0,"creation_date":1669750218,"post_id":74618979,"comment_id":131712605,"body_markdown":"Thank you very much! That was exactly what I did and it worked. Thanks a million.!","body":"Thank you very much! That was exactly what I did and it worked. Thanks a million.!"}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669748135,"creation_date":1669748135,"answer_id":74618979,"question_id":74618909,"body_markdown":"Since your `getUserNameLocator()` method returns a `By` type object and `ExpectedConditions.visibilityOfElementLocated()` method receives a `By` type value, you can use that inside `isLoaded()` method as following:\r\n```java\r\npublic boolean isLoaded(){\r\n\r\n    return wait.until(ExpectedConditions.visibilityOfElementLocated(getUserNameLocator())).isDisplayed();\r\n\r\n}\r\n```","title":"&#39;id(java.lang.String)&#39; in &#39;org.openqa.selenium.By&#39; cannot be applied to &#39;(org.openqa.selenium.By)&#39;","body":"<p>Since your <code>getUserNameLocator()</code> method returns a <code>By</code> type object and <code>ExpectedConditions.visibilityOfElementLocated()</code> method receives a <code>By</code> type value, you can use that inside <code>isLoaded()</code> method as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isLoaded(){\n\n    return wait.until(ExpectedConditions.visibilityOfElementLocated(getUserNameLocator())).isDisplayed();\n\n}\n</code></pre>\n"}],"owner":{"account_id":26549570,"reputation":1,"user_id":20179124,"display_name":"Adexis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669748135,"creation_date":1669747783,"question_id":74618909,"body_markdown":"I am trying to use By in selenium as a String to get my element but it is giving me the error &quot;&#39;id(java.lang.String)&#39; in &#39;org.openqa.selenium.By&#39; cannot be applied to &#39;(org.openqa.selenium.By)&#39;&quot;\r\n\r\nPlease assist me\r\nHere is my code:\r\n\r\n\r\n```\r\npackage adta;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\n\r\npublic class LoginPage extends BasePage {\r\n\r\n    public LoginPage(WebDriver driver) {\r\n       super(driver);\r\n    }\r\n\r\n    public By getUserNameLocator(){\r\n        return By.id(&quot;user-name&quot;);\r\n\r\n    }\r\n\r\n\r\n    public void open(){\r\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\r\n\r\n    }\r\n    public boolean isLoaded(){\r\n\r\n        return wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(getUserNameLocator()))).isDisplayed();\r\n\r\n    }\r\n\r\n\r\n    public void login(String username, String password) {\r\n        driver.findElement(By.id(getUserNameLocator())).sendKeys(username);\r\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(password);\r\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI have tried to search for answers online but no luck","title":"&#39;id(java.lang.String)&#39; in &#39;org.openqa.selenium.By&#39; cannot be applied to &#39;(org.openqa.selenium.By)&#39;","body":"<p>I am trying to use By in selenium as a String to get my element but it is giving me the error &quot;'id(java.lang.String)' in 'org.openqa.selenium.By' cannot be applied to '(org.openqa.selenium.By)'&quot;</p>\n<p>Please assist me\nHere is my code:</p>\n<pre><code>package adta;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\n\npublic class LoginPage extends BasePage {\n\n    public LoginPage(WebDriver driver) {\n       super(driver);\n    }\n\n    public By getUserNameLocator(){\n        return By.id(&quot;user-name&quot;);\n\n    }\n\n\n    public void open(){\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\n\n    }\n    public boolean isLoaded(){\n\n        return wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(getUserNameLocator()))).isDisplayed();\n\n    }\n\n\n    public void login(String username, String password) {\n        driver.findElement(By.id(getUserNameLocator())).sendKeys(username);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(password);\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\n    }\n}\n\n</code></pre>\n<p>I have tried to search for answers online but no luck</p>\n"},{"tags":["java","ant","intellij-idea"],"comments":[{"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"score":0,"creation_date":1333793699,"post_id":10053519,"comment_id":12864464,"body_markdown":"[Maybe a dependency JAR missing?](http://stackoverflow.com/questions/8667798/compile-failed-see-the-compiler-error-output-for-details)","body":"<a href=\"http://stackoverflow.com/questions/8667798/compile-failed-see-the-compiler-error-output-for-details\">Maybe a dependency JAR missing?</a>"}],"answers":[{"tags":[],"owner":{"account_id":121912,"reputation":3960,"user_id":315364,"display_name":"samlewis"},"comment_count":0,"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1333793533,"creation_date":1333793533,"answer_id":10053554,"question_id":10053519,"body_markdown":"To enable verbose output for ant: \r\n\r\n    ant -v\r\n\r\nor \r\n\r\n    ant -verbose\r\n","title":"How do I make ANT verbose?","body":"<p>To enable verbose output for ant: </p>\n\n<pre><code>ant -v\n</code></pre>\n\n<p>or </p>\n\n<pre><code>ant -verbose\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44507,"reputation":10307,"user_id":130683,"accept_rate":89,"display_name":"Rebse"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333836003,"creation_date":1333836003,"answer_id":10058727,"question_id":10053519,"body_markdown":"There are also possibilities for subtler logging, means changing the noiselevel for specific parts only, not for the whole ant script as ant -v or ant -debug does. See  https://stackoverflow.com/q/5462732/130683 for another question dealing with loglevel and answers.","title":"How do I make ANT verbose?","body":"<p>There are also possibilities for subtler logging, means changing the noiselevel for specific parts only, not for the whole ant script as ant -v or ant -debug does. See  <a href=\"https://stackoverflow.com/q/5462732/130683\">Make ant quiet without the -q flag?</a> for another question dealing with loglevel and answers.</p>\n"},{"comments":[{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":1,"creation_date":1391450420,"post_id":20643091,"comment_id":32517157,"body_markdown":"Note: If you get the error &quot;Problems opening file using a recorder entry&quot;, this may simply mean that the folder you&#39;re trying to save your log file in doesn&#39;t exist yet.","body":"Note: If you get the error &quot;Problems opening file using a recorder entry&quot;, this may simply mean that the folder you&#39;re trying to save your log file in doesn&#39;t exist yet."}],"tags":[],"owner":{"account_id":381533,"reputation":970,"user_id":736244,"display_name":"Gustavo Coelho"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1387308856,"creation_date":1387308856,"answer_id":20643091,"question_id":10053519,"body_markdown":"You can also enable logging on build.xml itself using task *record*. Here is documentation about it http://ant.apache.org/manual/Tasks/recorder.html\r\n\r\n    &lt;record name=&quot;/output/build.log&quot; loglevel=&quot;verbose&quot; action=&quot;start&quot;/&gt;\r\n\r\nIt&#180;s simple and works! :)","title":"How do I make ANT verbose?","body":"<p>You can also enable logging on build.xml itself using task <em>record</em>. Here is documentation about it <a href=\"http://ant.apache.org/manual/Tasks/recorder.html\" rel=\"noreferrer\">http://ant.apache.org/manual/Tasks/recorder.html</a></p>\n\n<pre><code>&lt;record name=\"/output/build.log\" loglevel=\"verbose\" action=\"start\"/&gt;\n</code></pre>\n\n<p>It´s simple and works! :)</p>\n"},{"tags":[],"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669748017,"creation_date":1669748017,"answer_id":74618954,"question_id":10053519,"body_markdown":"You can also use the environment variable ANT_ARGS:\r\n\r\n    export ANT_ARGS=&quot;-verbose&quot;\r\n\r\nThat applies even to ant builds executed via bash scripts.","title":"How do I make ANT verbose?","body":"<p>You can also use the environment variable ANT_ARGS:</p>\n<pre><code>export ANT_ARGS=&quot;-verbose&quot;\n</code></pre>\n<p>That applies even to ant builds executed via bash scripts.</p>\n"}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72393,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":10053554,"answer_count":4,"score":60,"last_activity_date":1669748017,"creation_date":1333793173,"question_id":10053519,"body_markdown":"Trying to build my project with ANT in idea 10 and I get a compile error but I don&#39;t see the actual error.\r\n \r\nHow do I make ANT verbose?\r\n \r\nAll I see is:\r\n \r\n\r\n    javac build.xml:303: Compile failed; see the compiler error output for\r\n    details. at\r\n    org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1150)\r\n    etc.... rest of ANT stack trace\r\n\r\n \r\nMy task looks like this:\r\n \r\n\r\n    &lt;javac includeantruntime=&quot;false&quot; destdir=&quot;${webapp.classes.dir}&quot; debug=&quot;true&quot;&gt;\r\n        &lt;src path=&quot;${src.dir}&quot;/&gt;\r\n        &lt;classpath refid=&quot;project.classpath&quot;/&gt;\r\n    &lt;/javac&gt;\r\n","title":"How do I make ANT verbose?","body":"<p>Trying to build my project with ANT in idea 10 and I get a compile error but I don't see the actual error.</p>\n\n<p>How do I make ANT verbose?</p>\n\n<p>All I see is:</p>\n\n<pre><code>javac build.xml:303: Compile failed; see the compiler error output for\ndetails. at\norg.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1150)\netc.... rest of ANT stack trace\n</code></pre>\n\n<p>My task looks like this:</p>\n\n<pre><code>&lt;javac includeantruntime=\"false\" destdir=\"${webapp.classes.dir}\" debug=\"true\"&gt;\n    &lt;src path=\"${src.dir}\"/&gt;\n    &lt;classpath refid=\"project.classpath\"/&gt;\n&lt;/javac&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-storage"],"answers":[{"comments":[{"owner":{"account_id":1410717,"reputation":181,"user_id":1337372,"accept_rate":0,"display_name":"sreejithpin"},"score":0,"creation_date":1495541605,"post_id":44122119,"comment_id":75287488,"body_markdown":"THanks Brandon, Actually I am very new to the whole concept. In this case I am not sure what are PROJECT_ID, PATH_TO_JSON_KEY, OBJECT_NAME etc (Bucket  name i know !). Please help","body":"THanks Brandon, Actually I am very new to the whole concept. In this case I am not sure what are PROJECT_ID, PATH_TO_JSON_KEY, OBJECT_NAME etc (Bucket  name i know !). Please help"},{"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"score":0,"creation_date":1495575930,"post_id":44122119,"comment_id":75308776,"body_markdown":"Whenever you are working in Google Cloud Storage, you are working within a &quot;project&quot;. It is the first thing you create and represents a group of work across several cloud tools that are all billed the same way. It has a string identifier; you&#39;ll see it on your homepage of the cloud console.","body":"Whenever you are working in Google Cloud Storage, you are working within a &quot;project&quot;. It is the first thing you create and represents a group of work across several cloud tools that are all billed the same way. It has a string identifier; you&#39;ll see it on your homepage of the cloud console."},{"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"score":0,"creation_date":1495576011,"post_id":44122119,"comment_id":75308810,"body_markdown":"A standalone program running Java code needs some sort of authorization to read objects. This is usually done by creating a service account in a project that represents that program. The service account will come with a JSON file that can be used by libraries to authenticate as that service account. PATH_TO_JSON_KEY is the location in your local filesystem of that file.","body":"A standalone program running Java code needs some sort of authorization to read objects. This is usually done by creating a service account in a project that represents that program. The service account will come with a JSON file that can be used by libraries to authenticate as that service account. PATH_TO_JSON_KEY is the location in your local filesystem of that file."},{"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"score":0,"creation_date":1495576053,"post_id":44122119,"comment_id":75308825,"body_markdown":"GCS buckets have globally unique names, like &quot;my-gcs-bucket-75&quot;. BUCKET_NAME is the name of the bucket from which you&#39;re reading. GCS objects also have names, perhaps like &quot;images/foo.jpeg&quot;. That&#39;s what OBJECT_NAME is.","body":"GCS buckets have globally unique names, like &quot;my-gcs-bucket-75&quot;. BUCKET_NAME is the name of the bucket from which you&#39;re reading. GCS objects also have names, perhaps like &quot;images/foo.jpeg&quot;. That&#39;s what OBJECT_NAME is."},{"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"score":0,"creation_date":1495576064,"post_id":44122119,"comment_id":75308831,"body_markdown":"You may find the tutorials here useful: https://cloud.google.com/getting-started/","body":"You may find the tutorials here useful: <a href=\"https://cloud.google.com/getting-started/\" rel=\"nofollow noreferrer\">cloud.google.com/getting-started</a>"},{"owner":{"account_id":9713070,"reputation":312,"user_id":7204288,"display_name":"Harshal_Kalavadiya"},"score":0,"creation_date":1544166434,"post_id":44122119,"comment_id":94187181,"body_markdown":"@BrandonYarbrough\nIt support only for Java 8 right?\nFor Java 7 what is the other option we can use?\nCan you please help me as I am using Java 7","body":"@BrandonYarbrough It support only for Java 8 right? For Java 7 what is the other option we can use? Can you please help me as I am using Java 7"}],"tags":[],"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1530766051,"creation_date":1495486946,"answer_id":44122119,"question_id":44121510,"body_markdown":"The simplest way to accomplish this is to use Google&#39;s [google-cloud][1] Java library. Downloading will look something like this:\r\n\r\n    String PROJECT_ID = &quot;my-project&quot;;\r\n    String PATH_TO_JSON_KEY = &quot;/path/to/json/key&quot;;\r\n    String BUCKET_NAME = &quot;my-bucket&quot;;\r\n    String OBJECT_NAME = &quot;my-object&quot;;\r\n\r\n    StorageOptions options = StorageOptions.newBuilder()\r\n                .setProjectId(PROJECT_ID)\r\n                .setCredentials(GoogleCredentials.fromStream(\r\n                        new FileInputStream(PATH_TO_JSON_KEY))).build();\r\n        \r\n    Storage storage = options.getService();\r\n    Blob blob = storage.get(BUCKET_NAME, OBJECT_NAME);\r\n    ReadChannel r = blob.reader();\r\n\r\n  [1]: http://googlecloudplatform.github.io/google-cloud-java/0.18.0/index.html","title":"How to read a file from Google Cloud Storage in Java","body":"<p>The simplest way to accomplish this is to use Google's <a href=\"http://googlecloudplatform.github.io/google-cloud-java/0.18.0/index.html\" rel=\"noreferrer\">google-cloud</a> Java library. Downloading will look something like this:</p>\n\n<pre><code>String PROJECT_ID = \"my-project\";\nString PATH_TO_JSON_KEY = \"/path/to/json/key\";\nString BUCKET_NAME = \"my-bucket\";\nString OBJECT_NAME = \"my-object\";\n\nStorageOptions options = StorageOptions.newBuilder()\n            .setProjectId(PROJECT_ID)\n            .setCredentials(GoogleCredentials.fromStream(\n                    new FileInputStream(PATH_TO_JSON_KEY))).build();\n\nStorage storage = options.getService();\nBlob blob = storage.get(BUCKET_NAME, OBJECT_NAME);\nReadChannel r = blob.reader();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":2,"creation_date":1541113242,"post_id":44203884,"comment_id":93116213,"body_markdown":"note this reads the file fully in the memory, which might be not desired if the file is huge","body":"note this reads the file fully in the memory, which might be not desired if the file is huge"},{"owner":{"display_name":"user6259970"},"score":0,"creation_date":1542799090,"post_id":44203884,"comment_id":93696552,"body_markdown":"yeah, if you need to write the file to disk. -&gt; https://stackoverflow.com/a/44205060/6259970","body":"yeah, if you need to write the file to disk. -&gt; <a href=\"https://stackoverflow.com/a/44205060/6259970\">stackoverflow.com/a/44205060/6259970</a>"}],"tags":[],"owner":{"display_name":"user6259970"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1495808250,"creation_date":1495808250,"answer_id":44203884,"question_id":44121510,"body_markdown":"Read this [GCloud](https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-java) doc for more info.\r\n\r\nYour code should be: \r\n\r\n    Storage storage = StorageOptions.newBuilder()\r\n\t\t\t\t.setProjectId(projectId)\r\n\t\t\t\t.setCredentials(GoogleCredentials.fromStream(new FileInputStream(serviceAccountJSON)))\r\n\t\t\t\t.build()\r\n\t\t\t\t.getService();\r\n    Blob blob = storage.get(BUCKET_URL, OBJECT_URL);\r\n    String fileContent = new String(blob.getContent());\r\n\r\n\r\n","title":"How to read a file from Google Cloud Storage in Java","body":"<p>Read this <a href=\"https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-java\" rel=\"noreferrer\">GCloud</a> doc for more info.</p>\n\n<p>Your code should be: </p>\n\n<pre><code>Storage storage = StorageOptions.newBuilder()\n            .setProjectId(projectId)\n            .setCredentials(GoogleCredentials.fromStream(new FileInputStream(serviceAccountJSON)))\n            .build()\n            .getService();\nBlob blob = storage.get(BUCKET_URL, OBJECT_URL);\nString fileContent = new String(blob.getContent());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669747601,"creation_date":1669747601,"answer_id":74618871,"question_id":44121510,"body_markdown":"\r\n**Read from the Storage bucket File** \r\n\r\n    GoogleCredentials credentials  = GoogleCredentials.fromStream(\r\n         new FileInputStream(CREDENTIAL_PATH));    Storage storage =\r\n     StorageOptions.newBuilder()\r\n    .setCredentials(credentials)\r\n    .setProjectId(PROJECT_ID).build().getService();\r\n String fileData = new String(storage.get(BUCKET_NAME, FILE_NAME), StandardCharsets.UTF_8);\r\n\r\n\r\n**Read from Directory - Files\r\nIf Storage bucket contains directories and directories contains Files**\r\n   \r\nStorage Bucket Object same as earlier\r\n \r\n    Page&lt;Blob&gt; list = storage.list(BUCKET_NAME, \r\n    Storage.BlobListOption.prefix(DIRECTORY_NAME));\r\n\r\n    for (Blob blob: list.getValues()) {\r\n        // Read all files\r\n        String fileData =  new String(blob.getContent());\r\n        System.out.println(fileData);\r\n    }\r\n\r\nNote - it will read all data in memory. So if file size is huge(in GBs) , not recommend to read in memory files.\r\n","title":"How to read a file from Google Cloud Storage in Java","body":"<p><strong>Read from the Storage bucket File</strong></p>\n<pre><code>GoogleCredentials credentials  = GoogleCredentials.fromStream(\n     new FileInputStream(CREDENTIAL_PATH));    Storage storage =\n StorageOptions.newBuilder()\n.setCredentials(credentials)\n.setProjectId(PROJECT_ID).build().getService();\n</code></pre>\n<p>String fileData = new String(storage.get(BUCKET_NAME, FILE_NAME), StandardCharsets.UTF_8);</p>\n<p><strong>Read from Directory - Files\nIf Storage bucket contains directories and directories contains Files</strong></p>\n<p>Storage Bucket Object same as earlier</p>\n<pre><code>Page&lt;Blob&gt; list = storage.list(BUCKET_NAME, \nStorage.BlobListOption.prefix(DIRECTORY_NAME));\n\nfor (Blob blob: list.getValues()) {\n    // Read all files\n    String fileData =  new String(blob.getContent());\n    System.out.println(fileData);\n}\n</code></pre>\n<p>Note - it will read all data in memory. So if file size is huge(in GBs) , not recommend to read in memory files.</p>\n"}],"owner":{"account_id":1410717,"reputation":181,"user_id":1337372,"accept_rate":0,"display_name":"sreejithpin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41539,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1669747601,"creation_date":1495484448,"question_id":44121510,"body_markdown":"I would like to read a file from Google Cloud storage using Java. The below link was not helpful as I dont use HttpServletRequest and HttpServletResponse. \r\n\r\nhttps://stackoverflow.com/questions/14693513/reading-in-a-file-from-google-cloud-storage-using-java\r\n\r\nIs there any other way by which I can accomplish this? I m writing a simple stand alone program as POC","title":"How to read a file from Google Cloud Storage in Java","body":"<p>I would like to read a file from Google Cloud storage using Java. The below link was not helpful as I dont use HttpServletRequest and HttpServletResponse. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/14693513/reading-in-a-file-from-google-cloud-storage-using-java\">Reading in a file from google cloud storage using java</a></p>\n\n<p>Is there any other way by which I can accomplish this? I m writing a simple stand alone program as POC</p>\n"},{"tags":["java","datetime","datetime-format"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669616463,"post_id":74596690,"comment_id":131673782,"body_markdown":"Have a look at the Javadoc for `SimpleDateFormat`.","body":"Have a look at the Javadoc for <code>SimpleDateFormat</code>."},{"owner":{"account_id":26611160,"reputation":9,"user_id":20231336,"display_name":"Priyanka Rani"},"score":0,"creation_date":1669616928,"post_id":74596690,"comment_id":131673875,"body_markdown":"Thanks @tgdavies, referred and able to do now by below:\n\nDate date = new Date(); SimpleDateFormat sdf = new\n\t\t  //SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss a&quot;);\n\t\t  SimpleDateFormat(&quot;MMMM dd, yyyy hh:mm:ss a&quot;);\n\t\t  String formattedDate = sdf.format(date); \n\t\t  System.out.println(formattedDate);","body":"Thanks @tgdavies, referred and able to do now by below:  Date date = new Date(); SimpleDateFormat sdf = new \t\t  //SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss a&quot;); \t\t  SimpleDateFormat(&quot;MMMM dd, yyyy hh:mm:ss a&quot;); \t\t  String formattedDate = sdf.format(date);  \t\t  System.out.println(formattedDate);"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669618673,"post_id":74596690,"comment_id":131674249,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669619170,"post_id":74596690,"comment_id":131674372,"body_markdown":"You want to look into the documentation of [`ZonedDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html) and [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html). Note that formatting most often happens the other way around compared to the old, poor and outdated classes. We tend to prefer `yourZonedDateTime.format(yourDateTimeFormatter)` (the old way works too, though).","body":"You want to look into the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>. Note that formatting most often happens the other way around compared to the old, poor and outdated classes. We tend to prefer <code>yourZonedDateTime.format(yourDateTimeFormatter)</code> (the old way works too, though)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669747523,"creation_date":1669620540,"answer_id":74597293,"question_id":74596690,"body_markdown":"Never use the terribly designed legacy date-time classes. Use only *java.time* classes. \r\n\r\nCapture the current moment with [`ZonedDateTime#now(ZoneId zone)`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-). Generate automatically localized text with [`DateTimeFormatter`][1]. \r\n\r\n    ZonedDateTime \r\n    .now( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \r\n    .format(\r\n        DateTimeFormatter\r\n        .ofLocalizedDateTime( FormatStyle.LONG )\r\n        .withLocale( Locale.US )\r\n    )\r\n\r\nSearch to learn more. All this has been covered many many times on Stack Overflow. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html","title":"How to print date in format like November 28, 2022 date and current time with AM/PM in Java","body":"<p>Never use the terribly designed legacy date-time classes. Use only <em>java.time</em> classes.</p>\n<p>Capture the current moment with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#now(ZoneId zone)</code></a>. Generate automatically localized text with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n<pre><code>ZonedDateTime \n.now( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \n.format(\n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.LONG )\n    .withLocale( Locale.US )\n)\n</code></pre>\n<p>Search to learn more. All this has been covered many many times on Stack Overflow.</p>\n"}],"owner":{"account_id":26611160,"reputation":9,"user_id":20231336,"display_name":"Priyanka Rani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669747523,"creation_date":1669616368,"question_id":74596690,"body_markdown":"Kindly suggest how to WAP in Java to print date in format like- November 28, 2022 date and continuation with current time with AM/PM.\r\n\r\nTried below: \r\n\r\n```\r\nDate date = new Date(); \r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss a&quot;); \r\nString formattedDate = sdf.format(date); \r\nSystem.out.println(formattedDate);\r\n```\r\n\r\nOutput is- `28-11-2022 11:45:43 AM`, but want in format like `November 28, 2022 11:45:43 AM`.\r\n","title":"How to print date in format like November 28, 2022 date and current time with AM/PM in Java","body":"<p>Kindly suggest how to WAP in Java to print date in format like- November 28, 2022 date and continuation with current time with AM/PM.</p>\n<p>Tried below:</p>\n<pre><code>Date date = new Date(); \nSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss a&quot;); \nString formattedDate = sdf.format(date); \nSystem.out.println(formattedDate);\n</code></pre>\n<p>Output is- <code>28-11-2022 11:45:43 AM</code>, but want in format like <code>November 28, 2022 11:45:43 AM</code>.</p>\n"},{"tags":["java","docker","visual-studio-code"],"comments":[{"owner":{"account_id":16418531,"reputation":53,"user_id":11860376,"display_name":"Connor"},"score":0,"creation_date":1669746684,"post_id":74618635,"comment_id":131711535,"body_markdown":"typo has been fixed; not relevant to issue.","body":"typo has been fixed; not relevant to issue."},{"owner":{"account_id":7608172,"reputation":715,"user_id":5770084,"display_name":"whiplash"},"score":0,"creation_date":1669746735,"post_id":74618635,"comment_id":131711549,"body_markdown":"Also, why are you developing inside the container? Shouldn&#39;t you be developing on a VM/Local machien and executing stuff inside the container?","body":"Also, why are you developing inside the container? Shouldn&#39;t you be developing on a VM/Local machien and executing stuff inside the container?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669751776,"post_id":74618635,"comment_id":131713092,"body_markdown":"What does &quot;Developing inside a container&quot; mean? Are you using something like Remote Containers Extension or similar?","body":"What does &quot;Developing inside a container&quot; mean? Are you using something like Remote Containers Extension or similar?"},{"owner":{"account_id":16418531,"reputation":53,"user_id":11860376,"display_name":"Connor"},"score":0,"creation_date":1669757603,"post_id":74618635,"comment_id":131714633,"body_markdown":"Yes using devcontainers extensions","body":"Yes using devcontainers extensions"},{"owner":{"account_id":16418531,"reputation":53,"user_id":11860376,"display_name":"Connor"},"score":0,"creation_date":1669757797,"post_id":74618635,"comment_id":131714666,"body_markdown":"@whiplash The project has quite a lot of dependencies.... I guess it is easier to package everything up into a container and provide it in a standardized env for development","body":"@whiplash The project has quite a lot of dependencies.... I guess it is easier to package everything up into a container and provide it in a standardized env for development"},{"owner":{"account_id":7608172,"reputation":715,"user_id":5770084,"display_name":"whiplash"},"score":0,"creation_date":1669767110,"post_id":74618635,"comment_id":131716730,"body_markdown":"@Connor Right. I still am not sure if this is the right way to do this. You always develop code in your local machine or a VM. The container is supposed to be a light weight thing that just executes your piece of code. My suggestion is to write code in your windows machine and only execute the code in the container. Don&#39;t develop inside the container.","body":"@Connor Right. I still am not sure if this is the right way to do this. You always develop code in your local machine or a VM. The container is supposed to be a light weight thing that just executes your piece of code. My suggestion is to write code in your windows machine and only execute the code in the container. Don&#39;t develop inside the container."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669785943,"post_id":74618635,"comment_id":131719524,"body_markdown":"Can you show your error interface? Did you save the file?","body":"Can you show your error interface? Did you save the file?"}],"owner":{"account_id":16418531,"reputation":53,"user_id":11860376,"display_name":"Connor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669746456,"creation_date":1669746237,"question_id":74618635,"body_markdown":"So I am completely out of ideas here. I am developing within an Ubuntu 20.04.4 Docker container on a windows machine. The project is maintained in Gitlab, and when developing within my Windows env, ie not inside the container, the project is identified correctly. For some reason, inside the container, the project will not be identified as a java project. I have the java extension pack,\r\ntried new containers, deleted and re-installed VScode, deleted and reinstalled Docker, cleared the app/temp data for each project, reset/cleared the java server, tried various JDK/JRE within the container, and quite a few other things I am likely forgetting. The issue is clearly something within the container env, but I just have no idea what it could be? Looking for ideas on where to look/what to try. \r\n  \r\nA small example of the problem:\r\n\r\n```\r\npublic class QuickStartApplication{\r\n    public static void main(String[] args) throws Exception {\r\n        new QuickStartApplication().run();\r\n    }\r\n```\r\n\r\nFor the above, I would get the error stating &quot;Error: Main method not found in the file, please define the main method as: public static void main(String[] args)&quot;\r\n\r\nI have tried the solutions from similar problems here:\r\nhttps://stackoverflow.com/questions/40514380/why-intelij-does-not-recognize-java-project\r\n\r\nand here:\r\nhttps://stackoverflow.com/questions/67358504/importing-java-project-in-visual-studio-code-and-getting-build-path-error-unbou\r\n\r\nneither of which resolves the issue.\r\n","title":"VScode not recognizing java project when developing in Container","body":"<p>So I am completely out of ideas here. I am developing within an Ubuntu 20.04.4 Docker container on a windows machine. The project is maintained in Gitlab, and when developing within my Windows env, ie not inside the container, the project is identified correctly. For some reason, inside the container, the project will not be identified as a java project. I have the java extension pack,\ntried new containers, deleted and re-installed VScode, deleted and reinstalled Docker, cleared the app/temp data for each project, reset/cleared the java server, tried various JDK/JRE within the container, and quite a few other things I am likely forgetting. The issue is clearly something within the container env, but I just have no idea what it could be? Looking for ideas on where to look/what to try.</p>\n<p>A small example of the problem:</p>\n<pre><code>public class QuickStartApplication{\n    public static void main(String[] args) throws Exception {\n        new QuickStartApplication().run();\n    }\n</code></pre>\n<p>For the above, I would get the error stating &quot;Error: Main method not found in the file, please define the main method as: public static void main(String[] args)&quot;</p>\n<p>I have tried the solutions from similar problems here:\n<a href=\"https://stackoverflow.com/questions/40514380/why-intelij-does-not-recognize-java-project\">Why intelij does not recognize java project?</a></p>\n<p>and here:\n<a href=\"https://stackoverflow.com/questions/67358504/importing-java-project-in-visual-studio-code-and-getting-build-path-error-unbou\">Importing java project in visual studio code and getting build path error. unbound classpath container: JRE System library jdk-8.0.202.08</a></p>\n<p>neither of which resolves the issue.</p>\n"},{"tags":["java","mysql","jenkins","sles"],"answers":[{"tags":[],"owner":{"account_id":4002048,"reputation":1034,"user_id":3297834,"accept_rate":92,"display_name":"Stelios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669746379,"creation_date":1669746379,"answer_id":74618665,"question_id":74491165,"body_markdown":"Add the jdbc drivers under `${JENKINS_HOME}/war/WEB-INF/lib`.\r\n\r\nI also had to copy the same jdbc jar file under the `--webroot` directory which from my understanding acts as a local cache for `.WAR` extraction.\r\n\r\nRemove the `Main` from the run command; it&#39;s not required and results to the following error:\r\n\r\n```\r\nError: Could not find or load main class .usr.share.java.jenkins.war\r\n```\r\n\r\nYou should end up with a command similar to the following:\r\n\r\n```\r\njava -jar /usr/share/jenkins/jenkins.war --webroot=/var/cache/jenkins/war\r\n```\r\n\r\nIn my case I also had to Approve a number of in-process scripts before I got the database connections working.","title":"How to add mysql connector jar file in classpath in suse 15 Jenkins Java 11","body":"<p>Add the jdbc drivers under <code>${JENKINS_HOME}/war/WEB-INF/lib</code>.</p>\n<p>I also had to copy the same jdbc jar file under the <code>--webroot</code> directory which from my understanding acts as a local cache for <code>.WAR</code> extraction.</p>\n<p>Remove the <code>Main</code> from the run command; it's not required and results to the following error:</p>\n<pre><code>Error: Could not find or load main class .usr.share.java.jenkins.war\n</code></pre>\n<p>You should end up with a command similar to the following:</p>\n<pre><code>java -jar /usr/share/jenkins/jenkins.war --webroot=/var/cache/jenkins/war\n</code></pre>\n<p>In my case I also had to Approve a number of in-process scripts before I got the database connections working.</p>\n"}],"owner":{"account_id":5720440,"reputation":503,"user_id":4519022,"accept_rate":56,"display_name":"niladri chakrabarty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669746379,"creation_date":1668781698,"question_id":74491165,"body_markdown":"I am running this (code below) groovy snippet to connect to MySQL from Jenkins, and hitting the issue below. I have already checked all the questions here and also referred other links in Google but not able to find the exact solution for this particular environment. My Jenkins is deployed in a SUSE 15 client with java 11.\r\n(**Please read the entire question before marking duplicate**) :\r\n\r\nIssue - \r\n\r\n&gt; java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\r\nFull Error Stack - \r\n\r\n    java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:511)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat groovy.sql.Sql.loadDriver(Sql.java:738)\r\n\tat groovy.sql.Sql.newInstance(Sql.java:465)\r\n\tat groovy.sql.Sql$newInstance.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:152)\r\n\tat Script1.run(Script1.groovy:3)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:574)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:612)\r\n\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:583)\r\n\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:149)\r\n\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:118)\r\n\tat hudson.remoting.LocalChannel.call(LocalChannel.java:47)\r\n\tat hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:115)\r\n\tat jenkins.model.Jenkins._doScript(Jenkins.java:4729)\r\n\tat jenkins.model.Jenkins.doScript(Jenkins.java:4700)\r\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)\r\n\tat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:397)\r\n\tat org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:409)\r\n\tat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:207)\r\n\tat org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:140)\r\n\tat org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:558)\r\n\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:59)\r\n\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:762)\r\n\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:894)\r\n\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:690)\r\n\tat org.kohsuke.stapler.Stapler.service(Stapler.java:240)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)\r\n\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:157)\r\n\tat jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:81)\r\n\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n\tat jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:129)\r\n\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n\tat jenkins.metrics.impl.MetricsFilter.doFilter(MetricsFilter.java:125)\r\n\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\r\n\tat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:160)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n\tat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:154)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:94)\r\n\tat jenkins.security.AcegiSecurityExceptionFilter.doFilter(AcegiSecurityExceptionFilter.java:52)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:54)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:106)\r\n\tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:97)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:97)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n\tat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:63)\r\n\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\r\n\tat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:111)\r\n\tat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:172)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n\tat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:53)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n\tat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:86)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n\tat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n\tat jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:38)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:549)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1571)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1378)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1544)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1300)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:562)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n\tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\nCode - \r\n\r\n    import java.sql.*; \r\n    import groovy.sql.Sql\r\n\r\n    sql = Sql.newInstance(&#39;jdbc:mysql://&lt;ip&gt;:&lt;port&gt;/&lt;db&gt;?serverTimezone=UTC&#39;, \r\n         &#39;&lt;user&gt;&#39;, &#39;&lt;pass&gt;&#39;, &#39;com.mysql.jdbc.Driver&#39;)\r\n\r\nJenkins version - **Jenkins 2.361.4**\r\n\r\nJava version - \r\n    \r\n    jenkinsclient01:/usr/share/java # java -version\r\n    openjdk version &quot;11.0.16&quot; 2022-07-19\r\n    OpenJDK Runtime Environment (build 11.0.16+8-suse-150000.3.83.1-x8664)\r\n    OpenJDK 64-Bit Server VM (build 11.0.16+8-suse-150000.3.83.1-x8664, mixed mode)\r\n\r\nJava class Path -\r\n\r\n    System.getProperty(&quot;java.class.path&quot;)\r\n    Result: /usr/share/java/jenkins.war\r\n\r\nI have also done\r\n\r\n    zypper install mysql-connector-java\r\n\r\nAlso tried (got it from Google search) - \r\n\r\n    java cp ~/mysql-connector-java-8.0.30.jar /usr/share/java/jenkins.war Main\r\n\r\nthis throwing error - \r\n\r\n    jenkinsclient01:/usr/share/java # java -cp ~/mysql-connector-java-8.0.30.jar /usr/share/java/jenkins.war Main\r\n    Error: Could not find or load main class .usr.share.java.jenkins.war\r\n    Caused by: java.lang.ClassNotFoundException: /usr/share/java/jenkins/war\r\n\r\nQuestion - How to add the mysql connector jar file in this scenario to correct the error?\r\n\r\nI don&#39;t know Java. Please Help.\r\n","title":"How to add mysql connector jar file in classpath in suse 15 Jenkins Java 11","body":"<p>I am running this (code below) groovy snippet to connect to MySQL from Jenkins, and hitting the issue below. I have already checked all the questions here and also referred other links in Google but not able to find the exact solution for this particular environment. My Jenkins is deployed in a SUSE 15 client with java 11.\n(<strong>Please read the entire question before marking duplicate</strong>) :</p>\n<p>Issue -</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</p>\n</blockquote>\n<p>Full Error Stack -</p>\n<pre><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:511)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:315)\nat groovy.sql.Sql.loadDriver(Sql.java:738)\nat groovy.sql.Sql.newInstance(Sql.java:465)\nat groovy.sql.Sql$newInstance.call(Unknown Source)\nat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:152)\nat Script1.run(Script1.groovy:3)\nat groovy.lang.GroovyShell.evaluate(GroovyShell.java:574)\nat groovy.lang.GroovyShell.evaluate(GroovyShell.java:612)\nat groovy.lang.GroovyShell.evaluate(GroovyShell.java:583)\nat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:149)\nat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:118)\nat hudson.remoting.LocalChannel.call(LocalChannel.java:47)\nat hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:115)\nat jenkins.model.Jenkins._doScript(Jenkins.java:4729)\nat jenkins.model.Jenkins.doScript(Jenkins.java:4700)\nat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)\nat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:397)\nat org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:409)\nat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:207)\nat org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:140)\nat org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:558)\nat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:59)\nat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:762)\nat org.kohsuke.stapler.Stapler.invoke(Stapler.java:894)\nat org.kohsuke.stapler.Stapler.invoke(Stapler.java:690)\nat org.kohsuke.stapler.Stapler.service(Stapler.java:240)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\nat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764)\nat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1665)\nat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:157)\nat jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:81)\nat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\nat jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:129)\nat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\nat jenkins.metrics.impl.MetricsFilter.doFilter(MetricsFilter.java:125)\nat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\nat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:160)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\nat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:154)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:94)\nat jenkins.security.AcegiSecurityExceptionFilter.doFilter(AcegiSecurityExceptionFilter.java:52)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:54)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:106)\nat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:97)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:97)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\nat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:63)\nat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:99)\nat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:111)\nat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:172)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\nat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:53)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\nat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:86)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\nat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\nat jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:38)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635)\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:549)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223)\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1571)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221)\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1378)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176)\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1544)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174)\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1300)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\nat org.eclipse.jetty.server.Server.handle(Server.java:562)\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)\nat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\nat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\nat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412)\nat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381)\nat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268)\nat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138)\nat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Code -</p>\n<pre><code>import java.sql.*; \nimport groovy.sql.Sql\n\nsql = Sql.newInstance('jdbc:mysql://&lt;ip&gt;:&lt;port&gt;/&lt;db&gt;?serverTimezone=UTC', \n     '&lt;user&gt;', '&lt;pass&gt;', 'com.mysql.jdbc.Driver')\n</code></pre>\n<p>Jenkins version - <strong>Jenkins 2.361.4</strong></p>\n<p>Java version -</p>\n<pre><code>jenkinsclient01:/usr/share/java # java -version\nopenjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-suse-150000.3.83.1-x8664)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-suse-150000.3.83.1-x8664, mixed mode)\n</code></pre>\n<p>Java class Path -</p>\n<pre><code>System.getProperty(&quot;java.class.path&quot;)\nResult: /usr/share/java/jenkins.war\n</code></pre>\n<p>I have also done</p>\n<pre><code>zypper install mysql-connector-java\n</code></pre>\n<p>Also tried (got it from Google search) -</p>\n<pre><code>java cp ~/mysql-connector-java-8.0.30.jar /usr/share/java/jenkins.war Main\n</code></pre>\n<p>this throwing error -</p>\n<pre><code>jenkinsclient01:/usr/share/java # java -cp ~/mysql-connector-java-8.0.30.jar /usr/share/java/jenkins.war Main\nError: Could not find or load main class .usr.share.java.jenkins.war\nCaused by: java.lang.ClassNotFoundException: /usr/share/java/jenkins/war\n</code></pre>\n<p>Question - How to add the mysql connector jar file in this scenario to correct the error?</p>\n<p>I don't know Java. Please Help.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1669738392,"post_id":74617009,"comment_id":131708649,"body_markdown":"How did you build your project? you must use mvn package","body":"How did you build your project? you must use mvn package"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1669741097,"post_id":74617009,"comment_id":131709673,"body_markdown":"See https://www.baeldung.com/deployable-fat-jar-spring-boot.","body":"See <a href=\"https://www.baeldung.com/deployable-fat-jar-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/deployable-fat-jar-spring-boot</a>."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1669742259,"post_id":74617009,"comment_id":131710046,"body_markdown":"Can you please share pom.xml file?","body":"Can you please share pom.xml file?"},{"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"score":0,"creation_date":1669742687,"post_id":74617009,"comment_id":131710215,"body_markdown":"@SimonMartinelli mvn clean package. then rebuild artifact.","body":"@SimonMartinelli mvn clean package. then rebuild artifact."},{"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"score":0,"creation_date":1669743346,"post_id":74617009,"comment_id":131710435,"body_markdown":"@CrazyCoder this worked, instead of following the tutorial i followed all i had to do in the end was run mvn clean install and find the jar file in the target folder, not out folder. Could you copy paste your comment as an answer so i can set it as answer, thanks so much.","body":"@CrazyCoder this worked, instead of following the tutorial i followed all i had to do in the end was run mvn clean install and find the jar file in the target folder, not out folder. Could you copy paste your comment as an answer so i can set it as answer, thanks so much."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669746300,"creation_date":1669746300,"answer_id":74618648,"question_id":74617009,"body_markdown":"If you build jar artifact using IntelliJ IDEA, it may be incomplete or manifests from the other included dependencies can override your custom one with the main class defined.\r\n\r\nRelated answers:\r\n\r\n- https://stackoverflow.com/a/42200519/104891\r\n- https://youtrack.jetbrains.com/issue/IDEA-116209#comment=27-656589\r\n- https://stackoverflow.com/a/45169655/104891\r\n- https://stackoverflow.com/a/42660624/104891\r\n\r\nThe proper solution would be to build the artifact using Maven. It may work out of the box with `mvn clean package` or you may need to modify `pom.xml` to build the fat jar with all the dependencies [per this document](https://www.baeldung.com/deployable-fat-jar-spring-boot).","title":"Java Could not find or load main class when running jar file","body":"<p>If you build jar artifact using IntelliJ IDEA, it may be incomplete or manifests from the other included dependencies can override your custom one with the main class defined.</p>\n<p>Related answers:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/42200519/104891\">https://stackoverflow.com/a/42200519/104891</a></li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-116209#comment=27-656589\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-116209#comment=27-656589</a></li>\n<li><a href=\"https://stackoverflow.com/a/45169655/104891\">https://stackoverflow.com/a/45169655/104891</a></li>\n<li><a href=\"https://stackoverflow.com/a/42660624/104891\">https://stackoverflow.com/a/42660624/104891</a></li>\n</ul>\n<p>The proper solution would be to build the artifact using Maven. It may work out of the box with <code>mvn clean package</code> or you may need to modify <code>pom.xml</code> to build the fat jar with all the dependencies <a href=\"https://www.baeldung.com/deployable-fat-jar-spring-boot\" rel=\"nofollow noreferrer\">per this document</a>.</p>\n"}],"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74618648,"answer_count":1,"score":1,"last_activity_date":1669746300,"creation_date":1669738304,"question_id":74617009,"body_markdown":"I have a springboot application, it runs just fine in intellij. I&#39;m trying to create an executable jar to run the application on other machines. I followed this \r\n\r\ntutorialhttps://www.jetbrains.com/idea/guide/tutorials/hello-world/packaging-the-application/\r\n\r\ndown to every step, and managed to build my jar. but when i try to run the jar with \r\n\r\n    java -jar nameofjar.java\r\n\r\nI get a Could not find or load main class error. \r\nI unzipped the jar file with java c and the classpath correctly points to the main class, so im really lost as to what i have to fix here to get java to detect the main class. \r\n\r\nI&#39;ve tried a bunch of solutions from here: \r\n\r\nhttps://stackoverflow.com/questions/10654120/error-could-not-find-or-load-main-class-in-intellij-ide\r\n\r\nsuch as deleting .idea or Rebuild Project or doing mvn clean package but nothing seems to work. \r\n\r\nUsing java -c to open the jar file and verify that the main classpath is indeed correct\r\n[![enter image description here][1]][1]\r\n\r\nMain class and file structure:\r\n[![main class][2]][2]\r\n\r\nThis run config works perfectly fine in intellij\r\n[![enter image description here][3]][3]\r\n\r\nhere is my manifest.mf: \r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.owl.PosApi.OwlPosApiApplication\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JjW3G.png\r\n  [2]: https://i.stack.imgur.com/PTF9n.png\r\n  [3]: https://i.stack.imgur.com/suBvZ.png","title":"Java Could not find or load main class when running jar file","body":"<p>I have a springboot application, it runs just fine in intellij. I'm trying to create an executable jar to run the application on other machines. I followed this</p>\n<p>tutorialhttps://www.jetbrains.com/idea/guide/tutorials/hello-world/packaging-the-application/</p>\n<p>down to every step, and managed to build my jar. but when i try to run the jar with</p>\n<pre><code>java -jar nameofjar.java\n</code></pre>\n<p>I get a Could not find or load main class error.\nI unzipped the jar file with java c and the classpath correctly points to the main class, so im really lost as to what i have to fix here to get java to detect the main class.</p>\n<p>I've tried a bunch of solutions from here:</p>\n<p><a href=\"https://stackoverflow.com/questions/10654120/error-could-not-find-or-load-main-class-in-intellij-ide\">Error: Could not find or load main class in intelliJ IDE</a></p>\n<p>such as deleting .idea or Rebuild Project or doing mvn clean package but nothing seems to work.</p>\n<p>Using java -c to open the jar file and verify that the main classpath is indeed correct\n<a href=\"https://i.stack.imgur.com/JjW3G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JjW3G.png\" alt=\"enter image description here\" /></a></p>\n<p>Main class and file structure:\n<a href=\"https://i.stack.imgur.com/PTF9n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTF9n.png\" alt=\"main class\" /></a></p>\n<p>This run config works perfectly fine in intellij\n<a href=\"https://i.stack.imgur.com/suBvZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/suBvZ.png\" alt=\"enter image description here\" /></a></p>\n<p>here is my manifest.mf:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.owl.PosApi.OwlPosApiApplication\n</code></pre>\n"},{"tags":["java","regex","string","replaceall"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":1,"creation_date":1668641750,"post_id":74468434,"comment_id":131458318,"body_markdown":"I don&#39;t think you have accurately described to us, with this title, &quot;\\r to \\r\\n&quot;, the expected behavior. The arguments to `replaceAll` don&#39;t match that either.","body":"I don&#39;t think you have accurately described to us, with this title, &quot;\\r to \\r\\n&quot;, the expected behavior. The arguments to <code>replaceAll</code> don&#39;t match that either."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668642107,"post_id":74468434,"comment_id":131458379,"body_markdown":"it sure is replacing the additional characters, in `[^\\n]\\r[^\\t]`, the `[^\\n]` part will find any character that is not `\\n`, that is, it will match ONE character but `\\n`; similar for `[^\\t]` (maybe you can use the zero-width lookahaed or lookbehind [constructs](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#pos_lookahead))","body":"it sure is replacing the additional characters, in <code>[^\\n]\\r[^\\t]</code>, the <code>[^\\n]</code> part will find any character that is not <code>\\n</code>, that is, it will match ONE character but <code>\\n</code>; similar for <code>[^\\t]</code> (maybe you can use the zero-width lookahaed or lookbehind <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#pos_lookahead\" rel=\"nofollow noreferrer\">constructs</a>)"},{"owner":{"account_id":26956450,"reputation":31,"user_id":20524726,"display_name":"dkayastha"},"score":0,"creation_date":1668642548,"post_id":74468434,"comment_id":131458487,"body_markdown":"@clwhisk Sorry. Just updated the description. Hope its clear now.","body":"@clwhisk Sorry. Just updated the description. Hope its clear now."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1668649306,"post_id":74468434,"comment_id":131459565,"body_markdown":"Can&#39;t be sure because both have been presented.","body":"Can&#39;t be sure because both have been presented."},{"owner":{"account_id":4962182,"reputation":650,"user_id":3992894,"display_name":"Michael McKay"},"score":0,"creation_date":1668651056,"post_id":74468434,"comment_id":131459833,"body_markdown":"&quot;F\\rH&quot; matches [^\\n]\\r[^\\t] and is getting replaced.  Look up regex parenthesized parameters (or capturing groups) which can be used in the replacement string to keep the matching segments you want to retain. E.g. &quot;([^\\n])\\r([^\\t])&quot;, &quot;$1\\n\\r$2)&quot;","body":"&quot;F\\rH&quot; matches [^\\n]\\r[^\\t] and is getting replaced.  Look up regex parenthesized parameters (or capturing groups) which can be used in the replacement string to keep the matching segments you want to retain. E.g. &quot;([^\\n])\\r([^\\t])&quot;, &quot;$1\\n\\r$2)&quot;"},{"owner":{"account_id":26956450,"reputation":31,"user_id":20524726,"display_name":"dkayastha"},"score":0,"creation_date":1668775390,"post_id":74468434,"comment_id":131494123,"body_markdown":"I proceeded without using regex. Thanks y&#39;all.\nString abc = &quot;ABC\\n\\rDEF\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot;;\nString out1 = abc.replace(&quot;\\n\\r&quot;,&quot;!!!&quot;);\nString out2 = out1.replace(&quot;\\r\\t&quot;,&quot;$$$&quot;);\nString out3 = out2.replace(&quot;\\r&quot;,&quot;\\n\\r&quot;);\nString out4 = out3.replace(&quot;!!!&quot;,&quot;\\n\\r&quot;);\nString out5 = out4.replace(&quot;$$$&quot;,&quot;\\r\\t&quot;);","body":"I proceeded without using regex. Thanks y&#39;all. String abc = &quot;ABC\\n\\rDEF\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot;; String out1 = abc.replace(&quot;\\n\\r&quot;,&quot;!!!&quot;); String out2 = out1.replace(&quot;\\r\\t&quot;,&quot;$$$&quot;); String out3 = out2.replace(&quot;\\r&quot;,&quot;\\n\\r&quot;); String out4 = out3.replace(&quot;!!!&quot;,&quot;\\n\\r&quot;); String out5 = out4.replace(&quot;$$$&quot;,&quot;\\r\\t&quot;);"},{"owner":{"account_id":26956450,"reputation":31,"user_id":20524726,"display_name":"dkayastha"},"score":0,"creation_date":1668775571,"post_id":74468434,"comment_id":131494193,"body_markdown":"@user16320675 Yes.","body":"@user16320675 Yes."},{"owner":{"account_id":26956450,"reputation":31,"user_id":20524726,"display_name":"dkayastha"},"score":0,"creation_date":1668775577,"post_id":74468434,"comment_id":131494195,"body_markdown":"@MichaelMcKay I tried using capture groups, couldn&#39;t make it work.","body":"@MichaelMcKay I tried using capture groups, couldn&#39;t make it work."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1668809626,"post_id":74468434,"comment_id":131504615,"body_markdown":"@user16320675 the question title says `\\r\\n`. That&#39;s basically why I threw an error.","body":"@user16320675 the question title says <code>\\r\\n</code>. That&#39;s basically why I threw an error."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668641680,"creation_date":1668641680,"answer_id":74468515,"question_id":74468434,"body_markdown":"There is the Linux line ending `\\n` and the Windows line ending `\\r\\n`.\r\n\r\n    s = s.replaceAll(&quot;\\\\R&quot;, &quot;\\r\\n&quot;);\r\n\r\nUses the regex pattern for any line ending `\\R` to replace it. ","title":"I am trying to replace the occurrences of \\r to \\r\\n. It is also replacing the character before and after \\r. What am I doing wrong here?","body":"<p>There is the Linux line ending <code>\\n</code> and the Windows line ending <code>\\r\\n</code>.</p>\n<pre><code>s = s.replaceAll(&quot;\\\\R&quot;, &quot;\\r\\n&quot;);\n</code></pre>\n<p>Uses the regex pattern for any line ending <code>\\R</code> to replace it.</p>\n"},{"tags":[],"owner":{"account_id":4962182,"reputation":650,"user_id":3992894,"display_name":"Michael McKay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669746180,"creation_date":1669746180,"answer_id":74618621,"question_id":74468434,"body_markdown":"Re the comment left above (Sorry for the slow response)\r\n\r\nHere is a regex101 sample of the groupings.\r\n\r\nNote the need to use the escape character &#39;\\\\&#39; which may be required depending on your language.  I used the expression \r\n\r\n    ([^\\\\n])\\\\r([^\\\\t])\r\n\r\nand the substitution string\r\n\r\n    $1\\\\n\\\\r$2\r\n\r\nThe result as shown is \r\n\r\n    ABC\\n\\rDEF\\n\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t\r\n\r\n[![regex101 example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S2tkb.png","title":"I am trying to replace the occurrences of \\r to \\r\\n. It is also replacing the character before and after \\r. What am I doing wrong here?","body":"<p>Re the comment left above (Sorry for the slow response)</p>\n<p>Here is a regex101 sample of the groupings.</p>\n<p>Note the need to use the escape character '\\' which may be required depending on your language.  I used the expression</p>\n<pre><code>([^\\\\n])\\\\r([^\\\\t])\n</code></pre>\n<p>and the substitution string</p>\n<pre><code>$1\\\\n\\\\r$2\n</code></pre>\n<p>The result as shown is</p>\n<pre><code>ABC\\n\\rDEF\\n\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/S2tkb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2tkb.png\" alt=\"regex101 example\" /></a></p>\n"}],"owner":{"account_id":26956450,"reputation":31,"user_id":20524726,"display_name":"dkayastha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669746180,"creation_date":1668640981,"question_id":74468434,"body_markdown":"```\r\nString abc = &quot;ABC\\n\\rDEF\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot;;\r\nString cde = abc.replaceAll(&quot;[^\\n]\\r[^\\t]&quot;, &quot;\\n\\r&quot;);\r\nSystem.out.println(cde);\r\n```\r\nThe \\r should be not be surrounded by \\n or \\t. For instance, I do not want to replace \\n\\r to \\n\\n\\r.\r\n\r\n\r\nExpected: &quot;ABC\\n\\rDEF\\n\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot; &lt;br&gt;\r\nActual: &quot;ABC\\n\\rDE\\n\\rHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot;\r\n\r\n","title":"I am trying to replace the occurrences of \\r to \\r\\n. It is also replacing the character before and after \\r. What am I doing wrong here?","body":"<pre><code>String abc = &quot;ABC\\n\\rDEF\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot;;\nString cde = abc.replaceAll(&quot;[^\\n]\\r[^\\t]&quot;, &quot;\\n\\r&quot;);\nSystem.out.println(cde);\n</code></pre>\n<p>The \\r should be not be surrounded by \\n or \\t. For instance, I do not want to replace \\n\\r to \\n\\n\\r.</p>\n<p>Expected: &quot;ABC\\n\\rDEF\\n\\rGHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot; <br>\nActual: &quot;ABC\\n\\rDE\\n\\rHI\\nJKL\\n\\rMNO\\r\\tPQR\\t&quot;</p>\n"},{"tags":["java","intellij-idea","grails","out-of-memory","memory-overhead"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1600708410,"post_id":63996501,"comment_id":113166537,"body_markdown":"Only 3) will make sense here. Can you show the screenshot of the run/debug configuration with the correct memory setting?","body":"Only 3) will make sense here. Can you show the screenshot of the run/debug configuration with the correct memory setting?"},{"owner":{"account_id":19563332,"reputation":91,"user_id":14316100,"display_name":"rpan"},"score":0,"creation_date":1600711472,"post_id":63996501,"comment_id":113167829,"body_markdown":"Sure thing! [Screenshot Images here](https://imgur.com/a/tgliQNe)  These are the two different configurations I&#39;ve tried. Let me know if you need any other information!","body":"Sure thing! <a href=\"https://imgur.com/a/tgliQNe\" rel=\"nofollow noreferrer\">Screenshot Images here</a>  These are the two different configurations I&#39;ve tried. Let me know if you need any other information!"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1600711592,"post_id":63996501,"comment_id":113167859,"body_markdown":"Why do you have `$` at the end of the option on the first screenshot?","body":"Why do you have <code>$</code> at the end of the option on the first screenshot?"},{"owner":{"account_id":19563332,"reputation":91,"user_id":14316100,"display_name":"rpan"},"score":0,"creation_date":1600712308,"post_id":63996501,"comment_id":113168160,"body_markdown":"Whoops, I&#39;m sorry that&#39;s a typo when I was manually re-entering it in for the screenshot. It was definitely supposed to be just &quot;-Xmx6G&quot;. I tested both just now (without typos) and I still hit the error again. Would appreciate any insight, thank you!","body":"Whoops, I&#39;m sorry that&#39;s a typo when I was manually re-entering it in for the screenshot. It was definitely supposed to be just &quot;-Xmx6G&quot;. I tested both just now (without typos) and I still hit the error again. Would appreciate any insight, thank you!"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1600713164,"post_id":63996501,"comment_id":113168546,"body_markdown":"Try adding these options as well in the VM Options field of the run configuration: `-XX:MaxPermSize=700m -XX:ReservedCodeCacheSize=480m`.","body":"Try adding these options as well in the VM Options field of the run configuration: <code>-XX:MaxPermSize=700m -XX:ReservedCodeCacheSize=480m</code>."}],"answers":[{"tags":[],"owner":{"account_id":3236183,"reputation":506,"user_id":2730349,"display_name":"Avinash Kadam"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1619012131,"creation_date":1609937392,"answer_id":65596095,"question_id":63996501,"body_markdown":"The simplest possible solution could be, increase the build process heap size as shown below. Definitely this would help.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/14fjz.png","title":"IntelliJ Error: java.lang.OutOfMemoryError: GC overhead limit exceeded","body":"<p>The simplest possible solution could be, increase the build process heap size as shown below. Definitely this would help.</p>\n<p><a href=\"https://i.stack.imgur.com/14fjz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/14fjz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7521537,"reputation":449,"user_id":7273525,"display_name":"Pyuri Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665069018,"creation_date":1665069018,"answer_id":73976131,"question_id":63996501,"body_markdown":"try to increase compiler heap size.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VCpQd.png","title":"IntelliJ Error: java.lang.OutOfMemoryError: GC overhead limit exceeded","body":"<p>try to increase compiler heap size.\n<a href=\"https://i.stack.imgur.com/VCpQd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VCpQd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9776241,"reputation":31,"user_id":7246158,"display_name":"Dario Anibal Sabatini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669746132,"creation_date":1669746132,"answer_id":74618612,"question_id":63996501,"body_markdown":"This worked for me and build ok.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y7LQQ.png","title":"IntelliJ Error: java.lang.OutOfMemoryError: GC overhead limit exceeded","body":"<p>This worked for me and build ok.</p>\n<p><a href=\"https://i.stack.imgur.com/y7LQQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y7LQQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19563332,"reputation":91,"user_id":14316100,"display_name":"rpan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27575,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1669746132,"creation_date":1600706203,"question_id":63996501,"body_markdown":"I&#39;m running Grails 2.5.0 on IntelliJ Idea Ultimate Edition 2020.2.2 . It compiles and builds the code just fine but it keeps throwing a &quot;java.lang.OutOfMemoryError: GC overhead limit exceeded&quot; error (the entire error is copy and pasted at the end). Here are the things I&#39;ve tried based off researching this error:\r\n\r\n1.) Increasing build process heap size (tried at 2G, 4G, and 6G)\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded\r\n\r\n2.) Increasing memory heap size (tried at 2G, 4G, and 6G)\r\nhttps://www.jetbrains.com/help/idea/increasing-memory-heap.html\r\n\r\n3.) Increasing the maximum memory setting for the JVM in the launch configuration (tried at 2G, 4G, and 6G)\r\n\r\nI saw that one of the fixes for this error is to &quot;Reuse existing objects when possible to save some memory.&quot; However I believe strongly that this is not an issue with the code but with settings on my IDE. The code I am using works fine without errors on the production website and this OutOfMemoryError only appears on my local machine. I would appreciate any help anyone can give, thank you!!!\r\n\r\n\r\n    2020-09-21 09:19:56.661 ERROR --- [nio-8805-exec-3] o.s.l.agent.SpringLoadedPreProcessor     : Unexpected problem transforming call sites\r\n    \r\n    org.springsource.loaded.ReloadException: Unexpected problem locating the bytecode for ch/qos/logback/classic/spi/IThrowableProxy.class\r\n    \tat org.springsource.loaded.TypeRegistry.couldBeReloadable(TypeRegistry.java:775)\r\n    \tat org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:942)\r\n    \tat org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:780)\r\n    \tat org.springsource.loaded.MethodInvokerRewriter$RewriteClassAdaptor$RewritingMethodAdapter.visitMethodInsn(MethodInvokerRewriter.java:1133)\r\n    \tat sl.org.objectweb.asm.ClassReader.a(Unknown Source)\r\n    \tat sl.org.objectweb.asm.ClassReader.b(Unknown Source)\r\n    \tat sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:348)\r\n    \tat org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:99)\r\n    \tat org.springsource.loaded.TypeRegistry.methodCallRewriteUseCacheIfAvailable(TypeRegistry.java:1002)\r\n    \tat org.springsource.loaded.agent.SpringLoadedPreProcessor.preProcess(SpringLoadedPreProcessor.java:361)\r\n    \tat org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:107)\r\n    \tat sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n    \tat sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:55)\r\n    \tat ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n    \tat ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n    \tat ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n    \tat ch.qos.logback.classic.Logger.log(Logger.java:765)\r\n    \tat org.slf4j.bridge.SLF4JBridgeHandler.callLocationAwareLogger(SLF4JBridgeHandler.java:221)\r\n    \tat org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:303)\r\n    \tat java.util.logging.Logger.log(Logger.java:738)\r\n    \tat java.util.logging.Logger.doLog(Logger.java:765)\r\n    \tat java.util.logging.Logger.logp(Logger.java:1042)\r\n    \tat org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:182)\r\n    \tat org.apache.juli.logging.DirectJDKLog.error(DirectJDKLog.java:148)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:251)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.reflect.InvocationTargetException: null\r\n    \tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springsource.loaded.TypeRegistry.couldBeReloadable(TypeRegistry.java:718)\r\n    \t... 54 common frames omitted\r\n    Caused by: java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n    \tat java.util.Arrays.copyOfRange(Arrays.java:3664)\r\n    \tat java.lang.String.&lt;init&gt;(String.java:207)\r\n    \tat java.lang.StringBuilder.toString(StringBuilder.java:407)\r\n    \tat java.io.UnixFileSystem.resolve(UnixFileSystem.java:108)\r\n    \tat java.io.File.&lt;init&gt;(File.java:367)\r\n    \tat sun.misc.URLClassPath$FileLoader.getResource(URLClassPath.java:1331)\r\n    \tat sun.misc.URLClassPath$FileLoader.findResource(URLClassPath.java:1301)\r\n    \tat sun.misc.URLClassPath.findResource(URLClassPath.java:225)\r\n    \tat java.net.URLClassLoader$2.run(URLClassLoader.java:572)\r\n    \tat java.net.URLClassLoader$2.run(URLClassLoader.java:570)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findResource(URLClassLoader.java:569)\r\n    \tat java.lang.ClassLoader.getResource(ClassLoader.java:1096)\r\n    \tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springsource.loaded.TypeRegistry.couldBeReloadable(TypeRegistry.java:718)\r\n    \tat org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:942)\r\n    \tat org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:780)\r\n    \tat org.springsource.loaded.MethodInvokerRewriter$RewriteClassAdaptor$RewritingMethodAdapter.visitMethodInsn(MethodInvokerRewriter.java:1133)\r\n    \tat sl.org.objectweb.asm.ClassReader.a(Unknown Source)\r\n    \tat sl.org.objectweb.asm.ClassReader.b(Unknown Source)\r\n    \tat sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:348)\r\n    \tat org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:99)\r\n    \tat org.springsource.loaded.TypeRegistry.methodCallRewriteUseCacheIfAvailable(TypeRegistry.java:1002)\r\n    \tat org.springsource.loaded.agent.SpringLoadedPreProcessor.preProcess(SpringLoadedPreProcessor.java:361)\r\n    \tat org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:107)\r\n    \tat sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n    \tat sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \r\n    2020-09-21 09:19:57.566 ERROR --- [nio-8805-exec-3] .a.c.c.C.[.[.[.[grailsDispatcherServlet] : Servlet.service() for servlet [grailsDispatcherServlet] in context with path [] threw exception\r\n    \r\n    java.lang.reflect.UndeclaredThrowableException: null\r\n    \tat org.springframework.util.ReflectionUtils.rethrowRuntimeException(ReflectionUtils.java:316)\r\n    \tat org.grails.web.servlet.mvc.GrailsWebRequest.&lt;init&gt;(GrailsWebRequest.java:106)\r\n    \tat grails.plugin.springsecurity.web.access.intercept.AnnotationFilterInvocationDefinition.determineUrl(AnnotationFilterInvocationDefinition.groovy:106)\r\n    \tat grails.plugin.springsecurity.web.access.intercept.AbstractFilterInvocationDefinition.getAttributes(AbstractFilterInvocationDefinition.groovy:75)\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:197)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat grails.plugin.springsecurity.web.filter.GrailsHttpPutFormContentFilter.doFilterInternal(GrailsHttpPutFormContentFilter.groovy:54)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat javax.servlet.FilterChain$doFilter.call(Unknown Source)\r\n    \tat grails.plugin.springsecurity.rest.RestTokenValidationFilter.processFilterChain(RestTokenValidationFilter.groovy:121)\r\n    \tat grails.plugin.springsecurity.rest.RestTokenValidationFilter.doFilter(RestTokenValidationFilter.groovy:87)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat grails.plugin.springsecurity.rest.RestAuthenticationFilter.doFilter(RestAuthenticationFilter.groovy:139)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat grails.plugin.springsecurity.web.authentication.logout.MutableLogoutFilter.doFilter(MutableLogoutFilter.groovy:64)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat grails.plugin.springsecurity.web.SecurityRequestHolderFilter.doFilter(SecurityRequestHolderFilter.groovy:58)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.grails.web.servlet.mvc.GrailsWebRequestFilter.doFilterInternal(GrailsWebRequestFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.grails.web.filters.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:67)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.reflect.InvocationTargetException: null\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.springsource.loaded.ri.ReflectiveInterceptor.jlrConstructorNewInstance(ReflectiveInterceptor.java:1076)\r\n    \tat org.grails.web.servlet.mvc.GrailsWebRequest.&lt;init&gt;(GrailsWebRequest.java:102)\r\n    \t... 63 common frames omitted\r\n    Caused by: java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n    \tat java.lang.reflect.Method.copy(Method.java:153)\r\n    \tat java.lang.reflect.ReflectAccess.copyMethod(ReflectAccess.java:140)\r\n    \tat sun.reflect.ReflectionFactory.copyMethod(ReflectionFactory.java:316)\r\n    \tat java.lang.Class.copyMethods(Class.java:3124)\r\n    \tat java.lang.Class.getMethods(Class.java:1615)\r\n    \tat java.beans.MethodRef.find(MethodRef.java:76)\r\n    \tat java.beans.MethodRef.get(MethodRef.java:62)\r\n    \tat java.beans.PropertyDescriptor.getReadMethod(PropertyDescriptor.java:207)\r\n    \tat groovy.lang.MetaClassImpl.applyPropertyDescriptors(MetaClassImpl.java:2527)\r\n    \tat groovy.lang.MetaClassImpl.setupProperties(MetaClassImpl.java:2265)\r\n    \tat groovy.lang.MetaClassImpl.addProperties(MetaClassImpl.java:3338)\r\n    \tat groovy.lang.MetaClassImpl.initialize(MetaClassImpl.java:3303)\r\n    \tat org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:289)\r\n    \tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:331)\r\n    \tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:341)\r\n    \tat org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:281)\r\n    \tat org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:901)\r\n    \tat org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:934)\r\n    \tat org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:926)\r\n    \tat org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToBoolean(DefaultTypeTransformation.java:198)\r\n    \tat org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.booleanUnbox(DefaultTypeTransformation.java:87)\r\n    \tat org.grails.web.context.ServletEnvironmentGrailsApplicationDiscoveryStrategy.findApplicationContext(ServletEnvironmentGrailsApplicationDiscoveryStrategy.groovy:61)\r\n    \tat grails.util.Holders.findApplicationContext(Holders.java:106)\r\n    \tat org.grails.web.servlet.DefaultGrailsApplicationAttributes.&lt;init&gt;(DefaultGrailsApplicationAttributes.java:74)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.springsource.loaded.ri.ReflectiveInterceptor.jlrConstructorNewInstance(ReflectiveInterceptor.java:1076)\r\n    \tat org.grails.web.servlet.mvc.GrailsWebRequest.&lt;init&gt;(GrailsWebRequest.java:102)\r\n    \tat grails.plugin.springsecurity.web.access.intercept.AnnotationFilterInvocationDefinition.determineUrl(AnnotationFilterInvocationDefinition.groovy:106)\r\n    \tat grails.plugin.springsecurity.web.access.intercept.AbstractFilterInvocationDefinition.getAttributes(AbstractFilterInvocationDefinition.groovy:75)\r\n    \r\n    Exception in thread &quot;http-nio-8805-exec-3&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\r\n","title":"IntelliJ Error: java.lang.OutOfMemoryError: GC overhead limit exceeded","body":"<p>I'm running Grails 2.5.0 on IntelliJ Idea Ultimate Edition 2020.2.2 . It compiles and builds the code just fine but it keeps throwing a &quot;java.lang.OutOfMemoryError: GC overhead limit exceeded&quot; error (the entire error is copy and pasted at the end). Here are the things I've tried based off researching this error:</p>\n<p>1.) Increasing build process heap size (tried at 2G, 4G, and 6G)\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded</a></p>\n<p>2.) Increasing memory heap size (tried at 2G, 4G, and 6G)\n<a href=\"https://www.jetbrains.com/help/idea/increasing-memory-heap.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/increasing-memory-heap.html</a></p>\n<p>3.) Increasing the maximum memory setting for the JVM in the launch configuration (tried at 2G, 4G, and 6G)</p>\n<p>I saw that one of the fixes for this error is to &quot;Reuse existing objects when possible to save some memory.&quot; However I believe strongly that this is not an issue with the code but with settings on my IDE. The code I am using works fine without errors on the production website and this OutOfMemoryError only appears on my local machine. I would appreciate any help anyone can give, thank you!!!</p>\n<pre><code>2020-09-21 09:19:56.661 ERROR --- [nio-8805-exec-3] o.s.l.agent.SpringLoadedPreProcessor     : Unexpected problem transforming call sites\n\norg.springsource.loaded.ReloadException: Unexpected problem locating the bytecode for ch/qos/logback/classic/spi/IThrowableProxy.class\n    at org.springsource.loaded.TypeRegistry.couldBeReloadable(TypeRegistry.java:775)\n    at org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:942)\n    at org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:780)\n    at org.springsource.loaded.MethodInvokerRewriter$RewriteClassAdaptor$RewritingMethodAdapter.visitMethodInsn(MethodInvokerRewriter.java:1133)\n    at sl.org.objectweb.asm.ClassReader.a(Unknown Source)\n    at sl.org.objectweb.asm.ClassReader.b(Unknown Source)\n    at sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:348)\n    at org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:99)\n    at org.springsource.loaded.TypeRegistry.methodCallRewriteUseCacheIfAvailable(TypeRegistry.java:1002)\n    at org.springsource.loaded.agent.SpringLoadedPreProcessor.preProcess(SpringLoadedPreProcessor.java:361)\n    at org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:107)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:55)\n    at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n    at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n    at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n    at ch.qos.logback.classic.Logger.log(Logger.java:765)\n    at org.slf4j.bridge.SLF4JBridgeHandler.callLocationAwareLogger(SLF4JBridgeHandler.java:221)\n    at org.slf4j.bridge.SLF4JBridgeHandler.publish(SLF4JBridgeHandler.java:303)\n    at java.util.logging.Logger.log(Logger.java:738)\n    at java.util.logging.Logger.doLog(Logger.java:765)\n    at java.util.logging.Logger.logp(Logger.java:1042)\n    at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:182)\n    at org.apache.juli.logging.DirectJDKLog.error(DirectJDKLog.java:148)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:251)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springsource.loaded.TypeRegistry.couldBeReloadable(TypeRegistry.java:718)\n    ... 54 common frames omitted\nCaused by: java.lang.OutOfMemoryError: GC overhead limit exceeded\n    at java.util.Arrays.copyOfRange(Arrays.java:3664)\n    at java.lang.String.&lt;init&gt;(String.java:207)\n    at java.lang.StringBuilder.toString(StringBuilder.java:407)\n    at java.io.UnixFileSystem.resolve(UnixFileSystem.java:108)\n    at java.io.File.&lt;init&gt;(File.java:367)\n    at sun.misc.URLClassPath$FileLoader.getResource(URLClassPath.java:1331)\n    at sun.misc.URLClassPath$FileLoader.findResource(URLClassPath.java:1301)\n    at sun.misc.URLClassPath.findResource(URLClassPath.java:225)\n    at java.net.URLClassLoader$2.run(URLClassLoader.java:572)\n    at java.net.URLClassLoader$2.run(URLClassLoader.java:570)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findResource(URLClassLoader.java:569)\n    at java.lang.ClassLoader.getResource(ClassLoader.java:1096)\n    at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springsource.loaded.TypeRegistry.couldBeReloadable(TypeRegistry.java:718)\n    at org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:942)\n    at org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:780)\n    at org.springsource.loaded.MethodInvokerRewriter$RewriteClassAdaptor$RewritingMethodAdapter.visitMethodInsn(MethodInvokerRewriter.java:1133)\n    at sl.org.objectweb.asm.ClassReader.a(Unknown Source)\n    at sl.org.objectweb.asm.ClassReader.b(Unknown Source)\n    at sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at sl.org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:348)\n    at org.springsource.loaded.MethodInvokerRewriter.rewrite(MethodInvokerRewriter.java:99)\n    at org.springsource.loaded.TypeRegistry.methodCallRewriteUseCacheIfAvailable(TypeRegistry.java:1002)\n    at org.springsource.loaded.agent.SpringLoadedPreProcessor.preProcess(SpringLoadedPreProcessor.java:361)\n    at org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:107)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n\n2020-09-21 09:19:57.566 ERROR --- [nio-8805-exec-3] .a.c.c.C.[.[.[.[grailsDispatcherServlet] : Servlet.service() for servlet [grailsDispatcherServlet] in context with path [] threw exception\n\njava.lang.reflect.UndeclaredThrowableException: null\n    at org.springframework.util.ReflectionUtils.rethrowRuntimeException(ReflectionUtils.java:316)\n    at org.grails.web.servlet.mvc.GrailsWebRequest.&lt;init&gt;(GrailsWebRequest.java:106)\n    at grails.plugin.springsecurity.web.access.intercept.AnnotationFilterInvocationDefinition.determineUrl(AnnotationFilterInvocationDefinition.groovy:106)\n    at grails.plugin.springsecurity.web.access.intercept.AbstractFilterInvocationDefinition.getAttributes(AbstractFilterInvocationDefinition.groovy:75)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:197)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.web.filter.GrailsHttpPutFormContentFilter.doFilterInternal(GrailsHttpPutFormContentFilter.groovy:54)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at javax.servlet.FilterChain$doFilter.call(Unknown Source)\n    at grails.plugin.springsecurity.rest.RestTokenValidationFilter.processFilterChain(RestTokenValidationFilter.groovy:121)\n    at grails.plugin.springsecurity.rest.RestTokenValidationFilter.doFilter(RestTokenValidationFilter.groovy:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.rest.RestAuthenticationFilter.doFilter(RestAuthenticationFilter.groovy:139)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.web.authentication.logout.MutableLogoutFilter.doFilter(MutableLogoutFilter.groovy:64)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at grails.plugin.springsecurity.web.SecurityRequestHolderFilter.doFilter(SecurityRequestHolderFilter.groovy:58)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.grails.web.servlet.mvc.GrailsWebRequestFilter.doFilterInternal(GrailsWebRequestFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.grails.web.filters.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:67)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.springsource.loaded.ri.ReflectiveInterceptor.jlrConstructorNewInstance(ReflectiveInterceptor.java:1076)\n    at org.grails.web.servlet.mvc.GrailsWebRequest.&lt;init&gt;(GrailsWebRequest.java:102)\n    ... 63 common frames omitted\nCaused by: java.lang.OutOfMemoryError: GC overhead limit exceeded\n    at java.lang.reflect.Method.copy(Method.java:153)\n    at java.lang.reflect.ReflectAccess.copyMethod(ReflectAccess.java:140)\n    at sun.reflect.ReflectionFactory.copyMethod(ReflectionFactory.java:316)\n    at java.lang.Class.copyMethods(Class.java:3124)\n    at java.lang.Class.getMethods(Class.java:1615)\n    at java.beans.MethodRef.find(MethodRef.java:76)\n    at java.beans.MethodRef.get(MethodRef.java:62)\n    at java.beans.PropertyDescriptor.getReadMethod(PropertyDescriptor.java:207)\n    at groovy.lang.MetaClassImpl.applyPropertyDescriptors(MetaClassImpl.java:2527)\n    at groovy.lang.MetaClassImpl.setupProperties(MetaClassImpl.java:2265)\n    at groovy.lang.MetaClassImpl.addProperties(MetaClassImpl.java:3338)\n    at groovy.lang.MetaClassImpl.initialize(MetaClassImpl.java:3303)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:289)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:331)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:341)\n    at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:281)\n    at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:901)\n    at org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:934)\n    at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:926)\n    at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToBoolean(DefaultTypeTransformation.java:198)\n    at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.booleanUnbox(DefaultTypeTransformation.java:87)\n    at org.grails.web.context.ServletEnvironmentGrailsApplicationDiscoveryStrategy.findApplicationContext(ServletEnvironmentGrailsApplicationDiscoveryStrategy.groovy:61)\n    at grails.util.Holders.findApplicationContext(Holders.java:106)\n    at org.grails.web.servlet.DefaultGrailsApplicationAttributes.&lt;init&gt;(DefaultGrailsApplicationAttributes.java:74)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.springsource.loaded.ri.ReflectiveInterceptor.jlrConstructorNewInstance(ReflectiveInterceptor.java:1076)\n    at org.grails.web.servlet.mvc.GrailsWebRequest.&lt;init&gt;(GrailsWebRequest.java:102)\n    at grails.plugin.springsecurity.web.access.intercept.AnnotationFilterInvocationDefinition.determineUrl(AnnotationFilterInvocationDefinition.groovy:106)\n    at grails.plugin.springsecurity.web.access.intercept.AbstractFilterInvocationDefinition.getAttributes(AbstractFilterInvocationDefinition.groovy:75)\n\nException in thread &quot;http-nio-8805-exec-3&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\n</code></pre>\n"},{"tags":["java","servlets","session-timeout"],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1261479672,"creation_date":1261479167,"answer_id":1945606,"question_id":1945582,"body_markdown":"What makes you think that `sessionDestroyed` is *not* being called when the session times out?  Or in other words, what&#39;s you interpretation of the fact it gets called at all?\r\n\r\nThe servlet will handle the validity of sessions in its own manner, including session timeouts, and when it determines that the session is no longer valid it will call your method.  However, I don&#39;t think any servlets guarantee any particular timeliness in this regard; my understanding is that it&#39;s a bit like garbage collection in that it is guaranteed to happen *at some point*, but not necessarily at the earliest possible instance that the session becomes eligible for destruction.\r\n\r\nIn any case, it seems almost certain that the servlet is doing what you want - seeing that the session is timed out and calling the appropriate method - the only question is whether you&#39;re going to see this exactly 60 seconds after the last request or a bit later.  I would suggest that in general you shouldn&#39;t rely on the exact timings of when this method is called; use it to clear up resources, sure, but not for something like program correctness (you&#39;ll get `IllegalStateExceptions` if calling methods on an invalid session anyway).  If you feel you really must rely on this, perhaps explain what you&#39;re doing so that others can suggest more suitable ways to achieve this.","title":"How to call sessionDestroyed when a session times out","body":"<p>What makes you think that <code>sessionDestroyed</code> is <em>not</em> being called when the session times out?  Or in other words, what's you interpretation of the fact it gets called at all?</p>\n\n<p>The servlet will handle the validity of sessions in its own manner, including session timeouts, and when it determines that the session is no longer valid it will call your method.  However, I don't think any servlets guarantee any particular timeliness in this regard; my understanding is that it's a bit like garbage collection in that it is guaranteed to happen <em>at some point</em>, but not necessarily at the earliest possible instance that the session becomes eligible for destruction.</p>\n\n<p>In any case, it seems almost certain that the servlet is doing what you want - seeing that the session is timed out and calling the appropriate method - the only question is whether you're going to see this exactly 60 seconds after the last request or a bit later.  I would suggest that in general you shouldn't rely on the exact timings of when this method is called; use it to clear up resources, sure, but not for something like program correctness (you'll get <code>IllegalStateExceptions</code> if calling methods on an invalid session anyway).  If you feel you really must rely on this, perhaps explain what you're doing so that others can suggest more suitable ways to achieve this.</p>\n"},{"tags":[],"owner":{"account_id":4675,"reputation":7713,"user_id":7144,"accept_rate":71,"display_name":"A_M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1261479725,"creation_date":1261479239,"answer_id":1945616,"question_id":1945582,"body_markdown":"I don&#39;t think the J2EE spec makes any guarantees about when the methods on the listener will be called. It just states that they will be called at some point.\r\n\r\nI&#39;ve seen code which worked on one container (Tomcat) but didn&#39;t work on another container (OC4J). The developers had made an invalid assumption about when the sessionDestroyed method will be called. \r\n\r\n**UPDATE**\r\n\r\nNote that the behaviour of this interface changed in v2.4 of the servlet spec. See [page 21][1] for details.\r\n\r\n\r\n  [1]: http://www.scribd.com/doc/9192172/Java-Servlet-Specification","title":"How to call sessionDestroyed when a session times out","body":"<p>I don't think the J2EE spec makes any guarantees about when the methods on the listener will be called. It just states that they will be called at some point.</p>\n\n<p>I've seen code which worked on one container (Tomcat) but didn't work on another container (OC4J). The developers had made an invalid assumption about when the sessionDestroyed method will be called. </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Note that the behaviour of this interface changed in v2.4 of the servlet spec. See <a href=\"http://www.scribd.com/doc/9192172/Java-Servlet-Specification\" rel=\"nofollow noreferrer\">page 21</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":58610,"reputation":5815,"user_id":175422,"display_name":"valli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1261479639,"creation_date":1261479639,"answer_id":1945653,"question_id":1945582,"body_markdown":"when you force the user to logout via the invalidate() method that the HttpSessionListener sessionDestroyed() method is called twice, once when they logout, and a second time after some delayed time period. This occurs if after the logout you redirect the user back to a web page within your application. What you&#39;re essentially doing is starting another session (which may not be immediately obvious if you haven&#39;t added security/authentication requirements to all your web pages), and the delayed second call of the sessionDestroyed() method is a timeout occurring. The simple solution, on logout redirect the user to a web page outside of your application.Read this article [session][1]\r\n\r\n\r\n  [1]: http://one-size-doesnt-fit-all.blogspot.com/2008/08/jdevadf-how-to-log-user.html","title":"How to call sessionDestroyed when a session times out","body":"<p>when you force the user to logout via the invalidate() method that the HttpSessionListener sessionDestroyed() method is called twice, once when they logout, and a second time after some delayed time period. This occurs if after the logout you redirect the user back to a web page within your application. What you're essentially doing is starting another session (which may not be immediately obvious if you haven't added security/authentication requirements to all your web pages), and the delayed second call of the sessionDestroyed() method is a timeout occurring. The simple solution, on logout redirect the user to a web page outside of your application.Read this article <a href=\"http://one-size-doesnt-fit-all.blogspot.com/2008/08/jdevadf-how-to-log-user.html\" rel=\"nofollow noreferrer\">session</a></p>\n"},{"comments":[{"owner":{"account_id":1691234,"reputation":11565,"user_id":1553519,"accept_rate":82,"display_name":"Joe.wang"},"score":0,"creation_date":1434375052,"post_id":1946044,"comment_id":49736496,"body_markdown":"I can&#39;t figure out what else design purpose of this interface except releasing the resource which occupied by the specific session when it is being destroyed. What I am trying to say is it is not necessary to make it happen at some exactly point (for example the `time out`) for this design purpose. It is just my point. I don&#39;t know if it is right. Thanks.","body":"I can&#39;t figure out what else design purpose of this interface except releasing the resource which occupied by the specific session when it is being destroyed. What I am trying to say is it is not necessary to make it happen at some exactly point (for example the <code>time out</code>) for this design purpose. It is just my point. I don&#39;t know if it is right. Thanks."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1261484400,"creation_date":1261484400,"answer_id":1946044,"question_id":1945582,"body_markdown":"&gt; The servlet waits more than two minutes, then it calls sessionDestroyed.\r\n&gt; \r\n&gt; Is there is a way to force sessionDestroyed when time out ?\r\n\r\nThis is implementation specific (application server dependent). There is a background thread which checks the sessions at timed intervals and reaps all the expired ones. This may occur every minute but can also be every 15 minutes. They will also be reaped immediately if you fire a request while the associated session has already been timed out but not reaped yet.\r\n\r\nThus if you for instance wait one minute and fire a new request, then it will be immediately reaped. There is really no need to worry about that. You don&#39;t need to force it to reap them immediately, that would have been an expensive task. You know, it&#39;s all just about programming, not about some magic ;)","title":"How to call sessionDestroyed when a session times out","body":"<blockquote>\n  <p>The servlet waits more than two minutes, then it calls sessionDestroyed.</p>\n  \n  <p>Is there is a way to force sessionDestroyed when time out ?</p>\n</blockquote>\n\n<p>This is implementation specific (application server dependent). There is a background thread which checks the sessions at timed intervals and reaps all the expired ones. This may occur every minute but can also be every 15 minutes. They will also be reaped immediately if you fire a request while the associated session has already been timed out but not reaped yet.</p>\n\n<p>Thus if you for instance wait one minute and fire a new request, then it will be immediately reaped. There is really no need to worry about that. You don't need to force it to reap them immediately, that would have been an expensive task. You know, it's all just about programming, not about some magic ;)</p>\n"},{"tags":[],"owner":{"account_id":10170216,"reputation":11,"user_id":7510772,"display_name":"Michał Karpiński"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669746080,"creation_date":1669746080,"answer_id":74618605,"question_id":1945582,"body_markdown":"Session invalidation does not mean that you session is immediately destroyed. This is in fact implementation dependent and different application servers deal with that in a different way.\r\n\r\nIn case of Jetty this process is called &quot;Session Scavenging&quot; and you may set the desired timeout with `jetty.sessionScavengeInterval.seconds` parameter (https://www.eclipse.org/jetty/documentation/jetty-9/index.html):\r\n\r\n&gt;**jetty.sessionScavengeInterval.seconds**\r\n&gt;\r\n&gt;This is the period in seconds between runs of the session scavenger. By default it will run every 600 secs (ie 10 mins). As a rule of thumb, you should ensure that the scavenge interval is shorter than the maxInactiveInterval of your sessions to ensure that they are promptly scavenged.\r\n\r\nIn Tomcat this is taken care of during container&#39;s background processing and you may set the timeout with `backgroundProcessorDelay` engine attribute (https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html):\r\n\r\n&gt;**backgroundProcessorDelay**\r\n&gt;\r\n&gt;This value represents the delay in seconds between the invocation of the backgroundProcess method on this engine and its child containers, including all hosts and contexts. Child containers will not be invoked if their delay value is not negative (which would mean they are using their own processing thread). Setting this to a positive value will cause a thread to be spawn. After waiting the specified amount of time, the thread will invoke the backgroundProcess method on this engine and all its child containers. If not specified, the default value for this attribute is 10, which represent a 10 seconds delay.\r\n\r\nPlease note that these timeouts are not strict - Jetty randomly adds 10% of the timeout, while Tomcat seems to add about 20s to the provided delay.\r\n","title":"How to call sessionDestroyed when a session times out","body":"<p>Session invalidation does not mean that you session is immediately destroyed. This is in fact implementation dependent and different application servers deal with that in a different way.</p>\n<p>In case of Jetty this process is called &quot;Session Scavenging&quot; and you may set the desired timeout with <code>jetty.sessionScavengeInterval.seconds</code> parameter (<a href=\"https://www.eclipse.org/jetty/documentation/jetty-9/index.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/documentation/jetty-9/index.html</a>):</p>\n<blockquote>\n<p><strong>jetty.sessionScavengeInterval.seconds</strong></p>\n<p>This is the period in seconds between runs of the session scavenger. By default it will run every 600 secs (ie 10 mins). As a rule of thumb, you should ensure that the scavenge interval is shorter than the maxInactiveInterval of your sessions to ensure that they are promptly scavenged.</p>\n</blockquote>\n<p>In Tomcat this is taken care of during container's background processing and you may set the timeout with <code>backgroundProcessorDelay</code> engine attribute (<a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/engine.html</a>):</p>\n<blockquote>\n<p><strong>backgroundProcessorDelay</strong></p>\n<p>This value represents the delay in seconds between the invocation of the backgroundProcess method on this engine and its child containers, including all hosts and contexts. Child containers will not be invoked if their delay value is not negative (which would mean they are using their own processing thread). Setting this to a positive value will cause a thread to be spawn. After waiting the specified amount of time, the thread will invoke the backgroundProcess method on this engine and all its child containers. If not specified, the default value for this attribute is 10, which represent a 10 seconds delay.</p>\n</blockquote>\n<p>Please note that these timeouts are not strict - Jetty randomly adds 10% of the timeout, while Tomcat seems to add about 20s to the provided delay.</p>\n"}],"owner":{"account_id":83539,"reputation":2282,"user_id":234145,"accept_rate":79,"display_name":"mebada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13253,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1669746080,"creation_date":1261478909,"question_id":1945582,"body_markdown":"I am new to JSP. I used the following code in a class that implements `HttpSessionListener` to get SESSION OUT when the session times out:\r\n\r\n        public void sessionCreated(HttpSessionEvent arg0) {  \r\n            System.out.print(&quot;SESSION Created&quot;);\r\n        }\r\n        \r\n        public void sessionDestroyed(HttpSessionEvent arg0) {\r\n            System.out.print(&quot;SESSION OUT&quot;);\r\n        }\r\n\r\nand I set in `web.xml`:\r\n\r\n      &lt;session-config&gt;\r\n         &lt;session-timeout&gt;1&lt;/session-timeout&gt; \r\n      &lt;/session-config&gt;\r\n\r\nThe servlet waits more than two minutes, then it calls `sessionDestroyed`.\r\n\r\nIs there is a way to force `sessionDestroyed` when time out ?\r\n\r\nThanks in advance.\r\n\r\n ","title":"How to call sessionDestroyed when a session times out","body":"<p>I am new to JSP. I used the following code in a class that implements <code>HttpSessionListener</code> to get SESSION OUT when the session times out:</p>\n\n<pre><code>    public void sessionCreated(HttpSessionEvent arg0) {  \n        System.out.print(\"SESSION Created\");\n    }\n\n    public void sessionDestroyed(HttpSessionEvent arg0) {\n        System.out.print(\"SESSION OUT\");\n    }\n</code></pre>\n\n<p>and I set in <code>web.xml</code>:</p>\n\n<pre><code>  &lt;session-config&gt;\n     &lt;session-timeout&gt;1&lt;/session-timeout&gt; \n  &lt;/session-config&gt;\n</code></pre>\n\n<p>The servlet waits more than two minutes, then it calls <code>sessionDestroyed</code>.</p>\n\n<p>Is there is a way to force <code>sessionDestroyed</code> when time out ?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1669746400,"post_id":74618577,"comment_id":131711439,"body_markdown":"Hi welcome to stackoverflow.  A side note...  I believe that it is suggested to implement Runnable instead of extending Thread.  The general thought is that you&#39;re not changing the behavior of Thread (via generalization), but implementing the behavior of Thread via its Runnable interface.","body":"Hi welcome to stackoverflow.  A side note...  I believe that it is suggested to implement Runnable instead of extending Thread.  The general thought is that you&#39;re not changing the behavior of Thread (via generalization), but implementing the behavior of Thread via its Runnable interface."},{"owner":{"account_id":27088621,"reputation":1,"user_id":20636760,"display_name":"VonMatterhorn"},"score":0,"creation_date":1669746636,"post_id":74618577,"comment_id":131711521,"body_markdown":"I can&#39;t do that, it is a requirement extending Thread :(","body":"I can&#39;t do that, it is a requirement extending Thread :("},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1669747936,"post_id":74618577,"comment_id":131711937,"body_markdown":"You `synchronized ()` on &#39;this&#39;, which is the thread, and you have multiple threads - synchronized() doesn&#39;t do anything unless multiple threads are synchronizing on the same object. Hence, it doesn&#39;t do anything.","body":"You <code>synchronized ()</code> on &#39;this&#39;, which is the thread, and you have multiple threads - synchronized() doesn&#39;t do anything unless multiple threads are synchronizing on the same object. Hence, it doesn&#39;t do anything."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1669748457,"post_id":74618577,"comment_id":131712090,"body_markdown":"and: `while (pos &lt; length)` is invalid - you must not access any field that is being modified from more than 1 thread unless you have established Happens-Before/Happens-After relationship. `synchronized` does this, but only if you sync on the same thing (you don&#39;t), and that while clause is outside of it. Hence, the JVM is free to give you local caches or not, at its choice - your code is now like Schrodinger&#39;s cat. It works or it doesn&#39;t depending on the phase of the moon as far as you know. Solution: Do not read fields unless you&#39;re the only thread that touches em, or ensure HB/HA.","body":"and: <code>while (pos &lt; length)</code> is invalid - you must not access any field that is being modified from more than 1 thread unless you have established Happens-Before/Happens-After relationship. <code>synchronized</code> does this, but only if you sync on the same thing (you don&#39;t), and that while clause is outside of it. Hence, the JVM is free to give you local caches or not, at its choice - your code is now like Schrodinger&#39;s cat. It works or it doesn&#39;t depending on the phase of the moon as far as you know. Solution: Do not read fields unless you&#39;re the only thread that touches em, or ensure HB/HA."},{"owner":{"account_id":27088621,"reputation":1,"user_id":20636760,"display_name":"VonMatterhorn"},"score":0,"creation_date":1669749762,"post_id":74618577,"comment_id":131712471,"body_markdown":"Thanks mate, I&#39;m trying to learn multithreading, I will give it a shot tomorrow, cant do it right now","body":"Thanks mate, I&#39;m trying to learn multithreading, I will give it a shot tomorrow, cant do it right now"}],"owner":{"account_id":27088621,"reputation":1,"user_id":20636760,"display_name":"VonMatterhorn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669745949,"creation_date":1669745949,"question_id":74618577,"body_markdown":"my exercise is composed of an SharedResource with an array, a NumberGenerator Class and a SumClass.\r\n\r\n2 Threads of NumberGenerator and 2 Threads of SumClass.\r\n\r\nI have to insert numbers in the array from the SharedResource with both threads of NumberGenerator Class.\r\n\r\nThis part is done correctly. \r\n\r\nMy problem is in the run method of the NumberGenerator Class.\r\n\r\nThese Threads must read alternatively the index of the array, the first thread, lets call it H1, read the index 0-2-4-6... even index, the another one, H2, odd index... But when 1 thread is running the other must wait.\r\n\r\n\r\n\r\nSo the output  should be something like this:\r\n\r\nArray:[10,35,24,18]\r\n\r\nThread name: H1 - Number:10\r\nThread name: H2 - Number:35\r\nThread name: H1 - Number:24\r\nThread name: H2 - Number:18\r\n\r\nMy problem resides in the notify and wait methods. When I call the wait method, it automatically stop both Threads even when a notifyAll is present.\r\n\r\nI need to just use 1 method, I cant use a evenPrint method and an OddPrint method for example.\r\n\r\n\r\n\r\nCode of my class:\r\n\r\n\r\n```\r\npublic class SumatoriaThread extends Thread{\r\n    String name;\r\n    NumerosCompartidos compartidos; // Object that contains the array.\r\n    double sumatoria; //Parameter used to sum all the numbers \r\n    static int pos = 0; // pos of the object\r\n    static int threadOrder = 0; //just a way to set the order of the Threads.\r\n    int priority; //Value of the priority\r\n    \r\n    \r\n        \r\n    public SumatoriaThread(NumerosCompartidos compartidos, String name){\r\n        \r\n        this.name = name;\r\n        this.compartidos = compartidos;\r\n        sumatoria = 0;\r\n        priority = threadOrder;\r\n        threadOrder++;\r\n        System.out.println(&quot;Hilo &quot; + this.name + &quot; creado.&quot;);\r\n    }\r\n    \r\n     public void run() {\r\n         //Array Length\r\n        int length = this.compartidos.length();\r\n        int i = 0;\r\n        \r\n        while (pos &lt; length) {\r\n            //Don&#39;t actually know if this is correct.\r\n            synchronized (this) {\r\n                //Just to be sure that the first Thread run before the second one.\r\n                if (priority == 1) {\r\n                    try {\r\n                        priority = 0;\r\n                        //Call a wait method until the next notify runs.\r\n                        this.wait();\r\n                    } catch (InterruptedException ex) {\r\n                        Logger.getLogger(SumatoriaThread.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                } else {\r\n                    //Even numbers\r\n                    if (pos % 2 == 0) {\r\n                        System.out.println(&quot;Nombre Thead: &quot; + Thread.currentThread().getName() + &quot; valor numero: &quot; + this.compartidos.getValor(pos));\r\n                        pos++;\r\n                        //To activate the Thread which is waiting.\r\n                        this.notifyAll();\r\n\r\n                        try {\r\n                            //Then I set to wait this one.\r\n                            this.wait();\r\n                        } catch (Exception ex) {\r\n                            ex.printStackTrace();\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;Nombre Thead: &quot; + Thread.currentThread().getName() + &quot; valor numero: &quot; + this.compartidos.getValor(pos + 1));\r\n                        pos++;\r\n                        this.notifyAll();\r\n\r\n                        try {\r\n                            this.wait();\r\n                        } catch (InterruptedException ex) {\r\n                            Logger.getLogger(SumatoriaThread.class.getName()).log(Level.SEVERE, null, ex);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Alternate index of Array and print numbers using 2 Threads","body":"<p>my exercise is composed of an SharedResource with an array, a NumberGenerator Class and a SumClass.</p>\n<p>2 Threads of NumberGenerator and 2 Threads of SumClass.</p>\n<p>I have to insert numbers in the array from the SharedResource with both threads of NumberGenerator Class.</p>\n<p>This part is done correctly.</p>\n<p>My problem is in the run method of the NumberGenerator Class.</p>\n<p>These Threads must read alternatively the index of the array, the first thread, lets call it H1, read the index 0-2-4-6... even index, the another one, H2, odd index... But when 1 thread is running the other must wait.</p>\n<p>So the output  should be something like this:</p>\n<p>Array:[10,35,24,18]</p>\n<p>Thread name: H1 - Number:10\nThread name: H2 - Number:35\nThread name: H1 - Number:24\nThread name: H2 - Number:18</p>\n<p>My problem resides in the notify and wait methods. When I call the wait method, it automatically stop both Threads even when a notifyAll is present.</p>\n<p>I need to just use 1 method, I cant use a evenPrint method and an OddPrint method for example.</p>\n<p>Code of my class:</p>\n<pre><code>public class SumatoriaThread extends Thread{\n    String name;\n    NumerosCompartidos compartidos; // Object that contains the array.\n    double sumatoria; //Parameter used to sum all the numbers \n    static int pos = 0; // pos of the object\n    static int threadOrder = 0; //just a way to set the order of the Threads.\n    int priority; //Value of the priority\n    \n    \n        \n    public SumatoriaThread(NumerosCompartidos compartidos, String name){\n        \n        this.name = name;\n        this.compartidos = compartidos;\n        sumatoria = 0;\n        priority = threadOrder;\n        threadOrder++;\n        System.out.println(&quot;Hilo &quot; + this.name + &quot; creado.&quot;);\n    }\n    \n     public void run() {\n         //Array Length\n        int length = this.compartidos.length();\n        int i = 0;\n        \n        while (pos &lt; length) {\n            //Don't actually know if this is correct.\n            synchronized (this) {\n                //Just to be sure that the first Thread run before the second one.\n                if (priority == 1) {\n                    try {\n                        priority = 0;\n                        //Call a wait method until the next notify runs.\n                        this.wait();\n                    } catch (InterruptedException ex) {\n                        Logger.getLogger(SumatoriaThread.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                } else {\n                    //Even numbers\n                    if (pos % 2 == 0) {\n                        System.out.println(&quot;Nombre Thead: &quot; + Thread.currentThread().getName() + &quot; valor numero: &quot; + this.compartidos.getValor(pos));\n                        pos++;\n                        //To activate the Thread which is waiting.\n                        this.notifyAll();\n\n                        try {\n                            //Then I set to wait this one.\n                            this.wait();\n                        } catch (Exception ex) {\n                            ex.printStackTrace();\n                        }\n                    } else {\n                        System.out.println(&quot;Nombre Thead: &quot; + Thread.currentThread().getName() + &quot; valor numero: &quot; + this.compartidos.getValor(pos + 1));\n                        pos++;\n                        this.notifyAll();\n\n                        try {\n                            this.wait();\n                        } catch (InterruptedException ex) {\n                            Logger.getLogger(SumatoriaThread.class.getName()).log(Level.SEVERE, null, ex);\n                        }\n                    }\n                }\n\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":94917,"reputation":9047,"user_id":258848,"accept_rate":85,"display_name":"dimsuz"},"score":0,"creation_date":1669727701,"post_id":74614639,"comment_id":131704369,"body_markdown":"Add more code. How do you try to access image view from another class?","body":"Add more code. How do you try to access image view from another class?"},{"owner":{"account_id":25207917,"reputation":3,"user_id":20633669,"display_name":"Levon"},"score":1,"creation_date":1669727989,"post_id":74614639,"comment_id":131704498,"body_markdown":"@dimsuz I did :)","body":"@dimsuz I did :)"},{"owner":{"account_id":94917,"reputation":9047,"user_id":258848,"accept_rate":85,"display_name":"dimsuz"},"score":1,"creation_date":1669732117,"post_id":74614639,"comment_id":131706077,"body_markdown":"You should learn how variables work in Java, especially what is variable scope. You can&#39;t just access variable declared in another class, this is not related to Android even. Or maybe your example is not complete.","body":"You should learn how variables work in Java, especially what is variable scope. You can&#39;t just access variable declared in another class, this is not related to Android even. Or maybe your example is not complete."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1669745971,"post_id":74614639,"comment_id":131711297,"body_markdown":"As @dimsuz said, I think you should add more code, also what is card1 ? Where&#39;s come from ?","body":"As @dimsuz said, I think you should add more code, also what is card1 ? Where&#39;s come from ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669768928,"post_id":74614639,"comment_id":131717019,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":25207917,"reputation":3,"user_id":20633669,"display_name":"Levon"},"score":0,"creation_date":1669730301,"post_id":74615144,"comment_id":131705389,"body_markdown":"how to pass it? ^.^","body":"how to pass it? ^.^"}],"tags":[],"owner":{"account_id":16955942,"reputation":46,"user_id":12264338,"display_name":"beet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669729805,"creation_date":1669729805,"answer_id":74615144,"question_id":74614639,"body_markdown":"1 - pass the result of `findViewById` via a constructor or some other method to an instance of the required class.\r\n\r\n**It should be used carefully so as not to cause a memory leak when destroying an activity**\r\n\r\n2 - pass the result of `findViewById` to a static method and apply all the necessary operations in this method.\r\n\r\nI think the most appropriate way since the description of the question does not specify the reasons to keep the reference to the view","title":"Change ImageView from another class","body":"<p>1 - pass the result of <code>findViewById</code> via a constructor or some other method to an instance of the required class.</p>\n<p><strong>It should be used carefully so as not to cause a memory leak when destroying an activity</strong></p>\n<p>2 - pass the result of <code>findViewById</code> to a static method and apply all the necessary operations in this method.</p>\n<p>I think the most appropriate way since the description of the question does not specify the reasons to keep the reference to the view</p>\n"}],"owner":{"account_id":25207917,"reputation":3,"user_id":20633669,"display_name":"Levon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74615144,"answer_count":1,"score":-1,"last_activity_date":1669745855,"creation_date":1669727550,"question_id":74614639,"body_markdown":"I&#39;m trying to change `ImageView` image from another class, but it doesn&#39;t even see my `ImageView`\r\n\r\nso I have an `ImageView`\r\n\r\n```\r\nImageView card1 = findViewById(R.id.Card1);\r\n```\r\nIn `MainActivity`. And I want to change it from another public class in the same package. How?\r\n\r\nAll I can imagine is just like I would do in `MainActivity` class\r\n```\r\npublic class CardsFit {\r\n    public void fit(){\r\n        card1.setImageDrawable();\r\n    }\r\n}\r\n```","title":"Change ImageView from another class","body":"<p>I'm trying to change <code>ImageView</code> image from another class, but it doesn't even see my <code>ImageView</code></p>\n<p>so I have an <code>ImageView</code></p>\n<pre><code>ImageView card1 = findViewById(R.id.Card1);\n</code></pre>\n<p>In <code>MainActivity</code>. And I want to change it from another public class in the same package. How?</p>\n<p>All I can imagine is just like I would do in <code>MainActivity</code> class</p>\n<pre><code>public class CardsFit {\n    public void fit(){\n        card1.setImageDrawable();\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9376,"page":847,"page_size":100}
