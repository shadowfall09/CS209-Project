{"items":[{"tags":["java","android","service","battery-saver","android-powermanager"],"comments":[{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1696176094,"post_id":77211053,"comment_id":136116975,"body_markdown":"There is no way for prevent stopping.","body":"There is no way for prevent stopping."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696179207,"post_id":77211053,"comment_id":136117343,"body_markdown":"You can create foreground service with startForeground and adding notification to it.","body":"You can create foreground service with startForeground and adding notification to it."}],"owner":{"account_id":4028357,"reputation":41,"user_id":3315586,"display_name":"Murtaza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696173247,"creation_date":1696173247,"question_id":77211053,"body_markdown":"my code runs at Android 5.1 (API level 22), in my application ondestroy activiit i will start my service for background works.\r\nfor a while everything goes normal and service is in running state. bu sudenly it stop.\r\nwhos can is prevent is from stoppng\r\n\r\n\r\n\r\n`context.startService(new Intent(context, RunningService.class));`\r\n\r\n` @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        return START_STICKY;\r\n    }`","title":"Android Service Stops after a while","body":"<p>my code runs at Android 5.1 (API level 22), in my application ondestroy activiit i will start my service for background works.\nfor a while everything goes normal and service is in running state. bu sudenly it stop.\nwhos can is prevent is from stoppng</p>\n<p><code>context.startService(new Intent(context, RunningService.class));</code></p>\n<p>` @Nullable\n@Override\npublic IBinder onBind(Intent intent) {\nreturn null;\n}</p>\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    return START_STICKY;\n}`\n</code></pre>\n"},{"tags":["java","spring-boot","maven","compilation","lombok"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683634254,"post_id":76208835,"comment_id":134393799,"body_markdown":"Please check again. Maybe restart IntelliJ.  With Lombok plugin installed and enabled and with Annotation processing enabled this works for me.","body":"Please check again. Maybe restart IntelliJ.  With Lombok plugin installed and enabled and with Annotation processing enabled this works for me."}],"answers":[{"tags":[],"owner":{"account_id":4418450,"reputation":11,"user_id":3599273,"display_name":"Scavia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683634295,"creation_date":1683634268,"answer_id":76209221,"question_id":76208835,"body_markdown":" - Firstly remove the scope tag from the pom\r\n - run the &quot;mvn clean compile&quot;\r\n - make sure the lombok dependency has been imported into your project and you must see it under the external dependencies in your project explorer\r\n - then use the @Data annotation it makes your code less busy\r\n\r\n","title":"Compilation error with Lombok dependency on SpringBoot Application - Maven","body":"<ul>\n<li>Firstly remove the scope tag from the pom</li>\n<li>run the &quot;mvn clean compile&quot;</li>\n<li>make sure the lombok dependency has been imported into your project and you must see it under the external dependencies in your project explorer</li>\n<li>then use the @Data annotation it makes your code less busy</li>\n</ul>\n"}],"owner":{"account_id":17945962,"reputation":25,"user_id":13040241,"display_name":"Andres Chaves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696172984,"creation_date":1683631780,"question_id":76208835,"body_markdown":"I want my application to use the Lombok dependency, mainly because of the ***@Getters, @Setters, @NoArgsConstructor and @AllArgsConstructors***, I already have the plugin installed in IntelliJ and the Annotation Processors configuration enabled. When compiling the project Maven throws error: *&#39;cannot find symbol&#39;*, everywhere ***getters*** and ***setters*** are being used.\r\nThis is the dependency that i&#39;m using:\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n ```\r\n\r\nThe version of SpringBoot I am using is *3.0.2*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B3gGA.png","title":"Compilation error with Lombok dependency on SpringBoot Application - Maven","body":"<p>I want my application to use the Lombok dependency, mainly because of the <em><strong>@Getters, @Setters, @NoArgsConstructor and @AllArgsConstructors</strong></em>, I already have the plugin installed in IntelliJ and the Annotation Processors configuration enabled. When compiling the project Maven throws error: <em>'cannot find symbol'</em>, everywhere <em><strong>getters</strong></em> and <em><strong>setters</strong></em> are being used.\nThis is the dependency that i'm using:</p>\n<pre><code>    &lt;dependencies&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>The version of SpringBoot I am using is <em>3.0.2</em></p>\n<p><a href=\"https://i.stack.imgur.com/B3gGA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B3gGA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","postgresql","spring-boot","unit-testing","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":3816358,"reputation":553,"user_id":3165644,"accept_rate":0,"display_name":"Mihir"},"score":0,"creation_date":1623278985,"post_id":67912303,"comment_id":120037351,"body_markdown":"Thanks, I have that dependency. If I use the same SQL with withInitScript (without SQL annotation), it runs. However, I need to separate the schema and data as both files are big and growing (functions/tables and data). So I tried to use SQL annotation (since withInitScript does not accept multiple files). That is what is not running here i.e. files provided for SQL annotation are not run when containers and DB are created.\nSince this is just basic to understand usage of testcontainers, otherwise I will be using spring-boot tests and link will help me for sure. Thanks.","body":"Thanks, I have that dependency. If I use the same SQL with withInitScript (without SQL annotation), it runs. However, I need to separate the schema and data as both files are big and growing (functions/tables and data). So I tried to use SQL annotation (since withInitScript does not accept multiple files). That is what is not running here i.e. files provided for SQL annotation are not run when containers and DB are created. Since this is just basic to understand usage of testcontainers, otherwise I will be using spring-boot tests and link will help me for sure. Thanks."},{"owner":{"account_id":3816358,"reputation":553,"user_id":3165644,"accept_rate":0,"display_name":"Mihir"},"score":0,"creation_date":1623279285,"post_id":67912303,"comment_id":120037396,"body_markdown":"Basically, I am looking for following.\n1. All profile (dev/ist/uat/prod) should be using their respective persistence DB (from their application.&lt;env&gt;.properties).\n\n2. Only for the test, I need the in-memory DB, but cannot use H2 (and similar) as I have lots of DB related tests and need Postgres (functions , etc). So, trying out Testcontainers.\n\n3. When the application boots up, it fetches some data from DB to prepare initial cache and other methods use it while servicing any rest calls. Hence, for Test (only) I need a new in-memory DB with all schema/data , so boot up (test) use that.","body":"Basically, I am looking for following. 1. All profile (dev/ist/uat/prod) should be using their respective persistence DB (from their application.&lt;env&gt;.properties).  2. Only for the test, I need the in-memory DB, but cannot use H2 (and similar) as I have lots of DB related tests and need Postgres (functions , etc). So, trying out Testcontainers.  3. When the application boots up, it fetches some data from DB to prepare initial cache and other methods use it while servicing any rest calls. Hence, for Test (only) I need a new in-memory DB with all schema/data , so boot up (test) use that."}],"tags":[],"owner":{"account_id":183892,"reputation":1036,"user_id":419581,"accept_rate":100,"display_name":"r&#233;my"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623353623,"creation_date":1623276674,"answer_id":67912303,"question_id":67912066,"body_markdown":"I guess you missed the following\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\ntest-dependency. (Or remove the `&lt;scope/&gt;` at all.)\r\n\r\nTable not found errors often indicate a mismatch of the schema and model and the available driver.\r\n\r\nAlso your test class seems to be spring-boot independent. How do you run it?  You could benefit of auto-configuration, like described here: https://www.baeldung.com/spring-boot-testcontainers-integration-test\r\n(but I guess you don&#39;t like that ;))","title":"Spring boot test using testcontainers postgresql","body":"<p>I guess you missed the following</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>test-dependency. (Or remove the <code>&lt;scope/&gt;</code> at all.)</p>\n<p>Table not found errors often indicate a mismatch of the schema and model and the available driver.</p>\n<p>Also your test class seems to be spring-boot independent. How do you run it?  You could benefit of auto-configuration, like described here: <a href=\"https://www.baeldung.com/spring-boot-testcontainers-integration-test\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-testcontainers-integration-test</a>\n(but I guess you don't like that ;))</p>\n"},{"comments":[{"owner":{"account_id":3816358,"reputation":553,"user_id":3165644,"accept_rate":0,"display_name":"Mihir"},"score":0,"creation_date":1623421903,"post_id":67913180,"comment_id":120082557,"body_markdown":"Thanks. The code is working (same SQL, just combined in one file) if I use withInitScript (Testcontainers intialization). But when I split the same file into schema and data, and use SQL annotation (without withInitScript), DB gets created (testcontainers), but the schema and data are not run. I debugged and in docker when I check no schema is created. Basically, I am trying to use SQL annotation along with Testcontainers, to initialize my DB (created by testcontainers) with few SQL files before running any Tests.","body":"Thanks. The code is working (same SQL, just combined in one file) if I use withInitScript (Testcontainers intialization). But when I split the same file into schema and data, and use SQL annotation (without withInitScript), DB gets created (testcontainers), but the schema and data are not run. I debugged and in docker when I check no schema is created. Basically, I am trying to use SQL annotation along with Testcontainers, to initialize my DB (created by testcontainers) with few SQL files before running any Tests."},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1623439264,"post_id":67913180,"comment_id":120089098,"body_markdown":"You can initialise your postgres DB similarly to this https://github.com/hyperledger/blockchain-explorer/blob/00ed99bde79bf1016fa34724ae4eac8bd8ada5b0/app/persistence/fabric/postgreSQL/db/explorerpg.sql#L7","body":"You can initialise your postgres DB similarly to this <a href=\"https://github.com/hyperledger/blockchain-explorer/blob/00ed99bde79bf1016fa34724ae4eac8bd8ada5b0/app/persistence/fabric/postgreSQL/db/explorerpg.sql#L7\" rel=\"nofollow noreferrer\">github.com/hyperledger/blockchain-explorer/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623285533,"creation_date":1623285208,"answer_id":67913180,"question_id":67912066,"body_markdown":"The error is telling you no such table exists\r\n```\r\norg.postgresql.util.PSQLException: ERROR: relation &quot;table_from_schema&quot; does not exist\r\n```\r\n\r\nIt seems that the connection to the DB is established, but the query you&#39;re attempting is not working.\r\n\r\nI had a quick look and from what I could see the table `table_from_schema` is not present in the standard postgres schema.\r\n\r\nHowever `select * from pg_tables;` may work. Try accessing a different table and see if this resolves the issue for you temporarily, so you can confirm the issue is selecting from a table name that doesn&#39;t exist rather than something more obscure.\r\n\r\nIf you are able to, you can put a break point in after the docker container has spun up and connect using a database client. Once you&#39;re connected you can then try inspect the database manually, testing your SQL commands before you copy-paste them to your codebase.\r\n\r\nIf you want the SQL scripts to run in your docker container, you need to mount the `test/resources` dir to the container&#39;s `/docker-entrypoint-initdb.d` dir using a volume mapping for the container. Any `*.sh` and `*.sql` scripts will then be run. You may need to restructure your sql scripts so you have one root script that calls scripts in a directory lower down. This is especially true if there&#39;s any ordering requirement between the two.\r\n\r\nSee https://hub.docker.com/_/postgres &quot;Initialization scripts&quot;\r\n\r\nMounting into your container with testcontainers is as simple as:\r\n\r\n```java\r\nString pathToFile = &quot;&lt;project-root-dir&gt;/src/test/resources&quot;;\r\nnew GenericContainer(...)\r\n        .withFileSystemBind(pathToFile, &quot;/docker-entrypoint-initdb.d&quot;, BindMode.READ_ONLY)\r\n```\r\n\r\nSee https://www.testcontainers.org/features/files/","title":"Spring boot test using testcontainers postgresql","body":"<p>The error is telling you no such table exists</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: relation &quot;table_from_schema&quot; does not exist\n</code></pre>\n<p>It seems that the connection to the DB is established, but the query you're attempting is not working.</p>\n<p>I had a quick look and from what I could see the table <code>table_from_schema</code> is not present in the standard postgres schema.</p>\n<p>However <code>select * from pg_tables;</code> may work. Try accessing a different table and see if this resolves the issue for you temporarily, so you can confirm the issue is selecting from a table name that doesn't exist rather than something more obscure.</p>\n<p>If you are able to, you can put a break point in after the docker container has spun up and connect using a database client. Once you're connected you can then try inspect the database manually, testing your SQL commands before you copy-paste them to your codebase.</p>\n<p>If you want the SQL scripts to run in your docker container, you need to mount the <code>test/resources</code> dir to the container's <code>/docker-entrypoint-initdb.d</code> dir using a volume mapping for the container. Any <code>*.sh</code> and <code>*.sql</code> scripts will then be run. You may need to restructure your sql scripts so you have one root script that calls scripts in a directory lower down. This is especially true if there's any ordering requirement between the two.</p>\n<p>See <a href=\"https://hub.docker.com/_/postgres\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/postgres</a> &quot;Initialization scripts&quot;</p>\n<p>Mounting into your container with testcontainers is as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pathToFile = &quot;&lt;project-root-dir&gt;/src/test/resources&quot;;\nnew GenericContainer(...)\n        .withFileSystemBind(pathToFile, &quot;/docker-entrypoint-initdb.d&quot;, BindMode.READ_ONLY)\n</code></pre>\n<p>See <a href=\"https://www.testcontainers.org/features/files/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/features/files/</a></p>\n"}],"owner":{"account_id":3816358,"reputation":553,"user_id":3165644,"accept_rate":0,"display_name":"Mihir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696172495,"creation_date":1623274959,"question_id":67912066,"body_markdown":"I have a Java Spring boot project, heavily using the database (Postgres) for it&#39;s repository/data. It is the basic MVC project, controllers are all REST controllers. The project works well (service is up, able to call service via REST clients and all).\r\n\r\nNow, I am adding the unit tests to it. I am pretty new to Spring boot and mostly the unit test part. Owing to the CI/CD (build pipeline), I cannot use the persistent/external DB for tests. Hence I need to use in-memory DB.\r\n\r\nThe initial run (Main class) runs a bunch of DB queries to build up cache while project comes up. So I would need postgres DB for testing (lots of DB functions used).\r\n\r\nBasically, I would need to use Testcontainers (postgresql). I am writing a very basic test first to get hold of it.\r\n\r\nI have the schema.sql and data.sql stored (to be used only for testing).\r\n\r\n    src\r\n       |\r\n       main\r\n       test\r\n    \t\t|\r\n    \t\tresources\r\n    \t\t\t\t|\r\n    \t\t\t\tapplication-test.properties\r\n    \t\t\t\tschema.sql\r\n    \t\t\t\tdata.sql\r\n\r\nRelevant pom.xml\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;testcontainers.version&gt;1.15.1&lt;/testcontainers.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.11.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.9.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;20201115&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;localstack&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\t\r\n\r\nMy Test class:\r\n\r\n    @Testcontainers\r\n    @Sql(scripts = {&quot;file:src/test/resources/schema.sql&quot;,&quot;file:src/test/resources/data.sql&quot;})\r\n    class ApplicationTests {\r\n    \r\n    \t@Container\r\n    \tstatic PostgreSQLContainer&lt;?&gt; postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:12&quot;)\r\n    \t\t\t.withUsername(&quot;testcontainers&quot;)\r\n    \t\t\t.withPassword(&quot;testcontainers&quot;)\r\n    \t\t\t.withDatabaseName(&quot;tescontainers&quot;);\r\n    \r\n    \r\n    \t@Test\r\n    \tvoid testPostgreSQLModule() throws SQLException {\r\n    \t\ttry (Connection connection = DriverManager\r\n    \t\t\t\t.getConnection(postgreSQLContainer.getJdbcUrl(), &quot;testcontainers&quot;, &quot;testcontainers&quot;);\r\n    \t\t\t PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * FROM table_from_schema&quot;)) {\r\n    \t\t\ttry (ResultSet resultSet = preparedStatement.executeQuery()) {\r\n    \t\t\t\twhile (resultSet.next()) {\r\n    \t\t\t\t\tSystem.out.println(resultSet.getString(&quot;column1&quot;));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\t\r\n\r\nI am simply trying to test the DB.\r\n\r\nHowever, when I run the test, it fails saying that\r\n\r\n    org.postgresql.util.PSQLException: ERROR: relation &quot;table_from_schema&quot; does not exist\r\n\r\nI tried to debug it, i.e. stopped just inside my Test (testPostgreSQLModule). I can see the docker component with Postgres.\r\n\r\n    $ docker ps\r\n    CONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS              PORTS                     NAMES\r\n    fc3ff1e04ceb        postgres:12                 &quot;docker-entrypoint.s…&quot;   16 seconds ago      Up 15 seconds \r\n\r\nBut when I login to it and run psql, I see the DB (tescontainers) is created, however it does not have any schema (tables/functions).\r\n\r\n    tescontainers=# \\dt\r\n    Did not find any relations.\r\n    tescontainers=# \r\n\r\nBasically, my files are not being run. \r\n\r\nDoes @SQL annotation on class level does not work with Testcontainers initialization as in my case?\r\n\r\nWhat is needed here so both my initial scripts run?\r\n\r\nI tried using .withInitScript, and it runs. However, I have lots of data to initialize and the file is too large (and would grow), so I separate DDL (schema) and Inserts (data). Now, my issue is how to run multiple init files (schema.sql, data.sql) using &quot;withInitScript&quot; ? So I tries @SQL annotation, but it does not seems to work.\r\n\r\n---**UPDATE/EDIT**----\r\n\r\nTo give the context clear, I am looking for below. If anyone can guide please?\r\n\r\n 1. All profile (dev/ist/uat/prod) should be using their respective persistence DB (from their application.*env*.properties). \r\n 2. Only for the test, I need the in-memory DB, but cannot use H2 (and similar) as I have lots of DB related tests and need Postgres (functions , etc). So, trying out Testcontainers.\r\n 3. When the application boots up, it fetches some data from respective DB (based on env) to prepare the initial cache and other methods will use it while servicing any rest calls. Hence, for **Test** (only) I need a new in-memory DB with all schema/data (which I can provide via SQL files) , so that while test, the boot up should use that test DB and corresponding tests wil work based on that initial data.\r\n 4. So I need a way to bring up test DB (in-memory/testcontainers) whenever Test runs, and pass multiple SQL files for initialization of Test DB (before any test runs). Any idea on what is the best approach?","title":"Spring boot test using testcontainers postgresql","body":"<p>I have a Java Spring boot project, heavily using the database (Postgres) for it's repository/data. It is the basic MVC project, controllers are all REST controllers. The project works well (service is up, able to call service via REST clients and all).</p>\n<p>Now, I am adding the unit tests to it. I am pretty new to Spring boot and mostly the unit test part. Owing to the CI/CD (build pipeline), I cannot use the persistent/external DB for tests. Hence I need to use in-memory DB.</p>\n<p>The initial run (Main class) runs a bunch of DB queries to build up cache while project comes up. So I would need postgres DB for testing (lots of DB functions used).</p>\n<p>Basically, I would need to use Testcontainers (postgresql). I am writing a very basic test first to get hold of it.</p>\n<p>I have the schema.sql and data.sql stored (to be used only for testing).</p>\n<pre><code>src\n   |\n   main\n   test\n        |\n        resources\n                |\n                application-test.properties\n                schema.sql\n                data.sql\n</code></pre>\n<p>Relevant pom.xml</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;testcontainers.version&gt;1.15.1&lt;/testcontainers.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;version&gt;1.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20201115&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n        &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;localstack&lt;/artifactId&gt;\n        &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt; \n</code></pre>\n<p>My Test class:</p>\n<pre><code>@Testcontainers\n@Sql(scripts = {&quot;file:src/test/resources/schema.sql&quot;,&quot;file:src/test/resources/data.sql&quot;})\nclass ApplicationTests {\n\n    @Container\n    static PostgreSQLContainer&lt;?&gt; postgreSQLContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:12&quot;)\n            .withUsername(&quot;testcontainers&quot;)\n            .withPassword(&quot;testcontainers&quot;)\n            .withDatabaseName(&quot;tescontainers&quot;);\n\n\n    @Test\n    void testPostgreSQLModule() throws SQLException {\n        try (Connection connection = DriverManager\n                .getConnection(postgreSQLContainer.getJdbcUrl(), &quot;testcontainers&quot;, &quot;testcontainers&quot;);\n             PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * FROM table_from_schema&quot;)) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    System.out.println(resultSet.getString(&quot;column1&quot;));\n                }\n            }\n        }\n    }\n}   \n</code></pre>\n<p>I am simply trying to test the DB.</p>\n<p>However, when I run the test, it fails saying that</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: relation &quot;table_from_schema&quot; does not exist\n</code></pre>\n<p>I tried to debug it, i.e. stopped just inside my Test (testPostgreSQLModule). I can see the docker component with Postgres.</p>\n<pre><code>$ docker ps\nCONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS              PORTS                     NAMES\nfc3ff1e04ceb        postgres:12                 &quot;docker-entrypoint.s…&quot;   16 seconds ago      Up 15 seconds \n</code></pre>\n<p>But when I login to it and run psql, I see the DB (tescontainers) is created, however it does not have any schema (tables/functions).</p>\n<pre><code>tescontainers=# \\dt\nDid not find any relations.\ntescontainers=# \n</code></pre>\n<p>Basically, my files are not being run.</p>\n<p>Does @SQL annotation on class level does not work with Testcontainers initialization as in my case?</p>\n<p>What is needed here so both my initial scripts run?</p>\n<p>I tried using .withInitScript, and it runs. However, I have lots of data to initialize and the file is too large (and would grow), so I separate DDL (schema) and Inserts (data). Now, my issue is how to run multiple init files (schema.sql, data.sql) using &quot;withInitScript&quot; ? So I tries @SQL annotation, but it does not seems to work.</p>\n<p>---<strong>UPDATE/EDIT</strong>----</p>\n<p>To give the context clear, I am looking for below. If anyone can guide please?</p>\n<ol>\n<li>All profile (dev/ist/uat/prod) should be using their respective persistence DB (from their application.<em>env</em>.properties).</li>\n<li>Only for the test, I need the in-memory DB, but cannot use H2 (and similar) as I have lots of DB related tests and need Postgres (functions , etc). So, trying out Testcontainers.</li>\n<li>When the application boots up, it fetches some data from respective DB (based on env) to prepare the initial cache and other methods will use it while servicing any rest calls. Hence, for <strong>Test</strong> (only) I need a new in-memory DB with all schema/data (which I can provide via SQL files) , so that while test, the boot up should use that test DB and corresponding tests wil work based on that initial data.</li>\n<li>So I need a way to bring up test DB (in-memory/testcontainers) whenever Test runs, and pass multiple SQL files for initialization of Test DB (before any test runs). Any idea on what is the best approach?</li>\n</ol>\n"},{"tags":["java","visual-studio-code","ssh","vscode-extensions"],"answers":[{"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698284225,"post_id":77209535,"comment_id":136386886,"body_markdown":"If you find the solution, you could click &#39;✔&#39; to mark it as an answer to change its status to Answered. It will also help others to solve a similar issue. See also [stackoverflow.com/help/why-vote](https://stackoverflow.com/help/why-vote)","body":"If you find the solution, you could click &#39;✔&#39; to mark it as an answer to change its status to Answered. It will also help others to solve a similar issue. See also <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"}],"tags":[],"owner":{"account_id":18596004,"reputation":29,"user_id":13552014,"display_name":"ecormaksin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696143914,"creation_date":1696143914,"answer_id":77209535,"question_id":77209328,"body_markdown":"As a workaround, when I add a configuration to maven-compiler-plugin to maven pom.xml and launch maven from command-line, the source file become to be compiled automatically.\r\n\r\nI use Spring Boot, and the configuration example is as follows.\r\n\r\n```xml\r\n  &lt;!-- ... --&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;!-- ... --&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${java.version}&lt;/source&gt;\r\n          &lt;target&gt;${java.version}&lt;/target&gt;\r\n          &lt;compilerArgs&gt;\r\n          &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;!-- ... --&gt;\r\n```","title":"Java Autobuild does not work on Remote SSH via Visual Studio Code","body":"<p>As a workaround, when I add a configuration to maven-compiler-plugin to maven pom.xml and launch maven from command-line, the source file become to be compiled automatically.</p>\n<p>I use Spring Boot, and the configuration example is as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!-- ... --&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n  &lt;!-- ... --&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${java.version}&lt;/source&gt;\n          &lt;target&gt;${java.version}&lt;/target&gt;\n          &lt;compilerArgs&gt;\n          &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;!-- ... --&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696231677,"post_id":77210948,"comment_id":136121847,"body_markdown":"You should accept the answer by clicking on tick icon ✅ which is at left of the answer, so that community can understand that the question has been answered.","body":"You should accept the answer by clicking on tick icon ✅ which is at left of the answer, so that community can understand that the question has been answered."},{"owner":{"account_id":18596004,"reputation":29,"user_id":13552014,"display_name":"ecormaksin"},"score":0,"creation_date":1696250742,"post_id":77210948,"comment_id":136125091,"body_markdown":"@JialeDu When I click the tick icon, the message &#39;You can accept your own answer in 16 hours&#39; pops up. I answered my question on my own, and 21 hours passed. It seems that I cannot accept my answer. Do you know how to accept a self-answered question which 16 hours passed?","body":"@JialeDu When I click the tick icon, the message &#39;You can accept your own answer in 16 hours&#39; pops up. I answered my question on my own, and 21 hours passed. It seems that I cannot accept my answer. Do you know how to accept a self-answered question which 16 hours passed?"}],"tags":[],"owner":{"account_id":18596004,"reputation":29,"user_id":13552014,"display_name":"ecormaksin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696171251,"creation_date":1696171251,"answer_id":77210948,"question_id":77209328,"body_markdown":"I could solve the problem.\r\nVSCode extensions on the remote machine were not installed properly.\r\n&#39;Extension Pack for Java&#39; extension and other extensions did not work.\r\nIn the Explorer pane on vscode, &#39;JAVA PROJECTS&#39; and &#39;MAVEN&#39; sections did not exist.\r\n\r\nWhen I **disabled ipv6 on the remote machine** (VirtualBox vm), extensions were installed properly.\r\nAnd when I changed a Java source file, autobuild worked without maven-compiler-plugin.","title":"Java Autobuild does not work on Remote SSH via Visual Studio Code","body":"<p>I could solve the problem.\nVSCode extensions on the remote machine were not installed properly.\n'Extension Pack for Java' extension and other extensions did not work.\nIn the Explorer pane on vscode, 'JAVA PROJECTS' and 'MAVEN' sections did not exist.</p>\n<p>When I <strong>disabled ipv6 on the remote machine</strong> (VirtualBox vm), extensions were installed properly.\nAnd when I changed a Java source file, autobuild worked without maven-compiler-plugin.</p>\n"}],"owner":{"account_id":18596004,"reputation":29,"user_id":13552014,"display_name":"ecormaksin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77210948,"answer_count":2,"score":0,"last_activity_date":1696171251,"creation_date":1696137430,"question_id":77209328,"body_markdown":"I use Visual Studio Code and &#39;Remote - SSH&#39; extension.\r\nI launch a virtual machine (Ubuntu 22.04) on VirtualBox with bridge network. My host machine is Windows 11 Pro 22H2.\r\nI installed xrdp on the virtual machine, and I can connect to the virtual machine using remote desktop.\r\n\r\nWhen I edit a Java source file using Visual Studio Code on my host via Remote SSH, the source file is not built automatically.\r\n\r\nHowever, I edit the same Java source file using &#39;remote&#39; Visual Stdio Code on the guest virtual machine via remote desktop(xrdp), the source file is built automatically.\r\n\r\nTo develop using Visual Studio Code on the virtual machine is slow, so I want to develop on my host using Visual Studio Code and Remote SSH extension.\r\n\r\nHow do I resolve to this problem?\r\n","title":"Java Autobuild does not work on Remote SSH via Visual Studio Code","body":"<p>I use Visual Studio Code and 'Remote - SSH' extension.\nI launch a virtual machine (Ubuntu 22.04) on VirtualBox with bridge network. My host machine is Windows 11 Pro 22H2.\nI installed xrdp on the virtual machine, and I can connect to the virtual machine using remote desktop.</p>\n<p>When I edit a Java source file using Visual Studio Code on my host via Remote SSH, the source file is not built automatically.</p>\n<p>However, I edit the same Java source file using 'remote' Visual Stdio Code on the guest virtual machine via remote desktop(xrdp), the source file is built automatically.</p>\n<p>To develop using Visual Studio Code on the virtual machine is slow, so I want to develop on my host using Visual Studio Code and Remote SSH extension.</p>\n<p>How do I resolve to this problem?</p>\n"},{"tags":["java","flip","bytebuffer"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":6,"creation_date":1360453992,"post_id":14792968,"comment_id":20715220,"body_markdown":"It &quot;flips&quot; the buffer from read to write (and vice versa). http://thushw.blogspot.com/2009/10/java-bytebuffer-how-does-this-work.html","body":"It &quot;flips&quot; the buffer from read to write (and vice versa). <a href=\"http://thushw.blogspot.com/2009/10/java-bytebuffer-how-does-this-work.html\" rel=\"nofollow noreferrer\">thushw.blogspot.com/2009/10/&hellip;</a>"},{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":2,"creation_date":1360454437,"post_id":14792968,"comment_id":20715332,"body_markdown":"@BrianRoach: It flips from read to write but is not as useful for write to read unless you are writing fixed-size structures. For flipping to write to read, use `reset` instead.","body":"@BrianRoach: It flips from read to write but is not as useful for write to read unless you are writing fixed-size structures. For flipping to write to read, use <code>reset</code> instead."},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1360455133,"post_id":14792968,"comment_id":20715473,"body_markdown":"Remember to ask &quot;objective&quot; questions; or, at least, make the predominant question seem objective :D","body":"Remember to ask &quot;objective&quot; questions; or, at least, make the predominant question seem objective :D"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1360467187,"post_id":14792968,"comment_id":20717639,"body_markdown":"@nneonneo - It was kinda non-question, wasn&#39;t really going to spend much time on explaining the details, hence just a comment and a link.","body":"@nneonneo - It was kinda non-question, wasn&#39;t really going to spend much time on explaining the details, hence just a comment and a link."}],"answers":[{"comments":[{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":0,"creation_date":1360455376,"post_id":14793037,"comment_id":20715525,"body_markdown":"A `WritableByteChannel`, such as `FileChannel` or `SocketChannel`.","body":"A <code>WritableByteChannel</code>, such as <code>FileChannel</code> or <code>SocketChannel</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1360460144,"post_id":14793037,"comment_id":20716454,"body_markdown":"Or anything else that has a `write(ByteBuffer)` method.  (It is not really relevant what its type is ...)","body":"Or anything else that has a <code>write(ByteBuffer)</code> method.  (It is not really relevant what its type is ...)"},{"owner":{"account_id":2927922,"reputation":174,"user_id":2508883,"display_name":"Kelvin Ng"},"score":1,"creation_date":1381829130,"post_id":14793037,"comment_id":28716062,"body_markdown":"It should `Buffer.clear` which reset limit to capacity and position to 0. `Buffer.reset` reset only position to `mark`.","body":"It should <code>Buffer.clear</code> which reset limit to capacity and position to 0. <code>Buffer.reset</code> reset only position to <code>mark</code>."},{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":1,"creation_date":1381860617,"post_id":14793037,"comment_id":28734826,"body_markdown":"@KelvinNg: You&#39;re right; I&#39;ve amended the answer to reflect this. Thanks for the nice catch!","body":"@KelvinNg: You&#39;re right; I&#39;ve amended the answer to reflect this. Thanks for the nice catch!"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":0,"creation_date":1428959064,"post_id":14793037,"comment_id":47375410,"body_markdown":"In some scenarios (you have &quot;unwritten&quot; bytes left in the buffer, if for example the consumer can only consume 4 bytes at once) you may also want to use `compact()` which moves them to the beginning of the buffer so that you can continue reading bytes into the buffer after them.","body":"In some scenarios (you have &quot;unwritten&quot; bytes left in the buffer, if for example the consumer can only consume 4 bytes at once) you may also want to use <code>compact()</code> which moves them to the beginning of the buffer so that you can continue reading bytes into the buffer after them."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1476454090,"post_id":14793037,"comment_id":67366387,"body_markdown":"@AdamHughes second loop iteration reuses the cleared buffer. Having the clear at the end of the loop is also possible (but still has one clear call too many)","body":"@AdamHughes second loop iteration reuses the cleared buffer. Having the clear at the end of the loop is also possible (but still has one clear call too many)"},{"owner":{"account_id":93342,"reputation":6808,"user_id":255412,"accept_rate":75,"display_name":"user963241"},"score":0,"creation_date":1497803837,"post_id":14793037,"comment_id":76220456,"body_markdown":"@nneonneo: How does &quot;reading&quot; means (putting) and &quot;writing&quot; means (getting)? E.g. when we use `put` you write data into buffer.","body":"@nneonneo: How does &quot;reading&quot; means (putting) and &quot;writing&quot; means (getting)? E.g. when we use <code>put</code> you write data into buffer."},{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":1,"creation_date":1497824242,"post_id":14793037,"comment_id":76225916,"body_markdown":"@user963241: read *from* I/O into buffer, write *from* buffer into I/O.","body":"@user963241: read <i>from</i> I/O into buffer, write <i>from</i> buffer into I/O."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1575229681,"post_id":14793037,"comment_id":104486531,"body_markdown":"@KelvinNg Mark and reset are for `InputStreams`, not buffers.","body":"@KelvinNg Mark and reset are for <code>InputStreams</code>, not buffers."},{"owner":{"account_id":2927922,"reputation":174,"user_id":2508883,"display_name":"Kelvin Ng"},"score":0,"creation_date":1575286715,"post_id":14793037,"comment_id":104503192,"body_markdown":"@user207421 OP fixed the bug in his code snippet  at revision 2 https://stackoverflow.com/posts/14793037/revisions#","body":"@user207421 OP fixed the bug in his code snippet  at revision 2 <a href=\"https://stackoverflow.com/posts/14793037/revisions#\">stackoverflow.com/posts/14793037/revisions#</a>"}],"tags":[],"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"comment_count":10,"down_vote_count":0,"up_vote_count":153,"is_accepted":false,"score":153,"last_activity_date":1508000293,"creation_date":1360454214,"answer_id":14793037,"question_id":14792968,"body_markdown":"One fairly common use case for the `ByteBuffer` is to construct some data structure piece-by-piece and then write that whole structure to disk. `flip` is used to flip the `ByteBuffer` from &quot;reading from I/O&quot; (`put`ting) to &quot;writing to I/O&quot; (`get`ting): after a sequence of `put`s is used to fill the `ByteBuffer`, `flip` will set the limit of the buffer to the current position and reset the position to zero. This has the effect of making a future `get` or `write` from the buffer write all of what was `put` into the buffer and no more.\r\n\r\nAfter finishing the `put`, you might want to reuse the `ByteBuffer` to construct another data structure. To &quot;unflip&quot; it, call `clear`. This resets the limit to the capacity (making all of the buffer usable), and the position to 0.\r\n\r\nSo, a typical usage scenario:\r\n\r\n    ByteBuffer b = new ByteBuffer(1024);\r\n    for(int i=0; i&lt;N; i++) {\r\n        b.clear();\r\n        b.put(header[i]);\r\n        b.put(data[i]);\r\n        b.flip();\r\n        out.write(b);\r\n    }","title":"What is the purpose of ByteBuffer&#39;s flip method? (And why is it called &quot;flip&quot;?)","body":"<p>One fairly common use case for the <code>ByteBuffer</code> is to construct some data structure piece-by-piece and then write that whole structure to disk. <code>flip</code> is used to flip the <code>ByteBuffer</code> from \"reading from I/O\" (<code>put</code>ting) to \"writing to I/O\" (<code>get</code>ting): after a sequence of <code>put</code>s is used to fill the <code>ByteBuffer</code>, <code>flip</code> will set the limit of the buffer to the current position and reset the position to zero. This has the effect of making a future <code>get</code> or <code>write</code> from the buffer write all of what was <code>put</code> into the buffer and no more.</p>\n\n<p>After finishing the <code>put</code>, you might want to reuse the <code>ByteBuffer</code> to construct another data structure. To \"unflip\" it, call <code>clear</code>. This resets the limit to the capacity (making all of the buffer usable), and the position to 0.</p>\n\n<p>So, a typical usage scenario:</p>\n\n<pre><code>ByteBuffer b = new ByteBuffer(1024);\nfor(int i=0; i&lt;N; i++) {\n    b.clear();\n    b.put(header[i]);\n    b.put(data[i]);\n    b.flip();\n    out.write(b);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":1,"creation_date":1360460309,"post_id":14793730,"comment_id":20716482,"body_markdown":"[[citation needed]] (I haven&#39;t heard these complaints about `ByteBuffer`). Also, the docs say there&#39;s only a &quot;current position&quot;, not a &quot;start&quot; and &quot;end&quot;.","body":"[[citation needed]] (I haven&#39;t heard these complaints about <code>ByteBuffer</code>). Also, the docs say there&#39;s only a &quot;current position&quot;, not a &quot;start&quot; and &quot;end&quot;."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1360460461,"post_id":14793730,"comment_id":20716518,"body_markdown":"I have heard, you can take my word for it.","body":"I have heard, you can take my word for it."},{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":7,"creation_date":1360460564,"post_id":14793730,"comment_id":20716535,"body_markdown":"So, what are the complaints? If you have some personal grievance that&#39;s OK too, but it does not do to just say &quot;X API sucks, people said so&quot;.","body":"So, what are the complaints? If you have some personal grievance that&#39;s OK too, but it does not do to just say &quot;X API sucks, people said so&quot;."},{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":13,"creation_date":1360461004,"post_id":14793730,"comment_id":20716621,"body_markdown":"Posting that link is literally all you had to do in the first place. I never accused you of lying, I merely asked you to elaborate on the source and the nature of the complaints.","body":"Posting that link is literally all you had to do in the first place. I never accused you of lying, I merely asked you to elaborate on the source and the nature of the complaints."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":2,"creation_date":1360461172,"post_id":14793730,"comment_id":20716654,"body_markdown":"this is just a place where people offer their help voluntarily, with the proper amount of effort they choose to. I do not need to expand each answer into a well researched academic paper.","body":"this is just a place where people offer their help voluntarily, with the proper amount of effort they choose to. I do not need to expand each answer into a well researched academic paper."},{"owner":{"account_id":1673966,"reputation":3112,"user_id":1539858,"accept_rate":72,"display_name":"arunmoezhi"},"score":9,"creation_date":1372122121,"post_id":14793730,"comment_id":25064986,"body_markdown":"and this is also a place where people will not take someone&#39;s word unless it sounds credible.","body":"and this is also a place where people will not take someone&#39;s word unless it sounds credible."},{"owner":{"account_id":71596,"reputation":2138,"user_id":207096,"accept_rate":80,"display_name":"Gurgeh"},"score":8,"creation_date":1383655507,"post_id":14793730,"comment_id":29415839,"body_markdown":"You don&#39;t even need to give sources. It is blatantly obvious that ByteBuffer is ill designed. flip does not fill a purpose, it just introduces a source of bugs when you forget to flip. If they felt an uncontrollable urge to put it in, at least make flipped and unflipped ByteBuffers different classes, so the type system can catch the bugs.","body":"You don&#39;t even need to give sources. It is blatantly obvious that ByteBuffer is ill designed. flip does not fill a purpose, it just introduces a source of bugs when you forget to flip. If they felt an uncontrollable urge to put it in, at least make flipped and unflipped ByteBuffers different classes, so the type system can catch the bugs."},{"owner":{"account_id":7197,"reputation":8531,"user_id":12386,"accept_rate":73,"display_name":"stu"},"score":2,"creation_date":1389907792,"post_id":14793730,"comment_id":31875346,"body_markdown":"I respect people who offer criticism of standards despite the entrenchment of that standard. +1 +1 +1.","body":"I respect people who offer criticism of standards despite the entrenchment of that standard. +1 +1 +1."},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":1,"creation_date":1478018016,"post_id":14793730,"comment_id":67981847,"body_markdown":"`flip` sounds like the buffer direction is reversed.  They need a verb to represent changing mode; `switch` is a keyword, so it&#39;s invalid, and `shift` has a whole other meaning in a bit-based context.  `swap` or `change` are better choices than `flip`.","body":"<code>flip</code> sounds like the buffer direction is reversed.  They need a verb to represent changing mode; <code>switch</code> is a keyword, so it&#39;s invalid, and <code>shift</code> has a whole other meaning in a bit-based context.  <code>swap</code> or <code>change</code> are better choices than <code>flip</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1495650364,"post_id":14793730,"comment_id":75348308,"body_markdown":"There is nothing here that answers the question.","body":"There is nothing here that answers the question."},{"owner":{"account_id":2996796,"reputation":702,"user_id":2543186,"accept_rate":100,"display_name":"Willwsharp"},"score":3,"creation_date":1540306674,"post_id":14793730,"comment_id":92812105,"body_markdown":"This does not answer the question at all.","body":"This does not answer the question at all."}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":11,"down_vote_count":26,"up_vote_count":27,"is_accepted":false,"score":1,"last_activity_date":1651493692,"creation_date":1360460186,"answer_id":14793730,"question_id":14792968,"body_markdown":"A buffer has a fixed `capacity`; it maintains 2 pointers: `start` and `end`. `get()` returns the byte at the `start` position and increments `start`. `put()` puts the byte at the `end` position and increments `end`. No `flip()`!","title":"What is the purpose of ByteBuffer&#39;s flip method? (And why is it called &quot;flip&quot;?)","body":"<p>A buffer has a fixed <code>capacity</code>; it maintains 2 pointers: <code>start</code> and <code>end</code>. <code>get()</code> returns the byte at the <code>start</code> position and increments <code>start</code>. <code>put()</code> puts the byte at the <code>end</code> position and increments <code>end</code>. No <code>flip()</code>!</p>\n"},{"comments":[{"owner":{"account_id":5789509,"reputation":741,"user_id":4567552,"display_name":"John"},"score":0,"creation_date":1599149558,"post_id":50480459,"comment_id":112691422,"body_markdown":"Thank you for the link to the very extensive coverage! It&#39;s so great when sources are included.  The java API docs seemed to use the word &#39;flip&#39; without explanation, as if it were a common computer science term, but  obviously a few people (including me) haven&#39;t found that to be the case.","body":"Thank you for the link to the very extensive coverage! It&#39;s so great when sources are included.  The java API docs seemed to use the word &#39;flip&#39; without explanation, as if it were a common computer science term, but  obviously a few people (including me) haven&#39;t found that to be the case."}],"tags":[],"owner":{"account_id":9893515,"reputation":6772,"user_id":7325804,"display_name":"Arnav Rao"},"comment_count":1,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1650583202,"creation_date":1527053414,"answer_id":50480459,"question_id":14792968,"body_markdown":"Flip assigns the current position value to the limit property and sets the position property to `0`. Flip is useful to drain only active elements from a buffer.\r\n\r\nFor example, below program prints &quot;hello&quot; instead of empty elements of the buffer. Method calls `limit` and `position` can be replaced with `flip`.\r\n\r\n\tCharBuffer cbuff = CharBuffer.allocate(40);\r\n\tcbuff.put(&quot;hello&quot;);\t\r\n    // These two lines below are what flip does\r\n\tcbuff.limit(cbuff.position());\r\n\tcbuff.position(0);\r\n\t\t\r\n\twhile(cbuff.hasRemaining()) {\r\n\t\tSystem.out.println(cbuff.get());\r\n\t}\r\n\r\nSee http://www.zoftino.com/java-nio-tutorial for more information on buffers and channels.","title":"What is the purpose of ByteBuffer&#39;s flip method? (And why is it called &quot;flip&quot;?)","body":"<p>Flip assigns the current position value to the limit property and sets the position property to <code>0</code>. Flip is useful to drain only active elements from a buffer.</p>\n<p>For example, below program prints &quot;hello&quot; instead of empty elements of the buffer. Method calls <code>limit</code> and <code>position</code> can be replaced with <code>flip</code>.</p>\n<pre><code>CharBuffer cbuff = CharBuffer.allocate(40);\ncbuff.put(&quot;hello&quot;); \n// These two lines below are what flip does\ncbuff.limit(cbuff.position());\ncbuff.position(0);\n    \nwhile(cbuff.hasRemaining()) {\n    System.out.println(cbuff.get());\n}\n</code></pre>\n<p>See <a href=\"http://www.zoftino.com/java-nio-tutorial\" rel=\"nofollow noreferrer\">http://www.zoftino.com/java-nio-tutorial</a> for more information on buffers and channels.</p>\n"},{"tags":[],"owner":{"account_id":8954228,"reputation":65,"user_id":6755818,"display_name":"vkohli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535562093,"creation_date":1535552579,"answer_id":52079790,"question_id":14792968,"body_markdown":"*flip()* method makes a buffer ready for a new sequence of channel-write or relative get operations: It sets the limit to the current position and then sets the position to zero.\r\n\r\nBuffer keeps track of the data written into it. Post writing, *flip()* method is called to switch from writing to reading mode.","title":"What is the purpose of ByteBuffer&#39;s flip method? (And why is it called &quot;flip&quot;?)","body":"<p><em>flip()</em> method makes a buffer ready for a new sequence of channel-write or relative get operations: It sets the limit to the current position and then sets the position to zero.</p>\n\n<p>Buffer keeps track of the data written into it. Post writing, <em>flip()</em> method is called to switch from writing to reading mode.</p>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696171108,"creation_date":1696171108,"answer_id":77210939,"question_id":14792968,"body_markdown":"`compact` is the inverse of `flip` for the general use case.\r\n\r\n```\r\nbuf = ByteBuffer.allocate(...);  // create\r\nbuf.put(...);   // write\r\nbuf.flip();     // get ready to read\r\nbuf.get(...);   // read some of the data\r\nbuf.compact();  // delete the read data and get ready to write again\r\n```","title":"What is the purpose of ByteBuffer&#39;s flip method? (And why is it called &quot;flip&quot;?)","body":"<p><code>compact</code> is the inverse of <code>flip</code> for the general use case.</p>\n<pre><code>buf = ByteBuffer.allocate(...);  // create\nbuf.put(...);   // write\nbuf.flip();     // get ready to read\nbuf.get(...);   // read some of the data\nbuf.compact();  // delete the read data and get ready to write again\n</code></pre>\n"}],"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68343,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"answer_count":5,"score":119,"last_activity_date":1696171108,"creation_date":1360453716,"question_id":14792968,"body_markdown":"Why does ByteBuffer&#39;s flip() method called &quot;flip&quot;? What is &quot;flipped&quot; here? According to apidoc, two successive flips won&#39;t restore original state, and multiple flips will probably tend `limit()` to become zero.\r\n\r\nCan I &quot;unflip&quot; somehow to reuse bytes went out of a limit?\r\n\r\nCan I concatenate tail to be flipped with some other data?","title":"What is the purpose of ByteBuffer&#39;s flip method? (And why is it called &quot;flip&quot;?)","body":"<p>Why does ByteBuffer's flip() method called \"flip\"? What is \"flipped\" here? According to apidoc, two successive flips won't restore original state, and multiple flips will probably tend <code>limit()</code> to become zero.</p>\n\n<p>Can I \"unflip\" somehow to reuse bytes went out of a limit?</p>\n\n<p>Can I concatenate tail to be flipped with some other data?</p>\n"},{"tags":["java","database","connection","connection-pooling"],"answers":[{"comments":[{"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"score":0,"creation_date":1696172528,"post_id":77210925,"comment_id":136116624,"body_markdown":"Thanks for the answer. Just was curious to know how the Connection object is obtained from the PooledConnection object. Since it is mentioed in the documentation that the getConnection in the PooledConnection will be called only when there is &#39;no PooledConnection objects available in the Pool.&#39;. But if there is already a PooledConnection object present in the Pool, then how does DataSource get the Connection Object from this PooledConnection object. Can you please tell about this? The doubt is what method in the PooledConnection is called to get the java.sql.Connection object?","body":"Thanks for the answer. Just was curious to know how the Connection object is obtained from the PooledConnection object. Since it is mentioed in the documentation that the getConnection in the PooledConnection will be called only when there is &#39;no PooledConnection objects available in the Pool.&#39;. But if there is already a PooledConnection object present in the Pool, then how does DataSource get the Connection Object from this PooledConnection object. Can you please tell about this? The doubt is what method in the PooledConnection is called to get the java.sql.Connection object?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696173763,"post_id":77210925,"comment_id":136116763,"body_markdown":"The MySQL, PostgreSQL, Derby and so on drivers are open source.  You can download the code, and read it for yourself to see what it actually does under the hood.  (I&#39;m not keen to spend my time to satisfy your curiosity when you can do it for yourself.)","body":"The MySQL, PostgreSQL, Derby and so on drivers are open source.  You can download the code, and read it for yourself to see what it actually does under the hood.  (I&#39;m not keen to spend my time to satisfy your curiosity when you can do it for yourself.)"},{"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"score":0,"creation_date":1696174349,"post_id":77210925,"comment_id":136116814,"body_markdown":"Thanks for the suggestion. Will check them.","body":"Thanks for the suggestion. Will check them."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696170911,"creation_date":1696170911,"answer_id":77210925,"question_id":77210700,"body_markdown":"When you call `DataSource.getConnection`, the datasource implementation knows how to talk to the connection pool manager, and asks it to provide the connection:\r\n\r\n  - If there is an existing (free) database connection in the pool, the pool manager returns it (and marks it as in-use).\r\n  - If there is no free connection, the pool manager creates the physical connection and adds it to the pool (as in-use) and returns it.\r\n\r\nThe relationship between the `Connection` and `PooledConnection` instances is (I think) driver dependent.  They could be represented by a single implementation class, or there could be distinct classes for the two concepts.  \r\n\r\nBut your application code should not need to know this.  Indeed, ideally it should not depend on the driver implementation classes at all, because that would mean that your application is &quot;coupled&quot; with the driver code.\r\n\r\n(The documents don&#39;t state this clearly because the spec writers were trying to avoid unnecessarily *constraining* driver implementations.  This is a good thing.)\r\n","title":"Connection Pool and PooledConnection","body":"<p>When you call <code>DataSource.getConnection</code>, the datasource implementation knows how to talk to the connection pool manager, and asks it to provide the connection:</p>\n<ul>\n<li>If there is an existing (free) database connection in the pool, the pool manager returns it (and marks it as in-use).</li>\n<li>If there is no free connection, the pool manager creates the physical connection and adds it to the pool (as in-use) and returns it.</li>\n</ul>\n<p>The relationship between the <code>Connection</code> and <code>PooledConnection</code> instances is (I think) driver dependent.  They could be represented by a single implementation class, or there could be distinct classes for the two concepts.</p>\n<p>But your application code should not need to know this.  Indeed, ideally it should not depend on the driver implementation classes at all, because that would mean that your application is &quot;coupled&quot; with the driver code.</p>\n<p>(The documents don't state this clearly because the spec writers were trying to avoid unnecessarily <em>constraining</em> driver implementations.  This is a good thing.)</p>\n"}],"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696170911,"creation_date":1696167620,"question_id":77210700,"body_markdown":"I am currently learning about Connection Pooling concept. I went through the [official documentation][1] in Oracle website that tells about Datasources and ConnectionPooling.\r\n\r\nIn the documentation it is mentioned:\r\n\r\n&gt; When the DataSource interface is implemented to work with a ConnectionPoolDataSource implementation, all of the connections produced by instances of that DataSource class will automatically be pooled connections.\r\n\r\nThe above statement is fine. To put it in simple words, a Connection Pool consists of Open Connections (PooledConnection) objects which can be accessed through the DataSource.getConnection() method.\r\n\r\nIt is mentioned in the PooledConnection interface documentation that the \r\n\r\n&gt; PooledConnection object represents a physical connection to a data source.When an application calls the method DataSource.getConnection, it gets back a Connection object. If connection pooling is being done, that Connection object is actually a handle to a PooledConnection object, which is a physical connection.\r\n\r\nHow does a PooledConnection object provide a java.sql.Connection object? I know there is a method ```getConnection()``` in the PooledConnection interface which provides the Connection object, but in the documentation it is mentioned as:\r\n\r\n&gt; The connection pool manager calls this method when an application has called the method DataSource.getConnection and there are **no PooledConnection objects** available in the Pool.\r\n\r\n**So if there is a PooledConnection object that is already present in the Pool** then how is the Connection object obtained and how does PooledConnection provide the java.sql.Connection object when the Datasource.getConnection() is called and there is PooledConnection object present in the pool? How does a Connection object is actually a handle to a PooledConnection object? This is really confusing and documentations are not clear.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html#datasource_connection","title":"Connection Pool and PooledConnection","body":"<p>I am currently learning about Connection Pooling concept. I went through the <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html#datasource_connection\" rel=\"nofollow noreferrer\">official documentation</a> in Oracle website that tells about Datasources and ConnectionPooling.</p>\n<p>In the documentation it is mentioned:</p>\n<blockquote>\n<p>When the DataSource interface is implemented to work with a ConnectionPoolDataSource implementation, all of the connections produced by instances of that DataSource class will automatically be pooled connections.</p>\n</blockquote>\n<p>The above statement is fine. To put it in simple words, a Connection Pool consists of Open Connections (PooledConnection) objects which can be accessed through the DataSource.getConnection() method.</p>\n<p>It is mentioned in the PooledConnection interface documentation that the</p>\n<blockquote>\n<p>PooledConnection object represents a physical connection to a data source.When an application calls the method DataSource.getConnection, it gets back a Connection object. If connection pooling is being done, that Connection object is actually a handle to a PooledConnection object, which is a physical connection.</p>\n</blockquote>\n<p>How does a PooledConnection object provide a java.sql.Connection object? I know there is a method <code>getConnection()</code> in the PooledConnection interface which provides the Connection object, but in the documentation it is mentioned as:</p>\n<blockquote>\n<p>The connection pool manager calls this method when an application has called the method DataSource.getConnection and there are <strong>no PooledConnection objects</strong> available in the Pool.</p>\n</blockquote>\n<p><strong>So if there is a PooledConnection object that is already present in the Pool</strong> then how is the Connection object obtained and how does PooledConnection provide the java.sql.Connection object when the Datasource.getConnection() is called and there is PooledConnection object present in the pool? How does a Connection object is actually a handle to a PooledConnection object? This is really confusing and documentations are not clear.</p>\n"},{"tags":["java","algorithm","recursion","iteration","binary-tree"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":2,"creation_date":1695112651,"post_id":77132398,"comment_id":135977192,"body_markdown":"Why not use a `Stack&lt;Pair&lt;TreeNode,Integer&gt;&gt;` to store the value?","body":"Why not use a <code>Stack&lt;Pair&lt;TreeNode,Integer&gt;&gt;</code> to store the value?"},{"owner":{"account_id":1706785,"reputation":48162,"user_id":1565698,"accept_rate":38,"display_name":"Sylwester"},"score":0,"creation_date":1695143811,"post_id":77132398,"comment_id":135983603,"body_markdown":"Preserving space complexity == the same overhead as recursive solution. Then you&#39;re right since the stack pushes will basically be similar to the call stack in a recursive solution","body":"Preserving space complexity == the same overhead as recursive solution. Then you&#39;re right since the stack pushes will basically be similar to the call stack in a recursive solution"}],"answers":[{"tags":[],"owner":{"account_id":18622828,"reputation":1142,"user_id":13572593,"display_name":"Yashawant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695974451,"creation_date":1695974451,"answer_id":77200295,"question_id":77132398,"body_markdown":"If you want to have space complexity of O(H), that is, space required is directly proportional to the height of the tree,\r\n\r\nyou can use two `Stack`s one for right subtree and other for left subtree to maintain the sum of left and right subtree respectively,\r\n\r\nThe stacks will have `List&lt;Integer&gt;`s in which the first element of the list will denote the level or height the `TreeNode` and the second element will denote the sum of the subtree in which the `TreeNode` is root node. Then by determining whether the current `TreeNode` is left child or right child of it&#39;s parent we can save the sum in relevant stack.\r\n\r\n```java\r\npublic static List&lt;Integer&gt; postorderTraversal(TreeNode root) { \r\n    List&lt;Integer&gt; postOrderTrvNodes = new LinkedList&lt;&gt;();\r\n    if(root == null){\r\n         return postOrderTrvNodes;\r\n     }\r\n    Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\r\n\r\n    //\r\n\r\n    Stack&lt;List&lt;Integer&gt;&gt; leftStack = new Stack&lt;&gt;();\r\n    Stack&lt;List&lt;Integer&gt;&gt; rightStack = new Stack&lt;&gt;();\r\n\r\n    leftStack.push(Arrays.asList(0, 0));\r\n\r\n    //\r\n\r\n    TreeNode current = root;\r\n    TreeNode lastVisited = null;\r\n\r\n    while (!stack.isEmpty() || current != null) {\r\n        if (current != null) {\r\n            stack.push(current);\r\n            current = current.left;\r\n            //\r\n            if (current != null) {\r\n                List&lt;Integer&gt; lpk = leftStack.peek();\r\n                if(!rightStack.isEmpty()) {\r\n                    List&lt;Integer&gt; rpk = rightStack.peek();\r\n                    if(rpk.get(0) &gt; lpk.get(0)) {\r\n                        leftStack.push(Arrays.asList(rpk.get(0) + 1, 0));\r\n                    } else {\r\n                        leftStack.push(Arrays.asList(lpk.get(0) + 1, 0));\r\n                    }\r\n                } else {\r\n                    leftStack.push(Arrays.asList(lpk.get(0) + 1, 0));\r\n                }\r\n            }\r\n            //\r\n        } else {\r\n            TreeNode peekNode = stack.peek();\r\n            if (peekNode.right != null &amp;&amp; peekNode.right != lastVisited) {\r\n                current = peekNode.right;\r\n                //\r\n                if(!rightStack.isEmpty()) {\r\n                    List&lt;Integer&gt; rpk = rightStack.peek();\r\n                    List&lt;Integer&gt; lpk = leftStack.peek();\r\n                    if(rpk.get(0) &gt; lpk.get(0)) {\r\n                        rightStack.push(Arrays.asList(rpk.get(0) + 1, 0));\r\n                    } else {\r\n                        rightStack.push(Arrays.asList(lpk.get(0) + 1, 0));\r\n                    }\r\n                } else if(rightStack.isEmpty() &amp;&amp; !leftStack.isEmpty()) {\r\n                    List&lt;Integer&gt; lpk = leftStack.peek();\r\n                    rightStack.push(Arrays.asList(lpk.get(0) + 1, 0));\r\n                } else {\r\n                    List&lt;Integer&gt; rpk = rightStack.peek();\r\n                    rightStack.push(Arrays.asList(rpk.get(0) + 1, 0));\r\n                }\r\n                //\r\n            } else {\r\n                TreeNode poppedNode = stack.pop();\r\n                \r\n                // right subtree fully explored and parent is a left child\r\n                \r\n                if(rightStack.isEmpty() &amp;&amp; !leftStack.isEmpty()) {\r\n                    List&lt;Integer&gt; nd = leftStack.pop();\r\n                    int nv = nd.get(1) + poppedNode.val;\r\n                    postOrderTrvNodes.add(nv);\r\n\r\n                    if (!leftStack.isEmpty()) {\r\n                        List&lt;Integer&gt; lpk = leftStack.peek();\r\n                        lpk.set(1, lpk.get(1) + nv);\r\n                    }\r\n                }\r\n                // left subtree fully explored and parent is a right child\r\n                else if(leftStack.isEmpty() &amp;&amp; !rightStack.isEmpty()) {\r\n                    List&lt;Integer&gt; nd = rightStack.pop();\r\n                    int nv = nd.get(1) + poppedNode.val;\r\n                    postOrderTrvNodes.add(nv);\r\n                    \r\n                    if (!rightStack.isEmpty()) {\r\n                        List&lt;Integer&gt; rpk = rightStack.peek();\r\n                        rpk.set(1, rpk.get(1) + nv);\r\n                    }\r\n                } else {\r\n                    List&lt;Integer&gt; rpk = rightStack.peek();\r\n                    List&lt;Integer&gt; lpk = leftStack.peek();\r\n                    \r\n                    int lh = lpk.get(0);\r\n                    int rh = rpk.get(0);\r\n                    \r\n                    // node is right child of parent\r\n                    if(lh &lt; rh) {\r\n                        int nv = rpk.get(1) + poppedNode.val;\r\n                        postOrderTrvNodes.add(nv);\r\n                        rightStack.pop();\r\n\r\n                        List&lt;Integer&gt; nlpk = leftStack.peek();\r\n\r\n                        if(!rightStack.isEmpty()) {\r\n                            List&lt;Integer&gt; nrpk = rightStack.peek();\r\n                            // parent is right child of grandparent\r\n                            if(nlpk.get(0) &lt; nrpk.get(0)) {\r\n                                nrpk.set(1, nrpk.get(1) + nv);\r\n                            } else {\r\n                                // parent is left child of grandparent\r\n                                nlpk.set(1, nlpk.get(1) + nv);\r\n                            }\r\n                        } else {\r\n                            // parent is left child of grandparent\r\n                            nlpk.set(1, nlpk.get(1) + nv);\r\n                        }\r\n                    }\r\n                    \r\n                    // node is left child of parent\r\n                    if(lh &gt; rh) {\r\n                        int nv = lpk.get(1) + poppedNode.val;\r\n                        postOrderTrvNodes.add(nv);\r\n                        leftStack.pop();\r\n                        \r\n                        List&lt;Integer&gt; nrpk = rightStack.peek();\r\n\r\n                        if(!leftStack.isEmpty()) {\r\n                            \r\n                            List&lt;Integer&gt; nlpk = leftStack.peek();\r\n                            //\r\n                            if(nlpk.get(0) &gt; nrpk.get(0)) {\r\n                                nlpk.set(1, nlpk.get(1) + nv);\r\n                            } else {\r\n                                nrpk.set(1, nrpk.get(1) + nv);\r\n                            }\r\n                        } else {\r\n                            //\r\n                            nrpk.set(1, nrpk.get(1) + nv);\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                //\r\n\r\n                // postOrderTrvNodes.add(poppedNode.val);\r\n\r\n                lastVisited = poppedNode;\r\n            }\r\n        }\r\n    }\r\n    return postOrderTrvNodes;\r\n}\r\n```\r\n\r\nYou can optimize the code further by maybe using a different data structure like `Pair&lt;Integer&gt;` instead of `List&lt;Integer&gt;`.\r\n\r\nI programmed the code in `python` and then converted it to the java code above the original python code is added below\r\n\r\n```python\r\ndef poTravel(tn: TreeNode):\r\n    st, po = [], []\r\n\r\n    current = tn\r\n\r\n    lv = None\r\n\r\n    ls, rs = [[0, 0]], []\r\n\r\n    while st or current:\r\n        if current:\r\n            st.append(current)\r\n            current = current.left\r\n            if current:\r\n                if rs and rs[-1][0] &gt; ls[-1][0]:\r\n                    ls.append([rs[-1][0] + 1 if rs else 1, 0])\r\n                else:\r\n                    ls.append([ls[-1][0] + 1 if ls else 1, 0])\r\n\r\n        else:\r\n            if st[-1].right and lv != st[-1].right:\r\n                current = st[-1].right\r\n                if rs and ls[-1][0] &gt; rs[-1][0]:\r\n                    rs.append([ls[-1][0] + 1 if ls else 1, 0])\r\n                elif not rs and ls:\r\n                    rs.append([ls[-1][0] + 1 if ls else 1, 0])\r\n                else:\r\n                    rs.append([rs[-1][0] + 1 if rs else 1, 0])\r\n\r\n            else:\r\n                nd = st.pop()\r\n\r\n                if not rs and ls:\r\n                    nv = ls[-1][1] + nd.val\r\n                    po.append(nv)\r\n                    ls.pop()\r\n                    if ls:\r\n                        ls[-1][1] += nv\r\n\r\n                elif not ls and rs:\r\n                    nv = rs[-1][1] + nd.val\r\n                    po.append(nv)\r\n                    rs.pop()\r\n                    if rs:\r\n                        rs[-1][1] += nv\r\n\r\n                elif ls[-1][0] &lt; rs[-1][0]:\r\n                    nv = rs[-1][1] + nd.val\r\n                    po.append(nv)\r\n                    rs.pop()\r\n                    if rs and ls[-1][0] &lt; rs[-1][0]:\r\n                        rs[-1][1] += nv\r\n                    else:\r\n                        ls[-1][1] += nv\r\n\r\n                elif rs[-1][0] &lt; ls[-1][0]:\r\n                    nv = ls[-1][1] + nd.val\r\n                    po.append(nv)\r\n                    ls.pop()\r\n                    if ls and rs[-1][0] &lt; ls[-1][0]:\r\n                        ls[-1][1] += nv\r\n                    else:\r\n                        rs[-1][1] += nv\r\n\r\n                lv = nd\r\n\r\n    return po\r\n\r\n```","title":"How can I learn to convert recursive solution to iterative solution while preserving the space complexity?","body":"<p>If you want to have space complexity of O(H), that is, space required is directly proportional to the height of the tree,</p>\n<p>you can use two <code>Stack</code>s one for right subtree and other for left subtree to maintain the sum of left and right subtree respectively,</p>\n<p>The stacks will have <code>List&lt;Integer&gt;</code>s in which the first element of the list will denote the level or height the <code>TreeNode</code> and the second element will denote the sum of the subtree in which the <code>TreeNode</code> is root node. Then by determining whether the current <code>TreeNode</code> is left child or right child of it's parent we can save the sum in relevant stack.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; postorderTraversal(TreeNode root) { \n    List&lt;Integer&gt; postOrderTrvNodes = new LinkedList&lt;&gt;();\n    if(root == null){\n         return postOrderTrvNodes;\n     }\n    Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\n\n    //\n\n    Stack&lt;List&lt;Integer&gt;&gt; leftStack = new Stack&lt;&gt;();\n    Stack&lt;List&lt;Integer&gt;&gt; rightStack = new Stack&lt;&gt;();\n\n    leftStack.push(Arrays.asList(0, 0));\n\n    //\n\n    TreeNode current = root;\n    TreeNode lastVisited = null;\n\n    while (!stack.isEmpty() || current != null) {\n        if (current != null) {\n            stack.push(current);\n            current = current.left;\n            //\n            if (current != null) {\n                List&lt;Integer&gt; lpk = leftStack.peek();\n                if(!rightStack.isEmpty()) {\n                    List&lt;Integer&gt; rpk = rightStack.peek();\n                    if(rpk.get(0) &gt; lpk.get(0)) {\n                        leftStack.push(Arrays.asList(rpk.get(0) + 1, 0));\n                    } else {\n                        leftStack.push(Arrays.asList(lpk.get(0) + 1, 0));\n                    }\n                } else {\n                    leftStack.push(Arrays.asList(lpk.get(0) + 1, 0));\n                }\n            }\n            //\n        } else {\n            TreeNode peekNode = stack.peek();\n            if (peekNode.right != null &amp;&amp; peekNode.right != lastVisited) {\n                current = peekNode.right;\n                //\n                if(!rightStack.isEmpty()) {\n                    List&lt;Integer&gt; rpk = rightStack.peek();\n                    List&lt;Integer&gt; lpk = leftStack.peek();\n                    if(rpk.get(0) &gt; lpk.get(0)) {\n                        rightStack.push(Arrays.asList(rpk.get(0) + 1, 0));\n                    } else {\n                        rightStack.push(Arrays.asList(lpk.get(0) + 1, 0));\n                    }\n                } else if(rightStack.isEmpty() &amp;&amp; !leftStack.isEmpty()) {\n                    List&lt;Integer&gt; lpk = leftStack.peek();\n                    rightStack.push(Arrays.asList(lpk.get(0) + 1, 0));\n                } else {\n                    List&lt;Integer&gt; rpk = rightStack.peek();\n                    rightStack.push(Arrays.asList(rpk.get(0) + 1, 0));\n                }\n                //\n            } else {\n                TreeNode poppedNode = stack.pop();\n                \n                // right subtree fully explored and parent is a left child\n                \n                if(rightStack.isEmpty() &amp;&amp; !leftStack.isEmpty()) {\n                    List&lt;Integer&gt; nd = leftStack.pop();\n                    int nv = nd.get(1) + poppedNode.val;\n                    postOrderTrvNodes.add(nv);\n\n                    if (!leftStack.isEmpty()) {\n                        List&lt;Integer&gt; lpk = leftStack.peek();\n                        lpk.set(1, lpk.get(1) + nv);\n                    }\n                }\n                // left subtree fully explored and parent is a right child\n                else if(leftStack.isEmpty() &amp;&amp; !rightStack.isEmpty()) {\n                    List&lt;Integer&gt; nd = rightStack.pop();\n                    int nv = nd.get(1) + poppedNode.val;\n                    postOrderTrvNodes.add(nv);\n                    \n                    if (!rightStack.isEmpty()) {\n                        List&lt;Integer&gt; rpk = rightStack.peek();\n                        rpk.set(1, rpk.get(1) + nv);\n                    }\n                } else {\n                    List&lt;Integer&gt; rpk = rightStack.peek();\n                    List&lt;Integer&gt; lpk = leftStack.peek();\n                    \n                    int lh = lpk.get(0);\n                    int rh = rpk.get(0);\n                    \n                    // node is right child of parent\n                    if(lh &lt; rh) {\n                        int nv = rpk.get(1) + poppedNode.val;\n                        postOrderTrvNodes.add(nv);\n                        rightStack.pop();\n\n                        List&lt;Integer&gt; nlpk = leftStack.peek();\n\n                        if(!rightStack.isEmpty()) {\n                            List&lt;Integer&gt; nrpk = rightStack.peek();\n                            // parent is right child of grandparent\n                            if(nlpk.get(0) &lt; nrpk.get(0)) {\n                                nrpk.set(1, nrpk.get(1) + nv);\n                            } else {\n                                // parent is left child of grandparent\n                                nlpk.set(1, nlpk.get(1) + nv);\n                            }\n                        } else {\n                            // parent is left child of grandparent\n                            nlpk.set(1, nlpk.get(1) + nv);\n                        }\n                    }\n                    \n                    // node is left child of parent\n                    if(lh &gt; rh) {\n                        int nv = lpk.get(1) + poppedNode.val;\n                        postOrderTrvNodes.add(nv);\n                        leftStack.pop();\n                        \n                        List&lt;Integer&gt; nrpk = rightStack.peek();\n\n                        if(!leftStack.isEmpty()) {\n                            \n                            List&lt;Integer&gt; nlpk = leftStack.peek();\n                            //\n                            if(nlpk.get(0) &gt; nrpk.get(0)) {\n                                nlpk.set(1, nlpk.get(1) + nv);\n                            } else {\n                                nrpk.set(1, nrpk.get(1) + nv);\n                            }\n                        } else {\n                            //\n                            nrpk.set(1, nrpk.get(1) + nv);\n                        }\n                    }\n                }\n                \n                //\n\n                // postOrderTrvNodes.add(poppedNode.val);\n\n                lastVisited = poppedNode;\n            }\n        }\n    }\n    return postOrderTrvNodes;\n}\n</code></pre>\n<p>You can optimize the code further by maybe using a different data structure like <code>Pair&lt;Integer&gt;</code> instead of <code>List&lt;Integer&gt;</code>.</p>\n<p>I programmed the code in <code>python</code> and then converted it to the java code above the original python code is added below</p>\n<pre class=\"lang-py prettyprint-override\"><code>def poTravel(tn: TreeNode):\n    st, po = [], []\n\n    current = tn\n\n    lv = None\n\n    ls, rs = [[0, 0]], []\n\n    while st or current:\n        if current:\n            st.append(current)\n            current = current.left\n            if current:\n                if rs and rs[-1][0] &gt; ls[-1][0]:\n                    ls.append([rs[-1][0] + 1 if rs else 1, 0])\n                else:\n                    ls.append([ls[-1][0] + 1 if ls else 1, 0])\n\n        else:\n            if st[-1].right and lv != st[-1].right:\n                current = st[-1].right\n                if rs and ls[-1][0] &gt; rs[-1][0]:\n                    rs.append([ls[-1][0] + 1 if ls else 1, 0])\n                elif not rs and ls:\n                    rs.append([ls[-1][0] + 1 if ls else 1, 0])\n                else:\n                    rs.append([rs[-1][0] + 1 if rs else 1, 0])\n\n            else:\n                nd = st.pop()\n\n                if not rs and ls:\n                    nv = ls[-1][1] + nd.val\n                    po.append(nv)\n                    ls.pop()\n                    if ls:\n                        ls[-1][1] += nv\n\n                elif not ls and rs:\n                    nv = rs[-1][1] + nd.val\n                    po.append(nv)\n                    rs.pop()\n                    if rs:\n                        rs[-1][1] += nv\n\n                elif ls[-1][0] &lt; rs[-1][0]:\n                    nv = rs[-1][1] + nd.val\n                    po.append(nv)\n                    rs.pop()\n                    if rs and ls[-1][0] &lt; rs[-1][0]:\n                        rs[-1][1] += nv\n                    else:\n                        ls[-1][1] += nv\n\n                elif rs[-1][0] &lt; ls[-1][0]:\n                    nv = ls[-1][1] + nd.val\n                    po.append(nv)\n                    ls.pop()\n                    if ls and rs[-1][0] &lt; ls[-1][0]:\n                        ls[-1][1] += nv\n                    else:\n                        rs[-1][1] += nv\n\n                lv = nd\n\n    return po\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7359583,"reputation":11343,"user_id":5603247,"display_name":"Hans Olsson"},"score":0,"creation_date":1696229631,"post_id":77208667,"comment_id":136121588,"body_markdown":"Good, but having done similar things, I would recommend two changes: Use one stack with a pair/tuple of nodes and boolean values etc, instead of two different stacks. And consider using an integer to indicate the state, since that generalizes if you have more than two recursive calls.","body":"Good, but having done similar things, I would recommend two changes: Use one stack with a pair/tuple of nodes and boolean values etc, instead of two different stacks. And consider using an integer to indicate the state, since that generalizes if you have more than two recursive calls."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1696330745,"post_id":77208667,"comment_id":136136191,"body_markdown":"@HansOlsson Yep, my first version did exactly that, however I changed it to two stacks as it was less code overall.","body":"@HansOlsson Yep, my first version did exactly that, however I changed it to two stacks as it was less code overall."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696170743,"creation_date":1696113599,"answer_id":77208667,"question_id":77132398,"body_markdown":"I&#39;m not entirely sure I understand the question, but the following iterative function will return a post-order traversal of the given tree, in O(N) steps and with O(H) space.\r\n\r\n    public static List&lt;Integer&gt; postorderTraversal(TreeNode root) {\r\n        final List&lt;Integer&gt; results = new LinkedList&lt;&gt;();\r\n\r\n        final Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\r\n        final Stack&lt;Boolean&gt; dirStack = new Stack&lt;&gt;();\r\n\r\n        TreeNode curr = root;\r\n\r\n        while (!stack.isEmpty() || curr != null) {\r\n            if (curr == null) {\r\n                curr = stack.pop();\r\n                final boolean up = dirStack.pop();\r\n                if (up) {\r\n                    results.add(curr.value);\r\n                    curr = null;\r\n                }\r\n            } else {\r\n                stack.push(curr);\r\n                dirStack.push(true);\r\n                stack.push(curr.right);\r\n                dirStack.push(false);\r\n                curr = curr.left;\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\nA simple test:\r\n\r\n    public static void main(String[] args) {\r\n        final TreeNode root =\r\n                new TreeNode(\r\n                        new TreeNode(\r\n                                new TreeNode(1),\r\n                                5,\r\n                                new TreeNode(\r\n                                        new TreeNode(2),\r\n                                        4,\r\n                                        new TreeNode(3))\r\n                        ),\r\n                        9,\r\n                        new TreeNode(\r\n                                new TreeNode(6),\r\n                                8,\r\n                                new TreeNode(7)\r\n                        )\r\n                );\r\n\r\n        final List&lt;Integer&gt; l = postorderTraversal(root);\r\n\r\n        System.out.println(&quot;PostorderTraversal = &quot; + l);\r\n    }\r\n\r\noutputs the following:\r\n\r\n    PostorderTraversal = [1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n\r\nThe algorithm is derived by considering the recursive solution for a post-order tree traversal. For each node it has three steps:\r\n\r\n 1. Process left node.\r\n 1. Process right node.\r\n 1. Add node value to list.\r\n\r\nWhen we convert this to an iterative solution, we need to effectively defer steps 2 &amp; 3 by pushing them onto a stack, and then proceeed with step 1. Step 2 &amp; 3 both require a node from the stack, but we also require a boolean flag to distinguish the two steps. I.e. we need a stack of nodes *and a stack of boolean values*.","title":"How can I learn to convert recursive solution to iterative solution while preserving the space complexity?","body":"<p>I'm not entirely sure I understand the question, but the following iterative function will return a post-order traversal of the given tree, in O(N) steps and with O(H) space.</p>\n<pre><code>public static List&lt;Integer&gt; postorderTraversal(TreeNode root) {\n    final List&lt;Integer&gt; results = new LinkedList&lt;&gt;();\n\n    final Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\n    final Stack&lt;Boolean&gt; dirStack = new Stack&lt;&gt;();\n\n    TreeNode curr = root;\n\n    while (!stack.isEmpty() || curr != null) {\n        if (curr == null) {\n            curr = stack.pop();\n            final boolean up = dirStack.pop();\n            if (up) {\n                results.add(curr.value);\n                curr = null;\n            }\n        } else {\n            stack.push(curr);\n            dirStack.push(true);\n            stack.push(curr.right);\n            dirStack.push(false);\n            curr = curr.left;\n        }\n    }\n\n    return results;\n}\n</code></pre>\n<p>A simple test:</p>\n<pre><code>public static void main(String[] args) {\n    final TreeNode root =\n            new TreeNode(\n                    new TreeNode(\n                            new TreeNode(1),\n                            5,\n                            new TreeNode(\n                                    new TreeNode(2),\n                                    4,\n                                    new TreeNode(3))\n                    ),\n                    9,\n                    new TreeNode(\n                            new TreeNode(6),\n                            8,\n                            new TreeNode(7)\n                    )\n            );\n\n    final List&lt;Integer&gt; l = postorderTraversal(root);\n\n    System.out.println(&quot;PostorderTraversal = &quot; + l);\n}\n</code></pre>\n<p>outputs the following:</p>\n<pre><code>PostorderTraversal = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n<p>The algorithm is derived by considering the recursive solution for a post-order tree traversal. For each node it has three steps:</p>\n<ol>\n<li>Process left node.</li>\n<li>Process right node.</li>\n<li>Add node value to list.</li>\n</ol>\n<p>When we convert this to an iterative solution, we need to effectively defer steps 2 &amp; 3 by pushing them onto a stack, and then proceeed with step 1. Step 2 &amp; 3 both require a node from the stack, but we also require a boolean flag to distinguish the two steps. I.e. we need a stack of nodes <em>and a stack of boolean values</em>.</p>\n"}],"owner":{"account_id":11396057,"reputation":664,"user_id":8354437,"display_name":"Ankit Chauhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1696170743,"creation_date":1695107778,"question_id":77132398,"body_markdown":"I am trying to solve a easy binary tree question to convert the existing binary tree to a sum tree. \r\nThe recursive solution for this is : \r\n```\r\nclass Solution{\r\n&#160; &#160; public void toSumTree(Node root){\r\n&#160; &#160; &#160; &#160; &#160;solve(root);\r\n&#160; &#160; }\r\n&#160; &#160; private int solve(Node node){\r\n&#160; &#160; &#160; &#160; if(node == null){\r\n&#160; &#160; &#160; &#160; &#160; &#160; return 0;\r\n&#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; \r\n&#160; &#160; &#160; &#160; int leftSubtreeValue = solve(node.left);\r\n&#160; &#160; &#160; &#160; int rightSubtreeValue = solve(node.right);\r\n&#160; &#160; &#160; &#160; int currentNodeValue = node.data;\r\n&#160; &#160; &#160; &#160; \r\n&#160; &#160; &#160; &#160; node.data = leftSubtreeValue + rightSubtreeValue;\r\n&#160; &#160; &#160; &#160; \r\n&#160; &#160; &#160; &#160; return currentNodeValue + leftSubtreeValue + rightSubtreeValue;\r\n&#160; &#160; }\r\n}\r\n```\r\nThis give us the time and space complexity as O(N) and O(H) respectively. \r\n\r\nNow since the above recursive approach is similar to post-order traversal, I think we can use some version of iterative post-order travesal like below : \r\n\r\n```\r\nclass Solution {\r\n&#160; &#160; public List&lt;Integer&gt; postorderTraversal(TreeNode root) { \r\n&#160; &#160; &#160; &#160; List&lt;Integer&gt; postOrderTrvNodes = new LinkedList&lt;&gt;();\r\n&#160; &#160; &#160; &#160; if(root == null){\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160;return postOrderTrvNodes;\r\n&#160; &#160; &#160; &#160; &#160;}\r\n&#160; &#160; &#160; &#160; Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\r\n&#160; &#160; &#160; &#160; TreeNode current = root;\r\n&#160; &#160; &#160; &#160; TreeNode lastVisited = null;\r\n&#160; &#160; &#160; &#160; while (!stack.isEmpty() || current != null) {\r\n&#160; &#160; &#160; &#160; &#160; &#160; if (current != null) {\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; stack.push(current);\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; current = current.left;\r\n&#160; &#160; &#160; &#160; &#160; &#160; } else {\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; TreeNode peekNode = stack.peek();\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; if (peekNode.right != null &amp;&amp; peekNode.right != lastVisited) {\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; current = peekNode.right;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; } else {\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; TreeNode poppedNode = stack.pop();\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; postOrderTrvNodes.add(poppedNode.val);\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; lastVisited = poppedNode;\r\n&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; }\r\n&#160; &#160; &#160; &#160; return postOrderTrvNodes;\r\n&#160; &#160; }\r\n}\r\n```\r\n\r\nWhat I am not able to come up with is how to store the required sum of subtree at each node so that space complexity remains O(H). If we use a HashMap that stores sum of subtree at current node in a HashMap&lt;Node, Integer&gt; then the space complexity will become O(N).\r\n\r\nWhat I want is some protocol that can be followed in general to mimic what Java is doing with internal stack. ","title":"How can I learn to convert recursive solution to iterative solution while preserving the space complexity?","body":"<p>I am trying to solve a easy binary tree question to convert the existing binary tree to a sum tree.\nThe recursive solution for this is :</p>\n<pre><code>class Solution{\n    public void toSumTree(Node root){\n         solve(root);\n    }\n    private int solve(Node node){\n        if(node == null){\n            return 0;\n        }\n        \n        int leftSubtreeValue = solve(node.left);\n        int rightSubtreeValue = solve(node.right);\n        int currentNodeValue = node.data;\n        \n        node.data = leftSubtreeValue + rightSubtreeValue;\n        \n        return currentNodeValue + leftSubtreeValue + rightSubtreeValue;\n    }\n}\n</code></pre>\n<p>This give us the time and space complexity as O(N) and O(H) respectively.</p>\n<p>Now since the above recursive approach is similar to post-order traversal, I think we can use some version of iterative post-order travesal like below :</p>\n<pre><code>class Solution {\n    public List&lt;Integer&gt; postorderTraversal(TreeNode root) { \n        List&lt;Integer&gt; postOrderTrvNodes = new LinkedList&lt;&gt;();\n        if(root == null){\n             return postOrderTrvNodes;\n         }\n        Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\n        TreeNode current = root;\n        TreeNode lastVisited = null;\n        while (!stack.isEmpty() || current != null) {\n            if (current != null) {\n                stack.push(current);\n                current = current.left;\n            } else {\n                TreeNode peekNode = stack.peek();\n                if (peekNode.right != null &amp;&amp; peekNode.right != lastVisited) {\n                    current = peekNode.right;\n                } else {\n                    TreeNode poppedNode = stack.pop();\n                    postOrderTrvNodes.add(poppedNode.val);\n                    lastVisited = poppedNode;\n                }\n            }\n        }\n        return postOrderTrvNodes;\n    }\n}\n</code></pre>\n<p>What I am not able to come up with is how to store the required sum of subtree at each node so that space complexity remains O(H). If we use a HashMap that stores sum of subtree at current node in a HashMap&lt;Node, Integer&gt; then the space complexity will become O(N).</p>\n<p>What I want is some protocol that can be followed in general to mimic what Java is doing with internal stack.</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696180716,"post_id":77210908,"comment_id":136117527,"body_markdown":"Please, do not post images of code or of error messages, see [How to ask](https://stackoverflow.com/help/how-to-ask).","body":"Please, do not post images of code or of error messages, see <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1696210278,"post_id":77210908,"comment_id":136120175,"body_markdown":"I also found eclipse hard to use when I was starting programming. I tried it because it was what the &quot;cool people&quot; were using. Never floated my boat. I recommend trying IntelliJ IDEA. https://www.jetbrains.com/idea/download/?fromIDE=&amp;section=mac\n\nAs for your error, I&#39;ve never seen it my entire 10 years of programming in Java. It looks like it&#39;s because you need to remove jrt.fs from your dependencies: https://stackoverflow.com/q/74772599/4425643 The way you are launching your application might be incorrect. You should run as Java Application instead of `new configuration`.","body":"I also found eclipse hard to use when I was starting programming. I tried it because it was what the &quot;cool people&quot; were using. Never floated my boat. I recommend trying IntelliJ IDEA. <a href=\"https://www.jetbrains.com/idea/download/?fromIDE=&amp;section=mac\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/?fromIDE=&amp;section=mac</a>  As for your error, I&#39;ve never seen it my entire 10 years of programming in Java. It looks like it&#39;s because you need to remove jrt.fs from your dependencies: <a href=\"https://stackoverflow.com/q/74772599/4425643\">stackoverflow.com/q/74772599/4425643</a> The way you are launching your application might be incorrect. You should run as Java Application instead of <code>new configuration</code>."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1696210530,"post_id":77210908,"comment_id":136120196,"body_markdown":"Does this answer your question? [Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base](https://stackoverflow.com/questions/74772599/package-jdk-internal-jimage-decompressor-in-both-module-jrt-fs-and-module-java-b)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74772599/package-jdk-internal-jimage-decompressor-in-both-module-jrt-fs-and-module-java-b\">Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base</a>"}],"owner":{"account_id":27049467,"reputation":13,"user_id":20603072,"display_name":"Pearce Maguire"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696170456,"creation_date":1696170456,"question_id":77210908,"body_markdown":"when I try to run my code I am presented with [![enter image description here](https://i.stack.imgur.com/Z3hFr.jpg)](https://i.stack.imgur.com/Z3hFr.jpg)\r\n\r\nI am new to java and do not know how to processed. I have found it difficult to install eclipse onto my Mac so that may have something to do with it. If anyone has a clue on how I should processed it would be very much helpful. Thanks in advance ","title":"Java coding error: Error occurred during initialization of boot layer","body":"<p>when I try to run my code I am presented with <a href=\"https://i.stack.imgur.com/Z3hFr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3hFr.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I am new to java and do not know how to processed. I have found it difficult to install eclipse onto my Mac so that may have something to do with it. If anyone has a clue on how I should processed it would be very much helpful. Thanks in advance</p>\n"},{"tags":["java","batch-file","windows-10","antlr","antlr4"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1696170418,"post_id":77210827,"comment_id":136116394,"body_markdown":"Possible typo: Your grun.bat file ends with `TestRig %` but shouldn&#39;t it end with `TestRig %*`?","body":"Possible typo: Your grun.bat file ends with <code>TestRig %</code> but shouldn&#39;t it end with <code>TestRig %*</code>?"},{"owner":{"account_id":10645856,"reputation":199,"user_id":7838597,"accept_rate":40,"display_name":"J.Ober"},"score":0,"creation_date":1696172528,"post_id":77210827,"comment_id":136116625,"body_markdown":"thanks, that was the error. Now I get the error &quot;Can&#39;t load Hello as lexer or parser&quot; when using &quot;grun&quot;, but it works when using &quot;java org.antlr.v4.gui.TestRig&quot; instead. Do you have an idea for this?","body":"thanks, that was the error. Now I get the error &quot;Can&#39;t load Hello as lexer or parser&quot; when using &quot;grun&quot;, but it works when using &quot;java org.antlr.v4.gui.TestRig&quot; instead. Do you have an idea for this?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1696176611,"post_id":77210827,"comment_id":136117035,"body_markdown":"I don&#39;t know since that is a completely different issue.","body":"I don&#39;t know since that is a completely different issue."}],"owner":{"account_id":10645856,"reputation":199,"user_id":7838597,"accept_rate":40,"display_name":"J.Ober"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696170975,"answer_count":0,"score":0,"last_activity_date":1696170383,"creation_date":1696169394,"question_id":77210827,"body_markdown":"At the Definitive Antlr 4 reference&#39;s Hello.g4 example I want to use grum as supposed. I have the classpath+path variables set:\r\n```\r\nClassPath: C:\\Users\\jofwf\\lib\\antlr-4.13.1-complete.jar\r\nPath: C:\\Users\\jofwf\\lib\\\r\n```\r\nIn /lib/ are antlr-4.13.1-complete.jar and\r\ngrun.bat which contains:\r\n```\r\njava -cp C:\\Users\\jofwf\\lib\\antlr-4.13.1-complete.jar org.antlr.v4.gui.TestRig %\r\n```\r\n\r\nI can use the command antlr4 without problems.\r\n \r\nWhen I use &#39;grun&#39; in terminal I get just the same output as when using &#39;grun Hello r -tokens&#39; though. Everything after &#39;grun&#39; in the whole command is seemingly ignored. (Executed in the folder containing the Hello grammar and compiled class and java files)\r\nThe output for both commands:\r\n```\r\nC:\\Users\\jofwf&gt;java -cp C:\\Users\\jofwf\\lib\\antlr-4.13.1-complete.jar org.antlr.v4.gui.TestRig\r\njava org.antlr.v4.gui.TestRig GrammarName startRuleName\r\n  [-tokens] [-tree] [-gui] [-ps file.ps] [-encoding encodingname]\r\n  [-trace] [-diagnostics] [-SLL]\r\n  [input-filename(s)]\r\nUse startRuleName=&#39;tokens&#39; if GrammarName is a lexer grammar.\r\nOmitting input-filename makes rig read from stdin.\r\n```\r\n","title":"Antlr4 Grun command ignores parameters","body":"<p>At the Definitive Antlr 4 reference's Hello.g4 example I want to use grum as supposed. I have the classpath+path variables set:</p>\n<pre><code>ClassPath: C:\\Users\\jofwf\\lib\\antlr-4.13.1-complete.jar\nPath: C:\\Users\\jofwf\\lib\\\n</code></pre>\n<p>In /lib/ are antlr-4.13.1-complete.jar and\ngrun.bat which contains:</p>\n<pre><code>java -cp C:\\Users\\jofwf\\lib\\antlr-4.13.1-complete.jar org.antlr.v4.gui.TestRig %\n</code></pre>\n<p>I can use the command antlr4 without problems.</p>\n<p>When I use 'grun' in terminal I get just the same output as when using 'grun Hello r -tokens' though. Everything after 'grun' in the whole command is seemingly ignored. (Executed in the folder containing the Hello grammar and compiled class and java files)\nThe output for both commands:</p>\n<pre><code>C:\\Users\\jofwf&gt;java -cp C:\\Users\\jofwf\\lib\\antlr-4.13.1-complete.jar org.antlr.v4.gui.TestRig\njava org.antlr.v4.gui.TestRig GrammarName startRuleName\n  [-tokens] [-tree] [-gui] [-ps file.ps] [-encoding encodingname]\n  [-trace] [-diagnostics] [-SLL]\n  [input-filename(s)]\nUse startRuleName='tokens' if GrammarName is a lexer grammar.\nOmitting input-filename makes rig read from stdin.\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1696170126,"post_id":77210483,"comment_id":136116356,"body_markdown":"he is not using spring-boot , just the plain spring. Also the `App` need to be defined as the spring bean but not create it by yourself , otherwise `MessageRepository` cannot be auto-wired into it. see my answers to see what i mean. cheers","body":"he is not using spring-boot , just the plain spring. Also the <code>App</code> need to be defined as the spring bean but not create it by yourself , otherwise <code>MessageRepository</code> cannot be auto-wired into it. see my answers to see what i mean. cheers"},{"owner":{"account_id":1669466,"reputation":658,"user_id":1536209,"accept_rate":25,"display_name":"jwh20"},"score":0,"creation_date":1696256070,"post_id":77210483,"comment_id":136126179,"body_markdown":"As noted, not using Spring Boot here.","body":"As noted, not using Spring Boot here."}],"tags":[],"owner":{"account_id":14037507,"reputation":68,"user_id":10139837,"display_name":"coderAsk"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1696163606,"creation_date":1696163606,"answer_id":77210483,"question_id":77210415,"body_markdown":"In your App class, Spring will not automatically inject application context . You need to manually inject the Spring application context and retrieve MessageRepository Bean from the Spring application context .\r\n\r\n\r\nYou can use something like this.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n        private MessageRepository messageRepository ; \r\n\r\n        public void saveMessage(Message message) {messageRepository.save(message);}\r\n\r\n        public static void main(String[] args) {        \r\n          System.out.println(&quot;Hello World!&quot;);\r\n          \r\n          // Initialize Spring application context\r\n          ApplicationContext app = SpringApplication.run(App.class, args);\r\n          // Retrieve MessageRepository Bean\r\n           messageRepository = app.getBean(MessageRepository.class);\r\n          \r\n            App app = new App();\r\n            Message message = new Message();        \r\n            String timeStamp = new \r\n            SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());       \r\n            message.setText(&quot;SpringDataJPA: &quot; + timeStamp);          \r\n            app.saveMessage(message);\r\n\r\n        } \r\n        \r\n     }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Missing something basic with Spring Data JPA","body":"<p>In your App class, Spring will not automatically inject application context . You need to manually inject the Spring application context and retrieve MessageRepository Bean from the Spring application context .</p>\n<p>You can use something like this.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@SpringBootApplication\npublic class App {\n    private MessageRepository messageRepository ; \n\n    public void saveMessage(Message message) {messageRepository.save(message);}\n\n    public static void main(String[] args) {        \n      System.out.println(\"Hello World!\");\n      \n      // Initialize Spring application context\n      ApplicationContext app = SpringApplication.run(App.class, args);\n      // Retrieve MessageRepository Bean\n       messageRepository = app.getBean(MessageRepository.class);\n      \n        App app = new App();\n        Message message = new Message();        \n        String timeStamp = new \n        SimpleDateFormat(\"yyyy.MM.dd.HH.mm.ss\").format(new java.util.Date());       \n        message.setText(\"SpringDataJPA: \" + timeStamp);          \n        app.saveMessage(message);\n\n    } \n    \n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":1669466,"reputation":658,"user_id":1536209,"accept_rate":25,"display_name":"jwh20"},"score":0,"creation_date":1696179919,"post_id":77210838,"comment_id":136117432,"body_markdown":"Thanks, that did the trick!  What I was missing in my understanding was how to get the ApplicationContext here.  Your simple answer was very helpful!","body":"Thanks, that did the trick!  What I was missing in my understanding was how to get the ApplicationContext here.  Your simple answer was very helpful!"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1696188997,"post_id":77210838,"comment_id":136118521,"body_markdown":"good to hear. consider to accept my answer if you find it is helpful to you. cheers","body":"good to hear. consider to accept my answer if you find it is helpful to you. cheers"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696170212,"creation_date":1696169520,"answer_id":77210838,"question_id":77210415,"body_markdown":"In the test case , the spring testing framework which is enabled by `@ExtendWith(SpringExtension.class)` which will help you to configure and start the spring context behind the scene and so those `@Autowired` stuff can work.\r\n\r\nTo do the equivalent things in a standalone and non spring-boot way,  you can create `AnnotationConfigApplicationContext` manually like :  \r\n\r\n``` java\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t ApplicationContext context = new AnnotationConfigApplicationContext(SpringDataConfiguration.class, App.class);\r\n\t\t App app = context.getBean(App.class);\r\n\t\t app.main();\r\n\t}\r\n}\r\n```\r\n\r\nAnd you also need to modify the `main()` of the `App` class a bit :\r\n\r\n``` \r\npublic class App {\r\n\r\n    @Autowired \r\n    private MessageRepository messageRepository;\r\n\r\n    public void saveMessage(Message message) {      \r\n     messageRepository.save(message);        \r\n    }\r\n\r\n\r\n    public void main() {       \r\n        System.out.println(&quot;Hello World!&quot;);\r\n        Message message = new Message();            \r\n        message.setText(&quot;some text&quot;);          \r\n        saveMessage(message);\r\n     }\r\n}\r\n\r\n```\r\n\r\nmainly you have to change it to the instance method because you do not need create the `App` instance by yourself but let spring to create and then manage it such that it can autowire other beans like `MessageRepository` into it.","title":"Missing something basic with Spring Data JPA","body":"<p>In the test case , the spring testing framework which is enabled by <code>@ExtendWith(SpringExtension.class)</code> which will help you to configure and start the spring context behind the scene and so those <code>@Autowired</code> stuff can work.</p>\n<p>To do the equivalent things in a standalone and non spring-boot way,  you can create <code>AnnotationConfigApplicationContext</code> manually like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    \n    public static void main(String[] args) {\n         ApplicationContext context = new AnnotationConfigApplicationContext(SpringDataConfiguration.class, App.class);\n         App app = context.getBean(App.class);\n         app.main();\n    }\n}\n</code></pre>\n<p>And you also need to modify the <code>main()</code> of the <code>App</code> class a bit :</p>\n<pre><code>public class App {\n\n    @Autowired \n    private MessageRepository messageRepository;\n\n    public void saveMessage(Message message) {      \n     messageRepository.save(message);        \n    }\n\n\n    public void main() {       \n        System.out.println(&quot;Hello World!&quot;);\n        Message message = new Message();            \n        message.setText(&quot;some text&quot;);          \n        saveMessage(message);\n     }\n}\n\n</code></pre>\n<p>mainly you have to change it to the instance method because you do not need create the <code>App</code> instance by yourself but let spring to create and then manage it such that it can autowire other beans like <code>MessageRepository</code> into it.</p>\n"}],"owner":{"account_id":1669466,"reputation":658,"user_id":1536209,"accept_rate":25,"display_name":"jwh20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77210838,"answer_count":2,"score":0,"last_activity_date":1696170212,"creation_date":1696162322,"question_id":77210415,"body_markdown":"I&#39;m working my way though Catalin Tudose&#39;s &quot;Java Persistence with Spring Data and Hibernate&quot; and I&#39;ve hit a roadblock with the Spring Data JPA example in Chapter 2.\r\n\r\nComplete code is here:\r\n\r\n[Example Code][1]\r\n\r\nIf I use the example exactly as written using @Test like this it works fine:\r\n\r\n    package com.manning.javapersistence.ch02;\r\n    \r\n    import com.manning.javapersistence.ch02.configuration.SpringDataConfiguration;\r\n    import com.manning.javapersistence.ch02.repositories.MessageRepository;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertAll;\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = {SpringDataConfiguration.class})\r\n    public class HelloWorldSpringDataJPATest {\r\n    \r\n        @Autowired\r\n        private MessageRepository messageRepository;\r\n    \r\n        @Test\r\n        public void storeLoadMessage() {\r\n            Message message = new Message();\r\n            message.setText(&quot;Hello World from Spring Data JPA!&quot;);\r\n    \r\n            messageRepository.save(message);\r\n    \r\n            List&lt;Message&gt; messages = (List&lt;Message&gt;) messageRepository.findAll();\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(1, messages.size()),\r\n                    () -&gt; assertEquals(&quot;Hello World from Spring Data JPA!&quot;, messages.get(0).getText())\r\n            );\r\n    \r\n        }\r\n    }\r\n\r\nI believe that the line:\r\n\r\n    @ContextConfiguration(classes = {SpringDataConfiguration.class})\r\n\r\nsets up the context so that my SpringDataConfiguration gets processed by Spring Data JPA and the @AutoWired works at runtime.\r\n\r\nBut I am wanting to use this outside of the test context and I have this:\r\n\r\n    public class App {\r\n    \r\n    \t@Autowired \tprivate MessageRepository messageRepository;\r\n    \r\n    \tpublic void saveMessage(Message message) { \t\tmessageRepository.save(message);\t \t}\r\n    \r\n    \tpublic static void main(String[] args) { \t\tSystem.out.println(&quot;Hello World!&quot;);\r\n    \r\n    \t\tApp app = new App();\r\n    \r\n    \t\tMessage message = new Message(); \t\t\r\n            String timeStamp = new \r\n            SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date()); \t\t\r\n            message.setText(&quot;SpringDataJPA: &quot; + timeStamp); \t\t \r\n            app.saveMessage(message);\r\n    \r\n    \t}\t }\r\n\r\nWhen I run it I get a NullPointerException because the messageRepository is not getting auto wired by Spring Data JPA.\r\n\r\nWhat am I missing?  How do I get the @AutoWired to work at runtime outside of the @Test context?\r\n\r\n  [1]: https://github.com/ctudose/java-persistence-spring-data-hibernate","title":"Missing something basic with Spring Data JPA","body":"<p>I'm working my way though Catalin Tudose's &quot;Java Persistence with Spring Data and Hibernate&quot; and I've hit a roadblock with the Spring Data JPA example in Chapter 2.</p>\n<p>Complete code is here:</p>\n<p><a href=\"https://github.com/ctudose/java-persistence-spring-data-hibernate\" rel=\"nofollow noreferrer\">Example Code</a></p>\n<p>If I use the example exactly as written using @Test like this it works fine:</p>\n<pre><code>package com.manning.javapersistence.ch02;\n\nimport com.manning.javapersistence.ch02.configuration.SpringDataConfiguration;\nimport com.manning.javapersistence.ch02.repositories.MessageRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertAll;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {SpringDataConfiguration.class})\npublic class HelloWorldSpringDataJPATest {\n\n    @Autowired\n    private MessageRepository messageRepository;\n\n    @Test\n    public void storeLoadMessage() {\n        Message message = new Message();\n        message.setText(&quot;Hello World from Spring Data JPA!&quot;);\n\n        messageRepository.save(message);\n\n        List&lt;Message&gt; messages = (List&lt;Message&gt;) messageRepository.findAll();\n\n        assertAll(\n                () -&gt; assertEquals(1, messages.size()),\n                () -&gt; assertEquals(&quot;Hello World from Spring Data JPA!&quot;, messages.get(0).getText())\n        );\n\n    }\n}\n</code></pre>\n<p>I believe that the line:</p>\n<pre><code>@ContextConfiguration(classes = {SpringDataConfiguration.class})\n</code></pre>\n<p>sets up the context so that my SpringDataConfiguration gets processed by Spring Data JPA and the @AutoWired works at runtime.</p>\n<p>But I am wanting to use this outside of the test context and I have this:</p>\n<pre><code>public class App {\n\n    @Autowired  private MessageRepository messageRepository;\n\n    public void saveMessage(Message message) {      messageRepository.save(message);        }\n\n    public static void main(String[] args) {        System.out.println(&quot;Hello World!&quot;);\n\n        App app = new App();\n\n        Message message = new Message();        \n        String timeStamp = new \n        SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());       \n        message.setText(&quot;SpringDataJPA: &quot; + timeStamp);          \n        app.saveMessage(message);\n\n    }    }\n</code></pre>\n<p>When I run it I get a NullPointerException because the messageRepository is not getting auto wired by Spring Data JPA.</p>\n<p>What am I missing?  How do I get the @AutoWired to work at runtime outside of the @Test context?</p>\n"},{"tags":["java","mysql","hibernate","connection-pooling","c3p0"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1408695578,"post_id":25381168,"comment_id":39695748,"body_markdown":"Use a connection pool.","body":"Use a connection pool."},{"owner":{"account_id":1070146,"reputation":427,"user_id":1069633,"display_name":"Saurabh Ande"},"score":0,"creation_date":1408997072,"post_id":25381168,"comment_id":39791388,"body_markdown":"You definitely need a Database connection pooling.  Please try [this link][1] \n\n\n  [1]: http://stackoverflow.com/a/7621207/1069633","body":"You definitely need a Database connection pooling.  Please try [this link][1]      [1]: <a href=\"http://stackoverflow.com/a/7621207/1069633\">stackoverflow.com/a/7621207/1069633</a>"},{"owner":{"account_id":4518727,"reputation":2512,"user_id":3672715,"accept_rate":75,"display_name":"Ripu Daman"},"score":0,"creation_date":1409076501,"post_id":25381168,"comment_id":39826507,"body_markdown":"Can you check this link http://stackoverflow.com/questions/23850585/how-to-start-spring-boot-app-without-depending-on-database? I think it will help you as this page eventually explains the settings required to set up the database connection on the fly whenever required.","body":"Can you check this link <a href=\"http://stackoverflow.com/questions/23850585/how-to-start-spring-boot-app-without-depending-on-database\" title=\"how to start spring boot app without depending on database\">stackoverflow.com/questions/23850585/&hellip;</a>? I think it will help you as this page eventually explains the settings required to set up the database connection on the fly whenever required."}],"answers":[{"comments":[{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1408445041,"post_id":25381289,"comment_id":39581674,"body_markdown":"No my own server it users Apache tomcat 7.0.22.                         My another application is workin properly it uses jdbc code it does not give any problem.","body":"No my own server it users Apache tomcat 7.0.22.                         My another application is workin properly it uses jdbc code it does not give any problem."},{"owner":{"account_id":2228690,"reputation":396,"user_id":1966873,"accept_rate":100,"display_name":"AmuletxHeart"},"score":0,"creation_date":1408446136,"post_id":25381289,"comment_id":39582372,"body_markdown":"I have modified the answer and I think that will solve your issue.","body":"I have modified the answer and I think that will solve your issue."},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1408447829,"post_id":25381289,"comment_id":39583421,"body_markdown":"I have mentioned `&lt;property name=&quot;autoReconnect&quot;&gt;true&lt;/property&gt;` is it not a effective way","body":"I have mentioned <code>&lt;property name=&quot;autoReconnect&quot;&gt;true&lt;&#47;property&gt;</code> is it not a effective way"},{"owner":{"account_id":2228690,"reputation":396,"user_id":1966873,"accept_rate":100,"display_name":"AmuletxHeart"},"score":0,"creation_date":1408496955,"post_id":25381289,"comment_id":39608671,"body_markdown":"Sry didn&#39;t see that you already have that option set. Try the connection pooling method that I mentioned in the link. It should be the best way to keep an active connection.","body":"Sry didn&#39;t see that you already have that option set. Try the connection pooling method that I mentioned in the link. It should be the best way to keep an active connection."}],"tags":[],"owner":{"account_id":2228690,"reputation":396,"user_id":1966873,"accept_rate":100,"display_name":"AmuletxHeart"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408446088,"creation_date":1408444733,"answer_id":25381289,"question_id":25381168,"body_markdown":"What server are you using? Are you hosting on a cloud platform as a service such as OpenShift?\r\n\r\nUsually for free plans, your site will spin down after idling for a while. When accessed again after some time, the web server spins up the fastest, but the database server spins up slower, causing the connection error. Usually just refreshing the page a few times will wake everything up and be good to go.\r\n\r\nhttps://www.openshift.com/products/pricing under &quot;Gear idling&quot;\r\n\r\nUpdate: if you are running on your own server,\r\n\r\nChange this line to the following for a quick fix\r\n\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/dbName?autoReconnect=true&lt;/property&gt;\r\n\r\n\r\nSee this question for better understanding\r\n\r\nhttps://stackoverflow.com/questions/7565143/com-mysql-jdbc-exceptions-jdbc4-mysqlnontransientconnectionexception-no-operati","title":"Not able to connect with database after some times of deployment on server","body":"<p>What server are you using? Are you hosting on a cloud platform as a service such as OpenShift?</p>\n\n<p>Usually for free plans, your site will spin down after idling for a while. When accessed again after some time, the web server spins up the fastest, but the database server spins up slower, causing the connection error. Usually just refreshing the page a few times will wake everything up and be good to go.</p>\n\n<p><a href=\"https://www.openshift.com/products/pricing\" rel=\"nofollow noreferrer\">https://www.openshift.com/products/pricing</a> under \"Gear idling\"</p>\n\n<p>Update: if you are running on your own server,</p>\n\n<p>Change this line to the following for a quick fix</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/dbName?autoReconnect=true&lt;/property&gt;\n</code></pre>\n\n<p>See this question for better understanding</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7565143/com-mysql-jdbc-exceptions-jdbc4-mysqlnontransientconnectionexception-no-operati\">com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed</a></p>\n"},{"comments":[{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1408513588,"post_id":25385468,"comment_id":39612489,"body_markdown":"I used `&lt;property name=&quot;maxIdleTime&quot;&gt;0&lt;/property&gt;` which represent infinite time to idle","body":"I used <code>&lt;property name=&quot;maxIdleTime&quot;&gt;0&lt;&#47;property&gt;</code> which represent infinite time to idle"}],"tags":[],"owner":{"account_id":3727665,"reputation":2086,"user_id":3101090,"display_name":"John R"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408456996,"creation_date":1408456996,"answer_id":25385468,"question_id":25381168,"body_markdown":"The problem is occurring because your app is leaving the connections open for too long and something is timing them out.  One of three things is timing out the connection:\r\n\r\n 1. A firewall between the app server and database server \r\n 2. The database server OS\r\n 3. The database engine\r\n\r\nHave you considered setting maxIdleTime to a non-zero value or configuring Hibernate to use a [connection pool](http://www.mchange.com/projects/c3p0/) that can periodically test the connections (thereby keeping the TCP connection open) or [discard them after they have been open for a certain period of time](http://www.mchange.com/projects/c3p0/#maxIdleTime)?","title":"Not able to connect with database after some times of deployment on server","body":"<p>The problem is occurring because your app is leaving the connections open for too long and something is timing them out.  One of three things is timing out the connection:</p>\n\n<ol>\n<li>A firewall between the app server and database server </li>\n<li>The database server OS</li>\n<li>The database engine</li>\n</ol>\n\n<p>Have you considered setting maxIdleTime to a non-zero value or configuring Hibernate to use a <a href=\"http://www.mchange.com/projects/c3p0/\" rel=\"nofollow\">connection pool</a> that can periodically test the connections (thereby keeping the TCP connection open) or <a href=\"http://www.mchange.com/projects/c3p0/#maxIdleTime\" rel=\"nofollow\">discard them after they have been open for a certain period of time</a>?</p>\n"},{"comments":[{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1408881797,"post_id":25441722,"comment_id":39750281,"body_markdown":"Added as ypur suggestion what extra should do here","body":"Added as ypur suggestion what extra should do here"},{"owner":{"account_id":4293486,"reputation":85,"user_id":3509166,"accept_rate":50,"display_name":"Tee_Shady"},"score":0,"creation_date":1409028801,"post_id":25441722,"comment_id":39800038,"body_markdown":"You have to set your parameters\n&quot;hibernate.c3p0.min_size&quot; This is the minimum number of JDBC connections that C3P0 keeps ready at all times.\n&quot;hibernate.c3p0.max_size&quot; This is the maximum number of connections in the pool.\n\nAnd as thomas said;\nhibernate.c3p0.idle_test_periods must not be higher than hibernate.c3p0.timeout\n\nhttp://stackoverflow.com/a/3731978/3509166","body":"You have to set your parameters &quot;hibernate.c3p0.min_size&quot; This is the minimum number of JDBC connections that C3P0 keeps ready at all times. &quot;hibernate.c3p0.max_size&quot; This is the maximum number of connections in the pool.  And as thomas said; hibernate.c3p0.idle_test_periods must not be higher than hibernate.c3p0.timeout  <a href=\"http://stackoverflow.com/a/3731978/3509166\">stackoverflow.com/a/3731978/3509166</a>"},{"owner":{"account_id":4293486,"reputation":85,"user_id":3509166,"accept_rate":50,"display_name":"Tee_Shady"},"score":0,"creation_date":1409029789,"post_id":25441722,"comment_id":39800309,"body_markdown":"and please try not to edit/modify your project while running. also try a &quot;fresh&quot; start... i mean stop services and recompile the project.. then run/start all again","body":"and please try not to edit/modify your project while running. also try a &quot;fresh&quot; start... i mean stop services and recompile the project.. then run/start all again"}],"tags":[],"owner":{"account_id":4293486,"reputation":85,"user_id":3509166,"accept_rate":50,"display_name":"Tee_Shady"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408692460,"creation_date":1408692460,"answer_id":25441722,"question_id":25381168,"body_markdown":"You have to configure your idle time and configure a connection pool too, i will recommend  c3p0\r\n\r\nhttp://www.mkyong.com/hibernate/how-to-configure-the-c3p0-connection-pool-in-hibernate/\r\n\r\nAlso you can fin here the basic of how to configure parameters and how it works\r\n\r\nhttps://stackoverflow.com/questions/475893/what-are-the-required-c3p0-settings-for-hibernate-in-order-to-avoid-deadlocks\r\n\r\n\r\nIn some cases when you &quot;modify&quot; your app from outside those errors may occur","title":"Not able to connect with database after some times of deployment on server","body":"<p>You have to configure your idle time and configure a connection pool too, i will recommend  c3p0</p>\n\n<p><a href=\"http://www.mkyong.com/hibernate/how-to-configure-the-c3p0-connection-pool-in-hibernate/\" rel=\"nofollow noreferrer\">http://www.mkyong.com/hibernate/how-to-configure-the-c3p0-connection-pool-in-hibernate/</a></p>\n\n<p>Also you can fin here the basic of how to configure parameters and how it works</p>\n\n<p><a href=\"https://stackoverflow.com/questions/475893/what-are-the-required-c3p0-settings-for-hibernate-in-order-to-avoid-deadlocks\">What are the required C3P0 settings for hibernate in order to avoid Deadlocks</a></p>\n\n<p>In some cases when you \"modify\" your app from outside those errors may occur</p>\n"},{"comments":[{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1408882052,"post_id":25452029,"comment_id":39750347,"body_markdown":"Added few paramenters please see what extra should i add there","body":"Added few paramenters please see what extra should i add there"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1409000237,"post_id":25452029,"comment_id":39792835,"body_markdown":"Check [these](http://www.mchange.com/projects/c3p0/#configuring_connection_testing) parameters.","body":"Check <a href=\"http://www.mchange.com/projects/c3p0/#configuring_connection_testing\" rel=\"nofollow noreferrer\">these</a> parameters."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1696169613,"post_id":25452029,"comment_id":136116300,"body_markdown":"You should accept this answer.","body":"You should accept this answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408737384,"creation_date":1408726456,"answer_id":25452029,"question_id":25381168,"body_markdown":"In your configuration properties you have used c3p0 property maxIdleTime, but c3p0 properties are configured using `c3p0.` prefix or `hibernate.c3p0.`. Note that enabling any of `c3p0` properties automatically enables the corresponding connection provider by hibernate heuristics. In the log isn&#39;t seen that you are using c3p0. If you are not configured data sources then Hibernate will use `hibernate.connection.provider_class org.hibernate.connection.DriverManagerConnectionProvider`. This connection provider has in-built rudimentary connection pool for which you can set a `hibernate.connection.pool_size`, but it is used only for development purposes. Never use it in the production environment. \r\n\r\nYou might have endless discussion on topic [How to fix java.net.SocketException: Broken pipe][1]. After some time you will realize that you have remained *open* connections in the pool, which are suddenly closed on the other side by the following reasons:\r\n\r\n - Firewalls or routers may clamp down on idle connections (the MySQL client/server protocol does not\r\nping).\r\n - The MySQL Server may be closing idle connections that exceed the `wait_timeout` or\r\n`interactive_timeout` threshold.    \r\n\r\nTo help troubleshoot these issues, the following tips can be used: \r\n\r\n - A recent (5.1.13+) version of JDBC driver is used.\r\n - Ensure that `wait_timeout` and `interactive_timeout` are set sufficiently high. Check if `interactiveClient` is used.\r\n - Ensure that `tcpKeepalive` is enabled.\r\n - Ensure that any configurable firewall or router timeout settings allow for the maximum expected connection idle time.\r\n - Ensure connections are valid when used from the connection pool. Use a query that starts with `/* ping */` to execute a lightweight ping instead of full query. Note, the syntax of the ping needs to be exactly as specified here.\r\n - Explicitly validate the connection before using it if the connection has been left idle for an extended period of time.\r\n - Minimize the duration a connection object is left idle while other application logic is executed.\r\n\r\nTo comply to some of this options you&#39;d better use a connection pool that you can use with Hibernate. Hibernate has support for commons-dbcp, c3p0, and proxool. Also you can configure JNDI data source on web server to use with hibernate, it has a connection pool. See [Chapter 7 Connection Pooling with Connector/J][2].  \r\n\r\nIf you like to configure Hibernate with c3p0 you should read this [How-To configure the C3P0 connection pool][3]. For dbcp example configuration you should check this post [MySQL, Hibernate and Broken Pipe Exception][4]. Whatever connection pooling you will use is up to you.   \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2309561/573032\r\n  [2]: http://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html\r\n  [3]: https://community.jboss.org/wiki/HowToConfigureTheC3P0ConnectionPool\r\n  [4]: http://amitcodes.com/2008/07/26/16/","title":"Not able to connect with database after some times of deployment on server","body":"<p>In your configuration properties you have used c3p0 property maxIdleTime, but c3p0 properties are configured using <code>c3p0.</code> prefix or <code>hibernate.c3p0.</code>. Note that enabling any of <code>c3p0</code> properties automatically enables the corresponding connection provider by hibernate heuristics. In the log isn't seen that you are using c3p0. If you are not configured data sources then Hibernate will use <code>hibernate.connection.provider_class org.hibernate.connection.DriverManagerConnectionProvider</code>. This connection provider has in-built rudimentary connection pool for which you can set a <code>hibernate.connection.pool_size</code>, but it is used only for development purposes. Never use it in the production environment. </p>\n\n<p>You might have endless discussion on topic <a href=\"https://stackoverflow.com/q/2309561/573032\">How to fix java.net.SocketException: Broken pipe</a>. After some time you will realize that you have remained <em>open</em> connections in the pool, which are suddenly closed on the other side by the following reasons:</p>\n\n<ul>\n<li>Firewalls or routers may clamp down on idle connections (the MySQL client/server protocol does not\nping).</li>\n<li>The MySQL Server may be closing idle connections that exceed the <code>wait_timeout</code> or\n<code>interactive_timeout</code> threshold.    </li>\n</ul>\n\n<p>To help troubleshoot these issues, the following tips can be used: </p>\n\n<ul>\n<li>A recent (5.1.13+) version of JDBC driver is used.</li>\n<li>Ensure that <code>wait_timeout</code> and <code>interactive_timeout</code> are set sufficiently high. Check if <code>interactiveClient</code> is used.</li>\n<li>Ensure that <code>tcpKeepalive</code> is enabled.</li>\n<li>Ensure that any configurable firewall or router timeout settings allow for the maximum expected connection idle time.</li>\n<li>Ensure connections are valid when used from the connection pool. Use a query that starts with <code>/* ping */</code> to execute a lightweight ping instead of full query. Note, the syntax of the ping needs to be exactly as specified here.</li>\n<li>Explicitly validate the connection before using it if the connection has been left idle for an extended period of time.</li>\n<li>Minimize the duration a connection object is left idle while other application logic is executed.</li>\n</ul>\n\n<p>To comply to some of this options you'd better use a connection pool that you can use with Hibernate. Hibernate has support for commons-dbcp, c3p0, and proxool. Also you can configure JNDI data source on web server to use with hibernate, it has a connection pool. See <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html\" rel=\"nofollow noreferrer\">Chapter 7 Connection Pooling with Connector/J</a>.  </p>\n\n<p>If you like to configure Hibernate with c3p0 you should read this <a href=\"https://community.jboss.org/wiki/HowToConfigureTheC3P0ConnectionPool\" rel=\"nofollow noreferrer\">How-To configure the C3P0 connection pool</a>. For dbcp example configuration you should check this post <a href=\"http://amitcodes.com/2008/07/26/16/\" rel=\"nofollow noreferrer\">MySQL, Hibernate and Broken Pipe Exception</a>. Whatever connection pooling you will use is up to you.   </p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15475,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1696169655,"creation_date":1408444298,"question_id":25381168,"body_markdown":"I uploaded my war file on my server it works perfectly after deploy but after some time it shows exception.\r\nI am using struts2 and hibernate\r\n\r\nmy `hibernate.cfg.xml` is\r\n\r\n\r\n&lt;!-- language: lang-xml --&gt; \r\n\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/dbName&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;UserName&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;Password&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.zeroDateTimeBehavior&quot;&gt;round&lt;/property&gt;  \r\n        &lt;property name=&quot;autoReconnect&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;maxIdleTime&quot;&gt;0&lt;/property&gt;\r\n        &lt;property name=&quot;use_sql_comments&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.ThreadLocalSessionContext&lt;/property&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt; \r\n    &lt;/session-factory&gt;\r\n\r\nOn console After executing query it is showing following `Exception`\r\n\r\n    263512233 [http-bio-12414-exec-1768] WARN org.hibernate.util.JDBCExceptionReporter - SQL Error: 0, SQLState: 08003\r\n    263512233 [http-bio-12414-exec-1768] ERROR org.hibernate.util.JDBCExceptionReporter - No operations allowed after connection closed.Connection was implicitly closed by the driver.\r\n    org.hibernate.exception.JDBCConnectionException: could not execute query\r\n    \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\r\n    \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2545)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2271)\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:459)\r\n    \tat org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:365)\r\n    \tat org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)\r\n    \tat org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)\r\n    \tat org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)\r\n    \tat iland.login.LoginBusiness.HbmLogin(LoginBusiness.java:104)\r\n    \tat iland.login.LoginAction.doLogin(LoginAction.java:53)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\r\n    \tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\r\n    \tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\r\n    \tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.Connection was implicitly closed by the driver.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:382)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1013)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:987)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:982)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:927)\r\n    \tat com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1213)\r\n    \tat com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1200)\r\n    \tat com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4203)\r\n    \tat com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4169)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:534)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:452)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)\r\n    \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1700)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:801)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2542)\r\n    \t... 77 more\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 102,104,208 milliseconds ago.  The last packet sent successfully to the server was 102,104,208 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1116)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3348)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1967)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:802)\r\n    \t... 79 more\r\n    Caused by: java.net.SocketException: Broken pipe\r\n    \tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)\r\n    \tat java.net.SocketOutputStream.write(SocketOutputStream.java:136)\r\n    \tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\r\n    \tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\r\n    \tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3329)\r\n    \t... 87 more\r\n    Hibernate: \r\n        /* insert iland.hbm.ErrorLog\r\n            */ insert \r\n            into\r\n                xrcwrn_retail_shop.error_log\r\n                (class, method, line_no, error, add_date) \r\n            values\r\n                (?, ?, ?, ?, ?)\r\n    Aug 19, 2014 5:23:08 AM com.opensymphony.xwork2.util.logging.commons.CommonsLogger error\r\n    SEVERE: Exception occurred during processing request: null\r\n    java.lang.NullPointerException\r\n    \tat iland.login.LoginBusiness.LoginSessionSave(LoginBusiness.java:123)\r\n    \tat iland.login.LoginBusiness.HbmLogin(LoginBusiness.java:116)\r\n    \tat iland.login.LoginAction.doLogin(LoginAction.java:53)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\r\n    \tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\r\n    \tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\r\n    \tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n\r\n\r\nHow to resolve above problem.\r\nSo that it can work properly all the time.\r\n\r\nEdit: After few hours of deployment it is showing above problem. On my server I am using Apache Tomcat 7 and my sql database.\r\n\r\nNew Addition:\r\n  Added following details\r\n\r\n    &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;0&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;0&lt;/property&gt;\r\n\r\nStill facing the problem what modification/addition should I make here\r\n","title":"Not able to connect with database after some times of deployment on server","body":"<p>I uploaded my war file on my server it works perfectly after deploy but after some time it shows exception.\nI am using struts2 and hibernate</p>\n\n<p>my <code>hibernate.cfg.xml</code> is</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;session-factory&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/dbName&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;UserName&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;Password&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.zeroDateTimeBehavior\"&gt;round&lt;/property&gt;  \n    &lt;property name=\"autoReconnect\"&gt;true&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"maxIdleTime\"&gt;0&lt;/property&gt;\n    &lt;property name=\"use_sql_comments\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.pool_size\"&gt;20&lt;/property&gt;\n    &lt;property name=\"hibernate.current_session_context_class\"&gt;org.hibernate.context.ThreadLocalSessionContext&lt;/property&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt; \n&lt;/session-factory&gt;\n</code></pre>\n\n<p>On console After executing query it is showing following <code>Exception</code></p>\n\n<pre><code>263512233 [http-bio-12414-exec-1768] WARN org.hibernate.util.JDBCExceptionReporter - SQL Error: 0, SQLState: 08003\n263512233 [http-bio-12414-exec-1768] ERROR org.hibernate.util.JDBCExceptionReporter - No operations allowed after connection closed.Connection was implicitly closed by the driver.\norg.hibernate.exception.JDBCConnectionException: could not execute query\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\n    at org.hibernate.loader.Loader.doList(Loader.java:2545)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)\n    at org.hibernate.loader.Loader.list(Loader.java:2271)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:459)\n    at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:365)\n    at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)\n    at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1268)\n    at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)\n    at iland.login.LoginBusiness.HbmLogin(LoginBusiness.java:104)\n    at iland.login.LoginAction.doLogin(LoginAction.java:53)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.Connection was implicitly closed by the driver.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\n    at com.mysql.jdbc.Util.getInstance(Util.java:382)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1013)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:987)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:982)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:927)\n    at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1213)\n    at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1200)\n    at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4203)\n    at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4169)\n    at org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:534)\n    at org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:452)\n    at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1700)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:801)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\n    at org.hibernate.loader.Loader.doList(Loader.java:2542)\n    ... 77 more\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 102,104,208 milliseconds ago.  The last packet sent successfully to the server was 102,104,208 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1116)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3348)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1967)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2140)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2626)\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2111)\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2273)\n    at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:802)\n    ... 79 more\nCaused by: java.net.SocketException: Broken pipe\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:136)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\n    at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3329)\n    ... 87 more\nHibernate: \n    /* insert iland.hbm.ErrorLog\n        */ insert \n        into\n            xrcwrn_retail_shop.error_log\n            (class, method, line_no, error, add_date) \n        values\n            (?, ?, ?, ?, ?)\nAug 19, 2014 5:23:08 AM com.opensymphony.xwork2.util.logging.commons.CommonsLogger error\nSEVERE: Exception occurred during processing request: null\njava.lang.NullPointerException\n    at iland.login.LoginBusiness.LoginSessionSave(LoginBusiness.java:123)\n    at iland.login.LoginBusiness.HbmLogin(LoginBusiness.java:116)\n    at iland.login.LoginAction.doLogin(LoginAction.java:53)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>How to resolve above problem.\nSo that it can work properly all the time.</p>\n\n<p>Edit: After few hours of deployment it is showing above problem. On my server I am using Apache Tomcat 7 and my sql database.</p>\n\n<p>New Addition:\n  Added following details</p>\n\n<pre><code>&lt;property name=\"hibernate.c3p0.min_size\"&gt;5&lt;/property&gt;\n&lt;property name=\"hibernate.c3p0.max_size\"&gt;20&lt;/property&gt;\n&lt;property name=\"hibernate.c3p0.timeout\"&gt;0&lt;/property&gt;\n&lt;property name=\"hibernate.c3p0.max_statements\"&gt;50&lt;/property&gt;\n&lt;property name=\"hibernate.c3p0.idle_test_period\"&gt;0&lt;/property&gt;\n</code></pre>\n\n<p>Still facing the problem what modification/addition should I make here</p>\n"},{"tags":["java","sql","hibernate","jpa","hibernate-native-query"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641726537,"post_id":70637754,"comment_id":124876268,"body_markdown":"How does the executed SQL statement look like?","body":"How does the executed SQL statement look like?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641726586,"post_id":70637754,"comment_id":124876275,"body_markdown":"And the join looks wired: &quot;FROM table_A table_A JOIN example example ON example.id = :idExample &quot; you are not joing table_A and example at all","body":"And the join looks wired: &quot;FROM table_A table_A JOIN example example ON example.id = :idExample &quot; you are not joing table_A and example at all"}],"answers":[{"tags":[],"owner":{"account_id":29574952,"reputation":1,"user_id":22666171,"display_name":"lamlpFX15058"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696169276,"creation_date":1696169010,"answer_id":77210798,"question_id":70637754,"body_markdown":"You should create DTO is an entity and ensure that values of query which map to id field (one or more) in DTO are not duplicated\r\n\r\nMy DTO:\r\n\r\n    @Embeddable\r\n    public class PrimaryKey implements Serializable {\r\n        private int job_id;\r\n        private int prof_id;\r\n    }\r\n\r\n    \r\n\r\n    @SqlResultSetMapping(\r\n            name = &quot;JobProfileResultMapping&quot;,\r\n            classes = @ConstructorResult(\r\n                    targetClass = JobProfileResult.class,\r\n                    columns = {\r\n                            @ColumnResult(name = &quot;job_id&quot;, type = Integer.class),\r\n                            @ColumnResult(name = &quot;prof_id&quot;, type = Integer.class),\r\n                            @ColumnResult(name = &quot;title&quot;, type = String.class),\r\n                            @ColumnResult(name = &quot;name&quot;, type = String.class)\r\n                    }\r\n            )\r\n    )\r\n    @Entity\r\n    @IdClass(PrimaryKey.class)\r\n    public class JobProfileResult {\r\n        @Id\r\n        private int job_id;\r\n    \r\n        @Id\r\n        private int prof_id;\r\n        private String title;\r\n    \r\n        private String name;\r\n    \r\n        public void setJob_id(int job_id) {\r\n            this.job_id = job_id;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getJob_id() {\r\n            return job_id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nMy repository:\r\n\r\n    @Repository\r\n    public interface JobProfileRepository extends JpaRepository&lt;JobProfileResult, Integer&gt; {\r\n        @Query(value = &quot;select j.job_id, p.prof_id, j.title, p.name from job j join job_profile jp on j.job_id=jp.job_id join profile p on jp.prof_id=p.prof_id&quot;, nativeQuery = true)\r\n        public List&lt;JobProfileResult&gt; getJobProfile();\r\n    }\r\n\r\n","title":"@NamedNativeQuery @SqlResultSetMapping wrong mapping COUNT(*)","body":"<p>You should create DTO is an entity and ensure that values of query which map to id field (one or more) in DTO are not duplicated</p>\n<p>My DTO:</p>\n<pre><code>@Embeddable\npublic class PrimaryKey implements Serializable {\n    private int job_id;\n    private int prof_id;\n}\n\n\n\n@SqlResultSetMapping(\n        name = &quot;JobProfileResultMapping&quot;,\n        classes = @ConstructorResult(\n                targetClass = JobProfileResult.class,\n                columns = {\n                        @ColumnResult(name = &quot;job_id&quot;, type = Integer.class),\n                        @ColumnResult(name = &quot;prof_id&quot;, type = Integer.class),\n                        @ColumnResult(name = &quot;title&quot;, type = String.class),\n                        @ColumnResult(name = &quot;name&quot;, type = String.class)\n                }\n        )\n)\n@Entity\n@IdClass(PrimaryKey.class)\npublic class JobProfileResult {\n    @Id\n    private int job_id;\n\n    @Id\n    private int prof_id;\n    private String title;\n\n    private String name;\n\n    public void setJob_id(int job_id) {\n        this.job_id = job_id;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getJob_id() {\n        return job_id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>My repository:</p>\n<pre><code>@Repository\npublic interface JobProfileRepository extends JpaRepository&lt;JobProfileResult, Integer&gt; {\n    @Query(value = &quot;select j.job_id, p.prof_id, j.title, p.name from job j join job_profile jp on j.job_id=jp.job_id join profile p on jp.prof_id=p.prof_id&quot;, nativeQuery = true)\n    public List&lt;JobProfileResult&gt; getJobProfile();\n}\n</code></pre>\n"}],"owner":{"account_id":16704835,"reputation":117,"user_id":12073583,"display_name":"Ed-Genesis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696169276,"creation_date":1641691252,"question_id":70637754,"body_markdown":"I&#39;m having a strange error using @SqlResultSetMapping and @NamedNativeQuery.\r\n\r\nMy Entity has:\r\n\r\n    @NamedNativeQuery(\r\n            name = &quot;example_query&quot;,\r\n            query = &quot;SELECT table_A.id, &quot; +\r\n                    &quot;COUNT(*) AS numberOfA &quot; +\r\n                    &quot;FROM table_A table_A &quot; +\r\n                    &quot;  JOIN example example ON example.id = :idExample &quot; +\r\n                    &quot;GROUP BY id &quot; +\r\n                    &quot;ORDER BY numberOfA DESC;&quot;,\r\n            resultSetMapping = &quot;myMapping&quot;\r\n    )\r\n    @SqlResultSetMapping(\r\n            name = &quot;myMapping&quot;,\r\n            classes = @ConstructorResult(\r\n                    targetClass = ExampleDTO.class,\r\n                    columns = {\r\n                            @ColumnResult(name = &quot;id&quot;, type = Integer.class),\r\n                            @ColumnResult(name = &quot;numberOfA&quot;, type = Integer.class)\r\n                    }\r\n            )\r\n    )\r\n    public class Entity implements Serializable { /////// }\r\n\r\n\r\nMy DTO is like:\r\n\r\n    public class ExampleDTO {\r\n    \r\n        private Integer id;\r\n        private Integer numberOfA;\r\n    \r\n    }\r\n\r\nMy Repository:\r\n\r\n    public interface Entity extends JpaRepository&lt;Entity,Integer&gt; {\r\n\r\n        @Query(name = &quot;example_query&quot;, nativeQuery = true)\r\n        List&lt;ExampleDTO&gt; findExampleQuery(@Param(&quot;id&quot;) Integer id);\r\n\r\n    }\r\n\r\nOn the database the same query return:\r\n\r\n    id     |      numberofa\r\n     1               11\r\n     2                5\r\n\r\nand the mapping return an object with:\r\n\r\n    id     |      numberofa\r\n     1               154\r\n     2                70\r\n\r\nHow is that possible?","title":"@NamedNativeQuery @SqlResultSetMapping wrong mapping COUNT(*)","body":"<p>I'm having a strange error using @SqlResultSetMapping and @NamedNativeQuery.</p>\n<p>My Entity has:</p>\n<pre><code>@NamedNativeQuery(\n        name = &quot;example_query&quot;,\n        query = &quot;SELECT table_A.id, &quot; +\n                &quot;COUNT(*) AS numberOfA &quot; +\n                &quot;FROM table_A table_A &quot; +\n                &quot;  JOIN example example ON example.id = :idExample &quot; +\n                &quot;GROUP BY id &quot; +\n                &quot;ORDER BY numberOfA DESC;&quot;,\n        resultSetMapping = &quot;myMapping&quot;\n)\n@SqlResultSetMapping(\n        name = &quot;myMapping&quot;,\n        classes = @ConstructorResult(\n                targetClass = ExampleDTO.class,\n                columns = {\n                        @ColumnResult(name = &quot;id&quot;, type = Integer.class),\n                        @ColumnResult(name = &quot;numberOfA&quot;, type = Integer.class)\n                }\n        )\n)\npublic class Entity implements Serializable { /////// }\n</code></pre>\n<p>My DTO is like:</p>\n<pre><code>public class ExampleDTO {\n\n    private Integer id;\n    private Integer numberOfA;\n\n}\n</code></pre>\n<p>My Repository:</p>\n<pre><code>public interface Entity extends JpaRepository&lt;Entity,Integer&gt; {\n\n    @Query(name = &quot;example_query&quot;, nativeQuery = true)\n    List&lt;ExampleDTO&gt; findExampleQuery(@Param(&quot;id&quot;) Integer id);\n\n}\n</code></pre>\n<p>On the database the same query return:</p>\n<pre><code>id     |      numberofa\n 1               11\n 2                5\n</code></pre>\n<p>and the mapping return an object with:</p>\n<pre><code>id     |      numberofa\n 1               154\n 2                70\n</code></pre>\n<p>How is that possible?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":3881027,"reputation":473,"user_id":3213514,"accept_rate":57,"display_name":"Rahul Khimasia"},"score":6,"creation_date":1603330238,"post_id":59195898,"comment_id":114005739,"body_markdown":"I spent 8 hours pulling my hair, till I saw this answer. After I fixed the removed the dev tools jar the issue went away.","body":"I spent 8 hours pulling my hair, till I saw this answer. After I fixed the removed the dev tools jar the issue went away."},{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":6,"creation_date":1603360081,"post_id":59195898,"comment_id":114015015,"body_markdown":"@RahulKhimasia Glad to contribute to saving your hair ;-)","body":"@RahulKhimasia Glad to contribute to saving your hair ;-)"},{"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"score":2,"creation_date":1684073010,"post_id":59195898,"comment_id":134460121,"body_markdown":"in deed this is just a workaround and not a solution. you are disabling the automatic restart and so then you have to restart manually after each change. Like &quot;my car has a little malfunction, so I don&#39;t use my care anymore.&quot;.","body":"in deed this is just a workaround and not a solution. you are disabling the automatic restart and so then you have to restart manually after each change. Like &quot;my car has a little malfunction, so I don&#39;t use my care anymore.&quot;."},{"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"score":0,"creation_date":1696169009,"post_id":59195898,"comment_id":136116232,"body_markdown":"I recommend that you verify if the same class loader is used. For instance for Hibernate you might use a Cache Provider like EhCache which is using a different ClassLoader  then the devtools are using `RestartClassLoader`. So make sure that both are using the same when you initialize the EhCache. See above an example in my answer.","body":"I recommend that you verify if the same class loader is used. For instance for Hibernate you might use a Cache Provider like EhCache which is using a different ClassLoader  then the devtools are using <code>RestartClassLoader</code>. So make sure that both are using the same when you initialize the EhCache. See above an example in my answer."}],"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"comment_count":4,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1575551246,"creation_date":1575551246,"answer_id":59195898,"question_id":57750294,"body_markdown":"A simple workaround is to [disable the Restart](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-restart-disable) by setting the system property:\r\n\r\n    spring.devtools.restart.enabled = false\r\n\r\nFor example, when using spring-boot maven plugin, launch the app this way:\r\n\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dspring.devtools.restart.enabled=false&quot;\r\n\r\n","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>A simple workaround is to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-restart-disable\" rel=\"noreferrer\">disable the Restart</a> by setting the system property:</p>\n\n<pre><code>spring.devtools.restart.enabled = false\n</code></pre>\n\n<p>For example, when using spring-boot maven plugin, launch the app this way:</p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=\"-Dspring.devtools.restart.enabled=false\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16121915,"reputation":709,"user_id":11637696,"display_name":"Hilal Aissani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620288831,"creation_date":1594414688,"answer_id":62842171,"question_id":57750294,"body_markdown":"I was having the same problem when I am connecting to the mysql db via persistence.xml:\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_1_0.xsd&quot;\r\n                 version=&quot;2.2&quot;&gt;\r\n        &lt;!-- the name=&quot;pu&quot; will be used in MainApplicationClass --&gt;\r\n        &lt;persistence-unit name=&quot;pu1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_hibernate_jpa_db?useSSL=false&amp;amp;serverTimezone=UTC&amp;amp;useLegacyDatetimeCode=false&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;hilal&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;hilal&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;true&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n    \r\n\r\nthe only solution for me is to start mvn with the command:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;Dspring.devtools.restart.enabled=false&quot;","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>I was having the same problem when I am connecting to the mysql db via persistence.xml:</p>\n<pre><code>&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_1_0.xsd&quot;\n             version=&quot;2.2&quot;&gt;\n    &lt;!-- the name=&quot;pu&quot; will be used in MainApplicationClass --&gt;\n    &lt;persistence-unit name=&quot;pu1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_hibernate_jpa_db?useSSL=false&amp;amp;serverTimezone=UTC&amp;amp;useLegacyDatetimeCode=false&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;hilal&quot; /&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;hilal&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;true&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>the only solution for me is to start mvn with the command:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;Dspring.devtools.restart.enabled=false&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11529584,"reputation":631,"user_id":8448924,"display_name":"Brijesh Lakkad"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1596222816,"creation_date":1596222816,"answer_id":63197839,"question_id":57750294,"body_markdown":"Maybe what is happening here is that:\r\nReference is being created of the base class and then casting is happening for the inherited class.\r\n\r\nLet me give an example. Assume that we have a base class named &quot;BaseClass&quot; and one class &quot;ChildClass&quot; is extending &quot;BaseClass&quot;.\r\n\r\n    BaseClass bClass = new BaseClass(); // NOTICE HERE -&gt; new BaseClass();\r\n    \r\n    \r\n    // Somewhere in next code lines\r\n    ChildClass childClass = (ChildClass) bClass;\r\n\r\nThis will **throw the error** which you are mentioning. \r\n\r\n**DO this:**\r\n\r\n    BaseClass bClass = new ChildClass(); // NOTICE HERE -&gt; new ChildClass();\r\n    \r\n    \r\n    // Somewhere in next code lines\r\n    ChildClass childClass = (ChildClass) bClass;\r\n\r\n\r\nI hope this will solve the problem as it solved mine\r\n\r\n\r\n","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>Maybe what is happening here is that:\nReference is being created of the base class and then casting is happening for the inherited class.</p>\n<p>Let me give an example. Assume that we have a base class named &quot;BaseClass&quot; and one class &quot;ChildClass&quot; is extending &quot;BaseClass&quot;.</p>\n<pre><code>BaseClass bClass = new BaseClass(); // NOTICE HERE -&gt; new BaseClass();\n\n\n// Somewhere in next code lines\nChildClass childClass = (ChildClass) bClass;\n</code></pre>\n<p>This will <strong>throw the error</strong> which you are mentioning.</p>\n<p><strong>DO this:</strong></p>\n<pre><code>BaseClass bClass = new ChildClass(); // NOTICE HERE -&gt; new ChildClass();\n\n\n// Somewhere in next code lines\nChildClass childClass = (ChildClass) bClass;\n</code></pre>\n<p>I hope this will solve the problem as it solved mine</p>\n"},{"comments":[{"owner":{"account_id":1898064,"reputation":183,"user_id":1717304,"accept_rate":75,"display_name":"Eran Friedland"},"score":7,"creation_date":1646221345,"post_id":63639151,"comment_id":126068142,"body_markdown":"and what if spring dev tools is required?","body":"and what if spring dev tools is required?"},{"owner":{"account_id":85429,"reputation":9406,"user_id":238190,"accept_rate":71,"display_name":"emeraldhieu"},"score":1,"creation_date":1664256216,"post_id":63639151,"comment_id":130423322,"body_markdown":"Not really an answer. Your answer is like &quot;Don&#39;t use Spring. You won&#39;t have problems&quot;.","body":"Not really an answer. Your answer is like &quot;Don&#39;t use Spring. You won&#39;t have problems&quot;."}],"tags":[],"owner":{"account_id":19396623,"reputation":193,"user_id":14184172,"display_name":"SriRamaSaiKartheek pamidimukka"},"comment_count":2,"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1598639392,"creation_date":1598639392,"answer_id":63639151,"question_id":57750294,"body_markdown":"```\r\njava.lang.ClassCastException: class &lt;Class_Name&gt; cannot be cast to class &lt;Class_Name&gt; (&lt;Class_Name&gt; is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader &lt;Class_Name&gt; is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nThis is related to spring dev tools package. Try removing the package if it is not required.\r\n","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<pre><code>java.lang.ClassCastException: class &lt;Class_Name&gt; cannot be cast to class &lt;Class_Name&gt; (&lt;Class_Name&gt; is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader &lt;Class_Name&gt; is in unnamed module of loader 'app')\n</code></pre>\n<p>This is related to spring dev tools package. Try removing the package if it is not required.</p>\n"},{"comments":[{"owner":{"account_id":3231913,"reputation":363,"user_id":2726972,"display_name":"francesco paolo schiavone"},"score":0,"creation_date":1665058436,"post_id":65382151,"comment_id":130613253,"body_markdown":"arguably, also removing spring boot entirely, or stopping trying to run the application will solve the problem with the same logic","body":"arguably, also removing spring boot entirely, or stopping trying to run the application will solve the problem with the same logic"}],"tags":[],"owner":{"account_id":15084230,"reputation":13,"user_id":13261186,"display_name":"Nidhi Agrawal"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1608481832,"creation_date":1608481832,"answer_id":65382151,"question_id":57750294,"body_markdown":"removing the dependency of devtools from pom.xml will help \r\n\r\n    &lt;!-- \t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t        &lt;optional&gt;true&lt;/optional&gt;\r\n    \t    &lt;/dependency&gt;\r\n    --&gt;","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>removing the dependency of devtools from pom.xml will help</p>\n<pre><code>&lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n--&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1639649721,"post_id":70377156,"comment_id":124405040,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70377156/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13592842,"reputation":1,"user_id":9805726,"display_name":"Hilmi Kantarci"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1639649307,"creation_date":1639649307,"answer_id":70377156,"question_id":57750294,"body_markdown":"You should be main class\r\n```\r\npublic static void main(String[] args) {\r\n\r\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n\r\n    SpringApplication.run(MyApp.class, args);\r\n}\r\n```\r\n\r\n\r\n","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>You should be main class</p>\n<pre><code>public static void main(String[] args) {\n\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\n\n    SpringApplication.run(MyApp.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415813,"reputation":3152,"user_id":790839,"display_name":"Anver Sadhat"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1644992239,"creation_date":1644992239,"answer_id":71137172,"question_id":57750294,"body_markdown":"This might work : If you are using springboot devtools in your project (pom/gradle), then make sure your class that is using @SpringBootApplication is  ***&quot;public&quot;***.\r\n\r\n\r\n    @SpringBootApplication\r\n    public class MyApp {\r\n      public static void main(String ... args) {\r\n            SpringApplication.run(MyApp.class,args);\r\n        }\r\n    }","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>This might work : If you are using springboot devtools in your project (pom/gradle), then make sure your class that is using @SpringBootApplication is  <em><strong>&quot;public&quot;</strong></em>.</p>\n<pre><code>@SpringBootApplication\npublic class MyApp {\n  public static void main(String ... args) {\n        SpringApplication.run(MyApp.class,args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671150852,"creation_date":1671150852,"answer_id":74819040,"question_id":57750294,"body_markdown":"I tried this and it&#39;s working in my case :\r\n\r\n    mvn dependency:purge-local-repository\r\n\r\n","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>I tried this and it's working in my case :</p>\n<pre><code>mvn dependency:purge-local-repository\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696168783,"creation_date":1696168783,"answer_id":77210785,"question_id":57750294,"body_markdown":"The problem is that when you are using the devtools the ClassLoader get set to a different one `org.springframework.boot.devtools.restart.classloader.RestartClassLoader` then the Cache Provider / Framework you are using. \r\n\r\nIn case you are using JCache or EhCache you simple initialize the Cache Manager by making sure that you are using the same class loader. \r\n\r\nMore information and background can be found [here][1]\r\n\r\n```\r\nimport javax.cache.CacheManager;\r\nimport javax.cache.Caching;\r\nimport javax.cache.spi.CachingProvider;\r\n\r\n@Configuration\r\n@EnableCaching\r\n@Slf4j\r\npublic class CachingConfiguration {\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tpublic CacheManager myCacheManager() {\r\n     \r\n    // The trick is to use &quot;Thread.currentThread().getContextClassLoader()&quot;\r\n    // which overwrites the default class loader set internally by the cache provider\r\n    // with this you ensure both Class loaders are the same when you are using the devtools \r\n\r\n\t\tCachingProvider provider = Caching.getCachingProvider();\r\n\t\tCacheManager cacheManager = provider.getCacheManager(provider.getDefaultURI(), Thread.currentThread().getContextClassLoader());\r\n\t\treturn cacheManager;\r\n\t}\r\n\r\n\r\n    // Optional - in the same class or separate class you can verify the \r\n    // reload which gets initiated by the devtools. So you can check if the \r\n    // Class loader of your cache Manager and the one currently used by the\r\n    // Spring Framework is the same\r\n    \r\n    @Autowired\r\n\t@Lazy\r\n\tCacheManager cacheManager;\r\n\r\n    @EventListener\r\n\tpublic void handleContextRefreshEvent(ContextRefreshedEvent ctxEvt) {\t\t\t\r\n        ClassLoader loader1 = Thread.currentThread().getContextClassLoader();\r\n\t\tClassLoader loader2 = cacheManager.getClassLoader();\r\n\t\tlog.debug(&quot;{} = {}&quot;, loader1, loader2);\r\n\t}\r\n}\r\n```\r\n\r\nThe expected output should then be\r\n\r\n```\r\norg.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262 = org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262\r\n```\r\n\r\n  [1]: https://segmentfault.com/a/1190000041647471/en","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>The problem is that when you are using the devtools the ClassLoader get set to a different one <code>org.springframework.boot.devtools.restart.classloader.RestartClassLoader</code> then the Cache Provider / Framework you are using.</p>\n<p>In case you are using JCache or EhCache you simple initialize the Cache Manager by making sure that you are using the same class loader.</p>\n<p>More information and background can be found <a href=\"https://segmentfault.com/a/1190000041647471/en\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>import javax.cache.CacheManager;\nimport javax.cache.Caching;\nimport javax.cache.spi.CachingProvider;\n\n@Configuration\n@EnableCaching\n@Slf4j\npublic class CachingConfiguration {\n\n    @Bean\n    @Primary\n    public CacheManager myCacheManager() {\n     \n    // The trick is to use &quot;Thread.currentThread().getContextClassLoader()&quot;\n    // which overwrites the default class loader set internally by the cache provider\n    // with this you ensure both Class loaders are the same when you are using the devtools \n\n        CachingProvider provider = Caching.getCachingProvider();\n        CacheManager cacheManager = provider.getCacheManager(provider.getDefaultURI(), Thread.currentThread().getContextClassLoader());\n        return cacheManager;\n    }\n\n\n    // Optional - in the same class or separate class you can verify the \n    // reload which gets initiated by the devtools. So you can check if the \n    // Class loader of your cache Manager and the one currently used by the\n    // Spring Framework is the same\n    \n    @Autowired\n    @Lazy\n    CacheManager cacheManager;\n\n    @EventListener\n    public void handleContextRefreshEvent(ContextRefreshedEvent ctxEvt) {           \n        ClassLoader loader1 = Thread.currentThread().getContextClassLoader();\n        ClassLoader loader2 = cacheManager.getClassLoader();\n        log.debug(&quot;{} = {}&quot;, loader1, loader2);\n    }\n}\n</code></pre>\n<p>The expected output should then be</p>\n<pre><code>org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262 = org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262\n</code></pre>\n"}],"owner":{"account_id":15755381,"reputation":251,"user_id":11368709,"display_name":"ddavidik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48700,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":9,"score":25,"last_activity_date":1696168783,"creation_date":1567382776,"question_id":57750294,"body_markdown":"I am quite new to Spring and Java as a whole and I am currently working on an API. I&#39;ve got this code which accesses MSSQL database, retrieves the results and IS SUPPOSED TO visualize it, but it doesn&#39;t work. I mean, if I would only call the procedure and visualize the result set, it would work normally. The problem is that I can&#39;t work with the &quot;RatingProcedure&quot; object. When I try get some object&#39;s value, it shows me following **error**: \r\n\r\n&gt;Hibernate: \r\n    {call dis_entity.spdcmpracovnici(?,?,?,?)}\r\n&gt;2019-09-02 01:56:01.355  WARN 8720 --- [nio-8050-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class com.pproi.dcm.ratingprocedure.RatingProcedure ([Ljava.lang.Object; is in module java.base of loader &#39;bootstrap&#39;; &gt;com.pproi.dcm.ratingprocedure.RatingProcedure is in unnamed module of loader &gt;org.springframework.boot.devtools.restart.classloader.RestartClassLoader @7193df92)]\r\n\r\n**The code:**\r\n```\r\n@GetMapping(&quot;/replacements/{sourceId}/workers&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;PossibleReplacementResponseModel&gt;&gt; getReplacements(@PathVariable Integer sourceId,\r\n\t\t\t@RequestParam(required = false) Integer targetWorkerId,\r\n\t\t\t@RequestParam(required = false) Integer targetLineId,\r\n\t\t\t@RequestParam(required = false) String targetWorkplaces) {\r\n\r\n\t\tList&lt;PossibleReplacementResponseModel&gt; response = new ArrayList&lt;&gt;();\r\n\r\n\t\t// 400 Bad Request\r\n\t\tif ((targetLineId != null &amp;&amp; targetWorkerId != null) || (targetWorkplaces != null &amp;&amp; targetLineId == null))\r\n\t\t\treturn ResponseEntity.badRequest().build();\r\n\r\n\t\tStoredProcedureQuery ratingProcedure = entityManager.createNamedStoredProcedureQuery(&quot;dcmrating&quot;);\r\n\r\n\t\tStoredProcedureQuery storedProcedure = ratingProcedure.setParameter(&quot;pk_target_worker&quot;, targetWorkerId)\r\n\t\t\t\t.setParameter(&quot;pk_target_sdl&quot;, targetLineId).setParameter(&quot;pk_target_workplaces&quot;, targetWorkplaces)\r\n\t\t\t\t.setParameter(&quot;pk_source_sdl&quot;, sourceId);\r\n\r\n\t\tList&lt;RatingProcedure&gt; ratings = storedProcedure.getResultList();\r\n\t\t\r\n\t\tfor(RatingProcedure rating : ratings) {\r\n\t\t\tPossibleReplacementResponseModel responseModel = new PossibleReplacementResponseModel();\r\n\t\t\tOptional&lt;Worker&gt; _worker = workerRepository.findById(rating.getPersonalId());\r\n\t\t\t\r\n\t\t\tif(_worker.isPresent()) {\r\n\t\t\t\tWorker worker = _worker.get();\r\n\t\t\t\tresponseModel.setId(worker.getId());\r\n\t\t\t\tresponseModel.setName(worker.getFullName());\r\n\t\t\t\tresponseModel.setSkills(findWorkersSkills(worker));\r\n\t\t\t\tresponseModel.setPhysicalExamination(findWorkersMedicalExaminationEndDate(worker));\r\n\t\t\t\tresponseModel.setExams(findWorkersExams(worker));\r\n\t\t\t\tresponseModel.setRestrictions(findWorkersRestrictions(worker));\r\n\t\t\t\tresponseModel.setRating(rating.getRating());\r\n\t\t\t}\r\n\t\t\tresponse.add(responseModel);\r\n\t\t}\r\n\t\t\r\n\t\treturn ResponseEntity.ok(response);\r\n\t}\r\n```\r\n\r\nI probably even have an idea about the solution! I probably should customize my Restart Classloader as seen in [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload), but there my skills end and I have no idea what I should specify in the file. \r\n\r\nAny ideas?\r\n\r\nThank you a lot.","title":"Class loader error - unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader","body":"<p>I am quite new to Spring and Java as a whole and I am currently working on an API. I've got this code which accesses MSSQL database, retrieves the results and IS SUPPOSED TO visualize it, but it doesn't work. I mean, if I would only call the procedure and visualize the result set, it would work normally. The problem is that I can't work with the \"RatingProcedure\" object. When I try get some object's value, it shows me following <strong>error</strong>: </p>\n\n<blockquote>\n  <p>Hibernate: \n      {call dis_entity.spdcmpracovnici(?,?,?,?)}\n  2019-09-02 01:56:01.355  WARN 8720 --- [nio-8050-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class com.pproi.dcm.ratingprocedure.RatingProcedure ([Ljava.lang.Object; is in module java.base of loader 'bootstrap'; >com.pproi.dcm.ratingprocedure.RatingProcedure is in unnamed module of loader >org.springframework.boot.devtools.restart.classloader.RestartClassLoader @7193df92)]</p>\n</blockquote>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>@GetMapping(\"/replacements/{sourceId}/workers\")\n    public ResponseEntity&lt;List&lt;PossibleReplacementResponseModel&gt;&gt; getReplacements(@PathVariable Integer sourceId,\n            @RequestParam(required = false) Integer targetWorkerId,\n            @RequestParam(required = false) Integer targetLineId,\n            @RequestParam(required = false) String targetWorkplaces) {\n\n        List&lt;PossibleReplacementResponseModel&gt; response = new ArrayList&lt;&gt;();\n\n        // 400 Bad Request\n        if ((targetLineId != null &amp;&amp; targetWorkerId != null) || (targetWorkplaces != null &amp;&amp; targetLineId == null))\n            return ResponseEntity.badRequest().build();\n\n        StoredProcedureQuery ratingProcedure = entityManager.createNamedStoredProcedureQuery(\"dcmrating\");\n\n        StoredProcedureQuery storedProcedure = ratingProcedure.setParameter(\"pk_target_worker\", targetWorkerId)\n                .setParameter(\"pk_target_sdl\", targetLineId).setParameter(\"pk_target_workplaces\", targetWorkplaces)\n                .setParameter(\"pk_source_sdl\", sourceId);\n\n        List&lt;RatingProcedure&gt; ratings = storedProcedure.getResultList();\n\n        for(RatingProcedure rating : ratings) {\n            PossibleReplacementResponseModel responseModel = new PossibleReplacementResponseModel();\n            Optional&lt;Worker&gt; _worker = workerRepository.findById(rating.getPersonalId());\n\n            if(_worker.isPresent()) {\n                Worker worker = _worker.get();\n                responseModel.setId(worker.getId());\n                responseModel.setName(worker.getFullName());\n                responseModel.setSkills(findWorkersSkills(worker));\n                responseModel.setPhysicalExamination(findWorkersMedicalExaminationEndDate(worker));\n                responseModel.setExams(findWorkersExams(worker));\n                responseModel.setRestrictions(findWorkersRestrictions(worker));\n                responseModel.setRating(rating.getRating());\n            }\n            response.add(responseModel);\n        }\n\n        return ResponseEntity.ok(response);\n    }\n</code></pre>\n\n<p>I probably even have an idea about the solution! I probably should customize my Restart Classloader as seen in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload\" rel=\"noreferrer\">here</a>, but there my skills end and I have no idea what I should specify in the file. </p>\n\n<p>Any ideas?</p>\n\n<p>Thank you a lot.</p>\n"},{"tags":["java","spring","inversion-of-control","ioc-container"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696161955,"post_id":77210228,"comment_id":136115548,"body_markdown":"The beans in your config are called player and student, not A and B.","body":"The beans in your config are called player and student, not A and B."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696162104,"post_id":77210228,"comment_id":136115559,"body_markdown":"The parent attribute means that the child configuration inherits the configuration data from the parent configuration. It doesn&#39;t mean that a parent bean is actually created.","body":"The parent attribute means that the child configuration inherits the configuration data from the parent configuration. It doesn&#39;t mean that a parent bean is actually created."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696168715,"creation_date":1696168166,"answer_id":77210740,"question_id":77210228,"body_markdown":"According to [this][1] :\r\n\r\n&gt; A child bean definition inherits scope, constructor argument values,\r\n&gt; property values, and method overrides from the parent, with the option\r\n&gt; to add new values. **Any scope, initialization method, destroy method,\r\n&gt; or static factory method settings that you specify override the\r\n&gt; corresponding parent settings.**\r\n\r\nSo first of all , it only make sense to configure the `init-method` of the child bean if its `init-method` is different from the parent bean.  If both child and parent beans has the same `init-method` , it is not necessary to configure the `init-method` on the child bean.\r\n\r\nSecond, whether the initialisation method will execute its parent initialisation method or not is its implementation details which from the bean definition point of view , it does not care about it. It only care you tell it what is the initialisation method such that it will simply execute it after it creates a bean instance and that &#39;s it.\r\n\r\nSo if you want `Player` &#39;s initialisation method to execute its parent &#39;s init. method , you can implement it as : \r\n\r\n``` java\r\npublic class Player extends Student{\r\n\r\n   \r\n  void init(){\r\n     super.init();\r\n     //do other player initialisation codes here..\r\n  }\r\n\r\n}\r\n``` \r\n\r\nOtherwise , you can implement it as :\r\n\r\n``` java\r\npublic class Player extends Student{\r\n\r\n   \r\n  void init(){\r\n     //do player initialisation codes here..\r\n  }\r\n\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/core/beans/child-bean-definitions.html#page-title","title":"Question of lifycycle callbacks of beans in Spring","body":"<p>According to <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/child-bean-definitions.html#page-title\" rel=\"nofollow noreferrer\">this</a> :</p>\n<blockquote>\n<p>A child bean definition inherits scope, constructor argument values,\nproperty values, and method overrides from the parent, with the option\nto add new values. <strong>Any scope, initialization method, destroy method,\nor static factory method settings that you specify override the\ncorresponding parent settings.</strong></p>\n</blockquote>\n<p>So first of all , it only make sense to configure the <code>init-method</code> of the child bean if its <code>init-method</code> is different from the parent bean.  If both child and parent beans has the same <code>init-method</code> , it is not necessary to configure the <code>init-method</code> on the child bean.</p>\n<p>Second, whether the initialisation method will execute its parent initialisation method or not is its implementation details which from the bean definition point of view , it does not care about it. It only care you tell it what is the initialisation method such that it will simply execute it after it creates a bean instance and that 's it.</p>\n<p>So if you want <code>Player</code> 's initialisation method to execute its parent 's init. method , you can implement it as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Player extends Student{\n\n   \n  void init(){\n     super.init();\n     //do other player initialisation codes here..\n  }\n\n}\n</code></pre>\n<p>Otherwise , you can implement it as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Player extends Student{\n\n   \n  void init(){\n     //do player initialisation codes here..\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28898608,"reputation":1,"user_id":22134084,"display_name":"Ford Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696168715,"creation_date":1696158867,"question_id":77210228,"body_markdown":"Spring documentation describes that beans managed by Ioc container are implicitly pre-instantiated by default other than specifying them as being lazy-initialized. I define a child bean definition A which inherits the configuration data from its parent bean definition B. Both of them have an &lt;init-method&gt; attribute specified on the &lt;bean&gt; element. Then I retrieved an instance of bean A through the Ioc container and I found the Ioc container just called the bean A initialization method. Why the Ioc container didn&#39;t call the initialization method of bean B which was instantiated at startup? \r\n```\r\n&lt;bean id=&quot;student&quot; class=&quot;com.ford.spring.pojo.Student&quot; lazy-init=&quot;true&quot; init-method=&quot;init&quot;&gt;\r\n        &lt;property name=&quot;age&quot; value=&quot;20&quot;/&gt;\r\n        &lt;property name=&quot;gender&quot; value=&quot;male&quot;/&gt;\r\n        &lt;property name=&quot;name&quot; value=&quot;porro&quot;/&gt;\r\n        &lt;property name=&quot;id&quot; value=&quot;1&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;player&quot;\r\n          class=&quot;com.ford.spring.pojo.Player&quot;\r\n          parent=&quot;student&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot;&gt;\r\n        &lt;property name=&quot;nationality&quot; value=&quot;Italy&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\n```\r\nConfigurableApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;config-metadata.xml&quot;);\r\nPlayer player = (Player) applicationContext.getBean(&quot;player&quot;);\r\napplicationContext.close();\r\nSystem.out.println(player);\r\n```\r\n\r\n\r\n\r\nWhy the Ioc container didn&#39;t call the initialization method of bean B which was instantiated at startup? ","title":"Question of lifycycle callbacks of beans in Spring","body":"<p>Spring documentation describes that beans managed by Ioc container are implicitly pre-instantiated by default other than specifying them as being lazy-initialized. I define a child bean definition A which inherits the configuration data from its parent bean definition B. Both of them have an  attribute specified on the  element. Then I retrieved an instance of bean A through the Ioc container and I found the Ioc container just called the bean A initialization method. Why the Ioc container didn't call the initialization method of bean B which was instantiated at startup?</p>\n<pre><code>&lt;bean id=&quot;student&quot; class=&quot;com.ford.spring.pojo.Student&quot; lazy-init=&quot;true&quot; init-method=&quot;init&quot;&gt;\n        &lt;property name=&quot;age&quot; value=&quot;20&quot;/&gt;\n        &lt;property name=&quot;gender&quot; value=&quot;male&quot;/&gt;\n        &lt;property name=&quot;name&quot; value=&quot;porro&quot;/&gt;\n        &lt;property name=&quot;id&quot; value=&quot;1&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;player&quot;\n          class=&quot;com.ford.spring.pojo.Player&quot;\n          parent=&quot;student&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot;&gt;\n        &lt;property name=&quot;nationality&quot; value=&quot;Italy&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<pre><code>ConfigurableApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;config-metadata.xml&quot;);\nPlayer player = (Player) applicationContext.getBean(&quot;player&quot;);\napplicationContext.close();\nSystem.out.println(player);\n</code></pre>\n<p>Why the Ioc container didn't call the initialization method of bean B which was instantiated at startup?</p>\n"},{"tags":["java","collections","hashmap","hashtable"],"comments":[{"owner":{"account_id":2848635,"reputation":129,"user_id":2446305,"display_name":"MissFiona"},"score":43,"creation_date":1491775819,"post_id":40471,"comment_id":89607770,"body_markdown":"HashTable is obsolete in Java 1.7 and it is recommended to use ConcurrentMap implementation","body":"HashTable is obsolete in Java 1.7 and it is recommended to use ConcurrentMap implementation"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":9,"creation_date":1577581873,"post_id":40471,"comment_id":105203863,"body_markdown":"@MissFiona No, [`ConcurrentMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html) is *not* necessary here, as the Question says “non-threaded applications” meaning threading/concurrency is not an issue.","body":"@MissFiona No, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentMap</code></a> is <i>not</i> necessary here, as the Question says “non-threaded applications” meaning threading/concurrency is not an issue."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":8,"creation_date":1645982769,"post_id":40471,"comment_id":126006792,"body_markdown":"@BasilBourque, Yes, but I believe what MissFiona meant by that was something akin to _&quot;`HashTable` has traditionally been only chosen because of its partial threading protection.  But that&#39;s been obviated by `ConcurrentHashMap`, so it&#39;s generally regarded as retired.  It&#39;s generally recommended to choose between `HashMap` or `ConcurrentHashMap`.&quot;_  And I believe that to be a sensible comment, if it&#39;s what she meant.","body":"@BasilBourque, Yes, but I believe what MissFiona meant by that was something akin to <i>&quot;<code>HashTable</code> has traditionally been only chosen because of its partial threading protection.  But that&#39;s been obviated by <code>ConcurrentHashMap</code>, so it&#39;s generally regarded as retired.  It&#39;s generally recommended to choose between <code>HashMap</code> or <code>ConcurrentHashMap</code>.&quot;</i>  And I believe that to be a sensible comment, if it&#39;s what she meant."},{"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"score":1,"creation_date":1656531396,"post_id":40471,"comment_id":128598700,"body_markdown":"According to https://doi.org/10.48550/arXiv.1602.00984 Hashtable is more efficient than HashMap in terms of both energy consumption and execution time.","body":"According to <a href=\"https://doi.org/10.48550/arXiv.1602.00984\" rel=\"nofollow noreferrer\">doi.org/10.48550/arXiv.1602.00984</a> Hashtable is more efficient than HashMap in terms of both energy consumption and execution time."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683972841,"post_id":40471,"comment_id":134450752,"body_markdown":"@aventurin I wonder if that is still the case now biased locking is disabled since Java 15.","body":"@aventurin I wonder if that is still the case now biased locking is disabled since Java 15."}],"answers":[{"comments":[{"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"score":1,"creation_date":1293846396,"post_id":40483,"comment_id":5018461,"body_markdown":"I&#39;m pretty sure it will throw a ConncurrentModificationException before the underlying collection is modified, though I could be wrong.","body":"I&#39;m pretty sure it will throw a ConncurrentModificationException before the underlying collection is modified, though I could be wrong."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1303135388,"post_id":40483,"comment_id":6518655,"body_markdown":"It will *attempt* to detect concurrent modification and throw an exception.  But if you&#39;re doing anything with threads, it can&#39;t make any promises.  Absolutely anything can happen, including [breakage](http://lightbody.net/blog/2005/07/hashmapget_can_cause_an_infini.html).","body":"It will <i>attempt</i> to detect concurrent modification and throw an exception.  But if you&#39;re doing anything with threads, it can&#39;t make any promises.  Absolutely anything can happen, including <a href=\"http://lightbody.net/blog/2005/07/hashmapget_can_cause_an_infini.html\" rel=\"nofollow noreferrer\">breakage</a>."}],"tags":[],"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"comment_count":2,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1220386493,"creation_date":1220386493,"answer_id":40483,"question_id":40471,"body_markdown":"Based on the info [here][1], I&#39;d recommend going with HashMap.  I think the biggest advantage is that Java will prevent you from modifying it while you are iterating over it, unless you do it through the iterator.\r\n\r\n\r\n  [1]: http://www.jguru.com/faq/view.jsp?EID=430247","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Based on the info <a href=\"http://www.jguru.com/faq/view.jsp?EID=430247\" rel=\"noreferrer\">here</a>, I'd recommend going with HashMap.  I think the biggest advantage is that Java will prevent you from modifying it while you are iterating over it, unless you do it through the iterator.</p>\n"},{"tags":[],"owner":{"account_id":746,"reputation":50431,"user_id":974,"accept_rate":82,"display_name":"izb"},"comment_count":0,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1600201723,"creation_date":1220386954,"answer_id":40512,"question_id":40471,"body_markdown":"`Hashtable` is synchronized, whereas `HashMap` isn&#39;t. That makes `Hashtable` slower than `Hashmap`.\r\n\r\nFor single thread applications, use `HashMap` since they are otherwise the same in terms of functionality.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><code>Hashtable</code> is synchronized, whereas <code>HashMap</code> isn't. That makes <code>Hashtable</code> slower than <code>Hashmap</code>.</p>\n<p>For single thread applications, use <code>HashMap</code> since they are otherwise the same in terms of functionality.</p>\n"},{"tags":[],"owner":{"account_id":2772,"reputation":7970,"user_id":3898,"accept_rate":86,"display_name":"Miles D"},"comment_count":0,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1425286523,"creation_date":1220387130,"answer_id":40522,"question_id":40471,"body_markdown":"`Hashtable` is similar to the `HashMap` and has a similar interface. It is recommended that you use `HashMap`, unless you require support for legacy applications or you need synchronisation, as the `Hashtables` methods are synchronised. So in your case as you are not multi-threading, `HashMaps` are your best bet.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><code>Hashtable</code> is similar to the <code>HashMap</code> and has a similar interface. It is recommended that you use <code>HashMap</code>, unless you require support for legacy applications or you need synchronisation, as the <code>Hashtables</code> methods are synchronised. So in your case as you are not multi-threading, <code>HashMaps</code> are your best bet.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":0,"down_vote_count":1,"up_vote_count":77,"is_accepted":false,"score":76,"last_activity_date":1220387400,"creation_date":1220387400,"answer_id":40548,"question_id":40471,"body_markdown":"In addition to what izb said, `HashMap` allows null values, whereas the `Hashtable` does not.\r\n\r\nAlso note that `Hashtable` extends the `Dictionary` class, which as the [Javadocs][1] state, is obsolete and has been replaced by the `Map` interface.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Dictionary.html","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>In addition to what izb said, <code>HashMap</code> allows null values, whereas the <code>Hashtable</code> does not.</p>\n\n<p>Also note that <code>Hashtable</code> extends the <code>Dictionary</code> class, which as the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Dictionary.html\" rel=\"noreferrer\">Javadocs</a> state, is obsolete and has been replaced by the <code>Map</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":3019,"reputation":7919,"user_id":4276,"display_name":"Tim Howland"},"comment_count":0,"down_vote_count":4,"up_vote_count":25,"is_accepted":false,"score":21,"last_activity_date":1220395139,"creation_date":1220395139,"answer_id":40848,"question_id":40471,"body_markdown":"For threaded apps, you can often get away with ConcurrentHashMap- depends on your performance requirements.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>For threaded apps, you can often get away with ConcurrentHashMap- depends on your performance requirements.</p>\n"},{"comments":[{"owner":{"account_id":387941,"reputation":6875,"user_id":974531,"accept_rate":88,"display_name":"Rok Strniša"},"score":133,"creation_date":1321987718,"post_id":40878,"comment_id":10124639,"body_markdown":"If you want to make a HashMap thread-safe, use `Collections.synchronizedMap()`.","body":"If you want to make a HashMap thread-safe, use <code>Collections.synchronizedMap()</code>."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":347,"creation_date":1331918378,"post_id":40878,"comment_id":12389872,"body_markdown":"I would also comment that the naive approach to thread-safety in `Hashtable` (&quot;synchronizing every method should take care of any concurrency problems!&quot;) makes it very much *worse* for threaded applications. You&#39;re better off externally synchronizing a `HashMap` (and thinking about the consequences), or using a `ConcurrentMap` implementation (and exploiting its extended API for concurrency). Bottom line: the only reason to use `Hashtable` is when a legacy API (from ca. 1996) requires it.","body":"I would also comment that the naive approach to thread-safety in <code>Hashtable</code> (&quot;synchronizing every method should take care of any concurrency problems!&quot;) makes it very much <i>worse</i> for threaded applications. You&#39;re better off externally synchronizing a <code>HashMap</code> (and thinking about the consequences), or using a <code>ConcurrentMap</code> implementation (and exploiting its extended API for concurrency). Bottom line: the only reason to use <code>Hashtable</code> is when a legacy API (from ca. 1996) requires it."},{"owner":{"account_id":5468895,"reputation":974,"user_id":4348811,"accept_rate":100,"display_name":"Gaurava Agarwal"},"score":8,"creation_date":1467018002,"post_id":40878,"comment_id":63538585,"body_markdown":"HashMap gives flexibility to programmer to write threadSafe code when they actually use it. It happened rarely that I needed a thread safe collection like ConcurrentHashMap or HashTable. What I needed is certain set of functions or certain statements in a synchronized block to be threadsafe.","body":"HashMap gives flexibility to programmer to write threadSafe code when they actually use it. It happened rarely that I needed a thread safe collection like ConcurrentHashMap or HashTable. What I needed is certain set of functions or certain statements in a synchronized block to be threadsafe."},{"owner":{"account_id":1220499,"reputation":1377,"user_id":1187233,"display_name":"Maneesh Srivastava"},"score":7,"creation_date":1522381520,"post_id":40878,"comment_id":86144480,"body_markdown":"Hashtable is obsolete and we are using HashMap for non thread safe environment.\n\nIf you need thread safety then you can use Collections.synchronizedMap() &#160;or use ConcurrentHashMap which is more efficient that hashtable.","body":"Hashtable is obsolete and we are using HashMap for non thread safe environment.  If you need thread safety then you can use Collections.synchronizedMap()  or use ConcurrentHashMap which is more efficient that hashtable."},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":5,"creation_date":1526717461,"post_id":40878,"comment_id":87861173,"body_markdown":"It&#39;s obsolete but not deprecated and I&#39;m wondering why this is. I&#39;m guessing removing this class (and Vector for the same reasons) would break too much existing code and annotating with @Deprecated would imply an intention to remove the code, which apparently is not there.","body":"It&#39;s obsolete but not deprecated and I&#39;m wondering why this is. I&#39;m guessing removing this class (and Vector for the same reasons) would break too much existing code and annotating with @Deprecated would imply an intention to remove the code, which apparently is not there."},{"owner":{"account_id":336380,"reputation":264,"user_id":663999,"accept_rate":100,"display_name":"rashid"},"score":1,"creation_date":1529911544,"post_id":40878,"comment_id":89028922,"body_markdown":"You can also use ConcurrentSkipListMap (https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/ConcurrentSkipListMap.html). It is thread-safe collection similar to ConcurrentHashMap and this map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time.","body":"You can also use ConcurrentSkipListMap (<a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/util/concurrent/&hellip;</a>). It is thread-safe collection similar to ConcurrentHashMap and this map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time."},{"owner":{"account_id":12460498,"reputation":81,"user_id":9072300,"display_name":"Gajraj Tanwar"},"score":1,"creation_date":1620036559,"post_id":40878,"comment_id":119073817,"body_markdown":"HashTable use single intrinsic lock which result in very poor performance in even in low contention. While Threadsfe counterpart of HashMap i.e. ConcurrentHashMap use lock spliting which is user configurable has multitime better performance even in high contention.","body":"HashTable use single intrinsic lock which result in very poor performance in even in low contention. While Threadsfe counterpart of HashMap i.e. ConcurrentHashMap use lock spliting which is user configurable has multitime better performance even in high contention."},{"owner":{"account_id":6912869,"reputation":954,"user_id":5308115,"accept_rate":29,"display_name":"yashodha_h"},"score":0,"creation_date":1685258899,"post_id":40878,"comment_id":134634681,"body_markdown":"The Collections.synchronizedMap() requires a lock on the entire object for read/write operations, while ConcurrentHashMap allows concurrent modifications by acquiring locks on separate segments.","body":"The Collections.synchronizedMap() requires a lock on the entire object for read/write operations, while ConcurrentHashMap allows concurrent modifications by acquiring locks on separate segments."}],"tags":[],"owner":{"account_id":1518,"reputation":52575,"user_id":2030,"accept_rate":91,"display_name":"Josh Brown"},"comment_count":8,"down_vote_count":2,"up_vote_count":4227,"is_accepted":true,"score":4225,"last_activity_date":1675776375,"creation_date":1220396557,"answer_id":40878,"question_id":40471,"body_markdown":"There are several differences between [`HashMap`][1] and [`Hashtable`][2] in Java:\r\n\r\n 1. `Hashtable` is [synchronized][3], whereas `HashMap` is not. This makes `HashMap` better for non-threaded applications, as unsynchronized Objects typically perform better than synchronized ones.\r\n\r\n 2. `Hashtable` does not allow `null` keys or values.  `HashMap` allows one `null` key and any number of `null` values.\r\n\r\n 3. One of HashMap&#39;s subclasses is [`LinkedHashMap`][4], so in the event that you&#39;d want predictable iteration order (which is insertion order by default), you could easily swap out the `HashMap` for a `LinkedHashMap`.  This wouldn&#39;t be as easy if you were using `Hashtable`.\r\n\r\nSince synchronization is not an issue for you, I&#39;d recommend `HashMap`. If synchronization becomes an issue, you may also look at [`ConcurrentHashMap`][5].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Hashtable.html\r\n  [3]: https://stackoverflow.com/questions/1085709/what-does-synchronized-mean\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>There are several differences between <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Hashtable.html\" rel=\"noreferrer\"><code>Hashtable</code></a> in Java:</p>\n<ol>\n<li><p><code>Hashtable</code> is <a href=\"https://stackoverflow.com/questions/1085709/what-does-synchronized-mean\">synchronized</a>, whereas <code>HashMap</code> is not. This makes <code>HashMap</code> better for non-threaded applications, as unsynchronized Objects typically perform better than synchronized ones.</p>\n</li>\n<li><p><code>Hashtable</code> does not allow <code>null</code> keys or values.  <code>HashMap</code> allows one <code>null</code> key and any number of <code>null</code> values.</p>\n</li>\n<li><p>One of HashMap's subclasses is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"noreferrer\"><code>LinkedHashMap</code></a>, so in the event that you'd want predictable iteration order (which is insertion order by default), you could easily swap out the <code>HashMap</code> for a <code>LinkedHashMap</code>.  This wouldn't be as easy if you were using <code>Hashtable</code>.</p>\n</li>\n</ol>\n<p>Since synchronization is not an issue for you, I'd recommend <code>HashMap</code>. If synchronization becomes an issue, you may also look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\"><code>ConcurrentHashMap</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":213817,"reputation":1818,"user_id":467413,"accept_rate":69,"display_name":"prap19"},"score":0,"creation_date":1321714520,"post_id":40894,"comment_id":10069447,"body_markdown":"This actually makes sense. ConcurrentHashMaps gives you freedom of synchronization and debugging is lot more easier.","body":"This actually makes sense. ConcurrentHashMaps gives you freedom of synchronization and debugging is lot more easier."}],"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"comment_count":1,"down_vote_count":1,"up_vote_count":156,"is_accepted":false,"score":155,"last_activity_date":1512423074,"creation_date":1220397251,"answer_id":40894,"question_id":40471,"body_markdown":"`HashMap`: An implementation of the `Map` interface that uses hash codes to index an array.\r\n`Hashtable`: Hi, 1998 called. They want their collections API back.\r\n\r\nSeriously though, you&#39;re better off staying away from `Hashtable` altogether. For single-threaded apps, you don&#39;t need the extra overhead of synchronisation. For highly concurrent apps, the paranoid synchronisation might lead to starvation, deadlocks, or unnecessary garbage collection pauses. Like Tim Howland pointed out, you might use `ConcurrentHashMap` instead.\r\n","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><code>HashMap</code>: An implementation of the <code>Map</code> interface that uses hash codes to index an array.\n<code>Hashtable</code>: Hi, 1998 called. They want their collections API back.</p>\n\n<p>Seriously though, you're better off staying away from <code>Hashtable</code> altogether. For single-threaded apps, you don't need the extra overhead of synchronisation. For highly concurrent apps, the paranoid synchronisation might lead to starvation, deadlocks, or unnecessary garbage collection pauses. Like Tim Howland pointed out, you might use <code>ConcurrentHashMap</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":21342,"reputation":12066,"user_id":51789,"accept_rate":75,"display_name":"Chris K"},"score":63,"creation_date":1240437783,"post_id":41454,"comment_id":590050,"body_markdown":"Also note that if a HashMap is modified, iterators pointing to it are rendered invalid.","body":"Also note that if a HashMap is modified, iterators pointing to it are rendered invalid."},{"owner":{"account_id":142885,"reputation":1766,"user_id":350874,"accept_rate":79,"display_name":"telebog"},"score":3,"creation_date":1321030106,"post_id":41454,"comment_id":9926446,"body_markdown":"So is there any difference between synchronized(myMap) {...} and ConcurrentHashMap in terms of thread safe?","body":"So is there any difference between synchronized(myMap) {...} and ConcurrentHashMap in terms of thread safe?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1408548871,"post_id":41454,"comment_id":39633589,"body_markdown":"Having been in the middle of a JVM development crew for a number of years I can state that Hashtable&#39;s internal synchronization is at least useful for properly pointing the finger at the customer&#39;s code when he writes dodgy concurrent code.  We received several complaints of failures inside HashMap (and hence &quot;obviously&quot; a JDK/JVM bug), when the cause was concurrent modification.","body":"Having been in the middle of a JVM development crew for a number of years I can state that Hashtable&#39;s internal synchronization is at least useful for properly pointing the finger at the customer&#39;s code when he writes dodgy concurrent code.  We received several complaints of failures inside HashMap (and hence &quot;obviously&quot; a JDK/JVM bug), when the cause was concurrent modification."},{"owner":{"account_id":8757345,"reputation":718,"user_id":6548501,"display_name":"A248"},"score":0,"creation_date":1610038507,"post_id":41454,"comment_id":116012460,"body_markdown":"The implementation of Collections.synchronizedMap includes a synchronized putIfAbsent, so you don&#39;t need to use containsKey/put yourself.","body":"The implementation of Collections.synchronizedMap includes a synchronized putIfAbsent, so you don&#39;t need to use containsKey/put yourself."}],"tags":[],"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"comment_count":4,"down_vote_count":0,"up_vote_count":793,"is_accepted":false,"score":793,"last_activity_date":1621077750,"creation_date":1220439641,"answer_id":41454,"question_id":40471,"body_markdown":"Note, that a lot of the answers state that Hashtable is synchronized.  **In practice this buys you very little.**  The synchronization is on the accessor/mutator methods will stop two threads adding or removing from the map concurrently, but in the real world, you will often need additional synchronization.\r\n\r\nA very common idiom is to &quot;check then put&quot; — i.e. look for an entry in the `Map`, and add it if it does not already exist. This is not in any way an atomic operation whether you use `Hashtable` or `HashMap`.\r\n\r\nAn equivalently synchronised `HashMap` can be obtained by:\r\n\r\n    Collections.synchronizedMap(myMap);\r\n\r\nBut to correctly implement this logic you need **additional synchronisation** of the form:\r\n\r\n    synchronized(myMap) {\r\n        if (!myMap.containsKey(&quot;tomato&quot;))\r\n            myMap.put(&quot;tomato&quot;, &quot;red&quot;);\r\n    }\r\n\r\nEven iterating over a `Hashtable`&#39;s entries (or a `HashMap` obtained by `Collections.synchronizedMap`) is not thread-safe unless you also guard the `Map` against being modified through additional synchronization.\r\n\r\nImplementations of the [`ConcurrentMap`][1] interface (for example [`ConcurrentHashMap`][2]) solve some of this by including **thread safe check-then-act semantics** such as:\r\n\r\n    ConcurrentMap.putIfAbsent(key, value);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Note, that a lot of the answers state that Hashtable is synchronized.  <strong>In practice this buys you very little.</strong>  The synchronization is on the accessor/mutator methods will stop two threads adding or removing from the map concurrently, but in the real world, you will often need additional synchronization.</p>\n<p>A very common idiom is to &quot;check then put&quot; — i.e. look for an entry in the <code>Map</code>, and add it if it does not already exist. This is not in any way an atomic operation whether you use <code>Hashtable</code> or <code>HashMap</code>.</p>\n<p>An equivalently synchronised <code>HashMap</code> can be obtained by:</p>\n<pre><code>Collections.synchronizedMap(myMap);\n</code></pre>\n<p>But to correctly implement this logic you need <strong>additional synchronisation</strong> of the form:</p>\n<pre><code>synchronized(myMap) {\n    if (!myMap.containsKey(&quot;tomato&quot;))\n        myMap.put(&quot;tomato&quot;, &quot;red&quot;);\n}\n</code></pre>\n<p>Even iterating over a <code>Hashtable</code>'s entries (or a <code>HashMap</code> obtained by <code>Collections.synchronizedMap</code>) is not thread-safe unless you also guard the <code>Map</code> against being modified through additional synchronization.</p>\n<p>Implementations of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\" rel=\"noreferrer\"><code>ConcurrentMap</code></a> interface (for example <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\"><code>ConcurrentHashMap</code></a>) solve some of this by including <strong>thread safe check-then-act semantics</strong> such as:</p>\n<pre><code>ConcurrentMap.putIfAbsent(key, value);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":111,"creation_date":1263938943,"post_id":1041798,"comment_id":2030869,"body_markdown":"From Hashtable javadoc (emphasis added): &quot;As of the Java 2 platform v1.2, this class was retrofitted to implement the Map interface, **making it a member of the Java Collections Framework**.&quot;  However, you are right that it is legacy code. All the benefits of synchronization can be obtained more efficiently with Collections.synchronizedMap(HashMap). (Similar to Vector being a legacy version of Collections.synchronizedList(ArrayList).)","body":"From Hashtable javadoc (emphasis added): &quot;As of the Java 2 platform v1.2, this class was retrofitted to implement the Map interface, <b>making it a member of the Java Collections Framework</b>.&quot;  However, you are right that it is legacy code. All the benefits of synchronization can be obtained more efficiently with Collections.synchronizedMap(HashMap). (Similar to Vector being a legacy version of Collections.synchronizedList(ArrayList).)"},{"owner":{"account_id":106428,"reputation":2040,"user_id":283519,"accept_rate":75,"display_name":"pwes"},"score":17,"creation_date":1326356028,"post_id":1041798,"comment_id":11026533,"body_markdown":"@aberrant80: unfortunately you have no choice between the two and have to use Hashtable when programming for J2ME...","body":"@aberrant80: unfortunately you have no choice between the two and have to use Hashtable when programming for J2ME..."},{"owner":{"account_id":1011566,"reputation":1150,"user_id":1028135,"accept_rate":75,"display_name":"MastAvalons"},"score":0,"creation_date":1560765253,"post_id":1041798,"comment_id":99829665,"body_markdown":"Agree that &quot;Hashtable is considered legacy code&quot;. You should use ConcurentHashMap instead if you need concurrency.","body":"Agree that &quot;Hashtable is considered legacy code&quot;. You should use ConcurentHashMap instead if you need concurrency."}],"tags":[],"owner":{"account_id":42594,"reputation":12865,"user_id":124111,"accept_rate":98,"display_name":"aberrant80"},"comment_count":3,"down_vote_count":7,"up_vote_count":437,"is_accepted":false,"score":430,"last_activity_date":1533644284,"creation_date":1245894377,"answer_id":1041798,"question_id":40471,"body_markdown":"`Hashtable` is considered legacy code. There&#39;s nothing about `Hashtable` that can&#39;t be done using `HashMap` or derivations of `HashMap`, so for new code, I don&#39;t see any justification for going back to `Hashtable`.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><code>Hashtable</code> is considered legacy code. There's nothing about <code>Hashtable</code> that can't be done using <code>HashMap</code> or derivations of <code>HashMap</code>, so for new code, I don't see any justification for going back to <code>Hashtable</code>.</p>\n"},{"tags":[],"owner":{"account_id":897210,"reputation":431,"user_id":934204,"display_name":"Neerja"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1684078205,"creation_date":1315464013,"answer_id":7344090,"question_id":40471,"body_markdown":"Another key difference between `Hashtable` and `HashMap` is that the *Iterator* in the HashMap is  fail-fast  while the *enumerator* for the Hashtable is not and throw *ConcurrentModificationException* if any other Thread modifies the map structurally  by adding or removing any element except Iterator&#39;s own remove()  method. But this is not a guaranteed behavior and will be done by JVM on best effort.\r\n\r\nMy source: http://javarevisited.blogspot.com/2010/10/difference-between-hashmap-and.html\r\n","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Another key difference between <code>Hashtable</code> and <code>HashMap</code> is that the <em>Iterator</em> in the HashMap is  fail-fast  while the <em>enumerator</em> for the Hashtable is not and throw <em>ConcurrentModificationException</em> if any other Thread modifies the map structurally  by adding or removing any element except Iterator's own remove()  method. But this is not a guaranteed behavior and will be done by JVM on best effort.</p>\n<p>My source: <a href=\"http://javarevisited.blogspot.com/2010/10/difference-between-hashmap-and.html\" rel=\"nofollow noreferrer\">http://javarevisited.blogspot.com/2010/10/difference-between-hashmap-and.html</a></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":67,"creation_date":1378714471,"post_id":7644118,"comment_id":27539082,"body_markdown":"1) HashMap&#39;s iterators are NOT fail-safe.  They are fail-fast.  There is a huge difference in meaning between those two terms.  2) There is no `set` operation on a `HashMap`.  3) The `put(...)` operation won&#39;t throw `IllegalArgumentException` if there was a previous change.  4) The fail-fast behaviour of `HashMap` *also* occurs if you change a mapping.  5)  The fail-fast behaviour *is* guaranteed.  (What is not guaranteed is the behaviour of a `HashTable` if you make a concurrent modification.  The actual behaviour is ... unpredictable.)","body":"1) HashMap&#39;s iterators are NOT fail-safe.  They are fail-fast.  There is a huge difference in meaning between those two terms.  2) There is no <code>set</code> operation on a <code>HashMap</code>.  3) The <code>put(...)</code> operation won&#39;t throw <code>IllegalArgumentException</code> if there was a previous change.  4) The fail-fast behaviour of <code>HashMap</code> <i>also</i> occurs if you change a mapping.  5)  The fail-fast behaviour <i>is</i> guaranteed.  (What is not guaranteed is the behaviour of a <code>HashTable</code> if you make a concurrent modification.  The actual behaviour is ... unpredictable.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":31,"creation_date":1378714613,"post_id":7644118,"comment_id":27539136,"body_markdown":"6) `Hashtable` does not guarantee that the order of map elements will be stable over time either.  (You are perhaps confusing `Hashtable` with `LinkedHashMap`.)","body":"6) <code>Hashtable</code> does not guarantee that the order of map elements will be stable over time either.  (You are perhaps confusing <code>Hashtable</code> with <code>LinkedHashMap</code>.)"},{"owner":{"display_name":"user4229245"},"score":5,"creation_date":1430778406,"post_id":7644118,"comment_id":48198037,"body_markdown":"Anyone else really worried that students these days are getting the errant idea that getting &quot;synchronized versions&quot; of the collections somehow means that you don&#39;t have to externally synchronize compound operations?  My favorite example of this being `thing.set(thing.get() + 1);` which more often than not catches newbies by surprise as completely unprotected, especially if the `get()` and `set()` are synchronized methods.  Many of them are expecting magic.","body":"Anyone else really worried that students these days are getting the errant idea that getting &quot;synchronized versions&quot; of the collections somehow means that you don&#39;t have to externally synchronize compound operations?  My favorite example of this being <code>thing.set(thing.get() + 1);</code> which more often than not catches newbies by surprise as completely unprotected, especially if the <code>get()</code> and <code>set()</code> are synchronized methods.  Many of them are expecting magic."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":2,"creation_date":1643998479,"post_id":7644118,"comment_id":125496996,"body_markdown":"Re 4: ConcurrentModificationException is not about threads. It&#39;s about keeping an iterator around and modifying the original collection which may happen in the same thread.","body":"Re 4: ConcurrentModificationException is not about threads. It&#39;s about keeping an iterator around and modifying the original collection which may happen in the same thread."}],"tags":[],"owner":{"account_id":395843,"reputation":5303,"user_id":759012,"display_name":"sravan"},"comment_count":4,"down_vote_count":27,"up_vote_count":258,"is_accepted":false,"score":231,"last_activity_date":1621012566,"creation_date":1317710392,"answer_id":7644118,"question_id":40471,"body_markdown":"This question is often asked in interviews to check whether the candidate understands the correct usage of collection classes and is aware of alternative solutions available.\r\n\r\n 1. The `HashMap` class is roughly equivalent to `Hashtable`, except that it is non synchronized and permits nulls. (`HashMap` allows null values as key and value whereas `Hashtable` doesn&#39;t allow `null`s).\r\n 2. `HashMap` does not guarantee that the order of the map will remain constant over time.\r\n 3. `HashMap` is non synchronized whereas `Hashtable` is synchronized.\r\n 4. Iterator in the `HashMap` is fail-safe while the enumerator for the `Hashtable` is not and throw `ConcurrentModificationException` if any other Thread modifies the map structurally by adding or removing any element except `Iterator`&#39;s own `remove()`  method. But this is not a guaranteed behavior and will be done by JVM on best effort.\r\n\r\nNote on Some Important Terms:\r\n\r\n 1. Synchronized means only one thread can modify a hash table at one point in time. Basically, it means that any thread before performing an update on a `Hashtable` will have to acquire a lock on the object while others will wait for the lock to be released.\r\n 2. Fail-safe is relevant within the context of iterators. If an iterator has been created on a collection object and some other thread tries to modify the collection object &quot;structurally&quot;, a concurrent modification exception will be thrown. It is possible for other threads though to invoke the `set` method since it doesn&#39;t modify the collection &quot;structurally&quot;. However, if prior to calling `set`, the collection has been modified structurally, `IllegalArgumentException` will be thrown.\r\n 3. Structurally modification means deleting or inserting element which could effectively change the structure of the map.\r\n\r\n`HashMap` can be synchronized by\r\n\r\n`Map m = Collections.synchronizeMap(hashMap);`\r\n\r\n\r\n Map provides Collection views instead of direct support for iteration via Enumeration objects. Collection views greatly enhance the expressiveness of the interface, as discussed later in this section. Map allows you to iterate over keys, values, or key-value pairs; `Hashtable` does not provide the third option. Map provides a safe way to remove entries in the midst of iteration; `Hashtable` did not. Finally, Map fixes a minor deficiency in the `Hashtable` interface. `Hashtable` has a method called contains, which returns true if the `Hashtable` contains a given value. Given its name, you&#39;d expect this method to return true if the `Hashtable` contained a given key because the key is the primary access mechanism for a `Hashtable`. The Map interface eliminates this source of confusion by renaming the method `containsValue`. Also, this improves the interface&#39;s consistency — `containsValue` parallels `containsKey`.\r\n\r\n&gt; [The Map Interface][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/interfaces/map.html","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>This question is often asked in interviews to check whether the candidate understands the correct usage of collection classes and is aware of alternative solutions available.</p>\n<ol>\n<li>The <code>HashMap</code> class is roughly equivalent to <code>Hashtable</code>, except that it is non synchronized and permits nulls. (<code>HashMap</code> allows null values as key and value whereas <code>Hashtable</code> doesn't allow <code>null</code>s).</li>\n<li><code>HashMap</code> does not guarantee that the order of the map will remain constant over time.</li>\n<li><code>HashMap</code> is non synchronized whereas <code>Hashtable</code> is synchronized.</li>\n<li>Iterator in the <code>HashMap</code> is fail-safe while the enumerator for the <code>Hashtable</code> is not and throw <code>ConcurrentModificationException</code> if any other Thread modifies the map structurally by adding or removing any element except <code>Iterator</code>'s own <code>remove()</code>  method. But this is not a guaranteed behavior and will be done by JVM on best effort.</li>\n</ol>\n<p>Note on Some Important Terms:</p>\n<ol>\n<li>Synchronized means only one thread can modify a hash table at one point in time. Basically, it means that any thread before performing an update on a <code>Hashtable</code> will have to acquire a lock on the object while others will wait for the lock to be released.</li>\n<li>Fail-safe is relevant within the context of iterators. If an iterator has been created on a collection object and some other thread tries to modify the collection object &quot;structurally&quot;, a concurrent modification exception will be thrown. It is possible for other threads though to invoke the <code>set</code> method since it doesn't modify the collection &quot;structurally&quot;. However, if prior to calling <code>set</code>, the collection has been modified structurally, <code>IllegalArgumentException</code> will be thrown.</li>\n<li>Structurally modification means deleting or inserting element which could effectively change the structure of the map.</li>\n</ol>\n<p><code>HashMap</code> can be synchronized by</p>\n<p><code>Map m = Collections.synchronizeMap(hashMap);</code></p>\n<p>Map provides Collection views instead of direct support for iteration via Enumeration objects. Collection views greatly enhance the expressiveness of the interface, as discussed later in this section. Map allows you to iterate over keys, values, or key-value pairs; <code>Hashtable</code> does not provide the third option. Map provides a safe way to remove entries in the midst of iteration; <code>Hashtable</code> did not. Finally, Map fixes a minor deficiency in the <code>Hashtable</code> interface. <code>Hashtable</code> has a method called contains, which returns true if the <code>Hashtable</code> contains a given value. Given its name, you'd expect this method to return true if the <code>Hashtable</code> contained a given key because the key is the primary access mechanism for a <code>Hashtable</code>. The Map interface eliminates this source of confusion by renaming the method <code>containsValue</code>. Also, this improves the interface's consistency — <code>containsValue</code> parallels <code>containsKey</code>.</p>\n<blockquote>\n<p><a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"noreferrer\">The Map Interface</a></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1635676778,"post_id":8832544,"comment_id":123354561,"body_markdown":"The &quot;new way&quot; also works for Hashtable (as it also implements the map interface).","body":"The &quot;new way&quot; also works for Hashtable (as it also implements the map interface)."},{"owner":{"account_id":106428,"reputation":2040,"user_id":283519,"accept_rate":75,"display_name":"pwes"},"score":0,"creation_date":1635933302,"post_id":8832544,"comment_id":123421775,"body_markdown":"To be precise `Hashtable` implements neither `Map` nor `Iterable` (which is required for &quot;new&quot; foreach syntax). However, `Hashtable.keySet()` returns `Set` which indeed allows for that syntax.","body":"To be precise <code>Hashtable</code> implements neither <code>Map</code> nor <code>Iterable</code> (which is required for &quot;new&quot; foreach syntax). However, <code>Hashtable.keySet()</code> returns <code>Set</code> which indeed allows for that syntax."},{"owner":{"account_id":106428,"reputation":2040,"user_id":283519,"accept_rate":75,"display_name":"pwes"},"score":0,"creation_date":1635933754,"post_id":8832544,"comment_id":123421940,"body_markdown":"**Update**: Well, it **does** implement `Map` in fact... glad to got corrected after so many years in ignorance","body":"<b>Update</b>: Well, it <b>does</b> implement <code>Map</code> in fact... glad to got corrected after so many years in ignorance"}],"tags":[],"owner":{"account_id":106428,"reputation":2040,"user_id":283519,"accept_rate":75,"display_name":"pwes"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1417335110,"creation_date":1326359836,"answer_id":8832544,"question_id":40471,"body_markdown":"Beside all the other important aspects already mentioned here, Collections API (e.g. Map interface) is being modified all the time to conform to the &quot;latest and greatest&quot; additions to Java spec.\r\n\r\nFor example, compare Java 5 Map iterating:\r\n\r\n    for (Elem elem : map.keys()) {\r\n      elem.doSth();\r\n    }\r\n\r\nversus the old Hashtable approach:\r\n\r\n    for (Enumeration en = htable.keys(); en.hasMoreElements(); ) {\r\n      Elem elem = (Elem) en.nextElement();\r\n      elem.doSth();\r\n    }\r\n\r\nIn Java 1.8 we are also promised to be able to construct and access HashMaps like in good old scripting languages:\r\n\r\n    Map&lt;String,Integer&gt; map = { &quot;orange&quot; : 12, &quot;apples&quot; : 15 };\r\n    map[&quot;apples&quot;];\r\n\r\n**Update:** No, they won&#39;t land in 1.8... :(\r\n\r\nhttps://stackoverflow.com/questions/13692213/are-project-coins-collection-enhancements-going-to-be-in-jdk8","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Beside all the other important aspects already mentioned here, Collections API (e.g. Map interface) is being modified all the time to conform to the \"latest and greatest\" additions to Java spec.</p>\n\n<p>For example, compare Java 5 Map iterating:</p>\n\n<pre><code>for (Elem elem : map.keys()) {\n  elem.doSth();\n}\n</code></pre>\n\n<p>versus the old Hashtable approach:</p>\n\n<pre><code>for (Enumeration en = htable.keys(); en.hasMoreElements(); ) {\n  Elem elem = (Elem) en.nextElement();\n  elem.doSth();\n}\n</code></pre>\n\n<p>In Java 1.8 we are also promised to be able to construct and access HashMaps like in good old scripting languages:</p>\n\n<pre><code>Map&lt;String,Integer&gt; map = { \"orange\" : 12, \"apples\" : 15 };\nmap[\"apples\"];\n</code></pre>\n\n<p><strong>Update:</strong> No, they won't land in 1.8... :(</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13692213/are-project-coins-collection-enhancements-going-to-be-in-jdk8\">Are Project Coin&#39;s collection enhancements going to be in JDK8?</a></p>\n"},{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1335707866,"creation_date":1335707866,"answer_id":10372667,"question_id":40471,"body_markdown":"- [HashTable][1] is synchronized, if you are using it in a single thread you can use [HashMap][2], which is an unsynchronized version. Unsynchronized objects are often a little more performant. By the way if multiple threads access a HashMap concurrently, and at least one of the threads modifies the map structurally, it must be synchronized externally. \r\nYoun can wrap a unsynchronized map in a synchronized one using :\r\n\r\n        Map m = Collections.synchronizedMap(new HashMap(...));\r\n\r\n- HashTable can only contain non-null object as a key or as a value. HashMap can contain one null key and null values.\r\n\r\n- The iterators returned by Map are fail-fast, if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own remove method, the iterator will throw a `ConcurrentModificationException`. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future. **Whereas** the Enumerations returned by Hashtable&#39;s keys and elements methods are not fail-fast. \r\n\r\n- HashTable and HashMap are member of the [Java Collections Framework][3] (since Java 2 platform v1.2, HashTable was retrofitted to implement the Map interface).\r\n\r\n- HashTable is considered legacy code, the documentation advise to use [ConcurrentHashMap][4] in place of Hashtable if a thread-safe highly-concurrent implementation is desired.\r\n\r\n- HashMap doesn&#39;t guarantee the order in which elements are returned. For HashTable I guess it&#39;s the same but I&#39;m not entirely sure, I don&#39;t find ressource that clearly state that.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/technotes/guides/collections/index.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html\" rel=\"noreferrer\">HashTable</a> is synchronized, if you are using it in a single thread you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap</a>, which is an unsynchronized version. Unsynchronized objects are often a little more performant. By the way if multiple threads access a HashMap concurrently, and at least one of the threads modifies the map structurally, it must be synchronized externally. \nYoun can wrap a unsynchronized map in a synchronized one using :</p>\n\n<pre><code>Map m = Collections.synchronizedMap(new HashMap(...));\n</code></pre></li>\n<li><p>HashTable can only contain non-null object as a key or as a value. HashMap can contain one null key and null values.</p></li>\n<li><p>The iterators returned by Map are fail-fast, if the map is structurally modified at any time after the iterator is created, in any way except through the iterator's own remove method, the iterator will throw a <code>ConcurrentModificationException</code>. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future. <strong>Whereas</strong> the Enumerations returned by Hashtable's keys and elements methods are not fail-fast. </p></li>\n<li><p>HashTable and HashMap are member of the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/collections/index.html\" rel=\"noreferrer\">Java Collections Framework</a> (since Java 2 platform v1.2, HashTable was retrofitted to implement the Map interface).</p></li>\n<li><p>HashTable is considered legacy code, the documentation advise to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a> in place of Hashtable if a thread-safe highly-concurrent implementation is desired.</p></li>\n<li><p>HashMap doesn't guarantee the order in which elements are returned. For HashTable I guess it's the same but I'm not entirely sure, I don't find ressource that clearly state that.</p></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user1506047"},"comment_count":0,"down_vote_count":6,"up_vote_count":9,"is_accepted":false,"score":3,"last_activity_date":1344515325,"creation_date":1344515325,"answer_id":11883473,"question_id":40471,"body_markdown":"HashMaps gives you freedom of synchronization and debugging is lot more easier","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>HashMaps gives you freedom of synchronization and debugging is lot more easier</p>\n"},{"tags":[],"owner":{"account_id":433589,"reputation":1552,"user_id":819014,"accept_rate":69,"display_name":"Sujan"},"comment_count":0,"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1574444099,"creation_date":1353389753,"answer_id":13467173,"question_id":40471,"body_markdown":"Take a look at this chart. It provides comparisons between different data structures along with `HashMap` and `Hashtable`. The comparison is precise, clear and easy to understand.\r\n\r\n[Java Collection Matrix][1]\r\n\r\n\r\n  [1]: https://docs.google.com/spreadsheet/pub?key=0Aq3e8BiuZY2wdFpHSlV0QzVmV1lUNHJidGd2b0Zrb3c&amp;single=true&amp;gid=0&amp;output=pdf","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Take a look at this chart. It provides comparisons between different data structures along with <code>HashMap</code> and <code>Hashtable</code>. The comparison is precise, clear and easy to understand.</p>\n\n<p><a href=\"https://docs.google.com/spreadsheet/pub?key=0Aq3e8BiuZY2wdFpHSlV0QzVmV1lUNHJidGd2b0Zrb3c&amp;single=true&amp;gid=0&amp;output=pdf\" rel=\"noreferrer\">Java Collection Matrix</a></p>\n"},{"tags":[],"owner":{"account_id":1163881,"reputation":13909,"user_id":1142881,"accept_rate":99,"display_name":"SkyWalker"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1390552504,"creation_date":1355129834,"answer_id":13797704,"question_id":40471,"body_markdown":"`HashMap` and `Hashtable` have significant algorithmic differences as well. No one has mentioned this before so that&#39;s why I am bringing it up. `HashMap` will construct a hash table with power of two size, increase it dynamically such that you have at most about eight elements (collisions) in any bucket and will stir the elements very well for general element types. However, the `Hashtable` implementation provides better and finer control over the hashing if you know what you are doing, namely you can fix the table size using e.g. the closest prime number to your values domain size and this will result in better performance than HashMap i.e. less collisions for some cases.\r\n\r\nSeparate from the obvious differences discussed extensively in this question, I see the Hashtable as a &quot;manual drive&quot; car where you have better control over the hashing and the HashMap as the &quot;automatic drive&quot; counterpart that will generally perform well.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><code>HashMap</code> and <code>Hashtable</code> have significant algorithmic differences as well. No one has mentioned this before so that's why I am bringing it up. <code>HashMap</code> will construct a hash table with power of two size, increase it dynamically such that you have at most about eight elements (collisions) in any bucket and will stir the elements very well for general element types. However, the <code>Hashtable</code> implementation provides better and finer control over the hashing if you know what you are doing, namely you can fix the table size using e.g. the closest prime number to your values domain size and this will result in better performance than HashMap i.e. less collisions for some cases.</p>\n\n<p>Separate from the obvious differences discussed extensively in this question, I see the Hashtable as a \"manual drive\" car where you have better control over the hashing and the HashMap as the \"automatic drive\" counterpart that will generally perform well.</p>\n"},{"comments":[{"owner":{"account_id":887421,"reputation":5160,"user_id":926520,"accept_rate":75,"display_name":"Pankaj"},"score":4,"creation_date":1359407589,"post_id":14452144,"comment_id":20333939,"body_markdown":"HashMap iterator is fail-fast not fail-safe. Thats why we have ConcurrentHashMap that allows modification while iteration. Check this post http://www.journaldev.com/122/hashmap-vs-concurrenthashmap-%e2%80%93-example-and-exploring-iterator","body":"HashMap iterator is fail-fast not fail-safe. Thats why we have ConcurrentHashMap that allows modification while iteration. Check this post <a href=\"http://www.journaldev.com/122/hashmap-vs-concurrenthashmap-%e2%80%93-example-and-exploring-iterator\" rel=\"nofollow noreferrer\">journaldev.com/122/&hellip;</a>"}],"tags":[],"owner":{"account_id":1235727,"reputation":2403,"user_id":1199342,"display_name":"raja"},"comment_count":1,"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1565982524,"creation_date":1358832679,"answer_id":14452144,"question_id":40471,"body_markdown":" 1. `Hashtable` is synchronized whereas `HashMap` is not.\r\n 2. Another difference is that iterator in the `HashMap` is fail-safe\r\n    while the enumerator for the `Hashtable` isn&#39;t. If you change the map\r\n    while iterating, you&#39;ll know.\r\n 3. `HashMap` permits null values in it, while `Hashtable` doesn&#39;t.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<ol>\n<li><code>Hashtable</code> is synchronized whereas <code>HashMap</code> is not.</li>\n<li>Another difference is that iterator in the <code>HashMap</code> is fail-safe\nwhile the enumerator for the <code>Hashtable</code> isn't. If you change the map\nwhile iterating, you'll know.</li>\n<li><code>HashMap</code> permits null values in it, while <code>Hashtable</code> doesn't.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1240815,"reputation":255,"user_id":1203455,"display_name":"Ankit"},"comment_count":0,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1545962718,"creation_date":1359639665,"answer_id":14627155,"question_id":40471,"body_markdown":"HashMap: It is a class available inside java.util package and it is used to store the element in key and value format.\r\n\r\nHashtable: It is a legacy class which is being recognized inside collection framework.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>HashMap: It is a class available inside java.util package and it is used to store the element in key and value format.</p>\n\n<p>Hashtable: It is a legacy class which is being recognized inside collection framework.</p>\n"},{"comments":[{"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"score":1,"creation_date":1438936190,"post_id":16018266,"comment_id":51664156,"body_markdown":"Because I thought the other answers, at the time, didn&#39;t dismiss HashTable but explained that it was threadsafe. The truth is that as soon as you see HashTable in code, you should replace it with ConcurrentHashMap without skipping a beat. And if thread safety is not a concern then HashMap can be used to improve performance a bit.","body":"Because I thought the other answers, at the time, didn&#39;t dismiss HashTable but explained that it was threadsafe. The truth is that as soon as you see HashTable in code, you should replace it with ConcurrentHashMap without skipping a beat. And if thread safety is not a concern then HashMap can be used to improve performance a bit."}],"tags":[],"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1366565242,"creation_date":1366037392,"answer_id":16018266,"question_id":40471,"body_markdown":"[HashTable][1] is a legacy class in the jdk that shouldn&#39;t be used anymore. Replace usages of it with [ConcurrentHashMap][2]. If you don&#39;t require thread safety, use [HashMap][3] which isn&#39;t [threadsafe][4] but faster and uses less memory.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\r\n  [4]: http://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/concurrent/ThreadSafe.html","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html\" rel=\"noreferrer\">HashTable</a> is a legacy class in the jdk that shouldn't be used anymore. Replace usages of it with <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a>. If you don't require thread safety, use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap</a> which isn't <a href=\"http://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/concurrent/ThreadSafe.html\" rel=\"noreferrer\">threadsafe</a> but faster and uses less memory.</p>\n"},{"tags":[],"owner":{"account_id":815542,"reputation":514,"user_id":1162526,"display_name":"pong"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1373882050,"creation_date":1373882050,"answer_id":17651399,"question_id":40471,"body_markdown":"`HashMap` is emulated and therefore usable in `GWT client code` whereas `Hashtable` is not.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><code>HashMap</code> is emulated and therefore usable in <code>GWT client code</code> whereas <code>Hashtable</code> is not.</p>\n"},{"tags":[],"owner":{"account_id":2887509,"reputation":473,"user_id":2476998,"accept_rate":17,"display_name":"Ekanta Swain"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1374594626,"creation_date":1374594626,"answer_id":17815037,"question_id":40471,"body_markdown":"HashMap is a class  used to store the element in key and value format.it is not thread safe.\r\nbecause it is not synchronized .where as Hashtable is synchronized.Hashmap permits null but hastable doesn&#39;t permit null.\r\n","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>HashMap is a class  used to store the element in key and value format.it is not thread safe.\nbecause it is not synchronized .where as Hashtable is synchronized.Hashmap permits null but hastable doesn't permit null.</p>\n"},{"tags":[],"owner":{"account_id":2171736,"reputation":4684,"user_id":1923551,"display_name":"user1923551"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1397144678,"creation_date":1386765949,"answer_id":20519518,"question_id":40471,"body_markdown":"There are 5 basic differentiations with HashTable and HashMaps. \r\n\r\n1. Maps allows you to iterate and retrieve keys, values, and both key-value pairs as well, Where HashTable don&#39;t have all this capability. \r\n2. In Hashtable there is a function contains(), which is very confusing to use. Because the meaning of contains is slightly deviating. Whether it means contains key or contains  value? tough to understand. Same thing in Maps we have ContainsKey() and ContainsValue() functions, which are very easy to understand. \r\n3. In hashmap you can remove element while iterating, safely. where as it is not possible in hashtables.\r\n4. HashTables are by default synchronized, so it can be used with multiple threads easily. Where as HashMaps are not synchronized by default, so can be used with only single thread.  But you can still convert HashMap to synchronized by using Collections util class&#39;s synchronizedMap(Map&lt;K,V&gt; m) function.\r\n5. HashTable won&#39;t allow null keys or null values. Where as HashMap allows one null key, and multiple null values.\r\n\r\n","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>There are 5 basic differentiations with HashTable and HashMaps. </p>\n\n<ol>\n<li>Maps allows you to iterate and retrieve keys, values, and both key-value pairs as well, Where HashTable don't have all this capability. </li>\n<li>In Hashtable there is a function contains(), which is very confusing to use. Because the meaning of contains is slightly deviating. Whether it means contains key or contains  value? tough to understand. Same thing in Maps we have ContainsKey() and ContainsValue() functions, which are very easy to understand. </li>\n<li>In hashmap you can remove element while iterating, safely. where as it is not possible in hashtables.</li>\n<li>HashTables are by default synchronized, so it can be used with multiple threads easily. Where as HashMaps are not synchronized by default, so can be used with only single thread.  But you can still convert HashMap to synchronized by using Collections util class's synchronizedMap(Map m) function.</li>\n<li>HashTable won't allow null keys or null values. Where as HashMap allows one null key, and multiple null values.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3556468,"reputation":390,"user_id":2970123,"accept_rate":75,"display_name":"PetarMI"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1545962656,"creation_date":1394204561,"answer_id":22253585,"question_id":40471,"body_markdown":"Since Hashtable in Java is a subclass of Dictionary class which is now obsolete due to the existence of Map Interface, it is not used anymore. Moreover, there isn&#39;t anything you can&#39;t do with a class that implements the Map Interface that you can do with a Hashtable. ","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Since Hashtable in Java is a subclass of Dictionary class which is now obsolete due to the existence of Map Interface, it is not used anymore. Moreover, there isn't anything you can't do with a class that implements the Map Interface that you can do with a Hashtable. </p>\n"},{"tags":[],"owner":{"account_id":446042,"reputation":12428,"user_id":838841,"accept_rate":100,"display_name":"Shreyos Adikari"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1427039073,"creation_date":1395179216,"answer_id":22491742,"question_id":40471,"body_markdown":"My small contribution :\n\n&gt;1. First and most significant different between `Hashtable` and `HashMap` is that, `HashMap` is not thread-safe  while `Hashtable` is a thread-safe collection.\n&gt;\n&gt;2. Second important difference between `Hashtable` and `HashMap` is performance, since `HashMap` is not synchronized it perform better than `Hashtable`.\n&gt;\n&gt;3. Third difference on `Hashtable` vs `HashMap` is that `Hashtable` is obsolete class and you should be using `ConcurrentHashMap` in place of `Hashtable` in Java.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>My small contribution :</p>\n<blockquote>\n<ol>\n<li><p>First and most significant different between <code>Hashtable</code> and <code>HashMap</code> is that, <code>HashMap</code> is not thread-safe  while <code>Hashtable</code> is a thread-safe collection.</p>\n</li>\n<li><p>Second important difference between <code>Hashtable</code> and <code>HashMap</code> is performance, since <code>HashMap</code> is not synchronized it perform better than <code>Hashtable</code>.</p>\n</li>\n<li><p>Third difference on <code>Hashtable</code> vs <code>HashMap</code> is that <code>Hashtable</code> is obsolete class and you should be using <code>ConcurrentHashMap</code> in place of <code>Hashtable</code> in Java.</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":40011,"reputation":40045,"user_id":115722,"accept_rate":85,"display_name":"pierrotlefou"},"comment_count":0,"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1433310213,"creation_date":1395737881,"answer_id":22629569,"question_id":40471,"body_markdown":"Keep in mind that `HashTable` was legacy class before Java Collections Framework (JCF) was introduced and was later retrofitted to implement the `Map` interface. So was `Vector` and `Stack`. \r\n\r\n**Therefore, always stay away from them in new code since there always better alternative in the JCF** as others had pointed out.\r\n\r\n\r\n\r\nHere is the [Java collection cheat sheet][1] that you will find useful. Notice the gray block contains the legacy class HashTable,Vector and Stack.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://pierrchen.blogspot.com/2014/03/java-collections-framework-cheat-sheet.html\r\n  [2]: http://i.stack.imgur.com/PyflH.png","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Keep in mind that <code>HashTable</code> was legacy class before Java Collections Framework (JCF) was introduced and was later retrofitted to implement the <code>Map</code> interface. So was <code>Vector</code> and <code>Stack</code>. </p>\n\n<p><strong>Therefore, always stay away from them in new code since there always better alternative in the JCF</strong> as others had pointed out.</p>\n\n<p>Here is the <a href=\"http://pierrchen.blogspot.com/2014/03/java-collections-framework-cheat-sheet.html\" rel=\"noreferrer\">Java collection cheat sheet</a> that you will find useful. Notice the gray block contains the legacy class HashTable,Vector and Stack.</p>\n\n<p><img src=\"https://i.stack.imgur.com/PyflH.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":412515,"reputation":749,"user_id":785622,"display_name":"Ioannis Sermetziadis"},"score":2,"creation_date":1508910152,"post_id":24583680,"comment_id":80796289,"body_markdown":"Down-voted because this answer is not correct in some aspects. Hashtable does not implement the Map interface, but only extends the Dictionary class, which is obsolete.","body":"Down-voted because this answer is not correct in some aspects. Hashtable does not implement the Map interface, but only extends the Dictionary class, which is obsolete."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1635677322,"post_id":24583680,"comment_id":123354696,"body_markdown":"@IoannisSermetziadis at least in the [Java 6 API](https://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html), Hashtable also implements the Map interface.","body":"@IoannisSermetziadis at least in the <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html\" rel=\"nofollow noreferrer\">Java 6 API</a>, Hashtable also implements the Map interface."}],"tags":[],"owner":{"account_id":3903322,"reputation":1789,"user_id":3230563,"accept_rate":0,"display_name":"JegsVala"},"comment_count":2,"down_vote_count":5,"up_vote_count":17,"is_accepted":false,"score":12,"last_activity_date":1500994772,"creation_date":1404541677,"answer_id":24583680,"question_id":40471,"body_markdown":"**HashMap and HashTable**    \r\n\r\n - Some important points about HashMap and HashTable.\r\n       please read below details.\r\n\r\n1) Hashtable and Hashmap implement the java.util.Map interface\r\n2) Both Hashmap and Hashtable is the hash based collection. and working on hashing.\r\nso these are similarity of HashMap and HashTable.    \r\n     \r\n\r\n    \r\n\r\n - What is the difference between HashMap and HashTable?\r\n\r\n \r\n \r\n\r\n1) First difference is HashMap is not thread safe While HashTable is ThreadSafe  \r\n2) HashMap is performance wise better because it is not thread safe. while Hashtable performance wise is not better because it is thread safe. so multiple thread can not access Hashtable at the same time.\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><strong>HashMap and HashTable</strong>    </p>\n\n<ul>\n<li>Some important points about HashMap and HashTable.\n   please read below details.</li>\n</ul>\n\n<p>1) Hashtable and Hashmap implement the java.util.Map interface\n2) Both Hashmap and Hashtable is the hash based collection. and working on hashing.\nso these are similarity of HashMap and HashTable.    </p>\n\n<ul>\n<li>What is the difference between HashMap and HashTable?</li>\n</ul>\n\n<p>1) First difference is HashMap is not thread safe While HashTable is ThreadSafe<br>\n2) HashMap is performance wise better because it is not thread safe. while Hashtable performance wise is not better because it is thread safe. so multiple thread can not access Hashtable at the same time.</p>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1490383640,"post_id":25348157,"comment_id":73104845,"body_markdown":"ConcurrentHashMap is not read-synchronized, whereas Hashtable is.  So if you have a high amount of read operations happening simultaneously with writes, a Hashtable would serve you better if you care about data integrity.","body":"ConcurrentHashMap is not read-synchronized, whereas Hashtable is.  So if you have a high amount of read operations happening simultaneously with writes, a Hashtable would serve you better if you care about data integrity."}],"tags":[],"owner":{"account_id":3128716,"reputation":347,"user_id":2647077,"display_name":"Night0"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1438848290,"creation_date":1408269518,"answer_id":25348157,"question_id":40471,"body_markdown":"Old and classic topic, just want to add this helpful blog that explains this:\r\n\r\n[http://blog.manishchhabra.com/2012/08/the-5-main-differences-betwen-hashmap-and-hashtable/][1]\r\n\r\nBlog by Manish Chhabra\r\n\r\n&gt; The 5 main differences betwen HashMap and Hashtable\r\n&gt; \r\n&gt; HashMap and Hashtable both implement java.util.Map interface but there\r\n&gt; are some differences that Java developers must understand to write\r\n&gt; more efficient code. As of the Java 2 platform v1.2, Hashtable class\r\n&gt; was retrofitted to implement the Map interface, making it a member of\r\n&gt; the Java Collections Framework.\r\n&gt; \r\n&gt; 1. One of the major differences between HashMap and Hashtable is that HashMap is non-synchronized whereas Hashtable is synchronized, which\r\n&gt; means Hashtable is thread-safe and can be shared between multiple\r\n&gt; threads but HashMap cannot be shared between multiple threads without\r\n&gt; proper synchronization. Java 5 introduced ConcurrentHashMap which is\r\n&gt; an alternative of Hashtable and provides better scalability than\r\n&gt; Hashtable in Java.Synchronized means only one thread can modify a hash\r\n&gt; table at one point of time. Basically, it means that any thread before\r\n&gt; performing an update on a hashtable will have to acquire a lock on the\r\n&gt; object while others will wait for lock to be released.\r\n&gt; \r\n&gt; 2. The HashMap class is roughly equivalent to Hashtable, except that it permits nulls. (HashMap allows null values as key and value whereas\r\n&gt; Hashtable doesn’t allow nulls).\r\n&gt; \r\n&gt; 3. The third significant difference between HashMap vs Hashtable is that Iterator in the HashMap is a fail-fast iterator while the\r\n&gt; enumerator for the Hashtable is not and throw\r\n&gt; ConcurrentModificationException if any other Thread modifies the map\r\n&gt; structurally by adding or removing any element except Iterator’s own\r\n&gt; remove() method. But this is not a guaranteed behavior and will be\r\n&gt; done by JVM on best effort. This is also an important difference\r\n&gt; between Enumeration and Iterator in Java.\r\n&gt; \r\n&gt; 4. One more notable difference between Hashtable and HashMap is that because of thread-safety and synchronization Hashtable is much slower\r\n&gt; than HashMap if used in Single threaded environment. So if you don’t\r\n&gt; need synchronization and HashMap is only used by one thread, it out\r\n&gt; perform Hashtable in Java.\r\n&gt; \r\n&gt; 5. HashMap does not guarantee that the order of the map will remain constant over time.\r\n&gt; \r\n&gt; Note that HashMap can be synchronized by\r\n&gt; \r\n&gt;     Map m = Collections.synchronizedMap(hashMap);\r\n&gt; \r\n&gt; In Summary there are significant differences between Hashtable and\r\n&gt; HashMap in Java e.g. thread-safety and speed and based upon that only\r\n&gt; use Hashtable if you absolutely need thread-safety, if you are running\r\n&gt; Java 5 consider using ConcurrentHashMap in Java.\r\n\r\n\r\n  [1]: http://blog.manishchhabra.com/2012/08/the-5-main-differences-betwen-hashmap-and-hashtable/","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Old and classic topic, just want to add this helpful blog that explains this:</p>\n\n<p><a href=\"http://blog.manishchhabra.com/2012/08/the-5-main-differences-betwen-hashmap-and-hashtable/\" rel=\"noreferrer\">http://blog.manishchhabra.com/2012/08/the-5-main-differences-betwen-hashmap-and-hashtable/</a></p>\n\n<p>Blog by Manish Chhabra</p>\n\n<blockquote>\n  <p>The 5 main differences betwen HashMap and Hashtable</p>\n  \n  <p>HashMap and Hashtable both implement java.util.Map interface but there\n  are some differences that Java developers must understand to write\n  more efficient code. As of the Java 2 platform v1.2, Hashtable class\n  was retrofitted to implement the Map interface, making it a member of\n  the Java Collections Framework.</p>\n  \n  <ol>\n  <li><p>One of the major differences between HashMap and Hashtable is that HashMap is non-synchronized whereas Hashtable is synchronized, which\n  means Hashtable is thread-safe and can be shared between multiple\n  threads but HashMap cannot be shared between multiple threads without\n  proper synchronization. Java 5 introduced ConcurrentHashMap which is\n  an alternative of Hashtable and provides better scalability than\n  Hashtable in Java.Synchronized means only one thread can modify a hash\n  table at one point of time. Basically, it means that any thread before\n  performing an update on a hashtable will have to acquire a lock on the\n  object while others will wait for lock to be released.</p></li>\n  <li><p>The HashMap class is roughly equivalent to Hashtable, except that it permits nulls. (HashMap allows null values as key and value whereas\n  Hashtable doesn’t allow nulls).</p></li>\n  <li><p>The third significant difference between HashMap vs Hashtable is that Iterator in the HashMap is a fail-fast iterator while the\n  enumerator for the Hashtable is not and throw\n  ConcurrentModificationException if any other Thread modifies the map\n  structurally by adding or removing any element except Iterator’s own\n  remove() method. But this is not a guaranteed behavior and will be\n  done by JVM on best effort. This is also an important difference\n  between Enumeration and Iterator in Java.</p></li>\n  <li><p>One more notable difference between Hashtable and HashMap is that because of thread-safety and synchronization Hashtable is much slower\n  than HashMap if used in Single threaded environment. So if you don’t\n  need synchronization and HashMap is only used by one thread, it out\n  perform Hashtable in Java.</p></li>\n  <li><p>HashMap does not guarantee that the order of the map will remain constant over time.</p></li>\n  </ol>\n  \n  <p>Note that HashMap can be synchronized by</p>\n\n<pre><code>Map m = Collections.synchronizedMap(hashMap);\n</code></pre>\n  \n  <p>In Summary there are significant differences between Hashtable and\n  HashMap in Java e.g. thread-safety and speed and based upon that only\n  use Hashtable if you absolutely need thread-safety, if you are running\n  Java 5 consider using ConcurrentHashMap in Java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4945915,"reputation":545,"user_id":3981269,"accept_rate":31,"display_name":"Rahul Tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1427039033,"creation_date":1409138981,"answer_id":25526024,"question_id":40471,"body_markdown":"1.`Hashmap` and `HashTable` both store key and value. \r\n\r\n2.`Hashmap` can store one key as `null`. `Hashtable` can&#39;t store `null`.\r\n \r\n3.`HashMap` is not synchronized but `Hashtable` is synchronized. \r\n\r\n4.`HashMap` can be synchronized with `Collection.SyncronizedMap(map)`\r\n\r\n    Map hashmap = new HashMap();\r\n    \r\n    Map map = Collections.SyncronizedMap(hashmap);","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>1.<code>Hashmap</code> and <code>HashTable</code> both store key and value. </p>\n\n<p>2.<code>Hashmap</code> can store one key as <code>null</code>. <code>Hashtable</code> can't store <code>null</code>.</p>\n\n<p>3.<code>HashMap</code> is not synchronized but <code>Hashtable</code> is synchronized. </p>\n\n<p>4.<code>HashMap</code> can be synchronized with <code>Collection.SyncronizedMap(map)</code></p>\n\n<pre><code>Map hashmap = new HashMap();\n\nMap map = Collections.SyncronizedMap(hashmap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1461663976,"creation_date":1423554271,"answer_id":28426488,"question_id":40471,"body_markdown":"**`Hashtable:`**\r\n\r\n**Hashtable** is a data structure that retains values of key-value pair. It doesn’t allow null for both the keys and the values. You will get a `NullPointerException` if you add null value. It is synchronized. So it comes with its cost. Only one thread can access **HashTable** at a particular time.\r\n\r\n**Example** :\r\n\r\n    import java.util.Map;\r\n    import java.util.Hashtable;\r\n     \r\n    public class TestClass {\r\n     \r\n        public static void main(String args[ ]) {\r\n        Map&lt;Integer,String&gt; states= new Hashtable&lt;Integer,String&gt;();\r\n        states.put(1, &quot;INDIA&quot;);\r\n        states.put(2, &quot;USA&quot;);\r\n         \r\n        states.put(3, null);    //will throw NullPointerEcxeption at runtime\r\n             \r\n        System.out.println(states.get(1));\r\n        System.out.println(states.get(2));\r\n    //  System.out.println(states.get(3));\r\n     \r\n        }\r\n    }\r\n\r\n**HashMap:**\r\n\r\n**HashMap** is like **Hashtable** but it also accepts key value pair. It allows null for both the keys and the values. Its performance better is better than `HashTable`, because it is `unsynchronized`.\r\n\r\n**Example:**\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n     \r\n    public class TestClass {\r\n     \r\n        public static void main(String args[ ]) {\r\n        Map&lt;Integer,String&gt; states = new HashMap&lt;Integer,String&gt;();\r\n        states.put(1, &quot;INDIA&quot;);\r\n        states.put(2, &quot;USA&quot;);\r\n         \r\n        states.put(3, null);    // Okay\r\n        states.put(null,&quot;UK&quot;);\r\n         \r\n        System.out.println(states.get(1));\r\n        System.out.println(states.get(2));\r\n        System.out.println(states.get(3));\r\n     \r\n        }\r\n    }","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><strong><code>Hashtable:</code></strong></p>\n\n<p><strong>Hashtable</strong> is a data structure that retains values of key-value pair. It doesn’t allow null for both the keys and the values. You will get a <code>NullPointerException</code> if you add null value. It is synchronized. So it comes with its cost. Only one thread can access <strong>HashTable</strong> at a particular time.</p>\n\n<p><strong>Example</strong> :</p>\n\n<pre><code>import java.util.Map;\nimport java.util.Hashtable;\n\npublic class TestClass {\n\n    public static void main(String args[ ]) {\n    Map&lt;Integer,String&gt; states= new Hashtable&lt;Integer,String&gt;();\n    states.put(1, \"INDIA\");\n    states.put(2, \"USA\");\n\n    states.put(3, null);    //will throw NullPointerEcxeption at runtime\n\n    System.out.println(states.get(1));\n    System.out.println(states.get(2));\n//  System.out.println(states.get(3));\n\n    }\n}\n</code></pre>\n\n<p><strong>HashMap:</strong></p>\n\n<p><strong>HashMap</strong> is like <strong>Hashtable</strong> but it also accepts key value pair. It allows null for both the keys and the values. Its performance better is better than <code>HashTable</code>, because it is <code>unsynchronized</code>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class TestClass {\n\n    public static void main(String args[ ]) {\n    Map&lt;Integer,String&gt; states = new HashMap&lt;Integer,String&gt;();\n    states.put(1, \"INDIA\");\n    states.put(2, \"USA\");\n\n    states.put(3, null);    // Okay\n    states.put(null,\"UK\");\n\n    System.out.println(states.get(1));\n    System.out.println(states.get(2));\n    System.out.println(states.get(3));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4318219,"reputation":537,"user_id":3527383,"accept_rate":43,"display_name":"amitguptageek"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460263590,"creation_date":1452018942,"answer_id":34618895,"question_id":40471,"body_markdown":"**Synchronization or Thread Safe** :\r\n\r\nHash Map is not synchronized hence it is not thred safe and it cannot be shared between multiple threads without proper synchronized block whereas, Hashtable is synchronized and hence it is thread safe.\r\n\r\n**Null keys and null values** :\r\n\r\nHashMap allows one null key and any number of null values.Hashtable does not allow null keys or values. \r\n\r\n**Iterating the values**:\r\n\r\nIterator in the HashMap is a fail-fast iterator while the enumerator for the Hashtable is not and throw ConcurrentModificationException if any other Thread modifies the map structurally by adding or removing any element except Iterator’s own remove() method.\r\n\r\n**Superclass and Legacy** :\r\n\r\nHashMap is subclass of AbstractMap class whereas Hashtable is subclass of Dictionary class.\r\n\r\n**Performance** :\r\n\r\nAs HashMap is not synchronized it is faster as compared to Hashtable.\r\n\r\nRefer http://modernpathshala.com/Article/1020/difference-between-hashmap-and-hashtable-in-java for examples and interview questions and quiz related to  Java collection","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><strong>Synchronization or Thread Safe</strong> :</p>\n\n<p>Hash Map is not synchronized hence it is not thred safe and it cannot be shared between multiple threads without proper synchronized block whereas, Hashtable is synchronized and hence it is thread safe.</p>\n\n<p><strong>Null keys and null values</strong> :</p>\n\n<p>HashMap allows one null key and any number of null values.Hashtable does not allow null keys or values. </p>\n\n<p><strong>Iterating the values</strong>:</p>\n\n<p>Iterator in the HashMap is a fail-fast iterator while the enumerator for the Hashtable is not and throw ConcurrentModificationException if any other Thread modifies the map structurally by adding or removing any element except Iterator’s own remove() method.</p>\n\n<p><strong>Superclass and Legacy</strong> :</p>\n\n<p>HashMap is subclass of AbstractMap class whereas Hashtable is subclass of Dictionary class.</p>\n\n<p><strong>Performance</strong> :</p>\n\n<p>As HashMap is not synchronized it is faster as compared to Hashtable.</p>\n\n<p>Refer <a href=\"http://modernpathshala.com/Article/1020/difference-between-hashmap-and-hashtable-in-java\" rel=\"nofollow\">http://modernpathshala.com/Article/1020/difference-between-hashmap-and-hashtable-in-java</a> for examples and interview questions and quiz related to  Java collection</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1635677053,"post_id":37031553,"comment_id":123354625,"body_markdown":"Of course, this tree only helps when the hash codes of the keys are actually different and just fall into the same bucket, not when you actually get many keys with the same hash code.","body":"Of course, this tree only helps when the hash codes of the keys are actually different and just fall into the same bucket, not when you actually get many keys with the same hash code."}],"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1462374255,"creation_date":1462374255,"answer_id":37031553,"question_id":40471,"body_markdown":"Apart from the differences already mentioned, it should be noted that since Java 8, `HashMap` dynamically replaces the Nodes (linked list) used in each bucket with TreeNodes (red-black tree), so that even if high hash collisions exist, the worst case *when searching* is\r\n\r\nO(log(n)) for `HashMap` **Vs** O(n) in `Hashtable`.\r\n\r\n*The aforementioned improvement has not been applied to `Hashtable` yet, but only to `HashMap`, `LinkedHashMap`, and `ConcurrentHashMap`.\r\n\r\nFYI, currently,\r\n\r\n - `TREEIFY_THRESHOLD = 8` : if a bucket contains more than 8 nodes, the linked list is transformed into a balanced tree.\r\n - `UNTREEIFY_THRESHOLD = 6` : when a bucket becomes too small (due to removal or resizing) the tree is converted back to linked list.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>Apart from the differences already mentioned, it should be noted that since Java 8, <code>HashMap</code> dynamically replaces the Nodes (linked list) used in each bucket with TreeNodes (red-black tree), so that even if high hash collisions exist, the worst case <em>when searching</em> is</p>\n\n<p>O(log(n)) for <code>HashMap</code> <strong>Vs</strong> O(n) in <code>Hashtable</code>.</p>\n\n<p>*The aforementioned improvement has not been applied to <code>Hashtable</code> yet, but only to <code>HashMap</code>, <code>LinkedHashMap</code>, and <code>ConcurrentHashMap</code>.</p>\n\n<p>FYI, currently,</p>\n\n<ul>\n<li><code>TREEIFY_THRESHOLD = 8</code> : if a bucket contains more than 8 nodes, the linked list is transformed into a balanced tree.</li>\n<li><code>UNTREEIFY_THRESHOLD = 6</code> : when a bucket becomes too small (due to removal or resizing) the tree is converted back to linked list.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1490383753,"post_id":42622789,"comment_id":73104912,"body_markdown":"Why do you say ~&quot;**Hashtable is a legacy class**&quot;?  Where is the supporting documentation for that.","body":"Why do you say ~&quot;<b>Hashtable is a legacy class</b>&quot;?  Where is the supporting documentation for that."},{"owner":{"account_id":3294291,"reputation":1162,"user_id":2771888,"accept_rate":44,"display_name":"Abdul"},"score":0,"creation_date":1532916350,"post_id":42622789,"comment_id":90137708,"body_markdown":"Maintaining HashMap is costly than TreeMap. Because HashMap creates unnecessary extra buckets.","body":"Maintaining HashMap is costly than TreeMap. Because HashMap creates unnecessary extra buckets."},{"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"score":0,"creation_date":1612451717,"post_id":42622789,"comment_id":116776002,"body_markdown":"A LinkedHashMap has a doubly-linked list of entries, not of buckets. Buckets are accessible via array indices and need not be linked.","body":"A LinkedHashMap has a doubly-linked list of entries, not of buckets. Buckets are accessible via array indices and need not be linked."},{"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"score":0,"creation_date":1656529550,"post_id":42622789,"comment_id":128598121,"body_markdown":"A 2016 study by Pereira et al. has found that Hashtable is faster than HashMap for most methods, most notably for containsKey, get, put, and remove (arXiv:1602.00984). So your claims &quot;HashMap is fast&quot; and &quot;Hastable is slow&quot; are most likely false.","body":"A 2016 study by Pereira et al. has found that Hashtable is faster than HashMap for most methods, most notably for containsKey, get, put, and remove (arXiv:1602.00984). So your claims &quot;HashMap is fast&quot; and &quot;Hastable is slow&quot; are most likely false."},{"owner":{"account_id":13889174,"reputation":2896,"user_id":10027592,"display_name":"starriet"},"score":0,"creation_date":1658618270,"post_id":42622789,"comment_id":129096838,"body_markdown":"I think the expressions &quot;can/can&#39;t be shared between many threads&quot; can be misleading to beginners. &quot;can&#39;t be shared&quot; does not mean literally can not be shared. Maybe it&#39;d be better to say &quot;should not be shared&quot;. But I&#39;m not a native English speaker, so... :)","body":"I think the expressions &quot;can/can&#39;t be shared between many threads&quot; can be misleading to beginners. &quot;can&#39;t be shared&quot; does not mean literally can not be shared. Maybe it&#39;d be better to say &quot;should not be shared&quot;. But I&#39;m not a native English speaker, so... :)"}],"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"comment_count":5,"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1622289194,"creation_date":1488794984,"answer_id":42622789,"question_id":40471,"body_markdown":"There are many good answers already posted. I&#39;m adding few new points and summarizing it.\r\n\r\n`HashMap` and `Hashtable` both are used to store *data in key and value form*. Both are using hashing technique to store unique keys.\r\nBut there are many differences between HashMap and Hashtable classes that are given below.\r\n\r\n**HashMap**\t\r\n\r\n1. ``HashMap`` is non synchronized. It is not-thread safe and can&#39;t be shared between many threads without proper synchronization code. \t\r\n2. ``HashMap`` allows one null key and multiple null values.\t\r\n3. `HashMap` is a new class introduced in JDK 1.2.\t\r\n4. `HashMap` is fast.\t\r\n5. We can make the `HashMap` as synchronized by calling this code   \r\n         `Map m = Collections.synchronizedMap(HashMap);\t `  \r\n6. `HashMap` is traversed by Iterator.\t\r\n7. Iterator in `HashMap` is fail-fast.\t\r\n8. `HashMap` inherits AbstractMap class.\t\r\n\r\n**Hashtable**\r\n\r\n1. `Hashtable` is synchronized. It is thread-safe and can be shared with many threads.  \r\n2. `Hashtable` doesn&#39;t allow null key or value.  \r\n3. `Hashtable` is a legacy class.  \r\n4. `Hashtable` is slow.  \r\n5. `Hashtable` is internally synchronized and can&#39;t be unsynchronized.  \r\n6. `Hashtable` is traversed by Enumerator and Iterator.  \r\n7. Enumerator in `Hashtable` is not fail-fast.  \r\n8. `Hashtable` inherits Dictionary class.\r\n\r\nFurther reading [What is difference between HashMap and Hashtable in Java?][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.in/2010/10/difference-between-hashmap-and.html\r\n  [2]: https://i.stack.imgur.com/sDoih.png","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>There are many good answers already posted. I'm adding few new points and summarizing it.</p>\n<p><code>HashMap</code> and <code>Hashtable</code> both are used to store <em>data in key and value form</em>. Both are using hashing technique to store unique keys.\nBut there are many differences between HashMap and Hashtable classes that are given below.</p>\n<p><strong>HashMap</strong></p>\n<ol>\n<li><code>HashMap</code> is non synchronized. It is not-thread safe and can't be shared between many threads without proper synchronization code.</li>\n<li><code>HashMap</code> allows one null key and multiple null values.</li>\n<li><code>HashMap</code> is a new class introduced in JDK 1.2.</li>\n<li><code>HashMap</code> is fast.</li>\n<li>We can make the <code>HashMap</code> as synchronized by calling this code<br />\n<code>Map m = Collections.synchronizedMap(HashMap);  </code></li>\n<li><code>HashMap</code> is traversed by Iterator.</li>\n<li>Iterator in <code>HashMap</code> is fail-fast.</li>\n<li><code>HashMap</code> inherits AbstractMap class.</li>\n</ol>\n<p><strong>Hashtable</strong></p>\n<ol>\n<li><code>Hashtable</code> is synchronized. It is thread-safe and can be shared with many threads.</li>\n<li><code>Hashtable</code> doesn't allow null key or value.</li>\n<li><code>Hashtable</code> is a legacy class.</li>\n<li><code>Hashtable</code> is slow.</li>\n<li><code>Hashtable</code> is internally synchronized and can't be unsynchronized.</li>\n<li><code>Hashtable</code> is traversed by Enumerator and Iterator.</li>\n<li>Enumerator in <code>Hashtable</code> is not fail-fast.</li>\n<li><code>Hashtable</code> inherits Dictionary class.</li>\n</ol>\n<p>Further reading <a href=\"http://javarevisited.blogspot.in/2010/10/difference-between-hashmap-and.html\" rel=\"noreferrer\">What is difference between HashMap and Hashtable in Java?</a></p>\n<p><a href=\"https://i.stack.imgur.com/sDoih.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sDoih.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5295682,"reputation":379,"user_id":4226914,"display_name":"KIBOU Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492789315,"creation_date":1492789315,"answer_id":43546846,"question_id":40471,"body_markdown":"The Hashtable class is synchronized, that is, it is designed to be used by applications that handle multiple or multithreaded process. Synchronized classes are less efficient in the classical case of an application to a process, so the Hashmap class is faster in general.\r\nThe HashTable class does not accept the Null value, either for keys or for values, while the HashMap class allows a single key with Null and as many as null as possible.","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>The Hashtable class is synchronized, that is, it is designed to be used by applications that handle multiple or multithreaded process. Synchronized classes are less efficient in the classical case of an application to a process, so the Hashmap class is faster in general.\nThe HashTable class does not accept the Null value, either for keys or for values, while the HashMap class allows a single key with Null and as many as null as possible.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1684105786,"creation_date":1515067124,"answer_id":48094803,"question_id":40471,"body_markdown":"*A [`Collection`](https://docs.oracle.com/javase/tutorial/collections/intro/index.html) — sometimes called a container — is simply an object that groups multiple elements into a single unit. `Collections` are used to store, retrieve, manipulate, and communicate aggregate data. A collections framework &lt;sup&gt;[W](https://en.wikipedia.org/wiki/Java_collections_framework)&lt;/sup&gt; is a unified architecture for representing and manipulating collections.*\r\n\r\nThe `HashMap` &lt;sup&gt;[_`JDK1.2`_](https://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html)&lt;/sup&gt; and Hashtable &lt;sup&gt;[_`JDK1.0`_](https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html)&lt;/sup&gt;, both are used to represent a group of objects that are represented in `&lt;Key, Value&gt;` pair. Each `&lt;Key, Value&gt;` pair is called `Entry` object. The collection of Entries is referred by the object of `HashMap` and `Hashtable`. Keys in a collection must be unique or distinctive. [as they are used to retrieve a mapped value a particular key. values in a collection can be duplicated.]\r\n\r\n-----\r\n\r\n**&#171;** **Superclass, Legacy and Collection Framework member**\r\n\r\n *Hashtable is a legacy class introduced in `JDK1.0`, which is a subclass of Dictionary class. From `JDK1.2` Hashtable is re-engineered to implement the [Map interface](https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html) to make a member of collection framework. HashMap is a member of Java Collection Framework right from the beginning of its introduction in `JDK1.2`. HashMap is the subclass of the AbstractMap class.*\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n \r\n    public class Hashtable&lt;K,V&gt; extends Dictionary&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable { ... }\r\n    \r\n    public class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable { ... }\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n**&#171;** **Initial capacity and Load factor**\r\n\r\n *The capacity is the number of buckets in the Hashtable, and the initial capacity is simply the capacity at the time the Hashtable is created. Note that the Hashtable is open: in the case of a [hash collision](http://www.algolist.net/Data_structures/Hash_table/Chaining), a single bucket stores multiple entries, which must be searched sequentially. The load factor is a measure of how full the Hashtable is allowed to get before its capacity is automatically increased.*\r\n    \r\n _HashMap constructs an empty Hashtable with the default initial capacity **(16)** and the default load factor (0.75). Where as Hashtable constructs empty Hashtable with a default initial capacity **(11)** and load factor/fill ratio (0.75)._\r\n\r\n[![Hash Map &amp; Hashtable][1]][1]\r\n\r\n**&#171;** **Structural modification in case of hash collision**\r\n\r\n  _`HashMap`, `Hashtable` in case of hash collisions they store the map entries in linked lists. **From Java8 for `HashMap`** if hash bucket grows beyond a certain threshold, that bucket will switch from [`linked list of entries to a balanced tree`](http://openjdk.java.net/jeps/180). which improve worst-case performance from O(n) to O(log n). While converting the list to binary tree, hashcode is used as a branching variable. If there are two different hashcodes in the same bucket, one is considered bigger and goes to the right of the tree and other one to the left. But when both the hashcodes are equal, `HashMap` assumes that the keys are comparable, and compares the key to determine the direction so that some order can be maintained. It is a good practice to make the keys of `HashMap` [comparable](https://stackoverflow.com/a/31244596/5081877). On adding entries if bucket size reaches `TREEIFY_THRESHOLD = 8` convert linked list of entries to a balanced tree, on removing entries less than `TREEIFY_THRESHOLD`  and at most `UNTREEIFY_THRESHOLD = 6` will reconvert  balanced tree to linked list of entries. &lt;sup&gt;[Java 8 SRC](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java#l244), [stackpost](https://stackoverflow.com/a/43911638/5081877)&lt;/sup&gt;_\r\n\r\n\r\n**&#171;** **Collection-view iteration, Fail-Fast and Fail-Safe**\r\n\r\n     \r\n        +--------------------+-----------+-------------+\r\n        |                    | Iterator  | Enumeration |\r\n        +--------------------+-----------+-------------+\r\n        | Hashtable          | fail-fast |    safe     |\r\n        +--------------------+-----------+-------------+\r\n        | HashMap            | fail-fast | fail-fast   |\r\n        +--------------------+-----------+-------------+\r\n        | ConcurrentHashMap  |   safe    |   safe      |\r\n        +--------------------+-----------+-------------+\r\n\r\n    \r\n[`Iterator`](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html) is a fail-fast in nature. i.e it throws ConcurrentModificationException if a collection is modified while iterating other than it’s own remove() method. Where as [`Enumeration`](https://docs.oracle.com/javase/8/docs/api/java/util/Enumeration.html) is fail-safe in nature. It doesn’t throw any exceptions if a collection is modified while iterating. \r\n\r\nAccording to Java API Docs, Iterator is always preferred over the Enumeration. \r\n\r\n&lt;sub&gt;&lt;b&gt;NOTE:&lt;/b&gt; The functionality of Enumeration interface is duplicated by the Iterator interface. In addition, Iterator adds an optional remove operation, and has shorter method names. New implementations should consider using Iterator in preference to Enumeration.&lt;/sub&gt;\r\n\r\nIn [Java 5 introduced ConcurrentMap Interface](https://docs.oracle.com/javase/8/docs/technotes/guides/collections/changes5.html): `ConcurrentHashMap` - a highly concurrent, high-performance `ConcurrentMap` implementation backed by a hash table. This implementation never blocks when performing retrievals and allows the client to select the concurrency level for updates. It is intended as a drop-in replacement for `Hashtable`: in addition to implementing `ConcurrentMap`, it supports all of the &quot;legacy&quot; methods peculiar to `Hashtable`.\r\n    \r\n * Each `HashMapEntry`s value is [volatile](https://stackoverflow.com/a/47695757/5081877) thereby ensuring fine grain consistency for contended modifications and subsequent reads; each read reflects the most recently completed update\r\n    \r\n * Iterators and Enumerations are Fail Safe - reflecting the state at some point since the creation of iterator/enumeration; this allows for simultaneous reads and modifications at the cost of reduced consistency. They do not throw ConcurrentModificationException. However, iterators are designed to be used by only one thread at a time.\r\n\r\n * **_Like `Hashtable` but unlike `HashMap`, this class does not allow null to be used as a key or value._**\r\n    \r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        //HashMap&lt;String, Integer&gt; hash = new HashMap&lt;String, Integer&gt;();\r\n        Hashtable&lt;String, Integer&gt; hash = new Hashtable&lt;String, Integer&gt;();\r\n        //ConcurrentHashMap&lt;String, Integer&gt; hash = new ConcurrentHashMap&lt;&gt;();\r\n        \r\n        new Thread() {\r\n            @Override public void run() {\r\n                try {\r\n                    for (int i = 10; i &lt; 20; i++) {\r\n                        sleepThread(1);\r\n                        System.out.println(&quot;T1 :- Key&quot;+i);\r\n                        hash.put(&quot;Key&quot;+i, i);\r\n                    }\r\n                    System.out.println( System.identityHashCode( hash ) );\r\n                } catch ( Exception e ) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }.start();\r\n        new Thread() {\r\n            @Override public void run() {\r\n                try {\r\n                    sleepThread(5);\r\n                    // ConcurrentHashMap  traverse using Iterator, Enumeration is Fail-Safe.\r\n                    \r\n                    // Hashtable traverse using Enumeration is Fail-Safe, Iterator is Fail-Fast.\r\n                    for (Enumeration&lt;String&gt; e = hash.keys(); e.hasMoreElements(); ) {\r\n                        sleepThread(1);\r\n                        System.out.println(&quot;T2 : &quot;+ e.nextElement());\r\n                    }\r\n                    \r\n                    // HashMap traverse using Iterator, Enumeration is Fail-Fast.\r\n                    /*\r\n                    for (Iterator&lt; Entry&lt;String, Integer&gt; &gt; it = hash.entrySet().iterator(); it.hasNext(); ) {\r\n                        sleepThread(1);\r\n                        System.out.println(&quot;T2 : &quot;+ it.next());\r\n                        // ConcurrentModificationException at java.util.Hashtable$Enumerator.next\r\n                    }\r\n                    */\r\n                    \r\n                    /*\r\n                    Set&lt; Entry&lt;String, Integer&gt; &gt; entrySet = hash.entrySet();\r\n                    Iterator&lt; Entry&lt;String, Integer&gt; &gt; it = entrySet.iterator();\r\n                    Enumeration&lt;Entry&lt;String, Integer&gt;&gt; entryEnumeration = Collections.enumeration( entrySet );\r\n                    while( entryEnumeration.hasMoreElements() ) {\r\n                        sleepThread(1);\r\n                        Entry&lt;String, Integer&gt; nextElement = entryEnumeration.nextElement();\r\n                        System.out.println(&quot;T2 : &quot;+ nextElement.getKey() +&quot; : &quot;+ nextElement.getValue() );\r\n                        //java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextNode\r\n                        //                                          at java.util.HashMap$EntryIterator.next\r\n                        //                                          at java.util.Collections$3.nextElement\r\n                    }\r\n                    */\r\n                } catch ( Exception e ) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }.start();\r\n        \r\n        Map&lt;String, String&gt; unmodifiableMap = Collections.unmodifiableMap( map );\r\n        try {\r\n            unmodifiableMap.put(&quot;key4&quot;, &quot;unmodifiableMap&quot;);\r\n        } catch (java.lang.UnsupportedOperationException e) {\r\n            System.err.println(&quot;UnsupportedOperationException : &quot;+ e.getMessage() );\r\n        }\r\n    }\r\n    static void sleepThread( int sec ) {\r\n        try {\r\n            Thread.sleep( 1000 * sec );\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n**&#171;** **Null Keys And Null Values**\r\n\r\n  `HashMap` allows maximum one null key and any number of null values. Where as `Hashtable` doesn’t allow even a single null key and null value, if the key or value null is then it throws NullPointerException. &lt;sup&gt;[Example](https://stackoverflow.com/a/31243387/5081877)&lt;/sup&gt;\r\n  \r\n**&#171;** **Synchronized, Thread Safe**\r\n\r\n  `Hashtable` is internally synchronized. Therefore, it is very much safe to use `Hashtable` in multi threaded applications. Where as `HashMap` is not internally synchronized. Therefore, it is not safe to use `HashMap` in multi threaded applications without external synchronization. You can externally synchronize `HashMap` using `Collections.synchronizedMap()` method.\r\n\r\n**&#171;** **Performance**\r\n\r\n  As `Hashtable` is internally synchronized, this makes `Hashtable` slightly slower than the `HashMap`.\r\n\r\n-----\r\n\r\n@See\r\n\r\n * [A red–black tree is a kind of self-balancing binary search tree](https://en.wikipedia.org/wiki/Red%E2%80%93black_tree)\r\n * [Performance Improvement for `HashMap` in Java 8](https://www.nagarro.com/de/perspectives/post/24/performance-improvement-for-hashmap-in-java-8)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AerdR.png","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><em>A <a href=\"https://docs.oracle.com/javase/tutorial/collections/intro/index.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a> — sometimes called a container — is simply an object that groups multiple elements into a single unit. <code>Collections</code> are used to store, retrieve, manipulate, and communicate aggregate data. A collections framework <sup><a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">W</a></sup> is a unified architecture for representing and manipulating collections.</em></p>\n<p>The <code>HashMap</code> <sup><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html\" rel=\"nofollow noreferrer\"><em><code>JDK1.2</code></em></a></sup> and Hashtable <sup><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><em><code>JDK1.0</code></em></a></sup>, both are used to represent a group of objects that are represented in <code>&lt;Key, Value&gt;</code> pair. Each <code>&lt;Key, Value&gt;</code> pair is called <code>Entry</code> object. The collection of Entries is referred by the object of <code>HashMap</code> and <code>Hashtable</code>. Keys in a collection must be unique or distinctive. [as they are used to retrieve a mapped value a particular key. values in a collection can be duplicated.]</p>\n<hr />\n<p><strong>«</strong> <strong>Superclass, Legacy and Collection Framework member</strong></p>\n<p><em>Hashtable is a legacy class introduced in <code>JDK1.0</code>, which is a subclass of Dictionary class. From <code>JDK1.2</code> Hashtable is re-engineered to implement the <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">Map interface</a> to make a member of collection framework. HashMap is a member of Java Collection Framework right from the beginning of its introduction in <code>JDK1.2</code>. HashMap is the subclass of the AbstractMap class.</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Hashtable&lt;K,V&gt; extends Dictionary&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable { ... }\n\npublic class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable { ... }\n</code></pre>\n\n<p><strong>«</strong> <strong>Initial capacity and Load factor</strong></p>\n<p><em>The capacity is the number of buckets in the Hashtable, and the initial capacity is simply the capacity at the time the Hashtable is created. Note that the Hashtable is open: in the case of a <a href=\"http://www.algolist.net/Data_structures/Hash_table/Chaining\" rel=\"nofollow noreferrer\">hash collision</a>, a single bucket stores multiple entries, which must be searched sequentially. The load factor is a measure of how full the Hashtable is allowed to get before its capacity is automatically increased.</em></p>\n<p><em>HashMap constructs an empty Hashtable with the default initial capacity <strong>(16)</strong> and the default load factor (0.75). Where as Hashtable constructs empty Hashtable with a default initial capacity <strong>(11)</strong> and load factor/fill ratio (0.75).</em></p>\n<p><a href=\"https://i.stack.imgur.com/AerdR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AerdR.png\" alt=\"Hash Map &amp; Hashtable\" /></a></p>\n<p><strong>«</strong> <strong>Structural modification in case of hash collision</strong></p>\n<p><em><code>HashMap</code>, <code>Hashtable</code> in case of hash collisions they store the map entries in linked lists. <strong>From Java8 for <code>HashMap</code></strong> if hash bucket grows beyond a certain threshold, that bucket will switch from <a href=\"http://openjdk.java.net/jeps/180\" rel=\"nofollow noreferrer\"><code>linked list of entries to a balanced tree</code></a>. which improve worst-case performance from O(n) to O(log n). While converting the list to binary tree, hashcode is used as a branching variable. If there are two different hashcodes in the same bucket, one is considered bigger and goes to the right of the tree and other one to the left. But when both the hashcodes are equal, <code>HashMap</code> assumes that the keys are comparable, and compares the key to determine the direction so that some order can be maintained. It is a good practice to make the keys of <code>HashMap</code> <a href=\"https://stackoverflow.com/a/31244596/5081877\">comparable</a>. On adding entries if bucket size reaches <code>TREEIFY_THRESHOLD = 8</code> convert linked list of entries to a balanced tree, on removing entries less than <code>TREEIFY_THRESHOLD</code>  and at most <code>UNTREEIFY_THRESHOLD = 6</code> will reconvert  balanced tree to linked list of entries. <sup><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java#l244\" rel=\"nofollow noreferrer\">Java 8 SRC</a>, <a href=\"https://stackoverflow.com/a/43911638/5081877\">stackpost</a></sup></em></p>\n<p><strong>«</strong> <strong>Collection-view iteration, Fail-Fast and Fail-Safe</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    +--------------------+-----------+-------------+\n    |                    | Iterator  | Enumeration |\n    +--------------------+-----------+-------------+\n    | Hashtable          | fail-fast |    safe     |\n    +--------------------+-----------+-------------+\n    | HashMap            | fail-fast | fail-fast   |\n    +--------------------+-----------+-------------+\n    | ConcurrentHashMap  |   safe    |   safe      |\n    +--------------------+-----------+-------------+\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a> is a fail-fast in nature. i.e it throws ConcurrentModificationException if a collection is modified while iterating other than it’s own remove() method. Where as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Enumeration.html\" rel=\"nofollow noreferrer\"><code>Enumeration</code></a> is fail-safe in nature. It doesn’t throw any exceptions if a collection is modified while iterating.</p>\n<p>According to Java API Docs, Iterator is always preferred over the Enumeration.</p>\n<p><sub><b>NOTE:</b> The functionality of Enumeration interface is duplicated by the Iterator interface. In addition, Iterator adds an optional remove operation, and has shorter method names. New implementations should consider using Iterator in preference to Enumeration.</sub></p>\n<p>In <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/collections/changes5.html\" rel=\"nofollow noreferrer\">Java 5 introduced ConcurrentMap Interface</a>: <code>ConcurrentHashMap</code> - a highly concurrent, high-performance <code>ConcurrentMap</code> implementation backed by a hash table. This implementation never blocks when performing retrievals and allows the client to select the concurrency level for updates. It is intended as a drop-in replacement for <code>Hashtable</code>: in addition to implementing <code>ConcurrentMap</code>, it supports all of the &quot;legacy&quot; methods peculiar to <code>Hashtable</code>.</p>\n<ul>\n<li><p>Each <code>HashMapEntry</code>s value is <a href=\"https://stackoverflow.com/a/47695757/5081877\">volatile</a> thereby ensuring fine grain consistency for contended modifications and subsequent reads; each read reflects the most recently completed update</p>\n</li>\n<li><p>Iterators and Enumerations are Fail Safe - reflecting the state at some point since the creation of iterator/enumeration; this allows for simultaneous reads and modifications at the cost of reduced consistency. They do not throw ConcurrentModificationException. However, iterators are designed to be used by only one thread at a time.</p>\n</li>\n<li><p><strong><em>Like <code>Hashtable</code> but unlike <code>HashMap</code>, this class does not allow null to be used as a key or value.</em></strong></p>\n</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    //HashMap&lt;String, Integer&gt; hash = new HashMap&lt;String, Integer&gt;();\n    Hashtable&lt;String, Integer&gt; hash = new Hashtable&lt;String, Integer&gt;();\n    //ConcurrentHashMap&lt;String, Integer&gt; hash = new ConcurrentHashMap&lt;&gt;();\n    \n    new Thread() {\n        @Override public void run() {\n            try {\n                for (int i = 10; i &lt; 20; i++) {\n                    sleepThread(1);\n                    System.out.println(&quot;T1 :- Key&quot;+i);\n                    hash.put(&quot;Key&quot;+i, i);\n                }\n                System.out.println( System.identityHashCode( hash ) );\n            } catch ( Exception e ) {\n                e.printStackTrace();\n            }\n        }\n    }.start();\n    new Thread() {\n        @Override public void run() {\n            try {\n                sleepThread(5);\n                // ConcurrentHashMap  traverse using Iterator, Enumeration is Fail-Safe.\n                \n                // Hashtable traverse using Enumeration is Fail-Safe, Iterator is Fail-Fast.\n                for (Enumeration&lt;String&gt; e = hash.keys(); e.hasMoreElements(); ) {\n                    sleepThread(1);\n                    System.out.println(&quot;T2 : &quot;+ e.nextElement());\n                }\n                \n                // HashMap traverse using Iterator, Enumeration is Fail-Fast.\n                /*\n                for (Iterator&lt; Entry&lt;String, Integer&gt; &gt; it = hash.entrySet().iterator(); it.hasNext(); ) {\n                    sleepThread(1);\n                    System.out.println(&quot;T2 : &quot;+ it.next());\n                    // ConcurrentModificationException at java.util.Hashtable$Enumerator.next\n                }\n                */\n                \n                /*\n                Set&lt; Entry&lt;String, Integer&gt; &gt; entrySet = hash.entrySet();\n                Iterator&lt; Entry&lt;String, Integer&gt; &gt; it = entrySet.iterator();\n                Enumeration&lt;Entry&lt;String, Integer&gt;&gt; entryEnumeration = Collections.enumeration( entrySet );\n                while( entryEnumeration.hasMoreElements() ) {\n                    sleepThread(1);\n                    Entry&lt;String, Integer&gt; nextElement = entryEnumeration.nextElement();\n                    System.out.println(&quot;T2 : &quot;+ nextElement.getKey() +&quot; : &quot;+ nextElement.getValue() );\n                    //java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextNode\n                    //                                          at java.util.HashMap$EntryIterator.next\n                    //                                          at java.util.Collections$3.nextElement\n                }\n                */\n            } catch ( Exception e ) {\n                e.printStackTrace();\n            }\n        }\n    }.start();\n    \n    Map&lt;String, String&gt; unmodifiableMap = Collections.unmodifiableMap( map );\n    try {\n        unmodifiableMap.put(&quot;key4&quot;, &quot;unmodifiableMap&quot;);\n    } catch (java.lang.UnsupportedOperationException e) {\n        System.err.println(&quot;UnsupportedOperationException : &quot;+ e.getMessage() );\n    }\n}\nstatic void sleepThread( int sec ) {\n    try {\n        Thread.sleep( 1000 * sec );\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p><strong>«</strong> <strong>Null Keys And Null Values</strong></p>\n<p><code>HashMap</code> allows maximum one null key and any number of null values. Where as <code>Hashtable</code> doesn’t allow even a single null key and null value, if the key or value null is then it throws NullPointerException. <sup><a href=\"https://stackoverflow.com/a/31243387/5081877\">Example</a></sup></p>\n<p><strong>«</strong> <strong>Synchronized, Thread Safe</strong></p>\n<p><code>Hashtable</code> is internally synchronized. Therefore, it is very much safe to use <code>Hashtable</code> in multi threaded applications. Where as <code>HashMap</code> is not internally synchronized. Therefore, it is not safe to use <code>HashMap</code> in multi threaded applications without external synchronization. You can externally synchronize <code>HashMap</code> using <code>Collections.synchronizedMap()</code> method.</p>\n<p><strong>«</strong> <strong>Performance</strong></p>\n<p>As <code>Hashtable</code> is internally synchronized, this makes <code>Hashtable</code> slightly slower than the <code>HashMap</code>.</p>\n<hr />\n<p>@See</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Red%E2%80%93black_tree\" rel=\"nofollow noreferrer\">A red–black tree is a kind of self-balancing binary search tree</a></li>\n<li><a href=\"https://www.nagarro.com/de/perspectives/post/24/performance-improvement-for-hashmap-in-java-8\" rel=\"nofollow noreferrer\">Performance Improvement for <code>HashMap</code> in Java 8</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10719390,"reputation":2300,"user_id":7888956,"display_name":"Chathuran D"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1572435142,"creation_date":1572435142,"answer_id":58624450,"question_id":40471,"body_markdown":"**HashMap** and **Hashtable** both are used to store data in key and value form. Both are using hashing technique to store unique keys.\r\nut there are many differences between HashMap and Hashtable classes that are given below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mLpKn.png","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p><strong>HashMap</strong> and <strong>Hashtable</strong> both are used to store data in key and value form. Both are using hashing technique to store unique keys.\nut there are many differences between HashMap and Hashtable classes that are given below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mLpKn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mLpKn.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":3051,"reputation":51703,"user_id":4316,"accept_rate":100,"display_name":"dmanxiii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1736004,"favorite_count":0,"down_vote_count":8,"up_vote_count":4312,"accepted_answer_id":40878,"answer_count":35,"score":4304,"last_activity_date":1696168668,"creation_date":1220386320,"question_id":40471,"body_markdown":"What are the differences between a [`HashMap`][map] and a [`Hashtable`][table] in Java?\r\n\r\nWhich is more efficient for non-threaded applications?\r\n\r\n[map]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\r\n[table]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html","title":"What are the differences between a HashMap and a Hashtable in Java?","body":"<p>What are the differences between a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> and a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html\" rel=\"noreferrer\"><code>Hashtable</code></a> in Java?</p>\n\n<p>Which is more efficient for non-threaded applications?</p>\n"},{"tags":["java","spring-boot","memcached","jhipster","spring-cache"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1451833749,"post_id":34577936,"comment_id":56900668,"body_markdown":"Do you have the same `class` on your classpath twice? Or do you have it loaded from multiple classloaders (or example in a WebApp environment). The usual cause for a class cannot be cast to itself issues is that the classes are loaded from different places...","body":"Do you have the same <code>class</code> on your classpath twice? Or do you have it loaded from multiple classloaders (or example in a WebApp environment). The usual cause for a class cannot be cast to itself issues is that the classes are loaded from different places..."},{"owner":{"account_id":4742078,"reputation":6224,"user_id":3834478,"display_name":"sisyphus"},"score":2,"creation_date":1451833813,"post_id":34577936,"comment_id":56900691,"body_markdown":"At a guess, it looks like some kind of ClassLoader issue. Looks like you&#39;ve got two different classloaders which have loaded the same class.","body":"At a guess, it looks like some kind of ClassLoader issue. Looks like you&#39;ve got two different classloaders which have loaded the same class."},{"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"score":1,"creation_date":1451834389,"post_id":34577936,"comment_id":56900866,"body_markdown":"@sisyphus i use spring boot + devtools. I read some where devtools keeps  one class loader for static jars and one for application code. Would this cause issue?","body":"@sisyphus i use spring boot + devtools. I read some where devtools keeps  one class loader for static jars and one for application code. Would this cause issue?"},{"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"score":2,"creation_date":1451834723,"post_id":34577936,"comment_id":56900983,"body_markdown":"@BoristheSpider Yes that&#39;s it, i removed spring-boot-devtools and its working. Thanks Guys","body":"@BoristheSpider Yes that&#39;s it, i removed spring-boot-devtools and its working. Thanks Guys"},{"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"score":0,"creation_date":1451837298,"post_id":34577936,"comment_id":56901852,"body_markdown":"Should I raise an issue with spring-boot. as per the their guidelines they are watching this tag. Also I don&#39;t think this is fixable, please suggest.","body":"Should I raise an issue with spring-boot. as per the their guidelines they are watching this tag. Also I don&#39;t think this is fixable, please suggest."},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":0,"creation_date":1451841030,"post_id":34577936,"comment_id":56903201,"body_markdown":"I just did. This isn&#39;t an issue we&#39;re not aware of so it does not need a new issue.","body":"I just did. This isn&#39;t an issue we&#39;re not aware of so it does not need a new issue."},{"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"score":0,"creation_date":1696168697,"post_id":34577936,"comment_id":136116206,"body_markdown":"See below I posted an answer, please see if it might help you in your case","body":"See below I posted an answer, please see if it might help you in your case"}],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1451840985,"creation_date":1451840985,"answer_id":34579221,"question_id":34577936,"body_markdown":"This is [a known limitation of Devtools](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-known-restart-limitations). When the cache entry is deserialized, the object is not attached to the proper classloader.\r\n\r\nThere are various ways you can fix this issue:\r\n\r\n1. Disable cache when you&#39;re running your application in development\r\n2. Use a different cache manager (if you&#39;re using Spring Boot 1.3, you could force a `simple` cache manager using the `spring.cache.type` property in `application-dev.properties` and enable the dev profile in your IDE)\r\n3. Configure memcached (and things that are cached) to [run in the application classloader](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload). I wouldn&#39;t recommend that option since the two first above are much easier to implement","title":"spring-boot-devtools causing ClassCastException while getting from cache.","body":"<p>This is <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-known-restart-limitations\" rel=\"noreferrer\">a known limitation of Devtools</a>. When the cache entry is deserialized, the object is not attached to the proper classloader.</p>\n\n<p>There are various ways you can fix this issue:</p>\n\n<ol>\n<li>Disable cache when you're running your application in development</li>\n<li>Use a different cache manager (if you're using Spring Boot 1.3, you could force a <code>simple</code> cache manager using the <code>spring.cache.type</code> property in <code>application-dev.properties</code> and enable the dev profile in your IDE)</li>\n<li>Configure memcached (and things that are cached) to <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload\" rel=\"noreferrer\">run in the application classloader</a>. I wouldn't recommend that option since the two first above are much easier to implement</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9692548,"reputation":61,"user_id":7190169,"display_name":"Arny"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484922683,"creation_date":1484922683,"answer_id":41766003,"question_id":34577936,"body_markdown":"Well I got the same error, but the caching was not the reason. Actually I was using caching, but the commenting the caching out didn&#39;t help.\r\n\r\nBased on the hints here and there I just introduced additional serialization/derialization of my object. It&#39;s definatelly the best way (the performance issue), but it&#39;s working.\r\n\r\nSo, just for the others I changed my code from:\r\n\r\n    \r\n    @Cacheable(&quot;tests&quot;)\r\n\tpublic MyDTO loadData(String testID) {\r\n\t\t// add file extension to match XML file\r\n\t\treturn (MyDTO) this.xmlMarshaller.loadXML(String.format(&quot;%s/%s.xml&quot;, xmlPath, testID));\r\n\t}\r\n\r\nto:\r\n\r\n    @Cacheable(&quot;tests&quot;)\r\n\tpublic MyDTO loadData(String testID) {\r\n\t\t// add file extension to match XML file\r\n\t\tObject dtoObject = this.xmlMarshaller.loadXML(String.format(&quot;%s/%s.xml&quot;, xmlPath, testID));\r\n\t\tbyte[] data = serializeDTO(dtoObject);\r\n\t\tMyDTO dto = deserializeDTO(data);\r\n\t\treturn dto;\r\n\t}\r\n\r\n\tprivate MyDTO deserializeDTO(byte[] data) {\r\n\t\tMyDTO dto = null;\r\n\t\ttry {\r\n\t\t\tByteArrayInputStream fileIn = new ByteArrayInputStream(data);\r\n\t\t\tObjectInputStream in = new ConfigurableObjectInputStream(fileIn,\r\n\t\t\t\t\tThread.currentThread().getContextClassLoader());\r\n\t\t\tdto = (MyDTO) in.readObject();\r\n\t\t\tin.close();\r\n\t\t\tfileIn.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tString msg = &quot;Deserialization of marshalled XML failed!&quot;;\r\n\t\t\tLOG.error(msg, e);\r\n\t\t\tthrow new RuntimeException(msg, e);\r\n\t\t}\r\n\t\treturn dto;\r\n\t}\r\n\t\r\n\tprivate byte[] serializeDTO(Object dtoObject) {\r\n\t\tbyte[] result = null;\r\n\t\ttry {\r\n\t\t\tByteArrayOutputStream data = new ByteArrayOutputStream();\r\n\t\t\tObjectOutputStream out = new ObjectOutputStream(data);\r\n\t\t\tout.writeObject(dtoObject);\r\n\t\t\tout.close();\r\n\t\t\tresult = data.toByteArray();\r\n\t\t\tdata.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tString msg = &quot;Serialization of marshalled XML failed!&quot;;\r\n\t\t\tLOG.error(msg, e);\r\n\t\t\tthrow new RuntimeException(msg, e);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n*Note: this is not any sofisticated solution, but just the hint of usage ConfigurableObjectInputStream class.*","title":"spring-boot-devtools causing ClassCastException while getting from cache.","body":"<p>Well I got the same error, but the caching was not the reason. Actually I was using caching, but the commenting the caching out didn't help.</p>\n\n<p>Based on the hints here and there I just introduced additional serialization/derialization of my object. It's definatelly the best way (the performance issue), but it's working.</p>\n\n<p>So, just for the others I changed my code from:</p>\n\n<pre><code>@Cacheable(\"tests\")\npublic MyDTO loadData(String testID) {\n    // add file extension to match XML file\n    return (MyDTO) this.xmlMarshaller.loadXML(String.format(\"%s/%s.xml\", xmlPath, testID));\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>@Cacheable(\"tests\")\npublic MyDTO loadData(String testID) {\n    // add file extension to match XML file\n    Object dtoObject = this.xmlMarshaller.loadXML(String.format(\"%s/%s.xml\", xmlPath, testID));\n    byte[] data = serializeDTO(dtoObject);\n    MyDTO dto = deserializeDTO(data);\n    return dto;\n}\n\nprivate MyDTO deserializeDTO(byte[] data) {\n    MyDTO dto = null;\n    try {\n        ByteArrayInputStream fileIn = new ByteArrayInputStream(data);\n        ObjectInputStream in = new ConfigurableObjectInputStream(fileIn,\n                Thread.currentThread().getContextClassLoader());\n        dto = (MyDTO) in.readObject();\n        in.close();\n        fileIn.close();\n    } catch (Exception e) {\n        String msg = \"Deserialization of marshalled XML failed!\";\n        LOG.error(msg, e);\n        throw new RuntimeException(msg, e);\n    }\n    return dto;\n}\n\nprivate byte[] serializeDTO(Object dtoObject) {\n    byte[] result = null;\n    try {\n        ByteArrayOutputStream data = new ByteArrayOutputStream();\n        ObjectOutputStream out = new ObjectOutputStream(data);\n        out.writeObject(dtoObject);\n        out.close();\n        result = data.toByteArray();\n        data.close();\n    } catch (IOException e) {\n        String msg = \"Serialization of marshalled XML failed!\";\n        LOG.error(msg, e);\n        throw new RuntimeException(msg, e);\n    }\n\n    return result;\n}\n</code></pre>\n\n<p><em>Note: this is not any sofisticated solution, but just the hint of usage ConfigurableObjectInputStream class.</em></p>\n"},{"tags":[],"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545428127,"creation_date":1545428127,"answer_id":53891027,"question_id":34577936,"body_markdown":"I was running into this same issue when running a project in eclipse with the STS plugin enabled. Even though I removed the devtools dependency completely from the project. It was still enabled in eclipse. To fix this, I had to disable devtools. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VvGZF.png","title":"spring-boot-devtools causing ClassCastException while getting from cache.","body":"<p>I was running into this same issue when running a project in eclipse with the STS plugin enabled. Even though I removed the devtools dependency completely from the project. It was still enabled in eclipse. To fix this, I had to disable devtools. </p>\n\n<p><a href=\"https://i.stack.imgur.com/VvGZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VvGZF.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696168328,"creation_date":1696167974,"answer_id":77210730,"question_id":34577936,"body_markdown":"The problem is that when you are using the devtools the ClassLoader get set to a different one `org.springframework.boot.devtools.restart.classloader.RestartClassLoader` then the Cache Provider / Framework you are using. \r\n\r\nIn case you are using JCache or EhCache you simple initialize the Cache Manager by making sure that you are using the same class loader. \r\n\r\nMore information and background can be found [here][1]\r\n\r\n```\r\nimport javax.cache.CacheManager;\r\nimport javax.cache.Caching;\r\nimport javax.cache.spi.CachingProvider;\r\n\r\n@Configuration\r\n@EnableCaching\r\n@Slf4j\r\npublic class CachingConfiguration {\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tpublic CacheManager myCacheManager() {\r\n     \r\n    // The trick is to use &quot;Thread.currentThread().getContextClassLoader()&quot;\r\n    // which overwrites the default class loader set internally by the cache provider\r\n    // with this you ensure both Class loaders are the same when you are using the devtools \r\n\r\n\t\tCachingProvider provider = Caching.getCachingProvider();\r\n\t\tCacheManager cacheManager = provider.getCacheManager(provider.getDefaultURI(), Thread.currentThread().getContextClassLoader());\r\n\t\treturn cacheManager;\r\n\t}\r\n\r\n\r\n    // Optional - in the same class or separate class you can verify the \r\n    // reload which gets initiated by the devtools. So you can check if the \r\n    // Class loader of your cache Manager and the one currently used by the\r\n    // Spring Framework is the same\r\n    \r\n    @Autowired\r\n\t@Lazy\r\n\tCacheManager cacheManager;\r\n\r\n    @EventListener\r\n\tpublic void handleContextRefreshEvent(ContextRefreshedEvent ctxEvt) {\t\t\t\r\n        ClassLoader loader1 = Thread.currentThread().getContextClassLoader();\r\n\t\tClassLoader loader2 = cacheManager.getClassLoader();\r\n\t\tlog.debug(&quot;{} = {}&quot;, loader1, loader2);\r\n\t}\r\n}\r\n```\r\n\r\nThe expected output should then be\r\n\r\n```\r\norg.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262 = org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262\r\n```\r\n\r\n\r\n  [1]: https://segmentfault.com/a/1190000041647471/en","title":"spring-boot-devtools causing ClassCastException while getting from cache.","body":"<p>The problem is that when you are using the devtools the ClassLoader get set to a different one <code>org.springframework.boot.devtools.restart.classloader.RestartClassLoader</code> then the Cache Provider / Framework you are using.</p>\n<p>In case you are using JCache or EhCache you simple initialize the Cache Manager by making sure that you are using the same class loader.</p>\n<p>More information and background can be found <a href=\"https://segmentfault.com/a/1190000041647471/en\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>import javax.cache.CacheManager;\nimport javax.cache.Caching;\nimport javax.cache.spi.CachingProvider;\n\n@Configuration\n@EnableCaching\n@Slf4j\npublic class CachingConfiguration {\n\n    @Bean\n    @Primary\n    public CacheManager myCacheManager() {\n     \n    // The trick is to use &quot;Thread.currentThread().getContextClassLoader()&quot;\n    // which overwrites the default class loader set internally by the cache provider\n    // with this you ensure both Class loaders are the same when you are using the devtools \n\n        CachingProvider provider = Caching.getCachingProvider();\n        CacheManager cacheManager = provider.getCacheManager(provider.getDefaultURI(), Thread.currentThread().getContextClassLoader());\n        return cacheManager;\n    }\n\n\n    // Optional - in the same class or separate class you can verify the \n    // reload which gets initiated by the devtools. So you can check if the \n    // Class loader of your cache Manager and the one currently used by the\n    // Spring Framework is the same\n    \n    @Autowired\n    @Lazy\n    CacheManager cacheManager;\n\n    @EventListener\n    public void handleContextRefreshEvent(ContextRefreshedEvent ctxEvt) {           \n        ClassLoader loader1 = Thread.currentThread().getContextClassLoader();\n        ClassLoader loader2 = cacheManager.getClassLoader();\n        log.debug(&quot;{} = {}&quot;, loader1, loader2);\n    }\n}\n</code></pre>\n<p>The expected output should then be</p>\n<pre><code>org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262 = org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3478e262\n</code></pre>\n"}],"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7648,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":34579221,"answer_count":4,"score":10,"last_activity_date":1696168328,"creation_date":1451833461,"question_id":34577936,"body_markdown":"I am facing issue while getting value from cache. \r\n\r\n    java.lang.RuntimeException: java.lang.ClassCastException: com.mycom.admin.domain.User cannot be cast to com.mycom.admin.domain.User\r\n\r\n\r\nCache Configuration\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    @AutoConfigureAfter(value = { MetricsConfiguration.class, DatabaseConfiguration.class })\r\n    @Profile(&quot;!&quot; + Constants.SPRING_PROFILE_FAST)\r\n    public class MemcachedCacheConfiguration extends CachingConfigurerSupport {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(MemcachedCacheConfiguration.class);\r\n    \r\n        @Override\r\n        @Bean\r\n        public CacheManager cacheManager() {\r\n            ExtendedSSMCacheManager cacheManager = new ExtendedSSMCacheManager();\r\n            try {\r\n                List&lt;SSMCache&gt; list = new ArrayList&lt;&gt;();\r\n                list.add(new SSMCache(defaultCache(&quot;apiCache&quot;), 86400, false));\r\n                cacheManager.setCaches(list);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return cacheManager;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public CacheResolver cacheResolver() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public CacheErrorHandler errorHandler() {\r\n            return null;\r\n        }\r\n    \r\n        private Cache defaultCache(String cacheName) throws Exception {\r\n            CacheFactory cacheFactory = new CacheFactory();\r\n            cacheFactory.setCacheName(cacheName);\r\n            cacheFactory.setCacheClientFactory(new MemcacheClientFactoryImpl());\r\n            String serverHost = &quot;127.0.0.1:11211&quot;;\r\n            cacheFactory.setAddressProvider(new DefaultAddressProvider(serverHost));\r\n            cacheFactory.setConfiguration(cacheConfiguration());\r\n            return cacheFactory.getObject();\r\n        }\r\n    \r\n        @Bean\r\n        public CacheConfiguration cacheConfiguration() {\r\n            CacheConfiguration cacheConfiguration = new CacheConfiguration();\r\n            cacheConfiguration.setConsistentHashing(true);\r\n            return cacheConfiguration;\r\n        }\r\n    \r\n    }\r\n\r\nAnd annotated with \r\n\r\n    @Cacheable(value = &quot;apiCache#86400&quot;, key = &quot;&#39;User-&#39;.concat(#login)&quot;)\r\n\r\nI am using com.google.code.simple-spring-memcached 3.5.0\r\n\r\nValue is getting cached but while getting application throws class cast error. What would be the possible issues. \r\n\r\n[Full stack trace][1]\r\n\r\n\r\n  [1]: http://pastebin.com/uMxCigQ7","title":"spring-boot-devtools causing ClassCastException while getting from cache.","body":"<p>I am facing issue while getting value from cache. </p>\n\n<pre><code>java.lang.RuntimeException: java.lang.ClassCastException: com.mycom.admin.domain.User cannot be cast to com.mycom.admin.domain.User\n</code></pre>\n\n<p>Cache Configuration</p>\n\n<pre><code>@Configuration\n@EnableCaching\n@AutoConfigureAfter(value = { MetricsConfiguration.class, DatabaseConfiguration.class })\n@Profile(\"!\" + Constants.SPRING_PROFILE_FAST)\npublic class MemcachedCacheConfiguration extends CachingConfigurerSupport {\n\n    private final Logger log = LoggerFactory.getLogger(MemcachedCacheConfiguration.class);\n\n    @Override\n    @Bean\n    public CacheManager cacheManager() {\n        ExtendedSSMCacheManager cacheManager = new ExtendedSSMCacheManager();\n        try {\n            List&lt;SSMCache&gt; list = new ArrayList&lt;&gt;();\n            list.add(new SSMCache(defaultCache(\"apiCache\"), 86400, false));\n            cacheManager.setCaches(list);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return cacheManager;\n    }\n\n\n    @Override\n    public CacheResolver cacheResolver() {\n        return null;\n    }\n\n    @Override\n    public CacheErrorHandler errorHandler() {\n        return null;\n    }\n\n    private Cache defaultCache(String cacheName) throws Exception {\n        CacheFactory cacheFactory = new CacheFactory();\n        cacheFactory.setCacheName(cacheName);\n        cacheFactory.setCacheClientFactory(new MemcacheClientFactoryImpl());\n        String serverHost = \"127.0.0.1:11211\";\n        cacheFactory.setAddressProvider(new DefaultAddressProvider(serverHost));\n        cacheFactory.setConfiguration(cacheConfiguration());\n        return cacheFactory.getObject();\n    }\n\n    @Bean\n    public CacheConfiguration cacheConfiguration() {\n        CacheConfiguration cacheConfiguration = new CacheConfiguration();\n        cacheConfiguration.setConsistentHashing(true);\n        return cacheConfiguration;\n    }\n\n}\n</code></pre>\n\n<p>And annotated with </p>\n\n<pre><code>@Cacheable(value = \"apiCache#86400\", key = \"'User-'.concat(#login)\")\n</code></pre>\n\n<p>I am using com.google.code.simple-spring-memcached 3.5.0</p>\n\n<p>Value is getting cached but while getting application throws class cast error. What would be the possible issues. </p>\n\n<p><a href=\"http://pastebin.com/uMxCigQ7\" rel=\"noreferrer\">Full stack trace</a></p>\n"},{"tags":["java","corda","corda-flow"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1696168300,"post_id":77197011,"comment_id":136116155,"body_markdown":"Was the Java version upgraded recently?","body":"Was the Java version upgraded recently?"},{"owner":{"account_id":8837519,"reputation":85,"user_id":6601135,"display_name":"mcapptivate"},"score":0,"creation_date":1696262150,"post_id":77197011,"comment_id":136127447,"body_markdown":"No. I&#39;m still on Java 11 as it&#39;s stated in the documentation.","body":"No. I&#39;m still on Java 11 as it&#39;s stated in the documentation."}],"answers":[{"tags":[],"owner":{"account_id":6569975,"reputation":305,"user_id":5078374,"display_name":"shpitc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696168066,"creation_date":1696168066,"answer_id":77210736,"question_id":77197011,"body_markdown":"I belive that your dependencies libraries require sandbox security policy adjustments. You can find more explanations here:\r\n\r\nhttps://docs.r3.com/en/platform/corda/5.0/deploying-operating/config/security-policies.html","title":"Corda 5 Exception","body":"<p>I belive that your dependencies libraries require sandbox security policy adjustments. You can find more explanations here:</p>\n<p><a href=\"https://docs.r3.com/en/platform/corda/5.0/deploying-operating/config/security-policies.html\" rel=\"nofollow noreferrer\">https://docs.r3.com/en/platform/corda/5.0/deploying-operating/config/security-policies.html</a></p>\n"}],"owner":{"account_id":8837519,"reputation":85,"user_id":6601135,"display_name":"mcapptivate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696168066,"creation_date":1695920969,"question_id":77197011,"body_markdown":"*I get this error when calling flow management API in corda 5 `/flow/{{short_hash}}`.*\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;flowStatusResponses&quot;: [\r\n        {\r\n          &quot;holdingIdentityShortHash&quot;: &quot;4558C1BAA9F2&quot;,\r\n          &quot;clientRequestId&quot;: &quot;test-flow-1&quot;,\r\n          &quot;flowId&quot;: &quot;c05a1690-fa8e-46b4-a026-825205f086b5&quot;,\r\n          &quot;flowStatus&quot;: &quot;FAILED&quot;,\r\n          &quot;flowResult&quot;: null,\r\n          &quot;flowError&quot;: {\r\n            &quot;type&quot;: &quot;FLOW_FAILED&quot;,\r\n            &quot;message&quot;: &quot;Execution failed with \\&quot;Failed to create the sandbox: Failed to resolve bundles: javax.activation-api [512], jaxb-api [513], com.opencsv [515]\\&quot; after 5 retry attempts.&quot;\r\n          },\r\n          &quot;timestamp&quot;: &quot;2023-09-28T15:33:14.410Z&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n*Does anyone have any idea what&#39;s happening here? I assumed it should work without having to have to add any additional dependendies.*","title":"Corda 5 Exception","body":"<p><em>I get this error when calling flow management API in corda 5 <code>/flow/{{short_hash}}</code>.</em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"flowStatusResponses\": [\n    {\n      \"holdingIdentityShortHash\": \"4558C1BAA9F2\",\n      \"clientRequestId\": \"test-flow-1\",\n      \"flowId\": \"c05a1690-fa8e-46b4-a026-825205f086b5\",\n      \"flowStatus\": \"FAILED\",\n      \"flowResult\": null,\n      \"flowError\": {\n        \"type\": \"FLOW_FAILED\",\n        \"message\": \"Execution failed with \\\"Failed to create the sandbox: Failed to resolve bundles: javax.activation-api [512], jaxb-api [513], com.opencsv [515]\\\" after 5 retry attempts.\"\n      },\n      \"timestamp\": \"2023-09-28T15:33:14.410Z\"\n    }\n  ]\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em>Does anyone have any idea what's happening here? I assumed it should work without having to have to add any additional dependendies.</em></p>\n"},{"tags":["java","oop","interface","abstract-class"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1696169073,"post_id":77210718,"comment_id":136116244,"body_markdown":"*&quot;Can I answer with format like before Java8 and after Java8?&quot;* - Well ... the addition of `default` methods in Java 8 has certainly made a comparison of interfaces and abstract classes more complicated.  So ... yes ... you should include that in ... what you tell your interviewer.  (And of course, that means you need to understand `default` methods and what they bring to Java.)","body":"<i>&quot;Can I answer with format like before Java8 and after Java8?&quot;</i> - Well ... the addition of <code>default</code> methods in Java 8 has certainly made a comparison of interfaces and abstract classes more complicated.  So ... yes ... you should include that in ... what you tell your interviewer.  (And of course, that means you need to understand <code>default</code> methods and what they bring to Java.)"}],"owner":{"account_id":24325927,"reputation":3,"user_id":18265473,"display_name":"Trương C&#244;ng Tr&#236;nh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696167880,"answer_count":0,"score":0,"last_activity_date":1696167817,"creation_date":1696167817,"question_id":77210718,"body_markdown":"What should I answer the question: &quot;What are differences between interfaces and abstract classes in Java?&quot; in the interview? Can I answer with format like before Java8 and after Java8? Please makes sense for me...\r\n\r\n\r\nWhat are differences between interfaces and abstract classes in Java?","title":"Differences between interfaces and abstract classes in Java?","body":"<p>What should I answer the question: &quot;What are differences between interfaces and abstract classes in Java?&quot; in the interview? Can I answer with format like before Java8 and after Java8? Please makes sense for me...</p>\n<p>What are differences between interfaces and abstract classes in Java?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1621842202,"post_id":67667904,"comment_id":119606705,"body_markdown":"Does this answer your question? [Stream.peek() method in Java 8 vs Java 9](https://stackoverflow.com/questions/48221783/stream-peek-method-in-java-8-vs-java-9)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48221783/stream-peek-method-in-java-8-vs-java-9\">Stream.peek() method in Java 8 vs Java 9</a>"}],"answers":[{"comments":[{"owner":{"account_id":2650421,"reputation":1623,"user_id":2292264,"display_name":"Gro"},"score":3,"creation_date":1621843668,"post_id":67667905,"comment_id":119607210,"body_markdown":"Calling save from within a Stream.map() is a bad design. Map should be used purely for returning a stream consisting of the results of applying the given function to the elements of current stream. It should be idempotent  and not produce any side effect. Use forEach instead","body":"Calling save from within a Stream.map() is a bad design. Map should be used purely for returning a stream consisting of the results of applying the given function to the elements of current stream. It should be idempotent  and not produce any side effect. Use forEach instead"}],"tags":[],"owner":{"account_id":13222198,"reputation":84,"user_id":9548566,"display_name":"Jatinder"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696167440,"creation_date":1621839975,"answer_id":67667905,"question_id":67667904,"body_markdown":"After making some changes in code it work as expected on development and production. I just change the object value in the `map()` and return after that collect the object to list using the `Collectors.toList()` method and again use `forEach()` loop and update the entity data. Now code works as expected. \r\n\r\n1st option:\r\n\r\n    public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\r\n    \t\tList&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId);\r\n    \t\tbusinessQrCode.stream().map(qr -&gt; {\r\n    \t\t\tqr.setMenuUrl(menuUrl);\r\n    \t\t\tqr.setMenuType(menuType);\r\n    \t\t\treturn qr;\r\n    \t\t}).collect(Collectors.toList())\r\n              .forEach(qr -&gt; qrCodeRepo.save(qr));\r\n    }\r\n\r\n\r\n2nd option: (good than 1st)\r\n\r\n    public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\r\n        List&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId).stream().map(qr -&gt; {\r\n        \tqr.setMenuUrl(menuUrl);\r\n        \tqr.setMenuType(menuType);\r\n        \treturn qr;\r\n        }).collect(Collectors.toList()); \r\n        qrCodeRepo.saveAll(businessQrCode);\r\n    \r\n    }","title":"Why does JPA Repository save method does not update entity details on production?","body":"<p>After making some changes in code it work as expected on development and production. I just change the object value in the <code>map()</code> and return after that collect the object to list using the <code>Collectors.toList()</code> method and again use <code>forEach()</code> loop and update the entity data. Now code works as expected.</p>\n<p>1st option:</p>\n<pre><code>public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\n        List&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId);\n        businessQrCode.stream().map(qr -&gt; {\n            qr.setMenuUrl(menuUrl);\n            qr.setMenuType(menuType);\n            return qr;\n        }).collect(Collectors.toList())\n          .forEach(qr -&gt; qrCodeRepo.save(qr));\n}\n</code></pre>\n<p>2nd option: (good than 1st)</p>\n<pre><code>public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\n    List&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId).stream().map(qr -&gt; {\n        qr.setMenuUrl(menuUrl);\n        qr.setMenuType(menuType);\n        return qr;\n    }).collect(Collectors.toList()); \n    qrCodeRepo.saveAll(businessQrCode);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1621844039,"creation_date":1621842120,"answer_id":67668326,"question_id":67667904,"body_markdown":"The problem is that [`count`](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#count--) \r\n\r\n&gt;may choose to not execute the stream pipeline (either sequentially or in parallel) if it is capable of computing the count directly from the stream source. In such cases no source elements will be traversed and no intermediate operations will be evaluated. Behavioral parameters with side-effects, which are strongly discouraged except for harmless cases such as debugging, may be affected\r\n\r\nAnd exactly that happens in your case. The solution is to neither use `map` or `count` at all since you do not need / use them for what they are supposed to be used for and instead use a single `forEach` instead:\r\n\r\n    public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\r\n        List&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId);\r\n        businessQrCode.stream().forEach(qr -&gt; {\r\n            qr.setMenuUrl(menuUrl);\r\n            qr.setMenuType(menuType);\r\n            qrCodeRepo.save(qr);\r\n        });\r\n    }\r\n\r\nNote that you could just do the exact same thing with a for loop with less calls, same amount of lines and without unnecessarily using streams:\r\n\r\n    public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\r\n        List&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId);\r\n        for (BusinessQRCode qr : businessQrCode) {\r\n            qr.setMenuUrl(menuUrl);\r\n            qr.setMenuType(menuType);\r\n            qrCodeRepo.save(qr);\r\n        };\r\n    }\r\n\r\n\r\n","title":"Why does JPA Repository save method does not update entity details on production?","body":"<p>The problem is that <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#count--\" rel=\"nofollow noreferrer\"><code>count</code></a></p>\n<blockquote>\n<p>may choose to not execute the stream pipeline (either sequentially or in parallel) if it is capable of computing the count directly from the stream source. In such cases no source elements will be traversed and no intermediate operations will be evaluated. Behavioral parameters with side-effects, which are strongly discouraged except for harmless cases such as debugging, may be affected</p>\n</blockquote>\n<p>And exactly that happens in your case. The solution is to neither use <code>map</code> or <code>count</code> at all since you do not need / use them for what they are supposed to be used for and instead use a single <code>forEach</code> instead:</p>\n<pre><code>public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\n    List&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId);\n    businessQrCode.stream().forEach(qr -&gt; {\n        qr.setMenuUrl(menuUrl);\n        qr.setMenuType(menuType);\n        qrCodeRepo.save(qr);\n    });\n}\n</code></pre>\n<p>Note that you could just do the exact same thing with a for loop with less calls, same amount of lines and without unnecessarily using streams:</p>\n<pre><code>public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\n    List&lt;BusinessQRCode&gt; businessQrCode = qrCodeRepo.findByBusinessId(businessId);\n    for (BusinessQRCode qr : businessQrCode) {\n        qr.setMenuUrl(menuUrl);\n        qr.setMenuType(menuType);\n        qrCodeRepo.save(qr);\n    };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13222198,"reputation":84,"user_id":9548566,"display_name":"Jatinder"},"score":0,"creation_date":1621860999,"post_id":67670046,"comment_id":119613928,"body_markdown":"Great I come to know the different ways to resolve the same issue but can you explain why does the map part code not work or what is the issue with the map while updating the entity details","body":"Great I come to know the different ways to resolve the same issue but can you explain why does the map part code not work or what is the issue with the map while updating the entity details"},{"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"score":0,"creation_date":1621865519,"post_id":67670046,"comment_id":119615965,"body_markdown":"See this test class https://gist.github.com/ashutosh049/ea9a4e1e62ad5506209e7a2aba4a4b12, where I was expecting some intermediate operation before the reduction/terminal operation i.e. count(). In this, I was expecting the new ids to be updated and some print statement from within map operation, but that all seems to be discarded, as  java thought we are only interested in the terminal operation of count , which java can return even without executing map operation, just by seeing the stream input. This is the culprit here. You can see it clearly mentioned in java doc  Stream#count","body":"See this test class <a href=\"https://gist.github.com/ashutosh049/ea9a4e1e62ad5506209e7a2aba4a4b12\" rel=\"nofollow noreferrer\">gist.github.com/ashutosh049/ea9a4e1e62ad5506209e7a2aba4a4b12</a>&zwnj;&#8203;, where I was expecting some intermediate operation before the reduction/terminal operation i.e. count(). In this, I was expecting the new ids to be updated and some print statement from within map operation, but that all seems to be discarded, as  java thought we are only interested in the terminal operation of count , which java can return even without executing map operation, just by seeing the stream input. This is the culprit here. You can see it clearly mentioned in java doc  Stream#count"},{"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"score":0,"creation_date":1621866066,"post_id":67670046,"comment_id":119616214,"body_markdown":"I would suggest to go through the java versions of both dev and prod envs and see if there is any discrepancies. I&#39;m sure there must be something, it should never happen that it works on local and not on other envs","body":"I would suggest to go through the java versions of both dev and prod envs and see if there is any discrepancies. I&#39;m sure there must be something, it should never happen that it works on local and not on other envs"},{"owner":{"account_id":13222198,"reputation":84,"user_id":9548566,"display_name":"Jatinder"},"score":0,"creation_date":1621866540,"post_id":67670046,"comment_id":119616419,"body_markdown":"on both envs java, 1.8 is used but the difference is OpenJDK on production and oracle JDK for development","body":"on both envs java, 1.8 is used but the difference is OpenJDK on production and oracle JDK for development"},{"owner":{"account_id":13222198,"reputation":84,"user_id":9548566,"display_name":"Jatinder"},"score":1,"creation_date":1621867945,"post_id":67670046,"comment_id":119617177,"body_markdown":"I fixed the issue by referring to the solutions provided in this question.","body":"I fixed the issue by referring to the solutions provided in this question."}],"tags":[],"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1621850360,"creation_date":1621850360,"answer_id":67670046,"question_id":67667904,"body_markdown":"just my two cents.\r\n\r\nYou should always return Optional from query results. You may have it as:\r\n\r\n### In repository:\r\n\r\n```java\r\nOptional&lt;List&lt;BusinessQRCode&gt;&gt; findByBusinessId(Long businessId);\r\n```\r\n\r\n### In Service:\r\n\r\n```java\r\npublic void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\r\n\r\n// Fetch iterate, if exist\r\nqrCodeRepo.findByBusinessId(businessId).ifPresent(qrCodes_ -&gt; {\r\n\r\n  qrCodes_.forEach(code_-&gt; {\r\n     qr.setMenuUrl(menuUrl);\r\n     qr.setMenuType(menuType);\r\n  });\r\n\r\n  qrCodeRepo.saveAll(qrCodes_);\r\n\r\n});\r\n\r\n```\r\n\r\nWhy use map when you are returning same qr. You can skip that part and also the collect function. We already have the list of qrCodes, just iterate them and set the values then save all at once.","title":"Why does JPA Repository save method does not update entity details on production?","body":"<p>just my two cents.</p>\n<p>You should always return Optional from query results. You may have it as:</p>\n<h3>In repository:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;List&lt;BusinessQRCode&gt;&gt; findByBusinessId(Long businessId);\n</code></pre>\n<h3>In Service:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public void updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\n\n// Fetch iterate, if exist\nqrCodeRepo.findByBusinessId(businessId).ifPresent(qrCodes_ -&gt; {\n\n  qrCodes_.forEach(code_-&gt; {\n     qr.setMenuUrl(menuUrl);\n     qr.setMenuType(menuType);\n  });\n\n  qrCodeRepo.saveAll(qrCodes_);\n\n});\n\n</code></pre>\n<p>Why use map when you are returning same qr. You can skip that part and also the collect function. We already have the list of qrCodes, just iterate them and set the values then save all at once.</p>\n"}],"owner":{"account_id":13222198,"reputation":84,"user_id":9548566,"display_name":"Jatinder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67670046,"answer_count":3,"score":1,"last_activity_date":1696167440,"creation_date":1621839975,"question_id":67667904,"body_markdown":"I am using spring data JPA I am trying to update the entity using the JPARepository method save() to update the entity details. Code I have written to update the entity works fine in development as expected. But the same code does not work on the production server it does not give any error only the code written inside the map() does not work. Below is my code\r\n\r\n    public Long updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\r\n            return qrCodeRepo.findByBusinessId(businessId).businessQrCode.stream().map(qr -&gt; {\r\n                qr.setMenuUrl(menuUrl);\r\n                qr.setMenuType(menuType);\r\n                return qrCodeRepo.save(qr);\r\n            }).count();\r\n    \r\n        }","title":"Why does JPA Repository save method does not update entity details on production?","body":"<p>I am using spring data JPA I am trying to update the entity using the JPARepository method save() to update the entity details. Code I have written to update the entity works fine in development as expected. But the same code does not work on the production server it does not give any error only the code written inside the map() does not work. Below is my code</p>\n<pre><code>public Long updateQrCodeUrlByBusinessDetails(Long businessId, String menuUrl, MENU_TYPE menuType) {\n        return qrCodeRepo.findByBusinessId(businessId).businessQrCode.stream().map(qr -&gt; {\n            qr.setMenuUrl(menuUrl);\n            qr.setMenuType(menuType);\n            return qrCodeRepo.save(qr);\n        }).count();\n\n    }\n</code></pre>\n"},{"tags":["java","database","graph","nosql"],"answers":[{"tags":[],"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1284741346,"creation_date":1284741346,"answer_id":3737217,"question_id":3735591,"body_markdown":"Why not test out all three and apply a benchmark for your particular data? Otherwise it&#39;s difficult to say which one would perform the fastest.","title":"Open source graph database","body":"<p>Why not test out all three and apply a benchmark for your particular data? Otherwise it's difficult to say which one would perform the fastest.</p>\n"},{"comments":[{"owner":{"account_id":244287,"reputation":3651,"user_id":516982,"accept_rate":68,"display_name":"prassee"},"score":0,"creation_date":1292635642,"post_id":3739641,"comment_id":4893719,"body_markdown":"FYI Flockdb was used by Twitter and later donated to open source community. Another good thing is that it is based on SCALA .....","body":"FYI Flockdb was used by Twitter and later donated to open source community. Another good thing is that it is based on SCALA ....."}],"tags":[],"owner":{"account_id":164052,"reputation":805,"user_id":386578,"display_name":"wako"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1284764522,"creation_date":1284764522,"answer_id":3739641,"question_id":3735591,"body_markdown":"I think you can pay attention at [Flockdb][1] too.\r\n\r\n  [1]: http://github.com/twitter/flockdb","title":"Open source graph database","body":"<p>I think you can pay attention at <a href=\"http://github.com/twitter/flockdb\" rel=\"nofollow noreferrer\">Flockdb</a> too.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1284767485,"creation_date":1284767485,"answer_id":3739799,"question_id":3735591,"body_markdown":"I agree with [@Reinderien][1], you should bench these products. But I would also add [OrientDB][2] in the mix. Quoting its author in [this comment][3]:\r\n\r\n&gt; I&#39;m working to OrientDB. It&#39;s a NoSQL\r\n&gt; hybrid document-graph dbms with\r\n&gt; special operators for graph\r\n&gt; operations. The main difference is\r\n&gt; that you can query it using SQL\r\n&gt; language with some extension like:\r\n&gt; \r\n&gt;     select from People where friends TRAVERSE(1,7) (name = &#39;Ayende&#39; and surname = &#39;Rahien&#39;)\r\n&gt; \r\n&gt; This means get all the people that\r\n&gt; have any relationship of friends with\r\n&gt; you up to the 7th level of separation.\r\n\r\nAccording to its website, the performances looks pretty decent. Worth the look at least.\r\n \r\n  [1]: https://stackoverflow.com/questions/3735591/open-source-graph-database/3737217#3737217\r\n  [2]: http://code.google.com/p/orient/\r\n  [3]: http://ayende.com/Blog/archive/2010/05/06/that-no-sql-thing-graph-databases.aspx#40002","title":"Open source graph database","body":"<p>I agree with <a href=\"https://stackoverflow.com/questions/3735591/open-source-graph-database/3737217#3737217\">@Reinderien</a>, you should bench these products. But I would also add <a href=\"http://code.google.com/p/orient/\" rel=\"nofollow noreferrer\">OrientDB</a> in the mix. Quoting its author in <a href=\"http://ayende.com/Blog/archive/2010/05/06/that-no-sql-thing-graph-databases.aspx#40002\" rel=\"nofollow noreferrer\">this comment</a>:</p>\n\n<blockquote>\n  <p>I'm working to OrientDB. It's a NoSQL\n  hybrid document-graph dbms with\n  special operators for graph\n  operations. The main difference is\n  that you can query it using SQL\n  language with some extension like:</p>\n\n<pre><code>select from People where friends TRAVERSE(1,7) (name = 'Ayende' and surname = 'Rahien')\n</code></pre>\n  \n  <p>This means get all the people that\n  have any relationship of friends with\n  you up to the 7th level of separation.</p>\n</blockquote>\n\n<p>According to its website, the performances looks pretty decent. Worth the look at least.</p>\n"},{"tags":[],"owner":{"account_id":16716,"reputation":4321,"user_id":36710,"display_name":"nawroth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285021358,"creation_date":1285021358,"answer_id":3755947,"question_id":3735591,"body_markdown":"From version 1.1 you can read data without using a transaction in Neo4j. In case you want to read uncommitted data though, you can only do that from inside the same transaction (and obviously need a transaction in the first place). More information on transactions is found in the [Neo4j wiki][1].\r\n\r\n\r\n  [1]: http://wiki.neo4j.org/content/Transactions","title":"Open source graph database","body":"<p>From version 1.1 you can read data without using a transaction in Neo4j. In case you want to read uncommitted data though, you can only do that from inside the same transaction (and obviously need a transaction in the first place). More information on transactions is found in the <a href=\"http://wiki.neo4j.org/content/Transactions\" rel=\"nofollow noreferrer\">Neo4j wiki</a>.</p>\n"},{"tags":[],"owner":{"account_id":183283,"reputation":8938,"user_id":418563,"display_name":"Lvca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285230114,"creation_date":1285230114,"answer_id":3776517,"question_id":3735591,"body_markdown":"Fortunately there is a common interface for most of them: [Blueprints][1]. On top of it there are a lot of technologies such as the Gremlin language and REST access to the graph. Visit [Tinkerpop][2] to know more.\r\n\r\nAbout benchmarks there is a work-in-progress project called [graphdb-bench][3] (always by Tinkerpop), but AFAIK is in development.\r\n\r\n  [1]: http://wiki.github.com/tinkerpop/blueprints\r\n  [2]: http://www.tinkerpop.com\r\n  [3]: http://github.com/tinkerpop/graphdb-bench","title":"Open source graph database","body":"<p>Fortunately there is a common interface for most of them: <a href=\"http://wiki.github.com/tinkerpop/blueprints\" rel=\"nofollow noreferrer\">Blueprints</a>. On top of it there are a lot of technologies such as the Gremlin language and REST access to the graph. Visit <a href=\"http://www.tinkerpop.com\" rel=\"nofollow noreferrer\">Tinkerpop</a> to know more.</p>\n\n<p>About benchmarks there is a work-in-progress project called <a href=\"http://github.com/tinkerpop/graphdb-bench\" rel=\"nofollow noreferrer\">graphdb-bench</a> (always by Tinkerpop), but AFAIK is in development.</p>\n"},{"tags":[],"owner":{"account_id":15515200,"reputation":121,"user_id":11192950,"display_name":"Eya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559240701,"creation_date":1559240701,"answer_id":56383696,"question_id":3735591,"body_markdown":"I would recommend you to take a look at AgensGraph and its perfomance.  `https://bitnine.net/agensgraph/`\r\n\r\nAgensGraph supports &quot;Shortest path&quot; as well and you can use it easily. ","title":"Open source graph database","body":"<p>I would recommend you to take a look at AgensGraph and its perfomance.  <code>https://bitnine.net/agensgraph/</code></p>\n\n<p>AgensGraph supports \"Shortest path\" as well and you can use it easily. </p>\n"},{"tags":[],"owner":{"account_id":1496632,"reputation":609,"user_id":1402404,"display_name":"Wey Gu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696167344,"creation_date":1632902828,"answer_id":69372661,"question_id":3735591,"body_markdown":"Nebula Graph(0) is Modern, Open Source(1), Scalable(to a huge scale), Performant, you can choose between 3 replicas and 1 replica.\r\nIt supports `FIND PATH`(2)\r\n\r\n(0) https://github.com/vesoft-inc/nebula\r\n\r\n(1) https://github.com/vesoft-inc/nebula#licensing\r\n\r\n(2) https://docs.nebula-graph.io/2.5.1/3.ngql-guide/16.subgraph-and-path/2.find-path/\r\n\r\n\r\n```\r\nnebula&gt; FIND SHORTEST PATH FROM &quot;player102&quot; TO &quot;team204&quot; OVER *;\r\n+--------------------------------------------+\r\n| path                                       |\r\n+--------------------------------------------+\r\n| &lt;(&quot;player102&quot;)-[:serve@0 {}]-&gt;(&quot;team204&quot;)&gt; |\r\n+--------------------------------------------+\r\n```","title":"Open source graph database","body":"<p>Nebula Graph(0) is Modern, Open Source(1), Scalable(to a huge scale), Performant, you can choose between 3 replicas and 1 replica.\nIt supports <code>FIND PATH</code>(2)</p>\n<p>(0) <a href=\"https://github.com/vesoft-inc/nebula\" rel=\"nofollow noreferrer\">https://github.com/vesoft-inc/nebula</a></p>\n<p>(1) <a href=\"https://github.com/vesoft-inc/nebula#licensing\" rel=\"nofollow noreferrer\">https://github.com/vesoft-inc/nebula#licensing</a></p>\n<p>(2) <a href=\"https://docs.nebula-graph.io/2.5.1/3.ngql-guide/16.subgraph-and-path/2.find-path/\" rel=\"nofollow noreferrer\">https://docs.nebula-graph.io/2.5.1/3.ngql-guide/16.subgraph-and-path/2.find-path/</a></p>\n<pre><code>nebula&gt; FIND SHORTEST PATH FROM &quot;player102&quot; TO &quot;team204&quot; OVER *;\n+--------------------------------------------+\n| path                                       |\n+--------------------------------------------+\n| &lt;(&quot;player102&quot;)-[:serve@0 {}]-&gt;(&quot;team204&quot;)&gt; |\n+--------------------------------------------+\n</code></pre>\n"}],"owner":{"account_id":71693,"reputation":14346,"user_id":207335,"accept_rate":75,"display_name":"Boolean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2377,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3739799,"answer_count":7,"score":6,"last_activity_date":1696167344,"creation_date":1284729189,"question_id":3735591,"body_markdown":"I need graph database for my project. I want to perform shortest path operation on the graph. I searched google and found neo4j, InfoGrid and sones. I am not sure which one performs the best.\r\n\r\nNeo4j is insisting on transaction for read queries also, so I am worried it will cause delays. I want high performance graph database engine. It will be awesome if it can support shortest path also.\r\n","title":"Open source graph database","body":"<p>I need graph database for my project. I want to perform shortest path operation on the graph. I searched google and found neo4j, InfoGrid and sones. I am not sure which one performs the best.</p>\n\n<p>Neo4j is insisting on transaction for read queries also, so I am worried it will cause delays. I want high performance graph database engine. It will be awesome if it can support shortest path also.</p>\n"},{"tags":["java","amazon-web-services","aws-code-deploy"],"comments":[{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1696158599,"post_id":77208973,"comment_id":136115271,"body_markdown":"Do you know why Java terminates before `stop_bot.sh` runs to terminate it?","body":"Do you know why Java terminates before <code>stop_bot.sh</code> runs to terminate it?"},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1696159555,"post_id":77208973,"comment_id":136115353,"body_markdown":"@ErmiyaEskandary does it?","body":"@ErmiyaEskandary does it?"},{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1696159799,"post_id":77208973,"comment_id":136115378,"body_markdown":"&#39;Script - stop_bot.sh [stderr]java: no process found&#39; - meaning Java has already terminated so `killall` can&#39;t find a process to kill, which then makes your script fail. You can make it just do a simple if check to see if it&#39;s still running but not sure what you&#39;re expecting here without more info on the bot. Did you copy paste the command in `start_bot.sh` from somewhere?","body":"&#39;Script - stop_bot.sh [stderr]java: no process found&#39; - meaning Java has already terminated so <code>killall</code> can&#39;t find a process to kill, which then makes your script fail. You can make it just do a simple if check to see if it&#39;s still running but not sure what you&#39;re expecting here without more info on the bot. Did you copy paste the command in <code>start_bot.sh</code> from somewhere?"},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1696167351,"post_id":77208973,"comment_id":136116044,"body_markdown":"@ErmiyaEskandary indeed the problem was in stop_bot.sh, I posted more detailed answer below","body":"@ErmiyaEskandary indeed the problem was in stop_bot.sh, I posted more detailed answer below"},{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1696167420,"post_id":77208973,"comment_id":136116051,"body_markdown":"Glad you got it sorted but FYI it&#39;s usually good SO etiquette to allow the person who answered your question, to answer the question. All good in this case but just for future questions :)","body":"Glad you got it sorted but FYI it&#39;s usually good SO etiquette to allow the person who answered your question, to answer the question. All good in this case but just for future questions :)"}],"answers":[{"tags":[],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696167329,"creation_date":1696167329,"answer_id":77210684,"question_id":77208973,"body_markdown":"It seems like my stop_bot.sh fails when no Java processes are running and on the first deployment after installing CodeDeploy, it isn&#39;t running ApplicationStop and that&#39;s why it succeeds.\r\n\r\nI replaced my stop_bot.sh script with this: \r\n\r\n```sh\r\n#!/bin/bash\r\n\r\n# Check if any Java processes are running\r\njava_pids=$(pgrep java)\r\n\r\nif [ -n &quot;$java_pids&quot; ]; then\r\n  # Stop all Java processes\r\n  for pid in $java_pids; do\r\n    kill -9 &quot;$pid&quot;\r\n    echo &quot;Java process stopped (PID: $pid)&quot;\r\n  done\r\nelse\r\n  echo &quot;No Java processes found&quot;\r\nfi\r\n```\r\n\r\nand start_bot.sh with this:\r\n\r\n```sh\r\nnohup java -jar /tmp/DuoCord-0.1.jar dev.rifaii.Main\r\n```\r\n\r\nThis fixed the issue","title":"CodeDeploy succeeds only once","body":"<p>It seems like my stop_bot.sh fails when no Java processes are running and on the first deployment after installing CodeDeploy, it isn't running ApplicationStop and that's why it succeeds.</p>\n<p>I replaced my stop_bot.sh script with this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Check if any Java processes are running\njava_pids=$(pgrep java)\n\nif [ -n &quot;$java_pids&quot; ]; then\n  # Stop all Java processes\n  for pid in $java_pids; do\n    kill -9 &quot;$pid&quot;\n    echo &quot;Java process stopped (PID: $pid)&quot;\n  done\nelse\n  echo &quot;No Java processes found&quot;\nfi\n</code></pre>\n<p>and start_bot.sh with this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>nohup java -jar /tmp/DuoCord-0.1.jar dev.rifaii.Main\n</code></pre>\n<p>This fixed the issue</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696167329,"creation_date":1696125159,"question_id":77208973,"body_markdown":"I&#39;m trying to deploy a Discord bot written in Java on an AWS EC2 instance using CodeDeploy.\r\n\r\nI installed the CodeDeploy agent and tried deploying and it worked fine. However, when I tried deploying again I got this error: \r\n\r\n&gt; The overall deployment failed because too many individual instances failed deployment, too few healthy instances are available for deployment, or some instances in your deployment group are experiencing problems.\r\n\r\nWhen I check event logs it&#39;s failing on the first step `ApplicationStop`\r\n\r\n```\r\nLifecycleEvent - ApplicationStop\r\nScript - stop_bot.sh\r\n[stderr]java: no process found\r\n```\r\n\r\nHere&#39;s my appspec.yml:\r\n\r\n```yml\r\nversion: 0.0\r\nos: linux\r\nfiles:\r\n  - source: /DuoCord-0.1.jar\r\n    destination: /tmp\r\nhooks:\r\n  ApplicationStart:\r\n    - location: start_bot.sh\r\n      timeout: 300\r\n      runas: root\r\n  ApplicationStop:\r\n    - location: stop_bot.sh\r\n      timeout: 300\r\n      runas: root\r\n```\r\n\r\nstart_bot.sh:\r\n\r\n```sh\r\nnohup java -jar /tmp/DuoCord-0.1.jar dev.rifaii.Main /dev/null 2&gt; /dev/null &lt; /dev/null &amp;\r\n```\r\n\r\nstop_bot.sh:\r\n\r\n```sh\r\nkillall -9 java\r\n```\r\n\r\nI tried uninstalling the codedeploy-agent and installing it again and the deployment worked, but again on the second attempt it gave the same error","title":"CodeDeploy succeeds only once","body":"<p>I'm trying to deploy a Discord bot written in Java on an AWS EC2 instance using CodeDeploy.</p>\n<p>I installed the CodeDeploy agent and tried deploying and it worked fine. However, when I tried deploying again I got this error:</p>\n<blockquote>\n<p>The overall deployment failed because too many individual instances failed deployment, too few healthy instances are available for deployment, or some instances in your deployment group are experiencing problems.</p>\n</blockquote>\n<p>When I check event logs it's failing on the first step <code>ApplicationStop</code></p>\n<pre><code>LifecycleEvent - ApplicationStop\nScript - stop_bot.sh\n[stderr]java: no process found\n</code></pre>\n<p>Here's my appspec.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: 0.0\nos: linux\nfiles:\n  - source: /DuoCord-0.1.jar\n    destination: /tmp\nhooks:\n  ApplicationStart:\n    - location: start_bot.sh\n      timeout: 300\n      runas: root\n  ApplicationStop:\n    - location: stop_bot.sh\n      timeout: 300\n      runas: root\n</code></pre>\n<p>start_bot.sh:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>nohup java -jar /tmp/DuoCord-0.1.jar dev.rifaii.Main /dev/null 2&gt; /dev/null &lt; /dev/null &amp;\n</code></pre>\n<p>stop_bot.sh:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>killall -9 java\n</code></pre>\n<p>I tried uninstalling the codedeploy-agent and installing it again and the deployment worked, but again on the second attempt it gave the same error</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696142759,"post_id":77209487,"comment_id":136114020,"body_markdown":"What exactly do you want that line to do?","body":"What exactly do you want that line to do?"},{"owner":{"account_id":29176547,"reputation":1,"user_id":22351690,"display_name":"Lawrence Mavhaire"},"score":0,"creation_date":1696142867,"post_id":77209487,"comment_id":136114022,"body_markdown":"to ignore lower case of the check letter on the ID number","body":"to ignore lower case of the check letter on the ID number"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696143584,"post_id":77209487,"comment_id":136114068,"body_markdown":"and only the third to last character is relevant? Also, why are you not using `String#contains`?","body":"and only the third to last character is relevant? Also, why are you not using <code>String#contains</code>?"},{"owner":{"account_id":29176547,"reputation":1,"user_id":22351690,"display_name":"Lawrence Mavhaire"},"score":0,"creation_date":1696144849,"post_id":77209487,"comment_id":136114151,"body_markdown":"how can i do that? I tried converting that Character to upper case but the output would be false","body":"how can i do that? I tried converting that Character to upper case but the output would be false"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696145453,"post_id":77209487,"comment_id":136114195,"body_markdown":"Learn how to format code in your Question. I fixed this code this time.","body":"Learn how to format code in your Question. I fixed this code this time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696145619,"post_id":77209487,"comment_id":136114206,"body_markdown":"No, it sounds like you want to pay attention to lowercase, not ignore it. Your Question is poorly worded. Do you want to accept lowercase inputs or do you want to forbid lowercase inputs?","body":"No, it sounds like you want to pay attention to lowercase, not ignore it. Your Question is poorly worded. Do you want to accept lowercase inputs or do you want to forbid lowercase inputs?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1696145713,"post_id":77209487,"comment_id":136114215,"body_markdown":"`equalsIgnoreCase()` is not defined for `char` – how does you code compile when you remove the commenting from the that line starting with `//idNumber.charAt(9) …`?","body":"<code>equalsIgnoreCase()</code> is not defined for <code>char</code> – how does you code compile when you remove the commenting from the that line starting with <code>&#47;&#47;idNumber.charAt(9) …</code>?"}],"answers":[{"tags":[],"owner":{"account_id":29515674,"reputation":1,"user_id":22619681,"display_name":"Ramin Gahramanzada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696167158,"creation_date":1696146945,"answer_id":77209658,"question_id":77209487,"body_markdown":"To achieve this, you can convert both the actual check letter and the expected check letter to uppercase and then compare them. Here&#39;s the modified code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ValidateID {\r\n\r\n    public static boolean validID(String idNumber) {\r\n\r\n        idNumber = idNumber.replaceAll(&quot;[^\\\\dABCDEFGHIJKLMNOPQRSTVWXYZ]&quot;, &quot;&quot;);\r\n        if (idNumber.length() != 12) {\r\n            return false;\r\n        }\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            if (!Character.isDigit(idNumber.charAt(i))) {\r\n                return false;\r\n            }\r\n        }        \r\n        int remainder = Integer.parseInt(idNumber.substring(0, 9)) % 23;\r\n        char expectedCheckLetter = &quot;ABCDEFGHJKLMNPQRSTVWXYZ&quot;.charAt(remainder - 1);\r\n\r\n        char actualCheckLetter = idNumber.charAt(idNumber.length() - 1);\r\n\r\n        // Convert both letters to uppercase and compare them\r\n        if (Character.toUpperCase(actualCheckLetter) != Character.toUpperCase(expectedCheckLetter)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your ID number : &quot;);\r\n        String idNumber = scanner.nextLine();\r\n\r\n        if (validID(idNumber)) {\r\n            System.out.println(&quot;Your ID number is valid&quot;);\r\n        } else {\r\n            System.out.println(&quot;Invalid ID&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"how to use java eqaulsIgnoreCase() method","body":"<p>To achieve this, you can convert both the actual check letter and the expected check letter to uppercase and then compare them. Here's the modified code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ValidateID {\n\n    public static boolean validID(String idNumber) {\n\n        idNumber = idNumber.replaceAll(&quot;[^\\\\dABCDEFGHIJKLMNOPQRSTVWXYZ]&quot;, &quot;&quot;);\n        if (idNumber.length() != 12) {\n            return false;\n        }\n        for (int i = 0; i &lt; 9; i++) {\n            if (!Character.isDigit(idNumber.charAt(i))) {\n                return false;\n            }\n        }        \n        int remainder = Integer.parseInt(idNumber.substring(0, 9)) % 23;\n        char expectedCheckLetter = &quot;ABCDEFGHJKLMNPQRSTVWXYZ&quot;.charAt(remainder - 1);\n\n        char actualCheckLetter = idNumber.charAt(idNumber.length() - 1);\n\n        // Convert both letters to uppercase and compare them\n        if (Character.toUpperCase(actualCheckLetter) != Character.toUpperCase(expectedCheckLetter)) {\n            return false;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter your ID number : &quot;);\n        String idNumber = scanner.nextLine();\n\n        if (validID(idNumber)) {\n            System.out.println(&quot;Your ID number is valid&quot;);\n        } else {\n            System.out.println(&quot;Invalid ID&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29176547,"reputation":1,"user_id":22351690,"display_name":"Lawrence Mavhaire"},"score":0,"creation_date":1696178135,"post_id":77209753,"comment_id":136117216,"body_markdown":"i want output number 2 to be true as well as number 4","body":"i want output number 2 to be true as well as number 4"},{"owner":{"account_id":29176547,"reputation":1,"user_id":22351690,"display_name":"Lawrence Mavhaire"},"score":0,"creation_date":1696178208,"post_id":77209753,"comment_id":136117225,"body_markdown":"i want output number 2 to be true as well as number 4","body":"i want output number 2 to be true as well as number 4"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696181957,"post_id":77209753,"comment_id":136117669,"body_markdown":"@LawrenceMavhaire (a) Edit your Question for clarity. (b) So change the check from `isUppercase` to `isLetter`. Peruse the methods on `Character` class.","body":"@LawrenceMavhaire (a) Edit your Question for clarity. (b) So change the check from <code>isUppercase</code> to <code>isLetter</code>. Peruse the methods on <code>Character</code> class."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696151283,"creation_date":1696148869,"answer_id":77209753,"question_id":77209487,"body_markdown":"## Opposite of `equalsIgnoreCase`\r\n\r\nYou asked about the [`String#equalsIgnoreCase`][1] method. \r\n\r\nBut your prose suggests that you want the opposite. You do not want to *ignore* [case][2], you want to pay attention to case. You want to reject lowercase characters while accepting uppercase letters. \r\n\r\n\r\n## Requirements\r\n\r\nYour Question is unclear, but it seems you want to verify that the tenth of 12 characters of input is an uppercase Basic Latin letter (A-Z) while the rest are Basic Latin digits (0-9). (&lt;-- Notice how simply a requirement can be stated.)\r\n\r\n## Avoid `char`\r\n\r\nAvoid using `char`, as that type has been essentially broken since Java 2 and legacy since Java 5. As a 16-bit value, `char` type is physically incapable of representing most characters. \r\n\r\n## Code points\r\n\r\nInstead, make a habit of using [Unicode code point][3] integers when working with individual characters. \r\n\r\n## `switch` in modern Java\r\n\r\nIn modern Java, we can use a `switch` to test for a series of values. We want to loop on all the code points, and for each zero-based position number (an index) we check to see if that code point represents a digit or an uppercase letter.\r\n\r\n## Example code (first draft)\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\npublic class ValidateId\r\n{\r\n    private static long EXPECTED_LENGTH = 12;\r\n\r\n    public static boolean isValidId ( final String proposedId )\r\n    {\r\n        if ( ! ( proposedId.codePoints ( ).count ( ) == ValidateId.EXPECTED_LENGTH ) )\r\n        {\r\n            return false;\r\n        }\r\n        int[] codePoints = proposedId.codePoints ( ).toArray ( );\r\n        for ( int index = 0 ; index &lt; codePoints.length ; index++ )\r\n        {\r\n            int codePoint = codePoints[ index ];\r\n            switch ( index )\r\n            {\r\n                case 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 10 , 11 -&gt;\r\n                {\r\n                    if ( ! Character.isDigit ( codePoint ) )\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n                case 9 -&gt;\r\n                {\r\n                    if ( ! Character.isUpperCase ( codePoint ) )\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n                default -&gt; throw new IllegalStateException ( &quot;Unexpected index: &quot; + index );\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nExercise that code:\r\n\r\n```java\r\nSystem.out.println ( &quot;2x2081811D13&quot; + &quot; = &quot; +  ValidateId.isValidId ( &quot;2x2081811D13&quot; ) );  // BAD: 2nd character (index 1) is a letter, not a digit.\r\nSystem.out.println ( &quot;292081811d13&quot; + &quot; = &quot; +  ValidateId.isValidId ( &quot;292081811d13&quot; ) );  // BAD: 10th character (index 9) is lowercase.\r\nSystem.out.println ( &quot;292081811D13&quot; + &quot; = &quot; +  ValidateId.isValidId ( &quot;292081811D13&quot; ) );  // GOOD.\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\n2x2081811D13 = false\r\n292081811d13 = false\r\n292081811D13 = true\r\n```\r\n\r\n## Basic Latin\r\n\r\nThat code might be good enough. But that code is not perfect. That code ignores the [*Basic Latin*][4] restriction. Other characters beyond  Basic Latin can [also be a digit][5], and others can be an uppercase letter. So strictly speaking, we should check that all the code points are equal to or below 122, the code point for `z`. We can add a simple test near the top for that.\r\n\r\n## Example code (second draft)\r\n\r\nAlso, we can replace the `!` at the front with `!=` in the test.\r\n\r\nFor brevity, we could collapse the `if` statements.\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\npublic class ValidateId\r\n{\r\n    private static long EXPECTED_LENGTH = 12;\r\n    private static long LAST_CODE_POINT_OF_INTEREST = &quot;z&quot;.codePointAt ( 0 ); // 122 = code point of `z`.\r\n\r\n    public static boolean isValidId ( final String proposedId )\r\n    {\r\n        if ( proposedId.codePoints ( ).count ( ) != ValidateId.EXPECTED_LENGTH ) return false;\r\n        if ( proposedId.codePoints ( ).filter ( ( int codePoint ) -&gt; codePoint &gt; LAST_CODE_POINT_OF_INTEREST ).count ( ) != 0 ) return false;\r\n        int[] codePoints = proposedId.codePoints ( ).toArray ( );\r\n        for ( int index = 0 ; index &lt; codePoints.length ; index++ )\r\n        {\r\n            int codePoint = codePoints[ index ];\r\n            switch ( index )\r\n            {\r\n                case 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 10 , 11 -&gt;\r\n                {\r\n                    if ( ! Character.isDigit ( codePoint ) ) return false;\r\n                }\r\n                case 9 -&gt;\r\n                {\r\n                    if ( ! Character.isUpperCase ( codePoint ) ) return false;\r\n                }\r\n                default -&gt; throw new IllegalStateException ( &quot;Unexpected index: &quot; + index );\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nWe need to add another test. This extra test case has a THAI DIGIT ONE in the 2nd position. That character passes the `Character.isDigit` check, but will flunk our new check for any code points above 122. \r\n\r\n```java\r\nSystem.out.println ( &quot;2x2081811D13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;2x2081811D13&quot; ) );  // BAD: 2nd character (index 1) is a letter, not a digit.\r\nSystem.out.println ( &quot;292081811d13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;292081811d13&quot; ) );  // BAD: 10th character (index 9) is lowercase.\r\nSystem.out.println ( &quot;2๑2081811D13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;2๑2081811D13&quot; ) );  // BAD: 2nd character (index 1) has a digit but is outside of Basic Latin: THAI DIGIT ONE.\r\nSystem.out.println ( &quot;292081811D13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;292081811D13&quot; ) );  // GOOD.\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\n2x2081811D13 = false\r\n292081811d13 = false\r\n2๑2081811D13 = false\r\n292081811D13 = true\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\r\n  [2]: https://en.wikipedia.org/wiki/Letter_case\r\n  [3]: https://en.wikipedia.org/wiki/List_of_Unicode_characters\r\n  [4]: https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)\r\n  [5]: https://www.fileformat.info/info/unicode/category/Nd/list.htm","title":"how to use java eqaulsIgnoreCase() method","body":"<h2>Opposite of <code>equalsIgnoreCase</code></h2>\n<p>You asked about the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#equalsIgnoreCase</code></a> method.</p>\n<p>But your prose suggests that you want the opposite. You do not want to <em>ignore</em> <a href=\"https://en.wikipedia.org/wiki/Letter_case\" rel=\"nofollow noreferrer\">case</a>, you want to pay attention to case. You want to reject lowercase characters while accepting uppercase letters.</p>\n<h2>Requirements</h2>\n<p>Your Question is unclear, but it seems you want to verify that the tenth of 12 characters of input is an uppercase Basic Latin letter (A-Z) while the rest are Basic Latin digits (0-9). (&lt;-- Notice how simply a requirement can be stated.)</p>\n<h2>Avoid <code>char</code></h2>\n<p>Avoid using <code>char</code>, as that type has been essentially broken since Java 2 and legacy since Java 5. As a 16-bit value, <code>char</code> type is physically incapable of representing most characters.</p>\n<h2>Code points</h2>\n<p>Instead, make a habit of using <a href=\"https://en.wikipedia.org/wiki/List_of_Unicode_characters\" rel=\"nofollow noreferrer\">Unicode code point</a> integers when working with individual characters.</p>\n<h2><code>switch</code> in modern Java</h2>\n<p>In modern Java, we can use a <code>switch</code> to test for a series of values. We want to loop on all the code points, and for each zero-based position number (an index) we check to see if that code point represents a digit or an uppercase letter.</p>\n<h2>Example code (first draft)</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\npublic class ValidateId\n{\n    private static long EXPECTED_LENGTH = 12;\n\n    public static boolean isValidId ( final String proposedId )\n    {\n        if ( ! ( proposedId.codePoints ( ).count ( ) == ValidateId.EXPECTED_LENGTH ) )\n        {\n            return false;\n        }\n        int[] codePoints = proposedId.codePoints ( ).toArray ( );\n        for ( int index = 0 ; index &lt; codePoints.length ; index++ )\n        {\n            int codePoint = codePoints[ index ];\n            switch ( index )\n            {\n                case 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 10 , 11 -&gt;\n                {\n                    if ( ! Character.isDigit ( codePoint ) )\n                    {\n                        return false;\n                    }\n                }\n                case 9 -&gt;\n                {\n                    if ( ! Character.isUpperCase ( codePoint ) )\n                    {\n                        return false;\n                    }\n                }\n                default -&gt; throw new IllegalStateException ( &quot;Unexpected index: &quot; + index );\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Exercise that code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println ( &quot;2x2081811D13&quot; + &quot; = &quot; +  ValidateId.isValidId ( &quot;2x2081811D13&quot; ) );  // BAD: 2nd character (index 1) is a letter, not a digit.\nSystem.out.println ( &quot;292081811d13&quot; + &quot; = &quot; +  ValidateId.isValidId ( &quot;292081811d13&quot; ) );  // BAD: 10th character (index 9) is lowercase.\nSystem.out.println ( &quot;292081811D13&quot; + &quot; = &quot; +  ValidateId.isValidId ( &quot;292081811D13&quot; ) );  // GOOD.\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2x2081811D13 = false\n292081811d13 = false\n292081811D13 = true\n</code></pre>\n<h2>Basic Latin</h2>\n<p>That code might be good enough. But that code is not perfect. That code ignores the <a href=\"https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)\" rel=\"nofollow noreferrer\"><em>Basic Latin</em></a> restriction. Other characters beyond  Basic Latin can <a href=\"https://www.fileformat.info/info/unicode/category/Nd/list.htm\" rel=\"nofollow noreferrer\">also be a digit</a>, and others can be an uppercase letter. So strictly speaking, we should check that all the code points are equal to or below 122, the code point for <code>z</code>. We can add a simple test near the top for that.</p>\n<h2>Example code (second draft)</h2>\n<p>Also, we can replace the <code>!</code> at the front with <code>!=</code> in the test.</p>\n<p>For brevity, we could collapse the <code>if</code> statements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\npublic class ValidateId\n{\n    private static long EXPECTED_LENGTH = 12;\n    private static long LAST_CODE_POINT_OF_INTEREST = &quot;z&quot;.codePointAt ( 0 ); // 122 = code point of `z`.\n\n    public static boolean isValidId ( final String proposedId )\n    {\n        if ( proposedId.codePoints ( ).count ( ) != ValidateId.EXPECTED_LENGTH ) return false;\n        if ( proposedId.codePoints ( ).filter ( ( int codePoint ) -&gt; codePoint &gt; LAST_CODE_POINT_OF_INTEREST ).count ( ) != 0 ) return false;\n        int[] codePoints = proposedId.codePoints ( ).toArray ( );\n        for ( int index = 0 ; index &lt; codePoints.length ; index++ )\n        {\n            int codePoint = codePoints[ index ];\n            switch ( index )\n            {\n                case 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 10 , 11 -&gt;\n                {\n                    if ( ! Character.isDigit ( codePoint ) ) return false;\n                }\n                case 9 -&gt;\n                {\n                    if ( ! Character.isUpperCase ( codePoint ) ) return false;\n                }\n                default -&gt; throw new IllegalStateException ( &quot;Unexpected index: &quot; + index );\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>We need to add another test. This extra test case has a THAI DIGIT ONE in the 2nd position. That character passes the <code>Character.isDigit</code> check, but will flunk our new check for any code points above 122.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println ( &quot;2x2081811D13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;2x2081811D13&quot; ) );  // BAD: 2nd character (index 1) is a letter, not a digit.\nSystem.out.println ( &quot;292081811d13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;292081811d13&quot; ) );  // BAD: 10th character (index 9) is lowercase.\nSystem.out.println ( &quot;2๑2081811D13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;2๑2081811D13&quot; ) );  // BAD: 2nd character (index 1) has a digit but is outside of Basic Latin: THAI DIGIT ONE.\nSystem.out.println ( &quot;292081811D13&quot; + &quot; = &quot; + ValidateId.isValidId ( &quot;292081811D13&quot; ) );  // GOOD.\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2x2081811D13 = false\n292081811d13 = false\n2๑2081811D13 = false\n292081811D13 = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696165286,"creation_date":1696164203,"answer_id":77210518,"question_id":77209487,"body_markdown":"To validate the **ID** string you may be able to use something simple like this (read comments in code):\r\n\r\n    public static boolean isValidID(String idNumber) { \r\n        /* Auto-Convert any lowercase alpha characters \r\n           (in this use-case, one) to uppercase:    */ \r\n        idNumber = idNumber.toUpperCase(); \r\n        /* Use the String#matches() method with a Regular Expression\r\n           to validate the supplied ID string. It will return true if\r\n           the ID string matches the regex or, false if not.      */\r\n        return (idNumber.matches(&quot;^\\\\d{9}[A-Z]{1}\\\\d{2}$&quot;)); \r\n    }\r\n\r\nThe [Regular Expression](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html) (regex) passed to the [String#matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method does the following:\r\n\r\n - `^` Asserts position at start of a line;\r\n - `\\\\d{9}` Does the ID string start with **9** digits (each **digit** from **0** to **9**);\r\n - `[A-Z]{1}` After the **9** digits is there a single (one) uppercase alpha letter character (**A** to **Z**);\r\n - `\\\\d{2}` After the alpha character, are there two (2) more digits\r\n   (each **digit** from **0** to **9**);\r\n - `$` Asserts position at the end of a line.\r\n\r\nThe ID string conversion to uppercase should really be done before it is passed to the `isValidID()` method so that it is already modified before further use. If done this way, then *there is no need* for the conversion *within* the `isValidID()` method:\r\n\r\n    // Get ID:\r\n    String idNumber = &quot;292081811d13&quot;;\r\n    idNumber = idNumber.toUpperCase();\r\n    if (!isValidID(idNumber) {\r\n        System.out.println(&quot;ID is Invalid! (&quot; + idNumber + &quot;)&quot;);\r\n        // return - exit - whatever\r\n    }\r\n    System.out.println(&quot;The supplied ID (&quot; + idNumber + &quot;) is Valid!&quot;);","title":"how to use java eqaulsIgnoreCase() method","body":"<p>To validate the <strong>ID</strong> string you may be able to use something simple like this (read comments in code):</p>\n<pre><code>public static boolean isValidID(String idNumber) { \n    /* Auto-Convert any lowercase alpha characters \n       (in this use-case, one) to uppercase:    */ \n    idNumber = idNumber.toUpperCase(); \n    /* Use the String#matches() method with a Regular Expression\n       to validate the supplied ID string. It will return true if\n       the ID string matches the regex or, false if not.      */\n    return (idNumber.matches(&quot;^\\\\d{9}[A-Z]{1}\\\\d{2}$&quot;)); \n}\n</code></pre>\n<p>The <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">Regular Expression</a> (regex) passed to the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String#matches()</a> method does the following:</p>\n<ul>\n<li><code>^</code> Asserts position at start of a line;</li>\n<li><code>\\\\d{9}</code> Does the ID string start with <strong>9</strong> digits (each <strong>digit</strong> from <strong>0</strong> to <strong>9</strong>);</li>\n<li><code>[A-Z]{1}</code> After the <strong>9</strong> digits is there a single (one) uppercase alpha letter character (<strong>A</strong> to <strong>Z</strong>);</li>\n<li><code>\\\\d{2}</code> After the alpha character, are there two (2) more digits\n(each <strong>digit</strong> from <strong>0</strong> to <strong>9</strong>);</li>\n<li><code>$</code> Asserts position at the end of a line.</li>\n</ul>\n<p>The ID string conversion to uppercase should really be done before it is passed to the <code>isValidID()</code> method so that it is already modified before further use. If done this way, then <em>there is no need</em> for the conversion <em>within</em> the <code>isValidID()</code> method:</p>\n<pre><code>// Get ID:\nString idNumber = &quot;292081811d13&quot;;\nidNumber = idNumber.toUpperCase();\nif (!isValidID(idNumber) {\n    System.out.println(&quot;ID is Invalid! (&quot; + idNumber + &quot;)&quot;);\n    // return - exit - whatever\n}\nSystem.out.println(&quot;The supplied ID (&quot; + idNumber + &quot;) is Valid!&quot;);\n</code></pre>\n"}],"owner":{"account_id":29176547,"reputation":1,"user_id":22351690,"display_name":"Lawrence Mavhaire"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696167158,"creation_date":1696142607,"question_id":77209487,"body_markdown":"Am trying to use the IgnoreCase method in java\r\n\r\nI want to write code that validates ID number like 292081811D13 but the when you enter lower case &#39;d&#39; the results is false:\r\n\r\n```java\r\nimport\tjava.util.*;\r\n\r\npublic class ValidateID{\r\n\r\n\tpublic static boolean validID(String idNumber){\r\n\t\tidNumber = idNumber.replaceAll(&quot;[^\\\\dABCDEFGHIJKLMNOPQRSTVWXYZ]&quot;, &quot;&quot;);\r\n\t\tif(idNumber.length()!= 12 ){\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor(int i = 0; i &lt; 9; i++){\r\n\t\t\tif(!Character.isDigit(idNumber.charAt(i))){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint remainder = Integer.parseInt(idNumber.substring(0,9)) % 23;\r\n\t\tchar expectedCheckLetter = &quot;ABCDEFGHJKLMNPQRSTVWXYZ&quot;.charAt(remainder-1);\r\n\t\t//idNumber.charAt(9).equalsIgnoreCase(expectedCheckLetter);\r\n\r\n\t\tif(Character.toUpperCase(idNumber.charAt(idNumber.length() - 3)) != expectedCheckLetter){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter your ID number : &quot;);\r\n\t\tString idNumber = scanner.nextLine();\r\n\r\n\t\tif(validID(idNumber)){\t\r\n\t\t\tSystem.out.println(&quot;Your ID number is valid&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;invalid ID&quot;);\r\n\t\t}\r\n\t}\r\n} \r\n```\r\n\r\n","title":"how to use java eqaulsIgnoreCase() method","body":"<p>Am trying to use the IgnoreCase method in java</p>\n<p>I want to write code that validates ID number like 292081811D13 but the when you enter lower case 'd' the results is false:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import  java.util.*;\n\npublic class ValidateID{\n\n    public static boolean validID(String idNumber){\n        idNumber = idNumber.replaceAll(&quot;[^\\\\dABCDEFGHIJKLMNOPQRSTVWXYZ]&quot;, &quot;&quot;);\n        if(idNumber.length()!= 12 ){\n            return false;\n        }\n\n        for(int i = 0; i &lt; 9; i++){\n            if(!Character.isDigit(idNumber.charAt(i))){\n                return false;\n            }\n        }\n        int remainder = Integer.parseInt(idNumber.substring(0,9)) % 23;\n        char expectedCheckLetter = &quot;ABCDEFGHJKLMNPQRSTVWXYZ&quot;.charAt(remainder-1);\n        //idNumber.charAt(9).equalsIgnoreCase(expectedCheckLetter);\n\n        if(Character.toUpperCase(idNumber.charAt(idNumber.length() - 3)) != expectedCheckLetter){\n            return false;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter your ID number : &quot;);\n        String idNumber = scanner.nextLine();\n\n        if(validID(idNumber)){  \n            System.out.println(&quot;Your ID number is valid&quot;);\n        } else {\n            System.out.println(&quot;invalid ID&quot;);\n        }\n    }\n} \n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3318964,"reputation":1068,"user_id":2790577,"accept_rate":30,"display_name":"basiclawe"},"score":1,"creation_date":1696113674,"post_id":77208514,"comment_id":136112626,"body_markdown":"Please provide 1) your library file (pom.xml, gradle…) 2) Please edit your code area by adding the java import.","body":"Please provide 1) your library file (pom.xml, gradle…) 2) Please edit your code area by adding the java import."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1696162374,"post_id":77208514,"comment_id":136115585,"body_markdown":"You need to explicitly enable batch consumer factory.","body":"You need to explicitly enable batch consumer factory."}],"answers":[{"comments":[{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1696118312,"post_id":77208728,"comment_id":136112887,"body_markdown":"It works fine with a single record... but not a List :(","body":"It works fine with a single record... but not a List :("},{"owner":{"account_id":7120972,"reputation":68,"user_id":5445608,"display_name":"Silvio Papa"},"score":0,"creation_date":1696230120,"post_id":77208728,"comment_id":136121638,"body_markdown":"Have you seen the link in answer ? What problem do you have with a List?","body":"Have you seen the link in answer ? What problem do you have with a List?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1696256109,"post_id":77208728,"comment_id":136126186,"body_markdown":"You can now add `batch = true` to the `@KafkaListener`, to override the factory setting.","body":"You can now add <code>batch = true</code> to the <code>@KafkaListener</code>, to override the factory setting."}],"tags":[],"owner":{"account_id":7120972,"reputation":68,"user_id":5445608,"display_name":"Silvio Papa"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696166932,"creation_date":1696115740,"answer_id":77208728,"question_id":77208514,"body_markdown":"Please give more details, but for now try to change your code to consume `ConsumerRecord` and not List.\r\n\r\n```java\r\n@KafkaListener(topics = {&quot;journal-topic1&quot;})\r\npublic void message(ConsumerRecord&lt;String, String&gt; record) {\r\n    //Process\r\n}\r\n```\r\n\r\nor else if you want to consumer entire batch of consumer records view there :\r\n\r\n[*Kafka listener receiving List&lt;ConsumerRecord&lt;String, String&gt;&gt;, is it possible to consume?*][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54361329/kafka-listener-receiving-listconsumerrecordstring-string-is-it-possible-to","title":"Spring Boot and @KafkaListener","body":"<p>Please give more details, but for now try to change your code to consume <code>ConsumerRecord</code> and not List.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = {&quot;journal-topic1&quot;})\npublic void message(ConsumerRecord&lt;String, String&gt; record) {\n    //Process\n}\n</code></pre>\n<p>or else if you want to consumer entire batch of consumer records view there :</p>\n<p><a href=\"https://stackoverflow.com/questions/54361329/kafka-listener-receiving-listconsumerrecordstring-string-is-it-possible-to\"><em>Kafka listener receiving List&lt;ConsumerRecord&lt;String, String&gt;&gt;, is it possible to consume?</em></a></p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696166932,"creation_date":1696109349,"question_id":77208514,"body_markdown":"I&#39;m using Spring Boot 2.7 with Kafka integration for consuming records.\r\n\r\nHere&#39;s my listener, very simple :\r\n\r\n    @KafkaListener(topics = {&quot;journal-topic1&quot;})\r\n    public void onMessage(List&lt;ConsumerRecord&lt;String, String&gt;&gt; records) {\r\n        //processing\r\n    }\r\n\r\nMy problem is : I don&#39;t get `List&lt;ConsumerRecord&lt;String, String&gt;&gt;` but a list of my values : `List&lt;String&gt;`\r\n\r\nHere is my config :\r\n\r\n    spring:\r\n      kafka:\r\n        topic: &quot;journal-topic1&quot;\r\n        properties:\r\n          auto-create-topics-enable: true\r\n        consumer:\r\n          bootstrap-servers: localhost:9092\r\n          group-id: &quot;journal-group1&quot;\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          auto-offset-reset: latest\r\n        admin:\r\n          properties:\r\n            bootstrap-servers: localhost:9092","title":"Spring Boot and @KafkaListener","body":"<p>I'm using Spring Boot 2.7 with Kafka integration for consuming records.</p>\n<p>Here's my listener, very simple :</p>\n<pre><code>@KafkaListener(topics = {&quot;journal-topic1&quot;})\npublic void onMessage(List&lt;ConsumerRecord&lt;String, String&gt;&gt; records) {\n    //processing\n}\n</code></pre>\n<p>My problem is : I don't get <code>List&lt;ConsumerRecord&lt;String, String&gt;&gt;</code> but a list of my values : <code>List&lt;String&gt;</code></p>\n<p>Here is my config :</p>\n<pre><code>spring:\n  kafka:\n    topic: &quot;journal-topic1&quot;\n    properties:\n      auto-create-topics-enable: true\n    consumer:\n      bootstrap-servers: localhost:9092\n      group-id: &quot;journal-group1&quot;\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      auto-offset-reset: latest\n    admin:\n      properties:\n        bootstrap-servers: localhost:9092\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":2,"creation_date":1696154854,"post_id":77209983,"comment_id":136114944,"body_markdown":"U and V are used, together they specify edges and the edges matter because they change the shape of the tree. Your code essentially assumes that the tree is a linked list, but in general it has a different shape.","body":"U and V are used, together they specify edges and the edges matter because they change the shape of the tree. Your code essentially assumes that the tree is a linked list, but in general it has a different shape."},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1696155273,"post_id":77209983,"comment_id":136114982,"body_markdown":"@harold, for example 1 explanation, I see that all possible sub pairs are used like `(1,2), (1,3), (1,4)` then (2,3),(2,4), then `(3,4)` Im not clear how U and V used here.","body":"@harold, for example 1 explanation, I see that all possible sub pairs are used like <code>(1,2), (1,3), (1,4)</code> then (2,3),(2,4), then <code>(3,4)</code> Im not clear how U and V used here."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696155398,"post_id":77209983,"comment_id":136114992,"body_markdown":"Take care of java naming conventions. Variables should start with lowercase character.","body":"Take care of java naming conventions. Variables should start with lowercase character."}],"answers":[{"comments":[{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1696361079,"post_id":77210120,"comment_id":136142294,"body_markdown":"In this code example 2 is used right `201338 761471 227682 627276 432478\n1 4\n3 4\n4 2\n2 5` can you please explain how the mappings are done in your code between `U` and `V`?","body":"In this code example 2 is used right <code>201338 761471 227682 627276 432478 1 4 3 4 4 2 2 5</code> can you please explain how the mappings are done in your code between <code>U</code> and <code>V</code>?"},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1696372535,"post_id":77210120,"comment_id":136143909,"body_markdown":"The connections between nodes in the tree represent the U and V mappings:\n\nroot.children.add(node1) indicates that there is an edge from root (value 201338) to node1 (value 761471).","body":"The connections between nodes in the tree represent the U and V mappings:  root.children.add(node1) indicates that there is an edge from root (value 201338) to node1 (value 761471)."}],"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696156742,"creation_date":1696156742,"answer_id":77210120,"question_id":77209983,"body_markdown":"As mentioned in comments, In your approach, you used two nested loops to iterate over all pairs of vertices, but this approach does not take into account the ***tree structure*** and the paths between vertices. It calculates the sum of all pairwise differences without considering the paths in the tree.\r\n\r\nTo correctly solve this problem, you need to perform a ***depth-first traversal*** to calculate the sum of differences along the paths from each vertex to all other vertices.\r\n\r\nSpecifically, you need to maintain the following information at each node:\r\n\r\n 1. The sum of all values in the subtree rooted at that node.\r\n 2. The maximum value in the subtree rooted at that node.\r\n 3. The minimum value in the subtree rooted at that node.\r\n 4. The number of nodes in the subtree rooted at that node.\r\n\r\nWith this information, you can compute the difference D(i, j) between the maximum and minimum values along the path from node i to node j efficiently.\r\n\r\nIn Java, you can define a ***TreeNode*** class to represent the tree structure and a ***sumOfDifferences*** method to calculate the sum of differences between the maximum and minimum values on all paths in the tree. The ***dfs*** method performs a depth-first traversal of the tree and computes the required statistics.The main idea is that the dfs method ***recursively*** calculates the sum of differences along all paths from the current vertex *u* to its descendants in the subtree, considering the values assigned to each vertex. The sum is accumulated and returned for each vertex, and the final result is the sum of all such values for all vertices in the tree.\r\n\r\nHere&#39;s the java example that I worked with:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass TreeNode {\r\n    int value;\r\n    List&lt;TreeNode&gt; children;\r\n\r\n    public TreeNode(int value) {\r\n        this.value = value;\r\n        this.children = new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n\r\npublic class TreeDifferenceSum {\r\n    public static void main(String[] args) {\r\n        // Example usage:\r\n        TreeNode root = new TreeNode(201338);\r\n        TreeNode node1 = new TreeNode(761471);\r\n        TreeNode node2 = new TreeNode(227682);\r\n        TreeNode node3 = new TreeNode(627276);\r\n        TreeNode node4 = new TreeNode(432478);\r\n\r\n        root.children.add(node1);\r\n        root.children.add(node2);\r\n        root.children.add(node3);\r\n        root.children.add(node4);\r\n\r\n        TreeNode node5 = new TreeNode(761471);\r\n        node1.children.add(node5);\r\n\r\n        TreeNode node6 = new TreeNode(432478);\r\n        node4.children.add(node6);\r\n\r\n        long result = sumOfDifferences(root);\r\n        System.out.println(result);  // Output: 4231495\r\n    }\r\n\r\n    public static long sumOfDifferences(TreeNode root) {\r\n        long[] result = new long[1];\r\n        dfs(root, result);\r\n        return result[0];\r\n    }\r\n\r\n    public static long[] dfs(TreeNode node, long[] result) {\r\n        int max = node.value;\r\n        int min = node.value;\r\n        int sum = node.value;\r\n        int count = 1;\r\n\r\n        for (TreeNode child : node.children) {\r\n            long[] childStats = dfs(child, result);\r\n            max = Math.max(max, childStats[0]);\r\n            min = Math.min(min, childStats[1]);\r\n            sum += childStats[2];\r\n            count += childStats[3];\r\n        }\r\n\r\n        result[0] += (long) count * node.value - sum + (max - min);\r\n        return new long[]{max, min, sum, count};\r\n    }\r\n}\r\n\r\n```\r\n\r\nFeel free to ask any further question if you need more explanation.\r\n\r\nGood luck!","title":"Disjoint sets find the sum","body":"<p>As mentioned in comments, In your approach, you used two nested loops to iterate over all pairs of vertices, but this approach does not take into account the <em><strong>tree structure</strong></em> and the paths between vertices. It calculates the sum of all pairwise differences without considering the paths in the tree.</p>\n<p>To correctly solve this problem, you need to perform a <em><strong>depth-first traversal</strong></em> to calculate the sum of differences along the paths from each vertex to all other vertices.</p>\n<p>Specifically, you need to maintain the following information at each node:</p>\n<ol>\n<li>The sum of all values in the subtree rooted at that node.</li>\n<li>The maximum value in the subtree rooted at that node.</li>\n<li>The minimum value in the subtree rooted at that node.</li>\n<li>The number of nodes in the subtree rooted at that node.</li>\n</ol>\n<p>With this information, you can compute the difference D(i, j) between the maximum and minimum values along the path from node i to node j efficiently.</p>\n<p>In Java, you can define a <em><strong>TreeNode</strong></em> class to represent the tree structure and a <em><strong>sumOfDifferences</strong></em> method to calculate the sum of differences between the maximum and minimum values on all paths in the tree. The <em><strong>dfs</strong></em> method performs a depth-first traversal of the tree and computes the required statistics.The main idea is that the dfs method <em><strong>recursively</strong></em> calculates the sum of differences along all paths from the current vertex <em>u</em> to its descendants in the subtree, considering the values assigned to each vertex. The sum is accumulated and returned for each vertex, and the final result is the sum of all such values for all vertices in the tree.</p>\n<p>Here's the java example that I worked with:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass TreeNode {\n    int value;\n    List&lt;TreeNode&gt; children;\n\n    public TreeNode(int value) {\n        this.value = value;\n        this.children = new ArrayList&lt;&gt;();\n    }\n}\n\npublic class TreeDifferenceSum {\n    public static void main(String[] args) {\n        // Example usage:\n        TreeNode root = new TreeNode(201338);\n        TreeNode node1 = new TreeNode(761471);\n        TreeNode node2 = new TreeNode(227682);\n        TreeNode node3 = new TreeNode(627276);\n        TreeNode node4 = new TreeNode(432478);\n\n        root.children.add(node1);\n        root.children.add(node2);\n        root.children.add(node3);\n        root.children.add(node4);\n\n        TreeNode node5 = new TreeNode(761471);\n        node1.children.add(node5);\n\n        TreeNode node6 = new TreeNode(432478);\n        node4.children.add(node6);\n\n        long result = sumOfDifferences(root);\n        System.out.println(result);  // Output: 4231495\n    }\n\n    public static long sumOfDifferences(TreeNode root) {\n        long[] result = new long[1];\n        dfs(root, result);\n        return result[0];\n    }\n\n    public static long[] dfs(TreeNode node, long[] result) {\n        int max = node.value;\n        int min = node.value;\n        int sum = node.value;\n        int count = 1;\n\n        for (TreeNode child : node.children) {\n            long[] childStats = dfs(child, result);\n            max = Math.max(max, childStats[0]);\n            min = Math.min(min, childStats[1]);\n            sum += childStats[2];\n            count += childStats[3];\n        }\n\n        result[0] += (long) count * node.value - sum + (max - min);\n        return new long[]{max, min, sum, count};\n    }\n}\n\n</code></pre>\n<p>Feel free to ask any further question if you need more explanation.</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696165402,"creation_date":1696165402,"answer_id":77210579,"question_id":77209983,"body_markdown":"This problem has an O(n log n) solution using a [disjoint set data structure][1], which is probably why the words &quot;disjoint set&quot; appear in the title.\r\n\r\nFirst, though, we need to reframe the problem.\r\n\r\nImagine that we iterate through all simple paths in the tree, and in each path we find the max `A[i]` and the min `A[j]`, and then add `A[i]-A[j]` to our running sum...\r\n\r\nThe end result is that each `A[i]` will be added some number of times to the sum, and this number is the number of paths in which `A[i]` is maximum.  Similarly each `A[j]` will be subtracted a number of times equal to the number of paths in which it is the minimum.\r\n\r\nWe can calculate these multiples for every vertex in a much faster way, allowing us to find the sum much more quickly.\r\n\r\nFirst we will calculate the number of times that each `A[i]` is added and the sum of all those additions.  Remove all the edges from the tree, so that all the vertices are disconnected.  Sort the vertices by their weights in `A`, and iterate through the vertices in ascending weight order.  For each vertex `i`:\r\n\r\n - Add the edges containing vertex `i` to the tree.\r\n - Each edge we add will connect `i` to a different connected component.\r\n - These edges will create new paths, and vertex `i` will have the maximum `A[i]` in ALL of these paths, because we&#39;re walking them in sorted order.\r\n - If we keep track of the size of each connected component, then as we connect them together, we can calculate the number of new paths created `n` and add `n*A[i]` to our total.\r\n\r\nTo calculate the total of all subtractions, we use exactly the same procedure, except that we iterate the vertices in *descending* weight order, so that each vertex will be the minimum in all paths that it creates.\r\n\r\nThe disjoint set data structure can be used to keep track of the sizes of all the connected components.  Just use union by size instead of rank, make a set for each vertex, and union sets adjacent to each edge.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Disjoint-set_data_structure","title":"Disjoint sets find the sum","body":"<p>This problem has an O(n log n) solution using a <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">disjoint set data structure</a>, which is probably why the words &quot;disjoint set&quot; appear in the title.</p>\n<p>First, though, we need to reframe the problem.</p>\n<p>Imagine that we iterate through all simple paths in the tree, and in each path we find the max <code>A[i]</code> and the min <code>A[j]</code>, and then add <code>A[i]-A[j]</code> to our running sum...</p>\n<p>The end result is that each <code>A[i]</code> will be added some number of times to the sum, and this number is the number of paths in which <code>A[i]</code> is maximum.  Similarly each <code>A[j]</code> will be subtracted a number of times equal to the number of paths in which it is the minimum.</p>\n<p>We can calculate these multiples for every vertex in a much faster way, allowing us to find the sum much more quickly.</p>\n<p>First we will calculate the number of times that each <code>A[i]</code> is added and the sum of all those additions.  Remove all the edges from the tree, so that all the vertices are disconnected.  Sort the vertices by their weights in <code>A</code>, and iterate through the vertices in ascending weight order.  For each vertex <code>i</code>:</p>\n<ul>\n<li>Add the edges containing vertex <code>i</code> to the tree.</li>\n<li>Each edge we add will connect <code>i</code> to a different connected component.</li>\n<li>These edges will create new paths, and vertex <code>i</code> will have the maximum <code>A[i]</code> in ALL of these paths, because we're walking them in sorted order.</li>\n<li>If we keep track of the size of each connected component, then as we connect them together, we can calculate the number of new paths created <code>n</code> and add <code>n*A[i]</code> to our total.</li>\n</ul>\n<p>To calculate the total of all subtractions, we use exactly the same procedure, except that we iterate the vertices in <em>descending</em> weight order, so that each vertex will be the minimum in all paths that it creates.</p>\n<p>The disjoint set data structure can be used to keep track of the sizes of all the connected components.  Just use union by size instead of rank, make a set for each vertex, and union sets adjacent to each edge.</p>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696165402,"creation_date":1696154285,"question_id":77209983,"body_markdown":"Disjoint Sets: A tree that consists of N vertices is given. On each node/vertex, a number is written. The number written on each node/vertex is given in the form of an array A where A[i] will be the number written on the ith node.\r\n\r\nLet&#39;s denote a function D(a,b) as the difference between the maximum and minimum value of A[i] on a simple path connecting vertices A and B.\r\n\r\nFind the sum of all D(i,j) where 1 &lt;= i &lt;= N and i&lt;=j&lt;=N.\r\n\r\nInput Format:\r\nThe first line of input contains an integer N denoting the number of vertices in the tree.\r\n\r\nThe second line of input contains N integers A1, A2,......AN denoting the number is written on the vertices. \r\n\r\nNext N-1 lines contain two vertices U and V denoting an edge connecting vertex U and vertex V.\r\n\r\n**Example 1:**\r\n\r\n    4  --denotes N\r\n    2 2 3 1 --denotes N integers\r\n    1 2  --denotes two vertices U and V\r\n    1 3  --denotes two vertices U and V\r\n    1 4  --denotes two vertices U and V﻿\r\n\r\n**Constraints**\r\n\r\n    1 &lt;= N &lt;= 1000000.\r\n    1 &lt;= A[i] &lt;= 1000000.\r\n    1 &lt;= U,V &lt;= N.\r\n\r\n**Output Format**\r\n\r\n    The output contains a single integer denoting the sum of all D(i,j) where 1 &lt;= i &lt;= N and i&lt;=j&lt;=N.\r\n\r\n**Sample Output**\r\n\r\n    6\r\n\r\n**Explanation**\r\n\r\n    D(1,2)=2-2=0\r\n    D(1,3)=3-2=1 D(1,4)=2-1-1\r\n    D(2,3)=3-2=1\r\n    D(2,4)=2-1=1\r\n    D(3,4)=3-1=2\r\n    Sum: 1+1+1+1+2 = 6.\r\n\r\nHere is my code:\r\n\r\nBased on the above example, I am not clear what is the purpose of U and V arrays as they are not used for calculating the result. So I have come up with the below code using A array itself:\r\n\r\n    public long solve(int[] A, int[] U, int[] V) {\r\n    \tint n = A.length;\r\n    \tint result = 0;\r\n    \tfor(int i=0; i&lt;n; i++) {\r\n    \t\tint a1 = A[i];\r\n    \t\tfor(int j=i; j&lt;n; j++) {\r\n    \t\t\tint a2 = A[j];\r\n    \t\t\tresult += Math.abs(a1 - a2);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis code works for the above sample input. But getting the wrong output for the below test cases:\r\n\r\n**Example 2:**\r\n\r\n    5\r\n    201338 761471 227682 627276 432478\r\n    1 4\r\n    3 4\r\n    4 2\r\n    2 5\r\n\r\n**Expected Output**\r\n\r\n    4231495\r\n\r\n**My code Output:** \r\n﻿\r\n\r\n    3039720\r\n\r\n**Example 3:**\r\n\r\n    6\r\n    292534 971348 841318 313729 754982 262031\r\n    1 4\r\n    1 2\r\n    1 6\r\n    5 6\r\n    2 3\r\n\r\n**Expected Output**\r\n\r\n    7264803\r\n\r\n**My output:**\r\n\r\n    5634190\r\n\r\nWhat is the correct approach to solve this problem?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Disjoint sets find the sum","body":"<p>Disjoint Sets: A tree that consists of N vertices is given. On each node/vertex, a number is written. The number written on each node/vertex is given in the form of an array A where A[i] will be the number written on the ith node.</p>\n<p>Let's denote a function D(a,b) as the difference between the maximum and minimum value of A[i] on a simple path connecting vertices A and B.</p>\n<p>Find the sum of all D(i,j) where 1 &lt;= i &lt;= N and i&lt;=j&lt;=N.</p>\n<p>Input Format:\nThe first line of input contains an integer N denoting the number of vertices in the tree.</p>\n<p>The second line of input contains N integers A1, A2,......AN denoting the number is written on the vertices.</p>\n<p>Next N-1 lines contain two vertices U and V denoting an edge connecting vertex U and vertex V.</p>\n<p><strong>Example 1:</strong></p>\n<pre><code>4  --denotes N\n2 2 3 1 --denotes N integers\n1 2  --denotes two vertices U and V\n1 3  --denotes two vertices U and V\n1 4  --denotes two vertices U and V﻿\n</code></pre>\n<p><strong>Constraints</strong></p>\n<pre><code>1 &lt;= N &lt;= 1000000.\n1 &lt;= A[i] &lt;= 1000000.\n1 &lt;= U,V &lt;= N.\n</code></pre>\n<p><strong>Output Format</strong></p>\n<pre><code>The output contains a single integer denoting the sum of all D(i,j) where 1 &lt;= i &lt;= N and i&lt;=j&lt;=N.\n</code></pre>\n<p><strong>Sample Output</strong></p>\n<pre><code>6\n</code></pre>\n<p><strong>Explanation</strong></p>\n<pre><code>D(1,2)=2-2=0\nD(1,3)=3-2=1 D(1,4)=2-1-1\nD(2,3)=3-2=1\nD(2,4)=2-1=1\nD(3,4)=3-1=2\nSum: 1+1+1+1+2 = 6.\n</code></pre>\n<p>Here is my code:</p>\n<p>Based on the above example, I am not clear what is the purpose of U and V arrays as they are not used for calculating the result. So I have come up with the below code using A array itself:</p>\n<pre><code>public long solve(int[] A, int[] U, int[] V) {\n    int n = A.length;\n    int result = 0;\n    for(int i=0; i&lt;n; i++) {\n        int a1 = A[i];\n        for(int j=i; j&lt;n; j++) {\n            int a2 = A[j];\n            result += Math.abs(a1 - a2);\n        }\n    }\n}\n</code></pre>\n<p>This code works for the above sample input. But getting the wrong output for the below test cases:</p>\n<p><strong>Example 2:</strong></p>\n<pre><code>5\n201338 761471 227682 627276 432478\n1 4\n3 4\n4 2\n2 5\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>4231495\n</code></pre>\n<p><strong>My code Output:</strong>\n﻿</p>\n<pre><code>3039720\n</code></pre>\n<p><strong>Example 3:</strong></p>\n<pre><code>6\n292534 971348 841318 313729 754982 262031\n1 4\n1 2\n1 6\n5 6\n2 3\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>7264803\n</code></pre>\n<p><strong>My output:</strong></p>\n<pre><code>5634190\n</code></pre>\n<p>What is the correct approach to solve this problem?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1624427235,"post_id":68092285,"comment_id":120352358,"body_markdown":"He should add it as a maven dependency not download it himself.","body":"He should add it as a maven dependency not download it himself."}],"tags":[],"owner":{"account_id":22025312,"reputation":11,"user_id":16293419,"display_name":"Jagan Tirumalai"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1624409863,"creation_date":1624409863,"answer_id":68092285,"question_id":68088980,"body_markdown":"Try this site\r\n\r\nhttps://jar-download.com/artifacts/javax.xml.ws/jaxws-api/2.3.1/source-code\r\n\r\nDownload the jaxws-api.jar and add it to your lib folder. Then try to run...","title":"ClassNotFoundException: javax.xml.ws.Service","body":"<p>Try this site</p>\n<p><a href=\"https://jar-download.com/artifacts/javax.xml.ws/jaxws-api/2.3.1/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/javax.xml.ws/jaxws-api/2.3.1/source-code</a></p>\n<p>Download the jaxws-api.jar and add it to your lib folder. Then try to run...</p>\n"}],"owner":{"account_id":14251413,"reputation":97,"user_id":10294967,"display_name":"Juanma Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9053,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696165395,"creation_date":1624386147,"question_id":68088980,"body_markdown":"I am updating my multi-module spring boot app from Java 8 to Java 11, when I compile and run I have the next error:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean \r\n    with name &#39;useCaseConfiguration&#39;: Unsatisfied dependency expressed through field &#39;recordRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;recordRepositoryAdapter&#39; defined in class path resource [com/grupoasv/ifuner/configuration/RepositoryAdapterConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.grupoasv.ifuner.core.application.boundary.repository.IRecordRepository]: Factory method &#39;recordRepositoryAdapter&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/ws/Service\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:598)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:376)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1404)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:860)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\r\n\tat com.grupoasv.ifuner.IfunerApplication.main(IfunerApplication.java:14)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;recordRepositoryAdapter&#39; defined in class path resource [com/grupoasv/ifuner/configuration/RepositoryAdapterConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.grupoasv.ifuner.core.application.boundary.repository.IRecordRepository]: Factory method &#39;recordRepositoryAdapter&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/ws/Service\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1320)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1159)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1271)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1191)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:595)\r\n\t... 19 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.grupoasv.ifuner.core.application.boundary.repository.IRecordRepository]: Factory method &#39;recordRepositoryAdapter&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/ws/Service\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)\r\n\t... 32 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/xml/ws/Service\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration.recordRepositoryAdapter(RepositoryAdapterConfiguration.java:457)\r\n\tat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration$$EnhancerBySpringCGLIB$$80ba45a9.CGLIB$recordRepositoryAdapter$33(&lt;generated&gt;)\r\n\tat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration$$EnhancerBySpringCGLIB$$80ba45a9$$FastClassBySpringCGLIB$$ddd4bcbb.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)\r\n\tat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration$$EnhancerBySpringCGLIB$$80ba45a9.recordRepositoryAdapter(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 33 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.ws.Service\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 53 common frames omitted\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\nI try with adding this dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd many more dependencies, I think that is something relationship with JavaEE modules and Corba by Java 11 update, but I try other answers on stack overflow, but nothing works, any idea? \r\n","title":"ClassNotFoundException: javax.xml.ws.Service","body":"<p>I am updating my multi-module spring boot app from Java 8 to Java 11, when I compile and run I have the next error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean \nwith name 'useCaseConfiguration': Unsatisfied dependency expressed through field 'recordRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'recordRepositoryAdapter' defined in class path resource [com/grupoasv/ifuner/configuration/RepositoryAdapterConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.grupoasv.ifuner.core.application.boundary.repository.IRecordRepository]: Factory method 'recordRepositoryAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/ws/Service\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:598)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:376)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1404)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:860)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\nat com.grupoasv.ifuner.IfunerApplication.main(IfunerApplication.java:14)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'recordRepositoryAdapter' defined in class path resource [com/grupoasv/ifuner/configuration/RepositoryAdapterConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.grupoasv.ifuner.core.application.boundary.repository.IRecordRepository]: Factory method 'recordRepositoryAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/ws/Service\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1320)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1159)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1271)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1191)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:595)\n... 19 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.grupoasv.ifuner.core.application.boundary.repository.IRecordRepository]: Factory method 'recordRepositoryAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/ws/Service\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)\n... 32 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/xml/ws/Service\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration.recordRepositoryAdapter(RepositoryAdapterConfiguration.java:457)\nat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration$$EnhancerBySpringCGLIB$$80ba45a9.CGLIB$recordRepositoryAdapter$33(&lt;generated&gt;)\nat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration$$EnhancerBySpringCGLIB$$80ba45a9$$FastClassBySpringCGLIB$$ddd4bcbb.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)\nat com.grupoasv.ifuner.configuration.RepositoryAdapterConfiguration$$EnhancerBySpringCGLIB$$80ba45a9.recordRepositoryAdapter(&lt;generated&gt;)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 33 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.xml.ws.Service\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 53 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n<p>I try with adding this dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And many more dependencies, I think that is something relationship with JavaEE modules and Corba by Java 11 update, but I try other answers on stack overflow, but nothing works, any idea?</p>\n"},{"tags":["java","spring","postgresql","spring-data"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1696165427,"post_id":77210557,"comment_id":136115857,"body_markdown":"Did you get it? https://stackoverflow.com/questions/61033132/migrating-from-java-8-to-java-11-not-able-to-load-jdk-internal-util-class-java","body":"Did you get it? <a href=\"https://stackoverflow.com/questions/61033132/migrating-from-java-8-to-java-11-not-able-to-load-jdk-internal-util-class-java\" title=\"migrating from java 8 to java 11 not able to load jdk internal util class java\">stackoverflow.com/questions/61033132/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696168169,"post_id":77210557,"comment_id":136116142,"body_markdown":"That Holger&#39;s comment in ^^^ implies that the problem is most likely due to instrumentation (or similar) going wrong.  (I looked at the code for `ArraysSupport` and I concur with what he said.)  On that basis, you should be checking that your Spring dependencies have consistent version numbers and they are all compatible with Java 11.  Likewise for your application&#39;s other dependencies.  My guess is that you have picked up a version of the `javassist` JAR (or similar) that is not compatible with your JVM,","body":"That Holger&#39;s comment in ^^^ implies that the problem is most likely due to instrumentation (or similar) going wrong.  (I looked at the code for <code>ArraysSupport</code> and I concur with what he said.)  On that basis, you should be checking that your Spring dependencies have consistent version numbers and they are all compatible with Java 11.  Likewise for your application&#39;s other dependencies.  My guess is that you have picked up a version of the <code>javassist</code> JAR (or similar) that is not compatible with your JVM,"}],"owner":{"account_id":29574530,"reputation":1,"user_id":22665860,"display_name":"Lex Parser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696166243,"answer_count":0,"score":0,"last_activity_date":1696164991,"creation_date":1696164991,"question_id":77210557,"body_markdown":"When I carefully removed part on functionality, I faced this error.\r\nI don&#39;t change anything in area there error is thrown. JDK distrib changes can&#39;t help (and I don&#39;t migrate from 8, stay only on 11). \r\n\r\nPart of log that I can show you:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class jdk.internal.util.ArraysSupport\r\n\tat java.util.Arrays.equals(Arrays.java:2873) ~[?:?]\r\n\tat sun.security.util.ObjectIdentifier.equals(ObjectIdentifier.java:381) ~[?:?]\r\n\tat sun.security.x509.AlgorithmId.derEncode(AlgorithmId.java:213) ~[?:?]\r\n\tat sun.security.x509.AlgorithmId.encode(AlgorithmId.java:158) ~[?:?]\r\n\tat sun.security.x509.X509Key.encode(X509Key.java:471) ~[?:?]\r\n\tat sun.security.x509.X509Key.buildX509Key(X509Key.java:214) ~[?:?]\r\n\tat sun.security.x509.X509Key.parse(X509Key.java:170) ~[?:?]\r\n\tat sun.security.x509.CertificateX509Key.&lt;init&gt;(CertificateX509Key.java:75) ~[?:?]\r\n\tat sun.security.x509.X509CertInfo.parse(X509CertInfo.java:674) ~[?:?]\r\n\tat sun.security.x509.X509CertInfo.&lt;init&gt;(X509CertInfo.java:169) ~[?:?]\r\n\tat sun.security.x509.X509CertImpl.parse(X509CertImpl.java:1842) ~[?:?]\r\n\tat sun.security.x509.X509CertImpl.&lt;init&gt;(X509CertImpl.java:194) ~[?:?]\r\n\tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:105) ~[?:?]\r\n\tat java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:355) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:435) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[?:?]\r\n\tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[?:?]\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[?:?]\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:182) ~[?:?]\r\n\tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1426) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1336) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421) ~[?:?]\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:40) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:441) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:94) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:458) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat org.postgresql.Driver.connect(Driver.java:260) ~[postgresql-42.2.6.jar:42.2.6]\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:?]\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:189) ~[java.sql:?]\r\n\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:155) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:146) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.datasource.SingleConnectionDataSource.initConnection(SingleConnectionDataSource.java:224) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.datasource.SingleConnectionDataSource.getConnection(SingleConnectionDataSource.java:164) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:508) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:515) ~[spring-jdbc-5.3.12.jar:5.3.12]\r\n```","title":"Could not initialize class jdk.internal.util.ArraysSupport","body":"<p>When I carefully removed part on functionality, I faced this error.\nI don't change anything in area there error is thrown. JDK distrib changes can't help (and I don't migrate from 8, stay only on 11).</p>\n<p>Part of log that I can show you:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class jdk.internal.util.ArraysSupport\n    at java.util.Arrays.equals(Arrays.java:2873) ~[?:?]\n    at sun.security.util.ObjectIdentifier.equals(ObjectIdentifier.java:381) ~[?:?]\n    at sun.security.x509.AlgorithmId.derEncode(AlgorithmId.java:213) ~[?:?]\n    at sun.security.x509.AlgorithmId.encode(AlgorithmId.java:158) ~[?:?]\n    at sun.security.x509.X509Key.encode(X509Key.java:471) ~[?:?]\n    at sun.security.x509.X509Key.buildX509Key(X509Key.java:214) ~[?:?]\n    at sun.security.x509.X509Key.parse(X509Key.java:170) ~[?:?]\n    at sun.security.x509.CertificateX509Key.&lt;init&gt;(CertificateX509Key.java:75) ~[?:?]\n    at sun.security.x509.X509CertInfo.parse(X509CertInfo.java:674) ~[?:?]\n    at sun.security.x509.X509CertInfo.&lt;init&gt;(X509CertInfo.java:169) ~[?:?]\n    at sun.security.x509.X509CertImpl.parse(X509CertImpl.java:1842) ~[?:?]\n    at sun.security.x509.X509CertImpl.&lt;init&gt;(X509CertImpl.java:194) ~[?:?]\n    at sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:105) ~[?:?]\n    at java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:355) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:435) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[?:?]\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[?:?]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[?:?]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421) ~[?:?]\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182) ~[?:?]\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1426) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1336) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421) ~[?:?]\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:40) ~[postgresql-42.2.6.jar:42.2.6]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:441) ~[postgresql-42.2.6.jar:42.2.6]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:94) ~[postgresql-42.2.6.jar:42.2.6]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.6.jar:42.2.6]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.6.jar:42.2.6]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195) ~[postgresql-42.2.6.jar:42.2.6]\n    at org.postgresql.Driver.makeConnection(Driver.java:458) ~[postgresql-42.2.6.jar:42.2.6]\n    at org.postgresql.Driver.connect(Driver.java:260) ~[postgresql-42.2.6.jar:42.2.6]\n    at java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:?]\n    at java.sql.DriverManager.getConnection(DriverManager.java:189) ~[java.sql:?]\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:155) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:146) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.datasource.SingleConnectionDataSource.initConnection(SingleConnectionDataSource.java:224) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.datasource.SingleConnectionDataSource.getConnection(SingleConnectionDataSource.java:164) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:508) ~[spring-jdbc-5.3.12.jar:5.3.12]\n    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:515) ~[spring-jdbc-5.3.12.jar:5.3.12]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","database-connectivity"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1696165194,"post_id":77210497,"comment_id":136115833,"body_markdown":"Does this answer your question? [Spring boot - Not a managed type](https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type\">Spring boot - Not a managed type</a>"},{"owner":{"account_id":22948774,"reputation":1,"user_id":18747620,"display_name":"Jatin Bundel"},"score":0,"creation_date":1696165633,"post_id":77210497,"comment_id":136115883,"body_markdown":"@HovercraftFullOfEels Thanks my problem is resolved what I do is just replace \n```import javax.persistence``` To ```import jakarta.persistence```","body":"@HovercraftFullOfEels Thanks my problem is resolved what I do is just replace  <code>import javax.persistence</code> To <code>import jakarta.persistence</code>"},{"owner":{"account_id":22948774,"reputation":1,"user_id":18747620,"display_name":"Jatin Bundel"},"score":0,"creation_date":1696166386,"post_id":77210497,"comment_id":136115960,"body_markdown":"Now data is not Entering in the Database","body":"Now data is not Entering in the Database"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1696169403,"post_id":77210497,"comment_id":136116281,"body_markdown":"Then you&#39;ve got other, new problems.","body":"Then you&#39;ve got other, new problems."}],"owner":{"account_id":22948774,"reputation":1,"user_id":18747620,"display_name":"Jatin Bundel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696167456,"answer_count":0,"score":0,"last_activity_date":1696164942,"creation_date":1696163951,"question_id":77210497,"body_markdown":"**BootjpaexampleApplication.java**\r\n```\r\npackage com.jpa.test;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ApplicationContext;\r\n\r\nimport com.jpa.test.dao.EmployeeRepository;\r\nimport com.jpa.test.entities.EmployeeDetails;\r\n\r\n@SpringBootApplication\r\npublic class BootjpaexampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplicationContext context = SpringApplication.run(BootjpaexampleApplication.class, args);\r\n\t\t\r\n\t\tEmployeeRepository employeeRepository = context.getBean(EmployeeRepository.class);\r\n\t\t\r\n\t\tEmployeeDetails empDetails = new EmployeeDetails();\r\n\t\t\r\n\t\tempDetails.setEmpName(&quot;Jatin Bundel&quot;);\r\n\t\tempDetails.setEmpDepartment(&quot;Software Developer&quot;);\r\n\t\tempDetails.setEmpSalary(420000);\r\n\t\t\r\n\t\tEmployeeDetails empDetails1 = employeeRepository.save(empDetails);\r\n\t\t\r\n\t\tSystem.out.println(empDetails1);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**EmployeeDetails.java**\r\n\r\n```\r\npackage com.jpa.test.entities;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class EmployeeDetails {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int id;\r\n\t\r\n\tprivate String empName;\r\n\t\r\n\tprivate String empDepartment;\r\n\t\r\n\tprivate double empSalary;\r\n\r\n\tpublic EmployeeDetails(int id, String empName, String empDepartment, double empSalary) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.empName = empName;\r\n\t\tthis.empDepartment = empDepartment;\r\n\t\tthis.empSalary = empSalary;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getEmpName() {\r\n\t\treturn empName;\r\n\t}\r\n\r\n\tpublic void setEmpName(String empName) {\r\n\t\tthis.empName = empName;\r\n\t}\r\n\r\n\tpublic String getEmpDepartment() {\r\n\t\treturn empDepartment;\r\n\t}\r\n\r\n\tpublic void setEmpDepartment(String empDepartment) {\r\n\t\tthis.empDepartment = empDepartment;\r\n\t}\r\n\r\n\tpublic double getEmpSalary() {\r\n\t\treturn empSalary;\r\n\t}\r\n\r\n\tpublic void setEmpSalary(double empSalary) {\r\n\t\tthis.empSalary = empSalary;\r\n\t}\r\n\r\n\tpublic EmployeeDetails() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;EmployeeDetails [id=&quot; + id + &quot;, empName=&quot; + empName + &quot;, empDepartment=&quot; + empDepartment\r\n\t\t\t\t+ &quot;, empSalary=&quot; + empSalary + &quot;]&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n**EmployeeRepository.java**\r\n```\r\npackage com.jpa.test.dao;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\nimport com.jpa.test.entities.EmployeeDetails;\r\n\r\npublic interface EmployeeRepository extends CrudRepository&lt;EmployeeDetails, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\n\r\n**application.properties**\r\n```\r\nspring.datasource.name=test\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\n\r\n\r\n\r\nI already tried to add all files in the main package but does not solved this error.\r\n\r\nI did changed my application properties. And tried every single combination but it refuses to work.\r\n\r\n\r\n# Error\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-01T17:56:08.903+05:30 ERROR 3248 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in com.jpa.test.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.jpa.test.EmployeeDetails\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat com.jpa.test.BootjpaexampleApplication.main(BootjpaexampleApplication.java:11) ~[classes/:na]\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.jpa.test.EmployeeDetails\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82) ~[spring-data-jpa-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.4.jar:3.1.4]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.4.jar:3.1.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\t... 15 common frames omitted\r\n```","title":"I am currently practicing Spring Boot with Mysql database and after running application getting this error for employeeRepository","body":"<p><strong>BootjpaexampleApplication.java</strong></p>\n<pre><code>package com.jpa.test;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\n\nimport com.jpa.test.dao.EmployeeRepository;\nimport com.jpa.test.entities.EmployeeDetails;\n\n@SpringBootApplication\npublic class BootjpaexampleApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(BootjpaexampleApplication.class, args);\n        \n        EmployeeRepository employeeRepository = context.getBean(EmployeeRepository.class);\n        \n        EmployeeDetails empDetails = new EmployeeDetails();\n        \n        empDetails.setEmpName(&quot;Jatin Bundel&quot;);\n        empDetails.setEmpDepartment(&quot;Software Developer&quot;);\n        empDetails.setEmpSalary(420000);\n        \n        EmployeeDetails empDetails1 = employeeRepository.save(empDetails);\n        \n        System.out.println(empDetails1);\n    }\n\n}\n</code></pre>\n<p><strong>EmployeeDetails.java</strong></p>\n<pre><code>package com.jpa.test.entities;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class EmployeeDetails {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    \n    private String empName;\n    \n    private String empDepartment;\n    \n    private double empSalary;\n\n    public EmployeeDetails(int id, String empName, String empDepartment, double empSalary) {\n        super();\n        this.id = id;\n        this.empName = empName;\n        this.empDepartment = empDepartment;\n        this.empSalary = empSalary;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getEmpName() {\n        return empName;\n    }\n\n    public void setEmpName(String empName) {\n        this.empName = empName;\n    }\n\n    public String getEmpDepartment() {\n        return empDepartment;\n    }\n\n    public void setEmpDepartment(String empDepartment) {\n        this.empDepartment = empDepartment;\n    }\n\n    public double getEmpSalary() {\n        return empSalary;\n    }\n\n    public void setEmpSalary(double empSalary) {\n        this.empSalary = empSalary;\n    }\n\n    public EmployeeDetails() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public String toString() {\n        return &quot;EmployeeDetails [id=&quot; + id + &quot;, empName=&quot; + empName + &quot;, empDepartment=&quot; + empDepartment\n                + &quot;, empSalary=&quot; + empSalary + &quot;]&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>EmployeeRepository.java</strong></p>\n<pre><code>package com.jpa.test.dao;\n\nimport org.springframework.data.repository.CrudRepository;\n\nimport com.jpa.test.entities.EmployeeDetails;\n\npublic interface EmployeeRepository extends CrudRepository&lt;EmployeeDetails, Integer&gt; {\n\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.name=test\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>I already tried to add all files in the main package but does not solved this error.</p>\n<p>I did changed my application properties. And tried every single combination but it refuses to work.</p>\n<h1>Error</h1>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-01T17:56:08.903+05:30 ERROR 3248 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in com.jpa.test.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.jpa.test.EmployeeDetails\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\n    at com.jpa.test.BootjpaexampleApplication.main(BootjpaexampleApplication.java:11) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.jpa.test.EmployeeDetails\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82) ~[spring-data-jpa-3.1.4.jar:3.1.4]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.4.jar:3.1.4]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.4.jar:3.1.4]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.4.jar:3.1.4]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.4.jar:3.1.4]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.4.jar:3.1.4]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.4.jar:3.1.4]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.4.jar:3.1.4]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.4.jar:3.1.4]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.4.jar:3.1.4]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.4.jar:3.1.4]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.4.jar:3.1.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar:6.0.12]\n    ... 15 common frames omitted\n</code></pre>\n"},{"tags":["java","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":969545,"reputation":1876,"user_id":992347,"accept_rate":74,"display_name":"Gabriel Mu&#241;umel"},"score":0,"creation_date":1683620454,"post_id":76182066,"comment_id":134390487,"body_markdown":"I tried your suggestions but unfortunately didn&#39;t work, however I think you reasoning is correct. At the end I pass `logger` as a parameter for my `error` method and works as expected. Thanks anyway.","body":"I tried your suggestions but unfortunately didn&#39;t work, however I think you reasoning is correct. At the end I pass <code>logger</code> as a parameter for my <code>error</code> method and works as expected. Thanks anyway."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683624573,"post_id":76182066,"comment_id":134391455,"body_markdown":"@GabrielMu&#241;umel what does &quot;didn&#39;t work&quot; mean exactly? Still no calls? Did you verify if the verified instance is the instance from your service?","body":"@GabrielMu&#241;umel what does &quot;didn&#39;t work&quot; mean exactly? Still no calls? Did you verify if the verified instance is the instance from your service?"},{"owner":{"account_id":969545,"reputation":1876,"user_id":992347,"accept_rate":74,"display_name":"Gabriel Mu&#241;umel"},"score":0,"creation_date":1683627449,"post_id":76182066,"comment_id":134392163,"body_markdown":"Indeed the verified instances are not the same. I see that in the `@BeforeEach` the `logger` instance is recreate even thought is marked as final.","body":"Indeed the verified instances are not the same. I see that in the <code>@BeforeEach</code> the <code>logger</code> instance is recreate even thought is marked as final."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683629274,"post_id":76182066,"comment_id":134392587,"body_markdown":"@GabrielMu&#241;umel which logger instance in `@BeforeEach`? The logger instance is only created once in the fielde initializer. There cannot exist multiple instances of the `Logger loggerMock` field.","body":"@GabrielMu&#241;umel which logger instance in <code>@BeforeEach</code>? The logger instance is only created once in the fielde initializer. There cannot exist multiple instances of the <code>Logger loggerMock</code> field."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696164798,"creation_date":1683288735,"answer_id":76182066,"question_id":76181701,"body_markdown":"The line\r\n\r\n```\r\nprivate static final Logger logger = LogManager.getLogger(&quot;MyCoreLog&quot;);\r\n```\r\n\r\nis executed and assigned _only once_, when your `MyCoreLog` class is initially loaded (on first access).\r\n\r\nSo in the first test &quot;logger(1)&quot; is assigned to the static field `MyCoreLog#logger`. The second test creates a new instance &quot;logger(2)&quot; which is never assigned to your static field (because static field initializers are executed _once exactly_).\r\nWhen executing the second test, your `MyCoreLog` still holds a reference to the logger from the first test.\r\n\r\nThis is another spin on https://stackoverflow.com/q/74027324/112968 albeit a bit more tricky to detect. You should be able to verify by using a debugger and checking and comparing the object identity of the `logger` instances in both tests and in your class.\r\n\r\nHow to solve?\r\n\r\n1. Create only a single mock of &quot;logger&quot; and assign it in a `@BeforeClass` method or when loading your test class, then use this reference in `verify`\r\n2. Get rid of the mocks and verify call altogether. Use reflection or your logging framework&#39;s facilities to query the list of active loggers and then perform the check on this logger instance. \r\n\r\nExample code for solution 1:\r\n\r\n```\r\nclass CoreLogTest {\r\n    MockedStatic&lt;LogManager&gt; logManager;\r\n    // only a single shared instance (the static keyword is important):\r\n    private static final Logger loggerMock = mock(Logger.class);\r\n\r\n    @BeforeEach\r\n    public void setUp()\r\n    {\r\n        logManager = mockStatic(LogManager.class);\r\n        // LogManager.getLogger is still only executed by the first test!\r\n        logManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(logger);\r\n    }\r\n\r\n    @AfterEach\r\n    public void tearDown() throws Exception\r\n    {\r\n        logManager.close();\r\n    }\r\n    \r\n    \r\n    @Test\r\n    void error() {\r\n        String errorMessage = &quot;error message&quot;;\r\n\r\n        MyCoreLog.error(errorMessage);\r\n\r\n        verify(logger).error(errorMessage); // Ok\r\n    }\r\n    \r\n    @Test\r\n    void errorWith() {\r\n        String errorMessage = &quot;error message 2&quot;;\r\n\r\n        MyCoreLog.error(errorMessage);\r\n\r\n        verify(logger).error(errorMessage);\r\n    }\r\n}\r\n```","title":"There were zero interactions with this mock when run tests together","body":"<p>The line</p>\n<pre><code>private static final Logger logger = LogManager.getLogger(&quot;MyCoreLog&quot;);\n</code></pre>\n<p>is executed and assigned <em>only once</em>, when your <code>MyCoreLog</code> class is initially loaded (on first access).</p>\n<p>So in the first test &quot;logger(1)&quot; is assigned to the static field <code>MyCoreLog#logger</code>. The second test creates a new instance &quot;logger(2)&quot; which is never assigned to your static field (because static field initializers are executed <em>once exactly</em>).\nWhen executing the second test, your <code>MyCoreLog</code> still holds a reference to the logger from the first test.</p>\n<p>This is another spin on <a href=\"https://stackoverflow.com/q/74027324/112968\">Why are my mocked methods not called when executing a unit test?</a> albeit a bit more tricky to detect. You should be able to verify by using a debugger and checking and comparing the object identity of the <code>logger</code> instances in both tests and in your class.</p>\n<p>How to solve?</p>\n<ol>\n<li>Create only a single mock of &quot;logger&quot; and assign it in a <code>@BeforeClass</code> method or when loading your test class, then use this reference in <code>verify</code></li>\n<li>Get rid of the mocks and verify call altogether. Use reflection or your logging framework's facilities to query the list of active loggers and then perform the check on this logger instance.</li>\n</ol>\n<p>Example code for solution 1:</p>\n<pre><code>class CoreLogTest {\n    MockedStatic&lt;LogManager&gt; logManager;\n    // only a single shared instance (the static keyword is important):\n    private static final Logger loggerMock = mock(Logger.class);\n\n    @BeforeEach\n    public void setUp()\n    {\n        logManager = mockStatic(LogManager.class);\n        // LogManager.getLogger is still only executed by the first test!\n        logManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(logger);\n    }\n\n    @AfterEach\n    public void tearDown() throws Exception\n    {\n        logManager.close();\n    }\n    \n    \n    @Test\n    void error() {\n        String errorMessage = &quot;error message&quot;;\n\n        MyCoreLog.error(errorMessage);\n\n        verify(logger).error(errorMessage); // Ok\n    }\n    \n    @Test\n    void errorWith() {\n        String errorMessage = &quot;error message 2&quot;;\n\n        MyCoreLog.error(errorMessage);\n\n        verify(logger).error(errorMessage);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969545,"reputation":1876,"user_id":992347,"accept_rate":74,"display_name":"Gabriel Mu&#241;umel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683628642,"creation_date":1683628642,"answer_id":76208421,"question_id":76181701,"body_markdown":"The only way I solved this was:\r\n\r\n```java\r\nclass CoreLogTest {\r\n    private static MockedStatic&lt;LogManager&gt; logManager;\r\n    // only a single shared instance:\r\n    private static final Logger loggerMock = mock(Logger.class);\r\n\r\n    @BeforeAll\r\n    public static void setUp()\r\n    {\r\n        logManager = mockStatic(LogManager.class);\r\n        // LogManager.getLogger is still only executed by the first test!\r\n        logManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(loggerMock);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void tearDown()\r\n    {\r\n        logManager.close();\r\n    }\r\n    \r\n    \r\n    @Test\r\n    void error() {\r\n        String errorMessage = &quot;error message&quot;;\r\n\r\n        MyCoreLog.error(errorMessage);\r\n\r\n        verify(logger).error(errorMessage); // Ok\r\n    }\r\n    \r\n    @Test\r\n    void errorWith() {\r\n        String errorMessage = &quot;error message 2&quot;;\r\n\r\n        MyCoreLog.error(errorMessage);\r\n\r\n        verify(logger).error(errorMessage);\r\n    }\r\n}\r\n```\r\n","title":"There were zero interactions with this mock when run tests together","body":"<p>The only way I solved this was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CoreLogTest {\n    private static MockedStatic&lt;LogManager&gt; logManager;\n    // only a single shared instance:\n    private static final Logger loggerMock = mock(Logger.class);\n\n    @BeforeAll\n    public static void setUp()\n    {\n        logManager = mockStatic(LogManager.class);\n        // LogManager.getLogger is still only executed by the first test!\n        logManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(loggerMock);\n    }\n\n    @AfterAll\n    public static void tearDown()\n    {\n        logManager.close();\n    }\n    \n    \n    @Test\n    void error() {\n        String errorMessage = &quot;error message&quot;;\n\n        MyCoreLog.error(errorMessage);\n\n        verify(logger).error(errorMessage); // Ok\n    }\n    \n    @Test\n    void errorWith() {\n        String errorMessage = &quot;error message 2&quot;;\n\n        MyCoreLog.error(errorMessage);\n\n        verify(logger).error(errorMessage);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1696164866,"post_id":76579311,"comment_id":136115800,"body_markdown":"Ahh, very good point, yes! Without `static`, each test method would get a new instance again (JUnit creates a new instance of the class for every test method). I have fixed my answer too, to be correct. Thanks for noticing!","body":"Ahh, very good point, yes! Without <code>static</code>, each test method would get a new instance again (JUnit creates a new instance of the class for every test method). I have fixed my answer too, to be correct. Thanks for noticing!"}],"tags":[],"owner":{"account_id":17606059,"reputation":31,"user_id":12775089,"display_name":"Annanraen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688027293,"creation_date":1688027293,"answer_id":76579311,"question_id":76181701,"body_markdown":"I used the solution as posted by @knittl, with one small adjustment (adding static):\r\n\r\n    private static final Logger loggerMock = mock(Logger.class);\r\n\r\nps: couldn&#39;t add this as comment, due to low reputation","title":"There were zero interactions with this mock when run tests together","body":"<p>I used the solution as posted by @knittl, with one small adjustment (adding static):</p>\n<pre><code>private static final Logger loggerMock = mock(Logger.class);\n</code></pre>\n<p>ps: couldn't add this as comment, due to low reputation</p>\n"}],"owner":{"account_id":969545,"reputation":1876,"user_id":992347,"accept_rate":74,"display_name":"Gabriel Mu&#241;umel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696164798,"creation_date":1683286194,"question_id":76181701,"body_markdown":"I&#39;m getting the following error when run my tests together. If I run each test there is no issue. \r\n\r\n```bash\r\nWanted but not invoked:\r\nlogger.error(&quot;Error message 2&quot;);\r\n-&gt; at acme.logger.MyCoreLogTest.errorWith(MyCoreLogTest.java:74)\r\nActually, there were zero interactions with this mock.\r\n```\r\n\r\n**MyCoreLogger**:\r\n\r\n```java\r\npackage acme.mycore.logger;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\npublic class MyCoreLog {\r\n\tprivate static final Logger logger = LogManager.getLogger(&quot;MyCoreLog&quot;);\r\n\t\r\n\tpublic static final String id = &quot;my_id&quot;;\r\n\t\r\n\tpublic static void error(String message) {\r\n        if (System.getenv(id) != null)\r\n            logger.error(String.format(&quot;%s, %s=%s&quot;, message, id, System.getenv(id)));\r\n        else\r\n            logger.error(message);\r\n    }\r\n}\r\n```\r\n\r\n**CoreLogTest**:\r\n```java\r\npackage acme.mycore.logger;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.mockito.MockedStatic;\r\nimport static org.mockito.Mockito.*;\r\n\r\n\r\nclass CoreLogTest {\r\n\tMockedStatic&lt;LogManager&gt; logManager;\r\n    @BeforeEach\r\n    public void setUp()\r\n    {\r\n        logManager = mockStatic(LogManager.class);\r\n    }\r\n\r\n    @AfterEach\r\n    public void tearDown() throws Exception\r\n    {\r\n        logManager.close();\r\n    }\r\n\t\r\n\t\r\n\t@Test\r\n    void error() {\r\n        String errorMessage = &quot;error message&quot;;\r\n\r\n        Logger logger = mock(Logger.class);\r\n\t\tlogManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(logger);\r\n\r\n\t\tMyCoreLog.error(errorMessage);\r\n\r\n\t\tverify(logger).error(errorMessage); // Ok\r\n    }\r\n\t\r\n\t@Test\r\n    void errorWith() {\r\n        String errorMessage = &quot;error message 2&quot;;\r\n\r\n        Logger logger = mock(Logger.class);\r\n\t\tlogManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(logger);\r\n\r\n\t\tMyCoreLog.error(errorMessage);\r\n\r\n\t\tverify(logger).error(errorMessage);  // Wanted but not invoked: logger.error(&quot;error message 2&quot;); Actually, there were zero interactions with this mock.\r\n    }\r\n}\r\n\r\n```","title":"There were zero interactions with this mock when run tests together","body":"<p>I'm getting the following error when run my tests together. If I run each test there is no issue.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Wanted but not invoked:\nlogger.error(&quot;Error message 2&quot;);\n-&gt; at acme.logger.MyCoreLogTest.errorWith(MyCoreLogTest.java:74)\nActually, there were zero interactions with this mock.\n</code></pre>\n<p><strong>MyCoreLogger</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package acme.mycore.logger;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class MyCoreLog {\n    private static final Logger logger = LogManager.getLogger(&quot;MyCoreLog&quot;);\n    \n    public static final String id = &quot;my_id&quot;;\n    \n    public static void error(String message) {\n        if (System.getenv(id) != null)\n            logger.error(String.format(&quot;%s, %s=%s&quot;, message, id, System.getenv(id)));\n        else\n            logger.error(message);\n    }\n}\n</code></pre>\n<p><strong>CoreLogTest</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package acme.mycore.logger;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport org.apache.logging.log4j.Logger;\nimport org.mockito.MockedStatic;\nimport static org.mockito.Mockito.*;\n\n\nclass CoreLogTest {\n    MockedStatic&lt;LogManager&gt; logManager;\n    @BeforeEach\n    public void setUp()\n    {\n        logManager = mockStatic(LogManager.class);\n    }\n\n    @AfterEach\n    public void tearDown() throws Exception\n    {\n        logManager.close();\n    }\n    \n    \n    @Test\n    void error() {\n        String errorMessage = &quot;error message&quot;;\n\n        Logger logger = mock(Logger.class);\n        logManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(logger);\n\n        MyCoreLog.error(errorMessage);\n\n        verify(logger).error(errorMessage); // Ok\n    }\n    \n    @Test\n    void errorWith() {\n        String errorMessage = &quot;error message 2&quot;;\n\n        Logger logger = mock(Logger.class);\n        logManager.when(() -&gt; LogManager.getLogger(&quot;MyCoreLog&quot;)).thenReturn(logger);\n\n        MyCoreLog.error(errorMessage);\n\n        verify(logger).error(errorMessage);  // Wanted but not invoked: logger.error(&quot;error message 2&quot;); Actually, there were zero interactions with this mock.\n    }\n}\n\n</code></pre>\n"},{"tags":["java","web-services","tomcat","access-control"],"comments":[{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":1,"creation_date":1356081080,"post_id":13986868,"comment_id":19303143,"body_markdown":"[Duplicated](http://stackoverflow.com/questions/9648212/tomcat-403-error)","body":"<a href=\"http://stackoverflow.com/questions/9648212/tomcat-403-error\">Duplicated</a>"},{"owner":{"account_id":152539,"reputation":19707,"user_id":367141,"accept_rate":100,"display_name":"David"},"score":0,"creation_date":1356081932,"post_id":13986868,"comment_id":19303449,"body_markdown":"Please post your web.xml","body":"Please post your web.xml"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1356091995,"post_id":13986868,"comment_id":19307594,"body_markdown":"Is your app called &quot;dupload&quot; or &quot;mps4&quot;?","body":"Is your app called &quot;dupload&quot; or &quot;mps4&quot;?"},{"owner":{"account_id":251630,"reputation":3579,"user_id":529160,"accept_rate":70,"display_name":"Treper"},"score":0,"creation_date":1356317207,"post_id":13986868,"comment_id":19355709,"body_markdown":"My app called mps4. &quot;dupload&quot; have a html form to submit to the mps4 app to get task status.","body":"My app called mps4. &quot;dupload&quot; have a html form to submit to the mps4 app to get task status."}],"answers":[{"tags":[],"owner":{"account_id":5699180,"reputation":1,"user_id":4504767,"display_name":"Andev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422477307,"creation_date":1422477307,"answer_id":28201908,"question_id":13986868,"body_markdown":"You should fix this:\r\n\r\n    &lt;user username=&quot;viewer&quot; password=&quot;viewer&quot; roles=&quot;admin,tomcat,manager-gui,manager-script&quot;/&gt;\r\n\r\nThis user needs the role &#39;manager-script&#39; to be deleted so that he will gain the access via html-interface. So it should look like:\r\n\r\n    &lt;user username=&quot;viewer&quot; password=&quot;viewer&quot; roles=&quot;admin,tomcat,manager-gui&quot;/&gt;","title":"Why Tomcat gives 403 error?","body":"<p>You should fix this:</p>\n\n<pre><code>&lt;user username=\"viewer\" password=\"viewer\" roles=\"admin,tomcat,manager-gui,manager-script\"/&gt;\n</code></pre>\n\n<p>This user needs the role 'manager-script' to be deleted so that he will gain the access via html-interface. So it should look like:</p>\n\n<pre><code>&lt;user username=\"viewer\" password=\"viewer\" roles=\"admin,tomcat,manager-gui\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3067630,"reputation":145,"user_id":2598990,"display_name":"Jeroen K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422481310,"creation_date":1422481310,"answer_id":28202956,"question_id":13986868,"body_markdown":"Your web.xml says the role &#39;viewer&#39; is required. You log in as the admin user, who does not have that role. \r\n\r\nUpdate your tomcat-users.xml as follows: \r\n\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui, viewer&quot;/&gt;;\r\n\r\nOddly enough, your &#39;viewer&#39; user doesn&#39;t have the viewer role either, but that&#39;s not what causes the problem (if you log in as admin)\r\n","title":"Why Tomcat gives 403 error?","body":"<p>Your web.xml says the role 'viewer' is required. You log in as the admin user, who does not have that role. </p>\n\n<p>Update your tomcat-users.xml as follows: </p>\n\n<pre><code>&lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui, viewer\"/&gt;;\n</code></pre>\n\n<p>Oddly enough, your 'viewer' user doesn't have the viewer role either, but that's not what causes the problem (if you log in as admin)</p>\n"}],"owner":{"account_id":251630,"reputation":3579,"user_id":529160,"accept_rate":70,"display_name":"Treper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696161715,"creation_date":1356079657,"question_id":13986868,"body_markdown":"I configure my tomcat-users.xml below:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt; \r\n    &lt;tomcat-users&gt; \r\n    &lt;role rolename=&quot;tomcat&quot;/&gt; \r\n    &lt;role rolename=&quot;role1&quot;/&gt; \r\n    &lt;role rolename=&quot;manager&quot;/&gt; \r\n    &lt;role rolename=&quot;admin&quot;/&gt; \r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin,manager&quot;/&gt; \r\n    &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;tomcat&quot;/&gt; \r\n    &lt;user username=&quot;role1&quot; password=&quot;tomcat&quot; roles=&quot;role1&quot;/&gt; \r\n    &lt;user username=&quot;both&quot; password=&quot;tomcat&quot; roles=&quot;tomcat,role1&quot;/&gt;  \r\n    &lt;/tomcat-users&gt;\r\n\r\nI placed an html page under `webapps/dupload/task.html` page which submit a query form to a servlet. The html code is following:\r\n\r\n\r\n\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;\r\n    &lt;HTML&gt;\r\n    &lt;HEAD&gt;\r\n     &lt;TITLE&gt;A Sample Form Using POST&lt;/TITLE&gt;\r\n    &lt;/HEAD&gt;\r\n    \r\n    &lt;BODY BGCOLOR=&quot;#FDF5E6&quot;&gt;\r\n    &lt;H2 ALIGN=&quot;CENTER&quot;&gt;SimpleTaskQuery&lt;/H2&gt;\r\n    \r\n    &lt;FORM ACTION=&quot;http://10.5.20.78:8080/mps4/ui/SimpleTaskQueryServlet&quot;\r\n       METHOD=&quot;POST&quot;&gt;\r\n     &lt;CENTER&gt;\r\n    Task Id:\r\n     &lt;INPUT TYPE=&quot;TEXT&quot; NAME=&quot;id&quot; VALUE=&quot;111&quot;&gt;&lt;BR&gt;\r\n     &lt;INPUT TYPE=&quot;SUBMIT&quot;&gt;\r\n     &lt;/CENTER&gt;\r\n    &lt;/FORM&gt;\r\n    \r\n    &lt;/BODY&gt;\r\n    &lt;/HTML&gt;\r\n\r\n But when I submit the form, tomcat gives the following error:\r\n\r\n    HTTP Status 403 - Access to the requested resource has been denied\r\n    \r\n    type Status report\r\n    \r\n    message Access to the requested resource has been denied\r\n    \r\n    description Access to the specified resource (Access to the requested resource has been denied) has been forbidden.\r\n    \r\n    Apache Tomcat/7.0.26\r\n\r\nI have already edited the tomcat-users.xml and login with the admin user account. Why does this still not work? \r\n\r\n**Update:**\r\n\r\nThe webapp&#39;s web.xml is following:\r\nweb.xml:  \r\n\r\n     &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n          &lt;web-resource-name&gt;HTMLManger and Manager command&lt;/web-resource-name&gt;\r\n          &lt;url-pattern&gt;/ui/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint&gt;\r\n          &lt;role-name&gt;viewer&lt;/role-name&gt;\r\n        &lt;/auth-constraint&gt;\r\n      &lt;/security-constraint&gt;\r\n      &lt;login-config&gt;\r\n        &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n        &lt;realm-name&gt;Tomcat Manager Application&lt;/realm-name&gt;\r\n      &lt;/login-config&gt;\r\n      &lt;security-role&gt;\r\n        &lt;description&gt; &lt;/description&gt;\r\n        &lt;role-name&gt;viewer&lt;/role-name&gt;\r\n      &lt;/security-role&gt;\r\n\r\n\r\nＩ　ｅｄｉｔ　ｔｈｅ　ｔｏｍｃａｔ－ｕｓｅｒｓ．ｘｍｌ　ｔｏ：\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;tomcat-users&gt;\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n    &lt;role rolename=&quot;viewer&quot;/&gt;\r\n    &lt;role rolename=&quot;admin&quot;/&gt;\r\n    &lt;role rolename=&quot;tomcat&quot;/&gt;\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui&quot;/&gt;\r\n    &lt;user username=&quot;viewer&quot; password=&quot;viewer&quot; roles=&quot;admin,tomcat,manager-gui,manager-script&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\nＢｕｔ　ｉｔ　ｓｔｉｌｌ　ｎｏｔ　ｗｏｒｋ．","title":"Why Tomcat gives 403 error?","body":"<p>I configure my tomcat-users.xml below:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt; \n&lt;tomcat-users&gt; \n&lt;role rolename=\"tomcat\"/&gt; \n&lt;role rolename=\"role1\"/&gt; \n&lt;role rolename=\"manager\"/&gt; \n&lt;role rolename=\"admin\"/&gt; \n&lt;user username=\"admin\" password=\"admin\" roles=\"admin,manager\"/&gt; \n&lt;user username=\"tomcat\" password=\"tomcat\" roles=\"tomcat\"/&gt; \n&lt;user username=\"role1\" password=\"tomcat\" roles=\"role1\"/&gt; \n&lt;user username=\"both\" password=\"tomcat\" roles=\"tomcat,role1\"/&gt;  \n&lt;/tomcat-users&gt;\n</code></pre>\n\n<p>I placed an html page under <code>webapps/dupload/task.html</code> page which submit a query form to a servlet. The html code is following:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\"&gt;\n&lt;HTML&gt;\n&lt;HEAD&gt;\n &lt;TITLE&gt;A Sample Form Using POST&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n\n&lt;BODY BGCOLOR=\"#FDF5E6\"&gt;\n&lt;H2 ALIGN=\"CENTER\"&gt;SimpleTaskQuery&lt;/H2&gt;\n\n&lt;FORM ACTION=\"http://10.5.20.78:8080/mps4/ui/SimpleTaskQueryServlet\"\n   METHOD=\"POST\"&gt;\n &lt;CENTER&gt;\nTask Id:\n &lt;INPUT TYPE=\"TEXT\" NAME=\"id\" VALUE=\"111\"&gt;&lt;BR&gt;\n &lt;INPUT TYPE=\"SUBMIT\"&gt;\n &lt;/CENTER&gt;\n&lt;/FORM&gt;\n\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<p>But when I submit the form, tomcat gives the following error:</p>\n\n<pre><code>HTTP Status 403 - Access to the requested resource has been denied\n\ntype Status report\n\nmessage Access to the requested resource has been denied\n\ndescription Access to the specified resource (Access to the requested resource has been denied) has been forbidden.\n\nApache Tomcat/7.0.26\n</code></pre>\n\n<p>I have already edited the tomcat-users.xml and login with the admin user account. Why does this still not work? </p>\n\n<p><strong>Update:</strong></p>\n\n<p>The webapp's web.xml is following:\nweb.xml:  </p>\n\n<pre><code> &lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;HTMLManger and Manager command&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/ui/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n      &lt;role-name&gt;viewer&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n  &lt;/security-constraint&gt;\n  &lt;login-config&gt;\n    &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n    &lt;realm-name&gt;Tomcat Manager Application&lt;/realm-name&gt;\n  &lt;/login-config&gt;\n  &lt;security-role&gt;\n    &lt;description&gt; &lt;/description&gt;\n    &lt;role-name&gt;viewer&lt;/role-name&gt;\n  &lt;/security-role&gt;\n</code></pre>\n\n<p>Ｉ　ｅｄｉｔ　ｔｈｅ　ｔｏｍｃａｔ－ｕｓｅｒｓ．ｘｍｌ　ｔｏ：</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;tomcat-users&gt;\n&lt;role rolename=\"manager-gui\"/&gt;\n&lt;role rolename=\"manager-status\"/&gt;\n&lt;role rolename=\"manager-script\"/&gt;\n&lt;role rolename=\"manager-jmx\"/&gt;\n&lt;role rolename=\"viewer\"/&gt;\n&lt;role rolename=\"admin\"/&gt;\n&lt;role rolename=\"tomcat\"/&gt;\n&lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui\"/&gt;\n&lt;user username=\"viewer\" password=\"viewer\" roles=\"admin,tomcat,manager-gui,manager-script\"/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n\n<p>Ｂｕｔ　ｉｔ　ｓｔｉｌｌ　ｎｏｔ　ｗｏｒｋ．</p>\n"},{"tags":["java","arrays","list","java-8","equals"],"comments":[{"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"score":2,"creation_date":1455536674,"post_id":35408290,"comment_id":58517894,"body_markdown":"If you were just using List&lt;List&lt;String&gt;&gt; instead of List&lt;String[]&gt; you would be able to do list1.equals(list2). The actual comparison (under the covers) will still be brute force though.","body":"If you were just using List&lt;List&lt;String&gt;&gt; instead of List&lt;String[]&gt; you would be able to do list1.equals(list2). The actual comparison (under the covers) will still be brute force though."},{"owner":{"account_id":3686352,"reputation":3327,"user_id":3070062,"display_name":"Falco"},"score":3,"creation_date":1455555688,"post_id":35408290,"comment_id":58530829,"body_markdown":"The code works, is fast and easy to read/understand and maintain... why the hell change it? Why is shorter better ?","body":"The code works, is fast and easy to read/understand and maintain... why the hell change it? Why is shorter better ?"},{"owner":{"account_id":1464388,"reputation":3904,"user_id":1377706,"accept_rate":83,"display_name":"Pharap"},"score":1,"creation_date":1455579123,"post_id":35408290,"comment_id":58542575,"body_markdown":"Bear in mind shorter solutions might also be slower.","body":"Bear in mind shorter solutions might also be slower."},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":3,"creation_date":1455659505,"post_id":35408290,"comment_id":58585442,"body_markdown":"What&#39;s &quot;better&quot;? Faster? Easier to maintain? Uses less memory?","body":"What&#39;s &quot;better&quot;? Faster? Easier to maintain? Uses less memory?"},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":0,"creation_date":1456149657,"post_id":35408290,"comment_id":58799017,"body_markdown":"@MartinSchr&#246;der I clarified the question a bit about that.","body":"@MartinSchr&#246;der I clarified the question a bit about that."}],"answers":[{"comments":[{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":13,"creation_date":1455537170,"post_id":35408484,"comment_id":58518271,"body_markdown":"Quite nice solution. Worth adding that it is inefficient for non `RandomAccess` lists.","body":"Quite nice solution. Worth adding that it is inefficient for non <code>RandomAccess</code> lists."},{"owner":{"account_id":3018965,"reputation":1491,"user_id":2581168,"accept_rate":50,"display_name":"ymbirtt"},"score":10,"creation_date":1455550948,"post_id":35408484,"comment_id":58527530,"body_markdown":"@cat, in the general case there&#39;s no way to compare two collections of n elements any faster than O(n).","body":"@cat, in the general case there&#39;s no way to compare two collections of n elements any faster than O(n)."},{"owner":{"account_id":1280505,"reputation":4486,"user_id":1234693,"accept_rate":62,"display_name":"Darrel Hoffman"},"score":17,"creation_date":1455558209,"post_id":35408484,"comment_id":58532286,"body_markdown":"@ymbirtt: Actually, there&#39;s a way, but it&#39;d require you to write your own collection or extend an existing one and modify it.  Just keep a hash code on the collection.  Every time an item is added, adjust the hash accordingly (e.g. multiply by a prime and add the item&#39;s hash code).  Then all you have to do is compare hashes of 2 collections, which is O(1).  Since there&#39;s a possibility of collision, you might optionally do a full compare only when the hashes match, so it&#39;d be O(n) then but much faster the rest of the time.  Also, deleting or editing items in the collection might be complicated.","body":"@ymbirtt: Actually, there&#39;s a way, but it&#39;d require you to write your own collection or extend an existing one and modify it.  Just keep a hash code on the collection.  Every time an item is added, adjust the hash accordingly (e.g. multiply by a prime and add the item&#39;s hash code).  Then all you have to do is compare hashes of 2 collections, which is O(1).  Since there&#39;s a possibility of collision, you might optionally do a full compare only when the hashes match, so it&#39;d be O(n) then but much faster the rest of the time.  Also, deleting or editing items in the collection might be complicated."},{"owner":{"account_id":3122746,"reputation":35134,"user_id":2642204,"accept_rate":95,"display_name":"BartoszKP"},"score":1,"creation_date":1455590386,"post_id":35408484,"comment_id":58545610,"body_markdown":"`zip` is much more natural for such problems and it&#39;s a well-known idiom across many different languages - as presented in [hahn&#39;s answer](http://stackoverflow.com/a/35408718/2642204). Not to mention performance superiority in some cases (as mentioned by @JaroslawPawlak in the top comment).","body":"<code>zip</code> is much more natural for such problems and it&#39;s a well-known idiom across many different languages - as presented in <a href=\"http://stackoverflow.com/a/35408718/2642204\">hahn&#39;s answer</a>. Not to mention performance superiority in some cases (as mentioned by @JaroslawPawlak in the top comment)."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":8,"creation_date":1455611882,"post_id":35408484,"comment_id":58553820,"body_markdown":"@DarrelHoffman For accurate comparison, you *must* compare every element if the hashes match.","body":"@DarrelHoffman For accurate comparison, you <i>must</i> compare every element if the hashes match."},{"owner":{"account_id":1280505,"reputation":4486,"user_id":1234693,"accept_rate":62,"display_name":"Darrel Hoffman"},"score":1,"creation_date":1455636559,"post_id":35408484,"comment_id":58571004,"body_markdown":"@immibis: I suppose the overall amortized performance depends on how often you&#39;re likely to compare matching vs. non-matching collections.  Still, with a decent hash function, the odds of two non-matching collections having a matching hash are very small, so the overwhelming majority of non-matches can be determined very quickly.  If you expect to get matches very frequently (or you intend to change/delete items regularly, which would probably require an O(n) rehashing), this won&#39;t work as well.","body":"@immibis: I suppose the overall amortized performance depends on how often you&#39;re likely to compare matching vs. non-matching collections.  Still, with a decent hash function, the odds of two non-matching collections having a matching hash are very small, so the overwhelming majority of non-matches can be determined very quickly.  If you expect to get matches very frequently (or you intend to change/delete items regularly, which would probably require an O(n) rehashing), this won&#39;t work as well."},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1455659577,"post_id":35408484,"comment_id":58585480,"body_markdown":"Beware the overhead of streams and lambdas. This can well be slower and consume more memory than the original solution.","body":"Beware the overhead of streams and lambdas. This can well be slower and consume more memory than the original solution."},{"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"score":0,"creation_date":1455733377,"post_id":35408484,"comment_id":58625077,"body_markdown":"@cat in case the size is different, it is `O(1)` in this solution","body":"@cat in case the size is different, it is <code>O(1)</code> in this solution"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1501852385,"post_id":35408484,"comment_id":77976269,"body_markdown":"@immibis no, you don&#39;t have to. It&#39;s enough to slighly modify both lists - e.g. add one empty element to both lists. If the function is really hash function and hashes are still the same, lists are equal :) One of three axioms of hash functions.","body":"@immibis no, you don&#39;t have to. It&#39;s enough to slighly modify both lists - e.g. add one empty element to both lists. If the function is really hash function and hashes are still the same, lists are equal :) One of three axioms of hash functions."}],"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":9,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1455536580,"creation_date":1455536580,"answer_id":35408484,"question_id":35408290,"body_markdown":"The `for` loop at least can be streamified, leading to:\r\n\r\n    return (list1.size()==list2.size() &amp;&amp;\r\n            IntStream.range(0, list1.size())\r\n                     .allMatch(i -&gt; Arrays.equals(list1.get(i), list2.get(i)));","title":"How to compare equality of lists of arrays with modern Java?","body":"<p>The <code>for</code> loop at least can be streamified, leading to:</p>\n\n<pre><code>return (list1.size()==list2.size() &amp;&amp;\n        IntStream.range(0, list1.size())\n                 .allMatch(i -&gt; Arrays.equals(list1.get(i), list2.get(i)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1455537050,"post_id":35408595,"comment_id":58518183,"body_markdown":"The first solution will return true if the second list has more elements. Second solution is inefficient for large lists of different sizes, as it will return false only after iterating over them.","body":"The first solution will return true if the second list has more elements. Second solution is inefficient for large lists of different sizes, as it will return false only after iterating over them."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1455537250,"post_id":35408595,"comment_id":58518328,"body_markdown":"@JaroslawPawlak The first solution is assuming that the checks for null references and the size are already done (just replacing the for loop). I edited for the second solution.","body":"@JaroslawPawlak The first solution is assuming that the checks for null references and the size are already done (just replacing the for loop). I edited for the second solution."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":1,"creation_date":1455564270,"post_id":35408595,"comment_id":58535608,"body_markdown":"Fair enough. In such case we can simplify final return statement in second solution to `return true;` :)","body":"Fair enough. In such case we can simplify final return statement in second solution to <code>return true;</code> :)"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1455565254,"post_id":35408595,"comment_id":58536175,"body_markdown":"@JaroslawPawlak Yes, and we can even omit the `&amp;&amp; iteList2.hasNext()` in the condition","body":"@JaroslawPawlak Yes, and we can even omit the <code>&amp;&amp; iteList2.hasNext()</code> in the condition"}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1455565074,"creation_date":1455536868,"answer_id":35408595,"question_id":35408290,"body_markdown":"You _could_ use a stream if the lists are random access lists (so that a call to `get` is fast - generally constant time) leading to:\r\n\r\n    //checks for null and size before\r\n    boolean same = IntStream.range(0, list1.size()).allMatch(i -&gt; Arrays.equals(list1.get(i), list2.get(i)));\r\n\r\nHowever, you might give as parameters some implementations that are not (such as LinkedLists). In this case, the best way is to use the iterator explicitly. Something like:\r\n\r\n    boolean compare(List&lt;String[]&gt; list1, List&lt;String[]&gt; list2) {\r\n        \r\n        //checks for null and size\r\n\r\n        Iterator&lt;String[]&gt; iteList1 = list1.iterator();\r\n        Iterator&lt;String[]&gt; iteList2 = list2.iterator();\r\n    \r\n        while(iteList1.hasNext()) {\r\n            if(!Arrays.equals(iteList1.next(), iteList2.next())) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"How to compare equality of lists of arrays with modern Java?","body":"<p>You <em>could</em> use a stream if the lists are random access lists (so that a call to <code>get</code> is fast - generally constant time) leading to:</p>\n\n<pre><code>//checks for null and size before\nboolean same = IntStream.range(0, list1.size()).allMatch(i -&gt; Arrays.equals(list1.get(i), list2.get(i)));\n</code></pre>\n\n<p>However, you might give as parameters some implementations that are not (such as LinkedLists). In this case, the best way is to use the iterator explicitly. Something like:</p>\n\n<pre><code>boolean compare(List&lt;String[]&gt; list1, List&lt;String[]&gt; list2) {\n\n    //checks for null and size\n\n    Iterator&lt;String[]&gt; iteList1 = list1.iterator();\n    Iterator&lt;String[]&gt; iteList2 = list2.iterator();\n\n    while(iteList1.hasNext()) {\n        if(!Arrays.equals(iteList1.next(), iteList2.next())) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1455621304,"creation_date":1455537227,"answer_id":35408718,"question_id":35408290,"body_markdown":"using `zip` (which originates from lambda b93) function from https://stackoverflow.com/a/23529010/755183, code could look like:\r\n\r\n    boolean match = a.size() == b.size() &amp;&amp; \r\n                    zip(a.stream(), b.stream(), Arrays::deepEquals).\r\n                    allMatch(equal -&gt; equal)\r\n\r\n\r\nupdate\r\n------\r\n\r\nin order to check size of arrays first and then content this could be a solution to consider\r\n\r\n    final boolean match = a.size() == b.size() \r\n                       &amp;&amp; zip(a.stream(), b.stream(), (as, bs) -&gt; as.length == bs.length).\r\n                          allMatch(equal -&gt; equal)\r\n                       &amp;&amp; zip(a.stream(), b.stream(), Arrays::deepEquals).\r\n                          allMatch(equal -&gt; equal);\r\n\r\n ","title":"How to compare equality of lists of arrays with modern Java?","body":"<p>using <code>zip</code> (which originates from lambda b93) function from <a href=\"https://stackoverflow.com/a/23529010/755183\">https://stackoverflow.com/a/23529010/755183</a>, code could look like:</p>\n\n<pre><code>boolean match = a.size() == b.size() &amp;&amp; \n                zip(a.stream(), b.stream(), Arrays::deepEquals).\n                allMatch(equal -&gt; equal)\n</code></pre>\n\n<h2>update</h2>\n\n<p>in order to check size of arrays first and then content this could be a solution to consider</p>\n\n<pre><code>final boolean match = a.size() == b.size() \n                   &amp;&amp; zip(a.stream(), b.stream(), (as, bs) -&gt; as.length == bs.length).\n                      allMatch(equal -&gt; equal)\n                   &amp;&amp; zip(a.stream(), b.stream(), Arrays::deepEquals).\n                      allMatch(equal -&gt; equal);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1455544182,"post_id":35408904,"comment_id":58522783,"body_markdown":"#2 is simpler but also creating a copy of each list…","body":"#2 is simpler but also creating a copy of each list…"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":2,"creation_date":1455544874,"post_id":35408904,"comment_id":58523330,"body_markdown":"@Holger True, actually the first solution involves copying the lists also. But the contained String arrays are not copied in any of the two solutions, only references to them are copied.","body":"@Holger True, actually the first solution involves copying the lists also. But the contained String arrays are not copied in any of the two solutions, only references to them are copied."},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":0,"creation_date":1455615395,"post_id":35408904,"comment_id":58556088,"body_markdown":"I edited the question a bit, if you want to check that... I think deepEquals doesn&#39;t do that, does it?","body":"I edited the question a bit, if you want to check that... I think deepEquals doesn&#39;t do that, does it?"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":2,"creation_date":1455618149,"post_id":35408904,"comment_id":58558080,"body_markdown":"@hyde `deepEquals` does check for length. From the javadoc: *Two array references are considered deeply equal if both are null, or if they refer to arrays that contain **the same number of elements** and all corresponding pairs of elements in the two arrays are deeply equal.*","body":"@hyde <code>deepEquals</code> does check for length. From the javadoc: <i>Two array references are considered deeply equal if both are null, or if they refer to arrays that contain <b>the same number of elements</b> and all corresponding pairs of elements in the two arrays are deeply equal.</i>"},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":0,"creation_date":1455621612,"post_id":35408904,"comment_id":58560325,"body_markdown":"@SpaceTrucker Yeah, but I mean, it probably does not first check lengths of *all* arrays etc, and only after that start checking the contents of them. It would assume it checks contents of first encountered array before checking the lengths of second.","body":"@SpaceTrucker Yeah, but I mean, it probably does not first check lengths of <i>all</i> arrays etc, and only after that start checking the contents of them. It would assume it checks contents of first encountered array before checking the lengths of second."},{"owner":{"account_id":12815,"reputation":1149,"user_id":25429,"display_name":"zloster"},"score":0,"creation_date":1456063148,"post_id":35408904,"comment_id":58762595,"body_markdown":"@hyde The source code is accessible so why not check yourself. Some old [`open-jdk` version](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#Arrays.deepEquals%28java.lang.Object[]%2Cjava.lang.Object[]%29). IMO this have to be the accepted answer especially because of #2.","body":"@hyde The source code is accessible so why not check yourself. Some old <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#Arrays.deepEquals%28java.lang.Object%5B%5D%2Cjava.lang.Object%5B%5D%29\" rel=\"nofollow noreferrer\"><code>open-jdk</code> version</a>. IMO this have to be the accepted answer especially because of #2."}],"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"comment_count":6,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1696160642,"creation_date":1455537796,"answer_id":35408904,"question_id":35408290,"body_markdown":"1) Solution based on Java 8 streams:\r\n    ```java\r\n    List&lt;List&lt;String&gt;&gt; first = list1.stream().map(Arrays::asList).collect(toList());\r\n    List&lt;List&lt;String&gt;&gt; second = list2.stream().map(Arrays::asList).collect(toList());\r\n    return first.equals(second);\r\n    ```\r\n\r\n2) Much simpler solution (works in Java 5+):\r\n    ```java\r\n    return Arrays.deepEquals(list1.toArray(), list2.toArray());\r\n    ```\r\n\r\n3) Regarding your new requirement (to check the contained String arrays length first), you could write a generic helper method that does equality check for transformed lists:\r\n    ```java\r\n    &lt;T, U&gt; boolean equal(List&lt;T&gt; list1, List&lt;T&gt; list2, Function&lt;T, U&gt; mapper) {\r\n    \tList&lt;U&gt; first = list1.stream().map(mapper).collect(toList());\r\n    \tList&lt;U&gt; second = list2.stream().map(mapper).collect(toList());\r\n    \treturn first.equals(second);\r\n    }\r\n    ```\r\n\r\n    Then the solution could be:\r\n\r\n    ```java\r\n    return equal(list1, list2, s -&gt; s.length)\r\n    \t&amp;&amp; equal(list1, list2, Arrays::asList);\r\n    ```","title":"How to compare equality of lists of arrays with modern Java?","body":"<ol>\n<li><p>Solution based on Java 8 streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; first = list1.stream().map(Arrays::asList).collect(toList());\nList&lt;List&lt;String&gt;&gt; second = list2.stream().map(Arrays::asList).collect(toList());\nreturn first.equals(second);\n</code></pre>\n</li>\n<li><p>Much simpler solution (works in Java 5+):</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Arrays.deepEquals(list1.toArray(), list2.toArray());\n</code></pre>\n</li>\n<li><p>Regarding your new requirement (to check the contained String arrays length first), you could write a generic helper method that does equality check for transformed lists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T, U&gt; boolean equal(List&lt;T&gt; list1, List&lt;T&gt; list2, Function&lt;T, U&gt; mapper) {\n    List&lt;U&gt; first = list1.stream().map(mapper).collect(toList());\n    List&lt;U&gt; second = list2.stream().map(mapper).collect(toList());\n    return first.equals(second);\n}\n</code></pre>\n<p>Then the solution could be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return equal(list1, list2, s -&gt; s.length)\n    &amp;&amp; equal(list1, list2, Arrays::asList);\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1455576343,"post_id":35413998,"comment_id":58541578,"body_markdown":"I would warn that this will product unexpected results if someone call `.parallelStream()`.","body":"I would warn that this will product unexpected results if someone call <code>.parallelStream()</code>."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1455576604,"post_id":35413998,"comment_id":58541686,"body_markdown":"Yes, I know. But I already imagine someone copy-paste this and say &quot;hey I&#39;ll try to speed up this using a parallel stream&quot;.","body":"Yes, I know. But I already imagine someone copy-paste this and say &quot;hey I&#39;ll try to speed up this using a parallel stream&quot;."},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":1,"creation_date":1455580160,"post_id":35413998,"comment_id":58542926,"body_markdown":"You can further simplify it to: `list2.stream()\n        .allMatch(a -&gt; Arrays.equals(a, it.next()))`.","body":"You can further simplify it to: <code>list2.stream()         .allMatch(a -&gt; Arrays.equals(a, it.next()))</code>."}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1455630802,"creation_date":1455552727,"answer_id":35413998,"question_id":35408290,"body_markdown":"You could stream over one list and compare to each element of the other by using an iterator:\r\n\r\n    Iterator&lt;String[]&gt; it = list1.iterator();\r\n    boolean match = list1.size() == list2.size() &amp;&amp;\r\n                    list2.stream().allMatch(a -&gt; Arrays.equals(a, it.next()));\r\n\r\nUsing an iterator instead of the `get(index)` method on the first list is better because it doesn&#39;t matter whether the list is `RandomAccess` or not.\r\n\r\nNote: this only works with a *sequential* stream. Using a parallel stream will lead to wrong results.\r\n\r\n\r\n----------\r\n\r\n\r\nEDIT: As per the question last edit, which indicates it would be better to check the length of every pair of arrays *in advance*, I think it could be achieved with a slight modification to my previous code:\r\n\r\n    Iterator&lt;String[]&gt; itLength = list1.iterator();\r\n    Iterator&lt;String[]&gt; itContents = list1.iterator();\r\n\r\n    boolean match = \r\n            list1.size() == list2.size()\r\n        &amp;&amp; \r\n            list2.stream()\r\n                .allMatch(a -&gt; {\r\n                    String[] s = itLength.next();\r\n                    return s == null ? a == null :\r\n                           a == null ? s == null :\r\n                           a.length == s.length;\r\n                })\r\n        &amp;&amp; \r\n            list2.stream()\r\n                .allMatch(a -&gt; Arrays.equals(a, itContents.next()));\r\n\r\nHere I&#39;m using two iterators and am streaming `list2` twice, but I see no other way to check all lengths before checking the contents of the first pair of arrays. Check for lengths is null-safe, while check for contents is delegated to the [`Arrays.equals(array1, array2)`][1] method.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#equals-java.lang.Object:A-java.lang.Object:A-","title":"How to compare equality of lists of arrays with modern Java?","body":"<p>You could stream over one list and compare to each element of the other by using an iterator:</p>\n\n<pre><code>Iterator&lt;String[]&gt; it = list1.iterator();\nboolean match = list1.size() == list2.size() &amp;&amp;\n                list2.stream().allMatch(a -&gt; Arrays.equals(a, it.next()));\n</code></pre>\n\n<p>Using an iterator instead of the <code>get(index)</code> method on the first list is better because it doesn't matter whether the list is <code>RandomAccess</code> or not.</p>\n\n<p>Note: this only works with a <em>sequential</em> stream. Using a parallel stream will lead to wrong results.</p>\n\n<hr>\n\n<p>EDIT: As per the question last edit, which indicates it would be better to check the length of every pair of arrays <em>in advance</em>, I think it could be achieved with a slight modification to my previous code:</p>\n\n<pre><code>Iterator&lt;String[]&gt; itLength = list1.iterator();\nIterator&lt;String[]&gt; itContents = list1.iterator();\n\nboolean match = \n        list1.size() == list2.size()\n    &amp;&amp; \n        list2.stream()\n            .allMatch(a -&gt; {\n                String[] s = itLength.next();\n                return s == null ? a == null :\n                       a == null ? s == null :\n                       a.length == s.length;\n            })\n    &amp;&amp; \n        list2.stream()\n            .allMatch(a -&gt; Arrays.equals(a, itContents.next()));\n</code></pre>\n\n<p>Here I'm using two iterators and am streaming <code>list2</code> twice, but I see no other way to check all lengths before checking the contents of the first pair of arrays. Check for lengths is null-safe, while check for contents is delegated to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#equals-java.lang.Object:A-java.lang.Object:A-\" rel=\"nofollow\"><code>Arrays.equals(array1, array2)</code></a> method.</p>\n"}],"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15094,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":35408904,"answer_count":5,"score":70,"last_activity_date":1696160642,"creation_date":1455536006,"question_id":35408290,"body_markdown":"I have two lists of arrays. \r\n\r\nHow do I easily compare equality of these *with Java 8 and its features*, without using external libraries? I am looking for a &quot;better&quot; (higher-level, shorter, more efficient) solution than brute-force code like this (untested code, may contain typos etc, not the point of the question):\r\n\r\n    boolean compare(List&lt;String[]&gt; list1, List&lt;String[]&gt; list2) \r\n    {\r\n        // tests for nulls etc omitted\r\n        if(list1.size() != list2.size()) {\r\n           return false;\r\n        }\r\n        for(i=0; i&lt;list1.size(); ++i) {\r\n            if(!Arrays.equals(list1.get(i), list2.get(i))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nOr, if there isn&#39;t any nicer way, that&#39;s a valid answer too.\r\n\r\nBonus: If Java 9 offers an even better way what whaterver Java 8 can offer, feel free to mention it as well.\r\n\r\n**Edit:** After looking at the comments, and seeing how this question has become moderately hot, I think **the &quot;*better*&quot; should include first checking lengths of all arrays, before checking array contents**, because that has potential to find inequality much quicker, if inner arrays are long.","title":"How to compare equality of lists of arrays with modern Java?","body":"<p>I have two lists of arrays. </p>\n\n<p>How do I easily compare equality of these <em>with Java 8 and its features</em>, without using external libraries? I am looking for a \"better\" (higher-level, shorter, more efficient) solution than brute-force code like this (untested code, may contain typos etc, not the point of the question):</p>\n\n<pre><code>boolean compare(List&lt;String[]&gt; list1, List&lt;String[]&gt; list2) \n{\n    // tests for nulls etc omitted\n    if(list1.size() != list2.size()) {\n       return false;\n    }\n    for(i=0; i&lt;list1.size(); ++i) {\n        if(!Arrays.equals(list1.get(i), list2.get(i))) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Or, if there isn't any nicer way, that's a valid answer too.</p>\n\n<p>Bonus: If Java 9 offers an even better way what whaterver Java 8 can offer, feel free to mention it as well.</p>\n\n<p><strong>Edit:</strong> After looking at the comments, and seeing how this question has become moderately hot, I think <strong>the \"<em>better</em>\" should include first checking lengths of all arrays, before checking array contents</strong>, because that has potential to find inequality much quicker, if inner arrays are long.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696159955,"post_id":77210266,"comment_id":136115395,"body_markdown":"I don&#39;t think that there is a significantly more elegant solution.  You might consider using Java 8+ streams, but the streams APIs don&#39;t provide an elegant way of comparing two lists element by element.  And as you observed `Objects.equals` and `Objects.deepEquals` don&#39;t work.  They both end up using `Object::equals` on the arrays ... which is equivalent to `==`.","body":"I don&#39;t think that there is a significantly more elegant solution.  You might consider using Java 8+ streams, but the streams APIs don&#39;t provide an elegant way of comparing two lists element by element.  And as you observed <code>Objects.equals</code> and <code>Objects.deepEquals</code> don&#39;t work.  They both end up using <code>Object::equals</code> on the arrays ... which is equivalent to <code>==</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1696160392,"post_id":77210266,"comment_id":136115432,"body_markdown":"I&#39;ve found an (almost) duplicate for this.  Its just that I disagree that the solution it suggests is better than an explicit loop.  Elegance is a matter of opinion.","body":"I&#39;ve found an (almost) duplicate for this.  Its just that I disagree that the solution it suggests is better than an explicit loop.  Elegance is a matter of opinion."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696217186,"post_id":77210266,"comment_id":136120631,"body_markdown":"There is one workaround:  store ByteBuffers in your Lists instead of byte arrays.  Unlike arrays, [ByteBuffer defines an equals method](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#equals(java.lang.Object)) which will compare content, allow you to compare the Lists using `a.equals(b)`.","body":"There is one workaround:  store ByteBuffers in your Lists instead of byte arrays.  Unlike arrays, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">ByteBuffer defines an equals method</a> which will compare content, allow you to compare the Lists using <code>a.equals(b)</code>."}],"owner":{"account_id":16466407,"reputation":584,"user_id":11896414,"display_name":"once"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1696160271,"answer_count":0,"score":1,"last_activity_date":1696159557,"creation_date":1696159355,"question_id":77210266,"body_markdown":"Is there any elegant way to compare if two list of byte[] is equals without looping all the elements ? I have tried `equals`, `Objects.equals`, `Objects.deepEquals,` but neither worked.\r\n\r\n    @Test\r\n    public void testListByteArray() {\r\n      final String textStr1 = &quot;test1&quot;;\r\n      final String textStr2 = &quot;test2&quot;;\r\n    \r\n      List&lt;byte[]&gt; a = Arrays.asList(textStr1.getBytes(), textStr2.getBytes());\r\n      List&lt;byte[]&gt; b = Arrays.asList(textStr1.getBytes(), textStr2.getBytes());\r\n    \r\n      Assert.assertTrue(a.size() == b.size());\r\n    \r\n      for (int i = 0; i &lt; a.size(); i++) {\r\n        Assert.assertTrue(Arrays.equals(a.get(i), b.get(i)));\r\n      }\r\n\r\n      Assert.assertTrue(a.equals(b)); //fail\r\n      Assert.assertTrue(Objects.equals(a, b)); //fail\r\n      Assert.assertTrue(Objects.deepEquals(a, b)); //fail\r\n    }","title":"Compare two list of byte array","body":"<p>Is there any elegant way to compare if two list of byte[] is equals without looping all the elements ? I have tried <code>equals</code>, <code>Objects.equals</code>, <code>Objects.deepEquals,</code> but neither worked.</p>\n<pre><code>@Test\npublic void testListByteArray() {\n  final String textStr1 = &quot;test1&quot;;\n  final String textStr2 = &quot;test2&quot;;\n\n  List&lt;byte[]&gt; a = Arrays.asList(textStr1.getBytes(), textStr2.getBytes());\n  List&lt;byte[]&gt; b = Arrays.asList(textStr1.getBytes(), textStr2.getBytes());\n\n  Assert.assertTrue(a.size() == b.size());\n\n  for (int i = 0; i &lt; a.size(); i++) {\n    Assert.assertTrue(Arrays.equals(a.get(i), b.get(i)));\n  }\n\n  Assert.assertTrue(a.equals(b)); //fail\n  Assert.assertTrue(Objects.equals(a, b)); //fail\n  Assert.assertTrue(Objects.deepEquals(a, b)); //fail\n}\n</code></pre>\n"},{"tags":["java","opencv","aruco","opencv-solvepnp"],"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1696153987,"post_id":77208867,"comment_id":136114868,"body_markdown":"boards have been turned into their own objects. browse the C++ docs. nobody really maintains the java bindings or the docs. java is a strange and complex ecosystem that doesn&#39;t attract anyone who knows OpenCV itself (C++)","body":"boards have been turned into their own objects. browse the C++ docs. nobody really maintains the java bindings or the docs. java is a strange and complex ecosystem that doesn&#39;t attract anyone who knows OpenCV itself (C++)"}],"owner":{"account_id":15783520,"reputation":75,"user_id":11389102,"display_name":"Tommy131313"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696159075,"creation_date":1696120577,"question_id":77208867,"body_markdown":"The current OpenCV Java documentation indicates that `estimatePoseCharucoBoard()` is still a viable Java method in `org.opencv.aruco.Aruco`. I don&#39;t have that class and I can&#39;t find the method in any other classes that I have. I see some nearby, related methods have been moved or deprecated or replaced. I can&#39;t find any information about `estimatePoseCharucoBoard()` except it should be available. I see SO posts about looping through all the markers to duplicate the functionality of the missing `estimatePoseSingleMarkers​()` or use solvePnP. Has `estimatePoseCharucoBoard()` met with a similar but undocumented fate?","title":"What is the Java import for OpenCV 4.8.0 estimatePoseCharucoBoard()?","body":"<p>The current OpenCV Java documentation indicates that <code>estimatePoseCharucoBoard()</code> is still a viable Java method in <code>org.opencv.aruco.Aruco</code>. I don't have that class and I can't find the method in any other classes that I have. I see some nearby, related methods have been moved or deprecated or replaced. I can't find any information about <code>estimatePoseCharucoBoard()</code> except it should be available. I see SO posts about looping through all the markers to duplicate the functionality of the missing <code>estimatePoseSingleMarkers​()</code> or use solvePnP. Has <code>estimatePoseCharucoBoard()</code> met with a similar but undocumented fate?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4350455,"reputation":1980,"user_id":3550988,"accept_rate":75,"display_name":"Carl Poole"},"score":3,"creation_date":1488207845,"post_id":42488983,"comment_id":72117474,"body_markdown":"What did you try so far?","body":"What did you try so far?"},{"owner":{"account_id":6486576,"reputation":3695,"user_id":5021963,"accept_rate":100,"display_name":"Ed de Almeida"},"score":7,"creation_date":1488207848,"post_id":42488983,"comment_id":72117476,"body_markdown":"You are going to get lots of downvotes this way. We are not here to do your homework.","body":"You are going to get lots of downvotes this way. We are not here to do your homework."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":3,"creation_date":1488207867,"post_id":42488983,"comment_id":72117487,"body_markdown":"Welcome to Stack Overflow! Please take the [tour], have a look around, and read through the [help], in particular [*How do I ask a good question?*](/help/how-to-ask) Dumping your assignments on us is not asking a good question.","body":"Welcome to Stack Overflow! Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, have a look around, and read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"/help/how-to-ask\"><i>How do I ask a good question?</i></a> Dumping your assignments on us is not asking a good question."},{"owner":{"account_id":8038583,"reputation":4810,"user_id":6060964,"display_name":"node_modules"},"score":6,"creation_date":1488208027,"post_id":42488983,"comment_id":72117622,"body_markdown":"Hire a freelancer, we are not a codefactory.","body":"Hire a freelancer, we are not a codefactory."},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":3,"creation_date":1488208078,"post_id":42488983,"comment_id":72117660,"body_markdown":"Ouch, I think adding &quot;as soon as possible&quot; easily has doubled the number of downvotes you have to expect.","body":"Ouch, I think adding &quot;as soon as possible&quot; easily has doubled the number of downvotes you have to expect."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1488208445,"post_id":42488983,"comment_id":72117894,"body_markdown":"Please see [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236) as well as [this article](http://meta.softwareengineering.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems) on why you can&#39;t (and shouldn&#39;t) ask this kind of question here.","body":"Please see <a href=\"http://meta.stackoverflow.com/q/284236\">Why is “Can someone help me?” not an actual question?</a> as well as <a href=\"http://meta.softwareengineering.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems\">this article</a> on why you can&#39;t (and shouldn&#39;t) ask this kind of question here."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1488209585,"post_id":42488983,"comment_id":72118728,"body_markdown":"Can you be more specific about what&#39;s wrong with what you have right now?","body":"Can you be more specific about what&#39;s wrong with what you have right now?"}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488458663,"creation_date":1488444567,"answer_id":42550660,"question_id":42488983,"body_markdown":"Drop your wonky initial setting of `longest` and `sec`. Create them and `temp` the following way: \r\n\r\n    String longest=&quot;&quot;;\r\n    String sec=&quot;&quot;;\r\n    String temp=&quot;&quot;;\r\n\r\n    for(int i = 0; i &lt; l; i++) {\r\n        ...\r\n\r\nWhy would you set `longest` and `sec` both to the first word - guess what happens if that first word is the longest in the sentence?\r\n\r\nThen your code produces the output:\r\n\r\n&gt;Longest word is Sayan  \r\n&gt;Second Longest word is home.\r\n\r\nThat is more correct than what you currently have but still not what you would expect ... because there is the `.` at the end of the sentence you have to take care of - maybe make the check for `ch!=&#39; &#39;` a bit more complex and check against `&#39;.&#39;` as well. I leave it for you to figure out how to do that correctly.","title":"Write a program to find the second longest word without using array","body":"<p>Drop your wonky initial setting of <code>longest</code> and <code>sec</code>. Create them and <code>temp</code> the following way: </p>\n\n<pre><code>String longest=\"\";\nString sec=\"\";\nString temp=\"\";\n\nfor(int i = 0; i &lt; l; i++) {\n    ...\n</code></pre>\n\n<p>Why would you set <code>longest</code> and <code>sec</code> both to the first word - guess what happens if that first word is the longest in the sentence?</p>\n\n<p>Then your code produces the output:</p>\n\n<blockquote>\n  <p>Longest word is Sayan<br>\n  Second Longest word is home.</p>\n</blockquote>\n\n<p>That is more correct than what you currently have but still not what you would expect ... because there is the <code>.</code> at the end of the sentence you have to take care of - maybe make the check for <code>ch!=' '</code> a bit more complex and check against <code>'.'</code> as well. I leave it for you to figure out how to do that correctly.</p>\n"},{"comments":[{"owner":{"account_id":13667454,"reputation":863,"user_id":9860982,"display_name":"Marvin"},"score":1,"creation_date":1535066141,"post_id":49400404,"comment_id":90940395,"body_markdown":"I suggest you add in comments (`// This does x, y, and z`) to explain to the asker what everything is doing","body":"I suggest you add in comments (<code>&#47;&#47; This does x, y, and z</code>) to explain to the asker what everything is doing"}],"tags":[],"owner":{"account_id":10307097,"reputation":1,"user_id":7604022,"display_name":"Rishav Mukherjee"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1521619246,"creation_date":1521616880,"answer_id":49400404,"question_id":42488983,"body_markdown":"Here is a very basic code to find the second longest word:      \r\n           \r\n           class Second\r\n           {\r\n                public static void main(String str)//str has the required sentence\r\n                {\r\n                    String m=&quot;&quot;,q=&quot;&quot;;\r\n                    int lar=0;\r\n                    str=str+&quot; &quot;;\r\n                    for(int i=1;i&lt;=2;i++)\r\n                    {\r\n                        for(int k=0;k&lt;str.length();k++)\r\n                        {\r\n                           char ch=str.charAt(k);\r\n                           if(ch!=&#39; &#39;)\r\n                           m=m+ch;\r\n                           else\r\n                           {\r\n                               if(m.length()&gt;lar)\r\n                               {\r\n                                  q=m;\r\n                                  lar=q.length();\r\n                               }\r\n                               m=&quot;&quot;;\r\n                           }\r\n                         }\r\n                         if(i==1)\r\n                         {\r\n                            System.out.println(&quot;The longest word is: &quot;+q);\r\n                            str=str.replace(q,&quot; &quot;);\r\n                            lar=0;\r\n                         }\r\n                    }\r\n                    System.out.println(&quot;The second longest word is: &quot;+q);\r\n                 }\r\n           }","title":"Write a program to find the second longest word without using array","body":"<p>Here is a very basic code to find the second longest word:      </p>\n\n<pre><code>       class Second\n       {\n            public static void main(String str)//str has the required sentence\n            {\n                String m=\"\",q=\"\";\n                int lar=0;\n                str=str+\" \";\n                for(int i=1;i&lt;=2;i++)\n                {\n                    for(int k=0;k&lt;str.length();k++)\n                    {\n                       char ch=str.charAt(k);\n                       if(ch!=' ')\n                       m=m+ch;\n                       else\n                       {\n                           if(m.length()&gt;lar)\n                           {\n                              q=m;\n                              lar=q.length();\n                           }\n                           m=\"\";\n                       }\n                     }\n                     if(i==1)\n                     {\n                        System.out.println(\"The longest word is: \"+q);\n                        str=str.replace(q,\" \");\n                        lar=0;\n                     }\n                }\n                System.out.println(\"The second longest word is: \"+q);\n             }\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9069674,"reputation":33,"user_id":6753363,"display_name":"Mohit Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525492572,"creation_date":1525492572,"answer_id":50185553,"question_id":42488983,"body_markdown":"This is happening because you have initialized the longest element as first word and sec also as longest(which is **Sayan** itself). Now longest = &quot;Sayan&quot; and sec = &quot;Sayan&quot;, you went inside the array but you never found any word which is bigger than longest or sec.\r\n","title":"Write a program to find the second longest word without using array","body":"<p>This is happening because you have initialized the longest element as first word and sec also as longest(which is <strong>Sayan</strong> itself). Now longest = \"Sayan\" and sec = \"Sayan\", you went inside the array but you never found any word which is bigger than longest or sec.</p>\n"},{"tags":[],"owner":{"account_id":2337675,"reputation":143,"user_id":2049626,"display_name":"Sudeep Krishnan M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696158847,"creation_date":1696158847,"answer_id":77210227,"question_id":42488983,"body_markdown":"    To find the Second Largest Word Try the Below, I used the TreeMap which will sort in the natural order of the key\r\n    \r\n       \r\n    \r\n        public class FindSecondLargest {\r\n        Map&lt;Integer,String&gt; map;\r\n        public String getSecondLargest(String[] testarr) {\r\n            int length= testarr.length;\r\n            map=new TreeMap&lt;&gt;();\r\n            for(int i=0;i&lt;length;i++)\r\n            {\r\n                map.put(testarr[i].length(),testarr[i]);\r\n            }\r\n            int i=0;\r\n            String result=&quot;&quot;;\r\n            Set&lt;Map.Entry&lt;Integer,String&gt;&gt; entry = map.entrySet();\r\n            for(Map.Entry&lt;Integer, String&gt;itr:entry)\r\n            {\r\n                if(i==length-2) {\r\n                    result = itr.getValue();\r\n                    break;\r\n                }\r\n                else i++;\r\n    \r\n            }\r\n            return result;\r\n        }\r\n    }","title":"Write a program to find the second longest word without using array","body":"<pre><code>To find the Second Largest Word Try the Below, I used the TreeMap which will sort in the natural order of the key\n\n   \n\n    public class FindSecondLargest {\n    Map&lt;Integer,String&gt; map;\n    public String getSecondLargest(String[] testarr) {\n        int length= testarr.length;\n        map=new TreeMap&lt;&gt;();\n        for(int i=0;i&lt;length;i++)\n        {\n            map.put(testarr[i].length(),testarr[i]);\n        }\n        int i=0;\n        String result=&quot;&quot;;\n        Set&lt;Map.Entry&lt;Integer,String&gt;&gt; entry = map.entrySet();\n        for(Map.Entry&lt;Integer, String&gt;itr:entry)\n        {\n            if(i==length-2) {\n                result = itr.getValue();\n                break;\n            }\n            else i++;\n\n        }\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9621150,"reputation":11,"user_id":7630490,"display_name":"Ayan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3104,"favorite_count":0,"down_vote_count":23,"up_vote_count":3,"answer_count":4,"score":-20,"last_activity_date":1696158847,"creation_date":1488207760,"question_id":42488983,"body_markdown":"I need a java program to find the second-longest word in a sentence (without using an array).\r\n\r\n\r\nThis is the code I have so far:\r\n```\r\nimport java.io.*;\r\nclass Second_longest_Trial {\r\n  public static void main(String args[]) throws IOException {\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n    System.out.println(&quot;Enter the sentence&quot;);\r\n    String s = in .readLine();\r\n    s = s.trim() + &quot; &quot;;\r\n    String longest = s.substring(0, s.indexOf(&#39; &#39;));\r\n    String sec = longest;\r\n    int l = s.length();\r\n    String temp = &quot; &quot;, str = &quot; &quot;;\r\n\r\n    for (int i = s.indexOf(&#39; &#39;) + 1; i &lt; l; i++) {\r\n      char ch = s.charAt(i);\r\n\r\n      if (ch != &#39; &#39;)\r\n        temp = temp + ch;\r\n      else {\r\n        if (temp.length() &gt; longest.length()) {\r\n          sec = longest;\r\n          longest = temp;\r\n        } else if (temp.length() &gt; sec.length()) {\r\n          sec = temp;\r\n        }\r\n        temp = &quot; &quot;;\r\n      }\r\n    }\r\n\r\n    System.out.println(&quot;Longest word is &quot; + longest);\r\n    System.out.println(&quot;Second Longest word is &quot; + sec);\r\n  }\r\n}\r\n```\r\n\r\nWhen I am giving the input-\r\n\r\n&gt; Sayan goes home.\r\n\r\nThis outputs-\r\n\r\n&gt; Longest word is Sayan\r\n&gt; Second Longest word is Sayan \r\n\r\nI should have got the output as follows-\r\n\r\n&gt; Longest word is Sayan\r\n&gt; Second Longest word is goes \r\n","title":"Write a program to find the second longest word without using array","body":"<p>I need a java program to find the second-longest word in a sentence (without using an array).</p>\n<p>This is the code I have so far:</p>\n<pre><code>import java.io.*;\nclass Second_longest_Trial {\n  public static void main(String args[]) throws IOException {\n    BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n    System.out.println(&quot;Enter the sentence&quot;);\n    String s = in .readLine();\n    s = s.trim() + &quot; &quot;;\n    String longest = s.substring(0, s.indexOf(' '));\n    String sec = longest;\n    int l = s.length();\n    String temp = &quot; &quot;, str = &quot; &quot;;\n\n    for (int i = s.indexOf(' ') + 1; i &lt; l; i++) {\n      char ch = s.charAt(i);\n\n      if (ch != ' ')\n        temp = temp + ch;\n      else {\n        if (temp.length() &gt; longest.length()) {\n          sec = longest;\n          longest = temp;\n        } else if (temp.length() &gt; sec.length()) {\n          sec = temp;\n        }\n        temp = &quot; &quot;;\n      }\n    }\n\n    System.out.println(&quot;Longest word is &quot; + longest);\n    System.out.println(&quot;Second Longest word is &quot; + sec);\n  }\n}\n</code></pre>\n<p>When I am giving the input-</p>\n<blockquote>\n<p>Sayan goes home.</p>\n</blockquote>\n<p>This outputs-</p>\n<blockquote>\n<p>Longest word is Sayan\nSecond Longest word is Sayan</p>\n</blockquote>\n<p>I should have got the output as follows-</p>\n<blockquote>\n<p>Longest word is Sayan\nSecond Longest word is goes</p>\n</blockquote>\n"},{"tags":["java","android","c","kotlin","math"],"comments":[{"owner":{"account_id":23549491,"reputation":7426,"user_id":17592432,"display_name":"Fe2O3"},"score":0,"creation_date":1696150372,"post_id":77209795,"comment_id":136114587,"body_markdown":"Why don&#39;t you read the doco for the function `exp()`? While you&#39;re there, check into something like `pow()`...","body":"Why don&#39;t you read the doco for the function <code>exp()</code>? While you&#39;re there, check into something like <code>pow()</code>..."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1696150426,"post_id":77209795,"comment_id":136114591,"body_markdown":"You&#39;re computing two completely different things and get two completely different results","body":"You&#39;re computing two completely different things and get two completely different results"},{"owner":{"account_id":12776,"reputation":107147,"user_id":25324,"accept_rate":100,"display_name":"pmg"},"score":0,"creation_date":1696150492,"post_id":77209795,"comment_id":136114593,"body_markdown":"For the C version, you want `printf(&quot;%f\\n&quot;, pow(M_E, -4));` ... remember to `#include &lt;math.h&gt;`","body":"For the C version, you want <code>printf(&quot;%f\\n&quot;, pow(M_E, -4));</code> ... remember to <code>#include &lt;math.h&gt;</code>"},{"owner":{"account_id":23549491,"reputation":7426,"user_id":17592432,"display_name":"Fe2O3"},"score":0,"creation_date":1696150628,"post_id":77209795,"comment_id":136114599,"body_markdown":"@pmg &quot;_converting C Code to Java_&quot;... The C version is probably the starting point...","body":"@pmg &quot;<i>converting C Code to Java</i>&quot;... The C version is probably the starting point..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1696157341,"post_id":77209795,"comment_id":136115159,"body_markdown":"`1*Math.exp(-4)` is not the same thing as `1.0e-4` (in fact, the equivalent in Java is also `1.0e-4`).","body":"<code>1*Math.exp(-4)</code> is not the same thing as <code>1.0e-4</code> (in fact, the equivalent in Java is also <code>1.0e-4</code>)."}],"answers":[{"tags":[],"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1696158195,"creation_date":1696157849,"answer_id":77210171,"question_id":77209795,"body_markdown":"In C, `1.0e-4` denotes 1.0•10&lt;sup&gt;−4&lt;/sup&gt;.\r\n\r\nIn Kotlin, `Math.exp(-4)` denotes *e*&lt;sup&gt;−4&lt;/sup&gt;, where *e* is [Euler’s number](https://en.wikipedia.org/wiki/E_(mathematical_constant)), approximately 2.718281828459.\r\n\r\nIn Kotlin, you can use `1e-4` or `1.0e-4` for 10&lt;sup&gt;−4&lt;/sup&gt;. Note the exact value used in computation will differ slightly from 10&lt;sup&gt;−4&lt;/sup&gt; because the input text is converted to a floating-point format that uses base two.","title":"E value different in C and Kotlin Math.exp","body":"<p>In C, <code>1.0e-4</code> denotes 1.0•10<sup>−4</sup>.</p>\n<p>In Kotlin, <code>Math.exp(-4)</code> denotes <em>e</em><sup>−4</sup>, where <em>e</em> is <a href=\"https://en.wikipedia.org/wiki/E_(mathematical_constant)\" rel=\"nofollow noreferrer\">Euler’s number</a>, approximately 2.718281828459.</p>\n<p>In Kotlin, you can use <code>1e-4</code> or <code>1.0e-4</code> for 10<sup>−4</sup>. Note the exact value used in computation will differ slightly from 10<sup>−4</sup> because the input text is converted to a floating-point format that uses base two.</p>\n"}],"owner":{"account_id":8790688,"reputation":1,"user_id":6570619,"display_name":"Prasad Manjula"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1696160975,"answer_count":1,"score":-4,"last_activity_date":1696158195,"creation_date":1696150022,"question_id":77209795,"body_markdown":"I am converting C Code to Java(kotlin) for a Android app\r\n\r\nIn C I get\r\n    \r\n```\r\nprintf(&quot;\\\\n  e value :%f \\\\n&quot;, 1.0e-4);\r\n    e value :0.000100\r\n```\r\n\r\n\r\n\r\nIn Android Studio\r\n   \r\n    System.out.println(&quot;e value &quot;+ 1*Math.exp(-4));\r\n\r\n    Output\r\n    e value 0.01831563888873418\r\n\r\nAny idea why? C language code is the working code i found.. i need to get the same result with kotlin\r\n","title":"E value different in C and Kotlin Math.exp","body":"<p>I am converting C Code to Java(kotlin) for a Android app</p>\n<p>In C I get</p>\n<pre><code>printf(&quot;\\\\n  e value :%f \\\\n&quot;, 1.0e-4);\n    e value :0.000100\n</code></pre>\n<p>In Android Studio</p>\n<pre><code>System.out.println(&quot;e value &quot;+ 1*Math.exp(-4));\n\nOutput\ne value 0.01831563888873418\n</code></pre>\n<p>Any idea why? C language code is the working code i found.. i need to get the same result with kotlin</p>\n"},{"tags":["java","geometry","line","line-intersection"],"comments":[{"owner":{"account_id":2716548,"reputation":1719,"user_id":2343795,"accept_rate":75,"display_name":"snickers10m"},"score":0,"creation_date":1429897477,"post_id":29854085,"comment_id":47834125,"body_markdown":"While your question is readable and answerable, there are still some things to improve upon, including explaining each non-obvious variable and including what you&#39;ve tried so far. You&#39;ll get an answer eventually but please see http://stackoverflow.com/help/how-to-ask in the meantime","body":"While your question is readable and answerable, there are still some things to improve upon, including explaining each non-obvious variable and including what you&#39;ve tried so far. You&#39;ll get an answer eventually but please see <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> in the meantime"},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":1,"creation_date":1429898153,"post_id":29854085,"comment_id":47834519,"body_markdown":"Just check for the vertical case first and deal with it separately.","body":"Just check for the vertical case first and deal with it separately."},{"owner":{"account_id":4309809,"reputation":115,"user_id":3521250,"accept_rate":33,"display_name":"user3521250"},"score":0,"creation_date":1429899184,"post_id":29854085,"comment_id":47835087,"body_markdown":"is there another formula to handle this case? what i want to do is to add some micro value to one of the coordinate , so  i will  not have a multiplication by 0 , then i will get the intersection point  but with some lose of precision","body":"is there another formula to handle this case? what i want to do is to add some micro value to one of the coordinate , so  i will  not have a multiplication by 0 , then i will get the intersection point  but with some lose of precision"},{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1429931251,"post_id":29854085,"comment_id":47846826,"body_markdown":"This formula don&#39;t bother about vertical segment. d is not zero when only one of the segments is vertical. d is equal to 0 when segments are parallel - treat this as special case.","body":"This formula don&#39;t bother about vertical segment. d is not zero when only one of the segments is vertical. d is equal to 0 when segments are parallel - treat this as special case."}],"answers":[{"comments":[{"owner":{"account_id":71838,"reputation":64554,"user_id":207661,"accept_rate":64,"display_name":"Shital Shah"},"score":0,"creation_date":1439937903,"post_id":29858558,"comment_id":52063674,"body_markdown":"This is great generalization. A nitpick: for restriction to segments, you also need to take in to account the special case where endpoint of one segment lies on another. See Introduction to Algorithms 3rd edition, Corman et al, pg 1017.","body":"This is great generalization. A nitpick: for restriction to segments, you also need to take in to account the special case where endpoint of one segment lies on another. See Introduction to Algorithms 3rd edition, Corman et al, pg 1017."}],"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429914344,"creation_date":1429914344,"answer_id":29858558,"question_id":29854085,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\n# Line intersection without special cases\r\n\r\nComing from a background of projective geometry, I&#39;d write the points in homogeneous coordinates:\r\n\r\n    v1 = [x1, y1, 1]\r\n    v2 = [x2, y2, 1]\r\n    v3 = [x3, y3, 1]\r\n    v4 = [x4, y4, 1]\r\n\r\nThen both the line joining two points and the intersection of two lines can be expressed using the cross product:\r\n\r\n    [x5, y5, z5] = (v1 &#215; v2) &#215; (v3 &#215; v4)\r\n\r\nwhich you can dehomogenize to find the resulting point as\r\n\r\n    [x5/z5, y5/z5]\r\n\r\nwithout having to deal with any special cases. If your lines are parallel, the last point would lead to a division by zero, though, so you might want to catch that case.\r\n\r\n# Restriction to segments\r\n\r\nThe above is for infinite lines, though. You might want to keep the code which returns `null` if the point of intersection falls outside the bounding box. But if you want real segments, that code is incorrect: you could have a point of intersection which lies outside one of the segments but still inside the bounding box.\r\n\r\nA proper check can be implemented using an orientation-checking predicate. The determinant of three of the vectors `vi` given above will have positive sign if the triangle they form has one orientation, and negative sign for the opposite orientation. So the points `v3` and `v4` lie on different sides of `s1` if\r\n\r\n    det(v1, v2, v3) * det(v1, v2, v4) &lt; 0\r\n\r\nand in a similar way `v1` and `v2` lie on different sides of `s2` if\r\n\r\n    det(v3, v4, v1) * det(v3, v4, v2) &lt; 0\r\n\r\nso if both of these are satisfied, you have an intersection between the segments. If you want to include the segment endpoints, change the `&lt;` to a `≤` in these inequalities.","title":"Line Segments Intersection(intersection Point)","body":"\n\n<h1>Line intersection without special cases</h1>\n\n<p>Coming from a background of projective geometry, I'd write the points in homogeneous coordinates:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>v1 = [x1, y1, 1]\nv2 = [x2, y2, 1]\nv3 = [x3, y3, 1]\nv4 = [x4, y4, 1]\n</code></pre>\n\n<p>Then both the line joining two points and the intersection of two lines can be expressed using the cross product:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[x5, y5, z5] = (v1 × v2) × (v3 × v4)\n</code></pre>\n\n<p>which you can dehomogenize to find the resulting point as</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[x5/z5, y5/z5]\n</code></pre>\n\n<p>without having to deal with any special cases. If your lines are parallel, the last point would lead to a division by zero, though, so you might want to catch that case.</p>\n\n<h1>Restriction to segments</h1>\n\n<p>The above is for infinite lines, though. You might want to keep the code which returns <code>null</code> if the point of intersection falls outside the bounding box. But if you want real segments, that code is incorrect: you could have a point of intersection which lies outside one of the segments but still inside the bounding box.</p>\n\n<p>A proper check can be implemented using an orientation-checking predicate. The determinant of three of the vectors <code>vi</code> given above will have positive sign if the triangle they form has one orientation, and negative sign for the opposite orientation. So the points <code>v3</code> and <code>v4</code> lie on different sides of <code>s1</code> if</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>det(v1, v2, v3) * det(v1, v2, v4) &lt; 0\n</code></pre>\n\n<p>and in a similar way <code>v1</code> and <code>v2</code> lie on different sides of <code>s2</code> if</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>det(v3, v4, v1) * det(v3, v4, v2) &lt; 0\n</code></pre>\n\n<p>so if both of these are satisfied, you have an intersection between the segments. If you want to include the segment endpoints, change the <code>&lt;</code> to a <code>≤</code> in these inequalities.</p>\n"},{"tags":[],"owner":{"account_id":4869631,"reputation":426,"user_id":3926617,"display_name":"Wandeber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463162394,"creation_date":1463162394,"answer_id":37216524,"question_id":29854085,"body_markdown":"I have tried code it without testing... I hope it works! ^^\r\n\r\n    public static Point intersection(Segment s1, Segment s2) {\r\n        // Components of the first segment&#39;s rect.\r\n        Point v1 = new Point(s1.p2.x - s1.p1.x, s1.p2.y - s1.p1.y); // Directional vector\r\n        double a1 = v.y;\r\n        double b1 = -v.x;\r\n        double c1 = v1.x * s1.p1.y - s1.v.y * s1.p1.x;\r\n    \r\n        // Components of the second segment&#39;s rect.\r\n        Point v2 = new Point(s2.p2.x - s2.p1.x, s2.p2.y - s2.p1.y);\r\n        double a2 = v2.y;\r\n        double b2 = -v2.x;\r\n        double c2 = v2.x * s2.p1.y - s2.v.y * s2.p1.x;\r\n        \r\n        // Calc intersection between RECTS.\r\n        Point intersection = null;\r\n        double det = a1 * b2 - b1 * a2;\r\n        if (det != 0) {\r\n            intersection = new Point(\r\n                (b2 * (-c1) - b1 * (-c2)) / det;\r\n                (a1 * (-c2) - a2 * (-c1)) / det;\r\n            );\r\n        }\r\n    \r\n        // Checks ff segments collides.\r\n        if (\r\n            intersection != null &amp;&amp;\r\n            (\r\n                (s1.p1.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s1.p2.x) ||\r\n                (s1.p2.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s1.p1.x)\r\n            ) &amp;&amp;\r\n            (\r\n                (s1.p1.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s1.p2.y) ||\r\n                (s1.p2.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s1.p1.y)\r\n            ) &amp;&amp;\r\n            (\r\n                (s2.p1.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s2.p2.x) ||\r\n                (s2.p2.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s2.p1.x)\r\n            ) &amp;&amp;\r\n            (\r\n                (s2.p1.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s2.p2.y) ||\r\n                (s2.p2.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s2.p1.y)\r\n            )\r\n        )\r\n            return intersection;\r\n    \r\n        return null;\r\n    };","title":"Line Segments Intersection(intersection Point)","body":"<p>I have tried code it without testing... I hope it works! ^^</p>\n\n<pre><code>public static Point intersection(Segment s1, Segment s2) {\n    // Components of the first segment's rect.\n    Point v1 = new Point(s1.p2.x - s1.p1.x, s1.p2.y - s1.p1.y); // Directional vector\n    double a1 = v.y;\n    double b1 = -v.x;\n    double c1 = v1.x * s1.p1.y - s1.v.y * s1.p1.x;\n\n    // Components of the second segment's rect.\n    Point v2 = new Point(s2.p2.x - s2.p1.x, s2.p2.y - s2.p1.y);\n    double a2 = v2.y;\n    double b2 = -v2.x;\n    double c2 = v2.x * s2.p1.y - s2.v.y * s2.p1.x;\n\n    // Calc intersection between RECTS.\n    Point intersection = null;\n    double det = a1 * b2 - b1 * a2;\n    if (det != 0) {\n        intersection = new Point(\n            (b2 * (-c1) - b1 * (-c2)) / det;\n            (a1 * (-c2) - a2 * (-c1)) / det;\n        );\n    }\n\n    // Checks ff segments collides.\n    if (\n        intersection != null &amp;&amp;\n        (\n            (s1.p1.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s1.p2.x) ||\n            (s1.p2.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s1.p1.x)\n        ) &amp;&amp;\n        (\n            (s1.p1.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s1.p2.y) ||\n            (s1.p2.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s1.p1.y)\n        ) &amp;&amp;\n        (\n            (s2.p1.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s2.p2.x) ||\n            (s2.p2.x &lt;= intersection.x &amp;&amp; intersection.x &lt;= s2.p1.x)\n        ) &amp;&amp;\n        (\n            (s2.p1.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s2.p2.y) ||\n            (s2.p2.y &lt;= intersection.y &amp;&amp; intersection.y &lt;= s2.p1.y)\n        )\n    )\n        return intersection;\n\n    return null;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3132,"reputation":5748,"user_id":4454,"accept_rate":59,"display_name":"Eyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613164161,"creation_date":1613164161,"answer_id":66179054,"question_id":29854085,"body_markdown":"Here&#39;s my answer.  I have tested it to be accurate by making a loop that checks that the answer it gives is the same as the one given by the Boost geometry library and they agree on each test, though the one that I have written below is much much faster than the one in Boost.  The test makes every possible line segment where x is and integer in [-3,2] and y is an integer in [-3,2], for all possible pairs of line segments.\r\n\r\nThe code below considers line segments that touch at endpoints to be intersecting. \r\n T-shaped intersections are also considered intersecting.  The code is in c++ but would be easily adaptable to any language.  It&#39;s based on a different stackoverflow answer but that answer did not handle endpoints correctly.\r\n\r\nIt uses the cross product method, which can report if a point is to the left or to the right of a given ray.\r\n\r\nThere are some optimizations to be made in the math but doing them showed no performance improvement over compilation with `g++ -O2` and sometime the performance even decreased!  The compiler is able to do those optimizations so I prefered to leave the code readable.\r\n\r\n```c++\r\n// is_left(): tests if a point is Left|On|Right of an infinite line.\r\n//    Input:  three points p0, p1, and p2\r\n//    Return: &gt;0 for p2 left of the line through p0 and p1\r\n//            =0 for p2 on the line\r\n//            &lt;0 for p2 right of the line\r\n//    See: Algorithm 1 &quot;Area of Triangles and Polygons&quot;\r\n//    This is p0p1 cross p0p2.\r\nextern inline coordinate_type_fp is_left(point_type_fp p0, point_type_fp p1, point_type_fp p2) {\r\n  return ((p1.x() - p0.x()) * (p2.y() - p0.y()) -\r\n          (p2.x() - p0.x()) * (p1.y() - p0.y()));\r\n}\r\n\r\n// Is x between a and b, where a can be lesser or greater than b.  If\r\n// x == a or x == b, also returns true. */\r\nextern inline coordinate_type_fp is_between(coordinate_type_fp a,\r\n                                            coordinate_type_fp x,\r\n                                            coordinate_type_fp b) {\r\n  return x == a || x == b || (a-x&gt;0) == (x-b&gt;0);\r\n}\r\n\r\n// https://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect\r\nextern inline bool is_intersecting(const point_type_fp&amp; p0, const point_type_fp&amp; p1,\r\n                                   const point_type_fp&amp; p2, const point_type_fp&amp; p3) {\r\n  const coordinate_type_fp left012 = is_left(p0, p1, p2);\r\n  const coordinate_type_fp left013 = is_left(p0, p1, p3);\r\n  const coordinate_type_fp left230 = is_left(p2, p3, p0);\r\n  const coordinate_type_fp left231 = is_left(p2, p3, p1);\r\n\r\n  if (p0 != p1) {\r\n    if (left012 == 0) {\r\n      if (is_between(p0.x(), p2.x(), p1.x()) &amp;&amp;\r\n          is_between(p0.y(), p2.y(), p1.y())) {\r\n        return true; // p2 is on the line p0 to p1\r\n      }\r\n    }\r\n    if (left013 == 0) {\r\n      if (is_between(p0.x(), p3.x(), p1.x()) &amp;&amp;\r\n          is_between(p0.y(), p3.y(), p1.y())) {\r\n        return true; // p3 is on the line p0 to p1\r\n      }\r\n    }\r\n  }\r\n  if (p2 != p3) {\r\n    if (left230 == 0) {\r\n      if (is_between(p2.x(), p0.x(), p3.x()) &amp;&amp;\r\n          is_between(p2.y(), p0.y(), p3.y())) {\r\n        return true; // p0 is on the line p2 to p3\r\n      }\r\n    }\r\n    if (left231 == 0) {\r\n      if (is_between(p2.x(), p1.x(), p3.x()) &amp;&amp;\r\n          is_between(p2.y(), p1.y(), p3.y())) {\r\n        return true; // p1 is on the line p2 to p3\r\n      }\r\n    }\r\n  }\r\n  if ((left012 &gt; 0) == (left013 &gt; 0) ||\r\n      (left230 &gt; 0) == (left231 &gt; 0)) {\r\n    if (p1 == p2) {\r\n      return true;\r\n    }\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n```\r\n\r\nThe test code:\r\n\r\n```c++\r\nBOOST_AUTO_TEST_CASE(small, *boost::unit_test::disabled()) {\r\n  for (double x0 = -3; x0 &lt; 3; x0++) {\r\n    for (double y0 = -3; y0 &lt; 3; y0++) {\r\n      for (double x1 = -3; x1 &lt; 3; x1++) {\r\n        for (double y1 = -3; y1 &lt; 3; y1++) {\r\n          for (double x2 = -3; x2 &lt; 3; x2++) {\r\n            for (double y2 = -3; y2 &lt; 3; y2++) {\r\n              for (double x3 = -3; x3 &lt; 3; x3++) {\r\n                for (double y3 = -3; y3 &lt; 3; y3++) {\r\n                  point_type_fp p0{x0, y0};\r\n                  point_type_fp p1{x1, y1};\r\n                  point_type_fp p2{x2, y2};\r\n                  point_type_fp p3{x3, y3};\r\n                  linestring_type_fp ls0{p0,p1};\r\n                  linestring_type_fp ls1{p2,p3};\r\n                  BOOST_TEST_INFO(&quot;intersection: &quot; &lt;&lt; bg::wkt(ls0) &lt;&lt; &quot; &quot; &lt;&lt; bg::wkt(ls1));\r\n                  BOOST_CHECK_EQUAL(\r\n                      path_finding::is_intersecting(p0, p1, p2, p3),\r\n                      bg::intersects(ls0, ls1));\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Line Segments Intersection(intersection Point)","body":"<p>Here's my answer.  I have tested it to be accurate by making a loop that checks that the answer it gives is the same as the one given by the Boost geometry library and they agree on each test, though the one that I have written below is much much faster than the one in Boost.  The test makes every possible line segment where x is and integer in [-3,2] and y is an integer in [-3,2], for all possible pairs of line segments.</p>\n<p>The code below considers line segments that touch at endpoints to be intersecting.\nT-shaped intersections are also considered intersecting.  The code is in c++ but would be easily adaptable to any language.  It's based on a different stackoverflow answer but that answer did not handle endpoints correctly.</p>\n<p>It uses the cross product method, which can report if a point is to the left or to the right of a given ray.</p>\n<p>There are some optimizations to be made in the math but doing them showed no performance improvement over compilation with <code>g++ -O2</code> and sometime the performance even decreased!  The compiler is able to do those optimizations so I prefered to leave the code readable.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>// is_left(): tests if a point is Left|On|Right of an infinite line.\n//    Input:  three points p0, p1, and p2\n//    Return: &gt;0 for p2 left of the line through p0 and p1\n//            =0 for p2 on the line\n//            &lt;0 for p2 right of the line\n//    See: Algorithm 1 &quot;Area of Triangles and Polygons&quot;\n//    This is p0p1 cross p0p2.\nextern inline coordinate_type_fp is_left(point_type_fp p0, point_type_fp p1, point_type_fp p2) {\n  return ((p1.x() - p0.x()) * (p2.y() - p0.y()) -\n          (p2.x() - p0.x()) * (p1.y() - p0.y()));\n}\n\n// Is x between a and b, where a can be lesser or greater than b.  If\n// x == a or x == b, also returns true. */\nextern inline coordinate_type_fp is_between(coordinate_type_fp a,\n                                            coordinate_type_fp x,\n                                            coordinate_type_fp b) {\n  return x == a || x == b || (a-x&gt;0) == (x-b&gt;0);\n}\n\n// https://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect\nextern inline bool is_intersecting(const point_type_fp&amp; p0, const point_type_fp&amp; p1,\n                                   const point_type_fp&amp; p2, const point_type_fp&amp; p3) {\n  const coordinate_type_fp left012 = is_left(p0, p1, p2);\n  const coordinate_type_fp left013 = is_left(p0, p1, p3);\n  const coordinate_type_fp left230 = is_left(p2, p3, p0);\n  const coordinate_type_fp left231 = is_left(p2, p3, p1);\n\n  if (p0 != p1) {\n    if (left012 == 0) {\n      if (is_between(p0.x(), p2.x(), p1.x()) &amp;&amp;\n          is_between(p0.y(), p2.y(), p1.y())) {\n        return true; // p2 is on the line p0 to p1\n      }\n    }\n    if (left013 == 0) {\n      if (is_between(p0.x(), p3.x(), p1.x()) &amp;&amp;\n          is_between(p0.y(), p3.y(), p1.y())) {\n        return true; // p3 is on the line p0 to p1\n      }\n    }\n  }\n  if (p2 != p3) {\n    if (left230 == 0) {\n      if (is_between(p2.x(), p0.x(), p3.x()) &amp;&amp;\n          is_between(p2.y(), p0.y(), p3.y())) {\n        return true; // p0 is on the line p2 to p3\n      }\n    }\n    if (left231 == 0) {\n      if (is_between(p2.x(), p1.x(), p3.x()) &amp;&amp;\n          is_between(p2.y(), p1.y(), p3.y())) {\n        return true; // p1 is on the line p2 to p3\n      }\n    }\n  }\n  if ((left012 &gt; 0) == (left013 &gt; 0) ||\n      (left230 &gt; 0) == (left231 &gt; 0)) {\n    if (p1 == p2) {\n      return true;\n    }\n    return false;\n  } else {\n    return true;\n  }\n}\n</code></pre>\n<p>The test code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>BOOST_AUTO_TEST_CASE(small, *boost::unit_test::disabled()) {\n  for (double x0 = -3; x0 &lt; 3; x0++) {\n    for (double y0 = -3; y0 &lt; 3; y0++) {\n      for (double x1 = -3; x1 &lt; 3; x1++) {\n        for (double y1 = -3; y1 &lt; 3; y1++) {\n          for (double x2 = -3; x2 &lt; 3; x2++) {\n            for (double y2 = -3; y2 &lt; 3; y2++) {\n              for (double x3 = -3; x3 &lt; 3; x3++) {\n                for (double y3 = -3; y3 &lt; 3; y3++) {\n                  point_type_fp p0{x0, y0};\n                  point_type_fp p1{x1, y1};\n                  point_type_fp p2{x2, y2};\n                  point_type_fp p3{x3, y3};\n                  linestring_type_fp ls0{p0,p1};\n                  linestring_type_fp ls1{p2,p3};\n                  BOOST_TEST_INFO(&quot;intersection: &quot; &lt;&lt; bg::wkt(ls0) &lt;&lt; &quot; &quot; &lt;&lt; bg::wkt(ls1));\n                  BOOST_CHECK_EQUAL(\n                      path_finding::is_intersecting(p0, p1, p2, p3),\n                      bg::intersects(ls0, ls1));\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737555,"reputation":1073,"user_id":2359895,"accept_rate":100,"display_name":"Paul Baxter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696158112,"creation_date":1696158112,"answer_id":77210195,"question_id":29854085,"body_markdown":"    // calculate the intersection of 2 line segments\r\n    // segment 1 = points A and B\r\n    // segment 2 = points C and D\r\n    // if there is an intersection return the point in pt\r\n    // from https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection\r\n    //\r\n    //      /      \\     /         \\          /      \\     /         \\\r\n    //      |  x1  |     | x2 - x1 |          |  x3  |     | x4 - x3 |\r\n    // L1 = |  --  | + t | ------- |,    L2 = |  --  | + u | ------- |\r\n    //      |  y1  |     | y2 - y1 |          |  y3  |     | y4 - y3 |\r\n    //      \\      /     \\         /          \\      /     \\         /\r\n    //\r\n    //\r\n    //      |  x1 - x3   x3 - x4  |\r\n    //      |  y1 - y3   y3 - y4  |     (x1 - x3)(y3 - y4) - (y1 - y3)(x3 - x4)\r\n    // t  = -----------------------  =  ---------------------------------------\r\n    //      |  x1 - x2   x3 - x4  |     (x1 - x2)(y3 - y4) - (y1 - y2)(x3 - x4)\r\n    //      |  y1 - y2   y3 - y4  |\r\n    //\r\n    //\r\n    //      |  x1 - x3   x1 - x2  |\r\n    //      |  y1 - y3   y1 - y2  |     (x1 - x3)(y1 - y2) - (y1 - y3)(x1 - x2)\r\n    // u  = -----------------------  =  ---------------------------------------\r\n    //      |  x1 - x2   x3 - x4  |     (x1 - x2)(y3 - y4) - (y1 - y2)(x3 - x4)\r\n    //      |  y1 - y2   y3 - y4  |\r\n    //\r\n    // (Px,Py) = (x1 + t(x2 - x1), y1 + t(y2 - y1))\r\n    //\r\n    // NOTE:\r\n    //    denominators are the same for t and u and must not be 0\r\n    //    t and u must be in the range 0 to 1\r\n    //\r\n    bool calc_intersection(const point&amp; A, const point&amp; B, const point&amp; C, const point&amp; D, point&amp; pt)\r\n    {\r\n       const double compare_tolerance = .00001;\r\n\r\n        pt = { 0,0 };\r\n\r\n        const auto x1 = A.x;\r\n        const auto y1 = A.y;\r\n        const auto x2 = B.x;\r\n        const auto y2 = B.y;\r\n        const auto x3 = C.x;\r\n        const auto y3 = C.y;\r\n        const auto x4 = D.x;\r\n        const auto y4 = D.y;\r\n\r\n        // this is done for simplifying terms\r\n        const auto x1_x2 = x1 - x2;\r\n        const auto x1_x3 = x1 - x3;\r\n        const auto x2_x1 = x2 - x1;\r\n        const auto x3_x4 = x3 - x4;\r\n\r\n        const auto y1_y2 = y1 - y2;\r\n        const auto y1_y3 = y1 - y3;\r\n        const auto y2_y1 = y2 - y1;\r\n        const auto y3_y4 = y3 - y4;\r\n\r\n        const auto denominator = x1_x2 * y3_y4 - y1_y2 * x3_x4;\r\n        if (abs(denominator) &lt; compare_tolerance)\r\n            return false;\r\n\r\n        const auto t = (x1_x3 * y3_y4 - y1_y3 * x3_x4) / denominator;\r\n        if (t &lt; 0 || t &gt; 1)\r\n            return false;\r\n\r\n        const auto u = (x1_x3 * y1_y2 - y1_y3 * x1_x2) / denominator;\r\n        if (u &lt; 0 || u &gt; 1)\r\n            return false;\r\n\r\n        pt = point(x1 + t * x2_x1, y1 + t * y2_y1);\r\n        return true;\r\n    }\r\n","title":"Line Segments Intersection(intersection Point)","body":"<pre><code>// calculate the intersection of 2 line segments\n// segment 1 = points A and B\n// segment 2 = points C and D\n// if there is an intersection return the point in pt\n// from https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection\n//\n//      /      \\     /         \\          /      \\     /         \\\n//      |  x1  |     | x2 - x1 |          |  x3  |     | x4 - x3 |\n// L1 = |  --  | + t | ------- |,    L2 = |  --  | + u | ------- |\n//      |  y1  |     | y2 - y1 |          |  y3  |     | y4 - y3 |\n//      \\      /     \\         /          \\      /     \\         /\n//\n//\n//      |  x1 - x3   x3 - x4  |\n//      |  y1 - y3   y3 - y4  |     (x1 - x3)(y3 - y4) - (y1 - y3)(x3 - x4)\n// t  = -----------------------  =  ---------------------------------------\n//      |  x1 - x2   x3 - x4  |     (x1 - x2)(y3 - y4) - (y1 - y2)(x3 - x4)\n//      |  y1 - y2   y3 - y4  |\n//\n//\n//      |  x1 - x3   x1 - x2  |\n//      |  y1 - y3   y1 - y2  |     (x1 - x3)(y1 - y2) - (y1 - y3)(x1 - x2)\n// u  = -----------------------  =  ---------------------------------------\n//      |  x1 - x2   x3 - x4  |     (x1 - x2)(y3 - y4) - (y1 - y2)(x3 - x4)\n//      |  y1 - y2   y3 - y4  |\n//\n// (Px,Py) = (x1 + t(x2 - x1), y1 + t(y2 - y1))\n//\n// NOTE:\n//    denominators are the same for t and u and must not be 0\n//    t and u must be in the range 0 to 1\n//\nbool calc_intersection(const point&amp; A, const point&amp; B, const point&amp; C, const point&amp; D, point&amp; pt)\n{\n   const double compare_tolerance = .00001;\n\n    pt = { 0,0 };\n\n    const auto x1 = A.x;\n    const auto y1 = A.y;\n    const auto x2 = B.x;\n    const auto y2 = B.y;\n    const auto x3 = C.x;\n    const auto y3 = C.y;\n    const auto x4 = D.x;\n    const auto y4 = D.y;\n\n    // this is done for simplifying terms\n    const auto x1_x2 = x1 - x2;\n    const auto x1_x3 = x1 - x3;\n    const auto x2_x1 = x2 - x1;\n    const auto x3_x4 = x3 - x4;\n\n    const auto y1_y2 = y1 - y2;\n    const auto y1_y3 = y1 - y3;\n    const auto y2_y1 = y2 - y1;\n    const auto y3_y4 = y3 - y4;\n\n    const auto denominator = x1_x2 * y3_y4 - y1_y2 * x3_x4;\n    if (abs(denominator) &lt; compare_tolerance)\n        return false;\n\n    const auto t = (x1_x3 * y3_y4 - y1_y3 * x3_x4) / denominator;\n    if (t &lt; 0 || t &gt; 1)\n        return false;\n\n    const auto u = (x1_x3 * y1_y2 - y1_y3 * x1_x2) / denominator;\n    if (u &lt; 0 || u &gt; 1)\n        return false;\n\n    pt = point(x1 + t * x2_x1, y1 + t * y2_y1);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":4309809,"reputation":115,"user_id":3521250,"accept_rate":33,"display_name":"user3521250"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1696158112,"creation_date":1429897275,"question_id":29854085,"body_markdown":"I have created a function to calculate the intersection point of two line segment .\r\n\r\nUnfortunantly the code below dosen&#39;t work if one of the segment is verticale\r\n \r\n\r\n        public static Point intersection(Segment s1, Segment s2) {\r\n        double x1 = s1.getP1().getX();\r\n        double y1 = s1.getP1().getY() ;\r\n        double x2 = s1.getP2().getX();\r\n        double y2 = s1.getP2().getY() ;\r\n        double x3 = s2.getP1().getX();\r\n        double y3 = s2.getP1().getY();\r\n        double x4 = s2.getP2().getX();\r\n        double y4 = s2.getP2().getY();\r\n\r\n        double d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\r\n        if (d == 0) {\r\n            return null;\r\n        }\r\n        double xi = ((x3 - x4) * (x1 * y2 - y1 * x2) - (x1 - x2) * (x3 * y4 - y3 * x4)) / d;\r\n        double yi = ((y3 - y4) * (x1 * y2 - y1 * x2) - (y1 - y2) * (x3 * y4 - y3 * x4)) / d;\r\n        Point p = new Point(xi, yi);\r\n        if (xi &lt; Math.min(x1, x2) || xi &gt; Math.max(x1, x2)) {\r\n            return null;\r\n        }\r\n        if (xi &lt; Math.min(x3, x4) || xi &gt; Math.max(x3, x4)) {\r\n            return null;\r\n        }\r\n        return p;\r\n    }\r\n\r\n\r\nthe problem when i have a vertical line segment , this formula\r\n\r\n    double d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\r\n\r\n is equal to 0 and the method return null.\r\n\r\nHow can I handle this exception.\r\n\r\nThank you","title":"Line Segments Intersection(intersection Point)","body":"<p>I have created a function to calculate the intersection point of two line segment .</p>\n\n<p>Unfortunantly the code below dosen't work if one of the segment is verticale</p>\n\n<pre><code>    public static Point intersection(Segment s1, Segment s2) {\n    double x1 = s1.getP1().getX();\n    double y1 = s1.getP1().getY() ;\n    double x2 = s1.getP2().getX();\n    double y2 = s1.getP2().getY() ;\n    double x3 = s2.getP1().getX();\n    double y3 = s2.getP1().getY();\n    double x4 = s2.getP2().getX();\n    double y4 = s2.getP2().getY();\n\n    double d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (d == 0) {\n        return null;\n    }\n    double xi = ((x3 - x4) * (x1 * y2 - y1 * x2) - (x1 - x2) * (x3 * y4 - y3 * x4)) / d;\n    double yi = ((y3 - y4) * (x1 * y2 - y1 * x2) - (y1 - y2) * (x3 * y4 - y3 * x4)) / d;\n    Point p = new Point(xi, yi);\n    if (xi &lt; Math.min(x1, x2) || xi &gt; Math.max(x1, x2)) {\n        return null;\n    }\n    if (xi &lt; Math.min(x3, x4) || xi &gt; Math.max(x3, x4)) {\n        return null;\n    }\n    return p;\n}\n</code></pre>\n\n<p>the problem when i have a vertical line segment , this formula</p>\n\n<pre><code>double d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n</code></pre>\n\n<p>is equal to 0 and the method return null.</p>\n\n<p>How can I handle this exception.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696144016,"post_id":77209529,"comment_id":136114098,"body_markdown":"Can you please include a [mcve] as well as what exactly you tried and why? Also, please use a [code block] to format any code/data/errors you have.","body":"Can you please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as well as what exactly you tried and why? Also, please use a <a href=\"https://stackoverflow.com/editing-help#code\">code block</a> to format any code/data/errors you have."},{"owner":{"account_id":26506211,"reputation":1,"user_id":20142337,"display_name":"Amit Kumar sahu"},"score":0,"creation_date":1696144853,"post_id":77209529,"comment_id":136114153,"body_markdown":"When I run this project locally it runs as expected. But when I try to deploy it to the railway server It does not run.","body":"When I run this project locally it runs as expected. But when I try to deploy it to the railway server It does not run."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696146836,"post_id":77209529,"comment_id":136114299,"body_markdown":"As mentioned, please create a [mcve] with the minimal necessary code and configuration to reproduce the problem.","body":"As mentioned, please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the minimal necessary code and configuration to reproduce the problem."},{"owner":{"account_id":26506211,"reputation":1,"user_id":20142337,"display_name":"Amit Kumar sahu"},"score":0,"creation_date":1696148350,"post_id":77209529,"comment_id":136114431,"body_markdown":"I did not set the environment variable so the error occurred after @dea1st suggestions, I realized and checked and set the environment variable. Now, It is working as expected. thank you","body":"I did not set the environment variable so the error occurred after @dea1st suggestions, I realized and checked and set the environment variable. Now, It is working as expected. thank you"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696149731,"post_id":77209529,"comment_id":136114539,"body_markdown":"In case you think this solution could help future readers, you can [answer your own question](https://stackoverflow.com/help/self-answer) and share what exactly needs to be done in order to fix this issue.","body":"In case you think this solution could help future readers, you can <a href=\"https://stackoverflow.com/help/self-answer\">answer your own question</a> and share what exactly needs to be done in order to fix this issue."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696157450,"post_id":77209529,"comment_id":136115169,"body_markdown":"I guess you mean you have migrated to Spring Boot 3.1.2, because Spring (or Spring Framework) 3.1.2 is ancient.","body":"I guess you mean you have migrated to Spring Boot 3.1.2, because Spring (or Spring Framework) 3.1.2 is ancient."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696415515,"post_id":77209529,"comment_id":136149108,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"}],"answers":[{"comments":[{"owner":{"account_id":26506211,"reputation":1,"user_id":20142337,"display_name":"Amit Kumar sahu"},"score":0,"creation_date":1696145111,"post_id":77209562,"comment_id":136114173,"body_markdown":"spring.datasource.url=jdbc:mysql://containers-us-west-90.railway.app:7999/railway\nspring.datasource.username=root\nspring.datasource.password=**********\n\n# jpa configuration\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show.sql=false","body":"spring.datasource.url=jdbc:mysql://containers-us-west-90.rai&zwnj;&#8203;lway.app:7999/railwa&zwnj;&#8203;y spring.datasource.username=root spring.datasource.password=**********  # jpa configuration spring.jpa.hibernate.ddl-auto=update spring.jpa.show.sql=false"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696413325,"post_id":77209562,"comment_id":136148599,"body_markdown":"Welcome to Stack Overflow! Thank you for your answer. Please provide more details about your solution. Code snippets, high quality descriptions, or any relevant information would be great. Clear and concise answers are more helpful and easier to understand for everyone. [Edit](https://stackoverflow.com/posts/77045362/edit) your answer with specifics to raise the quality of your answer. For more information: [How To: Write good answers](https://stackoverflow.com/help/how-to-answer). Happy coding!","body":"Welcome to Stack Overflow! Thank you for your answer. Please provide more details about your solution. Code snippets, high quality descriptions, or any relevant information would be great. Clear and concise answers are more helpful and easier to understand for everyone. <a href=\"https://stackoverflow.com/posts/77045362/edit\">Edit</a> your answer with specifics to raise the quality of your answer. For more information: <a href=\"https://stackoverflow.com/help/how-to-answer\">How To: Write good answers</a>. Happy coding!"}],"tags":[],"owner":{"account_id":29515674,"reputation":1,"user_id":22619681,"display_name":"Ramin Gahramanzada"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696144651,"creation_date":1696144651,"answer_id":77209562,"question_id":77209529,"body_markdown":"that is your answer:\r\n. Specifically, it seems to be related to the configuration file location, which must end with a &#39;/&#39;.\r\n\r\njava.lang.IllegalStateException: Location &#39;file:./config//application-/etc/profile.yaml&#39; must end with &#39;/&#39;\r\nTo resolve this issue, you should check the application&#39;s configuration file and ensure that the location is correctly specified and ends with a &#39;/&#39;.\r\nLocate your Spring Boot application&#39;s configuration file, which appears to be application-/etc/profile.yaml.\r\n\r\nVerify that the location specified in your configuration file is correctly formatted and ends with a &#39;/&#39;. \r\n","title":"I have migrated spring to 3.1.2 then It runs as expected in local machine then but when I deployed this to railway server then i got this error","body":"<p>that is your answer:\n. Specifically, it seems to be related to the configuration file location, which must end with a '/'.</p>\n<p>java.lang.IllegalStateException: Location 'file:./config//application-/etc/profile.yaml' must end with '/'\nTo resolve this issue, you should check the application's configuration file and ensure that the location is correctly specified and ends with a '/'.\nLocate your Spring Boot application's configuration file, which appears to be application-/etc/profile.yaml.</p>\n<p>Verify that the location specified in your configuration file is correctly formatted and ends with a '/'.</p>\n"}],"owner":{"account_id":26506211,"reputation":1,"user_id":20142337,"display_name":"Amit Kumar sahu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696157563,"creation_date":1696143633,"question_id":77209529,"body_markdown":"18:01:21.983 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\r\n\r\n```none\r\njava.lang.IllegalStateException: Location &#39;file:./config//application-/etc/profile.yaml&#39; must end with &#39;/&#39;\r\n    at org.springframework.util.Assert.state(Assert.java:97)\r\n    at org.springframework.boot.context.config.LocationResourceLoader.validatePattern(LocationResourceLoader.java:134)\r\n    at org.springframework.boot.context.config.LocationResourceLoader.getResources(LocationResourceLoader.java:95)\r\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolvePattern(StandardConfigDataLocationResolver.java:314)\r\n    at at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolveProfileSpecific(StandardConfigDataLocationResolver.java:150)\r\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$2(ConfigDataLocationResolvers.java:107)\r\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:113)\r\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:106)\r\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:94)\r\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:106)\r\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:98)\r\n    at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\r\n    at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:115)\r\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:313)\r\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:234)\r\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:96)\r\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:89)\r\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\r\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\r\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    at com.amit.dps.Application.main(Application.java:31)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n```\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.amit.dps&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;dps.app.apis&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;dps.app.apis&lt;/name&gt;\r\n\t&lt;description&gt;This is backend apis for school website&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- spring security dependency  --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t   &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.3.1&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"I have migrated spring to 3.1.2 then It runs as expected in local machine then but when I deployed this to railway server then i got this error","body":"<p>18:01:21.983 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalStateException: Location 'file:./config//application-/etc/profile.yaml' must end with '/'\n    at org.springframework.util.Assert.state(Assert.java:97)\n    at org.springframework.boot.context.config.LocationResourceLoader.validatePattern(LocationResourceLoader.java:134)\n    at org.springframework.boot.context.config.LocationResourceLoader.getResources(LocationResourceLoader.java:95)\n    at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolvePattern(StandardConfigDataLocationResolver.java:314)\n    at at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolveProfileSpecific(StandardConfigDataLocationResolver.java:150)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$2(ConfigDataLocationResolvers.java:107)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:113)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:106)\n    at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:94)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:106)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:98)\n    at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:115)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:313)\n    at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:234)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:96)\n    at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:89)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\n    at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.amit.dps.Application.main(Application.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.amit.dps&lt;/groupId&gt;\n    &lt;artifactId&gt;dps.app.apis&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dps.app.apis&lt;/name&gt;\n    &lt;description&gt;This is backend apis for school website&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- spring security dependency  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","data-structures","collections"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1324968719,"post_id":8641883,"comment_id":10733870,"body_markdown":"TreeSet and TreeMap are two collections backed up by a binary tree.","body":"TreeSet and TreeMap are two collections backed up by a binary tree."},{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":2,"creation_date":1324969089,"post_id":8641883,"comment_id":10733932,"body_markdown":"Im not talking only of Binary tree, Why dont we have a generalized tree implementation, a Tree Inteface ?","body":"Im not talking only of Binary tree, Why dont we have a generalized tree implementation, a Tree Inteface ?"},{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":1,"creation_date":1324969226,"post_id":8641883,"comment_id":10733958,"body_markdown":"there are lot of external libraries, which give this kind of functionality, rather it could have been included in Collections API itself, my questions is why it is not included as a general data-structure in collection API of java.?","body":"there are lot of external libraries, which give this kind of functionality, rather it could have been included in Collections API itself, my questions is why it is not included as a general data-structure in collection API of java.?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":3,"creation_date":1324969258,"post_id":8641883,"comment_id":10733963,"body_markdown":"You&#39;d need to ask James Gosling. No one here can answer your question with any authority. Anything anyone would have to say would be merely speculation and opinion.","body":"You&#39;d need to ask James Gosling. No one here can answer your question with any authority. Anything anyone would have to say would be merely speculation and opinion."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1324971911,"post_id":8641883,"comment_id":10734344,"body_markdown":"javax.swing.tree.TreeModel is a tree. I&#39;ve never used it outside of Swing, but I don&#39;t see why it couldn&#39;t be.","body":"javax.swing.tree.TreeModel is a tree. I&#39;ve never used it outside of Swing, but I don&#39;t see why it couldn&#39;t be."},{"owner":{"account_id":367162,"reputation":1451,"user_id":713165,"accept_rate":58,"display_name":"Nitin"},"score":1,"creation_date":1324978540,"post_id":8641883,"comment_id":10735392,"body_markdown":"you do have treeset and tree map.","body":"you do have treeset and tree map."},{"owner":{"account_id":1494269,"reputation":922,"user_id":1400596,"accept_rate":42,"display_name":"Mangoose"},"score":4,"creation_date":1409739379,"post_id":8641883,"comment_id":40064403,"body_markdown":"@BrianRoach  Not James gosling. We need to ask Joshua Bloch:)","body":"@BrianRoach  Not James gosling. We need to ask Joshua Bloch:)"},{"owner":{"account_id":213709,"reputation":8276,"user_id":467240,"accept_rate":57,"display_name":"mtyson"},"score":0,"creation_date":1412001236,"post_id":8641883,"comment_id":40904927,"body_markdown":"Make sure you close this one because its actually interesting.  Power trip.","body":"Make sure you close this one because its actually interesting.  Power trip."},{"owner":{"account_id":43131,"reputation":4487,"user_id":125904,"accept_rate":76,"display_name":"asyncwait"},"score":0,"creation_date":1428134320,"post_id":8641883,"comment_id":47055673,"body_markdown":"`TreeMap` and `TreeSet` are always confusing names for tree based implementation of `Map` and `Set`","body":"<code>TreeMap</code> and <code>TreeSet</code> are always confusing names for tree based implementation of <code>Map</code> and <code>Set</code>"},{"owner":{"account_id":1109288,"reputation":1653,"user_id":1100060,"accept_rate":0,"display_name":"Nathan B"},"score":0,"creation_date":1645224212,"post_id":8641883,"comment_id":125823204,"body_markdown":"Great question. TreeMap and TreeSet can&#39;t contain elements with identical key, we definitely need a regular sorted Tree implementation.","body":"Great question. TreeMap and TreeSet can&#39;t contain elements with identical key, we definitely need a regular sorted Tree implementation."}],"answers":[{"comments":[{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":0,"creation_date":1324969042,"post_id":8641936,"comment_id":10733924,"body_markdown":"I know TreeMap exists, but its a more specific form of a tree data-structure, why dont we have a more general tree implementation, as we have for List and Set. why the creators of Collections API decided not to give a generalized form of a tree.? May be they could have given an inteface Tree&lt;K,V&gt; and its implementations as BinaryTree, AVLTree, RedBlackTree?","body":"I know TreeMap exists, but its a more specific form of a tree data-structure, why dont we have a more general tree implementation, as we have for List and Set. why the creators of Collections API decided not to give a generalized form of a tree.? May be they could have given an inteface Tree&lt;K,V&gt; and its implementations as BinaryTree, AVLTree, RedBlackTree?"},{"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"score":0,"creation_date":1324970018,"post_id":8641936,"comment_id":10734080,"body_markdown":"I agree with Artem Zh.&#39;s answer. Tree is just a specific form of data structure to hold a &quot;collection&quot; of entities.","body":"I agree with Artem Zh.&#39;s answer. Tree is just a specific form of data structure to hold a &quot;collection&quot; of entities."},{"owner":{"account_id":1109288,"reputation":1653,"user_id":1100060,"accept_rate":0,"display_name":"Nathan B"},"score":0,"creation_date":1645224265,"post_id":8641936,"comment_id":125823221,"body_markdown":"TreeMap - not good enough, can&#39;t hold multiple elements with the same key (and different value)","body":"TreeMap - not good enough, can&#39;t hold multiple elements with the same key (and different value)"}],"tags":[],"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"comment_count":3,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1324968701,"creation_date":1324968701,"answer_id":8641936,"question_id":8641883,"body_markdown":"java.util.TreeMap is an implementation of Red and Black Tree.","title":"Why Java Collections API does not have Tree implementation","body":"<p>java.util.TreeMap is an implementation of Red and Black Tree.</p>\n"},{"comments":[{"owner":{"account_id":1091454,"reputation":1062,"user_id":1086020,"display_name":"Tim Gee"},"score":0,"creation_date":1324998944,"post_id":8641952,"comment_id":10740025,"body_markdown":"This. Collections are not defined by their data structures, but their promises on performance with regard to insertion, deletion and lookup.  The details of implementation are supposed to be irrelevant, you choose the container based on what your usage requirements are. For example, if you needed a container where the elements are always sorted and the lookup should be O(log n), then you need a Set or SortedMap. It shouldn&#39;t matter how the implementation fulfils the performance guarantees.","body":"This. Collections are not defined by their data structures, but their promises on performance with regard to insertion, deletion and lookup.  The details of implementation are supposed to be irrelevant, you choose the container based on what your usage requirements are. For example, if you needed a container where the elements are always sorted and the lookup should be O(log n), then you need a Set or SortedMap. It shouldn&#39;t matter how the implementation fulfils the performance guarantees."},{"owner":{"account_id":59513,"reputation":1516,"user_id":178064,"accept_rate":83,"display_name":"Tonio"},"score":2,"creation_date":1365786763,"post_id":8641952,"comment_id":22775135,"body_markdown":"I disagree.  Collections are defined by their contracts.  `Set`s make no guarantee of order (and hence have no indexed access), but guarantee no duplicates. `List`s guarantee order, but allow duplicates. `Map`s include relationships between the elements.  The fact that you can use Trees to implement some (all?) of these is irrelevant.  You could, for example, use a `List` to implement a `Set` (e.g. `LinkedHashSet`).  There is more than one way to implement a Tree, too.","body":"I disagree.  Collections are defined by their contracts.  <code>Set</code>s make no guarantee of order (and hence have no indexed access), but guarantee no duplicates. <code>List</code>s guarantee order, but allow duplicates. <code>Map</code>s include relationships between the elements.  The fact that you can use Trees to implement some (all?) of these is irrelevant.  You could, for example, use a <code>List</code> to implement a <code>Set</code> (e.g. <code>LinkedHashSet</code>).  There is more than one way to implement a Tree, too."}],"tags":[],"owner":{"account_id":1118498,"reputation":950,"user_id":1107296,"display_name":"Wizart"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1324969363,"creation_date":1324968951,"answer_id":8641952,"question_id":8641883,"body_markdown":"IMHO, theoretically, Tree is not a type of collection, it&#39;s just a type of implementation. I mean there are abstract collections such as Set (unordered set of entries), List (ordered set of entries), Map (two sets of entries with relations between them), and there are their implementations: array, list (e.g. ArrayList and LinkedList), HashSet etc., all of them have their own advantages and disadvantages. Thus, Tree is just one of implementations (for lists, e.g.) which may give you (roughly) faster search than array but no access by index.\r\n\r\nBTW, there is TreeMap (&quot;Red-Black tree based NavigableMap implementation&quot;) and TreeSet (&quot;A NavigableSet implementation based on a TreeMap.&quot;) classes in Java.","title":"Why Java Collections API does not have Tree implementation","body":"<p>IMHO, theoretically, Tree is not a type of collection, it's just a type of implementation. I mean there are abstract collections such as Set (unordered set of entries), List (ordered set of entries), Map (two sets of entries with relations between them), and there are their implementations: array, list (e.g. ArrayList and LinkedList), HashSet etc., all of them have their own advantages and disadvantages. Thus, Tree is just one of implementations (for lists, e.g.) which may give you (roughly) faster search than array but no access by index.</p>\n\n<p>BTW, there is TreeMap (\"Red-Black tree based NavigableMap implementation\") and TreeSet (\"A NavigableSet implementation based on a TreeMap.\") classes in Java.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1696157440,"creation_date":1324970710,"answer_id":8642120,"question_id":8641883,"body_markdown":"&gt; I think there should be some strong reason why they decided not to include it in collections API.\r\n\r\nI think that the reason is that nobody has come up with a good API for trees that is both \r\n\r\n  - general purpose enough to cover a wide range of use-cases, and \r\n  - useful enough to compensate for the performance and usability overheads of being general.  \r\n\r\n(And where do you stop? Tree? Binary tree? N-ary tree? DAG? Graph?)\r\n\r\nIt is worth noting that neither Apache Commons Collections or Google Collections (aka Guava) have a tree API.  However, there is an active Guava issue on this topic - http://code.google.com/p/guava-libraries/issues/detail?id=174 - so clearly at least *some* people agree with your point of view.\r\n\r\n**UPDATE**\r\n\r\nAs of version 15.0, Guava now has tree support in the form of the `TreeTraverser` and `BinaryTreeTraverser` classes.  But this may not be what you expect.  In truth, these classes don&#39;t actually implement the tree data structure.  Instead, you have to do this in a generic type parameter.  Further to that, the `Traverser` classes even avoid making assumptions about the APIs of the node type.  They do this by being abstract classes, and requiring the concrete traverser subtype to implement the operations that interrogate the tree; e.g. to get a node&#39;s children.\r\n\r\n--------\r\n\r\nFWIW, `TreeMap` and `TreeSet` are not &quot;tree APIs&quot;.  They are tree-based implementations of the `Map` and `Set` APIs.  The tree-ness is totally concealed by the public APIs, making these two classes completely unsuitable for use as general purpose trees.","title":"Why Java Collections API does not have Tree implementation","body":"<blockquote>\n<p>I think there should be some strong reason why they decided not to include it in collections API.</p>\n</blockquote>\n<p>I think that the reason is that nobody has come up with a good API for trees that is both</p>\n<ul>\n<li>general purpose enough to cover a wide range of use-cases, and</li>\n<li>useful enough to compensate for the performance and usability overheads of being general.</li>\n</ul>\n<p>(And where do you stop? Tree? Binary tree? N-ary tree? DAG? Graph?)</p>\n<p>It is worth noting that neither Apache Commons Collections or Google Collections (aka Guava) have a tree API.  However, there is an active Guava issue on this topic - <a href=\"http://code.google.com/p/guava-libraries/issues/detail?id=174\" rel=\"nofollow noreferrer\">http://code.google.com/p/guava-libraries/issues/detail?id=174</a> - so clearly at least <em>some</em> people agree with your point of view.</p>\n<p><strong>UPDATE</strong></p>\n<p>As of version 15.0, Guava now has tree support in the form of the <code>TreeTraverser</code> and <code>BinaryTreeTraverser</code> classes.  But this may not be what you expect.  In truth, these classes don't actually implement the tree data structure.  Instead, you have to do this in a generic type parameter.  Further to that, the <code>Traverser</code> classes even avoid making assumptions about the APIs of the node type.  They do this by being abstract classes, and requiring the concrete traverser subtype to implement the operations that interrogate the tree; e.g. to get a node's children.</p>\n<hr />\n<p>FWIW, <code>TreeMap</code> and <code>TreeSet</code> are not &quot;tree APIs&quot;.  They are tree-based implementations of the <code>Map</code> and <code>Set</code> APIs.  The tree-ness is totally concealed by the public APIs, making these two classes completely unsuitable for use as general purpose trees.</p>\n"}],"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21917,"favorite_count":0,"down_vote_count":2,"up_vote_count":29,"closed_date":1325028803,"answer_count":3,"score":27,"last_activity_date":1696157440,"creation_date":1324968075,"question_id":8641883,"body_markdown":"Just out of curiosity, I recently had to use a tree for one of my programs, i had to build a binary tree myself, but why does the Collections API does not have a default implementation of tree(or even a binary tree)?\r\n\r\nI think there should be some strong reason why they decided not to include it in collections API.\r\n\r\n","title":"Why Java Collections API does not have Tree implementation","body":"<p>Just out of curiosity, I recently had to use a tree for one of my programs, i had to build a binary tree myself, but why does the Collections API does not have a default implementation of tree(or even a binary tree)?</p>\n\n<p>I think there should be some strong reason why they decided not to include it in collections API.</p>\n"},{"tags":["java","hibernate","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696157381,"creation_date":1696157381,"answer_id":77210145,"question_id":77209456,"body_markdown":"I bet you&#39;d need to import `hibernate-common-annotations` library to make it work, now it&#39;s missing in your gradle build file:\r\n\r\nhttps://mvnrepository.com/artifact/org.hibernate.common/hibernate-commons-annotations","title":"Exception NoClassDefFoundError: ReflectionManager with Hibernate 6","body":"<p>I bet you'd need to import <code>hibernate-common-annotations</code> library to make it work, now it's missing in your gradle build file:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.hibernate.common/hibernate-commons-annotations\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hibernate.common/hibernate-commons-annotations</a></p>\n"}],"owner":{"account_id":23991483,"reputation":45,"user_id":17977576,"display_name":"Fridolin1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696157381,"creation_date":1696141576,"question_id":77209456,"body_markdown":"I tried to implement Hibernate 6 in my Kotlin Project, but i get the following error:\r\n`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager Caused by: java.lang.ClassNotFoundException: org.hibernate.annotations.common.reflection.ReflectionManager`\r\n\r\nThis is my build.gradle.kts:\r\n\r\n```\r\nplugins {\r\n    kotlin(&quot;jvm&quot;) version &quot;1.9.0&quot;\r\n}\r\n\r\ngroup = &quot;org.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation(&quot;org.jetbrains.kotlin:kotlin-test:1.8.10&quot;)\r\n    // https://mvnrepository.com/artifact/org.javacord/javacord\r\n    implementation(&quot;org.javacord:javacord:3.8.0&quot;)\r\n    // https://mvnrepository.com/artifact/com.google.code.gson/gson\r\n    implementation(&quot;com.google.code.gson:gson:2.10.1&quot;)\r\n    // https://central.sonatype.com/artifact/org.hibernate.orm/hibernate-core/6.3.1.Final\r\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.3.1.Final&quot;)\r\n//    // https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc\r\n//    implementation(&quot;org.xerial:sqlite-jdbc:3.43.0.0&quot;)\r\n    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\r\n    implementation(&quot;org.apache.logging.log4j:log4j-core:2.20.0&quot;)\r\n//    // https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-community-dialects\r\n//    implementation(&quot;org.hibernate.orm:hibernate-community-dialects:6.3.1.Final&quot;)\r\n    // https://mvnrepository.com/artifact/com.h2database/h2\r\n    implementation(&quot;com.h2database:h2:2.2.224&quot;)\r\n}\r\n\r\ntasks.test {\r\n    useJUnitPlatform()\r\n}\r\n\r\nkotlin {\r\n    jvmToolchain(8)\r\n}\r\n```\r\n\r\nAnd this my code:\r\n\r\n```\r\nfun main() {\r\n    val registry = StandardServiceRegistryBuilder().configure().build()\r\n    val sessionFactory = MetadataSources(registry).buildMetadata().buildSessionFactory()\r\n    val session = sessionFactory.openSession()\r\n    session.beginTransaction()\r\n    session.persist(Account(829707526215172136L, 639095276619169813L, 1337))\r\n    session.transaction.commit()\r\n}\r\n```\r\n\r\nI already tried to implement the hibernate-commons-annotations, because this was someone else&#39;s solution, but that didn&#39;t work.","title":"Exception NoClassDefFoundError: ReflectionManager with Hibernate 6","body":"<p>I tried to implement Hibernate 6 in my Kotlin Project, but i get the following error:\n<code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager Caused by: java.lang.ClassNotFoundException: org.hibernate.annotations.common.reflection.ReflectionManager</code></p>\n<p>This is my build.gradle.kts:</p>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.9.0&quot;\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation(&quot;org.jetbrains.kotlin:kotlin-test:1.8.10&quot;)\n    // https://mvnrepository.com/artifact/org.javacord/javacord\n    implementation(&quot;org.javacord:javacord:3.8.0&quot;)\n    // https://mvnrepository.com/artifact/com.google.code.gson/gson\n    implementation(&quot;com.google.code.gson:gson:2.10.1&quot;)\n    // https://central.sonatype.com/artifact/org.hibernate.orm/hibernate-core/6.3.1.Final\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.3.1.Final&quot;)\n//    // https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc\n//    implementation(&quot;org.xerial:sqlite-jdbc:3.43.0.0&quot;)\n    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\n    implementation(&quot;org.apache.logging.log4j:log4j-core:2.20.0&quot;)\n//    // https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-community-dialects\n//    implementation(&quot;org.hibernate.orm:hibernate-community-dialects:6.3.1.Final&quot;)\n    // https://mvnrepository.com/artifact/com.h2database/h2\n    implementation(&quot;com.h2database:h2:2.2.224&quot;)\n}\n\ntasks.test {\n    useJUnitPlatform()\n}\n\nkotlin {\n    jvmToolchain(8)\n}\n</code></pre>\n<p>And this my code:</p>\n<pre><code>fun main() {\n    val registry = StandardServiceRegistryBuilder().configure().build()\n    val sessionFactory = MetadataSources(registry).buildMetadata().buildSessionFactory()\n    val session = sessionFactory.openSession()\n    session.beginTransaction()\n    session.persist(Account(829707526215172136L, 639095276619169813L, 1337))\n    session.transaction.commit()\n}\n</code></pre>\n<p>I already tried to implement the hibernate-commons-annotations, because this was someone else's solution, but that didn't work.</p>\n"},{"tags":["java","multithreading","java-8","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696155409,"post_id":77209950,"comment_id":136114993,"body_markdown":"Is the thread stack size not what you’re looking for?","body":"Is the thread stack size not what you’re looking for?"},{"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"score":0,"creation_date":1696155662,"post_id":77209950,"comment_id":136115010,"body_markdown":"As I understand it, thread stack size in java decides how many frames I can have for each Thread&#39;s stack / how deep I could get into recursive calls. What I want to configure is the number of threads my application can create irrespective of their stack size. This seems to be independent of stack size acc. to my first source.","body":"As I understand it, thread stack size in java decides how many frames I can have for each Thread&#39;s stack / how deep I could get into recursive calls. What I want to configure is the number of threads my application can create irrespective of their stack size. This seems to be independent of stack size acc. to my first source."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1696157117,"post_id":77209950,"comment_id":136115133,"body_markdown":"Your first point is wrong, the maximum is dependent on the OS limit **and** stack size (or in other words, either you hit the OS limit on threads, or you run out of memory). In any case, as far as I know, Java does not have an option to limit this. To be honest, I&#39;m not sure what you&#39;re doing that you need to worry about this.","body":"Your first point is wrong, the maximum is dependent on the OS limit <b>and</b> stack size (or in other words, either you hit the OS limit on threads, or you run out of memory). In any case, as far as I know, Java does not have an option to limit this. To be honest, I&#39;m not sure what you&#39;re doing that you need to worry about this."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696410917,"post_id":77209950,"comment_id":136148047,"body_markdown":"@MarkRotteveel by default, the stack memory is allocated but not committed. So if you only create threads but don’t run them or the code executed by the thread makes no use of the stack, the stack size does indeed not influence the number of threads you can create. It had an impact on 32 bit systems, of course, where even virtual memory (address space) was scarce.","body":"@MarkRotteveel by default, the stack memory is allocated but not committed. So if you only create threads but don’t run them or the code executed by the thread makes no use of the stack, the stack size does indeed not influence the number of threads you can create. It had an impact on 32 bit systems, of course, where even virtual memory (address space) was scarce."}],"answers":[{"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1696158192,"post_id":77210132,"comment_id":136115242,"body_markdown":"The flip side of this is that most threads will allocate memory to do whatever application-specific work they do. So the heap size also limits the number of threads in that way: the more concurrent threads are running, the more heap they will consume. The real-world limit on the number of threads you can run concurrently before it becomes detrimental depends on many interacting factors.","body":"The flip side of this is that most threads will allocate memory to do whatever application-specific work they do. So the heap size also limits the number of threads in that way: the more concurrent threads are running, the more heap they will consume. The real-world limit on the number of threads you can run concurrently before it becomes detrimental depends on many interacting factors."},{"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"score":0,"creation_date":1696742877,"post_id":77210132,"comment_id":136190960,"body_markdown":"Thanks for taking the time. Does such a property exist for some JDK implementation other than Hotspot 1.8?","body":"Thanks for taking the time. Does such a property exist for some JDK implementation other than Hotspot 1.8?"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696157043,"creation_date":1696157043,"answer_id":77210132,"question_id":77209950,"body_markdown":"In OpenJDK 8, there isn&#39;t a direct JVM property to configure the max. memory **specifically for thread creation**. The memory used for thread stacks is a part of the process&#39;s native memory, and the total native memory that a process can use is managed by the operating system.\r\n\r\nSo you were right about the `-Xmx` param – it controls the maximum heap size but doesn&#39;t influence the native memory that can be used for thread creation. The important note is that if your application uses less heap memory, *more native memory may be available for thread creation*, assuming the total memory of the system is fixed - perhaps that&#39;s something you may try.\r\n\r\nSo yeah, here isn&#39;t a direct JVM property to control the total memory used for thread creation specifically.","title":"Impact of heap space / non heap space memory on number of possible threads for a jvm process","body":"<p>In OpenJDK 8, there isn't a direct JVM property to configure the max. memory <strong>specifically for thread creation</strong>. The memory used for thread stacks is a part of the process's native memory, and the total native memory that a process can use is managed by the operating system.</p>\n<p>So you were right about the <code>-Xmx</code> param – it controls the maximum heap size but doesn't influence the native memory that can be used for thread creation. The important note is that if your application uses less heap memory, <em>more native memory may be available for thread creation</em>, assuming the total memory of the system is fixed - perhaps that's something you may try.</p>\n<p>So yeah, here isn't a direct JVM property to control the total memory used for thread creation specifically.</p>\n"}],"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77210132,"answer_count":1,"score":1,"last_activity_date":1696157043,"creation_date":1696153402,"question_id":77209950,"body_markdown":"Based on a number of blog posts and stackoverflow questions I&#39;ve come to the following conclusions:\r\n\r\n - Maximum number of possible threads in a java application is dependent on the OS limit and NOT on stack size (xss). [Source](https://foojay.io/today/exploring-the-impact-of-stack-size-on-jvm-thread-creation-a-myth-debunked/)\r\n - Also, according to the many answers to this SO [question](https://stackoverflow.com/questions/763579/how-many-threads-can-a-java-vm-support) max possible threads can depend on a number of factors-\r\n      - OS and CPU architecture\r\n      - **Heap size**\r\n\r\nI haven&#39;t considered the impact of heap size on the number of threads my application can create like the answers in the SO question suggest. \r\n\r\nIs there a straightforward jvm property which allows me to configure the max memory that can be used for the creation of new threads? I don&#39;t think I can justify increasing -Xmx or any other memory section not explicitly dedicated to thread creation for increasing the number of threads in my app but I can&#39;t seem to find such a jvm property.\r\n\r\nJVM in question is openjdk 8 (hotspot) 1.8.\r\n\r\n","title":"Impact of heap space / non heap space memory on number of possible threads for a jvm process","body":"<p>Based on a number of blog posts and stackoverflow questions I've come to the following conclusions:</p>\n<ul>\n<li>Maximum number of possible threads in a java application is dependent on the OS limit and NOT on stack size (xss). <a href=\"https://foojay.io/today/exploring-the-impact-of-stack-size-on-jvm-thread-creation-a-myth-debunked/\" rel=\"nofollow noreferrer\">Source</a></li>\n<li>Also, according to the many answers to this SO <a href=\"https://stackoverflow.com/questions/763579/how-many-threads-can-a-java-vm-support\">question</a> max possible threads can depend on a number of factors-\n<ul>\n<li>OS and CPU architecture</li>\n<li><strong>Heap size</strong></li>\n</ul>\n</li>\n</ul>\n<p>I haven't considered the impact of heap size on the number of threads my application can create like the answers in the SO question suggest.</p>\n<p>Is there a straightforward jvm property which allows me to configure the max memory that can be used for the creation of new threads? I don't think I can justify increasing -Xmx or any other memory section not explicitly dedicated to thread creation for increasing the number of threads in my app but I can't seem to find such a jvm property.</p>\n<p>JVM in question is openjdk 8 (hotspot) 1.8.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":1,"creation_date":1696154851,"post_id":77209934,"comment_id":136114943,"body_markdown":"Can you add more details? The current question is unclear.","body":"Can you add more details? The current question is unclear."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1696156787,"post_id":77209934,"comment_id":136115102,"body_markdown":"Hi @MaksimEliseev I&#39;ve given an example","body":"Hi @MaksimEliseev I&#39;ve given an example"}],"answers":[{"comments":[{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1696157296,"post_id":77210111,"comment_id":136115155,"body_markdown":"Thanks for your response. I realize my question might have been too vague: I&#39;ve updated the main post with the example. Wouldn&#39;t your code execute the specific-to-profile logic AFTER the Spring Application is run? The opposite is of interest to me. First publish the event, then do some logic and finally launch app.","body":"Thanks for your response. I realize my question might have been too vague: I&#39;ve updated the main post with the example. Wouldn&#39;t your code execute the specific-to-profile logic AFTER the Spring Application is run? The opposite is of interest to me. First publish the event, then do some logic and finally launch app."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1696157544,"post_id":77210111,"comment_id":136115176,"body_markdown":"Just wondering, what do you mean under the &quot;finally launch app&quot; statement? You won&#39;t be able to use profiles, events, and any other springish-stuff until your beans are not configured and injected","body":"Just wondering, what do you mean under the &quot;finally launch app&quot; statement? You won&#39;t be able to use profiles, events, and any other springish-stuff until your beans are not configured and injected"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1696157849,"post_id":77210111,"comment_id":136115202,"body_markdown":"By launching app I mean that user can interact with it (API, GUI, etc.). I know that I can create a bean that would achieve that, but at first I was not so convinced that it is the right solution, but now I think that&#39;s OK to use a bean as a &quot;initializer&quot;. After all, there&#39;s `DataSourceInitializer` for example.","body":"By launching app I mean that user can interact with it (API, GUI, etc.). I know that I can create a bean that would achieve that, but at first I was not so convinced that it is the right solution, but now I think that&#39;s OK to use a bean as a &quot;initializer&quot;. After all, there&#39;s <code>DataSourceInitializer</code> for example."}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696156612,"creation_date":1696156612,"answer_id":77210111,"question_id":77209934,"body_markdown":"The question is not really clear, but I bet you may want to use powerful Spring&#39;s event-driven capabilities, combined with Spring Boot&#39;s profile management, kinda:\r\n\r\n1. Define your custom event:\r\n```\r\npublic class CustomApplicationReadyEvent extends ApplicationEvent {\r\n    public CustomApplicationReadyEvent(Object source) {\r\n        super(source);\r\n    }\r\n}\r\n```\r\n2. Publish when your desired profile is active:\r\n```\r\n@Component\r\npublic class CustomEventPublisher implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    @Value(&quot;${spring.profiles.active:}&quot;)\r\n    private String activeProfile;\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        if (&quot;foobar&quot;.equals(activeProfile)) {\r\n            context.publishEvent(new CustomApplicationReadyEvent(this));\r\n        }\r\n    }\r\n}\r\n```\r\n3. Consume &amp; make what you want right in the listner\r\n```\r\n@Component\r\npublic class CustomEventListener {\r\n\r\n    @EventListener\r\n    public void handleCustomEvent(CustomApplicationReadyEvent event) {\r\n        // your main logic here\r\n    }\r\n}\r\n```\r\nJust note that the Spring context itself will still initialize beans and perform its standard lifecycle, so you may &quot;delay&quot; your own custom logic only\r\n","title":"Delay Spring Boot application start","body":"<p>The question is not really clear, but I bet you may want to use powerful Spring's event-driven capabilities, combined with Spring Boot's profile management, kinda:</p>\n<ol>\n<li>Define your custom event:</li>\n</ol>\n<pre><code>public class CustomApplicationReadyEvent extends ApplicationEvent {\n    public CustomApplicationReadyEvent(Object source) {\n        super(source);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Publish when your desired profile is active:</li>\n</ol>\n<pre><code>@Component\npublic class CustomEventPublisher implements CommandLineRunner {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Value(&quot;${spring.profiles.active:}&quot;)\n    private String activeProfile;\n\n    @Override\n    public void run(String... args) throws Exception {\n        if (&quot;foobar&quot;.equals(activeProfile)) {\n            context.publishEvent(new CustomApplicationReadyEvent(this));\n        }\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Consume &amp; make what you want right in the listner</li>\n</ol>\n<pre><code>@Component\npublic class CustomEventListener {\n\n    @EventListener\n    public void handleCustomEvent(CustomApplicationReadyEvent event) {\n        // your main logic here\n    }\n}\n</code></pre>\n<p>Just note that the Spring context itself will still initialize beans and perform its standard lifecycle, so you may &quot;delay&quot; your own custom logic only</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696156673,"creation_date":1696153204,"question_id":77209934,"body_markdown":"I&#39;ve got a custom event and I&#39;d like my Spring Boot application start after it is published.\r\n\r\nThis event is only published when the profile `foobar` is active. If it is not, Spring Boot application should launch as usual.\r\n\r\nCan I do that?\r\n\r\nUPDATE:\r\n\r\nSuppose that profile `foobar` is active. In that case the `FoobarClass` component is initialized (`@Profile(&quot;foobar&quot;)`).\r\n\r\nIn the `FoobarClass.java` there&#39;s a `@PostConstruct` method.\r\n```\r\n@PostConstruct\r\npublic void postInit() {\r\n    // some code\r\n    launchSpringAppEvent.publishEvent(&quot;All done! Spring app can be launched now.&quot;);\r\n}\r\n```\r\nThe event is published and that would indicate the app is ready to be opened for users.","title":"Delay Spring Boot application start","body":"<p>I've got a custom event and I'd like my Spring Boot application start after it is published.</p>\n<p>This event is only published when the profile <code>foobar</code> is active. If it is not, Spring Boot application should launch as usual.</p>\n<p>Can I do that?</p>\n<p>UPDATE:</p>\n<p>Suppose that profile <code>foobar</code> is active. In that case the <code>FoobarClass</code> component is initialized (<code>@Profile(&quot;foobar&quot;)</code>).</p>\n<p>In the <code>FoobarClass.java</code> there's a <code>@PostConstruct</code> method.</p>\n<pre><code>@PostConstruct\npublic void postInit() {\n    // some code\n    launchSpringAppEvent.publishEvent(&quot;All done! Spring app can be launched now.&quot;);\n}\n</code></pre>\n<p>The event is published and that would indicate the app is ready to be opened for users.</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":0,"creation_date":1442991710,"post_id":32732907,"comment_id":53307266,"body_markdown":"Read the jdbc spec... http://download.oracle.com/otn-pub/jcp/jdbc-4_1-mrel-spec/jdbc4.1-fr-spec.pdf?AuthParam=1442991726_ff601b99bbf7b784c0d86c72623ce6bd","body":"Read the jdbc spec... <a href=\"http://download.oracle.com/otn-pub/jcp/jdbc-4_1-mrel-spec/jdbc4.1-fr-spec.pdf?AuthParam=1442991726_ff601b99bbf7b784c0d86c72623ce6bd\" rel=\"nofollow noreferrer\">download.oracle.com/otn-pub/jcp/jdbc-4_1-mrel-spec/&hellip;</a>"},{"owner":{"account_id":1144443,"reputation":4425,"user_id":2113996,"accept_rate":31,"display_name":"eatSleepCode"},"score":0,"creation_date":1442991885,"post_id":32732907,"comment_id":53307345,"body_markdown":"@Zelldon it says unauthorised request","body":"@Zelldon it says unauthorised request"},{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":0,"creation_date":1442992037,"post_id":32732907,"comment_id":53307424,"body_markdown":"Ok try this https://jcp.org/aboutJava/communityprocess/mrel/jsr221/index2.html","body":"Ok try this <a href=\"https://jcp.org/aboutJava/communityprocess/mrel/jsr221/index2.html\" rel=\"nofollow noreferrer\">jcp.org/aboutJava/communityprocess/mrel/jsr221/index2.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":873079,"reputation":2743,"user_id":923498,"accept_rate":86,"display_name":"Alexander Tokarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442992218,"creation_date":1442992218,"answer_id":32733185,"question_id":32732907,"body_markdown":"Actually, JDBC is just an interface. What happens on database side depends on JDBC driver that is used in your application.","title":"JDBC physical vs logical","body":"<p>Actually, JDBC is just an interface. What happens on database side depends on JDBC driver that is used in your application.</p>\n"},{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442992748,"creation_date":1442992748,"answer_id":32733347,"question_id":32732907,"body_markdown":"The exact details really depend on the driver and database. But in general: opening a connection is a relatively expensive operation so you typically want to reuse the same connection for several queries. There are also several implementations of connection pooling around (just do a little search). Opening the connection will typically establish the network connection to the DBMS (if there is a network connection; there are also in memory databases) and do the authentication of the DB user.\r\n\r\nA connection is not the same as a transaction, you can have several transactions in one connection.","title":"JDBC physical vs logical","body":"<p>The exact details really depend on the driver and database. But in general: opening a connection is a relatively expensive operation so you typically want to reuse the same connection for several queries. There are also several implementations of connection pooling around (just do a little search). Opening the connection will typically establish the network connection to the DBMS (if there is a network connection; there are also in memory databases) and do the authentication of the DB user.</p>\n\n<p>A connection is not the same as a transaction, you can have several transactions in one connection.</p>\n"},{"tags":[],"owner":{"account_id":299053,"reputation":3959,"user_id":605422,"display_name":"Giovanni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442993397,"creation_date":1442993397,"answer_id":32733536,"question_id":32732907,"body_markdown":"In java you work with mainly with interfaces specified in the `java.sql` package, the class you usually deal with is `DriverManager` that allows you to get a Connection (an interface that gives you access to all the other ones ResultSet, Statement, etc). I try to give you an overview of what happens during the more common operations when working with an Oracle Database\r\n\r\n 1. `DriverManager.getConnection`: it gives you a Connection object and create a session (visibile in v$session view of the database) on the server side. If you look at the [documentation][1] you can read that the preferred method for creating connection is to use `DataSource` that may provide connection pooling i.e. you create a fixed number of database connections (i.e. database sessions) and reuse them as needed. Connection pooling is a very welcome feature when working with Oracle databases since a connection creation is expensive (Oracle must create a remore process/thread, etc) and some of the data about sql parse (hard and soft) is kept at the connection/session level\r\n 2. create a PreparedStatement: on the server side Oracle looks at the\r\n    SQL area if it can find the same sql and if it finds it reuses the\r\n    access plan (i&#39;m not going into the detail of these but building an\r\n    access plan to the data may be a very expensive operation). If you\r\n    want to go further you can read here a [detailed explanation][2] of\r\n    what happens when Oracle parses a query\r\n 3. bind the data to the preparedStatement and executing it: you pass\r\n    the parameters to the statement and on the server side it binds the\r\n    data to sql and execute it\r\n 4. If you are reading data from a resultSet you have a cursor on the\r\n    server side (Oracle has provides a read only and forward only\r\n    cursor) and when you issue a next on the resultset the same\r\n    operation is made on the server side if you have a fetch size of 1\r\n    on the jdbc side; otherwise the implementation may cache some\r\n    results (which is usually a good things since with the same network\r\n    roundtrip you can fetch more data)\r\n\r\n\r\nThis a rough overview because the topic is very broad and it depends on the detail level you need; you may face very different configurations that change what really happens on the java side.\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/sql/package-summary.html\r\n  [2]: https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:2588723819082","title":"JDBC physical vs logical","body":"<p>In java you work with mainly with interfaces specified in the <code>java.sql</code> package, the class you usually deal with is <code>DriverManager</code> that allows you to get a Connection (an interface that gives you access to all the other ones ResultSet, Statement, etc). I try to give you an overview of what happens during the more common operations when working with an Oracle Database</p>\n\n<ol>\n<li><code>DriverManager.getConnection</code>: it gives you a Connection object and create a session (visibile in v$session view of the database) on the server side. If you look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/sql/package-summary.html\" rel=\"nofollow\">documentation</a> you can read that the preferred method for creating connection is to use <code>DataSource</code> that may provide connection pooling i.e. you create a fixed number of database connections (i.e. database sessions) and reuse them as needed. Connection pooling is a very welcome feature when working with Oracle databases since a connection creation is expensive (Oracle must create a remore process/thread, etc) and some of the data about sql parse (hard and soft) is kept at the connection/session level</li>\n<li>create a PreparedStatement: on the server side Oracle looks at the\nSQL area if it can find the same sql and if it finds it reuses the\naccess plan (i'm not going into the detail of these but building an\naccess plan to the data may be a very expensive operation). If you\nwant to go further you can read here a <a href=\"https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:2588723819082\" rel=\"nofollow\">detailed explanation</a> of\nwhat happens when Oracle parses a query</li>\n<li>bind the data to the preparedStatement and executing it: you pass\nthe parameters to the statement and on the server side it binds the\ndata to sql and execute it</li>\n<li>If you are reading data from a resultSet you have a cursor on the\nserver side (Oracle has provides a read only and forward only\ncursor) and when you issue a next on the resultset the same\noperation is made on the server side if you have a fetch size of 1\non the jdbc side; otherwise the implementation may cache some\nresults (which is usually a good things since with the same network\nroundtrip you can fetch more data)</li>\n</ol>\n\n<p>This a rough overview because the topic is very broad and it depends on the detail level you need; you may face very different configurations that change what really happens on the java side.</p>\n"},{"tags":[],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696156234,"creation_date":1693047624,"answer_id":76982658,"question_id":32732907,"body_markdown":"You can find a good explanation about this topic in High-Performance Java Persistence written by Vlad Mihalcea. I try to provide a summary:\r\n\r\nFirst of all, `DriverManager` requests a new physical connection from underlying driver  (establish a TCP connection to a database server). In the early version of the JDBC, it only supported the `DriverManager` utility for fetching db connections which is mainly enough for desktop application that employing a 2-tier architecture. Therefore, each user creates its own dedicated db connection. Consider that each db server can only offer a limited number of connections based on several parameters and in addition to that, establishing a db connection is a heavy operation.\r\n\r\nIn enterprise application, however، we mainly use 3-tier architecture where the middle layer acts as a bridge between user requests and data source and help us to manage the db connections in a better manner (reuse db connection). So, the application server provides logical connections instead of physical connections. The `javax.sql.DataSource` interface is a logical connections provider. In a simple word, `DataSource` delegates connection requests to the underlying `DriverManager`.\r\nThe connection request workflow could be something like this:\r\n\r\n1. The application data layer asks the `DataSource` for a database connection.\r\n2. The `DataSource` uses the underlying driver to open a physical connection.\r\n3. A physical connection is created, and a TCP socket is opened.\r\n4. The `DataSource` does not wrap the physical connection, and it simply lends it to the application layer.\r\n5. The application executes statements using the acquired database connection.\r\n6. When the connection is no longer needed, the application closes the physical connection along with the underlying TCP socket.","title":"JDBC physical vs logical","body":"<p>You can find a good explanation about this topic in High-Performance Java Persistence written by Vlad Mihalcea. I try to provide a summary:</p>\n<p>First of all, <code>DriverManager</code> requests a new physical connection from underlying driver  (establish a TCP connection to a database server). In the early version of the JDBC, it only supported the <code>DriverManager</code> utility for fetching db connections which is mainly enough for desktop application that employing a 2-tier architecture. Therefore, each user creates its own dedicated db connection. Consider that each db server can only offer a limited number of connections based on several parameters and in addition to that, establishing a db connection is a heavy operation.</p>\n<p>In enterprise application, however، we mainly use 3-tier architecture where the middle layer acts as a bridge between user requests and data source and help us to manage the db connections in a better manner (reuse db connection). So, the application server provides logical connections instead of physical connections. The <code>javax.sql.DataSource</code> interface is a logical connections provider. In a simple word, <code>DataSource</code> delegates connection requests to the underlying <code>DriverManager</code>.\nThe connection request workflow could be something like this:</p>\n<ol>\n<li>The application data layer asks the <code>DataSource</code> for a database connection.</li>\n<li>The <code>DataSource</code> uses the underlying driver to open a physical connection.</li>\n<li>A physical connection is created, and a TCP socket is opened.</li>\n<li>The <code>DataSource</code> does not wrap the physical connection, and it simply lends it to the application layer.</li>\n<li>The application executes statements using the acquired database connection.</li>\n<li>When the connection is no longer needed, the application closes the physical connection along with the underlying TCP socket.</li>\n</ol>\n"}],"owner":{"account_id":1144443,"reputation":4425,"user_id":2113996,"accept_rate":31,"display_name":"eatSleepCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1696156234,"creation_date":1442991254,"question_id":32732907,"body_markdown":"In jdbc api we mainly deal with Connection, DriverManager, Transactions.\nJDBC is mainly used to connect to database and do CRUD operations. So I just need to know how each step works at lower level of JDBC.\n\nSo When we do `DriverManager.getConnection()` what happens? do it creates a session at database side? A transactions is created? What Basically a connection is?\n\nwhen we do execute statements, then how database round trip happens? what is happening behind the scenes? How data is passed from java app to db and vice versa?\n\n# update\n\nso basically I just need to know what is happening at java side and database side on each step.\n\n1. What does it mean by establishing a connection with database? does some sort socket is created?","title":"JDBC physical vs logical","body":"<p>In jdbc api we mainly deal with Connection, DriverManager, Transactions.\nJDBC is mainly used to connect to database and do CRUD operations. So I just need to know how each step works at lower level of JDBC.</p>\n<p>So When we do <code>DriverManager.getConnection()</code> what happens? do it creates a session at database side? A transactions is created? What Basically a connection is?</p>\n<p>when we do execute statements, then how database round trip happens? what is happening behind the scenes? How data is passed from java app to db and vice versa?</p>\n<h1>update</h1>\n<p>so basically I just need to know what is happening at java side and database side on each step.</p>\n<ol>\n<li>What does it mean by establishing a connection with database? does some sort socket is created?</li>\n</ol>\n"},{"tags":["java","android","for-loop","arraylist","iterator"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696155168,"post_id":77169855,"comment_id":136114973,"body_markdown":"While I cannot make sense of this Question, I get the feeling that your overwrought use of lists and maps should be replaced with a custom class, likely a `record`, to hold that data.","body":"While I cannot make sense of this Question, I get the feeling that your overwrought use of lists and maps should be replaced with a custom class, likely a <code>record</code>, to hold that data."}],"answers":[{"tags":[],"owner":{"account_id":15370459,"reputation":1,"user_id":11088630,"display_name":"A Koirul Anwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696154327,"creation_date":1695790535,"answer_id":77184754,"question_id":77169855,"body_markdown":"I&#39;ve found a solution, and what I did is create a function to find the smallest list.\r\n\r\n    private int theSmallestVal(int a, int b, int c, int d, int e){\r\n        int[] val = {a, b, c, d, e};\r\n        Arrays.sort(val);\r\n        return val[0];\r\n    }\r\n\r\nThen I call the function like this:\r\n\r\n    al = theSmallestVal(acceleroTime.size(),acceleroElaps.size(), acceleroXval.size(),\r\n                        acceleroYval.size(), acceleroZval.size());\r\n\r\nAfter I found the smallest the value, I use that value to be the reference value to be iterated by for `i`.\r\n\r\n    for (int i = 0; i &lt; al; i++) {\r\n         HashMap data = new HashMap();\r\n         data.put(&quot;person&quot;, &quot;Adi&quot;);\r\n         data.put(&quot;tool&quot;, &quot;Accelerometer&quot;);\r\n         ....\r\n         ....\r\n         ....\r\n     }\r\n\r\nBy doing so, I could avoid out of bound exception.","title":"How to equalize the size of the list collection Java","body":"<p>I've found a solution, and what I did is create a function to find the smallest list.</p>\n<pre><code>private int theSmallestVal(int a, int b, int c, int d, int e){\n    int[] val = {a, b, c, d, e};\n    Arrays.sort(val);\n    return val[0];\n}\n</code></pre>\n<p>Then I call the function like this:</p>\n<pre><code>al = theSmallestVal(acceleroTime.size(),acceleroElaps.size(), acceleroXval.size(),\n                    acceleroYval.size(), acceleroZval.size());\n</code></pre>\n<p>After I found the smallest the value, I use that value to be the reference value to be iterated by for <code>i</code>.</p>\n<pre><code>for (int i = 0; i &lt; al; i++) {\n     HashMap data = new HashMap();\n     data.put(&quot;person&quot;, &quot;Adi&quot;);\n     data.put(&quot;tool&quot;, &quot;Accelerometer&quot;);\n     ....\n     ....\n     ....\n }\n</code></pre>\n<p>By doing so, I could avoid out of bound exception.</p>\n"}],"owner":{"account_id":15370459,"reputation":1,"user_id":11088630,"display_name":"A Koirul Anwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696156968,"accepted_answer_id":77184754,"answer_count":1,"score":0,"last_activity_date":1696156117,"creation_date":1695614421,"question_id":77169855,"body_markdown":"I have a collection of lists that contain data from a streamed sensor. I wrote a for loop to form it to the format that I would later use to send it to another place (web server). However, sometimes the size of the lists differs by 1 or 2, and when it does the code will throw an out of bounds exception.\r\n\r\nThis is the code I use to assemble the format,\r\n```java\r\nfor (int i = 0; i &lt; acceleroElaps.size(); i++) {\r\n    HashMap data = new HashMap();\r\n    data.put(&quot;person&quot;, &quot;Adi&quot;);\r\n    data.put(&quot;tool&quot;, &quot;Accelerometer&quot;);\r\n    data.put(&quot;time&quot;, acceleroTime.get(i));\r\n    data.put(&quot;elapsed&quot;, acceleroElaps.get(i));\r\n    data.put(&quot;xaxis&quot;, acceleroXval.get(i));\r\n    data.put(&quot;yaxis&quot;, acceleroYval.get(i));\r\n    data.put(&quot;zaxis&quot;, acceleroZval.get(i));\r\n\r\n    accelData.add(data);\r\n}\r\n```\r\nSometimes one of the lists doesn&#39;t have the same size. I&#39;ve tried to iterate it over with iterator like this\r\n\r\n```java\r\nListIterator&lt;String&gt; iterAT = acceleroTime.listIterator();\r\nListIterator&lt;String&gt; iterAE = acceleroElaps.listIterator();\r\nListIterator&lt;String&gt; iterAX = acceleroXval.listIterator();\r\nListIterator&lt;String&gt; iterAY = acceleroYval.listIterator();\r\nListIterator&lt;String&gt; iterAZ = acceleroZval.listIterator();\r\n\r\nwhile (iterAT.hasNext() &amp;&amp; iterAE.hasNext() &amp;&amp; iterAX.hasNext() &amp;&amp; iterAY.hasNext() &amp;&amp; iterAZ.hasNext()){\r\n    String at = iterAT.next();\r\n    String ae = iterAE.next();\r\n    String ax = iterAX.next();\r\n    String ay = iterAY.next();\r\n    String az = iterAZ.next();\r\n    HashMap data = new HashMap();\r\n    data.put(&quot;person&quot;, &quot;Adi&quot;);\r\n    data.put(&quot;tool&quot;, &quot;Accelerometer&quot;);\r\n    data.put(&quot;time&quot;, at);\r\n    data.put(&quot;elapsed&quot;, ae);\r\n    data.put(&quot;xaxis&quot;, ax);\r\n    data.put(&quot;yaxis&quot;, ay);\r\n    data.put(&quot;zaxis&quot;, az);\r\n    accelData.add(data);\r\n    a++;\r\n    f++;\r\n}\r\n```\r\nHowever, this would throw `ConcurrentModificationException`, so I tried to equalize the size of the lists, because it just differs 1 or 2 data points. Or maybe there&#39;s another solution? I&#39;m running out of ideas.","title":"How to equalize the size of the list collection Java","body":"<p>I have a collection of lists that contain data from a streamed sensor. I wrote a for loop to form it to the format that I would later use to send it to another place (web server). However, sometimes the size of the lists differs by 1 or 2, and when it does the code will throw an out of bounds exception.</p>\n<p>This is the code I use to assemble the format,</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; acceleroElaps.size(); i++) {\n    HashMap data = new HashMap();\n    data.put(&quot;person&quot;, &quot;Adi&quot;);\n    data.put(&quot;tool&quot;, &quot;Accelerometer&quot;);\n    data.put(&quot;time&quot;, acceleroTime.get(i));\n    data.put(&quot;elapsed&quot;, acceleroElaps.get(i));\n    data.put(&quot;xaxis&quot;, acceleroXval.get(i));\n    data.put(&quot;yaxis&quot;, acceleroYval.get(i));\n    data.put(&quot;zaxis&quot;, acceleroZval.get(i));\n\n    accelData.add(data);\n}\n</code></pre>\n<p>Sometimes one of the lists doesn't have the same size. I've tried to iterate it over with iterator like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListIterator&lt;String&gt; iterAT = acceleroTime.listIterator();\nListIterator&lt;String&gt; iterAE = acceleroElaps.listIterator();\nListIterator&lt;String&gt; iterAX = acceleroXval.listIterator();\nListIterator&lt;String&gt; iterAY = acceleroYval.listIterator();\nListIterator&lt;String&gt; iterAZ = acceleroZval.listIterator();\n\nwhile (iterAT.hasNext() &amp;&amp; iterAE.hasNext() &amp;&amp; iterAX.hasNext() &amp;&amp; iterAY.hasNext() &amp;&amp; iterAZ.hasNext()){\n    String at = iterAT.next();\n    String ae = iterAE.next();\n    String ax = iterAX.next();\n    String ay = iterAY.next();\n    String az = iterAZ.next();\n    HashMap data = new HashMap();\n    data.put(&quot;person&quot;, &quot;Adi&quot;);\n    data.put(&quot;tool&quot;, &quot;Accelerometer&quot;);\n    data.put(&quot;time&quot;, at);\n    data.put(&quot;elapsed&quot;, ae);\n    data.put(&quot;xaxis&quot;, ax);\n    data.put(&quot;yaxis&quot;, ay);\n    data.put(&quot;zaxis&quot;, az);\n    accelData.add(data);\n    a++;\n    f++;\n}\n</code></pre>\n<p>However, this would throw <code>ConcurrentModificationException</code>, so I tried to equalize the size of the lists, because it just differs 1 or 2 data points. Or maybe there's another solution? I'm running out of ideas.</p>\n"},{"tags":["javascript","java","scroll","appium"],"answers":[{"tags":[],"owner":{"account_id":9821802,"reputation":3,"user_id":7276258,"display_name":"masudr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696155719,"creation_date":1696155719,"answer_id":77210062,"question_id":77136424,"body_markdown":"    WebElement ele = driver.findElement(AppiumBy.accessibilityId(&quot;YourID&quot;));\r\n\t\tMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\t\tparams.put(&quot;direction&quot;, &quot;down&quot;);\r\n\t\tparams.put(&quot;element&quot;, ((RemoteWebElement)ele).getId());\r\n\t\tdriver.executeScript(&quot;mobile:scroll&quot;, params);\r\n\r\nTry this to scroll into a specific element","title":"how to perform scroll in appium using java for iOS","body":"<pre><code>WebElement ele = driver.findElement(AppiumBy.accessibilityId(&quot;YourID&quot;));\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;direction&quot;, &quot;down&quot;);\n    params.put(&quot;element&quot;, ((RemoteWebElement)ele).getId());\n    driver.executeScript(&quot;mobile:scroll&quot;, params);\n</code></pre>\n<p>Try this to scroll into a specific element</p>\n"}],"owner":{"account_id":22222148,"reputation":11,"user_id":16459607,"display_name":"Nadeesha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696155719,"creation_date":1695141337,"question_id":77136424,"body_markdown":"I was trying to perform scroll down action in an IOS mobile app using java. There is one javascript line to perform the scroll down action. this is the code I wrote.\r\n\r\n\t\r\n\tHashMap&lt;String,Object&gt; params= new HashMap&lt;&gt;();\r\n        params.put(&quot;direction&quot;, &quot;down&quot;);\r\n\tparams.put(&quot;name&quot;, &quot;Tap here to add promotions by promo code&quot;);\t\r\n\tdriver.executeScript(&quot;mobile:scroll&quot; , params);\r\n\r\nthis is the error I&#39;m receiving\r\n\r\n&#39;Tap here to add promotions by promo code&#39; identifier didn&#39;t match any elements","title":"how to perform scroll in appium using java for iOS","body":"<p>I was trying to perform scroll down action in an IOS mobile app using java. There is one javascript line to perform the scroll down action. this is the code I wrote.</p>\n<pre><code>HashMap&lt;String,Object&gt; params= new HashMap&lt;&gt;();\n    params.put(&quot;direction&quot;, &quot;down&quot;);\nparams.put(&quot;name&quot;, &quot;Tap here to add promotions by promo code&quot;); \ndriver.executeScript(&quot;mobile:scroll&quot; , params);\n</code></pre>\n<p>this is the error I'm receiving</p>\n<p>'Tap here to add promotions by promo code' identifier didn't match any elements</p>\n"},{"tags":["java","git","maven","hook"],"answers":[{"tags":[],"owner":{"account_id":2170359,"reputation":338,"user_id":1922534,"display_name":"Peter Minearo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682349361,"creation_date":1682349361,"answer_id":76093439,"question_id":76068640,"body_markdown":"After learning more about Git Hooks.  If there is a conflict from a merge, or rebase, the Git Hooks will not be called. This means there is no way to automatically resolve conflicts from merges, or rebases.  Conflicts must always be done manually.\r\n\r\nThere is a way to validate the version in the POM files are correct by using the pre-commit, or pre-push, hooks.  Though using pre-commit will execute on every `git commit`.  `pre-push` may be the way to go if version validation is what is needed.  ","title":"Git Hook access to Merge Conflicts","body":"<p>After learning more about Git Hooks.  If there is a conflict from a merge, or rebase, the Git Hooks will not be called. This means there is no way to automatically resolve conflicts from merges, or rebases.  Conflicts must always be done manually.</p>\n<p>There is a way to validate the version in the POM files are correct by using the pre-commit, or pre-push, hooks.  Though using pre-commit will execute on every <code>git commit</code>.  <code>pre-push</code> may be the way to go if version validation is what is needed.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696412957,"post_id":77210057,"comment_id":136148500,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77210057/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26710978,"reputation":1,"user_id":20316353,"display_name":"user20316353"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696155650,"creation_date":1696155650,"answer_id":77210057,"question_id":76068640,"body_markdown":"You can try to do it through a custom merge driver. Every time there is a merge conflict, your custom merge driver will be called. So the only thing you have to do is implement such a driver for combining POMs.","title":"Git Hook access to Merge Conflicts","body":"<p>You can try to do it through a custom merge driver. Every time there is a merge conflict, your custom merge driver will be called. So the only thing you have to do is implement such a driver for combining POMs.</p>\n"}],"owner":{"account_id":2170359,"reputation":338,"user_id":1922534,"display_name":"Peter Minearo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696155650,"creation_date":1682029381,"question_id":76068640,"body_markdown":"I know I am not the first person to have this problem, but I could not find an answer for what I am looking for. I am familiar with Git, but new to Git hooks.\r\n\r\n&lt;h1&gt;Problem:&lt;/h1&gt;\r\n&lt;p&gt;\r\nI have a Git repo that is made up of several Java modules using Maven to build the artifacts.  In the &quot;master/main&quot; branch the version number is always `Major.Minor.Patch.Build-SNAPSHOT`, until a release is made then the `-SNAPSHOT` is dropped and the artifact is created. Then the correct version number(s) are incremented to the next version and `-SNAPSHOT` is added back in.  Each night there is a nightly build that will increment the Build version number; and based on Semantic Versioning the `Major.Minor.Patch` versions will be updated based on Pull Request merges. So, the POM version will be changing daily in different ways.\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\nWhen a developer creates a branch off of &quot;master/main&quot;, we want to write a Git hook to change the POM version to `Major.Minor.Patch.Build-DEV-QUALIFIER-SNAPSHOT`. I have figured out where to do that with the `post-checkout` Git hook. And have written a generic version validation shell script to be used.  \r\n&lt;/p&gt;\r\n&lt;p&gt;\r\nWhen a developer merges the latest from &quot;master/main&quot; into their branch, this will create a conflict. I can use the `pre-merge-commit` hook to do a `git checkout --theirs [PATH TO POM FILE]`; and then call the version validation script to change the POM versions. I believe there is a hook to do the same thing for rebases. And possibly one for both rebase and merge. `post-rewrite`?\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\nHere is where the problem starts to come into play....\r\nWhat happens when a developer makes a change to the POM file (ex - adds a new dependency)?  Every time they do a merge/rebase; they would loose their changes and have to add those changes back in.\r\n&lt;/p&gt;\r\n&lt;h1&gt;Question:&lt;/h1&gt;\r\n&lt;p&gt;\r\nSince there will always be a merge conflict with the POM files, is there an easy way to automate the conflicts coming in from &quot;master/main&quot;? Using the new POM version, but keeping the changes the developer has made at the same time? \r\n&lt;/p&gt;\r\n&lt;hr&gt;\r\n&lt;p&gt;\r\nOr, is the best way to read in the POM file which will have a conflict that looks like:\r\n\r\n    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\r\n    &lt;version&gt;1.2.3.4-Dev-Qualifier-SNAPSHOT&lt;/version&gt;\r\n    =======\r\n    &lt;version&gt;1.2.3.5-SNAPSHOT&lt;/version&gt;\r\n    &gt;&gt;&gt;&gt;&gt;&gt;&gt; master/main\r\n\r\nand remove:\r\n\r\n    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\r\n    &lt;version&gt;1.2.3.4-Dev-Qualifier-SNAPSHOT&lt;/version&gt;\r\n    =======\r\n    &gt;&gt;&gt;&gt;&gt;&gt;&gt; master/main\r\n\r\nLeaving \r\n\r\n    &lt;version&gt;1.2.3.5-SNAPSHOT&lt;/version&gt;\r\n\r\nin place?\r\n&lt;/p&gt;\r\n&lt;hr&gt;\r\n&lt;p&gt;\r\nOr do we tell the developer to resolve any conflicts and then use the `pre-commit` hook to validate the POM versions.\r\n&lt;/p&gt;\r\n&lt;hr&gt;\r\n&lt;p&gt;\r\nAre there any libraries that will do all of this?  Like I mentioned earlier, I know I am not the first person to face this problem.\r\n&lt;/p&gt;\r\n\r\n","title":"Git Hook access to Merge Conflicts","body":"<p>I know I am not the first person to have this problem, but I could not find an answer for what I am looking for. I am familiar with Git, but new to Git hooks.</p>\n<h1>Problem:</h1>\n<p>\nI have a Git repo that is made up of several Java modules using Maven to build the artifacts.  In the \"master/main\" branch the version number is always `Major.Minor.Patch.Build-SNAPSHOT`, until a release is made then the `-SNAPSHOT` is dropped and the artifact is created. Then the correct version number(s) are incremented to the next version and `-SNAPSHOT` is added back in.  Each night there is a nightly build that will increment the Build version number; and based on Semantic Versioning the `Major.Minor.Patch` versions will be updated based on Pull Request merges. So, the POM version will be changing daily in different ways.\n</p>\n<p>\nWhen a developer creates a branch off of \"master/main\", we want to write a Git hook to change the POM version to `Major.Minor.Patch.Build-DEV-QUALIFIER-SNAPSHOT`. I have figured out where to do that with the `post-checkout` Git hook. And have written a generic version validation shell script to be used.  \n</p>\n<p>\nWhen a developer merges the latest from \"master/main\" into their branch, this will create a conflict. I can use the `pre-merge-commit` hook to do a `git checkout --theirs [PATH TO POM FILE]`; and then call the version validation script to change the POM versions. I believe there is a hook to do the same thing for rebases. And possibly one for both rebase and merge. `post-rewrite`?\n</p>\n<p>\nHere is where the problem starts to come into play....\nWhat happens when a developer makes a change to the POM file (ex - adds a new dependency)?  Every time they do a merge/rebase; they would loose their changes and have to add those changes back in.\n</p>\n<h1>Question:</h1>\n<p>\nSince there will always be a merge conflict with the POM files, is there an easy way to automate the conflicts coming in from \"master/main\"? Using the new POM version, but keeping the changes the developer has made at the same time? \n</p>\n<hr>\n<p>\nOr, is the best way to read in the POM file which will have a conflict that looks like:\n<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n&lt;version&gt;1.2.3.4-Dev-Qualifier-SNAPSHOT&lt;/version&gt;\n=======\n&lt;version&gt;1.2.3.5-SNAPSHOT&lt;/version&gt;\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; master/main\n</code></pre>\n<p>and remove:</p>\n<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n&lt;version&gt;1.2.3.4-Dev-Qualifier-SNAPSHOT&lt;/version&gt;\n=======\n&gt;&gt;&gt;&gt;&gt;&gt;&gt; master/main\n</code></pre>\n<p>Leaving</p>\n<pre><code>&lt;version&gt;1.2.3.5-SNAPSHOT&lt;/version&gt;\n</code></pre>\n<p>in place?</p>\n</p>\n<hr>\n<p>\nOr do we tell the developer to resolve any conflicts and then use the `pre-commit` hook to validate the POM versions.\n</p>\n<hr>\n<p>\nAre there any libraries that will do all of this?  Like I mentioned earlier, I know I am not the first person to face this problem.\n</p>\n"},{"tags":["java","mongodb","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696145642,"post_id":77209598,"comment_id":136114210,"body_markdown":"I have also tried changing the host side port. But same error comes.","body":"I have also tried changing the host side port. But same error comes."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696145782,"post_id":77209598,"comment_id":136114223,"body_markdown":"I am also able to use `mongodb` using `docker exec -it mongocontainer mongosh`","body":"I am also able to use <code>mongodb</code> using <code>docker exec -it mongocontainer mongosh</code>"},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696146611,"post_id":77209598,"comment_id":136114280,"body_markdown":"Yes it is able to connect to mysql - `/usr/sbin/mysqld: ready for connections. Version: &#39;8.1.0&#39;  socket: &#39;/var/run/mysqld/mysqld.sock&#39;  port: 3306  MySQL Community Server - GPL.` BUT NOT TO MONGODB container","body":"Yes it is able to connect to mysql - <code>&#47;usr&#47;sbin&#47;mysqld: ready for connections. Version: &#39;8.1.0&#39;  socket: &#39;&#47;var&#47;run&#47;mysqld&#47;mysqld.sock&#39;  port: 3306  MySQL Community Server - GPL.</code> BUT NOT TO MONGODB container"}],"answers":[{"comments":[{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696156420,"post_id":77210056,"comment_id":136115063,"body_markdown":"I just feel my evolution has happened. Neanderthalensis to Homo Sapiens. Thank You So So Much! Feeling updated because of you.","body":"I just feel my evolution has happened. Neanderthalensis to Homo Sapiens. Thank You So So Much! Feeling updated because of you."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1696156484,"post_id":77210056,"comment_id":136115073,"body_markdown":"Yes, using your suggestions, It finally did connected to both databases successfully!","body":"Yes, using your suggestions, It finally did connected to both databases successfully!"}],"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696155629,"creation_date":1696155629,"answer_id":77210056,"question_id":77209598,"body_markdown":"The application container `myproject` and the MySQL database `mysqldb` both declare `networks: [netshop]`, but the MongoDB database `mongocontainer` doesn&#39;t.  Since the two containers aren&#39;t on the same network, they can&#39;t talk to each other.\r\n\r\nThe easiest solution to this is to delete _all_ of the `networks:` blocks in the entire file.  Compose provides a network named `default` for you and attaches containers to it; for most projects you don&#39;t need any manual network setup at all.\r\n\r\nI&#39;d also delete the obsolete `links:` option, which is unnecessary with Docker networks.  Conversely it will help to add `mongocontainer` into the `depends_on:` list, though this won&#39;t guarantee that the databases are both fully started before the application wants to connect to them.","title":"docker compose configuration not able to connect to mongodb container","body":"<p>The application container <code>myproject</code> and the MySQL database <code>mysqldb</code> both declare <code>networks: [netshop]</code>, but the MongoDB database <code>mongocontainer</code> doesn't.  Since the two containers aren't on the same network, they can't talk to each other.</p>\n<p>The easiest solution to this is to delete <em>all</em> of the <code>networks:</code> blocks in the entire file.  Compose provides a network named <code>default</code> for you and attaches containers to it; for most projects you don't need any manual network setup at all.</p>\n<p>I'd also delete the obsolete <code>links:</code> option, which is unnecessary with Docker networks.  Conversely it will help to add <code>mongocontainer</code> into the <code>depends_on:</code> list, though this won't guarantee that the databases are both fully started before the application wants to connect to them.</p>\n"}],"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77210056,"answer_count":1,"score":0,"last_activity_date":1696155629,"creation_date":1696145428,"question_id":77209598,"body_markdown":"In my project I am trying to connect both to `mysql` and `mongodb`. I think I am able to connect to `mysql` container. But I am getting error on trying to connect to mongodb container.\r\n\r\napplication.properties file\r\n\r\n    # SERVER\r\n    server.port = 5555\r\n    spring.datasource.url=jdbc:mysql://mysqldb:3306/shopdb\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    #spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n    spring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    \r\n    \r\n    application.security.jwt.secret-key=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970\r\n    application.security.jwt.expiration=7200000\r\n    application.security.jwt.refresh-token.expiration=604800000\r\n    \r\n    \r\n    spring.data.mongodb.host=mongocontainer\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=ShopDb\r\n\r\nDockerfile:\r\n\r\n    FROM openjdk:17-alpine\r\n    WORKDIR /app\r\n    COPY target/myproject-0.0.1-SNAPSHOT.jar /app/myproject.jar\r\n    EXPOSE 5555\r\n    CMD [&quot;java&quot;,&quot;-jar&quot;,&quot;myproject.jar&quot;]\r\n\r\ndocker-compose.yml\r\n\r\n    version: &quot;5&quot;\r\n    services:\r\n      mysqldb:\r\n       image: mysql:latest\r\n       ports:\r\n        - &quot;3307:3306&quot;\r\n       networks:\r\n        - netshop\r\n       environment:\r\n        MYSQL_DATABASE: shopdb\r\n        MYSQL_USER: root\r\n        MYSQL_PASSWORD: root\r\n       volumes:\r\n        - type: bind\r\n          source: /C/Users/tim/Documents/mysqldata\r\n          target: /var/lib/mysql\r\n      mongocontainer:\r\n       image: mongo:latest\r\n       container_name: mongocontainer\r\n       restart: always\r\n       ports:\r\n        - 27017:27017  \r\n      myproject:\r\n       image:\r\n        timqwert09/myproject:latest\r\n       ports:\r\n        - &quot;5555:5555&quot;\r\n       networks:\r\n        - netshop\r\n       depends_on:\r\n        - mysqldb\r\n       links:\r\n        - mongocontainer\r\n    networks:\r\n     netshop:\r\n      driver: bridge\r\n       \r\n\r\nI first build my image. It is successfully build. Then under resources directory I run `docker-compose up`\r\n\r\nI runs smoothly, but in end it is giving below error : \r\n\r\n    resources-myproject-1  | com.mongodb.MongoSocketException: mongocontainer: Try again\r\n    resources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:217) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:78) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n    resources-myproject-1  | Caused by: java.net.UnknownHostException: mongocontainer: Try again\r\n    resources-myproject-1  |    at java.base/java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:932) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1517) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:851) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1507) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1366) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1300) ~[na:na]\r\n    resources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:209) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    ... 6 common frames omitted\r\n    resources-myproject-1  |\r\n    resources-myproject-1  | 2023-10-01T07:05:22.194Z  INFO 1 --- [container:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server mongocontainer:27017\r\n    resources-myproject-1  |\r\n    resources-myproject-1  | com.mongodb.MongoSocketException: mongocontainer\r\n    resources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:217) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:78) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n    resources-myproject-1  | Caused by: java.net.UnknownHostException: mongocontainer\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:800) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:886) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1507) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1366) ~[na:na]\r\n    resources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1300) ~[na:na]\r\n    resources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:209) ~[mongodb-driver-core-4.8.2.jar!/:na]\r\n    resources-myproject-1  |    ... 6 common frames omitted\r\n    resources-myproject-1  |\r\n\r\nI would also like to tell that in host machine i.e windows here, I have mongodb installed but it is not running. Does it make any difference..? How do I connect my app to mongodb container? I am new to docker environment. I have followed as per tutorials and code available on internet.\r\n\r\n","title":"docker compose configuration not able to connect to mongodb container","body":"<p>In my project I am trying to connect both to <code>mysql</code> and <code>mongodb</code>. I think I am able to connect to <code>mysql</code> container. But I am getting error on trying to connect to mongodb container.</p>\n<p>application.properties file</p>\n<pre><code># SERVER\nserver.port = 5555\nspring.datasource.url=jdbc:mysql://mysqldb:3306/shopdb\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n#spring.jpa.hibernate.ddl-auto=update\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\n\napplication.security.jwt.secret-key=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970\napplication.security.jwt.expiration=7200000\napplication.security.jwt.refresh-token.expiration=604800000\n\n\nspring.data.mongodb.host=mongocontainer\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=ShopDb\n</code></pre>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk:17-alpine\nWORKDIR /app\nCOPY target/myproject-0.0.1-SNAPSHOT.jar /app/myproject.jar\nEXPOSE 5555\nCMD [&quot;java&quot;,&quot;-jar&quot;,&quot;myproject.jar&quot;]\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: &quot;5&quot;\nservices:\n  mysqldb:\n   image: mysql:latest\n   ports:\n    - &quot;3307:3306&quot;\n   networks:\n    - netshop\n   environment:\n    MYSQL_DATABASE: shopdb\n    MYSQL_USER: root\n    MYSQL_PASSWORD: root\n   volumes:\n    - type: bind\n      source: /C/Users/tim/Documents/mysqldata\n      target: /var/lib/mysql\n  mongocontainer:\n   image: mongo:latest\n   container_name: mongocontainer\n   restart: always\n   ports:\n    - 27017:27017  \n  myproject:\n   image:\n    timqwert09/myproject:latest\n   ports:\n    - &quot;5555:5555&quot;\n   networks:\n    - netshop\n   depends_on:\n    - mysqldb\n   links:\n    - mongocontainer\nnetworks:\n netshop:\n  driver: bridge\n   \n</code></pre>\n<p>I first build my image. It is successfully build. Then under resources directory I run <code>docker-compose up</code></p>\n<p>I runs smoothly, but in end it is giving below error :</p>\n<pre><code>resources-myproject-1  | com.mongodb.MongoSocketException: mongocontainer: Try again\nresources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:217) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:78) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\nresources-myproject-1  | Caused by: java.net.UnknownHostException: mongocontainer: Try again\nresources-myproject-1  |    at java.base/java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:932) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1517) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:851) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1507) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1366) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1300) ~[na:na]\nresources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:209) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    ... 6 common frames omitted\nresources-myproject-1  |\nresources-myproject-1  | 2023-10-01T07:05:22.194Z  INFO 1 --- [container:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server mongocontainer:27017\nresources-myproject-1  |\nresources-myproject-1  | com.mongodb.MongoSocketException: mongocontainer\nresources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:217) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:78) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\nresources-myproject-1  | Caused by: java.net.UnknownHostException: mongocontainer\nresources-myproject-1  |    at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:800) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:886) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1507) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1366) ~[na:na]\nresources-myproject-1  |    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1300) ~[na:na]\nresources-myproject-1  |    at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:209) ~[mongodb-driver-core-4.8.2.jar!/:na]\nresources-myproject-1  |    ... 6 common frames omitted\nresources-myproject-1  |\n</code></pre>\n<p>I would also like to tell that in host machine i.e windows here, I have mongodb installed but it is not running. Does it make any difference..? How do I connect my app to mongodb container? I am new to docker environment. I have followed as per tutorials and code available on internet.</p>\n"},{"tags":["java","client-server","observer-pattern"],"comments":[{"owner":{"account_id":1571474,"reputation":3851,"user_id":1459075,"accept_rate":91,"display_name":"Brandon Ling"},"score":0,"creation_date":1432324154,"post_id":30404734,"comment_id":48897363,"body_markdown":"Seems like you are starting a thread that does nothing. Thread thread = new Thread(), thread.start()","body":"Seems like you are starting a thread that does nothing. Thread thread = new Thread(), thread.start()"},{"owner":{"account_id":3780327,"reputation":175,"user_id":3140006,"accept_rate":75,"display_name":"kemenesendre"},"score":0,"creation_date":1432324668,"post_id":30404734,"comment_id":48897604,"body_markdown":"Yes, your are right. I edited the code in the main method of the client class, but the same problem is still up.","body":"Yes, your are right. I edited the code in the main method of the client class, but the same problem is still up."},{"owner":{"account_id":3780327,"reputation":175,"user_id":3140006,"accept_rate":75,"display_name":"kemenesendre"},"score":0,"creation_date":1432324948,"post_id":30404734,"comment_id":48897748,"body_markdown":"ClientSide is my controller for login. I will post it right know, but there is no problem I think.","body":"ClientSide is my controller for login. I will post it right know, but there is no problem I think."}],"answers":[{"tags":[],"owner":{"account_id":27175738,"reputation":1,"user_id":20711751,"display_name":"Jo Mager"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696154861,"creation_date":1696153833,"answer_id":77209968,"question_id":30404734,"body_markdown":"for my solution I needed a list of all connected clients on server-side:\r\n\r\n    public class ClientListModel {\r\n    \tprivate List&lt;ClientHandler&gt; liste = new LinkedList&lt;&gt;();\r\n    \tprivate ClientListView clientView;\r\n    \r\n    \tpublic List&lt;ClientHandler&gt; getListe() {\r\n    \t\treturn liste;\r\n    \t}\r\n    \r\n    \tpublic void setListe(List&lt;ClientHandler&gt; liste) {\r\n    \t\tthis.liste = liste;\r\n    \t}\r\n    \r\n    \tpublic ClientListView getClientView() {\r\n    \t\treturn clientView;\r\n    \t}\r\n    \r\n    \tpublic void setClientView(ClientListView clientView) {\r\n    \t\tthis.clientView = clientView;\r\n    \t}\r\n    \r\n    \tpublic void update() {\r\n    \t\tclientView.update();\r\n    \t}\r\n    \r\n    \tpublic void add(ClientHandler echoClientHandler) {\r\n    \t\tliste.add(echoClientHandler);\r\n    \t\tupdate();\r\n    \t}\r\n    \r\n    \tpublic void remove(ClientHandler echoClientHandler) {\r\n    \t\tliste.remove(echoClientHandler);\r\n    \t\tupdate();\r\n    \t}\r\n    }\r\n\r\nThe view-class prints out information to the console:\r\n\r\n    public class ClientListView {\r\n    \tClientListModel clientModel;\r\n    \r\n    \tpublic ClientListView() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic void update() {\r\n    \t\tSystem.out.println(&quot;*** connected clients ***&quot;);\r\n    \t\tfor (ClientHandler client : clientModel.getListe()) {\r\n    \t\t\tSystem.out.println(client.getClientSocket().getInetAddress());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic ClientListModel getClientModel() {\r\n    \t\treturn clientModel;\r\n    \t}\r\n    \r\n    \tpublic void setClientModel(ClientListModel clientModel) {\r\n    \t\tthis.clientModel = clientModel;\r\n    \t}\r\n    }\r\n\r\nThe actual server holds both classes. It can send a update trigger to all registered client handlers.\r\n\r\n    public class Server implements Runnable {\r\n    \tprivate Thread t;\r\n    \tprivate int port;\r\n    \tprivate ServerSocket serverSocket;\r\n    \tprivate ClientListModel clientListModel = new ClientListModel();\r\n    \tprivate ClientListView clientListView = new ClientListView();\r\n    \tprivate PostgresMock postgres;\r\n    \r\n    \tpublic Server(int port) {\r\n    \t\tthis.port = port;\r\n    \t\tthis.postgres = new PostgresMock(&quot;me&quot;, &quot;pass123&quot;);\r\n    \r\n    \t\t// initiate mvc\r\n    \t\tgetClientListModel().setClientView(clientListView);\r\n    \t\tclientListView.setClientModel(getClientListModel());\r\n    \r\n    \t\tt = new Thread(this);\r\n    \t\tt.start();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tserverSocket = new ServerSocket(port);\r\n    \t\t\tSystem.out.println(&quot;listening on port &quot; + port);\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tnew ClientHandler(serverSocket.accept(), this);\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic void updateClients() {\r\n    \t\tfor (ClientHandler client : getClientListModel().getListe()) {\r\n    \t\t\tclient.sendMsg(&quot;trigger update&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void close() throws IOException {\r\n    \t\tthis.serverSocket.close();\r\n    \t}\r\n    \r\n    \tpublic ClientListModel getClientListModel() {\r\n    \t\treturn clientListModel;\r\n    \t}\r\n    \r\n    \tpublic PostgresMock getPostgres() {\r\n    \t\treturn postgres;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tServer server = new Server(5555);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the client handler:\r\n\r\n    public class ClientHandler implements Runnable {\r\n    \tprivate Thread t;\r\n    \tprivate Socket clientSocket;\r\n    \tprivate PrintWriter out;\r\n    \tprivate BufferedReader in;\r\n    \tprivate Server server;\r\n    \r\n    \tpublic ClientHandler(Socket socket, Server server) {\r\n    \t\tthis.clientSocket = socket;\r\n    \t\tthis.server = server;\r\n    \t\tserver.getClientListModel().add(this);\r\n    \r\n    \t\tt = new Thread(this);\r\n    \t\tt.start();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\ttry {\r\n    \t\t\tout = new PrintWriter(clientSocket.getOutputStream(), true);\r\n    \t\t\tin = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n    \r\n    \t\t\tString inputLine;\r\n    \t\t\twhile ((inputLine = in.readLine()) != null) {\r\n    \t\t\t\t\r\n    \t\t\t\t// IN\r\n    \t\t\t\tSystem.out.println(&quot;in: &quot; + inputLine);\r\n    \t\t\t\t\r\n    \t\t\t\tJSONArray data = server.getPostgres().execute(inputLine);\r\n    \t\t\t\t\r\n    \t\t\t\tif (!isSelectStatement(inputLine)) {\r\n    \t\t\t\t\tserver.updateClients();\r\n    \t\t\t\t}\r\n    \t\t\t\tif (data == null) {\r\n    \t\t\t\t\tsendMsg(&quot;nil&quot;);\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tsendMsg(data.toString());\r\n    \t\t\t\t\r\n    \t\t\t\t// OUT\r\n    \t\t\t\tSystem.out.println(&quot;out: &quot; + data.toString());\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tserver.getClientListModel().remove(this);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(e);\r\n    \t\t\tserver.getClientListModel().remove(this);\r\n    \t\t} \r\n    \t}\r\n    \r\n    \tpublic Socket getClientSocket() {\r\n    \t\treturn clientSocket;\r\n    \t}\r\n    \r\n    \tprivate boolean isSelectStatement(String sql) {\r\n    \t\treturn sql.toUpperCase().startsWith(&quot;SELECT&quot;) || sql.toUpperCase().startsWith(&quot;WITH&quot;);\r\n    \t}\r\n    \r\n    \tpublic void sendMsg(String msg) {\r\n    \t\tout.println(msg);\r\n    \t}\r\n    \r\n    }\r\n\r\nIt detects whether a select statement or a some other statement is going to be executet. If its not a select statement the server will trigger updates.\r\n\r\nThe Postgres class is just a mock class.\r\n\r\n    public class PostgresMock {\r\n    \r\n    \tpublic PostgresMock(String user, String password) {\r\n    \r\n    \t}\r\n    \r\n    \tpublic JSONArray execute(String sqlStatement) {\r\n    \t\treturn new JSONArray();\r\n    \t}\r\n    }\r\n\r\nFinally the client class. It does a lot of stuff but most importently it triggers the actual update method.\r\n\r\n    public class Client implements Runnable {\r\n    \tprivate volatile String msgOut = null;\r\n    \tprivate volatile String msgIn = null;\r\n    \tprivate volatile boolean done = true;\r\n    \tprivate int queryTimeout = 1000;\r\n    \r\n    \tprivate Socket clientSocket;\r\n    \tprivate BufferedReader in;\r\n    \tprivate PrintWriter out;\r\n    \r\n    \tprivate String ip;\r\n    \tprivate int port;\r\n    \r\n    \tprivate Thread t;\r\n    \r\n    \tprivate static volatile boolean active = true;\r\n    \r\n    \tprivate static int clockRate = 1;\r\n    \r\n    \tpublic Client(String ip, int port) {\r\n    \t\tthis.ip = ip;\r\n    \t\tthis.port = port;\r\n    \t\tt = new Thread(this);\r\n    \t\tt.start();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\ttry {\r\n    \t\t\tconnect();\r\n    \r\n    \t\t\tString response;\r\n    \r\n    \t\t\twhile (active) {\r\n    \r\n    \t\t\t\tif (getMsgOut() != null) {\r\n    \t\t\t\t\tout.println(getMsgOut());\r\n    \t\t\t\t\tsetMsgOut(null);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tresponse = readResponse();\r\n    \r\n    \t\t\t\tif (response != null) {\r\n    \t\t\t\t\tSystem.out.println(java.time.LocalDateTime.now() + &quot;: in: &quot; + response);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpollResponse(response);\r\n    \r\n    \t\t\t\t// slow down loop\r\n    \t\t\t\tThread.sleep(clockRate);\r\n    \t\t\t}\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void connect() {\r\n    \t\twhile (clientSocket == null &amp;&amp; active) {\r\n    \t\t\ttry {\r\n    \t\t\t\tclientSocket = new Socket(ip, port);\r\n    \t\t\t\tout = new PrintWriter(clientSocket.getOutputStream(), true);\r\n    \t\t\t\tin = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n    \t\t\t} catch (UnknownHostException e) {\r\n    \t\t\t\tSystem.out.println(e);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tSystem.out.println(e);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t} catch (InterruptedException e1) {\r\n    \t\t\t\t\te1.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic String readResponse() throws IOException {\r\n    \t\tString userInput = null;\r\n    \t\twhile (in.ready() &amp;&amp; (userInput = in.readLine()) != null) {\r\n    \t\t\treturn userInput;\r\n    \t\t}\r\n    \t\treturn userInput;\r\n    \t}\r\n    \r\n    \tprivate void pollResponse(String response) {\r\n    \t\tif (response == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tif (response.equals(&quot;trigger update&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;do update stuff here ...&quot;); // trigger your update event here\r\n    \t\t} else {\r\n    \t\t\tsetMsgIn(response);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic String query(String sql, long timeout) {\r\n    \t\twhile (!done) {} // I don&#39;t know if this is actually necessary\r\n    \r\n    \t\tdone = false;\r\n    \r\n    \t\tlong start = System.currentTimeMillis();\r\n    \r\n    \t\tsetMsgIn(null);\r\n    \t\tsetMsgOut(sql);\r\n    \r\n    \t\twhile ((System.currentTimeMillis() - start &lt; timeout) &amp;&amp; getMsgIn() == null) {}\r\n    \t\t\r\n    \t\tsetMsgOut(null);\r\n    \r\n    \t\tdone = true;\r\n    \r\n    \t\treturn getMsgIn();\r\n    \t}\r\n    \r\n    \tpublic String query(String sql) {\r\n    \t\treturn query(sql, queryTimeout);\r\n    \t}\r\n    \r\n    \tString getMsgOut() {\r\n    \t\treturn msgOut;\r\n    \t}\r\n    \r\n    \tvoid setMsgOut(String msgOut) {\r\n    \t\tthis.msgOut = msgOut;\r\n    \t}\r\n    \r\n    \tString getMsgIn() {\r\n    \t\treturn msgIn;\r\n    \t}\r\n    \r\n    \tvoid setMsgIn(String msgIn) {\r\n    \t\tthis.msgIn = msgIn;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tClient c = new Client(&quot;127.0.0.1&quot;, 5555);\r\n    \t\tc.query(&quot;select * from atable;&quot;);\r\n    \t\tc.query(&quot;insert into atable (avalue) values (&#39;anything&#39;);&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nI didn&#39;t do a lot of optimization to the code but I hope it helps.","title":"Java Client-Server and Observer","body":"<p>for my solution I needed a list of all connected clients on server-side:</p>\n<pre><code>public class ClientListModel {\n    private List&lt;ClientHandler&gt; liste = new LinkedList&lt;&gt;();\n    private ClientListView clientView;\n\n    public List&lt;ClientHandler&gt; getListe() {\n        return liste;\n    }\n\n    public void setListe(List&lt;ClientHandler&gt; liste) {\n        this.liste = liste;\n    }\n\n    public ClientListView getClientView() {\n        return clientView;\n    }\n\n    public void setClientView(ClientListView clientView) {\n        this.clientView = clientView;\n    }\n\n    public void update() {\n        clientView.update();\n    }\n\n    public void add(ClientHandler echoClientHandler) {\n        liste.add(echoClientHandler);\n        update();\n    }\n\n    public void remove(ClientHandler echoClientHandler) {\n        liste.remove(echoClientHandler);\n        update();\n    }\n}\n</code></pre>\n<p>The view-class prints out information to the console:</p>\n<pre><code>public class ClientListView {\n    ClientListModel clientModel;\n\n    public ClientListView() {\n        super();\n    }\n\n    public void update() {\n        System.out.println(&quot;*** connected clients ***&quot;);\n        for (ClientHandler client : clientModel.getListe()) {\n            System.out.println(client.getClientSocket().getInetAddress());\n        }\n    }\n\n    public ClientListModel getClientModel() {\n        return clientModel;\n    }\n\n    public void setClientModel(ClientListModel clientModel) {\n        this.clientModel = clientModel;\n    }\n}\n</code></pre>\n<p>The actual server holds both classes. It can send a update trigger to all registered client handlers.</p>\n<pre><code>public class Server implements Runnable {\n    private Thread t;\n    private int port;\n    private ServerSocket serverSocket;\n    private ClientListModel clientListModel = new ClientListModel();\n    private ClientListView clientListView = new ClientListView();\n    private PostgresMock postgres;\n\n    public Server(int port) {\n        this.port = port;\n        this.postgres = new PostgresMock(&quot;me&quot;, &quot;pass123&quot;);\n\n        // initiate mvc\n        getClientListModel().setClientView(clientListView);\n        clientListView.setClientModel(getClientListModel());\n\n        t = new Thread(this);\n        t.start();\n    }\n\n    @Override\n    public void run() {\n        try {\n            serverSocket = new ServerSocket(port);\n            System.out.println(&quot;listening on port &quot; + port);\n            while (true) {\n                new ClientHandler(serverSocket.accept(), this);\n            }\n        } catch (IOException e) {\n            System.out.println(e);\n        }\n\n    }\n\n    public void updateClients() {\n        for (ClientHandler client : getClientListModel().getListe()) {\n            client.sendMsg(&quot;trigger update&quot;);\n        }\n    }\n\n    public void close() throws IOException {\n        this.serverSocket.close();\n    }\n\n    public ClientListModel getClientListModel() {\n        return clientListModel;\n    }\n\n    public PostgresMock getPostgres() {\n        return postgres;\n    }\n\n    public static void main(String[] args) {\n        Server server = new Server(5555);\n    }\n\n}\n</code></pre>\n<p>Here is the client handler:</p>\n<pre><code>public class ClientHandler implements Runnable {\n    private Thread t;\n    private Socket clientSocket;\n    private PrintWriter out;\n    private BufferedReader in;\n    private Server server;\n\n    public ClientHandler(Socket socket, Server server) {\n        this.clientSocket = socket;\n        this.server = server;\n        server.getClientListModel().add(this);\n\n        t = new Thread(this);\n        t.start();\n    }\n\n    @Override\n    public void run() {\n\n        try {\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\n            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                \n                // IN\n                System.out.println(&quot;in: &quot; + inputLine);\n                \n                JSONArray data = server.getPostgres().execute(inputLine);\n                \n                if (!isSelectStatement(inputLine)) {\n                    server.updateClients();\n                }\n                if (data == null) {\n                    sendMsg(&quot;nil&quot;);\n                    continue;\n                }\n                \n                sendMsg(data.toString());\n                \n                // OUT\n                System.out.println(&quot;out: &quot; + data.toString());\n                \n            }\n            server.getClientListModel().remove(this);\n        } catch (IOException e) {\n            System.err.println(e);\n            server.getClientListModel().remove(this);\n        } \n    }\n\n    public Socket getClientSocket() {\n        return clientSocket;\n    }\n\n    private boolean isSelectStatement(String sql) {\n        return sql.toUpperCase().startsWith(&quot;SELECT&quot;) || sql.toUpperCase().startsWith(&quot;WITH&quot;);\n    }\n\n    public void sendMsg(String msg) {\n        out.println(msg);\n    }\n\n}\n</code></pre>\n<p>It detects whether a select statement or a some other statement is going to be executet. If its not a select statement the server will trigger updates.</p>\n<p>The Postgres class is just a mock class.</p>\n<pre><code>public class PostgresMock {\n\n    public PostgresMock(String user, String password) {\n\n    }\n\n    public JSONArray execute(String sqlStatement) {\n        return new JSONArray();\n    }\n}\n</code></pre>\n<p>Finally the client class. It does a lot of stuff but most importently it triggers the actual update method.</p>\n<pre><code>public class Client implements Runnable {\n    private volatile String msgOut = null;\n    private volatile String msgIn = null;\n    private volatile boolean done = true;\n    private int queryTimeout = 1000;\n\n    private Socket clientSocket;\n    private BufferedReader in;\n    private PrintWriter out;\n\n    private String ip;\n    private int port;\n\n    private Thread t;\n\n    private static volatile boolean active = true;\n\n    private static int clockRate = 1;\n\n    public Client(String ip, int port) {\n        this.ip = ip;\n        this.port = port;\n        t = new Thread(this);\n        t.start();\n    }\n\n    @Override\n    public void run() {\n\n        try {\n            connect();\n\n            String response;\n\n            while (active) {\n\n                if (getMsgOut() != null) {\n                    out.println(getMsgOut());\n                    setMsgOut(null);\n                }\n\n                response = readResponse();\n\n                if (response != null) {\n                    System.out.println(java.time.LocalDateTime.now() + &quot;: in: &quot; + response);\n                }\n\n                pollResponse(response);\n\n                // slow down loop\n                Thread.sleep(clockRate);\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void connect() {\n        while (clientSocket == null &amp;&amp; active) {\n            try {\n                clientSocket = new Socket(ip, port);\n                out = new PrintWriter(clientSocket.getOutputStream(), true);\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n            } catch (UnknownHostException e) {\n                System.out.println(e);\n            } catch (IOException e) {\n                System.out.println(e);\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e1) {\n                    e1.printStackTrace();\n                }\n            }\n        }\n    }\n\n    public String readResponse() throws IOException {\n        String userInput = null;\n        while (in.ready() &amp;&amp; (userInput = in.readLine()) != null) {\n            return userInput;\n        }\n        return userInput;\n    }\n\n    private void pollResponse(String response) {\n        if (response == null) {\n            return;\n        }\n        if (response.equals(&quot;trigger update&quot;)) {\n            System.out.println(&quot;do update stuff here ...&quot;); // trigger your update event here\n        } else {\n            setMsgIn(response);\n        }\n    }\n\n    public String query(String sql, long timeout) {\n        while (!done) {} // I don't know if this is actually necessary\n\n        done = false;\n\n        long start = System.currentTimeMillis();\n\n        setMsgIn(null);\n        setMsgOut(sql);\n\n        while ((System.currentTimeMillis() - start &lt; timeout) &amp;&amp; getMsgIn() == null) {}\n        \n        setMsgOut(null);\n\n        done = true;\n\n        return getMsgIn();\n    }\n\n    public String query(String sql) {\n        return query(sql, queryTimeout);\n    }\n\n    String getMsgOut() {\n        return msgOut;\n    }\n\n    void setMsgOut(String msgOut) {\n        this.msgOut = msgOut;\n    }\n\n    String getMsgIn() {\n        return msgIn;\n    }\n\n    void setMsgIn(String msgIn) {\n        this.msgIn = msgIn;\n    }\n    \n    public static void main(String[] args) {\n        Client c = new Client(&quot;127.0.0.1&quot;, 5555);\n        c.query(&quot;select * from atable;&quot;);\n        c.query(&quot;insert into atable (avalue) values ('anything');&quot;);\n    }\n\n}\n</code></pre>\n<p>I didn't do a lot of optimization to the code but I hope it helps.</p>\n"}],"owner":{"account_id":3780327,"reputation":175,"user_id":3140006,"accept_rate":75,"display_name":"kemenesendre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696154861,"creation_date":1432323689,"question_id":30404734,"body_markdown":"I am implementing a Java Client-Server application for a university task and I&#39;m stuck at the following point: I am obliged to use client-server and also update the view whenever the data in the database changes. What I have done is that whenever a change in the database should occur I notify all the clients with the &quot;CHANGE IN DATA&quot; message and then the client should read and understand this message in order to call a method that will update it&#39;s graphic interface. However, or I&#39;m mistaking the reading part on client side or because of some error, the clients don&#39;t read the &quot;CHANGE IN DATA&quot; message so the whole gets stuck at this point and the view doesn&#39;t update.\r\n\r\nHere are some relevant codes!\r\nServer class:\r\n\r\n    public class FinesPaymentServer implements Runnable {\r\n    \r\n    private Database database;\r\n    private UserGateway userGateway;\r\n    private FineGateway fineGateway;\r\n    private DriverGateway driverGateway;\r\n    private Socket connection;\r\n    private int ID;\r\n    static ArrayList&lt;Socket&gt; clientsConnected;\r\n    \r\n    /**\r\n     * Constructor of the class connecting to the database and initializing the socket\r\n     * @param database the database used\r\n     * @param connection the socket for the server\r\n     * @param ID the id\r\n     */\r\n    private FinesPaymentServer(Database database, UserGateway userGateway, FineGateway fineGateway, DriverGateway driverGateway, Socket connection, int ID) {\r\n        this.connection = connection;\r\n        this.userGateway = userGateway;\r\n        this.fineGateway = fineGateway;\r\n        this.driverGateway = driverGateway;\r\n        this.database = database;\r\n        this.ID = ID;\r\n    }\r\n    \r\n    /**\r\n     * Run method of the threads for each socket on the server\r\n     */\r\n    public void run() {\r\n        try {\r\n            while(true)\r\n                readFromClient(connection);\r\n        } catch (IOException | SQLException e) {\r\n        System.out.println(e);\r\n        }\r\n    }\r\n    \r\n     /**\r\n     * Read method from the client\r\n     * @param client the client socket from where to read\r\n     * @throws IOException\r\n     * @throws SQLException \r\n     */\r\n    public void readFromClient(Socket client) throws IOException, SQLException {\r\n        BufferedInputStream is = new BufferedInputStream(client.getInputStream());\r\n        InputStreamReader reader = new InputStreamReader(is);\r\n        StringBuffer process = new StringBuffer();\r\n        int character;\r\n        while((character = reader.read()) != 13) {\r\n            process.append((char)character);\r\n        }\r\n        System.out.println(&quot;[SERVER READ]: &quot;+process);\r\n        String[] words = process.toString().split(&quot;\\\\s+&quot;);\r\n        switch (process.charAt(0)) {\r\n            case &#39;a&#39; : \r\n            {\r\n                int type = database.verifyLogin(words[1], words[2]);\r\n                sendMessage(client, &quot;&quot;+type + &quot; &quot;);\r\n                break;\r\n            }\r\n            case &#39;b&#39; :\r\n            {\r\n                String rs = userGateway.getUsers();\r\n                sendMessage(client, rs);\r\n                break;\r\n            }\r\n            case &#39;c&#39; :\r\n            {\r\n                userGateway.createUser(words[1], words[2], words[3]);\r\n                notifyClients();\r\n                break;\r\n            }\r\n            case &#39;d&#39; :\r\n            {\r\n                userGateway.updateUser(words[1], words[2], words[3]);\r\n                notifyClients();\r\n                break;\r\n            }\r\n            case &#39;e&#39; :\r\n            {\r\n                userGateway.deleteUser(words[1]);\r\n                notifyClients();\r\n                break;\r\n            }\r\n        }\r\n        try {\r\n        Thread.sleep(1000);\r\n        } catch (Exception e){}\r\n        String time_stamp = new java.util.Date().toString();\r\n        String returnCode = &quot;Single Socket Server responded at &quot; + time_stamp + (char) 13;\r\n        sendMessage(client, returnCode);\r\n    }\r\n    \r\n    /**\r\n     * Method for sending messages from the server to the client\r\n     * @param client the client socket where to send the message\r\n     * @param message the message itself to be sent\r\n     * @throws IOException \r\n     */\r\n    private void sendMessage(Socket client, String message) throws IOException {\r\n        BufferedWriter writer = new BufferedWriter(\r\n        new OutputStreamWriter(client.getOutputStream()));\r\n        writer.write(message);\r\n        System.out.println(&quot;[SERVER WRITE]: &quot;+message);\r\n        writer.flush();\r\n    }\r\n    \r\n    public void notifyClients() throws IOException\r\n    {\r\n        for(Socket s : clientsConnected)\r\n        {\r\n            sendMessage(s, &quot;CHANGE IN DATA &quot;);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     * @throws java.sql.SQLException\r\n     */\r\n    public static void main(String[] args) throws SQLException {\r\n        Database database = new Database();\r\n        UserGateway userGateway = new UserGateway();\r\n        FineGateway fineGateway = new FineGateway();\r\n        DriverGateway driverGateway = new DriverGateway();\r\n        clientsConnected = new ArrayList&lt;&gt;();\r\n        // Setting a default port number.\r\n        int portNumber = 2015;\r\n        int count = 0;\r\n        System.out.println(&quot;Starting the multiple socket server at port: &quot; + portNumber);\r\n        try {\r\n        ServerSocket serverSocket = new ServerSocket(portNumber);\r\n        System.out.println(&quot;Multiple Socket Server Initialized&quot;);\r\n        //Listen for clients\r\n        while(true) {\r\n        Socket client = serverSocket.accept();\r\n        clientsConnected.add(client);\r\n        Runnable runnable = new FinesPaymentServer(database, userGateway, fineGateway, driverGateway, client, ++count);\r\n        Thread thread = new Thread(runnable);\r\n        thread.start();\r\n        }\r\n        } catch (Exception e) {}\r\n    }\r\n    }\r\n\r\nThe client class:\r\n\r\n    public class FinesPaymentClient implements Runnable {\r\n\r\n    private String hostname = &quot;localhost&quot;;\r\n    private int port = 2015;\r\n    Socket socketClient;\r\n    AdministratorModel adminModel;\r\n    PoliceModel policeModel;\r\n    PostModel postModel;\r\n    \r\n    /**\r\n     * Constructor of the class\r\n     * @param hostname the host name of the connection\r\n     * @param port the port of the connection\r\n     * @throws UnknownHostException\r\n     * @throws IOException \r\n     */\r\n    public FinesPaymentClient(String hostname, int port, AdministratorModel adminModel, PoliceModel policeModel, PostModel postModel) throws UnknownHostException, IOException\r\n    {\r\n        this.hostname = hostname;\r\n        this.port = port;\r\n        this.adminModel = adminModel;\r\n        this.policeModel = policeModel;\r\n        this.postModel = postModel;\r\n        connect();\r\n    }\r\n    \r\n    /**\r\n     * Method for connecting to the host by a socket\r\n     * @throws UnknownHostException\r\n     * @throws IOException \r\n     */\r\n    public void connect() throws UnknownHostException, IOException {\r\n        System.out.println(&quot;Attempting to connect to &quot; + hostname + &quot;:&quot; + port);\r\n        socketClient = new Socket(hostname, port);\r\n        System.out.println(&quot;Connection Established&quot;);\r\n    }\r\n    \r\n    /**\r\n     * Method for reading response from the server\r\n     * @return the string read from the server\r\n     * @throws IOException \r\n     */\r\n    public String readResponse() throws IOException {\r\n        String userInput;\r\n        BufferedReader stdIn = new BufferedReader(\r\n        new InputStreamReader(socketClient.getInputStream()));\r\n        System.out.println(&quot;[CLIENT READ]:&quot;);\r\n        while ((userInput = stdIn.readLine()) != null) {\r\n            System.out.println(userInput);\r\n            return userInput;\r\n        }\r\n        return userInput;\r\n    }\r\n    \r\n    /**\r\n     * Method for closing connection between client and server\r\n     * @throws IOException \r\n     */\r\n    public void closeConnection() throws IOException {\r\n        socketClient.close();\r\n    }\r\n    \r\n    /**\r\n     * Method for writing messages to the server\r\n     * @param message the message to be sent\r\n     * @throws IOException \r\n     */\r\n    public void writeMessage(String message) throws IOException {\r\n        String time_stamp = new java.util.Date().toString();\r\n        // Please note that we placed a char(13) at the end of process...\r\n        // we use this to let the server know we are at the end\r\n        // of the data we are sending\r\n        String process = message + (char) 13;\r\n        BufferedWriter stdOut = new BufferedWriter(\r\n        new OutputStreamWriter(socketClient.getOutputStream()));\r\n        stdOut.write(process);\r\n        System.out.println(&quot;[CLIENT WRITE]: &quot;+process);\r\n        // We need to flush the buffer to ensure that the data will be written\r\n        // across the socket in a timely manner\r\n        stdOut.flush();\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n        try {\r\n            String response;\r\n            while(true)\r\n            {\r\n                response = readResponse();\r\n                System.out.println(&quot;HERE&quot;+response.substring(0, 13));\r\n                if(response.substring(0, 13).equals(&quot;CHANGE IN DATA&quot;))\r\n                {\r\n                    adminModel.setChange();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Main method of the application\r\n     * @param arg the parameters given as arguments\r\n     * @throws SQLException\r\n     * @throws UnknownHostException\r\n     * @throws IOException \r\n     */\r\n    public static void main(String arg[]) throws SQLException, UnknownHostException, IOException {\r\n        AdministratorModel adminModel = new AdministratorModel();\r\n        PoliceModel policeModel = new PoliceModel();\r\n        PostModel postModel = new PostModel();\r\n        FinesPaymentClient client = new FinesPaymentClient(&quot;localhost&quot;, 2015, adminModel, policeModel, postModel);\r\n        Runnable client2 = new FinesPaymentClient(&quot;localhost&quot;, 2015, adminModel, policeModel, postModel);\r\n        Thread thread = new Thread(client2);\r\n        thread.start();\r\n        Login login = new Login();\r\n        ClientSide clientSide = new ClientSide(login, client, adminModel, policeModel, postModel);\r\n    }\r\n    }\r\n\r\nClientSide class:\r\n\r\n    public class ClientSide {\r\n    private final Login login;\r\n    private FinesPaymentClient client;\r\n    AdministratorModel adminModel;\r\n    PoliceModel policeModel;\r\n    PostModel postModel;\r\n    \r\n    /**\r\n     * Constructor instantiating needed classes\r\n     * @param login an instance of the login class\r\n     * @param client the client needing the control logic\r\n     * @param adminModel\r\n     * @param policeModel\r\n     * @param postModel\r\n     * @throws SQLException using classes connecting to a database sql exceptions can occur\r\n     */\r\n    public ClientSide(Login login, FinesPaymentClient client, AdministratorModel adminModel, PoliceModel policeModel, PostModel postModel) throws SQLException\r\n    {\r\n        this.login = login;\r\n        this.client = client;\r\n        this.adminModel = adminModel;\r\n        this.policeModel = policeModel;\r\n        this.postModel = postModel;\r\n        login.addButtonListener(new ButtonListener());\r\n    }\r\n    \r\n    /**\r\n     * Listener for the login button. Reads, verifies and provides the interface according to logged in user type.\r\n     */\r\n    class ButtonListener implements ActionListener {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            try \r\n            {\r\n                client.writeMessage(&quot;a &quot; + login.field1.getText()+ &quot; &quot; + login.field2.getText());\r\n                String response = client.readResponse();\r\n                if(response.charAt(0) == &#39;1&#39;)\r\n                {   \r\n                    login.setVisible(false);\r\n                    AdministratorGUI administratorGUI = new AdministratorGUI(adminModel, client);\r\n                    AdministratorController adminController = new AdministratorController(client, administratorGUI, adminModel);              \r\n                }\r\n                //if user is post office employee\r\n                else if(response.charAt(0) == &#39;2&#39;)\r\n                {\r\n                    login.setVisible(false);\r\n                    PostGUI postGUI = new PostGUI();\r\n                    PostController postController = new PostController(client, postGUI, postModel);\r\n                }\r\n                //if user is police employee\r\n                else if(response.charAt(0) == &#39;3&#39;)\r\n                {\r\n                    login.setVisible(false);\r\n                    PoliceGUI policeGUI = new PoliceGUI();\r\n                    PoliceController policeController = new PoliceController(client, policeGUI, policeModel);              \r\n                }\r\n                else\r\n                {\r\n                    JOptionPane.showMessageDialog(null,&quot;Login failed! Please try again!&quot;);\r\n                }\r\n            } \r\n            catch (IOException ex) \r\n            {\r\n                Logger.getLogger(ClientSide.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nI&#39;m 99% sure that the error is on client side reading the message sent from the server as notification, but I simply cannot figure it out how could I retrieve that message. Right now I have a try in the client threads run method, but doesn&#39;t work. Other classes and other functionalities work just fine, this is my only problem. Do you have any ideas what the mistake could be? I would appreciate any help.","title":"Java Client-Server and Observer","body":"<p>I am implementing a Java Client-Server application for a university task and I'm stuck at the following point: I am obliged to use client-server and also update the view whenever the data in the database changes. What I have done is that whenever a change in the database should occur I notify all the clients with the \"CHANGE IN DATA\" message and then the client should read and understand this message in order to call a method that will update it's graphic interface. However, or I'm mistaking the reading part on client side or because of some error, the clients don't read the \"CHANGE IN DATA\" message so the whole gets stuck at this point and the view doesn't update.</p>\n\n<p>Here are some relevant codes!\nServer class:</p>\n\n<pre><code>public class FinesPaymentServer implements Runnable {\n\nprivate Database database;\nprivate UserGateway userGateway;\nprivate FineGateway fineGateway;\nprivate DriverGateway driverGateway;\nprivate Socket connection;\nprivate int ID;\nstatic ArrayList&lt;Socket&gt; clientsConnected;\n\n/**\n * Constructor of the class connecting to the database and initializing the socket\n * @param database the database used\n * @param connection the socket for the server\n * @param ID the id\n */\nprivate FinesPaymentServer(Database database, UserGateway userGateway, FineGateway fineGateway, DriverGateway driverGateway, Socket connection, int ID) {\n    this.connection = connection;\n    this.userGateway = userGateway;\n    this.fineGateway = fineGateway;\n    this.driverGateway = driverGateway;\n    this.database = database;\n    this.ID = ID;\n}\n\n/**\n * Run method of the threads for each socket on the server\n */\npublic void run() {\n    try {\n        while(true)\n            readFromClient(connection);\n    } catch (IOException | SQLException e) {\n    System.out.println(e);\n    }\n}\n\n /**\n * Read method from the client\n * @param client the client socket from where to read\n * @throws IOException\n * @throws SQLException \n */\npublic void readFromClient(Socket client) throws IOException, SQLException {\n    BufferedInputStream is = new BufferedInputStream(client.getInputStream());\n    InputStreamReader reader = new InputStreamReader(is);\n    StringBuffer process = new StringBuffer();\n    int character;\n    while((character = reader.read()) != 13) {\n        process.append((char)character);\n    }\n    System.out.println(\"[SERVER READ]: \"+process);\n    String[] words = process.toString().split(\"\\\\s+\");\n    switch (process.charAt(0)) {\n        case 'a' : \n        {\n            int type = database.verifyLogin(words[1], words[2]);\n            sendMessage(client, \"\"+type + \" \");\n            break;\n        }\n        case 'b' :\n        {\n            String rs = userGateway.getUsers();\n            sendMessage(client, rs);\n            break;\n        }\n        case 'c' :\n        {\n            userGateway.createUser(words[1], words[2], words[3]);\n            notifyClients();\n            break;\n        }\n        case 'd' :\n        {\n            userGateway.updateUser(words[1], words[2], words[3]);\n            notifyClients();\n            break;\n        }\n        case 'e' :\n        {\n            userGateway.deleteUser(words[1]);\n            notifyClients();\n            break;\n        }\n    }\n    try {\n    Thread.sleep(1000);\n    } catch (Exception e){}\n    String time_stamp = new java.util.Date().toString();\n    String returnCode = \"Single Socket Server responded at \" + time_stamp + (char) 13;\n    sendMessage(client, returnCode);\n}\n\n/**\n * Method for sending messages from the server to the client\n * @param client the client socket where to send the message\n * @param message the message itself to be sent\n * @throws IOException \n */\nprivate void sendMessage(Socket client, String message) throws IOException {\n    BufferedWriter writer = new BufferedWriter(\n    new OutputStreamWriter(client.getOutputStream()));\n    writer.write(message);\n    System.out.println(\"[SERVER WRITE]: \"+message);\n    writer.flush();\n}\n\npublic void notifyClients() throws IOException\n{\n    for(Socket s : clientsConnected)\n    {\n        sendMessage(s, \"CHANGE IN DATA \");\n    }\n}\n\n/**\n * @param args the command line arguments\n * @throws java.sql.SQLException\n */\npublic static void main(String[] args) throws SQLException {\n    Database database = new Database();\n    UserGateway userGateway = new UserGateway();\n    FineGateway fineGateway = new FineGateway();\n    DriverGateway driverGateway = new DriverGateway();\n    clientsConnected = new ArrayList&lt;&gt;();\n    // Setting a default port number.\n    int portNumber = 2015;\n    int count = 0;\n    System.out.println(\"Starting the multiple socket server at port: \" + portNumber);\n    try {\n    ServerSocket serverSocket = new ServerSocket(portNumber);\n    System.out.println(\"Multiple Socket Server Initialized\");\n    //Listen for clients\n    while(true) {\n    Socket client = serverSocket.accept();\n    clientsConnected.add(client);\n    Runnable runnable = new FinesPaymentServer(database, userGateway, fineGateway, driverGateway, client, ++count);\n    Thread thread = new Thread(runnable);\n    thread.start();\n    }\n    } catch (Exception e) {}\n}\n}\n</code></pre>\n\n<p>The client class:</p>\n\n<pre><code>public class FinesPaymentClient implements Runnable {\n\nprivate String hostname = \"localhost\";\nprivate int port = 2015;\nSocket socketClient;\nAdministratorModel adminModel;\nPoliceModel policeModel;\nPostModel postModel;\n\n/**\n * Constructor of the class\n * @param hostname the host name of the connection\n * @param port the port of the connection\n * @throws UnknownHostException\n * @throws IOException \n */\npublic FinesPaymentClient(String hostname, int port, AdministratorModel adminModel, PoliceModel policeModel, PostModel postModel) throws UnknownHostException, IOException\n{\n    this.hostname = hostname;\n    this.port = port;\n    this.adminModel = adminModel;\n    this.policeModel = policeModel;\n    this.postModel = postModel;\n    connect();\n}\n\n/**\n * Method for connecting to the host by a socket\n * @throws UnknownHostException\n * @throws IOException \n */\npublic void connect() throws UnknownHostException, IOException {\n    System.out.println(\"Attempting to connect to \" + hostname + \":\" + port);\n    socketClient = new Socket(hostname, port);\n    System.out.println(\"Connection Established\");\n}\n\n/**\n * Method for reading response from the server\n * @return the string read from the server\n * @throws IOException \n */\npublic String readResponse() throws IOException {\n    String userInput;\n    BufferedReader stdIn = new BufferedReader(\n    new InputStreamReader(socketClient.getInputStream()));\n    System.out.println(\"[CLIENT READ]:\");\n    while ((userInput = stdIn.readLine()) != null) {\n        System.out.println(userInput);\n        return userInput;\n    }\n    return userInput;\n}\n\n/**\n * Method for closing connection between client and server\n * @throws IOException \n */\npublic void closeConnection() throws IOException {\n    socketClient.close();\n}\n\n/**\n * Method for writing messages to the server\n * @param message the message to be sent\n * @throws IOException \n */\npublic void writeMessage(String message) throws IOException {\n    String time_stamp = new java.util.Date().toString();\n    // Please note that we placed a char(13) at the end of process...\n    // we use this to let the server know we are at the end\n    // of the data we are sending\n    String process = message + (char) 13;\n    BufferedWriter stdOut = new BufferedWriter(\n    new OutputStreamWriter(socketClient.getOutputStream()));\n    stdOut.write(process);\n    System.out.println(\"[CLIENT WRITE]: \"+process);\n    // We need to flush the buffer to ensure that the data will be written\n    // across the socket in a timely manner\n    stdOut.flush();\n}\n\n@Override\npublic void run() {\n    try {\n        String response;\n        while(true)\n        {\n            response = readResponse();\n            System.out.println(\"HERE\"+response.substring(0, 13));\n            if(response.substring(0, 13).equals(\"CHANGE IN DATA\"))\n            {\n                adminModel.setChange();\n            }\n        }\n    } catch (IOException e) {\n        System.out.println(e);\n    }\n}\n\n/**\n * Main method of the application\n * @param arg the parameters given as arguments\n * @throws SQLException\n * @throws UnknownHostException\n * @throws IOException \n */\npublic static void main(String arg[]) throws SQLException, UnknownHostException, IOException {\n    AdministratorModel adminModel = new AdministratorModel();\n    PoliceModel policeModel = new PoliceModel();\n    PostModel postModel = new PostModel();\n    FinesPaymentClient client = new FinesPaymentClient(\"localhost\", 2015, adminModel, policeModel, postModel);\n    Runnable client2 = new FinesPaymentClient(\"localhost\", 2015, adminModel, policeModel, postModel);\n    Thread thread = new Thread(client2);\n    thread.start();\n    Login login = new Login();\n    ClientSide clientSide = new ClientSide(login, client, adminModel, policeModel, postModel);\n}\n}\n</code></pre>\n\n<p>ClientSide class:</p>\n\n<pre><code>public class ClientSide {\nprivate final Login login;\nprivate FinesPaymentClient client;\nAdministratorModel adminModel;\nPoliceModel policeModel;\nPostModel postModel;\n\n/**\n * Constructor instantiating needed classes\n * @param login an instance of the login class\n * @param client the client needing the control logic\n * @param adminModel\n * @param policeModel\n * @param postModel\n * @throws SQLException using classes connecting to a database sql exceptions can occur\n */\npublic ClientSide(Login login, FinesPaymentClient client, AdministratorModel adminModel, PoliceModel policeModel, PostModel postModel) throws SQLException\n{\n    this.login = login;\n    this.client = client;\n    this.adminModel = adminModel;\n    this.policeModel = policeModel;\n    this.postModel = postModel;\n    login.addButtonListener(new ButtonListener());\n}\n\n/**\n * Listener for the login button. Reads, verifies and provides the interface according to logged in user type.\n */\nclass ButtonListener implements ActionListener {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        try \n        {\n            client.writeMessage(\"a \" + login.field1.getText()+ \" \" + login.field2.getText());\n            String response = client.readResponse();\n            if(response.charAt(0) == '1')\n            {   \n                login.setVisible(false);\n                AdministratorGUI administratorGUI = new AdministratorGUI(adminModel, client);\n                AdministratorController adminController = new AdministratorController(client, administratorGUI, adminModel);              \n            }\n            //if user is post office employee\n            else if(response.charAt(0) == '2')\n            {\n                login.setVisible(false);\n                PostGUI postGUI = new PostGUI();\n                PostController postController = new PostController(client, postGUI, postModel);\n            }\n            //if user is police employee\n            else if(response.charAt(0) == '3')\n            {\n                login.setVisible(false);\n                PoliceGUI policeGUI = new PoliceGUI();\n                PoliceController policeController = new PoliceController(client, policeGUI, policeModel);              \n            }\n            else\n            {\n                JOptionPane.showMessageDialog(null,\"Login failed! Please try again!\");\n            }\n        } \n        catch (IOException ex) \n        {\n            Logger.getLogger(ClientSide.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n}\n</code></pre>\n\n<p>I'm 99% sure that the error is on client side reading the message sent from the server as notification, but I simply cannot figure it out how could I retrieve that message. Right now I have a try in the client threads run method, but doesn't work. Other classes and other functionalities work just fine, this is my only problem. Do you have any ideas what the mistake could be? I would appreciate any help.</p>\n"},{"tags":["java","sockets","socketexception"],"answers":[{"comments":[{"owner":{"account_id":13925153,"reputation":3,"user_id":10054676,"display_name":"rama"},"score":0,"creation_date":1559220195,"post_id":56377978,"comment_id":99357301,"body_markdown":"After doing above changes still  error ERROR javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;\n  nested exception is:\n\tjava.net.SocketException: Permission denied: connect","body":"After doing above changes still  error ERROR javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;   nested exception is: \tjava.net.SocketException: Permission denied: connect"},{"owner":{"account_id":12731935,"reputation":11,"user_id":9248244,"display_name":"T.Er"},"score":0,"creation_date":1559231084,"post_id":56377978,"comment_id":99363236,"body_markdown":"i changed my answer. Please check.","body":"i changed my answer. Please check."},{"owner":{"account_id":13925153,"reputation":3,"user_id":10054676,"display_name":"rama"},"score":0,"creation_date":1559234030,"post_id":56377978,"comment_id":99364729,"body_markdown":"Thanks for reply  could you please explain with steps how I can check e-mail permission and settings in office Office 365","body":"Thanks for reply  could you please explain with steps how I can check e-mail permission and settings in office Office 365"}],"tags":[],"owner":{"account_id":12731935,"reputation":11,"user_id":9248244,"display_name":"T.Er"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559231053,"creation_date":1559217845,"answer_id":56377978,"question_id":56376807,"body_markdown":"I think, you don&#39;t have permission for access your email. For example while i try in my gmail account, if i don&#39;t open the setting that show at below, i get a authorization failed but if i open the setting, i can send e-mail with your code. \r\n\r\nPlease check your e-mail permission and settings. \r\n\r\n[settings picture][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rIMYL.png","title":"Could not connect to SMTP host: outlook.office365.com, port: 587; nested exception is: java.net.SocketException: Permission denied: connect","body":"<p>I think, you don't have permission for access your email. For example while i try in my gmail account, if i don't open the setting that show at below, i get a authorization failed but if i open the setting, i can send e-mail with your code. </p>\n\n<p>Please check your e-mail permission and settings. </p>\n\n<p><a href=\"https://i.stack.imgur.com/rIMYL.png\" rel=\"nofollow noreferrer\">settings picture</a></p>\n"}],"owner":{"account_id":13925153,"reputation":3,"user_id":10054676,"display_name":"rama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696154730,"creation_date":1559213423,"question_id":56376807,"body_markdown":"I have written code that sends email using outlook.office365.com. When I am running the program getting the following error.\r\n\r\n\r\n&gt;**javax.mail.MessagingException:** Could not connect to SMTP host: outlook.office365.com, port: 587;\r\n nested exception is:\r\n\t\r\n&gt;**`java.net.SocketException:`** Permission denied: connect\r\n\r\n\r\n    private static final String SERVIDOR_SMTP = &quot;outlook.office365.com&quot;;\r\n    private static final int PORTA_SERVIDOR_SMTP = 587;\r\n    private static final String CONTA_PADRAO = &quot;xxxx@xxx.com&quot;; //Cofig  Mail Id\r\n    private static final String SENHA_CONTA_PADRAO = &quot;XYZ&quot;; // Password\r\n\r\n    private final String from = &quot;xxxx@xxx.com&quot;; \r\n    private final String to = &quot;xxxx@xxx.com&quot;;\r\n\r\n    private final String subject = &quot;Teste&quot;;\r\n    private final String messageContent = &quot;Teste de Mensagem&quot;;\r\n\r\n    public void sendEmail() {\r\n        final Session session = Session.getInstance(this.getEmailProperties(), new Authenticator() {\r\n\r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(CONTA_PADRAO, SENHA_CONTA_PADRAO);\r\n            }\r\n\r\n        });\r\n\r\n        try {\r\n            final Message message = new MimeMessage(session);\r\n            message.setRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n            message.setFrom(new InternetAddress(from));\r\n            message.setSubject(subject);\r\n            message.setText(messageContent);\r\n            message.setSentDate(new Date());\r\n            Transport.send(message);\r\n        } catch (final MessagingException ex) {\r\n           System.out.println(&quot; &quot;+ex);\r\n        }\r\n    }\r\n\r\n    public Properties getEmailProperties() {\r\n        final Properties config = new Properties();\r\n        config.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        config.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        config.put(&quot;mail.smtp.host&quot;, SERVIDOR_SMTP);\r\n        config.put(&quot;mail.smtp.port&quot;, PORTA_SERVIDOR_SMTP);\r\n        return config;\r\n    }\r\n\r\n    public static void main(final String[] args) {\r\n        new SendAttachmentInEmail().sendEmail();\r\n    }\r\n","title":"Could not connect to SMTP host: outlook.office365.com, port: 587; nested exception is: java.net.SocketException: Permission denied: connect","body":"<p>I have written code that sends email using outlook.office365.com. When I am running the program getting the following error.</p>\n\n<blockquote>\n  <p><strong>javax.mail.MessagingException:</strong> Could not connect to SMTP host: outlook.office365.com, port: 587;\n   nested exception is:</p>\n  \n  <p><strong><code>java.net.SocketException:</code></strong> Permission denied: connect</p>\n</blockquote>\n\n<pre><code>private static final String SERVIDOR_SMTP = \"outlook.office365.com\";\nprivate static final int PORTA_SERVIDOR_SMTP = 587;\nprivate static final String CONTA_PADRAO = \"xxxx@xxx.com\"; //Cofig  Mail Id\nprivate static final String SENHA_CONTA_PADRAO = \"XYZ\"; // Password\n\nprivate final String from = \"xxxx@xxx.com\"; \nprivate final String to = \"xxxx@xxx.com\";\n\nprivate final String subject = \"Teste\";\nprivate final String messageContent = \"Teste de Mensagem\";\n\npublic void sendEmail() {\n    final Session session = Session.getInstance(this.getEmailProperties(), new Authenticator() {\n\n        @Override\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(CONTA_PADRAO, SENHA_CONTA_PADRAO);\n        }\n\n    });\n\n    try {\n        final Message message = new MimeMessage(session);\n        message.setRecipient(Message.RecipientType.TO, new InternetAddress(to));\n        message.setFrom(new InternetAddress(from));\n        message.setSubject(subject);\n        message.setText(messageContent);\n        message.setSentDate(new Date());\n        Transport.send(message);\n    } catch (final MessagingException ex) {\n       System.out.println(\" \"+ex);\n    }\n}\n\npublic Properties getEmailProperties() {\n    final Properties config = new Properties();\n    config.put(\"mail.smtp.auth\", \"true\");\n    config.put(\"mail.smtp.starttls.enable\", \"true\");\n    config.put(\"mail.smtp.host\", SERVIDOR_SMTP);\n    config.put(\"mail.smtp.port\", PORTA_SERVIDOR_SMTP);\n    return config;\n}\n\npublic static void main(final String[] args) {\n    new SendAttachmentInEmail().sendEmail();\n}\n</code></pre>\n"},{"tags":["java","json","jackson","elastic-appsearch"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1680783578,"post_id":75948745,"comment_id":133958377,"body_markdown":"I believe this is a go-to usecase for [Josson](https://github.com/octomix/josson) - try reading a few questions about it here on SO and you&#39;ll see.","body":"I believe this is a go-to usecase for <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">Josson</a> - try reading a few questions about it here on SO and you&#39;ll see."},{"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"score":0,"creation_date":1681136427,"post_id":75948745,"comment_id":134004082,"body_markdown":"As this library doesn&#39;t have a big number of stars, I don&#39;t think it would be the best solution for a production environment. Isn&#39;t there any way to do it with Jackson ir any other popular parsing library?","body":"As this library doesn&#39;t have a big number of stars, I don&#39;t think it would be the best solution for a production environment. Isn&#39;t there any way to do it with Jackson ir any other popular parsing library?"},{"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"score":0,"creation_date":1681280993,"post_id":75948745,"comment_id":134029088,"body_markdown":"For the moment, I have created a class like the indicated in this question: https://stackoverflow.com/questions/75977888/use-jackson-deserializer-to-read-child-json-object and then I map with Mapstruct from the other class to this one","body":"For the moment, I have created a class like the indicated in this question: <a href=\"https://stackoverflow.com/questions/75977888/use-jackson-deserializer-to-read-child-json-object\" title=\"use jackson deserializer to read child json object\">stackoverflow.com/questions/75977888/&hellip;</a> and then I map with Mapstruct from the other class to this one"}],"answers":[{"comments":[{"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"score":0,"creation_date":1682004053,"post_id":76001531,"comment_id":134150712,"body_markdown":"That&#39;s also a good option, but if my class has, lest&#39;s say 35 fields, it&#39;s a little bit annoying to create 35 functions like that example.","body":"That&#39;s also a good option, but if my class has, lest&#39;s say 35 fields, it&#39;s a little bit annoying to create 35 functions like that example."},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1682054078,"post_id":76001531,"comment_id":134158307,"body_markdown":"The are IDE specific custom code generation template that can used to used for generating boilerplate code. For example https://stackoverflow.com/questions/16145800/generate-custom-java-getters-and-setters","body":"The are IDE specific custom code generation template that can used to used for generating boilerplate code. For example <a href=\"https://stackoverflow.com/questions/16145800/generate-custom-java-getters-and-setters\" title=\"generate custom java getters and setters\">stackoverflow.com/questions/16145800/&hellip;</a>"}],"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681358617,"creation_date":1681358617,"answer_id":76001531,"question_id":75948745,"body_markdown":"You can read the JSON Property as Map and unpack the needed attribute and assign to the property. You should be able to do something like:\r\n\r\n```\r\nclass MyClass {\r\n    private String name;\r\n    private Double number;\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    private void unpackNameFromNestedRawObject(Map&lt;String, String&gt; name) {\r\n      this.name = name.get(&quot;raw&quot;);\r\n    }\r\n\r\n    @JsonProperty(&quot;number&quot;)\r\n    private void unpackNumberFromNestedRawObject(Map&lt;String, Double&gt; number) {\r\n      this.number = number.get(&quot;raw&quot;);\r\n    }\r\n\r\n    public String getName() {\r\n      return name;\r\n    }\r\n\r\n    public void setName(final String name) {\r\n      this.name = name;\r\n    }\r\n\r\n    public Double getNumber() {\r\n      return number;\r\n    }\r\n\r\n    public void setNumber(final Double number) {\r\n      this.number = number;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n      return &quot;MyClass{&quot; + &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; + &quot;, number=&quot; + number + &#39;}&#39;;\r\n    }\r\n  }\r\n```","title":"Parse JSON in Java with intermediate element ({&quot;realKey&quot;: {&quot;badKey&quot;: &quot;goodValue&quot;}}))","body":"<p>You can read the JSON Property as Map and unpack the needed attribute and assign to the property. You should be able to do something like:</p>\n<pre><code>class MyClass {\n    private String name;\n    private Double number;\n\n    @JsonProperty(&quot;name&quot;)\n    private void unpackNameFromNestedRawObject(Map&lt;String, String&gt; name) {\n      this.name = name.get(&quot;raw&quot;);\n    }\n\n    @JsonProperty(&quot;number&quot;)\n    private void unpackNumberFromNestedRawObject(Map&lt;String, Double&gt; number) {\n      this.number = number.get(&quot;raw&quot;);\n    }\n\n    public String getName() {\n      return name;\n    }\n\n    public void setName(final String name) {\n      this.name = name;\n    }\n\n    public Double getNumber() {\n      return number;\n    }\n\n    public void setNumber(final Double number) {\n      this.number = number;\n    }\n\n    @Override\n    public String toString() {\n      return &quot;MyClass{&quot; + &quot;name='&quot; + name + '\\'' + &quot;, number=&quot; + number + '}';\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696154636,"creation_date":1696154636,"answer_id":77209999,"question_id":75948745,"body_markdown":"For anyone who have the same doubt, I finally created a class like this one:\r\n\r\n    public class Wrapper&lt;T&gt; {\r\n        T value;\r\n        // getters/setters\r\n    }\r\n\r\nAnd then I created my class like this one:\r\n\r\n    public class MyClass {\r\n        RawWrapper&lt;String&gt; aStringField;\r\n        RawWrapper&lt;Integer&gt; aIntegerField;\r\n        ...\r\n    }\r\n\r\nWith that, JSON is parsed correctly. If then you want to transform it to another class with the same fields but without RawWrappers, in my case I have used Mapstruct to indicate how to pass from RawWrapper&lt;String&gt; to String, RawWrapper&lt;Integer&gt; to Integer, etc., and that&#39;s all!","title":"Parse JSON in Java with intermediate element ({&quot;realKey&quot;: {&quot;badKey&quot;: &quot;goodValue&quot;}}))","body":"<p>For anyone who have the same doubt, I finally created a class like this one:</p>\n<pre><code>public class Wrapper&lt;T&gt; {\n    T value;\n    // getters/setters\n}\n</code></pre>\n<p>And then I created my class like this one:</p>\n<pre><code>public class MyClass {\n    RawWrapper&lt;String&gt; aStringField;\n    RawWrapper&lt;Integer&gt; aIntegerField;\n    ...\n}\n</code></pre>\n<p>With that, JSON is parsed correctly. If then you want to transform it to another class with the same fields but without RawWrappers, in my case I have used Mapstruct to indicate how to pass from RawWrapper to String, RawWrapper to Integer, etc., and that's all!</p>\n"}],"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696154636,"creation_date":1680778851,"question_id":75948745,"body_markdown":"I have a problem parsing a JSON to a Java class. I have read about Elasticsearch Search App APIs, and I have found responses are like this one:\r\n\r\n\r\n```\r\n{\r\n  &quot;name&quot;: {&quot;raw&quot;: &quot;Hello world&quot;},\r\n  &quot;number&quot;: {&quot;raw&quot;: 7.5}\r\n}\r\n```\r\n\r\nThat is, every field is an object with a key called `raw` and the real value I want. I would like to have a Java class like this one:\r\n\r\n\r\n```\r\npublic class MyClass {\r\n  private String name;\r\n  private Double number;\r\n}\r\n```\r\n\r\nI haven&#39;t seen in Jackson or any other mapping library something in order to map this JSON easily.\r\n\r\n\r\n\r\nI would expect something like that if we use Jackson (is not a requisite, we could use any other parsing library):\r\n\r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nMyClass jsonParsed = objectMapper.readValue(json, MyClass.class);\r\n```\r\n","title":"Parse JSON in Java with intermediate element ({&quot;realKey&quot;: {&quot;badKey&quot;: &quot;goodValue&quot;}}))","body":"<p>I have a problem parsing a JSON to a Java class. I have read about Elasticsearch Search App APIs, and I have found responses are like this one:</p>\n<pre><code>{\n  &quot;name&quot;: {&quot;raw&quot;: &quot;Hello world&quot;},\n  &quot;number&quot;: {&quot;raw&quot;: 7.5}\n}\n</code></pre>\n<p>That is, every field is an object with a key called <code>raw</code> and the real value I want. I would like to have a Java class like this one:</p>\n<pre><code>public class MyClass {\n  private String name;\n  private Double number;\n}\n</code></pre>\n<p>I haven't seen in Jackson or any other mapping library something in order to map this JSON easily.</p>\n<p>I would expect something like that if we use Jackson (is not a requisite, we could use any other parsing library):</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nMyClass jsonParsed = objectMapper.readValue(json, MyClass.class);\n</code></pre>\n"},{"tags":["java","methods","encapsulation"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1696151216,"post_id":77209841,"comment_id":136114646,"body_markdown":"Nothing will stop you from casting to `User`, so no, this does not provide &quot;protection&quot;, it will just be speedbump. That is also not the purpose of interfaces.","body":"Nothing will stop you from casting to <code>User</code>, so no, this does not provide &quot;protection&quot;, it will just be speedbump. That is also not the purpose of interfaces."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1696153056,"post_id":77209841,"comment_id":136114798,"body_markdown":"Anything &quot;public&quot; is accessible from anywhere! Moreover an interface is always public and is a &quot;tool&quot; for classes to group methods for purpose, it is not an access modifier or preventer Class definition access modifiers and method access modifiers public protected private and default are the main key to creating unobtainable classes and methods. If you want to prevent an interface from accessing a method , use the &quot;final&quot; keyword on the method signature. E.g. public final int getInt(){","body":"Anything &quot;public&quot; is accessible from anywhere! Moreover an interface is always public and is a &quot;tool&quot; for classes to group methods for purpose, it is not an access modifier or preventer Class definition access modifiers and method access modifiers public protected private and default are the main key to creating unobtainable classes and methods. If you want to prevent an interface from accessing a method , use the &quot;final&quot; keyword on the method signature. E.g. public final int getInt(){"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696157214,"post_id":77209841,"comment_id":136115146,"body_markdown":"@SamuelMarchant An interface is not always public, the methods defined in an interface are public, but the interface itself doesn&#39;t need to be. Also defining a method as final doesn&#39;t prevent access to a method, it just prevents overriding of the method.","body":"@SamuelMarchant An interface is not always public, the methods defined in an interface are public, but the interface itself doesn&#39;t need to be. Also defining a method as final doesn&#39;t prevent access to a method, it just prevents overriding of the method."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1696216660,"post_id":77209841,"comment_id":136120586,"body_markdown":"@Mark Rotteveel There isn&#39;t enough space in one comment for the last piece of it you have described! thx.","body":"@Mark Rotteveel There isn&#39;t enough space in one comment for the last piece of it you have described! thx."}],"answers":[{"comments":[{"owner":{"account_id":20597029,"reputation":11,"user_id":22665139,"display_name":"Dervieux Beno&#238;t"},"score":0,"creation_date":1696436704,"post_id":77209890,"comment_id":136153676,"body_markdown":"Thanks a lot for your answer, I&#39;ll try to see how I can implement it.","body":"Thanks a lot for your answer, I&#39;ll try to see how I can implement it."}],"tags":[],"owner":{"account_id":3588984,"reputation":115,"user_id":2995460,"display_name":"anteastra"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696152165,"creation_date":1696152165,"answer_id":77209890,"question_id":77209841,"body_markdown":"SOLID principles are the key answer for your concernes.\r\nIn a way you want to separate logic of managing the state and managing operations you should create much more classes.\r\n\r\nHere is possible solution:\r\nYour class User is pojo now. Making **User** class **immutable** will make impossible to change objects of this class.\r\n\r\nTo perform changes on object you would need to create a new object with new internal state. Usually it would be done with some other class as a facade which will perform required operations and return new object.\r\n\r\nEffectively you would need some class **UserOperationManager**\r\nwhich will handle all required access to object\r\n\r\nThis approach will cover single responsibility and interface segregation principle","title":"Is creating an interface to a class a way to prevent to access the setters of this same class?","body":"<p>SOLID principles are the key answer for your concernes.\nIn a way you want to separate logic of managing the state and managing operations you should create much more classes.</p>\n<p>Here is possible solution:\nYour class User is pojo now. Making <strong>User</strong> class <strong>immutable</strong> will make impossible to change objects of this class.</p>\n<p>To perform changes on object you would need to create a new object with new internal state. Usually it would be done with some other class as a facade which will perform required operations and return new object.</p>\n<p>Effectively you would need some class <strong>UserOperationManager</strong>\nwhich will handle all required access to object</p>\n<p>This approach will cover single responsibility and interface segregation principle</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696154267,"creation_date":1696152820,"answer_id":77209924,"question_id":77209841,"body_markdown":"The [Answer by anteastra][1], and the [Comment by Mark Rotteveel][2], are both correct. \r\n\r\n## Produce an immutable object, with a copy of current state\r\n\r\nIf your app has some places where `User` should be mutable, and other places where `User` should be immutable, then make another class for the immutable situation. \r\n\r\nIf the main purpose of this other class is to transparently communicate immutable data, use a [record][3]. \r\n\r\n```java\r\npublic record UserImmutable ( String name ) implements UserOperations \r\n{\r\n    public String getName() {\r\n        return this.name ;\r\n    }\r\n}\r\n```\r\n\r\nAdd a `toUserImmutable()` method to your mutable class. This method produces an instance of our record with data based on the current state of our mutable object.\r\n\r\n```java\r\npublic class User implements UserOperations {\r\n\r\n    private String name;\r\n\r\n    public User(String name) {\r\n        this.name = name ;\r\n    }\r\n \r\n    public String getName() {\r\n        return name ;\r\n    }\r\n \r\n    public void setName(String name) {\r\n        this.name ;\r\n    }\r\n\r\n    public UserImmutable toUserImmutable() {\r\n        return new UserImmutable( this.name ) ;\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n    UserImmutable userImmutable = user.toUserImmutable() ;  // Capture an immutable copy of the mutable object’s state. \r\n\r\nOr, use the more general interface. \r\n\r\n    UserOperations userImmutable = user.toUserImmutable() ;  // Capture an immutable copy of the mutable object’s state. \r\n\r\n\r\nOf course your immutable copy is just that, a copy. If the original mutable object changes its state, the immutable copy does *not* change. Whether that is a good thing or a bad thing depends on the specifics of your app’s situation.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77209890/642706\r\n  [2]: https://stackoverflow.com/questions/77209841/is-creating-an-interface-to-a-class-a-way-to-prevent-to-access-the-setters-of-th#comment136114646_77209841\r\n  [3]: https://openjdk.org/jeps/395","title":"Is creating an interface to a class a way to prevent to access the setters of this same class?","body":"<p>The <a href=\"https://stackoverflow.com/a/77209890/642706\">Answer by anteastra</a>, and the <a href=\"https://stackoverflow.com/questions/77209841/is-creating-an-interface-to-a-class-a-way-to-prevent-to-access-the-setters-of-th#comment136114646_77209841\">Comment by Mark Rotteveel</a>, are both correct.</p>\n<h2>Produce an immutable object, with a copy of current state</h2>\n<p>If your app has some places where <code>User</code> should be mutable, and other places where <code>User</code> should be immutable, then make another class for the immutable situation.</p>\n<p>If the main purpose of this other class is to transparently communicate immutable data, use a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record UserImmutable ( String name ) implements UserOperations \n{\n    public String getName() {\n        return this.name ;\n    }\n}\n</code></pre>\n<p>Add a <code>toUserImmutable()</code> method to your mutable class. This method produces an instance of our record with data based on the current state of our mutable object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User implements UserOperations {\n\n    private String name;\n\n    public User(String name) {\n        this.name = name ;\n    }\n \n    public String getName() {\n        return name ;\n    }\n \n    public void setName(String name) {\n        this.name ;\n    }\n\n    public UserImmutable toUserImmutable() {\n        return new UserImmutable( this.name ) ;\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>UserImmutable userImmutable = user.toUserImmutable() ;  // Capture an immutable copy of the mutable object’s state. \n</code></pre>\n<p>Or, use the more general interface.</p>\n<pre><code>UserOperations userImmutable = user.toUserImmutable() ;  // Capture an immutable copy of the mutable object’s state. \n</code></pre>\n<p>Of course your immutable copy is just that, a copy. If the original mutable object changes its state, the immutable copy does <em>not</em> change. Whether that is a good thing or a bad thing depends on the specifics of your app’s situation.</p>\n"},{"tags":[],"owner":{"account_id":14536865,"reputation":1,"user_id":10499972,"display_name":"Evgeny Smagin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696154205,"creation_date":1696154205,"answer_id":77209978,"question_id":77209841,"body_markdown":"As already said above it is better to use immutable state (mark the fields final) and exclude setter, if still for some reason you need to leave setter, then you can make it private and use it in those methods that are declared in the public interface","title":"Is creating an interface to a class a way to prevent to access the setters of this same class?","body":"<p>As already said above it is better to use immutable state (mark the fields final) and exclude setter, if still for some reason you need to leave setter, then you can make it private and use it in those methods that are declared in the public interface</p>\n"}],"owner":{"account_id":20597029,"reputation":11,"user_id":22665139,"display_name":"Dervieux Beno&#238;t"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696154267,"creation_date":1696150962,"question_id":77209841,"body_markdown":"Let&#39;s say I have the class `User` with the attributes `name`, `email` etc.. In my code, I still want to be able to update that information, but I don&#39;t want anyone being able to reach the setters methods directly.\r\n\r\n```\r\npublic class User implements UserOperations {\r\n\r\n    private String name;\r\n\r\n    public User(String name) {\r\n        this.name = name\r\n    }\r\n \r\n    public String getName() {\r\n        return name \r\n    }\r\n \r\n    public void setName(String name) {\r\n        this.name;\r\n    }\r\n}\r\n```\r\n```\r\npublic interface UserOperations {\r\n\r\n     String getName();\r\n}\r\n```\r\n\r\nIs creating an interface with only the getters methods a good idea or should I change the access-capabilities of the User&#39;s method from `public` to `private` or `protected`? \r\n\r\nI tried to implement the interface, but I feel as if it&#39;s not the best solution there is.","title":"Is creating an interface to a class a way to prevent to access the setters of this same class?","body":"<p>Let's say I have the class <code>User</code> with the attributes <code>name</code>, <code>email</code> etc.. In my code, I still want to be able to update that information, but I don't want anyone being able to reach the setters methods directly.</p>\n<pre><code>public class User implements UserOperations {\n\n    private String name;\n\n    public User(String name) {\n        this.name = name\n    }\n \n    public String getName() {\n        return name \n    }\n \n    public void setName(String name) {\n        this.name;\n    }\n}\n</code></pre>\n<pre><code>public interface UserOperations {\n\n     String getName();\n}\n</code></pre>\n<p>Is creating an interface with only the getters methods a good idea or should I change the access-capabilities of the User's method from <code>public</code> to <code>private</code> or <code>protected</code>?</p>\n<p>I tried to implement the interface, but I feel as if it's not the best solution there is.</p>\n"},{"tags":["java","android","mediapipe"],"owner":{"account_id":8203692,"reputation":606,"user_id":9551463,"display_name":"General Omosco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696153175,"creation_date":1696153175,"question_id":77209933,"body_markdown":"What I&#39;m trying to achieved is to get the mediapipe frame output and modify it like adding overlay and other stuffs then send it back to mediapipe, but unfortunately I&#39;m getting white blank in the bitmap image.\r\n\r\nI tried to see check [here (FrameProcessor.java)](https://github.com/google/mediapipe/blob/master/mediapipe/java/com/google/mediapipe/components/FrameProcessor.java) if they are some way they converted the gpu frame to bitmap but there&#39;s none!\r\n\r\n```\r\n\r\nclass MyTextureConsumer implements TextureFrameConsumer {\r\n    private final FrameProcessor processor;\r\n    private final Context context;\r\n    private int aa=0;\r\n\r\n    MyTextureConsumer(Context context, FrameProcessor processor) {\r\n        this.context = context;\r\n        this.processor = processor;\r\n    }\r\n    @Override\r\n    public void onNewFrame(TextureFrame frame) {\r\n        // Get GPU texture id\r\n        int textureId = frame.getTextureName();\r\n\r\n        int[] frameBuffer = new int[1];\r\n        GLES20.glGenFramebuffers(1, frameBuffer, 0);\r\n        GLES20.glBindFramebuffer(GLES20.GL_FRAMEBUFFER, frameBuffer[0]);\r\n\r\n        GLES20.glFramebufferTexture2D(\r\n                GLES20.GL_FRAMEBUFFER, GLES20.GL_COLOR_ATTACHMENT0, GLES20.GL_TEXTURE_2D, textureId, 0);\r\n\r\n        // Bind the FBO and read the texture into a ByteBuffer\r\n        GLES20.glBindFramebuffer(GLES20.GL_FRAMEBUFFER, frameBuffer[0]);\r\n\r\n        ByteBuffer buffer = ByteBuffer.allocateDirect(frame.getWidth() * frame.getHeight() * 4); // RGBA format\r\n        buffer.order(ByteOrder.nativeOrder());\r\n\r\n        GLES20.glReadPixels(0, 0, frame.getWidth(), frame.getHeight(), GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, buffer);\r\n\r\n        // Create a Bitmap from the ByteBuffer\r\n        Bitmap bitmap = Bitmap.createBitmap(frame.getWidth(), frame.getHeight(), Bitmap.Config.ARGB_8888);\r\n        buffer.rewind();\r\n        bitmap.copyPixelsFromBuffer(buffer);\r\n\r\n        saveBitmapToGallery(bitmap); // I&#39;m getting blank white bitmap image\r\n        // Release OpenGL resources\r\n        GLES20.glBindFramebuffer(GLES20.GL_FRAMEBUFFER, 0);\r\n        GLES20.glDeleteFramebuffers(1, frameBuffer, 0);\r\n\r\n        // Create a Canvas for drawing on the bitmap\r\n        Canvas canvas = new Canvas(bitmap);\r\n\r\n        // Define circle properties (position and radius)\r\n        int centerX = frame.getWidth() / 2;\r\n        int centerY = frame.getHeight() / 2;\r\n        int radius = Math.min(frame.getWidth(), frame.getHeight()) / 4; // Adjust the radius as needed\r\n\r\n        // Create a Paint object for drawing the circle\r\n        Paint paint = new Paint();\r\n        paint.setColor(Color.RED); // Circle color\r\n        paint.setStyle(Paint.Style.FILL);\r\n\r\n        // Draw a filled circle on the bitmap\r\n        canvas.drawCircle(centerX, centerY, radius, paint);\r\n\r\n        // Convert the modified bitmap back to a ByteBuffer\r\n        ByteBuffer editedByteBuffer = ByteBuffer.allocateDirect(frame.getWidth() * frame.getHeight() * 4); // ARGB_8888 format\r\n        bitmap.copyPixelsToBuffer(editedByteBuffer);\r\n        Bitmap editedBitmap = Bitmap.createBitmap(frame.getWidth(), frame.getHeight(), Bitmap.Config.ARGB_8888);\r\n        editedByteBuffer.rewind();\r\n        editedBitmap.copyPixelsFromBuffer(editedByteBuffer);\r\n\r\n\r\n\r\n        Packet imagePacket = processor.getPacketCreator().createRgbImageFrame(editedBitmap);\r\n\r\n        try {\r\n            //processor.getGraph().addConsumablePacketToInputStream(&quot;input_video&quot;, imagePacket, frame.getTimestamp());\r\n        } catch (MediaPipeException var10) {\r\n            Log.e(&quot;FrameProcessor&quot;, &quot;Mediapipe error: &quot;, var10);\r\n        }\r\n        \r\n        System.out.println(&quot;========================================&quot;);\r\n        System.out.println(&quot;NEW FRAME&quot;);\r\n        System.out.println(&quot;===================s=====================&quot;);\r\n        imagePacket.release();\r\n        frame.release();\r\n    }\r\n    private void saveBitmapToGallery(Bitmap bitmap) {\r\n        aa++;\r\n        if(aa &lt; 45 || aa &gt; 50) return;\r\n        ContentValues values = new ContentValues();\r\n        values.put(MediaStore.Images.Media.DISPLAY_NAME, &quot;my_image.png&quot;);\r\n        values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/png&quot;);\r\n\r\n        Uri uri = context.getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n\r\n        try {\r\n            OutputStream fos = context.getContentResolver().openOutputStream(uri);\r\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n};\r\n```","title":"How to convert GPU TextureFrame to bitmap in android mediapipe","body":"<p>What I'm trying to achieved is to get the mediapipe frame output and modify it like adding overlay and other stuffs then send it back to mediapipe, but unfortunately I'm getting white blank in the bitmap image.</p>\n<p>I tried to see check <a href=\"https://github.com/google/mediapipe/blob/master/mediapipe/java/com/google/mediapipe/components/FrameProcessor.java\" rel=\"nofollow noreferrer\">here (FrameProcessor.java)</a> if they are some way they converted the gpu frame to bitmap but there's none!</p>\n<pre><code>\nclass MyTextureConsumer implements TextureFrameConsumer {\n    private final FrameProcessor processor;\n    private final Context context;\n    private int aa=0;\n\n    MyTextureConsumer(Context context, FrameProcessor processor) {\n        this.context = context;\n        this.processor = processor;\n    }\n    @Override\n    public void onNewFrame(TextureFrame frame) {\n        // Get GPU texture id\n        int textureId = frame.getTextureName();\n\n        int[] frameBuffer = new int[1];\n        GLES20.glGenFramebuffers(1, frameBuffer, 0);\n        GLES20.glBindFramebuffer(GLES20.GL_FRAMEBUFFER, frameBuffer[0]);\n\n        GLES20.glFramebufferTexture2D(\n                GLES20.GL_FRAMEBUFFER, GLES20.GL_COLOR_ATTACHMENT0, GLES20.GL_TEXTURE_2D, textureId, 0);\n\n        // Bind the FBO and read the texture into a ByteBuffer\n        GLES20.glBindFramebuffer(GLES20.GL_FRAMEBUFFER, frameBuffer[0]);\n\n        ByteBuffer buffer = ByteBuffer.allocateDirect(frame.getWidth() * frame.getHeight() * 4); // RGBA format\n        buffer.order(ByteOrder.nativeOrder());\n\n        GLES20.glReadPixels(0, 0, frame.getWidth(), frame.getHeight(), GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, buffer);\n\n        // Create a Bitmap from the ByteBuffer\n        Bitmap bitmap = Bitmap.createBitmap(frame.getWidth(), frame.getHeight(), Bitmap.Config.ARGB_8888);\n        buffer.rewind();\n        bitmap.copyPixelsFromBuffer(buffer);\n\n        saveBitmapToGallery(bitmap); // I'm getting blank white bitmap image\n        // Release OpenGL resources\n        GLES20.glBindFramebuffer(GLES20.GL_FRAMEBUFFER, 0);\n        GLES20.glDeleteFramebuffers(1, frameBuffer, 0);\n\n        // Create a Canvas for drawing on the bitmap\n        Canvas canvas = new Canvas(bitmap);\n\n        // Define circle properties (position and radius)\n        int centerX = frame.getWidth() / 2;\n        int centerY = frame.getHeight() / 2;\n        int radius = Math.min(frame.getWidth(), frame.getHeight()) / 4; // Adjust the radius as needed\n\n        // Create a Paint object for drawing the circle\n        Paint paint = new Paint();\n        paint.setColor(Color.RED); // Circle color\n        paint.setStyle(Paint.Style.FILL);\n\n        // Draw a filled circle on the bitmap\n        canvas.drawCircle(centerX, centerY, radius, paint);\n\n        // Convert the modified bitmap back to a ByteBuffer\n        ByteBuffer editedByteBuffer = ByteBuffer.allocateDirect(frame.getWidth() * frame.getHeight() * 4); // ARGB_8888 format\n        bitmap.copyPixelsToBuffer(editedByteBuffer);\n        Bitmap editedBitmap = Bitmap.createBitmap(frame.getWidth(), frame.getHeight(), Bitmap.Config.ARGB_8888);\n        editedByteBuffer.rewind();\n        editedBitmap.copyPixelsFromBuffer(editedByteBuffer);\n\n\n\n        Packet imagePacket = processor.getPacketCreator().createRgbImageFrame(editedBitmap);\n\n        try {\n            //processor.getGraph().addConsumablePacketToInputStream(&quot;input_video&quot;, imagePacket, frame.getTimestamp());\n        } catch (MediaPipeException var10) {\n            Log.e(&quot;FrameProcessor&quot;, &quot;Mediapipe error: &quot;, var10);\n        }\n        \n        System.out.println(&quot;========================================&quot;);\n        System.out.println(&quot;NEW FRAME&quot;);\n        System.out.println(&quot;===================s=====================&quot;);\n        imagePacket.release();\n        frame.release();\n    }\n    private void saveBitmapToGallery(Bitmap bitmap) {\n        aa++;\n        if(aa &lt; 45 || aa &gt; 50) return;\n        ContentValues values = new ContentValues();\n        values.put(MediaStore.Images.Media.DISPLAY_NAME, &quot;my_image.png&quot;);\n        values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/png&quot;);\n\n        Uri uri = context.getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n\n        try {\n            OutputStream fos = context.getContentResolver().openOutputStream(uri);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n};\n</code></pre>\n"},{"tags":["java","performance","logging","log4j"],"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1282942293,"post_id":3588019,"comment_id":3764590,"body_markdown":"While information like source file and line are nice to have, if you&#39;re writing your logs correctly you shouldn&#39;t need them. Most logs should be unique, and will be using the class they&#39;re in as the Logger name. If you include the logger name in your logs, you should easily be able to determine the log you&#39;re looking for in the corresponding file.","body":"While information like source file and line are nice to have, if you&#39;re writing your logs correctly you shouldn&#39;t need them. Most logs should be unique, and will be using the class they&#39;re in as the Logger name. If you include the logger name in your logs, you should easily be able to determine the log you&#39;re looking for in the corresponding file."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1282942493,"post_id":3588019,"comment_id":3764623,"body_markdown":"@Rob, having source and line available allows you to jump directly to the location - perhaps even automatically - instead of having to look for it manually.","body":"@Rob, having source and line available allows you to jump directly to the location - perhaps even automatically - instead of having to look for it manually."},{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1282942600,"post_id":3588019,"comment_id":3764651,"body_markdown":"@Thorbj&#248;rn - A lot of the applications I work with have source/line numbers enabled, and I agree that it&#39;s convenient. But if performance is a concern, one could still debug successfully without it.","body":"@Thorbj&#248;rn - A lot of the applications I work with have source/line numbers enabled, and I agree that it&#39;s convenient. But if performance is a concern, one could still debug successfully without it."},{"owner":{"account_id":150370,"reputation":549,"user_id":363517,"accept_rate":75,"display_name":"Renan Mozone"},"score":0,"creation_date":1282943084,"post_id":3588019,"comment_id":3764717,"body_markdown":"My intention is to use the location information as a unique identifier for the log message, and later compute statistics using these unique identifiers, not for assist in debugging tasks. But I agree that having location information in the log file is handy.","body":"My intention is to use the location information as a unique identifier for the log message, and later compute statistics using these unique identifiers, not for assist in debugging tasks. But I agree that having location information in the log file is handy."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1282943460,"post_id":3588019,"comment_id":3764764,"body_markdown":"@Rob, if performance is that much a concern you don&#39;t log at all.  In any case, Java 6 allows that information to be picked out MUCH cheaper than before.  I don&#39;t know if Log4j has been updated to use that yet.","body":"@Rob, if performance is that much a concern you don&#39;t log at all.  In any case, Java 6 allows that information to be picked out MUCH cheaper than before.  I don&#39;t know if Log4j has been updated to use that yet."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1282943717,"post_id":3588019,"comment_id":3764785,"body_markdown":"stack trace is still expensive. throwing and catching exceptions are dirty cheap, except the part of filling stack trace.","body":"stack trace is still expensive. throwing and catching exceptions are dirty cheap, except the part of filling stack trace."},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":0,"creation_date":1282944149,"post_id":3588019,"comment_id":3764831,"body_markdown":"What is the end purpose for doing this?","body":"What is the end purpose for doing this?"},{"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"score":0,"creation_date":1283003412,"post_id":3588019,"comment_id":3768123,"body_markdown":"What I&#39;m getting at is, are you doing this in order to find &quot;hotspots&quot; or &quot;bottlenecks&quot;, or for some other purpose? The question is tagged &quot;performance&quot;.","body":"What I&#39;m getting at is, are you doing this in order to find &quot;hotspots&quot; or &quot;bottlenecks&quot;, or for some other purpose? The question is tagged &quot;performance&quot;."},{"owner":{"account_id":150370,"reputation":549,"user_id":363517,"accept_rate":75,"display_name":"Renan Mozone"},"score":0,"creation_date":1283183410,"post_id":3588019,"comment_id":3781422,"body_markdown":"@Mike, the idea is to use log messages to compute general statistics like errors, warnings and even program functionality utilization, not for tuning purposes. Besides that, in distributed environments this technique could help detect servers that are behaving differently than others.","body":"@Mike, the idea is to use log messages to compute general statistics like errors, warnings and even program functionality utilization, not for tuning purposes. Besides that, in distributed environments this technique could help detect servers that are behaving differently than others."}],"answers":[{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282943462,"creation_date":1282943462,"answer_id":3588143,"question_id":3588019,"body_markdown":"I agree with Rob that it is generally unnecessary. Usually there&#39;s some distinct string in a log message, searching for it will get to the source. With a good IDE this is really fast.\r\n\r\nNow, given the question as is, this is a possible solution:\r\n\r\n    Class Foo\r\n        void bar()\r\n            new Logger(){} . warn(&quot;blah&quot;);\r\n\r\nfor each log action at runtime, a new object is created - that&#39;s not a problem.\r\n\r\nfor each line of source containing such log statement, a new class is created. that can be too many.\r\n\r\nhere&#39;s how the magic works:\r\n\r\n    abstract public class Logger\r\n        static Map&lt;Class, String&gt; sourceInfo = new ...\r\n        public Logger()\r\n            Class thisClass = this.getClass();\r\n            String info = sourceInfo.get(thisClass);\r\n            if(info==null)\r\n                 info = ... // init from stack trace\r\n                 sourceInfo.put(thisClass,info)\r\n            this.info = info\r\n\r\n         public void warn(msg)\r\n            log(WARN, this.info,msg)","title":"How to write caller location information in a log file using Java, without hurting performance?","body":"<p>I agree with Rob that it is generally unnecessary. Usually there's some distinct string in a log message, searching for it will get to the source. With a good IDE this is really fast.</p>\n\n<p>Now, given the question as is, this is a possible solution:</p>\n\n<pre><code>Class Foo\n    void bar()\n        new Logger(){} . warn(\"blah\");\n</code></pre>\n\n<p>for each log action at runtime, a new object is created - that's not a problem.</p>\n\n<p>for each line of source containing such log statement, a new class is created. that can be too many.</p>\n\n<p>here's how the magic works:</p>\n\n<pre><code>abstract public class Logger\n    static Map&lt;Class, String&gt; sourceInfo = new ...\n    public Logger()\n        Class thisClass = this.getClass();\n        String info = sourceInfo.get(thisClass);\n        if(info==null)\n             info = ... // init from stack trace\n             sourceInfo.put(thisClass,info)\n        this.info = info\n\n     public void warn(msg)\n        log(WARN, this.info,msg)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":150370,"reputation":549,"user_id":363517,"accept_rate":75,"display_name":"Renan Mozone"},"score":0,"creation_date":1283263331,"post_id":3588197,"comment_id":3790253,"body_markdown":"Although I have not tested this approach, it seems a suitable solution for use in a production enviroment.","body":"Although I have not tested this approach, it seems a suitable solution for use in a production enviroment."}],"tags":[],"owner":{"account_id":160483,"reputation":10670,"user_id":380587,"accept_rate":89,"display_name":"Adam Schmideg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1282943900,"creation_date":1282943900,"answer_id":3588197,"question_id":3588019,"body_markdown":"How about making it part of the build process to replace certain placeholders, like `$filename$` and `$linenumber$` in this snippet.\r\n\r\n    logger.info(&quot;The original message... $filename$ $linenumber$&quot;);\r\n\r\nTo replace the filename, it may suffice to have keyword substitution with your revision control system.  Disclaimer: this is just from the top of my head, I never tried it myself.","title":"How to write caller location information in a log file using Java, without hurting performance?","body":"<p>How about making it part of the build process to replace certain placeholders, like <code>$filename$</code> and <code>$linenumber$</code> in this snippet.</p>\n\n<pre><code>logger.info(\"The original message... $filename$ $linenumber$\");\n</code></pre>\n\n<p>To replace the filename, it may suffice to have keyword substitution with your revision control system.  Disclaimer: this is just from the top of my head, I never tried it myself.</p>\n"},{"tags":[],"owner":{"account_id":13512904,"reputation":98,"user_id":9748566,"display_name":"PhilKes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696062364,"creation_date":1696062364,"answer_id":77206223,"question_id":3588019,"body_markdown":"For anyone looking for a more current solution if you use log4j/logback with slf4j, I wrote a **maven-plugin** addressing this issue, while not generating any performance issues either:\r\nhttps://github.com/PhilKes/slf4j-caller-info-maven-plugin\r\n\r\nThis plugin **injects the class name, optionally also the method name and source code line number into all SLF4J log statements at compile time** (see [configuration](https://github.com/PhilKes/slf4j-caller-info-maven-plugin#configuration)).\r\nAll you need to do is to add the `callerInformation` MDC parameter to your log-pattern and add the plugin in your `pom.xml`:\r\n```xml\r\n&lt;plugin&gt;\r\n &lt;groupId&gt;io.github.philkes&lt;/groupId&gt;\r\n &lt;artifactId&gt;slf4j-caller-info-maven-plugin&lt;/artifactId&gt;\r\n &lt;version&gt;1.1.0&lt;/version&gt;\r\n &lt;executions&gt;\r\n   &lt;execution&gt;\r\n     &lt;goals&gt;\r\n        &lt;goal&gt;inject&lt;/goal&gt;\r\n     &lt;/goals&gt;\r\n   &lt;/execution&gt;\r\n &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How to write caller location information in a log file using Java, without hurting performance?","body":"<p>For anyone looking for a more current solution if you use log4j/logback with slf4j, I wrote a <strong>maven-plugin</strong> addressing this issue, while not generating any performance issues either:\n<a href=\"https://github.com/PhilKes/slf4j-caller-info-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/PhilKes/slf4j-caller-info-maven-plugin</a></p>\n<p>This plugin <strong>injects the class name, optionally also the method name and source code line number into all SLF4J log statements at compile time</strong> (see <a href=\"https://github.com/PhilKes/slf4j-caller-info-maven-plugin#configuration\" rel=\"nofollow noreferrer\">configuration</a>).\nAll you need to do is to add the <code>callerInformation</code> MDC parameter to your log-pattern and add the plugin in your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n &lt;groupId&gt;io.github.philkes&lt;/groupId&gt;\n &lt;artifactId&gt;slf4j-caller-info-maven-plugin&lt;/artifactId&gt;\n &lt;version&gt;1.1.0&lt;/version&gt;\n &lt;executions&gt;\n   &lt;execution&gt;\n     &lt;goals&gt;\n        &lt;goal&gt;inject&lt;/goal&gt;\n     &lt;/goals&gt;\n   &lt;/execution&gt;\n &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":0,"creation_date":1696274533,"post_id":77209932,"comment_id":136129597,"body_markdown":"Piotr didn&#39;t mention it, but he has also added support to transform other APIS, such as SLF4J, to the transformer but hasn&#39;t released it yet. Since an application cannot control all the libraries it uses we are also planning on creating an agent that does something similar to instrument those at runtime.","body":"Piotr didn&#39;t mention it, but he has also added support to transform other APIS, such as SLF4J, to the transformer but hasn&#39;t released it yet. Since an application cannot control all the libraries it uses we are also planning on creating an agent that does something similar to instrument those at runtime."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696153123,"creation_date":1696153123,"answer_id":77209932,"question_id":3588019,"body_markdown":"If you are looking for a Log4j API counterpart to [Phil&#39;s SLF4J plugin](https://stackoverflow.com/a/77206223/11748454), since Log4j API 2.10 there is a [`LogBuilder#withLocation`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogBuilder.html#withLocation-java.lang.StackTraceElement-) method that allows tools to inject location information into byte-code.\r\n\r\nRecently we published [`log4j-maven-transform-plugin`](https://github.com/apache/logging-log4j-transform/tree/main/log4j-transform-maven-plugin) that postprocesses class file and replaces classical logging calls like:\r\n```lang-java\r\npublic void helloLog() {\r\n    logger.info(MarkerManager.getMarker(&quot;NET&quot;), &quot;Sending {} bytes of data.&quot;, 1000);\r\n}\r\n```\r\ninto a `LogBuilder` call with injected location:\r\n```lang-java\r\nprivate static final StackTraceElement[] locations = {\r\n        new StackTraceElement(&quot;org.apache.logging.log4j.HelloWorld&quot;, &quot;HelloWorld.java&quot;, &quot;helloLog&quot;, 1234)\r\n};\r\n\r\npublic void helloLog() {\r\n    logger.atInfo()\r\n          .withLocation(locations[0])\r\n          .withMarker(MarkerManager.getMarker(&quot;NET&quot;))\r\n          .log(&quot;Sending {} bytes of data.&quot;, 1000);\r\n}\r\n```\r\n\r\nIt is pretty straightforward to use, you just need to add:\r\n```lang-xml\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-transform-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;process-classes&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\nto your Maven plugins.","title":"How to write caller location information in a log file using Java, without hurting performance?","body":"<p>If you are looking for a Log4j API counterpart to <a href=\"https://stackoverflow.com/a/77206223/11748454\">Phil's SLF4J plugin</a>, since Log4j API 2.10 there is a <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/LogBuilder.html#withLocation-java.lang.StackTraceElement-\" rel=\"nofollow noreferrer\"><code>LogBuilder#withLocation</code></a> method that allows tools to inject location information into byte-code.</p>\n<p>Recently we published <a href=\"https://github.com/apache/logging-log4j-transform/tree/main/log4j-transform-maven-plugin\" rel=\"nofollow noreferrer\"><code>log4j-maven-transform-plugin</code></a> that postprocesses class file and replaces classical logging calls like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void helloLog() {\n    logger.info(MarkerManager.getMarker(&quot;NET&quot;), &quot;Sending {} bytes of data.&quot;, 1000);\n}\n</code></pre>\n<p>into a <code>LogBuilder</code> call with injected location:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final StackTraceElement[] locations = {\n        new StackTraceElement(&quot;org.apache.logging.log4j.HelloWorld&quot;, &quot;HelloWorld.java&quot;, &quot;helloLog&quot;, 1234)\n};\n\npublic void helloLog() {\n    logger.atInfo()\n          .withLocation(locations[0])\n          .withMarker(MarkerManager.getMarker(&quot;NET&quot;))\n          .log(&quot;Sending {} bytes of data.&quot;, 1000);\n}\n</code></pre>\n<p>It is pretty straightforward to use, you just need to add:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-transform-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;process-classes&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>to your Maven plugins.</p>\n"}],"owner":{"account_id":150370,"reputation":549,"user_id":363517,"accept_rate":75,"display_name":"Renan Mozone"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3588197,"answer_count":4,"score":4,"last_activity_date":1696153123,"creation_date":1282942129,"question_id":3588019,"body_markdown":"How can I write caller location information (Java source file and line), in a log file using Java and log4j, but without hurting performance?\r\nlog4j allow you to write such information in the log file, but it uses the stack trace to get that it information, every time a log statement is issued, what causes performance degradation.\r\nI&#39;m looking for a performance friendly alternative, like getting the location information at compile time instead at runtime. It is possible to use annotations to accomplish that? Or maybe some other technique?","title":"How to write caller location information in a log file using Java, without hurting performance?","body":"<p>How can I write caller location information (Java source file and line), in a log file using Java and log4j, but without hurting performance?\nlog4j allow you to write such information in the log file, but it uses the stack trace to get that it information, every time a log statement is issued, what causes performance degradation.\nI'm looking for a performance friendly alternative, like getting the location information at compile time instead at runtime. It is possible to use annotations to accomplish that? Or maybe some other technique?</p>\n"},{"tags":["java","servlets","jakarta-ee","load-balancing"],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1529054913,"creation_date":1529054913,"answer_id":50872730,"question_id":50872354,"body_markdown":"Typically the load balancer will make a HTTP request to your servlet. If it answers 200 OK  (or includes something in the payload that the load balancer looks for) then the application is healthy; if not the load balancer stops routing traffic to it until it becomes healthy again. In other words it is very feasible and you don&#39;t need to do anything special at all. Just answer a normal request and configure the load balancer to make the right call.\r\n\r\nI would poll every x seconds rather than minutes, but that depends on the application. Perhaps your users can tolerate a minute&#39;s downtime.","title":"Signal problems to load balancer","body":"<p>Typically the load balancer will make a HTTP request to your servlet. If it answers 200 OK  (or includes something in the payload that the load balancer looks for) then the application is healthy; if not the load balancer stops routing traffic to it until it becomes healthy again. In other words it is very feasible and you don't need to do anything special at all. Just answer a normal request and configure the load balancer to make the right call.</p>\n\n<p>I would poll every x seconds rather than minutes, but that depends on the application. Perhaps your users can tolerate a minute's downtime.</p>\n"}],"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50872730,"answer_count":1,"score":1,"last_activity_date":1696152138,"creation_date":1529053640,"question_id":50872354,"body_markdown":"\r\nI want to implement a simple servlet that makes every n minutes some validation on a web application. The purpose of this validations is to return a http status code to a load balancer. The load balancer can now if certain node can be used or not.\r\n\r\nIs my solution (using a servlet) feasible? What do you propose and moreover how can a heartbeat can be embedded into a Java servlet?\r\n\r\nI&#39;m using Java EE technologies.\r\n","title":"Signal problems to load balancer","body":"<p>I want to implement a simple servlet that makes every n minutes some validation on a web application. The purpose of this validations is to return a http status code to a load balancer. The load balancer can now if certain node can be used or not.</p>\n<p>Is my solution (using a servlet) feasible? What do you propose and moreover how can a heartbeat can be embedded into a Java servlet?</p>\n<p>I'm using Java EE technologies.</p>\n"},{"tags":["java","spring","authentication","spring-security","annotations"],"answers":[{"comments":[{"owner":{"account_id":29449089,"reputation":3,"user_id":22565852,"display_name":"Anthony26"},"score":0,"creation_date":1696233741,"post_id":77209770,"comment_id":136122183,"body_markdown":"I am using Spring Security and logging in users with JWT tokens.\nI want to prevent some users from accessing paths they&#39;re not allowed to.\nFor example, if a user with id 17 accesses .../data?userId=33, he shouldn&#39;t be allowed to do so. In this case, I have to compare the userId from the JWT with the userId in the request and see if there is a match.","body":"I am using Spring Security and logging in users with JWT tokens. I want to prevent some users from accessing paths they&#39;re not allowed to. For example, if a user with id 17 accesses .../data?userId=33, he shouldn&#39;t be allowed to do so. In this case, I have to compare the userId from the JWT with the userId in the request and see if there is a match."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1696234983,"post_id":77209770,"comment_id":136122354,"body_markdown":"okay, then configure the spring security properly such that the `Authentication` contains your use object correctly , and then just use the `@AuthenticationPrincipal` in the controller method. no need to implement your own HandlerMethodArgumentResolver","body":"okay, then configure the spring security properly such that the <code>Authentication</code> contains your use object correctly , and then just use the <code>@AuthenticationPrincipal</code> in the controller method. no need to implement your own HandlerMethodArgumentResolver"},{"owner":{"account_id":29449089,"reputation":3,"user_id":22565852,"display_name":"Anthony26"},"score":0,"creation_date":1696236638,"post_id":77209770,"comment_id":136122623,"body_markdown":"That is correct. When I am verifying my JWT, if it is valid, I set my Authentication object in my SecurityContextHolder with the information provided in the JWT (the user, in this case). Finally, I just have to compare the user in the Authentication (set with filter) with the userId of the request. Thank you.","body":"That is correct. When I am verifying my JWT, if it is valid, I set my Authentication object in my SecurityContextHolder with the information provided in the JWT (the user, in this case). Finally, I just have to compare the user in the Authentication (set with filter) with the userId of the request. Thank you."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1696240139,"post_id":77209770,"comment_id":136123270,"body_markdown":"ok. then do you find my answer is helpful to you ? if yes , would you please consider to upvote it or accept it as i spend many time to help you for free. cheers.","body":"ok. then do you find my answer is helpful to you ? if yes , would you please consider to upvote it or accept it as i spend many time to help you for free. cheers."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696151912,"creation_date":1696149341,"answer_id":77209770,"question_id":77207866,"body_markdown":"Why you need to implement `HandlerMethodArgumentResolver` to resolve `@AuthenticationPrincipal` ? Spring security already shipped with an implementation called `AuthenticationPrincipalArgumentResolver` for doing such thing and will be enable by default. \r\n\r\nAs long as you customize the `Authentication` to contain your user object and store it to the `SecurityContext` after spring security successfully authenticate an user , it should work out of the box.\r\n\r\nThe only situation you need to implement a `HandlerMethodArgumentResolver` is that you are not using spring security but want to specify an user object for the current user as an argument in the controller method. If that is the case , you don&#39;t need to annotate `@AuthenticationPrincipal` in the controller &#39;s argument as your implementation is nothing do with it.\r\n\r\n\r\n\r\n","title":"@AuthenticationPrincipal and HandlerMethodArgumentResolver interface","body":"<p>Why you need to implement <code>HandlerMethodArgumentResolver</code> to resolve <code>@AuthenticationPrincipal</code> ? Spring security already shipped with an implementation called <code>AuthenticationPrincipalArgumentResolver</code> for doing such thing and will be enable by default.</p>\n<p>As long as you customize the <code>Authentication</code> to contain your user object and store it to the <code>SecurityContext</code> after spring security successfully authenticate an user , it should work out of the box.</p>\n<p>The only situation you need to implement a <code>HandlerMethodArgumentResolver</code> is that you are not using spring security but want to specify an user object for the current user as an argument in the controller method. If that is the case , you don't need to annotate <code>@AuthenticationPrincipal</code> in the controller 's argument as your implementation is nothing do with it.</p>\n"}],"owner":{"account_id":29449089,"reputation":3,"user_id":22565852,"display_name":"Anthony26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77209770,"answer_count":1,"score":0,"last_activity_date":1696151912,"creation_date":1696092337,"question_id":77207866,"body_markdown":"I am trying to understand the usecase of @AuthenticationPrincipal.\r\n\r\nIn my controller, I have an method where I use as a parameter \r\n\r\n`@AuthenticationPrincipal User user`\r\n\r\nThe objective is to get a user from a jwt, so I have created a resolver class which is implementing HandlerMethodArgumentResolver. For the supportsParameters it is my User class, and my resolveArgument get the jwt from the webRequest, decode it and create a User object, this one is returned (And used in my controller method).\r\n\r\nI have tried to remove @AuthenticationPrincipal because I am not using the Principal in my class which implements HandlerMethodArgumentResolver, it works perfectly but according to my research it is &quot;very advised&quot; to use this annotation even if it works without.\r\n\r\nDoes someone know why and how exactly in this case it is/isn&#39;t necessary to use @AuthenticationPrincipal, it will help me to have a better comprehension about it ?\r\n\r\nThank you","title":"@AuthenticationPrincipal and HandlerMethodArgumentResolver interface","body":"<p>I am trying to understand the usecase of @AuthenticationPrincipal.</p>\n<p>In my controller, I have an method where I use as a parameter</p>\n<p><code>@AuthenticationPrincipal User user</code></p>\n<p>The objective is to get a user from a jwt, so I have created a resolver class which is implementing HandlerMethodArgumentResolver. For the supportsParameters it is my User class, and my resolveArgument get the jwt from the webRequest, decode it and create a User object, this one is returned (And used in my controller method).</p>\n<p>I have tried to remove @AuthenticationPrincipal because I am not using the Principal in my class which implements HandlerMethodArgumentResolver, it works perfectly but according to my research it is &quot;very advised&quot; to use this annotation even if it works without.</p>\n<p>Does someone know why and how exactly in this case it is/isn't necessary to use @AuthenticationPrincipal, it will help me to have a better comprehension about it ?</p>\n<p>Thank you</p>\n"},{"tags":["java","memory","compiler-errors","implicit-conversion","memory-size"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":9,"creation_date":1696145139,"post_id":77209578,"comment_id":136114176,"body_markdown":"Whether something is implicitly convertible to a type has nothing to do with memory storage.","body":"Whether something is implicitly convertible to a type has nothing to do with memory storage."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1696145316,"post_id":77209578,"comment_id":136114189,"body_markdown":"To extend on @Sweeper&#39;s comment: they both use 4 bytes, but interpret the bytes very differently. I recommend reading about  [Two&#39;s complement (`e.wikipedia.org`)](https://en.wikipedia.org/wiki/Two%27s_complement) and [IEEE 754 (`en.wikipedia.org`)](https://en.wikipedia.org/wiki/IEEE_754).","body":"To extend on @Sweeper&#39;s comment: they both use 4 bytes, but interpret the bytes very differently. I recommend reading about  <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">Two&#39;s complement (<code>e.wikipedia.org</code>)</a> and <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754 (<code>en.wikipedia.org</code>)</a>."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":4,"creation_date":1696146684,"post_id":77209578,"comment_id":136114289,"body_markdown":"Because of how floating point numbers work, float has a much larger range than int does.  Java doesn&#39;t allow implicit casts from number types with a larger range to number types with a smaller range.  **Explicit** casts are another matter entirely.","body":"Because of how floating point numbers work, float has a much larger range than int does.  Java doesn&#39;t allow implicit casts from number types with a larger range to number types with a smaller range.  <b>Explicit</b> casts are another matter entirely."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696161465,"post_id":77209578,"comment_id":136115514,"body_markdown":"Because the designers of the language have decided so. Probably because C++ (from which Java took great inspiration) has the same rule. There are a few funny points in which conversions they allow to us make implicitly and which not, though this one seems pretty fair to me for the reasons mentioned in the other comments.and in the answers.","body":"Because the designers of the language have decided so. Probably because C++ (from which Java took great inspiration) has the same rule. There are a few funny points in which conversions they allow to us make implicitly and which not, though this one seems pretty fair to me for the reasons mentioned in the other comments.and in the answers."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696151295,"creation_date":1696150193,"answer_id":77209805,"question_id":77209578,"body_markdown":"A conversion from `float` to `int` is lossy both in precision, but also in range (magnitude). \r\n\r\nOn the precision side, storing 10.5f in an `int` would make you lose the fractional value, but the range is probably even more relevant.\r\nAn `int` can store [-2147483648, 2147483647], while a `float` can store numbers roughly in the range [-3.4e38, 3.4e38]. In other words, `float` has a lot of numbers you cannot just store in an `int` without some form of overflow. \r\n\r\nSo, because you could lose precision and/or have overflow, the Java compiler doesn&#39;t allow you to assign a `float` to an `int` without explicitly signalling that you accept the consequences. And you signal that by using an explicit cast (in your example, you would need to use `int a = (int) f;`).\r\n\r\nAlthough `float` and `int` are both 4 bytes, their representation is entirely different. If you would want to know &quot;what is the equivalent `int` value for the 4 bytes of a `float`&quot;, you will need to use [`Float.floatToIntBits(float)`][1], but the integer value you&#39;ll receive will have no (seeming) correlation to the original float value (e.g. `Float.floatToIntBits(10.5f)` produces the integer `1093140480`).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Float.html#floatToIntBits(float)","title":"Why float to int is not implicitly converted in Java when both uses 4 bytes in memory?","body":"<p>A conversion from <code>float</code> to <code>int</code> is lossy both in precision, but also in range (magnitude).</p>\n<p>On the precision side, storing 10.5f in an <code>int</code> would make you lose the fractional value, but the range is probably even more relevant.\nAn <code>int</code> can store [-2147483648, 2147483647], while a <code>float</code> can store numbers roughly in the range [-3.4e38, 3.4e38]. In other words, <code>float</code> has a lot of numbers you cannot just store in an <code>int</code> without some form of overflow.</p>\n<p>So, because you could lose precision and/or have overflow, the Java compiler doesn't allow you to assign a <code>float</code> to an <code>int</code> without explicitly signalling that you accept the consequences. And you signal that by using an explicit cast (in your example, you would need to use <code>int a = (int) f;</code>).</p>\n<p>Although <code>float</code> and <code>int</code> are both 4 bytes, their representation is entirely different. If you would want to know &quot;what is the equivalent <code>int</code> value for the 4 bytes of a <code>float</code>&quot;, you will need to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Float.html#floatToIntBits(float)\" rel=\"nofollow noreferrer\"><code>Float.floatToIntBits(float)</code></a>, but the integer value you'll receive will have no (seeming) correlation to the original float value (e.g. <code>Float.floatToIntBits(10.5f)</code> produces the integer <code>1093140480</code>).</p>\n"},{"tags":[],"owner":{"account_id":29573400,"reputation":1,"user_id":22664993,"display_name":"Manuna Mady"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696150387,"creation_date":1696150387,"answer_id":77209822,"question_id":77209578,"body_markdown":"The reason why both float and int require 4 bytes of memory storage but int can be converted to float and float cannot to int is because of the way that float and int numbers are represented in memory.\r\n\r\n**Integers** are represented in memory as a sequence of bits, where each bit represents a single digit in the number. For example, the integer 10 would be represented in memory as the following sequence of bits:\r\n\r\n    00000000 00000000 00000000 00001010\r\n\r\n\r\n**Floats** are represented in memory using a different format. Floats use a special format called **IEEE 754**. IEEE 754 allows floats to represent a wider range of numbers than integers, but it also requires more memory.\r\n\r\nThe IEEE 754 format for floats is as follows:\r\n\r\n    Sign bit: 1 bit\r\nExponent: 8 bits\r\nMantissa: 23 bits\r\n\r\nThe sign bit indicates whether the number is positive or negative. The exponent controls the magnitude of the number. The mantissa represents the fractional part of the number.\r\n\r\nWhen an integer is converted to a float, the integer is simply placed in the mantissa of the float. This means that the float will lose any precision that is beyond the 23 bits of the mantissa.\r\n\r\nHowever, when a float is converted to an integer, it is not possible to recover the lost precision. This is why the compiler will not allow you to convert a float to an integer without explicitly casting it.\r\n\r\nIn the code snippet that you provided, the compiler is preventing you from converting the float `f` to the integer `a` because it would result in data loss.\r\n\r\nIf you need to convert a float to an integer, you can use the following code:\r\n\r\n    int a = (int) f;\r\n\r\n\r\nThis will cast the float `f` to an integer, and the compiler will round the number to the nearest integer.\r\n\r\nHowever, it is important to note that this can result in inaccurate results, especially if the float number is close to a boundary between two integers.","title":"Why float to int is not implicitly converted in Java when both uses 4 bytes in memory?","body":"<p>The reason why both float and int require 4 bytes of memory storage but int can be converted to float and float cannot to int is because of the way that float and int numbers are represented in memory.</p>\n<p><strong>Integers</strong> are represented in memory as a sequence of bits, where each bit represents a single digit in the number. For example, the integer 10 would be represented in memory as the following sequence of bits:</p>\n<pre><code>00000000 00000000 00000000 00001010\n</code></pre>\n<p><strong>Floats</strong> are represented in memory using a different format. Floats use a special format called <strong>IEEE 754</strong>. IEEE 754 allows floats to represent a wider range of numbers than integers, but it also requires more memory.</p>\n<p>The IEEE 754 format for floats is as follows:</p>\n<pre><code>Sign bit: 1 bit\n</code></pre>\n<p>Exponent: 8 bits\nMantissa: 23 bits</p>\n<p>The sign bit indicates whether the number is positive or negative. The exponent controls the magnitude of the number. The mantissa represents the fractional part of the number.</p>\n<p>When an integer is converted to a float, the integer is simply placed in the mantissa of the float. This means that the float will lose any precision that is beyond the 23 bits of the mantissa.</p>\n<p>However, when a float is converted to an integer, it is not possible to recover the lost precision. This is why the compiler will not allow you to convert a float to an integer without explicitly casting it.</p>\n<p>In the code snippet that you provided, the compiler is preventing you from converting the float <code>f</code> to the integer <code>a</code> because it would result in data loss.</p>\n<p>If you need to convert a float to an integer, you can use the following code:</p>\n<pre><code>int a = (int) f;\n</code></pre>\n<p>This will cast the float <code>f</code> to an integer, and the compiler will round the number to the nearest integer.</p>\n<p>However, it is important to note that this can result in inaccurate results, especially if the float number is close to a boundary between two integers.</p>\n"}],"owner":{"account_id":29572982,"reputation":1,"user_id":22664660,"display_name":"Ritika Upadhyay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696151745,"creation_date":1696145061,"question_id":77209578,"body_markdown":"Why is it so that both float and int requires 4 bytes of memory storage, but int can be converted to float and float cannot to int? Please explain in terms of memory storage, like what happens in the memory storage?\r\n\r\n```java\r\nclass A5 {\r\n\r\n    public static void main(String[] args) {\r\n     \r\n        float f = 10.5f;\r\n        int a = f;\r\n        System.out.println(a);\r\n}\r\n```\r\n\r\nit gave error like  this-&gt;\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\r\n        Type mismatch: cannot convert from float to int\r\n\r\n        Syntax error, insert &quot;}&quot; to complete ClassBody\r\n            at A5.main(A5.java:6)\r\n```","title":"Why float to int is not implicitly converted in Java when both uses 4 bytes in memory?","body":"<p>Why is it so that both float and int requires 4 bytes of memory storage, but int can be converted to float and float cannot to int? Please explain in terms of memory storage, like what happens in the memory storage?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A5 {\n\n    public static void main(String[] args) {\n     \n        float f = 10.5f;\n        int a = f;\n        System.out.println(a);\n}\n</code></pre>\n<p>it gave error like  this-&gt;</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\n        Type mismatch: cannot convert from float to int\n\n        Syntax error, insert &quot;}&quot; to complete ClassBody\n            at A5.main(A5.java:6)\n</code></pre>\n"},{"tags":["java","object","methods","abstraction"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":4,"creation_date":1696140851,"post_id":77209414,"comment_id":136113914,"body_markdown":"What us the question? Are you having any errors?","body":"What us the question? Are you having any errors?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1696143365,"post_id":77209414,"comment_id":136114056,"body_markdown":"You probably assume that someone will look at the code of the method that you posted and tell you how to fix it. I very much doubt that will happen. I suggest that you read [ask] and pay particular attention to the part about how to write a [mcve]. By the way, an interface cannot have [attributes](https://stackoverflow.com/questions/7311274/attributes-member-variables-in-interfaces).","body":"You probably assume that someone will look at the code of the method that you posted and tell you how to fix it. I very much doubt that will happen. I suggest that you read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and pay particular attention to the part about how to write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. By the way, an interface cannot have <a href=\"https://stackoverflow.com/questions/7311274/attributes-member-variables-in-interfaces\">attributes</a>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696144793,"post_id":77209414,"comment_id":136114147,"body_markdown":"It&#39;s very simple. `this.den` does not exist.","body":"It&#39;s very simple. <code>this.den</code> does not exist."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696144824,"post_id":77209414,"comment_id":136114150,"body_markdown":"@TimRoberts What difference would that make? A: none.","body":"@TimRoberts What difference would that make? A: none."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1696145283,"post_id":77209414,"comment_id":136114185,"body_markdown":"What&#39;s the definition of `RationalInterface`? As an interface, it can only have methods and static attributes. `den` is not a method (that would be `den()` ) and a static would not make sense.","body":"What&#39;s the definition of <code>RationalInterface</code>? As an interface, it can only have methods and static attributes. <code>den</code> is not a method (that would be <code>den()</code> ) and a static would not make sense."}],"answers":[{"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1696180915,"post_id":77209691,"comment_id":136117547,"body_markdown":"Why do you think this will work?  `this` and `secondRational` are of the same type.  If `den` works for one, then it would work for the other.  They were already using dot notation, which suggests to me that this answer may not have been human-generated.","body":"Why do you think this will work?  <code>this</code> and <code>secondRational</code> are of the same type.  If <code>den</code> works for one, then it would work for the other.  They were already using dot notation, which suggests to me that this answer may not have been human-generated."}],"tags":[],"owner":{"account_id":29573400,"reputation":1,"user_id":22664993,"display_name":"Manuna Mady"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696151616,"creation_date":1696147497,"answer_id":77209691,"question_id":77209414,"body_markdown":"To access the numerator and denominator attributes from the secondRational object, you need to use the dot notation. For example, to access the numerator attribute, you would use the following code:\r\n\r\nint numerator = secondRational.numerator;\r\nTo access the denominator attribute, you would use the following code:\r\n\r\nint denominator = secondRational.denominator;\r\nYou can then use these variables in your code to perform the addition operation.\r\n\r\nHere is an updated version of your code that uses the dot notation to access the secondRational values:\r\n\r\n```\r\n@Override\r\npublic RationalInterface add(RationalInterface secondRational) {\r\n\r\n    // Access the numerator and denominator values from the secondRational object\r\n    int numerator = this.num * secondRational.denominator + this.den * secondRational.numerator;\r\n    int denominator = this.den * secondRational.denominator;\r\n\r\n    // Update the numerator and denominator values for the current object\r\n    this.num = numerator;\r\n    this.den = denominator;\r\n\r\n    // Return the current object\r\n    return this;\r\n} // end add\r\n```","title":"Passing Object Through Method in Java","body":"<p>To access the numerator and denominator attributes from the secondRational object, you need to use the dot notation. For example, to access the numerator attribute, you would use the following code:</p>\n<p>int numerator = secondRational.numerator;\nTo access the denominator attribute, you would use the following code:</p>\n<p>int denominator = secondRational.denominator;\nYou can then use these variables in your code to perform the addition operation.</p>\n<p>Here is an updated version of your code that uses the dot notation to access the secondRational values:</p>\n<pre><code>@Override\npublic RationalInterface add(RationalInterface secondRational) {\n\n    // Access the numerator and denominator values from the secondRational object\n    int numerator = this.num * secondRational.denominator + this.den * secondRational.numerator;\n    int denominator = this.den * secondRational.denominator;\n\n    // Update the numerator and denominator values for the current object\n    this.num = numerator;\n    this.den = denominator;\n\n    // Return the current object\n    return this;\n} // end add\n</code></pre>\n"}],"owner":{"account_id":29484627,"reputation":33,"user_id":22594833,"display_name":"Randolf Gabrielle Uy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696151499,"answer_count":1,"score":0,"last_activity_date":1696151616,"creation_date":1696140473,"question_id":77209414,"body_markdown":"I am trying to get a second object to pass through my method so that I can add values from each object. I am trying to access the numerator attribute and denominator attribute from the &quot;secondRational&quot; object. \r\n\r\n    @Override\r\n    public RationalInterface add(RationalInterface secondRational) {\r\n        // How do I access the secondRational values within the child class Rational?\r\n        int numerator = this.num * secondRational.den + this.den * secondRational.num;\r\n        int denominator = this.den * secondRational.den;\r\n        this.num = numerator;\r\n        this.den = denominator;\r\n        return this;\r\n    } // end add\r\n\r\nThe error that I receive is that the den symbol for secondRational is not resolved. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GsHNl.png","title":"Passing Object Through Method in Java","body":"<p>I am trying to get a second object to pass through my method so that I can add values from each object. I am trying to access the numerator attribute and denominator attribute from the &quot;secondRational&quot; object.</p>\n<pre><code>@Override\npublic RationalInterface add(RationalInterface secondRational) {\n    // How do I access the secondRational values within the child class Rational?\n    int numerator = this.num * secondRational.den + this.den * secondRational.num;\n    int denominator = this.den * secondRational.den;\n    this.num = numerator;\n    this.den = denominator;\n    return this;\n} // end add\n</code></pre>\n<p>The error that I receive is that the den symbol for secondRational is not resolved.</p>\n<p><a href=\"https://i.stack.imgur.com/GsHNl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GsHNl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","c","eclipse-cdt"],"owner":{"account_id":23801138,"reputation":1,"user_id":17811324,"display_name":"hyvuonggia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696150161,"creation_date":1696150110,"question_id":77209800,"body_markdown":"For example, I have a header.h file which has a few value defined macro:\r\n\r\n```\r\n#define MACRO1 value1\r\n#define MACRO2 value2\r\n```\r\n\r\nI would like to parse these macros using Java CDT parser and store its name as well as the value and store it into a map and print them:\r\n\r\n```\r\nMACRO1 = value1\r\nMACRO2 = value2\r\n```\r\n\r\nI have researched on some source but all of them just showing how to parser the macro name only.\r\n\r\nAnd my expectation would be loop through a map and print them.\r\n\r\nFor example:\r\n\r\n```\r\nMACRO1 = value1\r\nMACRO2 = value2\r\n```","title":"Parse value defined macro in C header file using Java CDT parser","body":"<p>For example, I have a header.h file which has a few value defined macro:</p>\n<pre><code>#define MACRO1 value1\n#define MACRO2 value2\n</code></pre>\n<p>I would like to parse these macros using Java CDT parser and store its name as well as the value and store it into a map and print them:</p>\n<pre><code>MACRO1 = value1\nMACRO2 = value2\n</code></pre>\n<p>I have researched on some source but all of them just showing how to parser the macro name only.</p>\n<p>And my expectation would be loop through a map and print them.</p>\n<p>For example:</p>\n<pre><code>MACRO1 = value1\nMACRO2 = value2\n</code></pre>\n"},{"tags":["java","spring","spring-data-r2dbc","r2dbc","r2dbc-postgresql"],"answers":[{"comments":[{"owner":{"account_id":9193540,"reputation":1785,"user_id":6833121,"accept_rate":69,"display_name":"AleGallagher"},"score":0,"creation_date":1624049825,"post_id":65644897,"comment_id":120261049,"body_markdown":"Hi @kamalhm, I get this error doing that  Unsatisfied dependency expressed through field &#39;r2dbcEntityTemplate&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.data.r2dbc.core.R2dbcEntityTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate  Could you help me","body":"Hi @kamalhm, I get this error doing that  Unsatisfied dependency expressed through field &#39;r2dbcEntityTemplate&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;org.springframework.data.r2dbc.core.R2dbcEntityTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate  Could you help me"},{"owner":{"account_id":11066563,"reputation":657,"user_id":8126192,"display_name":"Moncef AOUDIA"},"score":1,"creation_date":1627574939,"post_id":65644897,"comment_id":121198692,"body_markdown":"Hi @AleGallagher,\n\nTake a look at this answer -&gt; https://stackoverflow.com/questions/61692151/how-to-run-query-like-sql-for-test-in-spring-data-r2dbc/68578464#68578464","body":"Hi @AleGallagher,  Take a look at this answer -&gt; <a href=\"https://stackoverflow.com/questions/61692151/how-to-run-query-like-sql-for-test-in-spring-data-r2dbc/68578464#68578464\" title=\"how to run query like sql for test in spring data r2dbc\">stackoverflow.com/questions/61692151/&hellip;</a>"},{"owner":{"account_id":6893052,"reputation":77,"user_id":8197966,"display_name":"girijanandan nucha"},"score":0,"creation_date":1692713557,"post_id":65644897,"comment_id":135659980,"body_markdown":"what value to give for `dbUrl` ?","body":"what value to give for <code>dbUrl</code> ?"}],"tags":[],"owner":{"account_id":9948503,"reputation":126,"user_id":7362164,"display_name":"kamalhm"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1610209426,"creation_date":1610209426,"answer_id":65644897,"question_id":65351356,"body_markdown":"I&#39;ve found this to be the easiest way to prepare your database test environment\r\n```java\r\n  private void initializeDatabase() {\r\n    ConnectionFactory connectionFactory = ConnectionFactories.get(dbUrl);\r\n    R2dbcEntityTemplate template = new R2dbcEntityTemplate(connectionFactory);\r\n    String query = &quot;CREATE TABLE IF NOT EXISTS member (id SERIAL PRIMARY KEY, name TEXT NOT NULL);&quot;;\r\n    template.getDatabaseClient().sql(query).fetch().rowsUpdated().block();\r\n  }\r\n```\r\nand call this method on a `@Before` annotation to be run on the tests\r\n\r\nfor example, this is what I end up with\r\n\r\n```java\r\n  @BeforeEach\r\n  public void setup() {\r\n    initializeDatabase();\r\n    insertData();\r\n  }\r\n\r\n  private void initializeDatabase() {\r\n    ConnectionFactory connectionFactory = ConnectionFactories.get(dbUrl);\r\n    R2dbcEntityTemplate template = new R2dbcEntityTemplate(connectionFactory);\r\n    String query = &quot;CREATE TABLE IF NOT EXISTS member (id SERIAL PRIMARY KEY, name TEXT NOT NULL);&quot;;\r\n    template.getDatabaseClient().sql(query).fetch().rowsUpdated().block();\r\n  }\r\n\r\n  private void insertData() {\r\n    Flux&lt;Member&gt; memberFlux = Flux.just(\r\n        Member.builder().name(&quot;Andrew&quot;).build(),\r\n        Member.builder().name(&quot;Bob&quot;).build(),\r\n        Member.builder().name(&quot;Charlie&quot;).build(),\r\n        Member.builder().name(&quot;Dave&quot;).build()\r\n    );\r\n    memberRepository.deleteAll()\r\n        .thenMany(memberFlux)\r\n        .flatMap(memberRepository::save)\r\n        .doOnNext(member -&gt; log.info(&quot;inserted {}&quot;, member))\r\n        .blockLast();\r\n  }\r\n```","title":"initialize database for testing purpose on Spring Data R2DBC","body":"<p>I've found this to be the easiest way to prepare your database test environment</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private void initializeDatabase() {\n    ConnectionFactory connectionFactory = ConnectionFactories.get(dbUrl);\n    R2dbcEntityTemplate template = new R2dbcEntityTemplate(connectionFactory);\n    String query = &quot;CREATE TABLE IF NOT EXISTS member (id SERIAL PRIMARY KEY, name TEXT NOT NULL);&quot;;\n    template.getDatabaseClient().sql(query).fetch().rowsUpdated().block();\n  }\n</code></pre>\n<p>and call this method on a <code>@Before</code> annotation to be run on the tests</p>\n<p>for example, this is what I end up with</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @BeforeEach\n  public void setup() {\n    initializeDatabase();\n    insertData();\n  }\n\n  private void initializeDatabase() {\n    ConnectionFactory connectionFactory = ConnectionFactories.get(dbUrl);\n    R2dbcEntityTemplate template = new R2dbcEntityTemplate(connectionFactory);\n    String query = &quot;CREATE TABLE IF NOT EXISTS member (id SERIAL PRIMARY KEY, name TEXT NOT NULL);&quot;;\n    template.getDatabaseClient().sql(query).fetch().rowsUpdated().block();\n  }\n\n  private void insertData() {\n    Flux&lt;Member&gt; memberFlux = Flux.just(\n        Member.builder().name(&quot;Andrew&quot;).build(),\n        Member.builder().name(&quot;Bob&quot;).build(),\n        Member.builder().name(&quot;Charlie&quot;).build(),\n        Member.builder().name(&quot;Dave&quot;).build()\n    );\n    memberRepository.deleteAll()\n        .thenMany(memberFlux)\n        .flatMap(memberRepository::save)\n        .doOnNext(member -&gt; log.info(&quot;inserted {}&quot;, member))\n        .blockLast();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1780786,"reputation":1522,"user_id":1623598,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615262709,"creation_date":1615262709,"answer_id":66540662,"question_id":65351356,"body_markdown":"In case you want to reuse the existing `src/main/resources/schema.sql`, you can get it this way (in Kotlin):\r\n\r\n```\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@DataR2dbcTest\r\nclass YourRepositoryTest @Autowired constructor(\r\n    private val yourRepository: YourRepository,\r\n    private val r2dbcEntityTemplate: R2dbcEntityTemplate\r\n) {\r\n\r\n    @BeforeAll\r\n    fun setup() {\r\n        val schema = StreamUtils.copyToString(\r\n            ClassPathResource(&quot;schema.sql&quot;).inputStream,\r\n            Charset.defaultCharset()\r\n        )\r\n        r2dbcEntityTemplate.databaseClient.sql(schema).fetch().rowsUpdated().block()\r\n    }\r\n```\r\n\r\nAlso, using `@DataR2dbcTest` already provides an `R2dbcEntityTemplate` bean, so you can inject it in your tests. No need to instantiate it yourself, especially on each test.","title":"initialize database for testing purpose on Spring Data R2DBC","body":"<p>In case you want to reuse the existing <code>src/main/resources/schema.sql</code>, you can get it this way (in Kotlin):</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@DataR2dbcTest\nclass YourRepositoryTest @Autowired constructor(\n    private val yourRepository: YourRepository,\n    private val r2dbcEntityTemplate: R2dbcEntityTemplate\n) {\n\n    @BeforeAll\n    fun setup() {\n        val schema = StreamUtils.copyToString(\n            ClassPathResource(&quot;schema.sql&quot;).inputStream,\n            Charset.defaultCharset()\n        )\n        r2dbcEntityTemplate.databaseClient.sql(schema).fetch().rowsUpdated().block()\n    }\n</code></pre>\n<p>Also, using <code>@DataR2dbcTest</code> already provides an <code>R2dbcEntityTemplate</code> bean, so you can inject it in your tests. No need to instantiate it yourself, especially on each test.</p>\n"},{"comments":[{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":1,"creation_date":1675433490,"post_id":68124073,"comment_id":132933696,"body_markdown":"this should have been the correct answer.  all other answers are just reading the sql into a string and execute as sql which technically works, but using `ConnectionFactoryInitializer` is a more appropriate approach.","body":"this should have been the correct answer.  all other answers are just reading the sql into a string and execute as sql which technically works, but using <code>ConnectionFactoryInitializer</code> is a more appropriate approach."},{"owner":{"account_id":2831238,"reputation":421,"user_id":2432798,"display_name":"Kikin-Sama"},"score":0,"creation_date":1696148075,"post_id":68124073,"comment_id":136114407,"body_markdown":"I found `R2dbcScriptDatabaseInitializer`, but I&#39;m not able to import it because it requires a bean of type `DatabaseInitializationSettings` which seems not to be initialized even when setting spring.sql.init properties in src/test/resources/application.yml","body":"I found <code>R2dbcScriptDatabaseInitializer</code>, but I&#39;m not able to import it because it requires a bean of type <code>DatabaseInitializationSettings</code> which seems not to be initialized even when setting spring.sql.init properties in src/test/resources/application.yml"}],"tags":[],"owner":{"account_id":4505592,"reputation":41,"user_id":3663027,"display_name":"user3663027"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624725029,"creation_date":1624580793,"answer_id":68124073,"question_id":65351356,"body_markdown":"I came here looking for an answer for this exactly problem. Created a `TestDBInitializer` bean loading a `test-data.sql` file but it&#39;s not working even using `@Profile` annotation. A cleaner, althought not ideal, solution I found is using `@Import({ MyTestDbInitializer.class })` like so:\r\n\r\n    @DataR2dbcTest\r\n    @Import({ TestDBInitializerConfig.class })\r\n    class R2dbcTest {\r\n    \t\r\n        @Autowired\r\n        private MyRepository repository;\r\n    \r\n        @Test\r\n        void testSomething() {\r\n            Flux&lt;MyEntity&gt; fluxResult = this.repository.findAll();\r\n            \r\n            StepVerifier.create(fluxResult)\r\n                // do things...\r\n                .thenConsumeWhile(x -&gt; true)\r\n                .expectComplete()\r\n        \t\t.log()\r\n        \t\t.verify();\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @Profile(&quot;test&quot;)\r\n    public class MyTestDbInitializer {\r\n    \r\n    \t@Bean\r\n    \tpublic ConnectionFactoryInitializer testProfileInitializer(ConnectionFactory connectionFactory) {\r\n    \r\n    \t\tConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\r\n    \t\tinitializer.setConnectionFactory(connectionFactory);\r\n    \r\n    \t\tCompositeDatabasePopulator populator = new CompositeDatabasePopulator();\r\n    \t\tpopulator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;), new ClassPathResource(&quot;test-data.sql&quot;)));\r\n    \t\tinitializer.setDatabasePopulator(populator);\r\n    \r\n    \t\treturn initializer;\r\n    \t}\r\n    }\r\n\r\nStill looking for an answer that doesn&#39;t need any manual initialization nor the usage of `@Import` annotation.\r\n","title":"initialize database for testing purpose on Spring Data R2DBC","body":"<p>I came here looking for an answer for this exactly problem. Created a <code>TestDBInitializer</code> bean loading a <code>test-data.sql</code> file but it's not working even using <code>@Profile</code> annotation. A cleaner, althought not ideal, solution I found is using <code>@Import({ MyTestDbInitializer.class })</code> like so:</p>\n<pre><code>@DataR2dbcTest\n@Import({ TestDBInitializerConfig.class })\nclass R2dbcTest {\n    \n    @Autowired\n    private MyRepository repository;\n\n    @Test\n    void testSomething() {\n        Flux&lt;MyEntity&gt; fluxResult = this.repository.findAll();\n        \n        StepVerifier.create(fluxResult)\n            // do things...\n            .thenConsumeWhile(x -&gt; true)\n            .expectComplete()\n            .log()\n            .verify();\n    }\n}\n\n@Configuration\n@Profile(&quot;test&quot;)\npublic class MyTestDbInitializer {\n\n    @Bean\n    public ConnectionFactoryInitializer testProfileInitializer(ConnectionFactory connectionFactory) {\n\n        ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\n        initializer.setConnectionFactory(connectionFactory);\n\n        CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\n        populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;), new ClassPathResource(&quot;test-data.sql&quot;)));\n        initializer.setDatabasePopulator(populator);\n\n        return initializer;\n    }\n}\n</code></pre>\n<p>Still looking for an answer that doesn't need any manual initialization nor the usage of <code>@Import</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":2831238,"reputation":421,"user_id":2432798,"display_name":"Kikin-Sama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696149901,"creation_date":1696149901,"answer_id":77209790,"question_id":65351356,"body_markdown":"I had the same problem and ended up using flyway like so:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAnd then adding the appropriate configuration\r\n\r\n    @DynamicPropertySource\r\n\tprivate static void configureProperties(DynamicPropertyRegistry registry){\r\n\t\tregistry.add(&quot;spring.r2dbc.url&quot;,() -&gt; String.format(&quot;r2dbc:pool:postgresql://%s:%d/%s&quot;,postgres.getHost(),postgres.getFirstMappedPort(),postgres.getDatabaseName()));\r\n\t\tregistry.add(&quot;spring.r2dbc.username&quot;,postgres::getUsername);\r\n\t\tregistry.add(&quot;spring.r2dbc.password&quot;,postgres::getPassword);\r\n\t\tregistry.add(&quot;spring.flyway.url&quot;,postgres::getJdbcUrl);\r\n\t\tregistry.add(&quot;spring.flyway.user&quot;,postgres::getUsername);\r\n\t\tregistry.add(&quot;spring.flyway.password&quot;,postgres::getPassword);\r\n\t}\r\n\r\nThat allowed me to define my scripts inside `src/test/resources/db/migration`\r\n\r\nHope it helps.","title":"initialize database for testing purpose on Spring Data R2DBC","body":"<p>I had the same problem and ended up using flyway like so:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then adding the appropriate configuration</p>\n<pre><code>@DynamicPropertySource\nprivate static void configureProperties(DynamicPropertyRegistry registry){\n    registry.add(&quot;spring.r2dbc.url&quot;,() -&gt; String.format(&quot;r2dbc:pool:postgresql://%s:%d/%s&quot;,postgres.getHost(),postgres.getFirstMappedPort(),postgres.getDatabaseName()));\n    registry.add(&quot;spring.r2dbc.username&quot;,postgres::getUsername);\n    registry.add(&quot;spring.r2dbc.password&quot;,postgres::getPassword);\n    registry.add(&quot;spring.flyway.url&quot;,postgres::getJdbcUrl);\n    registry.add(&quot;spring.flyway.user&quot;,postgres::getUsername);\n    registry.add(&quot;spring.flyway.password&quot;,postgres::getPassword);\n}\n</code></pre>\n<p>That allowed me to define my scripts inside <code>src/test/resources/db/migration</code></p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":9948503,"reputation":126,"user_id":7362164,"display_name":"kamalhm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5285,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65644897,"answer_count":4,"score":3,"last_activity_date":1696149901,"creation_date":1608261417,"question_id":65351356,"body_markdown":"In a non-test environment, I can set up the bean to initialize the database with the `schema.sql` like this\r\n\r\n```\r\n\t@Bean\r\n\tConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\r\n\r\n\t\tConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\r\n\t\tinitializer.setConnectionFactory(connectionFactory);\r\n\t\tinitializer.setDatabasePopulator(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\r\n\r\n\t\treturn initializer;\r\n\t}\r\n```\r\n\r\nthe problem is, I want to do something like this but for testing purpose. I&#39;m trying to do some kind of integration testing with the database so I want the schema to be inserted to a dummy database too.\r\n\r\nI&#39;ve tried using this annotation but it still won&#39;t execute\r\n\r\n```\r\n@Sql(scripts = &quot;classpath:schema.sql&quot;, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n```\r\n\r\nI&#39;ve created a separate `application-test.properties` on my test resources folder containg this properties values\r\n```\r\nspring.r2dbc.url=r2dbc:postgresql://localhost:5432/test\r\nspring.r2dbc.username=postgres\r\n\r\nlogging.level.org.springframework.r2dbc=DEBUG\r\n```\r\nand have added `@ActiveProfiles(profiles = &quot;test&quot;)` annotation too.\r\n\r\n\r\n","title":"initialize database for testing purpose on Spring Data R2DBC","body":"<p>In a non-test environment, I can set up the bean to initialize the database with the <code>schema.sql</code> like this</p>\n<pre><code>    @Bean\n    ConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\n\n        ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\n        initializer.setConnectionFactory(connectionFactory);\n        initializer.setDatabasePopulator(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\n\n        return initializer;\n    }\n</code></pre>\n<p>the problem is, I want to do something like this but for testing purpose. I'm trying to do some kind of integration testing with the database so I want the schema to be inserted to a dummy database too.</p>\n<p>I've tried using this annotation but it still won't execute</p>\n<pre><code>@Sql(scripts = &quot;classpath:schema.sql&quot;, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n</code></pre>\n<p>I've created a separate <code>application-test.properties</code> on my test resources folder containg this properties values</p>\n<pre><code>spring.r2dbc.url=r2dbc:postgresql://localhost:5432/test\nspring.r2dbc.username=postgres\n\nlogging.level.org.springframework.r2dbc=DEBUG\n</code></pre>\n<p>and have added <code>@ActiveProfiles(profiles = &quot;test&quot;)</code> annotation too.</p>\n"},{"tags":["java","oop","interface"],"comments":[{"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"score":0,"creation_date":1654891412,"post_id":2575429,"comment_id":128209142,"body_markdown":"Per Java Champion Ben Evans at Red Hat, &quot;Java permits only two sorts of values: primitive types and object references,&quot; and since interfaces are not primitives, and because `reverse()` accepts a formal parameter (from the caller&#39;s formal argument) of an interface type `NodeList`, then `reverse()` accepts an object reference, not an interface. You can confirm this by looking at the bytecode, where you would see `invokeinterface` as part of a vtable parsing, which implements dynamic method dispatch. See https://blogs.oracle.com/javamagazine/post/mastering-the-mechanics-of-java-method-invocation","body":"Per Java Champion Ben Evans at Red Hat, &quot;Java permits only two sorts of values: primitive types and object references,&quot; and since interfaces are not primitives, and because <code>reverse()</code> accepts a formal parameter (from the caller&#39;s formal argument) of an interface type <code>NodeList</code>, then <code>reverse()</code> accepts an object reference, not an interface. You can confirm this by looking at the bytecode, where you would see <code>invokeinterface</code> as part of a vtable parsing, which implements dynamic method dispatch. See <a href=\"https://blogs.oracle.com/javamagazine/post/mastering-the-mechanics-of-java-method-invocation\" rel=\"nofollow noreferrer\">blogs.oracle.com/javamagazine/post/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":8,"creation_date":1270405729,"post_id":2575447,"comment_id":2581486,"body_markdown":"&lt;pedant&gt; The *parameter* is an interface type, the *argument* is an object &lt;/pedant&gt;","body":"&lt;pedant&gt; The <i>parameter</i> is an interface type, the <i>argument</i> is an object &lt;/pedant&gt;"},{"owner":{"account_id":31086,"reputation":709,"user_id":85137,"display_name":"Martin Tilsted"},"score":4,"creation_date":1270412100,"post_id":2575447,"comment_id":2581815,"body_markdown":"And to be REALLY much a pedent. The argument is a reference to an object :}","body":"And to be REALLY much a pedent. The argument is a reference to an object :}"},{"owner":{"account_id":60011,"reputation":5533,"user_id":179385,"accept_rate":97,"display_name":"zihaoyu"},"score":1,"creation_date":1270490526,"post_id":2575447,"comment_id":2586664,"body_markdown":"Thanks for the link to Sun tutorial!","body":"Thanks for the link to Sun tutorial!"}],"tags":[],"owner":{"account_id":92166,"reputation":10550,"user_id":252704,"accept_rate":100,"display_name":"Pindatjuh"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1270406026,"creation_date":1270405660,"answer_id":2575447,"question_id":2575429,"body_markdown":"The argument needs an object, which class implements an interface (the parameter).\r\n\r\nIn **pseudo** Java the code:\r\n\r\n    void reverse(NodeList node) {\r\n        // your code\r\n    }\r\n\r\nis equal to:\r\n\r\n    reverse(x) {\r\n        if(x == null || x instanceof NodeList) {\r\n             // your code\r\n        }else throw new RuntimeException(&quot;Some sort of error.&quot;);\r\n    }\r\n\r\nNote; read more on Interfaces here: http://java.sun.com/docs/books/tutorial/java/IandI/interfaceAsType.html","title":"interface as a method parameter in Java","body":"<p>The argument needs an object, which class implements an interface (the parameter).</p>\n\n<p>In <strong>pseudo</strong> Java the code:</p>\n\n<pre><code>void reverse(NodeList node) {\n    // your code\n}\n</code></pre>\n\n<p>is equal to:</p>\n\n<pre><code>reverse(x) {\n    if(x == null || x instanceof NodeList) {\n         // your code\n    }else throw new RuntimeException(\"Some sort of error.\");\n}\n</code></pre>\n\n<p>Note; read more on Interfaces here: <a href=\"http://java.sun.com/docs/books/tutorial/java/IandI/interfaceAsType.html\" rel=\"noreferrer\">http://java.sun.com/docs/books/tutorial/java/IandI/interfaceAsType.html</a></p>\n"},{"comments":[{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":4,"creation_date":1497442786,"post_id":2575450,"comment_id":76079751,"body_markdown":"Great, helped !! :D","body":"Great, helped !! :D"}],"tags":[],"owner":{"account_id":27678,"reputation":70338,"user_id":73297,"accept_rate":90,"display_name":"Ben Zotto"},"comment_count":1,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1270405684,"creation_date":1270405684,"answer_id":2575450,"question_id":2575429,"body_markdown":"It&#39;s not the interface &quot;object&quot; being passed to the method, still just a regular object. It&#39;s just a way of saying &quot;this parameter will accept any object that supports this interface&quot;. It&#39;s equivalent to accepting some object of a base class type, even if you&#39;re passing in a subclass.","title":"interface as a method parameter in Java","body":"<p>It's not the interface \"object\" being passed to the method, still just a regular object. It's just a way of saying \"this parameter will accept any object that supports this interface\". It's equivalent to accepting some object of a base class type, even if you're passing in a subclass.</p>\n"},{"comments":[{"owner":{"account_id":60011,"reputation":5533,"user_id":179385,"accept_rate":97,"display_name":"zihaoyu"},"score":0,"creation_date":1270490447,"post_id":2575454,"comment_id":2586654,"body_markdown":"Thanks Mike! List example is really instructive and easy to understand.","body":"Thanks Mike! List example is really instructive and easy to understand."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1382578399,"creation_date":1270405731,"answer_id":2575454,"question_id":2575429,"body_markdown":"This is in fact one of the most common and useful ways to use an interface. The interface defines a contract, and your code can work with any class that implements the interface, without having to know the concrete class - it can even work with classes that didn&#39;t exist yet when the code was written.\r\n\r\nThere are many examples in the Java standard API, especially in the collections framework. For example, [Collections.sort()][1] can sort anything that implements the `List` interface (not just `ArrayList` or `LinkedList`, though implementing your own `List` is uncommon) and whose contents implement the `Comparable` interface (not just `String` or the numerical wrapper classes - and having your own class implement `Comparable` for that purpose is *quite* common).\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List)","title":"interface as a method parameter in Java","body":"<p>This is in fact one of the most common and useful ways to use an interface. The interface defines a contract, and your code can work with any class that implements the interface, without having to know the concrete class - it can even work with classes that didn't exist yet when the code was written.</p>\n\n<p>There are many examples in the Java standard API, especially in the collections framework. For example, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List)\" rel=\"noreferrer\">Collections.sort()</a> can sort anything that implements the <code>List</code> interface (not just <code>ArrayList</code> or <code>LinkedList</code>, though implementing your own <code>List</code> is uncommon) and whose contents implement the <code>Comparable</code> interface (not just <code>String</code> or the numerical wrapper classes - and having your own class implement <code>Comparable</code> for that purpose is <em>quite</em> common).</p>\n"},{"comments":[{"owner":{"account_id":3963959,"reputation":21080,"user_id":3329664,"display_name":"Billal Begueradj"},"score":0,"creation_date":1533461122,"post_id":2575464,"comment_id":90347483,"body_markdown":"Inside `reverse()` we can not work directly on `node`  to which we must rather assign an instance of a class that implements `NodeList`. After all, we need to work on a concrete object.","body":"Inside <code>reverse()</code> we can not work directly on <code>node</code>  to which we must rather assign an instance of a class that implements <code>NodeList</code>. After all, we need to work on a concrete object."}],"tags":[],"owner":{"account_id":98678,"reputation":2329,"user_id":266971,"accept_rate":78,"display_name":"ahe"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1533460383,"creation_date":1270405911,"answer_id":2575464,"question_id":2575429,"body_markdown":"This is called programming to interfaces. You don&#39;t code to a specific implementation class of node lists but to the interface implemented by all those implementations.\r\n\r\nThat way your code will still work if someone writes a new and much better implementation of `NodeList` after you wrote your reverse method and you don&#39;t have to adapt your code for each new implementation of `NodeList`.","title":"interface as a method parameter in Java","body":"<p>This is called programming to interfaces. You don't code to a specific implementation class of node lists but to the interface implemented by all those implementations.</p>\n\n<p>That way your code will still work if someone writes a new and much better implementation of <code>NodeList</code> after you wrote your reverse method and you don't have to adapt your code for each new implementation of <code>NodeList</code>.</p>\n"},{"tags":[],"owner":{"account_id":4035343,"reputation":1229,"user_id":3320018,"accept_rate":82,"display_name":"Nirmal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428808673,"creation_date":1428808673,"answer_id":29585560,"question_id":2575429,"body_markdown":"The major benefit of using interfaces, IMHO, is being able to test easily. Suppose you have an interface called, PatientManager. \r\n\r\nYou can write specific unit tests for imaginable things like &quot;CachingPatientManager&quot; or &quot;LDAPPatientManager&quot;, the use case could be myriad. \r\n\r\nThe benefit is because the programming to interface becomes highly reusable and testable. ","title":"interface as a method parameter in Java","body":"<p>The major benefit of using interfaces, IMHO, is being able to test easily. Suppose you have an interface called, PatientManager. </p>\n\n<p>You can write specific unit tests for imaginable things like \"CachingPatientManager\" or \"LDAPPatientManager\", the use case could be myriad. </p>\n\n<p>The benefit is because the programming to interface becomes highly reusable and testable. </p>\n"},{"tags":[],"owner":{"account_id":5924521,"reputation":773,"user_id":4660857,"display_name":"user4660857"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455413346,"creation_date":1455413346,"answer_id":35387409,"question_id":2575429,"body_markdown":"You cannot create an instance (/object ) of an Interface. \r\nYes, you can pass Interface as a parameter in the function. But the question seems incomplete. Interface isn&#39;t implemented by any class. Something is missing. If you try to run this, compiler will not show any error. \r\n\r\nBut, in the reverse() method you need to create an instance of class that implements NodeList interface. I hope this makes sense. ","title":"interface as a method parameter in Java","body":"<p>You cannot create an instance (/object ) of an Interface. \nYes, you can pass Interface as a parameter in the function. But the question seems incomplete. Interface isn't implemented by any class. Something is missing. If you try to run this, compiler will not show any error. </p>\n\n<p>But, in the reverse() method you need to create an instance of class that implements NodeList interface. I hope this makes sense. </p>\n"},{"tags":[],"owner":{"account_id":3502382,"reputation":3469,"user_id":2928853,"accept_rate":83,"display_name":"jrook"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474250174,"creation_date":1474250174,"answer_id":39564352,"question_id":2575429,"body_markdown":"This is one possible implementation:\r\n\r\n    public class ReverseList { \r\n\tinterface NodeList {\r\n\t\tint getItem();\r\n\t\tNodeList nextNode();\r\n\t}\r\n\t\r\n\tstatic class Node implements NodeList {\r\n\t\tprivate int item;\r\n\t\tprivate Node next;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic int getItem() {\r\n\t\t\treturn item;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setItem(int si) {\r\n\t\t\titem = si;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic NodeList nextNode() {\r\n\t\t\treturn this.next;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setNext(Node n) {this.next=n;}\r\n\t\t\r\n\t}\r\n\t\r\n\tNode reverse(NodeList head) {\r\n\t\tNode node = (Node) head;\r\n\t\tNode previous = null;\r\n\t\twhile(node.nextNode() !=null) {\r\n\t\t\tNode tempNext = (Node) node.nextNode();\r\n\t\t\tnode.setNext(previous);\r\n\t\t\tprevious = node;\r\n\t\t\tnode = tempNext;\r\n\t\t}\r\n\t\tnode.setNext(previous);\r\n\t\treturn node;\r\n\t\t\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t//Initialization block\r\n\t\tReverseList rl = new ReverseList();\r\n\t\tNode n1= new Node(); n1.setItem(1);\r\n\t\tNode n2=new Node(); n2.setItem(2);\r\n\t\tNode n3 =new Node(); n3.setItem(3);\r\n\t\tn1.setNext(n2); n2.setNext(n3); n3.setNext(null);\r\n\t\t\r\n\t\t//Reversing the list\r\n\t\tSystem.out.println(&quot;Before reversal&quot;);\t\t\r\n\t\tSystem.out.println(n1.getItem() +&quot;-&gt;&quot; \r\n\t\t\t\t\t\t+ n1.nextNode().getItem() + &quot;-&gt;&quot;\r\n\t\t\t\t\t\t+ n1.nextNode().nextNode().getItem() + &quot;-&gt;&quot;\r\n\t\t\t\t\t\t+n1.nextNode().nextNode().nextNode());\r\n\t\t\r\n\t\t\r\n\t\trl.reverse(n1);\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\nAfter reversal&quot;);\r\n\t\tSystem.out.println(n3.getItem() +&quot;-&gt;&quot; \r\n\t\t\t\t+ n3.nextNode().getItem() + &quot;-&gt;&quot;\r\n\t\t\t\t+ n3.nextNode().nextNode().getItem() + &quot;-&gt;&quot;\r\n\t\t\t\t+n3.nextNode().nextNode().nextNode());\r\n\t\t\t}\r\n    }\r\n\r\n\r\nProgram output:\r\n\r\n    Before reversal\r\n    1-&gt;2-&gt;3-&gt;null\r\n\r\n    After reversal\r\n    3-&gt;2-&gt;1-&gt;null\r\n\r\nI am very curious to know if this problem can be solved by using an anonymous class. Any ideas?","title":"interface as a method parameter in Java","body":"<p>This is one possible implementation:</p>\n\n<pre><code>public class ReverseList { \ninterface NodeList {\n    int getItem();\n    NodeList nextNode();\n}\n\nstatic class Node implements NodeList {\n    private int item;\n    private Node next;\n\n    @Override\n    public int getItem() {\n        return item;\n    }\n\n    public void setItem(int si) {\n        item = si;\n    }\n\n    @Override\n    public NodeList nextNode() {\n        return this.next;\n    }\n\n    public void setNext(Node n) {this.next=n;}\n\n}\n\nNode reverse(NodeList head) {\n    Node node = (Node) head;\n    Node previous = null;\n    while(node.nextNode() !=null) {\n        Node tempNext = (Node) node.nextNode();\n        node.setNext(previous);\n        previous = node;\n        node = tempNext;\n    }\n    node.setNext(previous);\n    return node;\n\n}\npublic static void main(String[] args) {\n    //Initialization block\n    ReverseList rl = new ReverseList();\n    Node n1= new Node(); n1.setItem(1);\n    Node n2=new Node(); n2.setItem(2);\n    Node n3 =new Node(); n3.setItem(3);\n    n1.setNext(n2); n2.setNext(n3); n3.setNext(null);\n\n    //Reversing the list\n    System.out.println(\"Before reversal\");      \n    System.out.println(n1.getItem() +\"-&gt;\" \n                    + n1.nextNode().getItem() + \"-&gt;\"\n                    + n1.nextNode().nextNode().getItem() + \"-&gt;\"\n                    +n1.nextNode().nextNode().nextNode());\n\n\n    rl.reverse(n1);\n\n    System.out.println(\"\\nAfter reversal\");\n    System.out.println(n3.getItem() +\"-&gt;\" \n            + n3.nextNode().getItem() + \"-&gt;\"\n            + n3.nextNode().nextNode().getItem() + \"-&gt;\"\n            +n3.nextNode().nextNode().nextNode());\n        }\n}\n</code></pre>\n\n<p>Program output:</p>\n\n<pre><code>Before reversal\n1-&gt;2-&gt;3-&gt;null\n\nAfter reversal\n3-&gt;2-&gt;1-&gt;null\n</code></pre>\n\n<p>I am very curious to know if this problem can be solved by using an anonymous class. Any ideas?</p>\n"},{"tags":[],"owner":{"account_id":6299250,"reputation":107,"user_id":4894370,"display_name":"Yoho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516776075,"creation_date":1516776075,"answer_id":48416288,"question_id":2575429,"body_markdown":"Had this same confusion while learning lambda stuff.\r\nThis video didnt explain the concept, but it&#39;s a clear way for you to see how it works in terms of passing an interface as a parameter.\r\n\r\nhttps://www.youtube.com/watch?v=mk3erzL70yM","title":"interface as a method parameter in Java","body":"<p>Had this same confusion while learning lambda stuff.\nThis video didnt explain the concept, but it's a clear way for you to see how it works in terms of passing an interface as a parameter.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=mk3erzL70yM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=mk3erzL70yM</a></p>\n"},{"tags":[],"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696148567,"creation_date":1696148567,"answer_id":77209741,"question_id":2575429,"body_markdown":"Maybe it&#39;s too late, but still i leave my answer here as I found your question helpful.\r\n\r\n------------------------------------------------------------\r\n\r\n*When an interface is used as the parameter type of a method, it means that this method accepts any object that contains implementations of the interface.*\r\n\r\nThere is a good example for this usage, and it&#39;s when you try to pass an `ArrayList` to a method. As you know, you can pass your `ArrayList` as `List` as below:\r\n\r\n\r\n    public int getListSize(List&lt;String&gt; myList){\r\n       return myList.size();\r\n    }\r\n\r\nand then, this will give you the flexibility to pass any object which implements List methods. For example, you can do:\r\n\r\n    List&lt;String&gt; myList1 = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; myList2 = new LinkedList&lt;&gt;();\r\n    List&lt;String&gt; myList3 = new Vector&lt;&gt;();\r\n    \r\n    int size1 = getListSize(myList1); // Valid, myList1 is an ArrayList\r\n    int size2 = getListSize(myList2); // Valid, myList2 is a LinkedList\r\n    int size3 = getListSize(myList3); // Valid, myList3 is a Vector\r\n\r\n  \r\n\r\n\r\n","title":"interface as a method parameter in Java","body":"<p>Maybe it's too late, but still i leave my answer here as I found your question helpful.</p>\n<hr />\n<p><em>When an interface is used as the parameter type of a method, it means that this method accepts any object that contains implementations of the interface.</em></p>\n<p>There is a good example for this usage, and it's when you try to pass an <code>ArrayList</code> to a method. As you know, you can pass your <code>ArrayList</code> as <code>List</code> as below:</p>\n<pre><code>public int getListSize(List&lt;String&gt; myList){\n   return myList.size();\n}\n</code></pre>\n<p>and then, this will give you the flexibility to pass any object which implements List methods. For example, you can do:</p>\n<pre><code>List&lt;String&gt; myList1 = new ArrayList&lt;&gt;();\nList&lt;String&gt; myList2 = new LinkedList&lt;&gt;();\nList&lt;String&gt; myList3 = new Vector&lt;&gt;();\n\nint size1 = getListSize(myList1); // Valid, myList1 is an ArrayList\nint size2 = getListSize(myList2); // Valid, myList2 is a LinkedList\nint size3 = getListSize(myList3); // Valid, myList3 is a Vector\n</code></pre>\n"}],"owner":{"account_id":60011,"reputation":5533,"user_id":179385,"accept_rate":97,"display_name":"zihaoyu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116796,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":2575454,"answer_count":9,"score":72,"last_activity_date":1696148567,"creation_date":1270405303,"question_id":2575429,"body_markdown":"I had an interview days ago and was thrown a question like this.\r\n\r\nQ: Reverse a linked list. Following code is given:\r\n\r\n    public class ReverseList { \r\n        interface NodeList {\r\n            int getItem();\r\n            NodeList nextNode();\r\n        }\r\n        void reverse(NodeList node) {\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n      \r\n        }\r\n    }\r\n\r\nI was confused because I did not know an interface object could be used as a method parameter. The interviewer explained a little bit but I am still not sure about this. Could somebody enlighten me?","title":"interface as a method parameter in Java","body":"<p>I had an interview days ago and was thrown a question like this.</p>\n\n<p>Q: Reverse a linked list. Following code is given:</p>\n\n<pre><code>public class ReverseList { \n    interface NodeList {\n        int getItem();\n        NodeList nextNode();\n    }\n    void reverse(NodeList node) {\n\n    }\n    public static void main(String[] args) {\n\n    }\n}\n</code></pre>\n\n<p>I was confused because I did not know an interface object could be used as a method parameter. The interviewer explained a little bit but I am still not sure about this. Could somebody enlighten me?</p>\n"},{"tags":["java","spring","security","jwt"],"answers":[{"tags":[],"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696148189,"creation_date":1696148189,"answer_id":77209721,"question_id":77201964,"body_markdown":"Probably because in your method `extractToken` you extract the `token` but return `null`.\r\n\r\nFor future questions, please provide some JUnit test, or the request you sent via Postman. Additionally, spring-security DEBUG logs would be helpful as well.","title":"Java security status 403","body":"<p>Probably because in your method <code>extractToken</code> you extract the <code>token</code> but return <code>null</code>.</p>\n<p>For future questions, please provide some JUnit test, or the request you sent via Postman. Additionally, spring-security DEBUG logs would be helpful as well.</p>\n"}],"owner":{"account_id":21980832,"reputation":49,"user_id":16255922,"display_name":"Bartolinio Kooperinio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696148189,"creation_date":1695990540,"question_id":77201964,"body_markdown":"I&#39;ve configured simple security based on JWT tokens and roles. I&#39;ve tested in in postman and every request have status 403 forbidden. I have no idea what is blocking my requests because even if i comment every filter and leave only permitAll it still says 403 every time.\r\n\r\nSecurity config code:\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class SpringSecurityConfig {\r\n\r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${jwt.issuer}&quot;)\r\n    private String jwtIssuer;\r\n\r\n    @Bean\r\n    public JWTVerifier jwtVerifier() {\r\n        Algorithm algorithm = Algorithm.HMAC256(jwtSecret);\r\n        return JWT.require(algorithm)\r\n                .withIssuer(jwtIssuer)\r\n                .build();\r\n    }\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/api/users/**&quot;).permitAll()\r\n                        //.requestMatchers(&quot;/api/librarian/**&quot;).hasAnyRole(&quot;librarian&quot;, &quot;programmer&quot;)\r\n                        //.requestMatchers(&quot;/api/reader/**&quot;).hasAnyRole(&quot;reader&quot;, &quot;programmer&quot;)\r\n                        //.anyRequest().authenticated()\r\n\r\n                )\r\n                .cors(Customizer.withDefaults())\r\n                .csrf(Customizer.withDefaults());\r\n\r\n        //http.addFilterBefore(new JWTFilter(jwtVerifier()), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nJWT token filter code: \r\n```\r\n@AllArgsConstructor\r\npublic class JWTFilter extends UsernamePasswordAuthenticationFilter {\r\n    private final JWTVerifier jwtVerifier;\r\n\r\n\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n        String token = extractToken(request);\r\n\r\n        if (token != null) {\r\n            try {\r\n                DecodedJWT jwt = jwtVerifier.verify(token);\r\n\r\n                Authentication authentication = createAuthenticationFromToken(jwt);\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            } catch (JWTVerificationException e) {\r\n            }\r\n        }\r\n\r\n        chain.doFilter(request, response);\r\n    }\r\n    private Authentication createAuthenticationFromToken(DecodedJWT jwt) {\r\n        String username = jwt.getClaim(&quot;username&quot;).asString();\r\n        List&lt;SimpleGrantedAuthority&gt; authorities = jwt.getClaim(&quot;roles&quot;)\r\n                .asList(String.class)\r\n                .stream()\r\n                .map(SimpleGrantedAuthority::new)\r\n                .toList();\r\n\r\n        return new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n    }\r\n\r\n    // Extract the JWT token from the request\r\n    private String extractToken(HttpServletRequest request) {\r\n         String token = request.getHeader(&quot;Authorization&quot;);\r\n        return null;\r\n    }\r\n}\r\n\r\n```","title":"Java security status 403","body":"<p>I've configured simple security based on JWT tokens and roles. I've tested in in postman and every request have status 403 forbidden. I have no idea what is blocking my requests because even if i comment every filter and leave only permitAll it still says 403 every time.</p>\n<p>Security config code:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class SpringSecurityConfig {\n\n    @Value(&quot;${jwt.secret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${jwt.issuer}&quot;)\n    private String jwtIssuer;\n\n    @Bean\n    public JWTVerifier jwtVerifier() {\n        Algorithm algorithm = Algorithm.HMAC256(jwtSecret);\n        return JWT.require(algorithm)\n                .withIssuer(jwtIssuer)\n                .build();\n    }\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/api/users/**&quot;).permitAll()\n                        //.requestMatchers(&quot;/api/librarian/**&quot;).hasAnyRole(&quot;librarian&quot;, &quot;programmer&quot;)\n                        //.requestMatchers(&quot;/api/reader/**&quot;).hasAnyRole(&quot;reader&quot;, &quot;programmer&quot;)\n                        //.anyRequest().authenticated()\n\n                )\n                .cors(Customizer.withDefaults())\n                .csrf(Customizer.withDefaults());\n\n        //http.addFilterBefore(new JWTFilter(jwtVerifier()), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n}\n\n</code></pre>\n<p>JWT token filter code:</p>\n<pre><code>@AllArgsConstructor\npublic class JWTFilter extends UsernamePasswordAuthenticationFilter {\n    private final JWTVerifier jwtVerifier;\n\n\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        String token = extractToken(request);\n\n        if (token != null) {\n            try {\n                DecodedJWT jwt = jwtVerifier.verify(token);\n\n                Authentication authentication = createAuthenticationFromToken(jwt);\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            } catch (JWTVerificationException e) {\n            }\n        }\n\n        chain.doFilter(request, response);\n    }\n    private Authentication createAuthenticationFromToken(DecodedJWT jwt) {\n        String username = jwt.getClaim(&quot;username&quot;).asString();\n        List&lt;SimpleGrantedAuthority&gt; authorities = jwt.getClaim(&quot;roles&quot;)\n                .asList(String.class)\n                .stream()\n                .map(SimpleGrantedAuthority::new)\n                .toList();\n\n        return new UsernamePasswordAuthenticationToken(username, null, authorities);\n    }\n\n    // Extract the JWT token from the request\n    private String extractToken(HttpServletRequest request) {\n         String token = request.getHeader(&quot;Authorization&quot;);\n        return null;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","gradle"],"answers":[{"comments":[{"owner":{"account_id":23273813,"reputation":628,"user_id":17358267,"display_name":"Dr.KeyOk"},"score":0,"creation_date":1643711168,"post_id":70938716,"comment_id":125406597,"body_markdown":"Thanks, but show me this error : `Unable to load class &#39;com.android.build.api.extension.AndroidComponentsExtension.`\n&#39;","body":"Thanks, but show me this error : <code>Unable to load class &#39;com.android.build.api.extension.AndroidComponentsExtension.</code> &#39;"},{"owner":{"account_id":16362262,"reputation":292,"user_id":11817534,"display_name":"Michael Ndiritu"},"score":0,"creation_date":1643713186,"post_id":70938716,"comment_id":125407449,"body_markdown":"take a look at this SO [Solution](https://stackoverflow.com/questions/70857476/unable-to-load-class-androidcomponentsextension-after-upgrading-the-android-grad)","body":"take a look at this SO <a href=\"https://stackoverflow.com/questions/70857476/unable-to-load-class-androidcomponentsextension-after-upgrading-the-android-grad\">Solution</a>"}],"tags":[],"owner":{"account_id":16362262,"reputation":292,"user_id":11817534,"display_name":"Michael Ndiritu"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1643710171,"creation_date":1643710171,"answer_id":70938716,"question_id":70938297,"body_markdown":"They haven&#39;t talked about in the release docs but  manually add a buildscript block above the plugins block then inside the buildscript block add a depedencies block.\r\n\r\nlike this:\r\n\r\n    buildscript {\r\n\r\n            dependencies {\r\n\r\n                  classpath(&quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.4.0&quot;)\r\n\r\n                         }\r\n           }\r\n\r\n\r\n    plugins {\r\n          id &#39;com.android.application&#39; version &#39;7.1.0-rc01&#39; apply false\r\n          //......\r\n        }\r\n  \r\n\r\n\r\n\r\n   ","title":"How to add classpath in new version of Android Studio","body":"<p>They haven't talked about in the release docs but  manually add a buildscript block above the plugins block then inside the buildscript block add a depedencies block.</p>\n<p>like this:</p>\n<pre><code>buildscript {\n\n        dependencies {\n\n              classpath(&quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.4.0&quot;)\n\n                     }\n       }\n\n\nplugins {\n      id 'com.android.application' version '7.1.0-rc01' apply false\n      //......\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23273813,"reputation":628,"user_id":17358267,"display_name":"Dr.KeyOk"},"score":0,"creation_date":1646843283,"post_id":71410793,"comment_id":126225489,"body_markdown":"Thanks man. but how can I find this ids ? for example dagger-hilt","body":"Thanks man. but how can I find this ids ? for example dagger-hilt"},{"owner":{"account_id":14718183,"reputation":1354,"user_id":10629573,"display_name":"Liong"},"score":1,"creation_date":1646898805,"post_id":71410793,"comment_id":126238438,"body_markdown":"https://developer.android.com/training/dependency-injection/hilt-android#setup\n\nFrom there the id was you put in `build.gradle` module, the id is `dagger.hilt.android.plugin`, hope it works.","body":"<a href=\"https://developer.android.com/training/dependency-injection/hilt-android#setup\" rel=\"nofollow noreferrer\">developer.android.com/training/dependency-injection/&hellip;</a>  From there the id was you put in <code>build.gradle</code> module, the id is <code>dagger.hilt.android.plugin</code>, hope it works."},{"owner":{"account_id":16445786,"reputation":340,"user_id":11880634,"display_name":"GvHarish"},"score":0,"creation_date":1648625417,"post_id":71410793,"comment_id":126668806,"body_markdown":"i tryed but dagger not working","body":"i tryed but dagger not working"},{"owner":{"account_id":19576761,"reputation":271,"user_id":14326682,"display_name":"feigo808"},"score":7,"creation_date":1648774688,"post_id":71410793,"comment_id":126716149,"body_markdown":"For Dagger Hilt, add `id &#39;com.google.dagger.hilt.android&#39; version &#39;2.41&#39; apply false` to project build.gradle file\n\nand    `id &#39;kotlin-kapt&#39;\n    id &#39;dagger.hilt.android.plugin&#39;` to app build.gradle file as usual","body":"For Dagger Hilt, add <code>id &#39;com.google.dagger.hilt.android&#39; version &#39;2.41&#39; apply false</code> to project build.gradle file  and    <code>id &#39;kotlin-kapt&#39;     id &#39;dagger.hilt.android.plugin&#39;</code> to app build.gradle file as usual"},{"owner":{"account_id":10264238,"reputation":668,"user_id":7574662,"accept_rate":67,"display_name":"Badr At"},"score":4,"creation_date":1652396622,"post_id":71410793,"comment_id":127602912,"body_markdown":"@feigo808 where did you find this?","body":"@feigo808 where did you find this?"}],"tags":[],"owner":{"account_id":14718183,"reputation":1354,"user_id":10629573,"display_name":"Liong"},"comment_count":5,"down_vote_count":2,"up_vote_count":62,"is_accepted":true,"score":60,"last_activity_date":1646835422,"creation_date":1646835422,"answer_id":71410793,"question_id":70938297,"body_markdown":"In the latest version in February 2022 doesn&#39;t need to add `buildscript` anymore just add the id in `build.gradle` for project. It will be like this in `build.gradle` for project:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.1.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.1.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.10&#39; apply false\r\n\r\n    id &#39;androidx.navigation.safeargs&#39; version &#39;2.4.1&#39; apply false\r\n    // classpath are changed, so no need to add classpath anymore just the id and the version\r\n}\r\n```\r\n\r\nDon&#39;t forget add the id again in the `build.gradle` module,\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n}\r\n```","title":"How to add classpath in new version of Android Studio","body":"<p>In the latest version in February 2022 doesn't need to add <code>buildscript</code> anymore just add the id in <code>build.gradle</code> for project. It will be like this in <code>build.gradle</code> for project:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.1.2' apply false\n    id 'com.android.library' version '7.1.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.6.10' apply false\n\n    id 'androidx.navigation.safeargs' version '2.4.1' apply false\n    // classpath are changed, so no need to add classpath anymore just the id and the version\n}\n</code></pre>\n<p>Don't forget add the id again in the <code>build.gradle</code> module,</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'androidx.navigation.safeargs'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17037470,"reputation":109,"user_id":12326202,"display_name":"Hassan El Sayed Ammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696147812,"creation_date":1650071507,"answer_id":71890293,"question_id":70938297,"body_markdown":"So they mentioned that in the build.Gradle file as top-level comment And I saw it as a bad practice \r\ndon&#39;t mention it below that  \r\n1- open your build.Gradle (app module) scroll to the top until you see that comment \r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nthen take this code As copy put it this line is[![enter image description here][1]][1] builtin comment \r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n\r\nbuildscript {\r\n\r\n    dependencies {\r\n\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:lasted-version&quot;\r\n\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VWJoe.png","title":"How to add classpath in new version of Android Studio","body":"<p>So they mentioned that in the build.Gradle file as top-level comment And I saw it as a bad practice\ndon't mention it below that<br />\n1- open your build.Gradle (app module) scroll to the top until you see that comment\n// Top-level build file where you can add configuration options common to all sub-projects/modules.</p>\n<p>then take this code As copy put it this line is<a href=\"https://i.stack.imgur.com/VWJoe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VWJoe.png\" alt=\"enter image description here\" /></a> builtin comment\n// Top-level build file where you can add configuration options common to all sub-projects/modules.</p>\n<p>buildscript {</p>\n<pre><code>dependencies {\n\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:lasted-version&quot;\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3600473,"reputation":526,"user_id":3003883,"display_name":"Numan Turkeri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660347359,"creation_date":1660347359,"answer_id":73340607,"question_id":70938297,"body_markdown":"You dont need buildscript.You can add as &#39;id&#39; inside plugin component.I was face with it in hilt entegration.Here is the sample\r\nTop level gradle \r\n\r\n    \r\n    \r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.43.2&#39; apply false\r\n    }\r\n    \r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAnd second level(project level gradle)\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.dagger.hilt.android&#39;\r\n    }....\r\n\r\n\r\n    dependencies {\r\n    \r\n    .....\r\n        implementation &#39;com.google.dagger:hilt-android:2.43.2&#39;\r\n        annotationProcessor &#39;com.google.dagger:hilt-compiler:2.43.2&#39;\r\n    }\r\n\r\n","title":"How to add classpath in new version of Android Studio","body":"<p>You dont need buildscript.You can add as 'id' inside plugin component.I was face with it in hilt entegration.Here is the sample\nTop level gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.2.2' apply false\n    id 'com.android.library' version '7.2.2' apply false\n    id 'com.google.dagger.hilt.android' version '2.43.2' apply false\n}\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And second level(project level gradle)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.dagger.hilt.android'\n}....\n\n\ndependencies {\n\n.....\n    implementation 'com.google.dagger:hilt-android:2.43.2'\n    annotationProcessor 'com.google.dagger:hilt-compiler:2.43.2'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9961744,"reputation":925,"user_id":7370837,"display_name":"vinay shetty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672760755,"creation_date":1672760755,"answer_id":74995557,"question_id":70938297,"body_markdown":"We can add class path directly in the top Level Build.gradle file as follows.\r\n\r\nCode\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n        }\r\n        dependencies {\r\n            def nav_version = &quot;2.5.3&quot;\r\n            classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n        }\r\n    }\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false\r\n    }\r\n\r\nThis is sample for adding safe args for Navigation component as suggested in the [Documentation][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vrT9A.png\r\n  [2]: https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args","title":"How to add classpath in new version of Android Studio","body":"<p>We can add class path directly in the top Level Build.gradle file as follows.</p>\n<p>Code\n<a href=\"https://i.stack.imgur.com/vrT9A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vrT9A.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        def nav_version = &quot;2.5.3&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n    }\n}\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.20' apply false\n}\n</code></pre>\n<p>This is sample for adding safe args for Navigation component as suggested in the <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}],"owner":{"account_id":23273813,"reputation":628,"user_id":17358267,"display_name":"Dr.KeyOk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28514,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":71410793,"answer_count":5,"score":42,"last_activity_date":1696147812,"creation_date":1643708242,"question_id":70938297,"body_markdown":"I updated my android studio version to bumblebee version.&lt;br&gt;\r\nNow I want add navigation component to my project.&lt;br&gt;\r\nI want add classpath to gradle, but this file gradle has been changed and I don&#39;y know how can I add this.&lt;br&gt;\r\n\r\nI want add this `        classpath(&quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;)\r\n` to gradle files!&lt;br&gt;\r\n\r\nMy project gradle file is : \r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.1.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.1.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.10&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\nHow can I add this classpath to application gradle ?!","title":"How to add classpath in new version of Android Studio","body":"<p>I updated my android studio version to bumblebee version.<br>\nNow I want add navigation component to my project.<br>\nI want add classpath to gradle, but this file gradle has been changed and I don'y know how can I add this.<br></p>\n<p>I want add this <code>       classpath(&quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;)</code> to gradle files!<br></p>\n<p>My project gradle file is :</p>\n<pre><code>    plugins {\n    id 'com.android.application' version '7.1.0' apply false\n    id 'com.android.library' version '7.1.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.6.10' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>How can I add this classpath to application gradle ?!</p>\n"},{"tags":["java","tomcat","java-11","tomcat9","openjdk-11"],"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1574678236,"post_id":59029527,"comment_id":104303740,"body_markdown":"https://github.com/jbilander/HowTos/wiki/How-to-setup-Tomcat-9-on-Java-OpenJDK-11-and-Apache-proxy_ajp-on-Ubuntu-18.04-LTS","body":"<a href=\"https://github.com/jbilander/HowTos/wiki/How-to-setup-Tomcat-9-on-Java-OpenJDK-11-and-Apache-proxy_ajp-on-Ubuntu-18.04-LTS\" rel=\"nofollow noreferrer\">github.com/jbilander/HowTos/wiki/&hellip;</a>"},{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574679063,"post_id":59029527,"comment_id":104304167,"body_markdown":"I&#39;m not sure that we can use adoptopenJdk or not","body":"I&#39;m not sure that we can use adoptopenJdk or not"}],"answers":[{"comments":[{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574737812,"post_id":59032376,"comment_id":104328300,"body_markdown":"I&#39;m also assuming the same so I removed xerces.jar. Now it is giving errorto  some other package of rt.jar and weired part is everything work with java8.","body":"I&#39;m also assuming the same so I removed xerces.jar. Now it is giving errorto  some other package of rt.jar and weired part is everything work with java8."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1574738473,"post_id":59032376,"comment_id":104328430,"body_markdown":"It is not xerces.jar.  That wouldn&#39;t have caused this in the first place.  It is something else either in your WAR file or the Tomcat shared libraries.  Or possibly something weird on the JVM&#39;s bootclasspath.  (Hint: try a clean install of Tomcat.)","body":"It is not xerces.jar.  That wouldn&#39;t have caused this in the first place.  It is something else either in your WAR file or the Tomcat shared libraries.  Or possibly something weird on the JVM&#39;s bootclasspath.  (Hint: try a clean install of Tomcat.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1574738558,"post_id":59032376,"comment_id":104328448,"body_markdown":"It is (IMO) not weird that it works in Java 8.  Java 8 is somewhat tolerant of you loading std classes from non-std places.  Try using the JVM debugging option that allows you to see *where* each class is loaded from.  (Check the manual.)","body":"It is (IMO) not weird that it works in Java 8.  Java 8 is somewhat tolerant of you loading std classes from non-std places.  Try using the JVM debugging option that allows you to see <i>where</i> each class is loaded from.  (Check the manual.)"},{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574752285,"post_id":59032376,"comment_id":104332323,"body_markdown":"when I tried to start tomcat using startup.bat or using catalina.bat and it&#39;s running and it failed with above error when I started with tomcat windows service","body":"when I tried to start tomcat using startup.bat or using catalina.bat and it&#39;s running and it failed with above error when I started with tomcat windows service"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1574752837,"post_id":59032376,"comment_id":104332542,"body_markdown":"Could you please clarify your last comment.  I cannot work out what you are saying.","body":"Could you please clarify your last comment.  I cannot work out what you are saying."},{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574753393,"post_id":59032376,"comment_id":104332806,"body_markdown":"I tried to start tomcat using startup.bat or catalina.bat and tomcat started without any issue, no exception and same i tried to start with tomcat windows service it gave the same error message which I mentioned earlier. the only difference is it tomcat service start with JAVA Options parameter set while installing tomcat and startup.bat and catalina.bat ignore these parameter. These parameter we set while installing tomcat(we modified service.bat for our own purpose)","body":"I tried to start tomcat using startup.bat or catalina.bat and tomcat started without any issue, no exception and same i tried to start with tomcat windows service it gave the same error message which I mentioned earlier. the only difference is it tomcat service start with JAVA Options parameter set while installing tomcat and startup.bat and catalina.bat ignore these parameter. These parameter we set while installing tomcat(we modified service.bat for our own purpose)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1574755035,"post_id":59032376,"comment_id":104333423,"body_markdown":"So what are the options that you are providing?   What modifications did you make to service.bat?","body":"So what are the options that you are providing?   What modifications did you make to service.bat?"},{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574756740,"post_id":59032376,"comment_id":104334202,"body_markdown":"Something like this &quot;%EXECUTABLE%&quot; //US//%SERVICE_NAME% ++JvmOptions &quot;-Djava.security.manager;-Djava.security.policy=%CATALINA_HOME%\\conf\\catalina.policy; with many other parameters , this same change it already their in tomcat which was running with java 8","body":"Something like this &quot;%EXECUTABLE%&quot; //US//%SERVICE_NAME% ++JvmOptions &quot;-Djava.security.manager;-Djava.security.policy=%CATALINA_HO&zwnj;&#8203;ME%\\conf\\catalina.po&zwnj;&#8203;licy; with many other parameters , this same change it already their in tomcat which was running with java 8"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1574757166,"post_id":59032376,"comment_id":104334382,"body_markdown":"Put the whole lot into the question.  There is a good chance that one of those options is the root cause of the problem.","body":"Put the whole lot into the question.  There is a good chance that one of those options is the root cause of the problem."},{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574757607,"post_id":59032376,"comment_id":104334587,"body_markdown":"Below is the list of paramter set in service.bat\n-Dcatalina.base=F:\\ApacheTomcat\n-Dcom.sun.management.jmxremote.port=5886\n-Dcom.sun.management.jmxremote.ssl=false\n-Dcom.sun.management.jmxremote.authenticate=false\n-Xrs\n-Djava.io.tmpdir=F:\\ApacheTomcat\\temp\n-Djava.security.manager\n-Djava.security.policy=F:\\ApacheTomcat\\conf\\catalina.policy\n-Dorg.apache.catalina.connector.RECYCLE_FACADES=true\n-Dorg.apache.catalina.connector.CoyoteAdapter.ALLOW_BACKSLASH=false\n-Dorg.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=false\n-Dorg.apache.coyote.USE_CUSTOM_STATUS_MSG_IN_HEADER=false","body":"Below is the list of paramter set in service.bat -Dcatalina.base=F:\\ApacheTomcat -Dcom.sun.management.jmxremote.port=5886 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Xrs -Djava.io.tmpdir=F:\\ApacheTomcat\\temp -Djava.security.manager -Djava.security.policy=F:\\ApacheTomcat\\conf\\catalina.policy -Dorg.apache.catalina.connector.RECYCLE_FACADES=true -Dorg.apache.catalina.connector.CoyoteAdapter.ALLOW_BACKSLAS&zwnj;&#8203;H=false -Dorg.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=fa&zwnj;&#8203;lse -Dorg.apache.coyote.USE_CUSTOM_STATUS_MSG_IN_HEADER=false"},{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574757886,"post_id":59032376,"comment_id":104334730,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/203087/discussion-between-rahul-sharma-and-stephen-c).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/203087/discussion-between-rahul-sharma-and-stephen-c\">continue this discussion in chat</a>."},{"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"score":0,"creation_date":1574765342,"post_id":59032376,"comment_id":104338878,"body_markdown":"After diagnostic I found that -Djava.security.manager parameter is causing the whole problem that we set additionally in service.bat while installing tomcat. After removing -Djava.security.manager,tomcat is working normally. However, security manager we enabled in java 8 due to security policy and now because of that tomcat it is not running in java11 , Also I modified original question.","body":"After diagnostic I found that -Djava.security.manager parameter is causing the whole problem that we set additionally in service.bat while installing tomcat. After removing -Djava.security.manager,tomcat is working normally. However, security manager we enabled in java 8 due to security policy and now because of that tomcat it is not running in java11 , Also I modified original question."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574687144,"creation_date":1574686609,"answer_id":59032376,"question_id":59029527,"body_markdown":"This is pretty weird.  The `java.io` module is part of the Java runtime.\r\n\r\nThe only explanation I can think of is that someone has put a copy of `rt.jar` &lt;sup&gt;1&lt;/sup&gt; from an older version of Java into your webapp&#39;s WAR file, or one of the Tomcat shared libraries folder.  Since Tomcat&#39;s webapp class-loaders have the search order inverted compared with a typical Java application, that could lead to these classes being loaded from the wrong place, leading to a sealing violation.\r\n\r\n&lt;sup&gt;1 - Or something like this.  It also could be a JAR containing a subset of the standard class libraries that have been &quot;tweaked&quot; for some purpose.&lt;/sup&gt;","title":"Tomcat 9 not able to start with OpenJDK 11","body":"<p>This is pretty weird.  The <code>java.io</code> module is part of the Java runtime.</p>\n\n<p>The only explanation I can think of is that someone has put a copy of <code>rt.jar</code> <sup>1</sup> from an older version of Java into your webapp's WAR file, or one of the Tomcat shared libraries folder.  Since Tomcat's webapp class-loaders have the search order inverted compared with a typical Java application, that could lead to these classes being loaded from the wrong place, leading to a sealing violation.</p>\n\n<p><sup>1 - Or something like this.  It also could be a JAR containing a subset of the standard class libraries that have been \"tweaked\" for some purpose.</sup></p>\n"},{"tags":[],"owner":{"account_id":8928280,"reputation":58,"user_id":6661742,"display_name":"Hari Prassad Kannan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586252494,"creation_date":1586252494,"answer_id":61077069,"question_id":59029527,"body_markdown":"what was the installation procedure followed for Tomcat 9 and Openjdk 11\r\n\r\nPlease make sure that you point to the proper JVM.dll file because in OpenJDK 11 version\r\nnot bundled with JRE. in Tomcat properties you need to map jvm.dll present in bin/server/jvm.dll.\r\n","title":"Tomcat 9 not able to start with OpenJDK 11","body":"<p>what was the installation procedure followed for Tomcat 9 and Openjdk 11</p>\n\n<p>Please make sure that you point to the proper JVM.dll file because in OpenJDK 11 version\nnot bundled with JRE. in Tomcat properties you need to map jvm.dll present in bin/server/jvm.dll.</p>\n"}],"owner":{"account_id":9857169,"reputation":33,"user_id":7301332,"display_name":"rahul sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696147480,"creation_date":1574676984,"question_id":59029527,"body_markdown":"I installed *Tomcat 9* with *OpenJDK 11* but the Tomcat service didn&#39;t start and failed with the following error:\r\n\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/orion]]\r\n    \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1432)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1422)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:944)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:261)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:801)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:695)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:350)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:492)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/orion]]\r\n    \tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1432)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1422)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:944)\r\n    \t... 21 more\r\n    Caused by: org.apache.xerces.parsers.ObjectFactory$ConfigurationError: Provider org.apache.xerces.parsers.XIncludeAwareParserConfiguration could not be instantiated: java.lang.SecurityException: Sealing violation loading java.io.StringReader : Package java.io is sealed.\r\n    \tat org.apache.xerces.parsers.ObjectFactory.newInstance(Unknown Source)\r\n    \tat org.apache.xerces.parsers.ObjectFactory.createObject(Unknown Source)\r\n    \tat org.apache.xerces.parsers.ObjectFactory.createObject(Unknown Source)\r\n    \tat org.apache.xerces.parsers.SAXParser.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.xerces.parsers.SAXParser.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.xerces.jaxp.SAXParserImpl.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.xerces.jaxp.SAXParserFactoryImpl.newSAXParser(Unknown Source)\r\n    \tat org.apache.tomcat.util.digester.Digester.getParser(Digester.java:614)\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXmlParser.&lt;init&gt;(WebXmlParser.java:62)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1099)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:769)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5007)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t... 27 more\r\n    \r\nAfter diagnostic I found that one of the jar(xerces.jar) is creating issue, so I removed that jar from my application. After that tomcat service started without any issue.   \r\n    \r\nBut once I try to access one of my servlet it gave me below error:\r\n\r\n    INFO: Marking servlet [InfoServlet] as unavailable\r\n    Nov 25, 2019 3:33:24 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Allocate exception for servlet [InfoServlet]\r\n    java.lang.SecurityException: Sealing violation loading java.io.StringWriter : Package java.io is sealed.\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2363)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase$PrivilegedFindClassByName.run(WebappClassLoaderBase.java:156)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase$PrivilegedFindClassByName.run(WebappClassLoaderBase.java:145)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:832)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1297)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1157)\r\n    \tat org.apache.log4j.Category.getInstance(Category.java:522)\r\n    \tat com.pg.orion.basic.rmiservlet.InfoServlet.&lt;clinit&gt;(InfoServlet.java:32)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:151)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1032)\r\n    \tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:761)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:394)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    \r\n    \r\n    \r\n**Best part is everything is working with Java 8 without removing anything.**\r\n\r\nIt looks like issue is not related to `xerces.jar` as it is already working with *Java 8*. After some research I found that \r\n\r\nA sealing violation means that some classes from a sealed package were loaded from two different locations (directories or jar files).\r\n\r\nA sealed package is one that essentially says &quot;I know that all classes in this package come from a single jar file. For security reason no other location may provide classes that are in this package&quot;.\r\n \r\nThis is not the case as everything working with *Java 8*. Any help will be appreciated.\r\n\r\n\r\nAfter diagnostic I found that -Djava.security.manager parameter is causing the whole problem that we set additionally in service.bat while installing tomcat. After removing -Djava.security.manager,tomcat is working normally. \r\nHowever, security manager we enabled in java 8 due to security policy and now because of that tomcat it is not running in java11. \r\nHow to resolve this issue with security manager enable and with java 11??? \r\n     ","title":"Tomcat 9 not able to start with OpenJDK 11","body":"<p>I installed <em>Tomcat 9</em> with <em>OpenJDK 11</em> but the Tomcat service didn't start and failed with the following error:</p>\n\n<pre><code>SEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/orion]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1432)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1422)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:944)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:261)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:801)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:695)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:350)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:492)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/orion]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1432)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1422)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:944)\n    ... 21 more\nCaused by: org.apache.xerces.parsers.ObjectFactory$ConfigurationError: Provider org.apache.xerces.parsers.XIncludeAwareParserConfiguration could not be instantiated: java.lang.SecurityException: Sealing violation loading java.io.StringReader : Package java.io is sealed.\n    at org.apache.xerces.parsers.ObjectFactory.newInstance(Unknown Source)\n    at org.apache.xerces.parsers.ObjectFactory.createObject(Unknown Source)\n    at org.apache.xerces.parsers.ObjectFactory.createObject(Unknown Source)\n    at org.apache.xerces.parsers.SAXParser.&lt;init&gt;(Unknown Source)\n    at org.apache.xerces.parsers.SAXParser.&lt;init&gt;(Unknown Source)\n    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.&lt;init&gt;(Unknown Source)\n    at org.apache.xerces.jaxp.SAXParserImpl.&lt;init&gt;(Unknown Source)\n    at org.apache.xerces.jaxp.SAXParserFactoryImpl.newSAXParser(Unknown Source)\n    at org.apache.tomcat.util.digester.Digester.getParser(Digester.java:614)\n    at org.apache.tomcat.util.descriptor.web.WebXmlParser.&lt;init&gt;(WebXmlParser.java:62)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1099)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:769)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5007)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\n</code></pre>\n\n<p>After diagnostic I found that one of the jar(xerces.jar) is creating issue, so I removed that jar from my application. After that tomcat service started without any issue.   </p>\n\n<p>But once I try to access one of my servlet it gave me below error:</p>\n\n<pre><code>INFO: Marking servlet [InfoServlet] as unavailable\nNov 25, 2019 3:33:24 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Allocate exception for servlet [InfoServlet]\njava.lang.SecurityException: Sealing violation loading java.io.StringWriter : Package java.io is sealed.\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2363)\n    at org.apache.catalina.loader.WebappClassLoaderBase$PrivilegedFindClassByName.run(WebappClassLoaderBase.java:156)\n    at org.apache.catalina.loader.WebappClassLoaderBase$PrivilegedFindClassByName.run(WebappClassLoaderBase.java:145)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:832)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1297)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1157)\n    at org.apache.log4j.Category.getInstance(Category.java:522)\n    at com.pg.orion.basic.rmiservlet.InfoServlet.&lt;clinit&gt;(InfoServlet.java:32)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:151)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1032)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:761)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:394)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n\n<p><strong>Best part is everything is working with Java 8 without removing anything.</strong></p>\n\n<p>It looks like issue is not related to <code>xerces.jar</code> as it is already working with <em>Java 8</em>. After some research I found that </p>\n\n<p>A sealing violation means that some classes from a sealed package were loaded from two different locations (directories or jar files).</p>\n\n<p>A sealed package is one that essentially says \"I know that all classes in this package come from a single jar file. For security reason no other location may provide classes that are in this package\".</p>\n\n<p>This is not the case as everything working with <em>Java 8</em>. Any help will be appreciated.</p>\n\n<p>After diagnostic I found that -Djava.security.manager parameter is causing the whole problem that we set additionally in service.bat while installing tomcat. After removing -Djava.security.manager,tomcat is working normally. \nHowever, security manager we enabled in java 8 due to security policy and now because of that tomcat it is not running in java11. \nHow to resolve this issue with security manager enable and with java 11??? </p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696147003,"creation_date":1696147003,"answer_id":77209663,"question_id":77209521,"body_markdown":"You can utilize Dynamic Query with the Specification(JPA) or Query DSL solution. I believe that [this post][1] could be of assistance. You can implement it very easily using NamedParameterJdbcTemplate, as demonstrated in the following example:\r\n\r\n    @Service\r\n    public class ExampleService {\r\n    \r\n    \t@Autowired\r\n        private NamedParameterJdbcTemplate jdbcTemplate;\r\n    \r\n        \r\n    \r\n    \r\n        public void executeConditionalQuery(boolean condition) {\r\n            String sql = &quot;SELECT * FROM your_table WHERE&quot;;\r\n            Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    \r\n            if (condition) {\r\n                sql += &quot; column_name = :value&quot;;\r\n                params.put(&quot;value&quot;, &quot;desired_value&quot;);\r\n            } else {\r\n                sql += &quot; another_column = :value&quot;;\r\n                params.put(&quot;value&quot;, &quot;another_desired_value&quot;);\r\n            }\r\n    \r\n            jdbcTemplate.query(sql, params, (rs, rowNum) -&gt; {\r\n                // Process the query results here\r\n                return null;\r\n            });\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/28874135/dynamic-spring-data-jpa-repository-query-with-arbitrary-and-clauses\r\n","title":"Advanced Custom Query For Spring JPA","body":"<p>You can utilize Dynamic Query with the Specification(JPA) or Query DSL solution. I believe that <a href=\"https://stackoverflow.com/questions/28874135/dynamic-spring-data-jpa-repository-query-with-arbitrary-and-clauses\">this post</a> could be of assistance. You can implement it very easily using NamedParameterJdbcTemplate, as demonstrated in the following example:</p>\n<pre><code>@Service\npublic class ExampleService {\n\n    @Autowired\n    private NamedParameterJdbcTemplate jdbcTemplate;\n\n    \n\n\n    public void executeConditionalQuery(boolean condition) {\n        String sql = &quot;SELECT * FROM your_table WHERE&quot;;\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n\n        if (condition) {\n            sql += &quot; column_name = :value&quot;;\n            params.put(&quot;value&quot;, &quot;desired_value&quot;);\n        } else {\n            sql += &quot; another_column = :value&quot;;\n            params.put(&quot;value&quot;, &quot;another_desired_value&quot;);\n        }\n\n        jdbcTemplate.query(sql, params, (rs, rowNum) -&gt; {\n            // Process the query results here\n            return null;\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77209663,"answer_count":1,"score":0,"last_activity_date":1696147003,"creation_date":1696143578,"question_id":77209521,"body_markdown":"I have a springboot endpoint where users have an advanced search option. Users are able to put in data they want to filter by, and users can put any amount of restrictions they want (with at least 1).\r\n\r\nHere is my DTO:\r\n\r\n\r\n\r\n    Date date;\r\n    String email;\r\n    int transactionNumber;\r\n\r\n\r\n\r\nIn my service layer, I have a stringbuilder that looks like this:\r\n\r\n    public String createQuery(DTO dto){\r\n        StringBuilder sb = new StringBuilder();\r\n        if(Objects.nonNull(dto.getDate())){\r\n            sb.apphend(&quot; AND date = &quot; + dto.getDate() + &quot; &quot;);\r\n        }\r\n    }\r\n    //... etc till the entire string is made\r\n\r\nIn my repository layer:\r\n\r\n    @Query(value = &quot;SELECT * FROM table WHERE user = :user :customQuery&quot;, nativeQuery = true)\r\n    List&lt;tableEntity&gt; findByAdvancedSearch(@Param(&quot;user) String user, @Param(&quot;customQuery&quot;) String customQuery);\r\n\r\n\r\nI am not sure how to fix this or go about having a repository where I can have a query take a dynamic number of restrictions. Is there a good way to do this?\r\n\r\nI tried to use the custom query, since you are able to do a custom number of inputs, but I realize that using the `:variable` command sanitizes the query as a string.","title":"Advanced Custom Query For Spring JPA","body":"<p>I have a springboot endpoint where users have an advanced search option. Users are able to put in data they want to filter by, and users can put any amount of restrictions they want (with at least 1).</p>\n<p>Here is my DTO:</p>\n<pre><code>Date date;\nString email;\nint transactionNumber;\n</code></pre>\n<p>In my service layer, I have a stringbuilder that looks like this:</p>\n<pre><code>public String createQuery(DTO dto){\n    StringBuilder sb = new StringBuilder();\n    if(Objects.nonNull(dto.getDate())){\n        sb.apphend(&quot; AND date = &quot; + dto.getDate() + &quot; &quot;);\n    }\n}\n//... etc till the entire string is made\n</code></pre>\n<p>In my repository layer:</p>\n<pre><code>@Query(value = &quot;SELECT * FROM table WHERE user = :user :customQuery&quot;, nativeQuery = true)\nList&lt;tableEntity&gt; findByAdvancedSearch(@Param(&quot;user) String user, @Param(&quot;customQuery&quot;) String customQuery);\n</code></pre>\n<p>I am not sure how to fix this or go about having a repository where I can have a query take a dynamic number of restrictions. Is there a good way to do this?</p>\n<p>I tried to use the custom query, since you are able to do a custom number of inputs, but I realize that using the <code>:variable</code> command sanitizes the query as a string.</p>\n"},{"tags":["java","data-structures"],"answers":[{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1696161584,"post_id":77209458,"comment_id":136115522,"body_markdown":"Downvoted because code-only answers are not useful.","body":"Downvoted because code-only answers are not useful."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1696141597,"creation_date":1696141597,"answer_id":77209458,"question_id":77209297,"body_markdown":"It runs correctly and returns the correct output.\r\n\r\nHere is an alternate implementation.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nint N = in.nextInt(), i = 0;\r\nrecord Student(int id, String firstName, String cgpa) {}\r\nList&lt;Student&gt; a = new ArrayList&lt;&gt;();\r\ndo a.add(new Student(in.nextInt(), in.next(), in.next()));\r\nwhile (++i &lt; N);\r\na.sort((x, y) -&gt; {\r\n    if (x.cgpa.equals(y.cgpa))\r\n        if (x.firstName.equalsIgnoreCase(y.firstName))\r\n            return Integer.compare(x.id, y.id);\r\n        else return x.firstName.compareToIgnoreCase(y.firstName);\r\n    else return y.cgpa.compareTo(x.cgpa);\r\n});\r\na.forEach(x -&gt; System.out.println(x.firstName));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n5\r\n33 Rumpa 3.68\r\n85 Ashis 3.85\r\n56 Samiha 3.75\r\n19 Samara 3.75\r\n22 Fahim 3.76\r\nAshis\r\nFahim\r\nSamara\r\nSamiha\r\nRumpa\r\n```","title":"I have a question on HackerRank where some test cases pass for this code, and some do not","body":"<p>It runs correctly and returns the correct output.</p>\n<p>Here is an alternate implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nint N = in.nextInt(), i = 0;\nrecord Student(int id, String firstName, String cgpa) {}\nList&lt;Student&gt; a = new ArrayList&lt;&gt;();\ndo a.add(new Student(in.nextInt(), in.next(), in.next()));\nwhile (++i &lt; N);\na.sort((x, y) -&gt; {\n    if (x.cgpa.equals(y.cgpa))\n        if (x.firstName.equalsIgnoreCase(y.firstName))\n            return Integer.compare(x.id, y.id);\n        else return x.firstName.compareToIgnoreCase(y.firstName);\n    else return y.cgpa.compareTo(x.cgpa);\n});\na.forEach(x -&gt; System.out.println(x.firstName));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>5\n33 Rumpa 3.68\n85 Ashis 3.85\n56 Samiha 3.75\n19 Samara 3.75\n22 Fahim 3.76\nAshis\nFahim\nSamara\nSamiha\nRumpa\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696146941,"creation_date":1696146625,"answer_id":77209644,"question_id":77209297,"body_markdown":"The problem is here:  \r\nhttps://www.hackerrank.com/challenges/java-sort/problem\r\n\r\nThe problem states (under **Constraints**):\r\n&gt; The name contains only lowercase English letters.\r\n\r\nThat&#39;s a lie.  \r\nWhen I submitted your code (to Hackerrank), I got 5 out of 7 test cases failed. I unlocked the first failed test case and downloaded it. Here it is:\r\n```none\r\n100\r\n1 PdeLwCYcXHBUyDovShzHKI 1.85\r\n2 XHjqMumVZfSW 0.18\r\n3 zXiGscYethmwLgalEVwuSGdzxI 0.17\r\n4 ggjwTvvaAraioUNmKKfKWwA 1.13\r\n5 PrvDm 1.38\r\n6 NnDGDcEQ 1.59\r\n7 hyDbVOGaobNkXZR 2.39\r\n8 HYasEeNIkTsDSnuMXQGDuFIZuGen 2.01\r\n9 AVSHnKvDZorlL 3.46\r\n10 aOdxZenFiSfZzoO 3.32\r\n11 PnfTXKEvdJeLaciXAIooDmqlTuBxJL 1.30\r\n12 FSXEeOwelNxMVutJDFjEzLm 0.81\r\n13 QryjiTfrkcUGnJBnkzAWwdiqJhZqh 1.87\r\n14 YVTVYxRUiAoFNNgHJGyF 0.70\r\n15 dofSxfFEwPPnKwFfVsynJkBDhumIA 1.52\r\n16 JXneisxgkeLkak 2.98\r\n17 hjBCAXDgihUqPExDuRrJcz 1.15\r\n18 fwXRzErDWcyKjPxbOfApVJx 1.81\r\n19 YAmyNFyT 0.12\r\n20 VSgQTgiqNyQMRerhQdLRUemcEQX 3.75\r\n21 tMloJlO 1.18\r\n22 yvOgyJLb 3.21\r\n23 VDhZY 3.14\r\n24 XvxXsDKIjkFJHiWTOkd 3.37\r\n25 mcNnINTMSdpMxwTApWSJ 2.72\r\n26 vosdf 2.00\r\n27 DHRSaJQJdJiJBmxjmLouQ 2.80\r\n28 KvzKzel 0.10\r\n29 xcRgist 0.23\r\n30 QWPwPuN 1.58\r\n31 sydIngROEZHupsHzPFFpXhZh 3.02\r\n32 yNXtoxp 0.78\r\n33 bGVtEfpjOniybCxKYVrPMkqbhVYsG 3.19\r\n34 bsbxNbUVvECrfSV 3.51\r\n35 fRHKrHh 0.16\r\n36 XgBjLqwusge 1.57\r\n37 jTkQkHxwAKfyykjWiyJKTqcCUZ 2.26\r\n38 ZZDGEToBqnxnPK 2.13\r\n39 pVGMylZEC 2.64\r\n40 UhhdgCqcOuWAJOFWKqsGUGw 3.62\r\n41 keyYAGA 0.03\r\n42 MkVKGyExPayZExpJEl 0.42\r\n43 uMwoJFugvXGnSgaApSIzNN 3.79\r\n44 BmnINxoKI 0.91\r\n45 toTIoHWsZB 0.36\r\n46 xvIUeYZMlBrRbAUxcLtzLPdjORQIYZ 0.81\r\n47 LIaCQ 1.28\r\n48 jadiayxBP 1.18\r\n49 NQfoFodr 0.48\r\n50 QumKkEcRFIdHaTHudcvHjEAYlAnkn 1.99\r\n51 hlTgCgoFvpFUSXTssbQ 3.55\r\n52 mzEhSqlRtxslyNZZnmCGGdvJbujoIe 0.97\r\n53 ABAJwYeibIJQ 3.58\r\n54 KUlxpQpgbCPp 2.61\r\n55 XhhoNTJ 2.06\r\n56 nTBfkiqGrAem 1.78\r\n57 ArFnJ 1.33\r\n58 tzqGKOBIHnl 0.86\r\n59 gmWXph 3.85\r\n60 KkKNPuDXiddAsnCQZgnMQyhJqB 2.47\r\n61 PDpUZLlXiihnpYCmDCor 2.62\r\n62 WneXKKERUBQ 1.57\r\n63 NElkBCFZUUJBLLcVjQn 1.48\r\n64 mdOtOeFpyLW 2.73\r\n65 FOIzcUHOGYTBnGLn 0.02\r\n66 ibyUYmXdfoAW 3.75\r\n67 wCZQpyjUBfEmZpApljyxKbPv 2.04\r\n68 fmbSzWBAFYvgvYoAfNgh 0.56\r\n69 rAFMZelAhtAYs 0.12\r\n70 IwQmGhDJAiExVBjUmHXAfvUDqUyksh 3.38\r\n71 CEoQmJhGNuufStMmSAHCj 0.95\r\n72 LtbWRlEpzNbawIIo 3.94\r\n73 FxwndjRHEXgXaXYw 1.55\r\n74 euKDKBZrwqODRtIyWji 2.01\r\n75 ssLafrVwU 3.93\r\n76 ZlusqchpsvpSimDBnocPXdgCW 1.52\r\n77 FfMtpOUNvGKBETc 2.39\r\n78 WJTKFI 0.36\r\n79 bHfivIcusSyRnaovkBZazI 1.87\r\n80 RzXoSUoHEcIH 1.73\r\n81 dkrlgltSHdWFTvldivCmKGIRdp 0.60\r\n82 NDnPzRMahqJNvqArVFrqrZOphOAHO 0.19\r\n83 tVsahPGsuJFIQ 1.37\r\n84 EcKbvrkcWEkqZZMHXnqzjTSG 2.68\r\n85 EnSVRSXzsyWuCMVVe 2.15\r\n86 qJOdMwks 2.09\r\n87 tNDpFOSdpdUfUbzkcINKdHIaZxV 0.28\r\n88 VkNpJJXfFnzBclOPwIvdabTxqSzFJ 2.97\r\n89 SjqGgkIlXdWxmVgZkrqgaBX 1.28\r\n90 agPfUmvm 1.79\r\n91 oWgzOedgOdRozRaEymNOLPRCqvl 0.60\r\n92 LdHAmtvQLIEpXoWwmhfEDmguyJ 1.61\r\n93 hYGUutHgTzGQhWM 1.89\r\n94 FEXmMZqytnoWRMACuad 1.15\r\n95 wAEauaPeHuTdnyQY 0.75\r\n96 vcGdlaKlNsEp 0.90\r\n97 OllfZlACfxPdXgsM 1.56\r\n98 FlbyiCXNChMaokOglrGd 0.25\r\n99 dwBNMwtQwYeZprqQpXK 1.70\r\n100 vZuGpylfeQrliAXfJT 2.45\r\n```\r\nAs you can see, it does **not** contain _only lowercase English letters_.\r\n\r\nHence you just need to change your comparison of the [Student] name to the following:\r\n```java\r\nint fNameComparison= student1.getFname().compareTo(student2.getFname());\r\n```\r\nOnce I made that change and re-submitted the code, all test cases passed.\r\n\r\nFor the sake of completeness, here is the entire solution &amp;ndash; including the above change.\r\n```java\r\nimport java.util.*;\r\n\r\nclass Student{\r\n\tprivate int id;\r\n\tprivate String fname;\r\n\tprivate double cgpa;\r\n\tpublic Student(int id, String fname, double cgpa) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.fname = fname;\r\n\t\tthis.cgpa = cgpa;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic String getFname() {\r\n\t\treturn fname;\r\n\t}\r\n\tpublic double getCgpa() {\r\n\t\treturn cgpa;\r\n\t}\r\n}\r\n\r\nclass CombinedComparator implements Comparator&lt;Student&gt;{\r\n    @Override\r\n     public int compare(Student student1, Student student2){\r\n         int gpaComparison = Double.compare(student2.getCgpa(), student1.getCgpa());\r\n         \r\n         if(gpaComparison==0){\r\n             int fNameComparison= student1.getFname().compareTo(student2.getFname());\r\n             if(fNameComparison==0){\r\n                 return Integer.compare(student1.getId(), student2.getId());\r\n             }\r\n             return fNameComparison;\r\n         }\r\n         return gpaComparison;\r\n     }\r\n}\r\n\r\n//Complete the code\r\npublic class Solution\r\n{\r\n\tpublic static void main(String[] args){\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tint testCases = Integer.parseInt(in.nextLine());\r\n\t\t\r\n\t\tList&lt;Student&gt; studentList = new ArrayList&lt;Student&gt;();\r\n\t\twhile(testCases&gt;0){\r\n\t\t\tint id = in.nextInt();\r\n\t\t\tString fname = in.next();\r\n\t\t\tdouble cgpa = in.nextDouble();\r\n\t\t\t\r\n\t\t\tStudent st = new Student(id, fname, cgpa);\r\n\t\t\tstudentList.add(st);\r\n\t\t\t\r\n\t\t\ttestCases--;\r\n\t\t}\r\n        Collections.sort(studentList,new CombinedComparator());\r\n      \tfor(Student st: studentList){\r\n\t\t\tSystem.out.println(st.getFname());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nBy the way, nearly all HackerRank problems have online solutions available. Just Google for **hackerrank** ___name of problem___ **solution**. So for your problem, I Googled:\r\n&gt; hackerrank java sort solution\r\n\r\nFirst result was:  \r\nhttps://programs.programmingoneonone.com/2021/02/hackerrank-java-sort-solution.html","title":"I have a question on HackerRank where some test cases pass for this code, and some do not","body":"<p>The problem is here:<br />\n<a href=\"https://www.hackerrank.com/challenges/java-sort/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/java-sort/problem</a></p>\n<p>The problem states (under <strong>Constraints</strong>):</p>\n<blockquote>\n<p>The name contains only lowercase English letters.</p>\n</blockquote>\n<p>That's a lie.<br />\nWhen I submitted your code (to Hackerrank), I got 5 out of 7 test cases failed. I unlocked the first failed test case and downloaded it. Here it is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>100\n1 PdeLwCYcXHBUyDovShzHKI 1.85\n2 XHjqMumVZfSW 0.18\n3 zXiGscYethmwLgalEVwuSGdzxI 0.17\n4 ggjwTvvaAraioUNmKKfKWwA 1.13\n5 PrvDm 1.38\n6 NnDGDcEQ 1.59\n7 hyDbVOGaobNkXZR 2.39\n8 HYasEeNIkTsDSnuMXQGDuFIZuGen 2.01\n9 AVSHnKvDZorlL 3.46\n10 aOdxZenFiSfZzoO 3.32\n11 PnfTXKEvdJeLaciXAIooDmqlTuBxJL 1.30\n12 FSXEeOwelNxMVutJDFjEzLm 0.81\n13 QryjiTfrkcUGnJBnkzAWwdiqJhZqh 1.87\n14 YVTVYxRUiAoFNNgHJGyF 0.70\n15 dofSxfFEwPPnKwFfVsynJkBDhumIA 1.52\n16 JXneisxgkeLkak 2.98\n17 hjBCAXDgihUqPExDuRrJcz 1.15\n18 fwXRzErDWcyKjPxbOfApVJx 1.81\n19 YAmyNFyT 0.12\n20 VSgQTgiqNyQMRerhQdLRUemcEQX 3.75\n21 tMloJlO 1.18\n22 yvOgyJLb 3.21\n23 VDhZY 3.14\n24 XvxXsDKIjkFJHiWTOkd 3.37\n25 mcNnINTMSdpMxwTApWSJ 2.72\n26 vosdf 2.00\n27 DHRSaJQJdJiJBmxjmLouQ 2.80\n28 KvzKzel 0.10\n29 xcRgist 0.23\n30 QWPwPuN 1.58\n31 sydIngROEZHupsHzPFFpXhZh 3.02\n32 yNXtoxp 0.78\n33 bGVtEfpjOniybCxKYVrPMkqbhVYsG 3.19\n34 bsbxNbUVvECrfSV 3.51\n35 fRHKrHh 0.16\n36 XgBjLqwusge 1.57\n37 jTkQkHxwAKfyykjWiyJKTqcCUZ 2.26\n38 ZZDGEToBqnxnPK 2.13\n39 pVGMylZEC 2.64\n40 UhhdgCqcOuWAJOFWKqsGUGw 3.62\n41 keyYAGA 0.03\n42 MkVKGyExPayZExpJEl 0.42\n43 uMwoJFugvXGnSgaApSIzNN 3.79\n44 BmnINxoKI 0.91\n45 toTIoHWsZB 0.36\n46 xvIUeYZMlBrRbAUxcLtzLPdjORQIYZ 0.81\n47 LIaCQ 1.28\n48 jadiayxBP 1.18\n49 NQfoFodr 0.48\n50 QumKkEcRFIdHaTHudcvHjEAYlAnkn 1.99\n51 hlTgCgoFvpFUSXTssbQ 3.55\n52 mzEhSqlRtxslyNZZnmCGGdvJbujoIe 0.97\n53 ABAJwYeibIJQ 3.58\n54 KUlxpQpgbCPp 2.61\n55 XhhoNTJ 2.06\n56 nTBfkiqGrAem 1.78\n57 ArFnJ 1.33\n58 tzqGKOBIHnl 0.86\n59 gmWXph 3.85\n60 KkKNPuDXiddAsnCQZgnMQyhJqB 2.47\n61 PDpUZLlXiihnpYCmDCor 2.62\n62 WneXKKERUBQ 1.57\n63 NElkBCFZUUJBLLcVjQn 1.48\n64 mdOtOeFpyLW 2.73\n65 FOIzcUHOGYTBnGLn 0.02\n66 ibyUYmXdfoAW 3.75\n67 wCZQpyjUBfEmZpApljyxKbPv 2.04\n68 fmbSzWBAFYvgvYoAfNgh 0.56\n69 rAFMZelAhtAYs 0.12\n70 IwQmGhDJAiExVBjUmHXAfvUDqUyksh 3.38\n71 CEoQmJhGNuufStMmSAHCj 0.95\n72 LtbWRlEpzNbawIIo 3.94\n73 FxwndjRHEXgXaXYw 1.55\n74 euKDKBZrwqODRtIyWji 2.01\n75 ssLafrVwU 3.93\n76 ZlusqchpsvpSimDBnocPXdgCW 1.52\n77 FfMtpOUNvGKBETc 2.39\n78 WJTKFI 0.36\n79 bHfivIcusSyRnaovkBZazI 1.87\n80 RzXoSUoHEcIH 1.73\n81 dkrlgltSHdWFTvldivCmKGIRdp 0.60\n82 NDnPzRMahqJNvqArVFrqrZOphOAHO 0.19\n83 tVsahPGsuJFIQ 1.37\n84 EcKbvrkcWEkqZZMHXnqzjTSG 2.68\n85 EnSVRSXzsyWuCMVVe 2.15\n86 qJOdMwks 2.09\n87 tNDpFOSdpdUfUbzkcINKdHIaZxV 0.28\n88 VkNpJJXfFnzBclOPwIvdabTxqSzFJ 2.97\n89 SjqGgkIlXdWxmVgZkrqgaBX 1.28\n90 agPfUmvm 1.79\n91 oWgzOedgOdRozRaEymNOLPRCqvl 0.60\n92 LdHAmtvQLIEpXoWwmhfEDmguyJ 1.61\n93 hYGUutHgTzGQhWM 1.89\n94 FEXmMZqytnoWRMACuad 1.15\n95 wAEauaPeHuTdnyQY 0.75\n96 vcGdlaKlNsEp 0.90\n97 OllfZlACfxPdXgsM 1.56\n98 FlbyiCXNChMaokOglrGd 0.25\n99 dwBNMwtQwYeZprqQpXK 1.70\n100 vZuGpylfeQrliAXfJT 2.45\n</code></pre>\n<p>As you can see, it does <strong>not</strong> contain <em>only lowercase English letters</em>.</p>\n<p>Hence you just need to change your comparison of the [Student] name to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int fNameComparison= student1.getFname().compareTo(student2.getFname());\n</code></pre>\n<p>Once I made that change and re-submitted the code, all test cases passed.</p>\n<p>For the sake of completeness, here is the entire solution – including the above change.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Student{\n    private int id;\n    private String fname;\n    private double cgpa;\n    public Student(int id, String fname, double cgpa) {\n        super();\n        this.id = id;\n        this.fname = fname;\n        this.cgpa = cgpa;\n    }\n    public int getId() {\n        return id;\n    }\n    public String getFname() {\n        return fname;\n    }\n    public double getCgpa() {\n        return cgpa;\n    }\n}\n\nclass CombinedComparator implements Comparator&lt;Student&gt;{\n    @Override\n     public int compare(Student student1, Student student2){\n         int gpaComparison = Double.compare(student2.getCgpa(), student1.getCgpa());\n         \n         if(gpaComparison==0){\n             int fNameComparison= student1.getFname().compareTo(student2.getFname());\n             if(fNameComparison==0){\n                 return Integer.compare(student1.getId(), student2.getId());\n             }\n             return fNameComparison;\n         }\n         return gpaComparison;\n     }\n}\n\n//Complete the code\npublic class Solution\n{\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        int testCases = Integer.parseInt(in.nextLine());\n        \n        List&lt;Student&gt; studentList = new ArrayList&lt;Student&gt;();\n        while(testCases&gt;0){\n            int id = in.nextInt();\n            String fname = in.next();\n            double cgpa = in.nextDouble();\n            \n            Student st = new Student(id, fname, cgpa);\n            studentList.add(st);\n            \n            testCases--;\n        }\n        Collections.sort(studentList,new CombinedComparator());\n        for(Student st: studentList){\n            System.out.println(st.getFname());\n        }\n    }\n}\n</code></pre>\n<p>By the way, nearly all HackerRank problems have online solutions available. Just Google for <strong>hackerrank</strong> <em><strong>name of problem</strong></em> <strong>solution</strong>. So for your problem, I Googled:</p>\n<blockquote>\n<p>hackerrank java sort solution</p>\n</blockquote>\n<p>First result was:<br />\n<a href=\"https://programs.programmingoneonone.com/2021/02/hackerrank-java-sort-solution.html\" rel=\"nofollow noreferrer\">https://programs.programmingoneonone.com/2021/02/hackerrank-java-sort-solution.html</a></p>\n"}],"owner":{"account_id":29026225,"reputation":11,"user_id":22234315,"display_name":"Kavindu Gamage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696146941,"creation_date":1696136368,"question_id":77209297,"body_markdown":"You are given a list of student information: ID, FirstName, and CGPA. Your task is to rearrange them according to their CGPA in decreasing order. If two student have the same CGPA, then arrange them according to their first name in alphabetical order. If those two students also have the same first name, then order them according to their ID. No two students have the same ID.\r\n**Hint:** You can use comparators to sort a list of objects. See the oracle docs to learn about comparators.\r\n\r\n**Input Format**\r\nThe first line of input contains an integer N , representing the total number of students. The next N lines contains a list of student information in the following structure:\r\n`ID Name CGPA`\r\n\r\n**Constraints**\r\n2≤N≤1000\r\n0≤ID≤1000000\r\n5≤|Name|≤305\r\n0≤CGPA≤4.000\r\n\r\nThe name contains only lowercase English letters. The **ID** contains only integer numbers without leading zeros. The CGPA will contain, at most, 2 digits after the decimal point.\r\n\r\n**Output Format**\r\nAfter rearranging the students according to the above rules, print the first name of each student on a separate line.\r\n\r\n**Sample Input**\r\n5\r\n33 Rumpa 3.68\r\n85 Ashis 3.85\r\n56 Samiha 3.75\r\n19 Samara 3.75\r\n22 Fahim 3.76\r\n\r\n**Sample Output**\r\nAshis\r\nFahim\r\nSamara\r\nSamiha\r\nRumpa\r\n\r\n**This is my code;**\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Student{\r\n    private int id;\r\n    private String fname;\r\n    private double cgpa;\r\n    public Student(int id, String fname, double cgpa) {\r\n        super();\r\n        this.id = id;\r\n        this.fname = fname;\r\n        this.cgpa = cgpa;\r\n    }\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public String getFname() {\r\n        return fname;\r\n    }\r\n    public double getCgpa() {\r\n        return cgpa;\r\n    }\r\n}\r\n\r\n\r\nclass CombinedComparator implements Comparator&lt;Student&gt;{\r\n    @Override\r\n     public int compare(Student student1, Student student2){\r\n         int gpaComparison = Double.compare(student2.getCgpa(), student1.getCgpa());\r\n         \r\n         if(gpaComparison==0){\r\n             int fNameComparison= student1.getFname().toLowerCase().compareToIgnoreCase(student2.getFname().toLowerCase());\r\n             if(fNameComparison==0){\r\n                 return Integer.compare(student1.getId(), student2.getId());\r\n             }\r\n             return fNameComparison;\r\n         }\r\n         return gpaComparison;\r\n     }\r\n}\r\n\r\n\r\n//Complete the code\r\npublic class Solution\r\n{\r\n    public static void main(String[] args){\r\n        Scanner in = new Scanner(System.in);\r\n        int testCases = Integer.parseInt(in.nextLine());\r\n        \r\n        List&lt;Student&gt; studentList = new ArrayList&lt;Student&gt;();\r\n        while(testCases&gt;0){\r\n            int id = in.nextInt();\r\n            String fname = in.next();\r\n            double cgpa = in.nextDouble();\r\n\r\n            \r\n            Student st = new Student(id, fname, cgpa);\r\n            studentList.add(st);\r\n            \r\n            testCases--;\r\n        }\r\n        Collections.sort(studentList, new CombinedComparator());\r\n        \r\n        \r\n          for(Student st: studentList){\r\n            System.out.println(st.getFname());\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```","title":"I have a question on HackerRank where some test cases pass for this code, and some do not","body":"<p>You are given a list of student information: ID, FirstName, and CGPA. Your task is to rearrange them according to their CGPA in decreasing order. If two student have the same CGPA, then arrange them according to their first name in alphabetical order. If those two students also have the same first name, then order them according to their ID. No two students have the same ID.\n<strong>Hint:</strong> You can use comparators to sort a list of objects. See the oracle docs to learn about comparators.</p>\n<p><strong>Input Format</strong>\nThe first line of input contains an integer N , representing the total number of students. The next N lines contains a list of student information in the following structure:\n<code>ID Name CGPA</code></p>\n<p><strong>Constraints</strong>\n2≤N≤1000\n0≤ID≤1000000\n5≤|Name|≤305\n0≤CGPA≤4.000</p>\n<p>The name contains only lowercase English letters. The <strong>ID</strong> contains only integer numbers without leading zeros. The CGPA will contain, at most, 2 digits after the decimal point.</p>\n<p><strong>Output Format</strong>\nAfter rearranging the students according to the above rules, print the first name of each student on a separate line.</p>\n<p><strong>Sample Input</strong>\n5\n33 Rumpa 3.68\n85 Ashis 3.85\n56 Samiha 3.75\n19 Samara 3.75\n22 Fahim 3.76</p>\n<p><strong>Sample Output</strong>\nAshis\nFahim\nSamara\nSamiha\nRumpa</p>\n<p><strong>This is my code;</strong></p>\n<pre><code>import java.util.*;\n\nclass Student{\n    private int id;\n    private String fname;\n    private double cgpa;\n    public Student(int id, String fname, double cgpa) {\n        super();\n        this.id = id;\n        this.fname = fname;\n        this.cgpa = cgpa;\n    }\n    public int getId() {\n        return id;\n    }\n    public String getFname() {\n        return fname;\n    }\n    public double getCgpa() {\n        return cgpa;\n    }\n}\n\n\nclass CombinedComparator implements Comparator&lt;Student&gt;{\n    @Override\n     public int compare(Student student1, Student student2){\n         int gpaComparison = Double.compare(student2.getCgpa(), student1.getCgpa());\n         \n         if(gpaComparison==0){\n             int fNameComparison= student1.getFname().toLowerCase().compareToIgnoreCase(student2.getFname().toLowerCase());\n             if(fNameComparison==0){\n                 return Integer.compare(student1.getId(), student2.getId());\n             }\n             return fNameComparison;\n         }\n         return gpaComparison;\n     }\n}\n\n\n//Complete the code\npublic class Solution\n{\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        int testCases = Integer.parseInt(in.nextLine());\n        \n        List&lt;Student&gt; studentList = new ArrayList&lt;Student&gt;();\n        while(testCases&gt;0){\n            int id = in.nextInt();\n            String fname = in.next();\n            double cgpa = in.nextDouble();\n\n            \n            Student st = new Student(id, fname, cgpa);\n            studentList.add(st);\n            \n            testCases--;\n        }\n        Collections.sort(studentList, new CombinedComparator());\n        \n        \n          for(Student st: studentList){\n            System.out.println(st.getFname());\n        }\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"owner":{"account_id":29573249,"reputation":1,"user_id":22664877,"display_name":"Tushar Arora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696145978,"creation_date":1696144554,"question_id":77209557,"body_markdown":"&gt;Error | Getting org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement\r\n\r\n\r\nI have a code, which is updating and inserting 50 records in a batch at a time.\r\n\r\n```\r\nvoid updateAndInsert(List&lt;UserData&gt; userDataList) {\r\n    for(List&lt;UserData&gt; userData : Lists.partition(userDataList, 50)) {\r\n        updateRecords(userData);\r\n        insertRecords(userData);\r\n    }\r\n}\r\n\r\nupdateRecords(List&lt;UserData&gt; userData) {\r\n       return em.createNamedQuery(&quot;updateUserData&quot;).setParameter(&quot;userData&quot;,         userData).executeUpdate();\r\n}\r\n\r\nupdateRecords(List&lt;UserData&gt; userData) {\r\n       //  Insert in batch of 50\r\n}\r\n```\r\n\r\n\r\nAnd also inserting 50 records at a time.\r\n\r\n\r\n\r\nThis code is working fine, when calling updateAndInsert from single thread.\r\n\r\nBut it is giving CannotAcquireLockException when calling the updateAndInsert method from multiple threads. I have the requirement to call this method for a batch from parallel. Is there any way to avoid this exception.\r\n\r\nCan I apply wait for some time whenever got this exception and again try to insert or update in database.\r\n\r\n\r\n\r\nI want to insert and update records in batches of 50 from multiple threads, without any exception.","title":"Error | Getting org.springframework.dao.CannotAcquireLockException: org.hibernate.exception.LockAcquisitionException: could not execute statement","body":"<blockquote>\n<p>Error | Getting org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement</p>\n</blockquote>\n<p>I have a code, which is updating and inserting 50 records in a batch at a time.</p>\n<pre><code>void updateAndInsert(List&lt;UserData&gt; userDataList) {\n    for(List&lt;UserData&gt; userData : Lists.partition(userDataList, 50)) {\n        updateRecords(userData);\n        insertRecords(userData);\n    }\n}\n\nupdateRecords(List&lt;UserData&gt; userData) {\n       return em.createNamedQuery(&quot;updateUserData&quot;).setParameter(&quot;userData&quot;,         userData).executeUpdate();\n}\n\nupdateRecords(List&lt;UserData&gt; userData) {\n       //  Insert in batch of 50\n}\n</code></pre>\n<p>And also inserting 50 records at a time.</p>\n<p>This code is working fine, when calling updateAndInsert from single thread.</p>\n<p>But it is giving CannotAcquireLockException when calling the updateAndInsert method from multiple threads. I have the requirement to call this method for a batch from parallel. Is there any way to avoid this exception.</p>\n<p>Can I apply wait for some time whenever got this exception and again try to insert or update in database.</p>\n<p>I want to insert and update records in batches of 50 from multiple threads, without any exception.</p>\n"},{"tags":["java","arrays","stack"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1696123060,"post_id":77208879,"comment_id":136113100,"body_markdown":"Why dont you just use a debugger and add a breakpoint when you are pushing K and another breakpoint while printing to figure out why it doesnt work as expected?","body":"Why dont you just use a debugger and add a breakpoint when you are pushing K and another breakpoint while printing to figure out why it doesnt work as expected?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1696126381,"post_id":77208879,"comment_id":136113225,"body_markdown":"Note that if you resize, you currently don&#39;t add the element to the resized array.","body":"Note that if you resize, you currently don&#39;t add the element to the resized array."}],"answers":[{"tags":[],"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696144820,"creation_date":1696144820,"answer_id":77209569,"question_id":77208879,"body_markdown":"In your `push()` function you do not add the new element to the stack, when you need to resize the array. You just copy the current stack and forget about the new element, because the actual adding to the stack is contained in the `else` branch which is only executed when the `if` brachch isn&#39;t executed. \r\n\r\nThe simplest is probably, just to make the content of the `else` branch to be executed unconditionally. \r\n\r\n    public void push(String elements)\r\n    {\r\n        if(topOfStack == theStack.length - 1)\r\n        {\r\n            int reallocateSize = (theStack.length) * 2;\r\n            String [] newStack = new String[reallocateSize];\r\n            System.arraycopy(theStack, 0, newStack, 0, theStack.length);\r\n            theStack = newStack;\r\n        }\r\n        theStack[++topOfStack] = elements;\r\n    }\r\n","title":"Unbounded array-based list output not showing up on display after reallocation?","body":"<p>In your <code>push()</code> function you do not add the new element to the stack, when you need to resize the array. You just copy the current stack and forget about the new element, because the actual adding to the stack is contained in the <code>else</code> branch which is only executed when the <code>if</code> brachch isn't executed.</p>\n<p>The simplest is probably, just to make the content of the <code>else</code> branch to be executed unconditionally.</p>\n<pre><code>public void push(String elements)\n{\n    if(topOfStack == theStack.length - 1)\n    {\n        int reallocateSize = (theStack.length) * 2;\n        String [] newStack = new String[reallocateSize];\n        System.arraycopy(theStack, 0, newStack, 0, theStack.length);\n        theStack = newStack;\n    }\n    theStack[++topOfStack] = elements;\n}\n</code></pre>\n"}],"owner":{"account_id":29572028,"reputation":1,"user_id":22663960,"display_name":"Shan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696144917,"creation_date":1696121035,"question_id":77208879,"body_markdown":"```\r\n\r\npublic class stackCode\r\n{\r\n    private String[] theStack; //the array-based stack  \r\n    private int stackSize = 10; //the size of stack\r\n    private int topOfStack; //top of stack\r\n\r\n    public stackCode()\r\n    {//this is building or initializing the stack within the stack \r\n        theStack = new String[stackSize]; //the elements within the stack \r\n        topOfStack = -1;\r\n    }\r\n    \r\n    public void push(String elements)\r\n    {\r\n        if(topOfStack == theStack.length - 1)\r\n        {\r\n            int reallocateSize = (theStack.length) * 2;\r\n            String [] newStack = new String[reallocateSize];\r\n            System.arraycopy(theStack, 0, newStack, 0, theStack.length);\r\n            theStack = newStack;\r\n        }\r\n        else{\r\n            theStack[++topOfStack] = elements;\r\n        }\r\n    }\r\n\r\n    public String pop()\r\n    {\r\n        if(isEmpty())\r\n        {\r\n            System.out.println(&quot;Stack is empty, please fill in with new values.&quot;);\r\n            return null;\r\n        }\r\n        return theStack[topOfStack--];\r\n    }\r\n\r\n     \r\n    public void peek(int index)\r\n    {\r\n        if(isEmpty())\r\n        {\r\n            System.out.println(&quot;Stack is empty. No values to see&quot;);\r\n        }\r\n        else{\r\n            System.out.println(theStack[index]);\r\n        }\r\n    }\r\n    public boolean isEmpty()\r\n    {\r\n        return topOfStack == -1; \r\n    }\r\n    public void print()\r\n    {\r\n        if(isEmpty())\r\n        {\r\n            System.out.println(&quot;Stack is empty&quot;);\r\n        }\r\n        else {\r\n            for(int i = topOfStack; i &gt;= 0; i--)\r\n            {\r\n                System.out.println(theStack[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\npublic static void main(String [] args)\r\n{\r\n    stackCode theFirstStack = new stackCode();\r\n    theFirstStack.push(&quot;A&quot;);\r\n    theFirstStack.push(&quot;B&quot;);\r\n    theFirstStack.push(&quot;C&quot;);\r\n    theFirstStack.push(&quot;D&quot;);\r\n    theFirstStack.push(&quot;E&quot;);\r\n    theFirstStack.push(&quot;F&quot;);\r\n    theFirstStack.push(&quot;G&quot;);\r\n    theFirstStack.push(&quot;H&quot;);\r\n    theFirstStack.push(&quot;I&quot;);\r\n    theFirstStack.push(&quot;J&quot;);\r\n    theFirstStack.push(&quot;K&quot;);\r\n    theFirstStack.push(&quot;L&quot;);\r\n    theFirstStack.push(&quot;M&quot;);\r\n    theFirstStack.print();\r\n    \r\n}\r\n\r\n}\r\n```\r\n\r\n\r\nHello! I am attempting to create an unbounded stack with an initial allocation size of 10 without using any library functions. I have set up the code where the allocation size doubles when the length of the stack equals the allocation size, but when I go to print out the whole stack for the output, all the elements are dsiplayed except for the 11th element (&quot;K&quot;). \r\n\r\nI tried playing with the constructor and the `push` function a bit. &quot;K&quot; does display when I change the `topOfStack == 0`, but I was taught that it should be initialized to -1 to indicate that the stack is empty initially. Could someone help to explain what I am doing wrong/if I am missing something? I am new to java and coding in general so I would greatly appreciate a reason behind the solution or behind the mistake I made. Thanks! ","title":"Unbounded array-based list output not showing up on display after reallocation?","body":"<pre><code>\npublic class stackCode\n{\n    private String[] theStack; //the array-based stack  \n    private int stackSize = 10; //the size of stack\n    private int topOfStack; //top of stack\n\n    public stackCode()\n    {//this is building or initializing the stack within the stack \n        theStack = new String[stackSize]; //the elements within the stack \n        topOfStack = -1;\n    }\n    \n    public void push(String elements)\n    {\n        if(topOfStack == theStack.length - 1)\n        {\n            int reallocateSize = (theStack.length) * 2;\n            String [] newStack = new String[reallocateSize];\n            System.arraycopy(theStack, 0, newStack, 0, theStack.length);\n            theStack = newStack;\n        }\n        else{\n            theStack[++topOfStack] = elements;\n        }\n    }\n\n    public String pop()\n    {\n        if(isEmpty())\n        {\n            System.out.println(&quot;Stack is empty, please fill in with new values.&quot;);\n            return null;\n        }\n        return theStack[topOfStack--];\n    }\n\n     \n    public void peek(int index)\n    {\n        if(isEmpty())\n        {\n            System.out.println(&quot;Stack is empty. No values to see&quot;);\n        }\n        else{\n            System.out.println(theStack[index]);\n        }\n    }\n    public boolean isEmpty()\n    {\n        return topOfStack == -1; \n    }\n    public void print()\n    {\n        if(isEmpty())\n        {\n            System.out.println(&quot;Stack is empty&quot;);\n        }\n        else {\n            for(int i = topOfStack; i &gt;= 0; i--)\n            {\n                System.out.println(theStack[i]);\n            }\n        }\n    }\n\n\n\npublic static void main(String [] args)\n{\n    stackCode theFirstStack = new stackCode();\n    theFirstStack.push(&quot;A&quot;);\n    theFirstStack.push(&quot;B&quot;);\n    theFirstStack.push(&quot;C&quot;);\n    theFirstStack.push(&quot;D&quot;);\n    theFirstStack.push(&quot;E&quot;);\n    theFirstStack.push(&quot;F&quot;);\n    theFirstStack.push(&quot;G&quot;);\n    theFirstStack.push(&quot;H&quot;);\n    theFirstStack.push(&quot;I&quot;);\n    theFirstStack.push(&quot;J&quot;);\n    theFirstStack.push(&quot;K&quot;);\n    theFirstStack.push(&quot;L&quot;);\n    theFirstStack.push(&quot;M&quot;);\n    theFirstStack.print();\n    \n}\n\n}\n</code></pre>\n<p>Hello! I am attempting to create an unbounded stack with an initial allocation size of 10 without using any library functions. I have set up the code where the allocation size doubles when the length of the stack equals the allocation size, but when I go to print out the whole stack for the output, all the elements are dsiplayed except for the 11th element (&quot;K&quot;).</p>\n<p>I tried playing with the constructor and the <code>push</code> function a bit. &quot;K&quot; does display when I change the <code>topOfStack == 0</code>, but I was taught that it should be initialized to -1 to indicate that the stack is empty initially. Could someone help to explain what I am doing wrong/if I am missing something? I am new to java and coding in general so I would greatly appreciate a reason behind the solution or behind the mistake I made. Thanks!</p>\n"},{"tags":["javascript","java","spring","spring-boot","eclipse-plugin"],"comments":[{"owner":{"account_id":3439105,"reputation":1830,"user_id":2881450,"accept_rate":100,"display_name":"jHilscher"},"score":1,"creation_date":1696077103,"post_id":77206959,"comment_id":136109515,"body_markdown":"You need to install some kind of JavaScript support.\nSomethink like this: https://eclipse.dev/webtools/jsdt/\nUse the Eclipse Marketplace.","body":"You need to install some kind of JavaScript support. Somethink like this: <a href=\"https://eclipse.dev/webtools/jsdt/\" rel=\"nofollow noreferrer\">eclipse.dev/webtools/jsdt</a> Use the Eclipse Marketplace."},{"owner":{"account_id":29567791,"reputation":1,"user_id":22660740,"display_name":"Shahezad"},"score":0,"creation_date":1696140651,"post_id":77206959,"comment_id":136113896,"body_markdown":"Tried but getting error while installing . Updating my question with images","body":"Tried but getting error while installing . Updating my question with images"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1696144126,"post_id":77206959,"comment_id":136114105,"body_markdown":"Better avoid plugins like codemix or other plugins from the same vendor as they patch Eclipse via loadtime weaving which can cause issues and slow down Eclipse (the vendor of this plugin tries to cheat the open source license of Eclipse by doing so). The problem seems to be that you run your quite old version (which is more than two years and 9 releases behind) of Eclipse with Java 9, but current STS and Eclipse versions require Java 17 or higher to run. Consider do a fresh installation of current Eclipse or STS containing Java 17 and latest JavaScript support via Eclipse Wild Web Developer.","body":"Better avoid plugins like codemix or other plugins from the same vendor as they patch Eclipse via loadtime weaving which can cause issues and slow down Eclipse (the vendor of this plugin tries to cheat the open source license of Eclipse by doing so). The problem seems to be that you run your quite old version (which is more than two years and 9 releases behind) of Eclipse with Java 9, but current STS and Eclipse versions require Java 17 or higher to run. Consider do a fresh installation of current Eclipse or STS containing Java 17 and latest JavaScript support via Eclipse Wild Web Developer."}],"owner":{"account_id":29567791,"reputation":1,"user_id":22660740,"display_name":"Shahezad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696143605,"creation_date":1696076165,"question_id":77206959,"body_markdown":"I have installed STS 3.9.17. I have created basic spring boot application.\r\nWhenever I am creating javascript file it is working as text file only that&#39;s syntax coloring and syntax checking according toJS not working in STS tool.\r\nI tried to change setting in Preferences -&gt; client JS -&gt; Enable syntax coloring but it disabled.\r\nI tried to install codemix as well as web developer tool. I am getting error in that also.\r\n\r\nGetting following error while trying to install codemix or web developer tools:\r\n\r\n    Cannot complete the install because some dependencies are not satisfiable\r\n      Software being installed: a.jre.javase 9.0.0\r\n      Software currently installed: Spring Tool Suite 3.9.17.202106211301-RELEASE-e418 (org.springsource.sts.ide 3.9.17.202106211301-RELEASE-e418)\r\n      Cannot satisfy dependency:\r\n        From: Spring Tool Suite 3.9.17.202106211301-RELEASE-e418 (org.springsource.sts.ide 3.9.17.202106211301-RELEASE-e418)\r\n        To: org.eclipse.equinox.p2.iu; a.jre.javase [9.0.0,9.0.0]\r\n\r\nPlease let me know solutions.\r\nThanks!\r\n[web developer tool error][1]\r\n[Spring](https://i.stack.imgur.com/KgyzG.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FrK5i.png","title":"Javascript file detected as text file hence no no syntax coloring and check working","body":"<p>I have installed STS 3.9.17. I have created basic spring boot application.\nWhenever I am creating javascript file it is working as text file only that's syntax coloring and syntax checking according toJS not working in STS tool.\nI tried to change setting in Preferences -&gt; client JS -&gt; Enable syntax coloring but it disabled.\nI tried to install codemix as well as web developer tool. I am getting error in that also.</p>\n<p>Getting following error while trying to install codemix or web developer tools:</p>\n<pre><code>Cannot complete the install because some dependencies are not satisfiable\n  Software being installed: a.jre.javase 9.0.0\n  Software currently installed: Spring Tool Suite 3.9.17.202106211301-RELEASE-e418 (org.springsource.sts.ide 3.9.17.202106211301-RELEASE-e418)\n  Cannot satisfy dependency:\n    From: Spring Tool Suite 3.9.17.202106211301-RELEASE-e418 (org.springsource.sts.ide 3.9.17.202106211301-RELEASE-e418)\n    To: org.eclipse.equinox.p2.iu; a.jre.javase [9.0.0,9.0.0]\n</code></pre>\n<p>Please let me know solutions.\nThanks!\n<a href=\"https://i.stack.imgur.com/FrK5i.png\" rel=\"nofollow noreferrer\">web developer tool error</a>\n<a href=\"https://i.stack.imgur.com/KgyzG.png\" rel=\"nofollow noreferrer\">Spring</a></p>\n"},{"tags":["java","hibernate","connection"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1696262969,"post_id":77209522,"comment_id":136127604,"body_markdown":"Where are you calling `validate(username, password)` function? Also try to change query to `&quot;FROM employee e WHERE e.username = :userNameQuery&quot;`","body":"Where are you calling <code>validate(username, password)</code> function? Also try to change query to <code>&quot;FROM employee e WHERE e.username = :userNameQuery&quot;</code>"},{"owner":{"account_id":27485390,"reputation":1,"user_id":20971732,"display_name":"Huỳnh Khả Phi"},"score":0,"creation_date":1697130017,"post_id":77209522,"comment_id":136244170,"body_markdown":"Thank you. Problem was solved. I added `configuration.addAnnotatedClass(net.employeeregjdbc.model.Employee.class);` into HibernateUtil.java\nSorry for the lack of information provided","body":"Thank you. Problem was solved. I added <code>configuration.addAnnotatedClass(net.employeeregjdbc.model.Em&zwnj;&#8203;ployee.class);</code> into HibernateUtil.java Sorry for the lack of information provided"}],"owner":{"account_id":27485390,"reputation":1,"user_id":20971732,"display_name":"Huỳnh Khả Phi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696143579,"creation_date":1696143579,"question_id":77209522,"body_markdown":"I&#39;m learning how to use Hibernate with Servlet. And this error appeared on console:\r\n```\r\njava.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@1b79d968 is closed\r\n```\r\nI&#39;ve tried to find the previous solution but there isn&#39;t any. I tried to use session.close() but it didn&#39;t  work. The browser stuck on loading. And when I restarted the tomcat, it can&#39;t response for a while.\r\n\r\nPlease help me. Thank in advance.\r\n\r\n\r\n**My jars:**\r\n\r\n- antlr-2.7.7\r\n- byte-buddy-1.8.17\r\n- classmate-1.3.4\r\n- dom4j-2.1.1\r\n- hibernate-commons-annotations-5.0.4.Final\r\n- hibernate-core-5.3.7.Final\r\n- jandex-2.0.5.Final\r\n- javassist-3.23.1-GA\r\n- javax.activation-1.2.0\r\n- javax.activation-api-1.2.0\r\n- javax.persistence-api-2.2\r\n- jaxb-api-2.3.0\r\n- jaxb-core-2.3.0\r\n- jaxb-impl-2.3.0\r\n- jboss-logging-3.3.2.Final\r\n- jboss-transaction-api_1.2_spec-1.1.1.Final\r\n- jsp-api-2.2\r\n- jstl-1.2\r\n- mysql-connector-java-8.0.13\r\n- protobuf-java-3.6.1\r\n- servlet-api-2.5\r\n\r\nTomcat v9.0\r\n\r\n**EmployeeHiberDAO.java**\r\n```\r\npackage net.employeeregjdbc.dao;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.Transaction;\r\n\r\nimport net.employeeregjdbc.controller.util.HibernateUtil;\r\nimport net.employeeregjdbc.model.Employee;\r\n\r\n\r\n\r\npublic class EmployeeHiberDAO {\r\n\t\r\n\t\r\n\t\r\n\tpublic void saveEmployee(Employee employee) {\r\n\t\tTransaction transaction = null;\r\n\t\ttry (Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n\t\t\t\r\n\t\t\ttransaction = session.beginTransaction();\r\n\t\t\tsession.save(employee);\r\n\t\t\ttransaction.commit();\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tif (transaction != null ) transaction.rollback();\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic boolean validate(String username, String password) {\r\n\t\tTransaction transaction = null;\r\n\t\tEmployee employee = null;\r\n\t\t\r\n\t\ttry (Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n\t\t\ttransaction = session.beginTransaction();\r\n\t\t\temployee = (Employee) session.createQuery(&quot;FROM employee WHERE employee.username =:userNameQuery&quot;)\r\n\t\t\t\t\t.setParameter(&quot;userNameQuery&quot;, username).uniqueResult();\r\n\t\t\tSystem.out.println(employee);\r\n\t\t\tif (employee != null &amp;&amp; employee.getPassword().equals(password)) return true;\r\n\t\t\ttransaction.commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\tif (transaction != null ) transaction.rollback();\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n**Employee.java**\r\n\r\n```\r\npackage net.employeeregjdbc.model;\r\n\r\nimport java.io.Serializable;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\npublic class Employee implements Serializable {\r\n\tpublic Employee() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tprivate static long searialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int id;\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t@Column(name = &quot;username&quot;)\r\n\tprivate String username;\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\t@Column(name = &quot;note&quot;)\r\n\tprivate String note;\r\n\t\r\n\t\r\n\tpublic Employee(int id, String name, String username, String password, String note) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.note = note;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\tpublic String getNote() {\r\n\t\treturn note;\r\n\t}\r\n\tpublic void setNote(String note) {\r\n\t\tthis.note = note;\r\n\t}\r\n\t\r\n}\r\n\r\n````\r\n\r\n**On console:**\r\n```\r\nOct 01, 2023 1:37:45 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.3.7.Final}\r\nOct 01, 2023 1:37:45 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\nHibernate java config service registry was created\r\nOct 01, 2023 1:37:46 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\nLoading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/j2ee_registration_employee_jdbc]\r\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {password=****, user=root}\r\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\nOct 01, 2023 1:37:47 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\r\nOct 01, 2023 1:37:48 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@54d13650] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\nOct 01, 2023 1:37:49 PM org.hibernate.hql.internal.QueryTranslatorFactoryInitiator initiateService\r\nINFO: HHH000397: Using ASTQueryTranslatorFactory\r\njava.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@1b79d968 is closed\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.errorIfClosed(AbstractLogicalConnectionImplementor.java:37)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:135)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:254)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:294)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:139)\r\n\tat net.employeeregjdbc.dao.EmployeeHiberDAO.validate(EmployeeHiberDAO.java:44)\r\n\tat net.employeeregjdbc.controller.EmployeeLoginHiber.authenticate(EmployeeLoginHiber.java:58)\r\n\tat net.employeeregjdbc.controller.EmployeeLoginHiber.doPost(EmployeeLoginHiber.java:49)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n```\r\n\r\n\r\n","title":"java.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@1b79d968 is closed","body":"<p>I'm learning how to use Hibernate with Servlet. And this error appeared on console:</p>\n<pre><code>java.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@1b79d968 is closed\n</code></pre>\n<p>I've tried to find the previous solution but there isn't any. I tried to use session.close() but it didn't  work. The browser stuck on loading. And when I restarted the tomcat, it can't response for a while.</p>\n<p>Please help me. Thank in advance.</p>\n<p><strong>My jars:</strong></p>\n<ul>\n<li>antlr-2.7.7</li>\n<li>byte-buddy-1.8.17</li>\n<li>classmate-1.3.4</li>\n<li>dom4j-2.1.1</li>\n<li>hibernate-commons-annotations-5.0.4.Final</li>\n<li>hibernate-core-5.3.7.Final</li>\n<li>jandex-2.0.5.Final</li>\n<li>javassist-3.23.1-GA</li>\n<li>javax.activation-1.2.0</li>\n<li>javax.activation-api-1.2.0</li>\n<li>javax.persistence-api-2.2</li>\n<li>jaxb-api-2.3.0</li>\n<li>jaxb-core-2.3.0</li>\n<li>jaxb-impl-2.3.0</li>\n<li>jboss-logging-3.3.2.Final</li>\n<li>jboss-transaction-api_1.2_spec-1.1.1.Final</li>\n<li>jsp-api-2.2</li>\n<li>jstl-1.2</li>\n<li>mysql-connector-java-8.0.13</li>\n<li>protobuf-java-3.6.1</li>\n<li>servlet-api-2.5</li>\n</ul>\n<p>Tomcat v9.0</p>\n<p><strong>EmployeeHiberDAO.java</strong></p>\n<pre><code>package net.employeeregjdbc.dao;\n\nimport org.hibernate.Session;\nimport org.hibernate.Transaction;\n\nimport net.employeeregjdbc.controller.util.HibernateUtil;\nimport net.employeeregjdbc.model.Employee;\n\n\n\npublic class EmployeeHiberDAO {\n    \n    \n    \n    public void saveEmployee(Employee employee) {\n        Transaction transaction = null;\n        try (Session session = HibernateUtil.getSessionFactory().openSession()) {\n            \n            transaction = session.beginTransaction();\n            session.save(employee);\n            transaction.commit();\n            \n            \n        } catch (Exception e) {\n            if (transaction != null ) transaction.rollback();\n            e.printStackTrace();\n        }\n    }\n    \n    \n    \n    public boolean validate(String username, String password) {\n        Transaction transaction = null;\n        Employee employee = null;\n        \n        try (Session session = HibernateUtil.getSessionFactory().openSession()) {\n            transaction = session.beginTransaction();\n            employee = (Employee) session.createQuery(&quot;FROM employee WHERE employee.username =:userNameQuery&quot;)\n                    .setParameter(&quot;userNameQuery&quot;, username).uniqueResult();\n            System.out.println(employee);\n            if (employee != null &amp;&amp; employee.getPassword().equals(password)) return true;\n            transaction.commit();\n        } catch (Exception e) {\n            if (transaction != null ) transaction.rollback();\n            e.printStackTrace();\n        }\n        return false;\n    }\n    \n}\n\n</code></pre>\n<p><strong>Employee.java</strong></p>\n<pre><code>package net.employeeregjdbc.model;\n\nimport java.io.Serializable;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee implements Serializable {\n    public Employee() {\n        super();\n    }\n    \n    private static long searialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Column(name = &quot;username&quot;)\n    private String username;\n    @Column(name = &quot;password&quot;)\n    private String password;\n    @Column(name = &quot;note&quot;)\n    private String note;\n    \n    \n    public Employee(int id, String name, String username, String password, String note) {\n        super();\n        this.name = name;\n        this.username = username;\n        this.password = password;\n        this.note = note;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public String getNote() {\n        return note;\n    }\n    public void setNote(String note) {\n        this.note = note;\n    }\n    \n}\n\n</code></pre>\n<p><strong>On console:</strong></p>\n<pre><code>Oct 01, 2023 1:37:45 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.3.7.Final}\nOct 01, 2023 1:37:45 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nHibernate java config service registry was created\nOct 01, 2023 1:37:46 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nLoading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/j2ee_registration_employee_jdbc]\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=root}\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nOct 01, 2023 1:37:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nOct 01, 2023 1:37:47 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect\nOct 01, 2023 1:37:48 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@54d13650] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nOct 01, 2023 1:37:49 PM org.hibernate.hql.internal.QueryTranslatorFactoryInitiator initiateService\nINFO: HHH000397: Using ASTQueryTranslatorFactory\njava.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@1b79d968 is closed\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.errorIfClosed(AbstractLogicalConnectionImplementor.java:37)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:135)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:254)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:294)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:139)\n    at net.employeeregjdbc.dao.EmployeeHiberDAO.validate(EmployeeHiberDAO.java:44)\n    at net.employeeregjdbc.controller.EmployeeLoginHiber.authenticate(EmployeeLoginHiber.java:58)\n    at net.employeeregjdbc.controller.EmployeeLoginHiber.doPost(EmployeeLoginHiber.java:49)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n"},{"tags":["java","gradle","junit5"],"owner":{"account_id":22397387,"reputation":1,"user_id":16608444,"display_name":"WafeTolkon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696142890,"creation_date":1695997112,"question_id":77202672,"body_markdown":"I try to change the ExecutionMode of running tests during Runtime execution but the tests are freezing. \r\n\r\nI used: \r\n- Java 11\r\n- JUnit 5 = 5.10.0\r\n- Gradle 7.6 \r\n- Playwright in docker in headless node. \r\n\r\nI used such configuration to make the parallelisation of the tests. \r\n\r\n```\r\njunit.jupiter.execution.parallel.enabled=true\r\njunit.jupiter.execution.parallel.mode.default=same_thread\r\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\r\njunit.jupiter.testinstance.lifecycle.default=PER_CLASS\r\njunit.jupiter.execution.parallel.config.strategy=custom\r\njunit.jupiter.execution.parallel.config.custom.class=*.CustomStrategyParallelism\r\n```\r\n\r\n\r\nAs You see above, the test classes run in parallel and methods in the same thread.  \r\nEverything is fine with this. \r\n\r\nBut in I want to run several classes in the in the same thread by each other (sequentially) in one run, the most test class in  parallel and few class in the same thread.\r\nFor example: As I want \r\nTestClassA (tests in same thread ) - takes thread-1.  \r\nTestClassB (tests in same thread ) - takes thread-3.  \r\nTestClassC (tests in same thread ) - takes thread-5.  \r\nTestClassG (tests in same thread ) - takes thread-4.  \r\n\r\n**TestClassA finished new TestClassG takes the thread - thread-1.   \r\n**\r\n**TestClassG finished new TestClassO takes the thread - thread-1.   \r\n**\r\nTestClassB, TestClassB,  TestClassC, TestClassG run in parallel and TestClassA,TestClassG,TestClassO should run in the same thread.\r\n\r\nI used the annotation from JUnit5 @Execution(ExecutionMode.SAME_THREAD) and added to TestClassA,TestClassG,TestClassO. \r\n\r\nBut in this configuration tests are freezing during the Runtime execution.\r\nIn the console there are no logs to see what is wrong, no exceptions, just freezing.\r\n\r\nIf I remove the  @Execution(ExecutionMode.SAME_THREAD) from the test classes, tests run passed success.\r\n\r\nThanks.\r\n\r\n \r\nTried to increase the memory docker container but did not help\r\n\r\nGot Thread dump. \r\n\r\n        Threads class SMR info:\r\n    _java_thread_list=0x00007fa170000c40, length=28, elements={\r\n    0x00007fa1b8029000, 0x00007fa1b817f800, 0x00007fa1b8181800, 0x00007fa1b8186800,\r\n    0x00007fa1b8188800, 0x00007fa1b818a800, 0x00007fa1b818d000, 0x00007fa1b818f000,\r\n    0x00007fa1b81a4800, 0x00007fa1b8c88800, 0x00007fa1b8cd4000, 0x00007fa1b8cd5000,\r\n    0x00007fa1b9510000, 0x00007fa11004c000, 0x00007fa11005d000, 0x00007fa114001000,\r\n    0x00007fa108001000, 0x00007fa11005e000, 0x00007fa110060000, 0x00007fa114022800,\r\n    0x00007fa0f80a4000, 0x00007fa1140ca000, 0x00007fa0f8610000, 0x00007fa1142bb800,\r\n    0x00007fa114216000, 0x00007fa0f80a5800, 0x00007fa0f80c8800, 0x00007fa170004800\r\n    }\r\n    \r\n    &quot;Test worker&quot; #1 prio=5 os_prio=0 cpu=3111.48ms elapsed=5125.63s tid=0x00007fa1b8029000 nid=0x13c in Object.wait()  [0x00007fa1bc178000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.20.1/Native Method)\r\n            - waiting on &lt;0x00000000c3b09a00&gt; (a org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask)\r\n            at java.util.concurrent.ForkJoinTask.externalInterruptibleAwaitDone(java.base@11.0.20.1/ForkJoinTask.java:356)\r\n            - waiting to re-lock in wait() &lt;0x00000000c3b09a00&gt; (a org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask)\r\n            at java.util.concurrent.ForkJoinTask.get(java.base@11.0.20.1/ForkJoinTask.java:1004) \r\n    \r\n    &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=23.27ms elapsed=5125.62s tid=0x00007fa1b817f800 nid=0x148 waiting on condition  [0x00007fa191ffe000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at java.lang.ref.Reference.waitForReferencePendingList(java.base@11.0.20.1/Native Method) \r\n    \r\n    Finalizer&quot; #3 daemon prio=8 os_prio=0 cpu=711.13ms elapsed=5125.62s tid=0x00007fa1b8181800 nid=0x149 in Object.wait()  [0x00007fa191efe000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.20.1/Native Method)\r\n            - waiting on &lt;no object reference available&gt;\r\n    \r\n    Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=0.47ms elapsed=5125.61s tid=0x00007fa1b8186800 nid=0x14a runnable  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Service Thread&quot; #5 daemon prio=9 os_prio=0 cpu=0.23ms elapsed=5125.61s tid=0x00007fa1b8188800 nid=0x14b runnable  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread0&quot; #6 daemon prio=9 os_prio=0 cpu=55854.38ms elapsed=5125.61s tid=0x00007fa1b818a800 nid=0x14c waiting on condition  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n       No compile task\r\n    \r\n    &quot;C1 CompilerThread0&quot; #9 daemon prio=9 os_prio=0 cpu=7449.78ms elapsed=5125.61s tid=0x00007fa1b818d000 nid=0x14d waiting on condition  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n       No compile task\r\n    \r\n    &quot;Sweeper thread&quot; #10 daemon prio=9 os_prio=0 cpu=151.99ms elapsed=5125.61s tid=0x00007fa1b818f000 nid=0x14e runnable  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    \r\n    &quot;Common-Cleaner&quot; #11 daemon prio=8 os_prio=0 cpu=11.24ms elapsed=5125.58s tid=0x00007fa1b81a4800 nid=0x14f in Object.wait()  [0x00007fa1918fe000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.20.1/Native Method)\r\n    \r\n    &quot;/127.0.0.1:38124 to /127.0.0.1:44321 workers&quot; #13 prio=5 os_prio=0 cpu=16.22ms elapsed=5125.00s tid=0x00007fa1b8c88800 nid=0x158 waiting on condition  [0x00007fa1911f8000]\r\n       java.lang.Thread.State: WAITING (parking) \r\n    \r\n    \r\n    &quot;/127.0.0.1:38124 to /127.0.0.1:44321 workers Thread 2&quot; #14 prio=5 os_prio=0 cpu=261.53ms elapsed=5124.99s tid=0x00007fa1b8cd4000 nid=0x159 waiting on condition  [0x00007fa190ef8000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \r\n    &quot;/127.0.0.1:38124 to /127.0.0.1:44321 workers Thread 3&quot; #15 prio=5 os_prio=0 cpu=10.05ms elapsed=5124.99s tid=0x00007fa1b8cd5000 nid=0x15a runnable  [0x00007fa190df8000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at sun.nio.ch.EPoll.wait(java.base@11.0.20.1/Native Method)\r\n    \r\n    &quot;ForkJoinPool-1-worker-3&quot; #16 daemon prio=5 os_prio=0 cpu=464014.46ms elapsed=5122.26s tid=0x00007fa1b9510000 nid=0x165 waiting on condition  [0x00007fa11f5fd000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n            at jdk.internal.misc.Unsafe.park(java.base@11.0.20.1/Native Method) \r\n    \r\n    \r\n    &quot;ForkJoinPool-1-worker-5&quot; #17 daemon prio=5 os_prio=0 cpu=30368.82ms elapsed=5122.21s tid=0x00007fa11004c000 nid=0x166 waiting on condition  [0x00007fa11f4fd000]\r\n       java.lang.Thread.State: TIMED_WAITING (parking) \r\n    \r\n    \r\n    &quot;ForkJoinPool-1-worker-7&quot; #18 daemon prio=5 os_prio=0 cpu=7436.00ms elapsed=5122.21s tid=0x00007fa11005d000 nid=0x167 waiting on condition  [0x00007fa11f3fe000]\r\n       java.lang.Thread.State: WAITING (parking) \r\n    \r\n    \r\n    &quot;ForkJoinPool-1-worker-9&quot; #19 daemon prio=5 os_prio=0 cpu=13860.08ms elapsed=5122.20s tid=0x00007fa114001000 nid=0x168 waiting on condition  [0x00007fa11f2fe000]\r\n       java.lang.Thread.State: WAITING (parking) \r\n    \r\n    \r\n    &quot;ForkJoinPool-1-worker-13&quot; #21 daemon prio=5 os_prio=0 cpu=8765.08ms elapsed=5122.20s tid=0x00007fa108001000 nid=0x169 waiting on condition  [0x00007fa11f1fe000]\r\n       java.lang.Thread.State: WAITING (parking) \r\n    \r\n    \r\n    &quot;ForkJoinPool-1-worker-11&quot; #20 daemon prio=5 os_prio=0 cpu=7355.41ms elapsed=5122.20s tid=0x00007fa11005e000 nid=0x16a waiting on condition  [0x00007fa11f0fe000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n            at jdk.internal.misc.Unsafe.park(java.base@11.0.20.1/Native Method)\r\n    \r\n    \r\n    &quot;ForkJoinPool-1-worker-15&quot; #22 daemon prio=5 os_prio=0 cpu=30042.77ms elapsed=5122.20s tid=0x00007fa110060000 nid=0x16b waiting on condition  [0x00007fa11effd000]\r\n       java.lang.Thread.State: TIMED_WAITING (parking) \r\n    \r\n    \r\n    &quot;process reaper (pid 29293)&quot; #29 daemon prio=10 os_prio=0 cpu=10.90ms elapsed=5121.26s tid=0x00007fa114022800 nid=0x19c runnable  [0x00007fa198086000]\r\n       java.lang.Thread.State: RUNNABLE \r\n    \r\n    \r\n    &quot;process reaper (pid 29474)&quot; #25 daemon prio=10 os_prio=0 cpu=8.41ms elapsed=5121.26s tid=0x00007fa0f80a4000 nid=0x1b4 runnable  [0x00007fa1900a2000]\r\n       java.lang.Thread.State: RUNNABLE \r\n    \r\n    &quot;ForkJoinPool.commonPool-worker-5&quot; #45 daemon prio=5 os_prio=0 cpu=22.57ms elapsed=5118.99s tid=0x00007fa1140ca000 nid=0x5b8 waiting on condition  [0x00007fa11cbfe000]\r\n       java.lang.Thread.State: WAITING (parking) \r\n    \r\n    &quot;Java2D Disposer&quot; #160 daemon prio=10 os_prio=0 cpu=1.71ms elapsed=4306.39s tid=0x00007fa0f8610000 nid=0x44f8 in Object.wait()  [0x00007fa11defe000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.20.1/Nati \r\n    \r\n    \r\n    Thread-215&quot; #246 daemon prio=5 os_prio=0 cpu=22.48ms elapsed=3610.22s tid=0x00007fa1142bb800 nid=0x726e runnable  [0x00007fa11dffe000]\r\n       java.lang.Thread.State: RUNNABLE \r\n    \r\n       \r\n    &quot;VM Thread&quot; os_prio=0 cpu=1139.49ms elapsed=5125.62s tid=0x00007fa1b817c800 nid=0x147 runnable  \r\n    &quot;GC Thread#0&quot; os_prio=0 cpu=1284.26ms elapsed=5125.63s tid=0x00007fa1b8041000 nid=0x13e runnable  \r\n    &quot;GC Thread#1&quot; os_prio=0 cpu=1291.54ms elapsed=5125.28s tid=0x00007fa184001000 nid=0x152 runnable  \r\n    &quot;GC Thread#2&quot; os_prio=0 cpu=1363.65ms elapsed=5125.28s tid=0x00007fa184002800 nid=0x153 runnable  \r\n    &quot;GC Thread#3&quot; os_prio=0 cpu=1236.08ms elapsed=5124.61s tid=0x00007fa184005800 nid=0x15c runnable  \r\n    &quot;GC Thread#4&quot; os_prio=0 cpu=1357.65ms elapsed=5124.61s tid=0x00007fa184007000 nid=0x15d runnable  \r\n    &quot;GC Thread#5&quot; os_prio=0 cpu=1213.51ms elapsed=5124.61s tid=0x00007fa184008800 nid=0x15e runnable  \r\n    &quot;GC Thread#6&quot; os_prio=0 cpu=1310.53ms elapsed=5124.61s tid=0x00007fa18400a000 nid=0x15f runnable  \r\n    &quot;GC Thread#7&quot; os_prio=0 cpu=1281.43ms elapsed=5124.61s tid=0x00007fa18400c000 nid=0x160 runnable  \r\n    &quot;G1 Main Marker&quot; os_prio=0 cpu=32.17ms elapsed=5125.63s tid=0x00007fa1b805c800 nid=0x13f runnable  \r\n    &quot;G1 Conc#0&quot; os_prio=0 cpu=4679.17ms elapsed=5125.63s tid=0x00007fa1b805e800 nid=0x140 runnable  \r\n    &quot;G1 Conc#1&quot; os_prio=0 cpu=4657.74ms elapsed=5123.58s tid=0x00007fa194001000 nid=0x164 runnable  \r\n    &quot;G1 Refine#0&quot; os_prio=0 cpu=24.97ms elapsed=5125.63s tid=0x00007fa1b80e7000 nid=0x143 runnable  \r\n    &quot;G1 Refine#1&quot; os_prio=0 cpu=4.33ms elapsed=5124.58s tid=0x00007fa188001000 nid=0x161 runnable  \r\n    &quot;G1 Refine#2&quot; os_prio=0 cpu=0.32ms elapsed=5124.58s tid=0x00007fa12c001000 nid=0x162 runnable  \r\n    &quot;G1 Refine#3&quot; os_prio=0 cpu=0.09ms elapsed=5124.58s tid=0x00007fa120001000 nid=0x163 runnable  \r\n    &quot;G1 Young RemSet Sampling&quot; os_prio=0 cpu=1657.17ms elapsed=5125.63s tid=0x00007fa1b80e8800 nid=0x145 runnable  \r\n    &quot;VM Periodic Task Thread&quot; os_prio=0 cpu=5369.87ms elapsed=5125.40s tid=0x00007fa1b86c4800 nid=0x150 waiting on condition.    \r\n\r\n  \r\n\r\n        Logs above the java dump, tests in parallel in 7 threads. \r\n    As I see &quot;Test worker&quot; is the test gradle task is waiting. \r\n    ForkJoinPool-1-worker-3 -&gt; WAITING status \r\n    ForkJoinPool-1-worker-5 -&gt; TIMED_WAITING status\r\n    ForkJoinPool-1-worker-7 -&gt; WAITING status\r\n    ForkJoinPool-1-worker-9 -&gt; WAITING status\r\n    ForkJoinPool-1-worker-13 -&gt; WAITING status\r\n    ForkJoinPool-1-worker-11 -&gt; WAITING status  \r\n    ForkJoinPool-1-worker-15 -&gt; TIMED_WAITING status\r\n\r\n","title":"JUnit5: Changing the ExecutionMode during Runtime execution the Tests are freezing","body":"<p>I try to change the ExecutionMode of running tests during Runtime execution but the tests are freezing.</p>\n<p>I used:</p>\n<ul>\n<li>Java 11</li>\n<li>JUnit 5 = 5.10.0</li>\n<li>Gradle 7.6</li>\n<li>Playwright in docker in headless node.</li>\n</ul>\n<p>I used such configuration to make the parallelisation of the tests.</p>\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.mode.default=same_thread\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\njunit.jupiter.testinstance.lifecycle.default=PER_CLASS\njunit.jupiter.execution.parallel.config.strategy=custom\njunit.jupiter.execution.parallel.config.custom.class=*.CustomStrategyParallelism\n</code></pre>\n<p>As You see above, the test classes run in parallel and methods in the same thread.<br />\nEverything is fine with this.</p>\n<p>But in I want to run several classes in the in the same thread by each other (sequentially) in one run, the most test class in  parallel and few class in the same thread.\nFor example: As I want\nTestClassA (tests in same thread ) - takes thread-1.<br />\nTestClassB (tests in same thread ) - takes thread-3.<br />\nTestClassC (tests in same thread ) - takes thread-5.<br />\nTestClassG (tests in same thread ) - takes thread-4.</p>\n<p>**TestClassA finished new TestClassG takes the thread - thread-1.<br />\n**\n**TestClassG finished new TestClassO takes the thread - thread-1.<br />\n**\nTestClassB, TestClassB,  TestClassC, TestClassG run in parallel and TestClassA,TestClassG,TestClassO should run in the same thread.</p>\n<p>I used the annotation from JUnit5 @Execution(ExecutionMode.SAME_THREAD) and added to TestClassA,TestClassG,TestClassO.</p>\n<p>But in this configuration tests are freezing during the Runtime execution.\nIn the console there are no logs to see what is wrong, no exceptions, just freezing.</p>\n<p>If I remove the  @Execution(ExecutionMode.SAME_THREAD) from the test classes, tests run passed success.</p>\n<p>Thanks.</p>\n<p>Tried to increase the memory docker container but did not help</p>\n<p>Got Thread dump.</p>\n<pre><code>    Threads class SMR info:\n_java_thread_list=0x00007fa170000c40, length=28, elements={\n0x00007fa1b8029000, 0x00007fa1b817f800, 0x00007fa1b8181800, 0x00007fa1b8186800,\n0x00007fa1b8188800, 0x00007fa1b818a800, 0x00007fa1b818d000, 0x00007fa1b818f000,\n0x00007fa1b81a4800, 0x00007fa1b8c88800, 0x00007fa1b8cd4000, 0x00007fa1b8cd5000,\n0x00007fa1b9510000, 0x00007fa11004c000, 0x00007fa11005d000, 0x00007fa114001000,\n0x00007fa108001000, 0x00007fa11005e000, 0x00007fa110060000, 0x00007fa114022800,\n0x00007fa0f80a4000, 0x00007fa1140ca000, 0x00007fa0f8610000, 0x00007fa1142bb800,\n0x00007fa114216000, 0x00007fa0f80a5800, 0x00007fa0f80c8800, 0x00007fa170004800\n}\n\n&quot;Test worker&quot; #1 prio=5 os_prio=0 cpu=3111.48ms elapsed=5125.63s tid=0x00007fa1b8029000 nid=0x13c in Object.wait()  [0x00007fa1bc178000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.20.1/Native Method)\n        - waiting on &lt;0x00000000c3b09a00&gt; (a org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask)\n        at java.util.concurrent.ForkJoinTask.externalInterruptibleAwaitDone(java.base@11.0.20.1/ForkJoinTask.java:356)\n        - waiting to re-lock in wait() &lt;0x00000000c3b09a00&gt; (a org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask)\n        at java.util.concurrent.ForkJoinTask.get(java.base@11.0.20.1/ForkJoinTask.java:1004) \n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=23.27ms elapsed=5125.62s tid=0x00007fa1b817f800 nid=0x148 waiting on condition  [0x00007fa191ffe000]\n   java.lang.Thread.State: RUNNABLE\n        at java.lang.ref.Reference.waitForReferencePendingList(java.base@11.0.20.1/Native Method) \n\nFinalizer&quot; #3 daemon prio=8 os_prio=0 cpu=711.13ms elapsed=5125.62s tid=0x00007fa1b8181800 nid=0x149 in Object.wait()  [0x00007fa191efe000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.20.1/Native Method)\n        - waiting on &lt;no object reference available&gt;\n\nSignal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=0.47ms elapsed=5125.61s tid=0x00007fa1b8186800 nid=0x14a runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Service Thread&quot; #5 daemon prio=9 os_prio=0 cpu=0.23ms elapsed=5125.61s tid=0x00007fa1b8188800 nid=0x14b runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #6 daemon prio=9 os_prio=0 cpu=55854.38ms elapsed=5125.61s tid=0x00007fa1b818a800 nid=0x14c waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;C1 CompilerThread0&quot; #9 daemon prio=9 os_prio=0 cpu=7449.78ms elapsed=5125.61s tid=0x00007fa1b818d000 nid=0x14d waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;Sweeper thread&quot; #10 daemon prio=9 os_prio=0 cpu=151.99ms elapsed=5125.61s tid=0x00007fa1b818f000 nid=0x14e runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n\n&quot;Common-Cleaner&quot; #11 daemon prio=8 os_prio=0 cpu=11.24ms elapsed=5125.58s tid=0x00007fa1b81a4800 nid=0x14f in Object.wait()  [0x00007fa1918fe000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.20.1/Native Method)\n\n&quot;/127.0.0.1:38124 to /127.0.0.1:44321 workers&quot; #13 prio=5 os_prio=0 cpu=16.22ms elapsed=5125.00s tid=0x00007fa1b8c88800 nid=0x158 waiting on condition  [0x00007fa1911f8000]\n   java.lang.Thread.State: WAITING (parking) \n\n\n&quot;/127.0.0.1:38124 to /127.0.0.1:44321 workers Thread 2&quot; #14 prio=5 os_prio=0 cpu=261.53ms elapsed=5124.99s tid=0x00007fa1b8cd4000 nid=0x159 waiting on condition  [0x00007fa190ef8000]\n   java.lang.Thread.State: WAITING (parking)\n\n&quot;/127.0.0.1:38124 to /127.0.0.1:44321 workers Thread 3&quot; #15 prio=5 os_prio=0 cpu=10.05ms elapsed=5124.99s tid=0x00007fa1b8cd5000 nid=0x15a runnable  [0x00007fa190df8000]\n   java.lang.Thread.State: RUNNABLE\n        at sun.nio.ch.EPoll.wait(java.base@11.0.20.1/Native Method)\n\n&quot;ForkJoinPool-1-worker-3&quot; #16 daemon prio=5 os_prio=0 cpu=464014.46ms elapsed=5122.26s tid=0x00007fa1b9510000 nid=0x165 waiting on condition  [0x00007fa11f5fd000]\n   java.lang.Thread.State: WAITING (parking)\n        at jdk.internal.misc.Unsafe.park(java.base@11.0.20.1/Native Method) \n\n\n&quot;ForkJoinPool-1-worker-5&quot; #17 daemon prio=5 os_prio=0 cpu=30368.82ms elapsed=5122.21s tid=0x00007fa11004c000 nid=0x166 waiting on condition  [0x00007fa11f4fd000]\n   java.lang.Thread.State: TIMED_WAITING (parking) \n\n\n&quot;ForkJoinPool-1-worker-7&quot; #18 daemon prio=5 os_prio=0 cpu=7436.00ms elapsed=5122.21s tid=0x00007fa11005d000 nid=0x167 waiting on condition  [0x00007fa11f3fe000]\n   java.lang.Thread.State: WAITING (parking) \n\n\n&quot;ForkJoinPool-1-worker-9&quot; #19 daemon prio=5 os_prio=0 cpu=13860.08ms elapsed=5122.20s tid=0x00007fa114001000 nid=0x168 waiting on condition  [0x00007fa11f2fe000]\n   java.lang.Thread.State: WAITING (parking) \n\n\n&quot;ForkJoinPool-1-worker-13&quot; #21 daemon prio=5 os_prio=0 cpu=8765.08ms elapsed=5122.20s tid=0x00007fa108001000 nid=0x169 waiting on condition  [0x00007fa11f1fe000]\n   java.lang.Thread.State: WAITING (parking) \n\n\n&quot;ForkJoinPool-1-worker-11&quot; #20 daemon prio=5 os_prio=0 cpu=7355.41ms elapsed=5122.20s tid=0x00007fa11005e000 nid=0x16a waiting on condition  [0x00007fa11f0fe000]\n   java.lang.Thread.State: WAITING (parking)\n        at jdk.internal.misc.Unsafe.park(java.base@11.0.20.1/Native Method)\n\n\n&quot;ForkJoinPool-1-worker-15&quot; #22 daemon prio=5 os_prio=0 cpu=30042.77ms elapsed=5122.20s tid=0x00007fa110060000 nid=0x16b waiting on condition  [0x00007fa11effd000]\n   java.lang.Thread.State: TIMED_WAITING (parking) \n\n\n&quot;process reaper (pid 29293)&quot; #29 daemon prio=10 os_prio=0 cpu=10.90ms elapsed=5121.26s tid=0x00007fa114022800 nid=0x19c runnable  [0x00007fa198086000]\n   java.lang.Thread.State: RUNNABLE \n\n\n&quot;process reaper (pid 29474)&quot; #25 daemon prio=10 os_prio=0 cpu=8.41ms elapsed=5121.26s tid=0x00007fa0f80a4000 nid=0x1b4 runnable  [0x00007fa1900a2000]\n   java.lang.Thread.State: RUNNABLE \n\n&quot;ForkJoinPool.commonPool-worker-5&quot; #45 daemon prio=5 os_prio=0 cpu=22.57ms elapsed=5118.99s tid=0x00007fa1140ca000 nid=0x5b8 waiting on condition  [0x00007fa11cbfe000]\n   java.lang.Thread.State: WAITING (parking) \n\n&quot;Java2D Disposer&quot; #160 daemon prio=10 os_prio=0 cpu=1.71ms elapsed=4306.39s tid=0x00007fa0f8610000 nid=0x44f8 in Object.wait()  [0x00007fa11defe000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.20.1/Nati \n\n\nThread-215&quot; #246 daemon prio=5 os_prio=0 cpu=22.48ms elapsed=3610.22s tid=0x00007fa1142bb800 nid=0x726e runnable  [0x00007fa11dffe000]\n   java.lang.Thread.State: RUNNABLE \n\n   \n&quot;VM Thread&quot; os_prio=0 cpu=1139.49ms elapsed=5125.62s tid=0x00007fa1b817c800 nid=0x147 runnable  \n&quot;GC Thread#0&quot; os_prio=0 cpu=1284.26ms elapsed=5125.63s tid=0x00007fa1b8041000 nid=0x13e runnable  \n&quot;GC Thread#1&quot; os_prio=0 cpu=1291.54ms elapsed=5125.28s tid=0x00007fa184001000 nid=0x152 runnable  \n&quot;GC Thread#2&quot; os_prio=0 cpu=1363.65ms elapsed=5125.28s tid=0x00007fa184002800 nid=0x153 runnable  \n&quot;GC Thread#3&quot; os_prio=0 cpu=1236.08ms elapsed=5124.61s tid=0x00007fa184005800 nid=0x15c runnable  \n&quot;GC Thread#4&quot; os_prio=0 cpu=1357.65ms elapsed=5124.61s tid=0x00007fa184007000 nid=0x15d runnable  \n&quot;GC Thread#5&quot; os_prio=0 cpu=1213.51ms elapsed=5124.61s tid=0x00007fa184008800 nid=0x15e runnable  \n&quot;GC Thread#6&quot; os_prio=0 cpu=1310.53ms elapsed=5124.61s tid=0x00007fa18400a000 nid=0x15f runnable  \n&quot;GC Thread#7&quot; os_prio=0 cpu=1281.43ms elapsed=5124.61s tid=0x00007fa18400c000 nid=0x160 runnable  \n&quot;G1 Main Marker&quot; os_prio=0 cpu=32.17ms elapsed=5125.63s tid=0x00007fa1b805c800 nid=0x13f runnable  \n&quot;G1 Conc#0&quot; os_prio=0 cpu=4679.17ms elapsed=5125.63s tid=0x00007fa1b805e800 nid=0x140 runnable  \n&quot;G1 Conc#1&quot; os_prio=0 cpu=4657.74ms elapsed=5123.58s tid=0x00007fa194001000 nid=0x164 runnable  \n&quot;G1 Refine#0&quot; os_prio=0 cpu=24.97ms elapsed=5125.63s tid=0x00007fa1b80e7000 nid=0x143 runnable  \n&quot;G1 Refine#1&quot; os_prio=0 cpu=4.33ms elapsed=5124.58s tid=0x00007fa188001000 nid=0x161 runnable  \n&quot;G1 Refine#2&quot; os_prio=0 cpu=0.32ms elapsed=5124.58s tid=0x00007fa12c001000 nid=0x162 runnable  \n&quot;G1 Refine#3&quot; os_prio=0 cpu=0.09ms elapsed=5124.58s tid=0x00007fa120001000 nid=0x163 runnable  \n&quot;G1 Young RemSet Sampling&quot; os_prio=0 cpu=1657.17ms elapsed=5125.63s tid=0x00007fa1b80e8800 nid=0x145 runnable  \n&quot;VM Periodic Task Thread&quot; os_prio=0 cpu=5369.87ms elapsed=5125.40s tid=0x00007fa1b86c4800 nid=0x150 waiting on condition.    \n\n\n\n    Logs above the java dump, tests in parallel in 7 threads. \nAs I see &quot;Test worker&quot; is the test gradle task is waiting. \nForkJoinPool-1-worker-3 -&gt; WAITING status \nForkJoinPool-1-worker-5 -&gt; TIMED_WAITING status\nForkJoinPool-1-worker-7 -&gt; WAITING status\nForkJoinPool-1-worker-9 -&gt; WAITING status\nForkJoinPool-1-worker-13 -&gt; WAITING status\nForkJoinPool-1-worker-11 -&gt; WAITING status  \nForkJoinPool-1-worker-15 -&gt; TIMED_WAITING status\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":2540630,"reputation":1426,"user_id":2206512,"accept_rate":100,"display_name":"Prakash Bhagat"},"score":0,"creation_date":1395156339,"post_id":22483686,"comment_id":34203000,"body_markdown":"Can you pls place screenshot or stacktrace?","body":"Can you pls place screenshot or stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":2737217,"reputation":1295,"user_id":2359634,"accept_rate":71,"display_name":"user2359634"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395160049,"creation_date":1395160049,"answer_id":22485333,"question_id":22483686,"body_markdown":"Solved the error by choosing the **Packaging** as **jar** , while converting to Maven Project . I earlier selected the packaging as war , which created the issue.","title":"Error converting dynamic web project to Maven Project","body":"<p>Solved the error by choosing the <strong>Packaging</strong> as <strong>jar</strong> , while converting to Maven Project . I earlier selected the packaging as war , which created the issue.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1696413334,"post_id":77209467,"comment_id":136148601,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77209467/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29573088,"reputation":1,"user_id":22664744,"display_name":"Tapan Kumar Mandal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696141770,"creation_date":1696141770,"answer_id":77209467,"question_id":22483686,"body_markdown":"need to update forcefully the maven Right click on the project -&gt; then go to maven -&gt; update the project - select force to update","title":"Error converting dynamic web project to Maven Project","body":"<p>need to update forcefully the maven Right click on the project -&gt; then go to maven -&gt; update the project - select force to update</p>\n"}],"owner":{"account_id":2737217,"reputation":1295,"user_id":2359634,"accept_rate":71,"display_name":"user2359634"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22485333,"answer_count":2,"score":0,"last_activity_date":1696141770,"creation_date":1395156151,"question_id":22483686,"body_markdown":"While trying to convert dynamic web project to Maven project i get the error:\r\n\r\n**An internal error occurred during: &quot;Updating Maven Project&quot;.\r\norg/codehaus/plexus/archiver/jar/JarArchiver**\r\n\r\nI am using Eclipse Kepler IDE for Java EE Developers. \r\n\r\nI tried the solutions mentioned in this link https://stackoverflow.com/questions/14491298/an-internal-error-occurred-during-updating-maven-dependencies , but didn&#39;t work for me.\r\n\r\nAny idea what should be done to solve this problem?","title":"Error converting dynamic web project to Maven Project","body":"<p>While trying to convert dynamic web project to Maven project i get the error:</p>\n\n<p><strong>An internal error occurred during: \"Updating Maven Project\".\norg/codehaus/plexus/archiver/jar/JarArchiver</strong></p>\n\n<p>I am using Eclipse Kepler IDE for Java EE Developers. </p>\n\n<p>I tried the solutions mentioned in this link <a href=\"https://stackoverflow.com/questions/14491298/an-internal-error-occurred-during-updating-maven-dependencies\">An internal error occurred during: &quot;Updating Maven Dependencies&quot;</a> , but didn't work for me.</p>\n\n<p>Any idea what should be done to solve this problem?</p>\n"},{"tags":["java","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1696139766,"post_id":77209167,"comment_id":136113843,"body_markdown":"Just put your input into a file, and use `... &lt; file.txt` to feed it in.","body":"Just put your input into a file, and use <code>... &lt; file.txt</code> to feed it in."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696232148,"post_id":77209167,"comment_id":136121923,"body_markdown":"You can modify the code to implement your requirements. This is not a vscode problem.","body":"You can modify the code to implement your requirements. This is not a vscode problem."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698284189,"post_id":77209167,"comment_id":136386879,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696141470,"creation_date":1696140932,"answer_id":77209432,"question_id":77209167,"body_markdown":"You are reading input and printing output in the same loop. I suggest that you separate input and output into two loops. First get all the input and save it in some kind of data structure like an array and then process the array and print the output.\r\n\r\nIn the below code I create a class whose members store the values for `n`, `k` and `x`. I create an array and store the class instances that are initialized from the input. Then I process the array.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class C {\r\n    private float  k;\r\n    private float  n;\r\n    private float  x;\r\n\r\n    public C(float n, float k, float x) {\r\n        this.n = n;\r\n        this.k = k;\r\n        this.x = x;\r\n    }\r\n\r\n    public String test() {\r\n        return (x&lt;(k/2*(1+k)))||(x&gt;k/2*(2*n-k+1)) ? &quot;NO&quot; : &quot;YES&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner stdin = new Scanner(System.in);\r\n        int t = Integer.parseInt(stdin.nextLine());\r\n        C[] cases = new C[t];\r\n        for (int i = 0; i &lt; t; i++) {\r\n            String line = stdin.nextLine();\r\n            String[] parts = line.split(&quot; &quot;);\r\n            cases[i] = new C(Float.parseFloat(parts[0]),\r\n                             Float.parseFloat(parts[1]),\r\n                             Float.parseFloat(parts[2]));\r\n        }\r\n        for (int i = 0; i &lt; t; i++) {\r\n            System.out.println(cases[i].test());\r\n        }\r\n    }\r\n}\r\n```\r\nFor anyone interested, the problem is on this webpage:  \r\nhttps://codeforces.com/contest/1878/problem/C\r\n","title":"How to stop vscode integrated terminal from showing output in between multiple lines of input","body":"<p>You are reading input and printing output in the same loop. I suggest that you separate input and output into two loops. First get all the input and save it in some kind of data structure like an array and then process the array and print the output.</p>\n<p>In the below code I create a class whose members store the values for <code>n</code>, <code>k</code> and <code>x</code>. I create an array and store the class instances that are initialized from the input. Then I process the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class C {\n    private float  k;\n    private float  n;\n    private float  x;\n\n    public C(float n, float k, float x) {\n        this.n = n;\n        this.k = k;\n        this.x = x;\n    }\n\n    public String test() {\n        return (x&lt;(k/2*(1+k)))||(x&gt;k/2*(2*n-k+1)) ? &quot;NO&quot; : &quot;YES&quot;;\n    }\n\n    public static void main(String[] args) {\n        Scanner stdin = new Scanner(System.in);\n        int t = Integer.parseInt(stdin.nextLine());\n        C[] cases = new C[t];\n        for (int i = 0; i &lt; t; i++) {\n            String line = stdin.nextLine();\n            String[] parts = line.split(&quot; &quot;);\n            cases[i] = new C(Float.parseFloat(parts[0]),\n                             Float.parseFloat(parts[1]),\n                             Float.parseFloat(parts[2]));\n        }\n        for (int i = 0; i &lt; t; i++) {\n            System.out.println(cases[i].test());\n        }\n    }\n}\n</code></pre>\n<p>For anyone interested, the problem is on this webpage:<br />\n<a href=\"https://codeforces.com/contest/1878/problem/C\" rel=\"nofollow noreferrer\">https://codeforces.com/contest/1878/problem/C</a></p>\n"}],"owner":{"account_id":27725550,"reputation":1,"user_id":21165178,"display_name":"MonsieurSeed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696141470,"creation_date":1696132373,"question_id":77209167,"body_markdown":"I&#39;m a beginner with CP, and one day when I was doing CF Round 900 (Div.3) Question C, I found that the integrated terminal in VS Code is showing output in between multiple lines of input. What I did is just copy the entire input into the integrated terminal\r\n\r\nMy input:\r\n```none\r\n12\r\n5 3 10\r\n5 3 3\r\n10 10 55\r\n6 5 20\r\n2 1 26\r\n187856 87856 2609202300\r\n200000 190000 19000000000\r\n28 5 2004\r\n2 2 2006\r\n9 6 40\r\n47202 32455 613407217\r\n185977 145541 15770805980\r\n```\r\nWhat it looks like in the VS Code integrated terminal after I entered my input:\r\n```none\r\n12\r\n5 3 10\r\n5 3 3\r\n10 10 55\r\n6 5 20\r\n2 1 26\r\n187856 8785YES\r\nNO\r\nYES\r\nYES\r\nNO\r\n6 2609202300\r\n200000 190000 19000000000\r\n28 5 2004\r\n2NO\r\nYES\r\nNO\r\n 2 2006\r\n9 6 40\r\n47202 32455 613407217\r\n185977 145541NO\r\nNO\r\nYES\r\n 15770805980\r\nYES\r\n```\r\nMy code:\r\n```java\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class C {\r\n\r\n    public static void main(String[] args) throws IOException{\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n        int T = Integer.parseInt(in.readLine());\r\n        for (int t = 0; t &lt; T; t ++) {\r\n            StringTokenizer st = new StringTokenizer(in.readLine());\r\n            float n = Float.parseFloat(st.nextToken());\r\n            float k = Float.parseFloat(st.nextToken());\r\n            float x = Float.parseFloat(st.nextToken());\r\n            if ((x&lt;(k/2*(1+k)))||(x&gt;k/2*(2*n-k+1))) {System.out.println(&quot;NO&quot;);}\r\n            else {System.out.println(&quot;YES&quot;);}\r\n        }\r\n    }\r\n}\r\n```\r\nVS Code is running on a Mac machine. \r\nCould anyone help me? Thanks!\r\n\r\n1. I tried to run it in external terminal it works fine, but I still wish to run it in internal terminal. \r\n2. I tried to run a python file but it still doesn&#39;t work.","title":"How to stop vscode integrated terminal from showing output in between multiple lines of input","body":"<p>I'm a beginner with CP, and one day when I was doing CF Round 900 (Div.3) Question C, I found that the integrated terminal in VS Code is showing output in between multiple lines of input. What I did is just copy the entire input into the integrated terminal</p>\n<p>My input:</p>\n<pre class=\"lang-none prettyprint-override\"><code>12\n5 3 10\n5 3 3\n10 10 55\n6 5 20\n2 1 26\n187856 87856 2609202300\n200000 190000 19000000000\n28 5 2004\n2 2 2006\n9 6 40\n47202 32455 613407217\n185977 145541 15770805980\n</code></pre>\n<p>What it looks like in the VS Code integrated terminal after I entered my input:</p>\n<pre class=\"lang-none prettyprint-override\"><code>12\n5 3 10\n5 3 3\n10 10 55\n6 5 20\n2 1 26\n187856 8785YES\nNO\nYES\nYES\nNO\n6 2609202300\n200000 190000 19000000000\n28 5 2004\n2NO\nYES\nNO\n 2 2006\n9 6 40\n47202 32455 613407217\n185977 145541NO\nNO\nYES\n 15770805980\nYES\n</code></pre>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\n\npublic class C {\n\n    public static void main(String[] args) throws IOException{\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        int T = Integer.parseInt(in.readLine());\n        for (int t = 0; t &lt; T; t ++) {\n            StringTokenizer st = new StringTokenizer(in.readLine());\n            float n = Float.parseFloat(st.nextToken());\n            float k = Float.parseFloat(st.nextToken());\n            float x = Float.parseFloat(st.nextToken());\n            if ((x&lt;(k/2*(1+k)))||(x&gt;k/2*(2*n-k+1))) {System.out.println(&quot;NO&quot;);}\n            else {System.out.println(&quot;YES&quot;);}\n        }\n    }\n}\n</code></pre>\n<p>VS Code is running on a Mac machine.\nCould anyone help me? Thanks!</p>\n<ol>\n<li>I tried to run it in external terminal it works fine, but I still wish to run it in internal terminal.</li>\n<li>I tried to run a python file but it still doesn't work.</li>\n</ol>\n"},{"tags":["java","android","video-processing","mediamuxer"],"comments":[{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1686122900,"post_id":76358307,"comment_id":134754164,"body_markdown":"I see. The bytes works well with a surface view. I am able to stream the video. However, only when I am trying to encode the bytedata the frames are corrupted. Here is a link to the output video https://dropmefiles.com/yfqad","body":"I see. The bytes works well with a surface view. I am able to stream the video. However, only when I am trying to encode the bytedata the frames are corrupted. Here is a link to the output video <a href=\"https://dropmefiles.com/yfqad\" rel=\"nofollow noreferrer\">dropmefiles.com/yfqad</a>"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1686212471,"post_id":76358307,"comment_id":134769037,"body_markdown":"@VC.One Can you please help with this?","body":"@VC.One Can you please help with this?"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":1,"creation_date":1686319420,"post_id":76358307,"comment_id":134786728,"body_markdown":"Your **SPS** and **PPS** is wrong. Your code says it makes a 1280x720 frame but your file has 640x600 frame, and the input from array of NAL units might itself be yet another different frame resolution... The fastest way to know your expected settings is to check. **(1)** If your NAL units all start with an Annex-B **start code** like `00 00 01` then just concat them into one long array, and save as an H264 file to test with VLC media player. **(2)** If you don&#39;t have start codes, then you need to show how your input is structured (you might have to remove some extra bytes to reach video data)","body":"Your <b>SPS</b> and <b>PPS</b> is wrong. Your code says it makes a 1280x720 frame but your file has 640x600 frame, and the input from array of NAL units might itself be yet another different frame resolution... The fastest way to know your expected settings is to check. <b>(1)</b> If your NAL units all start with an Annex-B <b>start code</b> like <code>00 00 01</code> then just concat them into one long array, and save as an H264 file to test with VLC media player. <b>(2)</b> If you don&#39;t have start codes, then you need to show how your input is structured (you might have to remove some extra bytes to reach video data)"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1686320608,"post_id":76358307,"comment_id":134787009,"body_markdown":"These are my SPS and PPS bytes combined in one array. `[0, 0, 0, 1, 103, 66, 0, 41, -30, -112, 22, -121, -74, 6, -84, 24, 4, 27, -121, -119, 17, 80, 0, 0, 0, 1, 104, -50, 60, -128]`\nDo I need to encode these as well?","body":"These are my SPS and PPS bytes combined in one array. <code>[0, 0, 0, 1, 103, 66, 0, 41, -30, -112, 22, -121, -74, 6, -84, 24, 4, 27, -121, -119, 17, 80, 0, 0, 0, 1, 104, -50, 60, -128]</code> Do I need to encode these as well?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1686320786,"post_id":76358307,"comment_id":134787056,"body_markdown":"All my frames starts with`0 0 0 1` which is why I am using stripNALUnitStartCode. Do we need this information while endoing or should I strip this data from my frames?","body":"All my frames starts with<code>0 0 0 1</code> which is why I am using stripNALUnitStartCode. Do we need this information while endoing or should I strip this data from my frames?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":1,"creation_date":1686562382,"post_id":76358307,"comment_id":134810303,"body_markdown":"I fixed the file, the video is now encoded in 1280x720. The frames are still corrupted can you please have a quick look if there is something wrong . Here is the file with a screenshot of the code info https://dropmefiles.com/w9LC3","body":"I fixed the file, the video is now encoded in 1280x720. The frames are still corrupted can you please have a quick look if there is something wrong . Here is the file with a screenshot of the code info <a href=\"https://dropmefiles.com/w9LC3\" rel=\"nofollow noreferrer\">dropmefiles.com/w9LC3</a>"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1686569805,"post_id":76358307,"comment_id":134811809,"body_markdown":"I have added the requested information in my post. For some reason the first NalUnit after the sps and pps is only 30 length compared to the other nalunits and NalUnit1 and NalUnit2 have timestamps have identical values is this normal?","body":"I have added the requested information in my post. For some reason the first NalUnit after the sps and pps is only 30 length compared to the other nalunits and NalUnit1 and NalUnit2 have timestamps have identical values is this normal?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":1,"creation_date":1686820275,"post_id":76358307,"comment_id":134852916,"body_markdown":"@VC.One https://dropmefiles.com/Cewey I have added the new raw bytes[] file with NALUNIT1 and NALUNIT2. The file is around 13kb. Also, added a new version of the recording. If you caould please check.","body":"@VC.One <a href=\"https://dropmefiles.com/Cewey\" rel=\"nofollow noreferrer\">dropmefiles.com/Cewey</a> I have added the new raw bytes[] file with NALUNIT1 and NALUNIT2. The file is around 13kb. Also, added a new version of the recording. If you caould please check."},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":1,"creation_date":1686924795,"post_id":76358307,"comment_id":134869662,"body_markdown":"I have refactored my code and updated my post with the current encoding method and output log if you can please have a look. I tried everything, not sure if it is a hardware issue where writing speed comes into play or not","body":"I have refactored my code and updated my post with the current encoding method and output log if you can please have a look. I tried everything, not sure if it is a hardware issue where writing speed comes into play or not"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":1,"creation_date":1686927244,"post_id":76358307,"comment_id":134870236,"body_markdown":"I did so, removed the first spspps and changed the resolution to 720*480. Still no results :( when you have time if you can check the configuration that I have added in the post perhaps there is something off","body":"I did so, removed the first spspps and changed the resolution to 720*480. Still no results :( when you have time if you can check the configuration that I have added in the post perhaps there is something off"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":1,"creation_date":1687180886,"post_id":76358307,"comment_id":134896770,"body_markdown":"It&#39;s coming together. I dropped the encoding stuff and now I have some frames that are visible but the video is still corrupted.  I have updated my code and uploaded the new video and raw bytes files here - https://dropmefiles.com/rn6I0\n\nCan you please have a look","body":"It&#39;s coming together. I dropped the encoding stuff and now I have some frames that are visible but the video is still corrupted.  I have updated my code and uploaded the new video and raw bytes files here - <a href=\"https://dropmefiles.com/rn6I0\" rel=\"nofollow noreferrer\">dropmefiles.com/rn6I0</a>  Can you please have a look"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":1,"creation_date":1687248186,"post_id":76358307,"comment_id":134906034,"body_markdown":"After reading this thread https://stackoverflow.com/a/20686267/17121708 I finally I fixed it by adding the combined sps+pps frame that is captured at the start of the stream before each nalunit frame. Thanks a lot for the help I would love to buy you a cofee for helping me troubleshoot this!","body":"After reading this thread <a href=\"https://stackoverflow.com/a/20686267/17121708\">stackoverflow.com/a/20686267/17121708</a> I finally I fixed it by adding the combined sps+pps frame that is captured at the start of the stream before each nalunit frame. Thanks a lot for the help I would love to buy you a cofee for helping me troubleshoot this!"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":1,"creation_date":1687250323,"post_id":76358307,"comment_id":134906464,"body_markdown":"Yes If you want I  think you will provide a better explanation with your answer and I will mark it as solved)","body":"Yes If you want I  think you will provide a better explanation with your answer and I will mark it as solved)"}],"answers":[{"comments":[{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":1,"creation_date":1687336640,"post_id":76518541,"comment_id":134921109,"body_markdown":"From analyzing your raw files you can try these settings: `MediaFormat.KEY_I_FRAME_INTERVAL, 32);` and also `MediaFormat.KEY_BIT_RATE, 1339000` (raw has **1339 Kilo-bits/sec** of bitrate) ... Now do you get a playable file (without needing to prefix the SPS/PPS before each frame)?","body":"From analyzing your raw files you can try these settings: <code>MediaFormat.KEY_I_FRAME_INTERVAL, 32);</code> and also <code>MediaFormat.KEY_BIT_RATE, 1339000</code> (raw has <b>1339 Kilo-bits/sec</b> of bitrate) ... Now do you get a playable file (without needing to prefix the SPS/PPS before each frame)?"}],"tags":[],"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687345245,"creation_date":1687297098,"answer_id":76518541,"question_id":76358307,"body_markdown":"\r\n**Why does the video have corrupted frames?** From a look at the [shared bytes](https://dropmefiles.com/rn6I0): \r\n\r\n**1) Every frame is a Key-frame**  &lt;br&gt;\r\nI wondered why your MP4&#39;s section for listing keyframes, the `stss` atom, had **every single frame** listed as a type &quot;Key-frame&quot; (why no P-frames and B-frames?) but then I see that your code has this command:\r\n\r\n    mMediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 1);\r\n\r\nSince you are **muxing** (copy/pasting existing media bytes), that **media has its own interval** which should be written into the output MP4... A Muxing process does not need to be given a new keyframe interval. \r\n\r\n**solution:** &lt;br&gt;\r\nTest a possible fix of disabling (or comment `//`) that line, &lt;br&gt;\r\nWith same `//` disabling of the `bitrate` setting. \r\n\r\n**2) Your first frame is not a keyframe**&lt;br&gt; \r\nThe first video frame that you send to the muxer is not a keyframe. &lt;br&gt;It is marked as a key-frame in the MP4 metadata (at the **stss** atom) but it&#39;s actual bytes are of type P-frame. This means: After **start-code** `0, 0, 0, 1` your NAL header is found to be hex: `42`, or decimal: `65`). Be aware because a decimal `65` is not same as hex `65` and so it can be confusing, if you forget to convert, and think that decimal `65` means this NALU is a keyframe.\r\n\r\n**solution:** &lt;br&gt;\r\nMake sure you send a NAL unit with decimals: `0, 0, 0, 1, 101` (or in hex: `00, 00, 00, 01, 65`).\r\n\r\nThe `101` marks it as a keyframe NALU (header byte value is: `0x65` or as decimal value: `101`).\r\n\r\n**3) You have wrong SPS and PPS** &lt;br&gt;\r\nOnce again the problem is a wrong SPS and PPS... &lt;br&gt;\r\nInside the MP4, the SPS/PPS data goes into the **avcC** section (which holds the &quot;AVC configuration&quot;, and AVC is just an alternate name for H264). \r\n\r\nIf I manually overwrite a part of the `avcC` section by copy/pasting over the bytes from the raw NALUs then your corrupt MP4 shows a perfect picture (not messy colours). \r\n\r\n**solution:** &lt;br&gt;\r\n\r\n**option A:** Try to set a `MediaFormat` with the SPS and PPS included. &lt;br&gt;This means putting an entry for [Codec-Specfic Data](https://developer.android.com/reference/android/media/MediaCodec#CSD) according to these **keys**:\r\n\r\n    Format\t\tCSD buffer #0\t\t\t\t\t\tCSD buffer #1\t\t\t\t\t\tCSD buffer #2\r\n    H.264 AVC\tSPS (Sequence Parameter Sets)\t\tPPS (Picture Parameter Sets)\t\tNot Used\r\n\r\n**option B:** In a worst case scenario you might have to manually fix the bytes after the MP4 file is created by your Android code (_eg:_ after the file creation code finishes, run another function which finds and overwrites some circa 25 bytes of existing SPS &amp; PPS inside the newly created MP4). Hopefully not needed as a solution.\r\n\r\nI cannot test Android code, please check if this example code creates a working MP4:\r\n\r\n**(1)** Converting between Decimals into Hex (since bytes are written as hex)\r\n\r\n    //# check Byte as Decimal\r\n    int temp_int = (NALU_SPS[4] &amp; 0xFF); //where NALU_SPS is an Array.\r\n    System.out.println(&quot;NALU Decimal: &quot; + temp_int );\r\n    \r\n    //# check Byte as Hex\r\n    String temp_str = Integer.toString( temp_int, 16 );\r\n    temp_str = (temp_str.length() &lt; 2) ? (&quot;0&quot;+temp_str) : temp_str;\r\n    System.out.println(&quot;NALU Byte: 0x&quot; + temp_str );\r\n\r\n\r\nUse the above to convert your Array values when double-checking their byte value, since tutorials and H264 Specification will mention the byte values in a Hex format.\r\n\r\nA byte example like `0xFF` is hex `FF` and is decimal `255`. \r\n\r\n**(2)** Try this `MediaFormat` setup.\r\n\r\n    //# Set up MediaCodec\r\n    mMediaFormat = MediaFormat.createVideoFormat(codecName, width, height);\r\n    mMediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, framerate);\r\n    \r\n    //# Your SPS/PPS in an Array. Can be: byte[] ...or Else: int[]\r\n    byte[] NALU_SPS = { 0x00, 0x00, 0x00, 0x01, 0x67, 0x42, 0x00, 0x29, 0xE2, 0x90, 0x16, 0x87, 0xB6, 0x06, 0xAC, 0x18, 0x04, 0x1B, 0x87, 0x89, 0x11, 0x50 };\r\n    byte[] NALU_PPS = { 0x00, 0x00, 0x00, 0x01, 0x68, 0xCE, 0x3C, 0x80 };\r\n    \r\n    //# send SPS/PPS to the Muxer\r\n    mMediaFormat.setByteBuffer( &quot;csd-0&quot;, ByteBuffer.wrap( NALU_SPS ) );\r\n    mMediaFormat.setByteBuffer( &quot;csd-1&quot;, ByteBuffer.wrap( NALU_PPS ) );\r\n    \r\n    //# This might not be needed (since Muxer could get from SPS/PPS)\r\n    mMediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, colorFormat);\r\n    \r\n    //# test with these disabled\r\n    //mMediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, bitrate);\r\n    //mMediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 1);\r\n\r\n\r\n\r\n","title":"How to fix corrupted video (green frames) after muxing using MediaMuxer and MediaCodec","body":"<p><strong>Why does the video have corrupted frames?</strong> From a look at the <a href=\"https://dropmefiles.com/rn6I0\" rel=\"nofollow noreferrer\">shared bytes</a>:</p>\n<p><strong>1) Every frame is a Key-frame</strong>  <br>\nI wondered why your MP4's section for listing keyframes, the <code>stss</code> atom, had <strong>every single frame</strong> listed as a type &quot;Key-frame&quot; (why no P-frames and B-frames?) but then I see that your code has this command:</p>\n<pre><code>mMediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 1);\n</code></pre>\n<p>Since you are <strong>muxing</strong> (copy/pasting existing media bytes), that <strong>media has its own interval</strong> which should be written into the output MP4... A Muxing process does not need to be given a new keyframe interval.</p>\n<p><strong>solution:</strong> <br>\nTest a possible fix of disabling (or comment <code>//</code>) that line, <br>\nWith same <code>//</code> disabling of the <code>bitrate</code> setting.</p>\n<p><strong>2) Your first frame is not a keyframe</strong><br>\nThe first video frame that you send to the muxer is not a keyframe. <br>It is marked as a key-frame in the MP4 metadata (at the <strong>stss</strong> atom) but it's actual bytes are of type P-frame. This means: After <strong>start-code</strong> <code>0, 0, 0, 1</code> your NAL header is found to be hex: <code>42</code>, or decimal: <code>65</code>). Be aware because a decimal <code>65</code> is not same as hex <code>65</code> and so it can be confusing, if you forget to convert, and think that decimal <code>65</code> means this NALU is a keyframe.</p>\n<p><strong>solution:</strong> <br>\nMake sure you send a NAL unit with decimals: <code>0, 0, 0, 1, 101</code> (or in hex: <code>00, 00, 00, 01, 65</code>).</p>\n<p>The <code>101</code> marks it as a keyframe NALU (header byte value is: <code>0x65</code> or as decimal value: <code>101</code>).</p>\n<p><strong>3) You have wrong SPS and PPS</strong> <br>\nOnce again the problem is a wrong SPS and PPS... <br>\nInside the MP4, the SPS/PPS data goes into the <strong>avcC</strong> section (which holds the &quot;AVC configuration&quot;, and AVC is just an alternate name for H264).</p>\n<p>If I manually overwrite a part of the <code>avcC</code> section by copy/pasting over the bytes from the raw NALUs then your corrupt MP4 shows a perfect picture (not messy colours).</p>\n<p><strong>solution:</strong> <br></p>\n<p><strong>option A:</strong> Try to set a <code>MediaFormat</code> with the SPS and PPS included. <br>This means putting an entry for <a href=\"https://developer.android.com/reference/android/media/MediaCodec#CSD\" rel=\"nofollow noreferrer\">Codec-Specfic Data</a> according to these <strong>keys</strong>:</p>\n<pre><code>Format      CSD buffer #0                       CSD buffer #1                       CSD buffer #2\nH.264 AVC   SPS (Sequence Parameter Sets)       PPS (Picture Parameter Sets)        Not Used\n</code></pre>\n<p><strong>option B:</strong> In a worst case scenario you might have to manually fix the bytes after the MP4 file is created by your Android code (<em>eg:</em> after the file creation code finishes, run another function which finds and overwrites some circa 25 bytes of existing SPS &amp; PPS inside the newly created MP4). Hopefully not needed as a solution.</p>\n<p>I cannot test Android code, please check if this example code creates a working MP4:</p>\n<p><strong>(1)</strong> Converting between Decimals into Hex (since bytes are written as hex)</p>\n<pre><code>//# check Byte as Decimal\nint temp_int = (NALU_SPS[4] &amp; 0xFF); //where NALU_SPS is an Array.\nSystem.out.println(&quot;NALU Decimal: &quot; + temp_int );\n\n//# check Byte as Hex\nString temp_str = Integer.toString( temp_int, 16 );\ntemp_str = (temp_str.length() &lt; 2) ? (&quot;0&quot;+temp_str) : temp_str;\nSystem.out.println(&quot;NALU Byte: 0x&quot; + temp_str );\n</code></pre>\n<p>Use the above to convert your Array values when double-checking their byte value, since tutorials and H264 Specification will mention the byte values in a Hex format.</p>\n<p>A byte example like <code>0xFF</code> is hex <code>FF</code> and is decimal <code>255</code>.</p>\n<p><strong>(2)</strong> Try this <code>MediaFormat</code> setup.</p>\n<pre><code>//# Set up MediaCodec\nmMediaFormat = MediaFormat.createVideoFormat(codecName, width, height);\nmMediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, framerate);\n\n//# Your SPS/PPS in an Array. Can be: byte[] ...or Else: int[]\nbyte[] NALU_SPS = { 0x00, 0x00, 0x00, 0x01, 0x67, 0x42, 0x00, 0x29, 0xE2, 0x90, 0x16, 0x87, 0xB6, 0x06, 0xAC, 0x18, 0x04, 0x1B, 0x87, 0x89, 0x11, 0x50 };\nbyte[] NALU_PPS = { 0x00, 0x00, 0x00, 0x01, 0x68, 0xCE, 0x3C, 0x80 };\n\n//# send SPS/PPS to the Muxer\nmMediaFormat.setByteBuffer( &quot;csd-0&quot;, ByteBuffer.wrap( NALU_SPS ) );\nmMediaFormat.setByteBuffer( &quot;csd-1&quot;, ByteBuffer.wrap( NALU_PPS ) );\n\n//# This might not be needed (since Muxer could get from SPS/PPS)\nmMediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, colorFormat);\n\n//# test with these disabled\n//mMediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, bitrate);\n//mMediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1280134,"reputation":50,"user_id":1234424,"display_name":"Sandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696140538,"creation_date":1696140538,"answer_id":77209415,"question_id":76358307,"body_markdown":"My advice is to not use MediaMuxer because it seems to produce wrong output. use mp4v2 library instead, it will produce the correct output and work consistently across all devices.","title":"How to fix corrupted video (green frames) after muxing using MediaMuxer and MediaCodec","body":"<p>My advice is to not use MediaMuxer because it seems to produce wrong output. use mp4v2 library instead, it will produce the correct output and work consistently across all devices.</p>\n"}],"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76518541,"answer_count":2,"score":3,"last_activity_date":1696140538,"creation_date":1685371781,"question_id":76358307,"body_markdown":"I am trying to encode an mp4 video from an array of NalUnits where each unit is a frame represented by byte[] that is saved from an rtp packet from an rtsp stream. I am encoding 451 frames at a 30fps where the first frame data is the spp and pps frame combined. This is my current configuration:\r\n\r\n    Width: 720\r\n    Height: 480\r\n    Bitrate: 10_000_000\r\n    Fps: 30\r\n    Colorformat: COLOR_FormatYUV420Flexible\r\n    Key I Frame Interval: 1\r\n\r\nHere is my method where I encode the configure the encoder:\r\n\r\n    public boolean createMp4Video(FrameQueue.Frame[] frames, File dir) {\r\n        try {\r\n            // Set up MediaMuxer\r\n            Date date = new Date();\r\n            File file = new File(dir, date + &quot;-recording.mp4&quot;);\r\n            this.muxer = new MediaMuxer(file.getAbsolutePath(), MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4);\r\n    \r\n            // Set up MediaCodec\r\n            mMediaFormat = MediaFormat.createVideoFormat(codecName, width, height);\r\n            mMediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, colorFormat);\r\n            mMediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, bitrate);\r\n            mMediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, framerate);\r\n            mMediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 1);\r\n    \r\n            codec = MediaCodec.createEncoderByType(codecName);\r\n            codec.configure(mMediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\r\n    \r\n            codec.start();\r\n    \r\n            MediaCodec.BufferInfo videoBufferInfo = new MediaCodec.BufferInfo();\r\n    \r\n            // Process frames\r\n            for (int i = 0; i &lt; frames.length; i++) {\r\n                if (i == frames.length - 1) { // if last frame, add end of stream flag\r\n                    muxFrame(frames[i].getData(), i, true);\r\n                } else {\r\n                    muxFrame(frames[i].getData()), i, false);                     \r\n            }\r\n    \r\n                // Stop and release resources\r\n                muxer.stop();\r\n                muxer.release();\r\n                codec.stop();\r\n                codec.release();\r\n                listener.onMp4VideoCreated();\r\n                return true;\r\n            } catch (IOException e) {\r\n                return false;\r\n            }\r\n        }\r\n\r\nI loop through all the frames using a simple for loop and call the following function to method:\r\n\r\n    private void muxFrame(byte[] frameData, int encodeIndex, boolean isVideoEOS) {\r\n        long presentationTimeUs = 1000000 / framerate * encodeIndex\r\n    \r\n        int inputBufferIndex = codec.dequeueInputBuffer(-1);\r\n        if (inputBufferIndex &gt;= 0) {\r\n            ByteBuffer inputBuffer = codec.getInputBuffer(inputBufferIndex);\r\n            inputBuffer.put(frameData);\r\n            codec.queueInputBuffer(inputBufferIndex, 0, frameData.length, presentationTimeUs, 0);\r\n        }\r\n    \r\n        // Create a MediaCodec.BufferInfo to hold the frame information\r\n        MediaCodec.BufferInfo muxerOutputBufferInfo = new MediaCodec.BufferInfo();\r\n    \r\n        int outputBufferIndex = codec.dequeueOutputBuffer(muxerOutputBufferInfo, 1000);\r\n    \r\n        switch (outputBufferIndex) {\r\n            case MediaCodec.INFO_OUTPUT_FORMAT_CHANGED:\r\n                MediaFormat newFormat = codec.getOutputFormat();\r\n                mVideoTrack = muxer.addTrack(newFormat);\r\n                muxer.start();\r\n                break;\r\n            case MediaCodec.INFO_TRY_AGAIN_LATER:\r\n                break;\r\n            default:\r\n                // Set the size, presentation time, and flags of the muxerOutputBufferInfo\r\n                muxerOutputBufferInfo.size = frameData.length;\r\n                muxerOutputBufferInfo.offset = 0;\r\n                muxerOutputBufferInfo.flags = isVideoEOS ? MediaCodec.BUFFER_FLAG_END_OF_STREAM : MediaCodec.BUFFER_FLAG_KEY_FRAME;\r\n                muxerOutputBufferInfo.presentationTimeUs = presentationTimeUs;\r\n                // Write the frame data to the muxer\r\n                muxer.writeSampleData(mVideoTrack, ByteBuffer.wrap(frameData), muxerOutputBufferInfo);\r\n                codec.releaseOutputBuffer(outputBufferIndex, false);\r\n                break;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nI am able to save the video and play it but all the frames are corrupted and green as such https://dropmefiles.com/rn6I0\r\n\r\n\r\nHere is my log when I am encoding:\r\n\r\n    I/OMXClient: IOmx service obtained\r\n    W/OMXUtils: do not know color format 0x7f000200 = 2130706944\r\n    W/OMXUtils: do not know color format 0x7f000789 = 2130708361\r\n    I/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] using color format 0x7f420888 in place of 0x7f420888\r\n    I/ACodec_vilte: set I frame rate\r\n    I/ACodec_vilte: set framerate\r\n    I/ACodec_vilte: setMTKParameters, width: 720\r\n    I/ACodec_vilte: setMTKParameters, height: 480\r\n    I/ACodec: setupAVCEncoderParameters with [profile: Baseline] [level: Level41]\r\n    I/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode color aspects. Ignoring.\r\n    I/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode HDR static metadata. Ignoring.\r\n    I/ACodec: setupVideoEncoder succeeded\r\n    I/ACodec_vilte: set I frame rate\r\n    I/ACodec_vilte: set framerate\r\n    I/ACodec_vilte: setMTKParameters, width: 720\r\n    I/ACodec_vilte: setMTKParameters, height: 480\r\n    I/general: [33]\tConfiguring video encoder - 450 frames\r\n    I/general: [33]\tVideo encoding in progress\r\n    D/MPEG4Writer: start+ 797\r\n    I/MPEG4Writer: limits: 4294967295/0 bytes/us, bit rate: -1 bps and the estimated moov size 3191 bytes\r\n    D/MPEG4Writer: start+ 2403\r\n    D/MPEG4Writer: start- 2481\r\n    D/MPEG4Writer: start- 964\r\n    I/MPEG4Writer: setStartTimestampUs: 166665\r\n    I/MPEG4Writer: Earliest track starting time: 166665\r\n    D/MPEG4Writer: Video mStartTimestampUs=166665us\r\n    D/MPEG4Writer: reset+ 1081\r\n    D/MPEG4Writer: Video track stopping. Stop source\r\n    D/MPEG4Writer: Video track source stopping\r\n    D/MPEG4Writer: Video track source stopped\r\n    I/MPEG4Writer: Received total/0-length (439/0) buffers and encoded 439 frames. - Video\r\n    D/MPEG4Writer: Video track stopped. Stop source\r\n    D/MPEG4Writer: Stopping writer thread\r\n    D/MPEG4Writer: 0 chunks are written in the last batch\r\n    D/MPEG4Writer: Writer thread stopped\r\n    I/MPEG4Writer: Ajust the moov start time from 166665 us -&gt; 166665 us\r\n    I/MPEG4Writer: The mp4 file will not be streamable.\r\n    D/MPEG4Writer: reset- 1187\r\n    D/MPEG4Writer: reset+ 1081\r\n    D/MPEG4Writer: Video track stopping. Stop source\r\n    I/general: [33]\tMP4 video created successfully\r\n\r\n","title":"How to fix corrupted video (green frames) after muxing using MediaMuxer and MediaCodec","body":"<p>I am trying to encode an mp4 video from an array of NalUnits where each unit is a frame represented by byte[] that is saved from an rtp packet from an rtsp stream. I am encoding 451 frames at a 30fps where the first frame data is the spp and pps frame combined. This is my current configuration:</p>\n<pre><code>Width: 720\nHeight: 480\nBitrate: 10_000_000\nFps: 30\nColorformat: COLOR_FormatYUV420Flexible\nKey I Frame Interval: 1\n</code></pre>\n<p>Here is my method where I encode the configure the encoder:</p>\n<pre><code>public boolean createMp4Video(FrameQueue.Frame[] frames, File dir) {\n    try {\n        // Set up MediaMuxer\n        Date date = new Date();\n        File file = new File(dir, date + &quot;-recording.mp4&quot;);\n        this.muxer = new MediaMuxer(file.getAbsolutePath(), MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4);\n\n        // Set up MediaCodec\n        mMediaFormat = MediaFormat.createVideoFormat(codecName, width, height);\n        mMediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, colorFormat);\n        mMediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, bitrate);\n        mMediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, framerate);\n        mMediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 1);\n\n        codec = MediaCodec.createEncoderByType(codecName);\n        codec.configure(mMediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\n\n        codec.start();\n\n        MediaCodec.BufferInfo videoBufferInfo = new MediaCodec.BufferInfo();\n\n        // Process frames\n        for (int i = 0; i &lt; frames.length; i++) {\n            if (i == frames.length - 1) { // if last frame, add end of stream flag\n                muxFrame(frames[i].getData(), i, true);\n            } else {\n                muxFrame(frames[i].getData()), i, false);                     \n        }\n\n            // Stop and release resources\n            muxer.stop();\n            muxer.release();\n            codec.stop();\n            codec.release();\n            listener.onMp4VideoCreated();\n            return true;\n        } catch (IOException e) {\n            return false;\n        }\n    }\n</code></pre>\n<p>I loop through all the frames using a simple for loop and call the following function to method:</p>\n<pre><code>private void muxFrame(byte[] frameData, int encodeIndex, boolean isVideoEOS) {\n    long presentationTimeUs = 1000000 / framerate * encodeIndex\n\n    int inputBufferIndex = codec.dequeueInputBuffer(-1);\n    if (inputBufferIndex &gt;= 0) {\n        ByteBuffer inputBuffer = codec.getInputBuffer(inputBufferIndex);\n        inputBuffer.put(frameData);\n        codec.queueInputBuffer(inputBufferIndex, 0, frameData.length, presentationTimeUs, 0);\n    }\n\n    // Create a MediaCodec.BufferInfo to hold the frame information\n    MediaCodec.BufferInfo muxerOutputBufferInfo = new MediaCodec.BufferInfo();\n\n    int outputBufferIndex = codec.dequeueOutputBuffer(muxerOutputBufferInfo, 1000);\n\n    switch (outputBufferIndex) {\n        case MediaCodec.INFO_OUTPUT_FORMAT_CHANGED:\n            MediaFormat newFormat = codec.getOutputFormat();\n            mVideoTrack = muxer.addTrack(newFormat);\n            muxer.start();\n            break;\n        case MediaCodec.INFO_TRY_AGAIN_LATER:\n            break;\n        default:\n            // Set the size, presentation time, and flags of the muxerOutputBufferInfo\n            muxerOutputBufferInfo.size = frameData.length;\n            muxerOutputBufferInfo.offset = 0;\n            muxerOutputBufferInfo.flags = isVideoEOS ? MediaCodec.BUFFER_FLAG_END_OF_STREAM : MediaCodec.BUFFER_FLAG_KEY_FRAME;\n            muxerOutputBufferInfo.presentationTimeUs = presentationTimeUs;\n            // Write the frame data to the muxer\n            muxer.writeSampleData(mVideoTrack, ByteBuffer.wrap(frameData), muxerOutputBufferInfo);\n            codec.releaseOutputBuffer(outputBufferIndex, false);\n            break;\n    }\n\n\n}\n</code></pre>\n<p>I am able to save the video and play it but all the frames are corrupted and green as such <a href=\"https://dropmefiles.com/rn6I0\" rel=\"nofollow noreferrer\">https://dropmefiles.com/rn6I0</a></p>\n<p>Here is my log when I am encoding:</p>\n<pre><code>I/OMXClient: IOmx service obtained\nW/OMXUtils: do not know color format 0x7f000200 = 2130706944\nW/OMXUtils: do not know color format 0x7f000789 = 2130708361\nI/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] using color format 0x7f420888 in place of 0x7f420888\nI/ACodec_vilte: set I frame rate\nI/ACodec_vilte: set framerate\nI/ACodec_vilte: setMTKParameters, width: 720\nI/ACodec_vilte: setMTKParameters, height: 480\nI/ACodec: setupAVCEncoderParameters with [profile: Baseline] [level: Level41]\nI/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode color aspects. Ignoring.\nI/ACodec: [OMX.MTK.VIDEO.ENCODER.AVC] cannot encode HDR static metadata. Ignoring.\nI/ACodec: setupVideoEncoder succeeded\nI/ACodec_vilte: set I frame rate\nI/ACodec_vilte: set framerate\nI/ACodec_vilte: setMTKParameters, width: 720\nI/ACodec_vilte: setMTKParameters, height: 480\nI/general: [33] Configuring video encoder - 450 frames\nI/general: [33] Video encoding in progress\nD/MPEG4Writer: start+ 797\nI/MPEG4Writer: limits: 4294967295/0 bytes/us, bit rate: -1 bps and the estimated moov size 3191 bytes\nD/MPEG4Writer: start+ 2403\nD/MPEG4Writer: start- 2481\nD/MPEG4Writer: start- 964\nI/MPEG4Writer: setStartTimestampUs: 166665\nI/MPEG4Writer: Earliest track starting time: 166665\nD/MPEG4Writer: Video mStartTimestampUs=166665us\nD/MPEG4Writer: reset+ 1081\nD/MPEG4Writer: Video track stopping. Stop source\nD/MPEG4Writer: Video track source stopping\nD/MPEG4Writer: Video track source stopped\nI/MPEG4Writer: Received total/0-length (439/0) buffers and encoded 439 frames. - Video\nD/MPEG4Writer: Video track stopped. Stop source\nD/MPEG4Writer: Stopping writer thread\nD/MPEG4Writer: 0 chunks are written in the last batch\nD/MPEG4Writer: Writer thread stopped\nI/MPEG4Writer: Ajust the moov start time from 166665 us -&gt; 166665 us\nI/MPEG4Writer: The mp4 file will not be streamable.\nD/MPEG4Writer: reset- 1187\nD/MPEG4Writer: reset+ 1081\nD/MPEG4Writer: Video track stopping. Stop source\nI/general: [33] MP4 video created successfully\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","jodatime","aws-sdk"],"comments":[{"owner":{"account_id":346094,"reputation":4664,"user_id":1470785,"accept_rate":58,"display_name":"IgnazioC"},"score":1,"creation_date":1439841087,"post_id":32058431,"comment_id":52015943,"body_markdown":"please specify what is the questione.","body":"please specify what is the questione."}],"answers":[{"comments":[{"owner":{"account_id":436186,"reputation":5448,"user_id":2030468,"accept_rate":85,"display_name":"Daniel Gruszczyk"},"score":2,"creation_date":1445504200,"post_id":32058472,"comment_id":54354585,"body_markdown":"Why is this not an accepted answer? Anyway, thanks man, saved me a lot of time!","body":"Why is this not an accepted answer? Anyway, thanks man, saved me a lot of time!"}],"tags":[],"owner":{"account_id":6804222,"reputation":1411,"user_id":5236556,"display_name":"Andrew Shore"},"comment_count":1,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1439840759,"creation_date":1439840759,"answer_id":32058472,"question_id":32058431,"body_markdown":"This is caused by a bug between JodaTime and versions of Java greater then 1.8u60. Upgrading to JodaTime version 2.8.1 or later solves the issue. See the following Github issues for reference.\r\n\r\nhttps://github.com/aws/aws-sdk-java/issues/484\r\nhttps://github.com/aws/aws-sdk-java/issues/444\r\n","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>This is caused by a bug between JodaTime and versions of Java greater then 1.8u60. Upgrading to JodaTime version 2.8.1 or later solves the issue. See the following Github issues for reference.</p>\n\n<p><a href=\"https://github.com/aws/aws-sdk-java/issues/484\">https://github.com/aws/aws-sdk-java/issues/484</a>\n<a href=\"https://github.com/aws/aws-sdk-java/issues/444\">https://github.com/aws/aws-sdk-java/issues/444</a></p>\n"},{"comments":[{"owner":{"account_id":3652318,"reputation":850,"user_id":3044139,"accept_rate":33,"display_name":"Charles PHAM"},"score":0,"creation_date":1520221551,"post_id":34617752,"comment_id":85211480,"body_markdown":"I updated AWS Java SDK to 1.10.10 but still got this error.","body":"I updated AWS Java SDK to 1.10.10 but still got this error."}],"tags":[],"owner":{"account_id":2169682,"reputation":151,"user_id":1922015,"display_name":"Rhythm"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452014925,"creation_date":1452014925,"answer_id":34617752,"question_id":32058431,"body_markdown":"Update your AWS Java SDK to 1.10.1 or later","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>Update your AWS Java SDK to 1.10.1 or later</p>\n"},{"comments":[{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":0,"creation_date":1521527227,"post_id":34997737,"comment_id":85755799,"body_markdown":"is there a newer java update that fixes the issue? is this a bug with java or is this always going to break with future java releases?","body":"is there a newer java update that fixes the issue? is this a bug with java or is this always going to break with future java releases?"}],"tags":[],"owner":{"account_id":70100,"reputation":4960,"user_id":203619,"accept_rate":43,"display_name":"mooreds"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453740187,"creation_date":1453740187,"answer_id":34997737,"question_id":32058431,"body_markdown":"As far as I can see, there are three solutions to this issue:\r\n\r\n* upgrade joda time\r\n* upgrade the AWS java SDK\r\n* downgrade java to a version less than 1.8u60 (java7 seems to work fine)","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>As far as I can see, there are three solutions to this issue:</p>\n\n<ul>\n<li>upgrade joda time</li>\n<li>upgrade the AWS java SDK</li>\n<li>downgrade java to a version less than 1.8u60 (java7 seems to work fine)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3648927,"reputation":617,"user_id":3041539,"display_name":"user3041539"},"score":0,"creation_date":1479047239,"post_id":37694343,"comment_id":68385200,"body_markdown":"downgrading JDK is not the answer. better update Joda as suggested above - via updating AWS SDK or explicitly","body":"downgrading JDK is not the answer. better update Joda as suggested above - via updating AWS SDK or explicitly"}],"tags":[],"owner":{"account_id":2647494,"reputation":1006,"user_id":2289889,"display_name":"Avinash Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1465365538,"creation_date":1465365538,"answer_id":37694343,"question_id":32058431,"body_markdown":"I faced while using presto.\r\nThe problem is with java version jdk1.8.0_60 greater downgrade it to jdk1.8.0_45 will solve the problem","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>I faced while using presto.\nThe problem is with java version jdk1.8.0_60 greater downgrade it to jdk1.8.0_45 will solve the problem</p>\n"},{"tags":[],"owner":{"account_id":11048175,"reputation":41,"user_id":8113504,"display_name":"Vipul Kacha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534844219,"creation_date":1497969039,"answer_id":44655904,"question_id":32058431,"body_markdown":"i have faced same problem.i have solved now.only thing is that java 1.8u60+ does not support aws sdk 1.10.10 so you can just update aws sdk version 1.11.52 ..i mean latest version and it resolved it.\r\n\r\nAlso please look out for the conflicts in the dependency tree, when you upgrade the versions. In my case there was a conflict with the httpclient after upgrading aws sdk version.","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>i have faced same problem.i have solved now.only thing is that java 1.8u60+ does not support aws sdk 1.10.10 so you can just update aws sdk version 1.11.52 ..i mean latest version and it resolved it.</p>\n\n<p>Also please look out for the conflicts in the dependency tree, when you upgrade the versions. In my case there was a conflict with the httpclient after upgrading aws sdk version.</p>\n"},{"tags":[],"owner":{"account_id":20665681,"reputation":1,"user_id":15172597,"display_name":"Jon Cano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612829572,"creation_date":1612829572,"answer_id":66111204,"question_id":32058431,"body_markdown":"All the answers above drove me nuts because they recommend changing libraries, clients or some other major change.  I have to use client 1.9.31 and I don&#39;t have control over which joda or JVM.  So here is the java fix without having to do everything above!\r\n\r\nBefore you send your request, like PutObjectRequest, do this:\r\n\r\n\tputObjectRequest.putCustomRequestHeader(&quot;x-amz-date&quot;, getServerTime());\r\n\r\n\tpublic static String getServerTime() {\r\n\t    SimpleDateFormat dateFormat = new SimpleDateFormat(\r\n\t        &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;, Locale.US);\r\n\t    return dateFormat.format(Calendar.getInstance().getTime());\r\n\t}\r\n","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>All the answers above drove me nuts because they recommend changing libraries, clients or some other major change.  I have to use client 1.9.31 and I don't have control over which joda or JVM.  So here is the java fix without having to do everything above!</p>\n<p>Before you send your request, like PutObjectRequest, do this:</p>\n<pre><code>putObjectRequest.putCustomRequestHeader(&quot;x-amz-date&quot;, getServerTime());\n\npublic static String getServerTime() {\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\n        &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;, Locale.US);\n    return dateFormat.format(Calendar.getInstance().getTime());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":1,"creation_date":1696413532,"post_id":77208923,"comment_id":136148648,"body_markdown":"Welcome to Stack Overflow! Thank you for your answer. Please provide more details about your solution. Code snippets, high quality descriptions, or any relevant information would be great. Clear and concise answers are more helpful and easier to understand for everyone. [Edit](https://stackoverflow.com/posts/77045362/edit) your answer with specifics to raise the quality of your answer. For more information: [How To: Write good answers](https://stackoverflow.com/help/how-to-answer). Happy coding!","body":"Welcome to Stack Overflow! Thank you for your answer. Please provide more details about your solution. Code snippets, high quality descriptions, or any relevant information would be great. Clear and concise answers are more helpful and easier to understand for everyone. <a href=\"https://stackoverflow.com/posts/77045362/edit\">Edit</a> your answer with specifics to raise the quality of your answer. For more information: <a href=\"https://stackoverflow.com/help/how-to-answer\">How To: Write good answers</a>. Happy coding!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696413536,"post_id":77208923,"comment_id":136148649,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77208923/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29572153,"reputation":1,"user_id":22664051,"display_name":"Gabriel Chavez"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696140377,"creation_date":1696123156,"answer_id":77208923,"question_id":32058431,"body_markdown":"To solve this problem you must add the joda-time-2.10.13.jar library to the project.","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>To solve this problem you must add the joda-time-2.10.13.jar library to the project.</p>\n"}],"owner":{"account_id":6804222,"reputation":1411,"user_id":5236556,"display_name":"Andrew Shore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19832,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"answer_count":7,"score":53,"last_activity_date":1696140377,"creation_date":1439840602,"question_id":32058431,"body_markdown":"Getting the following exception when using the AWS SDK for Java and Java 1.8u60+.\r\n\r\n    com.amazonaws.services.s3.model.AmazonS3Exception: AWS authentication requires a valid Date or x-amz-date header (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 41C359C079CBAFCF)\r\n        at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1182) ~[aws-java-sdk-core-1.10.10.jar:na]\r\n        at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:770) ~[aws-java-sdk-core-1.10.10.jar:na]\r\n        at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:489) ~[aws-java-sdk-core-1.10.10.jar:na]\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:310) ~[aws-java-sdk-core-1.10.10.jar:na]\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3608) ~[aws-java-sdk-s3-1.10.10.jar:na]\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3561) ~[aws-java-sdk-s3-1.10.10.jar:na]\r\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:647) ~[aws-java-sdk-s3-1.10.10.jar:na]\r\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:632) ~[aws-java-sdk-s3-1.10.10.jar:na]","title":"AWS Java SDK - AWS authentication requires a valid Date or x-amz-date header","body":"<p>Getting the following exception when using the AWS SDK for Java and Java 1.8u60+.</p>\n\n<pre><code>com.amazonaws.services.s3.model.AmazonS3Exception: AWS authentication requires a valid Date or x-amz-date header (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 41C359C079CBAFCF)\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1182) ~[aws-java-sdk-core-1.10.10.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:770) ~[aws-java-sdk-core-1.10.10.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:489) ~[aws-java-sdk-core-1.10.10.jar:na]\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:310) ~[aws-java-sdk-core-1.10.10.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3608) ~[aws-java-sdk-s3-1.10.10.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3561) ~[aws-java-sdk-s3-1.10.10.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:647) ~[aws-java-sdk-s3-1.10.10.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:632) ~[aws-java-sdk-s3-1.10.10.jar:na]\n</code></pre>\n"},{"tags":["java","gson","nio"],"comments":[{"owner":{"account_id":5303874,"reputation":5062,"user_id":4464702,"accept_rate":96,"display_name":"randers"},"score":1,"creation_date":1462103696,"post_id":36964995,"comment_id":61488324,"body_markdown":"Please also show the `StackOverflowError` stacktrace.","body":"Please also show the <code>StackOverflowError</code> stacktrace."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696140804,"post_id":36964995,"comment_id":136113909,"body_markdown":"Why would you serialize a `Path`?","body":"Why would you serialize a <code>Path</code>?"}],"answers":[{"comments":[{"owner":{"account_id":6239644,"reputation":3889,"user_id":4853702,"accept_rate":65,"display_name":"Alexandr"},"score":4,"creation_date":1462105988,"post_id":36966590,"comment_id":61488964,"body_markdown":"Thanks for the great explanation! `registerTypeHierarchyAdapter` — what I need.","body":"Thanks for the great explanation! <code>registerTypeHierarchyAdapter</code> — what I need."},{"owner":{"account_id":3250713,"reputation":5045,"user_id":2741091,"accept_rate":73,"display_name":"ifly6"},"score":1,"creation_date":1630527288,"post_id":36966590,"comment_id":121983613,"body_markdown":"What is a `MyPathConverter` and what does it do?","body":"What is a <code>MyPathConverter</code> and what does it do?"}],"tags":[],"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1508858797,"creation_date":1462105424,"answer_id":36966590,"question_id":36964995,"body_markdown":"Your problem is that `Path` is an `interface`. Let&#39;s suppose you used `Paths.get(&quot;/&quot;)` which will create instance of something like `WindowsPath` on my Windows PC. Now, you have to tell GSON how to deserialize this type:\r\n\r\n    ConstructorSetup setup = new ConstructorSetup();\r\n    setup.setAppIconMimmapDirPathOnPc(Paths.get(&quot;/&quot;));\r\n\r\n    // here we get actual class type of our Path object\r\n    Class classT = setup.getAppIconMimmapDirPathOnPc().getClass();\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(classT, new MyPathConverter())\r\n\r\nAnother approach you can go with is to `registerTypeHierarchyAdapter`:\r\n\r\n    .registerTypeHierarchyAdapter(Path.class, new MyPathConverter())\r\n\r\nThe purpose of typeHierarchyAdapter is to cover the case when you want the same representation for all subtypes of a type, which is exactly your case with `Path`.","title":"How to serialize java.nio.file.Path with Gson?","body":"<p>Your problem is that <code>Path</code> is an <code>interface</code>. Let's suppose you used <code>Paths.get(\"/\")</code> which will create instance of something like <code>WindowsPath</code> on my Windows PC. Now, you have to tell GSON how to deserialize this type:</p>\n\n<pre><code>ConstructorSetup setup = new ConstructorSetup();\nsetup.setAppIconMimmapDirPathOnPc(Paths.get(\"/\"));\n\n// here we get actual class type of our Path object\nClass classT = setup.getAppIconMimmapDirPathOnPc().getClass();\n\nGson gson = new GsonBuilder().registerTypeAdapter(classT, new MyPathConverter())\n</code></pre>\n\n<p>Another approach you can go with is to <code>registerTypeHierarchyAdapter</code>:</p>\n\n<pre><code>.registerTypeHierarchyAdapter(Path.class, new MyPathConverter())\n</code></pre>\n\n<p>The purpose of typeHierarchyAdapter is to cover the case when you want the same representation for all subtypes of a type, which is exactly your case with <code>Path</code>.</p>\n"}],"owner":{"account_id":6239644,"reputation":3889,"user_id":4853702,"accept_rate":65,"display_name":"Alexandr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4494,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":36966590,"answer_count":1,"score":14,"last_activity_date":1696138692,"creation_date":1462094018,"question_id":36964995,"body_markdown":"I get `java.lang.StackOverflowError` when trying to serialize `Object` that contains `java.nio.file.Path`\r\n\r\nEven when i wrote:\r\n\r\n    public class PathConverter implements JsonDeserializer&lt;Path&gt;, JsonSerializer&lt;Path&gt; {\r\n        @Override\r\n        public Path deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n            return Paths.get(jsonElement.getAsString());\r\n        }\r\n    \r\n        @Override\r\n        public JsonElement serialize(Path path, Type type, JsonSerializationContext jsonSerializationContext) {\r\n            return new JsonPrimitive(path.toString());\r\n        }\r\n    }\r\n\r\nand apply it:\r\n\r\n        String json = new GsonBuilder()\r\n                .registerTypeAdapter(Path.class, new PathConverter())\r\n                .create()\r\n                .toJson(constructorSetup, new TypeToken&lt;ConstructorSetup&gt;() {}.getType());\r\n\r\nI still can&#39;t serialize this class:\r\n\r\n    public class ConstructorSetup {\r\n    \r\n        private Path appIconMimmapDirPathOnPc;\r\n\r\n    }\r\n\r\nStacktrace: (full on [pastebin][1])\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:380)\r\n    \tat com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:375)\r\n    \tat com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:380)\r\n            ...\r\n    \tat com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:380)\r\n    \tat com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:355)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:117)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:72)\r\n    \tat com.google.gson.Gson.getAdapter(Gson.java:356)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:82)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:81)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:118)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:72)\r\n    \tat com.google.gson.Gson.getAdapter(Gson.java:356)\r\n            ...\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:82)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:81)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:118)\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:72)\r\n    \tat com.google.gson.Gson.getAdapter(Gson.java:356)\r\n\r\nAny solution?\r\n\r\n\r\n  [1]: http://pastebin.com/5LUsZWb2","title":"How to serialize java.nio.file.Path with Gson?","body":"<p>I get <code>java.lang.StackOverflowError</code> when trying to serialize <code>Object</code> that contains <code>java.nio.file.Path</code></p>\n\n<p>Even when i wrote:</p>\n\n<pre><code>public class PathConverter implements JsonDeserializer&lt;Path&gt;, JsonSerializer&lt;Path&gt; {\n    @Override\n    public Path deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        return Paths.get(jsonElement.getAsString());\n    }\n\n    @Override\n    public JsonElement serialize(Path path, Type type, JsonSerializationContext jsonSerializationContext) {\n        return new JsonPrimitive(path.toString());\n    }\n}\n</code></pre>\n\n<p>and apply it:</p>\n\n<pre><code>    String json = new GsonBuilder()\n            .registerTypeAdapter(Path.class, new PathConverter())\n            .create()\n            .toJson(constructorSetup, new TypeToken&lt;ConstructorSetup&gt;() {}.getType());\n</code></pre>\n\n<p>I still can't serialize this class:</p>\n\n<pre><code>public class ConstructorSetup {\n\n    private Path appIconMimmapDirPathOnPc;\n\n}\n</code></pre>\n\n<p>Stacktrace: (full on <a href=\"http://pastebin.com/5LUsZWb2\" rel=\"noreferrer\">pastebin</a>)</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n    at com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:380)\n    at com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:375)\n    at com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:380)\n        ...\n    at com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:380)\n    at com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:355)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:117)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:72)\n    at com.google.gson.Gson.getAdapter(Gson.java:356)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:82)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:81)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:118)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:72)\n    at com.google.gson.Gson.getAdapter(Gson.java:356)\n        ...\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:82)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:81)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:118)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:72)\n    at com.google.gson.Gson.getAdapter(Gson.java:356)\n</code></pre>\n\n<p>Any solution?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4897598,"reputation":1669,"user_id":4748690,"display_name":"Vebbie"},"score":0,"creation_date":1546573371,"post_id":54032776,"comment_id":94901655,"body_markdown":"Did you try $ sudo jps?","body":"Did you try $ sudo jps?"},{"owner":{"account_id":13698451,"reputation":3,"user_id":9884364,"display_name":"user9884364"},"score":0,"creation_date":1546573726,"post_id":54032776,"comment_id":94901712,"body_markdown":"@Vebbie does it work on windows too?","body":"@Vebbie does it work on windows too?"},{"owner":{"account_id":4897598,"reputation":1669,"user_id":4748690,"display_name":"Vebbie"},"score":0,"creation_date":1546574132,"post_id":54032776,"comment_id":94901780,"body_markdown":"No. The sudo command is Not for windows. In windows we generally do ‘run as administrator’. If you’re working with windows then try to restart Hadoop you’ve installed and then hit ‘jps’ again","body":"No. The sudo command is Not for windows. In windows we generally do ‘run as administrator’. If you’re working with windows then try to restart Hadoop you’ve installed and then hit ‘jps’ again"},{"owner":{"account_id":13698451,"reputation":3,"user_id":9884364,"display_name":"user9884364"},"score":0,"creation_date":1546574250,"post_id":54032776,"comment_id":94901797,"body_markdown":"@Vebbie thanks alot but it has nothing to do with hadoop error right? Even without hadoop the command should work right?","body":"@Vebbie thanks alot but it has nothing to do with hadoop error right? Even without hadoop the command should work right?"},{"owner":{"account_id":4897598,"reputation":1669,"user_id":4748690,"display_name":"Vebbie"},"score":0,"creation_date":1546574472,"post_id":54032776,"comment_id":94901833,"body_markdown":"Yes. It should. But installing new services especially in windows sometimes require reboot of machine or service itself in order to function properly.","body":"Yes. It should. But installing new services especially in windows sometimes require reboot of machine or service itself in order to function properly."}],"answers":[{"comments":[{"owner":{"account_id":4362208,"reputation":58,"user_id":3558909,"display_name":"Anish"},"score":0,"creation_date":1696137799,"post_id":77209335,"comment_id":136113743,"body_markdown":"More on jps - https://docs.oracle.com/en/java/javase/17/docs/specs/man/jps.html","body":"More on jps - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jps.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/specs/man/jps.html</a>"}],"tags":[],"owner":{"account_id":4362208,"reputation":58,"user_id":3558909,"display_name":"Anish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696137692,"creation_date":1696137692,"answer_id":77209335,"question_id":54032776,"body_markdown":"The JPS command is limited to reporting information on JVMs for which it has the access permissions. \r\nMostly, because of permission issues, you might not be able to see the list of hotspot VMs.\r\n\r\nI faced a similar one in Hadoop EMR (Linux based), with sudo user I was able to list the items. \r\n\r\nWithout sudo user:\r\n\r\n    [anishg@ip-10-22-18-22 ~]$ jps\r\n    31884 Jps\r\n\r\nAs a sudo user\r\n\r\n    [root@ip-10-22-18-22 anishg]# jps\r\n    23680 RESTServer\r\n    4902 Jps\r\n    23305 ThriftServer\r\n    15436 Main\r\n    22862 QuorumPeerMain\r\n    21071 ResourceManager\r\n    8464 Main\r\n    19795 WebAppProxyServer\r\n    18803 JobHistoryServer\r\n    17109 NameNode\r\n    22229 Bootstrap\r\n    8537 Main\r\n    22458 Bootstrap\r\n    23930 HMaster\r\n    18524 ApplicationHistoryServer\r\n    28255 Main\r\n\r\n Hope it could be a reason for empty jps ","title":"JAVA jps command shows nothing","body":"<p>The JPS command is limited to reporting information on JVMs for which it has the access permissions.\nMostly, because of permission issues, you might not be able to see the list of hotspot VMs.</p>\n<p>I faced a similar one in Hadoop EMR (Linux based), with sudo user I was able to list the items.</p>\n<p>Without sudo user:</p>\n<pre><code>[anishg@ip-10-22-18-22 ~]$ jps\n31884 Jps\n</code></pre>\n<p>As a sudo user</p>\n<pre><code>[root@ip-10-22-18-22 anishg]# jps\n23680 RESTServer\n4902 Jps\n23305 ThriftServer\n15436 Main\n22862 QuorumPeerMain\n21071 ResourceManager\n8464 Main\n19795 WebAppProxyServer\n18803 JobHistoryServer\n17109 NameNode\n22229 Bootstrap\n8537 Main\n22458 Bootstrap\n23930 HMaster\n18524 ApplicationHistoryServer\n28255 Main\n</code></pre>\n<p>Hope it could be a reason for empty jps</p>\n"}],"owner":{"account_id":13698451,"reputation":3,"user_id":9884364,"display_name":"user9884364"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696137692,"creation_date":1546572467,"question_id":54032776,"body_markdown":"I just installed HADOOP 2.8.0 and I tried to check the list of java processes using jps command but it shows nothing.\r\n\r\nI already checked environment variables for JAVA_HOME and it works fine as I tried javac -version and java -version.\r\n\r\nIs it supposed to show at least one jps? It seems like the command works but shows nothing.\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ioZRV.png","title":"JAVA jps command shows nothing","body":"<p>I just installed HADOOP 2.8.0 and I tried to check the list of java processes using jps command but it shows nothing.</p>\n\n<p>I already checked environment variables for JAVA_HOME and it works fine as I tried javac -version and java -version.</p>\n\n<p>Is it supposed to show at least one jps? It seems like the command works but shows nothing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ioZRV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ioZRV.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1696131440,"post_id":77209127,"comment_id":136113443,"body_markdown":"`equals()` is case sensitive, perhaps you want `equalsIgnoreCase()` instead?","body":"<code>equals()</code> is case sensitive, perhaps you want <code>equalsIgnoreCase()</code> instead?"},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1696131729,"post_id":77209127,"comment_id":136113459,"body_markdown":"Also you have a typo there, `else if (month.equals(&quot;Feb&quot;));` shouldn&#39;t have a semicolon at the end. The code won&#39;t even compile with the dangling else. Your IDE should have an autoformatting and it would&#39;ve put the tabbing out of whack when you&#39;re typing it, and let you know the last else is invalid when you type it.","body":"Also you have a typo there, <code>else if (month.equals(&quot;Feb&quot;));</code> shouldn&#39;t have a semicolon at the end. The code won&#39;t even compile with the dangling else. Your IDE should have an autoformatting and it would&#39;ve put the tabbing out of whack when you&#39;re typing it, and let you know the last else is invalid when you type it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696154728,"post_id":77209127,"comment_id":136114934,"body_markdown":"If this is schoolwork rather than real work, you should mention that fact in your Question.","body":"If this is schoolwork rather than real work, you should mention that fact in your Question."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696156948,"post_id":77209127,"comment_id":136115115,"body_markdown":"I cannot reproduce because I cannot compile your code. I get “&#39;else&#39; without &#39;if&#39;” on your last `else` because of the spurious semicolon that @Martheen mentioned. Also please surround the inner statements in if-else-if with curly braces as the code conventions say, it will make it easier for us to read and decipher your code.","body":"I cannot reproduce because I cannot compile your code. I get “&#39;else&#39; without &#39;if&#39;” on your last <code>else</code> because of the spurious semicolon that @Martheen mentioned. Also please surround the inner statements in if-else-if with curly braces as the code conventions say, it will make it easier for us to read and decipher your code."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696157644,"post_id":77209127,"comment_id":136115184,"body_markdown":"If this is for an exercise, it’s a fine exercise. For production code one would not write that logic oneself but would leave to the standard library to know how many days there are in a month. There is a `YearMonth` class for that purpose.","body":"If this is for an exercise, it’s a fine exercise. For production code one would not write that logic oneself but would leave to the standard library to know how many days there are in a month. There is a <code>YearMonth</code> class for that purpose."}],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1696134664,"post_id":77209177,"comment_id":136113590,"body_markdown":"If you&#39;re allowed to use the classes in `java.time`, you may as well just use a `DateTimeFormatter` to look up the month name.  However, one of the problems about being a programming teacher is thinking up exercises that are simple enough for the students to grasp all the required concepts, but for which the solution doesn&#39;t already exist in some library somewhere, or some JDK package, that someone is going to tell the students about.","body":"If you&#39;re allowed to use the classes in <code>java.time</code>, you may as well just use a <code>DateTimeFormatter</code> to look up the month name.  However, one of the problems about being a programming teacher is thinking up exercises that are simple enough for the students to grasp all the required concepts, but for which the solution doesn&#39;t already exist in some library somewhere, or some JDK package, that someone is going to tell the students about."},{"owner":{"account_id":27057686,"reputation":1,"user_id":20610148,"display_name":"Boiz734"},"score":0,"creation_date":1696134850,"post_id":77209177,"comment_id":136113601,"body_markdown":"Thanks man, but can you show me how to deal with this situation right now, I dont have any clue on dealing with it","body":"Thanks man, but can you show me how to deal with this situation right now, I dont have any clue on dealing with it"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696132698,"creation_date":1696132698,"answer_id":77209177,"question_id":77209127,"body_markdown":"Instead of reimplementing the logic, I would use [`java.time.YearMonth`](https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html) to get the last day of the month. And you could keep a `Map&lt;String, Integer&gt;` to map between the month name and the month number. Also, you need to use a case-insensitive comparison (or convert to all lower or all upper case). Something like,\r\n\r\n\tstatic Map&lt;String, Integer&gt; MONTH_MAP = new HashMap&lt;&gt;();\r\n\tstatic {\r\n\t\tString[] months = { &quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot;, &quot;APR&quot;, &quot;MAY&quot;,\r\n\t\t\t\t&quot;JUN&quot;, &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot;, &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot; };\r\n\t\tfor (int i = 0; i &lt; months.length; i++) {\r\n\t\t\tMONTH_MAP.put(months[i], i + 1);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\r\n\t\t// Prompt the user to enter a year and\r\n\t\t// the first three letter of a month name\r\n\t\tSystem.out.print(&quot;Enter a year: &quot;);\r\n\t\tint year = input.nextInt();\r\n\t\tSystem.out.print(&quot;Enter a month: &quot;);\r\n\t\tString month = input.next();\r\n\t\tint mon = MONTH_MAP.getOrDefault(month.toUpperCase(), 0);\r\n\t\tif (mon &gt; 0) {\r\n\t\t\tint days = java.time.YearMonth.of(year, mon)\r\n\t\t\t\t\t.atEndOfMonth().getDayOfMonth();\r\n\t\t\tSystem.out.println(days);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(month + &quot; is not a correct month name&quot;);\r\n\t\t}\r\n\t}","title":"What can I do to finish, because I dont know how I can get the jan has ... days a month, instead of jan is not a correct month name","body":"<p>Instead of reimplementing the logic, I would use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>java.time.YearMonth</code></a> to get the last day of the month. And you could keep a <code>Map&lt;String, Integer&gt;</code> to map between the month name and the month number. Also, you need to use a case-insensitive comparison (or convert to all lower or all upper case). Something like,</p>\n<pre><code>static Map&lt;String, Integer&gt; MONTH_MAP = new HashMap&lt;&gt;();\nstatic {\n    String[] months = { &quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot;, &quot;APR&quot;, &quot;MAY&quot;,\n            &quot;JUN&quot;, &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot;, &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot; };\n    for (int i = 0; i &lt; months.length; i++) {\n        MONTH_MAP.put(months[i], i + 1);\n    }\n}\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n\n    // Prompt the user to enter a year and\n    // the first three letter of a month name\n    System.out.print(&quot;Enter a year: &quot;);\n    int year = input.nextInt();\n    System.out.print(&quot;Enter a month: &quot;);\n    String month = input.next();\n    int mon = MONTH_MAP.getOrDefault(month.toUpperCase(), 0);\n    if (mon &gt; 0) {\n        int days = java.time.YearMonth.of(year, mon)\n                .atEndOfMonth().getDayOfMonth();\n        System.out.println(days);\n    } else {\n        System.out.println(month + &quot; is not a correct month name&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1696162014,"post_id":77209315,"comment_id":136115557,"body_markdown":"TIL Java 14 has a new switch syntax.","body":"TIL Java 14 has a new switch syntax."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696137121,"creation_date":1696137121,"answer_id":77209315,"question_id":77209127,"body_markdown":"&gt; _&quot;... I tried to add the last sentence to fix the problem but it dont work ...&quot;_\r\n\r\nThe syntax is incorrect.\r\n\r\nThis _else-if_ should not end with a `;`.\r\n\r\n```java\r\nelse if (month.equals(&quot;Feb&quot;));\r\n```\r\n\r\nUtilize a _switch statement_.\r\n\r\n```java\r\nScanner input = new Scanner(System.in);\r\n\r\n// Prompt the user to enter a year and\r\n// the first three letter of a month name\r\nSystem.out.print(&quot;Enter a year: &quot;);\r\nint year = input.nextInt();\r\nSystem.out.print(&quot;Enter a month: &quot;);\r\nString month = input.next();\r\n\r\n// Test for leap year\r\nboolean leapYear =\r\n    ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\r\n\r\n// Display the number of day in the month\r\nSystem.out.print(month + &quot; &quot; + year + &quot; has &quot;);\r\n\r\nint days = switch (month) {\r\n    case &quot;Jan&quot;, &quot;Mar&quot;, &quot;May&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Oct&quot;, &quot;Dec&quot; -&gt; 31;\r\n    case &quot;Apr&quot;, &quot;Jun&quot;, &quot;Sep&quot;, &quot;Nov&quot; -&gt; 30;\r\n    case &quot;Feb&quot; -&gt; leapYear ? 29 : 28;\r\n    default -&gt; 0;\r\n};\r\nif (days != 0) System.out.println(days  + &quot; days&quot;);\r\nelse System.out.println(month + &quot; is not a correct month name&quot;);\r\n```\r\n\r\n","title":"What can I do to finish, because I dont know how I can get the jan has ... days a month, instead of jan is not a correct month name","body":"<blockquote>\n<p><em>&quot;... I tried to add the last sentence to fix the problem but it dont work ...&quot;</em></p>\n</blockquote>\n<p>The syntax is incorrect.</p>\n<p>This <em>else-if</em> should not end with a <code>;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>else if (month.equals(&quot;Feb&quot;));\n</code></pre>\n<p>Utilize a <em>switch statement</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner input = new Scanner(System.in);\n\n// Prompt the user to enter a year and\n// the first three letter of a month name\nSystem.out.print(&quot;Enter a year: &quot;);\nint year = input.nextInt();\nSystem.out.print(&quot;Enter a month: &quot;);\nString month = input.next();\n\n// Test for leap year\nboolean leapYear =\n    ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\n\n// Display the number of day in the month\nSystem.out.print(month + &quot; &quot; + year + &quot; has &quot;);\n\nint days = switch (month) {\n    case &quot;Jan&quot;, &quot;Mar&quot;, &quot;May&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Oct&quot;, &quot;Dec&quot; -&gt; 31;\n    case &quot;Apr&quot;, &quot;Jun&quot;, &quot;Sep&quot;, &quot;Nov&quot; -&gt; 30;\n    case &quot;Feb&quot; -&gt; leapYear ? 29 : 28;\n    default -&gt; 0;\n};\nif (days != 0) System.out.println(days  + &quot; days&quot;);\nelse System.out.println(month + &quot; is not a correct month name&quot;);\n</code></pre>\n"}],"owner":{"account_id":27057686,"reputation":1,"user_id":20610148,"display_name":"Boiz734"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1696405391,"answer_count":2,"score":-1,"last_activity_date":1696137121,"creation_date":1696131173,"question_id":77209127,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\r\n\t\t// Prompt the user to enter a year and\r\n\t\t// the first three letter of a month name\r\n\t\tSystem.out.print(&quot;Enter a year: &quot;);\r\n\t\tint year = input.nextInt();\r\n\t\tSystem.out.print(&quot;Enter a month: &quot;);\r\n\t\tString month = input.next();\r\n\r\n\t\t// Test for leap year\r\n\t\tboolean leapYear = \r\n\t\t\t((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\r\n\r\n\t\t// Display the number of day in the month\r\n\t\tSystem.out.print(month + &quot; &quot; + year + &quot; has &quot;);\r\n\t\t\r\n\t\tif ( month.equals(&quot;Jan&quot;) || month.equals(&quot;Mar&quot;) || \r\n\t\t\t  month.equals(&quot;May&quot;) || month.equals(&quot;Jul&quot;) ||\r\n\t\t\t  month.equals(&quot;Aug&quot;) || month.equals(&quot;Oct&quot;) ||\r\n\t\t\t  month.equals(&quot;Dec&quot;))\r\n\t\t\tSystem.out.print(31 + &quot; days&quot;);\r\n\t\telse if (month.equals(&quot;Apr&quot;) || month.equals(&quot;Jun&quot;) || \r\n\t\t\tmonth.equals(&quot;Sep&quot;) || month.equals(&quot;Nov&quot;))\r\n\t\t\tSystem.out.print(30 + &quot; days&quot;);\r\n\t\telse if (month.equals(&quot;Feb&quot;));\r\n\t\t\tSystem.out.print(((leapYear) ? 29 : 28) + &quot; days&quot;);\t\r\n\t\telse \r\n\t\t   System.out.print(month + &quot; is not a correct month name&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nI tried to add the last sentence to fix the problem but it dont work  \r\nWrite a program that prompts the user to enter the year and the first three letters of a month name (with the first letter in uppercase) and displays the number of days in the month. If the input for the month is incorrect, display a message as presented in the following sample runs:\r\n\r\nEnter a year: 2001 Enter a month: Jan Jan 2001 has 31 days\r\n\r\nEnter a year: 2016 Enter a month: jan jan is not a correct month name  \r\nI tried to understand that I can use this sentence because I had declare that Jan, Feb,etc. having the capital letter but I my point is that when I enter other name or the name of the month that do not have the capital letter is the wrong answer and I will have the answer as the last sentence of the code.","title":"What can I do to finish, because I dont know how I can get the jan has ... days a month, instead of jan is not a correct month name","body":"<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        // Prompt the user to enter a year and\n        // the first three letter of a month name\n        System.out.print(&quot;Enter a year: &quot;);\n        int year = input.nextInt();\n        System.out.print(&quot;Enter a month: &quot;);\n        String month = input.next();\n\n        // Test for leap year\n        boolean leapYear = \n            ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\n\n        // Display the number of day in the month\n        System.out.print(month + &quot; &quot; + year + &quot; has &quot;);\n        \n        if ( month.equals(&quot;Jan&quot;) || month.equals(&quot;Mar&quot;) || \n              month.equals(&quot;May&quot;) || month.equals(&quot;Jul&quot;) ||\n              month.equals(&quot;Aug&quot;) || month.equals(&quot;Oct&quot;) ||\n              month.equals(&quot;Dec&quot;))\n            System.out.print(31 + &quot; days&quot;);\n        else if (month.equals(&quot;Apr&quot;) || month.equals(&quot;Jun&quot;) || \n            month.equals(&quot;Sep&quot;) || month.equals(&quot;Nov&quot;))\n            System.out.print(30 + &quot; days&quot;);\n        else if (month.equals(&quot;Feb&quot;));\n            System.out.print(((leapYear) ? 29 : 28) + &quot; days&quot;); \n        else \n           System.out.print(month + &quot; is not a correct month name&quot;);\n    }\n}\n</code></pre>\n<p>I tried to add the last sentence to fix the problem but it dont work<br />\nWrite a program that prompts the user to enter the year and the first three letters of a month name (with the first letter in uppercase) and displays the number of days in the month. If the input for the month is incorrect, display a message as presented in the following sample runs:</p>\n<p>Enter a year: 2001 Enter a month: Jan Jan 2001 has 31 days</p>\n<p>Enter a year: 2016 Enter a month: jan jan is not a correct month name<br />\nI tried to understand that I can use this sentence because I had declare that Jan, Feb,etc. having the capital letter but I my point is that when I enter other name or the name of the month that do not have the capital letter is the wrong answer and I will have the answer as the last sentence of the code.</p>\n"},{"tags":["java","spring","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":11377471,"reputation":586,"user_id":8341298,"accept_rate":50,"display_name":"schande"},"score":0,"creation_date":1585908441,"post_id":59390182,"comment_id":107935440,"body_markdown":"Updated the openapi-generator to the new version 4.3.0, but it does not fix the issure.","body":"Updated the openapi-generator to the new version 4.3.0, but it does not fix the issure."},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1597990771,"post_id":59390182,"comment_id":112317468,"body_markdown":"@schade: Was your issue resolved ? Facing something similar with `anyOf`","body":"@schade: Was your issue resolved ? Facing something similar with <code>anyOf</code>"},{"owner":{"account_id":11377471,"reputation":586,"user_id":8341298,"accept_rate":50,"display_name":"schande"},"score":0,"creation_date":1598261966,"post_id":59390182,"comment_id":112390342,"body_markdown":"No, nothing new.","body":"No, nothing new."},{"owner":{"account_id":1477766,"reputation":499,"user_id":1387765,"display_name":"nstrelow"},"score":1,"creation_date":1607103703,"post_id":59390182,"comment_id":115176322,"body_markdown":"Found a way to fix this?","body":"Found a way to fix this?"},{"owner":{"account_id":11377471,"reputation":586,"user_id":8341298,"accept_rate":50,"display_name":"schande"},"score":0,"creation_date":1613377818,"post_id":59390182,"comment_id":117046533,"body_markdown":"No, unfortunately I have not been able to find out anything new yet.","body":"No, unfortunately I have not been able to find out anything new yet."},{"owner":{"account_id":10695389,"reputation":101,"user_id":7872749,"display_name":"Andrzej Ustupski"},"score":0,"creation_date":1629377297,"post_id":59390182,"comment_id":121674405,"body_markdown":"I&#39;m facing the same issue does anyone know is it already supported in openapi-generator?","body":"I&#39;m facing the same issue does anyone know is it already supported in openapi-generator?"},{"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"score":0,"creation_date":1630064214,"post_id":59390182,"comment_id":121859910,"body_markdown":"Faced this issue again for the second time. Still no resolution. AFAIK the only solution is to rework the Open API spec to use inheritance instead of OneOf","body":"Faced this issue again for the second time. Still no resolution. AFAIK the only solution is to rework the Open API spec to use inheritance instead of OneOf"}],"answers":[{"tags":[],"owner":{"account_id":14887483,"reputation":28,"user_id":10750231,"display_name":"J. DEMARE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633359344,"creation_date":1633359344,"answer_id":69438123,"question_id":59390182,"body_markdown":"I&#39;ve done some changes on your openapi specification to make it work on my side\r\n\r\nThe first thing to change is on the parameters/input for your API. It is complicated to send your object as a query String\r\n```yaml\r\n     parameters:\r\n        - name: pet\r\n          in: query\r\n          schema:\r\n            oneOf:\r\n              - $ref: &#39;#/components/schemas/Cat&#39;\r\n              - $ref: &#39;#/components/schemas/Dog&#39;\r\n              - $ref: &#39;#/components/schemas/Lizard&#39;\r\n```\r\nSo prefer a requestBody and define it like this :\r\n```yaml\r\n    requestBody:\r\n        content:\r\n          application/json:\r\n            schema:\r\n              oneOf:\r\n              - $ref: &#39;#/components/schemas/Cat&#39;\r\n              - $ref: &#39;#/components/schemas/Dog&#39;\r\n              - $ref: &#39;#/components/schemas/Lizard&#39;\r\n```\r\n\r\nThen, the response can be managed like this (oneOf instruction is not mandatory for your case) :\r\n```yaml\r\n    responses:\r\n        &quot;200&quot;:\r\n          description: Pet sucesfully returned\r\n          content:\r\n            application/json:\r\n                schema:\r\n                  $ref: &#39;#/components/schemas/Pet&#39;\r\n```\r\n\r\n\r\n\r\nThe generator will now deliver an interface used by ``Cat``, ``Dog`` and ``Lizard`` \r\n\r\n[![generated model][1]][1]\r\n\r\nThe controller will use this interface and you will have no more compilation/definitions issues\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Fud8.png","title":"Why does openapi-generator use imports that do not exist","body":"<p>I've done some changes on your openapi specification to make it work on my side</p>\n<p>The first thing to change is on the parameters/input for your API. It is complicated to send your object as a query String</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>     parameters:\n        - name: pet\n          in: query\n          schema:\n            oneOf:\n              - $ref: '#/components/schemas/Cat'\n              - $ref: '#/components/schemas/Dog'\n              - $ref: '#/components/schemas/Lizard'\n</code></pre>\n<p>So prefer a requestBody and define it like this :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    requestBody:\n        content:\n          application/json:\n            schema:\n              oneOf:\n              - $ref: '#/components/schemas/Cat'\n              - $ref: '#/components/schemas/Dog'\n              - $ref: '#/components/schemas/Lizard'\n</code></pre>\n<p>Then, the response can be managed like this (oneOf instruction is not mandatory for your case) :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    responses:\n        &quot;200&quot;:\n          description: Pet sucesfully returned\n          content:\n            application/json:\n                schema:\n                  $ref: '#/components/schemas/Pet'\n</code></pre>\n<p>The generator will now deliver an interface used by <code>Cat</code>, <code>Dog</code> and <code>Lizard</code></p>\n<p><a href=\"https://i.stack.imgur.com/5Fud8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Fud8.png\" alt=\"generated model\" /></a></p>\n<p>The controller will use this interface and you will have no more compilation/definitions issues</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973599,"creation_date":1673971999,"answer_id":75149219,"question_id":59390182,"body_markdown":"# Why is the extra class generated?\r\n\r\nThe reason the `*AllOf` classes are generated is because the openapi generator looks at the nested schema within the class definitions as a separate schema. Looking at the Lizard example:\r\n```yaml\r\nLizard:\r\n  allOf:\r\n    - $ref: &#39;#/components/schemas/Pet&#39;\r\n    - type: object\r\n    # all other properties specific to a `Lizard`\r\n    properties:\r\n      lovesRocks:\r\n        type: boolean\r\n``` \r\nHere, we have three schemas defined.\r\n1.  Lizard\r\n2.  Pet\r\n3.  Anonymous schema with no name that defines the other half of Lizard\r\n\r\nFor example, consider if you added an additional property to your lizard, but included this property outside of the `allOf` schema:\r\n\r\n```yaml\r\nLizard:\r\n  properties:\r\n    name:\r\n      type: string\r\n  allOf:\r\n    - $ref: &#39;#/components/schemas/Pet&#39;\r\n    - type: object\r\n      # all other properties specific to a `Lizard`\r\n      properties:\r\n        lovesRocks:\r\n          type: boolean\r\n```\r\n\r\nThis new object definition will still pass the validation, and still contains three separate schemas.  However, now the Lizard.java will contain a new field `private String name;` that does not exist in `LizardAllOf.java`.  The other thing to consider is that the `LizardAllOf` class does not extend `Pet`, whereas, the `Lizard.java` class does.\r\n\r\n# Prevent the additional class generation\r\n\r\nSo, how do we fix this?  If you are content with never using the `AllOf` classes, then the solution is fairly simple.  You can use the `.openapi-generator-ignore` file to ignore generation of any classes that end in `AllOf`.  \r\n\r\nJust add the line `**/*AllOf.java` to the `.openapi-generator-ignore` and those files will no longer be generated.\r\n\r\nRemember though, that `allOf` isn&#39;t the only polymorphic keyword in openapi that will generate additional classes; `oneOf` will also do this.  I would recommend naming your internal schemas using `title`.  This will allow you to take control of the names and ignore everything the same way.  For example:\r\n\r\n```yaml\r\nLizard:\r\n  properties:\r\n    name:\r\n      type: string\r\n  allOf:\r\n    - $ref: &#39;#/components/schemas/Pet&#39;\r\n    - title: LizardDetails\r\n      type: object\r\n      # all other properties specific to a `Lizard`\r\n      properties:\r\n        lovesRocks:\r\n          type: boolean\r\n```\r\n\r\nNow, instead of `AllOf`, you will get a new object called `LizardDetails`.  This helps in identifying objects that you have explicitly defined, and objects you have forgotten to define, which can really help in large, complex schemas.  Now, when you add `**/*Details.java` to your `.openapi-generator-ignore`, you will be able to exclude only classes whose titles you have explicitly defined, and will not inadvertently exclude classes you aren&#39;t aware of.\r\n\r\n# Remove unused imports\r\n\r\nIn the current version of `openapi-generator` (6.2.0 as of writing), this appears to be enough.  However, in previous versions of the generator, the imports for the ignored files were still generated.  This would cause compilation errors similar to what you described. \r\n\r\nTo fix compilation errors based on imports that don&#39;t exist, you can use [spotless from diffplug](https://github.com/diffplug/spotless).  Simply set the spotless plugin to [`removeUnusedImports`][1].  Since you are using the CLI generator, you can setup spotless via [file post processing](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/file-post-processing.md).\r\n\r\nFor others coming here that are using the gradle or maven plugins, you can setup spotless via the [gradle plugin](https://github.com/diffplug/spotless/tree/main/plugin-gradle) or the [maven plugin](https://github.com/diffplug/spotless/tree/main/plugin-maven).\r\n\r\nAny other linting tool will likely work as well, so long as it is able to remove unused imports, I just prefer spotless.\r\n\r\n\r\n  [1]: https://github.com/diffplug/spotless/blob/main/lib/src/main/java/com/diffplug/spotless/java/RemoveUnusedImportsStep.java","title":"Why does openapi-generator use imports that do not exist","body":"<h1>Why is the extra class generated?</h1>\n<p>The reason the <code>*AllOf</code> classes are generated is because the openapi generator looks at the nested schema within the class definitions as a separate schema. Looking at the Lizard example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Lizard:\n  allOf:\n    - $ref: '#/components/schemas/Pet'\n    - type: object\n    # all other properties specific to a `Lizard`\n    properties:\n      lovesRocks:\n        type: boolean\n</code></pre>\n<p>Here, we have three schemas defined.</p>\n<ol>\n<li>Lizard</li>\n<li>Pet</li>\n<li>Anonymous schema with no name that defines the other half of Lizard</li>\n</ol>\n<p>For example, consider if you added an additional property to your lizard, but included this property outside of the <code>allOf</code> schema:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Lizard:\n  properties:\n    name:\n      type: string\n  allOf:\n    - $ref: '#/components/schemas/Pet'\n    - type: object\n      # all other properties specific to a `Lizard`\n      properties:\n        lovesRocks:\n          type: boolean\n</code></pre>\n<p>This new object definition will still pass the validation, and still contains three separate schemas.  However, now the Lizard.java will contain a new field <code>private String name;</code> that does not exist in <code>LizardAllOf.java</code>.  The other thing to consider is that the <code>LizardAllOf</code> class does not extend <code>Pet</code>, whereas, the <code>Lizard.java</code> class does.</p>\n<h1>Prevent the additional class generation</h1>\n<p>So, how do we fix this?  If you are content with never using the <code>AllOf</code> classes, then the solution is fairly simple.  You can use the <code>.openapi-generator-ignore</code> file to ignore generation of any classes that end in <code>AllOf</code>.</p>\n<p>Just add the line <code>**/*AllOf.java</code> to the <code>.openapi-generator-ignore</code> and those files will no longer be generated.</p>\n<p>Remember though, that <code>allOf</code> isn't the only polymorphic keyword in openapi that will generate additional classes; <code>oneOf</code> will also do this.  I would recommend naming your internal schemas using <code>title</code>.  This will allow you to take control of the names and ignore everything the same way.  For example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Lizard:\n  properties:\n    name:\n      type: string\n  allOf:\n    - $ref: '#/components/schemas/Pet'\n    - title: LizardDetails\n      type: object\n      # all other properties specific to a `Lizard`\n      properties:\n        lovesRocks:\n          type: boolean\n</code></pre>\n<p>Now, instead of <code>AllOf</code>, you will get a new object called <code>LizardDetails</code>.  This helps in identifying objects that you have explicitly defined, and objects you have forgotten to define, which can really help in large, complex schemas.  Now, when you add <code>**/*Details.java</code> to your <code>.openapi-generator-ignore</code>, you will be able to exclude only classes whose titles you have explicitly defined, and will not inadvertently exclude classes you aren't aware of.</p>\n<h1>Remove unused imports</h1>\n<p>In the current version of <code>openapi-generator</code> (6.2.0 as of writing), this appears to be enough.  However, in previous versions of the generator, the imports for the ignored files were still generated.  This would cause compilation errors similar to what you described.</p>\n<p>To fix compilation errors based on imports that don't exist, you can use <a href=\"https://github.com/diffplug/spotless\" rel=\"nofollow noreferrer\">spotless from diffplug</a>.  Simply set the spotless plugin to <a href=\"https://github.com/diffplug/spotless/blob/main/lib/src/main/java/com/diffplug/spotless/java/RemoveUnusedImportsStep.java\" rel=\"nofollow noreferrer\"><code>removeUnusedImports</code></a>.  Since you are using the CLI generator, you can setup spotless via <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/file-post-processing.md\" rel=\"nofollow noreferrer\">file post processing</a>.</p>\n<p>For others coming here that are using the gradle or maven plugins, you can setup spotless via the <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle\" rel=\"nofollow noreferrer\">gradle plugin</a> or the <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-maven\" rel=\"nofollow noreferrer\">maven plugin</a>.</p>\n<p>Any other linting tool will likely work as well, so long as it is able to remove unused imports, I just prefer spotless.</p>\n"}],"owner":{"account_id":11377471,"reputation":586,"user_id":8341298,"accept_rate":50,"display_name":"schande"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9440,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1696136520,"creation_date":1576665501,"question_id":59390182,"body_markdown":"I am using `openapi-codegen version 4.2.2` and `openapi specification 3.0.0` to generate a java server API from a yaml file like this:\r\n\r\n`openapi-generator generate -i test.yaml -g spring -o /tmp/springTest`\r\n\r\nThe problem I encounter is, that the generated code tries to import a class that does not exist. The API should accept an object of type pet and return the same pet. A Pet should be a Cat, Dog, or Lizard. I used the inheritence example from the openapi specification and build the following yaml file from it:\r\n\r\n    openapi: 3.0.0\r\n    info:\r\n      version: 1.0.0\r\n      title: Three Pets\r\n      termsOfService: http://swagger.io/terms\r\n    tags:\r\n      - name: test\r\n    paths:\r\n      /echoPet:\r\n        post:\r\n          tags:\r\n            - test\r\n          summary: Return input\r\n          description: Send pet get pet\r\n          operationId: echoPet\r\n          parameters:\r\n            - name: pet\r\n              in: query\r\n              schema:\r\n                oneOf:\r\n                  - $ref: &#39;#/components/schemas/Cat&#39;\r\n                  - $ref: &#39;#/components/schemas/Dog&#39;\r\n                  - $ref: &#39;#/components/schemas/Lizard&#39;\r\n          responses:\r\n            &quot;200&quot;:\r\n              description: Pet sucesfully returned\r\n              content:\r\n                application/json:\r\n                    schema:\r\n                      oneOf:\r\n                        - $ref: &#39;#/components/schemas/Pet&#39;\r\n    servers:\r\n      - url: https://localhost:8080/v2\r\n      - url: http://localhost:8080/v2\r\n    components:\r\n      schemas:\r\n        Pet:\r\n          type: object\r\n          required:\r\n          - pet_type\r\n          properties:\r\n            pet_type:\r\n              type: string\r\n          discriminator:\r\n            propertyName: pet_type\r\n            mapping:\r\n              cachorro: Dog\r\n        Cat:\r\n          allOf:\r\n          - $ref: &#39;#/components/schemas/Pet&#39;\r\n          - type: object\r\n            # all other properties specific to a `Cat`\r\n            properties:\r\n              name:\r\n                type: string\r\n              huntingSkill:\r\n                type: string\r\n                description: The measured skill for hunting\r\n                enum:\r\n                - clueless\r\n                - lazy\r\n                - adventurous\r\n                - aggressive\r\n        Dog:\r\n          allOf:\r\n          - $ref: &#39;#/components/schemas/Pet&#39;\r\n          - type: object\r\n            # all other properties specific to a `Dog`\r\n            properties:\r\n              bark:\r\n                type: string\r\n              packSize:\r\n                type: integer\r\n                format: int32\r\n                description: the size of the pack the dog is from\r\n                default: 0\r\n                minimum: 0\r\n        Lizard:\r\n          allOf:\r\n          - $ref: &#39;#/components/schemas/Pet&#39;\r\n          - type: object\r\n            # all other properties specific to a `Lizard`\r\n            properties:\r\n              lovesRocks:\r\n                type: boolean\r\n\r\nhttps://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#discriminator-object\r\n\r\nAs far as I understand it, it should generate an API that acceps oneOf the following types Cat,Dog,Lizard. (If I use Pet here, the validation says, Pet is not of type object)\r\nThe generated EchoPetApi.java uses imports for:\r\n\r\n    import org.openapitools.model.OneOfCatDogLizard;\r\n    import org.openapitools.model.OneOfPet;\r\n\r\nBut these classes do not exist, which will make the code not compilable. All I have in the org.openapitools.model package is:\r\n\r\n    Cat.java\r\n    CatAllOf.java\r\n    Dog.java\r\n    DogAllOf.java\r\n    Lizard.java\r\n    LizardAllOf.java\r\n    Pet.java\r\n\r\nHere the Cat, Dog and Lizard.java look as expected and all extend Pet.java, but CatAllOf, DogAllOf and LizardAllOf do not extend anything but only have properties from the respective class and a slightly different hashCode() method.\r\n\r\nHere is the EchoPetApi.java with the not existing imports(first two, after the package):\r\n\r\n    /**\r\n     * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) (4.2.2).\r\n     * https://openapi-generator.tech\r\n     * Do not edit the class manually.\r\n     */\r\n    package org.openapitools.api;\r\n    \r\n    import org.openapitools.model.OneOfCatDogLizard;\r\n    import org.openapitools.model.OneOfPet;\r\n    import io.swagger.annotations.*;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestHeader;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RequestPart;\r\n    import org.springframework.web.context.request.NativeWebRequest;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.*;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Optional;\r\n    @javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2019-12-18T11:27:04.474+01:00[Europe/Berlin]&quot;)\r\n    \r\n    @Validated\r\n    @Api(value = &quot;echoPet&quot;, description = &quot;the echoPet API&quot;)\r\n    public interface EchoPetApi {\r\n    \r\n        default Optional&lt;NativeWebRequest&gt; getRequest() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        @ApiOperation(value = &quot;Return input&quot;, nickname = &quot;echoPet&quot;, notes = &quot;Send pet get pet&quot;, response = OneOfPet.class, tags={ &quot;test&quot;, })\r\n        @ApiResponses(value = { \r\n            @ApiResponse(code = 200, message = &quot;Pet sucesfully returned&quot;, response = OneOfPet.class) })\r\n        @RequestMapping(value = &quot;/echoPet&quot;,\r\n            produces = { &quot;application/json&quot; }, \r\n            method = RequestMethod.POST)\r\n        default ResponseEntity&lt;OneOfPet&gt; echoPet(@ApiParam(value = &quot;&quot;, defaultValue = &quot;null&quot;) @Valid OneOfCatDogLizard pet) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nIf I use the validate function from openapi-codegen it does not return any errors:\r\n\r\n    $ openapi-generator validate -i test.yaml\r\n    Validating spec (test.yaml)\r\n    No validation issues detected.\r\n\r\n","title":"Why does openapi-generator use imports that do not exist","body":"<p>I am using <code>openapi-codegen version 4.2.2</code> and <code>openapi specification 3.0.0</code> to generate a java server API from a yaml file like this:</p>\n\n<p><code>openapi-generator generate -i test.yaml -g spring -o /tmp/springTest</code></p>\n\n<p>The problem I encounter is, that the generated code tries to import a class that does not exist. The API should accept an object of type pet and return the same pet. A Pet should be a Cat, Dog, or Lizard. I used the inheritence example from the openapi specification and build the following yaml file from it:</p>\n\n<pre><code>openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: Three Pets\n  termsOfService: http://swagger.io/terms\ntags:\n  - name: test\npaths:\n  /echoPet:\n    post:\n      tags:\n        - test\n      summary: Return input\n      description: Send pet get pet\n      operationId: echoPet\n      parameters:\n        - name: pet\n          in: query\n          schema:\n            oneOf:\n              - $ref: '#/components/schemas/Cat'\n              - $ref: '#/components/schemas/Dog'\n              - $ref: '#/components/schemas/Lizard'\n      responses:\n        \"200\":\n          description: Pet sucesfully returned\n          content:\n            application/json:\n                schema:\n                  oneOf:\n                    - $ref: '#/components/schemas/Pet'\nservers:\n  - url: https://localhost:8080/v2\n  - url: http://localhost:8080/v2\ncomponents:\n  schemas:\n    Pet:\n      type: object\n      required:\n      - pet_type\n      properties:\n        pet_type:\n          type: string\n      discriminator:\n        propertyName: pet_type\n        mapping:\n          cachorro: Dog\n    Cat:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Cat`\n        properties:\n          name:\n            type: string\n          huntingSkill:\n            type: string\n            description: The measured skill for hunting\n            enum:\n            - clueless\n            - lazy\n            - adventurous\n            - aggressive\n    Dog:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Dog`\n        properties:\n          bark:\n            type: string\n          packSize:\n            type: integer\n            format: int32\n            description: the size of the pack the dog is from\n            default: 0\n            minimum: 0\n    Lizard:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Lizard`\n        properties:\n          lovesRocks:\n            type: boolean\n</code></pre>\n\n<p><a href=\"https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#discriminator-object\" rel=\"noreferrer\">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#discriminator-object</a></p>\n\n<p>As far as I understand it, it should generate an API that acceps oneOf the following types Cat,Dog,Lizard. (If I use Pet here, the validation says, Pet is not of type object)\nThe generated EchoPetApi.java uses imports for:</p>\n\n<pre><code>import org.openapitools.model.OneOfCatDogLizard;\nimport org.openapitools.model.OneOfPet;\n</code></pre>\n\n<p>But these classes do not exist, which will make the code not compilable. All I have in the org.openapitools.model package is:</p>\n\n<pre><code>Cat.java\nCatAllOf.java\nDog.java\nDogAllOf.java\nLizard.java\nLizardAllOf.java\nPet.java\n</code></pre>\n\n<p>Here the Cat, Dog and Lizard.java look as expected and all extend Pet.java, but CatAllOf, DogAllOf and LizardAllOf do not extend anything but only have properties from the respective class and a slightly different hashCode() method.</p>\n\n<p>Here is the EchoPetApi.java with the not existing imports(first two, after the package):</p>\n\n<pre><code>/**\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) (4.2.2).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\npackage org.openapitools.api;\n\nimport org.openapitools.model.OneOfCatDogLizard;\nimport org.openapitools.model.OneOfPet;\nimport io.swagger.annotations.*;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.*;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n@javax.annotation.Generated(value = \"org.openapitools.codegen.languages.SpringCodegen\", date = \"2019-12-18T11:27:04.474+01:00[Europe/Berlin]\")\n\n@Validated\n@Api(value = \"echoPet\", description = \"the echoPet API\")\npublic interface EchoPetApi {\n\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\n        return Optional.empty();\n    }\n\n    @ApiOperation(value = \"Return input\", nickname = \"echoPet\", notes = \"Send pet get pet\", response = OneOfPet.class, tags={ \"test\", })\n    @ApiResponses(value = { \n        @ApiResponse(code = 200, message = \"Pet sucesfully returned\", response = OneOfPet.class) })\n    @RequestMapping(value = \"/echoPet\",\n        produces = { \"application/json\" }, \n        method = RequestMethod.POST)\n    default ResponseEntity&lt;OneOfPet&gt; echoPet(@ApiParam(value = \"\", defaultValue = \"null\") @Valid OneOfCatDogLizard pet) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n\n}\n</code></pre>\n\n<p>If I use the validate function from openapi-codegen it does not return any errors:</p>\n\n<pre><code>$ openapi-generator validate -i test.yaml\nValidating spec (test.yaml)\nNo validation issues detected.\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":1,"creation_date":1491313039,"post_id":43208749,"comment_id":73489178,"body_markdown":"Try to uncheck the `Build Automatically` option under `Project` menu in your eclipse. It will prevent this.","body":"Try to uncheck the <code>Build Automatically</code> option under <code>Project</code> menu in your eclipse. It will prevent this."},{"owner":{"account_id":9437665,"reputation":79,"user_id":7019193,"accept_rate":0,"display_name":"Roshan"},"score":0,"creation_date":1491318556,"post_id":43208749,"comment_id":73493790,"body_markdown":"Thanks for your reply..\nyes but if my changes needs to reflect means again i need to enable that option right or again i need to build the project. So again it will take time for building workspace.\nMy problem is whenever i build the project it takes more time.","body":"Thanks for your reply.. yes but if my changes needs to reflect means again i need to enable that option right or again i need to build the project. So again it will take time for building workspace. My problem is whenever i build the project it takes more time."},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1491318991,"post_id":43208749,"comment_id":73494165,"body_markdown":"Maybe your project has a reference to another one! Maybe there is an issue with some included jars! Just check it.","body":"Maybe your project has a reference to another one! Maybe there is an issue with some included jars! Just check it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1491326141,"post_id":43208749,"comment_id":73498900,"body_markdown":"First how many modules do you have? And how long is slow? What kind of project do you have an OSGi project or a plain Java (EE) project?","body":"First how many modules do you have? And how long is slow? What kind of project do you have an OSGi project or a plain Java (EE) project?"},{"owner":{"account_id":9437665,"reputation":79,"user_id":7019193,"accept_rate":0,"display_name":"Roshan"},"score":0,"creation_date":1491376057,"post_id":43208749,"comment_id":73518491,"body_markdown":"I have only one module in my eclipse. When i modify simple java file and if i save that file it is taking almost 2minutes to build the workspace. It is Maven java project not a OSGI project.","body":"I have only one module in my eclipse. When i modify simple java file and if i save that file it is taking almost 2minutes to build the workspace. It is Maven java project not a OSGI project."}],"answers":[{"comments":[{"owner":{"account_id":9437665,"reputation":79,"user_id":7019193,"accept_rate":0,"display_name":"Roshan"},"score":0,"creation_date":1491376230,"post_id":43217353,"comment_id":73518609,"body_markdown":"Thanks for your reply. I have tried whatever you have mentioned above but still the problem is not yet solved.\n\n1. This problem happens only to me. It is working fine in my colleagues system. Even i have tried to Copy the same eclipse setup in my local but again same issue.\n\n2. This problem exists even if i change my workspace","body":"Thanks for your reply. I have tried whatever you have mentioned above but still the problem is not yet solved.  1. This problem happens only to me. It is working fine in my colleagues system. Even i have tried to Copy the same eclipse setup in my local but again same issue.  2. This problem exists even if i change my workspace"}],"tags":[],"owner":{"account_id":433014,"reputation":141,"user_id":818103,"display_name":"viniciusartur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491338615,"creation_date":1491338615,"answer_id":43217353,"question_id":43208749,"body_markdown":"Sometimes a Maven Project in Eclipse stops working without reason. What I&#39;m used to do in these cases is instead of trying to find the root cause of the problem I simply try do execute a couple of cleaning procedures:\r\n\r\n 1. Try clicking on menu Project -&gt; Clean; \r\n 2. Try click with the\r\n    right button on the Project in Project Explorer -&gt; Maven -&gt; Update\r\n    Project; \r\n 3. Switch to a new workspace -&gt; Import the Maven project\r\n    again.\r\n\r\nSometimes your workspace crashes without reason. Instead of wasting mental energy it&#39;s better trying to isolate the problem answering questions like: \r\n\r\n - This problem happens in any workstation or only in mine?\r\n - This problem happens in any Eclipse workspace or only in my current Eclipse workspace?\r\n\r\nTry this approach and let me know if it works for you. :)\r\n","title":"Eclipse Building Workspace always slow due to Invoking &quot;Maven Project Builder&quot;","body":"<p>Sometimes a Maven Project in Eclipse stops working without reason. What I'm used to do in these cases is instead of trying to find the root cause of the problem I simply try do execute a couple of cleaning procedures:</p>\n\n<ol>\n<li>Try clicking on menu Project -> Clean; </li>\n<li>Try click with the\nright button on the Project in Project Explorer -> Maven -> Update\nProject; </li>\n<li>Switch to a new workspace -> Import the Maven project\nagain.</li>\n</ol>\n\n<p>Sometimes your workspace crashes without reason. Instead of wasting mental energy it's better trying to isolate the problem answering questions like: </p>\n\n<ul>\n<li>This problem happens in any workstation or only in mine?</li>\n<li>This problem happens in any Eclipse workspace or only in my current Eclipse workspace?</li>\n</ul>\n\n<p>Try this approach and let me know if it works for you. :)</p>\n"},{"comments":[{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1492587343,"post_id":43316827,"comment_id":74033550,"body_markdown":"you have your local repository put on a server?!","body":"you have your local repository put on a server?!"}],"tags":[],"owner":{"account_id":9437665,"reputation":79,"user_id":7019193,"accept_rate":0,"display_name":"Roshan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491808064,"creation_date":1491808064,"answer_id":43316827,"question_id":43208749,"body_markdown":"Thanks for your responses. \r\nFinally i got solution for this issue.\r\nI have modified the settings.xml. Instead of pointing my repository path(/server/.m2/repository) in the server level, i have pointed my  repository path to local repository(c:\\repository). so whenever i gave build it would point my local repository and it would compile my java classes. So now my build is doing very fast.","title":"Eclipse Building Workspace always slow due to Invoking &quot;Maven Project Builder&quot;","body":"<p>Thanks for your responses. \nFinally i got solution for this issue.\nI have modified the settings.xml. Instead of pointing my repository path(/server/.m2/repository) in the server level, i have pointed my  repository path to local repository(c:\\repository). so whenever i gave build it would point my local repository and it would compile my java classes. So now my build is doing very fast.</p>\n"}],"owner":{"account_id":9437665,"reputation":79,"user_id":7019193,"accept_rate":0,"display_name":"Roshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696136520,"creation_date":1491312708,"question_id":43208749,"body_markdown":"I am building a maven project using Eclipse.  When I modify and save the Java file it takes more time to build the workspace.  When I open the progress bar it shows **Invoking &quot;Maven Project Builder&quot;**. \r\n\r\nI have searched and tried various options but no luck. I even tried to disable the Maven project Builder from the builder option. If I disable this option it doesn&#39;t take that much time but when I run the Maven install I get an error due to disabling of Maven project builder. So I re-enabled the Maven Project builder option. \r\n\r\nKindly give me a permanent solution. Thanks in advance!\r\n","title":"Eclipse Building Workspace always slow due to Invoking &quot;Maven Project Builder&quot;","body":"<p>I am building a maven project using Eclipse.  When I modify and save the Java file it takes more time to build the workspace.  When I open the progress bar it shows <strong>Invoking \"Maven Project Builder\"</strong>. </p>\n\n<p>I have searched and tried various options but no luck. I even tried to disable the Maven project Builder from the builder option. If I disable this option it doesn't take that much time but when I run the Maven install I get an error due to disabling of Maven project builder. So I re-enabled the Maven Project builder option. </p>\n\n<p>Kindly give me a permanent solution. Thanks in advance!</p>\n"},{"tags":["amazon-web-services","java","oraclejdk"],"comments":[{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":1,"creation_date":1446086769,"post_id":33405098,"comment_id":54601541,"body_markdown":"What&#39;s wrong with the OpenJDK? They&#39;re [practically the same](http://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-open-jdk-and-garbage-collection)...","body":"What&#39;s wrong with the OpenJDK? They&#39;re <a href=\"http://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-open-jdk-and-garbage-collection\">practically the same</a>..."},{"owner":{"account_id":1217128,"reputation":635,"user_id":1184480,"accept_rate":48,"display_name":"Vikram"},"score":0,"creation_date":1446090578,"post_id":33405098,"comment_id":54602594,"body_markdown":"I am installing Jboss AS but that doesn&#39;t support OpenJDK so i need to uninstall that and install Oracle JDK for it to work.","body":"I am installing Jboss AS but that doesn&#39;t support OpenJDK so i need to uninstall that and install Oracle JDK for it to work."}],"answers":[{"comments":[{"owner":{"account_id":1217128,"reputation":635,"user_id":1184480,"accept_rate":48,"display_name":"Vikram"},"score":0,"creation_date":1446092453,"post_id":33405260,"comment_id":54603122,"body_markdown":"https://gist.github.com/rtfpessoa/17752cbf7156bdf32c59 This helpme acheiving what i was looking for. Thank you all !!!","body":"<a href=\"https://gist.github.com/rtfpessoa/17752cbf7156bdf32c59\" rel=\"nofollow noreferrer\">gist.github.com/rtfpessoa/17752cbf7156bdf32c59</a> This helpme acheiving what i was looking for. Thank you all !!!"}],"tags":[],"owner":{"account_id":5793856,"reputation":27,"user_id":4570288,"accept_rate":25,"display_name":"Christian Escobar F"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446087815,"creation_date":1446087815,"answer_id":33405260,"question_id":33405098,"body_markdown":"Install the JDK , then written to the terminal.\r\n\r\n    alternatives --config java\r\n\r\nEnter the number\r\n\r\nI work in fedora , try it in Red Hat.","title":"How to uninstall openjdk on amazon ec2 micro instance running Redhat Linux","body":"<p>Install the JDK , then written to the terminal.</p>\n\n<pre><code>alternatives --config java\n</code></pre>\n\n<p>Enter the number</p>\n\n<p>I work in fedora , try it in Red Hat.</p>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1870,"user_id":2517035,"display_name":"Rajeev Rathor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573757707,"creation_date":1573757707,"answer_id":58863953,"question_id":33405098,"body_markdown":"Spring boot application is failed to start on AWS EC2 instance because of JDK old version is running on EC2 Instance. I have run following command to set updated version 1.8 from 1.7.\r\nFollow command:\r\n    \r\n    sudo yum install java-1.8.0\r\n    sudo /usr/sbin/alternatives --config java","title":"How to uninstall openjdk on amazon ec2 micro instance running Redhat Linux","body":"<p>Spring boot application is failed to start on AWS EC2 instance because of JDK old version is running on EC2 Instance. I have run following command to set updated version 1.8 from 1.7.\nFollow command:</p>\n\n<pre><code>sudo yum install java-1.8.0\nsudo /usr/sbin/alternatives --config java\n</code></pre>\n"}],"owner":{"account_id":1217128,"reputation":635,"user_id":1184480,"accept_rate":48,"display_name":"Vikram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696136520,"creation_date":1446086695,"question_id":33405098,"body_markdown":"I have Installed OpenJdk on my redhat instance recently. Now am in need to go for Java Jdk. I saw some sites for replacement but none working for me. Thanks in advance..","title":"How to uninstall openjdk on amazon ec2 micro instance running Redhat Linux","body":"<p>I have Installed OpenJdk on my redhat instance recently. Now am in need to go for Java Jdk. I saw some sites for replacement but none working for me. Thanks in advance..</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":2,"creation_date":1696125204,"post_id":77208924,"comment_id":136113179,"body_markdown":"Which line is #107? The compiler points to the exact line, so you can add a comment in the code that identifies it. We&#39;re not going to count them.","body":"Which line is #107? The compiler points to the exact line, so you can add a comment in the code that identifies it. We&#39;re not going to count them."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1696125932,"post_id":77208924,"comment_id":136113202,"body_markdown":"also, quote the exact error message. Because the error message I get when I paste this code says that &quot;choice cannot be resolved to a variable&quot;, which is quite different from not being initialized.","body":"also, quote the exact error message. Because the error message I get when I paste this code says that &quot;choice cannot be resolved to a variable&quot;, which is quite different from not being initialized."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1696131037,"post_id":77208924,"comment_id":136113423,"body_markdown":"The _choice_ variable cannot be resolved, in this code.","body":"The <i>choice</i> variable cannot be resolved, in this code."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696135775,"creation_date":1696135409,"answer_id":77209272,"question_id":77208924,"body_markdown":"When I tried to compile this, I got this:\r\n\r\n    $ javac WheelOfFortune.java \r\n    WheelOfFortune.java:108: error: cannot find symbol\r\n            } while (choice != 3 &amp;&amp; !game.hasGuessedEntirePhrase());\r\n                     ^\r\n      symbol:   variable choice\r\n      location: class WheelOfFortune\r\n    1 error\r\n\r\nThis is the **primary** problem in your code.  To be specific, `choice` is declared in the body of the loop, and it is not in scope in `while` condition at the end of the loop.  \r\n\r\nYou need to declare `choice` **before the start of the loop**.\r\n\r\nHaving done that, you are likely to run into the initialization issue again.  Why?  Because there is a path in the code where you get to the `while` condition without initializing `choice`.  It goes like this\r\n\r\n\r\n1. Declare `choice` with no initial value.\r\n\r\n2. Start the loop.\r\n\r\n3. `String choiceStr = scanner.nextLine();` reads say &quot;XYZ&quot;.\r\n\r\n4. `choiceStr.matches(&quot;[1-3]&quot;)` evaluates to `false`\r\n\r\n5. You take the `else` branch, print a message and `continue`.\r\n\r\n6. Try to evaluate `choice != 3` in the `while` condition.\r\n\r\nIf you examine the code carefully, you will see that there is nothing assigning a value to `choice` *in this execution path*.  Its actual value is indeterminate.  Therefore, the compiler will tell you that the variable may not have been initialized.\r\n\r\nWhat is the solution to *this* aspect of your problem?  There are two approaches you could consider.\r\n\r\n- You could simply initialize `choice` to (say) `-1` in the declaration.  (In fact, any number other than `3` would work.)\r\n\r\n- In step 4 above you could assign (say) `-1` to `choice` before the `continue` statement.\r\n\r\nI will it leave it to you to analyze your code to work out why both of these solutions will work ... and decide which one is better.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;(What I don&#39;t understand is why you got the error about the uninitialized variable when the variable was out of scope.  I can think of two possible explanations.  The first one is that you have confused your IDE&#39;s embedded compiler and it is giving a bogus error message.  The second one is that the code you showed us is different to the code that you compiled to get that error message!)&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"there is a problem in the intializtion of a variable in my code","body":"<p>When I tried to compile this, I got this:</p>\n<pre><code>$ javac WheelOfFortune.java \nWheelOfFortune.java:108: error: cannot find symbol\n        } while (choice != 3 &amp;&amp; !game.hasGuessedEntirePhrase());\n                 ^\n  symbol:   variable choice\n  location: class WheelOfFortune\n1 error\n</code></pre>\n<p>This is the <strong>primary</strong> problem in your code.  To be specific, <code>choice</code> is declared in the body of the loop, and it is not in scope in <code>while</code> condition at the end of the loop.</p>\n<p>You need to declare <code>choice</code> <strong>before the start of the loop</strong>.</p>\n<p>Having done that, you are likely to run into the initialization issue again.  Why?  Because there is a path in the code where you get to the <code>while</code> condition without initializing <code>choice</code>.  It goes like this</p>\n<ol>\n<li><p>Declare <code>choice</code> with no initial value.</p>\n</li>\n<li><p>Start the loop.</p>\n</li>\n<li><p><code>String choiceStr = scanner.nextLine();</code> reads say &quot;XYZ&quot;.</p>\n</li>\n<li><p><code>choiceStr.matches(&quot;[1-3]&quot;)</code> evaluates to <code>false</code></p>\n</li>\n<li><p>You take the <code>else</code> branch, print a message and <code>continue</code>.</p>\n</li>\n<li><p>Try to evaluate <code>choice != 3</code> in the <code>while</code> condition.</p>\n</li>\n</ol>\n<p>If you examine the code carefully, you will see that there is nothing assigning a value to <code>choice</code> <em>in this execution path</em>.  Its actual value is indeterminate.  Therefore, the compiler will tell you that the variable may not have been initialized.</p>\n<p>What is the solution to <em>this</em> aspect of your problem?  There are two approaches you could consider.</p>\n<ul>\n<li><p>You could simply initialize <code>choice</code> to (say) <code>-1</code> in the declaration.  (In fact, any number other than <code>3</code> would work.)</p>\n</li>\n<li><p>In step 4 above you could assign (say) <code>-1</code> to <code>choice</code> before the <code>continue</code> statement.</p>\n</li>\n</ul>\n<p>I will it leave it to you to analyze your code to work out why both of these solutions will work ... and decide which one is better.</p>\n<hr />\n<p><sup>(What I don't understand is why you got the error about the uninitialized variable when the variable was out of scope.  I can think of two possible explanations.  The first one is that you have confused your IDE's embedded compiler and it is giving a bogus error message.  The second one is that the code you showed us is different to the code that you compiled to get that error message!)</sup></p>\n"},{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696136076,"creation_date":1696136076,"answer_id":77209293,"question_id":77208924,"body_markdown":"The issue in the given code lies not in initialization of the variable but in the place of declaring it (`Cannot resolve symbol &#39;choice&#39;`). The variables declared inside the do-while block are out-of-scope for the condition expression. \r\n\r\nSo you can re-write the code to move the declaration of `choice` variable can be moved outside of the do-while block or add a `break` statement as required in the block retaining the declaration of the variable as is.\r\n\r\n```\r\n// moving the variable declaration outside the loop\r\nint choice = 0;\r\ndo {\r\n   // logic..\r\n} while (choice != 3 &amp;&amp; !game.hasGuessedEntirePhrase())\r\n\r\n```\r\n\r\nor\r\n\r\n```\r\ndo {\r\n    int choice = 0;\r\n    // logic..\r\n    else if (choice == 3) {\r\n        // code for this condition\r\n        break;\r\n    }\r\n} while (true)\r\n```\r\n\r\n","title":"there is a problem in the intializtion of a variable in my code","body":"<p>The issue in the given code lies not in initialization of the variable but in the place of declaring it (<code>Cannot resolve symbol 'choice'</code>). The variables declared inside the do-while block are out-of-scope for the condition expression.</p>\n<p>So you can re-write the code to move the declaration of <code>choice</code> variable can be moved outside of the do-while block or add a <code>break</code> statement as required in the block retaining the declaration of the variable as is.</p>\n<pre><code>// moving the variable declaration outside the loop\nint choice = 0;\ndo {\n   // logic..\n} while (choice != 3 &amp;&amp; !game.hasGuessedEntirePhrase())\n\n</code></pre>\n<p>or</p>\n<pre><code>do {\n    int choice = 0;\n    // logic..\n    else if (choice == 3) {\n        // code for this condition\n        break;\n    }\n} while (true)\n</code></pre>\n"}],"owner":{"account_id":29572124,"reputation":7,"user_id":22664029,"display_name":"ROHAN MAMIDI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1696153513,"answer_count":2,"score":-1,"last_activity_date":1696136076,"creation_date":1696123179,"question_id":77208924,"body_markdown":"The piece of code I created is called wheel of fortune guessing game, but the code puts an error at line 107 saying that choice is not initialized, but I am sure I initialized.\r\n\r\nHere is the code:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class WheelOfFortune {\r\n\r\n    private String phrase;\r\n    private String guessedLetters;\r\n\r\n    public WheelOfFortune(String phrase) {\r\n        this.phrase = phrase.toUpperCase();\r\n        this.guessedLetters = &quot;&quot;;\r\n    }\r\n\r\n    public void displayPhrase() {\r\n        for (int i = 0; i &lt; phrase.length(); i++) {\r\n            char letter = phrase.charAt(i);\r\n            if (Character.isWhitespace(letter) || guessedLetters.indexOf(Character.toUpperCase(letter)) != -1) {\r\n                System.out.print(letter);\r\n            } else {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public boolean guessLetter(char letter) {\r\n        letter = Character.toUpperCase(letter);\r\n\r\n        if (!Character.isLetter(letter)) {\r\n            System.out.println(&quot;Invalid input. Please enter a letter.&quot;);\r\n            return false;\r\n        }\r\n\r\n        if (guessedLetters.indexOf(letter) != -1) {\r\n            System.out.println(&quot;You&#39;ve already guessed this letter.&quot;);\r\n            return false;\r\n        }\r\n\r\n        guessedLetters += letter;\r\n        return true;\r\n    }\r\n\r\n    public boolean hasGuessedEntirePhrase() {\r\n        for (int i = 0; i &lt; phrase.length(); i++) {\r\n            char letter = phrase.charAt(i);\r\n            if (Character.isLetter(letter) &amp;&amp; guessedLetters.indexOf(letter) == -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void clearScreen() {\r\n        System.out.print(&quot;\\033[H\\033[2J&quot;);\r\n        System.out.flush();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Enter a phrase or word: &quot;);\r\n        String inputPhrase = scanner.nextLine().toUpperCase();\r\n\r\n        WheelOfFortune game = new WheelOfFortune(inputPhrase);\r\n\r\n        System.out.println(&quot;Welcome to Wheel of Fortune!&quot;);\r\n\r\n        \r\n\r\n        do {\r\n            int choice;\r\n            clearScreen(); // Clear the console screen\r\n            System.out.println(&quot;Guessed letters: &quot; + game.guessedLetters);\r\n            System.out.println(&quot;\\n-------------------------&quot;);\r\n            game.displayPhrase();\r\n\r\n            System.out.println(&quot;\\nChoose an option:&quot;);\r\n            System.out.println(&quot;1. Guess a letter&quot;);\r\n            System.out.println(&quot;2. Guess the whole phrase&quot;);\r\n            System.out.println(&quot;3. Quit&quot;);\r\n            System.out.print(&quot;Enter your choice: &quot;);\r\n\r\n            String choiceStr = scanner.nextLine();\r\n\r\n            if (choiceStr.matches(&quot;[1-3]&quot;)) {\r\n                 choice = Integer.parseInt(choiceStr);\r\n            } else {\r\n                System.out.println(&quot;Invalid choice. Please select a valid option.&quot;);\r\n                continue;\r\n            }\r\n\r\n            if (choice == 1) {\r\n                System.out.print(&quot;Guess a letter: &quot;);\r\n                char letter = scanner.nextLine().charAt(0);\r\n                game.guessLetter(letter);\r\n            } else if (choice == 2) {\r\n                System.out.print(&quot;Guess the whole phrase: &quot;);\r\n                String guess = scanner.nextLine().toUpperCase();\r\n                if (guess.equals(game.phrase)) {\r\n                    clearScreen(); // Clear the console screen one last time\r\n                    System.out.println(&quot;Congratulations! You guessed the phrase: &quot; + game.phrase);\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Incorrect guess. Keep playing.&quot;);\r\n                }\r\n            } else if (choice == 3) {\r\n                clearScreen(); // Clear the console screen one last time\r\n                System.out.println(&quot;Thanks for playing!&quot;);\r\n            }\r\n        } while (choice != 3 &amp;&amp; !game.hasGuessedEntirePhrase());\r\n\r\n        if (game.hasGuessedEntirePhrase()) {\r\n            System.out.println(&quot;Congratulations! You guessed the entire phrase: &quot; + game.phrase);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nI tried to initialize inside the do while loop, but it still errors. I am pretty much stumped.","title":"there is a problem in the intializtion of a variable in my code","body":"<p>The piece of code I created is called wheel of fortune guessing game, but the code puts an error at line 107 saying that choice is not initialized, but I am sure I initialized.</p>\n<p>Here is the code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class WheelOfFortune {\n\n    private String phrase;\n    private String guessedLetters;\n\n    public WheelOfFortune(String phrase) {\n        this.phrase = phrase.toUpperCase();\n        this.guessedLetters = &quot;&quot;;\n    }\n\n    public void displayPhrase() {\n        for (int i = 0; i &lt; phrase.length(); i++) {\n            char letter = phrase.charAt(i);\n            if (Character.isWhitespace(letter) || guessedLetters.indexOf(Character.toUpperCase(letter)) != -1) {\n                System.out.print(letter);\n            } else {\n                System.out.print(&quot;*&quot;);\n            }\n        }\n        System.out.println();\n    }\n\n    public boolean guessLetter(char letter) {\n        letter = Character.toUpperCase(letter);\n\n        if (!Character.isLetter(letter)) {\n            System.out.println(&quot;Invalid input. Please enter a letter.&quot;);\n            return false;\n        }\n\n        if (guessedLetters.indexOf(letter) != -1) {\n            System.out.println(&quot;You've already guessed this letter.&quot;);\n            return false;\n        }\n\n        guessedLetters += letter;\n        return true;\n    }\n\n    public boolean hasGuessedEntirePhrase() {\n        for (int i = 0; i &lt; phrase.length(); i++) {\n            char letter = phrase.charAt(i);\n            if (Character.isLetter(letter) &amp;&amp; guessedLetters.indexOf(letter) == -1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static void clearScreen() {\n        System.out.print(&quot;\\033[H\\033[2J&quot;);\n        System.out.flush();\n    }\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(&quot;Enter a phrase or word: &quot;);\n        String inputPhrase = scanner.nextLine().toUpperCase();\n\n        WheelOfFortune game = new WheelOfFortune(inputPhrase);\n\n        System.out.println(&quot;Welcome to Wheel of Fortune!&quot;);\n\n        \n\n        do {\n            int choice;\n            clearScreen(); // Clear the console screen\n            System.out.println(&quot;Guessed letters: &quot; + game.guessedLetters);\n            System.out.println(&quot;\\n-------------------------&quot;);\n            game.displayPhrase();\n\n            System.out.println(&quot;\\nChoose an option:&quot;);\n            System.out.println(&quot;1. Guess a letter&quot;);\n            System.out.println(&quot;2. Guess the whole phrase&quot;);\n            System.out.println(&quot;3. Quit&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n\n            String choiceStr = scanner.nextLine();\n\n            if (choiceStr.matches(&quot;[1-3]&quot;)) {\n                 choice = Integer.parseInt(choiceStr);\n            } else {\n                System.out.println(&quot;Invalid choice. Please select a valid option.&quot;);\n                continue;\n            }\n\n            if (choice == 1) {\n                System.out.print(&quot;Guess a letter: &quot;);\n                char letter = scanner.nextLine().charAt(0);\n                game.guessLetter(letter);\n            } else if (choice == 2) {\n                System.out.print(&quot;Guess the whole phrase: &quot;);\n                String guess = scanner.nextLine().toUpperCase();\n                if (guess.equals(game.phrase)) {\n                    clearScreen(); // Clear the console screen one last time\n                    System.out.println(&quot;Congratulations! You guessed the phrase: &quot; + game.phrase);\n                    break;\n                } else {\n                    System.out.println(&quot;Incorrect guess. Keep playing.&quot;);\n                }\n            } else if (choice == 3) {\n                clearScreen(); // Clear the console screen one last time\n                System.out.println(&quot;Thanks for playing!&quot;);\n            }\n        } while (choice != 3 &amp;&amp; !game.hasGuessedEntirePhrase());\n\n        if (game.hasGuessedEntirePhrase()) {\n            System.out.println(&quot;Congratulations! You guessed the entire phrase: &quot; + game.phrase);\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>I tried to initialize inside the do while loop, but it still errors. I am pretty much stumped.</p>\n"},{"tags":["java","c++","authentication","active-directory","ldap"],"owner":{"account_id":733680,"reputation":31,"user_id":696661,"display_name":"Mattan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1721,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696133933,"creation_date":1302174143,"question_id":5580032,"body_markdown":"I&#39;m trying to design an authentication system. The system will use ActivClient in order to communicate with a smart card.\r\n\r\nThe ActivClient exposes an API which allows me to read the card&#39;s certificate, and to sign a random message using it&#39;s private key.\r\n\r\nI have a client - server architecture.\r\n\r\nIs there a way to use the LDAP to manage the authentication, or I have to implement it by myself (read the cert from the card, give the card challenge, send this values to the server, check the CA and check if the user is known by the LDAP)?\r\n\r\nThanks,\r\n\r\nMattan","title":"Smart card authentication using LDAP","body":"<p>I'm trying to design an authentication system. The system will use ActivClient in order to communicate with a smart card.</p>\n\n<p>The ActivClient exposes an API which allows me to read the card's certificate, and to sign a random message using it's private key.</p>\n\n<p>I have a client - server architecture.</p>\n\n<p>Is there a way to use the LDAP to manage the authentication, or I have to implement it by myself (read the cert from the card, give the card challenge, send this values to the server, check the CA and check if the user is known by the LDAP)?</p>\n\n<p>Thanks,</p>\n\n<p>Mattan</p>\n"},{"tags":["java","swagger-ui","playframework-2.5"],"comments":[{"owner":{"account_id":1633951,"reputation":1229,"user_id":1507955,"display_name":"Mark Verkiel"},"score":0,"creation_date":1465304561,"post_id":37679534,"comment_id":62837232,"body_markdown":"What did you try so far? What is the problem ? Take a look at the tour: http://stackoverflow.com/tour for a better understanding of how SO works.","body":"What did you try so far? What is the problem ? Take a look at the tour: <a href=\"http://stackoverflow.com/tour\">stackoverflow.com/tour</a> for a better understanding of how SO works."},{"owner":{"account_id":1017755,"reputation":2265,"user_id":1180762,"accept_rate":75,"display_name":"kenske"},"score":0,"creation_date":1465310961,"post_id":37679534,"comment_id":62842185,"body_markdown":"Not sure I understand the question. I don&#39;t see any &quot;response&quot; attribute in your code nor your screenshot. What are you expecting the content to look like?","body":"Not sure I understand the question. I don&#39;t see any &quot;response&quot; attribute in your code nor your screenshot. What are you expecting the content to look like?"}],"answers":[{"tags":[],"owner":{"account_id":1309411,"reputation":24161,"user_id":1257729,"display_name":"techtabu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465309400,"creation_date":1465309400,"answer_id":37682005,"question_id":37679534,"body_markdown":"I am not sure what you are asking. However, if you are trying to hide a particular field from the model in the JSON response, try &lt;code&gt;JsonIgnore&lt;/code&gt; annotation from fasterxml&#39;s jackson-annotations module. Just add the annotation to the field you are trying avoid in your Response.","title":"How do I can hide the schema model in Swagger?","body":"<p>I am not sure what you are asking. However, if you are trying to hide a particular field from the model in the JSON response, try <code>JsonIgnore</code> annotation from fasterxml's jackson-annotations module. Just add the annotation to the field you are trying avoid in your Response.</p>\n"},{"tags":[],"owner":{"account_id":262581,"reputation":1241,"user_id":547546,"accept_rate":75,"display_name":"Chad Retz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467303152,"creation_date":1467301718,"answer_id":38127926,"question_id":37679534,"body_markdown":"Even though you do not say, I trust based on your post at https://github.com/swagger-api/swagger-play/pull/76#issuecomment-224287765 that you are using Play Framework. I believe a &quot;void&quot; result is broken in swagger-play currently (ref: https://github.com/swagger-api/swagger-play/issues/89). One way I did it (in Scala) was to provide `responseReference = &quot;void&quot;` in the `@ApiOperation` and do the following as my Scala controller to show the Swagger spec to override it with my changes:\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    package controllers\r\n\r\n    import controllers.SwaggerBaseApiController\r\n    import io.swagger.models.auth.{ApiKeyAuthDefinition, BasicAuthDefinition, In}\r\n    import io.swagger.models.properties.RefProperty\r\n    import io.swagger.models.{Info, Response}\r\n    import play.api.mvc.Action\r\n\r\n    import scala.collection.JavaConversions._\r\n\r\n    object Swagger extends SwaggerBaseApiController {\r\n\r\n      def json = Action { implicit request =&gt;\r\n        val swagger = getResourceListing(request.host)\r\n        // We need to modify this if it doesn&#39;t contain our security definitions yet, but we have to do it atomically\r\n        // This should be fast enough that this synchronization is not too bad\r\n        swagger.synchronized {\r\n          if (!somethingThreadSafeToShowYouveChangedItAlready) fixSwagger(swagger)\r\n        }\r\n        // We trust that the above code only changes a swagger instance once therefore we don&#39;t need to\r\n        // synchronize the json marshalling because it should not change beneath it\r\n        returnValue(request, toJsonString(swagger))\r\n      }\r\n\r\n      private[this] def fixSwagger(swagger: io.swagger.models.Swagger): Unit = {\r\n        // Omitted some of my other changes...\r\n        \r\n        swagger.getPaths.values.foreach { value =&gt;\r\n\r\n          value.getOperations.foreach { oper =&gt;\r\n            // Omitted some of my other chabnges\r\n        \r\n            // Any responses that are void need to be simple void\r\n            oper.getResponses.values.foreach { resp =&gt;\r\n              resp.getSchema() match {\r\n                case schema: RefProperty if schema.get$ref() == &quot;#/definitions/void&quot; =&gt; resp.setSchema(null)\r\n                case _ =&gt; ()\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }","title":"How do I can hide the schema model in Swagger?","body":"<p>Even though you do not say, I trust based on your post at <a href=\"https://github.com/swagger-api/swagger-play/pull/76#issuecomment-224287765\" rel=\"nofollow\">https://github.com/swagger-api/swagger-play/pull/76#issuecomment-224287765</a> that you are using Play Framework. I believe a \"void\" result is broken in swagger-play currently (ref: <a href=\"https://github.com/swagger-api/swagger-play/issues/89\" rel=\"nofollow\">https://github.com/swagger-api/swagger-play/issues/89</a>). One way I did it (in Scala) was to provide <code>responseReference = \"void\"</code> in the <code>@ApiOperation</code> and do the following as my Scala controller to show the Swagger spec to override it with my changes:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>package controllers\n\nimport controllers.SwaggerBaseApiController\nimport io.swagger.models.auth.{ApiKeyAuthDefinition, BasicAuthDefinition, In}\nimport io.swagger.models.properties.RefProperty\nimport io.swagger.models.{Info, Response}\nimport play.api.mvc.Action\n\nimport scala.collection.JavaConversions._\n\nobject Swagger extends SwaggerBaseApiController {\n\n  def json = Action { implicit request =&gt;\n    val swagger = getResourceListing(request.host)\n    // We need to modify this if it doesn't contain our security definitions yet, but we have to do it atomically\n    // This should be fast enough that this synchronization is not too bad\n    swagger.synchronized {\n      if (!somethingThreadSafeToShowYouveChangedItAlready) fixSwagger(swagger)\n    }\n    // We trust that the above code only changes a swagger instance once therefore we don't need to\n    // synchronize the json marshalling because it should not change beneath it\n    returnValue(request, toJsonString(swagger))\n  }\n\n  private[this] def fixSwagger(swagger: io.swagger.models.Swagger): Unit = {\n    // Omitted some of my other changes...\n\n    swagger.getPaths.values.foreach { value =&gt;\n\n      value.getOperations.foreach { oper =&gt;\n        // Omitted some of my other chabnges\n\n        // Any responses that are void need to be simple void\n        oper.getResponses.values.foreach { resp =&gt;\n          resp.getSchema() match {\n            case schema: RefProperty if schema.get$ref() == \"#/definitions/void\" =&gt; resp.setSchema(null)\n            case _ =&gt; ()\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563043144,"creation_date":1563043144,"answer_id":57021873,"question_id":37679534,"body_markdown":"Hide all controller API \r\n\r\n      @ApiIgnore\r\n\r\nHide selected attribute \r\n\r\n    @ApiModelProperty(required = false, hidden = true)\r\n\r\n\r\n\r\nExample : Visible \r\n\r\n    @ApiModelProperty(\r\n            access = &quot;public&quot;,\r\n            name = &quot;amount&quot;,\r\n            example = &quot;123.45&quot;,\r\n            value = &quot;the amount - in this example without currency.&quot;)\r\n    public String getAmount() {\r\n        return amount;\r\n    }\r\n\r\nExample : Hide\r\n\r\n    @ApiModelProperty(\r\n           required = false,\r\n           hidden = true\r\n        )\r\n    public String getAmount() {\r\n        return amount;\r\n    }\r\n\r\n     \r\n","title":"How do I can hide the schema model in Swagger?","body":"<p>Hide all controller API </p>\n\n<pre><code>  @ApiIgnore\n</code></pre>\n\n<p>Hide selected attribute </p>\n\n<pre><code>@ApiModelProperty(required = false, hidden = true)\n</code></pre>\n\n<p>Example : Visible </p>\n\n<pre><code>@ApiModelProperty(\n        access = \"public\",\n        name = \"amount\",\n        example = \"123.45\",\n        value = \"the amount - in this example without currency.\")\npublic String getAmount() {\n    return amount;\n}\n</code></pre>\n\n<p>Example : Hide</p>\n\n<pre><code>@ApiModelProperty(\n       required = false,\n       hidden = true\n    )\npublic String getAmount() {\n    return amount;\n}\n</code></pre>\n"}],"owner":{"account_id":5378700,"reputation":21,"user_id":6381042,"display_name":"Rodrigo Wippel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696133180,"creation_date":1465302828,"question_id":37679534,"body_markdown":"To a request unanswered, I want to hide this field (Model schema).\r\n\r\n[my swagger][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yKuOs.png\r\n\r\nMy request\r\n\r\n    @ApiOperation(value = &quot;Create node&quot;)\r\n    @ApiImplicitParams({\r\n            @ApiImplicitParam(paramType = &quot;body&quot;, required = true)\r\n    })\r\n    public Result insert()\r\n\r\nI do not want to show the **response** attribute in @ApiOperation. It&#39;s possible?\r\n\r\n\r\nThanks!\r\n","title":"How do I can hide the schema model in Swagger?","body":"<p>To a request unanswered, I want to hide this field (Model schema).</p>\n\n<p><a href=\"https://i.stack.imgur.com/yKuOs.png\" rel=\"nofollow\">my swagger</a></p>\n\n<p>My request</p>\n\n<pre><code>@ApiOperation(value = \"Create node\")\n@ApiImplicitParams({\n        @ApiImplicitParam(paramType = \"body\", required = true)\n})\npublic Result insert()\n</code></pre>\n\n<p>I do not want to show the <strong>response</strong> attribute in @ApiOperation. It's possible?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":192509,"reputation":2678,"user_id":433695,"accept_rate":55,"display_name":"ae6rt"},"score":0,"creation_date":1400331619,"post_id":23711495,"comment_id":36440171,"body_markdown":"Thank you for the suggestion.  I tried it, and unfortunately, that does not change the exception.   I even adopted your Autowired form for DataSource, thinking that Spring may not see my one-arg ListableBeanFactory form for the transaction manager method.  Using the Autowired form did not help, either.","body":"Thank you for the suggestion.  I tried it, and unfortunately, that does not change the exception.   I even adopted your Autowired form for DataSource, thinking that Spring may not see my one-arg ListableBeanFactory form for the transaction manager method.  Using the Autowired form did not help, either."},{"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"score":0,"creation_date":1400340651,"post_id":23711495,"comment_id":36442881,"body_markdown":"Sorry, yes. Can you try a few things I am going to add as a edit to my answer.","body":"Sorry, yes. Can you try a few things I am going to add as a edit to my answer."},{"owner":{"account_id":192509,"reputation":2678,"user_id":433695,"accept_rate":55,"display_name":"ae6rt"},"score":0,"creation_date":1400414481,"post_id":23711495,"comment_id":36459637,"body_markdown":"I made an edit to the original post with your suggestion.  Thank you very much.","body":"I made an edit to the original post with your suggestion.  Thank you very much."},{"owner":{"account_id":192509,"reputation":2678,"user_id":433695,"accept_rate":55,"display_name":"ae6rt"},"score":0,"creation_date":1400505941,"post_id":23711495,"comment_id":36492597,"body_markdown":"I created a test project on GitHub that reproduces my original problem.  Whatever I&#39;m doing wrong, I&#39;m doing it consistently because the simpler test project shows the same exception.  See https://github.com/ae6rt/spring-tx-java-config.  Thanks","body":"I created a test project on GitHub that reproduces my original problem.  Whatever I&#39;m doing wrong, I&#39;m doing it consistently because the simpler test project shows the same exception.  See <a href=\"https://github.com/ae6rt/spring-tx-java-config\" rel=\"nofollow noreferrer\">github.com/ae6rt/spring-tx-java-config</a>.  Thanks"}],"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400340834,"creation_date":1400330565,"answer_id":23711495,"question_id":23711363,"body_markdown":"Looks like the only change should be to name your transaction manager bean name to &quot;transactionManager&quot;:\r\n\r\n    public static class TestConfig {\r\n        @Autowired\r\n        private DataSource datasource;\r\n\r\n        @Bean\r\n        public PlatformTransactionManager transactionManager() {\r\n            return new DataSourceTransactionManager(datasource);\r\n        }\r\n    }\r\n\r\n\r\n*EDIT* :\r\n\r\nCan you try these additional things:\r\n\r\n.1. Remove `PropertyPlaceHolderConfigurer` from here.. `@ContextConfiguration(classes = {PropertyPlaceholderConfigurer.class, BaseMySQLTest.TestConfig.class})`, that is not how PropertyPlaceholderConfigurer is used, you have to do it this way:\r\n\r\n\t@Bean\r\n\tpublic static PropertySourcesPlaceholderConfigurer placeholderConfigurer() {\r\n\t\tPropertySourcesPlaceholderConfigurer placeholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n\t\tClassPathResource resource = new ClassPathResource(&quot;/META-INF/spring/database.properties&quot;);\r\n\t\tplaceholderConfigurer.setLocation(resource);\r\n\t\treturn placeholderConfigurer;\r\n\t}\r\n\r\n\r\nAlso, just for test, can you move your actual test to the base class also and see if one of these configuration works out for you. I tested in my own machine and it seems to work nicely with Spring 4.0.2+. ","title":"Problems with Spring Java Config and @EnableTransactionManagement","body":"<p>Looks like the only change should be to name your transaction manager bean name to \"transactionManager\":</p>\n\n<pre><code>public static class TestConfig {\n    @Autowired\n    private DataSource datasource;\n\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n        return new DataSourceTransactionManager(datasource);\n    }\n}\n</code></pre>\n\n<p><em>EDIT</em> :</p>\n\n<p>Can you try these additional things:</p>\n\n<p>.1. Remove <code>PropertyPlaceHolderConfigurer</code> from here.. <code>@ContextConfiguration(classes = {PropertyPlaceholderConfigurer.class, BaseMySQLTest.TestConfig.class})</code>, that is not how PropertyPlaceholderConfigurer is used, you have to do it this way:</p>\n\n<pre><code>@Bean\npublic static PropertySourcesPlaceholderConfigurer placeholderConfigurer() {\n    PropertySourcesPlaceholderConfigurer placeholderConfigurer = new PropertySourcesPlaceholderConfigurer();\n    ClassPathResource resource = new ClassPathResource(\"/META-INF/spring/database.properties\");\n    placeholderConfigurer.setLocation(resource);\n    return placeholderConfigurer;\n}\n</code></pre>\n\n<p>Also, just for test, can you move your actual test to the base class also and see if one of these configuration works out for you. I tested in my own machine and it seems to work nicely with Spring 4.0.2+. </p>\n"}],"owner":{"account_id":192509,"reputation":2678,"user_id":433695,"accept_rate":55,"display_name":"ae6rt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696133180,"creation_date":1400329855,"question_id":23711363,"body_markdown":"I am migrating away from XML config &lt;tx:annotation-driven/&gt; for Spring context configuration.  Instead when I try to use the functionally equivalent @EnableTransactionManagement on a Spring 4.0.3.RELEASE Java Configuration, my Spring context fails to instantiate with the following exception:\r\n\r\n&lt;pre&gt;\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n        at org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContext(CacheAwareContextLoaderDelegate.java:99)\r\n        at org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:101)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)\r\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:319)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:212)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:232)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:175)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:236)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:134)\r\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:113)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:103)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;baseMySQLTest.TestConfig&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.config.internalTransactionAdvisor&#39; defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.transaction.intercep...skipping...\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1558)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n        ... 45 more\r\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration.transactionAdvisor()] threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;transactionInterceptor&#39; defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;transactionManager&#39; is required\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:188)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:586)\r\n        ... 62 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;transactionInterceptor&#39; defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;transactionManager&#39; is required\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:324)\r\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634.transactionInterceptor(&lt;generated&gt;)\r\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration.transactionAdvisor(ProxyTransactionManagementConfiguration.java:45)\r\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634.CGLIB$transactionAdvisor$0(&lt;generated&gt;)\r\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634$$FastClassBySpringCGLIB$$cc829ae.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:312)\r\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634.transactionAdvisor(&lt;generated&gt;)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:166)\r\n        ... 63 more\r\nCaused by: java.lang.IllegalArgumentException: Property &#39;transactionManager&#39; is required\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.afterPropertiesSet(TransactionAspectSupport.java:195)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\r\n        ... 82 more&lt;/pre&gt;\r\n\r\nThis happens to obtain in a unit test, but when it works here, I can use it in production code.\r\n\r\nHere is my unit test base class where the Spring wiring occurs:\r\n\r\n&lt;pre&gt;\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = {PropertyPlaceholderConfigurer.class, BaseMySQLTest.TestConfig.class})\r\npublic class BaseMySQLTest extends AbstractTransactionalJUnit4SpringContextTests {\r\n\r\n    @Configuration\r\n    @Import(DaoConfig.class)\r\n    @PropertySource(&quot;classpath:/jdbc.properties&quot;)\r\n    @EnableTransactionManagement\r\n    public static class TestConfig {\r\n        @Bean\r\n        public PlatformTransactionManager providesTransactionManager(ListableBeanFactory beanFactory) {\r\n            return new DataSourceTransactionManager(beanFactory.getBean(DataSource.class));\r\n        }\r\n    }\r\n}\r\n&lt;/pre&gt;\r\n\r\nand here is a subclass that uses this base class and config:\r\n\r\n&lt;pre&gt;\r\npublic class UserDaoImplTest extends BaseMySQLTest {\r\n\r\n    @Autowired\r\n    private UserDao userDao;\r\n\r\n    @Test\r\n    public void testById() throws Exception {\r\n        jdbcTemplate.execute(&quot;insert into users (email) values (&#39;bob@example.com&#39;)&quot;);\r\n        ...\r\n    }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\nAs one can see, my Spring TestConfig has a transaction manager bean defined, which according to the Javadoc \r\n\r\nhttp://docs.spring.io/spring/docs/3.1.x/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html\r\n\r\nmeans I do not have to name the bean (though I have named it in an attempt to get this to work).  In fact, the Spring context is behaving as if configured with XML config &lt;tx:annotation-driven/&gt; in the face of no bean explicitly named &quot;transactionManager&quot;.\r\n\r\nWhat is my Java Config missing such that the Spring context cannot use this transaction manager bean to satisfy its requirements at instantiation time?\r\n\r\nThank you for any helpful observations.\r\n\r\nEDIT:\r\n\r\n(I&#39;m not sure where this edit should go, so I try here. ae6rt)\r\n\r\nHere is the new test class, which results in the same error as the original work:\r\n\r\n&lt;pre&gt;\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = {BaseMySQLTest.TestConfig.class})\r\npublic class BaseMySQLTest extends AbstractTransactionalJUnit4SpringContextTests {\r\n\r\n    protected int lastInsertId() {\r\n        return jdbcTemplate.queryForInt(&quot;select LAST_INSERT_ID()&quot;);\r\n    }\r\n\r\n    @Autowired\r\n    private UserDao userDao;\r\n\r\n    @Test\r\n    public void testById() throws Exception {\r\n        jdbcTemplate.execute(&quot;insert into mgdb.users (email) values (&#39;bob@example.com&#39;)&quot;);\r\n        int userId = lastInsertId();\r\n        Optional&lt;XoomUser&gt; xoomUserOptional = userDao.byId(userId);\r\n        assertThat(xoomUserOptional.isPresent(), equalTo(true));\r\n        XoomUser user = xoomUserOptional.get();\r\n        assertThat(user.getEmailAddress(), equalTo(&quot;bob@example.com&quot;));\r\n    }\r\n\r\n    @Configuration\r\n    @Import(DaoConfig.class)\r\n    @PropertySource(&quot;classpath:/jdbc.properties&quot;)\r\n    @EnableTransactionManagement\r\n    public static class TestConfig {\r\n        @Bean\r\n        public PlatformTransactionManager providesTransactionManager(ListableBeanFactory beanFactory) {\r\n            return new DataSourceTransactionManager(beanFactory.getBean(DataSource.class));\r\n        }\r\n    }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\nI didn&#39;t actualy need the property config here\r\n\r\n@ContextConfiguration(classes = {BaseMySQLTest.TestConfig.class})\r\n\r\nso I removed it.  Hope this meets the spirit of this round.","title":"Problems with Spring Java Config and @EnableTransactionManagement","body":"<p>I am migrating away from XML config  for Spring context configuration.  Instead when I try to use the functionally equivalent @EnableTransactionManagement on a Spring 4.0.3.RELEASE Java Configuration, my Spring context fails to instantiate with the following exception:</p>\n\n<pre>\njava.lang.IllegalStateException: Failed to load ApplicationContext\n        at org.springframework.test.context.CacheAwareContextLoaderDelegate.loadContext(CacheAwareContextLoaderDelegate.java:99)\n        at org.springframework.test.context.DefaultTestContext.getApplicationContext(DefaultTestContext.java:101)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:319)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:212)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:232)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:175)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:236)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:134)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:113)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:103)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseMySQLTest.TestConfig': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.config.internalTransactionAdvisor' defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.transaction.intercep...skipping...\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1558)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n        ... 45 more\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration.transactionAdvisor()] threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionInterceptor' defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'transactionManager' is required\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:188)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:586)\n        ... 62 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionInterceptor' defined in class path resource [org/springframework/transaction/annotation/ProxyTransactionManagementConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'transactionManager' is required\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:324)\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634.transactionInterceptor()\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration.transactionAdvisor(ProxyTransactionManagementConfiguration.java:45)\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634.CGLIB$transactionAdvisor$0()\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634$$FastClassBySpringCGLIB$$cc829ae.invoke()\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:312)\n        at org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83a12634.transactionAdvisor()\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:166)\n        ... 63 more\nCaused by: java.lang.IllegalArgumentException: Property 'transactionManager' is required\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.afterPropertiesSet(TransactionAspectSupport.java:195)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\n        ... 82 more</pre>\n\n<p>This happens to obtain in a unit test, but when it works here, I can use it in production code.</p>\n\n<p>Here is my unit test base class where the Spring wiring occurs:</p>\n\n<pre>\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {PropertyPlaceholderConfigurer.class, BaseMySQLTest.TestConfig.class})\npublic class BaseMySQLTest extends AbstractTransactionalJUnit4SpringContextTests {\n\n    @Configuration\n    @Import(DaoConfig.class)\n    @PropertySource(\"classpath:/jdbc.properties\")\n    @EnableTransactionManagement\n    public static class TestConfig {\n        @Bean\n        public PlatformTransactionManager providesTransactionManager(ListableBeanFactory beanFactory) {\n            return new DataSourceTransactionManager(beanFactory.getBean(DataSource.class));\n        }\n    }\n}\n</pre>\n\n<p>and here is a subclass that uses this base class and config:</p>\n\n<pre>\npublic class UserDaoImplTest extends BaseMySQLTest {\n\n    @Autowired\n    private UserDao userDao;\n\n    @Test\n    public void testById() throws Exception {\n        jdbcTemplate.execute(\"insert into users (email) values ('bob@example.com')\");\n        ...\n    }\n\n}\n</pre>\n\n<p>As one can see, my Spring TestConfig has a transaction manager bean defined, which according to the Javadoc </p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/3.1.x/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html\" rel=\"nofollow\">http://docs.spring.io/spring/docs/3.1.x/javadoc-api/org/springframework/transaction/annotation/EnableTransactionManagement.html</a></p>\n\n<p>means I do not have to name the bean (though I have named it in an attempt to get this to work).  In fact, the Spring context is behaving as if configured with XML config  in the face of no bean explicitly named \"transactionManager\".</p>\n\n<p>What is my Java Config missing such that the Spring context cannot use this transaction manager bean to satisfy its requirements at instantiation time?</p>\n\n<p>Thank you for any helpful observations.</p>\n\n<p>EDIT:</p>\n\n<p>(I'm not sure where this edit should go, so I try here. ae6rt)</p>\n\n<p>Here is the new test class, which results in the same error as the original work:</p>\n\n<pre>\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {BaseMySQLTest.TestConfig.class})\npublic class BaseMySQLTest extends AbstractTransactionalJUnit4SpringContextTests {\n\n    protected int lastInsertId() {\n        return jdbcTemplate.queryForInt(\"select LAST_INSERT_ID()\");\n    }\n\n    @Autowired\n    private UserDao userDao;\n\n    @Test\n    public void testById() throws Exception {\n        jdbcTemplate.execute(\"insert into mgdb.users (email) values ('bob@example.com')\");\n        int userId = lastInsertId();\n        Optional xoomUserOptional = userDao.byId(userId);\n        assertThat(xoomUserOptional.isPresent(), equalTo(true));\n        XoomUser user = xoomUserOptional.get();\n        assertThat(user.getEmailAddress(), equalTo(\"bob@example.com\"));\n    }\n\n    @Configuration\n    @Import(DaoConfig.class)\n    @PropertySource(\"classpath:/jdbc.properties\")\n    @EnableTransactionManagement\n    public static class TestConfig {\n        @Bean\n        public PlatformTransactionManager providesTransactionManager(ListableBeanFactory beanFactory) {\n            return new DataSourceTransactionManager(beanFactory.getBean(DataSource.class));\n        }\n    }\n\n}\n</pre>\n\n<p>I didn't actualy need the property config here</p>\n\n<p>@ContextConfiguration(classes = {BaseMySQLTest.TestConfig.class})</p>\n\n<p>so I removed it.  Hope this meets the spirit of this round.</p>\n"},{"tags":["java","string","char","return"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670600055,"post_id":74743161,"comment_id":131918005,"body_markdown":"1. I don&#39;t know how would you distinguish the words in the string? Use space char or `,` ?  2. what is similar words ?","body":"1. I don&#39;t know how would you distinguish the words in the string? Use space char or <code>,</code> ?  2. what is similar words ?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684381710,"post_id":74743161,"comment_id":134511023,"body_markdown":"To complete this task without a mutable list is not very idiomatic, how do you plan on storing the unique set of words?  I guess you can use a string with comma delimited values.","body":"To complete this task without a mutable list is not very idiomatic, how do you plan on storing the unique set of words?  I guess you can use a string with comma delimited values."}],"answers":[{"comments":[{"owner":{"account_id":26911101,"reputation":11,"user_id":20486646,"display_name":"Henry "},"score":0,"creation_date":1670590115,"post_id":74743366,"comment_id":131914769,"body_markdown":"im not allowed to use hashkeys :(","body":"im not allowed to use hashkeys :("}],"tags":[],"owner":{"account_id":19059998,"reputation":207,"user_id":13916326,"display_name":"Naveed Khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670592197,"creation_date":1670589954,"answer_id":74743366,"question_id":74743161,"body_markdown":"Try this:   \r\n\r\n    public static int countUniqueWords(String words) {\r\n        // Add all the words to a list\r\n        List&lt;String&gt; array = new ArrayList&lt;&gt;();\r\n        Scanner in = new Scanner(words);\r\n        while (in.hasNext()) {\r\n            String s = in.next();\r\n            array.add(s);\r\n        }\r\n\r\n        // Save per word the amount of duplicates\r\n        HashMap&lt;String, Integer&gt; listOfWords = new HashMap&lt;&gt;();\r\n        Iterator&lt;String&gt; itr = array.iterator();\r\n        while (itr.hasNext()) {\r\n            String next = itr.next();\r\n            String prev = listOfWords.getOrDefault(next, 0);\r\n            listOfWords.put(next, prev + 1);\r\n        }\r\n\r\n        // Grab the size of all known words\r\n        return listOfWords.size();\r\n    }\r\n\r\n    public static void main(String args[]) { \r\n        int count = countUniqueWords(&quot;A long long time ago, I can still remember&quot;);\r\n        System.out.println(&quot;The number of unique words: &quot; + count);\r\n    }","title":"How do I ignore same words in a string (Java)?","body":"<p>Try this:</p>\n<pre><code>public static int countUniqueWords(String words) {\n    // Add all the words to a list\n    List&lt;String&gt; array = new ArrayList&lt;&gt;();\n    Scanner in = new Scanner(words);\n    while (in.hasNext()) {\n        String s = in.next();\n        array.add(s);\n    }\n\n    // Save per word the amount of duplicates\n    HashMap&lt;String, Integer&gt; listOfWords = new HashMap&lt;&gt;();\n    Iterator&lt;String&gt; itr = array.iterator();\n    while (itr.hasNext()) {\n        String next = itr.next();\n        String prev = listOfWords.getOrDefault(next, 0);\n        listOfWords.put(next, prev + 1);\n    }\n\n    // Grab the size of all known words\n    return listOfWords.size();\n}\n\npublic static void main(String args[]) { \n    int count = countUniqueWords(&quot;A long long time ago, I can still remember&quot;);\n    System.out.println(&quot;The number of unique words: &quot; + count);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26911101,"reputation":11,"user_id":20486646,"display_name":"Henry "},"score":0,"creation_date":1670590611,"post_id":74743407,"comment_id":131914935,"body_markdown":"I&#39;ve only learnt the basics, so Streaming API is out of my coding capability at the moment. Is there a way i can improve my code withdout using Stream?","body":"I&#39;ve only learnt the basics, so Streaming API is out of my coding capability at the moment. Is there a way i can improve my code withdout using Stream?"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1670590875,"post_id":74743407,"comment_id":131915010,"body_markdown":"You can write your own for-loop of course. But then, you still need a temporary variable (array/list/map/whatever) to keep track of the duplicates. So you will end with something @Naveed Khan wrote!","body":"You can write your own for-loop of course. But then, you still need a temporary variable (array/list/map/whatever) to keep track of the duplicates. So you will end with something @Naveed Khan wrote!"}],"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670590676,"creation_date":1670590208,"answer_id":74743407,"question_id":74743161,"body_markdown":"Don&#39;t force yourself to limited options, and learn the Streaming API. Your question is as simple as:\r\n\r\n    public static long countUniqueWords(String str) {\r\n        var str2 = str.replaceAll(&quot;[^a-zA-Z0-9 ]&quot;, &quot;&quot;).replaceAll(&quot; +&quot;, &quot; &quot;);\r\n        return Arrays.stream(str2.split(&quot; &quot;))\r\n                .distinct()\r\n                .count();\r\n    }\r\n\r\n1. *[Optional step]* Get get rid of all non alphanumeric chars\r\n2. Split the string per empty slot\r\n3. Remove duplicates\r\n4. Add them together\r\n    \r\n\r\n","title":"How do I ignore same words in a string (Java)?","body":"<p>Don't force yourself to limited options, and learn the Streaming API. Your question is as simple as:</p>\n<pre><code>public static long countUniqueWords(String str) {\n    var str2 = str.replaceAll(&quot;[^a-zA-Z0-9 ]&quot;, &quot;&quot;).replaceAll(&quot; +&quot;, &quot; &quot;);\n    return Arrays.stream(str2.split(&quot; &quot;))\n            .distinct()\n            .count();\n}\n</code></pre>\n<ol>\n<li><em>[Optional step]</em> Get get rid of all non alphanumeric chars</li>\n<li>Split the string per empty slot</li>\n<li>Remove duplicates</li>\n<li>Add them together</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17097713,"reputation":23,"user_id":12372375,"display_name":"Edwin James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670591140,"creation_date":1670591140,"answer_id":74743560,"question_id":74743161,"body_markdown":"To ignore same words in a string, you can use a combination of the split and distinct methods from the Java Stream API. \r\n\r\n        // Define the input string\r\n    String input = &quot;This is a test string with some repeating words&quot;;\r\n    \r\n    // Split the string into an array of words\r\n    String[] words = input.split(&quot;\\\\s+&quot;);\r\n    \r\n    // Use the distinct method to remove duplicate words from the array\r\n    String[] distinctWords = Arrays.stream(words).distinct().toArray(String[]::new);\r\n    \r\n    // Print the distinct words\r\n    System.out.println(Arrays.toString(distinctWords));\r\n\r\n","title":"How do I ignore same words in a string (Java)?","body":"<p>To ignore same words in a string, you can use a combination of the split and distinct methods from the Java Stream API.</p>\n<pre><code>    // Define the input string\nString input = &quot;This is a test string with some repeating words&quot;;\n\n// Split the string into an array of words\nString[] words = input.split(&quot;\\\\s+&quot;);\n\n// Use the distinct method to remove duplicate words from the array\nString[] distinctWords = Arrays.stream(words).distinct().toArray(String[]::new);\n\n// Print the distinct words\nSystem.out.println(Arrays.toString(distinctWords));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696131781,"creation_date":1684382764,"answer_id":76277662,"question_id":74743161,"body_markdown":"I got this to work, not sure about its scalability, though.\r\n\r\n```java\r\nint countUniqueWords(String str) {\r\n    String set = &quot;&quot;;\r\n    boolean found;\r\n    for (String wordA : str.split(&quot;\\\\s+&quot;)) {\r\n        if (set.isEmpty())\r\n            set = wordA;\r\n        else {\r\n            found = false;\r\n            for (String wordB : set.split(&quot;\\\\s+&quot;)) {\r\n                if (wordB.equalsIgnoreCase(wordA)) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) set += &quot; &quot; + wordA;\r\n        }\r\n    }\r\n    return set.split(&quot; &quot;).length;\r\n}\r\n```\r\n\r\nIdeally, you want to use a `Pattern` and `Matcher`, so you can use word-boundary and word capture, `\\b([\\w&amp;&amp;[^\\d]]+)\\b`.\\\r\nThis would remove any words that may contain numbers, and negate any isolated punctuation marks from being counted.\r\n\r\n","title":"How do I ignore same words in a string (Java)?","body":"<p>I got this to work, not sure about its scalability, though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int countUniqueWords(String str) {\n    String set = &quot;&quot;;\n    boolean found;\n    for (String wordA : str.split(&quot;\\\\s+&quot;)) {\n        if (set.isEmpty())\n            set = wordA;\n        else {\n            found = false;\n            for (String wordB : set.split(&quot;\\\\s+&quot;)) {\n                if (wordB.equalsIgnoreCase(wordA)) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) set += &quot; &quot; + wordA;\n        }\n    }\n    return set.split(&quot; &quot;).length;\n}\n</code></pre>\n<p>Ideally, you want to use a <code>Pattern</code> and <code>Matcher</code>, so you can use word-boundary and word capture, <code>\\b([\\w&amp;&amp;[^\\d]]+)\\b</code>.<br />\nThis would remove any words that may contain numbers, and negate any isolated punctuation marks from being counted.</p>\n"}],"owner":{"account_id":26911101,"reputation":11,"user_id":20486646,"display_name":"Henry "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1696131781,"creation_date":1670588880,"question_id":74743161,"body_markdown":"I want to find how many words there are in a string, but ignore the similar words in it.\r\n\r\nFor example, the main method should return 8 instead of 9.\r\n\r\nI want it to be a method which takes one parameter s of type String and returns an int value. And I’m only allowed to use the basics, so HashMaps, ArrayLists, loops, and *if* statements are ***not*** allowed. Only charAt, length, and substring are allowed.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\ncountUniqueWords(&quot;A long long time ago, I can still remember&quot;);\r\n\r\npublic static int countUniqueWords(String str) {\r\n    char[] sentence = str.toCharArray();\r\n    boolean inWord = false;\r\n    int wordCt = 0;\r\n    for (char c : sentence) {\r\n        if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;z&#39; || c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) {\r\n            if (!inWord) {\r\n                wordCt++;\r\n                inWord = true;\r\n            }\r\n        } else {\r\n            inWord = false;\r\n        }\r\n    }\r\n    return wordCt;\r\n}\r\n```\r\n","title":"How do I ignore same words in a string (Java)?","body":"<p>I want to find how many words there are in a string, but ignore the similar words in it.</p>\n<p>For example, the main method should return 8 instead of 9.</p>\n<p>I want it to be a method which takes one parameter s of type String and returns an int value. And I’m only allowed to use the basics, so HashMaps, ArrayLists, loops, and <em>if</em> statements are <em><strong>not</strong></em> allowed. Only charAt, length, and substring are allowed.</p>\n<pre><code>public static void main(String[] args) {\n\ncountUniqueWords(&quot;A long long time ago, I can still remember&quot;);\n\npublic static int countUniqueWords(String str) {\n    char[] sentence = str.toCharArray();\n    boolean inWord = false;\n    int wordCt = 0;\n    for (char c : sentence) {\n        if (c &gt;= 'a' &amp;&amp; c &lt;= 'z' || c &gt;= 'A' &amp;&amp; c &lt;= 'Z') {\n            if (!inWord) {\n                wordCt++;\n                inWord = true;\n            }\n        } else {\n            inWord = false;\n        }\n    }\n    return wordCt;\n}\n</code></pre>\n"},{"tags":["java","weblogic"],"comments":[{"owner":{"account_id":417619,"reputation":2638,"user_id":793716,"display_name":"Rob"},"score":1,"creation_date":1384344175,"post_id":19953242,"comment_id":29696756,"body_markdown":"Post your config file but it looks like you are missing an element. Did you modify your config file manually?","body":"Post your config file but it looks like you are missing an element. Did you modify your config file manually?"},{"owner":{"account_id":533426,"reputation":5411,"user_id":903907,"accept_rate":52,"display_name":"muthu"},"score":0,"creation_date":1384344635,"post_id":19953242,"comment_id":29697027,"body_markdown":"yes i have added this `&lt;sec:user-lockout-manager&gt;\n        &lt;sec:lockout-enabled&gt;true&lt;/sec:lockout-enabled&gt;\n        &lt;sec:lockout-threshold&gt;5&lt;/sec:lockout-threshold&gt;\n        &lt;sec:lockout-duration&gt;30&lt;/sec:lockout-duration&gt;\n        &lt;sec:lockout-reset-duration&gt;5&lt;/sec:lockout-reset-duration&gt;\n        &lt;sec:lockout-cache-size&gt;5&lt;/sec:lockout-cache-size&gt;\n        &lt;sec:lockout-gc-threshold&gt;400&lt;/sec:lockout-gc-threshold&gt;\n      &lt;/sec:user-lockout-manager&gt;`","body":"yes i have added this <code>&lt;sec:user-lockout-manager&gt;         &lt;sec:lockout-enabled&gt;true&lt;&#47;sec:lockout-enabled&gt;         &lt;sec:lockout-threshold&gt;5&lt;&#47;sec:lockout-threshold&gt;         &lt;sec:lockout-duration&gt;30&lt;&#47;sec:lockout-duration&gt;         &lt;sec:lockout-reset-duration&gt;5&lt;&#47;sec:lockout-reset-duration&gt;         &lt;sec:lockout-cache-size&gt;5&lt;&#47;sec:lockout-cache-size&gt;         &lt;sec:lockout-gc-threshold&gt;400&lt;&#47;sec:lockout-gc-threshold&gt;       &lt;&#47;sec:user-lockout-manager&gt;</code>"},{"owner":{"account_id":417619,"reputation":2638,"user_id":793716,"display_name":"Rob"},"score":0,"creation_date":1384345141,"post_id":19953242,"comment_id":29697300,"body_markdown":"looking at http://docs.oracle.com/cd/E13222_01/wls/docs91/schemaref/security/http.www.bea.com.ns.weblogic.90.security/types/realmtype.user-lockout-manager.html you may be missing the &quot;name&quot; element.","body":"looking at <a href=\"http://docs.oracle.com/cd/E13222_01/wls/docs91/schemaref/security/http.www.bea.com.ns.weblogic.90.security/types/realmtype.user-lockout-manager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E13222_01/wls/docs91/schemaref/security/&hellip;</a> you may be missing the &quot;name&quot; element."},{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":0,"creation_date":1384362163,"post_id":19953242,"comment_id":29708666,"body_markdown":"+1 to Rob - post your Config file please.","body":"+1 to Rob - post your Config file please."},{"owner":{"account_id":2800732,"reputation":81,"user_id":2409025,"accept_rate":50,"display_name":"Nanda"},"score":0,"creation_date":1586407785,"post_id":19953242,"comment_id":108118067,"body_markdown":"hi I am also facing same issue while deploying one ear file ,can you please which config file need to correct?","body":"hi I am also facing same issue while deploying one ear file ,can you please which config file need to correct?"}],"answers":[{"comments":[{"owner":{"account_id":533426,"reputation":5411,"user_id":903907,"accept_rate":52,"display_name":"muthu"},"score":0,"creation_date":1384346366,"post_id":19953689,"comment_id":29698040,"body_markdown":"if i add this the server not started `&lt;java-compiler&gt;javac&lt;/java-compiler&gt;\n&lt;client-cert-proxy-enabled&gt;true&lt;/client-cert-proxy-enabled&gt;`","body":"if i add this the server not started <code>&lt;java-compiler&gt;javac&lt;&#47;java-compiler&gt; &lt;client-cert-proxy-enabled&gt;true&lt;&#47;client-cert-proxy-enabled&gt;</code>"},{"owner":{"account_id":533426,"reputation":5411,"user_id":903907,"accept_rate":52,"display_name":"muthu"},"score":0,"creation_date":1384404682,"post_id":19953689,"comment_id":29726622,"body_markdown":"I have added the name element. but still same issu","body":"I have added the name element. but still same issu"}],"tags":[],"owner":{"account_id":417619,"reputation":2638,"user_id":793716,"display_name":"Rob"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384345290,"creation_date":1384345290,"answer_id":19953689,"question_id":19953242,"body_markdown":"Try changing it to:\r\n\r\n    &lt;sec:user-lockout-manager&gt; \r\n    \t&lt;sec:lockout-enabled&gt;true&lt;/sec:lockout-enabled&gt; \r\n    \t&lt;sec:lockout-threshold&gt;5&lt;/sec:lockout-threshold&gt; \r\n    \t&lt;sec:lockout-duration&gt;30&lt;/sec:lockout-duration&gt; \r\n    \t&lt;sec:lockout-reset-duration&gt;5&lt;/sec:lockout-reset-duration&gt; \r\n    \t&lt;sec:lockout-cache-size&gt;5&lt;/sec:lockout-cache-size&gt; \r\n    \t&lt;sec:lockout-gc-threshold&gt;400&lt;/sec:lockout-gc-threshold&gt;\r\n    \t&lt;sec:name&gt;some_name&lt;/sec:name&gt;\r\n    &lt;/sec:user-lockout-manager&gt;\r\n\r\naccording to the link \r\nhttp://docs.oracle.com/cd/E13222_01/wls/docs91/schemaref/security/http.www.bea.com.ns.weblogic.90.security/types/realmtype.user-lockout-manager.html\r\n\r\nthere is an name component thought it is supposed to be optional.\r\n","title":"Weblogic Error The error is weblogic.descriptor.DescriptorException: VALIDATION PROBLEMS WERE FOUND","body":"<p>Try changing it to:</p>\n\n<pre><code>&lt;sec:user-lockout-manager&gt; \n    &lt;sec:lockout-enabled&gt;true&lt;/sec:lockout-enabled&gt; \n    &lt;sec:lockout-threshold&gt;5&lt;/sec:lockout-threshold&gt; \n    &lt;sec:lockout-duration&gt;30&lt;/sec:lockout-duration&gt; \n    &lt;sec:lockout-reset-duration&gt;5&lt;/sec:lockout-reset-duration&gt; \n    &lt;sec:lockout-cache-size&gt;5&lt;/sec:lockout-cache-size&gt; \n    &lt;sec:lockout-gc-threshold&gt;400&lt;/sec:lockout-gc-threshold&gt;\n    &lt;sec:name&gt;some_name&lt;/sec:name&gt;\n&lt;/sec:user-lockout-manager&gt;\n</code></pre>\n\n<p>according to the link \n<a href=\"http://docs.oracle.com/cd/E13222_01/wls/docs91/schemaref/security/http.www.bea.com.ns.weblogic.90.security/types/realmtype.user-lockout-manager.html\" rel=\"nofollow\">http://docs.oracle.com/cd/E13222_01/wls/docs91/schemaref/security/http.www.bea.com.ns.weblogic.90.security/types/realmtype.user-lockout-manager.html</a></p>\n\n<p>there is an name component thought it is supposed to be optional.</p>\n"}],"owner":{"account_id":533426,"reputation":5411,"user_id":903907,"accept_rate":52,"display_name":"muthu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696129271,"creation_date":1384343993,"question_id":19953242,"body_markdown":"I am using web logic server 10.3.6 and trying to deploy and run the existing project. \r\n\r\ni got error like\r\n\r\n    problem: cvc-complex-type.2.4c: Expected element &#39;module@http://java.sun.com/xml/ns/javaee&#39; before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;\r\n    \tat weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:234)\r\n    \tat weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:221)\r\n    \tat weblogic.descriptor.internal.MarshallerFactory$1.createDescriptor(MarshallerFactory.java:146)\r\n    \tat weblogic.descriptor.BasicDescriptorManager.createDescriptor(BasicDescriptorManager.java:306)\r\n    \tat weblogic.application.descriptor.AbstractDescriptorLoader2.getDescriptorBeanFromReader(AbstractDescriptorLoader2.java:788)\r\n    \tat weblogic.application.descriptor.AbstractDescriptorLoader2.createDescriptorBean(AbstractDescriptorLoader2.java:409)\r\n    \tat weblogic.application.descriptor.AbstractDescriptorLoader2.loadDescriptorBeanWithoutPlan(AbstractDescriptorLoader2.java:759)\r\n    \tat weblogic.application.descriptor.AbstractDescriptorLoader2.loadDescriptorBean(AbstractDescriptorLoader2.java:768)\r\n    \tat weblogic.application.ApplicationDescriptor.getApplicationDescriptor(ApplicationDescriptor.java:311)\r\n    \tat weblogic.application.internal.EarDeploymentFactory.findOrCreateComponentMBeans(EarDeploymentFactory.java:174)\r\n    \tat weblogic.application.internal.MBeanFactoryImpl.findOrCreateComponentMBeans(MBeanFactoryImpl.java:48)\r\n    \tat weblogic.application.internal.MBeanFactoryImpl.createComponentMBeans(MBeanFactoryImpl.java:110)\r\n    \tat weblogic.application.internal.MBeanFactoryImpl.initializeMBeans(MBeanFactoryImpl.java:76)\r\n    \tat weblogic.management.deploy.internal.MBeanConverter.createApplicationMBean(MBeanConverter.java:88)\r\n    \tat weblogic.management.deploy.internal.MBeanConverter.createApplicationForAppDeployment(MBeanConverter.java:66)\r\n    \tat weblogic.management.deploy.internal.MBeanConverter.setupNew81MBean(MBeanConverter.java:314)\r\n    \tat weblogic.deploy.internal.targetserver.AppDeployment.prepare(AppDeployment.java:110)\r\n    \tat weblogic.management.deploy.internal.DeploymentAdapter$1.doPrepare(DeploymentAdapter.java:39)\r\n    \tat weblogic.management.deploy.internal.DeploymentAdapter.prepare(DeploymentAdapter.java:187)\r\n    \tat weblogic.management.deploy.internal.AppTransition$1.transitionApp(AppTransition.java:21)\r\n    \tat weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:233)\r\n    \tat weblogic.management.deploy.internal.ConfiguredDeployments.prepare(ConfiguredDeployments.java:165)\r\n    \tat weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:122)\r\n    \tat weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:173)\r\n    \tat weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:89)\r\n    \tat weblogic.t3.srvr.SubsystemRequest.run(SubsystemRequest.java:64)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n    \r\n    &lt;13 Nov, 2013 5:22:53 PM IST&gt; &lt;Error&gt; &lt;Deployer&gt; &lt;BEA-149605&gt; &lt;Failed to create App/Comp mbeans for AppDeploymentMBean _auto_generated_ear_. Error - weblogic.management.DeploymentException: VALIDATION PROBLEMS WERE FOUND\r\n      problem: cvc-complex-type.2.4c: Expected element &#39;module@http://java.sun.com/xml/ns/javaee&#39; before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;.\r\n    weblogic.management.DeploymentException: VALIDATION PROBLEMS WERE FOUND\r\n      problem: cvc-complex-type.2.4c: Expected element &#39;module@http://java.sun.com/xml/ns/javaee&#39; before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;\r\n    \tat weblogic.application.internal.EarDeploymentFactory.findOrCreateComponentMBeans(EarDeploymentFactory.java:189)\r\n    \tat weblogic.application.internal.MBeanFactoryImpl.findOrCreateComponentMBeans(MBeanFactoryImpl.java:48)\r\n    \tat weblogic.application.internal.MBeanFactoryImpl.createComponentMBeans(MBeanFactoryImpl.java:110)\r\n    \tat weblogic.application.internal.MBeanFactoryImpl.initializeMBeans(MBeanFactoryImpl.java:76)\r\n    \tat weblogic.management.deploy.internal.MBeanConverter.createApplicationMBean(MBeanConverter.java:88)\r\n    \tTruncated. see log file for complete stacktrace\r\n    weblogic.descriptor.DescriptorException: VALIDATION PROBLEMS WERE FOUND\r\n      problem: cvc-complex-type.2.4c: Expected element &#39;module@http://java.sun.com/xml/ns/javaee&#39; before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;\r\n    \tat weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:234)\r\n    \tat weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:221)\r\n    \tat weblogic.descriptor.internal.MarshallerFactory$1.createDescriptor(MarshallerFactory.java:146)\r\n    \tat weblogic.descriptor.BasicDescriptorManager.createDescriptor(BasicDescriptorManager.java:306)\r\n    \tat weblogic.application.descriptor.AbstractDescriptorLoader2.getDescriptorBeanFromReader(AbstractDescriptorLoader2.java:788)\r\n    \tTruncated. see log file for complete stacktrace","title":"Weblogic Error The error is weblogic.descriptor.DescriptorException: VALIDATION PROBLEMS WERE FOUND","body":"<p>I am using web logic server 10.3.6 and trying to deploy and run the existing project. </p>\n\n<p>i got error like</p>\n\n<pre><code>problem: cvc-complex-type.2.4c: Expected element 'module@http://java.sun.com/xml/ns/javaee' before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;\n    at weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:234)\n    at weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:221)\n    at weblogic.descriptor.internal.MarshallerFactory$1.createDescriptor(MarshallerFactory.java:146)\n    at weblogic.descriptor.BasicDescriptorManager.createDescriptor(BasicDescriptorManager.java:306)\n    at weblogic.application.descriptor.AbstractDescriptorLoader2.getDescriptorBeanFromReader(AbstractDescriptorLoader2.java:788)\n    at weblogic.application.descriptor.AbstractDescriptorLoader2.createDescriptorBean(AbstractDescriptorLoader2.java:409)\n    at weblogic.application.descriptor.AbstractDescriptorLoader2.loadDescriptorBeanWithoutPlan(AbstractDescriptorLoader2.java:759)\n    at weblogic.application.descriptor.AbstractDescriptorLoader2.loadDescriptorBean(AbstractDescriptorLoader2.java:768)\n    at weblogic.application.ApplicationDescriptor.getApplicationDescriptor(ApplicationDescriptor.java:311)\n    at weblogic.application.internal.EarDeploymentFactory.findOrCreateComponentMBeans(EarDeploymentFactory.java:174)\n    at weblogic.application.internal.MBeanFactoryImpl.findOrCreateComponentMBeans(MBeanFactoryImpl.java:48)\n    at weblogic.application.internal.MBeanFactoryImpl.createComponentMBeans(MBeanFactoryImpl.java:110)\n    at weblogic.application.internal.MBeanFactoryImpl.initializeMBeans(MBeanFactoryImpl.java:76)\n    at weblogic.management.deploy.internal.MBeanConverter.createApplicationMBean(MBeanConverter.java:88)\n    at weblogic.management.deploy.internal.MBeanConverter.createApplicationForAppDeployment(MBeanConverter.java:66)\n    at weblogic.management.deploy.internal.MBeanConverter.setupNew81MBean(MBeanConverter.java:314)\n    at weblogic.deploy.internal.targetserver.AppDeployment.prepare(AppDeployment.java:110)\n    at weblogic.management.deploy.internal.DeploymentAdapter$1.doPrepare(DeploymentAdapter.java:39)\n    at weblogic.management.deploy.internal.DeploymentAdapter.prepare(DeploymentAdapter.java:187)\n    at weblogic.management.deploy.internal.AppTransition$1.transitionApp(AppTransition.java:21)\n    at weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:233)\n    at weblogic.management.deploy.internal.ConfiguredDeployments.prepare(ConfiguredDeployments.java:165)\n    at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:122)\n    at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:173)\n    at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:89)\n    at weblogic.t3.srvr.SubsystemRequest.run(SubsystemRequest.java:64)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n\n&lt;13 Nov, 2013 5:22:53 PM IST&gt; &lt;Error&gt; &lt;Deployer&gt; &lt;BEA-149605&gt; &lt;Failed to create App/Comp mbeans for AppDeploymentMBean _auto_generated_ear_. Error - weblogic.management.DeploymentException: VALIDATION PROBLEMS WERE FOUND\n  problem: cvc-complex-type.2.4c: Expected element 'module@http://java.sun.com/xml/ns/javaee' before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;.\nweblogic.management.DeploymentException: VALIDATION PROBLEMS WERE FOUND\n  problem: cvc-complex-type.2.4c: Expected element 'module@http://java.sun.com/xml/ns/javaee' before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;\n    at weblogic.application.internal.EarDeploymentFactory.findOrCreateComponentMBeans(EarDeploymentFactory.java:189)\n    at weblogic.application.internal.MBeanFactoryImpl.findOrCreateComponentMBeans(MBeanFactoryImpl.java:48)\n    at weblogic.application.internal.MBeanFactoryImpl.createComponentMBeans(MBeanFactoryImpl.java:110)\n    at weblogic.application.internal.MBeanFactoryImpl.initializeMBeans(MBeanFactoryImpl.java:76)\n    at weblogic.management.deploy.internal.MBeanConverter.createApplicationMBean(MBeanConverter.java:88)\n    Truncated. see log file for complete stacktrace\nweblogic.descriptor.DescriptorException: VALIDATION PROBLEMS WERE FOUND\n  problem: cvc-complex-type.2.4c: Expected element 'module@http://java.sun.com/xml/ns/javaee' before the end of the content in element application@http://java.sun.com/xml/ns/javaee:&lt;null&gt;\n    at weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:234)\n    at weblogic.descriptor.internal.MarshallerFactory$1.evaluateResults(MarshallerFactory.java:221)\n    at weblogic.descriptor.internal.MarshallerFactory$1.createDescriptor(MarshallerFactory.java:146)\n    at weblogic.descriptor.BasicDescriptorManager.createDescriptor(BasicDescriptorManager.java:306)\n    at weblogic.application.descriptor.AbstractDescriptorLoader2.getDescriptorBeanFromReader(AbstractDescriptorLoader2.java:788)\n    Truncated. see log file for complete stacktrace\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1696103405,"post_id":77208230,"comment_id":136111774,"body_markdown":"Off-topic: please use proper naming conventions when posting code publicly. This is very difficult to read for Java programmers.","body":"Off-topic: please use proper naming conventions when posting code publicly. This is very difficult to read for Java programmers."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1696116067,"post_id":77208230,"comment_id":136112772,"body_markdown":"The `Node` class has many built-in methods such as `localToScene`, `parentToLocal`, and so on to help with translating coordinates.","body":"The <code>Node</code> class has many built-in methods such as <code>localToScene</code>, <code>parentToLocal</code>, and so on to help with translating coordinates."},{"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"score":0,"creation_date":1696120469,"post_id":77208230,"comment_id":136112989,"body_markdown":"Thanks @Slaw, using the `parentToLocal` function appears to have worked here. You should post that as the solution to this post.","body":"Thanks @Slaw, using the <code>parentToLocal</code> function appears to have worked here. You should post that as the solution to this post."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696128308,"creation_date":1696128308,"answer_id":77209065,"question_id":77208230,"body_markdown":"The `Node` class has many methods, such as `parentToLocal`, to convert coordinates to different spaces. Since your &quot;listener pane&quot; is a direct parent of the &quot;holder pane&quot;, using `parentToLocal` should work for you. In general though, using `localToScene` followed by `sceneToLocal` should work for any two nodes in the same scene.\r\n\r\nHere&#39;s a _proof-of-concept_, based on your code, using `parentToLocal`.\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.Background;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.Region;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        var holderPane = new Pane();\r\n        holderPane.setBackground(Background.fill(Color.BLUE));\r\n        holderPane.setMinSize(Region.USE_PREF_SIZE, Region.USE_PREF_SIZE);\r\n        holderPane.setPrefSize(300, 175);\r\n\r\n        var listenerPane = createListenerPane(holderPane);\r\n        primaryStage.setScene(new Scene(listenerPane, 600, 400));\r\n        primaryStage.show();\r\n    }\r\n\r\n    private Pane createListenerPane(Pane holderPane) {\r\n        var listenerPane = new Pane(holderPane);\r\n\r\n        var handler = new ListenerPaneMouseHandler(holderPane);\r\n        listenerPane.setOnMousePressed(handler);\r\n        listenerPane.setOnMouseDragged(handler);\r\n        listenerPane.setOnMouseClicked(handler);\r\n\r\n        listenerPane.setOnScroll(e -&gt; {\r\n            if (e.getDeltaY() != 0) {\r\n                double factor = 1.5;\r\n\r\n                double scale = holderPane.getScaleX();\r\n                if (e.getDeltaY() &lt; 0) {\r\n                    scale /= factor;\r\n                } else {\r\n                    scale *= factor;\r\n                }\r\n                scale = Math.max(0.5, Math.min(4, scale)); // clamp scale to [0.5, 4]\r\n                holderPane.setScaleX(scale);\r\n                holderPane.setScaleY(scale);\r\n            }\r\n        });\r\n\r\n        return listenerPane;\r\n    }\r\n\r\n    // Aggregate onPressed, onDragged, and onClicked handler\r\n    private static class ListenerPaneMouseHandler implements EventHandler&lt;MouseEvent&gt; {\r\n\r\n        private final Pane holderPane;\r\n\r\n        private double dragOriginX;\r\n        private double dragOriginY;\r\n        private boolean wasDragged;\r\n\r\n        ListenerPaneMouseHandler(Pane holderPane) {\r\n            this.holderPane = holderPane;\r\n        }\r\n\r\n        @Override\r\n        public void handle(MouseEvent event) {\r\n            event.consume();\r\n            if (event.getEventType() == MouseEvent.MOUSE_PRESSED) {\r\n                handlePressed(event);\r\n            } else if (event.getEventType() == MouseEvent.MOUSE_DRAGGED) {\r\n                handleDragged(event);\r\n            } else if (event.getEventType() == MouseEvent.MOUSE_CLICKED) {\r\n                handleClicked(event);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;unsupported type: &quot; + event.getEventType());\r\n            }\r\n        }\r\n\r\n        private void handlePressed(MouseEvent event) {\r\n            wasDragged = false;\r\n            /*\r\n             * Dragging &#39;holderPane&#39; around does not require converting the\r\n             * coordinates. Moving a non-transformed pane by 5 pixels and moving\r\n             * a transformed pane by 5 pixels is the same thing.\r\n             */\r\n            dragOriginX = event.getX();\r\n            dragOriginY = event.getY();\r\n        }\r\n\r\n        private void handleDragged(MouseEvent event) {\r\n            wasDragged = true;\r\n\r\n            double deltaX = event.getX() - dragOriginX;\r\n            double deltaY = event.getY() - dragOriginY;\r\n            dragOriginX += deltaX;\r\n            dragOriginY += deltaY;\r\n\r\n            holderPane.setTranslateX(holderPane.getTranslateX() + deltaX);\r\n            holderPane.setTranslateY(holderPane.getTranslateY() + deltaY);\r\n        }\r\n\r\n        private void handleClicked(MouseEvent event) {\r\n            if (!wasDragged &amp;&amp; event.getClickCount() == 1) {\r\n                switch (event.getButton()) {\r\n                    case PRIMARY -&gt; {\r\n                        /*\r\n                         * Convert coordinates to &#39;holderPane&#39; space (takes into account all\r\n                         * transformations). This only works because &#39;holderPane&#39; is a direct\r\n                         * child of the event source.\r\n                         */\r\n                        var location = holderPane.parentToLocal(event.getX(), event.getY());\r\n\r\n                        var circle = new Circle(10);\r\n                        circle.setCenterX(location.getX());\r\n                        circle.setCenterY(location.getY());\r\n                        holderPane.getChildren().add(circle);\r\n                    }\r\n                    case SECONDARY -&gt; {\r\n                        if (event.isAltDown()) {\r\n                            holderPane.setTranslateX(0);\r\n                            holderPane.setTranslateY(0);\r\n                            holderPane.setScaleX(1);\r\n                            holderPane.setScaleY(1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** Code compiled and tested with Java 20.0.1 and JavaFX 20.0.1.&lt;/sup&gt;\r\n","title":"Get Mouse Clicked Position in Scaled Child relative to it&#39;s Parent? (JavaFX)","body":"<p>The <code>Node</code> class has many methods, such as <code>parentToLocal</code>, to convert coordinates to different spaces. Since your &quot;listener pane&quot; is a direct parent of the &quot;holder pane&quot;, using <code>parentToLocal</code> should work for you. In general though, using <code>localToScene</code> followed by <code>sceneToLocal</code> should work for any two nodes in the same scene.</p>\n<p>Here's a <em>proof-of-concept</em>, based on your code, using <code>parentToLocal</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.Region;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        var holderPane = new Pane();\n        holderPane.setBackground(Background.fill(Color.BLUE));\n        holderPane.setMinSize(Region.USE_PREF_SIZE, Region.USE_PREF_SIZE);\n        holderPane.setPrefSize(300, 175);\n\n        var listenerPane = createListenerPane(holderPane);\n        primaryStage.setScene(new Scene(listenerPane, 600, 400));\n        primaryStage.show();\n    }\n\n    private Pane createListenerPane(Pane holderPane) {\n        var listenerPane = new Pane(holderPane);\n\n        var handler = new ListenerPaneMouseHandler(holderPane);\n        listenerPane.setOnMousePressed(handler);\n        listenerPane.setOnMouseDragged(handler);\n        listenerPane.setOnMouseClicked(handler);\n\n        listenerPane.setOnScroll(e -&gt; {\n            if (e.getDeltaY() != 0) {\n                double factor = 1.5;\n\n                double scale = holderPane.getScaleX();\n                if (e.getDeltaY() &lt; 0) {\n                    scale /= factor;\n                } else {\n                    scale *= factor;\n                }\n                scale = Math.max(0.5, Math.min(4, scale)); // clamp scale to [0.5, 4]\n                holderPane.setScaleX(scale);\n                holderPane.setScaleY(scale);\n            }\n        });\n\n        return listenerPane;\n    }\n\n    // Aggregate onPressed, onDragged, and onClicked handler\n    private static class ListenerPaneMouseHandler implements EventHandler&lt;MouseEvent&gt; {\n\n        private final Pane holderPane;\n\n        private double dragOriginX;\n        private double dragOriginY;\n        private boolean wasDragged;\n\n        ListenerPaneMouseHandler(Pane holderPane) {\n            this.holderPane = holderPane;\n        }\n\n        @Override\n        public void handle(MouseEvent event) {\n            event.consume();\n            if (event.getEventType() == MouseEvent.MOUSE_PRESSED) {\n                handlePressed(event);\n            } else if (event.getEventType() == MouseEvent.MOUSE_DRAGGED) {\n                handleDragged(event);\n            } else if (event.getEventType() == MouseEvent.MOUSE_CLICKED) {\n                handleClicked(event);\n            } else {\n                throw new IllegalArgumentException(&quot;unsupported type: &quot; + event.getEventType());\n            }\n        }\n\n        private void handlePressed(MouseEvent event) {\n            wasDragged = false;\n            /*\n             * Dragging 'holderPane' around does not require converting the\n             * coordinates. Moving a non-transformed pane by 5 pixels and moving\n             * a transformed pane by 5 pixels is the same thing.\n             */\n            dragOriginX = event.getX();\n            dragOriginY = event.getY();\n        }\n\n        private void handleDragged(MouseEvent event) {\n            wasDragged = true;\n\n            double deltaX = event.getX() - dragOriginX;\n            double deltaY = event.getY() - dragOriginY;\n            dragOriginX += deltaX;\n            dragOriginY += deltaY;\n\n            holderPane.setTranslateX(holderPane.getTranslateX() + deltaX);\n            holderPane.setTranslateY(holderPane.getTranslateY() + deltaY);\n        }\n\n        private void handleClicked(MouseEvent event) {\n            if (!wasDragged &amp;&amp; event.getClickCount() == 1) {\n                switch (event.getButton()) {\n                    case PRIMARY -&gt; {\n                        /*\n                         * Convert coordinates to 'holderPane' space (takes into account all\n                         * transformations). This only works because 'holderPane' is a direct\n                         * child of the event source.\n                         */\n                        var location = holderPane.parentToLocal(event.getX(), event.getY());\n\n                        var circle = new Circle(10);\n                        circle.setCenterX(location.getX());\n                        circle.setCenterY(location.getY());\n                        holderPane.getChildren().add(circle);\n                    }\n                    case SECONDARY -&gt; {\n                        if (event.isAltDown()) {\n                            holderPane.setTranslateX(0);\n                            holderPane.setTranslateY(0);\n                            holderPane.setScaleX(1);\n                            holderPane.setScaleY(1);\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><sup><strong>Note:</strong> Code compiled and tested with Java 20.0.1 and JavaFX 20.0.1.</sup></p>\n"}],"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77209065,"answer_count":1,"score":0,"last_activity_date":1696128308,"creation_date":1696103218,"question_id":77208230,"body_markdown":"I&#39;m attempting to use a JavaFX `Pane` to hold various shapes that I create by pressing the mouse.\r\n\r\nI have two nested `Pane`s that control the dropping &amp; layout of all the shapes I generate. \r\n\r\n- The `ListenerPane` is the foreground `Pane`, which serves solely to house all the mouse event callback functions. This `Pane` always stays in the same location &amp; will always have the same scale.\r\n- The `HolderPane` is the background `Pane`, which serves to store all the created shapes as children. This `Pane` is able to move around &amp; scale according to the user&#39;s mouse actions. For easier visualization, I colored this `Pane` in the dark blue color and made it smaller than the `ListenerPane`, to see how it moves &amp; scales. The actual size of the `HolderPane` doesn&#39;t matter, it solely serves to hold all the shapes.\r\n\r\nAll the created shapes are orange circles, and are generated upon a left-mouse button click. The `HolderPane` can move when the mouse is dragged while holding the right-mouse button. Additionally, one should be able to reset the position &amp; scale of the `HolderPane` by clicking the right-mouse button while holding the `ALT` key.\r\n\r\nSceneBuilder scene hierarchy:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlong with the following controller Java code &amp; FXML file:\r\n\r\n```\r\npackage com.mycompany.mre;\r\n\r\nimport javafx.scene.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.scene.input.*;\r\nimport javafx.scene.shape.*;\r\nimport javafx.scene.paint.*;\r\n\r\nimport javafx.fxml.FXML;\r\n\r\npublic class PrimaryController \r\n{\r\n    @FXML\r\n    public Pane ListenerPane;\r\n    @FXML\r\n    public Pane HolderPane;\r\n    \r\n    public class pos\r\n    {\r\n        double x;\r\n        double y;\r\n        \r\n        pos(double xValue, double yValue)\r\n        {\r\n            x = xValue;\r\n            y = yValue;\r\n        }\r\n        \r\n        @Override\r\n        public String toString()\r\n        {\r\n            return &quot;(&quot; + x + &quot;, &quot; + y + &quot;)&quot;;\r\n        }\r\n    }\r\n\r\n    public pos MousePressedPos = null;\r\n    public pos HolderPaneMoveStartPos = null;\r\n    \r\n    public boolean LMBPressed = false;\r\n    public boolean RMBPressed = false;\r\n    public double Zoom = 1;\r\n    \r\n    @FXML\r\n    public void OnMousePressed(MouseEvent event)\r\n    {\r\n        if (event.isPrimaryButtonDown() &amp;&amp; !LMBPressed)\r\n        {\r\n            LMBPressed = true;\r\n        }\r\n        else if (event.isSecondaryButtonDown() &amp;&amp; !RMBPressed)\r\n        {\r\n            // Remembering the holder pane starting pos...\r\n            MousePressedPos = new pos(event.getX(), event.getY());\r\n            HolderPaneMoveStartPos = new pos(HolderPane.getTranslateX(), HolderPane.getTranslateY());\r\n            \r\n            RMBPressed = true;\r\n        }\r\n    }\r\n    \r\n    @FXML\r\n    public void OnMouseReleased(MouseEvent event)\r\n    {\r\n        if (LMBPressed)\r\n        {\r\n            // Dropping a shape...\r\n            Circle circle = new Circle(10, Color.ORANGE);\r\n            circle.setStrokeWidth(1);\r\n            circle.setStroke(Color.BLACK);\r\n            \r\n            // Calculating the shape dropping position...\r\n            pos dropPos = new pos(event.getX() - HolderPane.getTranslateX(), \r\n                                  event.getY() - HolderPane.getTranslateY());\r\n            \r\n            circle.setTranslateX(dropPos.x);\r\n            circle.setTranslateY(dropPos.y);\r\n            \r\n            System.out.println(&quot;Dropped a shape at &quot; + dropPos.toString() + &quot;...&quot;);\r\n            \r\n            HolderPane.getChildren().add(circle);\r\n           \r\n            LMBPressed = false;\r\n        }\r\n        else if (RMBPressed)\r\n        {\r\n            // Resetting the holder pane starting pos...\r\n            MousePressedPos = null;\r\n            HolderPaneMoveStartPos = null;\r\n            \r\n            // Checking if auto-zoom is triggered...\r\n            if (event.isAltDown())\r\n            {\r\n                HolderPane.setTranslateX(0);\r\n                HolderPane.setTranslateY(0);\r\n                HolderPane.setScaleX(1);\r\n                HolderPane.setScaleY(1);\r\n                Zoom = 1;\r\n            }\r\n            \r\n            RMBPressed = false;\r\n        }\r\n    }\r\n    \r\n    @FXML\r\n    public void OnMouseDragged(MouseEvent event)\r\n    {\r\n        if (RMBPressed)\r\n        {\r\n            // Moving the holder pane...\r\n            HolderPane.setTranslateX(HolderPaneMoveStartPos.x + (event.getX() - MousePressedPos.x));\r\n            HolderPane.setTranslateY(HolderPaneMoveStartPos.y + (event.getY() - MousePressedPos.y));\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    public void OnScroll(ScrollEvent event)\r\n    {\r\n        // Calculating new zoom...\r\n        double[] zoomLimits = {0.5, 4};\r\n        double zoomFactor = 1.5;\r\n        \r\n        if (event.getDeltaY() &lt; 0)\r\n            if ((Zoom / zoomFactor) &lt;= zoomLimits[0])\r\n                Zoom = zoomLimits[0];\r\n            else\r\n                Zoom /= zoomFactor;\r\n        else\r\n            if ((Zoom * zoomFactor) &gt;= zoomLimits[1])\r\n                Zoom = zoomLimits[1];\r\n            else\r\n                Zoom *= zoomFactor;\r\n        \r\n        // Scaling the holder pane...\r\n        HolderPane.setScaleX(Zoom);\r\n        HolderPane.setScaleY(Zoom);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n\r\n&lt;Pane fx:id=&quot;ListenerPane&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onMouseDragged=&quot;#OnMouseDragged&quot; onMousePressed=&quot;#OnMousePressed&quot; onMouseReleased=&quot;#OnMouseReleased&quot; onScroll=&quot;#OnScroll&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.mycompany.mre.PrimaryController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Pane fx:id=&quot;HolderPane&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;250.0&quot; prefWidth=&quot;400.0&quot; style=&quot;-fx-background-color: darkblue;&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n\r\n```\r\n\r\nThis setup allows me to create the shapes upon clicking the mouse &amp; move them around as such:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe issue comes in when I scale the `HolderPane` by scrolling the mouse and calling the `setScaleX` &amp; `setScaleY` functions, and try to drop more shapes. The shapes do not drop where my cursor is when I click the mouse:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI think this is happening because I&#39;m getting the mouse location in the `OnMouseReleased` function by calling the `getX` and `getY` functions (marked in the code above with a `Calculating the shape dropping position...` comment). As far as I understand, those functions provide me with the mouse position relative to the source of the `MouseEvent` argument, which is always the `ListenerPane`, so the coordinates of the clicked coordinates in the `ListenerPane` do not carry over correctly to the `HolderPane`. I require some method of calculating the clicked position relative to `ListenerPane`&#39;s child `HolderPane`. \r\n\r\nCurrently I&#39;m simply subtracting the `HolderPane` translation position from the mouse position I acquired in `OnMouseReleased`, which only works when the `HolderPane` has a scale of 1.\r\n\r\nThe reason I have all my callback functions in the `ListenerPane` in the first place is because the `HolderPane` will move around when the user drags the mouse &amp; scrolls, so they won&#39;t be able to click on the `HolderPane` if they move it too far. I wanted to allow the user to be able to click anywhere on the screen, not only on the `HolderPane`.\r\n\r\nI also tried using the `getSceneX`/`getSceneY` and `getScreenX`/`getScreenY` functions instead of `getX`/`getY`, to no avail. It appears that this will require some math that I&#39;m not familliar with.\r\n\r\nWhat would be the correct way to approach this? Is there a formula for calculating a child node&#39;s relative position from a position relative to it&#39;s parent, while taking into account the scale of the child?\r\n\r\nThanks for reading my post, any guidance is appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/2kKRK.png\r\n  [2]: https://i.stack.imgur.com/Mf2ce.gif\r\n  [3]: https://i.stack.imgur.com/sCMu0.gif","title":"Get Mouse Clicked Position in Scaled Child relative to it&#39;s Parent? (JavaFX)","body":"<p>I'm attempting to use a JavaFX <code>Pane</code> to hold various shapes that I create by pressing the mouse.</p>\n<p>I have two nested <code>Pane</code>s that control the dropping &amp; layout of all the shapes I generate.</p>\n<ul>\n<li>The <code>ListenerPane</code> is the foreground <code>Pane</code>, which serves solely to house all the mouse event callback functions. This <code>Pane</code> always stays in the same location &amp; will always have the same scale.</li>\n<li>The <code>HolderPane</code> is the background <code>Pane</code>, which serves to store all the created shapes as children. This <code>Pane</code> is able to move around &amp; scale according to the user's mouse actions. For easier visualization, I colored this <code>Pane</code> in the dark blue color and made it smaller than the <code>ListenerPane</code>, to see how it moves &amp; scales. The actual size of the <code>HolderPane</code> doesn't matter, it solely serves to hold all the shapes.</li>\n</ul>\n<p>All the created shapes are orange circles, and are generated upon a left-mouse button click. The <code>HolderPane</code> can move when the mouse is dragged while holding the right-mouse button. Additionally, one should be able to reset the position &amp; scale of the <code>HolderPane</code> by clicking the right-mouse button while holding the <code>ALT</code> key.</p>\n<p>SceneBuilder scene hierarchy:</p>\n<p><a href=\"https://i.stack.imgur.com/2kKRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kKRK.png\" alt=\"enter image description here\" /></a></p>\n<p>Along with the following controller Java code &amp; FXML file:</p>\n<pre><code>package com.mycompany.mre;\n\nimport javafx.scene.*;\nimport javafx.scene.layout.*;\nimport javafx.scene.input.*;\nimport javafx.scene.shape.*;\nimport javafx.scene.paint.*;\n\nimport javafx.fxml.FXML;\n\npublic class PrimaryController \n{\n    @FXML\n    public Pane ListenerPane;\n    @FXML\n    public Pane HolderPane;\n    \n    public class pos\n    {\n        double x;\n        double y;\n        \n        pos(double xValue, double yValue)\n        {\n            x = xValue;\n            y = yValue;\n        }\n        \n        @Override\n        public String toString()\n        {\n            return &quot;(&quot; + x + &quot;, &quot; + y + &quot;)&quot;;\n        }\n    }\n\n    public pos MousePressedPos = null;\n    public pos HolderPaneMoveStartPos = null;\n    \n    public boolean LMBPressed = false;\n    public boolean RMBPressed = false;\n    public double Zoom = 1;\n    \n    @FXML\n    public void OnMousePressed(MouseEvent event)\n    {\n        if (event.isPrimaryButtonDown() &amp;&amp; !LMBPressed)\n        {\n            LMBPressed = true;\n        }\n        else if (event.isSecondaryButtonDown() &amp;&amp; !RMBPressed)\n        {\n            // Remembering the holder pane starting pos...\n            MousePressedPos = new pos(event.getX(), event.getY());\n            HolderPaneMoveStartPos = new pos(HolderPane.getTranslateX(), HolderPane.getTranslateY());\n            \n            RMBPressed = true;\n        }\n    }\n    \n    @FXML\n    public void OnMouseReleased(MouseEvent event)\n    {\n        if (LMBPressed)\n        {\n            // Dropping a shape...\n            Circle circle = new Circle(10, Color.ORANGE);\n            circle.setStrokeWidth(1);\n            circle.setStroke(Color.BLACK);\n            \n            // Calculating the shape dropping position...\n            pos dropPos = new pos(event.getX() - HolderPane.getTranslateX(), \n                                  event.getY() - HolderPane.getTranslateY());\n            \n            circle.setTranslateX(dropPos.x);\n            circle.setTranslateY(dropPos.y);\n            \n            System.out.println(&quot;Dropped a shape at &quot; + dropPos.toString() + &quot;...&quot;);\n            \n            HolderPane.getChildren().add(circle);\n           \n            LMBPressed = false;\n        }\n        else if (RMBPressed)\n        {\n            // Resetting the holder pane starting pos...\n            MousePressedPos = null;\n            HolderPaneMoveStartPos = null;\n            \n            // Checking if auto-zoom is triggered...\n            if (event.isAltDown())\n            {\n                HolderPane.setTranslateX(0);\n                HolderPane.setTranslateY(0);\n                HolderPane.setScaleX(1);\n                HolderPane.setScaleY(1);\n                Zoom = 1;\n            }\n            \n            RMBPressed = false;\n        }\n    }\n    \n    @FXML\n    public void OnMouseDragged(MouseEvent event)\n    {\n        if (RMBPressed)\n        {\n            // Moving the holder pane...\n            HolderPane.setTranslateX(HolderPaneMoveStartPos.x + (event.getX() - MousePressedPos.x));\n            HolderPane.setTranslateY(HolderPaneMoveStartPos.y + (event.getY() - MousePressedPos.y));\n        }\n    }\n\n    @FXML\n    public void OnScroll(ScrollEvent event)\n    {\n        // Calculating new zoom...\n        double[] zoomLimits = {0.5, 4};\n        double zoomFactor = 1.5;\n        \n        if (event.getDeltaY() &lt; 0)\n            if ((Zoom / zoomFactor) &lt;= zoomLimits[0])\n                Zoom = zoomLimits[0];\n            else\n                Zoom /= zoomFactor;\n        else\n            if ((Zoom * zoomFactor) &gt;= zoomLimits[1])\n                Zoom = zoomLimits[1];\n            else\n                Zoom *= zoomFactor;\n        \n        // Scaling the holder pane...\n        HolderPane.setScaleX(Zoom);\n        HolderPane.setScaleY(Zoom);\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n\n&lt;Pane fx:id=&quot;ListenerPane&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; onMouseDragged=&quot;#OnMouseDragged&quot; onMousePressed=&quot;#OnMousePressed&quot; onMouseReleased=&quot;#OnMouseReleased&quot; onScroll=&quot;#OnScroll&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.mycompany.mre.PrimaryController&quot;&gt;\n   &lt;children&gt;\n      &lt;Pane fx:id=&quot;HolderPane&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;250.0&quot; prefWidth=&quot;400.0&quot; style=&quot;-fx-background-color: darkblue;&quot; /&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n\n</code></pre>\n<p>This setup allows me to create the shapes upon clicking the mouse &amp; move them around as such:</p>\n<p><a href=\"https://i.stack.imgur.com/Mf2ce.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mf2ce.gif\" alt=\"enter image description here\" /></a></p>\n<p>The issue comes in when I scale the <code>HolderPane</code> by scrolling the mouse and calling the <code>setScaleX</code> &amp; <code>setScaleY</code> functions, and try to drop more shapes. The shapes do not drop where my cursor is when I click the mouse:</p>\n<p><a href=\"https://i.stack.imgur.com/sCMu0.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sCMu0.gif\" alt=\"enter image description here\" /></a></p>\n<p>I think this is happening because I'm getting the mouse location in the <code>OnMouseReleased</code> function by calling the <code>getX</code> and <code>getY</code> functions (marked in the code above with a <code>Calculating the shape dropping position...</code> comment). As far as I understand, those functions provide me with the mouse position relative to the source of the <code>MouseEvent</code> argument, which is always the <code>ListenerPane</code>, so the coordinates of the clicked coordinates in the <code>ListenerPane</code> do not carry over correctly to the <code>HolderPane</code>. I require some method of calculating the clicked position relative to <code>ListenerPane</code>'s child <code>HolderPane</code>.</p>\n<p>Currently I'm simply subtracting the <code>HolderPane</code> translation position from the mouse position I acquired in <code>OnMouseReleased</code>, which only works when the <code>HolderPane</code> has a scale of 1.</p>\n<p>The reason I have all my callback functions in the <code>ListenerPane</code> in the first place is because the <code>HolderPane</code> will move around when the user drags the mouse &amp; scrolls, so they won't be able to click on the <code>HolderPane</code> if they move it too far. I wanted to allow the user to be able to click anywhere on the screen, not only on the <code>HolderPane</code>.</p>\n<p>I also tried using the <code>getSceneX</code>/<code>getSceneY</code> and <code>getScreenX</code>/<code>getScreenY</code> functions instead of <code>getX</code>/<code>getY</code>, to no avail. It appears that this will require some math that I'm not familliar with.</p>\n<p>What would be the correct way to approach this? Is there a formula for calculating a child node's relative position from a position relative to it's parent, while taking into account the scale of the child?</p>\n<p>Thanks for reading my post, any guidance is appreciated.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1696129808,"post_id":77209014,"comment_id":136113366,"body_markdown":"You need to provide more detail  How do you know the problem is related to concurrent processing?  Please provide  a [mre] that demonstrates the problem.","body":"You need to provide more detail  How do you know the problem is related to concurrent processing?  Please provide  a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1696130203,"post_id":77209047,"comment_id":136113384,"body_markdown":"This looks like it was generated using ChapGPT. Using AI technology to generate answers is forbidden on this site.  Additionally, there was no detailed explanation of what you were doing, and why (what API lasses you used, how they work, etc).","body":"This looks like it was generated using ChapGPT. Using AI technology to generate answers is forbidden on this site.  Additionally, there was no detailed explanation of what you were doing, and why (what API lasses you used, how they work, etc)."}],"tags":[],"owner":{"account_id":18089970,"reputation":24,"user_id":14722580,"display_name":"vhxn"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1696127694,"creation_date":1696127694,"answer_id":77209047,"question_id":77209014,"body_markdown":"Here is a Java example:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Create your ArrayList with 10000 records\r\n            List&lt;String&gt; records = new ArrayList&lt;&gt;();\r\n    \r\n            // Create an ExecutorService with multiple threads\r\n            ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n            // Create a list to store the CompletableFuture objects\r\n            List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n            // Split the records into batches of 100\r\n            int batchSize = 100;\r\n            for (int i = 0; i &lt; records.size(); i += batchSize) {\r\n                final int startIndex = i;\r\n                final int endIndex = Math.min(i + batchSize, records.size());\r\n    \r\n                // Create a CompletableFuture for each batch\r\n                CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(() -&gt; {\r\n                    // Process the batch and make the REST call\r\n                    processBatch(records.subList(startIndex, endIndex));\r\n                }, executorService);\r\n    \r\n                // Add the CompletableFuture to the list\r\n                futures.add(future);\r\n            }\r\n    \r\n            // Wait for all the CompletableFuture objects to complete\r\n            CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]));\r\n            try {\r\n                allFutures.get(); // Wait for completion\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // Shut down the ExecutorService\r\n            executorService.shutdown();\r\n        }\r\n    \r\n        private static void processBatch(List&lt;String&gt; batch) {\r\n            // Make the REST call using the batch of elements\r\n            // ...\r\n        }\r\n    }","title":"How can multiple threads read a static data(arraylist)","body":"<p>Here is a Java example:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Create your ArrayList with 10000 records\n        List&lt;String&gt; records = new ArrayList&lt;&gt;();\n\n        // Create an ExecutorService with multiple threads\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n        // Create a list to store the CompletableFuture objects\n        List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        // Split the records into batches of 100\n        int batchSize = 100;\n        for (int i = 0; i &lt; records.size(); i += batchSize) {\n            final int startIndex = i;\n            final int endIndex = Math.min(i + batchSize, records.size());\n\n            // Create a CompletableFuture for each batch\n            CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(() -&gt; {\n                // Process the batch and make the REST call\n                processBatch(records.subList(startIndex, endIndex));\n            }, executorService);\n\n            // Add the CompletableFuture to the list\n            futures.add(future);\n        }\n\n        // Wait for all the CompletableFuture objects to complete\n        CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]));\n        try {\n            allFutures.get(); // Wait for completion\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n\n        // Shut down the ExecutorService\n        executorService.shutdown();\n    }\n\n    private static void processBatch(List&lt;String&gt; batch) {\n        // Make the REST call using the batch of elements\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20847630,"reputation":3,"user_id":15312810,"display_name":"Ritesh Agrawal"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1696156960,"accepted_answer_id":77209047,"answer_count":1,"score":-1,"last_activity_date":1696127844,"creation_date":1696126565,"question_id":77209014,"body_markdown":"I have an arraylist with 10000 records. Current only one thread is accessing this arraylist .This single thread  reads data from this arraylist In a batch if 100 elements ,then makes a rest call with with this 100 elements. It executes in a for loop for 10000/100 = 100 times. It takes 15 min to complete the 100 times.\r\n\r\n\r\nI did it in Single thread .How to make the rest call async or How to do it in multiple threads.\r\n\r\nAny example please.","title":"How can multiple threads read a static data(arraylist)","body":"<p>I have an arraylist with 10000 records. Current only one thread is accessing this arraylist .This single thread  reads data from this arraylist In a batch if 100 elements ,then makes a rest call with with this 100 elements. It executes in a for loop for 10000/100 = 100 times. It takes 15 min to complete the 100 times.</p>\n<p>I did it in Single thread .How to make the rest call async or How to do it in multiple threads.</p>\n<p>Any example please.</p>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":1108976,"reputation":598,"user_id":1099788,"display_name":"Mila"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1497490317,"creation_date":1497490317,"answer_id":44557159,"question_id":44550146,"body_markdown":"You just need to run the following command every time you make changes to Java files: `react-native run-android`","title":"How to rebuild java files in React Native?","body":"<p>You just need to run the following command every time you make changes to Java files: <code>react-native run-android</code></p>\n"}],"owner":{"account_id":5901631,"reputation":117,"user_id":4644946,"display_name":"nprz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1696126366,"creation_date":1497457842,"question_id":44550146,"body_markdown":"I made a change to the file `ReactWebViewManager.java`, which is a file inside the react-native package. (full path to the file is `node_modules/react-native/ReactAndroid/src/main/java/com/facebook/react/views/webview/ReactWebViewManager.java`). However the changes I make to the file do not seem to take effect. I deleted the entire file to test this theory and the app continued to work fine, so it seems I need recompile/rebuild/clear the cache of the react-native package. Is there a way to do this? ","title":"How to rebuild java files in React Native?","body":"<p>I made a change to the file <code>ReactWebViewManager.java</code>, which is a file inside the react-native package. (full path to the file is <code>node_modules/react-native/ReactAndroid/src/main/java/com/facebook/react/views/webview/ReactWebViewManager.java</code>). However the changes I make to the file do not seem to take effect. I deleted the entire file to test this theory and the app continued to work fine, so it seems I need recompile/rebuild/clear the cache of the react-native package. Is there a way to do this? </p>\n"},{"tags":["java","fileutils"],"comments":[{"owner":{"account_id":4211782,"reputation":487,"user_id":3449268,"display_name":"vhula"},"score":1,"creation_date":1489417070,"post_id":42766673,"comment_id":72648742,"body_markdown":"&quot;/ReadFile/src/mombirthday.txt&quot; you are referencing an absolute path here. / is a root directory","body":"&quot;/ReadFile/src/mombirthday.txt&quot; you are referencing an absolute path here. / is a root directory"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489417084,"creation_date":1489417084,"answer_id":42766760,"question_id":42766673,"body_markdown":"The path that you give to that library call doesn&#39;t know or care about your project setup. \r\n\r\nSo, what you have right now points to the root of your file system. For starters you could change to an absolute path. ","title":"Exception java FileUtils.readFileToByteArray when trying to readFileToByteArray","body":"<p>The path that you give to that library call doesn't know or care about your project setup. </p>\n\n<p>So, what you have right now points to the root of your file system. For starters you could change to an absolute path. </p>\n"},{"tags":[],"owner":{"account_id":4211782,"reputation":487,"user_id":3449268,"display_name":"vhula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489417517,"creation_date":1489417517,"answer_id":42766908,"question_id":42766673,"body_markdown":"It&#39;s much better not to use an absolute path, but to place a file on the classpath and locate it using class loader:\r\n\r\n    InputStream fileIS = getClass().getClassLoader().getResourceAsStream(&quot;mombirthday.txt&quot;);\r\n    StringWriter writer = new StringWriter();\r\n    IOUtils.copy(fileIS, writer, encoding);\r\n    String text = writer.toString();","title":"Exception java FileUtils.readFileToByteArray when trying to readFileToByteArray","body":"<p>It's much better not to use an absolute path, but to place a file on the classpath and locate it using class loader:</p>\n\n<pre><code>InputStream fileIS = getClass().getClassLoader().getResourceAsStream(\"mombirthday.txt\");\nStringWriter writer = new StringWriter();\nIOUtils.copy(fileIS, writer, encoding);\nString text = writer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9966449,"reputation":344,"user_id":7374023,"display_name":"chandrasekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492477760,"creation_date":1489417794,"answer_id":42767006,"question_id":42766673,"body_markdown":"\tpublic static void readFile(){\r\n\t\ttry {\r\n\t\t\t// byte[] bytesInput = FileUtils.readFileToByteArray(new File(&quot;C:/Users/mavensi/Desktop/catalina_14.log&quot;));\r\n\t\t\tbyte[] bytesInput = IoUtils.readBytes(new File(&quot;C:/Users/mavensi/Desktop/catalina_14.log&quot;));\r\n\t\t\tSystem.err.println(bytesInput.length);\r\n\t\t}catch(IOException e){\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n","title":"Exception java FileUtils.readFileToByteArray when trying to readFileToByteArray","body":"<pre><code>public static void readFile(){\n    try {\n        // byte[] bytesInput = FileUtils.readFileToByteArray(new File(\"C:/Users/mavensi/Desktop/catalina_14.log\"));\n        byte[] bytesInput = IoUtils.readBytes(new File(\"C:/Users/mavensi/Desktop/catalina_14.log\"));\n        System.err.println(bytesInput.length);\n    }catch(IOException e){\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10449422,"reputation":31,"user_id":7703530,"display_name":"popster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696125930,"creation_date":1489416853,"question_id":42766673,"body_markdown":"My text file, mombirthday.txt, is in the same eclipse directory as my src file.\r\n\r\nBut an exception is being thrown (file does not exist).\r\n\r\nI&#39;ve tried using a qualified path to the file with another exception being thrown.\r\n\r\nI&#39;ve found countless examples but I am uncertain where the file should be located and how I should properly reference the path to the file \r\n\r\nMy project is called ReadFile, the source code and text file are both in the src directory\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import org.apache.commons.io.FileUtils;\r\n        \r\n    public class ReadFile {\r\n      public static void main(String[] args){\r\n        try{\r\n        //File &#39;mombirthday.txt&#39; does not exist\r\n       //byte[] bytesInput = FileUtils.readFileToByteArray(new File(&quot;mombirthday.txt&quot;));\r\n        \r\n       //File &#39;mombirthday.txt&#39; does not exist\r\n     byte[] bytesInput = FileUtils.readFileToByteArray(new File(&quot;/ReadFile/src/mombirthday.txt&quot;));**\r\n    \r\n      }catch(IOException e){\r\n       System.out.println(e.getMessage());\r\n      }\r\n     }\r\n    }","title":"Exception java FileUtils.readFileToByteArray when trying to readFileToByteArray","body":"<p>My text file, mombirthday.txt, is in the same eclipse directory as my src file.</p>\n\n<p>But an exception is being thrown (file does not exist).</p>\n\n<p>I've tried using a qualified path to the file with another exception being thrown.</p>\n\n<p>I've found countless examples but I am uncertain where the file should be located and how I should properly reference the path to the file </p>\n\n<p>My project is called ReadFile, the source code and text file are both in the src directory</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport org.apache.commons.io.FileUtils;\n\npublic class ReadFile {\n  public static void main(String[] args){\n    try{\n    //File 'mombirthday.txt' does not exist\n   //byte[] bytesInput = FileUtils.readFileToByteArray(new File(\"mombirthday.txt\"));\n\n   //File 'mombirthday.txt' does not exist\n byte[] bytesInput = FileUtils.readFileToByteArray(new File(\"/ReadFile/src/mombirthday.txt\"));**\n\n  }catch(IOException e){\n   System.out.println(e.getMessage());\n  }\n }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":0,"creation_date":1653661131,"post_id":72406562,"comment_id":127911858,"body_markdown":"You need to remove `spring-web` from your pom.xml. Also it seems like you added a lot of different sql connectors, normally you&#39;d only need one.","body":"You need to remove <code>spring-web</code> from your pom.xml. Also it seems like you added a lot of different sql connectors, normally you&#39;d only need one."},{"owner":{"account_id":7545489,"reputation":1587,"user_id":5728714,"display_name":"Mathias Hillmann"},"score":0,"creation_date":1653668229,"post_id":72406562,"comment_id":127914655,"body_markdown":"@IdanElhalwani Sadly this application will be distributed and needs to connect to pretty much every DB there is.","body":"@IdanElhalwani Sadly this application will be distributed and needs to connect to pretty much every DB there is."}],"answers":[{"comments":[{"owner":{"account_id":7545489,"reputation":1587,"user_id":5728714,"display_name":"Mathias Hillmann"},"score":0,"creation_date":1653660656,"post_id":72406644,"comment_id":127911646,"body_markdown":"I have removed the second dependency and now the following error appears when starting spring: `Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)`","body":"I have removed the second dependency and now the following error appears when starting spring: <code>Cannot find template location: classpath:&#47;templates&#47; (please add some templates or check your Thymeleaf configuration)</code>"}],"tags":[],"owner":{"account_id":6144394,"reputation":631,"user_id":4790754,"display_name":"Arfat Binkileb"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653660940,"creation_date":1653660288,"answer_id":72406644,"question_id":72406562,"body_markdown":"\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.20&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\nThe second dependency is not required. \r\n```xml\r\n\r\n\t&lt;build&gt;\r\n&lt;!--not required. Spring boot scans /resources directory by default \r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n      \t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;application.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n--&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\nPlease rebuild and restart the app again. \r\n\r\nAnd you don&#39;t need to add `.html` extension in your controller. Spring boot looks for `.html`,`.jsp` extensions in `src/main/resource/` ,`src/main/resource/templates/` ,`src/main/resource/static/` ,`src/main/resource/public` these directories by default","title":"Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The second dependency is not required.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;build&gt;\n&lt;!--not required. Spring boot scans /resources directory by default \n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;application.properties&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n--&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Please rebuild and restart the app again.</p>\n<p>And you don't need to add <code>.html</code> extension in your controller. Spring boot looks for <code>.html</code>,<code>.jsp</code> extensions in <code>src/main/resource/</code> ,<code>src/main/resource/templates/</code> ,<code>src/main/resource/static/</code> ,<code>src/main/resource/public</code> these directories by default</p>\n"},{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653660999,"creation_date":1653660999,"answer_id":72406820,"question_id":72406562,"body_markdown":"The issue is in your pom.xml file.\r\n\r\nBy adding this block to your `build`;\r\n```xml\r\n&lt;resources&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;application.properties&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nYou have overriden `spring-boot-starter-parent`&#39;s own `resources` block and caused it to include `application.properties` and nothing else. Remove it from your pom.xml and delete your target directory.","title":"Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>The issue is in your pom.xml file.</p>\n<p>By adding this block to your <code>build</code>;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;application.properties&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>You have overriden <code>spring-boot-starter-parent</code>'s own <code>resources</code> block and caused it to include <code>application.properties</code> and nothing else. Remove it from your pom.xml and delete your target directory.</p>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675348591,"creation_date":1675348591,"answer_id":75324709,"question_id":72406562,"body_markdown":"This is a fix if someone has met all the requirements.Check the return value of the method. if you something like `return &#39;/admin/index&#39;` change it to `return &#39;admin/index`","title":"Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>This is a fix if someone has met all the requirements.Check the return value of the method. if you something like <code>return '/admin/index'</code> change it to <code>return 'admin/index</code></p>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696073981,"creation_date":1696073981,"answer_id":77206841,"question_id":72406562,"body_markdown":"Annotate your handler method with **@ResponseBody** annotation like this \r\n**public @ResponseBody String index()** \r\nThe @ResponseBody annotation tells a controller that the object returned is automatically serialized into JSON and passed back into the HttpResponse object. When you use the @ResponseBody annotation on a method, Spring converts the return value and writes it to the HTTP response automatically.","title":"Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>Annotate your handler method with <strong>@ResponseBody</strong> annotation like this\n<strong>public @ResponseBody String index()</strong>\nThe @ResponseBody annotation tells a controller that the object returned is automatically serialized into JSON and passed back into the HttpResponse object. When you use the @ResponseBody annotation on a method, Spring converts the return value and writes it to the HTTP response automatically.</p>\n"},{"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696124953,"creation_date":1696124953,"answer_id":77208969,"question_id":72406562,"body_markdown":"I&#39;m using in developing Spring Boot appl&#39;. To me below method works. That is change &quot;**&quot; set for &#39;Excluded&#39; to (none).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZoXa.png","title":"Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>I'm using in developing Spring Boot appl'. To me below method works. That is change &quot;**&quot; set for 'Excluded' to (none).</p>\n<p><a href=\"https://i.stack.imgur.com/JZoXa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZoXa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7545489,"reputation":1587,"user_id":5728714,"display_name":"Mathias Hillmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13481,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72406820,"answer_count":5,"score":3,"last_activity_date":1696124953,"creation_date":1653659869,"question_id":72406562,"body_markdown":"I have the following controller:\r\n```\r\n@Controller\r\npublic class ConfigController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index() {\r\n        return &quot;config&quot;;\r\n    }\r\n}\r\n```\r\n\r\nHowever, I receive the following error when going to the route `/`:\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nError resolving template [config], template might not exist or might not be accessible by any of the configured Template Resolvers\r\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [config], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n```\r\n\r\nI have a `config.html` file inside of `resources/templates`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy pom.xml file: https://pastebin.com/yqYYuXWh\r\n\r\nWhat am I doing wrong?\r\n\r\nI have already tried adding a `.html` to the return of the controller function, but it still doesn&#39;t work.\r\n\r\n  [1]: https://i.stack.imgur.com/hTvZb.png\r\n\r\n\r\n----------\r\n\r\nAfter removing the spring-web dependency (I already had `spring-boot-starter-web`) I now get the following error when starting spring:\r\n\r\n`Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)`","title":"Error resolving template, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>I have the following controller:</p>\n<pre><code>@Controller\npublic class ConfigController {\n\n    @GetMapping(&quot;/&quot;)\n    public String index() {\n        return &quot;config&quot;;\n    }\n}\n</code></pre>\n<p>However, I receive the following error when going to the route <code>/</code>:</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nError resolving template [config], template might not exist or might not be accessible by any of the configured Template Resolvers\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [config], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n<p>I have a <code>config.html</code> file inside of <code>resources/templates</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/hTvZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTvZb.png\" alt=\"enter image description here\" /></a></p>\n<p>My pom.xml file: <a href=\"https://pastebin.com/yqYYuXWh\" rel=\"nofollow noreferrer\">https://pastebin.com/yqYYuXWh</a></p>\n<p>What am I doing wrong?</p>\n<p>I have already tried adding a <code>.html</code> to the return of the controller function, but it still doesn't work.</p>\n<hr />\n<p>After removing the spring-web dependency (I already had <code>spring-boot-starter-web</code>) I now get the following error when starting spring:</p>\n<p><code>Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)</code></p>\n"},{"tags":["java","record"],"answers":[{"comments":[{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1638479969,"post_id":70206069,"comment_id":124106770,"body_markdown":"The implicit constructor `Zoo(List&lt;Animal&gt; animals)` is valid in your code. If you call it directly, the `animals` will not be sorted.","body":"The implicit constructor <code>Zoo(List&lt;Animal&gt; animals)</code> is valid in your code. If you call it directly, the <code>animals</code> will not be sorted."}],"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638476984,"creation_date":1638476984,"answer_id":70206069,"question_id":70206010,"body_markdown":"You could try to use the Stream API:\r\n\r\n    public record Zoo(List&lt;Animal&gt; animals ) {\r\n    \r\n         public Zoo(Collection&lt;Animal&gt; animals) {\r\n             this(animals.stream().sorted(someComparator).collect(Collectors.toList()));\r\n         }\r\n    \r\n         ...\r\n    }\r\n","title":"Java Record custom constructor","body":"<p>You could try to use the Stream API:</p>\n<pre><code>public record Zoo(List&lt;Animal&gt; animals ) {\n\n     public Zoo(Collection&lt;Animal&gt; animals) {\n         this(animals.stream().sorted(someComparator).collect(Collectors.toList()));\n     }\n\n     ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1638478359,"post_id":70206120,"comment_id":124106190,"body_markdown":"If you want to pass an immutable `List&lt;Animal&gt;` to the constructor, you need to cast it to `Collection&lt;Animal&gt;`.","body":"If you want to pass an immutable <code>List&lt;Animal&gt;</code> to the constructor, you need to cast it to <code>Collection&lt;Animal&gt;</code>."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1638484393,"post_id":70206120,"comment_id":124108097,"body_markdown":"You can also sort a copy of the list and then set it to the field `animals`. Although the copy in `Zoo (Collection&lt;Animal&gt;)` becomes redundant.","body":"You can also sort a copy of the list and then set it to the field <code>animals</code>. Although the copy in <code>Zoo (Collection&lt;Animal&gt;)</code> becomes redundant."},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1638485657,"post_id":70206120,"comment_id":124108409,"body_markdown":"I found this to be a good question to reveal the problem with `record`.","body":"I found this to be a good question to reveal the problem with <code>record</code>."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1696122168,"creation_date":1638477289,"answer_id":70206120,"question_id":70206010,"body_markdown":"You can do the same as with your &quot;plain Java class&quot;.\r\n\r\n```java\r\nimport java.util.Collections;\r\n\r\npublic record Zoo(List&lt;Animal&gt; animals) {\r\n\r\n  /*\r\n   * The canonical constructor copies the &#39;animals&#39; list so that both\r\n   * constructors have consistent behavior (i.e. they both result in\r\n   * the list being copied). Plus, since you want to sort the list, it&#39;s\r\n   * a good idea to create a copy anyway to avoid side-effects.\r\n   *\r\n   * FIXME: When the non-canonical constructor is used, the &#39;animals&#39; list\r\n   *        will be copied twice. If anyone can think of a way to avoid\r\n   *        this, please let me know.\r\n   */\r\n\r\n  // explicit canonical constructor\r\n  public Zoo(List&lt;Animal&gt; animals) {\r\n    animals = new ArrayList&lt;&gt;(animals);\r\n    animals.sort(/* comparator */);\r\n    this.animals = Collections.unmodifiableList(animals);\r\n  }\r\n\r\n  // a non-canonical constructor; must delegate to canonical constructor\r\n  public Zoo(Collection&lt;Animal&gt; animals) {\r\n    this(new ArrayList&lt;&gt;(animals));\r\n  }\r\n}\r\n```\r\n\r\nThe first constructor is an explicit declaration of the canonical constructor. From the documentation of [java.lang.Record][1]:\r\n\r\n&gt; A record class has the following mandated members: a _canonical constructor_, which must provide at least as much access as the record class and whose descriptor is the same as the record descriptor; a private final field corresponding to each component, whose name and type are the same as that of the component; a public accessor method corresponding to each component, whose name and return type are the same as that of the component. If not explicitly declared in the body of the record, implicit implementations for these members are provided.\r\n&gt;\r\n&gt;[...]\r\n&gt;\r\n&gt;The primary reasons to provide an explicit declaration for the canonical constructor or accessor methods are to validate constructor arguments, perform defensive copies on mutable components, or normalize groups of components (such as reducing a rational number to lowest terms.)\r\n\r\nNote all other constructors must eventually delegate to the canonical constructor.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html","title":"Java Record custom constructor","body":"<p>You can do the same as with your &quot;plain Java class&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collections;\n\npublic record Zoo(List&lt;Animal&gt; animals) {\n\n  /*\n   * The canonical constructor copies the 'animals' list so that both\n   * constructors have consistent behavior (i.e. they both result in\n   * the list being copied). Plus, since you want to sort the list, it's\n   * a good idea to create a copy anyway to avoid side-effects.\n   *\n   * FIXME: When the non-canonical constructor is used, the 'animals' list\n   *        will be copied twice. If anyone can think of a way to avoid\n   *        this, please let me know.\n   */\n\n  // explicit canonical constructor\n  public Zoo(List&lt;Animal&gt; animals) {\n    animals = new ArrayList&lt;&gt;(animals);\n    animals.sort(/* comparator */);\n    this.animals = Collections.unmodifiableList(animals);\n  }\n\n  // a non-canonical constructor; must delegate to canonical constructor\n  public Zoo(Collection&lt;Animal&gt; animals) {\n    this(new ArrayList&lt;&gt;(animals));\n  }\n}\n</code></pre>\n<p>The first constructor is an explicit declaration of the canonical constructor. From the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">java.lang.Record</a>:</p>\n<blockquote>\n<p>A record class has the following mandated members: a <em>canonical constructor</em>, which must provide at least as much access as the record class and whose descriptor is the same as the record descriptor; a private final field corresponding to each component, whose name and type are the same as that of the component; a public accessor method corresponding to each component, whose name and return type are the same as that of the component. If not explicitly declared in the body of the record, implicit implementations for these members are provided.</p>\n<p>[...]</p>\n<p>The primary reasons to provide an explicit declaration for the canonical constructor or accessor methods are to validate constructor arguments, perform defensive copies on mutable components, or normalize groups of components (such as reducing a rational number to lowest terms.)</p>\n</blockquote>\n<p>Note all other constructors must eventually delegate to the canonical constructor.</p>\n"},{"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1650274886,"post_id":71486123,"comment_id":127069806,"body_markdown":"The +1 is for making this Immutable, which should be the default for records anyways (too bad Java has no support to do this easily)","body":"The +1 is for making this Immutable, which should be the default for records anyways (too bad Java has no support to do this easily)"}],"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647363418,"creation_date":1647363418,"answer_id":71486123,"question_id":70206010,"body_markdown":"To avoid the issues with List vs. Collection, why not just define the Zoo as having a `Collection&lt;Animal&gt;` instead of a `List&lt;Animal&gt;`?\r\n\r\n    public record Zoo(Collection&lt;Animal&gt; animals) {\r\n        public Zoo(Collection&lt;Animal&gt; animals) {\r\n            Objects.requireNonNull(animals, &quot;animals is null&quot;);\r\n            List&lt;Animal&gt; list = new ArrayList&lt;&gt;(animals);\r\n            Collections.sort(list);\r\n            this.animals = list;\r\n        }\r\n    }\r\n\r\nIf there is client code that really needs `animals()` to return a `List` rather than a `Collection`, you could add a custom accessor:\r\n\r\n        public List&lt;Animal&gt; asList() {\r\n            return (List&lt;Animal&gt;) animals;\r\n        }\r\n\r\nThis cast is safe since the canonical constructor will never assign any type to `animals` that is not an `ArrayList`. I stuck with `ArrayList` since that was in your original example, but records are immutable by default, so having a member that is mutable is somewhat questionable. If mutability is not needed, you can replace the last line of the constructor with\r\n\r\n    this.animals = List.copyOf(list);\r\n\r\nOr even replace the last three lines of the constructor with\r\n\r\n    this.animals = animals.stream().sorted().toList();","title":"Java Record custom constructor","body":"<p>To avoid the issues with List vs. Collection, why not just define the Zoo as having a <code>Collection&lt;Animal&gt;</code> instead of a <code>List&lt;Animal&gt;</code>?</p>\n<pre><code>public record Zoo(Collection&lt;Animal&gt; animals) {\n    public Zoo(Collection&lt;Animal&gt; animals) {\n        Objects.requireNonNull(animals, &quot;animals is null&quot;);\n        List&lt;Animal&gt; list = new ArrayList&lt;&gt;(animals);\n        Collections.sort(list);\n        this.animals = list;\n    }\n}\n</code></pre>\n<p>If there is client code that really needs <code>animals()</code> to return a <code>List</code> rather than a <code>Collection</code>, you could add a custom accessor:</p>\n<pre><code>    public List&lt;Animal&gt; asList() {\n        return (List&lt;Animal&gt;) animals;\n    }\n</code></pre>\n<p>This cast is safe since the canonical constructor will never assign any type to <code>animals</code> that is not an <code>ArrayList</code>. I stuck with <code>ArrayList</code> since that was in your original example, but records are immutable by default, so having a member that is mutable is somewhat questionable. If mutability is not needed, you can replace the last line of the constructor with</p>\n<pre><code>this.animals = List.copyOf(list);\n</code></pre>\n<p>Or even replace the last three lines of the constructor with</p>\n<pre><code>this.animals = animals.stream().sorted().toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4140209,"reputation":549,"user_id":3395778,"accept_rate":100,"display_name":"AndreaTaroni86"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662480814,"creation_date":1662480814,"answer_id":73624986,"question_id":70206010,"body_markdown":"Remember until your constructor has finished to run, your input is not final, so you can overwrite your record class constructor as follows:\r\n\r\n    public record Zoo(List&lt;animal&gt; animals ) {\r\n         public Zoo {\r\n        \tCollections.sort(animals, your_comparator);\r\n        }\r\n    }","title":"Java Record custom constructor","body":"<p>Remember until your constructor has finished to run, your input is not final, so you can overwrite your record class constructor as follows:</p>\n<pre><code>public record Zoo(List&lt;animal&gt; animals ) {\n     public Zoo {\n        Collections.sort(animals, your_comparator);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7080403,"reputation":84,"user_id":5419028,"display_name":"Volo Myhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680192025,"creation_date":1680192025,"answer_id":75890531,"question_id":70206010,"body_markdown":"The answer proposing to use `this(..)` has the limitation that `this()` must be the first statement.\r\n\r\nTo overcome that limitation, you can use the static contructor, like:\r\n```\r\npublic record Zoo(List&lt;Animal&gt; animals) {\r\n\r\n     public static Zoo fromAnimals(Collection&lt;Animal&gt; animals) {\r\n         List&lt;Animal&gt; listAnimals = new ArrayList&lt;Animal&gt;(animals);\r\n         listAnimals.sort(Animal::compareTo);\r\n\r\n         // ... any other pre-processing, possibly using additional parameters\r\n\r\n         return new Zoo(listAnimals);\r\n     }\r\n\r\n     ...\r\n}\r\n```","title":"Java Record custom constructor","body":"<p>The answer proposing to use <code>this(..)</code> has the limitation that <code>this()</code> must be the first statement.</p>\n<p>To overcome that limitation, you can use the static contructor, like:</p>\n<pre><code>public record Zoo(List&lt;Animal&gt; animals) {\n\n     public static Zoo fromAnimals(Collection&lt;Animal&gt; animals) {\n         List&lt;Animal&gt; listAnimals = new ArrayList&lt;Animal&gt;(animals);\n         listAnimals.sort(Animal::compareTo);\n\n         // ... any other pre-processing, possibly using additional parameters\n\n         return new Zoo(listAnimals);\n     }\n\n     ...\n}\n</code></pre>\n"}],"owner":{"account_id":23071226,"reputation":197,"user_id":17184900,"display_name":"AmILostYet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13030,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":70206120,"answer_count":5,"score":11,"last_activity_date":1696122168,"creation_date":1638476551,"question_id":70206010,"body_markdown":"I have a java record that takes in a list\r\n\r\n```\r\npublic record Zoo(List&lt;Animal&gt; animals ) {\r\n\r\n     public Zoo(Collection&lt;Animal&gt; animals) {\r\n         this(new ArrayList&lt;&gt;(animals));\r\n     }\r\n\r\n     ...\r\n}\r\n```\r\n\r\nHowever, the animals are not in sorted order, and I want to create record where animals are sorted. Is this possible in Java record?\r\n\r\nIn plain java class, I could have \r\n```\r\npublic class Zoo {\r\n   ...\r\n   public Zoo(List&lt;Animal&gt; animals) {\r\n     this.animals = animals.sort(someComparator);\r\n   } \r\n\r\n}\r\n```","title":"Java Record custom constructor","body":"<p>I have a java record that takes in a list</p>\n<pre><code>public record Zoo(List&lt;Animal&gt; animals ) {\n\n     public Zoo(Collection&lt;Animal&gt; animals) {\n         this(new ArrayList&lt;&gt;(animals));\n     }\n\n     ...\n}\n</code></pre>\n<p>However, the animals are not in sorted order, and I want to create record where animals are sorted. Is this possible in Java record?</p>\n<p>In plain java class, I could have</p>\n<pre><code>public class Zoo {\n   ...\n   public Zoo(List&lt;Animal&gt; animals) {\n     this.animals = animals.sort(someComparator);\n   } \n\n}\n</code></pre>\n"},{"tags":["java","scheduler","ejb-3.1"],"owner":{"account_id":5198414,"reputation":13,"user_id":4158764,"display_name":"Owais Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696121471,"creation_date":1696121471,"question_id":77208888,"body_markdown":"I have a scenario in which a javax.ejb.Schedule @Schedule timer job is deployed on WebSphere Application Server in a 2 cluster environment with 2 seperate nodes, meaning that there are always 2 instances of application up and running. I have a mail sending scheduler written as below (runs after every 10 seconds, get the entries from database, and then updates the database column delivery status after sending email successfully):\r\n\r\n```\r\n@Startup\r\n@Singleton\r\npublic class MailScheduler {\r\n\r\n\r\n    @EJB\r\n    EmailQueueService emailQueueService;\r\n    \r\n    @Schedule(hour = &quot;*&quot;, minute = &quot;*&quot;, second = &quot;*/10&quot;, info = &quot;Every 10 seconds timer&quot;, persistent = false)\r\n    public void automaticallyScheduled(Timer timer) {\r\n    \tscheduleMail(timer);\r\n    }\r\n\r\n\tprivate void scheduleMail(Timer timer) {\r\n\t\temailQueueService.sendMails(); // This function send the emails and updates the database column\r\n\t}\r\n```\r\n\r\nNow the problem I am facing is that When the EAR file containing above Scheduler is started, it starts on both nodes(servers) simultaneously. Now, users are receiving duplicate emails, as the EAR file started on both node at the same time, and the entries from database are picked by both Node&#39;s Scheduler.\r\n\r\nCan someone let me know the solution to this problem? I want to run the @Schedule only once, and if it is already running, than second node should not execute this scheduler. If I set persistent = true, will it solve the problem? Any clue in resolving this issue would be highly appreciated.\r\n\r\nThanks.","title":"Stop Execution of @Schedule timer on multiple Nodes","body":"<p>I have a scenario in which a javax.ejb.Schedule @Schedule timer job is deployed on WebSphere Application Server in a 2 cluster environment with 2 seperate nodes, meaning that there are always 2 instances of application up and running. I have a mail sending scheduler written as below (runs after every 10 seconds, get the entries from database, and then updates the database column delivery status after sending email successfully):</p>\n<pre><code>@Startup\n@Singleton\npublic class MailScheduler {\n\n\n    @EJB\n    EmailQueueService emailQueueService;\n    \n    @Schedule(hour = &quot;*&quot;, minute = &quot;*&quot;, second = &quot;*/10&quot;, info = &quot;Every 10 seconds timer&quot;, persistent = false)\n    public void automaticallyScheduled(Timer timer) {\n        scheduleMail(timer);\n    }\n\n    private void scheduleMail(Timer timer) {\n        emailQueueService.sendMails(); // This function send the emails and updates the database column\n    }\n</code></pre>\n<p>Now the problem I am facing is that When the EAR file containing above Scheduler is started, it starts on both nodes(servers) simultaneously. Now, users are receiving duplicate emails, as the EAR file started on both node at the same time, and the entries from database are picked by both Node's Scheduler.</p>\n<p>Can someone let me know the solution to this problem? I want to run the @Schedule only once, and if it is already running, than second node should not execute this scheduler. If I set persistent = true, will it solve the problem? Any clue in resolving this issue would be highly appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":164242,"reputation":2737,"user_id":386875,"accept_rate":97,"display_name":"Eternal Noob"},"score":0,"creation_date":1290653795,"post_id":4273368,"comment_id":4633730,"body_markdown":"What errors do you get? and in which lines do you get errors?","body":"What errors do you get? and in which lines do you get errors?"},{"owner":{"account_id":25410,"reputation":20977,"user_id":65299,"accept_rate":72,"display_name":"Aaron Novstrup"},"score":5,"creation_date":1290653977,"post_id":4273368,"comment_id":4633745,"body_markdown":"Your Prime method always returns true because `n%n == 0 &amp;&amp; n%1 == 0` for all `n`.  That is, all numbers are divisible by themselves and 1. You&#39;re missing the &quot;only&quot; part of the definition.","body":"Your Prime method always returns true because <code>n%n == 0 &amp;&amp; n%1 == 0</code> for all <code>n</code>.  That is, all numbers are divisible by themselves and 1. You&#39;re missing the &quot;only&quot; part of the definition."},{"owner":{"account_id":110293,"reputation":3038,"user_id":291907,"display_name":"Adam Norberg"},"score":0,"creation_date":1290654140,"post_id":4273368,"comment_id":4633752,"body_markdown":"Unfortunately, you&#39;re not even close. Your primality algorithm doesn&#39;t work, because all numbers are divisible by themselves and zero- it&#39;s just that primes aren&#39;t divisible by anything else, and you have to implement a check for that. The Sieve of Erasthones needs 600GB of RAM to operate up to a value in the 600B range, so recursive prime factorization is the only practical strategy, and with a large problem space, it will take hours or days. This is the basis of all modern encryption: prime factorization above the size of RAM is very slow.","body":"Unfortunately, you&#39;re not even close. Your primality algorithm doesn&#39;t work, because all numbers are divisible by themselves and zero- it&#39;s just that primes aren&#39;t divisible by anything else, and you have to implement a check for that. The Sieve of Erasthones needs 600GB of RAM to operate up to a value in the 600B range, so recursive prime factorization is the only practical strategy, and with a large problem space, it will take hours or days. This is the basis of all modern encryption: prime factorization above the size of RAM is very slow."},{"owner":{"account_id":236424,"reputation":2499,"user_id":503901,"accept_rate":94,"display_name":"kachilous"},"score":0,"creation_date":1290654183,"post_id":4273368,"comment_id":4633759,"body_markdown":"Yes that was one of the logical errors, how could I fix that?","body":"Yes that was one of the logical errors, how could I fix that?"},{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1290655079,"post_id":4273368,"comment_id":4633825,"body_markdown":"@Adam, I think you mean &quot; divisible by themselves and _one_ &quot;.","body":"@Adam, I think you mean &quot; divisible by themselves and <i>one</i> &quot;."},{"owner":{"account_id":110293,"reputation":3038,"user_id":291907,"display_name":"Adam Norberg"},"score":0,"creation_date":1290666107,"post_id":4273368,"comment_id":4634774,"body_markdown":"Oops, yeah. Not paying enough attention. Krysten: The square root isn&#39;t good enough here. If 600851475143 is three times a prime number, you&#39;d need to check 1/3 of it. Furthermore, where are you getting this 700K in your isPrime loop? You need to be iterating up to number, not 7K, so your function returns false for all values other than 2. That&#39;s the square root, but it has no business being there.","body":"Oops, yeah. Not paying enough attention. Krysten: The square root isn&#39;t good enough here. If 600851475143 is three times a prime number, you&#39;d need to check 1/3 of it. Furthermore, where are you getting this 700K in your isPrime loop? You need to be iterating up to number, not 7K, so your function returns false for all values other than 2. That&#39;s the square root, but it has no business being there."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1290678641,"post_id":4273368,"comment_id":4636368,"body_markdown":"The number 600851475143... Project Euler, right? ;-)","body":"The number 600851475143... Project Euler, right? ;-)"},{"owner":{"account_id":236424,"reputation":2499,"user_id":503901,"accept_rate":94,"display_name":"kachilous"},"score":0,"creation_date":1290707871,"post_id":4273368,"comment_id":4641375,"body_markdown":"@Adam, so I changed it so the isPrime method now loops through till number but now for my loop in the main method so I iterate through till 600851475143? @Jesper yes it is","body":"@Adam, so I changed it so the isPrime method now loops through till number but now for my loop in the main method so I iterate through till 600851475143? @Jesper yes it is"}],"answers":[{"tags":[],"owner":{"account_id":218454,"reputation":2312,"user_id":474780,"accept_rate":25,"display_name":"shoebox639"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1290654490,"creation_date":1290654490,"answer_id":4273420,"question_id":4273368,"body_markdown":"You want to iterate from 2 -&gt; n-1 and make sure that n % i != 0. That&#39;s the most naive way to check for primality. As explained above, this is very very slow if the number is large.","title":"Prime Factorization Program in Java","body":"<p>You want to iterate from 2 -> n-1 and make sure that n % i != 0. That's the most naive way to check for primality. As explained above, this is very very slow if the number is large.</p>\n"},{"comments":[{"owner":{"account_id":138477,"reputation":1180,"user_id":343439,"accept_rate":82,"display_name":"AndyPerfect"},"score":0,"creation_date":1290654937,"post_id":4273439,"comment_id":4633814,"body_markdown":"You could always check 2, start at 3 and increment i by 2 every step to reduce the time by half. A simple way to improve this method of determining primality.","body":"You could always check 2, start at 3 and increment i by 2 every step to reduce the time by half. A simple way to improve this method of determining primality."}],"tags":[],"owner":{"account_id":180383,"reputation":212,"user_id":413664,"display_name":"amer"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1290654770,"creation_date":1290654770,"answer_id":4273439,"question_id":4273368,"body_markdown":"I think you&#39;re confused because there is no iff [if-and-only-if] operator.\r\n\r\nGoing to the square root of the integer in question is a good shortcut. All that remains is checking if the number within that loop divides evenly. That&#39;s simply [big number] % i == 0. There is no reason for your Prime function.\r\n\r\nSince you are looking for the largest divisor, another trick would be to start from the highest integer less than the square root and go i--.\r\n\r\nLike others have said, ultimately, this is brutally slow.","title":"Prime Factorization Program in Java","body":"<p>I think you're confused because there is no iff [if-and-only-if] operator.</p>\n\n<p>Going to the square root of the integer in question is a good shortcut. All that remains is checking if the number within that loop divides evenly. That's simply [big number] % i == 0. There is no reason for your Prime function.</p>\n\n<p>Since you are looking for the largest divisor, another trick would be to start from the highest integer less than the square root and go i--.</p>\n\n<p>Like others have said, ultimately, this is brutally slow.</p>\n"},{"comments":[{"owner":{"account_id":236424,"reputation":2499,"user_id":503901,"accept_rate":94,"display_name":"kachilous"},"score":0,"creation_date":1290655883,"post_id":4273446,"comment_id":4633888,"body_markdown":"how would you know that i is prime if your just checking to see if i divides evenly into number","body":"how would you know that i is prime if your just checking to see if i divides evenly into number"},{"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"score":0,"creation_date":1290656574,"post_id":4273446,"comment_id":4633939,"body_markdown":"@Krysten: you wouldn&#39;t. As I said, this finds factors, not just prime factors. I&#39;ve edited the answer, however, to add a method that will only show prime factors.","body":"@Krysten: you wouldn&#39;t. As I said, this finds factors, not just prime factors. I&#39;ve edited the answer, however, to add a method that will only show prime factors."},{"owner":{"account_id":197065,"reputation":5498,"user_id":440887,"accept_rate":82,"display_name":"sova"},"score":0,"creation_date":1290656795,"post_id":4273446,"comment_id":4633959,"body_markdown":"@Krysten: 29 is a prime number because there are no numbers less than 29 that evenly divide into it.  No number from 2 to 28 can divide 29 and not have a remainder or a fractional component.  Thus, you can divide a number by every integer below it to determine if it is prime or not.  You can also notice that you only have to divide it by every number up to the square root of the number you are checking, and this is because...[I will elaborate in an answer for more space/formatting]","body":"@Krysten: 29 is a prime number because there are no numbers less than 29 that evenly divide into it.  No number from 2 to 28 can divide 29 and not have a remainder or a fractional component.  Thus, you can divide a number by every integer below it to determine if it is prime or not.  You can also notice that you only have to divide it by every number up to the square root of the number you are checking, and this is because...[I will elaborate in an answer for more space/formatting]"}],"tags":[],"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1290656511,"creation_date":1290654857,"answer_id":4273446,"question_id":4273368,"body_markdown":"To find factors, you want something like:\r\n\r\n    long limit = sqrt(number);\r\n    for (long i=3; i&lt;limit; i+=2)\r\n        if (number % i == 0)\r\n            print &quot;factor = &quot; , i;\r\n\r\nIn this case, the factors are all small enough (&lt;7000) that finding them should take well under a second, even with naive code like this. Also note that this particular number has other, smaller, prime factors. For a brute force search like this, you can save a little work by dividing out the smaller factors as you find them, and then do a prime factorization of the smaller number that results. This has the advantage of only giving prime factors. Otherwise, you&#39;ll also get composite factors (e.g., this number has four prime factors, so the first method will print out not only the prime factors, but the products of various combinations of those prime factors).\r\n\r\nIf you want to optimize that a bit, you can use the sieve of Eratosthenes to find the prime numbers up to the square root, and then only attempt division by primes. In this case, the square root is ~775&#39;000, and you only need one bit per number to signify whether it&#39;s prime. You also (normally) only want to store odd numbers (since you know immediately that all even numbers but two are composite), so you need ~775&#39;000/2 bits = ~47 Kilobytes.\r\n\r\nIn this case, that has little real payoff though -- even a completely naive algorithm will appear to produce results instantly.","title":"Prime Factorization Program in Java","body":"<p>To find factors, you want something like:</p>\n\n<pre><code>long limit = sqrt(number);\nfor (long i=3; i&lt;limit; i+=2)\n    if (number % i == 0)\n        print \"factor = \" , i;\n</code></pre>\n\n<p>In this case, the factors are all small enough (&lt;7000) that finding them should take well under a second, even with naive code like this. Also note that this particular number has other, smaller, prime factors. For a brute force search like this, you can save a little work by dividing out the smaller factors as you find them, and then do a prime factorization of the smaller number that results. This has the advantage of only giving prime factors. Otherwise, you'll also get composite factors (e.g., this number has four prime factors, so the first method will print out not only the prime factors, but the products of various combinations of those prime factors).</p>\n\n<p>If you want to optimize that a bit, you can use the sieve of Eratosthenes to find the prime numbers up to the square root, and then only attempt division by primes. In this case, the square root is ~775'000, and you only need one bit per number to signify whether it's prime. You also (normally) only want to store odd numbers (since you know immediately that all even numbers but two are composite), so you need ~775'000/2 bits = ~47 Kilobytes.</p>\n\n<p>In this case, that has little real payoff though -- even a completely naive algorithm will appear to produce results instantly.</p>\n"},{"tags":[],"owner":{"account_id":197065,"reputation":5498,"user_id":440887,"accept_rate":82,"display_name":"sova"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1428660750,"creation_date":1290657725,"answer_id":4273635,"question_id":4273368,"body_markdown":"_edit: I hope this doesn&#39;t sound incredibly condescending as an answer.  I just really wanted to illustrate that from the computer&#39;s point of view, you have to check all possible numbers that could be factors of X to make sure it&#39;s prime.  Computers don&#39;t __know__ that it&#39;s composite just by looking at it, so you have to iterate_\r\n\r\nExample:  Is X a prime number?\r\n\r\nFor the case where X = 67:\r\n\r\nHow do you check this?\r\n\r\n    I divide it by 2... it has a remainder of 1 (this also tells us that 67 is an odd number)\r\n    I divide it by 3... it has a remainder of 1\r\n    I divide it by 4... it has a remainder of 3\r\n    I divide it by 5... it has a remainder of 2\r\n    I divide it by 6... it has a remainder of 1\r\n\r\nIn fact, you will only get a remainder of 0 if the number is not prime.\r\n\r\nDo you have to check every single number less than X to make sure it&#39;s prime?  Nope.  Not anymore, thanks to math (!)\r\n\r\n\r\nLet&#39;s look at a smaller number, like 16.\r\n\r\n16 is not prime.\r\n\r\nwhy? because\r\n\r\n    2*8 = 16\r\n    4*4 = 16\r\n\r\nSo 16 is divisible evenly by more than just 1 and itself. (Although &quot;1&quot; is technically not a prime number, but that&#39;s technicalities, and I digress)\r\n\r\n\r\nSo we divide 16 by 1... of course this works, this works for every number\r\n\r\n    Divide 16 by 2... we get a remainder of 0  (8*2)\r\n    Divide 16 by 3... we get a remainder of 1  \r\n    Divide 16 by 4... we get a remainder of 0  (4*4)\r\n    Divide 16 by 5... we get a remainder of 1\r\n    Divide 16 by 6... we get a remainder of 4\r\n    Divide 16 by 7... we get a remainder of 2\r\n    Divide 16 by 8... we get a remainder of 0  (8*2)\r\n\r\nWe really only need one remainder of 0 to tell us it&#39;s composite (the opposite of &quot;prime&quot; is &quot;composite&quot;).\r\n\r\nChecking if 16 is divisible by 2 is the same thing as checking if it&#39;s divisible by 8, because 2 and 8 multiply to give you 16.\r\n\r\nWe only need to check a portion of the spectrum (from 2 up to the square-root of X) because the largest number that we can multiply is sqrt(X), otherwise we are using the smaller numbers to get redundant answers.\r\n\r\nIs 17 prime?\r\n\r\n    17 % 2 = 1\r\n    17 % 3 = 2\r\n    17 % 4 = 1 &lt;--| approximately the square root of 17 [4.123...]\r\n    17 % 5 = 2 &lt;--|\r\n    17 % 6 = 5\r\n    17 % 7 = 3\r\n\r\nThe results after sqrt(X), like &lt;code&gt;17 % 7&lt;/code&gt; and so on, are redundant because they must necessarily multiply with something smaller than the sqrt(X) to yield X.\r\n\r\nThat is,\r\n\r\nA * B = X\r\n\r\nif A and B are both greater than sqrt(X) then\r\n\r\nA*B will yield a number that is greater than X.\r\n\r\n\r\nThus, one of either A or B must be smaller than sqrt(X), and it is redundant to check both of these values since you only need to know if one of them divides X evenly (the even division gives you the other value as an answer)\r\n\r\nI hope that helps.\r\n\r\n\r\nedit: There are more sophisticated methods of checking primality and Java has a built-in &quot;this number is probably prime&quot; or &quot;this number is definitely composite&quot; method in the [BigInteger class][1] as I recently learned via another SO answer :]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html","title":"Prime Factorization Program in Java","body":"<p><em>edit: I hope this doesn't sound incredibly condescending as an answer.  I just really wanted to illustrate that from the computer's point of view, you have to check all possible numbers that could be factors of X to make sure it's prime.  Computers don't <strong>know</strong> that it's composite just by looking at it, so you have to iterate</em></p>\n\n<p>Example:  Is X a prime number?</p>\n\n<p>For the case where X = 67:</p>\n\n<p>How do you check this?</p>\n\n<pre><code>I divide it by 2... it has a remainder of 1 (this also tells us that 67 is an odd number)\nI divide it by 3... it has a remainder of 1\nI divide it by 4... it has a remainder of 3\nI divide it by 5... it has a remainder of 2\nI divide it by 6... it has a remainder of 1\n</code></pre>\n\n<p>In fact, you will only get a remainder of 0 if the number is not prime.</p>\n\n<p>Do you have to check every single number less than X to make sure it's prime?  Nope.  Not anymore, thanks to math (!)</p>\n\n<p>Let's look at a smaller number, like 16.</p>\n\n<p>16 is not prime.</p>\n\n<p>why? because</p>\n\n<pre><code>2*8 = 16\n4*4 = 16\n</code></pre>\n\n<p>So 16 is divisible evenly by more than just 1 and itself. (Although \"1\" is technically not a prime number, but that's technicalities, and I digress)</p>\n\n<p>So we divide 16 by 1... of course this works, this works for every number</p>\n\n<pre><code>Divide 16 by 2... we get a remainder of 0  (8*2)\nDivide 16 by 3... we get a remainder of 1  \nDivide 16 by 4... we get a remainder of 0  (4*4)\nDivide 16 by 5... we get a remainder of 1\nDivide 16 by 6... we get a remainder of 4\nDivide 16 by 7... we get a remainder of 2\nDivide 16 by 8... we get a remainder of 0  (8*2)\n</code></pre>\n\n<p>We really only need one remainder of 0 to tell us it's composite (the opposite of \"prime\" is \"composite\").</p>\n\n<p>Checking if 16 is divisible by 2 is the same thing as checking if it's divisible by 8, because 2 and 8 multiply to give you 16.</p>\n\n<p>We only need to check a portion of the spectrum (from 2 up to the square-root of X) because the largest number that we can multiply is sqrt(X), otherwise we are using the smaller numbers to get redundant answers.</p>\n\n<p>Is 17 prime?</p>\n\n<pre><code>17 % 2 = 1\n17 % 3 = 2\n17 % 4 = 1 &lt;--| approximately the square root of 17 [4.123...]\n17 % 5 = 2 &lt;--|\n17 % 6 = 5\n17 % 7 = 3\n</code></pre>\n\n<p>The results after sqrt(X), like <code>17 % 7</code> and so on, are redundant because they must necessarily multiply with something smaller than the sqrt(X) to yield X.</p>\n\n<p>That is,</p>\n\n<p>A * B = X</p>\n\n<p>if A and B are both greater than sqrt(X) then</p>\n\n<p>A*B will yield a number that is greater than X.</p>\n\n<p>Thus, one of either A or B must be smaller than sqrt(X), and it is redundant to check both of these values since you only need to know if one of them divides X evenly (the even division gives you the other value as an answer)</p>\n\n<p>I hope that helps.</p>\n\n<p>edit: There are more sophisticated methods of checking primality and Java has a built-in \"this number is probably prime\" or \"this number is definitely composite\" method in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger class</a> as I recently learned via another SO answer :]</p>\n"},{"comments":[{"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"score":0,"creation_date":1290660071,"post_id":4273649,"comment_id":4634203,"body_markdown":"Actually, for numbers this size, the most naive method should still be fine. I did a quick change using 600852871609, which is 775147^2, and a naive test (albeit, in C++ instead of Java) still gives what appear to be instantaneous results (and timing says less than 0.1 seconds).","body":"Actually, for numbers this size, the most naive method should still be fine. I did a quick change using 600852871609, which is 775147^2, and a naive test (albeit, in C++ instead of Java) still gives what appear to be instantaneous results (and timing says less than 0.1 seconds)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1290666801,"post_id":4273649,"comment_id":4634860,"body_markdown":"@Jerry - it depends on how naively you test whether each number is prime.  I&#39;m trying to be somewhat vague here to encourage the OP to work it out for himself.","body":"@Jerry - it depends on how naively you test whether each number is prime.  I&#39;m trying to be somewhat vague here to encourage the OP to work it out for himself."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1290659355,"creation_date":1290657869,"answer_id":4273649,"question_id":4273368,"body_markdown":"You need to do some research on algorithms for factorizing *large* numbers; [this wikipedia page][1] looks like a good place to start.  In the first paragraph, it states:\r\n\r\n&gt; When the numbers are very large, no efficient integer factorization algorithm is publicly known ...\r\n\r\nbut it does list a number of special and general purpose algorithms.  You need to pick one that will work well enough to deal with 12 decimal digit numbers.  These numbers are too large for the most naive approach to work, but small enough that (for example) an approach based on enumerating the prime numbers starting from 2 would work.  (Hint - start with the Sieve of Erasthones)\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Integer_factorization","title":"Prime Factorization Program in Java","body":"<p>You need to do some research on algorithms for factorizing <em>large</em> numbers; <a href=\"http://en.wikipedia.org/wiki/Integer_factorization\" rel=\"nofollow\">this wikipedia page</a> looks like a good place to start.  In the first paragraph, it states:</p>\n\n<blockquote>\n  <p>When the numbers are very large, no efficient integer factorization algorithm is publicly known ...</p>\n</blockquote>\n\n<p>but it does list a number of special and general purpose algorithms.  You need to pick one that will work well enough to deal with 12 decimal digit numbers.  These numbers are too large for the most naive approach to work, but small enough that (for example) an approach based on enumerating the prime numbers starting from 2 would work.  (Hint - start with the Sieve of Erasthones)</p>\n"},{"comments":[{"owner":{"account_id":183774,"reputation":6442,"user_id":419371,"display_name":"kisp"},"score":0,"creation_date":1365757111,"post_id":4447077,"comment_id":22757676,"body_markdown":"Just a tip: what&#39;s with large prime numbers greater than 2147483647 (Integer.MAX_VALUE) ? Maybe you should use long as the type of the variable &quot;i&quot; in that case.","body":"Just a tip: what&#39;s with large prime numbers greater than 2147483647 (Integer.MAX_VALUE) ? Maybe you should use long as the type of the variable &quot;i&quot; in that case."},{"owner":{"display_name":"user6857832"},"score":0,"creation_date":1476277662,"post_id":4447077,"comment_id":67276496,"body_markdown":"@kisp Why are we doing `i--`?","body":"@kisp Why are we doing <code>i--</code>?"},{"owner":{"account_id":183774,"reputation":6442,"user_id":419371,"display_name":"kisp"},"score":0,"creation_date":1476348678,"post_id":4447077,"comment_id":67309852,"body_markdown":"Are you testing me? ;) This cycle take factors in order from the smallest. A number can be dived by the same for multiple times, imagine 2 * 2 * 2 * 2","body":"Are you testing me? ;) This cycle take factors in order from the smallest. A number can be dived by the same for multiple times, imagine 2 * 2 * 2 * 2"}],"tags":[],"owner":{"display_name":"user467871"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1304118365,"creation_date":1292392087,"answer_id":4447077,"question_id":4273368,"body_markdown":"Why make it so complicated? You **don&#39;t need** do anything like **isPrime()**. Divide it&#39;s least divisor(prime) and do the loop from this prime. Here is my simple code :\r\n\r\n\r\n    public class PrimeFactor {\r\n    \r\n    \tpublic static int largestPrimeFactor(long number) {\r\n    \t\tint i;\r\n    \r\n    \t\tfor (i = 2; i &lt;= number; i++) {\r\n    \t\t\tif (number % i == 0) {\r\n    \t\t\t\tnumber /= i;\r\n    \t\t\t\ti--;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn i;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(largestPrimeFactor(13195));\r\n    \t\tSystem.out.println(largestPrimeFactor(600851475143L));\r\n    \t}\r\n    }\r\n\r\n","title":"Prime Factorization Program in Java","body":"<p>Why make it so complicated? You <strong>don't need</strong> do anything like <strong>isPrime()</strong>. Divide it's least divisor(prime) and do the loop from this prime. Here is my simple code :</p>\n\n<pre><code>public class PrimeFactor {\n\n    public static int largestPrimeFactor(long number) {\n        int i;\n\n        for (i = 2; i &lt;= number; i++) {\n            if (number % i == 0) {\n                number /= i;\n                i--;\n            }\n        }\n\n        return i;\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        System.out.println(largestPrimeFactor(13195));\n        System.out.println(largestPrimeFactor(600851475143L));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":988159,"reputation":91,"user_id":1006175,"display_name":"Stijak"},"score":0,"creation_date":1333979072,"post_id":7843148,"comment_id":12896517,"body_markdown":"I just noticed that it will totally miss factors of two (although it is easy to see if the number is even when entering number) - there could be another while(composite%2==0) before this loop to check how many times it has factor of two in itself...","body":"I just noticed that it will totally miss factors of two (although it is easy to see if the number is even when entering number) - there could be another while(composite%2==0) before this loop to check how many times it has factor of two in itself..."}],"tags":[],"owner":{"account_id":988159,"reputation":91,"user_id":1006175,"display_name":"Stijak"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319152070,"creation_date":1319150703,"answer_id":7843148,"question_id":4273368,"body_markdown":"Here is very elegant answer - which uses brute force (not some fancy algorithm) but in a smart way - by lowering the limit as we find primes and devide composite by those primes...\r\n\r\nIt also prints only the primes - and just the primes, and if one prime is more then once in the product - it will print it as many times as that prime is in the product.\r\n\r\n    \r\n        public class Factorization {\r\n        public static void main(String[] args) {\r\n        long composite = 600851475143L;\r\n        int limit = (int)Math.sqrt(composite)+1;\r\n        for (int i=3; i&lt;limit; i+=2)\r\n        {\r\n            if (composite%i==0)\r\n            {\r\n                System.out.println(i);\r\n                composite = composite/i;\r\n                limit = (int)Math.sqrt(composite)+1;\r\n                i-=2;   //this is so it could check same prime again\r\n            }\r\n        }\r\n        System.out.println(composite);\r\n        }\r\n    }\r\n\r\n","title":"Prime Factorization Program in Java","body":"<p>Here is very elegant answer - which uses brute force (not some fancy algorithm) but in a smart way - by lowering the limit as we find primes and devide composite by those primes...</p>\n\n<p>It also prints only the primes - and just the primes, and if one prime is more then once in the product - it will print it as many times as that prime is in the product.</p>\n\n<pre><code>    public class Factorization {\n    public static void main(String[] args) {\n    long composite = 600851475143L;\n    int limit = (int)Math.sqrt(composite)+1;\n    for (int i=3; i&lt;limit; i+=2)\n    {\n        if (composite%i==0)\n        {\n            System.out.println(i);\n            composite = composite/i;\n            limit = (int)Math.sqrt(composite)+1;\n            i-=2;   //this is so it could check same prime again\n        }\n    }\n    System.out.println(composite);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1466721803,"post_id":14859083,"comment_id":63450148,"body_markdown":"can&#39;t handle 600851475149.","body":"can&#39;t handle 600851475149."}],"tags":[],"owner":{"account_id":2362984,"reputation":11,"user_id":2069283,"display_name":"user2069283"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360777372,"creation_date":1360775621,"answer_id":14859083,"question_id":4273368,"body_markdown":"        private static boolean isPrime(int k) throws IllegalArgumentException\r\n         {\r\n            int j;\r\n\r\n            if (k &lt; 2) throw new IllegalArgumentException(&quot;All prime numbers are greater than 1.&quot;);\r\n            else {\r\n                for (j = 2; j &lt; k; j++) {\r\n                    if (k % j == 0) return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        public static void primeFactorsOf(int n) {\r\n            boolean found = false;\r\n\r\n            if (isPrime(n) == true) System.out.print(n + &quot; &quot;);\r\n            else {\r\n                int i = 2;\r\n                while (found == false) {\r\n                    if ((n % i == 0) &amp;&amp; (isPrime(i))) {\r\n                        System.out.print(i + &quot;, &quot;);\r\n                        found = true;\r\n                    } else i++;\r\n                }\r\n                primeFactorsOf(n / i);\r\n            }\r\n        }","title":"Prime Factorization Program in Java","body":"<pre><code>    private static boolean isPrime(int k) throws IllegalArgumentException\n     {\n        int j;\n\n        if (k &lt; 2) throw new IllegalArgumentException(\"All prime numbers are greater than 1.\");\n        else {\n            for (j = 2; j &lt; k; j++) {\n                if (k % j == 0) return false;\n            }\n        }\n\n        return true;\n    }\n\n    public static void primeFactorsOf(int n) {\n        boolean found = false;\n\n        if (isPrime(n) == true) System.out.print(n + \" \");\n        else {\n            int i = 2;\n            while (found == false) {\n                if ((n % i == 0) &amp;&amp; (isPrime(i))) {\n                    System.out.print(i + \", \");\n                    found = true;\n                } else i++;\n            }\n            primeFactorsOf(n / i);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1466721734,"post_id":37979353,"comment_id":63450121,"body_markdown":"HI, and welcome to Stack Overflow. :) how about 600851475149, can you find two key improvements to your code so that it could factorize that number, in a sane amount of time? (and the top-voted answer here is no good, like most of the rest of them, unfortunately).","body":"HI, and welcome to Stack Overflow. :) how about 600851475149, can you find two key improvements to your code so that it could factorize that number, in a sane amount of time? (and the top-voted answer here is no good, like most of the rest of them, unfortunately)."},{"owner":{"account_id":8687329,"reputation":1,"user_id":6501333,"display_name":"Ben Colson"},"score":0,"creation_date":1536298059,"post_id":37979353,"comment_id":91380458,"body_markdown":"Hi! Sorry I never saw your comment, but I figured better late than never. One thing I though of would be to create a list beginning 0,0,2,3,0,5,0,7,0... and containing zeroes in place for all elements except those of the form 6k-1 and 6k+1, where the number itself sits there, and going up to floor(sqrt(n)). Then, skipping zeroes, dividing out all instances of a given number, storing that number, and then replacing it and all its multiples with 0. This combines the 6k-1 and 6k+1 trick, the Sieve of Eratosthenes, as well as reducing the maximum number to test. What other tricks am I missing?","body":"Hi! Sorry I never saw your comment, but I figured better late than never. One thing I though of would be to create a list beginning 0,0,2,3,0,5,0,7,0... and containing zeroes in place for all elements except those of the form 6k-1 and 6k+1, where the number itself sits there, and going up to floor(sqrt(n)). Then, skipping zeroes, dividing out all instances of a given number, storing that number, and then replacing it and all its multiples with 0. This combines the 6k-1 and 6k+1 trick, the Sieve of Eratosthenes, as well as reducing the maximum number to test. What other tricks am I missing?"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1536315397,"post_id":37979353,"comment_id":91389246,"body_markdown":"Hi. You describe a complete re-write. I meant, make two changes in `long maxPossibleFactor = n / 2;\n        for (long i = 2; i &lt;= maxPossibleFactor; i++){ ... }`.","body":"Hi. You describe a complete re-write. I meant, make two changes in <code>long maxPossibleFactor = n &#47; 2;         for (long i = 2; i &lt;= maxPossibleFactor; i++){ ... }</code>."},{"owner":{"account_id":8687329,"reputation":1,"user_id":6501333,"display_name":"Ben Colson"},"score":0,"creation_date":1536358625,"post_id":37979353,"comment_id":91410070,"body_markdown":"Hmm, perhaps set maxPossibleFactor = floor(sqrt(n)) and instead of i++, divide out factors of 2 and 3 first, and then increase i by two each time i.e. i+=2 (and then replace the i-- inside the for loop with i-=2). As an aside, how do you insert into comments text that has the code-like format?","body":"Hmm, perhaps set maxPossibleFactor = floor(sqrt(n)) and instead of i++, divide out factors of 2 and 3 first, and then increase i by two each time i.e. i+=2 (and then replace the i-- inside the for loop with i-=2). As an aside, how do you insert into comments text that has the code-like format?"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1536412302,"post_id":37979353,"comment_id":91419814,"body_markdown":"increase by 2 *until when?* is the question. for code formatting, enclose code in backticks ``(`...`)``. If the code contains backticks, enclose in double-backticks.","body":"increase by 2 <i>until when?</i> is the question. for code formatting, enclose code in backticks <code>(`...`)</code>. If the code contains backticks, enclose in double-backticks."}],"tags":[],"owner":{"account_id":8687329,"reputation":1,"user_id":6501333,"display_name":"Ben Colson"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466715227,"creation_date":1466634999,"answer_id":37979353,"question_id":4273368,"body_markdown":"For those answers which use a method `isPrime(int) : boolean`, there is a faster algorithm than the one previously implemented (which is something like)\r\n\r\n    private static boolean isPrime(long n) { //when n &gt;= 2\r\n        for (int k = 2; k &lt; n; k++)\r\n            if (n % k == 0) return false;\r\n    \r\n        return true;\r\n    }\r\nand it is this:\r\n\r\n    private static boolean isPrime(long n) { //when n &gt;= 2\r\n        if (n == 2 || n == 3) return true;\r\n    \r\n        if (n % 2  == 0 || n % 3 == 0) return false;\r\n    \r\n        for (int k = 1; k &lt;= (Math.floor(Math.sqrt(n)) + 1) / 6; k++)\r\n            if (n % (6 * k + 1) == 0 || n % (6 * k - 1) == 0) return false;\r\n    \r\n        return true;\r\n    }\r\nI made this algorithm using two facts:\r\n\r\n 1. We only need to check for `n % k == 0` up to `k &lt;= Math.sqrt(n)`. This is true because for anything higher, factors merely &quot;flip&quot; ex. consider the case `n = 15`, where `3 * 5` = `5 * 3`, and `5` &gt; `Math.sqrt(15)`. There is no need for this overlap of checking both `15 % 3 == 0` and `15 % 5 == 0`, when we could just check one of these expressions.\r\n 2. All primes (excluding `2` and `3`) can be expressed in the form `(6 * k) + 1` or `(6 * k) - 1`, because any positive integer can be expressed in the form `(6 * k) + n`, where `n = -1, 0, 1, 2, 3, or 4` and `k` is an integer `&lt;= 0`, and the cases where `n = 0, 2, 3, and 4` are all reducible.\r\n\r\nTherefore, `n` is prime if it is not divisible by `2`, `3`, or some integer of the form `6k &#177; 1 &lt;= Math.sqrt(n)`. Hence the above algorithm.\r\n\r\n--\r\n\r\n[Wikipedia article on testing for primality][1]\r\n\r\n--\r\n\r\nEdit: Thought I might as well post my full solution (*I did not use `isPrime()`, and my solution is nearly identical to the top answer, but I thought I should answer the actual question):\r\n\r\n    public class Euler3 {\r\n        \r\n        public static void main(String[] args) {\r\n            long[] nums = {13195, 600851475143L};\r\n            \r\n            for (num : nums)\r\n                System.out.println(&quot;Largest prime factor of &quot; + num + &quot;: &quot; + lpf(num));\r\n    \r\n        }\r\n    \r\n        private static lpf(long n) {\r\n            long largestPrimeFactor = 1;\r\n            long maxPossibleFactor = n / 2;\r\n            \r\n            for (long i = 2; i &lt;= maxPossibleFactor; i++)\r\n                if (n % i == 0) {\r\n                    n /= i;\r\n                    largestPrimeFactor = i;\r\n                    \r\n                    i--;\r\n                }\r\n                \r\n                return largestPrimeFactor;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Primality_test","title":"Prime Factorization Program in Java","body":"<p>For those answers which use a method <code>isPrime(int) : boolean</code>, there is a faster algorithm than the one previously implemented (which is something like)</p>\n\n<pre><code>private static boolean isPrime(long n) { //when n &gt;= 2\n    for (int k = 2; k &lt; n; k++)\n        if (n % k == 0) return false;\n\n    return true;\n}\n</code></pre>\n\n<p>and it is this:</p>\n\n<pre><code>private static boolean isPrime(long n) { //when n &gt;= 2\n    if (n == 2 || n == 3) return true;\n\n    if (n % 2  == 0 || n % 3 == 0) return false;\n\n    for (int k = 1; k &lt;= (Math.floor(Math.sqrt(n)) + 1) / 6; k++)\n        if (n % (6 * k + 1) == 0 || n % (6 * k - 1) == 0) return false;\n\n    return true;\n}\n</code></pre>\n\n<p>I made this algorithm using two facts:</p>\n\n<ol>\n<li>We only need to check for <code>n % k == 0</code> up to <code>k &lt;= Math.sqrt(n)</code>. This is true because for anything higher, factors merely \"flip\" ex. consider the case <code>n = 15</code>, where <code>3 * 5</code> = <code>5 * 3</code>, and <code>5</code> > <code>Math.sqrt(15)</code>. There is no need for this overlap of checking both <code>15 % 3 == 0</code> and <code>15 % 5 == 0</code>, when we could just check one of these expressions.</li>\n<li>All primes (excluding <code>2</code> and <code>3</code>) can be expressed in the form <code>(6 * k) + 1</code> or <code>(6 * k) - 1</code>, because any positive integer can be expressed in the form <code>(6 * k) + n</code>, where <code>n = -1, 0, 1, 2, 3, or 4</code> and <code>k</code> is an integer <code>&lt;= 0</code>, and the cases where <code>n = 0, 2, 3, and 4</code> are all reducible.</li>\n</ol>\n\n<p>Therefore, <code>n</code> is prime if it is not divisible by <code>2</code>, <code>3</code>, or some integer of the form <code>6k ± 1 &lt;= Math.sqrt(n)</code>. Hence the above algorithm.</p>\n\n<p>--</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Primality_test\" rel=\"nofollow\">Wikipedia article on testing for primality</a></p>\n\n<p>--</p>\n\n<p>Edit: Thought I might as well post my full solution (*I did not use <code>isPrime()</code>, and my solution is nearly identical to the top answer, but I thought I should answer the actual question):</p>\n\n<pre><code>public class Euler3 {\n\n    public static void main(String[] args) {\n        long[] nums = {13195, 600851475143L};\n\n        for (num : nums)\n            System.out.println(\"Largest prime factor of \" + num + \": \" + lpf(num));\n\n    }\n\n    private static lpf(long n) {\n        long largestPrimeFactor = 1;\n        long maxPossibleFactor = n / 2;\n\n        for (long i = 2; i &lt;= maxPossibleFactor; i++)\n            if (n % i == 0) {\n                n /= i;\n                largestPrimeFactor = i;\n\n                i--;\n            }\n\n            return largestPrimeFactor;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8163620,"reputation":2078,"user_id":6146801,"display_name":"&#214;mer Sezer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478631049,"creation_date":1478631049,"answer_id":40494362,"question_id":4273368,"body_markdown":"To find all prime factorization\r\n\r\n\r\n    import java.math.BigInteger;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class BigIntegerTest {\r\n    \t\r\n    \t\r\n    \t public static void main(String[] args) {\r\n    \t       \r\n    \t\t    \r\n    \t\t \tBigInteger myBigInteger = new BigInteger(&quot;65328734260653234260&quot;);//653234254\r\n    \t\t \tBigInteger originalBigInteger;\r\n    \t\t \tBigInteger oneAddedOriginalBigInteger;\r\n    \t\t \toriginalBigInteger=myBigInteger;\r\n    \t\t \toneAddedOriginalBigInteger=originalBigInteger.add(BigInteger.ONE);\r\n    \t\t \tBigInteger index;\r\n    \t\t \tBigInteger countBig;\r\n    \t\t \t\r\n    \t\t \r\n    \t\t \tfor (index=new BigInteger(&quot;2&quot;);  index.compareTo(myBigInteger.add(BigInteger.ONE)) &lt;0; index = index.add(BigInteger.ONE)){\r\n    \t\t \t\r\n    \t\t \t\tcountBig=BigInteger.ZERO;\r\n    \t\t \t\twhile(myBigInteger.remainder(index) == BigInteger.ZERO ){\r\n    \t\t \t\t\tmyBigInteger=myBigInteger.divide(index);\r\n    \t\t \t\t\tcountBig=countBig.add(BigInteger.ONE);\r\n    \t\t \t\t}\r\n    \t\t \t\t\r\n    \t\t \t\tif(countBig.equals(BigInteger.ZERO)) continue;\r\n    \t\t \t\tSystem.out.println(index+ &quot;**&quot; + countBig);\r\n    \t\t \t\t\r\n    \t\t \t}\r\n    \t\t \tSystem.out.println(&quot;Program is ended!&quot;);\r\n    \t }\r\n    }","title":"Prime Factorization Program in Java","body":"<p>To find all prime factorization</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.util.Scanner;\n\n\npublic class BigIntegerTest {\n\n\n     public static void main(String[] args) {\n\n\n            BigInteger myBigInteger = new BigInteger(\"65328734260653234260\");//653234254\n            BigInteger originalBigInteger;\n            BigInteger oneAddedOriginalBigInteger;\n            originalBigInteger=myBigInteger;\n            oneAddedOriginalBigInteger=originalBigInteger.add(BigInteger.ONE);\n            BigInteger index;\n            BigInteger countBig;\n\n\n            for (index=new BigInteger(\"2\");  index.compareTo(myBigInteger.add(BigInteger.ONE)) &lt;0; index = index.add(BigInteger.ONE)){\n\n                countBig=BigInteger.ZERO;\n                while(myBigInteger.remainder(index) == BigInteger.ZERO ){\n                    myBigInteger=myBigInteger.divide(index);\n                    countBig=countBig.add(BigInteger.ONE);\n                }\n\n                if(countBig.equals(BigInteger.ZERO)) continue;\n                System.out.println(index+ \"**\" + countBig);\n\n            }\n            System.out.println(\"Program is ended!\");\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9599650,"reputation":1,"user_id":7127668,"display_name":"Steven Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479314749,"creation_date":1479307516,"answer_id":40635026,"question_id":4273368,"body_markdown":"I got a very similar problem for my programming class.  In my class it had to calculate for an inputted number.  I used a solution very similar to Stijak.  I edited my code to do the number from this problem instead of using an input.\r\n\r\nSome differences from Stijak&#39;s code are these:\r\n\r\nI considered even numbers in my code.\r\n\r\nMy code only prints the largest prime factor, not all factors.\r\n\r\nI don&#39;t recalculate the factorLimit until I have divided all instances of the current factor off.\r\n\r\nI had all the variables declared as long because I wanted the flexibility of using it for very large values of number.  I found the worst case scenario was a very large prime number like 9223372036854775783, or a very large number with a prime number square root like 9223371994482243049.  The more factors a number has the faster the algorithm runs.  Therefore, the best case scenario would be numbers like 4611686018427387904 (2^62) or 6917529027641081856 (3*2^61) because both have 62 factors.\r\n\r\n    public class LargestPrimeFactor\r\n    {\r\n    \tpublic static void main (String[] args){\r\n\t    \tlong number=600851475143L, factoredNumber=number, factor, factorLimit, maxPrimeFactor;\r\n\t    \twhile(factoredNumber%2==0)\r\n\t\t    \tfactoredNumber/=2;\r\n\t\t    factorLimit=(long)Math.sqrt(factoredNumber);\r\n\t\t    for(factor=3;factor&lt;=factorLimit;factor+=2){\r\n\t\t    \tif(factoredNumber%factor==0){\r\n\t\t    \t\tdo\tfactoredNumber/=factor;\r\n\t\t\t    \twhile(factoredNumber%factor==0);\r\n\t\t\t    \tfactorLimit=(long)Math.sqrt(factoredNumber);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    if(factoredNumber==1)\r\n\t\t\t    if(factor==3)\r\n\t\t\t    \tmaxPrimeFactor=2;\r\n\t\t\t    else\r\n\t\t\t    \tmaxPrimeFactor=factor-2;\r\n\t\t    else\r\n\t\t    \tmaxPrimeFactor=factoredNumber;\r\n\t\t    if(maxPrimeFactor==number)\r\n\t\t\t    System.out.println(&quot;Number is prime.&quot;);\r\n\t\t    else\r\n\t\t\t    System.out.println(&quot;The largest prime factor is &quot;+maxPrimeFactor);\r\n\t    }\r\n    }","title":"Prime Factorization Program in Java","body":"<p>I got a very similar problem for my programming class.  In my class it had to calculate for an inputted number.  I used a solution very similar to Stijak.  I edited my code to do the number from this problem instead of using an input.</p>\n\n<p>Some differences from Stijak's code are these:</p>\n\n<p>I considered even numbers in my code.</p>\n\n<p>My code only prints the largest prime factor, not all factors.</p>\n\n<p>I don't recalculate the factorLimit until I have divided all instances of the current factor off.</p>\n\n<p>I had all the variables declared as long because I wanted the flexibility of using it for very large values of number.  I found the worst case scenario was a very large prime number like 9223372036854775783, or a very large number with a prime number square root like 9223371994482243049.  The more factors a number has the faster the algorithm runs.  Therefore, the best case scenario would be numbers like 4611686018427387904 (2^62) or 6917529027641081856 (3*2^61) because both have 62 factors.</p>\n\n<pre><code>public class LargestPrimeFactor\n{\n    public static void main (String[] args){\n        long number=600851475143L, factoredNumber=number, factor, factorLimit, maxPrimeFactor;\n        while(factoredNumber%2==0)\n            factoredNumber/=2;\n        factorLimit=(long)Math.sqrt(factoredNumber);\n        for(factor=3;factor&lt;=factorLimit;factor+=2){\n            if(factoredNumber%factor==0){\n                do  factoredNumber/=factor;\n                while(factoredNumber%factor==0);\n                factorLimit=(long)Math.sqrt(factoredNumber);\n            }\n        }\n        if(factoredNumber==1)\n            if(factor==3)\n                maxPrimeFactor=2;\n            else\n                maxPrimeFactor=factor-2;\n        else\n            maxPrimeFactor=factoredNumber;\n        if(maxPrimeFactor==number)\n            System.out.println(\"Number is prime.\");\n        else\n            System.out.println(\"The largest prime factor is \"+maxPrimeFactor);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3210169,"reputation":1,"user_id":2710322,"display_name":"user2710322"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517117670,"creation_date":1517117670,"answer_id":48483499,"question_id":4273368,"body_markdown":"    public class Prime\r\n    {\r\n     int i;   \r\n          \r\n     public Prime( )\r\n     {\r\n        i = 2;\r\n     }\r\n       \r\n     public boolean isPrime( int test ) \r\n     {\r\n        int k;\r\n    \r\n        if( test &lt; 2 )\r\n       \t    return false;\r\n       \telse if( test == 2 )  \r\n       \t\treturn true;\r\n       \telse if( ( test &gt; 2 ) &amp;&amp; ( test % 2 == 0 ) )\r\n       \t\treturn false;\r\n       \telse\r\n       \t{\r\n       \t\tfor( k = 3; k &lt; ( test/2 ); k += 2 )\r\n       \t\t{\r\n       \t\t\tif( test % k == 0 )\t\r\n       \t\t\t\treturn false;\r\n       \t\t}\r\n       \r\n       \t}\r\n          \r\n        return true;\r\n       \r\n     }\r\n          \r\n     public void primeFactors( int factorize )\r\n     {\r\n        if( isPrime( factorize ) )\r\n        {\r\n            System.out.println( factorize );\r\n            i = 2;\r\n        }\r\n        else\r\n        {\r\n            if( isPrime( i ) &amp;&amp; ( factorize % i == 0 ) )\r\n            {\r\n                System.out.print( i+&quot;, &quot; );\r\n                primeFactors( factorize / i );\r\n            }\r\n            else\r\n            {\r\n                i++;\r\n                primeFactors( factorize );\r\n            }\r\n       }\r\n       \r\n       public static void main( String[ ] args )\r\n       {\r\n           Prime p = new Prime( );\r\n    \r\n           p.primeFactors( 649 );\r\n           p.primeFactors( 144 );\r\n           p.primeFactors( 1001 );\r\n       }\r\n    }","title":"Prime Factorization Program in Java","body":"<pre><code>public class Prime\n{\n int i;   \n\n public Prime( )\n {\n    i = 2;\n }\n\n public boolean isPrime( int test ) \n {\n    int k;\n\n    if( test &lt; 2 )\n        return false;\n    else if( test == 2 )  \n        return true;\n    else if( ( test &gt; 2 ) &amp;&amp; ( test % 2 == 0 ) )\n        return false;\n    else\n    {\n        for( k = 3; k &lt; ( test/2 ); k += 2 )\n        {\n            if( test % k == 0 ) \n                return false;\n        }\n\n    }\n\n    return true;\n\n }\n\n public void primeFactors( int factorize )\n {\n    if( isPrime( factorize ) )\n    {\n        System.out.println( factorize );\n        i = 2;\n    }\n    else\n    {\n        if( isPrime( i ) &amp;&amp; ( factorize % i == 0 ) )\n        {\n            System.out.print( i+\", \" );\n            primeFactors( factorize / i );\n        }\n        else\n        {\n            i++;\n            primeFactors( factorize );\n        }\n   }\n\n   public static void main( String[ ] args )\n   {\n       Prime p = new Prime( );\n\n       p.primeFactors( 649 );\n       p.primeFactors( 144 );\n       p.primeFactors( 1001 );\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":236424,"reputation":2499,"user_id":503901,"accept_rate":94,"display_name":"kachilous"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30633,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":4447077,"answer_count":12,"score":3,"last_activity_date":1696120804,"creation_date":1290653709,"question_id":4273368,"body_markdown":"I am working on a prime factorization program implemented in Java. \r\nThe goal is to find the largest prime factor of 600851475143 (&lt;a href=&quot;http://projecteuler.net/index.php?section=problems&amp;id=3&quot;&gt;Project Euler problem 3&lt;/a&gt;). \r\nI think I have most of it done, but I am getting a few errors. \r\nAlso my logic seems to be off, in particular the method that I have set up for checking to see if a number is prime. \r\n\r\n\tpublic class PrimeFactor {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint count = 0;\r\n\t\t\tfor (int i = 0; i &lt; Math.sqrt(600851475143L); i++) {\r\n\t\t\t\tif (Prime(i) &amp;&amp; i % Math.sqrt(600851475143L) == 0) {\r\n\t\t\t\t\tcount = i;\r\n\t\t\t\t\tSystem.out.println(count);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static boolean Prime(int n) {\r\n\t\t\tboolean isPrime = false;\r\n\t\t\t// A number is prime iff it is divisible by 1 and itself only\r\n\t\t\tif (n % n == 0 &amp;&amp; n % 1 == 0) {\r\n\t\t\t\tisPrime = true;\r\n\t\t\t}\r\n\t\t\treturn isPrime;\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Edit**\r\n\r\n\tpublic class PrimeFactor {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfor (int i = 2; i &lt;= 600851475143L; i++) {\r\n\t\t\t\tif (isPrime(i) == true) {\r\n\t\t\t\t\tSystem.out.println(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static boolean isPrime(int number) {\r\n\t\t\tif (number == 1) return false;\r\n\t\t\tif (number == 2) return true;\r\n\t\t\tif (number % 2 == 0) return false;\r\n\t\t\tfor (int i = 3; i &lt;= number; i++) {\r\n\t\t\t\tif (number % i == 0) return false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n","title":"Prime Factorization Program in Java","body":"<p>I am working on a prime factorization program implemented in Java. \nThe goal is to find the largest prime factor of 600851475143 (<a href=\"http://projecteuler.net/index.php?section=problems&amp;id=3\" rel=\"nofollow\">Project Euler problem 3</a>). \nI think I have most of it done, but I am getting a few errors. \nAlso my logic seems to be off, in particular the method that I have set up for checking to see if a number is prime. </p>\n\n<pre><code>public class PrimeFactor {\n\n    public static void main(String[] args) {\n        int count = 0;\n        for (int i = 0; i &lt; Math.sqrt(600851475143L); i++) {\n            if (Prime(i) &amp;&amp; i % Math.sqrt(600851475143L) == 0) {\n                count = i;\n                System.out.println(count);\n            }\n        }\n    }\n\n    public static boolean Prime(int n) {\n        boolean isPrime = false;\n        // A number is prime iff it is divisible by 1 and itself only\n        if (n % n == 0 &amp;&amp; n % 1 == 0) {\n            isPrime = true;\n        }\n        return isPrime;\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<pre><code>public class PrimeFactor {\n\n    public static void main(String[] args) {\n        for (int i = 2; i &lt;= 600851475143L; i++) {\n            if (isPrime(i) == true) {\n                System.out.println(i);\n            }\n        }\n    }\n\n    public static boolean isPrime(int number) {\n        if (number == 1) return false;\n        if (number == 2) return true;\n        if (number % 2 == 0) return false;\n        for (int i = 3; i &lt;= number; i++) {\n            if (number % i == 0) return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","geohashing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696086331,"post_id":77206523,"comment_id":136110401,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696119405,"creation_date":1696119405,"answer_id":77208838,"question_id":77206523,"body_markdown":"Based on your example it works with `t9yu8v` and `vtejpg` but fails on `t9yu8Y`, which makes sense since the last one is not correct geohash from Elasticsearch&#39;s perspective.The last character in it is invalid. \r\n\r\nThat is expected behavior, but the intermittent error with `vtejpg` that you are describing in your question is not really possible since there is no state in this utility class that would behave differently in sequential runs.","title":"GeoHashUtils Library not working as expected","body":"<p>Based on your example it works with <code>t9yu8v</code> and <code>vtejpg</code> but fails on <code>t9yu8Y</code>, which makes sense since the last one is not correct geohash from Elasticsearch's perspective.The last character in it is invalid.</p>\n<p>That is expected behavior, but the intermittent error with <code>vtejpg</code> that you are describing in your question is not really possible since there is no state in this utility class that would behave differently in sequential runs.</p>\n"}],"owner":{"account_id":29568599,"reputation":1,"user_id":22661343,"display_name":"Tushar Arora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696119405,"creation_date":1696067885,"question_id":77206523,"body_markdown":"    public static void main(String[] args) {\r\n            List&lt;String&gt; geoList = Arrays.asList(&quot;t9yu8v&quot;, &quot;vtejpg&quot;, &quot;t9yu8Y&quot;, &quot;vtejpg&quot;, &quot;t9yu8Y&quot;);\r\n            for(String s : geoList) {\r\n                try {\r\n                    GeoHashUtils.bbox(s);\r\n                    System.out.println(&quot;Success in &quot; + s);\r\n                } catch (Exception ex) {\r\n                    System.out.println(&quot;Exception in &quot; + s);\r\n                }\r\n            }\r\n        }\r\n\r\norg.elasticsearch.common.geo.GeoHashUtils.java is the class present in maven dependency of elastic search version 6.5.0/6.8.23\r\nThis code sometimes giving success, sometimes throwing exception for the same geohash\r\n\r\n\r\n    Output - \r\n    Success in t9yu8v\r\n    Success in vtejpg\r\n    Exception in t9yu8Y\r\n    Success in vtejpg\r\n    Exception in t9yu8Y\r\n\r\nIn the first run, vtejpg giving success, but giving exception in subsequent run.\r\n\r\n\r\n","title":"GeoHashUtils Library not working as expected","body":"<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; geoList = Arrays.asList(&quot;t9yu8v&quot;, &quot;vtejpg&quot;, &quot;t9yu8Y&quot;, &quot;vtejpg&quot;, &quot;t9yu8Y&quot;);\n        for(String s : geoList) {\n            try {\n                GeoHashUtils.bbox(s);\n                System.out.println(&quot;Success in &quot; + s);\n            } catch (Exception ex) {\n                System.out.println(&quot;Exception in &quot; + s);\n            }\n        }\n    }\n</code></pre>\n<p>org.elasticsearch.common.geo.GeoHashUtils.java is the class present in maven dependency of elastic search version 6.5.0/6.8.23\nThis code sometimes giving success, sometimes throwing exception for the same geohash</p>\n<pre><code>Output - \nSuccess in t9yu8v\nSuccess in vtejpg\nException in t9yu8Y\nSuccess in vtejpg\nException in t9yu8Y\n</code></pre>\n<p>In the first run, vtejpg giving success, but giving exception in subsequent run.</p>\n"},{"tags":["java","spring-boot","graphql","endpoint","graphiql"],"answers":[{"tags":[],"owner":{"account_id":4830842,"reputation":1,"user_id":3899081,"display_name":"studix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693300330,"creation_date":1693300330,"answer_id":76998829,"question_id":74812016,"body_markdown":"I&#39;m also having problems to get Spring Graphql working in a multi-module project. According to the docs the schema location configuration must be adjusted like this:\r\n\r\n    //application.properties\r\n    spring.graphql.schema.location=classpath*:graphql/**/\r\n\r\nWhen I start the application with this configuration I get an UnsatisfiedDependencyException with the following error:\r\n\r\n    errors=[&#39;XY&#39; type [@1:1] tried to redefine existing &#39;XY&#39; type [@6887:1]\r\n\r\nWhen I move the schema file to the root project the controllers in my sub project are not picked up.\r\n","title":"SpringBoot not exposing GraphQL","body":"<p>I'm also having problems to get Spring Graphql working in a multi-module project. According to the docs the schema location configuration must be adjusted like this:</p>\n<pre><code>//application.properties\nspring.graphql.schema.location=classpath*:graphql/**/\n</code></pre>\n<p>When I start the application with this configuration I get an UnsatisfiedDependencyException with the following error:</p>\n<pre><code>errors=['XY' type [@1:1] tried to redefine existing 'XY' type [@6887:1]\n</code></pre>\n<p>When I move the schema file to the root project the controllers in my sub project are not picked up.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1696413265,"post_id":77208785,"comment_id":136148582,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77208785/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7811349,"reputation":33,"user_id":5907451,"display_name":"Zeeshan Tufail"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696117650,"creation_date":1696117650,"answer_id":77208785,"question_id":74812016,"body_markdown":"This fixed it for me:\r\n\r\n    //application.yaml\r\n    spring:\r\n      graphql:\r\n        schema:\r\n          locations: [classpath*:graphql/**, classpath*:subproject/graphql/**]","title":"SpringBoot not exposing GraphQL","body":"<p>This fixed it for me:</p>\n<pre><code>//application.yaml\nspring:\n  graphql:\n    schema:\n      locations: [classpath*:graphql/**, classpath*:subproject/graphql/**]\n</code></pre>\n"}],"owner":{"account_id":11479999,"reputation":56,"user_id":8414388,"display_name":"Ayman Subbagh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696117650,"creation_date":1671109610,"question_id":74812016,"body_markdown":"I have a multi-module project where one of them is the GraphQL module\r\nthe Runnable File is in a different module with a working RestController\r\nthe GraphQLController is not exposed.&lt;be&gt;\r\nI have tried to move the application.properties to the runnable module didn&#39;t work, tried to move the GraphQLController also didn&#39;t work I even moved all files to the runnable module and nothing happened.&lt;be&gt;\r\nmy dependencies are fine my gradle is fine\r\nI am sure my code works but only separately I tried it and it did work but I&#39;m working on a multi-module project so I can&#39;t just run it separately.&lt;be&gt;\r\nwhat seems the problem here, I googled the problem and tried every related solution\r\n&lt;br&gt;**files architecture:**\r\n```\r\n-root\r\n   |_graphql-service\r\n   |    |_main\r\n   |       |_java\r\n   |       |  |_com.example.graphql\r\n   |       |      |_Author\r\n   |       |      |_Book\r\n   |       |      |_GraphQLController\r\n   |       |_resources\r\n   |              |_graphql\r\n   |              | |_schema.graphqls\r\n   |              |\r\n   |              |_application.properties\r\n   |        \r\n   |_service-main\r\n           |_main\r\n              |_java\r\n                 |_com.example.service.main\r\n                       |_ServiceMain\r\n                       |_RestController\r\n```\r\n\r\n**schema.graphqls**\r\n```\r\ntype Query {\r\n    bookById(id: ID): Book\r\n}\r\n\r\ntype Book {\r\n    id: ID\r\n    name: String\r\n    pageCount: Int\r\n    author: Author\r\n}\r\n\r\ntype Author {\r\n    id: ID\r\n    firstName: String\r\n    lastName: String\r\n}\r\n```\r\n\r\n**ServiceMain.java**\r\n```\r\n@SpringBootApplication\r\npublic class ServiceMain {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ServiceMain.class, args);\r\n    }\r\n}\r\n```\r\n**GraphQLController.java**\r\n```\r\n@Controller\r\npublic class GraphQLController {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(GraphQLController.class);\r\n\r\n    @QueryMapping\r\n    public Book bookById(@Argument String id){\r\n        LOG.info(&quot;Invoking bookById&quot;);\r\n        return Book.getById(id);\r\n    }\r\n\r\n    @SchemaMapping\r\n    public Author author(Book book){\r\n        LOG.info(&quot;Invoking author&quot;);\r\n        return Author.getById(book.getAuthorId());\r\n    }\r\n}\r\n\r\n```\r\n**Book.java**\r\n```\r\npublic class Book {\r\n\r\n    private String id;\r\n    private String name;\r\n    private int pageCount;\r\n    private String authorId;\r\n    private static final Logger LOG = LoggerFactory.getLogger(Book.class);\r\n\r\n    public Book(String id, String name, int pageCount, String authorId){\r\n        LOG.info(&quot;Initializing Book Object&quot;);\r\n        this.id = id;\r\n        this.name = name;\r\n        this.pageCount = pageCount;\r\n        this.authorId = authorId;\r\n    }\r\n\r\n    private static List&lt;Book&gt; books = Arrays.asList(\r\n            new Book(&quot;0&quot;, &quot;name-0&quot;, 345, &quot;0&quot;),\r\n            new Book(&quot;1&quot;, &quot;name-1&quot;, 543, &quot;1&quot;),\r\n            new Book(&quot;2&quot;, &quot;name-2&quot;, 123, &quot;2&quot;),\r\n            new Book(&quot;3&quot;, &quot;name-3&quot;, 678, &quot;3&quot;)\r\n    );\r\n\r\n    public static Book getById(String id){\r\n        LOG.info(&quot;Filtering Books By ID&quot;);\r\n        return books.stream().filter(\r\n                book -&gt; book.getId().equals(id)\r\n        ).findFirst().orElse(null);\r\n    }\r\n\r\n    public String getId(){\r\n        LOG.info(&quot;Getting Book ID&quot;);\r\n        return id;\r\n    }\r\n    public String getAuthorId(){\r\n        LOG.info(&quot;Getting Author ID&quot;);\r\n        return authorId;\r\n    }\r\n}\r\n```\r\n**Author.java**\r\n```\r\npublic class Author {\r\n\r\n    private String id;\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(Author.class);\r\n\r\n    public Author(String id, String firstName, String lastName){\r\n        LOG.info(&quot;Initializing Author Object&quot;);\r\n        this.id = id;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    private static List&lt;Author&gt; authors = Arrays.asList(\r\n            new Author(&quot;0&quot;, &quot;name-0&quot;, &quot;last-name-0&quot;),\r\n            new Author(&quot;1&quot;, &quot;name-1&quot;, &quot;last-name-1&quot;),\r\n            new Author(&quot;2&quot;, &quot;name-2&quot;, &quot;last-name-2&quot;),\r\n            new Author(&quot;4&quot;, &quot;name-3&quot;, &quot;last-name-3&quot;)\r\n    );\r\n\r\n    public static Author getById(String id){\r\n        LOG.info(&quot;Getting Author By ID&quot;);\r\n        return authors.stream().filter(\r\n                author -&gt; author.getId().equals(id)\r\n        ).findFirst().orElse(null);\r\n    }\r\n    public String getId(){\r\n        LOG.info(&quot;Getting Author ID&quot;);\r\n        return id;\r\n    }\r\n}\r\n```\r\n**application.properties**\r\n```\r\nspring.graphql.graphiql.enabled=true\r\nspring.graphql.graphiql.path=/graphiql\r\n```","title":"SpringBoot not exposing GraphQL","body":"<p>I have a multi-module project where one of them is the GraphQL module\nthe Runnable File is in a different module with a working RestController\nthe GraphQLController is not exposed.\nI have tried to move the application.properties to the runnable module didn't work, tried to move the GraphQLController also didn't work I even moved all files to the runnable module and nothing happened.\nmy dependencies are fine my gradle is fine\nI am sure my code works but only separately I tried it and it did work but I'm working on a multi-module project so I can't just run it separately.\nwhat seems the problem here, I googled the problem and tried every related solution\n<br><strong>files architecture:</strong></p>\n<pre><code>-root\n   |_graphql-service\n   |    |_main\n   |       |_java\n   |       |  |_com.example.graphql\n   |       |      |_Author\n   |       |      |_Book\n   |       |      |_GraphQLController\n   |       |_resources\n   |              |_graphql\n   |              | |_schema.graphqls\n   |              |\n   |              |_application.properties\n   |        \n   |_service-main\n           |_main\n              |_java\n                 |_com.example.service.main\n                       |_ServiceMain\n                       |_RestController\n</code></pre>\n<p><strong>schema.graphqls</strong></p>\n<pre><code>type Query {\n    bookById(id: ID): Book\n}\n\ntype Book {\n    id: ID\n    name: String\n    pageCount: Int\n    author: Author\n}\n\ntype Author {\n    id: ID\n    firstName: String\n    lastName: String\n}\n</code></pre>\n<p><strong>ServiceMain.java</strong></p>\n<pre><code>@SpringBootApplication\npublic class ServiceMain {\n    public static void main(String[] args) {\n        SpringApplication.run(ServiceMain.class, args);\n    }\n}\n</code></pre>\n<p><strong>GraphQLController.java</strong></p>\n<pre><code>@Controller\npublic class GraphQLController {\n\n    private static final Logger LOG = LoggerFactory.getLogger(GraphQLController.class);\n\n    @QueryMapping\n    public Book bookById(@Argument String id){\n        LOG.info(&quot;Invoking bookById&quot;);\n        return Book.getById(id);\n    }\n\n    @SchemaMapping\n    public Author author(Book book){\n        LOG.info(&quot;Invoking author&quot;);\n        return Author.getById(book.getAuthorId());\n    }\n}\n\n</code></pre>\n<p><strong>Book.java</strong></p>\n<pre><code>public class Book {\n\n    private String id;\n    private String name;\n    private int pageCount;\n    private String authorId;\n    private static final Logger LOG = LoggerFactory.getLogger(Book.class);\n\n    public Book(String id, String name, int pageCount, String authorId){\n        LOG.info(&quot;Initializing Book Object&quot;);\n        this.id = id;\n        this.name = name;\n        this.pageCount = pageCount;\n        this.authorId = authorId;\n    }\n\n    private static List&lt;Book&gt; books = Arrays.asList(\n            new Book(&quot;0&quot;, &quot;name-0&quot;, 345, &quot;0&quot;),\n            new Book(&quot;1&quot;, &quot;name-1&quot;, 543, &quot;1&quot;),\n            new Book(&quot;2&quot;, &quot;name-2&quot;, 123, &quot;2&quot;),\n            new Book(&quot;3&quot;, &quot;name-3&quot;, 678, &quot;3&quot;)\n    );\n\n    public static Book getById(String id){\n        LOG.info(&quot;Filtering Books By ID&quot;);\n        return books.stream().filter(\n                book -&gt; book.getId().equals(id)\n        ).findFirst().orElse(null);\n    }\n\n    public String getId(){\n        LOG.info(&quot;Getting Book ID&quot;);\n        return id;\n    }\n    public String getAuthorId(){\n        LOG.info(&quot;Getting Author ID&quot;);\n        return authorId;\n    }\n}\n</code></pre>\n<p><strong>Author.java</strong></p>\n<pre><code>public class Author {\n\n    private String id;\n    private String firstName;\n    private String lastName;\n\n    private static final Logger LOG = LoggerFactory.getLogger(Author.class);\n\n    public Author(String id, String firstName, String lastName){\n        LOG.info(&quot;Initializing Author Object&quot;);\n        this.id = id;\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    private static List&lt;Author&gt; authors = Arrays.asList(\n            new Author(&quot;0&quot;, &quot;name-0&quot;, &quot;last-name-0&quot;),\n            new Author(&quot;1&quot;, &quot;name-1&quot;, &quot;last-name-1&quot;),\n            new Author(&quot;2&quot;, &quot;name-2&quot;, &quot;last-name-2&quot;),\n            new Author(&quot;4&quot;, &quot;name-3&quot;, &quot;last-name-3&quot;)\n    );\n\n    public static Author getById(String id){\n        LOG.info(&quot;Getting Author By ID&quot;);\n        return authors.stream().filter(\n                author -&gt; author.getId().equals(id)\n        ).findFirst().orElse(null);\n    }\n    public String getId(){\n        LOG.info(&quot;Getting Author ID&quot;);\n        return id;\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.graphql.graphiql.enabled=true\nspring.graphql.graphiql.path=/graphiql\n</code></pre>\n"},{"tags":["java","reference","functional-interface"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1696121589,"post_id":77208647,"comment_id":136113035,"body_markdown":"Testing any kind of function equality is never guaranteed to work.","body":"Testing any kind of function equality is never guaranteed to work."}],"answers":[{"comments":[{"owner":{"account_id":7043271,"reputation":83,"user_id":5394995,"display_name":"Jay Turner"},"score":0,"creation_date":1696125902,"post_id":77208689,"comment_id":136113199,"body_markdown":"Thank you, this explains it.\n\nWhile lambdas are anonymous functions, I misunderstood that class::method also makes an anonymous function. Once class::method makes a &quot;new&quot;ly created function, a reference to that new function can be passed around. and compared to other passed or stored references, but never to another class::method because, as you said, a &quot;new&quot; function is created. I had hoped that &quot;m = class::method;&quot; would assign a reference to class::method, just as &quot;m = new Function&lt;&gt;() { ... }&quot; assigns a reference (after making a new Function). Then &quot;m.apply(...)&quot; could be &quot;m(...)&quot;.","body":"Thank you, this explains it.  While lambdas are anonymous functions, I misunderstood that class::method also makes an anonymous function. Once class::method makes a &quot;new&quot;ly created function, a reference to that new function can be passed around. and compared to other passed or stored references, but never to another class::method because, as you said, a &quot;new&quot; function is created. I had hoped that &quot;m = class::method;&quot; would assign a reference to class::method, just as &quot;m = new Function&lt;&gt;() { ... }&quot; assigns a reference (after making a new Function). Then &quot;m.apply(...)&quot; could be &quot;m(...)&quot;."}],"tags":[],"owner":{"account_id":29571728,"reputation":136,"user_id":22663720,"display_name":"Guy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696114340,"creation_date":1696114340,"answer_id":77208689,"question_id":77208647,"body_markdown":"When you type: \r\n```java\r\nFunction&lt;String, Integer&gt; choice1a  = MethodReferenceInterface::one\r\n```\r\n the compiler converts it to:\r\n```java\r\nFunction&lt;String, Integer&gt; choice1a = new Function&lt;&gt;() {\r\n   String apply(Integer n) {\r\n     return 1;\r\n   }\r\n}\r\n```\r\n\r\nIt knows to convert it to `Function` interface and not anything else because of the type of the member `choice1a`.\r\n\r\nThe function `assertEquals` is not a generic function and the input of it is \r\n`object`, `object`. Therefore the compiler does not know how to create `MethodReferenceInterface::one`.\r\n\r\nThe first parameter of the function `choice1a` does not make the function generic equals (aka `assertEquals(Function, Function)`) but it makes it \r\n`assertEquals(object, object)`.\r\n\r\n&gt;  // This compiles, and succeeds,\r\n   // but why do they not compare equal?\r\n   assertNotEquals(choice1a, choice1b);\r\n\r\nThey are not equal the same reason I specified at first. Each time you use `::` short cut, you create a new instance behind the hood and their references are different.\r\n\r\n","title":"Java Member References placed in variables do not compare equal","body":"<p>When you type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;String, Integer&gt; choice1a  = MethodReferenceInterface::one\n</code></pre>\n<p>the compiler converts it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;String, Integer&gt; choice1a = new Function&lt;&gt;() {\n   String apply(Integer n) {\n     return 1;\n   }\n}\n</code></pre>\n<p>It knows to convert it to <code>Function</code> interface and not anything else because of the type of the member <code>choice1a</code>.</p>\n<p>The function <code>assertEquals</code> is not a generic function and the input of it is\n<code>object</code>, <code>object</code>. Therefore the compiler does not know how to create <code>MethodReferenceInterface::one</code>.</p>\n<p>The first parameter of the function <code>choice1a</code> does not make the function generic equals (aka <code>assertEquals(Function, Function)</code>) but it makes it\n<code>assertEquals(object, object)</code>.</p>\n<blockquote>\n<p>// This compiles, and succeeds,\n// but why do they not compare equal?\nassertNotEquals(choice1a, choice1b);</p>\n</blockquote>\n<p>They are not equal the same reason I specified at first. Each time you use <code>::</code> short cut, you create a new instance behind the hood and their references are different.</p>\n"}],"owner":{"account_id":7043271,"reputation":83,"user_id":5394995,"display_name":"Jay Turner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77208689,"answer_count":1,"score":3,"last_activity_date":1696114340,"creation_date":1696113019,"question_id":77208647,"body_markdown":"Java 8 or Java 11 - I load a static functional interface through an enum constructor. Then I try to compare against the same member reference. Either the code won&#39;t compile, or the comparison against the same functional interface fails. Comparisons using .equals, and ==, and comparing .hashcode() all fail. I have created the following POJO Test that demonstrates the issue and points out the specific points in question. I want to code &quot;If instance-member is equal to specific-static-functional-interface-method-x, then do ...&quot;\r\n\r\n```\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotEquals;\r\n\r\nimport java.util.function.Function;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nenum MethodReferenceEnum {\r\n\tOne(&quot;One&quot;, MethodReferenceInterface::one),\r\n\tTwo(&quot;Two&quot;, MethodReferenceInterface::two);\r\n\r\n\tpublic String name;\r\n\tpublic Function&lt;String, Integer&gt; method;\r\n\r\n\tprivate MethodReferenceEnum(String aName, Function&lt;String, Integer&gt; aMethod) {\r\n\t\tname = aName;\r\n\t\tmethod = aMethod;\r\n\t}\r\n}\r\n\r\ninterface MethodReferenceInterface {\r\n\tpublic static Integer one(String aString) {\r\n\t\treturn 1;\r\n\t}\r\n\tpublic static Integer two(String aString) {\r\n\t\treturn 2;\r\n\t}\r\n}\r\n\r\nclass MethodRererencesTest {\r\n\r\n\t@Test\r\n\tvoid LocalUseTest() {\r\n\t\t// This performs in JavaSE-8 (jdk-1.8.0_271) and JavaSE-11 (jdk-11.0.11).\r\n\r\n\t\t// These succeed in placing the member references in variables.\r\n\t\tFunction&lt;String, Integer&gt; choice1a = MethodReferenceInterface::one;\r\n\t\tFunction&lt;String, Integer&gt; choice1b = MethodReferenceEnum.One.method;\r\n\t\tFunction&lt;String, Integer&gt; choice2a = MethodReferenceInterface::two;\r\n\r\n\t\t// These succeed in executing the member references from variables.\r\n\t\tassertEquals(1, choice1a.apply(&quot;A&quot;).intValue());\r\n\t\tassertEquals(1, choice1b.apply(&quot;B&quot;).intValue());\r\n\t\tassertEquals(2, choice2a.apply(&quot;2nd&quot;).intValue());\r\n\r\n\t\t// Why does the following fail to compile?\r\n\t\t//\r\n\t\t// assertEquals(choice1a, MethodReferenceInterface::one);\r\n\t\t//\r\n\t\t// ^ assertEquals fails to compile due to:\r\n\t\t// The method assertEquals(Object, Object) in the type Assert is not applicable\r\n\t\t// for the arguments (Function&lt;String, Integer), MethodReferenceInterface::one)\r\n\t\t// ^ MethodReferenceInterface::one fails to compile due to:\r\n\t\t// The target type of the expression must be a functional interface\r\n\r\n\t\t// Compiles and succeeds; expected.\r\n\t\tassertEquals(choice1a, choice1a);\r\n\r\n\t\t// This compiles, and succeeds,\r\n\t\t// but why do they not compare equal?\r\n\t\tassertNotEquals(choice1a, choice1b);\r\n\t}\r\n}\r\n\r\n```\r\nThe last line and question sum up the issue. I ran the test above and it passed. The issue is that the variables that house the same member references are not comparing equal. This occurs in Java 8 and Java 11.","title":"Java Member References placed in variables do not compare equal","body":"<p>Java 8 or Java 11 - I load a static functional interface through an enum constructor. Then I try to compare against the same member reference. Either the code won't compile, or the comparison against the same functional interface fails. Comparisons using .equals, and ==, and comparing .hashcode() all fail. I have created the following POJO Test that demonstrates the issue and points out the specific points in question. I want to code &quot;If instance-member is equal to specific-static-functional-interface-method-x, then do ...&quot;</p>\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotEquals;\n\nimport java.util.function.Function;\n\nimport org.junit.jupiter.api.Test;\n\nenum MethodReferenceEnum {\n    One(&quot;One&quot;, MethodReferenceInterface::one),\n    Two(&quot;Two&quot;, MethodReferenceInterface::two);\n\n    public String name;\n    public Function&lt;String, Integer&gt; method;\n\n    private MethodReferenceEnum(String aName, Function&lt;String, Integer&gt; aMethod) {\n        name = aName;\n        method = aMethod;\n    }\n}\n\ninterface MethodReferenceInterface {\n    public static Integer one(String aString) {\n        return 1;\n    }\n    public static Integer two(String aString) {\n        return 2;\n    }\n}\n\nclass MethodRererencesTest {\n\n    @Test\n    void LocalUseTest() {\n        // This performs in JavaSE-8 (jdk-1.8.0_271) and JavaSE-11 (jdk-11.0.11).\n\n        // These succeed in placing the member references in variables.\n        Function&lt;String, Integer&gt; choice1a = MethodReferenceInterface::one;\n        Function&lt;String, Integer&gt; choice1b = MethodReferenceEnum.One.method;\n        Function&lt;String, Integer&gt; choice2a = MethodReferenceInterface::two;\n\n        // These succeed in executing the member references from variables.\n        assertEquals(1, choice1a.apply(&quot;A&quot;).intValue());\n        assertEquals(1, choice1b.apply(&quot;B&quot;).intValue());\n        assertEquals(2, choice2a.apply(&quot;2nd&quot;).intValue());\n\n        // Why does the following fail to compile?\n        //\n        // assertEquals(choice1a, MethodReferenceInterface::one);\n        //\n        // ^ assertEquals fails to compile due to:\n        // The method assertEquals(Object, Object) in the type Assert is not applicable\n        // for the arguments (Function&lt;String, Integer), MethodReferenceInterface::one)\n        // ^ MethodReferenceInterface::one fails to compile due to:\n        // The target type of the expression must be a functional interface\n\n        // Compiles and succeeds; expected.\n        assertEquals(choice1a, choice1a);\n\n        // This compiles, and succeeds,\n        // but why do they not compare equal?\n        assertNotEquals(choice1a, choice1b);\n    }\n}\n\n</code></pre>\n<p>The last line and question sum up the issue. I ran the test above and it passed. The issue is that the variables that house the same member references are not comparing equal. This occurs in Java 8 and Java 11.</p>\n"},{"tags":["java","spring","spring-boot","project-reactor","spring-statemachine"],"owner":{"account_id":2205942,"reputation":970,"user_id":1949163,"display_name":"ljmelgui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696111965,"creation_date":1696111965,"question_id":77208607,"body_markdown":"I&#39;m working in a reactive java project with spring state machine version 3.2.1. I have created a reactive guard like this:\r\n```\r\npublic ReactiveGuard&lt;BookingState, BookingEvent&gt; bookingIdGuard(){\r\n  return context -&gt; //Function that does some checks and return a Mono&lt;Boolean&gt;\r\n}\r\n\r\n```\r\nThen I try to add it to transitions external configuration (similarly as I did with ssm 2.x), however, I cannot find any method to do it:\r\n```\r\n@Override\r\npublic void configure(StateMachineTransitionConfigurer&lt;BookingState, BookingEvent&gt; transitions) throws Exception {\r\ntransitions\r\n .withExternal()\r\n .source(BookingState.FIRST)\r\n .target(BookingState.SECOND)\r\n .event(BookingEvent.APPROVE)\r\n //Cannot find a method to add the reactive guard\r\n```\r\nHow could I add the reactive guard to the configuration?","title":"How to add a reactive guard to a spring state machine external configuration?","body":"<p>I'm working in a reactive java project with spring state machine version 3.2.1. I have created a reactive guard like this:</p>\n<pre><code>public ReactiveGuard&lt;BookingState, BookingEvent&gt; bookingIdGuard(){\n  return context -&gt; //Function that does some checks and return a Mono&lt;Boolean&gt;\n}\n\n</code></pre>\n<p>Then I try to add it to transitions external configuration (similarly as I did with ssm 2.x), however, I cannot find any method to do it:</p>\n<pre><code>@Override\npublic void configure(StateMachineTransitionConfigurer&lt;BookingState, BookingEvent&gt; transitions) throws Exception {\ntransitions\n .withExternal()\n .source(BookingState.FIRST)\n .target(BookingState.SECOND)\n .event(BookingEvent.APPROVE)\n //Cannot find a method to add the reactive guard\n</code></pre>\n<p>How could I add the reactive guard to the configuration?</p>\n"},{"tags":["java","smtp","gmail","sap-commerce-cloud"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1684408924,"post_id":76280002,"comment_id":134514958,"body_markdown":"Is that the password for the gmail account?  or an apps password?  is there any more to the error message?","body":"Is that the password for the gmail account?  or an apps password?  is there any more to the error message?"},{"owner":{"account_id":25911071,"reputation":1,"user_id":19635299,"display_name":"sourour"},"score":0,"creation_date":1684418546,"post_id":76280002,"comment_id":134517060,"body_markdown":"No it&#39;s not my password. I recovered the password from the gmail account from the &quot;Application passwords&quot; section.\nAbout the error, it just displays this warning in the console, no error","body":"No it&#39;s not my password. I recovered the password from the gmail account from the &quot;Application passwords&quot; section. About the error, it just displays this warning in the console, no error"}],"answers":[{"comments":[{"owner":{"account_id":25911071,"reputation":1,"user_id":19635299,"display_name":"sourour"},"score":0,"creation_date":1684508244,"post_id":76289287,"comment_id":134532053,"body_markdown":"I tried this option and tested sending email with groovy in hac and it worked. but when I use the email process in hybris, there is always this warning.","body":"I tried this option and tested sending email with groovy in hac and it worked. but when I use the email process in hybris, there is always this warning."},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1684540030,"post_id":76289287,"comment_id":134537074,"body_markdown":"please share full stack trace of the logs.","body":"please share full stack trace of the logs."}],"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684500988,"creation_date":1684500988,"answer_id":76289287,"question_id":76280002,"body_markdown":"**Cause**\r\n\r\nSometimes, Google will disable access to less secure or other apps to protect your account from potential vulnerabilities. This setting can be turned off, or two factor authentication can be enabled for the account `(recommended)`.\r\n\r\n**Resolution**\r\n\r\n`In most cases the issue can be resolved by setting up two-step verification on Google.`\r\n\r\nEnable two-step verification for the account via this link : Google Two Steps Verification.\r\n\r\nGenerate a specific password via this link : Google Specific Passwords.\r\n\r\nUse the generated specific password in configuration below:\r\nmail.smtp.password=&lt;&quot;generated specific password&quot;&gt;\r\n\r\nSee Also\r\n\r\n https://support.google.com/mail/answer/7126229?visit_id=636795778044562052-2774445042&amp;rd=2#cantsignin\r\n\r\nAlternate way to test email functionality locally:\r\n\r\nhttps://groundlevelhybris.wordpress.com/2020/03/20/email-not-getting-triggered-in-hybris-local-environment/","title":"Sending the email to the following server failed : smtp.gmail.com:587","body":"<p><strong>Cause</strong></p>\n<p>Sometimes, Google will disable access to less secure or other apps to protect your account from potential vulnerabilities. This setting can be turned off, or two factor authentication can be enabled for the account <code>(recommended)</code>.</p>\n<p><strong>Resolution</strong></p>\n<p><code>In most cases the issue can be resolved by setting up two-step verification on Google.</code></p>\n<p>Enable two-step verification for the account via this link : Google Two Steps Verification.</p>\n<p>Generate a specific password via this link : Google Specific Passwords.</p>\n<p>Use the generated specific password in configuration below:\nmail.smtp.password=&lt;&quot;generated specific password&quot;&gt;</p>\n<p>See Also</p>\n<p><a href=\"https://support.google.com/mail/answer/7126229?visit_id=636795778044562052-2774445042&amp;rd=2#cantsignin\" rel=\"nofollow noreferrer\">https://support.google.com/mail/answer/7126229?visit_id=636795778044562052-2774445042&amp;rd=2#cantsignin</a></p>\n<p>Alternate way to test email functionality locally:</p>\n<p><a href=\"https://groundlevelhybris.wordpress.com/2020/03/20/email-not-getting-triggered-in-hybris-local-environment/\" rel=\"nofollow noreferrer\">https://groundlevelhybris.wordpress.com/2020/03/20/email-not-getting-triggered-in-hybris-local-environment/</a></p>\n"},{"tags":[],"owner":{"account_id":28813352,"reputation":1,"user_id":22067571,"display_name":"Antarius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686667446,"creation_date":1686667446,"answer_id":76466118,"question_id":76280002,"body_markdown":"I had the same issue today, trying to send email messages from my Hybris / SAP Commerce Cloud platform, using a local SMTP server as relay. \r\n\r\nError message was  : \r\nCould not send e-mail pk [1234567788999] subject [mysubject] cause: Sending the email to the following server failed : mysmtpserver.com:25\r\n\r\nThe error was caused by the special character &#39;#&#39; (hash sign) in the password. \r\nI had to reset the password for the mail relay account without the # character and it worked. \r\n\r\nHope this can help. \r\nRegards,\r\n\r\n","title":"Sending the email to the following server failed : smtp.gmail.com:587","body":"<p>I had the same issue today, trying to send email messages from my Hybris / SAP Commerce Cloud platform, using a local SMTP server as relay.</p>\n<p>Error message was  :\nCould not send e-mail pk [1234567788999] subject [mysubject] cause: Sending the email to the following server failed : mysmtpserver.com:25</p>\n<p>The error was caused by the special character '#' (hash sign) in the password.\nI had to reset the password for the mail relay account without the # character and it worked.</p>\n<p>Hope this can help.\nRegards,</p>\n"}],"owner":{"account_id":25911071,"reputation":1,"user_id":19635299,"display_name":"sourour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696111596,"creation_date":1684406594,"question_id":76280002,"body_markdown":"I am trying to send an email with sap commerce.\r\nI have well configured the **`local.properties`** of the config extension\r\n\r\n```\r\nmail.smtp.server=smtp.gmail.com\r\n\r\nmail.smtp.host=smtp.gmail.com\r\nmail.smtp.port=587\r\nmail.from=sapcommerce14@gmail.com\r\nmail.smtp.ssl.protocols=TLSv1.2\r\n\r\nmail.smtp.user=sapcommerce14@gmail.com\r\nmail.smtp.password=********\r\n\r\nmail.smtp.starttls.enable=true\r\nmail.smtp.auth=true\r\n```\r\n\r\nbut after the execution of the job and when sending the email a warning is displayed\r\n\r\n&gt;e-mail is sent to sourour siala \r\n&gt;\r\n&gt;from email page : sapcommerce14@gmail.com\r\n&gt;\r\n&gt;DiscountNotificationEmailContext init\r\n&gt;\r\n&gt;INFO  [TaskExecutor-master-21338-ProcessTask [8796928541622]] [GenerateEmailAction] Email message generated\r\n&gt;\r\n&gt;INFO  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Sending Email [8796294879296] To [[sourour.siala@enis.tn]] From [sapcommerce14@gmail.com] Subject [Exclusive Promotions on Our Products - Don&#39;t Miss Out!!  ]\r\n&gt;\r\n&gt;WARN  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Could not send e-mail pk [8796294879296] subject [Exclusive Promotions on Our Products - Don&#39;t Miss Out!!\r\n] cause: Sending the email to the following server failed : smtp.gmail.com:587\r\n\r\nHere are the steps of my work\r\n\r\n1. I created a &quot;ListFavoritesProcess&quot; model  extends &quot;StoreFrontCustomerProcess&quot; with one attribute \r\n   ```\r\n   &lt;attribute qualifier=&quot;products&quot; type=&quot;ProductList&quot;&gt;\r\n   \t&lt;persistence type=&quot;property&quot; /&gt;\r\n   \t&lt;description&gt;Attribute contains the products that will be used in the process&lt;/description&gt;\r\n   &lt;/attribute&gt;\r\n   ```\r\n\r\n2. then I created the process.xml file\r\n3. then I created a class to start the process\r\n\r\n   ```\r\n   public Boolean discountNotificationEmailprocess(final CustomerModel customer, final Set&lt;ProductModel&gt; products)\r\n   {\r\n   Boolean bool = false;\r\n   if ((customer != null) &amp;&amp; CollectionUtils.isNotEmpty(products))\r\n   {\r\n       final ListFavoritesProcessModel listFavoritesProcessModel = getBusinessProcessService()\r\n       \t.createProcess(&quot;listFavoritesProcessModel-&quot; + customer.getUid() + &quot;-&quot;System.currentTimeMillis() + &quot;-&quot;+ Thread.currentThread().getId(), &quot;DiscountNotificationEmailProcess&quot;);\r\n   listFavoritesProcessModel.setCustomer(customer);\r\n   \t\t\tlistFavoritesProcessModel.setStore(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;));\r\n   \t\t\tlistFavoritesProcessModel.setSite(getBaseSiteService().getBaseSiteForUID(&quot;electronics&quot;));\r\n   \t\t\tlistFavoritesProcessModel.setLanguage(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultLanguage());\r\n   \t\t\tlistFavoritesProcessModel.setCurrency(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultCurrency());\r\n   listFavoritesProcessModel.setProducts(new ArrayList&lt;ProductModel&gt;(products));\r\n   getModelService().save(listFavoritesProcessModel);\r\n   getBusinessProcessService().startProcess(listFavoritesProcessModel);\r\n   bool = true;\r\n   }\r\n   return bool;\r\n   }\r\n   ```\r\n\r\n4. then I created the context which extends from AbstractEmailContext\\&lt;ListFavoritesProcessModel\\&gt;\r\n   ```\r\n   @Override\r\n   public void init(final ListFavoritesProcessModel listFavoritesProcessModel, final EmailPageModel emailPageModel)\r\n   {\r\n   super.init(listFavoritesProcessModel, emailPageModel);\r\n   products = new ArrayList&lt;&gt;();\r\n   final List&lt;ProductModel&gt; productsModel = listFavoritesProcessModel.getProducts();\r\n   productsModel.forEach(productModel -&gt; {\r\n   final ProductData productData = getProductFacade().getProductForOptions(productModel,\r\n   Arrays.asList(ProductOption.BASIC, ProductOption.PRICE, ProductOption.STOCK, ProductOption.PROMOTIONS));\r\n   products.add(productData);\r\n   });\r\n   put(EMAIL, getCustomerEmailResolutionService().getEmailForCustomer(getCustomer(listFavoritesProcessModel)));\r\n   put(DISPLAY_NAME, listFavoritesProcessModel.getCustomer().getName());\r\n   put(FROM_EMAIL, Config.getParameter(&quot;mail.smtp.user&quot;));\r\n   put(FROM_DISPLAY_NAME, &quot;sap&quot;);\r\n   System.out.println(&quot;DiscountNotificationEmailContext init&quot;);\r\n   }\r\n   ```","title":"Sending the email to the following server failed : smtp.gmail.com:587","body":"<p>I am trying to send an email with sap commerce.\nI have well configured the <strong><code>local.properties</code></strong> of the config extension</p>\n<pre><code>mail.smtp.server=smtp.gmail.com\n\nmail.smtp.host=smtp.gmail.com\nmail.smtp.port=587\nmail.from=sapcommerce14@gmail.com\nmail.smtp.ssl.protocols=TLSv1.2\n\nmail.smtp.user=sapcommerce14@gmail.com\nmail.smtp.password=********\n\nmail.smtp.starttls.enable=true\nmail.smtp.auth=true\n</code></pre>\n<p>but after the execution of the job and when sending the email a warning is displayed</p>\n<blockquote>\n<p>e-mail is sent to sourour siala</p>\n<p>from email page : sapcommerce14@gmail.com</p>\n<p>DiscountNotificationEmailContext init</p>\n<p>INFO  [TaskExecutor-master-21338-ProcessTask [8796928541622]] [GenerateEmailAction] Email message generated</p>\n<p>INFO  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Sending Email [8796294879296] To [[sourour.siala@enis.tn]] From [sapcommerce14@gmail.com] Subject [Exclusive Promotions on Our Products - Don't Miss Out!!  ]</p>\n<p>WARN  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Could not send e-mail pk [8796294879296] subject [Exclusive Promotions on Our Products - Don't Miss Out!!\n] cause: Sending the email to the following server failed : smtp.gmail.com:587</p>\n</blockquote>\n<p>Here are the steps of my work</p>\n<ol>\n<li><p>I created a &quot;ListFavoritesProcess&quot; model  extends &quot;StoreFrontCustomerProcess&quot; with one attribute</p>\n<pre><code>&lt;attribute qualifier=&quot;products&quot; type=&quot;ProductList&quot;&gt;\n &lt;persistence type=&quot;property&quot; /&gt;\n &lt;description&gt;Attribute contains the products that will be used in the process&lt;/description&gt;\n&lt;/attribute&gt;\n</code></pre>\n</li>\n<li><p>then I created the process.xml file</p>\n</li>\n<li><p>then I created a class to start the process</p>\n<pre><code>public Boolean discountNotificationEmailprocess(final CustomerModel customer, final Set&lt;ProductModel&gt; products)\n{\nBoolean bool = false;\nif ((customer != null) &amp;&amp; CollectionUtils.isNotEmpty(products))\n{\n    final ListFavoritesProcessModel listFavoritesProcessModel = getBusinessProcessService()\n     .createProcess(&quot;listFavoritesProcessModel-&quot; + customer.getUid() + &quot;-&quot;System.currentTimeMillis() + &quot;-&quot;+ Thread.currentThread().getId(), &quot;DiscountNotificationEmailProcess&quot;);\nlistFavoritesProcessModel.setCustomer(customer);\n         listFavoritesProcessModel.setStore(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;));\n         listFavoritesProcessModel.setSite(getBaseSiteService().getBaseSiteForUID(&quot;electronics&quot;));\n         listFavoritesProcessModel.setLanguage(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultLanguage());\n         listFavoritesProcessModel.setCurrency(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultCurrency());\nlistFavoritesProcessModel.setProducts(new ArrayList&lt;ProductModel&gt;(products));\ngetModelService().save(listFavoritesProcessModel);\ngetBusinessProcessService().startProcess(listFavoritesProcessModel);\nbool = true;\n}\nreturn bool;\n}\n</code></pre>\n</li>\n<li><p>then I created the context which extends from AbstractEmailContext&lt;ListFavoritesProcessModel&gt;</p>\n<pre><code>@Override\npublic void init(final ListFavoritesProcessModel listFavoritesProcessModel, final EmailPageModel emailPageModel)\n{\nsuper.init(listFavoritesProcessModel, emailPageModel);\nproducts = new ArrayList&lt;&gt;();\nfinal List&lt;ProductModel&gt; productsModel = listFavoritesProcessModel.getProducts();\nproductsModel.forEach(productModel -&gt; {\nfinal ProductData productData = getProductFacade().getProductForOptions(productModel,\nArrays.asList(ProductOption.BASIC, ProductOption.PRICE, ProductOption.STOCK, ProductOption.PROMOTIONS));\nproducts.add(productData);\n});\nput(EMAIL, getCustomerEmailResolutionService().getEmailForCustomer(getCustomer(listFavoritesProcessModel)));\nput(DISPLAY_NAME, listFavoritesProcessModel.getCustomer().getName());\nput(FROM_EMAIL, Config.getParameter(&quot;mail.smtp.user&quot;));\nput(FROM_DISPLAY_NAME, &quot;sap&quot;);\nSystem.out.println(&quot;DiscountNotificationEmailContext init&quot;);\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","web-services","jax-ws","java-ee-5","netweaver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1664496390,"post_id":73901183,"comment_id":130491342,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1665011822,"post_id":73901183,"comment_id":130602242,"body_markdown":"`Does NWDS 7.5 still have support for building AS Java web services?` Yes. Pay attention that NWDS version [must strictly correspond to SAP AS Server version](https://answers.sap.com/answers/11876376/view.html), it can be a source of potential errors. `is to use the &quot;Web Service&quot; option from the context menu of the java class you want to turn into a web service. My context menus don&#39;t have this option` it&#39;s most likely because you are doing this in a wrong [perspective](https://www.tutorialspoint.com/eclipse/eclipse_perspectives.htm) or with a wrong project type","body":"<code>Does NWDS 7.5 still have support for building AS Java web services?</code> Yes. Pay attention that NWDS version <a href=\"https://answers.sap.com/answers/11876376/view.html\" rel=\"nofollow noreferrer\">must strictly correspond to SAP AS Server version</a>, it can be a source of potential errors. <code>is to use the &quot;Web Service&quot; option from the context menu of the java class you want to turn into a web service. My context menus don&#39;t have this option</code> it&#39;s most likely because you are doing this in a wrong <a href=\"https://www.tutorialspoint.com/eclipse/eclipse_perspectives.htm\" rel=\"nofollow noreferrer\">perspective</a> or with a wrong project type"},{"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"score":0,"creation_date":1665011889,"post_id":73901183,"comment_id":130602250,"body_markdown":"Provided that you wanna create service from an existing Java class it will be an [inside-out implementation](https://help.sap.com/doc/saphelp_nw74/7.4.16/en-us/4b/70efe02bbf1f2de10000000a421937/content.htm?no_cache=true) so try the step-by-step procedure [from the help](https://help.sap.com/doc/saphelp_nw74/7.4.16/en-us/4b/70f07a2bbf1f2de10000000a421937/content.htm?no_cache=true) and edit your question with an exact steps/screenshots, code sample to represent what goes wrong","body":"Provided that you wanna create service from an existing Java class it will be an <a href=\"https://help.sap.com/doc/saphelp_nw74/7.4.16/en-us/4b/70efe02bbf1f2de10000000a421937/content.htm?no_cache=true\" rel=\"nofollow noreferrer\">inside-out implementation</a> so try the step-by-step procedure <a href=\"https://help.sap.com/doc/saphelp_nw74/7.4.16/en-us/4b/70f07a2bbf1f2de10000000a421937/content.htm?no_cache=true\" rel=\"nofollow noreferrer\">from the help</a> and edit your question with an exact steps/screenshots, code sample to represent what goes wrong"}],"answers":[{"tags":[],"owner":{"account_id":26485297,"reputation":21,"user_id":20123963,"display_name":"Josh Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666899909,"creation_date":1666896586,"answer_id":74226932,"question_id":73901183,"body_markdown":"So, as these things often seem to go, I had a big breakthrough and solved this problem a couple weeks after posting this question, the question I posted after months of struggling with this issue.  Here is what I did to make things work; I haven&#39;t meticulously gone through what I did to make sure what I&#39;m posting is accurate; I&#39;m just going off what I remember, if there are inaccuracies, hopefully this Will at least be enough to get someone on the right track.  If you have issues or questions with this process, please do contact me.\r\n\r\nFirst off, thanks to Suncatcher for his response.  I did use the &quot;Java EE&quot; perspective in Eclipse, and I didn&#39;t see the &quot;Web Service&quot; option in the context menu.  If you have any thoughts on why this would be or suggestions on another perspective to use, I would love to hear about it.  As a result of this, my process doesn&#39;t match the process given in the link you posted, but it does seem to work.\r\n\r\nOne thing I wish I would have understood is that SAP already has JAX-WS up and running for you.  Everything is configured, and SAP will take care of configuring your class to run as a JAX-WS web service.  All SAP is expecting is a class who&#39;s source code has been annotated with the appropriate JAX-WS annotations.  Items like web.xml are not needed.\r\n\r\n - Create a new EJB 3.0 project for your web service. Make sure your web service class and its methods\r\n   have the appropriate JAX-WS annotations. (There are EJB annotations\r\n   added as well, and I&#39;m not sure whether or not they are needed.  I\r\n   left them in.)\r\n - Create an &quot;Enterprise Application Project&quot;.  This will\r\n   be used to build the EAR that contains your web service project.  As\r\n   you create the project, make sure to select your web service project\r\n   to include in this project.\r\n - Right-click the project you just created\r\n   and click &quot;export&quot;; select the SAP EAR option.\r\n - Use the deploy\r\n   perspective of NWDS to deploy your EAR.\r\n\r\nI had trouble finding the address of my web service.  I used the &quot;WS Navigator&quot; feature to find it.\r\n\r\nOnce you have your web service up, you have the address, and you can successfully retrieve a WSDL, you can generate a client for it.","title":"How to write a web service for a Java NetWeaver 7.5 via NWDS?","body":"<p>So, as these things often seem to go, I had a big breakthrough and solved this problem a couple weeks after posting this question, the question I posted after months of struggling with this issue.  Here is what I did to make things work; I haven't meticulously gone through what I did to make sure what I'm posting is accurate; I'm just going off what I remember, if there are inaccuracies, hopefully this Will at least be enough to get someone on the right track.  If you have issues or questions with this process, please do contact me.</p>\n<p>First off, thanks to Suncatcher for his response.  I did use the &quot;Java EE&quot; perspective in Eclipse, and I didn't see the &quot;Web Service&quot; option in the context menu.  If you have any thoughts on why this would be or suggestions on another perspective to use, I would love to hear about it.  As a result of this, my process doesn't match the process given in the link you posted, but it does seem to work.</p>\n<p>One thing I wish I would have understood is that SAP already has JAX-WS up and running for you.  Everything is configured, and SAP will take care of configuring your class to run as a JAX-WS web service.  All SAP is expecting is a class who's source code has been annotated with the appropriate JAX-WS annotations.  Items like web.xml are not needed.</p>\n<ul>\n<li>Create a new EJB 3.0 project for your web service. Make sure your web service class and its methods\nhave the appropriate JAX-WS annotations. (There are EJB annotations\nadded as well, and I'm not sure whether or not they are needed.  I\nleft them in.)</li>\n<li>Create an &quot;Enterprise Application Project&quot;.  This will\nbe used to build the EAR that contains your web service project.  As\nyou create the project, make sure to select your web service project\nto include in this project.</li>\n<li>Right-click the project you just created\nand click &quot;export&quot;; select the SAP EAR option.</li>\n<li>Use the deploy\nperspective of NWDS to deploy your EAR.</li>\n</ul>\n<p>I had trouble finding the address of my web service.  I used the &quot;WS Navigator&quot; feature to find it.</p>\n<p>Once you have your web service up, you have the address, and you can successfully retrieve a WSDL, you can generate a client for it.</p>\n"}],"owner":{"account_id":26485297,"reputation":21,"user_id":20123963,"display_name":"Josh Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74226932,"answer_count":1,"score":1,"last_activity_date":1696108897,"creation_date":1664482691,"question_id":73901183,"body_markdown":"I have both ABAP ECC6.0 and SAP AS Java NetWeaver 7.5 and it is the AS Java portion I have a question about: I need to automate the import of role data into the portal. \r\n\r\nCurrently person takes the file each day and uploads it using the import function in the portal. It is my understanding that SAP AS Java supports building web services and I see that there are SAP java functions for accessing the UME, so my thought was to build a Java web service to do this. I have downloaded NWDS 7.5 and because I read that NetWeaver uses JAX-WS I built a JAX-WS web service.  \r\n\r\nThe problem I&#39;m having is that I have no clue as to how to deploy the service/get it running/access it. When I try to find info in google, I come up with quite a few relevant hits, but many of the functions they talk about in NWDS don&#39;t seem to exist in the version I have.  For example, one thing I commonly see is to use the &quot;Web Service&quot; option from the context menu of the java class you want to turn into a web service.  My context menus don&#39;t have this option; they have mostly the standard options you see in Eclipse, with a few additions.\r\n\r\nI did get my web service to deploy via NWDS via the deploy perspective, but while I can see the application on the server, I don&#39;t seem to be able to access it. Using https://host:port/web-service-name produces a directory listing that does not include my java classes. Also I&#39;m unsure as to whether I should deploy my application as a .war or a .ear, maybe that&#39;s part of the problem too? I have deployed to the server with both. Also, as someone who&#39;s familiar with deploying to Tomcat, I&#39;m really not sure what&#39;s needed to get the SAP server to work with my app. The server complained about `web.xml` in the archive and I&#39;m not sure what to do about it.\r\n\r\nAll in all, I&#39;m pretty confused. Does NWDS 7.5 still have support for building AS Java web services? Does it work differently from prior versions? What do I need to do to get this to work? Suggestion how to do a RESTful web service are also welcome.","title":"How to write a web service for a Java NetWeaver 7.5 via NWDS?","body":"<p>I have both ABAP ECC6.0 and SAP AS Java NetWeaver 7.5 and it is the AS Java portion I have a question about: I need to automate the import of role data into the portal.</p>\n<p>Currently person takes the file each day and uploads it using the import function in the portal. It is my understanding that SAP AS Java supports building web services and I see that there are SAP java functions for accessing the UME, so my thought was to build a Java web service to do this. I have downloaded NWDS 7.5 and because I read that NetWeaver uses JAX-WS I built a JAX-WS web service.</p>\n<p>The problem I'm having is that I have no clue as to how to deploy the service/get it running/access it. When I try to find info in google, I come up with quite a few relevant hits, but many of the functions they talk about in NWDS don't seem to exist in the version I have.  For example, one thing I commonly see is to use the &quot;Web Service&quot; option from the context menu of the java class you want to turn into a web service.  My context menus don't have this option; they have mostly the standard options you see in Eclipse, with a few additions.</p>\n<p>I did get my web service to deploy via NWDS via the deploy perspective, but while I can see the application on the server, I don't seem to be able to access it. Using https://host:port/web-service-name produces a directory listing that does not include my java classes. Also I'm unsure as to whether I should deploy my application as a .war or a .ear, maybe that's part of the problem too? I have deployed to the server with both. Also, as someone who's familiar with deploying to Tomcat, I'm really not sure what's needed to get the SAP server to work with my app. The server complained about <code>web.xml</code> in the archive and I'm not sure what to do about it.</p>\n<p>All in all, I'm pretty confused. Does NWDS 7.5 still have support for building AS Java web services? Does it work differently from prior versions? What do I need to do to get this to work? Suggestion how to do a RESTful web service are also welcome.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","integration-testing"],"answers":[{"comments":[{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1696040132,"post_id":77205466,"comment_id":136107090,"body_markdown":"This is very different to the setup shown in the link at the top of my Question. Are you still using `@DataJpaTest` ? What about `@Test` on the method?","body":"This is very different to the setup shown in the link at the top of my Question. Are you still using <code>@DataJpaTest</code> ? What about <code>@Test</code> on the method?"},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1696040192,"post_id":77205466,"comment_id":136107092,"body_markdown":"yes, only adding the testconfiguration class is enough, no changes for others.","body":"yes, only adding the testconfiguration class is enough, no changes for others."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1696040371,"post_id":77205466,"comment_id":136107102,"body_markdown":"And you have a inner class?","body":"And you have a inner class?"},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1696040505,"post_id":77205466,"comment_id":136107107,"body_markdown":"I get a IDE error on the brackets in TestConfig() method saying `Record header declared for non-record`","body":"I get a IDE error on the brackets in TestConfig() method saying <code>Record header declared for non-record</code>"},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1696040682,"post_id":77205466,"comment_id":136107117,"body_markdown":"Remove the `()` constructor here, I am using Kotlin in daily work. And always try to add constructor in the class declaration.","body":"Remove the <code>()</code> constructor here, I am using Kotlin in daily work. And always try to add constructor in the class declaration."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1696040818,"post_id":77205466,"comment_id":136107122,"body_markdown":"Ok - removed the () but now I cant run the class - Intellij provides no option to run this test?","body":"Ok - removed the () but now I cant run the class - Intellij provides no option to run this test?"},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1696041649,"post_id":77205466,"comment_id":136107156,"body_markdown":"Try to refresh your IDE and rebuild the project. Or share your code sample via Github, it is easier to find the issue directly.","body":"Try to refresh your IDE and rebuild the project. Or share your code sample via Github, it is easier to find the issue directly."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1696042770,"post_id":77205466,"comment_id":136107208,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255479/discussion-between-radika-moonesinghe-and-hantsy).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255479/discussion-between-radika-moonesinghe-and-hantsy\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696040865,"creation_date":1696040010,"answer_id":77205466,"question_id":77205420,"body_markdown":"`@DataJpaTest` does not scan the `CustomContosoRepository `.\r\n\r\nSimply add a test config in your tests like this.\r\n\r\n```java\r\n//...\r\npublic class CustomContosoRepositoryTest {\r\n\r\n\r\n   \r\n     @TestConfiguration\r\n     @Import(CustomContosoRepository.class)\r\n     static class TestConfig{} // must a static class.\r\n\r\n     //...\r\n\r\n}\r\n```\r\n\r\nAn test configuration sample from my example project, https://github.com/hantsy/spring6-sandbox/blob/master/boot/src/test/java/com/example/demo/domain/PostRepositoryTest.java#L33-L36 ","title":"Setting up Spring Boot Repository Test Fails on Autowired Repo Bean","body":"<p><code>@DataJpaTest</code> does not scan the <code>CustomContosoRepository </code>.</p>\n<p>Simply add a test config in your tests like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\npublic class CustomContosoRepositoryTest {\n\n\n   \n     @TestConfiguration\n     @Import(CustomContosoRepository.class)\n     static class TestConfig{} // must a static class.\n\n     //...\n\n}\n</code></pre>\n<p>An test configuration sample from my example project, <a href=\"https://github.com/hantsy/spring6-sandbox/blob/master/boot/src/test/java/com/example/demo/domain/PostRepositoryTest.java#L33-L36\" rel=\"nofollow noreferrer\">https://github.com/hantsy/spring6-sandbox/blob/master/boot/src/test/java/com/example/demo/domain/PostRepositoryTest.java#L33-L36</a></p>\n"},{"comments":[{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1696121800,"post_id":77208467,"comment_id":136113042,"body_markdown":"There is no difference between `@Service` and `@Repository`, both are derived from `@Compoennt`. In Spring Boot applications, no need `@Repository` annotation when extending from a `JpaReposiotry`.","body":"There is no difference between <code>@Service</code> and <code>@Repository</code>, both are derived from <code>@Compoennt</code>. In Spring Boot applications, no need <code>@Repository</code> annotation when extending from a <code>JpaReposiotry</code>."}],"tags":[],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696108099,"creation_date":1696108099,"answer_id":77208467,"question_id":77205420,"body_markdown":"The source of this error was that the `CustomContosoRespository` really isn&#39;t a repository at all but a Class annotated with `@Service`. This was done because I was using a native hibernate query with HQL.\r\n\r\n    @Service\r\n    @Transactional\r\n    public class CustomContosoRepository implements CustomContosoService {\r\n\r\nThe fix was to convert the query to JPQL and put it inside a `@Repository` class in the usual way:\r\n\r\n    @Repository\r\n    public interface CustomContosoRepository extends JpaRepository&lt;Contoso, Long&gt; {\r\n\r\n\r\n","title":"Setting up Spring Boot Repository Test Fails on Autowired Repo Bean","body":"<p>The source of this error was that the <code>CustomContosoRespository</code> really isn't a repository at all but a Class annotated with <code>@Service</code>. This was done because I was using a native hibernate query with HQL.</p>\n<pre><code>@Service\n@Transactional\npublic class CustomContosoRepository implements CustomContosoService {\n</code></pre>\n<p>The fix was to convert the query to JPQL and put it inside a <code>@Repository</code> class in the usual way:</p>\n<pre><code>@Repository\npublic interface CustomContosoRepository extends JpaRepository&lt;Contoso, Long&gt; {\n</code></pre>\n"}],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696108099,"creation_date":1696038631,"question_id":77205420,"body_markdown":"I have a `Service` in my Spring Boot 3.1 project which acts similar to a repository. I wrote it as a service because my query needs to be hibernate native (HQL). I am now trying to test via a Integration test. I have been referring to this [resource][1].\r\n\r\nThe `Service` (i.e. repo) looks like this:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class CustomContosoRepository implements CustomContosoService {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public ContosoDetailsDto customQueryGetContosoDetails(Long id) {\r\n        return (ContosoDetailsDto) entityManager.createQuery(\r\n                        &quot;SELECT NEW com.nz.contoso.view.ContosoDetailsDto(Hibernate HQL query here&quot;)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .getSingleResult();\r\n    }\r\n\r\nThen I have tried to setup Test class with empty method and a connection to a test container database:\r\n\r\n    @DataJpaTest\r\n    @TestPropertySource(properties = {\r\n        &quot;spring.test.database.replace=none&quot;,\r\n        &quot;spring.datasource.url=jdbc:tc:mysql:8.1.0:///test?TC_REUSABLE=true&quot;\r\n    })\r\n\r\n    public class CustomContosoRepositoryTest {\r\n\r\n    @Autowired\r\n    private CustomContosoRepository customContosoRepository;\r\n\r\n    @Test\r\n    @Sql(&quot;/data-custom.sql&quot;)\r\n    void shouldReturnReturnContosoDetalisDto() {\r\n\r\n    }\r\n\r\nThe error when running the test:\r\n\r\n`org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.nz.contoso.repository.CustomContosoRepositoryTest&#39;: Unsatisfied dependency expressed through field &#39;customContosoRepository&#39;: No qualifying bean of type &#39;com.nz.contoso.repository.CustomContosoRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n\r\nThis error seems odd since I am wiring in `CustomContosoRepository` but I presume it is due to the lack of `@Repository` - and because it is a class not a interface extending JPA?\r\n\r\nNote the connection to the test db container is already setup and running.\r\n\r\nHow can I setup the infrastructure for this test?\r\n\r\n  [1]: https://reflectoring.io/spring-boot-data-jpa-test/","title":"Setting up Spring Boot Repository Test Fails on Autowired Repo Bean","body":"<p>I have a <code>Service</code> in my Spring Boot 3.1 project which acts similar to a repository. I wrote it as a service because my query needs to be hibernate native (HQL). I am now trying to test via a Integration test. I have been referring to this <a href=\"https://reflectoring.io/spring-boot-data-jpa-test/\" rel=\"nofollow noreferrer\">resource</a>.</p>\n<p>The <code>Service</code> (i.e. repo) looks like this:</p>\n<pre><code>@Service\n@Transactional\npublic class CustomContosoRepository implements CustomContosoService {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\n@Override\npublic ContosoDetailsDto customQueryGetContosoDetails(Long id) {\n    return (ContosoDetailsDto) entityManager.createQuery(\n                    &quot;SELECT NEW com.nz.contoso.view.ContosoDetailsDto(Hibernate HQL query here&quot;)\n            .setParameter(&quot;id&quot;, id)\n            .getSingleResult();\n}\n</code></pre>\n<p>Then I have tried to setup Test class with empty method and a connection to a test container database:</p>\n<pre><code>@DataJpaTest\n@TestPropertySource(properties = {\n    &quot;spring.test.database.replace=none&quot;,\n    &quot;spring.datasource.url=jdbc:tc:mysql:8.1.0:///test?TC_REUSABLE=true&quot;\n})\n\npublic class CustomContosoRepositoryTest {\n\n@Autowired\nprivate CustomContosoRepository customContosoRepository;\n\n@Test\n@Sql(&quot;/data-custom.sql&quot;)\nvoid shouldReturnReturnContosoDetalisDto() {\n\n}\n</code></pre>\n<p>The error when running the test:</p>\n<p><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.nz.contoso.repository.CustomContosoRepositoryTest': Unsatisfied dependency expressed through field 'customContosoRepository': No qualifying bean of type 'com.nz.contoso.repository.CustomContosoRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code></p>\n<p>This error seems odd since I am wiring in <code>CustomContosoRepository</code> but I presume it is due to the lack of <code>@Repository</code> - and because it is a class not a interface extending JPA?</p>\n<p>Note the connection to the test db container is already setup and running.</p>\n<p>How can I setup the infrastructure for this test?</p>\n"},{"tags":["java","dependency-injection","guice","dropwizard-guice"],"answers":[{"comments":[{"owner":{"account_id":14124421,"reputation":341,"user_id":11940581,"display_name":"halfwind22"},"score":1,"creation_date":1696150003,"post_id":77208464,"comment_id":136114553,"body_markdown":"Ok, I guess what you meant is PARAMETER injection instead of CONSTRUCTOR/FIELD injection,  and yes, it&#39;s working for PARAMETER injection the way I wanted it to be. The point that Guice attempts either constructor or field injection (and not both at once) is what I missed out.","body":"Ok, I guess what you meant is PARAMETER injection instead of CONSTRUCTOR/FIELD injection,  and yes, it&#39;s working for PARAMETER injection the way I wanted it to be. The point that Guice attempts either constructor or field injection (and not both at once) is what I missed out."}],"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696108042,"creation_date":1696108042,"answer_id":77208464,"question_id":77206328,"body_markdown":"Put the `@AnnotatedRectangle` annotation to the constructor&#39;s parameter, not in the field: \r\n\r\n    private final Shape shape;\r\n    \r\n    @Inject\r\n    public ShapeRequest(@AnnotatedRectangle Shape shape) {\r\n        System.out.println(&quot;Attempting injection&quot;);\r\n        this.shape = shape;\r\n    }\r\n\r\nIf you use contructor injection all the &quot;metadata&quot; of the injection must go to the construction. Guice attempts either constructor injection or field injection. Not both.\r\n\r\nAlso, I would replace `@BindingAnnotation` with `@Qualifier` as the JSR standard. Also according to [Guice][1]: \r\n\r\n&gt; Guice&#39;s @BindingAnnotation is also used for this purpose in older\r\n&gt; code.\r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/BindingAnnotations","title":"[Guice/MissingImplementation]: No implementation was bound","body":"<p>Put the <code>@AnnotatedRectangle</code> annotation to the constructor's parameter, not in the field:</p>\n<pre><code>private final Shape shape;\n\n@Inject\npublic ShapeRequest(@AnnotatedRectangle Shape shape) {\n    System.out.println(&quot;Attempting injection&quot;);\n    this.shape = shape;\n}\n</code></pre>\n<p>If you use contructor injection all the &quot;metadata&quot; of the injection must go to the construction. Guice attempts either constructor injection or field injection. Not both.</p>\n<p>Also, I would replace <code>@BindingAnnotation</code> with <code>@Qualifier</code> as the JSR standard. Also according to <a href=\"https://github.com/google/guice/wiki/BindingAnnotations\" rel=\"nofollow noreferrer\">Guice</a>:</p>\n<blockquote>\n<p>Guice's @BindingAnnotation is also used for this purpose in older\ncode.</p>\n</blockquote>\n"}],"owner":{"account_id":14124421,"reputation":341,"user_id":11940581,"display_name":"halfwind22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77208464,"answer_count":1,"score":1,"last_activity_date":1696108042,"creation_date":1696064264,"question_id":77206328,"body_markdown":"I am trying to implement a simple app using Guice for DI.\r\nThe app has an interface *Shape* :\r\n\r\n    public interface Shape {\r\n        void draw();\r\n    }\r\n\r\nthat is implemented by a class *Rectangle*.\r\n\r\n    public class Rectangle implements Shape{\r\n        @Override\r\n        public void draw() {\r\n            System.out.printf(&quot;Shape is a rectangle&quot;);\r\n        }\r\n    }\r\n\r\nThen there is a class ShapeRequest that would inject *Shape* bean at runtime based on the explicit bindings I provide.\r\n\r\n\r\n    @Singleton\r\n    public class ShapeRequest {\r\n    \r\n        @AnnotatedRectangle\r\n        private final Shape shape;\r\n    \r\n        @Inject\r\n        public ShapeRequest(Shape shape) {\r\n            System.out.println(&quot;Attempting injection&quot;);\r\n            this.shape = shape;\r\n        }\r\n    \r\n        public Shape getShape() {\r\n            return shape;\r\n        }\r\n    \r\n        public void action(){\r\n            System.out.println(shape.getClass());\r\n            shape.draw();\r\n        }\r\n    }\r\n\r\nBinding class (implements AbstractModule) is as follows:\r\n\r\n    @Override\r\n    protected void configure(){\r\n        bind(Shape.class).annotatedWith(AnnotatedRectangle.class).to(Rectangle.class);\r\n        bind(String.class).annotatedWith(Color.class).toInstance(&quot;GREEN&quot;);\r\n\r\n    }\r\n\r\nTo support the above, I have created an annotation: \r\n\r\n    @BindingAnnotation\r\n    @Target({ElementType.FIELD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface AnnotatedRectangle {\r\n    }\r\n\r\nNow in the client class:\r\n\r\n    Injector injector = Guice.createInjector(new AppModule());\r\n    ShapeRequest request=injector.getInstance(ShapeRequest.class);\r\n\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; com.google.inject.ConfigurationException: Guice configuration errors:\r\n    \r\n    1) [Guice/MissingImplementation]: No implementation for Shape was bound.\r\n    \r\n    Did you mean?\r\n        * Shape annotated with interface AnnotatedRectangle bound at AppModule.configure(AppModule.java:18)\r\n    \r\n    Requested by:\r\n    1  : ShapeRequest.&lt;init&gt;(ShapeRequest.java:19)\r\n          \\_ for 1st parameter\r\n         while locating ShapeRequest\r\n\r\nWhat could be the issue here? I believe that I am explicitly specifying that a dependency of type *Shape* and annotation *AnnotatedRectangle* must be injected with an object of type *Rectangle* . ","title":"[Guice/MissingImplementation]: No implementation was bound","body":"<p>I am trying to implement a simple app using Guice for DI.\nThe app has an interface <em>Shape</em> :</p>\n<pre><code>public interface Shape {\n    void draw();\n}\n</code></pre>\n<p>that is implemented by a class <em>Rectangle</em>.</p>\n<pre><code>public class Rectangle implements Shape{\n    @Override\n    public void draw() {\n        System.out.printf(&quot;Shape is a rectangle&quot;);\n    }\n}\n</code></pre>\n<p>Then there is a class ShapeRequest that would inject <em>Shape</em> bean at runtime based on the explicit bindings I provide.</p>\n<pre><code>@Singleton\npublic class ShapeRequest {\n\n    @AnnotatedRectangle\n    private final Shape shape;\n\n    @Inject\n    public ShapeRequest(Shape shape) {\n        System.out.println(&quot;Attempting injection&quot;);\n        this.shape = shape;\n    }\n\n    public Shape getShape() {\n        return shape;\n    }\n\n    public void action(){\n        System.out.println(shape.getClass());\n        shape.draw();\n    }\n}\n</code></pre>\n<p>Binding class (implements AbstractModule) is as follows:</p>\n<pre><code>@Override\nprotected void configure(){\n    bind(Shape.class).annotatedWith(AnnotatedRectangle.class).to(Rectangle.class);\n    bind(String.class).annotatedWith(Color.class).toInstance(&quot;GREEN&quot;);\n\n}\n</code></pre>\n<p>To support the above, I have created an annotation:</p>\n<pre><code>@BindingAnnotation\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface AnnotatedRectangle {\n}\n</code></pre>\n<p>Now in the client class:</p>\n<pre><code>Injector injector = Guice.createInjector(new AppModule());\nShapeRequest request=injector.getInstance(ShapeRequest.class);\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.inject.ConfigurationException: Guice configuration errors:\n\n1) [Guice/MissingImplementation]: No implementation for Shape was bound.\n\nDid you mean?\n    * Shape annotated with interface AnnotatedRectangle bound at AppModule.configure(AppModule.java:18)\n\nRequested by:\n1  : ShapeRequest.&lt;init&gt;(ShapeRequest.java:19)\n      \\_ for 1st parameter\n     while locating ShapeRequest\n</code></pre>\n<p>What could be the issue here? I believe that I am explicitly specifying that a dependency of type <em>Shape</em> and annotation <em>AnnotatedRectangle</em> must be injected with an object of type <em>Rectangle</em> .</p>\n"}],"has_more":false,"quota_max":10000,"quota_remaining":9982,"page":152,"page_size":100}
