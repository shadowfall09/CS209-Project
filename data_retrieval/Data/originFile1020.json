{"items":[{"tags":["java","wss4j","xfire"],"answers":[{"tags":[],"owner":{"account_id":2047602,"reputation":809,"user_id":1827349,"accept_rate":60,"display_name":"MattWeiler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663769076,"creation_date":1663769076,"answer_id":73802123,"question_id":73775246,"body_markdown":"Based on speaking with coworkers with more experience with these libraries and SOAP in general, it seems that this version of the **wss4j** library just doesn&#39;t support **BinarySecurityToken** :(\r\n\r\nAs such we&#39;re going to go a different route to transmit the tokens.","title":"wss4j:1.6.5 - Add BinarySecurityToken to SOAP request","body":"<p>Based on speaking with coworkers with more experience with these libraries and SOAP in general, it seems that this version of the <strong>wss4j</strong> library just doesn't support <strong>BinarySecurityToken</strong> :(</p>\n<p>As such we're going to go a different route to transmit the tokens.</p>\n"}],"owner":{"account_id":2047602,"reputation":809,"user_id":1827349,"accept_rate":60,"display_name":"MattWeiler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73802123,"answer_count":1,"score":0,"last_activity_date":1663769076,"creation_date":1663598661,"question_id":73775246,"body_markdown":"We have an old application written in Java that uses and old version of **wss4j** to generate the SOAP requests and **xFire** to transmit those requests.\r\n\r\nThis project uses a few dependencies that I believe are relevant:\r\n\r\n - **wss4j** (1.6.5)\r\n - **xfire-all** (1.2.6)\r\n - **xfire-jsr181-api** (1.0-M1)\r\n\r\n&gt; Frankly, I have little experience with SOAP and zero experience with this **wss4j** library.\r\n&gt; \r\n&gt; From looking online, I was unable to find a lot of helpful resources for this older version of **wss4j**.\r\n&gt; \r\n&gt; With all of the developers who worked on this project having left the company before I joined, I&#39;m hoping to find some help from the vast knowledge found on SO.\r\n\r\n----------\r\n\r\nA change in the SOAP service has been made by an external team for which we need to modify our client.\r\n\r\nWe need to be able to add a **BinarySecurityToken** to the **Security** section of the header as well as an arbitrary element to the **Header**.\r\n\r\n&gt; From what I&#39;ve read online, the **BinarySecurityToken** is supposed to be used to encode certificate data, so I&#39;m not sure if we&#39;re trying to use it correctly, but frankly we don&#39;t have a choice as the change has been made to the service and we have to adapt the client to meet it&#39;s new requirements :(\r\n\r\n\r\nBelow is an example or what our application currently sends; it does not include a **BinarySecurityToken** in the **Security** element or an **authMethod** element in the **Header** element:\r\n\r\n    &lt;soap:Header&gt;\r\n    \t&lt;wsse:Security soap:mustUnderstand=&quot;1&quot;&gt;\r\n    \t\t&lt;wsse:UsernameToken xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;SecurityToken-b92109ac-4a13-444d-b8e5-19c400f5910f&quot;&gt;\r\n    \t\t\t&lt;wsse:Username&gt;some_username&lt;/wsse:Username&gt;\r\n    \t\t\t&lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;some_password&lt;/wsse:Password&gt;\r\n    \t\t\t&lt;wsse:Nonce&gt;Daaaaa1bBbbbbBb2cccccc==&lt;/wsse:Nonce&gt;\r\n    \t\t\t&lt;wsu:Created&gt;2022-09-19T09:10:31Z&lt;/wsu:Created&gt;\r\n    \t\t&lt;/wsse:UsernameToken&gt;\r\n    \t&lt;/wsse:Security&gt;\r\n    \t&lt;wsa:Action&gt;some_text&lt;/wsa:Action&gt;\r\n    \t&lt;wsa:MessageID&gt;some_text_value&lt;/wsa:MessageID&gt;\r\n    \t&lt;wsa:ReplyTo&gt;\r\n    \t\t&lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\r\n    \t&lt;/wsa:ReplyTo&gt;\r\n    \t&lt;wsa:To endpointID=&quot;some_text_value&quot;&gt;http://172.31.9.216:443/P/V3_20090316L/XML/FICR_AR062004CA&lt;/wsa:To&gt;\r\n    \t&lt;wsa:From endpointID=&quot;some_text_value&quot;&gt;\r\n    \t\t&lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\r\n    \t&lt;/wsa:From&gt;\r\n    \t&lt;language&gt;en&lt;/language&gt;\r\n    &lt;/soap:Header&gt;\r\n\r\n\r\nThe expected SOAP request must contain a header that looks like the below, it must include a **BinarySecurityToken** in the **Security** element and an **authMethod** element in the **Header** element:\r\n\r\n    &lt;soap:Header&gt;\r\n    \t&lt;wsse:Security soap:mustUnderstand=&quot;1&quot;&gt;\r\n    \t\t&lt;wsse:UsernameToken xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;SecurityToken-b92109ac-4a13-444d-b8e5-19c400f5910f&quot;&gt;\r\n    \t\t\t&lt;wsse:Username&gt;some_username&lt;/wsse:Username&gt;\r\n    \t\t\t&lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt; &lt;/wsse:Password&gt;\r\n    \t\t\t&lt;wsse:Nonce&gt;Daaaaa1bBbbbbBb2cccccc==&lt;/wsse:Nonce&gt;\r\n    \t\t\t&lt;wsu:Created&gt;2022-09-19T09:10:31Z&lt;/wsu:Created&gt;\r\n    \t\t&lt;/wsse:UsernameToken&gt;\r\n    \t\t&lt;wsse:BinarySecurityToken ValueType=&quot;authToken&quot; EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;SecurityToken-c0c6c469-235a-42e5-869c-cec77b1c2dbd&quot;&gt;some_token_which_will_be_base64_encoded&lt;/wsse:BinarySecurityToken&gt;\r\n    \t&lt;/wsse:Security&gt;\r\n    \t&lt;wsa:Action&gt;some_text&lt;/wsa:Action&gt;\r\n    \t&lt;wsa:MessageID&gt;some_text_value&lt;/wsa:MessageID&gt;\r\n    \t&lt;wsa:ReplyTo&gt;\r\n    \t\t&lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\r\n    \t&lt;/wsa:ReplyTo&gt;\r\n    \t&lt;wsa:To endpointID=&quot;some_text_value&quot;&gt;http://172.31.9.216:443/P/V3_20090316L/XML/FICR_AR062004CA&lt;/wsa:To&gt;\r\n    \t&lt;wsa:From endpointID=&quot;some_text_value&quot;&gt;\r\n    \t\t&lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\r\n    \t&lt;/wsa:From&gt;\r\n    \t&lt;language&gt;en&lt;/language&gt;\r\n    \t&lt;ehr:authMethod xmlns:ehr=&quot;some_text_value&quot;&gt;authToken&lt;/ehr:authMethod&gt;\r\n    &lt;/soap:Header&gt;\r\n\r\n\r\n----------\r\n\r\nBelow an a sample of the current code:\r\n\r\n&gt; I cleaned-up the code a little to make it legible and added full class-declarations where I thought important.\r\n\r\nTransmitter.java\r\n----------------\r\n\r\n    public class Transmitter\r\n    {\r\n    \t\r\n    \tpublic org.w3c.dom.Document sendRequest(\r\n    \t\tDocument reqMsg,\r\n    \t\tString serverUrlAndLocation,\r\n    \t\tString action,\r\n    \t\tString msgId,\r\n    \t\tString receiverNetAddr,\r\n    \t\tString senderNetAddr,\r\n    \t\tString toEndpointID,\r\n    \t\tString fromEndpointID,\r\n    \t\tString username,\r\n    \t\tString authToken,\r\n    \t\tString testCase\r\n    \t)\r\n    \t\tfinal EHIP_routingServiceClient prclient = new EHIP_routingServiceClient(serverUrlAndLocation);\r\n    \t\tfinal EHIP_routingPortType prpt = prclient.getEHIP_routingPort0();\r\n    \t\tfinal org.codehaus.xfire.client.Client client = org.codehaus.xfire.client.Client.getInstance(prpt);\r\n    \t\t\r\n    \t\tString interactionId = stripVersion(action);\r\n    \t\taction = &quot;urn:hl7-org:v3:&quot; + action;\r\n    \t\t\r\n    \t\tfinal RxDOMInHandler rxHandler = new RxDOMInHandler(testCase);\r\n    \t\t\r\n    \t\tclient.addInHandler   (rxHandler);\t\t// creates the DOM for the SOAP msg;\r\n    \t\tclient.addOutHandler  (new org.codehaus.xfire.util.dom.DOMOutHandler.DOMOutHandler());\r\n    \t\tclient.addFaultHandler(new org.codehaus.xfire.util.dom.DOMOutHandler.DOMOutHandler());\r\n    \t\tclient.addInHandler   (new org.codehaus.xfire.util.LoggingHandler());\r\n    \t\tclient.addOutHandler  (new RxLoggingHandler(testCase, interactionId));\r\n    \t\tclient.addFaultHandler(new RxLoggingHandler(testCase, interactionId));\r\n    \t\t\r\n    \t\tthis.enableUsernameTokenEClaims(\r\n    \t\t\tclient,\r\n    \t\t\tusername,\r\n    \t\t\tauthToken\r\n    \t\t);\r\n    \t\t\r\n    \t\tthis.enableWSAddressing(\r\n    \t\t\tclient,\r\n    \t\t\taction,\r\n    \t\t\tmsgId,\r\n    \t\t\treceiverNetAddr,\r\n    \t\t\tsenderNetAddr,\r\n    \t\t\ttoEndpointID,\r\n    \t\t\tfromEndpointID\r\n    \t\t);\r\n    \t\t\r\n    \t\tclient.addOutHandler(new RxSoapActionOutHandler(action, false));\r\n    \t\tclient.addOutHandler(new RxAdjustBodyOutHandler(m_api.getCreationTimeFormatFlag()));\r\n    \t\t\r\n    \t\tfinal Object[] params = new Object[] {reqMsg};\r\n    \t\tObject[] ret;\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tret = client.invoke(&quot;processRequest&quot;, params);\r\n    \t\t}\r\n    \t\tcatch(XFireFault fault)\r\n    \t\t{\r\n    \t\t\tif (fault.getCause() instanceof WstxEOFException)\r\n    \t\t\t{\r\n    \t\t\t\tfinal DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \t\t\t\tfinal DocumentBuilder documentBuilder = factory.newDocumentBuilder();\r\n    \t\t\t\tret = new Document[1];\r\n    \t\t\t\tret[0] = documentBuilder.newDocument();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tthrow fault;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn rxHandler.getResponse();\r\n    \t}\r\n    \t\r\n    \tprivate void enableUsernameTokenEClaims(\r\n    \t\t\tClient client,\r\n    \t\t\tString username,\r\n    \t\t\tString authToken\r\n    \t)\r\n    \t{\r\n    \t\tfinal java.util.Map&lt;String, Object&gt; usernameTokenConfig = new HashMap&lt;String, Object&gt;();\r\n    \t\t\r\n    \t\tusernameTokenConfig.put(WSHandlerConstants.ACTION, WSHandlerConstants.USERNAME_TOKEN);\r\n    \t\t\r\n    \t\tusernameTokenConfig.put(WSHandlerConstants.USER, username);\r\n    \t\tusernameTokenConfig.put(WSHandlerConstants.PASSWORD_TYPE, WSConstants.PW_DIGEST);\r\n    \t\t\r\n    \t\tfinal RxPasswordHandler pwdHandler = new RxPasswordHandler();\r\n    \t\tpwdHandler.setPassword(authToken, true);\r\n    \t\t\r\n    \t\tusernameTokenConfig.put(WSHandlerConstants.PW_CALLBACK_REF, pwdHandler);\r\n    \t\t\r\n    \t\tclient.addOutHandler(new WSS4JOutHandler(usernameTokenConfig));\r\n    \t}\r\n    \t\r\n    \tprivate void enableWSAddressing(\r\n    \t\torg.codehaus.xfire.client.Client client,\r\n    \t\tString action,\r\n    \t\tString msgId,\r\n    \t\tString receiverNetAddr,\r\n    \t\tString senderNetAddr,\r\n    \t\tString toEndpointID,\r\n    \t\tString fromEndpointID\r\n    \t)\r\n    \t{\r\n    \t\tfinal RxAddressingHeadersFactory200508 factory = new RxAddressingHeadersFactory200508(\r\n    \t\t\tm_api.getLanguage(),\r\n    \t\t\ttoEndpointID,\r\n    \t\t\tfromEndpointID\r\n    \t\t);\r\n    \t\t\r\n    \t\tfinal AddressingHeaders ah = new AddressingHeaders();\r\n    \t\t\r\n    \t\tif (msgId == null || msgId.trim().equals(&quot;&quot;))\r\n    \t\t{\r\n    \t\t\tah.setMessageID(new RandomGUID(true).toString());\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tah.setMessageID(msgId);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfinal EndpointReference epr1 = factory.createEClaimsDefaultEPR(senderNetAddr);\r\n    \t\t\r\n    \t\tah.setFrom(epr1);\r\n    \t\tah.setReplyTo(factory.createDefaultEPR());\r\n    \t\tah.setTo(receiverNetAddr);\r\n    \t\t\r\n    \t\tah.setAction(action);\r\n    \t\t\r\n    \t\tfinal java.util.Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt; ();\r\n    \t\tproperties.put(AddressingInHandler.ADRESSING_HEADERS.toString(), ah);\r\n    \t\tproperties.put(AddressingInHandler.ADRESSING_FACTORY.toString(), factory); \r\n    \t\t\r\n    \t\tclient.addOutHandler(new RxAddressingOutHandler(properties));\r\n    \t}\r\n    \t\r\n    }\r\n\r\nRxDOMInHandler\r\n--------------\r\n\r\n    public class RxDOMInHandler extends org.codehaus.xfire.util.dom.DOMInHandler\r\n    {\r\n    \tpublic static final String DOM_MESSAGE = &quot;dom.message&quot;;\r\n    \tprivate String interactionId = null;\r\n    \tprivate String testCase = null;\r\n    \tprivate org.w3c.dom.Document response = null;\r\n    \t\r\n    \tpublic RxDOMInHandler()\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tsetPhase(org.codehaus.xfire.handler.Phase.PARSE);\r\n    \t\tbefore(org.codehaus.xfire.soap.handler.ReadHeadersHandler.class.getName());\r\n    \t}\r\n    \t\r\n    \tpublic RxDOMInHandler(String testCase)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tsetPhase(org.codehaus.xfire.handler.Phase.PARSE);\r\n    \t\tbefore(org.codehaus.xfire.soap.handler.ReadHeadersHandler.class.getName());\r\n    \t\tthis.testCase = testCase;\r\n    \t}\r\n    \t\r\n    \tpublic void invoke(org.codehaus.xfire.MessageContext context)\r\n    \t\t\tthrows Exception\r\n    \t{\r\n    \t\torg.w3c.dom.Document doc = null;\r\n    \t\tjavax.xml.parsers.DocumentBuilderFactory dbf = javax.xml.parsers.DocumentBuilderFactory.newInstance();\r\n    \t\tdbf.setValidating(false);\r\n    \t\tdbf.setIgnoringComments(false);\r\n    \t\tdbf.setIgnoringElementContentWhitespace(false);\r\n    \t\tdbf.setNamespaceAware(true);\r\n    \t\tdbf.setCoalescing(false);\r\n    \t\t\r\n    \t\torg.codehaus.stax2.XMLStreamReader2 reader2 = (org.codehaus.stax2.XMLStreamReader2) context.getInMessage().getXMLStreamReader();\r\n    \t\tdoc = org.codehaus.xfire.util.STAXUtils.read(dbf.newDocumentBuilder(), reader2, false);\r\n    \t\tthis.response = doc;\r\n    \t\t\r\n    \t\tcontext.getInMessage().setProperty(DOM_MESSAGE, doc);\r\n    \t\tcontext.getInMessage().setXMLStreamReader(new org.codehaus.xfire.util.stax.W3CDOMStreamReader(doc.getDocumentElement()));\r\n    \t\tthis.interactionId = RxDOMUtil.getInteractionIdFromDoc(doc);\r\n    \t\tRxDOMUtil.writeXmlToFile(&quot;xmls/SOAP_Response_&quot; + this.interactionId + &quot;_&quot; + this.testCase + &quot;.xml&quot;, doc);\r\n    \t}\r\n    \t\r\n    \tpublic org.w3c.dom.Document getResponse()\r\n    \t{\r\n    \t\treturn response;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n----------\r\n\r\nI tried modifying the **enableUsernameTokenEClaims** method to add a **BinarySecurityToken**, but so far I have not been able to get that to work.\r\n\r\n----------\r\n\r\nI have already successfully make this same change to another client of this service, but that client was written in VB and the libraries being used there were either more flexible or less strict.","title":"wss4j:1.6.5 - Add BinarySecurityToken to SOAP request","body":"<p>We have an old application written in Java that uses and old version of <strong>wss4j</strong> to generate the SOAP requests and <strong>xFire</strong> to transmit those requests.</p>\n<p>This project uses a few dependencies that I believe are relevant:</p>\n<ul>\n<li><strong>wss4j</strong> (1.6.5)</li>\n<li><strong>xfire-all</strong> (1.2.6)</li>\n<li><strong>xfire-jsr181-api</strong> (1.0-M1)</li>\n</ul>\n<blockquote>\n<p>Frankly, I have little experience with SOAP and zero experience with this <strong>wss4j</strong> library.</p>\n<p>From looking online, I was unable to find a lot of helpful resources for this older version of <strong>wss4j</strong>.</p>\n<p>With all of the developers who worked on this project having left the company before I joined, I'm hoping to find some help from the vast knowledge found on SO.</p>\n</blockquote>\n<hr />\n<p>A change in the SOAP service has been made by an external team for which we need to modify our client.</p>\n<p>We need to be able to add a <strong>BinarySecurityToken</strong> to the <strong>Security</strong> section of the header as well as an arbitrary element to the <strong>Header</strong>.</p>\n<blockquote>\n<p>From what I've read online, the <strong>BinarySecurityToken</strong> is supposed to be used to encode certificate data, so I'm not sure if we're trying to use it correctly, but frankly we don't have a choice as the change has been made to the service and we have to adapt the client to meet it's new requirements :(</p>\n</blockquote>\n<p>Below is an example or what our application currently sends; it does not include a <strong>BinarySecurityToken</strong> in the <strong>Security</strong> element or an <strong>authMethod</strong> element in the <strong>Header</strong> element:</p>\n<pre><code>&lt;soap:Header&gt;\n    &lt;wsse:Security soap:mustUnderstand=&quot;1&quot;&gt;\n        &lt;wsse:UsernameToken xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;SecurityToken-b92109ac-4a13-444d-b8e5-19c400f5910f&quot;&gt;\n            &lt;wsse:Username&gt;some_username&lt;/wsse:Username&gt;\n            &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;some_password&lt;/wsse:Password&gt;\n            &lt;wsse:Nonce&gt;Daaaaa1bBbbbbBb2cccccc==&lt;/wsse:Nonce&gt;\n            &lt;wsu:Created&gt;2022-09-19T09:10:31Z&lt;/wsu:Created&gt;\n        &lt;/wsse:UsernameToken&gt;\n    &lt;/wsse:Security&gt;\n    &lt;wsa:Action&gt;some_text&lt;/wsa:Action&gt;\n    &lt;wsa:MessageID&gt;some_text_value&lt;/wsa:MessageID&gt;\n    &lt;wsa:ReplyTo&gt;\n        &lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\n    &lt;/wsa:ReplyTo&gt;\n    &lt;wsa:To endpointID=&quot;some_text_value&quot;&gt;http://172.31.9.216:443/P/V3_20090316L/XML/FICR_AR062004CA&lt;/wsa:To&gt;\n    &lt;wsa:From endpointID=&quot;some_text_value&quot;&gt;\n        &lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\n    &lt;/wsa:From&gt;\n    &lt;language&gt;en&lt;/language&gt;\n&lt;/soap:Header&gt;\n</code></pre>\n<p>The expected SOAP request must contain a header that looks like the below, it must include a <strong>BinarySecurityToken</strong> in the <strong>Security</strong> element and an <strong>authMethod</strong> element in the <strong>Header</strong> element:</p>\n<pre><code>&lt;soap:Header&gt;\n    &lt;wsse:Security soap:mustUnderstand=&quot;1&quot;&gt;\n        &lt;wsse:UsernameToken xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;SecurityToken-b92109ac-4a13-444d-b8e5-19c400f5910f&quot;&gt;\n            &lt;wsse:Username&gt;some_username&lt;/wsse:Username&gt;\n            &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt; &lt;/wsse:Password&gt;\n            &lt;wsse:Nonce&gt;Daaaaa1bBbbbbBb2cccccc==&lt;/wsse:Nonce&gt;\n            &lt;wsu:Created&gt;2022-09-19T09:10:31Z&lt;/wsu:Created&gt;\n        &lt;/wsse:UsernameToken&gt;\n        &lt;wsse:BinarySecurityToken ValueType=&quot;authToken&quot; EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;SecurityToken-c0c6c469-235a-42e5-869c-cec77b1c2dbd&quot;&gt;some_token_which_will_be_base64_encoded&lt;/wsse:BinarySecurityToken&gt;\n    &lt;/wsse:Security&gt;\n    &lt;wsa:Action&gt;some_text&lt;/wsa:Action&gt;\n    &lt;wsa:MessageID&gt;some_text_value&lt;/wsa:MessageID&gt;\n    &lt;wsa:ReplyTo&gt;\n        &lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\n    &lt;/wsa:ReplyTo&gt;\n    &lt;wsa:To endpointID=&quot;some_text_value&quot;&gt;http://172.31.9.216:443/P/V3_20090316L/XML/FICR_AR062004CA&lt;/wsa:To&gt;\n    &lt;wsa:From endpointID=&quot;some_text_value&quot;&gt;\n        &lt;wsa:Address&gt;some_text_value&lt;/wsa:Address&gt;\n    &lt;/wsa:From&gt;\n    &lt;language&gt;en&lt;/language&gt;\n    &lt;ehr:authMethod xmlns:ehr=&quot;some_text_value&quot;&gt;authToken&lt;/ehr:authMethod&gt;\n&lt;/soap:Header&gt;\n</code></pre>\n<hr />\n<p>Below an a sample of the current code:</p>\n<blockquote>\n<p>I cleaned-up the code a little to make it legible and added full class-declarations where I thought important.</p>\n</blockquote>\n<h2>Transmitter.java</h2>\n<pre><code>public class Transmitter\n{\n    \n    public org.w3c.dom.Document sendRequest(\n        Document reqMsg,\n        String serverUrlAndLocation,\n        String action,\n        String msgId,\n        String receiverNetAddr,\n        String senderNetAddr,\n        String toEndpointID,\n        String fromEndpointID,\n        String username,\n        String authToken,\n        String testCase\n    )\n        final EHIP_routingServiceClient prclient = new EHIP_routingServiceClient(serverUrlAndLocation);\n        final EHIP_routingPortType prpt = prclient.getEHIP_routingPort0();\n        final org.codehaus.xfire.client.Client client = org.codehaus.xfire.client.Client.getInstance(prpt);\n        \n        String interactionId = stripVersion(action);\n        action = &quot;urn:hl7-org:v3:&quot; + action;\n        \n        final RxDOMInHandler rxHandler = new RxDOMInHandler(testCase);\n        \n        client.addInHandler   (rxHandler);      // creates the DOM for the SOAP msg;\n        client.addOutHandler  (new org.codehaus.xfire.util.dom.DOMOutHandler.DOMOutHandler());\n        client.addFaultHandler(new org.codehaus.xfire.util.dom.DOMOutHandler.DOMOutHandler());\n        client.addInHandler   (new org.codehaus.xfire.util.LoggingHandler());\n        client.addOutHandler  (new RxLoggingHandler(testCase, interactionId));\n        client.addFaultHandler(new RxLoggingHandler(testCase, interactionId));\n        \n        this.enableUsernameTokenEClaims(\n            client,\n            username,\n            authToken\n        );\n        \n        this.enableWSAddressing(\n            client,\n            action,\n            msgId,\n            receiverNetAddr,\n            senderNetAddr,\n            toEndpointID,\n            fromEndpointID\n        );\n        \n        client.addOutHandler(new RxSoapActionOutHandler(action, false));\n        client.addOutHandler(new RxAdjustBodyOutHandler(m_api.getCreationTimeFormatFlag()));\n        \n        final Object[] params = new Object[] {reqMsg};\n        Object[] ret;\n        \n        try\n        {\n            ret = client.invoke(&quot;processRequest&quot;, params);\n        }\n        catch(XFireFault fault)\n        {\n            if (fault.getCause() instanceof WstxEOFException)\n            {\n                final DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n                final DocumentBuilder documentBuilder = factory.newDocumentBuilder();\n                ret = new Document[1];\n                ret[0] = documentBuilder.newDocument();\n            }\n            else\n            {\n                throw fault;\n            }\n        }\n        \n        return rxHandler.getResponse();\n    }\n    \n    private void enableUsernameTokenEClaims(\n            Client client,\n            String username,\n            String authToken\n    )\n    {\n        final java.util.Map&lt;String, Object&gt; usernameTokenConfig = new HashMap&lt;String, Object&gt;();\n        \n        usernameTokenConfig.put(WSHandlerConstants.ACTION, WSHandlerConstants.USERNAME_TOKEN);\n        \n        usernameTokenConfig.put(WSHandlerConstants.USER, username);\n        usernameTokenConfig.put(WSHandlerConstants.PASSWORD_TYPE, WSConstants.PW_DIGEST);\n        \n        final RxPasswordHandler pwdHandler = new RxPasswordHandler();\n        pwdHandler.setPassword(authToken, true);\n        \n        usernameTokenConfig.put(WSHandlerConstants.PW_CALLBACK_REF, pwdHandler);\n        \n        client.addOutHandler(new WSS4JOutHandler(usernameTokenConfig));\n    }\n    \n    private void enableWSAddressing(\n        org.codehaus.xfire.client.Client client,\n        String action,\n        String msgId,\n        String receiverNetAddr,\n        String senderNetAddr,\n        String toEndpointID,\n        String fromEndpointID\n    )\n    {\n        final RxAddressingHeadersFactory200508 factory = new RxAddressingHeadersFactory200508(\n            m_api.getLanguage(),\n            toEndpointID,\n            fromEndpointID\n        );\n        \n        final AddressingHeaders ah = new AddressingHeaders();\n        \n        if (msgId == null || msgId.trim().equals(&quot;&quot;))\n        {\n            ah.setMessageID(new RandomGUID(true).toString());\n        }\n        else\n        {\n            ah.setMessageID(msgId);\n        }\n        \n        final EndpointReference epr1 = factory.createEClaimsDefaultEPR(senderNetAddr);\n        \n        ah.setFrom(epr1);\n        ah.setReplyTo(factory.createDefaultEPR());\n        ah.setTo(receiverNetAddr);\n        \n        ah.setAction(action);\n        \n        final java.util.Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt; ();\n        properties.put(AddressingInHandler.ADRESSING_HEADERS.toString(), ah);\n        properties.put(AddressingInHandler.ADRESSING_FACTORY.toString(), factory); \n        \n        client.addOutHandler(new RxAddressingOutHandler(properties));\n    }\n    \n}\n</code></pre>\n<h2>RxDOMInHandler</h2>\n<pre><code>public class RxDOMInHandler extends org.codehaus.xfire.util.dom.DOMInHandler\n{\n    public static final String DOM_MESSAGE = &quot;dom.message&quot;;\n    private String interactionId = null;\n    private String testCase = null;\n    private org.w3c.dom.Document response = null;\n    \n    public RxDOMInHandler()\n    {\n        super();\n        setPhase(org.codehaus.xfire.handler.Phase.PARSE);\n        before(org.codehaus.xfire.soap.handler.ReadHeadersHandler.class.getName());\n    }\n    \n    public RxDOMInHandler(String testCase)\n    {\n        super();\n        setPhase(org.codehaus.xfire.handler.Phase.PARSE);\n        before(org.codehaus.xfire.soap.handler.ReadHeadersHandler.class.getName());\n        this.testCase = testCase;\n    }\n    \n    public void invoke(org.codehaus.xfire.MessageContext context)\n            throws Exception\n    {\n        org.w3c.dom.Document doc = null;\n        javax.xml.parsers.DocumentBuilderFactory dbf = javax.xml.parsers.DocumentBuilderFactory.newInstance();\n        dbf.setValidating(false);\n        dbf.setIgnoringComments(false);\n        dbf.setIgnoringElementContentWhitespace(false);\n        dbf.setNamespaceAware(true);\n        dbf.setCoalescing(false);\n        \n        org.codehaus.stax2.XMLStreamReader2 reader2 = (org.codehaus.stax2.XMLStreamReader2) context.getInMessage().getXMLStreamReader();\n        doc = org.codehaus.xfire.util.STAXUtils.read(dbf.newDocumentBuilder(), reader2, false);\n        this.response = doc;\n        \n        context.getInMessage().setProperty(DOM_MESSAGE, doc);\n        context.getInMessage().setXMLStreamReader(new org.codehaus.xfire.util.stax.W3CDOMStreamReader(doc.getDocumentElement()));\n        this.interactionId = RxDOMUtil.getInteractionIdFromDoc(doc);\n        RxDOMUtil.writeXmlToFile(&quot;xmls/SOAP_Response_&quot; + this.interactionId + &quot;_&quot; + this.testCase + &quot;.xml&quot;, doc);\n    }\n    \n    public org.w3c.dom.Document getResponse()\n    {\n        return response;\n    }\n    \n}\n</code></pre>\n<hr />\n<p>I tried modifying the <strong>enableUsernameTokenEClaims</strong> method to add a <strong>BinarySecurityToken</strong>, but so far I have not been able to get that to work.</p>\n<hr />\n<p>I have already successfully make this same change to another client of this service, but that client was written in VB and the libraries being used there were either more flexible or less strict.</p>\n"},{"tags":["java","unit-testing","date"],"comments":[{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":1,"creation_date":1474017457,"post_id":39527752,"comment_id":66370363,"body_markdown":"This might help you: http://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito","body":"This might help you: <a href=\"http://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\" title=\"mocking static methods with mockito\">stackoverflow.com/questions/21105403/&hellip;</a>"},{"owner":{"account_id":2422126,"reputation":15525,"user_id":2114871,"accept_rate":95,"display_name":"iberbeu"},"score":0,"creation_date":1474017574,"post_id":39527752,"comment_id":66370427,"body_markdown":"Yeah, I guess you are right. I didn&#39;t want to use powermockito though... Is there any other way?","body":"Yeah, I guess you are right. I didn&#39;t want to use powermockito though... Is there any other way?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1474017560,"creation_date":1474017560,"answer_id":39527845,"question_id":39527752,"body_markdown":"&gt;  I cannot mock now() because it is static \r\n\r\nIndeed - but fortunately, you don&#39;t have to. Instead, consider &quot;a date/time provider&quot; as a dependency, and inject that as normal. `java.time` provides just such a dependency: [`java.time.Clock`][1]. In tests you can provide a fixed clock via `Clock.fixed(...)` (no mocking required) and for production you&#39;d use `Clock.system(...)`.\r\n\r\nThen you change your code to something like:\r\n\r\n    class MyObject {\r\n        private final Clock clock;\r\n        private LocalDateTime date;\r\n\r\n        public MyObject(Clock clock) {\r\n            this.clock = clock;\r\n        }\r\n    \r\n        public LocalDateTime getDate() {\r\n            return this.date;\r\n        }\r\n    \r\n        public void myMethod() {\r\n            this.date = LocalDateTime.now(clock);\r\n        }\r\n    }\r\n\r\n... or however you normally deal with dependencies.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n\r\n","title":"How to test date created with LocalDateTime.now()","body":"<blockquote>\n  <p>I cannot mock now() because it is static </p>\n</blockquote>\n\n<p>Indeed - but fortunately, you don't have to. Instead, consider \"a date/time provider\" as a dependency, and inject that as normal. <code>java.time</code> provides just such a dependency: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"noreferrer\"><code>java.time.Clock</code></a>. In tests you can provide a fixed clock via <code>Clock.fixed(...)</code> (no mocking required) and for production you'd use <code>Clock.system(...)</code>.</p>\n\n<p>Then you change your code to something like:</p>\n\n<pre><code>class MyObject {\n    private final Clock clock;\n    private LocalDateTime date;\n\n    public MyObject(Clock clock) {\n        this.clock = clock;\n    }\n\n    public LocalDateTime getDate() {\n        return this.date;\n    }\n\n    public void myMethod() {\n        this.date = LocalDateTime.now(clock);\n    }\n}\n</code></pre>\n\n<p>... or however you normally deal with dependencies.</p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1474034482,"creation_date":1474018040,"answer_id":39528009,"question_id":39527752,"body_markdown":"You could generate a date time just before calling `myMethod()` and make sure that this date is **before or equals** to the date returned by `getDate()`, something like that:\r\n\r\n    @Test\r\n    public void testDate() {\r\n        MyObject object = new MyObject();\r\n        // Get the current date time \r\n        LocalDateTime time = LocalDateTime.now();\r\n        // Affect the current date time to the field date\r\n        object.myMethod();\r\n        // Make sure that it is before or equals\r\n        Assert.assertTrue(time.isBefore(object.getDate()) || time.isEqual(object.getDate()));\r\n    }\r\n\r\n---\r\n\r\nIf you don&#39;t care adding coupling to your class a better approach could be to provide a [`Supplier&lt;LocalDateTime&gt;`][1] to your class as next:\r\n\r\n    public class MyObject {\r\n        private final Supplier&lt;LocalDateTime&gt; supplier;\r\n        private LocalDateTime date;\r\n    \r\n        public MyObject() {\r\n            this(LocalDateTime::now);\r\n        }\r\n\r\n        public MyObject(final Supplier&lt;LocalDateTime&gt; supplier) {\r\n            this.supplier = supplier;\r\n        }\r\n    \r\n        public LocalDateTime getDate() { return this.date; }\r\n    \r\n        public void myMethod() {\r\n            this.date = supplier.get();\r\n        }\r\n    }\r\n\r\nThis way it will be easy to create a [`Supplier`][1] for testing purpose in your test case.\r\n\r\nFor example the test case could then be:\r\n\r\n    @Test\r\n    public void testDate() {\r\n        LocalDateTime time = LocalDateTime.now();\r\n        MyObject object = new MyObject(() -&gt; time);\r\n        object.myMethod();\r\n        Assert.assertTrue(time.isEqual(object.getDate()));\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html","title":"How to test date created with LocalDateTime.now()","body":"<p>You could generate a date time just before calling <code>myMethod()</code> and make sure that this date is <strong>before or equals</strong> to the date returned by <code>getDate()</code>, something like that:</p>\n\n<pre><code>@Test\npublic void testDate() {\n    MyObject object = new MyObject();\n    // Get the current date time \n    LocalDateTime time = LocalDateTime.now();\n    // Affect the current date time to the field date\n    object.myMethod();\n    // Make sure that it is before or equals\n    Assert.assertTrue(time.isBefore(object.getDate()) || time.isEqual(object.getDate()));\n}\n</code></pre>\n\n<hr>\n\n<p>If you don't care adding coupling to your class a better approach could be to provide a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"noreferrer\"><code>Supplier&lt;LocalDateTime&gt;</code></a> to your class as next:</p>\n\n<pre><code>public class MyObject {\n    private final Supplier&lt;LocalDateTime&gt; supplier;\n    private LocalDateTime date;\n\n    public MyObject() {\n        this(LocalDateTime::now);\n    }\n\n    public MyObject(final Supplier&lt;LocalDateTime&gt; supplier) {\n        this.supplier = supplier;\n    }\n\n    public LocalDateTime getDate() { return this.date; }\n\n    public void myMethod() {\n        this.date = supplier.get();\n    }\n}\n</code></pre>\n\n<p>This way it will be easy to create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"noreferrer\"><code>Supplier</code></a> for testing purpose in your test case.</p>\n\n<p>For example the test case could then be:</p>\n\n<pre><code>@Test\npublic void testDate() {\n    LocalDateTime time = LocalDateTime.now();\n    MyObject object = new MyObject(() -&gt; time);\n    object.myMethod();\n    Assert.assertTrue(time.isEqual(object.getDate()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16110107,"reputation":21,"user_id":11628537,"display_name":"Ghanshyam Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606346866,"creation_date":1606346866,"answer_id":65014121,"question_id":39527752,"body_markdown":"Update your class as below :\r\n\r\n    class MyObject {\r\n        private LocalDateTime date;\r\n    \r\n        public Supplier&lt;LocalDateTime&gt; localDateTime = ()-&gt; LocalDateTime.now();\r\n    \r\n        public LocalDateTime getDate() { return this.date; }\r\n    \r\n        public void myMethod() {\r\n            this.date = localDateTime.get();\r\n        }\r\n    }\r\n\r\nand in the test method update the supplier variable as below just before calling myMethod:\r\n\r\n    objMyObject.localDateTime = ()-&gt; LocalDateTime.parse(&quot;2020-11-24T23:59:59.999&quot;);","title":"How to test date created with LocalDateTime.now()","body":"<p>Update your class as below :</p>\n<pre><code>class MyObject {\n    private LocalDateTime date;\n\n    public Supplier&lt;LocalDateTime&gt; localDateTime = ()-&gt; LocalDateTime.now();\n\n    public LocalDateTime getDate() { return this.date; }\n\n    public void myMethod() {\n        this.date = localDateTime.get();\n    }\n}\n</code></pre>\n<p>and in the test method update the supplier variable as below just before calling myMethod:</p>\n<pre><code>objMyObject.localDateTime = ()-&gt; LocalDateTime.parse(&quot;2020-11-24T23:59:59.999&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16267237,"reputation":620,"user_id":11746899,"display_name":"Opri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663768982,"creation_date":1663768982,"answer_id":73802098,"question_id":39527752,"body_markdown":"IMO you should never create a wrapper class just for the sake of testing. \r\nYou can just test that your **date** field is not null and trust the library \r\n**LocalDateTime.now()**\r\nif you really want to test it you can:\r\n\r\n    assertThat(myObj.getDate())isCloseTo(now()); \r\n\r\nfrom assertJ\r\nhttps://assertj.github.io/doc/#assertj-core-3.18.0-isCloseTo-Duration\r\n\r\n\r\n\r\n","title":"How to test date created with LocalDateTime.now()","body":"<p>IMO you should never create a wrapper class just for the sake of testing.\nYou can just test that your <strong>date</strong> field is not null and trust the library\n<strong>LocalDateTime.now()</strong>\nif you really want to test it you can:</p>\n<pre><code>assertThat(myObj.getDate())isCloseTo(now()); \n</code></pre>\n<p>from assertJ\n<a href=\"https://assertj.github.io/doc/#assertj-core-3.18.0-isCloseTo-Duration\" rel=\"nofollow noreferrer\">https://assertj.github.io/doc/#assertj-core-3.18.0-isCloseTo-Duration</a></p>\n"}],"owner":{"account_id":2422126,"reputation":15525,"user_id":2114871,"accept_rate":95,"display_name":"iberbeu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21604,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":39528009,"answer_count":4,"score":15,"last_activity_date":1663768982,"creation_date":1474017304,"question_id":39527752,"body_markdown":"I have this class\r\n\r\n    class MyObject {\r\n        private LocalDateTime date;\r\n    \r\n        public LocalDateTime getDate() { return this.date; }\r\n    \r\n        public void myMethod() {\r\n            this.date = LocalDateTime.now();\r\n        }\r\n    }\r\n\r\nHow can I test that the date is properly set? I cannot mock `now()` because it is static and if I used LocalDateTime in the test both dates won&#39;t be the same.","title":"How to test date created with LocalDateTime.now()","body":"<p>I have this class</p>\n\n<pre><code>class MyObject {\n    private LocalDateTime date;\n\n    public LocalDateTime getDate() { return this.date; }\n\n    public void myMethod() {\n        this.date = LocalDateTime.now();\n    }\n}\n</code></pre>\n\n<p>How can I test that the date is properly set? I cannot mock <code>now()</code> because it is static and if I used LocalDateTime in the test both dates won't be the same.</p>\n"},{"tags":["java","amqp","windows-server","servicebus"],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507901679,"creation_date":1507901679,"answer_id":46731244,"question_id":46722322,"body_markdown":"You are using two different AMQP JMS client library dependencies on your project so I&#39;ve no idea what&#39;s really going on, but my first guess is that you end up using the legacy &#39;qpid-amqp-1-0-client-jms&#39; client which is not supported and definitely not going to work.  I&#39;d remove that and try to get things going with just the Qpid JMS 0.26.0 client library, although I believe there&#39;s some other URI options you might need as azure has some specific requirements in order to connect.  ","title":"Socket closed when connecting windows service bus using amqp from Java","body":"<p>You are using two different AMQP JMS client library dependencies on your project so I've no idea what's really going on, but my first guess is that you end up using the legacy 'qpid-amqp-1-0-client-jms' client which is not supported and definitely not going to work.  I'd remove that and try to get things going with just the Qpid JMS 0.26.0 client library, although I believe there's some other URI options you might need as azure has some specific requirements in order to connect.  </p>\n"},{"tags":[],"owner":{"account_id":1159231,"reputation":17877,"user_id":1139099,"accept_rate":82,"display_name":"harishr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1508150875,"creation_date":1508150875,"answer_id":46768513,"question_id":46722322,"body_markdown":"I was able to solve the issue using below versions of jar&#39;s\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;geronimo-jms_1.1_spec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\r\n            &lt;artifactId&gt;qpid-amqp-1-0-client-jms&lt;/artifactId&gt;\r\n            &lt;version&gt;0.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n","title":"Socket closed when connecting windows service bus using amqp from Java","body":"<p>I was able to solve the issue using below versions of jar's</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n        &lt;artifactId&gt;geronimo-jms_1.1_spec&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\n        &lt;artifactId&gt;qpid-amqp-1-0-client-jms&lt;/artifactId&gt;\n        &lt;version&gt;0.22&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1159231,"reputation":17877,"user_id":1139099,"accept_rate":82,"display_name":"harishr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46768513,"answer_count":2,"score":0,"last_activity_date":1663768495,"creation_date":1507867101,"question_id":46722322,"body_markdown":"I am trying to connect to service bus for windows server using the [Java example][1] which is provided on Microsoft website.\r\n\r\nBelow are the libraries I am using for this POC\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\r\n            &lt;artifactId&gt;qpid-jms-client&lt;/artifactId&gt;\r\n            &lt;version&gt;0.26.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\r\n            &lt;artifactId&gt;qpid-amqp-1-0-client-jms&lt;/artifactId&gt;\r\n            &lt;version&gt;0.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBelow is the connection string format I am using\r\n\r\n      return &quot;amqps://&quot; + SbSharedKey + &quot;:&quot; + SbSharedSecret + &quot;@&quot; + SbDomain + &quot;/&quot; + SbNamespace;\r\n\r\nI have the exact same code as is there on the website, but is giving below error\r\n\r\n&gt; Initial setup Creating context Creating connection factory Creating\r\n&gt; connection\r\n&gt; \r\n&gt; Creating session \r\n&gt; Exception creating session/producer\r\n&gt; \r\n&gt; java.net.SocketException: Socket Closed \tat\r\n&gt; java.net.SocketInputStream.socketRead0(Native Method) \tat\r\n&gt; java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n&gt; javax.jms.JMSException: class java.net.SocketException: Connection\r\n&gt; closed by remote hostclass java.net.SocketException: Connection closed\r\n&gt; by remote host \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:170) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:141) \tat\r\n&gt; sun.security.ssl.InputRecord.readFully(InputRecord.java:465) \tat\r\n&gt; \r\n&gt; Process finished with exit code 0\r\n\r\nI tried to do [SSLPoke][2] and it is giving a success, \r\n\r\nSo issue is only with AMQP side it seems. \r\n\r\nCan you please point me to the correct version of libraries to use when connecting to a Windows server service bus using amqp from Java?\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/dn574799.aspx\r\n  [2]: https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html\r\n\r\n\r\n","title":"Socket closed when connecting windows service bus using amqp from Java","body":"<p>I am trying to connect to service bus for windows server using the <a href=\"https://msdn.microsoft.com/en-us/library/dn574799.aspx\" rel=\"nofollow noreferrer\">Java example</a> which is provided on Microsoft website.</p>\n<p>Below are the libraries I am using for this POC</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\n        &lt;artifactId&gt;qpid-jms-client&lt;/artifactId&gt;\n        &lt;version&gt;0.26.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\n        &lt;artifactId&gt;qpid-amqp-1-0-client-jms&lt;/artifactId&gt;\n        &lt;version&gt;0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Below is the connection string format I am using</p>\n<pre><code>  return &quot;amqps://&quot; + SbSharedKey + &quot;:&quot; + SbSharedSecret + &quot;@&quot; + SbDomain + &quot;/&quot; + SbNamespace;\n</code></pre>\n<p>I have the exact same code as is there on the website, but is giving below error</p>\n<blockquote>\n<p>Initial setup Creating context Creating connection factory Creating\nconnection</p>\n<p>Creating session\nException creating session/producer</p>\n<p>java.net.SocketException: Socket Closed   at\njava.net.SocketInputStream.socketRead0(Native Method)     at\njava.net.SocketInputStream.socketRead(SocketInputStream.java:116)\njavax.jms.JMSException: class java.net.SocketException: Connection\nclosed by remote hostclass java.net.SocketException: Connection closed\nby remote host    at\njava.net.SocketInputStream.read(SocketInputStream.java:170)   at\njava.net.SocketInputStream.read(SocketInputStream.java:141)   at\nsun.security.ssl.InputRecord.readFully(InputRecord.java:465)  at</p>\n<p>Process finished with exit code 0</p>\n</blockquote>\n<p>I tried to do <a href=\"https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html\" rel=\"nofollow noreferrer\">SSLPoke</a> and it is giving a success,</p>\n<p>So issue is only with AMQP side it seems.</p>\n<p>Can you please point me to the correct version of libraries to use when connecting to a Windows server service bus using amqp from Java?</p>\n"},{"tags":["java",".net","gradle","nuget","dependency-resolution"],"answers":[{"tags":[],"owner":{"account_id":6336210,"reputation":4493,"user_id":4919526,"accept_rate":0,"display_name":"mu88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663768376,"creation_date":1663768376,"answer_id":73801956,"question_id":73749491,"body_markdown":"Since nobody answered in five days, I want to give it a try &#128578;\r\n\r\nI&#39;d argue that NuGet/.NET support this as well, see [here][1] and [here][2]. I can specify which content of a foreign dependency I&#39;m referencing can be consumed by other projects/packages.  \r\nUsing `IncludeAssets`, `ExcludeAssets` and `PrivateAssets` are very fine-grained ways of controlling a dependency&#39;s assets.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/nuget/reference/nuspec#dependencies-element\r\n  [2]: https://learn.microsoft.com/en-us/nuget/consume-packages/package-references-in-project-files#controlling-dependency-assets","title":"API and implementation dependencies in .NET/Nuget, just like in Java/Gradle?","body":"<p>Since nobody answered in five days, I want to give it a try ðŸ™‚</p>\n<p>I'd argue that NuGet/.NET support this as well, see <a href=\"https://learn.microsoft.com/en-us/nuget/reference/nuspec#dependencies-element\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://learn.microsoft.com/en-us/nuget/consume-packages/package-references-in-project-files#controlling-dependency-assets\" rel=\"nofollow noreferrer\">here</a>. I can specify which content of a foreign dependency I'm referencing can be consumed by other projects/packages.<br />\nUsing <code>IncludeAssets</code>, <code>ExcludeAssets</code> and <code>PrivateAssets</code> are very fine-grained ways of controlling a dependency's assets.</p>\n"}],"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663768376,"creation_date":1663356222,"question_id":73749491,"body_markdown":"Scenario: I want to create and publish a library.\r\n\r\n**In the Java world**: Using Gradle, I create a project using the `java-library` Gradle plugin. I can specify the dependencies using both the `api` configuration and the `implementation` configuration. This approach has these properties:\r\n* When compiling the library, the direct dependencies are resolved, but the transitive dependencies are only resolved if they are required for the compilation process. This makes the resolution process *a lot faster*, however, version conflicts might remain hidden until the library actually needs to run.\r\n* Consumers of my library can benefit from this behavior as well, since they only need the `api` dependencies of my library to compile *their* library/application.\r\n\r\n**In the .NET world**: Using nuget, I personally didn&#39;t come across the same distinction. There seems to be A) only one kind of dependency (no distinction between API and implementation), and B) there is no similar concept to the compile and runtime classpaths as in Java. This also means that in order to *compile* the library, all dependencies - direct and transitive - are resolved, even if most of those are not required at all.\r\n\r\n**Question**: Is there really no similar distinction in .NET? And if not, is there any good reason for it?","title":"API and implementation dependencies in .NET/Nuget, just like in Java/Gradle?","body":"<p>Scenario: I want to create and publish a library.</p>\n<p><strong>In the Java world</strong>: Using Gradle, I create a project using the <code>java-library</code> Gradle plugin. I can specify the dependencies using both the <code>api</code> configuration and the <code>implementation</code> configuration. This approach has these properties:</p>\n<ul>\n<li>When compiling the library, the direct dependencies are resolved, but the transitive dependencies are only resolved if they are required for the compilation process. This makes the resolution process <em>a lot faster</em>, however, version conflicts might remain hidden until the library actually needs to run.</li>\n<li>Consumers of my library can benefit from this behavior as well, since they only need the <code>api</code> dependencies of my library to compile <em>their</em> library/application.</li>\n</ul>\n<p><strong>In the .NET world</strong>: Using nuget, I personally didn't come across the same distinction. There seems to be A) only one kind of dependency (no distinction between API and implementation), and B) there is no similar concept to the compile and runtime classpaths as in Java. This also means that in order to <em>compile</em> the library, all dependencies - direct and transitive - are resolved, even if most of those are not required at all.</p>\n<p><strong>Question</strong>: Is there really no similar distinction in .NET? And if not, is there any good reason for it?</p>\n"},{"tags":["java","spring-boot","spring-cloud-netflix","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":1295445,"reputation":5529,"user_id":1246623,"display_name":"yongsung.yoon"},"score":0,"creation_date":1490852292,"post_id":43093968,"comment_id":73299006,"body_markdown":"Have you ever tried to add `@EnableFeignClients` ?","body":"Have you ever tried to add <code>@EnableFeignClients</code> ?"},{"owner":{"account_id":89458,"reputation":519,"user_id":246807,"accept_rate":67,"display_name":"hudsonmendes"},"score":0,"creation_date":1490856112,"post_id":43093968,"comment_id":73300836,"body_markdown":"Yes, it&#39;s in my entrypoint class. Without it, the error is different: it complains that there is no qualifying bean for my provider, not for the FeignContext.","body":"Yes, it&#39;s in my entrypoint class. Without it, the error is different: it complains that there is no qualifying bean for my provider, not for the FeignContext."}],"answers":[{"tags":[],"owner":{"account_id":10733259,"reputation":724,"user_id":7898657,"display_name":"Codetector"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1639608783,"creation_date":1495680467,"answer_id":44171485,"question_id":43093968,"body_markdown":"Seems like there is not anything out there yet about the solution to this stuff...\r\n\r\nHere is what I did to solve this:\r\n\r\n1. Add this annotation to your test class:\r\n\r\n    @ImportAutoConfiguration({RibbonAutoConfiguration.class, FeignRibbonClientAutoConfiguration.class, FeignAutoConfiguration.class})\r\n\r\nTry it, if it does not work, you might need the `@EnableFeignClients` annotation on your main program config\r\n","title":"@EnableFeignClients and @FeignClient fail on Autowiring &#39;FeignContext&#39; NoSuchBeanException","body":"<p>Seems like there is not anything out there yet about the solution to this stuff...</p>\n<p>Here is what I did to solve this:</p>\n<ol>\n<li><p>Add this annotation to your test class:</p>\n<p>@ImportAutoConfiguration({RibbonAutoConfiguration.class, FeignRibbonClientAutoConfiguration.class, FeignAutoConfiguration.class})</p>\n</li>\n</ol>\n<p>Try it, if it does not work, you might need the <code>@EnableFeignClients</code> annotation on your main program config</p>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1506520780,"creation_date":1506520780,"answer_id":46449859,"question_id":43093968,"body_markdown":"Recommended approach is to **slice application configuration**, this means you need to remove  `@EnableFeignClients` from *SpringBootApplication*.\r\n\r\nand add dedicated configuration class:\r\n\r\n    @Configuration\r\n    @EnableFeignClients\r\n    public class CloudConfiguration {\r\n    \r\n    }\r\n\r\nThis is required, because all slices annotation (like @WebMvcTest) include default configuration from *SpringBootApplication*. \r\n\r\nReference: \r\n\r\n * https://github.com/spring-projects/spring-boot/issues/7270\r\n * https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#test-auto-configuration","title":"@EnableFeignClients and @FeignClient fail on Autowiring &#39;FeignContext&#39; NoSuchBeanException","body":"<p>Recommended approach is to <strong>slice application configuration</strong>, this means you need to remove  <code>@EnableFeignClients</code> from <em>SpringBootApplication</em>.</p>\n\n<p>and add dedicated configuration class:</p>\n\n<pre><code>@Configuration\n@EnableFeignClients\npublic class CloudConfiguration {\n\n}\n</code></pre>\n\n<p>This is required, because all slices annotation (like @WebMvcTest) include default configuration from <em>SpringBootApplication</em>. </p>\n\n<p>Reference: </p>\n\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/7270\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/7270</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#test-auto-configuration\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#test-auto-configuration</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11171866,"reputation":746,"user_id":8198604,"display_name":"Ivan Osipov"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1513741934,"creation_date":1513741934,"answer_id":47898535,"question_id":43093968,"body_markdown":"The only what you must to do:\r\n\r\n- add to your build file feign dependency, for example, for gradle\r\n    \r\n\r\ncompile &#39;org.springframework.cloud:spring-cloud-starter-feign&#39;\r\n\r\n- add @FeignClient to your interface\r\n- add @EnableFeignClients to any configuration or to class with annotation @SpringBootApplication\r\n\r\n","title":"@EnableFeignClients and @FeignClient fail on Autowiring &#39;FeignContext&#39; NoSuchBeanException","body":"<p>The only what you must to do:</p>\n\n<ul>\n<li>add to your build file feign dependency, for example, for gradle</li>\n</ul>\n\n<p>compile 'org.springframework.cloud:spring-cloud-starter-feign'</p>\n\n<ul>\n<li>add @FeignClient to your interface</li>\n<li>add @EnableFeignClients to any configuration or to class with annotation @SpringBootApplication</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3401338,"reputation":625,"user_id":2853402,"display_name":"adramazany"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1639607875,"creation_date":1534829230,"answer_id":51942095,"question_id":43093968,"body_markdown":"I solved this problem just by `@EnableAutoConfiguration` annotation on my class","title":"@EnableFeignClients and @FeignClient fail on Autowiring &#39;FeignContext&#39; NoSuchBeanException","body":"<p>I solved this problem just by <code>@EnableAutoConfiguration</code> annotation on my class</p>\n"},{"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621970107,"creation_date":1621970107,"answer_id":67694251,"question_id":43093968,"body_markdown":"I also faced this issue I followed MariuszS answer. However had to figure out couple of things so putting here... we need to tell @SpringBootTest from where to pick up the configuration so it would be like this\r\n\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = { YourClientConfig.class })\r\n\r\n ","title":"@EnableFeignClients and @FeignClient fail on Autowiring &#39;FeignContext&#39; NoSuchBeanException","body":"<p>I also faced this issue I followed MariuszS answer. However had to figure out couple of things so putting here... we need to tell @SpringBootTest from where to pick up the configuration so it would be like this</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = { YourClientConfig.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663768079,"creation_date":1663768079,"answer_id":73801879,"question_id":43093968,"body_markdown":"I had to add base packages and configuration\r\n\r\n\r\n```kt\r\n@Configuration\r\n@EnableFeignClients( basePackages = [&quot;com.yourcompany.yourproject&quot;])\r\ninternal open class FeignConfiguration\r\n```","title":"@EnableFeignClients and @FeignClient fail on Autowiring &#39;FeignContext&#39; NoSuchBeanException","body":"<p>I had to add base packages and configuration</p>\n<pre><code>@Configuration\n@EnableFeignClients( basePackages = [&quot;com.yourcompany.yourproject&quot;])\ninternal open class FeignConfiguration\n</code></pre>\n"}],"owner":{"account_id":89458,"reputation":519,"user_id":246807,"accept_rate":67,"display_name":"hudsonmendes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41260,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":44171485,"answer_count":6,"score":16,"last_activity_date":1663768079,"creation_date":1490791653,"question_id":43093968,"body_markdown":"The microservice I&#39;m writting needs to communicate to other microservices in our platform. On that attempt, the ideal solution for us is **Spring Cloud Netflix Feign**, implemeting a **`@FeignClient`**.\r\n\r\nHowever, I&#39;m facing the exception below when I try an `@Autowired ReviewProvider`:\r\n\r\n**Exception (cause)**\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.cloud.netflix.feign.FeignContext&#39; available\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:353)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:340)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1093)\r\n    \tat org.springframework.cloud.netflix.feign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:155)\r\n    \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:168)\r\n\r\n\r\n**ReviewProvider.java**\r\n\r\n    @FeignClient(&quot;http://metadata-reviews&quot;)\r\n    public interface ReviewProvider {\r\n    \r\n        @RequestMapping(path = &quot;sessions&quot;, method = POST)\r\n        ReviewSessionDTO createSession();\r\n    \r\n    }\r\n\r\n**ReviewProvider.java**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @ActiveProfiles(INTEGRATION)\r\n    @ContextConfiguration(classes = AppEntry.class)\r\n    @AutoConfigureTestDatabase(replace = Replace.NONE)\r\n    @DataJpaTest\r\n    public class ReviewProviderTest {\r\n    \r\n        @Autowired\r\n        private ReviewProvider provider;\r\n        private Class&lt;? extends ReviewProvider&gt; providerClass;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            providerClass = provider.getClass();\r\n        }\r\n    \r\n        @Test\r\n        public void classAnnotations() {\r\n            assertTrue(providerClass.isAnnotationPresent(FeignClient.class));\r\n            assertEquals(&quot;http://metadata-reviews&quot;, providerClass.getAnnotation(FeignClient.class).value());\r\n        }\r\n    \r\n        @Test\r\n        public void createSession() throws Exception {\r\n            final Method method = providerClass.getDeclaredMethod(&quot;createSession&quot;);\r\n            assertTrue(method.isAnnotationPresent(RequestMapping.class));\r\n    \r\n            final RequestMapping mapping = method.getAnnotation(RequestMapping.class);\r\n            assertEquals(&quot;sessions&quot;, mapping.path());\r\n            assertEquals(0, method.getParameters().toString());\r\n        }\r\n    }","title":"@EnableFeignClients and @FeignClient fail on Autowiring &#39;FeignContext&#39; NoSuchBeanException","body":"<p>The microservice I'm writting needs to communicate to other microservices in our platform. On that attempt, the ideal solution for us is <strong>Spring Cloud Netflix Feign</strong>, implemeting a <strong><code>@FeignClient</code></strong>.</p>\n\n<p>However, I'm facing the exception below when I try an <code>@Autowired ReviewProvider</code>:</p>\n\n<p><strong>Exception (cause)</strong></p>\n\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.cloud.netflix.feign.FeignContext' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:353)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:340)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1093)\n    at org.springframework.cloud.netflix.feign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:155)\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:168)\n</code></pre>\n\n<p><strong>ReviewProvider.java</strong></p>\n\n<pre><code>@FeignClient(\"http://metadata-reviews\")\npublic interface ReviewProvider {\n\n    @RequestMapping(path = \"sessions\", method = POST)\n    ReviewSessionDTO createSession();\n\n}\n</code></pre>\n\n<p><strong>ReviewProvider.java</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@ActiveProfiles(INTEGRATION)\n@ContextConfiguration(classes = AppEntry.class)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\n@DataJpaTest\npublic class ReviewProviderTest {\n\n    @Autowired\n    private ReviewProvider provider;\n    private Class&lt;? extends ReviewProvider&gt; providerClass;\n\n    @Before\n    public void setup() {\n        providerClass = provider.getClass();\n    }\n\n    @Test\n    public void classAnnotations() {\n        assertTrue(providerClass.isAnnotationPresent(FeignClient.class));\n        assertEquals(\"http://metadata-reviews\", providerClass.getAnnotation(FeignClient.class).value());\n    }\n\n    @Test\n    public void createSession() throws Exception {\n        final Method method = providerClass.getDeclaredMethod(\"createSession\");\n        assertTrue(method.isAnnotationPresent(RequestMapping.class));\n\n        final RequestMapping mapping = method.getAnnotation(RequestMapping.class);\n        assertEquals(\"sessions\", mapping.path());\n        assertEquals(0, method.getParameters().toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1603112625,"creation_date":1493581208,"answer_id":43710569,"question_id":43710326,"body_markdown":"Try the following : \r\n\r\n1st: define the below setting in the `application.properties` file\r\n\r\n    spring.thymeleaf.templateResolverOrder=1\r\n\r\nNow customize your implementation. \r\n\r\n    @Bean\r\n    public ClassLoaderTemplateResolver yourTemplateResolver() {\r\n        ClassLoaderTemplateResolver yourTemplateResolver = new ClassLoaderTemplateResolver();\r\n        yourTemplateResolver.setPrefix(&quot;yourTemplates/&quot;);\r\n        yourTemplateResolver.setSuffix(&quot;.html&quot;);\r\n        yourTemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n        yourTemplateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        yourTemplateResolver.setOrder(0);  // this is iportant. This way spring \r\n                                           //boot will listen to both places 0 \r\n                                           //and 1\r\n        emailTemplateResolver.setCheckExistence(true);\r\n    \r\n        return yourTemplateResolver;\r\n    }\r\n\r\nSource: https://stackoverflow.com/questions/42693692/several-template-locations-for-thymeleaf-in-spring-boot ","title":"Spring Boot cannot change Thymeleaf template directory with Java config","body":"<p>Try the following :</p>\n<p>1st: define the below setting in the <code>application.properties</code> file</p>\n<pre><code>spring.thymeleaf.templateResolverOrder=1\n</code></pre>\n<p>Now customize your implementation.</p>\n<pre><code>@Bean\npublic ClassLoaderTemplateResolver yourTemplateResolver() {\n    ClassLoaderTemplateResolver yourTemplateResolver = new ClassLoaderTemplateResolver();\n    yourTemplateResolver.setPrefix(&quot;yourTemplates/&quot;);\n    yourTemplateResolver.setSuffix(&quot;.html&quot;);\n    yourTemplateResolver.setTemplateMode(TemplateMode.HTML);\n    yourTemplateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    yourTemplateResolver.setOrder(0);  // this is iportant. This way spring \n                                       //boot will listen to both places 0 \n                                       //and 1\n    emailTemplateResolver.setCheckExistence(true);\n\n    return yourTemplateResolver;\n}\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/questions/42693692/several-template-locations-for-thymeleaf-in-spring-boot\">Several template locations for Thymeleaf in Spring Boot</a></p>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493581604,"creation_date":1493581604,"answer_id":43710631,"question_id":43710326,"body_markdown":"By default, thymeleaf templates are read from **src/main/resources/templates** folder. [Chandu][1] has given a solution for custom template location name. \r\n\r\nYou first add a application.properties file in your class path and put all the following properties **src/main/resources/application.properties** in this file.\r\n\r\n\r\n\r\n    spring.thymeleaf.check-template=true # Check that the template exists before rendering it.\r\n    spring.thymeleaf.check-template-location=true # Check that the templates location exists.\r\n    spring.thymeleaf.enabled=true # Enable MVC Thymeleaf view resolution.\r\n    spring.thymeleaf.prefix=classpath:/templates/ # Prefix that gets prepended to view names when building a URL.\r\n    spring.thymeleaf.suffix=.html # Suffix that gets appended to view names when building a URL.\r\n\r\nResource Link: https://stackoverflow.com/a/41319170/2293534\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3086800/chandu","title":"Spring Boot cannot change Thymeleaf template directory with Java config","body":"<p>By default, thymeleaf templates are read from <strong>src/main/resources/templates</strong> folder. <a href=\"https://stackoverflow.com/users/3086800/chandu\">Chandu</a> has given a solution for custom template location name. </p>\n\n<p>You first add a application.properties file in your class path and put all the following properties <strong>src/main/resources/application.properties</strong> in this file.</p>\n\n<pre><code>spring.thymeleaf.check-template=true # Check that the template exists before rendering it.\nspring.thymeleaf.check-template-location=true # Check that the templates location exists.\nspring.thymeleaf.enabled=true # Enable MVC Thymeleaf view resolution.\nspring.thymeleaf.prefix=classpath:/templates/ # Prefix that gets prepended to view names when building a URL.\nspring.thymeleaf.suffix=.html # Suffix that gets appended to view names when building a URL.\n</code></pre>\n\n<p>Resource Link: <a href=\"https://stackoverflow.com/a/41319170/2293534\">https://stackoverflow.com/a/41319170/2293534</a></p>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577081215,"creation_date":1493630344,"answer_id":43716869,"question_id":43710326,"body_markdown":"Here is what I have figured out:\r\n\r\n    ClassLoaderTemplateResolver tres = new ClassLoaderTemplateResolver();\r\n    tres.setPrefix(&quot;mytemplates/&quot;);\r\n\r\nThere should be no `classpath:` prefix when using `ClassLoaderTemplateResolver`.\r\n\r\nThe template directories must not be empty. The Java config takes precedence over the properties configuration. (Using order does not seem to affect  this.)","title":"Spring Boot cannot change Thymeleaf template directory with Java config","body":"<p>Here is what I have figured out:</p>\n\n<pre><code>ClassLoaderTemplateResolver tres = new ClassLoaderTemplateResolver();\ntres.setPrefix(\"mytemplates/\");\n</code></pre>\n\n<p>There should be no <code>classpath:</code> prefix when using <code>ClassLoaderTemplateResolver</code>.</p>\n\n<p>The template directories must not be empty. The Java config takes precedence over the properties configuration. (Using order does not seem to affect  this.)</p>\n"},{"tags":[],"owner":{"account_id":5382027,"reputation":213,"user_id":4287013,"display_name":"Soner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631089577,"creation_date":1631089577,"answer_id":69099523,"question_id":43710326,"body_markdown":"Following configuration (Spring Boot 2.5.4), where I am instantiating the `FileTemplateResolver` is working the best for me.\r\n\r\nIn kotlin:\r\n\r\n    @Configuration\r\n    class ThymeleafConfig {\r\n\r\n       @Value(&quot;\\${spring.thymeleaf.prefix}&quot;)\r\n       private val mailTemplatesPath: String? = null\r\n\r\n       @Bean\r\n       fun thymeleafTemplateEngineWithFileResolver(templateResolver: \r\n                        ITemplateResolver?): SpringTemplateEngine? {\r\n        val templateEngine = SpringTemplateEngine()\r\n        templateEngine.setTemplateResolver(thymeleafFileTemplateResolver())\r\n        return templateEngine\r\n       }\r\n\r\n       fun thymeleafFileTemplateResolver(): ITemplateResolver {\r\n           val templateResolver = FileTemplateResolver()\r\n           templateResolver.prefix = mailTemplatesPath\r\n           templateResolver.suffix = &quot;.html&quot;\r\n           templateResolver.setTemplateMode(&quot;HTML&quot;)\r\n           templateResolver.characterEncoding = &quot;UTF-8&quot;\r\n           templateResolver.isCacheable = false\r\n           return templateResolver\r\n       }\r\n\r\n    }\r\n\r\nThen the property `spring.thymeleaf.prefix` can be set to any directory e.g.\r\n\r\n    spring:\r\n      thymeleaf:\r\n        prefix: /home/foo/\r\n\r\nYou can also set this property from outside while running your JAR.","title":"Spring Boot cannot change Thymeleaf template directory with Java config","body":"<p>Following configuration (Spring Boot 2.5.4), where I am instantiating the <code>FileTemplateResolver</code> is working the best for me.</p>\n<p>In kotlin:</p>\n<pre><code>@Configuration\nclass ThymeleafConfig {\n\n   @Value(&quot;\\${spring.thymeleaf.prefix}&quot;)\n   private val mailTemplatesPath: String? = null\n\n   @Bean\n   fun thymeleafTemplateEngineWithFileResolver(templateResolver: \n                    ITemplateResolver?): SpringTemplateEngine? {\n    val templateEngine = SpringTemplateEngine()\n    templateEngine.setTemplateResolver(thymeleafFileTemplateResolver())\n    return templateEngine\n   }\n\n   fun thymeleafFileTemplateResolver(): ITemplateResolver {\n       val templateResolver = FileTemplateResolver()\n       templateResolver.prefix = mailTemplatesPath\n       templateResolver.suffix = &quot;.html&quot;\n       templateResolver.setTemplateMode(&quot;HTML&quot;)\n       templateResolver.characterEncoding = &quot;UTF-8&quot;\n       templateResolver.isCacheable = false\n       return templateResolver\n   }\n\n}\n</code></pre>\n<p>Then the property <code>spring.thymeleaf.prefix</code> can be set to any directory e.g.</p>\n<pre><code>spring:\n  thymeleaf:\n    prefix: /home/foo/\n</code></pre>\n<p>You can also set this property from outside while running your JAR.</p>\n"},{"tags":[],"owner":{"account_id":205121,"reputation":131,"user_id":453707,"display_name":"Torbj&#246;rn &#214;sterdahl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663767157,"creation_date":1663767157,"answer_id":73801663,"question_id":43710326,"body_markdown":"It have to do with the order that Spring initiate the template resolver. You will have to do it post-construct, or your custom template resolver might be overwritten by Spring. \r\nI was unsuccessful in sorting this out by setting the order of the template resolvers. \r\n\r\n```\r\n    @Bean\r\n    @Description(&quot;Thymeleaf template engine with Spring integration&quot;)\r\n    public SpringTemplateEngine templateEngine() {\r\n        return new SpringTemplateEngine();\r\n    }\r\n\r\n    @PostConstruct\r\n    @Description(&quot;Executing @PostContruct since otherwise Spring will overwrite setting with &#39;SpringTemplateResolver&#39;&quot;)\r\n    fun initTemplateResolver() {\r\n        templateEngine.setTemplateResolver(templateResolver())\r\n    }\r\n```\r\n","title":"Spring Boot cannot change Thymeleaf template directory with Java config","body":"<p>It have to do with the order that Spring initiate the template resolver. You will have to do it post-construct, or your custom template resolver might be overwritten by Spring.\nI was unsuccessful in sorting this out by setting the order of the template resolvers.</p>\n<pre><code>    @Bean\n    @Description(&quot;Thymeleaf template engine with Spring integration&quot;)\n    public SpringTemplateEngine templateEngine() {\n        return new SpringTemplateEngine();\n    }\n\n    @PostConstruct\n    @Description(&quot;Executing @PostContruct since otherwise Spring will overwrite setting with 'SpringTemplateResolver'&quot;)\n    fun initTemplateResolver() {\n        templateEngine.setTemplateResolver(templateResolver())\n    }\n</code></pre>\n"}],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20963,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":43710569,"answer_count":5,"score":6,"last_activity_date":1663767157,"creation_date":1493579624,"question_id":43710326,"body_markdown":"Placing Thymeleaf template files in the default `src/main/resources/templates` works OK for me. When I want to rename the directory say to `mytemplates`; it does not work.\r\n\r\nI receive *Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)* warning when \r\nthe application starts.\r\n\r\nWhen I point to the home page, I get *org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;index&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers* error.\r\n\r\nI use the following Java configuration:\r\n\r\n\r\n    package com.zetcode.conf;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Description;\r\n    import org.springframework.web.servlet.ViewResolver;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    import org.thymeleaf.spring4.SpringTemplateEngine;\r\n    import org.thymeleaf.spring4.view.ThymeleafViewResolver;\r\n    import org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\n    \r\n    @Configuration\r\n    public class MvcConfig extends WebMvcConfigurerAdapter {\r\n        \r\n        @Bean\r\n        @Description(&quot;Thymeleaf template resolver serving HTML 5&quot;)\r\n        public ClassLoaderTemplateResolver templateResolver() {\r\n            \r\n            ClassLoaderTemplateResolver tres = new ClassLoaderTemplateResolver();\r\n            \r\n            tres.setPrefix(&quot;classpath:/mytemplates/&quot;);\r\n            tres.setSuffix(&quot;.html&quot;);        \r\n            tres.setCacheable(false);\r\n            tres.setTemplateMode(&quot;HTML5&quot;);\r\n            tres.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \r\n            return tres;\r\n        }\r\n    \r\n        @Bean\r\n        @Description(&quot;Thymeleaf template engine with Spring integration&quot;)\r\n        public SpringTemplateEngine templateEngine() {\r\n            \r\n            SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n            templateEngine.setTemplateResolver(templateResolver());\r\n    \r\n            return templateEngine;\r\n        }\r\n    \r\n        @Bean\r\n        @Description(&quot;Thymeleaf view resolver&quot;)\r\n        public ViewResolver viewResolver() {\r\n    \r\n            ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n            \r\n            viewResolver.setTemplateEngine(templateEngine());\r\n            viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            viewResolver.setCache(false);\r\n            viewResolver.setOrder(1);\r\n    \r\n            return viewResolver;\r\n        }    \r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);\r\n        }\r\n    }\r\n\r\nWhat I am doing wrong?","title":"Spring Boot cannot change Thymeleaf template directory with Java config","body":"<p>Placing Thymeleaf template files in the default <code>src/main/resources/templates</code> works OK for me. When I want to rename the directory say to <code>mytemplates</code>; it does not work.</p>\n\n<p>I receive <em>Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)</em> warning when \nthe application starts.</p>\n\n<p>When I point to the home page, I get <em>org.thymeleaf.exceptions.TemplateInputException: Error resolving template \"index\", template might not exist or might not be accessible by any of the configured Template Resolvers</em> error.</p>\n\n<p>I use the following Java configuration:</p>\n\n<pre><code>package com.zetcode.conf;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Description;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\nimport org.thymeleaf.spring4.SpringTemplateEngine;\nimport org.thymeleaf.spring4.view.ThymeleafViewResolver;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\n\n@Configuration\npublic class MvcConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    @Description(\"Thymeleaf template resolver serving HTML 5\")\n    public ClassLoaderTemplateResolver templateResolver() {\n\n        ClassLoaderTemplateResolver tres = new ClassLoaderTemplateResolver();\n\n        tres.setPrefix(\"classpath:/mytemplates/\");\n        tres.setSuffix(\".html\");        \n        tres.setCacheable(false);\n        tres.setTemplateMode(\"HTML5\");\n        tres.setCharacterEncoding(\"UTF-8\");\n\n        return tres;\n    }\n\n    @Bean\n    @Description(\"Thymeleaf template engine with Spring integration\")\n    public SpringTemplateEngine templateEngine() {\n\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n\n        return templateEngine;\n    }\n\n    @Bean\n    @Description(\"Thymeleaf view resolver\")\n    public ViewResolver viewResolver() {\n\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n\n        viewResolver.setTemplateEngine(templateEngine());\n        viewResolver.setCharacterEncoding(\"UTF-8\");\n        viewResolver.setCache(false);\n        viewResolver.setOrder(1);\n\n        return viewResolver;\n    }    \n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/\").setViewName(\"index\");\n    }\n}\n</code></pre>\n\n<p>What I am doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1663767179,"post_id":73801631,"comment_id":130316704,"body_markdown":"create an object of the class and call non static method.","body":"create an object of the class and call non static method."},{"owner":{"account_id":25126998,"reputation":53,"user_id":18974675,"display_name":"Clean code"},"score":0,"creation_date":1663767295,"post_id":73801631,"comment_id":130316744,"body_markdown":"Isnt there any way like Consumer which u can return the result of it? I don&#39;t want make a new object of that class, we speak for a game here and it might be a player&#39;s attack and i dont want to create 3000 objects per 1 second.","body":"Isnt there any way like Consumer which u can return the result of it? I don&#39;t want make a new object of that class, we speak for a game here and it might be a player&#39;s attack and i dont want to create 3000 objects per 1 second."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1663768689,"post_id":73801631,"comment_id":130317346,"body_markdown":"`execute the method in that class without invoke` ehhh, how is that supposed to work? You need to execute the method to get the result, unless you already know the result, in which case you wouldn&#39;t need to execute anything. For your example, a static method would definitely suffice. `public static boolean canCreatureAttack(params){do your check and return result}`","body":"<code>execute the method in that class without invoke</code> ehhh, how is that supposed to work? You need to execute the method to get the result, unless you already know the result, in which case you wouldn&#39;t need to execute anything. For your example, a static method would definitely suffice. <code>public static boolean canCreatureAttack(params){do your check and return result}</code>"},{"owner":{"account_id":25126998,"reputation":53,"user_id":18974675,"display_name":"Clean code"},"score":0,"creation_date":1663768821,"post_id":73801631,"comment_id":130317407,"body_markdown":"How about Supplier? :/","body":"How about Supplier? :/"}],"owner":{"account_id":25126998,"reputation":53,"user_id":18974675,"display_name":"Clean code"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663767016,"creation_date":1663767016,"question_id":73801631,"body_markdown":"i want to create a code where i can call listeners from any class.\r\nExample there is a class called \r\nMyCustomClass.java which contains this method:\r\n\r\n```\r\n\tpublic ListenerReturn canCreatureAttack(final CanCreatureAttack canCreatureAttack)\r\n\t{\r\n\t\tif (canCreatureAttack.getAttacker().isSuperPlayer))\r\n        {\r\n           return new listenerReturn(true);\r\n        }\r\n        \r\n        return false;\r\n\t}\r\n```\r\n\r\nNow in the same class in initialization constructor i store in a global ListenerContainer static class the current object and the method and the parameter ```CanCreatureAttack(actor, target)```\r\n\r\nLater in some other code i can do a check using\r\n\r\nfinal ListenerReturn return = ListenerContainer.executeListener(&quot;myClassName&quot;, new CanCreatureAttack(actor, target));\r\n\r\nand this will execute the method in that class without invoke or reflection like Consumer&lt;T&gt; and return the result ListenerReturn.\r\n\r\nBut how i can do this i&#39;m confused.","title":"call a method return type without invoke","body":"<p>i want to create a code where i can call listeners from any class.\nExample there is a class called\nMyCustomClass.java which contains this method:</p>\n<pre><code>    public ListenerReturn canCreatureAttack(final CanCreatureAttack canCreatureAttack)\n    {\n        if (canCreatureAttack.getAttacker().isSuperPlayer))\n        {\n           return new listenerReturn(true);\n        }\n        \n        return false;\n    }\n</code></pre>\n<p>Now in the same class in initialization constructor i store in a global ListenerContainer static class the current object and the method and the parameter <code>CanCreatureAttack(actor, target)</code></p>\n<p>Later in some other code i can do a check using</p>\n<p>final ListenerReturn return = ListenerContainer.executeListener(&quot;myClassName&quot;, new CanCreatureAttack(actor, target));</p>\n<p>and this will execute the method in that class without invoke or reflection like Consumer and return the result ListenerReturn.</p>\n<p>But how i can do this i'm confused.</p>\n"},{"tags":["java","c++","dll","java-native-interface","mingw"],"comments":[{"owner":{"account_id":481929,"reputation":8315,"user_id":896012,"accept_rate":85,"display_name":"TonySalimi"},"score":1,"creation_date":1663763367,"post_id":73800672,"comment_id":130315193,"body_markdown":"Check the list of dependencies of your .dll using a tool such as [Dependency Waler](https://www.dependencywalker.com/). You should have all the dependencies of your .dll in the installed machines.","body":"Check the list of dependencies of your .dll using a tool such as <a href=\"https://www.dependencywalker.com/\" rel=\"nofollow noreferrer\">Dependency Waler</a>. You should have all the dependencies of your .dll in the installed machines."}],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663766915,"creation_date":1663766915,"answer_id":73801604,"question_id":73800672,"body_markdown":"You compiled your DLL with GCC. Under windows, this dynamically links some helper libraries that are shipped with MinGW. Quoting from [this answer](https://stackoverflow.com/questions/46728353/mingw-w64-whats-the-purpose-of-libgcc-s-seh-dll)\r\n\r\n&gt; They provide the runtime and standard library.\r\n&gt;   - libwinpthread: PThreads implementation on Windows (Threading)\r\n&gt;  -  libstdc++: C++ Standard Library (C/C++ library functions etc.)\r\n&gt;  -  libgcc_s_seh: Exception handling (SEH)\r\n\r\nAdding MinGW to `PATH` will make these DLLs visible to the standard windows DLL loading mechanism. Alternatively, you can simply put these DLL files next to your DLL and Windows will find them as well.\r\n\r\nIf you do not want that, you have the option of statically linking these libraries. Read up on the `-static-libstdc++` and `-static-libgcc` flags for that, or search this site for more.","title":"DLL only loads when MinGW path is set","body":"<p>You compiled your DLL with GCC. Under windows, this dynamically links some helper libraries that are shipped with MinGW. Quoting from <a href=\"https://stackoverflow.com/questions/46728353/mingw-w64-whats-the-purpose-of-libgcc-s-seh-dll\">this answer</a></p>\n<blockquote>\n<p>They provide the runtime and standard library.</p>\n<ul>\n<li>libwinpthread: PThreads implementation on Windows (Threading)</li>\n<li>libstdc++: C++ Standard Library (C/C++ library functions etc.)</li>\n<li>libgcc_s_seh: Exception handling (SEH)</li>\n</ul>\n</blockquote>\n<p>Adding MinGW to <code>PATH</code> will make these DLLs visible to the standard windows DLL loading mechanism. Alternatively, you can simply put these DLL files next to your DLL and Windows will find them as well.</p>\n<p>If you do not want that, you have the option of statically linking these libraries. Read up on the <code>-static-libstdc++</code> and <code>-static-libgcc</code> flags for that, or search this site for more.</p>\n"}],"owner":{"account_id":25510731,"reputation":3,"user_id":19302439,"display_name":"Nic Bolton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663766915,"creation_date":1663762927,"question_id":73800672,"body_markdown":"I have been working on a plug-in for ImageJ to use. What the program does is irrelevant (I think), but it is written mainly in Java and calls to C++ using JNI.\r\n\r\nI compile the program using the following:\r\n\r\n```\r\njavac MyProgram.java OtherClass.java OtherOtherClass.java -cp ij.jar\r\n\r\njavah -cp . MyProgram\r\n\r\ng++ -c -I&quot;%JAVA_HOME%/include&quot; -I&quot;%JAVA_HOME%/include/win32&quot; -m64 -fPIC MyProgram.cpp -o MyProgram.o\r\n\r\ng++ -shared -m64 -o MyProgram_Native.dll MyProgram.o -Wl,-add-stdcall-alis\r\n```\r\n\r\nAnd this gives me my .class, .o, and .dll files that I need. So my DLL that gets made, MyProgram_Native.dll, is the center of the problem.\r\n\r\nThe computer that I have been building this program on can execute the plug-in just fine. It can do all the stuff we need it to do, and it works great.\r\n\r\nSo I shipped it off to my other co-workers for them to try, but it wouldn&#39;t work for them. I gave them the three .class files along with the .o file and the .dll file. ImageJ (the program for the plug-in) handles the plug-ins by having the files I gave to my co-workers placed into a subfolder in ImageJ&#39;s plug-in folder.\r\n\r\nSo we have ImageJ&gt;plug-ins&gt;MYPLUGIN&gt;*.\r\n\r\nEvery time the program doesn&#39;t work, I see the error message in the log file:\r\n&quot;java.lang.UnsatisfiedLinkError C:/.../: Can&#39;t find dependent libraries.\r\n\r\nBut today I figured out that whenever I have my MinGW folder set in my PATH variable, the program finds the DLL and it works fine. But when I remove MinGW from the PATH variable the program cannot find the DLL and the plug-in doesn&#39;t work and gives the error message above.\r\n\r\nMy MinGW path is set to C:\\msys64\\mingw64\\bin\r\n\r\nI am getting the .dll in Java using:\r\n```\r\n  private static final String DLL_PATH = System.getProperty(&quot;user.dir&quot;) + \r\n  &quot;\\\\plugins\\\\MyPlugin\\\\MyProgram_Native.dll&quot;;\r\n\r\n  // needed to call JNI\r\n  static {\r\n    logger = new LogManager();\r\n    logger.addInfo(&quot;Attempting to load .dll&quot;);\r\n\r\n    try {\r\n      logger.addVariable(&quot;DLL_PATH&quot;, DLL_PATH);\r\n      System.load(DLL_PATH);\r\n      logger.addInfo(&quot;.dll loaded successfully&quot;);\r\n    } catch (Throwable exc) {\r\n      logger.addInfo(&quot;.dll loading error message:&quot;, exc.toString());\r\n    }\r\n  }\r\n```\r\n\r\nSo when the MinGW path is set, I get the message &quot;.dll loaded successfully&quot; and the program works. I don&#39;t even have to recompile, if I literally close the program, remove the PATH, and try executing the plug-in again, I get the error message above.\r\n\r\nI have no idea why this happens. I tried searching online but answers weren&#39;t very specific. I would write what I have tried but I don&#39;t even know the correlation between MinGW and finding the DLL.\r\n\r\n\r\n**TLDR:** Program finds DLL **only** when MinGW is on PATH variable \r\n\r\nAny help would be appreciated. I&#39;m pretty in the dark on this.\r\n\r\nI should note that we are using Java 8 on a Windows 10 machine. If I forgot to include any relevant info please let me know.\r\n","title":"DLL only loads when MinGW path is set","body":"<p>I have been working on a plug-in for ImageJ to use. What the program does is irrelevant (I think), but it is written mainly in Java and calls to C++ using JNI.</p>\n<p>I compile the program using the following:</p>\n<pre><code>javac MyProgram.java OtherClass.java OtherOtherClass.java -cp ij.jar\n\njavah -cp . MyProgram\n\ng++ -c -I&quot;%JAVA_HOME%/include&quot; -I&quot;%JAVA_HOME%/include/win32&quot; -m64 -fPIC MyProgram.cpp -o MyProgram.o\n\ng++ -shared -m64 -o MyProgram_Native.dll MyProgram.o -Wl,-add-stdcall-alis\n</code></pre>\n<p>And this gives me my .class, .o, and .dll files that I need. So my DLL that gets made, MyProgram_Native.dll, is the center of the problem.</p>\n<p>The computer that I have been building this program on can execute the plug-in just fine. It can do all the stuff we need it to do, and it works great.</p>\n<p>So I shipped it off to my other co-workers for them to try, but it wouldn't work for them. I gave them the three .class files along with the .o file and the .dll file. ImageJ (the program for the plug-in) handles the plug-ins by having the files I gave to my co-workers placed into a subfolder in ImageJ's plug-in folder.</p>\n<p>So we have ImageJ&gt;plug-ins&gt;MYPLUGIN&gt;*.</p>\n<p>Every time the program doesn't work, I see the error message in the log file:\n&quot;java.lang.UnsatisfiedLinkError C:/.../: Can't find dependent libraries.</p>\n<p>But today I figured out that whenever I have my MinGW folder set in my PATH variable, the program finds the DLL and it works fine. But when I remove MinGW from the PATH variable the program cannot find the DLL and the plug-in doesn't work and gives the error message above.</p>\n<p>My MinGW path is set to C:\\msys64\\mingw64\\bin</p>\n<p>I am getting the .dll in Java using:</p>\n<pre><code>  private static final String DLL_PATH = System.getProperty(&quot;user.dir&quot;) + \n  &quot;\\\\plugins\\\\MyPlugin\\\\MyProgram_Native.dll&quot;;\n\n  // needed to call JNI\n  static {\n    logger = new LogManager();\n    logger.addInfo(&quot;Attempting to load .dll&quot;);\n\n    try {\n      logger.addVariable(&quot;DLL_PATH&quot;, DLL_PATH);\n      System.load(DLL_PATH);\n      logger.addInfo(&quot;.dll loaded successfully&quot;);\n    } catch (Throwable exc) {\n      logger.addInfo(&quot;.dll loading error message:&quot;, exc.toString());\n    }\n  }\n</code></pre>\n<p>So when the MinGW path is set, I get the message &quot;.dll loaded successfully&quot; and the program works. I don't even have to recompile, if I literally close the program, remove the PATH, and try executing the plug-in again, I get the error message above.</p>\n<p>I have no idea why this happens. I tried searching online but answers weren't very specific. I would write what I have tried but I don't even know the correlation between MinGW and finding the DLL.</p>\n<p><strong>TLDR:</strong> Program finds DLL <strong>only</strong> when MinGW is on PATH variable</p>\n<p>Any help would be appreciated. I'm pretty in the dark on this.</p>\n<p>I should note that we are using Java 8 on a Windows 10 machine. If I forgot to include any relevant info please let me know.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1663745261,"post_id":73791063,"comment_id":130308862,"body_markdown":"Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add your database structure as a screenshot."},{"owner":{"account_id":18735960,"reputation":322,"user_id":13660296,"display_name":"swiftlearneer"},"score":0,"creation_date":1663764604,"post_id":73791063,"comment_id":130315694,"body_markdown":"Thank you Alex! I just added a screenshot.","body":"Thank you Alex! I just added a screenshot."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663766744,"creation_date":1663766744,"answer_id":73801549,"question_id":73791063,"body_markdown":"&gt; The problem I have is that the string response yes only saved once and does not listen and update the response when the user select no and go back to yes again.\r\n\r\nYou&#39;re getting this behavior because you&#39;re using the text of the same button:\r\n\r\n    String yes = yesButton.getText().toString();\r\n    String no = yesButton.getText().toString();\r\n\r\nSee? You&#39;re using the `yesButton` twice. To solve this, change the second line to:\r\n\r\n    String no = noButton.getText().toString();\r\n    //             &#128070;","title":"Listening radio buttons and saving the string results in Firestore java","body":"<blockquote>\n<p>The problem I have is that the string response yes only saved once and does not listen and update the response when the user select no and go back to yes again.</p>\n</blockquote>\n<p>You're getting this behavior because you're using the text of the same button:</p>\n<pre><code>String yes = yesButton.getText().toString();\nString no = yesButton.getText().toString();\n</code></pre>\n<p>See? You're using the <code>yesButton</code> twice. To solve this, change the second line to:</p>\n<pre><code>String no = noButton.getText().toString();\n//             ðŸ‘†\n</code></pre>\n"}],"owner":{"account_id":18735960,"reputation":322,"user_id":13660296,"display_name":"swiftlearneer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73801549,"answer_count":1,"score":0,"last_activity_date":1663766824,"creation_date":1663697945,"question_id":73791063,"body_markdown":"I am building a survey app and trying to save and listen to the changes of `radioButton` and store the response as a String. The text of `radioButton` represents the result of the user&#39;s response. I am currently working on storing two strings from the radio buttons. I will expand the concept as I have some survey questions that have four choices for the user to choose from and I want to store and listen to the corresponding strings as well.\r\n\r\nI got help from Alex earlier to store as a Boolean. I tried to follow the suggestion to store the correct response as a string. The problem I have is that the string response `yes` only saved once and does not listen and update the response when the user select `no` and go back to `yes` again.\r\n\r\n\r\nBelow are the codes I am working on:\r\n\r\nGlobal:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    DocumentReference uidRef = db.collection(&quot;users&quot;).document(uid);\r\n    RadioGroup radioGroup;\r\n    RadioButton yesButton;\r\n    RadioButton noButton;\r\n\r\n \r\nFor the `OnCreate`,\r\n       \r\n            yesButton = findViewById(R.id.a1);\r\n            noButton = findViewById(R.id.a2);\r\n            radioGroup = findViewById(R.id.radioGroup);\r\n            String yes = yesButton.getText().toString();\r\n            String no = yesButton.getText().toString();\r\n     \r\n`addSnapshotListener` to listen the changes\r\n\r\n       uidRef.addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {\r\n                            @Override\r\n                            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                                if (e != null) {\r\n                                    Log.w(TAG, &quot;Listen failed.&quot;, e);\r\n                                    return;\r\n                                }\r\n        \r\n                            if (snapshot != null &amp;&amp; snapshot.exists()) {\r\n                                String participate = snapshot.getString(&quot;Would you like to participate&quot;);\r\n                                if (participate != null) {\r\n                                        yesButton.setChecked(true);\r\n                                    } else {\r\n                                        noButton.setChecked(true);\r\n                                    }\r\n                                }\r\n                            }\r\n            });\r\n    \r\n    \r\n\r\nThe two radio buttons:\r\n       \r\n\r\n     yesButton.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            if (yesButton.isChecked()) {\r\n                                Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\r\n                                update.put(&quot;Would like to participate&quot;, yes);\r\n                                uidRef.update(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                        Toast.makeText(getApplicationContext(), &quot;Response updated &quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n            noButton.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            if (noButton.isChecked()) {\r\n                                Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\r\n                                update.put(&quot;Would like to participate&quot;, no);\r\n                                uidRef.update(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                        Toast.makeText(getApplicationContext(), &quot;Response updated &quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n            \r\n\r\nFirestore structure:\r\n\r\n    Firestore-root\r\n      |\r\n      --- users\r\n           |\r\n           --- userid\r\n                |\r\n                --- Would you like to participate: yes (//this string does not update)\r\n\r\nAdded Firestore screenshot (response stored once under the user UID):\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0y5qi.png","title":"Listening radio buttons and saving the string results in Firestore java","body":"<p>I am building a survey app and trying to save and listen to the changes of <code>radioButton</code> and store the response as a String. The text of <code>radioButton</code> represents the result of the user's response. I am currently working on storing two strings from the radio buttons. I will expand the concept as I have some survey questions that have four choices for the user to choose from and I want to store and listen to the corresponding strings as well.</p>\n<p>I got help from Alex earlier to store as a Boolean. I tried to follow the suggestion to store the correct response as a string. The problem I have is that the string response <code>yes</code> only saved once and does not listen and update the response when the user select <code>no</code> and go back to <code>yes</code> again.</p>\n<p>Below are the codes I am working on:</p>\n<p>Global:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nFirebaseFirestore db = FirebaseFirestore.getInstance();\nDocumentReference uidRef = db.collection(&quot;users&quot;).document(uid);\nRadioGroup radioGroup;\nRadioButton yesButton;\nRadioButton noButton;\n</code></pre>\n<p>For the <code>OnCreate</code>,</p>\n<pre><code>        yesButton = findViewById(R.id.a1);\n        noButton = findViewById(R.id.a2);\n        radioGroup = findViewById(R.id.radioGroup);\n        String yes = yesButton.getText().toString();\n        String no = yesButton.getText().toString();\n \n</code></pre>\n<p><code>addSnapshotListener</code> to listen the changes</p>\n<pre><code>   uidRef.addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {\n                        @Override\n                        public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\n                            if (e != null) {\n                                Log.w(TAG, &quot;Listen failed.&quot;, e);\n                                return;\n                            }\n    \n                        if (snapshot != null &amp;&amp; snapshot.exists()) {\n                            String participate = snapshot.getString(&quot;Would you like to participate&quot;);\n                            if (participate != null) {\n                                    yesButton.setChecked(true);\n                                } else {\n                                    noButton.setChecked(true);\n                                }\n                            }\n                        }\n        });\n</code></pre>\n<p>The two radio buttons:</p>\n<pre><code> yesButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        if (yesButton.isChecked()) {\n                            Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\n                            update.put(&quot;Would like to participate&quot;, yes);\n                            uidRef.update(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    Toast.makeText(getApplicationContext(), &quot;Response updated &quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n                    }\n                });\n\n        noButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        if (noButton.isChecked()) {\n                            Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\n                            update.put(&quot;Would like to participate&quot;, no);\n                            uidRef.update(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    Toast.makeText(getApplicationContext(), &quot;Response updated &quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n                    }\n                });\n        \n</code></pre>\n<p>Firestore structure:</p>\n<pre><code>Firestore-root\n  |\n  --- users\n       |\n       --- userid\n            |\n            --- Would you like to participate: yes (//this string does not update)\n</code></pre>\n<p>Added Firestore screenshot (response stored once under the user UID):\n<a href=\"https://i.stack.imgur.com/0y5qi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0y5qi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-ndk"],"comments":[{"owner":{"account_id":5700031,"reputation":21,"user_id":4505334,"display_name":"mar97"},"score":0,"creation_date":1605838308,"post_id":64922742,"comment_id":114781875,"body_markdown":"[link] https://forums.structure.io/uploads/short-url/osnCYlTedheOA4zhmoHsIIr8ki7.pdf\nLink to working build","body":"[link] <a href=\"https://forums.structure.io/uploads/short-url/osnCYlTedheOA4zhmoHsIIr8ki7.pdf\" rel=\"nofollow noreferrer\">forums.structure.io/uploads/short-url/&hellip;</a> Link to working build"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1605855629,"post_id":64922742,"comment_id":114785525,"body_markdown":"To begin with I would suggest that you don&#39;t use any paths that contain spaces. Not for the NDK itself, and not for your code.","body":"To begin with I would suggest that you don&#39;t use any paths that contain spaces. Not for the NDK itself, and not for your code."},{"owner":{"account_id":1679373,"reputation":1209,"user_id":1544044,"accept_rate":100,"display_name":"mcy"},"score":0,"creation_date":1638169668,"post_id":64922742,"comment_id":124006818,"body_markdown":"@mar97 The link you have given refers to the log.pdf only. Is there any chance that a working build is still available somewhere?","body":"@mar97 The link you have given refers to the log.pdf only. Is there any chance that a working build is still available somewhere?"}],"owner":{"account_id":5700031,"reputation":21,"user_id":4505334,"display_name":"mar97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663766276,"creation_date":1605838005,"question_id":64922742,"body_markdown":"I will try to explain my problem.\r\nFor two days I have been struggling with errors popping up during the process of building an android application.\r\nI need to make an Android project for the Structure Core device, the manufacturer has put on his website a sample program and environment for which the scanner works, which I have uploaded to my cloud: \r\n\r\n[https://1drv.ms/u/s!AoHG6AtGqj2_g0eyFYMyh2uUNJUQ?e=aBpG1T][1]\r\n\r\nIt&#39;s all about the build process itself which will allow me to open this project in Android Studio.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI do everything as in the instructions, but after executing the instructions, I get such an error and I have no idea what caused it. After installing ndk-bundle via SDK Manager, I had an ndk folder in AppData / Local / Android / Sdk, and the console asked for the ndk-bundle folder, so I just changed the name, I don&#39;t know if it was a problem, although I didn&#39;t find another solution.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAt the moment I am working on a Windows generated environment and works good but i have to get an acces to Android App.\r\nAsk if you could try to compile it on your own and possibly send me your ndk-bundle file or tell me what&#39;s wrong here.\r\nStucture Core notes that it is best to use ndk 21.01 and jdk11.\r\nI tried to do this with a lot variation of java version.\r\n\r\n\r\n  [1]: https://1drv.ms/u/s!AoHG6AtGqj2_g0eyFYMyh2uUNJUQ?e=aBpG1T\r\n  [2]: https://i.stack.imgur.com/b9Jbo.png\r\n  [3]: https://i.stack.imgur.com/SLnZJ.png","title":"Ndk-bundle linking cxx failed with clang++ (structure core)","body":"<p>I will try to explain my problem.\nFor two days I have been struggling with errors popping up during the process of building an android application.\nI need to make an Android project for the Structure Core device, the manufacturer has put on his website a sample program and environment for which the scanner works, which I have uploaded to my cloud:</p>\n<p><a href=\"https://1drv.ms/u/s!AoHG6AtGqj2_g0eyFYMyh2uUNJUQ?e=aBpG1T\" rel=\"nofollow noreferrer\">https://1drv.ms/u/s!AoHG6AtGqj2_g0eyFYMyh2uUNJUQ?e=aBpG1T</a></p>\n<p>It's all about the build process itself which will allow me to open this project in Android Studio.</p>\n<p><a href=\"https://i.stack.imgur.com/b9Jbo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b9Jbo.png\" alt=\"enter image description here\" /></a></p>\n<p>I do everything as in the instructions, but after executing the instructions, I get such an error and I have no idea what caused it. After installing ndk-bundle via SDK Manager, I had an ndk folder in AppData / Local / Android / Sdk, and the console asked for the ndk-bundle folder, so I just changed the name, I don't know if it was a problem, although I didn't find another solution.</p>\n<p><a href=\"https://i.stack.imgur.com/SLnZJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SLnZJ.png\" alt=\"enter image description here\" /></a></p>\n<p>At the moment I am working on a Windows generated environment and works good but i have to get an acces to Android App.\nAsk if you could try to compile it on your own and possibly send me your ndk-bundle file or tell me what's wrong here.\nStucture Core notes that it is best to use ndk 21.01 and jdk11.\nI tried to do this with a lot variation of java version.</p>\n"},{"tags":["java","function","loops","type-conversion"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663762121,"post_id":73800397,"comment_id":130314705,"body_markdown":"`replaceAll` returns a **new** string, but you&#39;re throwing that result away. Maybe you meant `sb = sb.replaceAll(&quot;0&quot;,&quot; &quot;);`, though that would be far from efficient, and wrong as it would also replace other `0`s in the string, and there is need need for a loop.","body":"<code>replaceAll</code> returns a <b>new</b> string, but you&#39;re throwing that result away. Maybe you meant <code>sb = sb.replaceAll(&quot;0&quot;,&quot; &quot;);</code>, though that would be far from efficient, and wrong as it would also replace other <code>0</code>s in the string, and there is need need for a loop."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663762562,"post_id":73800397,"comment_id":130314881,"body_markdown":"Your conversion from `int` to `BigInteger` to `String` doesn&#39;t make much sense to me. What are you really trying to do here? You seem to have an [XY-problem](https://xyproblem.info/). And you never assign anything other than an empty string to `Y`, so `Integer.parseInt` will always fail. As an aside, in commonly accepted Java coding conventions, you local variables do not start with uppercase letters.","body":"Your conversion from <code>int</code> to <code>BigInteger</code> to <code>String</code> doesn&#39;t make much sense to me. What are you really trying to do here? You seem to have an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY-problem</a>. And you never assign anything other than an empty string to <code>Y</code>, so <code>Integer.parseInt</code> will always fail. As an aside, in commonly accepted Java coding conventions, you local variables do not start with uppercase letters."}],"answers":[{"tags":[],"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663766144,"creation_date":1663762309,"answer_id":73800511,"question_id":73800397,"body_markdown":"The problem here is that `sb.replaceAll(&quot;0&quot;,&quot;&quot;)` won&#39;t do anything.  You&#39;re throwing away the return value that contains your replaced string.  See [here](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)).\r\n\r\n\r\nWhat you probably want is something like this:\r\n\r\n    while (sb.length() &gt; 0 &amp;&amp; sb.charAt(sb.length() - 1) == &#39;0&#39;) {\r\n        sb = sb.replaceAll(&quot;0&quot;,&quot; &quot;);\r\n\r\nI&#39;m not sure you need a `while` loop, though.  ReplaceAll will... replace *all* of the zeros with spaces.","title":"How can I loop through all the characters that are 0 in a given string?","body":"<p>The problem here is that <code>sb.replaceAll(&quot;0&quot;,&quot;&quot;)</code> won't do anything.  You're throwing away the return value that contains your replaced string.  See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>What you probably want is something like this:</p>\n<pre><code>while (sb.length() &gt; 0 &amp;&amp; sb.charAt(sb.length() - 1) == '0') {\n    sb = sb.replaceAll(&quot;0&quot;,&quot; &quot;);\n</code></pre>\n<p>I'm not sure you need a <code>while</code> loop, though.  ReplaceAll will... replace <em>all</em> of the zeros with spaces.</p>\n"},{"tags":[],"owner":{"account_id":4595034,"reputation":75,"user_id":3727352,"display_name":"Sir3nka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663762379,"creation_date":1663762379,"answer_id":73800530,"question_id":73800397,"body_markdown":"\r\n\r\nreplaceAll replaces all occurrences of string with character that you want (ie space) so you don&#39;t need loop at all, also you&#39;re concerned about overflow so you should actually use BigInteger as a parameter, not int (int wont fit anything close to 20!) but there&#39;s another issue with your code, you said you want to replace trailing zeros but right now you will replace every 0 with blank character, you should try to use something like https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\r\n\r\n    public class newuhu {\r\n    public static int numTrailingZeros(BigInteger s) {\r\n        String sb = s.toString();\r\n        return Integer.parseInt(sb.replaceAll(&quot;0&quot;, &quot;&quot;)); // consider returning something else if you&#39;re working with BigInteger\r\n    }","title":"How can I loop through all the characters that are 0 in a given string?","body":"<p>replaceAll replaces all occurrences of string with character that you want (ie space) so you don't need loop at all, also you're concerned about overflow so you should actually use BigInteger as a parameter, not int (int wont fit anything close to 20!) but there's another issue with your code, you said you want to replace trailing zeros but right now you will replace every 0 with blank character, you should try to use something like <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html</a></p>\n<pre><code>public class newuhu {\npublic static int numTrailingZeros(BigInteger s) {\n    String sb = s.toString();\n    return Integer.parseInt(sb.replaceAll(&quot;0&quot;, &quot;&quot;)); // consider returning something else if you're working with BigInteger\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11942036,"reputation":164,"user_id":8738512,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663762702,"creation_date":1663762448,"answer_id":73800551,"question_id":73800397,"body_markdown":"Keep in mind that when doing [BigInteger.valueOf(int)][1] does not have an effect as a number to big for int will never be stored in an int. Also 20! is fine for int.\r\n\r\n    public static String trimTrailingZeros(String source) {\r\n        for (int i = source.length() - 1; i &gt; 0; ++i) {\r\n            char c = source.charAt(i);\r\n            if (c != &#39;0&#39;) {\r\n                return source.substring(0, i + 1);\r\n            }\r\n        }\r\n        return &quot;&quot;; // or return &quot;0&quot;;\r\n    }\r\nOr if you prever BigInteger.\r\n\r\n    public static BigInteger trimTrailingZeros(BigInteger num) {\r\n        while (num.remainder(BigInteger.TEN).signum() == 0) {\r\n            num = num.divide(BigInteger.TEN); \r\n        }\r\n        return num;\r\n    }\r\n\r\nThis should be fast as you only create one string (via [substring][2]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#valueOf(long)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)","title":"How can I loop through all the characters that are 0 in a given string?","body":"<p>Keep in mind that when doing <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#valueOf(long)\" rel=\"nofollow noreferrer\">BigInteger.valueOf(int)</a> does not have an effect as a number to big for int will never be stored in an int. Also 20! is fine for int.</p>\n<pre><code>public static String trimTrailingZeros(String source) {\n    for (int i = source.length() - 1; i &gt; 0; ++i) {\n        char c = source.charAt(i);\n        if (c != '0') {\n            return source.substring(0, i + 1);\n        }\n    }\n    return &quot;&quot;; // or return &quot;0&quot;;\n}\n</code></pre>\n<p>Or if you prever BigInteger.</p>\n<pre><code>public static BigInteger trimTrailingZeros(BigInteger num) {\n    while (num.remainder(BigInteger.TEN).signum() == 0) {\n        num = num.divide(BigInteger.TEN); \n    }\n    return num;\n}\n</code></pre>\n<p>This should be fast as you only create one string (via <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\">substring</a>).</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663762729,"creation_date":1663762729,"answer_id":73800619,"question_id":73800397,"body_markdown":"(First: variables and fields should start with a small letter - when no constants.)\r\n\r\nIt should be\r\n\r\n    sb = sb.replaceAll(...)\r\n\r\nas `sb` is not changed by `replaceAll`, only the replaced value is returned. The class String gives _immutable_ values, that always remain the same, so you can assign a variable to a variable and changing values of either variable will never influence the other - no further sharing.\r\n\r\nThen it should be:\r\n\r\n    sb = sb.replaceFirst(&quot;0$&quot;, &quot;&quot;);\r\n\r\n`replaceAll` would replace every 0, like &quot;23043500&quot; to &quot;23435&quot;.\r\n\r\n`replaceFirst` replaces the _regular expression: char &#39;0&#39; at the end `$`.\r\n\r\nOverflow on the input number is not possible, as you are already passing an `int`.\r\n\r\n    public static int numTrailingZeros(int n) {\r\n        while (n != 0 &amp;&amp; n % 10 == 0) {\r\n            n /= 10;\r\n        }\r\n        return n;\r\n    }\r\n\r\n    public static int numTrailingZeros(String n) {\r\n        n = n.replaceAll(&quot;0+&quot;, &quot;&quot;);\r\n        if (n.isEmpty() || n.equals(&quot;-&quot;)) { // &quot;-0&quot; for pessimists?\r\n           n = &quot;0&quot;;\r\n        }\r\n        return Integer.parseInt(n);\r\n    }\r\n\r\n`%` is the modulo operator, the remainder of an integer division 147 % 10 == 7.\r\n\r\nThe name is misleading, or you are calculating something different.\r\n\r\n    public static int numTrailingZeros(int n) {\r\n        int trailingZeros = 0;\r\n        while (n != 0 &amp;&amp; n % 10 == 0) {\r\n            n /= 10;\r\n            ++trailingZeros ;\r\n        }\r\n        return trailingZeros ;\r\n    }\r\n","title":"How can I loop through all the characters that are 0 in a given string?","body":"<p>(First: variables and fields should start with a small letter - when no constants.)</p>\n<p>It should be</p>\n<pre><code>sb = sb.replaceAll(...)\n</code></pre>\n<p>as <code>sb</code> is not changed by <code>replaceAll</code>, only the replaced value is returned. The class String gives <em>immutable</em> values, that always remain the same, so you can assign a variable to a variable and changing values of either variable will never influence the other - no further sharing.</p>\n<p>Then it should be:</p>\n<pre><code>sb = sb.replaceFirst(&quot;0$&quot;, &quot;&quot;);\n</code></pre>\n<p><code>replaceAll</code> would replace every 0, like &quot;23043500&quot; to &quot;23435&quot;.</p>\n<p><code>replaceFirst</code> replaces the _regular expression: char '0' at the end <code>$</code>.</p>\n<p>Overflow on the input number is not possible, as you are already passing an <code>int</code>.</p>\n<pre><code>public static int numTrailingZeros(int n) {\n    while (n != 0 &amp;&amp; n % 10 == 0) {\n        n /= 10;\n    }\n    return n;\n}\n\npublic static int numTrailingZeros(String n) {\n    n = n.replaceAll(&quot;0+&quot;, &quot;&quot;);\n    if (n.isEmpty() || n.equals(&quot;-&quot;)) { // &quot;-0&quot; for pessimists?\n       n = &quot;0&quot;;\n    }\n    return Integer.parseInt(n);\n}\n</code></pre>\n<p><code>%</code> is the modulo operator, the remainder of an integer division 147 % 10 == 7.</p>\n<p>The name is misleading, or you are calculating something different.</p>\n<pre><code>public static int numTrailingZeros(int n) {\n    int trailingZeros = 0;\n    while (n != 0 &amp;&amp; n % 10 == 0) {\n        n /= 10;\n        ++trailingZeros ;\n    }\n    return trailingZeros ;\n}\n</code></pre>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1663766144,"creation_date":1663761860,"question_id":73800397,"body_markdown":"I&#39;m trying to remove trailing zeroes from an integer and here is my code so far.\r\n\r\n    import java.math.BigInteger;\r\n\r\n    public class newuhu {\r\n        public static int numTrailingZeros(int s) {\r\n            BigInteger J = BigInteger.valueOf(s);\r\n            String sb = J.toString();\r\n            String Y = &quot;&quot;;\r\n            while (sb.length() &gt; 0 &amp;&amp; sb.charAt(sb.length() - 1) == &#39;0&#39;) {\r\n                sb.replaceAll(&quot;0&quot;,&quot; &quot;);\r\n    \r\n    \r\n            }\r\n            return Integer.parseInt(Y);\r\n        }\r\n\r\nNote: I turned my int into a Biginteger because I&#39;ve been warned that some inputs may look like 20!, which is 2.432902e+18\r\n\r\nHowever, my IntelliJ debugging tool tells me that variable sb isn&#39;t in the loop. So, I&#39;m trying to understand what must be done to make sure `sb` is in the loop.\r\n\r\nPlease understand that I&#39;m a beginner in Java so, I&#39;m trying to learn something new.\r\n","title":"How can I loop through all the characters that are 0 in a given string?","body":"<p>I'm trying to remove trailing zeroes from an integer and here is my code so far.</p>\n<pre><code>import java.math.BigInteger;\n\npublic class newuhu {\n    public static int numTrailingZeros(int s) {\n        BigInteger J = BigInteger.valueOf(s);\n        String sb = J.toString();\n        String Y = &quot;&quot;;\n        while (sb.length() &gt; 0 &amp;&amp; sb.charAt(sb.length() - 1) == '0') {\n            sb.replaceAll(&quot;0&quot;,&quot; &quot;);\n\n\n        }\n        return Integer.parseInt(Y);\n    }\n</code></pre>\n<p>Note: I turned my int into a Biginteger because I've been warned that some inputs may look like 20!, which is 2.432902e+18</p>\n<p>However, my IntelliJ debugging tool tells me that variable sb isn't in the loop. So, I'm trying to understand what must be done to make sure <code>sb</code> is in the loop.</p>\n<p>Please understand that I'm a beginner in Java so, I'm trying to learn something new.</p>\n"},{"tags":["java","list","if-statement","java.util.scanner","do-while"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1663764109,"post_id":73800730,"comment_id":130315494,"body_markdown":"What is 1342 in the code?","body":"What is 1342 in the code?"},{"owner":{"account_id":26234884,"reputation":41,"user_id":19910214,"display_name":"Pasquale Meo"},"score":0,"creation_date":1663764237,"post_id":73800730,"comment_id":130315541,"body_markdown":"is the right order of action,  1 pick it , 3 cook, 4 put it in a cup , 2 drink it","body":"is the right order of action,  1 pick it , 3 cook, 4 put it in a cup , 2 drink it"},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1663764265,"post_id":73800730,"comment_id":130315555,"body_markdown":"Ah ok now i got it","body":"Ah ok now i got it"}],"answers":[{"tags":[],"owner":{"account_id":23255652,"reputation":23,"user_id":17342750,"display_name":"enverefe12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663764616,"creation_date":1663764616,"answer_id":73801035,"question_id":73800730,"body_markdown":"The mean of the &quot;rispostaGiusta == 1342&quot; numerically rispostaGiusta equals to one thousand three hundred and forty-two. So you need to use that for check numbers greater or smaller than 4 and 1 :\r\n\r\n```\r\n if(rispostaGiusta &gt; 4 || rispostaGiusta &lt; 1) {\r\n\r\n                System.out.println(&quot;\\n&quot; + &quot;la rispsota non &#232; giusta ritenta&quot;);   \r\n                 rispostaGiusta  = scan.nextInt();\r\n            }\r\n            \r\n            else {\r\n                 System.out.println(&quot;\\n&quot; + &quot;la risposta &#232; giusta&quot;);   \r\n                 flag = true;\r\n            }\r\n```\r\n\r\nThe upper code block is check the &quot;is number between 4 and 1&quot; (1 &lt; rispostaGiusta &lt; 4)\r\n\r\n\r\nOr rather, as you use it, only for the control of certain 4 numbers:\r\n\r\n```\r\n if(rispostaGiusta == 1 || rispostaGiusta == 2 || rispostaGiusta == 3 || rispostaGiusta == 4) {\r\n                 System.out.println(&quot;\\n&quot; + &quot;la risposta &#232; giusta&quot;);   \r\n                 flag = true;\r\n            }\r\n            \r\n            else {\r\n                 System.out.println(&quot;\\n&quot; + &quot;la rispsota non &#232; giusta ritenta&quot;);   \r\n                 rispostaGiusta  = scan.nextInt();\r\n            }\r\n```\r\n In this block, check the scanned number is 1 or 2 or 3 or 4","title":"Wrong Answer catcher","body":"<p>The mean of the &quot;rispostaGiusta == 1342&quot; numerically rispostaGiusta equals to one thousand three hundred and forty-two. So you need to use that for check numbers greater or smaller than 4 and 1 :</p>\n<pre><code> if(rispostaGiusta &gt; 4 || rispostaGiusta &lt; 1) {\n\n                System.out.println(&quot;\\n&quot; + &quot;la rispsota non Ã¨ giusta ritenta&quot;);   \n                 rispostaGiusta  = scan.nextInt();\n            }\n            \n            else {\n                 System.out.println(&quot;\\n&quot; + &quot;la risposta Ã¨ giusta&quot;);   \n                 flag = true;\n            }\n</code></pre>\n<p>The upper code block is check the &quot;is number between 4 and 1&quot; (1 &lt; rispostaGiusta &lt; 4)</p>\n<p>Or rather, as you use it, only for the control of certain 4 numbers:</p>\n<pre><code> if(rispostaGiusta == 1 || rispostaGiusta == 2 || rispostaGiusta == 3 || rispostaGiusta == 4) {\n                 System.out.println(&quot;\\n&quot; + &quot;la risposta Ã¨ giusta&quot;);   \n                 flag = true;\n            }\n            \n            else {\n                 System.out.println(&quot;\\n&quot; + &quot;la rispsota non Ã¨ giusta ritenta&quot;);   \n                 rispostaGiusta  = scan.nextInt();\n            }\n</code></pre>\n<p>In this block, check the scanned number is 1 or 2 or 3 or 4</p>\n"},{"tags":[],"owner":{"account_id":22380924,"reputation":3,"user_id":16594528,"display_name":"0xe82de"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663765126,"creation_date":1663765052,"answer_id":73801144,"question_id":73800730,"body_markdown":"if I understand your question correctly, try it as below.\r\nif not, please leave a comment.\r\n\r\n```java\r\npublic class Test {     \r\n    \r\n    public static void main(String[] args) {\r\n\r\n        // ...\r\n\r\n        rispostaGiusta  = scan.nextInt();  \r\n        do {\r\n            if (invalid(rispostaGiusta) {\r\n                throw new IllealArgumentException();\r\n            } else if (correct(rispostaGiusta)) {\r\n                System.out.println(&quot;\\n&quot; + &quot;la risposta &#232; giusta&quot;);   \r\n                flag = true;\r\n            } else {\r\n                System.out.println(&quot;\\n&quot; + &quot;la rispsota non &#232; giusta ritenta&quot;);   \r\n                rispostaGiusta  = scan.nextInt();\r\n            }\r\n        } while(!flag);\r\n\r\n    }\r\n\r\n    private static boolean correct(int input) {\r\n        return input == 1342;\r\n    }\r\n\r\n    private static boolean invalid(int input) {\r\n        while (input &gt; 0) {\r\n            int number = input % 10;\r\n            if (number == 5 || number == 6) {\r\n                return true;\r\n            }\r\n            input /= 10;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n```","title":"Wrong Answer catcher","body":"<p>if I understand your question correctly, try it as below.\nif not, please leave a comment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {     \n    \n    public static void main(String[] args) {\n\n        // ...\n\n        rispostaGiusta  = scan.nextInt();  \n        do {\n            if (invalid(rispostaGiusta) {\n                throw new IllealArgumentException();\n            } else if (correct(rispostaGiusta)) {\n                System.out.println(&quot;\\n&quot; + &quot;la risposta Ã¨ giusta&quot;);   \n                flag = true;\n            } else {\n                System.out.println(&quot;\\n&quot; + &quot;la rispsota non Ã¨ giusta ritenta&quot;);   \n                rispostaGiusta  = scan.nextInt();\n            }\n        } while(!flag);\n\n    }\n\n    private static boolean correct(int input) {\n        return input == 1342;\n    }\n\n    private static boolean invalid(int input) {\n        while (input &gt; 0) {\n            int number = input % 10;\n            if (number == 5 || number == 6) {\n                return true;\n            }\n            input /= 10;\n        }\n\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663766038,"creation_date":1663765264,"answer_id":73801197,"question_id":73800730,"body_markdown":"        public class Test {     \r\n            \r\n            public static void main(String[] args) {\r\n                String rightOrde = &#39;1342&#39;\r\n                java.util.Random randomGenerator = new java.util.Random();\r\n                Scanner scan = new Scanner(System.in);\r\n            \r\n                List&lt;String&gt; coffeeList = Arrays.asList(&quot;1 pick it&quot;,&quot;2 drink it&quot;,&quot;3 cook&quot;,&quot;4 put it in a cup&quot;,&quot;5 salt it&quot;,&quot;6 dream it&quot;);\r\n                Collections.shuffle(coffeeList);\r\n                \r\n                for(String value : coffeeList)\r\n                    System.out.println(value);      \r\n                \r\n                System.out.println(&quot;\\n&quot; + &quot;ora metti in ordine la lista indicando i numeri&quot;);  \r\n                int rispostaGiusta = 0;\r\n                int i =0;\r\n                boolean flag = false;\r\n                rispostaGiusta  = scan.nextInt();  \r\n                do {\r\n                    \r\n                    if(rispostaGiusta.toString() == rightOrder[i]) {\r\n                        System.out.println(&quot;\\n&quot; + &quot;la risposta &#232; giusta&quot;);   \r\n                        flag = true;\r\n                    }\r\n                    \r\n                    else {\r\n                        System.out.println(&quot;\\n&quot; + &quot;la rispsota non &#232; giusta ritenta&quot;); \r\n                        if(rightOrder.length()==i-1){\r\n                                flag=true;\r\n                 } \r\n                  else{\r\n                      rispostaGiusta  = scan.nextInt();\r\n                 }\r\n                       \r\n                    }\r\n               i++;\r\n                } while(!flag);\r\n            }        \r\n        }    \r\n          \r\n\r\n\r\nI made few changes to your code as I understood this will give you the expected answer.\r\n","title":"Wrong Answer catcher","body":"<pre><code>    public class Test {     \n        \n        public static void main(String[] args) {\n            String rightOrde = '1342'\n            java.util.Random randomGenerator = new java.util.Random();\n            Scanner scan = new Scanner(System.in);\n        \n            List&lt;String&gt; coffeeList = Arrays.asList(&quot;1 pick it&quot;,&quot;2 drink it&quot;,&quot;3 cook&quot;,&quot;4 put it in a cup&quot;,&quot;5 salt it&quot;,&quot;6 dream it&quot;);\n            Collections.shuffle(coffeeList);\n            \n            for(String value : coffeeList)\n                System.out.println(value);      \n            \n            System.out.println(&quot;\\n&quot; + &quot;ora metti in ordine la lista indicando i numeri&quot;);  \n            int rispostaGiusta = 0;\n            int i =0;\n            boolean flag = false;\n            rispostaGiusta  = scan.nextInt();  \n            do {\n                \n                if(rispostaGiusta.toString() == rightOrder[i]) {\n                    System.out.println(&quot;\\n&quot; + &quot;la risposta Ã¨ giusta&quot;);   \n                    flag = true;\n                }\n                \n                else {\n                    System.out.println(&quot;\\n&quot; + &quot;la rispsota non Ã¨ giusta ritenta&quot;); \n                    if(rightOrder.length()==i-1){\n                            flag=true;\n             } \n              else{\n                  rispostaGiusta  = scan.nextInt();\n             }\n                   \n                }\n           i++;\n            } while(!flag);\n        }        \n    }    \n      \n</code></pre>\n<p>I made few changes to your code as I understood this will give you the expected answer.</p>\n"}],"owner":{"account_id":26234884,"reputation":41,"user_id":19910214,"display_name":"Pasquale Meo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1663766038,"creation_date":1663763189,"question_id":73800730,"body_markdown":"im here this time to ask you how to make a controller for this little program.\r\n\r\nBasicaly i shuffle the array list and use a sysout, than i ask to put it in order and i use a do-while with an if to catch the answer.\r\n\r\nwhat i would like to do now is to catch if any of two wrong answers are present.\r\n\r\nLike, if the number 5 or 6 is present it tells there is an error. \r\nBut i do not udnerstand how to do it.\r\n\r\nhere the code:\r\n\r\n    public class Test {\t\t\r\n\t\t\r\n\t    public static void main(String[] args) {\r\n\t    \r\n            java.util.Random randomGenerator = new java.util.Random();\r\n\t        Scanner scan = new Scanner(System.in);\r\n\t\t\r\n\t        List&lt;String&gt; coffeeList = Arrays.asList(&quot;1 pick it&quot;,&quot;2 drink it&quot;,&quot;3 cook&quot;,&quot;4 put it in a cup&quot;,&quot;5 salt it&quot;,&quot;6 dream it&quot;);\r\n\t        Collections.shuffle(coffeeList);\r\n\t        \r\n\t        for(String value : coffeeList)\r\n\t            System.out.println(value);      \r\n\t        \r\n\t        System.out.println(&quot;\\n&quot; + &quot;ora metti in ordine la lista indicando i numeri&quot;);  \r\n\t        int rispostaGiusta = 0;\r\n\t        boolean flag = false;\r\n\t        rispostaGiusta  = scan.nextInt();  \r\n\t        do {\r\n\t        \t\r\n\t        \tif(rispostaGiusta == 1342) {\r\n\t        \t\tSystem.out.println(&quot;\\n&quot; + &quot;la risposta &#232; giusta&quot;);   \r\n\t        \t    flag = true;\r\n\t        \t}\r\n\t        \t\r\n\t          \telse {\r\n\t        \t\tSystem.out.println(&quot;\\n&quot; + &quot;la rispsota non &#232; giusta ritenta&quot;);   \r\n\t        \t\trispostaGiusta  = scan.nextInt();\r\n\t        \t}\r\n\t       \r\n\t        } while(!flag);\r\n\t    }        \r\n\t}    \r\n ","title":"Wrong Answer catcher","body":"<p>im here this time to ask you how to make a controller for this little program.</p>\n<p>Basicaly i shuffle the array list and use a sysout, than i ask to put it in order and i use a do-while with an if to catch the answer.</p>\n<p>what i would like to do now is to catch if any of two wrong answers are present.</p>\n<p>Like, if the number 5 or 6 is present it tells there is an error.\nBut i do not udnerstand how to do it.</p>\n<p>here the code:</p>\n<pre><code>public class Test {     \n    \n    public static void main(String[] args) {\n    \n        java.util.Random randomGenerator = new java.util.Random();\n        Scanner scan = new Scanner(System.in);\n    \n        List&lt;String&gt; coffeeList = Arrays.asList(&quot;1 pick it&quot;,&quot;2 drink it&quot;,&quot;3 cook&quot;,&quot;4 put it in a cup&quot;,&quot;5 salt it&quot;,&quot;6 dream it&quot;);\n        Collections.shuffle(coffeeList);\n        \n        for(String value : coffeeList)\n            System.out.println(value);      \n        \n        System.out.println(&quot;\\n&quot; + &quot;ora metti in ordine la lista indicando i numeri&quot;);  \n        int rispostaGiusta = 0;\n        boolean flag = false;\n        rispostaGiusta  = scan.nextInt();  \n        do {\n            \n            if(rispostaGiusta == 1342) {\n                System.out.println(&quot;\\n&quot; + &quot;la risposta Ã¨ giusta&quot;);   \n                flag = true;\n            }\n            \n            else {\n                System.out.println(&quot;\\n&quot; + &quot;la rispsota non Ã¨ giusta ritenta&quot;);   \n                rispostaGiusta  = scan.nextInt();\n            }\n       \n        } while(!flag);\n    }        \n}    \n</code></pre>\n"},{"tags":["java","mybatis","ibatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1663780242,"post_id":73801066,"comment_id":130321845,"body_markdown":"The `subQuery` receives the value of `column`. Please see the explanation about &quot;nested select&quot; in the [doc](https://mybatis.org/mybatis-3/sqlmap-xml.html).","body":"The <code>subQuery</code> receives the value of <code>column</code>. Please see the explanation about &quot;nested select&quot; in the <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html\" rel=\"nofollow noreferrer\">doc</a>."},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1663782947,"post_id":73801066,"comment_id":130322774,"body_markdown":"@ave I know that. I don&#39;t think you understood what I&#39;m trying to do. I want to pass obj to the nested query.","body":"@ave I know that. I don&#39;t think you understood what I&#39;m trying to do. I want to pass obj to the nested query."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1663786732,"post_id":73801066,"comment_id":130323907,"body_markdown":"I am pretty sure I do. See this [answer](https://stackoverflow.com/a/25324271/1261766).","body":"I am pretty sure I do. See this <a href=\"https://stackoverflow.com/a/25324271/1261766\">answer</a>."},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1663827711,"post_id":73801066,"comment_id":130331487,"body_markdown":"it does not let me simply pass the object. If I want to pass it I would need to do [this](https://stackoverflow.com/a/25324271/19957114) for every field in the pojo","body":"it does not let me simply pass the object. If I want to pass it I would need to do <a href=\"https://stackoverflow.com/a/25324271/19957114\">this</a> for every field in the pojo"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1663830348,"post_id":73801066,"comment_id":130332258,"body_markdown":"Yes, that is correct.","body":"Yes, that is correct."}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663765915,"creation_date":1663764714,"question_id":73801066,"body_markdown":"I currently have this result map:\r\n\r\n```\r\n &lt;resultMap id=&quot;one&quot; type=&quot;FirstType&quot; autoMapping=&quot;true&quot;&gt;\r\n        &lt;collection property=&quot;listProp&quot; column=&quot;example_id&quot; \r\n           ofType=&quot;SecondType&quot; select=&quot;subQuery&quot;&gt;\r\n        &lt;/collection&gt;\r\n    &lt;/resultMap&gt;\r\n```\r\n\r\nDao:\r\n\r\n```java\r\n    List&lt;FirstType&gt; one(@Param(&quot;params&quot;) ParamObject obj);\r\n```\r\n\r\nI can access the param object in my parent query and it&#39;s all good but I can&#39;t access it in my sub query. Is it possible to pass the obj param to subquery?","title":"MyBatis accessing method parameter in subquery","body":"<p>I currently have this result map:</p>\n<pre><code> &lt;resultMap id=&quot;one&quot; type=&quot;FirstType&quot; autoMapping=&quot;true&quot;&gt;\n        &lt;collection property=&quot;listProp&quot; column=&quot;example_id&quot; \n           ofType=&quot;SecondType&quot; select=&quot;subQuery&quot;&gt;\n        &lt;/collection&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n<p>Dao:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;FirstType&gt; one(@Param(&quot;params&quot;) ParamObject obj);\n</code></pre>\n<p>I can access the param object in my parent query and it's all good but I can't access it in my sub query. Is it possible to pass the obj param to subquery?</p>\n"},{"tags":["java","for-loop","java.util.scanner","fibonacci"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1663764450,"post_id":73800957,"comment_id":130315634,"body_markdown":"You increment â€œiâ€ twice.","body":"You increment â€œiâ€ twice."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1663764527,"post_id":73800957,"comment_id":130315665,"body_markdown":"Look at `for (int i = 1; i &lt;= n; ++i)` and `++i;` in the body. This essentially skips every 2nd element. Btw, this kind of situation can easily be resolved by stepping through the code with a debugger so you might want to acquire that useful skill early on.","body":"Look at <code>for (int i = 1; i &lt;= n; ++i)</code> and <code>++i;</code> in the body. This essentially skips every 2nd element. Btw, this kind of situation can easily be resolved by stepping through the code with a debugger so you might want to acquire that useful skill early on."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663765157,"post_id":73800957,"comment_id":130315911,"body_markdown":"What&#39;s up with the braces before and after the `for` loop after the `else`? Did you slip that `System.out.println` in the wrong place?","body":"What&#39;s up with the braces before and after the <code>for</code> loop after the <code>else</code>? Did you slip that <code>System.out.println</code> in the wrong place?"},{"owner":{"account_id":26401882,"reputation":1,"user_id":20052221,"display_name":"Sam Hawthorne"},"score":0,"creation_date":1663765905,"post_id":73800957,"comment_id":130316221,"body_markdown":"This worked! Thank you guys for the quick replies - you made this newbie&#39;s day a whole lot better :)\n\nI will absolutely use debuggers going forward. Should have thought of that, so I appreciate your patience.\n\nFederico what I was trying to do was ensure the sentence always printed before the loop, followed by the values the loop returned. Upon removing them, it seems like the extra braces are unnecessary. Good catch, you helped clean up my code a bit!","body":"This worked! Thank you guys for the quick replies - you made this newbie&#39;s day a whole lot better :)  I will absolutely use debuggers going forward. Should have thought of that, so I appreciate your patience.  Federico what I was trying to do was ensure the sentence always printed before the loop, followed by the values the loop returned. Upon removing them, it seems like the extra braces are unnecessary. Good catch, you helped clean up my code a bit!"}],"answers":[{"tags":[],"owner":{"account_id":20787216,"reputation":1,"user_id":15266187,"display_name":"Robson Moreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663765825,"creation_date":1663764667,"answer_id":73801055,"question_id":73800957,"body_markdown":"You could just delete the second `i++;` statement in your code, this one is making the for loop run half times as expected, since the `i` variable is being incremented twice on each iteration\r\n\r\n\r\n    public class fibonacci_input {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner myObj = new Scanner(System.in);\r\n            int num1 = 0;\r\n            int num2 = 1;\r\n            int n;\r\n                System.out.println(&quot;How many elements would you like in your Fibonacci sequence?&quot;);\r\n                n = myObj.nextInt();\r\n                    if (n &lt; 0)\r\n                        System.out.println(&quot;Positive numbers only!&quot;);\r\n                    else \r\n                        System.out.println(&quot;Your Fibonacci sequence with &quot; + n + &quot; elements is:&quot;);\r\n                        { for (int i = 1; i &lt;= n; ++i)\r\n                            { \r\n                                System.out.print(num1 + &quot; &quot;);\r\n                                int num3 = num1 + num2;\r\n                                num1 = num2;\r\n                                num2 = num3;\r\n                                //++i;\r\n                            }\r\n    \r\n                        }\r\n                }\r\n    }","title":"Why does my for loop return only half the elements I expect it to?","body":"<p>You could just delete the second <code>i++;</code> statement in your code, this one is making the for loop run half times as expected, since the <code>i</code> variable is being incremented twice on each iteration</p>\n<pre><code>public class fibonacci_input {\n\n    public static void main(String[] args) {\n\n        Scanner myObj = new Scanner(System.in);\n        int num1 = 0;\n        int num2 = 1;\n        int n;\n            System.out.println(&quot;How many elements would you like in your Fibonacci sequence?&quot;);\n            n = myObj.nextInt();\n                if (n &lt; 0)\n                    System.out.println(&quot;Positive numbers only!&quot;);\n                else \n                    System.out.println(&quot;Your Fibonacci sequence with &quot; + n + &quot; elements is:&quot;);\n                    { for (int i = 1; i &lt;= n; ++i)\n                        { \n                            System.out.print(num1 + &quot; &quot;);\n                            int num3 = num1 + num2;\n                            num1 = num2;\n                            num2 = num3;\n                            //++i;\n                        }\n\n                    }\n            }\n}\n</code></pre>\n"}],"owner":{"account_id":26401882,"reputation":1,"user_id":20052221,"display_name":"Sam Hawthorne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663765825,"creation_date":1663764262,"question_id":73800957,"body_markdown":"I would like to receive user input on n elements for the Fibonacci sequence. The scanner and calculations themselves seem to be working fine -- the input is successfully grabbed and the sequence calculated. It&#39;s even able to correctly disqualify inputs of a negative value. However, it is not actually returning &#39;n&#39; elements. Curiously, I noticed that the loop consistently returns exactly half the elements requested, albeit in the correct order. If n = 20, the first 10 numbers are returned.\r\n\r\nHere&#39;s the code:\r\n```import java.util.Scanner;\r\npublic class fibonacci_input {\r\n\r\n\tpublic static void main(String[] args) {\r\n// TODO Auto-generated method stub\r\n\r\n\t\tScanner myObj = new Scanner(System.in);\r\n\t\tint num1 = 0;\r\n\t\tint num2 = 1;\r\n\t\tint n;\r\n\t\t\tSystem.out.println(&quot;How many elements would you like in your Fibonacci sequence?&quot;);\r\n\t\t\tn = myObj.nextInt();\r\n\t\t\t\tif (n &lt; 0)\r\n\t\t\t\t\tSystem.out.println(&quot;Positive numbers only!&quot;);\r\n\t\t\t\telse \r\n\t\t\t\t\tSystem.out.println(&quot;Your Fibonacci sequence with &quot; + n + &quot; elements is:&quot;);\r\n\t\t\t\t\t{ for (int i = 1; i &lt;= n; ++i)\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tSystem.out.print(num1 + &quot; &quot;);\r\n\t\t\t\t\t\t\tint num3 = num1 + num2;\r\n\t\t\t\t\t\t\tnum1 = num2;\r\n\t\t\t\t\t\t\tnum2 = num3;\r\n\t\t\t\t\t\t\t++i;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n}\r\n```\r\n\r\nI&#39;m struggling to imagine what the problem could be. I first thought it might be a problem with the test condition statement, but similar (working) solutions online seem to have their loops formatted almost identically. Is it perhaps a problem with my variable declarations? I&#39;ve tried multiple changes to no avail so would appreciate another set of eyes :)","title":"Why does my for loop return only half the elements I expect it to?","body":"<p>I would like to receive user input on n elements for the Fibonacci sequence. The scanner and calculations themselves seem to be working fine -- the input is successfully grabbed and the sequence calculated. It's even able to correctly disqualify inputs of a negative value. However, it is not actually returning 'n' elements. Curiously, I noticed that the loop consistently returns exactly half the elements requested, albeit in the correct order. If n = 20, the first 10 numbers are returned.</p>\n<p>Here's the code:</p>\n<pre><code>public class fibonacci_input {\n\n    public static void main(String[] args) {\n// TODO Auto-generated method stub\n\n        Scanner myObj = new Scanner(System.in);\n        int num1 = 0;\n        int num2 = 1;\n        int n;\n            System.out.println(&quot;How many elements would you like in your Fibonacci sequence?&quot;);\n            n = myObj.nextInt();\n                if (n &lt; 0)\n                    System.out.println(&quot;Positive numbers only!&quot;);\n                else \n                    System.out.println(&quot;Your Fibonacci sequence with &quot; + n + &quot; elements is:&quot;);\n                    { for (int i = 1; i &lt;= n; ++i)\n                        { \n                            System.out.print(num1 + &quot; &quot;);\n                            int num3 = num1 + num2;\n                            num1 = num2;\n                            num2 = num3;\n                            ++i;\n                        }\n\n                    }\n            }\n}\n</code></pre>\n<p>I'm struggling to imagine what the problem could be. I first thought it might be a problem with the test condition statement, but similar (working) solutions online seem to have their loops formatted almost identically. Is it perhaps a problem with my variable declarations? I've tried multiple changes to no avail so would appreciate another set of eyes :)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19136733,"reputation":67,"user_id":16967432,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663765798,"creation_date":1663765798,"answer_id":73801325,"question_id":73789405,"body_markdown":"This works for me. It stops after 5 seconds of playing.\r\n\r\n```\r\nimport javax.sound.sampled.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        playMusic(&quot;&lt;Type your path to music here&gt;&quot;);\r\n    }\r\n\r\n\r\n    static void playMusic(String musicLocation) {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                File musicPath = new File(musicLocation);\r\n                if (musicPath.exists()) {\r\n                    AudioInputStream audioInput = AudioSystem.getAudioInputStream(musicPath);\r\n                    Clip clip = AudioSystem.getClip();\r\n                    clip.open(audioInput);\r\n                    clip.start();\r\n\r\n                    TimeUnit.SECONDS.sleep(5);\r\n\r\n                    clip.stop();\r\n                } else {\r\n                    System.out.println(&quot;Can&#39;t find file&quot;);\r\n                }\r\n            } catch (IOException | UnsupportedAudioFileException | LineUnavailableException | InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```","title":"Is there a way to stop an audio clip playing in the middle of the clip?","body":"<p>This works for me. It stops after 5 seconds of playing.</p>\n<pre><code>import javax.sound.sampled.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        playMusic(&quot;&lt;Type your path to music here&gt;&quot;);\n    }\n\n\n    static void playMusic(String musicLocation) {\n        new Thread(() -&gt; {\n            try {\n                File musicPath = new File(musicLocation);\n                if (musicPath.exists()) {\n                    AudioInputStream audioInput = AudioSystem.getAudioInputStream(musicPath);\n                    Clip clip = AudioSystem.getClip();\n                    clip.open(audioInput);\n                    clip.start();\n\n                    TimeUnit.SECONDS.sleep(5);\n\n                    clip.stop();\n                } else {\n                    System.out.println(&quot;Can't find file&quot;);\n                }\n            } catch (IOException | UnsupportedAudioFileException | LineUnavailableException | InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }).start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73801325,"answer_count":1,"score":1,"last_activity_date":1663765798,"creation_date":1663688755,"question_id":73789405,"body_markdown":"I am developing an alarm clock program that plays an audio clip as an alarm.  I can successfully play an audio clip, and terminate an inactive alarm.  However, when I try to terminate an alarm that is currently playing, the audio keeps playing.  Solutions I&#39;ve tried were setting the clip to null, clip.stop(); and\r\n```\r\npublic void stopSound(Clip clip){\r\n    clip.stop();\r\n    clip.flush();\r\n    clip.close();\r\n}\r\n```\r\nIs there a way to end a clip at any percentage through a clip?","title":"Is there a way to stop an audio clip playing in the middle of the clip?","body":"<p>I am developing an alarm clock program that plays an audio clip as an alarm.  I can successfully play an audio clip, and terminate an inactive alarm.  However, when I try to terminate an alarm that is currently playing, the audio keeps playing.  Solutions I've tried were setting the clip to null, clip.stop(); and</p>\n<pre><code>public void stopSound(Clip clip){\n    clip.stop();\n    clip.flush();\n    clip.close();\n}\n</code></pre>\n<p>Is there a way to end a clip at any percentage through a clip?</p>\n"},{"tags":["java","scala","sbt","log4j"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1663791567,"post_id":73801286,"comment_id":130325377,"body_markdown":"Spark comes with its own versions of libraries and by default will take precedence over yours. You might want to check the JARs after assembly and also the classpath used by Spark.","body":"Spark comes with its own versions of libraries and by default will take precedence over yours. You might want to check the JARs after assembly and also the classpath used by Spark."},{"owner":{"account_id":14246565,"reputation":1481,"user_id":10291435,"display_name":"Mee"},"score":0,"creation_date":1663840731,"post_id":73801286,"comment_id":130336013,"body_markdown":"thank you for your reply @Ga&#235;lJ... how can I do this?","body":"thank you for your reply @Ga&#235;lJ... how can I do this?"}],"owner":{"account_id":14246565,"reputation":1481,"user_id":10291435,"display_name":"Mee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663765658,"creation_date":1663765658,"question_id":73801286,"body_markdown":"I am creating a simple scala app, and I am using sbt to assemble it and tried to run the jar file I get an error, despite the fact that when I run the script from the ide it works as expected, however, when I try to run it from the jar I get this error:\r\n```\r\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class org.apache.logging.log4j.simple.SimpleLogger cannot be cast to class org.apache.logging.log4j.core.Logger (org.apache.logging.log4j.simple.SimpleLogger and org.apache.logging.log4j.core.Logger are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nActually, I am confused how is it running as expected when I run the script in the ide but fails in running the jar? also, I don&#39;t call the log4j in any of the code scripts, why is it throwing this error?\r\n\r\nI even added these couple of lines to ```build.sbt```:\r\n\r\n```\r\nlibraryDependencies += &quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;\r\nlibraryDependencies += &quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;\r\n```\r\nand did the assembly again, but when I tried to run the jar file again I get the same error, any idea why is this happening and how I can resolve it?\r\n\r\nPS: my script uses spark.\r\n","title":"ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath","body":"<p>I am creating a simple scala app, and I am using sbt to assemble it and tried to run the jar file I get an error, despite the fact that when I run the script from the ide it works as expected, however, when I try to run it from the jar I get this error:</p>\n<pre><code>ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nException in thread &quot;main&quot; java.lang.ClassCastException: class org.apache.logging.log4j.simple.SimpleLogger cannot be cast to class org.apache.logging.log4j.core.Logger (org.apache.logging.log4j.simple.SimpleLogger and org.apache.logging.log4j.core.Logger are in unnamed module of loader 'app')\n</code></pre>\n<p>Actually, I am confused how is it running as expected when I run the script in the ide but fails in running the jar? also, I don't call the log4j in any of the code scripts, why is it throwing this error?</p>\n<p>I even added these couple of lines to <code>build.sbt</code>:</p>\n<pre><code>libraryDependencies += &quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;\nlibraryDependencies += &quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;\n</code></pre>\n<p>and did the assembly again, but when I tried to run the jar file again I get the same error, any idea why is this happening and how I can resolve it?</p>\n<p>PS: my script uses spark.</p>\n"},{"tags":["java","logging","log4j2","rollingfileappender"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663708844,"post_id":73792551,"comment_id":130302851,"body_markdown":"It sounds, like you &quot;just&quot; need &quot;dynamic file appender(s)&quot;, (no word about [&quot;rolling&quot;](https://logging.apache.org/log4j/2.x/manual/appenders.html#RollingFileAppender)..) If maximum number of executions is &quot;overviewable&quot; (let&#39;s say 3): configure multiple appenders(/loggers) and switch/use them, when you log... Otherwise/in any case: you can programmatically edit (&amp;refresh) the configuration [link](https://logging.apache.org/log4j/2.x/manual/customconfig.html#AddingToCurrent)","body":"It sounds, like you &quot;just&quot; need &quot;dynamic file appender(s)&quot;, (no word about <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#RollingFileAppender\" rel=\"nofollow noreferrer\">&quot;rolling&quot;</a>..) If maximum number of executions is &quot;overviewable&quot; (let&#39;s say 3): configure multiple appenders(/loggers) and switch/use them, when you log... Otherwise/in any case: you can programmatically edit (&amp;refresh) the configuration <a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html#AddingToCurrent\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663708936,"post_id":73792551,"comment_id":130302871,"body_markdown":"[Routing-](https://logging.apache.org/log4j/2.x/manual/appenders.html#RoutingAppender) and [ScriptAppenderSelector](https://logging.apache.org/log4j/2.x/manual/appenders.html#ScriptAppenderSelector) seem also usable for this case.","body":"<a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#RoutingAppender\" rel=\"nofollow noreferrer\">Routing-</a> and <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#ScriptAppenderSelector\" rel=\"nofollow noreferrer\">ScriptAppenderSelector</a> seem also usable for this case."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1663751295,"post_id":73792551,"comment_id":130310891,"body_markdown":"Neither Routing nor ScriptAppenderSelector can do it unfortunately because the executionId is a random UUID, it&#39;s impossible to anticipate the name or how many of them they will be. The only one which seems appropriate for my case is to refresh the configuration, but after doing it nothing happens (it&#39;s like if I didn&#39;t write any code)","body":"Neither Routing nor ScriptAppenderSelector can do it unfortunately because the executionId is a random UUID, it&#39;s impossible to anticipate the name or how many of them they will be. The only one which seems appropriate for my case is to refresh the configuration, but after doing it nothing happens (it&#39;s like if I didn&#39;t write any code)"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1663765564,"post_id":73792551,"comment_id":130316068,"body_markdown":"@xerx593 your programmatically refresh link ended up helping me somehow! You can check the answer I posted to see how I solved (it&#39;s not really what your link says but it goes in the same direction). Thanks a lot!","body":"@xerx593 your programmatically refresh link ended up helping me somehow! You can check the answer I posted to see how I solved (it&#39;s not really what your link says but it goes in the same direction). Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663765503,"creation_date":1663765503,"answer_id":73801246,"question_id":73792551,"body_markdown":"I ended up solving the issue with the exact same configuration than illustrated in the question, plus the following two lines of code **after** the `ThreadContext.pop()`:\r\n\r\n        LoggerContext context = (LoggerContext) LogManager.getContext(false);\r\n        context.reconfigure();\r\n\r\n","title":"RollingFile appender with file name to be determined at each logger invocation","body":"<p>I ended up solving the issue with the exact same configuration than illustrated in the question, plus the following two lines of code <strong>after</strong> the <code>ThreadContext.pop()</code>:</p>\n<pre><code>    LoggerContext context = (LoggerContext) LogManager.getContext(false);\n    context.reconfigure();\n</code></pre>\n"}],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73801246,"answer_count":1,"score":1,"last_activity_date":1663765503,"creation_date":1663707357,"question_id":73792551,"body_markdown":"I have a function which executes HTTP request/response and I would like to log the content of them.\r\n\r\nSuch code can be invoked multiple times within the same execution (classified by an &quot;executionId&quot;) and each time can have a different &quot;activityId&quot;. \r\n\r\nWhat I would like to get is:\r\n\r\n - A new log file each time the executionId changes (so having `execution1.log`, `execution2.log`, `execution3.log` etc.)\r\n - To append into the potentially already existing file all logs for the same execution id (so if file `execution1.log` has already been created and I&#39;m asked to log again something when `executionId == execution1`, then appending to that file).\r\n\r\nWith this purpose in mind, I have configured the following `log4j2.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;logDir&quot;&gt;logs/&lt;/property&gt;\r\n        &lt;/properties&gt;\r\n        &lt;appenders&gt;\r\n            &lt;RollingFile name=&quot;HttpActivityTracingAppender&quot; filePattern=&quot;${logDir}/http-logs/${ctx:executionId}.log&quot; append=&quot;true&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{ISO8601} [%t] %c [execution:%X{executionId},activity:%X{activityId}] : %p - %m%n&quot;/&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;OnStartupTriggeringPolicy /&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n        &lt;/appenders&gt;\r\n        &lt;loggers&gt;\r\n            &lt;logger name=&quot;HttpActivityTracing&quot; level=&quot;trace&quot;&gt;\r\n                &lt;appender-ref ref=&quot;HttpActivityTracingAppender&quot;/&gt;\r\n            &lt;/logger&gt;\r\n        &lt;/loggers&gt;\r\n    &lt;/configuration&gt;\r\n\r\n... and then I&#39;m invoking the logger as follows:\r\n\r\n        ThreadContext.put(&quot;id&quot;, UUID.randomUUID().toString());\r\n        ThreadContext.putAll(Map.of(&quot;executionId&quot;, ..., &quot;activityId&quot;, ...);\r\n        ThreadContext.pop();\r\n        myLogger.trace(&quot;bla bla bla&quot;);\r\n        ThreadContext.clearAll();\r\n\r\nThe result is that the first time `executionId` is defined (let&#39;s say `execution1`), then a log file named `execution1.log` is created under `logs/` as expected.\r\n\r\nHowever, on consecutive executions with new values of `executionId`, I see the new `executionId` inside the log file but the name of the file used is still `execution1.log`.\r\n\r\nSo for example, inside `execution1.log` I will find stuff like: \r\n\r\n    2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution1,activity:activity1] : TRACE - ... (ok)\r\n    2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution1,activity:activity2] : TRACE - ... (ok)\r\n    2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution1,activity:activity3] : TRACE - ... (ok)\r\n    2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution2,activity:activity1] : TRACE - ... (NO, I WANT THIS INTO ANOTHER FILE &quot;execution2.log&quot;)\r\n    2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution2,activity:activity2] : TRACE - ... (NO, I WANT THIS INTO ANOTHER FILE &quot;execution2.log&quot;)\r\n\r\nI have found several examples all over the web but I couldn&#39;t make this one work, I feel I&#39;m not far but I can&#39;t make it work. \r\n\r\nCan anyone please help?\r\n\r\nP.s. I&#39;ve tried to use `fileName` instead of `filePattern` in the `RollingFile` appender configuration, but it tries to create a file with the name `${ctx:executionId}` in it which ends up being rejected by Windows because it contains an illegal character `:`.","title":"RollingFile appender with file name to be determined at each logger invocation","body":"<p>I have a function which executes HTTP request/response and I would like to log the content of them.</p>\n<p>Such code can be invoked multiple times within the same execution (classified by an &quot;executionId&quot;) and each time can have a different &quot;activityId&quot;.</p>\n<p>What I would like to get is:</p>\n<ul>\n<li>A new log file each time the executionId changes (so having <code>execution1.log</code>, <code>execution2.log</code>, <code>execution3.log</code> etc.)</li>\n<li>To append into the potentially already existing file all logs for the same execution id (so if file <code>execution1.log</code> has already been created and I'm asked to log again something when <code>executionId == execution1</code>, then appending to that file).</li>\n</ul>\n<p>With this purpose in mind, I have configured the following <code>log4j2.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;logDir&quot;&gt;logs/&lt;/property&gt;\n    &lt;/properties&gt;\n    &lt;appenders&gt;\n        &lt;RollingFile name=&quot;HttpActivityTracingAppender&quot; filePattern=&quot;${logDir}/http-logs/${ctx:executionId}.log&quot; append=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{ISO8601} [%t] %c [execution:%X{executionId},activity:%X{activityId}] : %p - %m%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;OnStartupTriggeringPolicy /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/appenders&gt;\n    &lt;loggers&gt;\n        &lt;logger name=&quot;HttpActivityTracing&quot; level=&quot;trace&quot;&gt;\n            &lt;appender-ref ref=&quot;HttpActivityTracingAppender&quot;/&gt;\n        &lt;/logger&gt;\n    &lt;/loggers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>... and then I'm invoking the logger as follows:</p>\n<pre><code>    ThreadContext.put(&quot;id&quot;, UUID.randomUUID().toString());\n    ThreadContext.putAll(Map.of(&quot;executionId&quot;, ..., &quot;activityId&quot;, ...);\n    ThreadContext.pop();\n    myLogger.trace(&quot;bla bla bla&quot;);\n    ThreadContext.clearAll();\n</code></pre>\n<p>The result is that the first time <code>executionId</code> is defined (let's say <code>execution1</code>), then a log file named <code>execution1.log</code> is created under <code>logs/</code> as expected.</p>\n<p>However, on consecutive executions with new values of <code>executionId</code>, I see the new <code>executionId</code> inside the log file but the name of the file used is still <code>execution1.log</code>.</p>\n<p>So for example, inside <code>execution1.log</code> I will find stuff like:</p>\n<pre><code>2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution1,activity:activity1] : TRACE - ... (ok)\n2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution1,activity:activity2] : TRACE - ... (ok)\n2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution1,activity:activity3] : TRACE - ... (ok)\n2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution2,activity:activity1] : TRACE - ... (NO, I WANT THIS INTO ANOTHER FILE &quot;execution2.log&quot;)\n2022-09-20T22:52:02,639 [main] HttpActivityTracing [execution:execution2,activity:activity2] : TRACE - ... (NO, I WANT THIS INTO ANOTHER FILE &quot;execution2.log&quot;)\n</code></pre>\n<p>I have found several examples all over the web but I couldn't make this one work, I feel I'm not far but I can't make it work.</p>\n<p>Can anyone please help?</p>\n<p>P.s. I've tried to use <code>fileName</code> instead of <code>filePattern</code> in the <code>RollingFile</code> appender configuration, but it tries to create a file with the name <code>${ctx:executionId}</code> in it which ends up being rejected by Windows because it contains an illegal character <code>:</code>.</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":0,"creation_date":1663683968,"post_id":73788049,"comment_id":130294690,"body_markdown":"Maybe this post will help: https://stackoverflow.com/questions/44594316/how-should-the-libgdx-dispose-method-be-used","body":"Maybe this post will help: <a href=\"https://stackoverflow.com/questions/44594316/how-should-the-libgdx-dispose-method-be-used\" title=\"how should the libgdx dispose method be used\">stackoverflow.com/questions/44594316/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663764988,"creation_date":1663756863,"answer_id":73799369,"question_id":73788049,"body_markdown":"It&#39;s not connected to ```dispose``` which just frees ram if you don&#39;t need graphics memory. \r\n\r\nThe object stub for box2D works differently from how you are using and although I wonder why all the bricks aren&#39;t removed with this\r\n```gameScreen.getBricksArrayList().remove(gameScreen.brickArrayList);```\r\n\r\n, you -cannot- remove a single brick as you have it. For each box2D brick you associate ```ContactType.BRICKS``` but that means that you can&#39;t look up an individual brick because they all have the same box2D object stub of that enum. You need to have a new Object that is specifically associated with a -single- brick.\r\nThis leads to a partial rewrite I think so I don&#39;t think there is a fix for how you have it now, as you can&#39;t identify a single brick to remove anyway.\r\n\r\nAnyway so\r\n```this.body = BodyHelper.createBody(x, y, width, height, true, 10000, gameScreen.getWorld(), ContactType.BRICKS);```\r\nshould be\r\n```this.body = BodyHelper.createBody(x, y, width, height, true, 10000, gameScreen.getWorld(), this);```\r\nthereby directly storing that -specific- brick in the object stub. And go from there.\r\n\r\n","title":"In libgdx, how would I remove/delete an object from the screen when collision happens?","body":"<p>It's not connected to <code>dispose</code> which just frees ram if you don't need graphics memory.</p>\n<p>The object stub for box2D works differently from how you are using and although I wonder why all the bricks aren't removed with this\n<code>gameScreen.getBricksArrayList().remove(gameScreen.brickArrayList);</code></p>\n<p>, you -cannot- remove a single brick as you have it. For each box2D brick you associate <code>ContactType.BRICKS</code> but that means that you can't look up an individual brick because they all have the same box2D object stub of that enum. You need to have a new Object that is specifically associated with a -single- brick.\nThis leads to a partial rewrite I think so I don't think there is a fix for how you have it now, as you can't identify a single brick to remove anyway.</p>\n<p>Anyway so\n<code>this.body = BodyHelper.createBody(x, y, width, height, true, 10000, gameScreen.getWorld(), ContactType.BRICKS);</code>\nshould be\n<code>this.body = BodyHelper.createBody(x, y, width, height, true, 10000, gameScreen.getWorld(), this);</code>\nthereby directly storing that -specific- brick in the object stub. And go from there.</p>\n"}],"owner":{"account_id":26346414,"reputation":19,"user_id":20004711,"display_name":"Chicken Nugget"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663764988,"creation_date":1663682686,"question_id":73788049,"body_markdown":"So in the game I am making I have collision detection for when the ball hits a brick(block) but I can&#39;t seem to figure out how to remove/delete the brick that was hit by the ball. The bricks are stored in an ArrayList. Then in my Collision Detection class I tried to remove the brick when it gets contacted by the ball but it doesn&#39;t seem to work. The ball bounces off the the bricks, but the brick just stays there.\r\n\r\nMain Game Class:\r\n\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.Input;\r\n    import com.badlogic.gdx.ScreenAdapter;\r\n    import com.badlogic.gdx.graphics.GL20;\r\n    import com.badlogic.gdx.graphics.OrthographicCamera;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.graphics.g2d.TextureRegion;\r\n    import com.badlogic.gdx.graphics.glutils.ShapeRenderer;\r\n    import com.badlogic.gdx.math.Vector2;\r\n    import com.badlogic.gdx.math.Vector3;\r\n    import com.badlogic.gdx.physics.box2d.Box2DDebugRenderer;\r\n    import com.badlogic.gdx.physics.box2d.World;\r\n    import com.pongbreaker.helper.Constants;\r\n    import com.pongbreaker.objects.*;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class GameScreen extends ScreenAdapter {\r\n        private OrthographicCamera camera;\r\n        private SpriteBatch batch;\r\n        private World world;\r\n        private Box2DDebugRenderer box2DDebugRenderer;\r\n    \r\n        //Game Objects\r\n        private Player player, player2;\r\n        private AI playerAI, playerAI2;\r\n        private Ball ball;\r\n        private Arena arenaTop, arenaBottom;\r\n        ArrayList&lt;Brick&gt; brickArrayList = new ArrayList&lt;Brick&gt;();\r\n        private Brick brick, brick2, brick3, brick4, brick5, brick6,\r\n                brick7,brick8, brick9, brick10, brick11, brick12, brick13, brick14,\r\n                brick36,brick37, brick38, brick39, brick40, brick41, brick42;\r\n    \r\n        private GameContactListener gameContactListener;\r\n        private TextureRegion[] numbers;\r\n    \r\n        public GameScreen(OrthographicCamera camera) {\r\n            this.camera = camera;\r\n            this.camera.position.set(new Vector3(Main.INSTANCE.getScreenWidth() / 2, Main.INSTANCE.getScreenHeight() / 2, 0));\r\n            this.batch = new SpriteBatch();\r\n            this.world = new World(new Vector2(0, 0), false);\r\n            this.box2DDebugRenderer = new Box2DDebugRenderer();\r\n            this.gameContactListener = new GameContactListener(this);\r\n            this.world.setContactListener(this.gameContactListener);\r\n    \r\n            this.player = new Player(316, Main.INSTANCE.getScreenHeight() / 2, this);\r\n            this.player2 = new Player(1260, Main.INSTANCE.getScreenHeight() / 2, this);\r\n            this.playerAI = new AI(1260, Main.INSTANCE.getScreenHeight() / 2, this);\r\n            //this.playerAI2 = new AI(316, Main.INSTANCE.getScreenHeight() / 2, this);\r\n            this.ball = new Ball(this);\r\n            this.arenaTop = new Arena(32, this);\r\n            this.arenaBottom = new Arena(Main.INSTANCE.getScreenHeight() - 32, this);\r\n    \r\n            brick = new Brick(33, 104, this);\r\n            brick2 = new Brick(33, 176, this);\r\n            brick3 = new Brick(33, 248, this);\r\n            brick4 = new Brick(33, 320, this);\r\n            brick5 = new Brick(33, 392, this);\r\n            brick6 = new Brick(33, 464, this);\r\n            brick7 = new Brick(33, 536, this);\r\n            brick8 = new Brick(91.4f, 104, this);\r\n            brick9 = new Brick(91.4f, 176, this);\r\n            brick10 = new Brick(91.4f, 248, this);\r\n            brick11 = new Brick(91.4f, 320, this);\r\n            brick12 = new Brick(91.4f, 392, this);\r\n            brick13 = new Brick(91.4f, 464, this);\r\n            brick14 = new Brick(91.4f, 536, this);\r\n            brick36 = new Brick(1523, 104, this);\r\n            brick37 = new Brick(1523, 176, this);\r\n            brick38 = new Brick(1523, 248, this);\r\n            brick39 = new Brick(1523, 320, this);\r\n            brick40 = new Brick(1523, 392, this);\r\n            brick41 = new Brick(1523, 464, this);\r\n            brick42 = new Brick(1523, 536, this);\r\n    \r\n            brickArrayList.add(brick);\r\n            brickArrayList.add(brick2);\r\n            brickArrayList.add(brick3);\r\n            brickArrayList.add(brick4);\r\n            brickArrayList.add(brick5);\r\n            brickArrayList.add(brick6);\r\n            brickArrayList.add(brick7);\r\n            brickArrayList.add(brick8);\r\n            brickArrayList.add(brick9);\r\n            brickArrayList.add(brick10);\r\n            brickArrayList.add(brick11);\r\n            brickArrayList.add(brick12);\r\n            brickArrayList.add(brick13);\r\n            brickArrayList.add(brick14);\r\n            brickArrayList.add(brick36);\r\n            brickArrayList.add(brick37);\r\n            brickArrayList.add(brick38);\r\n            brickArrayList.add(brick39);\r\n            brickArrayList.add(brick40);\r\n            brickArrayList.add(brick41);\r\n            brickArrayList.add(brick42);\r\n    \r\n            this.numbers = loadTextureSprite(&quot;core/src/com/pongbreaker/recources/numbers.png&quot;, 10);\r\n        }\r\n    \r\n    \r\n        public void update() {\r\n            world.step(1 / 60f, 6, 2);\r\n    \r\n            this.camera.update();\r\n            this.player.update();\r\n            this.player2.update();\r\n            this.playerAI.update();\r\n            //this.playerAI2.update();\r\n            this.ball.update();\r\n            this.brick.update();\r\n            this.brick2.update();\r\n            this.brick3.update();\r\n            this.brick4.update();\r\n            this.brick5.update();\r\n            this.brick6.update();\r\n            this.brick7.update();\r\n            this.brick8.update();\r\n            this.brick9.update();\r\n            this.brick10.update();\r\n            this.brick11.update();\r\n            this.brick12.update();\r\n            this.brick13.update();\r\n            this.brick14.update();\r\n            this.brick36.update();\r\n            this.brick37.update();\r\n            this.brick38.update();\r\n            this.brick39.update();\r\n            this.brick40.update();\r\n            this.brick41.update();\r\n            this.brick42.update();\r\n    \r\n            batch.setProjectionMatrix(camera.combined);\r\n    \r\n            if(Gdx.input.isKeyPressed(Input.Keys.ESCAPE)) {\r\n                Gdx.app.exit();\r\n            }\r\n    \r\n            if(Gdx.input.isKeyPressed(Input.Keys.R)) {\r\n                this.ball.reset();\r\n                this.player.setScore(0);\r\n                this.player2.setScore(0);\r\n                this.playerAI.setScore(0);\r\n                this.playerAI2.setScore(0);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void render (float delta) {\r\n            update();\r\n    \r\n            Gdx.gl.glClearColor(0,0,0,1);\r\n            Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n    \r\n            batch.begin();\r\n            this.player.render(batch);\r\n            //this.player2.render(batch);\r\n            this.playerAI.render(batch);\r\n            //this.playerAI2.render(batch);\r\n            this.ball.render(batch);\r\n            this.arenaTop.render(batch);\r\n            this.arenaBottom.render(batch);\r\n    \r\n            this.brick.render(batch);\r\n            this.brick2.render(batch);\r\n            this.brick3.render(batch);\r\n            this.brick4.render(batch);\r\n            this.brick5.render(batch);\r\n            this.brick6.render(batch);\r\n            this.brick7.render(batch);\r\n            this.brick8.render(batch);\r\n            this.brick9.render(batch);\r\n            this.brick10.render(batch);\r\n            this.brick11.render(batch);\r\n            this.brick12.render(batch);\r\n            this.brick13.render(batch);\r\n            this.brick14.render(batch);\r\n            this.brick36.render(batch);\r\n            this.brick37.render(batch);\r\n            this.brick38.render(batch);\r\n            this.brick39.render(batch);\r\n            this.brick40.render(batch);\r\n            this.brick41.render(batch);\r\n            this.brick42.render(batch);\r\n    \r\n    \r\n    \r\n    \r\n            drawNumbers(batch,player.getScore(), 64, Main.INSTANCE.getScreenHeight() - 55, 30, 42);\r\n            drawNumbers(batch, player2.getScore(), Main.INSTANCE.getScreenWidth() - 96, Main.INSTANCE.getScreenHeight() -55, 30, 42);\r\n    \r\n            batch.end();\r\n    \r\n           // this.box2DDebugRenderer.render(world, camera.combined.scl(Constants.PPM));\r\n        }\r\n    \r\n        private void drawNumbers(SpriteBatch batch, int number, float x, float y, float width, float height) {\r\n            if(number &lt; 10) {\r\n                batch.draw(numbers[number], x, y, width, height);\r\n            }else{\r\n                batch.draw(numbers[Integer.parseInt((&quot;&quot; + number).substring(0,1))], x, y, width, height);\r\n                batch.draw(numbers[Integer.parseInt((&quot;&quot; + number).substring(1,2))], x + 20, y, width, height);\r\n            }\r\n        }\r\n        private TextureRegion[] loadTextureSprite(String filename, int columns) {\r\n            Texture texture = new Texture(filename);\r\n            return TextureRegion.split(texture, texture.getWidth() / columns, texture.getHeight())[0];\r\n        }\r\n    \r\n        public World getWorld() {\r\n            return world;\r\n        }\r\n    \r\n        public Ball getBall() {\r\n            return ball;\r\n        }\r\n    \r\n        public Player getPlayer() {\r\n            return player;\r\n        }\r\n    \r\n        public Player getPlayer2() {\r\n            return player2;\r\n        }\r\n    \r\n        public Brick getBrick() {\r\n            return brick;\r\n        }\r\n    \r\n        @Override\r\n        public void dispose () {\r\n    \r\n        }\r\n    \r\n        public ArrayList&lt;Brick&gt; getBricksArrayList() {\r\n            return brickArrayList;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nCollision Detection Class:\r\n\r\n    \r\n    import com.badlogic.gdx.physics.box2d.*;\r\n    import com.badlogic.gdx.utils.Array;\r\n    import com.pongbreaker.helper.ContactType;\r\n    import com.pongbreaker.objects.Brick;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    import static com.pongbreaker.helper.ContactType.BRICKS;\r\n    \r\n    public class GameContactListener implements ContactListener {\r\n    \r\n        private GameScreen gameScreen;\r\n        public boolean remove = false;\r\n    \r\n    \r\n    \r\n        //private ArrayList&lt;Body&gt; brickDeletionList = new ArrayList&lt;Body&gt;();\r\n    \r\n        public GameContactListener(GameScreen gameScreen) {\r\n            this.gameScreen = gameScreen;\r\n        }\r\n        @Override\r\n        public void beginContact(Contact contact) {\r\n            Fixture a = contact.getFixtureA();\r\n            Fixture b = contact.getFixtureB();\r\n    \r\n            if(a == null || b == null) return;\r\n            if(a.getUserData() == null || b.getUserData() == null) return;\r\n    \r\n            if(a.getUserData() == ContactType.BALL || b.getUserData() == ContactType.BALL) {\r\n                //Ball - Player\r\n                if(a.getUserData() == ContactType.PLAYER || b.getUserData() == ContactType.PLAYER) {\r\n                    gameScreen.getBall().reverseVelocityX();\r\n                    gameScreen.getBall().increaseSpeed();\r\n                }\r\n    \r\n                //Ball - Arena\r\n                if(a.getUserData() == ContactType.ARENA || b.getUserData() == ContactType.ARENA) {\r\n                    gameScreen.getBall().reverseVelocityY();\r\n                }\r\n    \r\n                //Ball - Brick\r\n                if(a.getUserData() == ContactType.BRICKS || b.getUserData() == ContactType.BRICKS) {\r\n                    gameScreen.getBall().reverseVelocityX();\r\n                    gameScreen.getBall().increaseSpeed();\r\n                    gameScreen.getBricksArrayList().remove(gameScreen.brickArrayList);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void endContact(Contact contact) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void preSolve(Contact contact, Manifold oldManifold) {\r\n            /*WorldManifold manifold = contact.getWorldManifold();\r\n            for (int j = 0; j &lt; manifold.getNumberOfContactPoints(); j++) {\r\n                if (contact.getFixtureA().getUserData() != null &amp;&amp; contact.getFixtureA().getUserData().equals(&quot;p&quot;))\r\n                    contact.setEnabled(false);\r\n                if (contact.getFixtureB().getUserData() != null &amp;&amp; contact.getFixtureB().getUserData().equals(&quot;p&quot;))\r\n                    contact.setEnabled(false);\r\n    \r\n            }\r\n    \r\n             */\r\n        }\r\n    \r\n        @Override\r\n        public void postSolve(Contact contact, ContactImpulse impulse) {\r\n            /*Body body = null;\r\n            if(contact.getFixtureA() != null &amp;&amp; contact.getFixtureA().getUserData() != null &amp;&amp; contact.getFixtureA().getUserData().equals(&quot;b&quot;))\r\n                body = contact.getFixtureA().getBody();\r\n            if(contact.getFixtureB() != null &amp;&amp; contact.getFixtureB().getUserData() != null &amp;&amp; contact.getFixtureB().getUserData().equals(&quot;b&quot;))\r\n                body = contact.getFixtureB().getBody();\r\n            if(body != null) {\r\n                body.setActive(false);\r\n                world.destroyBody(body);\r\n            }\r\n    \r\n             */\r\n        }\r\n    \r\n    }\r\n\r\nAnd Brick Class:\r\n\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.Input;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.graphics.glutils.ShapeRenderer;\r\n    import com.badlogic.gdx.math.Rectangle;\r\n    import com.badlogic.gdx.physics.box2d.Body;\r\n    import com.pongbreaker.game.GameScreen;\r\n    import com.pongbreaker.helper.BodyHelper;\r\n    import com.pongbreaker.helper.Constants;\r\n    import com.pongbreaker.helper.ContactType;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class Brick {\r\n        private Body body;\r\n        private float x, y, width;\r\n        private int height,score, row, column;\r\n        private Texture texture;\r\n        private GameScreen gameScreen;\r\n        private int map [][];\r\n    \r\n    \r\n        public Brick(float x, float y, GameScreen gameScreen) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.gameScreen = gameScreen;\r\n            //this.map = new int[row][column];\r\n            this.width = 50.4f;\r\n            this.height = 64;\r\n    \r\n            /*for(int i = 0; i &lt; row; i++) {\r\n                for(int j = 0; j &lt; column; j++) {\r\n                    map[i][j] = 1;\r\n                }\r\n            }\r\n    \r\n             */\r\n    \r\n    \r\n            this.texture = new Texture(&quot;core/src/com/pongbreaker/recources/redTexture.png&quot;);\r\n            this.body = BodyHelper.createBody(x, y, width, height, true, 10000, gameScreen.getWorld(), ContactType.BRICKS);\r\n        }\r\n    \r\n        public void update() {\r\n            x = body.getPosition().x * Constants.PPM - (width / 2);\r\n            y = body.getPosition().y * Constants.PPM - (height / 2);\r\n    \r\n        }\r\n    \r\n        public void render(SpriteBatch batch) {\r\n            /*for(int i = 0; i &lt; map.length; i++) {\r\n                for(int j = 0; j &lt; map.length; j++) {\r\n                    if(map[i][j] &gt; 0) {\r\n                        batch.draw(texture,x, y,width,height);\r\n                    }\r\n                }\r\n            }\r\n    \r\n             */\r\n    \r\n    \r\n            batch.draw(texture, x, y, width, height);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public boolean collidesWith(Brick brick) {\r\n            return x &lt; this.x + this.width &amp;&amp; y &lt; this.y + this.height &amp;&amp; x + width &gt; this.x &amp;&amp; y + height &gt; this.height;\r\n        }\r\n    \r\n        public void setBrick(int value, int row, int column) {\r\n            map[row][column] = value;\r\n        }\r\n    \r\n    \r\n        public void score() {\r\n            this.score++;\r\n        }\r\n    \r\n        public int getScore() {\r\n            return score;\r\n        }\r\n    \r\n        public void setScore(int score) {\r\n            this.score = score;\r\n        }\r\n    \r\n        public void dispose () {\r\n    \r\n        }\r\n    }\r\n\r\n","title":"In libgdx, how would I remove/delete an object from the screen when collision happens?","body":"<p>So in the game I am making I have collision detection for when the ball hits a brick(block) but I can't seem to figure out how to remove/delete the brick that was hit by the ball. The bricks are stored in an ArrayList. Then in my Collision Detection class I tried to remove the brick when it gets contacted by the ball but it doesn't seem to work. The ball bounces off the the bricks, but the brick just stays there.</p>\n<p>Main Game Class:</p>\n<pre><code>import com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input;\nimport com.badlogic.gdx.ScreenAdapter;\nimport com.badlogic.gdx.graphics.GL20;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.graphics.g2d.TextureRegion;\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer;\nimport com.badlogic.gdx.math.Vector2;\nimport com.badlogic.gdx.math.Vector3;\nimport com.badlogic.gdx.physics.box2d.Box2DDebugRenderer;\nimport com.badlogic.gdx.physics.box2d.World;\nimport com.pongbreaker.helper.Constants;\nimport com.pongbreaker.objects.*;\n\nimport java.util.ArrayList;\n\npublic class GameScreen extends ScreenAdapter {\n    private OrthographicCamera camera;\n    private SpriteBatch batch;\n    private World world;\n    private Box2DDebugRenderer box2DDebugRenderer;\n\n    //Game Objects\n    private Player player, player2;\n    private AI playerAI, playerAI2;\n    private Ball ball;\n    private Arena arenaTop, arenaBottom;\n    ArrayList&lt;Brick&gt; brickArrayList = new ArrayList&lt;Brick&gt;();\n    private Brick brick, brick2, brick3, brick4, brick5, brick6,\n            brick7,brick8, brick9, brick10, brick11, brick12, brick13, brick14,\n            brick36,brick37, brick38, brick39, brick40, brick41, brick42;\n\n    private GameContactListener gameContactListener;\n    private TextureRegion[] numbers;\n\n    public GameScreen(OrthographicCamera camera) {\n        this.camera = camera;\n        this.camera.position.set(new Vector3(Main.INSTANCE.getScreenWidth() / 2, Main.INSTANCE.getScreenHeight() / 2, 0));\n        this.batch = new SpriteBatch();\n        this.world = new World(new Vector2(0, 0), false);\n        this.box2DDebugRenderer = new Box2DDebugRenderer();\n        this.gameContactListener = new GameContactListener(this);\n        this.world.setContactListener(this.gameContactListener);\n\n        this.player = new Player(316, Main.INSTANCE.getScreenHeight() / 2, this);\n        this.player2 = new Player(1260, Main.INSTANCE.getScreenHeight() / 2, this);\n        this.playerAI = new AI(1260, Main.INSTANCE.getScreenHeight() / 2, this);\n        //this.playerAI2 = new AI(316, Main.INSTANCE.getScreenHeight() / 2, this);\n        this.ball = new Ball(this);\n        this.arenaTop = new Arena(32, this);\n        this.arenaBottom = new Arena(Main.INSTANCE.getScreenHeight() - 32, this);\n\n        brick = new Brick(33, 104, this);\n        brick2 = new Brick(33, 176, this);\n        brick3 = new Brick(33, 248, this);\n        brick4 = new Brick(33, 320, this);\n        brick5 = new Brick(33, 392, this);\n        brick6 = new Brick(33, 464, this);\n        brick7 = new Brick(33, 536, this);\n        brick8 = new Brick(91.4f, 104, this);\n        brick9 = new Brick(91.4f, 176, this);\n        brick10 = new Brick(91.4f, 248, this);\n        brick11 = new Brick(91.4f, 320, this);\n        brick12 = new Brick(91.4f, 392, this);\n        brick13 = new Brick(91.4f, 464, this);\n        brick14 = new Brick(91.4f, 536, this);\n        brick36 = new Brick(1523, 104, this);\n        brick37 = new Brick(1523, 176, this);\n        brick38 = new Brick(1523, 248, this);\n        brick39 = new Brick(1523, 320, this);\n        brick40 = new Brick(1523, 392, this);\n        brick41 = new Brick(1523, 464, this);\n        brick42 = new Brick(1523, 536, this);\n\n        brickArrayList.add(brick);\n        brickArrayList.add(brick2);\n        brickArrayList.add(brick3);\n        brickArrayList.add(brick4);\n        brickArrayList.add(brick5);\n        brickArrayList.add(brick6);\n        brickArrayList.add(brick7);\n        brickArrayList.add(brick8);\n        brickArrayList.add(brick9);\n        brickArrayList.add(brick10);\n        brickArrayList.add(brick11);\n        brickArrayList.add(brick12);\n        brickArrayList.add(brick13);\n        brickArrayList.add(brick14);\n        brickArrayList.add(brick36);\n        brickArrayList.add(brick37);\n        brickArrayList.add(brick38);\n        brickArrayList.add(brick39);\n        brickArrayList.add(brick40);\n        brickArrayList.add(brick41);\n        brickArrayList.add(brick42);\n\n        this.numbers = loadTextureSprite(&quot;core/src/com/pongbreaker/recources/numbers.png&quot;, 10);\n    }\n\n\n    public void update() {\n        world.step(1 / 60f, 6, 2);\n\n        this.camera.update();\n        this.player.update();\n        this.player2.update();\n        this.playerAI.update();\n        //this.playerAI2.update();\n        this.ball.update();\n        this.brick.update();\n        this.brick2.update();\n        this.brick3.update();\n        this.brick4.update();\n        this.brick5.update();\n        this.brick6.update();\n        this.brick7.update();\n        this.brick8.update();\n        this.brick9.update();\n        this.brick10.update();\n        this.brick11.update();\n        this.brick12.update();\n        this.brick13.update();\n        this.brick14.update();\n        this.brick36.update();\n        this.brick37.update();\n        this.brick38.update();\n        this.brick39.update();\n        this.brick40.update();\n        this.brick41.update();\n        this.brick42.update();\n\n        batch.setProjectionMatrix(camera.combined);\n\n        if(Gdx.input.isKeyPressed(Input.Keys.ESCAPE)) {\n            Gdx.app.exit();\n        }\n\n        if(Gdx.input.isKeyPressed(Input.Keys.R)) {\n            this.ball.reset();\n            this.player.setScore(0);\n            this.player2.setScore(0);\n            this.playerAI.setScore(0);\n            this.playerAI2.setScore(0);\n        }\n    }\n\n    @Override\n    public void render (float delta) {\n        update();\n\n        Gdx.gl.glClearColor(0,0,0,1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n        batch.begin();\n        this.player.render(batch);\n        //this.player2.render(batch);\n        this.playerAI.render(batch);\n        //this.playerAI2.render(batch);\n        this.ball.render(batch);\n        this.arenaTop.render(batch);\n        this.arenaBottom.render(batch);\n\n        this.brick.render(batch);\n        this.brick2.render(batch);\n        this.brick3.render(batch);\n        this.brick4.render(batch);\n        this.brick5.render(batch);\n        this.brick6.render(batch);\n        this.brick7.render(batch);\n        this.brick8.render(batch);\n        this.brick9.render(batch);\n        this.brick10.render(batch);\n        this.brick11.render(batch);\n        this.brick12.render(batch);\n        this.brick13.render(batch);\n        this.brick14.render(batch);\n        this.brick36.render(batch);\n        this.brick37.render(batch);\n        this.brick38.render(batch);\n        this.brick39.render(batch);\n        this.brick40.render(batch);\n        this.brick41.render(batch);\n        this.brick42.render(batch);\n\n\n\n\n        drawNumbers(batch,player.getScore(), 64, Main.INSTANCE.getScreenHeight() - 55, 30, 42);\n        drawNumbers(batch, player2.getScore(), Main.INSTANCE.getScreenWidth() - 96, Main.INSTANCE.getScreenHeight() -55, 30, 42);\n\n        batch.end();\n\n       // this.box2DDebugRenderer.render(world, camera.combined.scl(Constants.PPM));\n    }\n\n    private void drawNumbers(SpriteBatch batch, int number, float x, float y, float width, float height) {\n        if(number &lt; 10) {\n            batch.draw(numbers[number], x, y, width, height);\n        }else{\n            batch.draw(numbers[Integer.parseInt((&quot;&quot; + number).substring(0,1))], x, y, width, height);\n            batch.draw(numbers[Integer.parseInt((&quot;&quot; + number).substring(1,2))], x + 20, y, width, height);\n        }\n    }\n    private TextureRegion[] loadTextureSprite(String filename, int columns) {\n        Texture texture = new Texture(filename);\n        return TextureRegion.split(texture, texture.getWidth() / columns, texture.getHeight())[0];\n    }\n\n    public World getWorld() {\n        return world;\n    }\n\n    public Ball getBall() {\n        return ball;\n    }\n\n    public Player getPlayer() {\n        return player;\n    }\n\n    public Player getPlayer2() {\n        return player2;\n    }\n\n    public Brick getBrick() {\n        return brick;\n    }\n\n    @Override\n    public void dispose () {\n\n    }\n\n    public ArrayList&lt;Brick&gt; getBricksArrayList() {\n        return brickArrayList;\n    }\n\n\n}\n</code></pre>\n<p>Collision Detection Class:</p>\n<pre><code>import com.badlogic.gdx.physics.box2d.*;\nimport com.badlogic.gdx.utils.Array;\nimport com.pongbreaker.helper.ContactType;\nimport com.pongbreaker.objects.Brick;\n\nimport java.util.ArrayList;\n\nimport static com.pongbreaker.helper.ContactType.BRICKS;\n\npublic class GameContactListener implements ContactListener {\n\n    private GameScreen gameScreen;\n    public boolean remove = false;\n\n\n\n    //private ArrayList&lt;Body&gt; brickDeletionList = new ArrayList&lt;Body&gt;();\n\n    public GameContactListener(GameScreen gameScreen) {\n        this.gameScreen = gameScreen;\n    }\n    @Override\n    public void beginContact(Contact contact) {\n        Fixture a = contact.getFixtureA();\n        Fixture b = contact.getFixtureB();\n\n        if(a == null || b == null) return;\n        if(a.getUserData() == null || b.getUserData() == null) return;\n\n        if(a.getUserData() == ContactType.BALL || b.getUserData() == ContactType.BALL) {\n            //Ball - Player\n            if(a.getUserData() == ContactType.PLAYER || b.getUserData() == ContactType.PLAYER) {\n                gameScreen.getBall().reverseVelocityX();\n                gameScreen.getBall().increaseSpeed();\n            }\n\n            //Ball - Arena\n            if(a.getUserData() == ContactType.ARENA || b.getUserData() == ContactType.ARENA) {\n                gameScreen.getBall().reverseVelocityY();\n            }\n\n            //Ball - Brick\n            if(a.getUserData() == ContactType.BRICKS || b.getUserData() == ContactType.BRICKS) {\n                gameScreen.getBall().reverseVelocityX();\n                gameScreen.getBall().increaseSpeed();\n                gameScreen.getBricksArrayList().remove(gameScreen.brickArrayList);\n            }\n        }\n    }\n\n    @Override\n    public void endContact(Contact contact) {\n\n    }\n\n    @Override\n    public void preSolve(Contact contact, Manifold oldManifold) {\n        /*WorldManifold manifold = contact.getWorldManifold();\n        for (int j = 0; j &lt; manifold.getNumberOfContactPoints(); j++) {\n            if (contact.getFixtureA().getUserData() != null &amp;&amp; contact.getFixtureA().getUserData().equals(&quot;p&quot;))\n                contact.setEnabled(false);\n            if (contact.getFixtureB().getUserData() != null &amp;&amp; contact.getFixtureB().getUserData().equals(&quot;p&quot;))\n                contact.setEnabled(false);\n\n        }\n\n         */\n    }\n\n    @Override\n    public void postSolve(Contact contact, ContactImpulse impulse) {\n        /*Body body = null;\n        if(contact.getFixtureA() != null &amp;&amp; contact.getFixtureA().getUserData() != null &amp;&amp; contact.getFixtureA().getUserData().equals(&quot;b&quot;))\n            body = contact.getFixtureA().getBody();\n        if(contact.getFixtureB() != null &amp;&amp; contact.getFixtureB().getUserData() != null &amp;&amp; contact.getFixtureB().getUserData().equals(&quot;b&quot;))\n            body = contact.getFixtureB().getBody();\n        if(body != null) {\n            body.setActive(false);\n            world.destroyBody(body);\n        }\n\n         */\n    }\n\n}\n</code></pre>\n<p>And Brick Class:</p>\n<pre><code>import com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer;\nimport com.badlogic.gdx.math.Rectangle;\nimport com.badlogic.gdx.physics.box2d.Body;\nimport com.pongbreaker.game.GameScreen;\nimport com.pongbreaker.helper.BodyHelper;\nimport com.pongbreaker.helper.Constants;\nimport com.pongbreaker.helper.ContactType;\n\nimport java.util.ArrayList;\n\npublic class Brick {\n    private Body body;\n    private float x, y, width;\n    private int height,score, row, column;\n    private Texture texture;\n    private GameScreen gameScreen;\n    private int map [][];\n\n\n    public Brick(float x, float y, GameScreen gameScreen) {\n        this.x = x;\n        this.y = y;\n        this.gameScreen = gameScreen;\n        //this.map = new int[row][column];\n        this.width = 50.4f;\n        this.height = 64;\n\n        /*for(int i = 0; i &lt; row; i++) {\n            for(int j = 0; j &lt; column; j++) {\n                map[i][j] = 1;\n            }\n        }\n\n         */\n\n\n        this.texture = new Texture(&quot;core/src/com/pongbreaker/recources/redTexture.png&quot;);\n        this.body = BodyHelper.createBody(x, y, width, height, true, 10000, gameScreen.getWorld(), ContactType.BRICKS);\n    }\n\n    public void update() {\n        x = body.getPosition().x * Constants.PPM - (width / 2);\n        y = body.getPosition().y * Constants.PPM - (height / 2);\n\n    }\n\n    public void render(SpriteBatch batch) {\n        /*for(int i = 0; i &lt; map.length; i++) {\n            for(int j = 0; j &lt; map.length; j++) {\n                if(map[i][j] &gt; 0) {\n                    batch.draw(texture,x, y,width,height);\n                }\n            }\n        }\n\n         */\n\n\n        batch.draw(texture, x, y, width, height);\n\n\n\n    }\n\n    public boolean collidesWith(Brick brick) {\n        return x &lt; this.x + this.width &amp;&amp; y &lt; this.y + this.height &amp;&amp; x + width &gt; this.x &amp;&amp; y + height &gt; this.height;\n    }\n\n    public void setBrick(int value, int row, int column) {\n        map[row][column] = value;\n    }\n\n\n    public void score() {\n        this.score++;\n    }\n\n    public int getScore() {\n        return score;\n    }\n\n    public void setScore(int score) {\n        this.score = score;\n    }\n\n    public void dispose () {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","json","xml","jaxb"],"owner":{"account_id":3331453,"reputation":569,"user_id":2800318,"display_name":"MANITORATION"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663764800,"creation_date":1644306411,"question_id":71030170,"body_markdown":"I have a xml like\r\n\r\n    &lt;root&gt;\r\n      &lt;element&gt;\r\n        &lt;a&gt;it should be single&lt;/a&gt;\r\n        &lt;a&gt;but here I am showing multiple&lt;/a&gt;\r\n      &lt;element&gt;\r\n      &lt;element&gt;\r\n        &lt;a&gt;it should be single&lt;/a&gt;\r\n      &lt;element&gt;\r\n    &lt;/root&gt;\r\n\r\nMy java POJOs are:\r\n\r\n         class Root {\r\n           @JacksonXmlElementWrapper(useWrapping = false)\r\n           @JacksonXmlProperty(localName = &quot;element&quot;)\r\n           List&lt;Element&gt; element;\r\n         }\r\n\r\n        class Element {\r\n           @JacksonXmlProperty(localName = &quot;a&quot;)\r\n           String a; // Here A is not in list type\r\n        }\r\n    \r\n\r\nwhen I send the XML as a payload of my REST API, It successfully mapped without any error, and I evaluate the data of 1st element I am only getting the second A string(i.e: but here I am showing multiple).\r\n\r\nAs I have defined in Element class that A should be a String not a list of strings but it still mapped it. Can I restrict A as a single occurrence by java code?\r\nNote: There is a restriction I can&#39;t change A as a list of strings in class Elemnt.","title":"Jackson XML Deserialize multiple XML tag to a single Object without any error in java DTO","body":"<p>I have a xml like</p>\n<pre><code>&lt;root&gt;\n  &lt;element&gt;\n    &lt;a&gt;it should be single&lt;/a&gt;\n    &lt;a&gt;but here I am showing multiple&lt;/a&gt;\n  &lt;element&gt;\n  &lt;element&gt;\n    &lt;a&gt;it should be single&lt;/a&gt;\n  &lt;element&gt;\n&lt;/root&gt;\n</code></pre>\n<p>My java POJOs are:</p>\n<pre><code>     class Root {\n       @JacksonXmlElementWrapper(useWrapping = false)\n       @JacksonXmlProperty(localName = &quot;element&quot;)\n       List&lt;Element&gt; element;\n     }\n\n    class Element {\n       @JacksonXmlProperty(localName = &quot;a&quot;)\n       String a; // Here A is not in list type\n    }\n</code></pre>\n<p>when I send the XML as a payload of my REST API, It successfully mapped without any error, and I evaluate the data of 1st element I am only getting the second A string(i.e: but here I am showing multiple).</p>\n<p>As I have defined in Element class that A should be a String not a list of strings but it still mapped it. Can I restrict A as a single occurrence by java code?\nNote: There is a restriction I can't change A as a list of strings in class Elemnt.</p>\n"},{"tags":["java","spring-boot","jstack"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1651536468,"post_id":72091099,"comment_id":127383125,"body_markdown":"On Unix you can get a threaddump (on JVM&#39;s stdout) with `kill -3|-QUIT pid`; see https://stackoverflow.com/questions/16899565 https://stackoverflow.com/questions/4876274 . Otherwise yes `jstack` is in JDK; if you are using CentOS-supplied packages add the java-version-devel package matching your java-version package, otherwise be more specific about how your JRE was installed.","body":"On Unix you can get a threaddump (on JVM&#39;s stdout) with <code>kill -3|-QUIT pid</code>; see <a href=\"https://stackoverflow.com/questions/16899565\">stackoverflow.com/questions/16899565</a> <a href=\"https://stackoverflow.com/questions/4876274\">stackoverflow.com/questions/4876274</a> . Otherwise yes <code>jstack</code> is in JDK; if you are using CentOS-supplied packages add the java-version-devel package matching your java-version package, otherwise be more specific about how your JRE was installed."},{"owner":{"account_id":23847810,"reputation":39,"user_id":17852102,"display_name":"Aman35"},"score":0,"creation_date":1651591821,"post_id":72091099,"comment_id":127397136,"body_markdown":"@dave_thompson_085 Thank you.\nJava -version\nopenjdk version &quot;1.8.0_272&quot;\nOpenJDK Runtime Environment (build 1.8.0_272-b10)\nOpenJDK 64-Bit Server VM (build 25.272-b10, mixed mode)\n\nif you are using CentOS-supplied packages add the java-version-devel package matching your java-version package? can you please let me know How to verify this..","body":"@dave_thompson_085 Thank you. Java -version openjdk version &quot;1.8.0_272&quot; OpenJDK Runtime Environment (build 1.8.0_272-b10) OpenJDK 64-Bit Server VM (build 25.272-b10, mixed mode)  if you are using CentOS-supplied packages add the java-version-devel package matching your java-version package? can you please let me know How to verify this.."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1651645216,"post_id":72091099,"comment_id":127409391,"body_markdown":"Comments can&#39;t be properly formatted and are _not_ permanent, so you should put additional info _in the question_ using the edit button. However, the java _version_ tells nothing useful about how it was installed, which is what I asked about. Do `yum provides $(which java)` to find out what package, if any, it was installed from. If not, find out what file(s) you are running and where it/they came from.","body":"Comments can&#39;t be properly formatted and are <i>not</i> permanent, so you should put additional info <i>in the question</i> using the edit button. However, the java <i>version</i> tells nothing useful about how it was installed, which is what I asked about. Do <code>yum provides $(which java)</code> to find out what package, if any, it was installed from. If not, find out what file(s) you are running and where it/they came from."},{"owner":{"account_id":23847810,"reputation":39,"user_id":17852102,"display_name":"Aman35"},"score":0,"creation_date":1652740151,"post_id":72091099,"comment_id":127674715,"body_markdown":"Hi @dave_thompson_085, Thank you so much for your help. I was able to take a take threaddump using triggers in JDK mission control utility.","body":"Hi @dave_thompson_085, Thank you so much for your help. I was able to take a take threaddump using triggers in JDK mission control utility."}],"answers":[{"tags":[],"owner":{"account_id":2338298,"reputation":419,"user_id":2050158,"display_name":"Allan K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663764728,"creation_date":1663764728,"answer_id":73801067,"question_id":72091099,"body_markdown":"You can have several java installations on the same OS by using jdk install from tar file option.\r\nYou may manually install jdk to a single parent directory by making use of the .tar.gz jdk installation option.\r\nThis option will enable you to download a the .tar.gz file into a new directory, then untar the downloaded file and answer some license agreement.\r\nyou will see the you will find jstack in the bin directory in the directory the of the jdk you have just installed. You may need to use the full file path of this jstack file when using.","title":"install Jstack on centos","body":"<p>You can have several java installations on the same OS by using jdk install from tar file option.\nYou may manually install jdk to a single parent directory by making use of the .tar.gz jdk installation option.\nThis option will enable you to download a the .tar.gz file into a new directory, then untar the downloaded file and answer some license agreement.\nyou will see the you will find jstack in the bin directory in the directory the of the jdk you have just installed. You may need to use the full file path of this jstack file when using.</p>\n"}],"owner":{"account_id":23847810,"reputation":39,"user_id":17852102,"display_name":"Aman35"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663764728,"creation_date":1651517539,"question_id":72091099,"body_markdown":"my centos Server is running the Spring boot application. I am trying to take threaddump of java process. But I cannot find jstack utility on the server. I figured out someone just installed the jre and did not install jdk, that may be the reason why jstack is missing.\r\n\r\nCan you please let me know how can I install jstack on this server?\r\nis there any pre-install checks ? or does it involve any downtime ?\r\n","title":"install Jstack on centos","body":"<p>my centos Server is running the Spring boot application. I am trying to take threaddump of java process. But I cannot find jstack utility on the server. I figured out someone just installed the jre and did not install jdk, that may be the reason why jstack is missing.</p>\n<p>Can you please let me know how can I install jstack on this server?\nis there any pre-install checks ? or does it involve any downtime ?</p>\n"},{"tags":["java","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":5152889,"reputation":3269,"user_id":4126968,"display_name":"eee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415648108,"creation_date":1415301253,"answer_id":26787591,"question_id":26762099,"body_markdown":"You can implement your own matcher by extending `SubstringMatcher` from the `org.hamcrest.core` package:\r\n\r\n    public class StringContainsIgnoringCase extends SubstringMatcher {\r\n        public StringContainsIgnoringCase(String substring) {\r\n            super(substring);\r\n        }\r\n    \r\n        @Override\r\n        protected boolean evalSubstringOf(String s) {\r\n            return s.toLowerCase().contains(substring.toLowerCase());\r\n        }\r\n    \r\n        @Override\r\n        protected String relationship() {\r\n            return &quot;containing (ignoring case)&quot;;\r\n        }\r\n    \r\n        public static Matcher&lt;String&gt; containsStringIgnoringCase(String substring) {\r\n            return new StringContainsIgnoringCase(substring);\r\n        }\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    assertThat(dialogTitle.getText(), StringContainsIgnoringCase.containsStringIgnoringCase(&quot;Diagram&quot;));\r\n\r\nAnd for readability you can make a static import of course and you get:\r\n\r\n    assertThat(dialogTitle.getText(), containsStringIgnoringCase(&quot;Diagram&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\nThe matcher you are asking for is already in the [master branch of the JavaHamcrest project][1] unfortunately it is not in the latest release of Hamcrest (1.3).\r\n\r\n\r\n  [1]: http://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-core/src/main/java/org/hamcrest/core/StringContains.java","title":"I need Matcher&lt;String&gt; containsString(Matcher&lt;String&gt; matcher), am I doing something wrong?","body":"<p>You can implement your own matcher by extending <code>SubstringMatcher</code> from the <code>org.hamcrest.core</code> package:</p>\n\n<pre><code>public class StringContainsIgnoringCase extends SubstringMatcher {\n    public StringContainsIgnoringCase(String substring) {\n        super(substring);\n    }\n\n    @Override\n    protected boolean evalSubstringOf(String s) {\n        return s.toLowerCase().contains(substring.toLowerCase());\n    }\n\n    @Override\n    protected String relationship() {\n        return \"containing (ignoring case)\";\n    }\n\n    public static Matcher&lt;String&gt; containsStringIgnoringCase(String substring) {\n        return new StringContainsIgnoringCase(substring);\n    }\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>assertThat(dialogTitle.getText(), StringContainsIgnoringCase.containsStringIgnoringCase(\"Diagram\"));\n</code></pre>\n\n<p>And for readability you can make a static import of course and you get:</p>\n\n<pre><code>assertThat(dialogTitle.getText(), containsStringIgnoringCase(\"Diagram\"));\n</code></pre>\n\n<hr>\n\n<p>The matcher you are asking for is already in the <a href=\"http://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-core/src/main/java/org/hamcrest/core/StringContains.java\" rel=\"nofollow\">master branch of the JavaHamcrest project</a> unfortunately it is not in the latest release of Hamcrest (1.3).</p>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663764581,"creation_date":1663764581,"answer_id":73801032,"question_id":26762099,"body_markdown":"You can also simply use:\r\n\r\n```java\r\norg.hamcrest.MatcherAssert.assertThat\r\n```\r\nUsage:\r\n\r\n```java\r\nassertThat(&quot;Actual String&quot;, containsStringIgnoringCase(&quot;Expected Substring&quot;));\r\n```","title":"I need Matcher&lt;String&gt; containsString(Matcher&lt;String&gt; matcher), am I doing something wrong?","body":"<p>You can also simply use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.hamcrest.MatcherAssert.assertThat\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(&quot;Actual String&quot;, containsStringIgnoringCase(&quot;Expected Substring&quot;));\n</code></pre>\n"}],"owner":{"account_id":214107,"reputation":4672,"user_id":467874,"accept_rate":92,"display_name":"brabec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73801032,"answer_count":2,"score":1,"last_activity_date":1663764581,"creation_date":1415204674,"question_id":26762099,"body_markdown":"I&#39;d like to check that a string contains another string, ignoring case. Basically, I&#39;d like to do this:\r\n\r\n    assertThat(dialogTitle.getText(), containsString(equalToIgnoringCase(&quot;Diagram&quot;)));\r\n\r\nBut I couldn&#39;t find a `Matcher&lt;String&gt;` that takes another `Matcher&lt;T&gt;`. Is there a different way how to accomplish this?","title":"I need Matcher&lt;String&gt; containsString(Matcher&lt;String&gt; matcher), am I doing something wrong?","body":"<p>I'd like to check that a string contains another string, ignoring case. Basically, I'd like to do this:</p>\n\n<pre><code>assertThat(dialogTitle.getText(), containsString(equalToIgnoringCase(\"Diagram\")));\n</code></pre>\n\n<p>But I couldn't find a <code>Matcher&lt;String&gt;</code> that takes another <code>Matcher&lt;T&gt;</code>. Is there a different way how to accomplish this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4671153,"reputation":1803,"user_id":3782923,"accept_rate":67,"display_name":"Aravinthan K"},"score":0,"creation_date":1663765047,"post_id":73800762,"comment_id":130315866,"body_markdown":"Need much improvement in your code. Try to understand each line and do your changes.  Hint: Do check what Random does here.","body":"Need much improvement in your code. Try to understand each line and do your changes.  Hint: Do check what Random does here."},{"owner":{"account_id":18365846,"reputation":13,"user_id":13376884,"display_name":"Paprikan"},"score":0,"creation_date":1663847563,"post_id":73800762,"comment_id":130338348,"body_markdown":"Understood. I shall work more on this. Thank you","body":"Understood. I shall work more on this. Thank you"}],"owner":{"account_id":18365846,"reputation":13,"user_id":13376884,"display_name":"Paprikan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663764441,"creation_date":1663763357,"question_id":73800762,"body_markdown":"I am new to Java and followed a video on making a Tic Tac Toe game for a class project. I am unsure how to change the CPU element into a player section. So far this is what I have. I also need to create an AOP for the refereeing aspect. \r\n\r\nAny input you all give would be greatly appreciated. I look forward to reading your input. \r\n\r\n\r\n\r\n\r\n\r\n     import java.util.ArrayList;\r\n     import java.util.Arrays;\r\n     import java.util.List;\r\n     import java.util.Random;\r\n     import java.util.Scanner;\r\n\r\n      public class  TicTacToe {\r\n\r\n\tstatic ArrayList&lt;Integer&gt; player1Positions = new ArrayList&lt;Integer&gt;();\r\n\t   static ArrayList&lt;Integer&gt; player2Positions = new ArrayList&lt;Integer&gt;();\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t\r\n\t\tchar [] [] gameBoard = {{&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}, \r\n\t\t\t\t{&#39;-&#39;, &#39;+&#39;, &#39; &#39;, &#39;+&#39;, &#39;-&#39;}, \r\n\t\t\t\t{&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}, \r\n\t\t\t\t{&#39;-&#39;, &#39;+&#39;, &#39; &#39;, &#39;+&#39;, &#39;-&#39;}, \r\n\t\t\t\t{&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}};\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t     Scanner scan = new Scanner (System.in);\r\n\t\t\r\n\t\t     printGameBoard(gameBoard);\r\n\t\t     while(true) {\r\n\t\t\tScanner scan1 = new Scanner (System.in);\r\n\t\t\tSystem.out.println(&quot;Enter your placement (1-9):&quot;);\r\n\t\t\tint playerPos = scan1.nextInt();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tplacePiece(gameBoard, playerPos, &quot;Player&quot;);\r\n\t\t\t\r\n\t\t\tRandom rand = new Random();\r\n\t\t\tint player2Pos = rand.nextInt(9) + 1;\r\n\t\t\twhile(player1Positions.contains(player2Pos) || \r\n            player2Positions.contains(player2Pos)){\r\n\t\t\t\tplayer2Pos = rand.nextInt(9) + 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tplacePiece(gameBoard, player2Pos, &quot;Player2&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tprintGameBoard(gameBoard);\r\n\t\t\t\r\n\t\t\tString result = checkWinner();\r\n\t\t\tSystem.out.println(result);\r\n\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic static void printGameBoard(char [] [] gameBoard) {\r\n\t\tfor (char [] row : gameBoard) {\r\n\t\t\tfor(char c : row) {\r\n\t\t\t\tSystem.out.print(c);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t}\r\n\tpublic static void placePiece(char [] [] gameBoard, int pos, String user) {\r\n\t\t\r\n\t\t\r\n\t\tchar symbol = &#39; &#39;;\r\n\t\t\r\n\t\t\r\n\t\tif (user.equals(&quot;Player &quot;)) {\r\n\t\t\tsymbol = &#39;X&#39;;\r\n\t\t\tplayer1Positions.add(pos);\r\n\t\t\t} else if (user.equals(&quot;Player 2&quot;))\r\n\t\t\tsymbol = &#39;0&#39;;\r\n\t\t\tplayer2Positions.add(pos);\r\n\t\t\r\n\t\tswitch (pos) {\r\n\t\tcase 1: \r\n\t\t\tgameBoard[0] [0] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 2: \r\n\t\t\tgameBoard[0] [2] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 3: \r\n\t\t\tgameBoard[0] [4] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 4: \r\n\t\t\tgameBoard[2] [0] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 5: \r\n\t\t\tgameBoard[2] [2] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 6: \r\n\t\t\tgameBoard[2] [4] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 7: \r\n\t\t\tgameBoard[4] [0] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 8: \r\n\t\t\tgameBoard[4] [2] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase 9: \r\n\t\t\tgameBoard[4] [4] = symbol;\r\n\t\t\tbreak;\r\n\t\tdefault: \r\n\t\t\tbreak;\r\n\t  }\r\n\t }\r\n\t  public static String checkWinner() {\r\n\t\t\r\n\t\tList topRow = Arrays.asList(1, 2, 3);\r\n\t\tList middleRow = Arrays.asList(4, 5, 6);\r\n\t\tList bottomRow = Arrays.asList(7, 8, 9);\r\n\t\tList leftColumn = Arrays.asList(1, 4, 7);\r\n\t\tList middleColumn = Arrays.asList(2, 5, 8);\r\n\t\tList rightColumn = Arrays.asList(3, 6, 9);\r\n\t\tList cross1 = Arrays.asList(1, 5, 9);\r\n\t\tList cross2 = Arrays.asList(7, 5, 3);\r\n\t\t\r\n\t\t\r\n\t\tList&lt;List&gt;winning = new ArrayList&lt;List&gt;();\r\n\t\twinning.add(topRow);\r\n\t\twinning.add(middleRow);\r\n\t\twinning.add(bottomRow);\r\n\t\twinning.add(leftColumn);\r\n\t\twinning.add(middleColumn);\r\n\t\twinning.add(rightColumn);\r\n\t\twinning.add(cross1);\r\n\t\twinning.add(cross2);\r\n\t\t\r\n\t\t\r\n\t\tfor(List l : winning) {\r\n\t\t\tif(player1Positions.containsAll(l)) {\r\n\t\t\t\treturn &quot;Congratulations you win!&quot;;\r\n\t\t\t} else if(player2Positions.containsAll(l)) {\r\n\t\t\t\treturn &quot;Player2 wins!&quot;;\r\n\t\t\t} else if(player1Positions.size() + player2Positions.size() == 9) {\r\n\t\t\t\treturn &quot;Draw!&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;&quot;;\r\n\t   }\r\n\t   }","title":"Changing CPU tic tac toe to 2 player in JAVA","body":"<p>I am new to Java and followed a video on making a Tic Tac Toe game for a class project. I am unsure how to change the CPU element into a player section. So far this is what I have. I also need to create an AOP for the refereeing aspect.</p>\n<p>Any input you all give would be greatly appreciated. I look forward to reading your input.</p>\n<pre><code> import java.util.ArrayList;\n import java.util.Arrays;\n import java.util.List;\n import java.util.Random;\n import java.util.Scanner;\n\n  public class  TicTacToe {\n\nstatic ArrayList&lt;Integer&gt; player1Positions = new ArrayList&lt;Integer&gt;();\n   static ArrayList&lt;Integer&gt; player2Positions = new ArrayList&lt;Integer&gt;();\n\n    public static void main(String[] args) {\n    \n    char [] [] gameBoard = {{' ', '|', ' ', '|', ' '}, \n            {'-', '+', ' ', '+', '-'}, \n            {' ', '|', ' ', '|', ' '}, \n            {'-', '+', ' ', '+', '-'}, \n            {' ', '|', ' ', '|', ' '}};\n    \n    \n    \n         Scanner scan = new Scanner (System.in);\n    \n         printGameBoard(gameBoard);\n         while(true) {\n        Scanner scan1 = new Scanner (System.in);\n        System.out.println(&quot;Enter your placement (1-9):&quot;);\n        int playerPos = scan1.nextInt();\n        \n        \n        \n        placePiece(gameBoard, playerPos, &quot;Player&quot;);\n        \n        Random rand = new Random();\n        int player2Pos = rand.nextInt(9) + 1;\n        while(player1Positions.contains(player2Pos) || \n        player2Positions.contains(player2Pos)){\n            player2Pos = rand.nextInt(9) + 1;\n        }\n        \n        placePiece(gameBoard, player2Pos, &quot;Player2&quot;);\n        \n        \n        printGameBoard(gameBoard);\n        \n        String result = checkWinner();\n        System.out.println(result);\n    \n    }\n}\n\n\npublic static void printGameBoard(char [] [] gameBoard) {\n    for (char [] row : gameBoard) {\n        for(char c : row) {\n            System.out.print(c);\n        }\n        System.out.println();\n    }\n    }\npublic static void placePiece(char [] [] gameBoard, int pos, String user) {\n    \n    \n    char symbol = ' ';\n    \n    \n    if (user.equals(&quot;Player &quot;)) {\n        symbol = 'X';\n        player1Positions.add(pos);\n        } else if (user.equals(&quot;Player 2&quot;))\n        symbol = '0';\n        player2Positions.add(pos);\n    \n    switch (pos) {\n    case 1: \n        gameBoard[0] [0] = symbol;\n        break;\n    case 2: \n        gameBoard[0] [2] = symbol;\n        break;\n    case 3: \n        gameBoard[0] [4] = symbol;\n        break;\n    case 4: \n        gameBoard[2] [0] = symbol;\n        break;\n    case 5: \n        gameBoard[2] [2] = symbol;\n        break;\n    case 6: \n        gameBoard[2] [4] = symbol;\n        break;\n    case 7: \n        gameBoard[4] [0] = symbol;\n        break;\n    case 8: \n        gameBoard[4] [2] = symbol;\n        break;\n    case 9: \n        gameBoard[4] [4] = symbol;\n        break;\n    default: \n        break;\n  }\n }\n  public static String checkWinner() {\n    \n    List topRow = Arrays.asList(1, 2, 3);\n    List middleRow = Arrays.asList(4, 5, 6);\n    List bottomRow = Arrays.asList(7, 8, 9);\n    List leftColumn = Arrays.asList(1, 4, 7);\n    List middleColumn = Arrays.asList(2, 5, 8);\n    List rightColumn = Arrays.asList(3, 6, 9);\n    List cross1 = Arrays.asList(1, 5, 9);\n    List cross2 = Arrays.asList(7, 5, 3);\n    \n    \n    List&lt;List&gt;winning = new ArrayList&lt;List&gt;();\n    winning.add(topRow);\n    winning.add(middleRow);\n    winning.add(bottomRow);\n    winning.add(leftColumn);\n    winning.add(middleColumn);\n    winning.add(rightColumn);\n    winning.add(cross1);\n    winning.add(cross2);\n    \n    \n    for(List l : winning) {\n        if(player1Positions.containsAll(l)) {\n            return &quot;Congratulations you win!&quot;;\n        } else if(player2Positions.containsAll(l)) {\n            return &quot;Player2 wins!&quot;;\n        } else if(player1Positions.size() + player2Positions.size() == 9) {\n            return &quot;Draw!&quot;;\n        }\n    }\n    \n    return &quot;&quot;;\n   }\n   }\n</code></pre>\n"},{"tags":["java","matlab","https","ssl-certificate","urlread"],"comments":[{"owner":{"account_id":21633,"reputation":125374,"user_id":52738,"accept_rate":50,"display_name":"gnovice"},"score":0,"creation_date":1256747875,"post_id":1638275,"comment_id":1507697,"body_markdown":"Which version of MATLAB are you using? There may not be a workaround: http://www.mathworks.com/support/solutions/en/data/1-1B8G6/index.html?product=ML&amp;solution=1-1B8G6","body":"Which version of MATLAB are you using? There may not be a workaround: <a href=\"http://www.mathworks.com/support/solutions/en/data/1-1B8G6/index.html?product=ML&amp;solution=1-1B8G6\" rel=\"nofollow noreferrer\">mathworks.com/support/solutions/en/data/1-1B8G6/&hellip;</a>"},{"owner":{"account_id":10206,"reputation":3422,"user_id":19172,"accept_rate":100,"display_name":"Ian Hopkinson"},"score":0,"creation_date":1256755922,"post_id":1638275,"comment_id":1508705,"body_markdown":"I&#39;m on 2009a. I&#39;d seen the solution you linked to, I don&#39;t think this is the problem. I think the urlread function supports https - but can&#39;t handle invalid security certificates.","body":"I&#39;m on 2009a. I&#39;d seen the solution you linked to, I don&#39;t think this is the problem. I think the urlread function supports https - but can&#39;t handle invalid security certificates."}],"answers":[{"tags":[],"owner":{"account_id":34382,"reputation":123977,"user_id":97160,"accept_rate":100,"display_name":"Amro"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1663764130,"creation_date":1256763738,"answer_id":1640099,"question_id":1638275,"body_markdown":"Consider the following Java class. Borrowing from this code: [Disabling Certificate Validation in an HTTPS Connection][1]\r\n\r\n### C:\\MATLAB\\MyJavaClasses\\com\\stackoverflow\\Downloader.java\r\n\r\n    package com.stackoverflow;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.security.cert.X509Certificate;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    import javax.net.ssl.HostnameVerifier;\r\n\r\n    public class Downloader {\r\n        public static String getData(String address) throws Exception {\r\n            // Create a trust manager that does not validate certificate chains\r\n            TrustManager[] trustAllCerts = new TrustManager[] {\r\n                new X509TrustManager() {\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                        return null;\r\n                    }\r\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                    }\r\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Create a host name verifier that always passes\r\n            HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n            // Install the all-trusting host verifier\r\n            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n\r\n            // open connection\r\n            URL page = new URL(address);\r\n            HttpURLConnection conn = (HttpURLConnection) page.openConnection();\r\n            BufferedReader buff = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n\r\n            // read text\r\n            String line;\r\n            StringBuffer text = new StringBuffer();\r\n            while ( (line = buff.readLine()) != null ) {\r\n                //System.out.println(line);\r\n                text.append(line + &quot;\\n&quot;);\r\n            }\r\n            buff.close();\r\n\r\n            return text.toString();\r\n        }\r\n\r\n        public static void main(String[] argv) throws Exception {\r\n            String str = getData(&quot;https://expired.badssl.com/&quot;);\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n\r\n### MATLAB\r\n\r\nFirst we compile the Java class (we must use a JDK version compatible with MATLAB):\r\n\r\n    &gt;&gt; version -java\r\n    &gt;&gt; system(&#39;javac C:\\MATLAB\\MyJavaClasses\\com\\stackoverflow\\Downloader.java&#39;);\r\n\r\nNext we instantiate and use it MATLAB as:\r\n\r\n    javaaddpath(&#39;C:\\MATLAB\\MyJavaClasses&#39;)\r\n    dl = com.stackoverflow.Downloader;\r\n    str = char(dl.getData(&#39;https://expired.badssl.com/&#39;));\r\n    web([&#39;text://&#39; str], &#39;-new&#39;)\r\n\r\nHere are a few URLs with bad SSL certificates to test:\r\n\r\n    urls = {\r\n        &#39;https://expired.badssl.com/&#39;       % expired\r\n        &#39;https://wrong.host.badssl.com/&#39;    % wrong host\r\n        &#39;https://self-signed.badssl.com/&#39;   % self-signed\r\n        &#39;https://revoked.grc.com/&#39;          % revoked\r\n    };\r\n\r\n---\r\n\r\n**UPDATE:** I should mention that starting with R2014b, MATLAB has a new function [`webread`][2] that supersedes [`urlread`][3].\r\n\r\n  [1]: https://web.archive.org/web/20061217061841/http://www.exampledepot.com/egs/javax.net.ssl/TrustAll.html\r\n  [2]: http://www.mathworks.com/help/matlab/ref/webread.html\r\n  [3]: http://www.mathworks.com/help/matlab/ref/urlread.html\r\n","title":"Handling an invalid security certificate using MATLAB&#39;s urlread command","body":"<p>Consider the following Java class. Borrowing from this code: <a href=\"https://web.archive.org/web/20061217061841/http://www.exampledepot.com/egs/javax.net.ssl/TrustAll.html\" rel=\"nofollow noreferrer\">Disabling Certificate Validation in an HTTPS Connection</a></p>\n<h3>C:\\MATLAB\\MyJavaClasses\\com\\stackoverflow\\Downloader.java</h3>\n<pre><code>package com.stackoverflow;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.security.cert.X509Certificate;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport javax.net.ssl.HostnameVerifier;\n\npublic class Downloader {\n    public static String getData(String address) throws Exception {\n        // Create a trust manager that does not validate certificate chains\n        TrustManager[] trustAllCerts = new TrustManager[] {\n            new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                }\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                }\n            }\n        };\n\n        // Create a host name verifier that always passes\n        HostnameVerifier allHostsValid = new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        };\n\n        // Install the all-trusting trust manager\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n        // Install the all-trusting host verifier\n        HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n\n        // open connection\n        URL page = new URL(address);\n        HttpURLConnection conn = (HttpURLConnection) page.openConnection();\n        BufferedReader buff = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n\n        // read text\n        String line;\n        StringBuffer text = new StringBuffer();\n        while ( (line = buff.readLine()) != null ) {\n            //System.out.println(line);\n            text.append(line + &quot;\\n&quot;);\n        }\n        buff.close();\n\n        return text.toString();\n    }\n\n    public static void main(String[] argv) throws Exception {\n        String str = getData(&quot;https://expired.badssl.com/&quot;);\n        System.out.println(str);\n    }\n}\n</code></pre>\n<h3>MATLAB</h3>\n<p>First we compile the Java class (we must use a JDK version compatible with MATLAB):</p>\n<pre><code>&gt;&gt; version -java\n&gt;&gt; system('javac C:\\MATLAB\\MyJavaClasses\\com\\stackoverflow\\Downloader.java');\n</code></pre>\n<p>Next we instantiate and use it MATLAB as:</p>\n<pre><code>javaaddpath('C:\\MATLAB\\MyJavaClasses')\ndl = com.stackoverflow.Downloader;\nstr = char(dl.getData('https://expired.badssl.com/'));\nweb(['text://' str], '-new')\n</code></pre>\n<p>Here are a few URLs with bad SSL certificates to test:</p>\n<pre><code>urls = {\n    'https://expired.badssl.com/'       % expired\n    'https://wrong.host.badssl.com/'    % wrong host\n    'https://self-signed.badssl.com/'   % self-signed\n    'https://revoked.grc.com/'          % revoked\n};\n</code></pre>\n<hr />\n<p><strong>UPDATE:</strong> I should mention that starting with R2014b, MATLAB has a new function <a href=\"http://www.mathworks.com/help/matlab/ref/webread.html\" rel=\"nofollow noreferrer\"><code>webread</code></a> that supersedes <a href=\"http://www.mathworks.com/help/matlab/ref/urlread.html\" rel=\"nofollow noreferrer\"><code>urlread</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":796908,"reputation":43,"user_id":501946,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343913239,"creation_date":1343913239,"answer_id":11778184,"question_id":1638275,"body_markdown":"thanks for the solution. It worked, however, sometimes, I had received the following exception &quot;java.io.IOException: The issuer can not be found in the trusted CA list.&quot; and I was not able to get rid of this error.\r\n\r\nTherefore, I tried an alternative solution that works well. You can use the following Java code in Matlab function:\r\n\r\n     function str = ReadUrl(url)\r\n         is = java.net.URL([], url, sun.net.www.protocol.https.Handler).openConnection().getInputStream(); \r\n         br = java.io.BufferedReader(java.io.InputStreamReader(is));\r\n         str = char(br.readLine());\r\n     end\r\n\r\nBest,\r\nJan","title":"Handling an invalid security certificate using MATLAB&#39;s urlread command","body":"<p>thanks for the solution. It worked, however, sometimes, I had received the following exception \"java.io.IOException: The issuer can not be found in the trusted CA list.\" and I was not able to get rid of this error.</p>\n\n<p>Therefore, I tried an alternative solution that works well. You can use the following Java code in Matlab function:</p>\n\n<pre><code> function str = ReadUrl(url)\n     is = java.net.URL([], url, sun.net.www.protocol.https.Handler).openConnection().getInputStream(); \n     br = java.io.BufferedReader(java.io.InputStreamReader(is));\n     str = char(br.readLine());\n end\n</code></pre>\n\n<p>Best,\nJan</p>\n"},{"tags":[],"owner":{"account_id":1075,"reputation":34774,"user_id":1428,"accept_rate":64,"display_name":"lindelof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386251863,"creation_date":1386251863,"answer_id":20401884,"question_id":1638275,"body_markdown":"Note also that the &quot;canonical&quot; way to solve this issue is to import the certificate into MATLAB&#39;s keystore (i.e., *not* your JVM&#39;s keystore).\r\n\r\nThis is documented here: [Mathworks on using untrusted SSL certificates][1].\r\n\r\n\r\n  [1]: http://www.mathworks.com/matlabcentral/answers/92506","title":"Handling an invalid security certificate using MATLAB&#39;s urlread command","body":"<p>Note also that the \"canonical\" way to solve this issue is to import the certificate into MATLAB's keystore (i.e., <em>not</em> your JVM's keystore).</p>\n\n<p>This is documented here: <a href=\"http://www.mathworks.com/matlabcentral/answers/92506\" rel=\"nofollow\">Mathworks on using untrusted SSL certificates</a>.</p>\n"}],"owner":{"account_id":10206,"reputation":3422,"user_id":19172,"accept_rate":100,"display_name":"Ian Hopkinson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12248,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1640099,"answer_count":3,"score":7,"last_activity_date":1663764130,"creation_date":1256746165,"question_id":1638275,"body_markdown":"I&#39;m accessing an internal database using MATLAB&#39;s [`urlread`][1] command, everything was working fine until the service was moved to a secure server (i.e. with an HTTPS address rather than an HTTP address). Now `urlread` no longer successfully retrieves results. It gives an error:\r\n\r\n&gt; Error downloading URL. Your network connection may be down or your proxy settings improperly configured.\r\n\r\nI believe the problem is that the service is using an invalid digital certificate since if I try to access the resource directly in a web browser I get &quot;untrusted connection&quot; warning which I am able to pass through by adding the site to an Exception list. `urlread` doesn&#39;t have an obvious way of handling this problem.\r\n\r\nUnder the hood `urlread` is using Java to access web resources, and the error is thrown at this line:\r\n\r\n    inputStream = urlConnection.getInputStream;\r\n\r\nwhere `urlConnection` is a Java object: `sun.net.www.protocol.https.HttpsURLConnectionImpl`.\r\n\r\nAnyone suggest a workaround for this problem?    \r\n\r\n\r\n  [1]: http://www.mathworks.com/help/matlab/ref/urlread.html\r\n","title":"Handling an invalid security certificate using MATLAB&#39;s urlread command","body":"<p>I'm accessing an internal database using MATLAB's <a href=\"http://www.mathworks.com/help/matlab/ref/urlread.html\" rel=\"nofollow noreferrer\"><code>urlread</code></a> command, everything was working fine until the service was moved to a secure server (i.e. with an HTTPS address rather than an HTTP address). Now <code>urlread</code> no longer successfully retrieves results. It gives an error:</p>\n\n<blockquote>\n  <p>Error downloading URL. Your network connection may be down or your proxy settings improperly configured.</p>\n</blockquote>\n\n<p>I believe the problem is that the service is using an invalid digital certificate since if I try to access the resource directly in a web browser I get \"untrusted connection\" warning which I am able to pass through by adding the site to an Exception list. <code>urlread</code> doesn't have an obvious way of handling this problem.</p>\n\n<p>Under the hood <code>urlread</code> is using Java to access web resources, and the error is thrown at this line:</p>\n\n<pre><code>inputStream = urlConnection.getInputStream;\n</code></pre>\n\n<p>where <code>urlConnection</code> is a Java object: <code>sun.net.www.protocol.https.HttpsURLConnectionImpl</code>.</p>\n\n<p>Anyone suggest a workaround for this problem?    </p>\n"},{"tags":["java","android","keyevent","display-manager","android-displaymanager"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1663763508,"post_id":73800479,"comment_id":130315252,"body_markdown":"can you please share some piece of code?","body":"can you please share some piece of code?"},{"owner":{"account_id":12885927,"reputation":1,"user_id":16726751,"display_name":"suspended_null"},"score":0,"creation_date":1663763627,"post_id":73800479,"comment_id":130315296,"body_markdown":"I think code pieces make you confused, so I attached some images to describe scenario cleary.","body":"I think code pieces make you confused, so I attached some images to describe scenario cleary."},{"owner":{"account_id":12885927,"reputation":1,"user_id":16726751,"display_name":"suspended_null"},"score":0,"creation_date":1663764599,"post_id":73800479,"comment_id":130315690,"body_markdown":"@AdityaNandardhane If I find a way to send key events to secondary connected display, my issue will solved.","body":"@AdityaNandardhane If I find a way to send key events to secondary connected display, my issue will solved."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663771843,"post_id":73800479,"comment_id":130318665,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1663772420,"post_id":73800479,"comment_id":130318881,"body_markdown":"&quot;I want to send the navigation and selection key events to the secondary screen&quot; -- that does not make any sense. A secondary screen has no means of handling &quot;navigation and selection key events&quot;. An *app* might handle those things. But, we do not know what you are doing with this secondary screen. I suggest that you edit your question to explain **in detail** what it is that you are doing with this secondary screen and what exactly you are trying to accomplish.","body":"&quot;I want to send the navigation and selection key events to the secondary screen&quot; -- that does not make any sense. A secondary screen has no means of handling &quot;navigation and selection key events&quot;. An <i>app</i> might handle those things. But, we do not know what you are doing with this secondary screen. I suggest that you edit your question to explain <b>in detail</b> what it is that you are doing with this secondary screen and what exactly you are trying to accomplish."},{"owner":{"account_id":12885927,"reputation":1,"user_id":16726751,"display_name":"suspended_null"},"score":0,"creation_date":1663775102,"post_id":73800479,"comment_id":130320004,"body_markdown":"I am looking for different approaches before I code. To make it clear, I have some media apps running on secondary display which is connected my primary display. So, I just wanted to control these apps on my application working like Android TV. So, there are some approaches come to my mind which are sending key event another active application (might be netflix, youtube whatever). When I  send inject key events through adb shell, I can easily navigate opened app on secondary display. So, I am trying to build an app behaves like injecting key to focused apps.","body":"I am looking for different approaches before I code. To make it clear, I have some media apps running on secondary display which is connected my primary display. So, I just wanted to control these apps on my application working like Android TV. So, there are some approaches come to my mind which are sending key event another active application (might be netflix, youtube whatever). When I  send inject key events through adb shell, I can easily navigate opened app on secondary display. So, I am trying to build an app behaves like injecting key to focused apps."}],"owner":{"account_id":12885927,"reputation":1,"user_id":16726751,"display_name":"suspended_null"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663764085,"creation_date":1663762173,"question_id":73800479,"body_markdown":"I am developing an application to control the secondary display using the buttons in my application. My app will run on the primary screen and I want to send the navigation and selection key events to the secondary screen through my controller app on the primary screen.\r\n\r\nNotes: \r\nThese two displays are external displays and have their own screen id.\r\n\r\n[Scenario][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mr26m.png","title":"How to control secondary screen with my app on primary screen in Android?","body":"<p>I am developing an application to control the secondary display using the buttons in my application. My app will run on the primary screen and I want to send the navigation and selection key events to the secondary screen through my controller app on the primary screen.</p>\n<p>Notes:\nThese two displays are external displays and have their own screen id.</p>\n<p><a href=\"https://i.stack.imgur.com/Mr26m.png\" rel=\"nofollow noreferrer\">Scenario</a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3222186,"reputation":327,"user_id":2719361,"accept_rate":78,"display_name":"limido"},"score":0,"creation_date":1597231094,"post_id":63374754,"comment_id":112063892,"body_markdown":"Probably it&#39;s not the reason but your `@SQLDELETE`  on User is `UserID=?`, while on Notes is `NotesID = ?` (whitespace difference)","body":"Probably it&#39;s not the reason but your <code>@SQLDELETE</code>  on User is <code>UserID=?</code>, while on Notes is <code>NotesID = ?</code> (whitespace difference)"},{"owner":{"account_id":19280238,"reputation":1,"user_id":14092385,"display_name":"Shubham"},"score":0,"creation_date":1597685762,"post_id":63374754,"comment_id":112208747,"body_markdown":"@limido I have tried removing the space. But it&#39;s still not working","body":"@limido I have tried removing the space. But it&#39;s still not working"}],"answers":[{"tags":[],"owner":{"account_id":18271816,"reputation":537,"user_id":13302453,"display_name":"Harisudha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663763461,"creation_date":1597231976,"answer_id":63375626,"question_id":63374754,"body_markdown":"Try with `@NamedQuery` instead of `@SQLDelete`\r\nor\r\ntry with\r\n `repo.deleteInBatch(list)`","title":"DeleteById Not working in Spring boot JPA Repository","body":"<p>Try with <code>@NamedQuery</code> instead of <code>@SQLDelete</code>\nor\ntry with\n<code>repo.deleteInBatch(list)</code></p>\n"}],"owner":{"account_id":19280238,"reputation":1,"user_id":14092385,"display_name":"Shubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663763461,"creation_date":1597228615,"question_id":63374754,"body_markdown":"I have two entities- **User** and **Notes**. One User can have multiple Notes. I am trying to implement a soft delete for both the tables. For the User table, it is working fine but for Notes table, calling deleteById is not changing the value of the deleted column to true. I tried returning findById(notesId) and it&#39;s returning right row but delete is not working.\r\n\r\n\r\n```\r\npackage com.we.springmvcboot.Model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\n\r\nimport antlr.collections.List;\r\n\r\n@Entity\r\n@Table(name=&quot;User&quot;)\r\n@SQLDelete(sql = &quot;Update User set deleted = &#39;true&#39; where UserID=?&quot;)\r\n@Where(clause = &quot;deleted = &#39;false&#39;&quot;)//FALSE\r\npublic class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long UserID;\r\n\t\r\n\t@Column(name=&quot;emailid&quot;)\r\n\tprivate String emailID;\r\n\r\n\t@Column(name=&quot;deleted&quot;)\r\n\tprivate String deleted=&quot;false&quot;;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;user&quot;, fetch = FetchType.EAGER,cascade=CascadeType.ALL, orphanRemoval=true)\r\n\tprivate Set&lt;Notes&gt; usernotes;\r\n\t\r\n\tpublic User() {}\r\n\r\n\tpublic User(String emailID) {\r\n\t\tsuper();\r\n\t\tthis.emailID = emailID;\r\n\t}\r\n\r\n\tpublic String getDeleted() {\r\n\t\treturn deleted;\r\n\t}\r\n\r\n\tpublic void setDeleted(String deleted) {\r\n\t\tthis.deleted = deleted;\r\n\t}\r\n\r\n\tpublic long getUserID() {\r\n\t\treturn UserID;\r\n\t}\r\n\r\n\tpublic void setUserID(long userID) {\r\n\t\tUserID = userID;\r\n\t}\r\n\r\n\tpublic String getemailID() {\r\n\t\treturn emailID;\r\n\t}\r\n\r\n\tpublic void setemailID(String emailID) {\r\n\t\tthis.emailID = emailID;\r\n\t}\r\n\r\n\r\n\tpublic Set&lt;Notes&gt; getUsernotes() {\r\n\t\treturn usernotes;\r\n\t}\r\n\r\n\tpublic void setUsernotes(Set&lt;Notes&gt; usernotes) {\r\n\t\tthis.usernotes = usernotes;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npackage com.we.springmvcboot.Model;\r\n\t\r\n\r\nimport java.sql.Date;\r\nimport java.util.ArrayList;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.GenerationType;\r\n\timport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\t\r\n\t@Entity\r\n\t@Table(name=&quot;Notes&quot;)\r\n\t@SQLDelete(sql = &quot;Update Notes set deleted = &#39;true&#39; where NotesID = ?&quot;)\r\n\t@Where(clause = &quot;deleted = &#39;false&#39;&quot;)\r\n\tpublic class Notes {\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate long NotesID;\r\n\t\t\r\n\t\t@Column(name=&quot;title&quot;)\r\n\t\tprivate String title;\r\n\t\t\r\n\t\t@Column(name=&quot;message&quot;)\r\n\t\tprivate String message;\r\n\t\t\r\n\t\t@Column(name=&quot;date&quot;)\r\n\t\tprivate String date;\r\n\t\t\r\n\t\t@Column(name=&quot;deleted&quot;)\r\n\t\tprivate String deleted=&quot;false&quot;;\r\n\r\n\t\t@Column(name=&quot;label&quot;)\r\n\t\tprivate int label=1;\r\n\r\n\r\n\t\t@ManyToOne()\r\n\t    @JoinColumn(name = &quot;UserID&quot;, nullable = false)\r\n\r\n\r\n\t\tprivate User user;\r\n\r\n\t\t\r\n\t\tpublic Notes() {}\r\n\t\t\r\n\r\n\r\n\t\tpublic Notes(String title, String message, String date, User user, int label) {\r\n\t\t\tsuper();\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.message = message;\r\n\t\t\tthis.date = date;\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.label=label;\r\n\t\t}\r\n\r\n\r\n\t\tpublic Notes(long notesID, String title, String message, String date, int label) {\r\n\t\t\tsuper();\r\n\t\t\tNotesID = notesID;\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.message = message;\r\n\t\t\tthis.date = date;\r\n\t\t\tthis.label=label;\r\n\t\t}\r\n\r\n\r\n\t\tpublic String getDeleted() {\r\n\t\t\treturn deleted;\r\n\t\t}\r\n\r\n\t\tpublic void setDeleted(String deleted) {\r\n\t\t\tthis.deleted = deleted;\r\n\t\t}\r\n\r\n\t\tpublic int getLabel() {\r\n\t\t\treturn label;\r\n\t\t}\r\n\r\n\t\tpublic void setLabel(int label) {\r\n\t\t\tthis.label = label;\r\n\t\t}\r\n\r\n\t\tpublic long getNotesID() {\r\n\t\t\treturn NotesID;\r\n\t\t}\r\n\r\n\r\n\t\tpublic void setNotesID(long notesID) {\r\n\t\t\tNotesID = notesID;\r\n\t\t}\r\n\r\n\r\n\t\tpublic String getTitle() {\r\n\t\t\treturn title;\r\n\t\t}\r\n\r\n\r\n\t\tpublic void setTitle(String title) {\r\n\t\t\tthis.title = title;\r\n\t\t}\r\n\r\n\r\n\t\tpublic String getMessage() {\r\n\t\t\treturn message;\r\n\t\t}\r\n\r\n\r\n\t\tpublic void setMessage(String message) {\r\n\t\t\tthis.message = message;\r\n\t\t}\r\n\r\n\r\n\t\tpublic String getDate() {\r\n\t\t\treturn date;\r\n\t\t}\r\n\r\n\r\n\t\tpublic void setDate(String date) {\r\n\t\t\tthis.date = date;\r\n\t\t}\r\n\r\n\r\n\r\n\t\tpublic void setUser(User user) {\r\n\t\t\tthis.user = user;\r\n\t\t}\r\n\r\n\t\t\t\r\n\t}\r\n```\r\n```\r\npackage com.we.springmvcboot.Service;\r\n\r\nimport com.we.springmvcboot.Model.*;\r\nimport com.we.springmvcboot.exception.*;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\nimport com.we.springmvcboot.Repository.NotesRepository;\r\nimport com.we.springmvcboot.Repository.UserRepository;\r\n\r\n@Service\r\npublic class TodoService {\r\n\r\n    @Autowired\r\n    UserRepository userrepo;\r\n\r\n    @Autowired\r\n    NotesRepository notesrepo;\r\n\r\n\r\n  \r\n    public Object deleteNote(Map&lt;String, Object&gt; input) throws InvalidInputException, NoteNotFoundException {\r\n        long userID;\r\n        try {\r\n            userID = ((Number) input.get(&quot;userID&quot;)).longValue();\r\n        } catch (Exception e) {\r\n            throw new InvalidInputException(&quot;Missing UserID&quot;);\r\n        }\r\n\r\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        long notesID = ((Number) input.get(&quot;notesID&quot;)).longValue();\r\n\r\n        System.out.println(notesID);\r\n\r\n        if (!notesrepo.findById(notesID).isPresent())\r\n            throw new NoteNotFoundException(&quot;Invalid Notes ID&quot;);\r\n        \r\n       **notesrepo.deleteById(notesID);**\r\n\r\n\r\n        map.put(&quot;status&quot;, 200);\r\n        map.put(&quot;message&quot;, &quot;Request Successful&quot;);\r\n        map.put(&quot;data&quot;, null);\r\n        return map;\r\n    }\r\n\r\n\r\n    public Object deleteUser(Map&lt;String, Object&gt; input) throws NoteNotFoundException {\r\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        long userID;\r\n        userID = ((Number) input.get(&quot;userID&quot;)).longValue();\r\n        if (!userrepo.findById(userID).isPresent())\r\n            throw new NoteNotFoundException(&quot;Invalid User ID&quot;);\r\n        userrepo.deleteById(userID);\r\n        map.put(&quot;status&quot;, 200);\r\n        map.put(&quot;message&quot;, &quot;Request Successful&quot;);\r\n        map.put(&quot;data&quot;, null);\r\n        return map;\r\n    }\r\n}\r\n```","title":"DeleteById Not working in Spring boot JPA Repository","body":"<p>I have two entities- <strong>User</strong> and <strong>Notes</strong>. One User can have multiple Notes. I am trying to implement a soft delete for both the tables. For the User table, it is working fine but for Notes table, calling deleteById is not changing the value of the deleted column to true. I tried returning findById(notesId) and it's returning right row but delete is not working.</p>\n<pre><code>package com.we.springmvcboot.Model;\n\nimport java.util.ArrayList;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\n\nimport antlr.collections.List;\n\n@Entity\n@Table(name=&quot;User&quot;)\n@SQLDelete(sql = &quot;Update User set deleted = 'true' where UserID=?&quot;)\n@Where(clause = &quot;deleted = 'false'&quot;)//FALSE\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long UserID;\n    \n    @Column(name=&quot;emailid&quot;)\n    private String emailID;\n\n    @Column(name=&quot;deleted&quot;)\n    private String deleted=&quot;false&quot;;\n    \n    @OneToMany(mappedBy=&quot;user&quot;, fetch = FetchType.EAGER,cascade=CascadeType.ALL, orphanRemoval=true)\n    private Set&lt;Notes&gt; usernotes;\n    \n    public User() {}\n\n    public User(String emailID) {\n        super();\n        this.emailID = emailID;\n    }\n\n    public String getDeleted() {\n        return deleted;\n    }\n\n    public void setDeleted(String deleted) {\n        this.deleted = deleted;\n    }\n\n    public long getUserID() {\n        return UserID;\n    }\n\n    public void setUserID(long userID) {\n        UserID = userID;\n    }\n\n    public String getemailID() {\n        return emailID;\n    }\n\n    public void setemailID(String emailID) {\n        this.emailID = emailID;\n    }\n\n\n    public Set&lt;Notes&gt; getUsernotes() {\n        return usernotes;\n    }\n\n    public void setUsernotes(Set&lt;Notes&gt; usernotes) {\n        this.usernotes = usernotes;\n    }\n\n}\n</code></pre>\n<pre><code>package com.we.springmvcboot.Model;\n    \n\nimport java.sql.Date;\nimport java.util.ArrayList;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n    \n    @Entity\n    @Table(name=&quot;Notes&quot;)\n    @SQLDelete(sql = &quot;Update Notes set deleted = 'true' where NotesID = ?&quot;)\n    @Where(clause = &quot;deleted = 'false'&quot;)\n    public class Notes {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private long NotesID;\n        \n        @Column(name=&quot;title&quot;)\n        private String title;\n        \n        @Column(name=&quot;message&quot;)\n        private String message;\n        \n        @Column(name=&quot;date&quot;)\n        private String date;\n        \n        @Column(name=&quot;deleted&quot;)\n        private String deleted=&quot;false&quot;;\n\n        @Column(name=&quot;label&quot;)\n        private int label=1;\n\n\n        @ManyToOne()\n        @JoinColumn(name = &quot;UserID&quot;, nullable = false)\n\n\n        private User user;\n\n        \n        public Notes() {}\n        \n\n\n        public Notes(String title, String message, String date, User user, int label) {\n            super();\n            this.title = title;\n            this.message = message;\n            this.date = date;\n            this.user = user;\n            this.label=label;\n        }\n\n\n        public Notes(long notesID, String title, String message, String date, int label) {\n            super();\n            NotesID = notesID;\n            this.title = title;\n            this.message = message;\n            this.date = date;\n            this.label=label;\n        }\n\n\n        public String getDeleted() {\n            return deleted;\n        }\n\n        public void setDeleted(String deleted) {\n            this.deleted = deleted;\n        }\n\n        public int getLabel() {\n            return label;\n        }\n\n        public void setLabel(int label) {\n            this.label = label;\n        }\n\n        public long getNotesID() {\n            return NotesID;\n        }\n\n\n        public void setNotesID(long notesID) {\n            NotesID = notesID;\n        }\n\n\n        public String getTitle() {\n            return title;\n        }\n\n\n        public void setTitle(String title) {\n            this.title = title;\n        }\n\n\n        public String getMessage() {\n            return message;\n        }\n\n\n        public void setMessage(String message) {\n            this.message = message;\n        }\n\n\n        public String getDate() {\n            return date;\n        }\n\n\n        public void setDate(String date) {\n            this.date = date;\n        }\n\n\n\n        public void setUser(User user) {\n            this.user = user;\n        }\n\n            \n    }\n</code></pre>\n<pre><code>package com.we.springmvcboot.Service;\n\nimport com.we.springmvcboot.Model.*;\nimport com.we.springmvcboot.exception.*;\n\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.RequestBody;\n\nimport com.we.springmvcboot.Repository.NotesRepository;\nimport com.we.springmvcboot.Repository.UserRepository;\n\n@Service\npublic class TodoService {\n\n    @Autowired\n    UserRepository userrepo;\n\n    @Autowired\n    NotesRepository notesrepo;\n\n\n  \n    public Object deleteNote(Map&lt;String, Object&gt; input) throws InvalidInputException, NoteNotFoundException {\n        long userID;\n        try {\n            userID = ((Number) input.get(&quot;userID&quot;)).longValue();\n        } catch (Exception e) {\n            throw new InvalidInputException(&quot;Missing UserID&quot;);\n        }\n\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        long notesID = ((Number) input.get(&quot;notesID&quot;)).longValue();\n\n        System.out.println(notesID);\n\n        if (!notesrepo.findById(notesID).isPresent())\n            throw new NoteNotFoundException(&quot;Invalid Notes ID&quot;);\n        \n       **notesrepo.deleteById(notesID);**\n\n\n        map.put(&quot;status&quot;, 200);\n        map.put(&quot;message&quot;, &quot;Request Successful&quot;);\n        map.put(&quot;data&quot;, null);\n        return map;\n    }\n\n\n    public Object deleteUser(Map&lt;String, Object&gt; input) throws NoteNotFoundException {\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        long userID;\n        userID = ((Number) input.get(&quot;userID&quot;)).longValue();\n        if (!userrepo.findById(userID).isPresent())\n            throw new NoteNotFoundException(&quot;Invalid User ID&quot;);\n        userrepo.deleteById(userID);\n        map.put(&quot;status&quot;, 200);\n        map.put(&quot;message&quot;, &quot;Request Successful&quot;);\n        map.put(&quot;data&quot;, null);\n        return map;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","webview","javafx","oauth-2.0"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1398965598,"post_id":23409138,"comment_id":35876779,"body_markdown":"See related [Setting a cookie using JavaFX&#39;s WebEngine/WebView](http://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview).  It&#39;s not exactly the same as your question, but perhaps it gives you a directional approach from which you can derive an answer.","body":"See related <a href=\"http://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\">Setting a cookie using JavaFX&#39;s WebEngine/WebView</a>.  It&#39;s not exactly the same as your question, but perhaps it gives you a directional approach from which you can derive an answer."},{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":1,"creation_date":1399143186,"post_id":23409138,"comment_id":35942702,"body_markdown":"Thanks. After reading the question, I still cannot find a way to clear off all the cookie.","body":"Thanks. After reading the question, I still cannot find a way to clear off all the cookie."},{"owner":{"account_id":3101890,"reputation":10709,"user_id":2855515,"accept_rate":100,"display_name":"brian"},"score":0,"creation_date":1399149477,"post_id":23409138,"comment_id":35944644,"body_markdown":"It uses an in memory cache.  You clear it by closing the Application.  Maybe instead of a dialog, spawn a new app that you can close.","body":"It uses an in memory cache.  You clear it by closing the Application.  Maybe instead of a dialog, spawn a new app that you can close."}],"answers":[{"tags":[],"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1399290074,"creation_date":1399288010,"answer_id":23470976,"question_id":23409138,"body_markdown":"Session cookies for JavaFX WebView are stored in `java.net.CookieHandler`.\r\n\r\nTo manage cookies on your own create new instance of `java.net.CookieManager`:\r\n\r\n    java.net.CookieManager manager = new java.net.CookieManager();\r\n\r\nThen set it as default:\r\n\r\n    java.net.CookieHandler.setDefault(manager);\r\n\r\nTo clear cookies just call removeAll method:\r\n\r\n    manager.getCookieStore().removeAll();\r\n\r\nor just create new instance of cookie manager and set it as default:\r\n\r\n    java.net.CookieHandler.setDefault(new java.net.CookieManager());","title":"Clear the session/cache/cookie in the JavaFX WebView","body":"<p>Session cookies for JavaFX WebView are stored in <code>java.net.CookieHandler</code>.</p>\n\n<p>To manage cookies on your own create new instance of <code>java.net.CookieManager</code>:</p>\n\n<pre><code>java.net.CookieManager manager = new java.net.CookieManager();\n</code></pre>\n\n<p>Then set it as default:</p>\n\n<pre><code>java.net.CookieHandler.setDefault(manager);\n</code></pre>\n\n<p>To clear cookies just call removeAll method:</p>\n\n<pre><code>manager.getCookieStore().removeAll();\n</code></pre>\n\n<p>or just create new instance of cookie manager and set it as default:</p>\n\n<pre><code>java.net.CookieHandler.setDefault(new java.net.CookieManager());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1907889,"reputation":2151,"user_id":1722383,"display_name":"gfkri"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1424857987,"creation_date":1406557982,"answer_id":24997602,"question_id":23409138,"body_markdown":"I used JavaFX 8 WebView to display OAuth 2.0 from Google as well as from Dropbox. Turned out setting a new instance of `java.net.CookieManager()` as default worked with Google (and of course removed the session cookies), but I wasn&#39;t able to sign in with my Dropbox account anymore. The &quot;Sing in&quot; button just did not work. \r\n\r\nI debugged and found out that per default an instance of `com.sun.webkit.network.CookieManager` is used. So, I used\r\n\r\n    java.net.CookieHandler.setDefault(new com.sun.webkit.network.CookieManager());\r\n\r\nwhich solved my problem. Due to its javadoc it&#39;s RFC 6265-compliant, which is the current definition of HTTP Cookies and Set-Cookie header fields.\r\n\r\nYou need to use the JDK (not just the JRE) as your project&#39;s system library due to some access restrictions in the JRE.\r\n   \r\n\r\n\r\n\r\n    \r\n\r\n","title":"Clear the session/cache/cookie in the JavaFX WebView","body":"<p>I used JavaFX 8 WebView to display OAuth 2.0 from Google as well as from Dropbox. Turned out setting a new instance of <code>java.net.CookieManager()</code> as default worked with Google (and of course removed the session cookies), but I wasn't able to sign in with my Dropbox account anymore. The \"Sing in\" button just did not work. </p>\n\n<p>I debugged and found out that per default an instance of <code>com.sun.webkit.network.CookieManager</code> is used. So, I used</p>\n\n<pre><code>java.net.CookieHandler.setDefault(new com.sun.webkit.network.CookieManager());\n</code></pre>\n\n<p>which solved my problem. Due to its javadoc it's RFC 6265-compliant, which is the current definition of HTTP Cookies and Set-Cookie header fields.</p>\n\n<p>You need to use the JDK (not just the JRE) as your project's system library due to some access restrictions in the JRE.</p>\n"},{"tags":[],"owner":{"account_id":1760287,"reputation":491,"user_id":1607599,"accept_rate":90,"display_name":"DokutoMekki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663762833,"creation_date":1663762833,"answer_id":73800649,"question_id":23409138,"body_markdown":"I just wanted to post an update regarding the current state of the `WebView` of JavaFX 18, because we went with the suggested solution (setting the cookie manager before calling the web view) but still had issues.\r\n\r\nThe reason for this is the way the `HTTP2Loader` class, that is used to make request in the `WebEngine`, works:\r\n\r\n    // Use singleton instance of HttpClient to get the maximum benefits\r\n    @SuppressWarnings(&quot;removal&quot;)\r\n    private final static HttpClient HTTP_CLIENT =\r\n        AccessController.doPrivileged((PrivilegedAction&lt;HttpClient&gt;) () -&gt; HttpClient.newBuilder()\r\n                .version(Version.HTTP_2)  // this is the default\r\n                .followRedirects(Redirect.NEVER) // WebCore handles redirection\r\n                .connectTimeout(Duration.ofSeconds(30)) // FIXME: Add a property to control the timeout\r\n                .cookieHandler(CookieHandler.getDefault())\r\n                .build());\r\n\r\nBecause the `HTTP_CLIENT` field is `static` and used to execute the request, only the first time a `HTTP2Loader` instance is created, will the current default `CookieHandler` be referenced. So if you just set a new `CookieHandler` every time before you load a page via the `WebView`, then this will only work once. After that the `HTTP_CLIENT` singleton will always use the `CookieHandler` that is referenced when it was created.\r\n\r\nIMHO this is a design issue in the `HTTP2Loader` class. Instead of having a `static` field, the field should be none static. The `HTTP2Loader` class is effectively an immutable one time use instance anyway, so there is no need to make use of a singleton to execute a request.\r\n\r\nI have no idea why they went with that solution, really. Even the javadoc does not make much sense, because what are the &quot;benefits&quot;?\r\n\r\nSo there are two solutions now:\r\n\r\n 1. Access the current cookie handler an put an empty map for the URI that you will be accessing. E.g. `CookieHandler.getDefault().put(someUri, Collections.emptyMap())` Though this will be a problem if you access a side and a lot of redirects happen in the process, in which case there is no way to know about which URIs cookies to empty.\r\n 2. Create a new CookieHandler before the first time a page in any WebView is loaded and keep track of it. Then before you load a WebView again, clear the CookieStore of the handler that you kept track of.\r\n\r\nNow that being said, the afore mentioned methods will fail if another piece of code that you do not have control over does the following:\r\n\r\n - Noted the current default `CookieHandler`\r\n - Set a new default `CookieHandler`\r\n - Created a `WebView` and loaded page for the first time\r\n - Set the old `CookieHandler` as the default again\r\n\r\nIn that case you will never be able to gain access to the `CookieHandler` again that is from there on out being used in the `WebView`.\r\n\r\n\r\n\r\n","title":"Clear the session/cache/cookie in the JavaFX WebView","body":"<p>I just wanted to post an update regarding the current state of the <code>WebView</code> of JavaFX 18, because we went with the suggested solution (setting the cookie manager before calling the web view) but still had issues.</p>\n<p>The reason for this is the way the <code>HTTP2Loader</code> class, that is used to make request in the <code>WebEngine</code>, works:</p>\n<pre><code>// Use singleton instance of HttpClient to get the maximum benefits\n@SuppressWarnings(&quot;removal&quot;)\nprivate final static HttpClient HTTP_CLIENT =\n    AccessController.doPrivileged((PrivilegedAction&lt;HttpClient&gt;) () -&gt; HttpClient.newBuilder()\n            .version(Version.HTTP_2)  // this is the default\n            .followRedirects(Redirect.NEVER) // WebCore handles redirection\n            .connectTimeout(Duration.ofSeconds(30)) // FIXME: Add a property to control the timeout\n            .cookieHandler(CookieHandler.getDefault())\n            .build());\n</code></pre>\n<p>Because the <code>HTTP_CLIENT</code> field is <code>static</code> and used to execute the request, only the first time a <code>HTTP2Loader</code> instance is created, will the current default <code>CookieHandler</code> be referenced. So if you just set a new <code>CookieHandler</code> every time before you load a page via the <code>WebView</code>, then this will only work once. After that the <code>HTTP_CLIENT</code> singleton will always use the <code>CookieHandler</code> that is referenced when it was created.</p>\n<p>IMHO this is a design issue in the <code>HTTP2Loader</code> class. Instead of having a <code>static</code> field, the field should be none static. The <code>HTTP2Loader</code> class is effectively an immutable one time use instance anyway, so there is no need to make use of a singleton to execute a request.</p>\n<p>I have no idea why they went with that solution, really. Even the javadoc does not make much sense, because what are the &quot;benefits&quot;?</p>\n<p>So there are two solutions now:</p>\n<ol>\n<li>Access the current cookie handler an put an empty map for the URI that you will be accessing. E.g. <code>CookieHandler.getDefault().put(someUri, Collections.emptyMap())</code> Though this will be a problem if you access a side and a lot of redirects happen in the process, in which case there is no way to know about which URIs cookies to empty.</li>\n<li>Create a new CookieHandler before the first time a page in any WebView is loaded and keep track of it. Then before you load a WebView again, clear the CookieStore of the handler that you kept track of.</li>\n</ol>\n<p>Now that being said, the afore mentioned methods will fail if another piece of code that you do not have control over does the following:</p>\n<ul>\n<li>Noted the current default <code>CookieHandler</code></li>\n<li>Set a new default <code>CookieHandler</code></li>\n<li>Created a <code>WebView</code> and loaded page for the first time</li>\n<li>Set the old <code>CookieHandler</code> as the default again</li>\n</ul>\n<p>In that case you will never be able to gain access to the <code>CookieHandler</code> again that is from there on out being used in the <code>WebView</code>.</p>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14111,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":23470976,"answer_count":3,"score":10,"last_activity_date":1663762833,"creation_date":1398952514,"question_id":23409138,"body_markdown":"I had a Swing dialog, which uses JavaFX `WebView` to display oAuth 2.0 URL from Google server.\r\n\r\n    public class SimpleSwingBrowser extends JDialog {\r\n     \r\n        private final JFXPanel jfxPanel = new JFXPanel();\r\n        private WebEngine engine;\r\n     \r\n        private final JPanel panel = new JPanel(new BorderLayout());\r\n     \r\n        public SimpleSwingBrowser() {\r\n            super(MainFrame.getInstance(), JDialog.ModalityType.APPLICATION_MODAL);\r\n            initComponents();\r\n        }\r\n    \r\n        \r\n        private void initComponents() {\r\n            createScene();\r\n      \r\n            panel.add(jfxPanel, BorderLayout.CENTER);\r\n            \r\n            getContentPane().add(panel);\r\n            \r\n            java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();\r\n            setBounds((screenSize.width-460)/2, (screenSize.height-680)/2, 460, 680);\r\n        }\r\n        \r\n        private void createScene() {\r\n     \r\n            Platform.runLater(new Runnable() {\r\n                @Override \r\n                public void run() {\r\n     \r\n                    final WebView view = new WebView();\r\n                    engine = view.getEngine();\r\n     \r\n                    engine.titleProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n                        @Override\r\n                        public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, final String newValue) {\r\n                            SwingUtilities.invokeLater(new Runnable() {\r\n                                @Override \r\n                                public void run() {\r\n                                    SimpleSwingBrowser.this.setTitle(newValue);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n     \r\n                    engine.getLoadWorker()\r\n                            .exceptionProperty()\r\n                            .addListener(new ChangeListener&lt;Throwable&gt;() {\r\n     \r\n                                public void changed(ObservableValue&lt;? extends Throwable&gt; o, Throwable old, final Throwable value) {\r\n                                    if (engine.getLoadWorker().getState() == FAILED) {\r\n                                        SwingUtilities.invokeLater(new Runnable() {\r\n                                            @Override public void run() {\r\n                                                JOptionPane.showMessageDialog(\r\n                                                        panel,\r\n                                                        (value != null) ?\r\n                                                        engine.getLocation() + &quot;\\n&quot; + value.getMessage() :\r\n                                                        engine.getLocation() + &quot;\\nUnexpected error.&quot;,\r\n                                                        &quot;Loading error...&quot;,\r\n                                                        JOptionPane.ERROR_MESSAGE);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                }\r\n                            });\r\n                    \r\n                    // http://stackoverflow.com/questions/11206942/how-to-hide-scrollbars-in-the-javafx-webview\r\n                    // hide webview scrollbars whenever they appear.\r\n                    view.getChildrenUnmodifiable().addListener(new ListChangeListener&lt;Node&gt;() {\r\n                        @Override \r\n                        public void onChanged(Change&lt;? extends Node&gt; change) {\r\n                            Set&lt;Node&gt; deadSeaScrolls = view.lookupAll(&quot;.scroll-bar&quot;);\r\n                            for (Node scroll : deadSeaScrolls) {\r\n                                scroll.setVisible(false);\r\n                            }\r\n                        }\r\n                    });\r\n                    \r\n                    jfxPanel.setScene(new Scene(view));\r\n                }\r\n            });\r\n        }\r\n     \r\n        public void loadURL(final String url) {\r\n            Platform.runLater(new Runnable() {\r\n                @Override \r\n                public void run() {\r\n                    String tmp = toURL(url);\r\n                    \r\n                    if (tmp == null) {\r\n                        tmp = toURL(&quot;http://&quot; + url);\r\n                    }\r\n     \r\n                    engine.load(tmp);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private static String toURL(String str) {\r\n            try {\r\n                return new URL(str).toExternalForm();\r\n            } catch (MalformedURLException exception) {\r\n                    return null;\r\n            }\r\n        }\r\n    }\r\n\r\nEverytime, I will get the following URL from Google. I will use the `SimpleSwingBrowser` to load the following URL.\r\n\r\nhttps://accounts.google.com/o/oauth2/auth?client_id=xxx&amp;redirect_uri=http://localhost:55780/Callback&amp;response_type=code&amp;scope=email%20https://www.googleapis.com/auth/drive.appdata%20profile\r\n\r\nDuring the **first time**, the following UI will be shown.\r\n\r\nScreen One\r\n----------\r\n![enter image description here][1]\r\n\r\nScreen Two\r\n----------\r\n![enter image description here][2]\r\n\r\n\r\nAfter I \r\n\r\n \r\n 1. Perform success login at Screen One.\r\n 2. Presented with Screen Two.\r\n 3. Click on Accept.\r\n 2. Close the web browser dialog.\r\n 2. Again, generate the exact same URL as first time.\r\n 3. Create a completely new instance of `SimpleSwingBrowser`, to load URL generated at step \r\n\r\nI expect Google will show me Screen One again, as this is a new browsing session. However, what I&#39;m getting for the 2nd time, is Screen Two.\r\n\r\nIt seems that, there are some stored session/cache/cookie in the `WebView`, even though it is a completely new instance.\r\n\r\nI expect I will get myself back to Screen One, so that I can support multiple user accounts.\r\n\r\nHow can I clear the session/cache/cookie in the `WebView`?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9rLXD.png\r\n  [2]: http://i.stack.imgur.com/jej8M.png","title":"Clear the session/cache/cookie in the JavaFX WebView","body":"<p>I had a Swing dialog, which uses JavaFX <code>WebView</code> to display oAuth 2.0 URL from Google server.</p>\n\n<pre><code>public class SimpleSwingBrowser extends JDialog {\n\n    private final JFXPanel jfxPanel = new JFXPanel();\n    private WebEngine engine;\n\n    private final JPanel panel = new JPanel(new BorderLayout());\n\n    public SimpleSwingBrowser() {\n        super(MainFrame.getInstance(), JDialog.ModalityType.APPLICATION_MODAL);\n        initComponents();\n    }\n\n\n    private void initComponents() {\n        createScene();\n\n        panel.add(jfxPanel, BorderLayout.CENTER);\n\n        getContentPane().add(panel);\n\n        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();\n        setBounds((screenSize.width-460)/2, (screenSize.height-680)/2, 460, 680);\n    }\n\n    private void createScene() {\n\n        Platform.runLater(new Runnable() {\n            @Override \n            public void run() {\n\n                final WebView view = new WebView();\n                engine = view.getEngine();\n\n                engine.titleProperty().addListener(new ChangeListener&lt;String&gt;() {\n                    @Override\n                    public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, final String newValue) {\n                        SwingUtilities.invokeLater(new Runnable() {\n                            @Override \n                            public void run() {\n                                SimpleSwingBrowser.this.setTitle(newValue);\n                            }\n                        });\n                    }\n                });\n\n                engine.getLoadWorker()\n                        .exceptionProperty()\n                        .addListener(new ChangeListener&lt;Throwable&gt;() {\n\n                            public void changed(ObservableValue&lt;? extends Throwable&gt; o, Throwable old, final Throwable value) {\n                                if (engine.getLoadWorker().getState() == FAILED) {\n                                    SwingUtilities.invokeLater(new Runnable() {\n                                        @Override public void run() {\n                                            JOptionPane.showMessageDialog(\n                                                    panel,\n                                                    (value != null) ?\n                                                    engine.getLocation() + \"\\n\" + value.getMessage() :\n                                                    engine.getLocation() + \"\\nUnexpected error.\",\n                                                    \"Loading error...\",\n                                                    JOptionPane.ERROR_MESSAGE);\n                                        }\n                                    });\n                                }\n                            }\n                        });\n\n                // http://stackoverflow.com/questions/11206942/how-to-hide-scrollbars-in-the-javafx-webview\n                // hide webview scrollbars whenever they appear.\n                view.getChildrenUnmodifiable().addListener(new ListChangeListener&lt;Node&gt;() {\n                    @Override \n                    public void onChanged(Change&lt;? extends Node&gt; change) {\n                        Set&lt;Node&gt; deadSeaScrolls = view.lookupAll(\".scroll-bar\");\n                        for (Node scroll : deadSeaScrolls) {\n                            scroll.setVisible(false);\n                        }\n                    }\n                });\n\n                jfxPanel.setScene(new Scene(view));\n            }\n        });\n    }\n\n    public void loadURL(final String url) {\n        Platform.runLater(new Runnable() {\n            @Override \n            public void run() {\n                String tmp = toURL(url);\n\n                if (tmp == null) {\n                    tmp = toURL(\"http://\" + url);\n                }\n\n                engine.load(tmp);\n            }\n        });\n    }\n\n    private static String toURL(String str) {\n        try {\n            return new URL(str).toExternalForm();\n        } catch (MalformedURLException exception) {\n                return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Everytime, I will get the following URL from Google. I will use the <code>SimpleSwingBrowser</code> to load the following URL.</p>\n\n<p><a href=\"https://accounts.google.com/o/oauth2/auth?client_id=xxx&amp;redirect_uri=http://localhost:55780/Callback&amp;response_type=code&amp;scope=email%20https://www.googleapis.com/auth/drive.appdata%20profile\" rel=\"noreferrer\">https://accounts.google.com/o/oauth2/auth?client_id=xxx&amp;redirect_uri=http://localhost:55780/Callback&amp;response_type=code&amp;scope=email%20https://www.googleapis.com/auth/drive.appdata%20profile</a></p>\n\n<p>During the <strong>first time</strong>, the following UI will be shown.</p>\n\n<h2>Screen One</h2>\n\n<p><img src=\"https://i.stack.imgur.com/9rLXD.png\" alt=\"enter image description here\"></p>\n\n<h2>Screen Two</h2>\n\n<p><img src=\"https://i.stack.imgur.com/jej8M.png\" alt=\"enter image description here\"></p>\n\n<p>After I </p>\n\n<ol>\n<li>Perform success login at Screen One.</li>\n<li>Presented with Screen Two.</li>\n<li>Click on Accept.</li>\n<li>Close the web browser dialog.</li>\n<li>Again, generate the exact same URL as first time.</li>\n<li>Create a completely new instance of <code>SimpleSwingBrowser</code>, to load URL generated at step </li>\n</ol>\n\n<p>I expect Google will show me Screen One again, as this is a new browsing session. However, what I'm getting for the 2nd time, is Screen Two.</p>\n\n<p>It seems that, there are some stored session/cache/cookie in the <code>WebView</code>, even though it is a completely new instance.</p>\n\n<p>I expect I will get myself back to Screen One, so that I can support multiple user accounts.</p>\n\n<p>How can I clear the session/cache/cookie in the <code>WebView</code>?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663757403,"post_id":73799459,"comment_id":130313089,"body_markdown":"Requirement isn&#39;t spring managed (regardless of the annotation) so this won&#39;t work.Also why on earth is your entity extending a repository for Spring Data JPA... Your whole setup is just wrong.","body":"Requirement isn&#39;t spring managed (regardless of the annotation) so this won&#39;t work.Also why on earth is your entity extending a repository for Spring Data JPA... Your whole setup is just wrong."},{"owner":{"account_id":26400932,"reputation":1,"user_id":20051407,"display_name":"EricM7"},"score":0,"creation_date":1663757890,"post_id":73799459,"comment_id":130313248,"body_markdown":"Thks for the answer. How I can modify it to have a correct setup for jparepository with strategy pattern?","body":"Thks for the answer. How I can modify it to have a correct setup for jparepository with strategy pattern?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663757990,"post_id":73799459,"comment_id":130313282,"body_markdown":"Your current code is a mess and I have no idea what you are trying to achieve. Also `RequirementRepository strategy = requirementStrategy.findStrategy(Requirement.FunctionalRequirement);\n` will always fail as the field is only available **after** construction not while constructing the class. So it will always be `null` anyway.","body":"Your current code is a mess and I have no idea what you are trying to achieve. Also <code>RequirementRepository strategy = requirementStrategy.findStrategy(Requirement.FunctionalRequi&zwnj;&#8203;rement); </code> will always fail as the field is only available <b>after</b> construction not while constructing the class. So it will always be <code>null</code> anyway."},{"owner":{"account_id":26400932,"reputation":1,"user_id":20051407,"display_name":"EricM7"},"score":0,"creation_date":1663758105,"post_id":73799459,"comment_id":130313323,"body_markdown":"How I can fix it?","body":"How I can fix it?"},{"owner":{"account_id":26400932,"reputation":1,"user_id":20051407,"display_name":"EricM7"},"score":0,"creation_date":1663761764,"post_id":73799459,"comment_id":130314577,"body_markdown":"I&#39;ll explain what I would like to do. I was trying to implement an api rest with JPARepository that uses the strategy pattern for the Requirement class","body":"I&#39;ll explain what I would like to do. I was trying to implement an api rest with JPARepository that uses the strategy pattern for the Requirement class"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663762130,"post_id":73799459,"comment_id":130314711,"body_markdown":"I still have no clue on what you want or what you tried. You have an interface which is a `JpaRepository`, which in turn is implemented by an abstract class that is a spring component and an entity?!. You are trying to access things in your controller which aren&#39;t initialized. So I have no clue on what you tried or how the strategy pattern applied here or what you wanted to use it for because everything is quite a mess and doesn&#39;t comply with what you wanted. It looks and feels like you want to map multiple entities to a single table and that is just supported by JPA out-of-the-box...","body":"I still have no clue on what you want or what you tried. You have an interface which is a <code>JpaRepository</code>, which in turn is implemented by an abstract class that is a spring component and an entity?!. You are trying to access things in your controller which aren&#39;t initialized. So I have no clue on what you tried or how the strategy pattern applied here or what you wanted to use it for because everything is quite a mess and doesn&#39;t comply with what you wanted. It looks and feels like you want to map multiple entities to a single table and that is just supported by JPA out-of-the-box..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663763597,"post_id":73799459,"comment_id":130315283,"body_markdown":"..the &quot;primary&quot; problem could vanish, when you move `requirementStrategy.findStrategy(Requirement.FunctionalRequirement)` into a constructor (out of class body/initializer)... But then...","body":"..the &quot;primary&quot; problem could vanish, when you move <code>requirementStrategy.findStrategy(Requirement.FunctionalRequi&zwnj;&#8203;rement)</code> into a constructor (out of class body/initializer)... But then..."}],"owner":{"account_id":26400932,"reputation":1,"user_id":20051407,"display_name":"EricM7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663762808,"creation_date":1663757253,"question_id":73799459,"body_markdown":"Controller: \r\n\r\n    import java.util.List;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class FunctionalRequirementController {\r\n    \r\n    \t@Autowired\r\n    \tRequirementRepository requirementRepository;\r\n    \r\n    \t@Autowired\r\n    \tprivate RequirementStrategy requirementStrategy;\r\n    \tRequirementRepository strategy = requirementStrategy.findStrategy(Requirement.FunctionalRequirement);\r\n    \r\n    \t@GetMapping(&quot;/FunctionalRequirement&quot;)\r\n    \tpublic List&lt;Requirement&gt; getAllFunctionalRequirements() {\r\n    \t\treturn requirementRepository.findAll();\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/FunctionalRequirement/{id}&quot;)\r\n    \tpublic Requirement getRequirementById(@PathVariable(value = &quot;id&quot;) Long requirementId) {\r\n    \t\treturn requirementRepository.findById(requirementId).orElseThrow();\r\n    \t}\r\n    \r\n    }\r\n\r\nFunctionalRequirement:\r\n\r\n    import javax.persistence.*;\r\n    \r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Table(name = &quot;functionalrequirement&quot;)\r\n    @Entity\r\n    @Component\r\n    public abstract class FunctionalRequirement implements RequirementRepository {\r\n    \t@Override\r\n    \tpublic Requirement getStrategyName() {\r\n    \t\treturn Requirement.FunctionalRequirement;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;idrisorsa&quot;)\r\n    \tprivate Risorsa risorsa;\r\n    \r\n    \t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;idaction&quot;)\r\n    \tprivate Action action;\r\n    \r\n    \tpublic Risorsa getRisorsa() {\r\n    \t\treturn risorsa;\r\n    \t}\r\n    \r\n    \tpublic void setRisorsa(Risorsa risorsa) {\r\n    \t\tthis.risorsa = risorsa;\r\n    \t}\r\n    \r\n    \tpublic Action getAction() {\r\n    \t\treturn action;\r\n    \t}\r\n    \r\n    \tpublic void setAction(Action action) {\r\n    \t\tthis.action = action;\r\n    \t}\r\n    \r\n    }\r\n\r\nRequirement:\r\n\r\n\r\n    public enum Requirement {\r\n    \tFunctionalRequirement,\r\n    \tNonFunctionalRequirement\r\n    }\r\n\r\nRequirementStrategy:\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n   \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class RequirementStrategy {\r\n    \tprivate Map&lt;Requirement, RequirementRepository&gt; requirements;\r\n    \r\n    \t@Autowired\r\n    \tpublic RequirementStrategy(Set&lt;RequirementRepository&gt; strategySet) {\r\n    \t\tcreateStrategy(strategySet);\r\n    \t}\r\n    \r\n    \tpublic RequirementRepository findStrategy(Requirement strategyName) {\r\n    \t\treturn requirements.get(strategyName);\r\n    \t}\r\n    \r\n    \tprivate void createStrategy(Set&lt;RequirementRepository&gt; strategySet) {\r\n    \t\trequirements = new HashMap&lt;Requirement, RequirementRepository&gt;();\r\n    \t\tstrategySet.forEach(strategy -&gt; requirements.put(strategy.getStrategyName(), strategy));\r\n    \t}\r\n    \r\n    }\r\n\r\nRequirementRepository:\r\n\r\n   \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface RequirementRepository extends JpaRepository&lt;Requirement, Long&gt; {\r\n    \t Requirement getStrategyName();\r\n    }\r\n\r\nThe error is: \r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;functionalRequirementController&#39; defined in file [\\Controllers\\FunctionalRequirementController.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [Controllers.FunctionalRequirementController]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;Model.RequirementStrategy.findStrategy(Model.Requirement)&quot; because &quot;this.requirementStrategy&quot; is null\r\n\r\nSomeone knows how to resolve? Thanks for help\r\n\r\n","title":"Instantiation of bean failed; Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke because &quot;this.&quot; is null","body":"<p>Controller:</p>\n<pre><code>import java.util.List;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class FunctionalRequirementController {\n\n    @Autowired\n    RequirementRepository requirementRepository;\n\n    @Autowired\n    private RequirementStrategy requirementStrategy;\n    RequirementRepository strategy = requirementStrategy.findStrategy(Requirement.FunctionalRequirement);\n\n    @GetMapping(&quot;/FunctionalRequirement&quot;)\n    public List&lt;Requirement&gt; getAllFunctionalRequirements() {\n        return requirementRepository.findAll();\n    }\n\n    @GetMapping(&quot;/FunctionalRequirement/{id}&quot;)\n    public Requirement getRequirementById(@PathVariable(value = &quot;id&quot;) Long requirementId) {\n        return requirementRepository.findById(requirementId).orElseThrow();\n    }\n\n}\n</code></pre>\n<p>FunctionalRequirement:</p>\n<pre><code>import javax.persistence.*;\n\n\nimport org.springframework.stereotype.Component;\n\n@Table(name = &quot;functionalrequirement&quot;)\n@Entity\n@Component\npublic abstract class FunctionalRequirement implements RequirementRepository {\n    @Override\n    public Requirement getStrategyName() {\n        return Requirement.FunctionalRequirement;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;idrisorsa&quot;)\n    private Risorsa risorsa;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;idaction&quot;)\n    private Action action;\n\n    public Risorsa getRisorsa() {\n        return risorsa;\n    }\n\n    public void setRisorsa(Risorsa risorsa) {\n        this.risorsa = risorsa;\n    }\n\n    public Action getAction() {\n        return action;\n    }\n\n    public void setAction(Action action) {\n        this.action = action;\n    }\n\n}\n</code></pre>\n<p>Requirement:</p>\n<pre><code>public enum Requirement {\n    FunctionalRequirement,\n    NonFunctionalRequirement\n}\n</code></pre>\n<p>RequirementStrategy:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class RequirementStrategy {\n    private Map&lt;Requirement, RequirementRepository&gt; requirements;\n\n    @Autowired\n    public RequirementStrategy(Set&lt;RequirementRepository&gt; strategySet) {\n        createStrategy(strategySet);\n    }\n\n    public RequirementRepository findStrategy(Requirement strategyName) {\n        return requirements.get(strategyName);\n    }\n\n    private void createStrategy(Set&lt;RequirementRepository&gt; strategySet) {\n        requirements = new HashMap&lt;Requirement, RequirementRepository&gt;();\n        strategySet.forEach(strategy -&gt; requirements.put(strategy.getStrategyName(), strategy));\n    }\n\n}\n</code></pre>\n<p>RequirementRepository:</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface RequirementRepository extends JpaRepository&lt;Requirement, Long&gt; {\n     Requirement getStrategyName();\n}\n</code></pre>\n<p>The error is:</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'functionalRequirementController' defined in file [\\Controllers\\FunctionalRequirementController.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [Controllers.FunctionalRequirementController]: Constructor threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;Model.RequirementStrategy.findStrategy(Model.Requirement)&quot; because &quot;this.requirementStrategy&quot; is null</p>\n<p>Someone knows how to resolve? Thanks for help</p>\n"},{"tags":["java","json","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663762736,"creation_date":1663762736,"answer_id":73800621,"question_id":73800356,"body_markdown":"Forget about the format, basically; these are just two ways of representing the same data. The second version is base-64, and decodes to the bytes:\r\n\r\n    76-0E-7F-E8-87-79-95-77-4D-DD-5D-31-28-5A-B6-C5-FE-17-C8-5F-76-D1-0E-51-0B-DA-18-C3-5E-1A-7C-FD\r\n\r\nThe first version is C-literal style with octal escapes; `v` is ASCII 118, aka hex 0x76; `\\016` is escaped octal for decimal 14, aka hex 0x0E; `\\177` is escaped octal for decimal 127, aka hex 0x7F - and so on. Most languages have a base-64 encode/decode; the C-literal style with octal escape sequences is ... more niche, and you might need to write your own decoder for that. Depending on where the first string came from, it is worth noting that protobuf (at least the schema variant) also allows fixed-width unicode escapes, via `\\uNNNN` and `\\UNNNNNNNN`, IIRC. And note: the octal in .proto schemas can short-circuit: `\\12n` means the same as `\\012n` - at most 3 digits are taken, but if a non-digit character is encountered, it is still valid as a shorter form.","title":"How do I maintain the backslash when converting to json String using Json Format of Protobuf?","body":"<p>Forget about the format, basically; these are just two ways of representing the same data. The second version is base-64, and decodes to the bytes:</p>\n<pre><code>76-0E-7F-E8-87-79-95-77-4D-DD-5D-31-28-5A-B6-C5-FE-17-C8-5F-76-D1-0E-51-0B-DA-18-C3-5E-1A-7C-FD\n</code></pre>\n<p>The first version is C-literal style with octal escapes; <code>v</code> is ASCII 118, aka hex 0x76; <code>\\016</code> is escaped octal for decimal 14, aka hex 0x0E; <code>\\177</code> is escaped octal for decimal 127, aka hex 0x7F - and so on. Most languages have a base-64 encode/decode; the C-literal style with octal escape sequences is ... more niche, and you might need to write your own decoder for that. Depending on where the first string came from, it is worth noting that protobuf (at least the schema variant) also allows fixed-width unicode escapes, via <code>\\uNNNN</code> and <code>\\UNNNNNNNN</code>, IIRC. And note: the octal in .proto schemas can short-circuit: <code>\\12n</code> means the same as <code>\\012n</code> - at most 3 digits are taken, but if a non-digit character is encountered, it is still valid as a shorter form.</p>\n"}],"owner":{"account_id":6767469,"reputation":155,"user_id":5212023,"display_name":"PaperFrog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73800621,"answer_count":1,"score":1,"last_activity_date":1663762736,"creation_date":1663761640,"question_id":73800356,"body_markdown":"I have to use gRPC.\r\n\r\nI was converting the object I received into json string, and the following problem occurred\r\n\r\nexample proto\r\n\r\n    hash: &quot;v\\016\\177\\350\\207y\\225wM\\335]1(Z\\266\\305\\376\\027\\310_v\\321\\016Q\\v\\332\\030\\303^\\032|\\375&quot;\r\n\r\nbut, However, if I convert using Protobuf&#39;s util JsonFormat, I get the following results\r\n\r\n     &quot;hash&quot;: &quot;dg5/6Id5lXdN3V0xKFq2xf4XyF920Q5RC9oYw14afP0=&quot;\r\n\r\nI want to get this back to its original form, is there a way to write another library or decode it in reverse?","title":"How do I maintain the backslash when converting to json String using Json Format of Protobuf?","body":"<p>I have to use gRPC.</p>\n<p>I was converting the object I received into json string, and the following problem occurred</p>\n<p>example proto</p>\n<pre><code>hash: &quot;v\\016\\177\\350\\207y\\225wM\\335]1(Z\\266\\305\\376\\027\\310_v\\321\\016Q\\v\\332\\030\\303^\\032|\\375&quot;\n</code></pre>\n<p>but, However, if I convert using Protobuf's util JsonFormat, I get the following results</p>\n<pre><code> &quot;hash&quot;: &quot;dg5/6Id5lXdN3V0xKFq2xf4XyF920Q5RC9oYw14afP0=&quot;\n</code></pre>\n<p>I want to get this back to its original form, is there a way to write another library or decode it in reverse?</p>\n"},{"tags":["java","flutter","android-studio","devise","stack-overflow"],"answers":[{"tags":[],"owner":{"account_id":14745704,"reputation":825,"user_id":10649115,"display_name":"Sergio Clemente"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663760575,"creation_date":1663760575,"answer_id":73800137,"question_id":73799439,"body_markdown":"For build an APK you use:\r\n\r\n    flutter build apk .\r\n\r\n\r\nFor build a bundle:\r\n\r\n    flutter build appbundle\r\n\r\n\r\nFor build apk and split by arch\r\n\r\n    flutter build apk --split-per-abi\r\n\r\nThese is the modes that can you build for Android in flutter.\r\n\r\nThe webView is a feature of your application, so don&#39;t have a different type of build .\r\n\r\nCheck this doc:\r\nhttps://docs.flutter.dev/deployment/android","title":"How to build apk of Webview in flutter","body":"<p>For build an APK you use:</p>\n<pre><code>flutter build apk .\n</code></pre>\n<p>For build a bundle:</p>\n<pre><code>flutter build appbundle\n</code></pre>\n<p>For build apk and split by arch</p>\n<pre><code>flutter build apk --split-per-abi\n</code></pre>\n<p>These is the modes that can you build for Android in flutter.</p>\n<p>The webView is a feature of your application, so don't have a different type of build .</p>\n<p>Check this doc:\n<a href=\"https://docs.flutter.dev/deployment/android\" rel=\"nofollow noreferrer\">https://docs.flutter.dev/deployment/android</a></p>\n"},{"tags":[],"owner":{"account_id":22279250,"reputation":17,"user_id":16507840,"display_name":"GeekyChick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663762716,"creation_date":1663762716,"answer_id":73800614,"question_id":73799439,"body_markdown":"    flutter build apk\r\nThis typically build for debug mode. For more specific result, use ~\r\n\r\n    flutter build apk --release \r\nor,\r\n\r\n    flutter build apk --debug","title":"How to build apk of Webview in flutter","body":"<pre><code>flutter build apk\n</code></pre>\n<p>This typically build for debug mode. For more specific result, use ~</p>\n<pre><code>flutter build apk --release \n</code></pre>\n<p>or,</p>\n<pre><code>flutter build apk --debug\n</code></pre>\n"}],"owner":{"account_id":26156069,"reputation":1,"user_id":19843289,"display_name":"Waqas Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1663762716,"creation_date":1663757153,"question_id":73799439,"body_markdown":"How we build apk of web view app in a flutter. Does anyone help me, please?","title":"How to build apk of Webview in flutter","body":"<p>How we build apk of web view app in a flutter. Does anyone help me, please?</p>\n"},{"tags":["java","performance","hashmap","time-complexity"],"comments":[{"owner":{"account_id":4778916,"reputation":678,"user_id":3871673,"accept_rate":83,"display_name":"trinity420"},"score":1,"creation_date":1494585634,"post_id":8923251,"comment_id":74903339,"body_markdown":"@OlegSklyar This question helped me because I had to implement a HashMap myself.","body":"@OlegSklyar This question helped me because I had to implement a HashMap myself."},{"owner":{"account_id":3816309,"reputation":9934,"user_id":3165602,"accept_rate":62,"display_name":"Oleg Sklyar"},"score":0,"creation_date":1494594073,"post_id":8923251,"comment_id":74908950,"body_markdown":"@trinity420 So this justifies not reading the API documentation when you have a question about the API?","body":"@trinity420 So this justifies not reading the API documentation when you have a question about the API?"},{"owner":{"account_id":10421844,"reputation":53,"user_id":7684293,"display_name":"Hanash Yaslem"},"score":1,"creation_date":1602937122,"post_id":8923251,"comment_id":113880566,"body_markdown":"Java 8: Best case O(1), worst case O(log n)","body":"Java 8: Best case O(1), worst case O(log n)"},{"owner":{"account_id":7262327,"reputation":130,"user_id":5538511,"display_name":"Mohammad Yasin"},"score":0,"creation_date":1637755984,"post_id":8923251,"comment_id":123910030,"body_markdown":"if worst case it&#39;s not O(1). check this: https://stackoverflow.com/questions/8923251/what-is-the-time-complexity-of-hashmap-containskey-in-java","body":"if worst case it&#39;s not O(1). check this: <a href=\"https://stackoverflow.com/questions/8923251/what-is-the-time-complexity-of-hashmap-containskey-in-java\" title=\"what is the time complexity of hashmap containskey in java\">stackoverflow.com/questions/8923251/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1437682804,"creation_date":1326963198,"answer_id":8923291,"question_id":8923251,"body_markdown":"It is `O(1)` in general, however in worst case it is `O(n)`\r\n\r\n     public boolean containsKey(Object key) {\r\n      352           return getEntry(key) != null;\r\n      353       }\r\n      354   \r\n      355       /**\r\n      356        * Returns the entry associated with the specified key in the\r\n      357        * HashMap.  Returns null if the HashMap contains no mapping\r\n      358        * for the key.\r\n      359        */\r\n      360       final Entry&lt;K,V&gt; getEntry(Object key) {\r\n      361           int hash = (key == null) ? 0 : hash(key.hashCode());\r\n      362           for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];\r\n      363                e != null;\r\n      364                e = e.next) {\r\n      365               Object k;\r\n      366               if (e.hash == hash &amp;&amp;\r\n      367                   ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n      368                   return e;\r\n      369           }\r\n      370           return null;\r\n      371       }","title":"What is the time complexity of HashMap.containsKey() in java?","body":"<p>It is <code>O(1)</code> in general, however in worst case it is <code>O(n)</code></p>\n\n<pre><code> public boolean containsKey(Object key) {\n  352           return getEntry(key) != null;\n  353       }\n  354   \n  355       /**\n  356        * Returns the entry associated with the specified key in the\n  357        * HashMap.  Returns null if the HashMap contains no mapping\n  358        * for the key.\n  359        */\n  360       final Entry&lt;K,V&gt; getEntry(Object key) {\n  361           int hash = (key == null) ? 0 : hash(key.hashCode());\n  362           for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];\n  363                e != null;\n  364                e = e.next) {\n  365               Object k;\n  366               if (e.hash == hash &amp;&amp;\n  367                   ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n  368                   return e;\n  369           }\n  370           return null;\n  371       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1326963241,"creation_date":1326963241,"answer_id":8923300,"question_id":8923251,"body_markdown":"From the [`API doc of `HashMap][1]:\r\n\r\n&gt; This implementation provides constant-time performance for the basic\r\n&gt; operations (get and put), assuming the hash function disperses the\r\n&gt; elements properly among the buckets.\r\n\r\nSince `containsKey()` is just a `get()` that throws away the retrieved value, it&#39;s O(1) (assuming the hash function works properly, again).\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html","title":"What is the time complexity of HashMap.containsKey() in java?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>API doc of</code>HashMap</a>:</p>\n\n<blockquote>\n  <p>This implementation provides constant-time performance for the basic\n  operations (get and put), assuming the hash function disperses the\n  elements properly among the buckets.</p>\n</blockquote>\n\n<p>Since <code>containsKey()</code> is just a <code>get()</code> that throws away the retrieved value, it's O(1) (assuming the hash function works properly, again).</p>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1474058007,"creation_date":1326963278,"answer_id":8923308,"question_id":8923251,"body_markdown":"Generally O(1), but if we&#39;re using a bad hashCode function, we need to add multiple elements to one bucket so it can be O(n) in worst case.","title":"What is the time complexity of HashMap.containsKey() in java?","body":"<p>Generally O(1), but if we're using a bad hashCode function, we need to add multiple elements to one bucket so it can be O(n) in worst case.</p>\n"},{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1453199284,"creation_date":1451562088,"answer_id":34545978,"question_id":8923251,"body_markdown":"The time complexity of `containsKey` has changed in **JDK-1.8**, as others mentioned it is `O(1)` in ideal cases. However, in case of collisions where the `keys` are `Comparable`, bins storing collide elements aren&#39;t linear anymore after they exceed some threshold called `TREEIFY_THRESHOLD`, which is equal to 8,\r\n\r\n    /**\r\n     * The bin count threshold for using a tree rather than list for a\r\n     * bin.  Bins are converted to trees when adding an element to a\r\n     * bin with at least this many nodes. The value must be greater\r\n     * than 2 and should be at least 8 to mesh with assumptions in\r\n     * tree removal about conversion back to plain bins upon\r\n     * shrinkage.\r\n     */\r\n    static final int TREEIFY_THRESHOLD = 8;\r\n\r\nIn other word, `TreeNodes` will be used (similar to those in `TreeMap`) to store bins, (ie: a Red-Black tree structure) and this leaves us with an `O(lgn)` complexity in-case of collisions.\r\n\r\nThe same applies for `get(key)` where where both methods call `getNode` internally \r\n\r\nNote: **n** here is the size of the `bin` and not the `HashMap`\r\n\r\n\r\n\r\n\r\n\r\n  ","title":"What is the time complexity of HashMap.containsKey() in java?","body":"<p>The time complexity of <code>containsKey</code> has changed in <strong>JDK-1.8</strong>, as others mentioned it is <code>O(1)</code> in ideal cases. However, in case of collisions where the <code>keys</code> are <code>Comparable</code>, bins storing collide elements aren't linear anymore after they exceed some threshold called <code>TREEIFY_THRESHOLD</code>, which is equal to 8,</p>\n\n<pre><code>/**\n * The bin count threshold for using a tree rather than list for a\n * bin.  Bins are converted to trees when adding an element to a\n * bin with at least this many nodes. The value must be greater\n * than 2 and should be at least 8 to mesh with assumptions in\n * tree removal about conversion back to plain bins upon\n * shrinkage.\n */\nstatic final int TREEIFY_THRESHOLD = 8;\n</code></pre>\n\n<p>In other word, <code>TreeNodes</code> will be used (similar to those in <code>TreeMap</code>) to store bins, (ie: a Red-Black tree structure) and this leaves us with an <code>O(lgn)</code> complexity in-case of collisions.</p>\n\n<p>The same applies for <code>get(key)</code> where where both methods call <code>getNode</code> internally </p>\n\n<p>Note: <strong>n</strong> here is the size of the <code>bin</code> and not the <code>HashMap</code></p>\n"}],"owner":{"account_id":120672,"reputation":40569,"user_id":313245,"accept_rate":81,"display_name":"Hossein"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92516,"favorite_count":0,"down_vote_count":1,"up_vote_count":69,"accepted_answer_id":8923300,"answer_count":4,"score":68,"last_activity_date":1663762576,"creation_date":1326962986,"question_id":8923251,"body_markdown":"I need to know: What is the time complexity of HashMap.containsKey() in java?\r\n","title":"What is the time complexity of HashMap.containsKey() in java?","body":"<p>I need to know: What is the time complexity of HashMap.containsKey() in java?</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1485858708,"creation_date":1485858310,"answer_id":41955107,"question_id":41954561,"body_markdown":"For a previous requirement of similar nature i had used multi parser options as documented [here][1].\r\n\r\nFollowing similar lines , the following custom class is an example\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    \r\n    public class CustomDeserializer extends JsonDeserializer&lt;Date&gt; {\r\n    \tprivate static final String[] DATE_FORMATS = new String[] { &quot;MMM dd, yyyy HH:mm:ss&quot;, &quot;MMM dd, yyyy&quot; };\r\n    \r\n    \t@Override\r\n    \tpublic Date deserialize(JsonParser paramJsonParser, DeserializationContext paramDeserializationContext)\r\n    \t\t\tthrows IOException, JsonProcessingException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tif (paramJsonParser == null || &quot;&quot;.equals(paramJsonParser.getText()))\r\n    \t\t\treturn null;\r\n    \t\tString date = paramJsonParser.getText();\r\n    \r\n    \t\tfor (String format : DATE_FORMATS) {\r\n    \t\t\ttry {\r\n    \t\t\t\treturn new SimpleDateFormat(format, Locale.US).parse(date);\r\n    \t\t\t} catch (ParseException e) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n\r\nEdit :\r\n\r\nYou can also use additional libraries as outlined by suggestion [here][2] using MultiDateTimeParsers.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15563155/gson-to-json-conversion-with-two-dateformat/18337283#18337283\r\n  [2]: https://stackoverflow.com/questions/39597959/best-method-for-parsing-date-formats-during-import-datas/39598609?noredirect=1#comment66509764_39598609","title":"Jackson - Deserialise Different Date formats","body":"<p>For a previous requirement of similar nature i had used multi parser options as documented <a href=\"https://stackoverflow.com/questions/15563155/gson-to-json-conversion-with-two-dateformat/18337283#18337283\">here</a>.</p>\n\n<p>Following similar lines , the following custom class is an example</p>\n\n<pre><code>import java.io.IOException;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\n\npublic class CustomDeserializer extends JsonDeserializer&lt;Date&gt; {\n    private static final String[] DATE_FORMATS = new String[] { \"MMM dd, yyyy HH:mm:ss\", \"MMM dd, yyyy\" };\n\n    @Override\n    public Date deserialize(JsonParser paramJsonParser, DeserializationContext paramDeserializationContext)\n            throws IOException, JsonProcessingException {\n        // TODO Auto-generated method stub\n        if (paramJsonParser == null || \"\".equals(paramJsonParser.getText()))\n            return null;\n        String date = paramJsonParser.getText();\n\n        for (String format : DATE_FORMATS) {\n            try {\n                return new SimpleDateFormat(format, Locale.US).parse(date);\n            } catch (ParseException e) {\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>Edit :</p>\n\n<p>You can also use additional libraries as outlined by suggestion <a href=\"https://stackoverflow.com/questions/39597959/best-method-for-parsing-date-formats-during-import-datas/39598609?noredirect=1#comment66509764_39598609\">here</a> using MultiDateTimeParsers.</p>\n"}],"owner":{"account_id":6691354,"reputation":2410,"user_id":5160771,"accept_rate":80,"display_name":"lesnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41955107,"answer_count":1,"score":0,"last_activity_date":1663762282,"creation_date":1485856831,"question_id":41954561,"body_markdown":"i am using JsonDeserializer to format my Date as below:\r\n\r\n    public class CustomDateMappingDeserialize extends JsonDeserializer&lt;Date&gt;{\r\n    \r\n    \t@Override\r\n    \tpublic Date deserialize(JsonParser paramJsonParser, DeserializationContext paramDeserializationContext) throws IOException, JsonProcessingException {\r\n    \t\t SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t        String date = paramJsonParser.getText();\r\n    \t        try {\r\n    \t            Date formattedDate= format.parse(date);\r\n    \t          return formattedDate;\r\n    \t        } catch (ParseException e) {\r\n    \t            throw new RuntimeException(e);\r\n    \t        }\r\n    \r\n    \t}\r\n       \r\n    }\r\n\r\nbut the problem is i have to **define the Format fixed here** and  i have many different date formats.\r\n\r\nCan we do something like this:\r\n\r\n\t@JsonDeserialize(using = CustomDateMappingDeserialize.class, format =&quot;yyy-dd-mm&quot;)\r\n\tpublic void setDate(Date date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\r\nInstead of defining it in Custom class ?\r\n\r\nAny help/pointers would be highly appreciated.","title":"Jackson - Deserialise Different Date formats","body":"<p>i am using JsonDeserializer to format my Date as below:</p>\n\n<pre><code>public class CustomDateMappingDeserialize extends JsonDeserializer&lt;Date&gt;{\n\n    @Override\n    public Date deserialize(JsonParser paramJsonParser, DeserializationContext paramDeserializationContext) throws IOException, JsonProcessingException {\n         SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n            String date = paramJsonParser.getText();\n            try {\n                Date formattedDate= format.parse(date);\n              return formattedDate;\n            } catch (ParseException e) {\n                throw new RuntimeException(e);\n            }\n\n    }\n\n}\n</code></pre>\n\n<p>but the problem is i have to <strong>define the Format fixed here</strong> and  i have many different date formats.</p>\n\n<p>Can we do something like this:</p>\n\n<pre><code>@JsonDeserialize(using = CustomDateMappingDeserialize.class, format =\"yyy-dd-mm\")\npublic void setDate(Date date) {\n    this.date = date;\n}\n</code></pre>\n\n<p>Instead of defining it in Custom class ?</p>\n\n<p>Any help/pointers would be highly appreciated.</p>\n"},{"tags":["java","jsp","ejb","backing-beans"],"answers":[{"tags":[],"owner":{"account_id":2278351,"reputation":1692,"user_id":2004087,"display_name":"martins.tuga"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1427565759,"creation_date":1427565759,"answer_id":29320662,"question_id":29134343,"body_markdown":"You have to add the following line to your **persistence.xml**\r\n\r\nIf you are using **Glassfish**:\r\n\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot; /&gt;\r\n\r\nIf you are using **JBoss**:\r\n\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform&quot; /&gt;\r\n\r\nThis should solve your problem.","title":"Using a JTA persistence context without setting hibernate.transaction.jta.platform","body":"<p>You have to add the following line to your <strong>persistence.xml</strong></p>\n\n<p>If you are using <strong>Glassfish</strong>:</p>\n\n<pre><code>&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.SunOneJtaPlatform\" /&gt;\n</code></pre>\n\n<p>If you are using <strong>JBoss</strong>:</p>\n\n<pre><code>&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform\" /&gt;\n</code></pre>\n\n<p>This should solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":22206737,"reputation":21,"user_id":16446545,"display_name":"Zolt&#225;n B&#237;r&#243;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663762089,"creation_date":1663762089,"answer_id":73800463,"question_id":29134343,"body_markdown":"If you are using **OLP**:\r\n\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.WebSphereExtendedJtaPlatform&quot; /&gt;","title":"Using a JTA persistence context without setting hibernate.transaction.jta.platform","body":"<p>If you are using <strong>OLP</strong>:</p>\n<pre><code>&lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.WebSphereExtendedJtaPlatform&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":5418870,"reputation":189,"user_id":4313224,"accept_rate":60,"display_name":"GMan1973"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663762089,"creation_date":1426720022,"question_id":29134343,"body_markdown":"I am updating an old application with as little re-programming as possible.  I created a page similar to the old pages with just some test data to make sure I can create the link with the ejb / jpa and I am running into a problem.  I will post the jsp, persistence.xml, and the error.  After researching the web I still don&#39;t understand what the problem is or how to fix it.  Thank you.\r\n\r\njsp\r\n\r\n    &lt;%@ page import=&quot;com.ray.adt.model.Gridmaster&quot; %&gt;\r\n    &lt;jsp:useBean id=&quot;GridMasterBean&quot; scope=&quot;page&quot; class=&quot;com.ray.adt.ejb.grid.GridMasterBean&quot;/&gt;\r\n    &lt;%\r\n    System.out.println (&quot;Start&quot;)\t;\r\n    String gridid = request.getParameter(&quot;gridid&quot;);\r\n    System.out.println (&quot;String id is &quot; + gridid);\r\n    Gridmaster master = null;\r\n    Integer gridInteger = Integer.parseInt(gridid);\r\n    master = GridMasterBean.findGrid(gridInteger);\r\n    String title = &quot;None&quot;;\r\n    title =  master.getProgram();\r\n    System.out.println (&quot;title is &quot; + title);\r\n    %&gt;\r\n    &lt;html&gt;\r\n    TEST PAGE\r\n    \r\n    &lt;/html&gt; \r\n\r\npersistence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;persistence version=&quot;1.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot;&gt;\r\n     &lt;persistence-unit name=&quot;Grid-Persistence&quot; transaction-type=&quot;JTA&quot;&gt;\r\n     &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n     &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;\r\n     &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n     &lt;properties&gt;\r\n     &lt;property name=&quot;hibernate.transaction.factory_class&quot; value=&quot;org.hibernate.transaction.JTATransactionFactory&quot;/&gt;\r\n     &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot;/&gt;\r\n     &lt;/properties&gt;\r\n     &lt;/persistence-unit&gt;\r\n     &lt;/persistence&gt;\r\n\r\nerror:\r\n\r\n    19:04:41,195 INFO  [stdout] (default task-42) Start\r\n    \r\n    19:04:41,195 INFO  [stdout] (default task-42) String id is 2\r\n    \r\n    19:04:41,212 INFO  [org.hibernate.jpa.internal.util.LogHelper] (default task-42) HHH000204: Processing PersistenceUnitInfo [\r\n    \tname: Grid-Persistence\r\n    \t...]\r\n    19:04:41,215 WARN  [org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl] (default task-42) HHH000193: Overriding hibernate.transaction.factory_class is dangerous, this might break the EJB3 specification implementation\r\n    19:04:41,227 INFO  [org.hibernate.dialect.Dialect] (default task-42) HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\r\n    19:04:41,233 INFO  [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (default task-42) HHH000397: Using ASTQueryTranslatorFactory\r\n    19:04:41,237 INFO  [org.hibernate.tool.hbm2ddl.SchemaValidator] (default task-42) HHH000229: Running schema validator\r\n    19:04:41,237 INFO  [org.hibernate.tool.hbm2ddl.SchemaValidator] (default task-42) HHH000102: Fetching database metadata\r\n    19:04:41,692 WARN  [org.hibernate.jpa.internal.EntityManagerFactoryRegistry] (default task-42) HHH000436: Entity manager factory name (Grid-Persistence) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property &#39;hibernate.ejb.entitymanager_factory_name&#39;\r\n    19:04:41,693 ERROR [io.undertow.request] (default task-42) UT005023: Exception handling request to /ADTF/ShowData.jsp: org.apache.jasper.JasperException: javax.persistence.PersistenceException: Using a JTA persistence context wo setting hibernate.transaction.jta.platform\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:410) [jastow-1.0.0.Final.jar:1.0.0.Final]\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jastow-1.0.0.Final.jar:1.0.0.Final]\r\n    \tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259) [jastow-1.0.0.Final.jar:1.0.0.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:177) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [rt.jar:1.7.0_71]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.7.0_71]\r\n    \tat java.lang.Thread.run(Unknown Source) [rt.jar:1.7.0_71]\r\n    Caused by: javax.persistence.PersistenceException: Using a JTA persistence context wo setting hibernate.transaction.jta.platform\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.markForRollbackOnly(AbstractEntityManagerImpl.java:1538) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1686) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1132) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1068) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n    \tat com.ray.adt.ejb.DatabaseUtilityBean.findEntity(DatabaseUtilityBean.java:114) [ADTF_EJB.jar:]\r\n    \tat com.ray.adt.ejb.grid.GridMasterBean.findGrid(GridMasterBean.java:29) [ADTF_EJB.jar:]\r\n    \tat org.apache.jsp.ShowData_jsp._jspService(ShowData_jsp.java:71)\r\n    \tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jastow-1.0.0.Final.jar:1.0.0.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366) [jastow-1.0.0.Final.jar:1.0.0.Final]\r\n    \t... 29 more\r\n\r\n","title":"Using a JTA persistence context without setting hibernate.transaction.jta.platform","body":"<p>I am updating an old application with as little re-programming as possible.  I created a page similar to the old pages with just some test data to make sure I can create the link with the ejb / jpa and I am running into a problem.  I will post the jsp, persistence.xml, and the error.  After researching the web I still don't understand what the problem is or how to fix it.  Thank you.</p>\n\n<p>jsp</p>\n\n<pre><code>&lt;%@ page import=\"com.ray.adt.model.Gridmaster\" %&gt;\n&lt;jsp:useBean id=\"GridMasterBean\" scope=\"page\" class=\"com.ray.adt.ejb.grid.GridMasterBean\"/&gt;\n&lt;%\nSystem.out.println (\"Start\")    ;\nString gridid = request.getParameter(\"gridid\");\nSystem.out.println (\"String id is \" + gridid);\nGridmaster master = null;\nInteger gridInteger = Integer.parseInt(gridid);\nmaster = GridMasterBean.findGrid(gridInteger);\nString title = \"None\";\ntitle =  master.getProgram();\nSystem.out.println (\"title is \" + title);\n%&gt;\n&lt;html&gt;\nTEST PAGE\n\n&lt;/html&gt; \n</code></pre>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;persistence version=\"1.0\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd\"&gt;\n &lt;persistence-unit name=\"Grid-Persistence\" transaction-type=\"JTA\"&gt;\n &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;\n &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n &lt;properties&gt;\n &lt;property name=\"hibernate.transaction.factory_class\" value=\"org.hibernate.transaction.JTATransactionFactory\"/&gt;\n &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"validate\"/&gt;\n &lt;/properties&gt;\n &lt;/persistence-unit&gt;\n &lt;/persistence&gt;\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>19:04:41,195 INFO  [stdout] (default task-42) Start\n\n19:04:41,195 INFO  [stdout] (default task-42) String id is 2\n\n19:04:41,212 INFO  [org.hibernate.jpa.internal.util.LogHelper] (default task-42) HHH000204: Processing PersistenceUnitInfo [\n    name: Grid-Persistence\n    ...]\n19:04:41,215 WARN  [org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl] (default task-42) HHH000193: Overriding hibernate.transaction.factory_class is dangerous, this might break the EJB3 specification implementation\n19:04:41,227 INFO  [org.hibernate.dialect.Dialect] (default task-42) HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\n19:04:41,233 INFO  [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (default task-42) HHH000397: Using ASTQueryTranslatorFactory\n19:04:41,237 INFO  [org.hibernate.tool.hbm2ddl.SchemaValidator] (default task-42) HHH000229: Running schema validator\n19:04:41,237 INFO  [org.hibernate.tool.hbm2ddl.SchemaValidator] (default task-42) HHH000102: Fetching database metadata\n19:04:41,692 WARN  [org.hibernate.jpa.internal.EntityManagerFactoryRegistry] (default task-42) HHH000436: Entity manager factory name (Grid-Persistence) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'\n19:04:41,693 ERROR [io.undertow.request] (default task-42) UT005023: Exception handling request to /ADTF/ShowData.jsp: org.apache.jasper.JasperException: javax.persistence.PersistenceException: Using a JTA persistence context wo setting hibernate.transaction.jta.platform\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:410) [jastow-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jastow-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259) [jastow-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:177) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.15.Final.jar:1.0.15.Final]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [rt.jar:1.7.0_71]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.7.0_71]\n    at java.lang.Thread.run(Unknown Source) [rt.jar:1.7.0_71]\nCaused by: javax.persistence.PersistenceException: Using a JTA persistence context wo setting hibernate.transaction.jta.platform\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.markForRollbackOnly(AbstractEntityManagerImpl.java:1538) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1686) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1132) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:1068) [hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at com.ray.adt.ejb.DatabaseUtilityBean.findEntity(DatabaseUtilityBean.java:114) [ADTF_EJB.jar:]\n    at com.ray.adt.ejb.grid.GridMasterBean.findGrid(GridMasterBean.java:29) [ADTF_EJB.jar:]\n    at org.apache.jsp.ShowData_jsp._jspService(ShowData_jsp.java:71)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jastow-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366) [jastow-1.0.0.Final.jar:1.0.0.Final]\n    ... 29 more\n</code></pre>\n"},{"tags":["java","android","text-to-speech"],"comments":[{"owner":{"account_id":3918299,"reputation":3505,"user_id":3241582,"accept_rate":79,"display_name":"Vasant"},"score":0,"creation_date":1521789221,"post_id":9815245,"comment_id":85889960,"body_markdown":"refer my answer it works for me.i can set voice for male.https://stackoverflow.com/questions/36681232/android-tts-male-voices/49444251#49444251","body":"refer my answer it works for me.i can set voice for male.<a href=\"https://stackoverflow.com/questions/36681232/android-tts-male-voices/49444251#49444251\" title=\"android tts male voices\">stackoverflow.com/questions/36681232/android-tts-male-v&zwnj;&#8203;oices/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":87652,"reputation":52646,"user_id":242930,"display_name":"Nikolay Elenkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332384164,"creation_date":1332384164,"answer_id":9815720,"question_id":9815245,"body_markdown":"That depends on the underlying TTS engine. Some are configurable and have different voices (male, female, etc.), some only have one voice. In any case, you cannot control this from your app, the user has to change the TTS engine settings from the Settings app. You could only instruct them to install a particular engine, and setup your app to use it. ","title":"Android Text To Speech Male Voice","body":"<p>That depends on the underlying TTS engine. Some are configurable and have different voices (male, female, etc.), some only have one voice. In any case, you cannot control this from your app, the user has to change the TTS engine settings from the Settings app. You could only instruct them to install a particular engine, and setup your app to use it. </p>\n"},{"tags":[],"owner":{"account_id":37897,"reputation":12059,"user_id":108495,"accept_rate":65,"display_name":"gregm"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1332495815,"creation_date":1332456926,"answer_id":9831754,"question_id":9815245,"body_markdown":"You cannot make the Android TextToSpeech sounds like a male. If you change the [TextToSpeech.setPitch()][1] value to something low, like 0.1, it will sound very bad.\r\n\r\nYour only option is to try another Text-to-Speech engine, or live with the female sounding voice.\r\n\r\n  [1]: http://developer.android.com/reference/android/speech/tts/TextToSpeech.html#setPitch%28float%29","title":"Android Text To Speech Male Voice","body":"<p>You cannot make the Android TextToSpeech sounds like a male. If you change the <a href=\"http://developer.android.com/reference/android/speech/tts/TextToSpeech.html#setPitch%28float%29\" rel=\"nofollow\">TextToSpeech.setPitch()</a> value to something low, like 0.1, it will sound very bad.</p>\n\n<p>Your only option is to try another Text-to-Speech engine, or live with the female sounding voice.</p>\n"},{"tags":[],"owner":{"account_id":5582036,"reputation":461,"user_id":4423647,"display_name":"Viroj Fernando"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1436189194,"creation_date":1435928039,"answer_id":31207383,"question_id":9815245,"body_markdown":"It is possible to change voice into male. Set in `onCreate()`: `tts.setEngineByname(&quot;com.google.android.tts&quot;)` and make the google tts service default in text to speech settings and instaling the male voice in google tts service.\r\n\r\nLike this you can use any third party android tts services and check the device. Or ask to install.","title":"Android Text To Speech Male Voice","body":"<p>It is possible to change voice into male. Set in <code>onCreate()</code>: <code>tts.setEngineByname(\"com.google.android.tts\")</code> and make the google tts service default in text to speech settings and instaling the male voice in google tts service.</p>\n\n<p>Like this you can use any third party android tts services and check the device. Or ask to install.</p>\n"},{"tags":[],"owner":{"account_id":2075697,"reputation":3009,"user_id":1849119,"display_name":"Sk Saad Al Mahmud"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1484212492,"creation_date":1484212492,"answer_id":41609132,"question_id":9815245,"body_markdown":"It is now possible to use male/female voice and change it from App UI dynamically. Define TTS like this (add google tts engine in constructor):\r\n\r\n    tts = new TextToSpeech(context, this, &quot;com.google.android.tts&quot;);\r\n\r\n&gt;contex = activity/app\r\n\r\n &gt;   this= TextToSpeech.OnInitListener\r\n\r\nFrom `tts.getVoices()` list, chose your desired voice by it&#39;s name like this:\r\n\r\n    for (Voice tmpVoice : tts.getVoices()) {\r\n            if (tmpVoice.getName().equals(_voiceName)) {\r\n                return tmpVoice;\r\n                break;\r\n            }\r\n    }\r\n\r\nN.B: U need to set `_voiceName` by getting hard coded voice_name from `tts.getVoices()`. e.g: for English male it would be: &quot;en-us-x-sfg#male_1-local&quot;\r\n","title":"Android Text To Speech Male Voice","body":"<p>It is now possible to use male/female voice and change it from App UI dynamically. Define TTS like this (add google tts engine in constructor):</p>\n\n<pre><code>tts = new TextToSpeech(context, this, \"com.google.android.tts\");\n</code></pre>\n\n<blockquote>\n  <p>contex = activity/app</p>\n  \n  <p>this= TextToSpeech.OnInitListener</p>\n</blockquote>\n\n<p>From <code>tts.getVoices()</code> list, chose your desired voice by it's name like this:</p>\n\n<pre><code>for (Voice tmpVoice : tts.getVoices()) {\n        if (tmpVoice.getName().equals(_voiceName)) {\n            return tmpVoice;\n            break;\n        }\n}\n</code></pre>\n\n<p>N.B: U need to set <code>_voiceName</code> by getting hard coded voice_name from <code>tts.getVoices()</code>. e.g: for English male it would be: \"en-us-x-sfg#male_1-local\"</p>\n"},{"tags":[],"owner":{"account_id":3952887,"reputation":11,"user_id":5070310,"display_name":"Dato&#39; Sapik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497794081,"creation_date":1497779869,"answer_id":44613805,"question_id":9815245,"body_markdown":"Either way you can set your android Text-to-Speech to google TTS service by : \r\n\r\n    \r\n\r\n 1. `tts = new TextToSpeech(context, this, &quot;com.google.android.tts&quot;)`, or\r\n 2. Install new male ( English ) voice and set it by default in android.\r\n\r\nHope it helps.","title":"Android Text To Speech Male Voice","body":"<p>Either way you can set your android Text-to-Speech to google TTS service by : </p>\n\n<ol>\n<li><code>tts = new TextToSpeech(context, this, \"com.google.android.tts\")</code>, or</li>\n<li>Install new male ( English ) voice and set it by default in android.</li>\n</ol>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4999870,"reputation":1555,"user_id":4019233,"display_name":"Saurabh Gaddelpalliwar"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1540019215,"creation_date":1540018874,"answer_id":52903243,"question_id":9815245,"body_markdown":"**It is possible to change voice into male**\r\n\r\nhere is my code,hope it will help you!\r\n\r\n    //onCreate  \r\n    T2S= new TextToSpeech(testApp.getInstance().getApplicationContext(), this, &quot;com.google.android.tts&quot;);\r\n        Set&lt;String&gt; a=new HashSet&lt;&gt;();\r\n        a.add(&quot;male&quot;);//here you can give male if you want to select male voice.\r\n        Voice v=new Voice(&quot;en-us-x-sfg#male_2-local&quot;,new Locale(&quot;en&quot;,&quot;US&quot;),400,200,true,a);\r\n        T2S.setVoice(v);\r\n        T2S.setSpeechRate(0.8f);\r\n\r\nimplements TextToSpeech.OnInitListener  on Activity.\r\n\r\n    @Override\r\n    public void onInit(int status) {\r\n        if (status == TextToSpeech.SUCCESS) {\r\n            Set&lt;String&gt; a=new HashSet&lt;&gt;();\r\n            a.add(&quot;male&quot;);//here you can give male if you want to select male voice.\r\n            //Voice v=new Voice(&quot;en-us-x-sfg#female_2-local&quot;,new Locale(&quot;en&quot;,&quot;US&quot;),400,200,true,a);\r\n            Voice v=new Voice(&quot;en-us-x-sfg#male_2-local&quot;,new Locale(&quot;en&quot;,&quot;US&quot;),400,200,true,a);\r\n            T2S.setVoice(v);\r\n            T2S.setSpeechRate(0.8f);\r\n            \r\n           // int result = T2S.setLanguage(Locale.US);\r\n            int result = T2S.setVoice(v);\r\n\r\n            if (result == TextToSpeech.LANG_MISSING_DATA\r\n                    || result == TextToSpeech.LANG_NOT_SUPPORTED) {\r\n                Log.e(&quot;TTS&quot;, &quot;This Language is not supported&quot;);\r\n            } else {\r\n               // btnSpeak.setEnabled(true);\r\n                speakOut(mMessageVoice);\r\n            }\r\n\r\n        } else {\r\n            Log.e(&quot;TTS&quot;, &quot;Initilization Failed!&quot;);\r\n        }\r\n    }\r\n\r\nAnd add this function also:     \r\n\r\n    private void speakOut(String message) {\r\n\r\n        t1.speak(message, TextToSpeech.QUEUE_FLUSH, null);\r\n    }","title":"Android Text To Speech Male Voice","body":"<p><strong>It is possible to change voice into male</strong></p>\n\n<p>here is my code,hope it will help you!</p>\n\n<pre><code>//onCreate  \nT2S= new TextToSpeech(testApp.getInstance().getApplicationContext(), this, \"com.google.android.tts\");\n    Set&lt;String&gt; a=new HashSet&lt;&gt;();\n    a.add(\"male\");//here you can give male if you want to select male voice.\n    Voice v=new Voice(\"en-us-x-sfg#male_2-local\",new Locale(\"en\",\"US\"),400,200,true,a);\n    T2S.setVoice(v);\n    T2S.setSpeechRate(0.8f);\n</code></pre>\n\n<p>implements TextToSpeech.OnInitListener  on Activity.</p>\n\n<pre><code>@Override\npublic void onInit(int status) {\n    if (status == TextToSpeech.SUCCESS) {\n        Set&lt;String&gt; a=new HashSet&lt;&gt;();\n        a.add(\"male\");//here you can give male if you want to select male voice.\n        //Voice v=new Voice(\"en-us-x-sfg#female_2-local\",new Locale(\"en\",\"US\"),400,200,true,a);\n        Voice v=new Voice(\"en-us-x-sfg#male_2-local\",new Locale(\"en\",\"US\"),400,200,true,a);\n        T2S.setVoice(v);\n        T2S.setSpeechRate(0.8f);\n\n       // int result = T2S.setLanguage(Locale.US);\n        int result = T2S.setVoice(v);\n\n        if (result == TextToSpeech.LANG_MISSING_DATA\n                || result == TextToSpeech.LANG_NOT_SUPPORTED) {\n            Log.e(\"TTS\", \"This Language is not supported\");\n        } else {\n           // btnSpeak.setEnabled(true);\n            speakOut(mMessageVoice);\n        }\n\n    } else {\n        Log.e(\"TTS\", \"Initilization Failed!\");\n    }\n}\n</code></pre>\n\n<p>And add this function also:     </p>\n\n<pre><code>private void speakOut(String message) {\n\n    t1.speak(message, TextToSpeech.QUEUE_FLUSH, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620928776,"creation_date":1620889189,"answer_id":67515136,"question_id":9815245,"body_markdown":"Contrary to some previous answers, gender is not a parameter (or even a &quot;feature&quot;) of a [Voice][1] object.\r\n\r\nAs you can see... as of 5/2021, there is no &quot;isMale&quot; boolean parameter.\r\n\r\nThere **is** a &quot;features&quot; Set\\&lt;String&gt; parameter, but what those strings actually contain is engine dependent and extremely poorly documented and/or implemented... and no engines describe gender using this parameter that I know of.\r\n\r\n**TextToSpeech.setVoice() is designed such that the Voice being set must be an exact match/instance of one of the Voice objects that was previously returned by TextToSpeech.getVoices() -- it is not a way to somehow create/request a new custom Voice or to attempt to mix and match parameters.** (That&#39;s not to say some engines won&#39;t try to make a best approximation of the non-existent new voice you try to send to it). \r\n\r\nEven if gender were implemented, Voice parameters are not designed to be independently settable.\r\n\r\nVoice objects are a means by which an engine can describe its available voices using getVoices() -- they are not the voices themselves.\r\n\r\nAs far as I can tell, the Voice class&#39; constructor is really not useful to anyone other than a speech engine developer.\r\n\r\nAll of this means that unless the authors of a specific engine have chosen to include &quot;male&quot; or &quot;female&quot; as a substring of the voice&#39;s name, there is no way for you to determine whether a voice sounds male or female other than listening to it first.\r\n\r\nSo, in order to control whether speech output &quot;is&quot; male/female, all the following would have to be true:\r\n\r\n1) you already know the unique voice name (String) you are looking for\r\n2) the engine that contains that voice is installed on the users device (not in your control)\r\n3) the installed version of that engine is recent enough to contain that voice (not in your control)\r\n4) the installed version of that engine is not too recent so as to no longer contain that voice (not in your control)\r\n5) the user has that particular voice installed (not in your control)\r\n6) if the voice is not installed, the user is connected to the internet (not in your control)\r\n\r\nPS - Even if you think you&#39;ve found a male voice, it could actually be a female that just sounds male to you. :)\r\n\r\nPPS - You could use a cloud service instead to remove all the device unpredictability.\r\n\r\n  [1]: https://developer.android.com/reference/android/speech/tts/Voice","title":"Android Text To Speech Male Voice","body":"<p>Contrary to some previous answers, gender is not a parameter (or even a &quot;feature&quot;) of a <a href=\"https://developer.android.com/reference/android/speech/tts/Voice\" rel=\"nofollow noreferrer\">Voice</a> object.</p>\n<p>As you can see... as of 5/2021, there is no &quot;isMale&quot; boolean parameter.</p>\n<p>There <strong>is</strong> a &quot;features&quot; Set&lt;String&gt; parameter, but what those strings actually contain is engine dependent and extremely poorly documented and/or implemented... and no engines describe gender using this parameter that I know of.</p>\n<p><strong>TextToSpeech.setVoice() is designed such that the Voice being set must be an exact match/instance of one of the Voice objects that was previously returned by TextToSpeech.getVoices() -- it is not a way to somehow create/request a new custom Voice or to attempt to mix and match parameters.</strong> (That's not to say some engines won't try to make a best approximation of the non-existent new voice you try to send to it).</p>\n<p>Even if gender were implemented, Voice parameters are not designed to be independently settable.</p>\n<p>Voice objects are a means by which an engine can describe its available voices using getVoices() -- they are not the voices themselves.</p>\n<p>As far as I can tell, the Voice class' constructor is really not useful to anyone other than a speech engine developer.</p>\n<p>All of this means that unless the authors of a specific engine have chosen to include &quot;male&quot; or &quot;female&quot; as a substring of the voice's name, there is no way for you to determine whether a voice sounds male or female other than listening to it first.</p>\n<p>So, in order to control whether speech output &quot;is&quot; male/female, all the following would have to be true:</p>\n<ol>\n<li>you already know the unique voice name (String) you are looking for</li>\n<li>the engine that contains that voice is installed on the users device (not in your control)</li>\n<li>the installed version of that engine is recent enough to contain that voice (not in your control)</li>\n<li>the installed version of that engine is not too recent so as to no longer contain that voice (not in your control)</li>\n<li>the user has that particular voice installed (not in your control)</li>\n<li>if the voice is not installed, the user is connected to the internet (not in your control)</li>\n</ol>\n<p>PS - Even if you think you've found a male voice, it could actually be a female that just sounds male to you. :)</p>\n<p>PPS - You could use a cloud service instead to remove all the device unpredictability.</p>\n"},{"tags":[],"owner":{"account_id":7248683,"reputation":318,"user_id":5529764,"display_name":"Yougansh Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663761927,"creation_date":1663761927,"answer_id":73800414,"question_id":9815245,"body_markdown":"I found 3 Male voices in google tts\r\n 1. en-in-x-ene-network\r\n 2. en-in-x-end-network\r\n 3. hi-in-x-hie-local\r\n\r\nUse these in the following way:&lt;br&gt;\r\n`textToSpeechEngine.voice = Voice(&quot;hi-in-x-hie-local&quot;, Locale(&quot;hi_IN&quot;), 400, 200, false, HashMap&lt;String&gt;())`","title":"Android Text To Speech Male Voice","body":"<p>I found 3 Male voices in google tts</p>\n<ol>\n<li>en-in-x-ene-network</li>\n<li>en-in-x-end-network</li>\n<li>hi-in-x-hie-local</li>\n</ol>\n<p>Use these in the following way:<br>\n<code>textToSpeechEngine.voice = Voice(&quot;hi-in-x-hie-local&quot;, Locale(&quot;hi_IN&quot;), 400, 200, false, HashMap&lt;String&gt;())</code></p>\n"}],"owner":{"account_id":1343647,"reputation":179,"user_id":1284791,"display_name":"user1284791"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40115,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":8,"score":14,"last_activity_date":1663761927,"creation_date":1332379725,"question_id":9815245,"body_markdown":"I have a working text to speech but I was wondering instead of a female voice when the app calls it to be played it will do a male voice instead?","title":"Android Text To Speech Male Voice","body":"<p>I have a working text to speech but I was wondering instead of a female voice when the app calls it to be played it will do a male voice instead?</p>\n"},{"tags":["java","bufferedimage","fileoutputstream","imageicon","dataoutputstream"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1663741670,"post_id":73796056,"comment_id":130307827,"body_markdown":"In the SDK you have `java.io.DataOutputStream dos = new java.io.DataOutputStream(fos);` where the `fos` is a `FileOutputStream`, but it does not need to be, it could for example be a `ByteArrayOutputStream`","body":"In the SDK you have <code>java.io.DataOutputStream dos = new java.io.DataOutputStream(fos);</code> where the <code>fos</code> is a <code>FileOutputStream</code>, but it does not need to be, it could for example be a <code>ByteArrayOutputStream</code>"}],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663761856,"creation_date":1663761433,"answer_id":73800318,"question_id":73796056,"body_markdown":"The `writeImageFile` does seem correct to me, and writes a valid BMP file that `ImageIO` should handle fine. However, writing the data to disk, just to read it back in, is a waste of time (and disk storage)... Instead, I would just create a `BufferedImage` directly from the image data.\r\n\r\n\r\nI don&#39;t have your SDK or device, so I&#39;m assuming the image dimensions and arrays are correctly filled (I&#39;m just filling it with a gradient in the example):\r\n\r\n```java\r\n// Dimensions from your sample code\r\nint imageWidth = 284;\r\nint imageHeight = 369;\r\n\r\nbyte[] imageData = new byte[imageWidth * imageHeight];\r\nsimulateCapture(imageData, imageWidth, imageHeight);\r\n\r\n// The important parts:\r\n// 1: Creating a new image to hold 8 bit gray data\r\nBufferedImage image = new BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_BYTE_GRAY);\r\n\r\n// 2: Setting the image data from your array to the image\r\nimage.getRaster().setDataElements(0, 0, imageWidth, imageHeight, imageData);\r\n\r\n// And just to prove that it works\r\nSystem.out.println(&quot;image = &quot; + image);\r\nJOptionPane.showMessageDialog(null, new ImageIcon(image), &quot;image&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n``` \r\n\r\n```java\r\npublic void simluateCapture(byte[] imageData, int imageWidth, int imageHeight) {\r\n    // Filling the image data with a gradient from black upper-left to white lower-right\r\n    for (int y = 0; y &lt; imageHeight; y++) {\r\n        for (int x = 0; x &lt; imageWidth; x++) {\r\n            imageData[imageWidth * y + x] = (byte) (255 * y * x / (imageHeight * imageWidth));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nOutput:\r\n\r\n    image = BufferedImage@4923ab24: type = 10 ColorModel: #pixelBits = 8 numComponents = 1 color space = java.awt.color.ICC_ColorSpace@44c8afef transparency = 1 has alpha = false isAlphaPre = false ByteInterleavedRaster: width = 284 height = 369 #numDataElements 1 dataOff[0] = 0\r\n\r\nScreenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4FSFY.png","title":"How do I convert byte data into an image format that&#39;s usable within Java?","body":"<p>The <code>writeImageFile</code> does seem correct to me, and writes a valid BMP file that <code>ImageIO</code> should handle fine. However, writing the data to disk, just to read it back in, is a waste of time (and disk storage)... Instead, I would just create a <code>BufferedImage</code> directly from the image data.</p>\n<p>I don't have your SDK or device, so I'm assuming the image dimensions and arrays are correctly filled (I'm just filling it with a gradient in the example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Dimensions from your sample code\nint imageWidth = 284;\nint imageHeight = 369;\n\nbyte[] imageData = new byte[imageWidth * imageHeight];\nsimulateCapture(imageData, imageWidth, imageHeight);\n\n// The important parts:\n// 1: Creating a new image to hold 8 bit gray data\nBufferedImage image = new BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_BYTE_GRAY);\n\n// 2: Setting the image data from your array to the image\nimage.getRaster().setDataElements(0, 0, imageWidth, imageHeight, imageData);\n\n// And just to prove that it works\nSystem.out.println(&quot;image = &quot; + image);\nJOptionPane.showMessageDialog(null, new ImageIcon(image), &quot;image&quot;, JOptionPane.INFORMATION_MESSAGE);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void simluateCapture(byte[] imageData, int imageWidth, int imageHeight) {\n    // Filling the image data with a gradient from black upper-left to white lower-right\n    for (int y = 0; y &lt; imageHeight; y++) {\n        for (int x = 0; x &lt; imageWidth; x++) {\n            imageData[imageWidth * y + x] = (byte) (255 * y * x / (imageHeight * imageWidth));\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>image = BufferedImage@4923ab24: type = 10 ColorModel: #pixelBits = 8 numComponents = 1 color space = java.awt.color.ICC_ColorSpace@44c8afef transparency = 1 has alpha = false isAlphaPre = false ByteInterleavedRaster: width = 284 height = 369 #numDataElements 1 dataOff[0] = 0\n</code></pre>\n<p>Screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/4FSFY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4FSFY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22192470,"reputation":3,"user_id":16525423,"display_name":"HAL 9000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73800318,"answer_count":1,"score":-1,"last_activity_date":1663761856,"creation_date":1663740629,"question_id":73796056,"body_markdown":"I&#39;m currently making a Java application to take an image from a fingerprint scanner (ZK4500 model) and display it on the screen. The SDK code is pretty straight forward and I have everything working from the user&#39;s perspective. However, the only method the SDK has for drawing the image to the screen is by taking the buffered image data and writing it to a file. The file is then read into an icon data type and displayed in a JLabel.\r\n\r\n**The problem I&#39;d like to solve is that the image buffer data is constantly written to the the hard drive and then read from the hard drive just to see what the finger print image looks like. I&#39;d like to translate the image buffer data already in memory to be drawn to the screen... preferably in a JLabel object, but it can be in a different object if need be.**\r\n\r\nThe following prepares the image data to be read from the scanner and then displayed in a JLabel...\r\n  \r\n\r\n    private long device = 0;\r\n    private byte[] imageData = null; // image buffer data\r\n    private int imageWidth = 0;\r\n    private int imageHeight = 0;\r\n    private byte[] parameter = new byte[4];\r\n    private int[] size = new int[1];\r\n    \r\n    device = FingerprintSensorEx.OpenDevice(0);\r\n    FingerprintSensorEx.GetParameters(device, 1, parameter, size);\r\n    imageWidth = byteArrayToInt(parameter); // (!) see next code snippet below\r\n    FingerprintSensorEx.GetParameters(device, 2, parameter, size);\r\n    imageHeight = byteArrayToInt(parameter); // (!) see next code snippet below\r\n    imageData = new byte[imageWidth * imageHeight]; // data size (284 x 369)\r\n    \r\n    FingerprintSensorEx.AcquireFingerprintImage(device, imageData); // loads image buffer data\r\n\r\n    writeImageFile(imageData, imageWidth, imageHeight); // (!) see next code snippet below\r\n\r\n    imageDisplay.setIcon(new ImageIcon(ImageIO.read(new File(&quot;fingerprint.bmp&quot;)))); // jlabel object\r\n\r\n\r\nThe following is how the SDK writes the image data to a file...\r\n\r\n    private void writeImageFile(byte[] imageBuf, int nWidth, int nHeight) throws IOException {\r\n        java.io.FileOutputStream fos = new java.io.FileOutputStream(&quot;fingerprint.bmp&quot;);\r\n        java.io.DataOutputStream dos = new java.io.DataOutputStream(fos);\r\n    \r\n        int w = (((nWidth + 3) / 4) * 4);\r\n        int bfType = 0x424d;\r\n        int bfSize = 54 + 1024 + w * nHeight;\r\n        int bfReserved1 = 0;\r\n        int bfReserved2 = 0;\r\n        int bfOffBits = 54 + 1024;\r\n    \r\n        dos.writeShort(bfType);\r\n        dos.write(changeByte(bfSize), 0, 4);\r\n        dos.write(changeByte(bfReserved1), 0, 2);\r\n        dos.write(changeByte(bfReserved2), 0, 2);\r\n        dos.write(changeByte(bfOffBits), 0, 4);\r\n    \r\n        int biSize = 40;\r\n        int biPlanes = 1;\r\n        int biBitcount = 8;\r\n        int biCompression = 0;\r\n        int biSizeImage = w * nHeight;\r\n        int biXPelsPerMeter = 0;\r\n        int biYPelsPerMeter = 0;\r\n        int biClrUsed = 0;\r\n        int biClrImportant = 0;\r\n    \r\n        dos.write(changeByte(biSize), 0, 4);\r\n        dos.write(changeByte(nWidth), 0, 4);\r\n        dos.write(changeByte(nHeight), 0, 4);\r\n        dos.write(changeByte(biPlanes), 0, 2);\r\n        dos.write(changeByte(biBitcount), 0, 2);\r\n        dos.write(changeByte(biCompression), 0, 4);\r\n        dos.write(changeByte(biSizeImage), 0, 4);\r\n        dos.write(changeByte(biXPelsPerMeter), 0, 4);\r\n        dos.write(changeByte(biYPelsPerMeter), 0, 4);\r\n        dos.write(changeByte(biClrUsed), 0, 4);\r\n        dos.write(changeByte(biClrImportant), 0, 4);\r\n    \r\n        for (int i = 0; i &lt; 256; i++) {\r\n            dos.writeByte(i);\r\n            dos.writeByte(i);\r\n            dos.writeByte(i);\r\n            dos.writeByte(0);\r\n        }\r\n    \r\n        byte[] filter = null;\r\n        if (w &gt; nWidth) {\r\n            filter = new byte[w - nWidth];\r\n        }\r\n    \r\n        for (int i = 0; i &lt; nHeight; i++) {\r\n            dos.write(imageBuf, (nHeight - 1 - i) * nWidth, nWidth);\r\n            if (w &gt; nWidth)\r\n                dos.write(filter, 0, w - nWidth);\r\n        }\r\n        dos.flush();\r\n        dos.close();\r\n        fos.close();\r\n    }\r\n    \r\n    private int byteArrayToInt(byte[] bytes) {\r\n        int number = bytes[0] &amp; 0xFF;\r\n        number |= ((bytes[1] &lt;&lt; 8) &amp; 0xFF00);\r\n        number |= ((bytes[2] &lt;&lt; 16) &amp; 0xFF0000);\r\n        number |= ((bytes[3] &lt;&lt; 24) &amp; 0xFF000000);\r\n        return number;\r\n    }\r\n    \r\n    private byte[] intToByteArray(final int number) {\r\n        byte[] abyte = new byte[4];\r\n        abyte[0] = (byte) (0xff &amp; number);\r\n        abyte[1] = (byte) ((0xff00 &amp; number) &gt;&gt; 8);\r\n        abyte[2] = (byte) ((0xff0000 &amp; number) &gt;&gt; 16);\r\n        abyte[3] = (byte) ((0xff000000 &amp; number) &gt;&gt; 24);\r\n        return abyte;\r\n    }\r\n    \r\n    private byte[] changeByte(int data) {\r\n        return intToByteArray(data);\r\n    }\r\n\r\nI included how the image data is written to the file output stream in case there is some clue as to what the real format of the scanner&#39;s image buffer data is. GIMP tells me that the written file is an 8-bit grayscale gamma integer BMP.\r\n\r\nI know practically nothing about Java so I hope someone can point me in the right direction from a beginner&#39;s perspective. I read that a BufferedImage is the best way to work with images in Java, but I just couldn&#39;t connect the dots with the byte data from the scanner. I tried things along the line of...\r\n\r\n    BufferedImage img = ImageIO.read(new ByteArrayInputStream(imageData));\r\n    imageDisplay.setIcon(new ImageIcon(img)); // jlabel object\r\n\r\n...but it returned an error because the image was &quot;null&quot;. I think the image data needs to be in an array format first? Maybe the code in how the SDK writes the BMP file helps solve that, but I&#39;m just grasping at straws here.","title":"How do I convert byte data into an image format that&#39;s usable within Java?","body":"<p>I'm currently making a Java application to take an image from a fingerprint scanner (ZK4500 model) and display it on the screen. The SDK code is pretty straight forward and I have everything working from the user's perspective. However, the only method the SDK has for drawing the image to the screen is by taking the buffered image data and writing it to a file. The file is then read into an icon data type and displayed in a JLabel.</p>\n<p><strong>The problem I'd like to solve is that the image buffer data is constantly written to the the hard drive and then read from the hard drive just to see what the finger print image looks like. I'd like to translate the image buffer data already in memory to be drawn to the screen... preferably in a JLabel object, but it can be in a different object if need be.</strong></p>\n<p>The following prepares the image data to be read from the scanner and then displayed in a JLabel...</p>\n<pre><code>private long device = 0;\nprivate byte[] imageData = null; // image buffer data\nprivate int imageWidth = 0;\nprivate int imageHeight = 0;\nprivate byte[] parameter = new byte[4];\nprivate int[] size = new int[1];\n\ndevice = FingerprintSensorEx.OpenDevice(0);\nFingerprintSensorEx.GetParameters(device, 1, parameter, size);\nimageWidth = byteArrayToInt(parameter); // (!) see next code snippet below\nFingerprintSensorEx.GetParameters(device, 2, parameter, size);\nimageHeight = byteArrayToInt(parameter); // (!) see next code snippet below\nimageData = new byte[imageWidth * imageHeight]; // data size (284 x 369)\n\nFingerprintSensorEx.AcquireFingerprintImage(device, imageData); // loads image buffer data\n\nwriteImageFile(imageData, imageWidth, imageHeight); // (!) see next code snippet below\n\nimageDisplay.setIcon(new ImageIcon(ImageIO.read(new File(&quot;fingerprint.bmp&quot;)))); // jlabel object\n</code></pre>\n<p>The following is how the SDK writes the image data to a file...</p>\n<pre><code>private void writeImageFile(byte[] imageBuf, int nWidth, int nHeight) throws IOException {\n    java.io.FileOutputStream fos = new java.io.FileOutputStream(&quot;fingerprint.bmp&quot;);\n    java.io.DataOutputStream dos = new java.io.DataOutputStream(fos);\n\n    int w = (((nWidth + 3) / 4) * 4);\n    int bfType = 0x424d;\n    int bfSize = 54 + 1024 + w * nHeight;\n    int bfReserved1 = 0;\n    int bfReserved2 = 0;\n    int bfOffBits = 54 + 1024;\n\n    dos.writeShort(bfType);\n    dos.write(changeByte(bfSize), 0, 4);\n    dos.write(changeByte(bfReserved1), 0, 2);\n    dos.write(changeByte(bfReserved2), 0, 2);\n    dos.write(changeByte(bfOffBits), 0, 4);\n\n    int biSize = 40;\n    int biPlanes = 1;\n    int biBitcount = 8;\n    int biCompression = 0;\n    int biSizeImage = w * nHeight;\n    int biXPelsPerMeter = 0;\n    int biYPelsPerMeter = 0;\n    int biClrUsed = 0;\n    int biClrImportant = 0;\n\n    dos.write(changeByte(biSize), 0, 4);\n    dos.write(changeByte(nWidth), 0, 4);\n    dos.write(changeByte(nHeight), 0, 4);\n    dos.write(changeByte(biPlanes), 0, 2);\n    dos.write(changeByte(biBitcount), 0, 2);\n    dos.write(changeByte(biCompression), 0, 4);\n    dos.write(changeByte(biSizeImage), 0, 4);\n    dos.write(changeByte(biXPelsPerMeter), 0, 4);\n    dos.write(changeByte(biYPelsPerMeter), 0, 4);\n    dos.write(changeByte(biClrUsed), 0, 4);\n    dos.write(changeByte(biClrImportant), 0, 4);\n\n    for (int i = 0; i &lt; 256; i++) {\n        dos.writeByte(i);\n        dos.writeByte(i);\n        dos.writeByte(i);\n        dos.writeByte(0);\n    }\n\n    byte[] filter = null;\n    if (w &gt; nWidth) {\n        filter = new byte[w - nWidth];\n    }\n\n    for (int i = 0; i &lt; nHeight; i++) {\n        dos.write(imageBuf, (nHeight - 1 - i) * nWidth, nWidth);\n        if (w &gt; nWidth)\n            dos.write(filter, 0, w - nWidth);\n    }\n    dos.flush();\n    dos.close();\n    fos.close();\n}\n\nprivate int byteArrayToInt(byte[] bytes) {\n    int number = bytes[0] &amp; 0xFF;\n    number |= ((bytes[1] &lt;&lt; 8) &amp; 0xFF00);\n    number |= ((bytes[2] &lt;&lt; 16) &amp; 0xFF0000);\n    number |= ((bytes[3] &lt;&lt; 24) &amp; 0xFF000000);\n    return number;\n}\n\nprivate byte[] intToByteArray(final int number) {\n    byte[] abyte = new byte[4];\n    abyte[0] = (byte) (0xff &amp; number);\n    abyte[1] = (byte) ((0xff00 &amp; number) &gt;&gt; 8);\n    abyte[2] = (byte) ((0xff0000 &amp; number) &gt;&gt; 16);\n    abyte[3] = (byte) ((0xff000000 &amp; number) &gt;&gt; 24);\n    return abyte;\n}\n\nprivate byte[] changeByte(int data) {\n    return intToByteArray(data);\n}\n</code></pre>\n<p>I included how the image data is written to the file output stream in case there is some clue as to what the real format of the scanner's image buffer data is. GIMP tells me that the written file is an 8-bit grayscale gamma integer BMP.</p>\n<p>I know practically nothing about Java so I hope someone can point me in the right direction from a beginner's perspective. I read that a BufferedImage is the best way to work with images in Java, but I just couldn't connect the dots with the byte data from the scanner. I tried things along the line of...</p>\n<pre><code>BufferedImage img = ImageIO.read(new ByteArrayInputStream(imageData));\nimageDisplay.setIcon(new ImageIcon(img)); // jlabel object\n</code></pre>\n<p>...but it returned an error because the image was &quot;null&quot;. I think the image data needs to be in an array format first? Maybe the code in how the SDK writes the BMP file helps solve that, but I'm just grasping at straws here.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1663741671,"post_id":73790214,"comment_id":130307828,"body_markdown":"Any reason to why you are not using the built in jwt features in spring security https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1","body":"Any reason to why you are not using the built in jwt features in spring security <a href=\"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1\" rel=\"nofollow noreferrer\">thomasandolf.medium.com/&hellip;</a>"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1663747487,"post_id":73790214,"comment_id":130309636,"body_markdown":"Do you see anything in the logs? Could you show the response with headers, for example a screenshot Postman. However, I think you are missing a  `chain.doFilter(request, response);` in the last line of your method.","body":"Do you see anything in the logs? Could you show the response with headers, for example a screenshot Postman. However, I think you are missing a  <code>chain.doFilter(request, response);</code> in the last line of your method."},{"owner":{"account_id":16626797,"reputation":23,"user_id":12015704,"display_name":"sirkostya009"},"score":0,"creation_date":1663747781,"post_id":73790214,"comment_id":130309736,"body_markdown":"@Toerktumlare I copied this stuff from a video.","body":"@Toerktumlare I copied this stuff from a video."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1663749971,"post_id":73790214,"comment_id":130310462,"body_markdown":"@sirkostya009 then that is your problem, please dont just copy stuff. Read documentation before asking on stack overflow. Do research","body":"@sirkostya009 then that is your problem, please dont just copy stuff. Read documentation before asking on stack overflow. Do research"},{"owner":{"account_id":16626797,"reputation":23,"user_id":12015704,"display_name":"sirkostya009"},"score":1,"creation_date":1663759465,"post_id":73790214,"comment_id":130313809,"body_markdown":"@dur calling `FilterChain` object at the end of the function did solve the problem. Huh, but I thought you actually don&#39;t need it there. Thanks!","body":"@dur calling <code>FilterChain</code> object at the end of the function did solve the problem. Huh, but I thought you actually don&#39;t need it there. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":16626797,"reputation":23,"user_id":12015704,"display_name":"sirkostya009"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663761429,"creation_date":1663761429,"answer_id":73800315,"question_id":73790214,"body_markdown":"As @dur mentioned in comments, problem was that I miss a `chain.doFilter(request, response);` line at the end of `doFilterInternal` function.\r\n\r\nNow it should look like following:\r\n```\r\nvar header = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n\r\nif (header == null || !header.startsWith(jwtUtils.Bearer)) {\r\n    chain.doFilter(request, response);\r\n    return;\r\n}\r\n\r\nvar jwt = header.replace(jwtUtils.Bearer, &quot;&quot;);\r\nvar username = jwtUtils.extractUsername(jwt);\r\n\r\nif (username == null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null) {\r\n    chain.doFilter(request, response);\r\n    return;\r\n}\r\n\r\nvar user = userService.loadUserByUsername(username);\r\n\r\nif (!jwtUtils.validateToken(jwt, user) || !user.isEnabled()) {\r\n    chain.doFilter(request, response);\r\n    return;\r\n}\r\n\r\nvar passwordAuthToken = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\r\npasswordAuthToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request)); // implies that request should contain user details?\r\nSecurityContextHolder.getContext().setAuthentication(passwordAuthToken);\r\nchain.doFilter(request, response);\r\n```","title":"REST endpoints don&#39;t fire","body":"<p>As @dur mentioned in comments, problem was that I miss a <code>chain.doFilter(request, response);</code> line at the end of <code>doFilterInternal</code> function.</p>\n<p>Now it should look like following:</p>\n<pre><code>var header = request.getHeader(HttpHeaders.AUTHORIZATION);\n\nif (header == null || !header.startsWith(jwtUtils.Bearer)) {\n    chain.doFilter(request, response);\n    return;\n}\n\nvar jwt = header.replace(jwtUtils.Bearer, &quot;&quot;);\nvar username = jwtUtils.extractUsername(jwt);\n\nif (username == null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null) {\n    chain.doFilter(request, response);\n    return;\n}\n\nvar user = userService.loadUserByUsername(username);\n\nif (!jwtUtils.validateToken(jwt, user) || !user.isEnabled()) {\n    chain.doFilter(request, response);\n    return;\n}\n\nvar passwordAuthToken = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\npasswordAuthToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request)); // implies that request should contain user details?\nSecurityContextHolder.getContext().setAuthentication(passwordAuthToken);\nchain.doFilter(request, response);\n</code></pre>\n"}],"owner":{"account_id":16626797,"reputation":23,"user_id":12015704,"display_name":"sirkostya009"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73800315,"answer_count":1,"score":0,"last_activity_date":1663761429,"creation_date":1663693193,"question_id":73790214,"body_markdown":"I am developing a simple REST service where registered users can post stuff.\r\n\r\nRegistration and authentication work fine, however, when I try sending `POST` or `GET` requests to any protected path, I see a 200 status code without anything in response body in Postman.\r\n\r\nIf needed, I can provide the whole source code, but I think the issue lies somewhere either in filter class or in the configuration class.\r\n\r\nMy configuration:\r\n\r\n```java\r\nhttp\r\n    .csrf().disable()\r\n    .sessionManagement()\r\n        .sessionCreationPolicy(STATELESS)\r\n        .and()\r\n    .addFilterAfter(new JwtFilter(userService, jwtUtils), BasicAuthenticationFilter.class)\r\n    .authorizeRequests()\r\n        .antMatchers(&quot;/api/v1/register/**&quot;, &quot;/api/v1/users/authenticate&quot;).permitAll()\r\n        .anyRequest().authenticated();\r\n```\r\n\r\nMy `JwtFilter` class:\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic class JwtFilter extends OncePerRequestFilter {\r\n    private final UserService userService;\r\n    private final JwtUtils jwtUtils;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain chain) throws ServletException, IOException {\r\n        var header = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n\r\n        if (header == null || !header.startsWith(jwtUtils.Bearer)) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        var jwt = header.replace(jwtUtils.Bearer, &quot;&quot;);\r\n        var username = jwtUtils.extractUsername(jwt);\r\n\r\n        if (username == null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        var user = userService.loadUserByUsername(username);\r\n\r\n        if (!jwtUtils.validateToken(jwt, user) || !user.isEnabled()) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        var passwordAuthToken = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\r\n        passwordAuthToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request)); // implies that request should contain user details?\r\n        SecurityContextHolder.getContext().setAuthentication(passwordAuthToken);\r\n    }\r\n}\r\n```","title":"REST endpoints don&#39;t fire","body":"<p>I am developing a simple REST service where registered users can post stuff.</p>\n<p>Registration and authentication work fine, however, when I try sending <code>POST</code> or <code>GET</code> requests to any protected path, I see a 200 status code without anything in response body in Postman.</p>\n<p>If needed, I can provide the whole source code, but I think the issue lies somewhere either in filter class or in the configuration class.</p>\n<p>My configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .sessionManagement()\n        .sessionCreationPolicy(STATELESS)\n        .and()\n    .addFilterAfter(new JwtFilter(userService, jwtUtils), BasicAuthenticationFilter.class)\n    .authorizeRequests()\n        .antMatchers(&quot;/api/v1/register/**&quot;, &quot;/api/v1/users/authenticate&quot;).permitAll()\n        .anyRequest().authenticated();\n</code></pre>\n<p>My <code>JwtFilter</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class JwtFilter extends OncePerRequestFilter {\n    private final UserService userService;\n    private final JwtUtils jwtUtils;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain chain) throws ServletException, IOException {\n        var header = request.getHeader(HttpHeaders.AUTHORIZATION);\n\n        if (header == null || !header.startsWith(jwtUtils.Bearer)) {\n            chain.doFilter(request, response);\n            return;\n        }\n\n        var jwt = header.replace(jwtUtils.Bearer, &quot;&quot;);\n        var username = jwtUtils.extractUsername(jwt);\n\n        if (username == null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null) {\n            chain.doFilter(request, response);\n            return;\n        }\n\n        var user = userService.loadUserByUsername(username);\n\n        if (!jwtUtils.validateToken(jwt, user) || !user.isEnabled()) {\n            chain.doFilter(request, response);\n            return;\n        }\n\n        var passwordAuthToken = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\n        passwordAuthToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request)); // implies that request should contain user details?\n        SecurityContextHolder.getContext().setAuthentication(passwordAuthToken);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jsp","encoding"],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":452,"user_id":11532975,"display_name":"Adrian Lagartera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663758719,"creation_date":1663758719,"answer_id":73799769,"question_id":73798956,"body_markdown":"By default the JSPF Encoding its ISO-8859-1, the solution you found is the correct to change the encoding, and as you say could be a pain modify every single file. The ways I know for change that in the easiest way is adding this to your `web.xml`\r\n\r\n    &lt;jsp-config&gt;\r\n    &lt;jsp-property-group&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\r\n    &lt;/jsp-property-group&gt;\r\n&lt;/jsp-config&gt;\r\n\r\nOr change the context of your application server, idk if you are using Tomcat or another one.","title":"Spring Boot: how to set encoding in JSPF files to UTF-8","body":"<p>By default the JSPF Encoding its ISO-8859-1, the solution you found is the correct to change the encoding, and as you say could be a pain modify every single file. The ways I know for change that in the easiest way is adding this to your <code>web.xml</code></p>\n<pre><code>&lt;jsp-config&gt;\n&lt;jsp-property-group&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\n&lt;/jsp-property-group&gt;\n</code></pre>\n\n<p>Or change the context of your application server, idk if you are using Tomcat or another one.</p>\n"},{"tags":[],"owner":{"account_id":13622749,"reputation":583,"user_id":9826710,"display_name":"Abid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663761064,"creation_date":1663761064,"answer_id":73800231,"question_id":73798956,"body_markdown":"The solution [provided][1] cannot be applied directly to Spring Boot as it doesn&#39;t &quot;have&quot; a web.xml.\r\n\r\nInstead you have to configure the property group programmatically:\r\n\r\n    @Component\r\n    public class JspContextCustomizer implements TomcatContextCustomizer {\r\n      @Override\r\n      public void customize(Context context) {\r\n        JspPropertyGroup group = new JspPropertyGroup();\r\n        group.addUrlPattern(&quot;/*&quot;);\r\n        group.setPageEncoding(&quot;UTF-8&quot;);\r\n        context.setJspConfigDescriptor(new JspConfigDescriptorImpl(\r\n          Collections.singletonList(new JspPropertyGroupDescriptorImpl(group)),\r\n          Collections.emptyList()));\r\n      } \r\n    }\r\n\r\nThis works!\r\n\r\n  [1]: https://stackoverflow.com/a/73799769/9826710\r\n","title":"Spring Boot: how to set encoding in JSPF files to UTF-8","body":"<p>The solution <a href=\"https://stackoverflow.com/a/73799769/9826710\">provided</a> cannot be applied directly to Spring Boot as it doesn't &quot;have&quot; a web.xml.</p>\n<p>Instead you have to configure the property group programmatically:</p>\n<pre><code>@Component\npublic class JspContextCustomizer implements TomcatContextCustomizer {\n  @Override\n  public void customize(Context context) {\n    JspPropertyGroup group = new JspPropertyGroup();\n    group.addUrlPattern(&quot;/*&quot;);\n    group.setPageEncoding(&quot;UTF-8&quot;);\n    context.setJspConfigDescriptor(new JspConfigDescriptorImpl(\n      Collections.singletonList(new JspPropertyGroupDescriptorImpl(group)),\n      Collections.emptyList()));\n  } \n}\n</code></pre>\n<p>This works!</p>\n"}],"owner":{"account_id":13622749,"reputation":583,"user_id":9826710,"display_name":"Abid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663761330,"creation_date":1663754931,"question_id":73798956,"body_markdown":"I am struggling with encoding of jspf files. When I insert a german umlaut (e.g. &quot;&#228;&quot;) in the jspf the output in the browser is broken (some unreadable character).\r\n\r\nI start Spring Boot from within eclipse, the jspf file itself is encoded as UTF-8.\r\n\r\nNote that *this issue only applies to jspf files*. With jsp files everything is working fine as they contain the page directive `&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot;%&gt;`.\r\n\r\nThis is what I tried so far (none of them worked):\r\n- Insert `spring.http.encoding.charset=UTF-8, spring.http.encoding.enabled=true, spring.http.encoding.force=true` in *application.properties*\r\n- Insert `server.servlet.encoding.charset=UTF-8, server.servlet.encoding.enabled=true, server.servlet.encoding.force=true` in *application.properties*\r\n- Use `-Dfile.encoding=UTF-8` as JVM arg\r\n- Use a [CharacterEncodingFilter][1]\r\n\r\nThe only working option is to insert page directive in the jspf file:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot;%&gt;\r\n\r\nBut this has to be inserted in every jspf file. I&#39;m looking for some global option.\r\n\r\n  [1]: https://stackoverflow.com/a/28214811/9826710","title":"Spring Boot: how to set encoding in JSPF files to UTF-8","body":"<p>I am struggling with encoding of jspf files. When I insert a german umlaut (e.g. &quot;Ã¤&quot;) in the jspf the output in the browser is broken (some unreadable character).</p>\n<p>I start Spring Boot from within eclipse, the jspf file itself is encoded as UTF-8.</p>\n<p>Note that <em>this issue only applies to jspf files</em>. With jsp files everything is working fine as they contain the page directive <code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot;%&gt;</code>.</p>\n<p>This is what I tried so far (none of them worked):</p>\n<ul>\n<li>Insert <code>spring.http.encoding.charset=UTF-8, spring.http.encoding.enabled=true, spring.http.encoding.force=true</code> in <em>application.properties</em></li>\n<li>Insert <code>server.servlet.encoding.charset=UTF-8, server.servlet.encoding.enabled=true, server.servlet.encoding.force=true</code> in <em>application.properties</em></li>\n<li>Use <code>-Dfile.encoding=UTF-8</code> as JVM arg</li>\n<li>Use a <a href=\"https://stackoverflow.com/a/28214811/9826710\">CharacterEncodingFilter</a></li>\n</ul>\n<p>The only working option is to insert page directive in the jspf file:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot;%&gt;\n</code></pre>\n<p>But this has to be inserted in every jspf file. I'm looking for some global option.</p>\n"},{"tags":["java","android","ios","swift","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18043876,"reputation":1147,"user_id":13115358,"display_name":"Jolan DAUMAS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663761310,"creation_date":1663747788,"answer_id":73797361,"question_id":73797133,"body_markdown":"# Why it&#39;s empty\r\n\r\nIt&#39;s empty because you are not setting the [backing field][1] !\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/properties.html#backing-fields\r\n\r\n## Possible Solution (maybe)\r\n\r\nSo, if I understood right what you are trying to achieve, here is a possible solution for your problem\r\n```kotlin\r\n    private var issues: List&lt;Issues&gt; = emptyList()\r\n        set(value: List&lt;Issues&gt;){\r\n            field = TaskState.values().map {\r\n                 issues.filterNotNull().filter { issue -&gt;\r\n                    it.ids.any {  statusId -&gt;\r\n                        statusId == issue.status.currentStatus.id\r\n                    }\r\n                }\r\n            }.flatten()\r\n        }\r\n```\r\n\r\nI removed ``` models ``` and ``` components ``` because you are not using them.\r\n\r\n","title":"Filter and Count Items in List inside a For Loop | Kotlin","body":"<h1>Why it's empty</h1>\n<p>It's empty because you are not setting the <a href=\"https://kotlinlang.org/docs/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing field</a> !</p>\n<h2>Possible Solution (maybe)</h2>\n<p>So, if I understood right what you are trying to achieve, here is a possible solution for your problem</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private var issues: List&lt;Issues&gt; = emptyList()\n        set(value: List&lt;Issues&gt;){\n            field = TaskState.values().map {\n                 issues.filterNotNull().filter { issue -&gt;\n                    it.ids.any {  statusId -&gt;\n                        statusId == issue.status.currentStatus.id\n                    }\n                }\n            }.flatten()\n        }\n</code></pre>\n<p>I removed <code>models</code> and <code>components</code> because you are not using them.</p>\n"}],"owner":{"account_id":21137477,"reputation":97,"user_id":15540644,"display_name":"saxonsxexe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73797361,"answer_count":1,"score":0,"last_activity_date":1663761310,"creation_date":1663746572,"question_id":73797133,"body_markdown":"Hey guys I switched from Swift to Kotlin a few days ago and I&#39;m trying to implement a similar function I have in swift into kotlin and failing \r\n\r\nHere is what I&#39;m doing in swift\r\n\r\n```swift\r\n  private var issues: [PathPmCore.Issue] = [] {\r\n        didSet {\r\n            AppState.shared.issues = issues\r\n            taskModels.removeAll()\r\n            var models = [ListModel]()\r\n            var components = [Double]()\r\n            \r\n            for status in TaskState.allCases {\r\n                let count = issues.filter({ isssue in\r\n                    status.ids.contains(where: { statusId in\r\n                        statusId == isssue.status.currentStatus.id\r\n                    })\r\n                }).count\r\n                \r\n                models.append(.init(activeTasks: .constant(count), circleState: .constant(status)))\r\n                components.append(Double(count))\r\n            }\r\n            \r\n            DispatchQueue.main.async {\r\n                self.taskModels = models\r\n                self.chartComponents = components\r\n            }\r\n        }\r\n```\r\nThe way I approached it in Kotlin is similar\r\n```kotlin\r\nprivate var issues: List&lt;Issues&gt; = emptyList()\r\n           set(value: List&lt;Issues&gt;){\r\n               for (status in TaskState.values()) {\r\n                   val models: ArrayList&lt;ListModel&gt; = arrayListOf&lt;ListModel&gt;()\r\n                   val components = listOf&lt;Double&gt;()\r\n                   val count = issues.filterNotNull().forEach { issue -&gt;\r\n                      status.ids.find {  statusId -&gt;\r\n                          statusId == issue.status.currentStatus.id\r\n                      }\r\n                   }\r\n                    println(count)\r\n                    value.count()\r\n               }\r\n           }\r\n```\r\nIt works, with no errors but the one setter in Kotlin returns an empty array/list.","title":"Filter and Count Items in List inside a For Loop | Kotlin","body":"<p>Hey guys I switched from Swift to Kotlin a few days ago and I'm trying to implement a similar function I have in swift into kotlin and failing</p>\n<p>Here is what I'm doing in swift</p>\n<pre class=\"lang-swift prettyprint-override\"><code>  private var issues: [PathPmCore.Issue] = [] {\n        didSet {\n            AppState.shared.issues = issues\n            taskModels.removeAll()\n            var models = [ListModel]()\n            var components = [Double]()\n            \n            for status in TaskState.allCases {\n                let count = issues.filter({ isssue in\n                    status.ids.contains(where: { statusId in\n                        statusId == isssue.status.currentStatus.id\n                    })\n                }).count\n                \n                models.append(.init(activeTasks: .constant(count), circleState: .constant(status)))\n                components.append(Double(count))\n            }\n            \n            DispatchQueue.main.async {\n                self.taskModels = models\n                self.chartComponents = components\n            }\n        }\n</code></pre>\n<p>The way I approached it in Kotlin is similar</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private var issues: List&lt;Issues&gt; = emptyList()\n           set(value: List&lt;Issues&gt;){\n               for (status in TaskState.values()) {\n                   val models: ArrayList&lt;ListModel&gt; = arrayListOf&lt;ListModel&gt;()\n                   val components = listOf&lt;Double&gt;()\n                   val count = issues.filterNotNull().forEach { issue -&gt;\n                      status.ids.find {  statusId -&gt;\n                          statusId == issue.status.currentStatus.id\n                      }\n                   }\n                    println(count)\n                    value.count()\n               }\n           }\n</code></pre>\n<p>It works, with no errors but the one setter in Kotlin returns an empty array/list.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":223215,"reputation":2052,"user_id":482270,"display_name":"akseli"},"score":0,"creation_date":1663708282,"post_id":73792292,"comment_id":130302725,"body_markdown":"You&#39;re going to want to research computer vision and specific machine learning algorithms for signature recognition and verification. You&#39;re most probably best off outsourcing this to a 3rd party provider instead of having to deal with the complexities of the implementation yourself.","body":"You&#39;re going to want to research computer vision and specific machine learning algorithms for signature recognition and verification. You&#39;re most probably best off outsourcing this to a 3rd party provider instead of having to deal with the complexities of the implementation yourself."}],"answers":[{"tags":[],"owner":{"account_id":1202427,"reputation":1281,"user_id":3085617,"display_name":"SoftwareGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663711377,"creation_date":1663711377,"answer_id":73793088,"question_id":73792292,"body_markdown":"You cannot directly do this comparison over native android programming. You might need to avail a API based 3rd party tool to compare the image which might give you the % of similarity. \r\n\r\n\r\nhttps://stackoverflow.com/questions/72235701/best-way-to-compare-images-for-similarity-in-android","title":"Compare two handwritten signatures in Android","body":"<p>You cannot directly do this comparison over native android programming. You might need to avail a API based 3rd party tool to compare the image which might give you the % of similarity.</p>\n<p><a href=\"https://stackoverflow.com/questions/72235701/best-way-to-compare-images-for-similarity-in-android\">best way to compare images for similarity in android</a></p>\n"}],"owner":{"account_id":26037514,"reputation":33,"user_id":19742787,"display_name":"valami12334"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73793088,"answer_count":1,"score":3,"last_activity_date":1663761307,"creation_date":1663705668,"question_id":73792292,"body_markdown":"I would like to compare two handwritten signatures. The user adds 2 signatures (and the app saves it in Firebase) and later I want to check whether these two signatures are the same. I already made the saving in firebase and retrieving them into 2 imageviews. What I do not know is that how I can start comparing them. I would be satisfied if I could achieve that the application gives the difference between them. E.g. the difference between them is 2% so I can say that probably they are the same.\r\n","title":"Compare two handwritten signatures in Android","body":"<p>I would like to compare two handwritten signatures. The user adds 2 signatures (and the app saves it in Firebase) and later I want to check whether these two signatures are the same. I already made the saving in firebase and retrieving them into 2 imageviews. What I do not know is that how I can start comparing them. I would be satisfied if I could achieve that the application gives the difference between them. E.g. the difference between them is 2% so I can say that probably they are the same.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1663759268,"post_id":73799822,"comment_id":130313726,"body_markdown":"the problem here is that you are trying to cast a String with value &quot;Sug&quot; to a number. &quot;Sug&quot; is not a valid numerical value, which is why it fails.","body":"the problem here is that you are trying to cast a String with value &quot;Sug&quot; to a number. &quot;Sug&quot; is not a valid numerical value, which is why it fails."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663759487,"creation_date":1663759487,"answer_id":73799933,"question_id":73799822,"body_markdown":"Note that `String.split(regex)` uses a regex to find the split location, i.e. it splits before and after any match produced by the regular expression. \r\n\r\nFurthermore, in regex the pipe (`|`) has the special meaning &quot;or&quot; so your code right now reads as &quot;split on a space or a space&quot;. Since this splits on spaces only, splitting `&quot;B03 | Sug | 12 ...&quot;` will result in the array `[&quot;B03&quot;,&quot;|&quot;,&quot;Sug&quot;,&quot;|&quot;,&quot;12&quot;,...]` and hence `text[2]` yields `&quot;Sug&quot;`.\r\n\r\nInstead you need to escape the pipe by either using `line.split(&quot; \\\\| &quot;)` or `line.split(Pattern.quote(&quot; | &quot;))` to make it &quot;split on a sequence of space, pipe, space&quot;. That would then result in `[&quot;B03&quot;,&quot;Sug&quot;,&quot;12&quot;,...]`.\r\n\r\nHowever, you also might need to surround `Integer.parseInt()` etc. with a try-catch block or do some preliminary checks on the string because you might run into a malformed file.","title":"Not able to assign a text for a string in array using split method","body":"<p>Note that <code>String.split(regex)</code> uses a regex to find the split location, i.e. it splits before and after any match produced by the regular expression.</p>\n<p>Furthermore, in regex the pipe (<code>|</code>) has the special meaning &quot;or&quot; so your code right now reads as &quot;split on a space or a space&quot;. Since this splits on spaces only, splitting <code>&quot;B03 | Sug | 12 ...&quot;</code> will result in the array <code>[&quot;B03&quot;,&quot;|&quot;,&quot;Sug&quot;,&quot;|&quot;,&quot;12&quot;,...]</code> and hence <code>text[2]</code> yields <code>&quot;Sug&quot;</code>.</p>\n<p>Instead you need to escape the pipe by either using <code>line.split(&quot; \\\\| &quot;)</code> or <code>line.split(Pattern.quote(&quot; | &quot;))</code> to make it &quot;split on a sequence of space, pipe, space&quot;. That would then result in <code>[&quot;B03&quot;,&quot;Sug&quot;,&quot;12&quot;,...]</code>.</p>\n<p>However, you also might need to surround <code>Integer.parseInt()</code> etc. with a try-catch block or do some preliminary checks on the string because you might run into a malformed file.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663761034,"creation_date":1663761034,"answer_id":73800226,"question_id":73799822,"body_markdown":"In addition to what @Thomas has said, it would be a whole lot easier to use a ```Scanner``` \r\n\r\n    sc.useDelimiter(&quot;\\\\s*\\\\|\\\\s*&quot;);\r\n    while (sc.hasNext()) {\r\n    \tTrain t = new Train(sc.next(), sc.next(), sc.nextInt(), sc.nextInt(), sc.nextDouble(), sc.next());\r\n    }\r\n\r\n[Naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) is important in Java for readability and maintenance\r\nNote class names begin upper case in Java. There&#39;s no place for underscores except for as separators for blocks of capitals in the name of a constant. ","title":"Not able to assign a text for a string in array using split method","body":"<p>In addition to what @Thomas has said, it would be a whole lot easier to use a <code>Scanner</code></p>\n<pre><code>sc.useDelimiter(&quot;\\\\s*\\\\|\\\\s*&quot;);\nwhile (sc.hasNext()) {\n    Train t = new Train(sc.next(), sc.next(), sc.nextInt(), sc.nextInt(), sc.nextDouble(), sc.next());\n}\n</code></pre>\n<p><a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">Naming</a> is important in Java for readability and maintenance\nNote class names begin upper case in Java. There's no place for underscores except for as separators for blocks of capitals in the name of a constant.</p>\n"}],"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73799933,"answer_count":2,"score":0,"last_activity_date":1663761034,"creation_date":1663758935,"question_id":73799822,"body_markdown":"I have a question about my split function inside the file reading function.\r\nHere is my code. I tried to use split to put these text in to array. But the problem is I have this error. **java.lang.NumberFormatException: For input string: &quot;Sug&quot; at java.base/java.lang.NumberFormatException.forInputString**\r\n\r\n    public static SLL&lt;train&gt; readFile() {\r\n        SLL&lt;train&gt; list = new SLL();\r\n        try {\r\n            FileReader fr = new FileReader(&quot;Train.dat&quot;);\r\n            BufferedReader br = new BufferedReader(fr);\r\n            String line = &quot;&quot;;\r\n            while (true) {\r\n                line = br.readLine();\r\n                if (line == null) {\r\n                    break;\r\n                }\r\n                String[] text = line.split(&quot; | &quot;);\r\n                String tcode = text[0];\r\n                String train_name = text[1];\r\n                int seat = Integer.parseInt(text[2]);\r\n                int booked = Integer.parseInt(text[3]);\r\n                double depart_time = Double.parseDouble(text[4]);\r\n                String depart_place = text[5];\r\n                train t = new train(tcode, train_name, seat, booked, depart_time, depart_place);\r\n                list.addLast(t);\r\n            }\r\n            br.close();\r\n            fr.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return list;\r\nThis is my text file: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3YlIH.png\r\n&quot;SUG&quot; should be added into train name because I declared train_name as a string.I think this error only appears when declaring the wrong data type, &quot;12&quot; should be added into seat, &quot;3&quot; should be added into booked, and so on. Can you guys explained to me what happened to &quot;SUG&quot;. Thanks a lot :(","title":"Not able to assign a text for a string in array using split method","body":"<p>I have a question about my split function inside the file reading function.\nHere is my code. I tried to use split to put these text in to array. But the problem is I have this error. <strong>java.lang.NumberFormatException: For input string: &quot;Sug&quot; at java.base/java.lang.NumberFormatException.forInputString</strong></p>\n<pre><code>public static SLL&lt;train&gt; readFile() {\n    SLL&lt;train&gt; list = new SLL();\n    try {\n        FileReader fr = new FileReader(&quot;Train.dat&quot;);\n        BufferedReader br = new BufferedReader(fr);\n        String line = &quot;&quot;;\n        while (true) {\n            line = br.readLine();\n            if (line == null) {\n                break;\n            }\n            String[] text = line.split(&quot; | &quot;);\n            String tcode = text[0];\n            String train_name = text[1];\n            int seat = Integer.parseInt(text[2]);\n            int booked = Integer.parseInt(text[3]);\n            double depart_time = Double.parseDouble(text[4]);\n            String depart_place = text[5];\n            train t = new train(tcode, train_name, seat, booked, depart_time, depart_place);\n            list.addLast(t);\n        }\n        br.close();\n        fr.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return list;\n</code></pre>\n<p>This is my text file: <a href=\"https://i.stack.imgur.com/3YlIH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3YlIH.png\" alt=\"enter image description here\" /></a></p>\n<p>&quot;SUG&quot; should be added into train name because I declared train_name as a string.I think this error only appears when declaring the wrong data type, &quot;12&quot; should be added into seat, &quot;3&quot; should be added into booked, and so on. Can you guys explained to me what happened to &quot;SUG&quot;. Thanks a lot :(</p>\n"},{"tags":["java","rabbitmq","spring-webflux","project-reactor","spring-webclient"],"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":1,"creation_date":1631896108,"post_id":69225102,"comment_id":122356183,"body_markdown":"Is there any reason you can&#39;t just use `.flatMap(this::parse, 50)` to limit you to 50 concurrent requests as part of your flatmap call?","body":"Is there any reason you can&#39;t just use <code>.flatMap(this::parse, 50)</code> to limit you to 50 concurrent requests as part of your flatmap call?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1631896172,"post_id":69225102,"comment_id":122356207,"body_markdown":"You can add a second argument &quot;max concurrency&quot; to the flatmap operation. This is an integer to tell how many actions can be started concurrzntly at most.","body":"You can add a second argument &quot;max concurrency&quot; to the flatmap operation. This is an integer to tell how many actions can be started concurrzntly at most."},{"owner":{"account_id":22781165,"reputation":11,"user_id":16937117,"display_name":"Dmitriy Karlov"},"score":0,"creation_date":1631956863,"post_id":69225102,"comment_id":122367298,"body_markdown":"@MichaelBerry @amanin Thanks, it works. But then I faced with another problem - processing goes asynchronous that&#39;s why acknowledgement to RabbitMQ sends right after the message was consumed. Limit of 50 in `flatMap` is applied for each message that&#39;s why when next message consumes there&#39;re 100 concurrent requests and it failing again.","body":"@MichaelBerry @amanin Thanks, it works. But then I faced with another problem - processing goes asynchronous that&#39;s why acknowledgement to RabbitMQ sends right after the message was consumed. Limit of 50 in <code>flatMap</code> is applied for each message that&#39;s why when next message consumes there&#39;re 100 concurrent requests and it failing again."},{"owner":{"account_id":3299976,"reputation":426,"user_id":2776371,"display_name":"Jacob"},"score":0,"creation_date":1646497164,"post_id":69225102,"comment_id":126140255,"body_markdown":"Hi Dmitry, could you please look at https://stackoverflow.com/questions/71347590/correct-way-of-using-spring-webclient-in-spring-amqp. I have similar use case but having issue where occasionally one or more rabbitmq consumers just stop with unack messages. Could you help advise?","body":"Hi Dmitry, could you please look at <a href=\"https://stackoverflow.com/questions/71347590/correct-way-of-using-spring-webclient-in-spring-amqp\" title=\"correct way of using spring webclient in spring amqp\">stackoverflow.com/questions/71347590/&hellip;</a>. I have similar use case but having issue where occasionally one or more rabbitmq consumers just stop with unack messages. Could you help advise?"}],"owner":{"account_id":22781165,"reputation":11,"user_id":16937117,"display_name":"Dmitriy Karlov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663760985,"creation_date":1631888887,"question_id":69225102,"body_markdown":"I have a Spring Boot application that reads messages from RabbitMQ (via Spring AMQP `@RabbitListner`). These messages contain URLs that I need to request, parse the response and save to DB.\r\n\r\nI make request to these URLs through proxy (ScraperAPI) that permits up to 50 concurrent requests.\r\n\r\nThe response from this proxy takes ~30 seconds that&#39;s why for the best performance of my service I need to always keep 50 active requests. \r\n\r\nFor now I have following code:\r\n\r\n**RabbitMQ Message**\r\n```\r\npublic class UrlToParse{\r\n    private String propertyUrl;\r\n    private String zillowUrl;\r\n}\r\n```\r\n\r\n\r\n**RabbitMQ Listener**\r\n```\r\n@RabbitListener(queues = &quot;urls.queue&quot;})\r\npublic void consumeUrls(UrlsToParse urls) {\r\n    parserManager.parseUrls(urls.getUrlsToParse());\r\n}\r\n```\r\n\r\n**Parser Manager**\r\n```\r\n    public void parseUrls(List&lt;UrlToParse&gt; urls) {\r\n        Flux.fromIterable(stream)\r\n            .parallel()\r\n            .runOn(Schedulers.boundedElastic())\r\n            .flatMap(this::parse)\r\n            .flatMap(url -&gt; Mono.just(urlsRepository.save(url)))\r\n            .subscribe();\r\n    }\r\n\r\n    private Mono&lt;ParsedUrl&gt; parse(UrlToParse url) {\r\n        return webClient\r\n            .get()\r\n            .uri(url.getUrl())\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .flatMap(s -&gt; Mono.just(buildParsedUrl(s)));\r\n    }\r\n```\r\n\r\nI tried to add `.delayElements()`, `.limitRate()` and `Sinks.many().multicast().onBackpressureBuffer()` but it looks more like hard-coded  solution and won&#39;t work if message amount grows.\r\n\r\nIn non-reactive programming solution for this task sounds like BlockingQueue. But I&#39;m wondering is there any mechanisms to make it Reactive?\r\n\r\nThanks in advance\r\n\r\n## UPDATE ##\r\n\r\nI implemented this in the following way:\r\n\r\n 1. Use `.flatMap(this::parse, 50)` to limit concurrency in flatMap\r\n 2. Call `.block()` at the end of Flux. This was needed to send acknowledgment to RabbitMQ only once all URLs are were processed. Otherwise, acknowledgment is sent immediately and new messages were consumed. In this way I get 10 messages being processed with 50 concurrent calls = 500 concurrent calls.\r\n\r\nFor more reactive approach you can look into Reactor RabbitMQ but unfortunately I didn&#39;t have time for this\r\n\r\n## UPDATE 2 ##\r\n\r\nInstead of using Reactor RabbitMQ you can manually poll for messages in `Flux.generate()` method along with `flatMap(function, concurrency)` to control the back-pressure:\r\n\r\n```\r\nFlux.generate((SynchronousSink&lt;UrlToParse&gt; synchronousSink) -&gt; {\r\n                    UrlToParse urls = amqpTemplate.receiveAndConvert(queueName, UrlToParse.class);\r\n                    if (urls != null) {\r\n                        synchronousSink.next(urls);\r\n                    }\r\n                })\r\n```","title":"Keep fixed active requests in Spring WebClient","body":"<p>I have a Spring Boot application that reads messages from RabbitMQ (via Spring AMQP <code>@RabbitListner</code>). These messages contain URLs that I need to request, parse the response and save to DB.</p>\n<p>I make request to these URLs through proxy (ScraperAPI) that permits up to 50 concurrent requests.</p>\n<p>The response from this proxy takes ~30 seconds that's why for the best performance of my service I need to always keep 50 active requests.</p>\n<p>For now I have following code:</p>\n<p><strong>RabbitMQ Message</strong></p>\n<pre><code>public class UrlToParse{\n    private String propertyUrl;\n    private String zillowUrl;\n}\n</code></pre>\n<p><strong>RabbitMQ Listener</strong></p>\n<pre><code>@RabbitListener(queues = &quot;urls.queue&quot;})\npublic void consumeUrls(UrlsToParse urls) {\n    parserManager.parseUrls(urls.getUrlsToParse());\n}\n</code></pre>\n<p><strong>Parser Manager</strong></p>\n<pre><code>    public void parseUrls(List&lt;UrlToParse&gt; urls) {\n        Flux.fromIterable(stream)\n            .parallel()\n            .runOn(Schedulers.boundedElastic())\n            .flatMap(this::parse)\n            .flatMap(url -&gt; Mono.just(urlsRepository.save(url)))\n            .subscribe();\n    }\n\n    private Mono&lt;ParsedUrl&gt; parse(UrlToParse url) {\n        return webClient\n            .get()\n            .uri(url.getUrl())\n            .retrieve()\n            .bodyToMono(String.class)\n            .flatMap(s -&gt; Mono.just(buildParsedUrl(s)));\n    }\n</code></pre>\n<p>I tried to add <code>.delayElements()</code>, <code>.limitRate()</code> and <code>Sinks.many().multicast().onBackpressureBuffer()</code> but it looks more like hard-coded  solution and won't work if message amount grows.</p>\n<p>In non-reactive programming solution for this task sounds like BlockingQueue. But I'm wondering is there any mechanisms to make it Reactive?</p>\n<p>Thanks in advance</p>\n<h2>UPDATE</h2>\n<p>I implemented this in the following way:</p>\n<ol>\n<li>Use <code>.flatMap(this::parse, 50)</code> to limit concurrency in flatMap</li>\n<li>Call <code>.block()</code> at the end of Flux. This was needed to send acknowledgment to RabbitMQ only once all URLs are were processed. Otherwise, acknowledgment is sent immediately and new messages were consumed. In this way I get 10 messages being processed with 50 concurrent calls = 500 concurrent calls.</li>\n</ol>\n<p>For more reactive approach you can look into Reactor RabbitMQ but unfortunately I didn't have time for this</p>\n<h2>UPDATE 2</h2>\n<p>Instead of using Reactor RabbitMQ you can manually poll for messages in <code>Flux.generate()</code> method along with <code>flatMap(function, concurrency)</code> to control the back-pressure:</p>\n<pre><code>Flux.generate((SynchronousSink&lt;UrlToParse&gt; synchronousSink) -&gt; {\n                    UrlToParse urls = amqpTemplate.receiveAndConvert(queueName, UrlToParse.class);\n                    if (urls != null) {\n                        synchronousSink.next(urls);\n                    }\n                })\n</code></pre>\n"},{"tags":["java","rest","mocking","powermock"],"answers":[{"tags":[],"owner":{"account_id":2557233,"reputation":56,"user_id":3544063,"display_name":"Klioda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663760796,"creation_date":1663760796,"answer_id":73800183,"question_id":73800094,"body_markdown":"It might not what you are looking for, but just in case:\r\n\r\nUsually for such repository tests in memory databases are used, for example `H2`. So you can fill it with test data and then call `getAll()` to check if it works correctly.","title":"Mocking a function without argument containing CriteriaBuilder is it possible?","body":"<p>It might not what you are looking for, but just in case:</p>\n<p>Usually for such repository tests in memory databases are used, for example <code>H2</code>. So you can fill it with test data and then call <code>getAll()</code> to check if it works correctly.</p>\n"}],"owner":{"account_id":22851545,"reputation":7,"user_id":16997079,"display_name":"HIZAM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663760796,"creation_date":1663760312,"question_id":73800094,"body_markdown":"I think the reason why is impossible to mock criteriabuilder is because it only response to the database created in postgres. If that&#39;s not the case then how can solve this error (shown below).\r\n**class MessageRest**\r\n\r\n     public List&lt;Message&gt; getListAll(){\r\n            logger.info(&quot;Get all messages&quot;);\r\n            return messageRepository.getAll();\r\n        }\r\n**class MessageRepository** \r\n \r\n\r\n     public List&lt;Message&gt; getAll(){\r\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Message&gt; criteria = criteriaBuilder.createQuery(Message.class);\r\n            criteria.from(Message.class);\r\n            return entityManager.createQuery(criteria).getResultList();\r\n        }\r\n**class MessageRestTest** \r\n\r\n    class MessageRESTTest {\r\n    \r\n    \r\n        @InjectMocks\r\n        MessageREST messageREST;\r\n    \r\n        @Mock\r\n        private EntityManager entityManager;\r\n        @Mock\r\n        private MessageRepository messageRepository;\r\n    \r\n        @BeforeEach\r\n        void Mockactivator() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n     @Test\r\n        void testgetlistall()\r\n        {\r\n    \r\n            List&lt;Message&gt; messageList = new ArrayList&lt;&gt;();\r\n            Message message = new Message();\r\n            messageList.add(message);\r\n            when(messageRepository.getAll()).thenReturn(messageList);\r\n            messageList = messageREST.getListAll(); \r\n        }\r\n    }\r\nThe Error am getting is NullpointerException and it&#39;s comming from the last line **&quot;messageList = messageREST.getListAll()&quot;** \r\nThanks in advance!","title":"Mocking a function without argument containing CriteriaBuilder is it possible?","body":"<p>I think the reason why is impossible to mock criteriabuilder is because it only response to the database created in postgres. If that's not the case then how can solve this error (shown below).\n<strong>class MessageRest</strong></p>\n<pre><code> public List&lt;Message&gt; getListAll(){\n        logger.info(&quot;Get all messages&quot;);\n        return messageRepository.getAll();\n    }\n</code></pre>\n<p><strong>class MessageRepository</strong></p>\n<pre><code> public List&lt;Message&gt; getAll(){\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Message&gt; criteria = criteriaBuilder.createQuery(Message.class);\n        criteria.from(Message.class);\n        return entityManager.createQuery(criteria).getResultList();\n    }\n</code></pre>\n<p><strong>class MessageRestTest</strong></p>\n<pre><code>class MessageRESTTest {\n\n\n    @InjectMocks\n    MessageREST messageREST;\n\n    @Mock\n    private EntityManager entityManager;\n    @Mock\n    private MessageRepository messageRepository;\n\n    @BeforeEach\n    void Mockactivator() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n @Test\n    void testgetlistall()\n    {\n\n        List&lt;Message&gt; messageList = new ArrayList&lt;&gt;();\n        Message message = new Message();\n        messageList.add(message);\n        when(messageRepository.getAll()).thenReturn(messageList);\n        messageList = messageREST.getListAll(); \n    }\n}\n</code></pre>\n<p>The Error am getting is NullpointerException and it's comming from the last line <strong>&quot;messageList = messageREST.getListAll()&quot;</strong>\nThanks in advance!</p>\n"},{"tags":["java","c","unix","linux-kernel","stdin"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1663750765,"post_id":73797882,"comment_id":130310721,"body_markdown":"Basically, streams are just sequences of bytes. stdio (standard I/O) references those you said. But every TCP connection, every stream between two threads, every stream from drives, from devices in general, they all are streams. Often, primarily package-oriented systems (like UDP or USB) also are accessible as streams, an abstraction, to make access easier.  The difference is that every application on unix/linux/windows systems has at least those three (in, out, errout) by default, the others you have to create and access by your own means.","body":"Basically, streams are just sequences of bytes. stdio (standard I/O) references those you said. But every TCP connection, every stream between two threads, every stream from drives, from devices in general, they all are streams. Often, primarily package-oriented systems (like UDP or USB) also are accessible as streams, an abstraction, to make access easier.  The difference is that every application on unix/linux/windows systems has at least those three (in, out, errout) by default, the others you have to create and access by your own means."},{"owner":{"account_id":12776,"reputation":107137,"user_id":25324,"accept_rate":100,"display_name":"pmg"},"score":0,"creation_date":1663750768,"post_id":73797882,"comment_id":130310722,"body_markdown":"They&#39;re *standard* because the C Standard says they&#39;re defined in `&lt;stdio.h&gt;`. No other identifiers are used in this manner. C has no concept of &quot;kernel&quot;, that&#39;s an implementation issue.","body":"They&#39;re <i>standard</i> because the C Standard says they&#39;re defined in <code>&lt;stdio.h&gt;</code>. No other identifiers are used in this manner. C has no concept of &quot;kernel&quot;, that&#39;s an implementation issue."},{"owner":{"account_id":16596354,"reputation":6376,"user_id":11993121,"display_name":"nielsen"},"score":1,"creation_date":1663751870,"post_id":73797882,"comment_id":130311109,"body_markdown":"Is this a question about C, Java or the Linux kernel (which does not care about application programming language)?","body":"Is this a question about C, Java or the Linux kernel (which does not care about application programming language)?"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1663754766,"post_id":73797882,"comment_id":130312196,"body_markdown":"They are the three streams that are &quot;standard&quot; to every process. Shells connect the three to the terminal (printer and keyboard, or serial port, or like now: virtual terminal connected to a screen and a keyboard). The other streams: you are responsible to open and close, and if you fork a program, you should usually close all other (non-std) streams.","body":"They are the three streams that are &quot;standard&quot; to every process. Shells connect the three to the terminal (printer and keyboard, or serial port, or like now: virtual terminal connected to a screen and a keyboard). The other streams: you are responsible to open and close, and if you fork a program, you should usually close all other (non-std) streams."}],"answers":[{"tags":[],"owner":{"account_id":11299410,"reputation":443,"user_id":14677542,"display_name":"Imeguras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663756935,"creation_date":1663752980,"answer_id":73798559,"question_id":73797882,"body_markdown":"In Unix ideology, everything should either be a file or a directory.  This is why you can see your devices in /dev or your running processes in /proc. There are some exceptions depending on the implementation or distro. But everything you can &quot;touch&quot; or think as a &quot;thing&quot; is **typically** represented by a file\r\n\r\nAs JayC667 said a stream is just a sequence of bytes, which in the end is just a file. For example you can open a file (using fopen) and then use fprintf to write in the newly opened stream. There are many other examples of non-standard streams all typically contain a file handler, for standard ones, the file handler of stdin is 0, stdout 1, and stderr is 2; these don&#39;t change.  Using write() you can use these ids to write to any stream although since only these three are standard you mostly won&#39;t be hardcoding any number in, other than these three (as usual there are some exceptions).\r\n\r\nAnother thing that might help you understand the concept is, if you are on linux you can do `ps -ef | grep &lt;program&gt;` and then go to /proc/\\&lt;pid\\&gt;/fd to see the opened file descriptors. Tipically you will find the first two standard file descriptors(stdin, and stdout) along with other &quot;non standard&quot; ones","title":"Standard streams vs. non-standard streams","body":"<p>In Unix ideology, everything should either be a file or a directory.  This is why you can see your devices in /dev or your running processes in /proc. There are some exceptions depending on the implementation or distro. But everything you can &quot;touch&quot; or think as a &quot;thing&quot; is <strong>typically</strong> represented by a file</p>\n<p>As JayC667 said a stream is just a sequence of bytes, which in the end is just a file. For example you can open a file (using fopen) and then use fprintf to write in the newly opened stream. There are many other examples of non-standard streams all typically contain a file handler, for standard ones, the file handler of stdin is 0, stdout 1, and stderr is 2; these don't change.  Using write() you can use these ids to write to any stream although since only these three are standard you mostly won't be hardcoding any number in, other than these three (as usual there are some exceptions).</p>\n<p>Another thing that might help you understand the concept is, if you are on linux you can do <code>ps -ef | grep &lt;program&gt;</code> and then go to /proc/&lt;pid&gt;/fd to see the opened file descriptors. Tipically you will find the first two standard file descriptors(stdin, and stdout) along with other &quot;non standard&quot; ones</p>\n"},{"tags":[],"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663760140,"creation_date":1663756203,"answer_id":73799231,"question_id":73797882,"body_markdown":"The standard streams are simply the ones ordinarily open when starting a new program in a new process.\r\n\r\nProcesses may open other streams, whether to regular files, devices (or pseudo-devices), network connections, or what have you. To the operating system kernel, other streams opened by a process are not fundamentally different from the standard streams.\r\n\r\nWhen a shell executes a command, the shell is responsible for setting up the standard streams as it creates the new process and starts execution of the program. It does this through ordinary system calls to open or otherwise work with streams. If you write your own program to create a new process, it can configure the streams differently from standard, and the operating system will not care.\r\n\r\nLinux is [Unix-like](https://en.wikipedia.org/wiki/Unix-like), and [The Single Unix Specification](https://unix.org/version4/) has an section â€œstderr, stdin, stdout - standard I/O streamsâ€ which says:\r\n\r\n&gt; â€¦ At program start-up, three streams shall be predefined and need not be opened explicitly: *standard input* (for reading conventional input), *standard output* (for writing conventional output), and *standard error* (for writing diagnostic output)â€¦","title":"Standard streams vs. non-standard streams","body":"<p>The standard streams are simply the ones ordinarily open when starting a new program in a new process.</p>\n<p>Processes may open other streams, whether to regular files, devices (or pseudo-devices), network connections, or what have you. To the operating system kernel, other streams opened by a process are not fundamentally different from the standard streams.</p>\n<p>When a shell executes a command, the shell is responsible for setting up the standard streams as it creates the new process and starts execution of the program. It does this through ordinary system calls to open or otherwise work with streams. If you write your own program to create a new process, it can configure the streams differently from standard, and the operating system will not care.</p>\n<p>Linux is <a href=\"https://en.wikipedia.org/wiki/Unix-like\" rel=\"nofollow noreferrer\">Unix-like</a>, and <a href=\"https://unix.org/version4/\" rel=\"nofollow noreferrer\">The Single Unix Specification</a> has an section â€œstderr, stdin, stdout - standard I/O streamsâ€ which says:</p>\n<blockquote>\n<p>â€¦ At program start-up, three streams shall be predefined and need not be opened explicitly: <em>standard input</em> (for reading conventional input), <em>standard output</em> (for writing conventional output), and <em>standard error</em> (for writing diagnostic output)â€¦</p>\n</blockquote>\n"}],"owner":{"account_id":26249136,"reputation":1,"user_id":19922214,"display_name":"Md. Al-Amin Patwoary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663760140,"creation_date":1663750138,"question_id":73797882,"body_markdown":"The so-called **&quot;standard streams&quot;** in Linux are **stdin**, **stdout**, and **stderr**. But they must be called &quot;standard&quot; for a reason. **Are there non-standard streams?** And are these non-standard streams fundamentally treated differently by the kernel?","title":"Standard streams vs. non-standard streams","body":"<p>The so-called <strong>&quot;standard streams&quot;</strong> in Linux are <strong>stdin</strong>, <strong>stdout</strong>, and <strong>stderr</strong>. But they must be called &quot;standard&quot; for a reason. <strong>Are there non-standard streams?</strong> And are these non-standard streams fundamentally treated differently by the kernel?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1663765514,"post_id":73800060,"comment_id":130316037,"body_markdown":"My guess is that your program is outputting an [ANSII escape code](https://en.wikipedia.org/wiki/ANSI_escape_code) sequence that changes the output color.  In fact, it looks like the code is output before the `T` in `Test`.","body":"My guess is that your program is outputting an <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">ANSII escape code</a> sequence that changes the output color.  In fact, it looks like the code is output before the <code>T</code> in <code>Test</code>."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1663766111,"post_id":73800060,"comment_id":130316300,"body_markdown":"If this is an ANSI colour you can turn it off in the Eclipse Preferences in Run/Debug &gt; Console &gt; ANSI Support (Eclipse 2022-09 onwards)","body":"If this is an ANSI colour you can turn it off in the Eclipse Preferences in Run/Debug &gt; Console &gt; ANSI Support (Eclipse 2022-09 onwards)"}],"owner":{"account_id":10326397,"reputation":21,"user_id":9026050,"display_name":"TeeAgeSee Privat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1663760136,"creation_date":1663760136,"question_id":73800060,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e8Hia.png\r\n\r\nHello people! My Eclipse highlights my exceptions for no reason, or a reason i don&#39;t know of.\r\nI reseted all Preferences, restarted my eclipse. It literally makes my eyes burn while trying to think of how to fix these exceptions.\r\n\r\nThanks a lot in advance &lt;3","title":"Eclipse highlights my exceptions blue, why?","body":"<p><a href=\"https://i.stack.imgur.com/e8Hia.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Hello people! My Eclipse highlights my exceptions for no reason, or a reason i don't know of.\nI reseted all Preferences, restarted my eclipse. It literally makes my eyes burn while trying to think of how to fix these exceptions.</p>\n<p>Thanks a lot in advance &lt;3</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":1,"creation_date":1663756091,"post_id":73799179,"comment_id":130312650,"body_markdown":"*it&#39;s not invoking the method.* - what exactly it does? what is your expected behaviour? any debugging details?","body":"<i>it&#39;s not invoking the method.</i> - what exactly it does? what is your expected behaviour? any debugging details?"},{"owner":{"account_id":26400809,"reputation":11,"user_id":20051309,"display_name":"Zakir Qureshi"},"score":0,"creation_date":1663756242,"post_id":73799179,"comment_id":130312696,"body_markdown":"it&#39;s does nothing, no error. expected behavior, just execute the method.","body":"it&#39;s does nothing, no error. expected behavior, just execute the method."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1663757136,"post_id":73799179,"comment_id":130313015,"body_markdown":"Have you done any debugging to find out what it IS finding? The File definition looks like it has a typo and the class name doesn&#39;t adhere to Java naming conventions.  But I would expect those to produce exceptions and you report there are none.  Can you add the relevant portion of the class you are trying to invoke?","body":"Have you done any debugging to find out what it IS finding? The File definition looks like it has a typo and the class name doesn&#39;t adhere to Java naming conventions.  But I would expect those to produce exceptions and you report there are none.  Can you add the relevant portion of the class you are trying to invoke?"},{"owner":{"account_id":420244,"reputation":435,"user_id":797857,"display_name":"icrovett"},"score":1,"creation_date":1663757311,"post_id":73799179,"comment_id":130313066,"body_markdown":"debug the code and get a close look inside the loop, specially:  methods[i].getName().contentEquals(&quot;printMsg&quot;)","body":"debug the code and get a close look inside the loop, specially:  methods[i].getName().contentEquals(&quot;printMsg&quot;)"},{"owner":{"account_id":26400809,"reputation":11,"user_id":20051309,"display_name":"Zakir Qureshi"},"score":0,"creation_date":1663758711,"post_id":73799179,"comment_id":130313520,"body_markdown":"@vsfDawg i have added the calling class in the body","body":"@vsfDawg i have added the calling class in the body"},{"owner":{"account_id":26400809,"reputation":11,"user_id":20051309,"display_name":"Zakir Qureshi"},"score":0,"creation_date":1663760170,"post_id":73799179,"comment_id":130314091,"body_markdown":"@icrovett have debug the code and added the method where obj value is getting turn to null","body":"@icrovett have debug the code and added the method where obj value is getting turn to null"},{"owner":{"account_id":420244,"reputation":435,"user_id":797857,"display_name":"icrovett"},"score":0,"creation_date":1663760705,"post_id":73799179,"comment_id":130314263,"body_markdown":"Two things i found strange is that this line : `Class&lt;?&gt; cls = cl.loadClass(&quot;userDefineKeywords&quot;);` is not using the package and also that it is not starting in capital letters (the second thing is irrelevant but bothers me :) )","body":"Two things i found strange is that this line : <code>Class&lt;?&gt; cls = cl.loadClass(&quot;userDefineKeywords&quot;);</code> is not using the package and also that it is not starting in capital letters (the second thing is irrelevant but bothers me :) )"}],"owner":{"account_id":26400809,"reputation":11,"user_id":20051309,"display_name":"Zakir Qureshi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1663760111,"creation_date":1663755954,"question_id":73799179,"body_markdown":"trying to access a java class method from different maven project using class loader. able to load and retrieve all the methods available in the respective class. but, it&#39;s not invoking the method.\r\n\r\nmy code snippet.\r\n\r\n    File file = new File(&quot;/sr/main/java/&quot;);\r\n\t\t try {\r\n\t\t\tURL url = file.toURI().toURL();\r\n\t\t\tURL[] urls = new URL[]{url};\r\n\t\t\tObject obj = null;\r\n\t\t\t\r\n\t\t\tClassLoader cl = new URLClassLoader(urls);\r\n\t\t\tClass&lt;?&gt; cls = cl.loadClass(&quot;userDefineKeywords&quot;);\r\n\t\t\t\r\n\t\t\tobj = cls.getDeclaredConstructor().newInstance();\r\n\t\t\t\r\n\t\t\tObject[] args1 = null;\r\n\t\t\t\r\n\t\t\tMethod[] methods =cls.getDeclaredMethods();\r\n\r\n\t\t\tfor(int i=0; i&lt;methods.length;i++) {\r\n\t\t\t\tif(methods[i].getName().contentEquals(&quot;printMsg&quot;)) {\r\n\t\t\t\t\t//obj =methods[i].getDeclaringClass();\r\n\t\t\t\t\tmethods[i].invoke(obj, args1);\r\n\t\t\t\t\tSystem.out.println(methods[i].isAccessible());\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t} catch (MalformedURLException | ClassNotFoundException | IllegalArgumentException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t \t\te.printStackTrace();\r\n\t\t}\r\n\r\nCalling class:\r\n\r\n    public class userDefineKeywords { \r\n\tpublic void printMsg() {\r\n\t\tSystem.out.println(&quot;the invoking class&quot;);\r\n\t}\r\n}\r\n\r\nsomething making obj to null here:\r\n\r\n    public Object invoke(Object obj, Object[] args)\r\n        throws IllegalArgumentException, InvocationTargetException\r\n    {\r\n        // We can&#39;t inflate methods belonging to vm-anonymous classes because\r\n        // that kind of class can&#39;t be referred to by name, hence can&#39;t be\r\n        // found from the generated bytecode.\r\n        if (++numInvocations &gt; ReflectionFactory.inflationThreshold()\r\n                &amp;&amp; !ReflectUtil.isVMAnonymousClass(method.getDeclaringClass())) {\r\n            MethodAccessorImpl acc = (MethodAccessorImpl)\r\n                new MethodAccessorGenerator().\r\n                    generateMethod(method.getDeclaringClass(),\r\n                                   method.getName(),\r\n                                   method.getParameterTypes(),\r\n                                   method.getReturnType(),\r\n                                   method.getExceptionTypes(),\r\n                                   method.getModifiers());\r\n            parent.setDelegate(acc);\r\n        }\r\n\r\n        return invoke0(method, obj, args);\r\n    }\r\n\r\nThanks!\r\n\r\n ","title":"How to access java class method from different maven project using class loader","body":"<p>trying to access a java class method from different maven project using class loader. able to load and retrieve all the methods available in the respective class. but, it's not invoking the method.</p>\n<p>my code snippet.</p>\n<pre><code>File file = new File(&quot;/sr/main/java/&quot;);\n     try {\n        URL url = file.toURI().toURL();\n        URL[] urls = new URL[]{url};\n        Object obj = null;\n        \n        ClassLoader cl = new URLClassLoader(urls);\n        Class&lt;?&gt; cls = cl.loadClass(&quot;userDefineKeywords&quot;);\n        \n        obj = cls.getDeclaredConstructor().newInstance();\n        \n        Object[] args1 = null;\n        \n        Method[] methods =cls.getDeclaredMethods();\n\n        for(int i=0; i&lt;methods.length;i++) {\n            if(methods[i].getName().contentEquals(&quot;printMsg&quot;)) {\n                //obj =methods[i].getDeclaringClass();\n                methods[i].invoke(obj, args1);\n                System.out.println(methods[i].isAccessible());\n            }   \n        }\n    } catch (MalformedURLException | ClassNotFoundException | IllegalArgumentException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Calling class:</p>\n<pre><code>public class userDefineKeywords { \npublic void printMsg() {\n    System.out.println(&quot;the invoking class&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>something making obj to null here:</p>\n<pre><code>public Object invoke(Object obj, Object[] args)\n    throws IllegalArgumentException, InvocationTargetException\n{\n    // We can't inflate methods belonging to vm-anonymous classes because\n    // that kind of class can't be referred to by name, hence can't be\n    // found from the generated bytecode.\n    if (++numInvocations &gt; ReflectionFactory.inflationThreshold()\n            &amp;&amp; !ReflectUtil.isVMAnonymousClass(method.getDeclaringClass())) {\n        MethodAccessorImpl acc = (MethodAccessorImpl)\n            new MethodAccessorGenerator().\n                generateMethod(method.getDeclaringClass(),\n                               method.getName(),\n                               method.getParameterTypes(),\n                               method.getReturnType(),\n                               method.getExceptionTypes(),\n                               method.getModifiers());\n        parent.setDelegate(acc);\n    }\n\n    return invoke0(method, obj, args);\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","eclipse","jboss-tools","eclipse-marketplace"],"answers":[{"tags":[],"owner":{"account_id":26331198,"reputation":1,"user_id":19991645,"display_name":"ÐœÐ°Ñ€ÑŒÑÐ½Ð° Ð”Ð¾Ñ‰Ð°Ð½Ð¾Ð²Ð°"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663759726,"creation_date":1663133334,"answer_id":73711905,"question_id":64684250,"body_markdown":"You need to make sure you use a version of OpenJDK which supports your Eclipse version. It is very important and will impact successful loading of Eclipse.\r\n\r\nFor example, with Eclipse 2022-06 (4.24.0) you should use OpenJDK 11.0.2.","title":"Unable to read repository at https://download.jboss.org/jbosstools/photon/stable/composite/4.17.0/content.xml","body":"<p>You need to make sure you use a version of OpenJDK which supports your Eclipse version. It is very important and will impact successful loading of Eclipse.</p>\n<p>For example, with Eclipse 2022-06 (4.24.0) you should use OpenJDK 11.0.2.</p>\n"}],"owner":{"account_id":19897776,"reputation":1,"user_id":14578522,"display_name":"Jamal SAHRI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663759726,"creation_date":1604508364,"question_id":64684250,"body_markdown":"I wanted to install JBoss Tools plugin. I get the following error when I try to install from Eclipse MarketPlace.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kIcsN.jpg","title":"Unable to read repository at https://download.jboss.org/jbosstools/photon/stable/composite/4.17.0/content.xml","body":"<p>I wanted to install JBoss Tools plugin. I get the following error when I try to install from Eclipse MarketPlace.\n<a href=\"https://i.stack.imgur.com/kIcsN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIcsN.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":10559241,"reputation":991,"user_id":7779517,"display_name":"Eduard Dubilyer"},"score":2,"creation_date":1586413723,"post_id":61115131,"comment_id":108119704,"body_markdown":"please add a sample code block. It will help to understand an issue","body":"please add a sample code block. It will help to understand an issue"},{"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"score":1,"creation_date":1586846099,"post_id":61115131,"comment_id":108270067,"body_markdown":"It means that you are passing null value in the assertEquals() method instead of string.","body":"It means that you are passing null value in the assertEquals() method instead of string."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1663324077,"post_id":61115131,"comment_id":130217789,"body_markdown":"Additional information to @SubanDhyako which is right: The method `assertEquals` can compare different types. Since this method is generic implemented there is just 1 Rule - both parameters need to have the same type so they can be compared by object content/reference (depends on `hashCode()`). In this case 1 param is recognized as String ince there is a given value. I would guess your expected value. The other one is NULL so the type is not recognized and the method `assertEquals(T,T)` does not match.\n\nIf NULL is spected use `asserIsNull` instead","body":"Additional information to @SubanDhyako which is right: The method <code>assertEquals</code> can compare different types. Since this method is generic implemented there is just 1 Rule - both parameters need to have the same type so they can be compared by object content/reference (depends on <code>hashCode()</code>). In this case 1 param is recognized as String ince there is a given value. I would guess your expected value. The other one is NULL so the type is not recognized and the method <code>assertEquals(T,T)</code> does not match.  If NULL is spected use <code>asserIsNull</code> instead"}],"answers":[{"tags":[],"owner":{"account_id":26354226,"reputation":1,"user_id":20011450,"display_name":"Sorna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663759718,"creation_date":1663323482,"answer_id":73743311,"question_id":61115131,"body_markdown":"I had the same issue after adding code\r\n\r\n    import static org.junit.Assert.*;\r\n\r\nbut I tried with this import static \r\n\r\n    org.junit.jupiter.api.Assertions.assertEquals; \r\nit worked for me.","title":"Error:The method assertEquals(String, String) is undefined for the type Object","body":"<p>I had the same issue after adding code</p>\n<pre><code>import static org.junit.Assert.*;\n</code></pre>\n<p>but I tried with this import static</p>\n<pre><code>org.junit.jupiter.api.Assertions.assertEquals; \n</code></pre>\n<p>it worked for me.</p>\n"}],"owner":{"account_id":15315310,"reputation":69,"user_id":11049504,"display_name":"TestQA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663759718,"creation_date":1586413483,"question_id":61115131,"body_markdown":"Even after imported import static org.junit.Assert.*;getting below error \r\n\r\nError:The method assertEquals(String, String) is undefined for the type Object ","title":"Error:The method assertEquals(String, String) is undefined for the type Object","body":"<p>Even after imported import static org.junit.Assert.*;getting below error </p>\n\n<p>Error:The method assertEquals(String, String) is undefined for the type Object </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663757431,"post_id":73797798,"comment_id":130313098,"body_markdown":"*`private String date;`*: Donâ€™t!! Store your dates as `LocalDate` objects. It makes operations such as the ones you want to do, a whole lot simpler, close to trivial. Doing them on strings is hopeless. You also donâ€™t store counts, successes and errors in strings, so just donâ€™t do it with dates either.","body":"<i><code>private String date;</code></i>: Donâ€™t!! Store your dates as <code>LocalDate</code> objects. It makes operations such as the ones you want to do, a whole lot simpler, close to trivial. Doing them on strings is hopeless. You also donâ€™t store counts, successes and errors in strings, so just donâ€™t do it with dates either."},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1663850845,"post_id":73797798,"comment_id":130339601,"body_markdown":"Well unfortunatelly, date were not stored in correct format... I do have Strings ... dates issues with SQL lite ... I would have used LocalDate or Date.","body":"Well unfortunatelly, date were not stored in correct format... I do have Strings ... dates issues with SQL lite ... I would have used LocalDate or Date."}],"answers":[{"tags":[],"owner":{"account_id":6027993,"reputation":126,"user_id":19785805,"display_name":"Alexander Kashpirovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752459,"creation_date":1663752459,"answer_id":73798418,"question_id":73797798,"body_markdown":"For month replace `StatsDto::getDate` by \r\n\r\n    LocalDate.parse(stateEntity.getDate(), DateTimeFormatter.ISO_DATE)\r\n                            .with(TemporalAdjusters.firstDayOfMonth())\r\n\r\nor week by \r\n\r\n    LocalDate.parse(dateString, DateTimeFormatter.ISO_DATE)\r\n                            .with(TemporalAdjusters.nextOrSame(DayOfWeek.SUNDAY))","title":"Grouping by query results based on a date using stream API java","body":"<p>For month replace <code>StatsDto::getDate</code> by</p>\n<pre><code>LocalDate.parse(stateEntity.getDate(), DateTimeFormatter.ISO_DATE)\n                        .with(TemporalAdjusters.firstDayOfMonth())\n</code></pre>\n<p>or week by</p>\n<pre><code>LocalDate.parse(dateString, DateTimeFormatter.ISO_DATE)\n                        .with(TemporalAdjusters.nextOrSame(DayOfWeek.SUNDAY))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18271532,"reputation":24,"user_id":13302222,"display_name":"Marzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752612,"creation_date":1663752612,"answer_id":73798458,"question_id":73797798,"body_markdown":"Replace the first parameter of toMap() function to group the data by your own logic. And then do the same replacement of the raw date value.\r\n```\r\n\r\n .collect(Collectors.toMap(\r\n                dto -&gt; this.getWeek(dto.getDate()),\r\n                Function.identity(),\r\n                (val1, val2) -&gt; new StatsDto(\r\n                        this.getWeek(val1.getDate()),\r\n                        val1.getWorkflow(),\r\n                        Integer.sum(val1.getTotalCount(), (val2.getTotalCount())),\r\n                        Integer.sum(val1.getSuccess(), (val2.getSuccess())),\r\n                        Integer.sum(val1.getErrors(), (val2.getErrors()))\r\n                )\r\n        ))\r\n```\r\n```\r\n//this method returns the Monday then you could group by it\r\nprivate String getWeek(String date){\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n        LocalDate localDate = LocalDate.from(formatter.parse(date));\r\n        return formatter.format(localDate.with(ChronoField.DAY_OF_WEEK, 1));\r\n}\r\n```\r\nthen the result has group by week and the date of each element is Monday.","title":"Grouping by query results based on a date using stream API java","body":"<p>Replace the first parameter of toMap() function to group the data by your own logic. And then do the same replacement of the raw date value.</p>\n<pre><code>\n .collect(Collectors.toMap(\n                dto -&gt; this.getWeek(dto.getDate()),\n                Function.identity(),\n                (val1, val2) -&gt; new StatsDto(\n                        this.getWeek(val1.getDate()),\n                        val1.getWorkflow(),\n                        Integer.sum(val1.getTotalCount(), (val2.getTotalCount())),\n                        Integer.sum(val1.getSuccess(), (val2.getSuccess())),\n                        Integer.sum(val1.getErrors(), (val2.getErrors()))\n                )\n        ))\n</code></pre>\n<pre><code>//this method returns the Monday then you could group by it\nprivate String getWeek(String date){\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n        LocalDate localDate = LocalDate.from(formatter.parse(date));\n        return formatter.format(localDate.with(ChronoField.DAY_OF_WEEK, 1));\n}\n</code></pre>\n<p>then the result has group by week and the date of each element is Monday.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663759695,"creation_date":1663758670,"answer_id":73799760,"question_id":73797798,"body_markdown":"As I see, your code is a part of a Spring-application.\r\n\r\nTo begin with, it&#39;s not justifiable to use `String` to represent a date. Replace it with `LocalDate` and message converter will take care about parsing.\r\n\r\nIf for some reason you can&#39;t do this change, then you would need to parse each string manually using [`LocalDate.parse(CharSequence)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)), specifying a `DateTimeFormatter` is unnecessary because format of your strings is compliant with ISO-8601 standard.\r\n\r\n# Grouping data by Month\r\n\r\nWhen you have `LocalDate` instance on your hands, to extract the `Month` from it, you can use [`LocalDate.getMonth()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#getMonth()).\r\n\r\nIf `date` property would be of type `LocalDate`, then in the `groupingBy()` you can provide the following method reference as a *classifier* function :\r\n\r\n```\r\nLocalDate::getMonth\r\n```\r\n\r\nIn case if you would need to differentiate between the months of different years (it might be necessary if the range would be greater than mentioned `300` days), then you can use [`YearMonth`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html) as a *key* while grouping the data (credits to *@Ole V.V.* for this idea).\r\n\r\nThe *classifier* function might look like this:\r\n\r\n```\r\ndate -&gt; YearMonth.of(date.getYear(), date.getMonth())\r\n```\r\n\r\n# Grouping data by the Week of Year\r\n\r\nIn order to group the data by the *number of week*, you would need a bit more work with Time API.\r\n\r\nOne of the ways to do that is to use method [`LocalDate.get()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#get(java.time.temporal.TemporalField)) which expects a `TemporalField` as an argument.\r\n\r\nTo provide this augment, you can make use of `WeekFields` class. To obtain its instance you can utilize either [`WeekFields.ISO`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#ISO) if you required representation of the week should conform to the ISO-8601 definition, or [`WeekFields.of(Locale)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#of(java.util.Locale)) if you need representation of the week specific to a particular local.\r\n\r\nTo obtain the required instance of `TemporalField` you need invoke [`weekOfWeekBasedYear()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#weekOfWeekBasedYear()) on the `WeekFields` instance.\r\n\r\nAnd *classifier* function of `groupingBy()` might be written like this:\r\n\r\n```\r\ndate -&gt; date.get(WeekFields.ISO.weekOfWeekBasedYear())\r\n```\r\n\r\nFor more information, refer to this question: https://stackoverflow.com/questions/25912455/get-the-weeknumber-from-a-given-date-in-java-fx","title":"Grouping by query results based on a date using stream API java","body":"<p>As I see, your code is a part of a Spring-application.</p>\n<p>To begin with, it's not justifiable to use <code>String</code> to represent a date. Replace it with <code>LocalDate</code> and message converter will take care about parsing.</p>\n<p>If for some reason you can't do this change, then you would need to parse each string manually using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>LocalDate.parse(CharSequence)</code></a>, specifying a <code>DateTimeFormatter</code> is unnecessary because format of your strings is compliant with ISO-8601 standard.</p>\n<h1>Grouping data by Month</h1>\n<p>When you have <code>LocalDate</code> instance on your hands, to extract the <code>Month</code> from it, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#getMonth()\" rel=\"nofollow noreferrer\"><code>LocalDate.getMonth()</code></a>.</p>\n<p>If <code>date</code> property would be of type <code>LocalDate</code>, then in the <code>groupingBy()</code> you can provide the following method reference as a <em>classifier</em> function :</p>\n<pre><code>LocalDate::getMonth\n</code></pre>\n<p>In case if you would need to differentiate between the months of different years (it might be necessary if the range would be greater than mentioned <code>300</code> days), then you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> as a <em>key</em> while grouping the data (credits to <em>@Ole V.V.</em> for this idea).</p>\n<p>The <em>classifier</em> function might look like this:</p>\n<pre><code>date -&gt; YearMonth.of(date.getYear(), date.getMonth())\n</code></pre>\n<h1>Grouping data by the Week of Year</h1>\n<p>In order to group the data by the <em>number of week</em>, you would need a bit more work with Time API.</p>\n<p>One of the ways to do that is to use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#get(java.time.temporal.TemporalField)\" rel=\"nofollow noreferrer\"><code>LocalDate.get()</code></a> which expects a <code>TemporalField</code> as an argument.</p>\n<p>To provide this augment, you can make use of <code>WeekFields</code> class. To obtain its instance you can utilize either <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#ISO\" rel=\"nofollow noreferrer\"><code>WeekFields.ISO</code></a> if you required representation of the week should conform to the ISO-8601 definition, or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#of(java.util.Locale)\" rel=\"nofollow noreferrer\"><code>WeekFields.of(Locale)</code></a> if you need representation of the week specific to a particular local.</p>\n<p>To obtain the required instance of <code>TemporalField</code> you need invoke <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#weekOfWeekBasedYear()\" rel=\"nofollow noreferrer\"><code>weekOfWeekBasedYear()</code></a> on the <code>WeekFields</code> instance.</p>\n<p>And <em>classifier</em> function of <code>groupingBy()</code> might be written like this:</p>\n<pre><code>date -&gt; date.get(WeekFields.ISO.weekOfWeekBasedYear())\n</code></pre>\n<p>For more information, refer to this question: <a href=\"https://stackoverflow.com/questions/25912455/get-the-weeknumber-from-a-given-date-in-java-fx\">Get the weeknumber from a given date in Java FX</a></p>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73799760,"answer_count":3,"score":0,"last_activity_date":1663759695,"creation_date":1663749741,"question_id":73797798,"body_markdown":"I have an entity object with several columns which looks like this: \r\n\r\n    @Entity\r\n    @Table(name = &quot;stats&quot;, schema = &quot;main&quot;)\r\n    @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public class StatsEntity implements Serializable {\r\n        private static final long serialVersionUID = 743865321018464769L;\r\n    \r\n        @EmbeddedId\r\n        private StatsEntityIds id;\r\n    \r\n        @Column(length = 500, name = &quot;total_count&quot;)\r\n        private Integer totalCount;\r\n    \r\n        @Column(length = 500, name = &quot;success&quot;)\r\n        private Integer success;\r\n    \r\n        @Column(length = 500, name = &quot;errors&quot;)\r\n        private Integer errors;\r\n    }\r\n\r\n   \r\nAs I use a composite key I have an embeddable class\r\n\r\n    @Embeddable\r\n    @Getter  @Setter\r\n    public class StatsEntityIds implements Serializable {\r\n        private static final long serialVersionUID = 743865321018464768L;\r\n    \r\n        @Column(length = 255, name = &quot;date&quot;)\r\n        private String date;\r\n    \r\n        @Column(length = 100, name = &quot;workflow&quot;)\r\n        private String workflow;\r\n    \r\n        @Column(length = 100, name = &quot;type&quot;)\r\n        private String type;\r\n    }\r\n\r\nI also have a repository class and I use several request. The following query allow to select database results based on a query on workflow value. \r\n\r\n    @Repository\r\n    public interface StatsRepository extends JpaRepository&lt;StatsEntity, StatsEntityIds&gt; {\r\n        List&lt;StatsEntity&gt; findByIdWorkflowOrderByIdDate(String workflow);\r\n    }\r\n\r\nString dates have the following format: 2022-04-05 (YYYY-MM-dd). \r\nMy issue is the following. the query is working fine in my service layer and i do obtain the right outputs:\r\n\r\n    @Override\r\n    public List&lt;StatsDto&gt; findByIdWorkflowOrderByIdDate(DsiPilotStatisticsRequest request) {\r\n        ModelMapper modelMapper = mappingConfiguration();\r\n        List&lt;StatsEntity&gt; statEntities = this.statsRepository.findByIdWorkflowOrderByIdDate(request.getWorkflow());\r\n        return modelMapper.map(statEntities, new TypeToken&lt;List&lt;StatsDto&gt;&gt;(){}.getType());\r\n    }\r\n\r\nHere is where i&#39;m a little bit stuck. I want to operate a group by using stream. For example the previous query is returning 1000 results on 300 days. Let&#39;s consider I want to group them and do sums on numeric columns. \r\n\r\nFor grouping by full date, I implemented the following stream that return my DTO object and do make sums for each day. \r\n\r\n\r\n    return this.statsRepository.findByIdWorkflowOrderByIdDate(request.getWorkflow())\r\n            .parallelStream()\r\n            .map(statEntity -&gt; new StatsDto(\r\n                    statEntity.getId().getDate(),\r\n                    statEntity.getId().getWorkflow(),\r\n                    statEntity.getTotalCount(),\r\n                    statEntity.getSuccess(),\r\n                    statEntity.getErrors()))\r\n            .collect(Collectors.toMap(\r\n                    StatsDto::getDate,\r\n                    Function.identity(),\r\n                    (val1, val2) -&gt; new StatsDto(\r\n                            val1.getDate(),\r\n                            val1.getWorkflow(),\r\n                            Integer.sum(val1.getTotalCount(), (val2.getTotalCount())),\r\n                            Integer.sum(val1.getSuccess(), (val2.getSuccess())),\r\n                            Integer.sum(val1.getErrors(), (val2.getErrors()))\r\n                    )\r\n            ))\r\n            .values()\r\n            .stream()\r\n            .sorted(Comparator.comparing(StatsDto::getDate))\r\n            .collect(Collectors.toList());\r\n\r\n\r\nNow I would like to build a similar query that would sum my values based on week and month. ","title":"Grouping by query results based on a date using stream API java","body":"<p>I have an entity object with several columns which looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;stats&quot;, schema = &quot;main&quot;)\n@Getter @Setter\n@AllArgsConstructor @NoArgsConstructor\npublic class StatsEntity implements Serializable {\n    private static final long serialVersionUID = 743865321018464769L;\n\n    @EmbeddedId\n    private StatsEntityIds id;\n\n    @Column(length = 500, name = &quot;total_count&quot;)\n    private Integer totalCount;\n\n    @Column(length = 500, name = &quot;success&quot;)\n    private Integer success;\n\n    @Column(length = 500, name = &quot;errors&quot;)\n    private Integer errors;\n}\n</code></pre>\n<p>As I use a composite key I have an embeddable class</p>\n<pre><code>@Embeddable\n@Getter  @Setter\npublic class StatsEntityIds implements Serializable {\n    private static final long serialVersionUID = 743865321018464768L;\n\n    @Column(length = 255, name = &quot;date&quot;)\n    private String date;\n\n    @Column(length = 100, name = &quot;workflow&quot;)\n    private String workflow;\n\n    @Column(length = 100, name = &quot;type&quot;)\n    private String type;\n}\n</code></pre>\n<p>I also have a repository class and I use several request. The following query allow to select database results based on a query on workflow value.</p>\n<pre><code>@Repository\npublic interface StatsRepository extends JpaRepository&lt;StatsEntity, StatsEntityIds&gt; {\n    List&lt;StatsEntity&gt; findByIdWorkflowOrderByIdDate(String workflow);\n}\n</code></pre>\n<p>String dates have the following format: 2022-04-05 (YYYY-MM-dd).\nMy issue is the following. the query is working fine in my service layer and i do obtain the right outputs:</p>\n<pre><code>@Override\npublic List&lt;StatsDto&gt; findByIdWorkflowOrderByIdDate(DsiPilotStatisticsRequest request) {\n    ModelMapper modelMapper = mappingConfiguration();\n    List&lt;StatsEntity&gt; statEntities = this.statsRepository.findByIdWorkflowOrderByIdDate(request.getWorkflow());\n    return modelMapper.map(statEntities, new TypeToken&lt;List&lt;StatsDto&gt;&gt;(){}.getType());\n}\n</code></pre>\n<p>Here is where i'm a little bit stuck. I want to operate a group by using stream. For example the previous query is returning 1000 results on 300 days. Let's consider I want to group them and do sums on numeric columns.</p>\n<p>For grouping by full date, I implemented the following stream that return my DTO object and do make sums for each day.</p>\n<pre><code>return this.statsRepository.findByIdWorkflowOrderByIdDate(request.getWorkflow())\n        .parallelStream()\n        .map(statEntity -&gt; new StatsDto(\n                statEntity.getId().getDate(),\n                statEntity.getId().getWorkflow(),\n                statEntity.getTotalCount(),\n                statEntity.getSuccess(),\n                statEntity.getErrors()))\n        .collect(Collectors.toMap(\n                StatsDto::getDate,\n                Function.identity(),\n                (val1, val2) -&gt; new StatsDto(\n                        val1.getDate(),\n                        val1.getWorkflow(),\n                        Integer.sum(val1.getTotalCount(), (val2.getTotalCount())),\n                        Integer.sum(val1.getSuccess(), (val2.getSuccess())),\n                        Integer.sum(val1.getErrors(), (val2.getErrors()))\n                )\n        ))\n        .values()\n        .stream()\n        .sorted(Comparator.comparing(StatsDto::getDate))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Now I would like to build a similar query that would sum my values based on week and month.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1663695076,"post_id":73790538,"comment_id":130298790,"body_markdown":"If you need a unique collection - use `set`.","body":"If you need a unique collection - use <code>set</code>."}],"answers":[{"tags":[],"owner":{"account_id":26382608,"reputation":21,"user_id":20035623,"display_name":"ar10a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663696006,"creation_date":1663695584,"answer_id":73790693,"question_id":73790538,"body_markdown":"You have added your words twice in the words list and wordsToExport, which might slow down things. If you want to avoid duplicated words, you can simply use Set implementation.\r\nExample implementation which will print [word1, word3, word2] in the console:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; rawWords = Arrays.asList(&quot;word1&quot;, &quot;word2&quot;, &quot;word3&quot;, &quot;word1&quot;, &quot;word2&quot;);\r\n        Set&lt;String&gt; words = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; wordsToExport = new HashSet&lt;&gt;();\r\n        for (String word : rawWords) {\r\n            words.add(word);\r\n            wordsToExport.add(word);\r\n        }\r\n        System.out.println(words);\r\n    }","title":"Remove duplicates when adding new data","body":"<p>You have added your words twice in the words list and wordsToExport, which might slow down things. If you want to avoid duplicated words, you can simply use Set implementation.\nExample implementation which will print [word1, word3, word2] in the console:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; rawWords = Arrays.asList(&quot;word1&quot;, &quot;word2&quot;, &quot;word3&quot;, &quot;word1&quot;, &quot;word2&quot;);\n    Set&lt;String&gt; words = new HashSet&lt;&gt;();\n    Set&lt;String&gt; wordsToExport = new HashSet&lt;&gt;();\n    for (String word : rawWords) {\n        words.add(word);\n        wordsToExport.add(word);\n    }\n    System.out.println(words);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663696171,"creation_date":1663696171,"answer_id":73790794,"question_id":73790538,"body_markdown":"If your `Collection` should not contain duplicates then you should specify a `Set`.\r\n\r\n    Set&lt;String&gt; wordSet = new HashSet&lt;&gt;(words);\r\n    wordSet.addAll(rawWords);\r\n\r\nThe typical option is a `HashSet`.  This assumes that your data objects have implemented `hashCode` and their `hashCode` and `equals` methods are consistent.  Since you are working with `String` you do not have to do anything since this class obeys those requirements.\r\n\r\nIf you require some sort of ordering to your Collection then consider `TreeSet` or `LinkedHashSet` depending on your use case.  Search for information on the Java Collections framework for more details.","title":"Remove duplicates when adding new data","body":"<p>If your <code>Collection</code> should not contain duplicates then you should specify a <code>Set</code>.</p>\n<pre><code>Set&lt;String&gt; wordSet = new HashSet&lt;&gt;(words);\nwordSet.addAll(rawWords);\n</code></pre>\n<p>The typical option is a <code>HashSet</code>.  This assumes that your data objects have implemented <code>hashCode</code> and their <code>hashCode</code> and <code>equals</code> methods are consistent.  Since you are working with <code>String</code> you do not have to do anything since this class obeys those requirements.</p>\n<p>If you require some sort of ordering to your Collection then consider <code>TreeSet</code> or <code>LinkedHashSet</code> depending on your use case.  Search for information on the Java Collections framework for more details.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663759620,"creation_date":1663757410,"answer_id":73799494,"question_id":73790538,"body_markdown":"As you have found out, your code becomes slow, when you have many words. Why is that? Because to find out if something is in a list, you need to iterate over all items in the list and compare one by one. There are different data structures with different complexity characteristics for different tasks:\r\n\r\n* `ArrayList#contains` is O(n): inspect all N elements for a list with N elements. You are doing this for every item, so your algorithm&#39;s/method&#39;s overall complexity is O(n&#178;).\r\n* `HashSet#contains` is O(1): always takes the same time, regardless of number of elements in the set. For a low number of items, O(n) might be faster than O(1), but as your collections grow in size, O(n) will become slower and slower.\r\n\r\nYou have several options:\r\n\r\n1. If you are only using `words` to keep track of &quot;words already seen&quot;, then the solution is to simply switch it to a `HashSet` and still keep two collections (one to export, one to keep track of known words). This will use double the memory (two collections), but the order of words in `wordsToExport` is the same as in `rawWords` (minus the duplicates of course):\r\n\r\n   ```\r\n   final Set&lt;String&gt; words = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\r\n   for(final String word : rawWords) {\r\n     if(!words.contains(word)) {\r\n       words.add(word);\r\n       wordsToExport.add(word);\r\n     }\r\n   }\r\n   ```\r\n\r\n   Another minor optimization is also possible: `Set#add` will return `true` if the element was newly added, and `false` if it already existed in the set:\r\n\r\n   ```\r\n   final Set&lt;String&gt; words = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\r\n   for(final String word : rawWords) {\r\n     if(words.add(word)) {\r\n       wordsToExport.add(word);\r\n     }\r\n   }\r\n   ```\r\n\r\n2. Change the `wordsToExport` collection to be a `LinkedHashSet`, which allows iterating its elements in insertion-order. This requires only a single collection and not two collection to keep synced:\r\n\r\n   ```\r\n   final Collection&lt;String&gt; wordsToExport = new LinkedHashSet&lt;&gt;(rawWords.size()/0.75f+1);\r\n   for(final String word : rawWords) {\r\n     wordsToExport.add(word);\r\n   }\r\n   ```\r\n\r\n   The loop is now so trivial, that Java provides its own method for it:\r\n\r\n   ```\r\n   final Collection&lt;String&gt; wordsToExport = new LinkedHashSet&lt;&gt;(rawWords.size()/0.75f+1);\r\n   wordsToExport.addAll(rawWords);\r\n   ```\r\n\r\n   And since this is now basically copying one collection into a collection of a different kind, this can be shortened even further, by utilizing Java&#39;s collection API to its fullest:\r\n\r\n   ```\r\n   final Collection&lt;String&gt; wordsToExport = new LinkedHashSet&lt;&gt;(rawWords);\r\n   ```\r\n\r\n   If you need a `List` to be returned from your method, consider copying the `LinkedHashSet`&#39;s elements to a new `List` instance in the end. This will be O(n) again, but only executed once and not for every single item:\r\n\r\n   ```\r\n   final Collection&lt;String&gt; words = new LinkedHashSet&lt;&gt;(rawWords.size()/0.75f+1);\r\n   for(final String word : rawWords) {\r\n     words.add(word);\r\n   }\r\n   final List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(words);\r\n   ```\r\n\r\n   Or shortened:\r\n\r\n   ```\r\n   final List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(new LinkedHashSet&lt;&gt;(rawWords));\r\n   ```\r\n\r\n3. Use the Stream API introduced with Java 8 to write an expressive pipeline. This comes with some additional overhead, because the pipeline needs to be built, executed, and collected. Behind the scenes, the logic is not that different from option #1:\r\n\r\n   ```\r\n   final List&lt;String&gt; wordsToExport = rawWords.stream()\r\n           .distinct()\r\n           .collect(Collectors.toList());\r\n   ```\r\n\r\n4. If the order of the elements in the result collection is not relevant, simply use a `HashSet` and be done with it:\r\n\r\n   ```\r\n   final Set&lt;String&gt; wordsToExport = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\r\n   for(final String word : rawWords) {\r\n     wordsToExport.add(word);\r\n   }\r\n   ```\r\n\r\n   Short version:\r\n\r\n   ```\r\n   final Set&lt;String&gt; wordsToExport = new HashSet&lt;&gt;(rawWords);\r\n   ```\r\n\r\n   Or, as with option #2, if a `List` interface is required (but you don&#39;t care for the order of elements inside the list), copy to List at the end of the method:\r\n\r\n   ```\r\n   final Set&lt;String&gt; words = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\r\n   for(final String word : rawWords) {\r\n     words.add(word);\r\n   }\r\n   final List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(words);\r\n   ```\r\n\r\n   Again, as a simple one-liner:\r\n\r\n   ```\r\n   final List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(rawWords));\r\n   ```\r\n\r\n5. If you require an immutable set (with arbitrary order) and know that all your words are non-null, `Set.copyOf` comes in handy:\r\n\r\n   ```\r\n   final Set&lt;String&gt; wordsToExport = Set.copyOf(rawWords);\r\n   ```\r\n","title":"Remove duplicates when adding new data","body":"<p>As you have found out, your code becomes slow, when you have many words. Why is that? Because to find out if something is in a list, you need to iterate over all items in the list and compare one by one. There are different data structures with different complexity characteristics for different tasks:</p>\n<ul>\n<li><code>ArrayList#contains</code> is O(n): inspect all N elements for a list with N elements. You are doing this for every item, so your algorithm's/method's overall complexity is O(nÂ²).</li>\n<li><code>HashSet#contains</code> is O(1): always takes the same time, regardless of number of elements in the set. For a low number of items, O(n) might be faster than O(1), but as your collections grow in size, O(n) will become slower and slower.</li>\n</ul>\n<p>You have several options:</p>\n<ol>\n<li><p>If you are only using <code>words</code> to keep track of &quot;words already seen&quot;, then the solution is to simply switch it to a <code>HashSet</code> and still keep two collections (one to export, one to keep track of known words). This will use double the memory (two collections), but the order of words in <code>wordsToExport</code> is the same as in <code>rawWords</code> (minus the duplicates of course):</p>\n<pre><code>final Set&lt;String&gt; words = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\nfor(final String word : rawWords) {\n  if(!words.contains(word)) {\n    words.add(word);\n    wordsToExport.add(word);\n  }\n}\n</code></pre>\n<p>Another minor optimization is also possible: <code>Set#add</code> will return <code>true</code> if the element was newly added, and <code>false</code> if it already existed in the set:</p>\n<pre><code>final Set&lt;String&gt; words = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\nfor(final String word : rawWords) {\n  if(words.add(word)) {\n    wordsToExport.add(word);\n  }\n}\n</code></pre>\n</li>\n<li><p>Change the <code>wordsToExport</code> collection to be a <code>LinkedHashSet</code>, which allows iterating its elements in insertion-order. This requires only a single collection and not two collection to keep synced:</p>\n<pre><code>final Collection&lt;String&gt; wordsToExport = new LinkedHashSet&lt;&gt;(rawWords.size()/0.75f+1);\nfor(final String word : rawWords) {\n  wordsToExport.add(word);\n}\n</code></pre>\n<p>The loop is now so trivial, that Java provides its own method for it:</p>\n<pre><code>final Collection&lt;String&gt; wordsToExport = new LinkedHashSet&lt;&gt;(rawWords.size()/0.75f+1);\nwordsToExport.addAll(rawWords);\n</code></pre>\n<p>And since this is now basically copying one collection into a collection of a different kind, this can be shortened even further, by utilizing Java's collection API to its fullest:</p>\n<pre><code>final Collection&lt;String&gt; wordsToExport = new LinkedHashSet&lt;&gt;(rawWords);\n</code></pre>\n<p>If you need a <code>List</code> to be returned from your method, consider copying the <code>LinkedHashSet</code>'s elements to a new <code>List</code> instance in the end. This will be O(n) again, but only executed once and not for every single item:</p>\n<pre><code>final Collection&lt;String&gt; words = new LinkedHashSet&lt;&gt;(rawWords.size()/0.75f+1);\nfor(final String word : rawWords) {\n  words.add(word);\n}\nfinal List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(words);\n</code></pre>\n<p>Or shortened:</p>\n<pre><code>final List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(new LinkedHashSet&lt;&gt;(rawWords));\n</code></pre>\n</li>\n<li><p>Use the Stream API introduced with Java 8 to write an expressive pipeline. This comes with some additional overhead, because the pipeline needs to be built, executed, and collected. Behind the scenes, the logic is not that different from option #1:</p>\n<pre><code>final List&lt;String&gt; wordsToExport = rawWords.stream()\n        .distinct()\n        .collect(Collectors.toList());\n</code></pre>\n</li>\n<li><p>If the order of the elements in the result collection is not relevant, simply use a <code>HashSet</code> and be done with it:</p>\n<pre><code>final Set&lt;String&gt; wordsToExport = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\nfor(final String word : rawWords) {\n  wordsToExport.add(word);\n}\n</code></pre>\n<p>Short version:</p>\n<pre><code>final Set&lt;String&gt; wordsToExport = new HashSet&lt;&gt;(rawWords);\n</code></pre>\n<p>Or, as with option #2, if a <code>List</code> interface is required (but you don't care for the order of elements inside the list), copy to List at the end of the method:</p>\n<pre><code>final Set&lt;String&gt; words = new HashSet&lt;&gt;(rawWords.size()/0.75f+1);\nfor(final String word : rawWords) {\n  words.add(word);\n}\nfinal List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(words);\n</code></pre>\n<p>Again, as a simple one-liner:</p>\n<pre><code>final List&lt;String&gt; wordsToExport = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(rawWords));\n</code></pre>\n</li>\n<li><p>If you require an immutable set (with arbitrary order) and know that all your words are non-null, <code>Set.copyOf</code> comes in handy:</p>\n<pre><code>final Set&lt;String&gt; wordsToExport = Set.copyOf(rawWords);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26334688,"reputation":3,"user_id":19994714,"display_name":"Deny Hilhamsyah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1663759620,"creation_date":1663694922,"question_id":73790538,"body_markdown":"I&#39;m new in Java I hope someone can help me solve this problem.\r\n\r\nSo I have a data set that contains a collection of words, and it keeps growing bigger and bigger. I don&#39;t want duplicate words, so I&#39;m using this code to check if the words have been added and if not, it will added to a new lists.\r\n\r\n\r\n    for(int i = 0; i &lt; rawWords.size(); i++) {\r\n       String word = rawWords.get(i);\r\n       if(!words.contains(word)) {\r\n          words.add(word);\r\n          wordsToExport.add(word);\r\n       }\r\n    }\r\n\r\nBut the problem is that when the word increases my program starts to slow down. Is there any solution for this problem? or maybe there is an error in my code?","title":"Remove duplicates when adding new data","body":"<p>I'm new in Java I hope someone can help me solve this problem.</p>\n<p>So I have a data set that contains a collection of words, and it keeps growing bigger and bigger. I don't want duplicate words, so I'm using this code to check if the words have been added and if not, it will added to a new lists.</p>\n<pre><code>for(int i = 0; i &lt; rawWords.size(); i++) {\n   String word = rawWords.get(i);\n   if(!words.contains(word)) {\n      words.add(word);\n      wordsToExport.add(word);\n   }\n}\n</code></pre>\n<p>But the problem is that when the word increases my program starts to slow down. Is there any solution for this problem? or maybe there is an error in my code?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1663768965,"post_id":73798503,"comment_id":130317471,"body_markdown":"The URI does not change the path of the request. You need to use a filter such as SetPath or RewritePath","body":"The URI does not change the path of the request. You need to use a filter such as SetPath or RewritePath"}],"answers":[{"tags":[],"owner":{"account_id":20399488,"reputation":56,"user_id":14965558,"display_name":"Montaser Majid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663759409,"creation_date":1663759409,"answer_id":73799917,"question_id":73798503,"body_markdown":"The problem seemed My application works on spring MVC and Spring cloud gateway is for webflux only.","title":"Spring Cloud Gateway gives 404 route error","body":"<p>The problem seemed My application works on spring MVC and Spring cloud gateway is for webflux only.</p>\n"}],"owner":{"account_id":20399488,"reputation":56,"user_id":14965558,"display_name":"Montaser Majid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663759409,"creation_date":1663752779,"question_id":73798503,"body_markdown":"Spring cloud gateway does not forward my request to the next microservice. The result is always 404.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class TwoFactorAuthenticationServiceApplication {\r\n\r\n     @Bean\r\n     public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\r\n     return builder.routes()\r\n     .route(&quot;path_route&quot;, r -&gt; r.path(&quot;/two-factor-authentication-service-1.0/get&quot;)\r\n     .uri(&quot;http://localhost:10270/wallet-management-service-1.0/api/system-wallet/get-wallet-address&quot;))\r\n     .route(&quot;host_route&quot;, r -&gt; r.host(&quot;*.myhost.org&quot;)\r\n     .uri(&quot;http://httpbin.org&quot;))\r\n     .build();\r\n     }\r\n\r\n     public static void main(String[] args) {\r\n     SpringApplication.run(TwoFactorAuthenticationServiceApplication.class, args);\r\n     }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe response is \r\n```2022-09-21 15:13:35.331 TRACE 20640 --- [ XNIO-1 I/O-2] o.s.c.g.f.WeightCalculatorWebFilter : Weights attr: {}\r\n2022-09-21 15:13:35.349 TRACE 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.p.PathRoutePredicateFactory : Pattern &quot;/two-factor-authentication-service-1.0/get&quot; matches against value &quot;/two-factor-authentication-service-1.0/get&quot;\r\n2022-09-21 15:13:35.350 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.RoutePredicateHandlerMapping : Route matched: path_route\r\n2022-09-21 15:13:35.350 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.RoutePredicateHandlerMapping : Mapping [Exchange: GET http://localhost:10340/two-factor-authentication-service-1.0/get?userId=1951] to Route{id=&#39;path_route&#39;, uri=http://localhost:10270/wallet-management-service-1.0/api/system-wallet/get-wallet-address, order=0, predicate=Paths: [/two-factor-authentication-service-1.0/get], match trailing slash: true, gatewayFilters=[], metadata={}}\r\n2022-09-21 15:13:35.351 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.RoutePredicateHandlerMapping : [4406f4fd-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5f0b2fe1\r\n2022-09-21 15:13:35.351 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.handler.FilteringWebHandler : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6dacde96}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@32180efb}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@39240aa3}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@16a3d9a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5e537465}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@47a05ad8}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@33c5cc0}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1caa1866}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@685e97e0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@283240b0}, order = 2147483647]]\r\n2022-09-21 15:13:35.358 TRACE 20640 --- [ XNIO-1 I/O-2] o.s.c.g.filter.RouteToRequestUrlFilter : RouteToRequestUrlFilter start\r\n2022-09-21 15:13:35.515 TRACE 20640 --- [ctor-http-nio-2] o.s.c.gateway.filter.NettyRoutingFilter : outbound route: 5ff7309e, inbound: [4406f4fd-1]\r\n2022-09-21 15:13:35.580 TRACE 20640 --- [ctor-http-nio-2] o.s.c.g.filter.NettyWriteResponseFilter : NettyWriteResponseFilter start inbound: 5ff7309e, outbound: [4406f4fd-1]\r\n2022-09-21 15:13:35.612 TRACE 20640 --- [ctor-http-nio-2] o.s.c.g.filter.GatewayMetricsFilter : spring.cloud.gateway.requests tags: [tag(httpMethod=GET),tag(httpStatusCode=404),tag(outcome=CLIENT_ERROR),tag(routeId=path_route),tag(routeUri=http://localhost:10270/wallet-management-service-1.0/api/system-wallet/get-wallet-address),tag(status=NOT_FOUND)]```\r\n","title":"Spring Cloud Gateway gives 404 route error","body":"<p>Spring cloud gateway does not forward my request to the next microservice. The result is always 404.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@SpringBootApplication\npublic class TwoFactorAuthenticationServiceApplication {\n\n @Bean\n public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\n return builder.routes()\n .route(\"path_route\", r -&gt; r.path(\"/two-factor-authentication-service-1.0/get\")\n .uri(\"http://localhost:10270/wallet-management-service-1.0/api/system-wallet/get-wallet-address\"))\n .route(\"host_route\", r -&gt; r.host(\"*.myhost.org\")\n .uri(\"http://httpbin.org\"))\n .build();\n }\n\n public static void main(String[] args) {\n SpringApplication.run(TwoFactorAuthenticationServiceApplication.class, args);\n }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The response is</p>\n<pre><code>2022-09-21 15:13:35.349 TRACE 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.p.PathRoutePredicateFactory : Pattern &quot;/two-factor-authentication-service-1.0/get&quot; matches against value &quot;/two-factor-authentication-service-1.0/get&quot;\n2022-09-21 15:13:35.350 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.RoutePredicateHandlerMapping : Route matched: path_route\n2022-09-21 15:13:35.350 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.RoutePredicateHandlerMapping : Mapping [Exchange: GET http://localhost:10340/two-factor-authentication-service-1.0/get?userId=1951] to Route{id='path_route', uri=http://localhost:10270/wallet-management-service-1.0/api/system-wallet/get-wallet-address, order=0, predicate=Paths: [/two-factor-authentication-service-1.0/get], match trailing slash: true, gatewayFilters=[], metadata={}}\n2022-09-21 15:13:35.351 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.h.RoutePredicateHandlerMapping : [4406f4fd-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5f0b2fe1\n2022-09-21 15:13:35.351 DEBUG 20640 --- [ XNIO-1 I/O-2] o.s.c.g.handler.FilteringWebHandler : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6dacde96}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@32180efb}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@39240aa3}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@16a3d9a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5e537465}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@47a05ad8}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@33c5cc0}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1caa1866}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@685e97e0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@283240b0}, order = 2147483647]]\n2022-09-21 15:13:35.358 TRACE 20640 --- [ XNIO-1 I/O-2] o.s.c.g.filter.RouteToRequestUrlFilter : RouteToRequestUrlFilter start\n2022-09-21 15:13:35.515 TRACE 20640 --- [ctor-http-nio-2] o.s.c.gateway.filter.NettyRoutingFilter : outbound route: 5ff7309e, inbound: [4406f4fd-1]\n2022-09-21 15:13:35.580 TRACE 20640 --- [ctor-http-nio-2] o.s.c.g.filter.NettyWriteResponseFilter : NettyWriteResponseFilter start inbound: 5ff7309e, outbound: [4406f4fd-1]\n2022-09-21 15:13:35.612 TRACE 20640 --- [ctor-http-nio-2] o.s.c.g.filter.GatewayMetricsFilter : spring.cloud.gateway.requests tags: [tag(httpMethod=GET),tag(httpStatusCode=404),tag(outcome=CLIENT_ERROR),tag(routeId=path_route),tag(routeUri=http://localhost:10270/wallet-management-service-1.0/api/system-wallet/get-wallet-address),tag(status=NOT_FOUND)]```\n</code></pre>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":3209968,"reputation":1619,"user_id":2710154,"accept_rate":72,"display_name":"SSH"},"score":0,"creation_date":1446460031,"post_id":33475332,"comment_id":54736104,"body_markdown":"have a look to verify your JSON http://json.parser.online.fr/","body":"have a look to verify your JSON <a href=\"http://json.parser.online.fr/\" rel=\"nofollow noreferrer\">json.parser.online.fr</a>"}],"answers":[{"tags":[],"owner":{"account_id":6671029,"reputation":2067,"user_id":5147160,"display_name":"Vivek Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1446459856,"creation_date":1446459856,"answer_id":33475392,"question_id":33475332,"body_markdown":"Your JSON is not correct. Kindly check \r\n\r\nIt should be something like \r\n    \r\n    { â€œcardsâ€ : \r\n        [\r\n            {\r\n                â€œsuiteâ€: â€œSpadesâ€,\r\n                â€œvalueâ€: â€œTwoâ€,\r\n                â€œint_valueâ€: â€œ2â€\r\n            },\r\n            {\r\n                â€œsuiteâ€: â€œSpadesâ€,\r\n                â€œvalueâ€: â€œThreeâ€,\r\n                â€œint_valueâ€: â€œ3â€\r\n            },\r\n            {\r\n                â€œsuiteâ€: â€œSpadesâ€,\r\n                â€œvalueâ€: â€œFourâ€,\r\n                â€œint_valueâ€: â€œ4â€\r\n            }\r\n        ]\r\n    }\r\n\r\nalso the quotes used should `&quot;&quot;` rather than using `â€œâ€` ","title":"Unexpected character (&quot;) at position 2 JSON Parser (Java)","body":"<p>Your JSON is not correct. Kindly check </p>\n\n<p>It should be something like </p>\n\n<pre><code>{ â€œcardsâ€ : \n    [\n        {\n            â€œsuiteâ€: â€œSpadesâ€,\n            â€œvalueâ€: â€œTwoâ€,\n            â€œint_valueâ€: â€œ2â€\n        },\n        {\n            â€œsuiteâ€: â€œSpadesâ€,\n            â€œvalueâ€: â€œThreeâ€,\n            â€œint_valueâ€: â€œ3â€\n        },\n        {\n            â€œsuiteâ€: â€œSpadesâ€,\n            â€œvalueâ€: â€œFourâ€,\n            â€œint_valueâ€: â€œ4â€\n        }\n    ]\n}\n</code></pre>\n\n<p>also the quotes used should <code>\"\"</code> rather than using <code>â€œâ€</code> </p>\n"}],"owner":{"account_id":2911888,"reputation":23,"user_id":5515346,"display_name":"Green__Lemonade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33475392,"answer_count":1,"score":2,"last_activity_date":1663759195,"creation_date":1446459590,"question_id":33475332,"body_markdown":"Here is my JSON File beginning: \r\n\r\n\r\n    { â€œcardsâ€ : \r\n\t{\r\n\t\tâ€œsuiteâ€: â€œSpadesâ€,\r\n\t\tâ€œvalueâ€: â€œTwoâ€,\r\n\t\tâ€œint_valueâ€: â€œ2â€\r\n\t},\r\n\t{\r\n\t\tâ€œsuiteâ€: â€œSpadesâ€,\r\n\t\tâ€œvalueâ€: â€œThreeâ€,\r\n\t\tâ€œint_valueâ€: â€œ3â€\r\n\t},\r\n\t{\r\n\t\tâ€œsuiteâ€: â€œSpadesâ€,\r\n\t\tâ€œvalueâ€: â€œFourâ€,\r\n\t\tâ€œint_valueâ€: â€œ4â€\r\n\t},\r\n\r\n\r\nAnd here is my Parser: \r\n\r\n    JSONParser jsonParser = new JSONParser();\r\n\t\t\r\n\t\ttry {\r\n\t\r\n\t\t\t// --------------------\r\n\t\t\t// parse the JSON file\r\n\t\t\tFileReader fileReader = new FileReader(JSONFILEPATH);\r\n\t\r\n\t\t\tJSONObject jsonObject = (JSONObject) jsonParser.parse(fileReader);\r\n\t\r\n\t\t\tJSONArray allCards = (JSONArray) jsonObject.get(&quot;cards&quot;);\r\n\t\r\n\r\n\r\nI am trying to parse through this JSONfile using a FileReader and JSON and JSON-Simple libraries. I think my format of my JSON file is correct but I don&#39;t know how to get past this error: \r\n\r\n    Unexpected character (â€œ) at position 2.\r\n    \tat org.json.simple.parser.Yylex.yylex(Unknown Source)\r\n    \tat org.json.simple.parser.JSONParser.nextToken(Unknown Source)\r\n    \tat org.json.simple.parser.JSONParser.parse(Unknown Source)\r\n    \tat org.json.simple.parser.JSONParser.parse(Unknown Source)\r\n    \tat Deck.main(Deck.java:67)","title":"Unexpected character (&quot;) at position 2 JSON Parser (Java)","body":"<p>Here is my JSON File beginning: </p>\n\n<pre><code>{ â€œcardsâ€ : \n{\n    â€œsuiteâ€: â€œSpadesâ€,\n    â€œvalueâ€: â€œTwoâ€,\n    â€œint_valueâ€: â€œ2â€\n},\n{\n    â€œsuiteâ€: â€œSpadesâ€,\n    â€œvalueâ€: â€œThreeâ€,\n    â€œint_valueâ€: â€œ3â€\n},\n{\n    â€œsuiteâ€: â€œSpadesâ€,\n    â€œvalueâ€: â€œFourâ€,\n    â€œint_valueâ€: â€œ4â€\n},\n</code></pre>\n\n<p>And here is my Parser: </p>\n\n<pre><code>JSONParser jsonParser = new JSONParser();\n\n    try {\n\n        // --------------------\n        // parse the JSON file\n        FileReader fileReader = new FileReader(JSONFILEPATH);\n\n        JSONObject jsonObject = (JSONObject) jsonParser.parse(fileReader);\n\n        JSONArray allCards = (JSONArray) jsonObject.get(\"cards\");\n</code></pre>\n\n<p>I am trying to parse through this JSONfile using a FileReader and JSON and JSON-Simple libraries. I think my format of my JSON file is correct but I don't know how to get past this error: </p>\n\n<pre><code>Unexpected character (â€œ) at position 2.\n    at org.json.simple.parser.Yylex.yylex(Unknown Source)\n    at org.json.simple.parser.JSONParser.nextToken(Unknown Source)\n    at org.json.simple.parser.JSONParser.parse(Unknown Source)\n    at org.json.simple.parser.JSONParser.parse(Unknown Source)\n    at Deck.main(Deck.java:67)\n</code></pre>\n"},{"tags":["java","android","image","imageview"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1663745922,"post_id":73796946,"comment_id":130309096,"body_markdown":"Do you permission to read that picture?","body":"Do you permission to read that picture?"},{"owner":{"account_id":26394012,"reputation":31,"user_id":20045441,"display_name":"wuad"},"score":0,"creation_date":1663747364,"post_id":73796946,"comment_id":130309599,"body_markdown":"yes, i have these three permissions in the mainifest.xml:                                       \n   &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;","body":"yes, i have these three permissions in the mainifest.xml:                                           &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;   &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1663748259,"post_id":73796946,"comment_id":130309866,"body_markdown":"The title of your post contains a simple question. But then in your post there is a much too long story which all looks irrelevant comparered to the title question. If all what you want is in the title than remove all irrelevant text and all irrelevant code. Leave only onClick() and onActivityResult() code.","body":"The title of your post contains a simple question. But then in your post there is a much too long story which all looks irrelevant comparered to the title question. If all what you want is in the title than remove all irrelevant text and all irrelevant code. Leave only onClick() and onActivityResult() code."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1663748298,"post_id":73796946,"comment_id":130309880,"body_markdown":"You do not need READ_EXTERNAL_STORAGE permission to read uries obtained from ACTION_PICK.","body":"You do not need READ_EXTERNAL_STORAGE permission to read uries obtained from ACTION_PICK."}],"answers":[{"tags":[],"owner":{"account_id":22375525,"reputation":51,"user_id":16589861,"display_name":"Hardik kotadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663758633,"creation_date":1663758633,"answer_id":73799754,"question_id":73796946,"body_markdown":"String fileName=  getFileName(mActivity, selectedImage);\r\n\r\n\r\n     public static String getFileName(Context context, Uri uri) {\r\n        String result = null;\r\n        if (uri.getScheme().equals(&quot;content&quot;)) {\r\n            Cursor cursor = context.getContentResolver().query(uri, null, null, null, null);\r\n            try {\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    result = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (cursor != null) {\r\n                    cursor.close();\r\n                }\r\n            }\r\n        }\r\n        if (result == null) {\r\n            result = uri.getPath();\r\n            int cut = result.lastIndexOf(File.separator);\r\n            if (cut != -1) {\r\n                result = result.substring(cut + 1);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n ","title":"how to get the name of a selected image from gallery of images android studio","body":"<p>String fileName=  getFileName(mActivity, selectedImage);</p>\n<pre><code> public static String getFileName(Context context, Uri uri) {\n    String result = null;\n    if (uri.getScheme().equals(&quot;content&quot;)) {\n        Cursor cursor = context.getContentResolver().query(uri, null, null, null, null);\n        try {\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                result = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (cursor != null) {\n                cursor.close();\n            }\n        }\n    }\n    if (result == null) {\n        result = uri.getPath();\n        int cut = result.lastIndexOf(File.separator);\n        if (cut != -1) {\n            result = result.substring(cut + 1);\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":26394012,"reputation":31,"user_id":20045441,"display_name":"wuad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663758633,"creation_date":1663745536,"question_id":73796946,"body_markdown":"I have an app which after registering through facebook (through an app button) redirects to a user profile view where the facebook user profile image, name and email are loaded. user (url) is stored in a sqlite database, I also have a button with which you can change the profile image for an image from the external memory of the smartphone, after selecting the image, its uri overwrites the url of the facebook profile image. The problem arises when I change the facebook profile image for one from the image gallery (which loads perfectly) and then I close the session, when I log in it continues to show me the facebook profile image and not the one selected in the gallery. I have the slight suspicion that with the code that I will show next I am not reaching the path where the selected image is stored since when I print the path it gives me a strange value, being that according to my e emulator the path of the images are stored in :/storage/emulated/0/DCIM/Camera/image.jpg.\r\nIf I could get the name of the image I&#39;m sure I could save the image correctly in the database and then read it at the time of login. I leave my code below:\r\n\r\n```\r\nperfil_user extends Fragment  {\r\n    GoogleSignInClient mGoogleSignInClient;\r\n    ImageView image_user,image_ok,image_edit;\r\n    TextView name_user,email,tag_date;\r\n    EditText alias;\r\n    Button buttonSelectImage,buttonChangeAlias;\r\n    public String name,facebook_firstname,facebook_lastname,email_facebook,facebook_user_name,str_datefb,str_datejoinedfb,last_season,string_Uri_gmail ;\r\n    public String date_now,date_joined,last_date,alias_facebook,alias_perfil,get_alias,request_date,alias_perfil_gmail,personGivenName,personFamilyName,personName,personEmail,str_dategmail,str_datejoinedgmail,alias_name,compare_username,alias_gmail;\r\n    private static int RESULT_LOAD_IMAGE = 1;\r\n    public static String name_aux,alias_aux;\r\n    public boolean click;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view=inflater.inflate(R.layout.perfil_user,container,false);\r\n        image_user=view.findViewById(R.id.image_user);\r\n        name_user=view.findViewById(R.id.NameUser);\r\n        email=view.findViewById(R.id.setmail);\r\n        alias=view.findViewById(R.id.setAlias);\r\n        buttonSelectImage=view.findViewById(R.id.change_image);\r\n        buttonChangeAlias = view.findViewById(R.id.change_alias);\r\n        tag_date=view.findViewById(R.id.last_season_date);\r\n        DateTimeFormatter datetime_formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss dd/MM/YYYY&quot;);\r\n        LocalDateTime now = LocalDateTime.now();\r\n        date_now = datetime_formatter.format(now);\r\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(getContext(),&quot;lala&quot;,null,1);\r\n        buttonSelectImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(intent,3);\r\n\r\n\r\n            }\r\n        })\r\n        \r\n        if ( accessToken != null &amp;&amp; !accessToken.isExpired()){\r\n            GraphRequest request = GraphRequest.newMeRequest(accessToken, new GraphRequest.GraphJSONObjectCallback() {\r\n                        @Override\r\n                        public void onCompleted(JSONObject object, GraphResponse response) {\r\n                            try {\r\n                                facebook_firstname=object.getString(&quot;first_name&quot;);\r\n                                facebook_lastname =object.getString(&quot;last_name&quot;);\r\n                                facebook_user_name=object.getString(&quot;name&quot;);\r\n                                email_facebook = object.getString(&quot;email&quot;);\r\n                                \r\n                                String url_perfil_facebook=object.getJSONObject(&quot;picture&quot;).getJSONObject(&quot;data&quot;).getString(&quot;url&quot;);\r\n                                if (url_perfil_facebook.equals(&quot;&quot;)){\r\n                                    url_perfil_facebook = &quot;https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/1200/public/media/image/2017/08/252649-modo-incognito-no-es-seguro-ni-privado.jpg&quot;;\r\n                                }\r\n                                else{\r\n                                    //pass\r\n                                }\r\n                                Picasso.get().load(url_perfil_facebook).into(image_user);\r\n                                name_user.setText(facebook_user_name);\r\n                                email.setText(email_facebook);\r\n                                str_datefb = date_now;\r\n                                str_datejoinedfb = date_now;\r\n                                tag_date.setText(str_datefb);\r\n                                boolean exist_user = conn.verifyIfUserExists(email_facebook);\r\n                                if (exist_user) {\r\n                                    String url_photo = conn.loadImage(facebook_user_name);\r\n                                    Uri myUri = Uri.parse(url_photo);\r\n                                    image_user.setImageURI(myUri);\r\n                                    alias_perfil = conn.getUserName(email_facebook);\r\n                                    alias_facebook = conn.requestAlias(alias_perfil);\r\n                                    alias.setText(alias_facebook);\r\n                                    String last_season =  conn.getLastDateofConnection(facebook_user_name);\r\n                                    tag_date.setText(last_season);\r\n                                    conn.overwriteDate(date_now,facebook_user_name);\r\n                                    String last_season_2 =  conn.getLastDateofConnection(facebook_user_name);\r\n                                    //Toast.makeText(getContext(), &quot;La nueva fecha es&quot;+last_season_2, Toast.LENGTH_SHORT).show();\r\n                                }\r\n\r\n                                else {\r\n                                    alias_name= generateAliasRandom();\r\n                                    conn.insertUser(facebook_user_name,facebook_firstname,facebook_lastname,str_datefb,str_datejoinedfb,alias_name,email_facebook,null,url_perfil_facebook);\r\n                                }\r\n                                name_aux = name_user.getText().toString();\r\n                                alias_aux = alias.getText().toString();\r\n\r\n\r\n\r\n                            } catch (JSONException  e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    });\r\n\r\n            Bundle parameters = new Bundle();\r\n            parameters.putString(&quot;fields&quot;,&quot;id,first_name,last_name,name,email,link,picture.type(large)&quot;);\r\n            request.setParameters(parameters);\r\n            request.executeAsync();\r\n\r\n        }\r\n\r\n       \r\n        buttonChangeAlias.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                alias.setFocusableInTouchMode(true);\r\n                alias.setText(&quot;&quot;);\r\n                alias.setEnabled(true);\r\n                click = true;\r\n                alias.setOnKeyListener(new View.OnKeyListener() {\r\n                    public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n                        if ((event.getAction() == KeyEvent.ACTION_DOWN) &amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {\r\n                            alias.setCursorVisible(false);\r\n                            alias.setEnabled(false);\r\n                            alias.setTextColor(Color.BLACK);\r\n                            int id = conn.requestId(name_user.getText().toString());\r\n                            conn.overwriteAlias(alias.getText().toString(),id);\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n\r\n        return  view;\r\n\r\n    }\r\n\r\n    private String generateAliasRandom(){\r\n        String chars = &quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;;\r\n        Random random = new Random();\r\n        StringBuilder name_alias = new StringBuilder(10);\r\n        for (int i = 0; i &lt; 10; i++){\r\n            name_alias.append(chars.charAt(random.nextInt(chars.length())));\r\n        }\r\n        alias.setText(name_alias);\r\n        return String.valueOf(name_alias);\r\n    }\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.P)\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(getContext(),&quot;lala&quot;,null,1);\r\n        if(resultCode == RESULT_OK &amp;&amp; data != null){\r\n            Uri selectedImage = data.getData();\r\n            image_user.setImageURI(selectedImage);\r\n            String stringUri = selectedImage.toString();\r\n            int id_user = conn.requestId(name_user.getText().toString());\r\n            conn.overWriteImage(stringUri,id_user);\r\n          \r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n","title":"how to get the name of a selected image from gallery of images android studio","body":"<p>I have an app which after registering through facebook (through an app button) redirects to a user profile view where the facebook user profile image, name and email are loaded. user (url) is stored in a sqlite database, I also have a button with which you can change the profile image for an image from the external memory of the smartphone, after selecting the image, its uri overwrites the url of the facebook profile image. The problem arises when I change the facebook profile image for one from the image gallery (which loads perfectly) and then I close the session, when I log in it continues to show me the facebook profile image and not the one selected in the gallery. I have the slight suspicion that with the code that I will show next I am not reaching the path where the selected image is stored since when I print the path it gives me a strange value, being that according to my e emulator the path of the images are stored in :/storage/emulated/0/DCIM/Camera/image.jpg.\nIf I could get the name of the image I'm sure I could save the image correctly in the database and then read it at the time of login. I leave my code below:</p>\n<pre><code>perfil_user extends Fragment  {\n    GoogleSignInClient mGoogleSignInClient;\n    ImageView image_user,image_ok,image_edit;\n    TextView name_user,email,tag_date;\n    EditText alias;\n    Button buttonSelectImage,buttonChangeAlias;\n    public String name,facebook_firstname,facebook_lastname,email_facebook,facebook_user_name,str_datefb,str_datejoinedfb,last_season,string_Uri_gmail ;\n    public String date_now,date_joined,last_date,alias_facebook,alias_perfil,get_alias,request_date,alias_perfil_gmail,personGivenName,personFamilyName,personName,personEmail,str_dategmail,str_datejoinedgmail,alias_name,compare_username,alias_gmail;\n    private static int RESULT_LOAD_IMAGE = 1;\n    public static String name_aux,alias_aux;\n    public boolean click;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view=inflater.inflate(R.layout.perfil_user,container,false);\n        image_user=view.findViewById(R.id.image_user);\n        name_user=view.findViewById(R.id.NameUser);\n        email=view.findViewById(R.id.setmail);\n        alias=view.findViewById(R.id.setAlias);\n        buttonSelectImage=view.findViewById(R.id.change_image);\n        buttonChangeAlias = view.findViewById(R.id.change_alias);\n        tag_date=view.findViewById(R.id.last_season_date);\n        DateTimeFormatter datetime_formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss dd/MM/YYYY&quot;);\n        LocalDateTime now = LocalDateTime.now();\n        date_now = datetime_formatter.format(now);\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(getContext(),&quot;lala&quot;,null,1);\n        buttonSelectImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                startActivityForResult(intent,3);\n\n\n            }\n        })\n        \n        if ( accessToken != null &amp;&amp; !accessToken.isExpired()){\n            GraphRequest request = GraphRequest.newMeRequest(accessToken, new GraphRequest.GraphJSONObjectCallback() {\n                        @Override\n                        public void onCompleted(JSONObject object, GraphResponse response) {\n                            try {\n                                facebook_firstname=object.getString(&quot;first_name&quot;);\n                                facebook_lastname =object.getString(&quot;last_name&quot;);\n                                facebook_user_name=object.getString(&quot;name&quot;);\n                                email_facebook = object.getString(&quot;email&quot;);\n                                \n                                String url_perfil_facebook=object.getJSONObject(&quot;picture&quot;).getJSONObject(&quot;data&quot;).getString(&quot;url&quot;);\n                                if (url_perfil_facebook.equals(&quot;&quot;)){\n                                    url_perfil_facebook = &quot;https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/1200/public/media/image/2017/08/252649-modo-incognito-no-es-seguro-ni-privado.jpg&quot;;\n                                }\n                                else{\n                                    //pass\n                                }\n                                Picasso.get().load(url_perfil_facebook).into(image_user);\n                                name_user.setText(facebook_user_name);\n                                email.setText(email_facebook);\n                                str_datefb = date_now;\n                                str_datejoinedfb = date_now;\n                                tag_date.setText(str_datefb);\n                                boolean exist_user = conn.verifyIfUserExists(email_facebook);\n                                if (exist_user) {\n                                    String url_photo = conn.loadImage(facebook_user_name);\n                                    Uri myUri = Uri.parse(url_photo);\n                                    image_user.setImageURI(myUri);\n                                    alias_perfil = conn.getUserName(email_facebook);\n                                    alias_facebook = conn.requestAlias(alias_perfil);\n                                    alias.setText(alias_facebook);\n                                    String last_season =  conn.getLastDateofConnection(facebook_user_name);\n                                    tag_date.setText(last_season);\n                                    conn.overwriteDate(date_now,facebook_user_name);\n                                    String last_season_2 =  conn.getLastDateofConnection(facebook_user_name);\n                                    //Toast.makeText(getContext(), &quot;La nueva fecha es&quot;+last_season_2, Toast.LENGTH_SHORT).show();\n                                }\n\n                                else {\n                                    alias_name= generateAliasRandom();\n                                    conn.insertUser(facebook_user_name,facebook_firstname,facebook_lastname,str_datefb,str_datejoinedfb,alias_name,email_facebook,null,url_perfil_facebook);\n                                }\n                                name_aux = name_user.getText().toString();\n                                alias_aux = alias.getText().toString();\n\n\n\n                            } catch (JSONException  e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    });\n\n            Bundle parameters = new Bundle();\n            parameters.putString(&quot;fields&quot;,&quot;id,first_name,last_name,name,email,link,picture.type(large)&quot;);\n            request.setParameters(parameters);\n            request.executeAsync();\n\n        }\n\n       \n        buttonChangeAlias.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                alias.setFocusableInTouchMode(true);\n                alias.setText(&quot;&quot;);\n                alias.setEnabled(true);\n                click = true;\n                alias.setOnKeyListener(new View.OnKeyListener() {\n                    public boolean onKey(View v, int keyCode, KeyEvent event) {\n                        if ((event.getAction() == KeyEvent.ACTION_DOWN) &amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {\n                            alias.setCursorVisible(false);\n                            alias.setEnabled(false);\n                            alias.setTextColor(Color.BLACK);\n                            int id = conn.requestId(name_user.getText().toString());\n                            conn.overwriteAlias(alias.getText().toString(),id);\n                            return true;\n                        }\n                        return false;\n                    }\n\n                });\n            }\n        });\n\n\n\n        return  view;\n\n    }\n\n    private String generateAliasRandom(){\n        String chars = &quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;;\n        Random random = new Random();\n        StringBuilder name_alias = new StringBuilder(10);\n        for (int i = 0; i &lt; 10; i++){\n            name_alias.append(chars.charAt(random.nextInt(chars.length())));\n        }\n        alias.setText(name_alias);\n        return String.valueOf(name_alias);\n    }\n\n\n    @RequiresApi(api = Build.VERSION_CODES.P)\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(getContext(),&quot;lala&quot;,null,1);\n        if(resultCode == RESULT_OK &amp;&amp; data != null){\n            Uri selectedImage = data.getData();\n            image_user.setImageURI(selectedImage);\n            String stringUri = selectedImage.toString();\n            int id_user = conn.requestId(name_user.getText().toString());\n            conn.overWriteImage(stringUri,id_user);\n          \n\n        }\n    }\n\n\n\n}\n\n\n</code></pre>\n"},{"tags":["java","eclipse","maven","coap","californium"],"comments":[{"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"score":1,"creation_date":1663696074,"post_id":73789211,"comment_id":130299154,"body_markdown":"Two things to note: 1. `mvn compile` is not needed once you have run `mvn clean install` and 2. In case of maven you don&#39;t actually run a java class, but instead run the executable (`jar` in your case) that was generated by the `mvn clean install` that you ran. You can find the jar directly under the `target` directory and execute it with `java -jar &lt;jar filepath&gt;`","body":"Two things to note: 1. <code>mvn compile</code> is not needed once you have run <code>mvn clean install</code> and 2. In case of maven you don&#39;t actually run a java class, but instead run the executable (<code>jar</code> in your case) that was generated by the <code>mvn clean install</code> that you ran. You can find the jar directly under the <code>target</code> directory and execute it with <code>java -jar &lt;jar filepath&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663758525,"creation_date":1663758525,"answer_id":73799732,"question_id":73789211,"body_markdown":"Please build not only a demo-app, that doesn&#39;t work from scratch.\r\n\r\nInstead build the parent (root folder of californium) with \r\n\r\nmvn clean install\r\n\r\nAfterwards change to the app directory, e.g. &quot;demo-apps/cd-helloworld-server&quot;.\r\nThere  you start the server with\r\n\r\n&quot;java -jar target/cf-helloworld-server-3.7.0-SNAPSHOT.jar&quot;\r\n\r\nand you get the output:\r\n\r\n&gt; Californium (Cf) Server-Starter (c) 2020, Bosch.IO GmbH and others\r\n&gt; \r\n&gt; Usage: Server (HelloWorldServer|MulticastTestServer)\r\n\r\nFollow the usage:\r\n\r\n&quot;java -jar target/cf-helloworld-server-3.7.0-SNAPSHOT.jar HelloWorldServer&quot;\r\n\r\nand you run the HelloWorldServer.\r\n  ","title":"How to run helloWorld using Maven californium - Java","body":"<p>Please build not only a demo-app, that doesn't work from scratch.</p>\n<p>Instead build the parent (root folder of californium) with</p>\n<p>mvn clean install</p>\n<p>Afterwards change to the app directory, e.g. &quot;demo-apps/cd-helloworld-server&quot;.\nThere  you start the server with</p>\n<p>&quot;java -jar target/cf-helloworld-server-3.7.0-SNAPSHOT.jar&quot;</p>\n<p>and you get the output:</p>\n<blockquote>\n<p>Californium (Cf) Server-Starter (c) 2020, Bosch.IO GmbH and others</p>\n<p>Usage: Server (HelloWorldServer|MulticastTestServer)</p>\n</blockquote>\n<p>Follow the usage:</p>\n<p>&quot;java -jar target/cf-helloworld-server-3.7.0-SNAPSHOT.jar HelloWorldServer&quot;</p>\n<p>and you run the HelloWorldServer.</p>\n"}],"owner":{"account_id":26380184,"reputation":5,"user_id":20033557,"display_name":"waleed Mash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73799732,"answer_count":1,"score":0,"last_activity_date":1663758525,"creation_date":1663687898,"question_id":73789211,"body_markdown":"I am new to Java environment,\r\nI&#39;m trying to run a **Coap** server using **Californium** \r\nhttps://github.com/eclipse-californium/californium\r\n\r\nI cloned the git repo. then ran `mvn clean install` in the repo folder.\r\nI now want to run the hello world demo in `californium/demo-apps/cf-helloworld-server/`\r\n\r\nwhat is the next step?\r\n\r\nI opened the folder `cd demo-apps/cf-helloworld-server`\r\nthen ran\r\n- `mvn clean install`\r\n- `mvn compile`\r\n\r\nit worked without errors,\r\nnow how to run the server?\r\n\r\nif I run:\r\n\r\n    java target.classes.org.eclipse.californium.examples.HelloWorldServer\r\n\r\nI get this error\r\n\r\n    Error: Unable to initialize main class org.eclipse.californium.examples.Server\r\n    Caused by: java.lang.NoClassDefFoundError: org/eclipse/californium/elements/exception/ConnectorException\r\n\r\n","title":"How to run helloWorld using Maven californium - Java","body":"<p>I am new to Java environment,\nI'm trying to run a <strong>Coap</strong> server using <strong>Californium</strong>\n<a href=\"https://github.com/eclipse-californium/californium\" rel=\"nofollow noreferrer\">https://github.com/eclipse-californium/californium</a></p>\n<p>I cloned the git repo. then ran <code>mvn clean install</code> in the repo folder.\nI now want to run the hello world demo in <code>californium/demo-apps/cf-helloworld-server/</code></p>\n<p>what is the next step?</p>\n<p>I opened the folder <code>cd demo-apps/cf-helloworld-server</code>\nthen ran</p>\n<ul>\n<li><code>mvn clean install</code></li>\n<li><code>mvn compile</code></li>\n</ul>\n<p>it worked without errors,\nnow how to run the server?</p>\n<p>if I run:</p>\n<pre><code>java target.classes.org.eclipse.californium.examples.HelloWorldServer\n</code></pre>\n<p>I get this error</p>\n<pre><code>Error: Unable to initialize main class org.eclipse.californium.examples.Server\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/californium/elements/exception/ConnectorException\n</code></pre>\n"},{"tags":["java","caching","retrofit","okhttp","cache-control"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663758349,"creation_date":1663758349,"answer_id":73799701,"question_id":73798079,"body_markdown":"OkHttpâ€™s cache evicts the least-recently used items. It does not consider when an itemâ€™a freshness time when making eviction decisions.\r\n\r\nThere is no API to change this policy. If youâ€™d like to manually evict items from the cache, you may use the cacheâ€™s `iterator` and call `remove` on the items you decide should be evicted.","title":"Modify logic of what to do when cache is full in Retrofit/OkHttp?","body":"<p>OkHttpâ€™s cache evicts the least-recently used items. It does not consider when an itemâ€™a freshness time when making eviction decisions.</p>\n<p>There is no API to change this policy. If youâ€™d like to manually evict items from the cache, you may use the cacheâ€™s <code>iterator</code> and call <code>remove</code> on the items you decide should be evicted.</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73799701,"answer_count":1,"score":0,"last_activity_date":1663758349,"creation_date":1663750850,"question_id":73798079,"body_markdown":"I am trying to define my own logic of how is cache handled when it is full, because actual behavior is not wanted. I do not know if it is possible (I have not found any documentation on this topic), so I am asking here.\r\n\r\nWhen cache is full, Retrofit/OkHttp is removing cached responses based on their validity duration, prioritizing these, that expire sooner.\r\n\r\nSimple example:\r\n\r\nIf we have an empty cache of for example 1MB and there comes response of size 700KB that expires in 1 hour (Cache-Control: max-age=3600) and after this comes different response of size 800KB (it does not fit in cache anymore) that expires in 30 minutes, the second response is not cached.\r\n\r\nAnother example:\r\n\r\nIn 1MB cache we have 800KB response that expires in 1 hour from now and then another response comes that have 800KB that expires in 5 hours. The 1 hour response is removed and 5 hour response is stored.\r\n\r\nI want to change this behavior, to be that responses are removed from cache based on their receival time (OkHttp-Received-Millis attribute), not their expiration time, so oldest reponses are removed first.\r\n\r\nCreation of http client and retrofit initialization:\r\n\r\n\r\n    private Retrofit retrofit(String baseUrl) {\r\n            return new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .client(cachingClient(CACHE_IDENTIFIER))\r\n                    .addConverterFactory(GsonConverterFactory.create(gson()))\r\n                    .build();\r\n    }\r\n    \r\n    private OkHttpClient cachingClient(String identifier) {\r\n            return new OkHttpClient.Builder()\r\n                    .cache(cache(identifier))\r\n                    .addInterceptor(InterceptorsKt.authorizationInterceptor(Credentials.basic(USER, PASSWD)))\r\n                    .build();\r\n    }\r\n    \r\n    private Cache cache(String identifier) {\r\n            return new Cache(new File(context.get().getCacheDir(), identifier), CACHE_SIZE);\r\n    }\r\n\r\nStructure of cached response call:\r\n\r\n    http://example.com:8754/random/hello\r\n    GET\r\n    0\r\n    HTTP/1.1 200 \r\n    11\r\n    Cache-Control: max-age=2592000, immutable\r\n    X-Content-Type-Options: nosniff\r\n    X-XSS-Protection: 1; mode=block\r\n    X-Frame-Options: DENY\r\n    Content-Type: application/json\r\n    Transfer-Encoding: chunked\r\n    Date: Wed, 21 Sep 2022 08:01:31 GMT\r\n    Keep-Alive: timeout=60\r\n    Connection: keep-alive\r\n    OkHttp-Sent-Millis: 1663747322078\r\n    OkHttp-Received-Millis: 1663747322254\r\n\r\nOne more time, actual behavior is that responses are removed from cache (when its full) based on calculation **time now + max-age** (lowest are removed first) and wanted behavior is that oldest are removed, based on **OkHttp-Received-Millis**.\r\n\r\nIs something like this possible to do?","title":"Modify logic of what to do when cache is full in Retrofit/OkHttp?","body":"<p>I am trying to define my own logic of how is cache handled when it is full, because actual behavior is not wanted. I do not know if it is possible (I have not found any documentation on this topic), so I am asking here.</p>\n<p>When cache is full, Retrofit/OkHttp is removing cached responses based on their validity duration, prioritizing these, that expire sooner.</p>\n<p>Simple example:</p>\n<p>If we have an empty cache of for example 1MB and there comes response of size 700KB that expires in 1 hour (Cache-Control: max-age=3600) and after this comes different response of size 800KB (it does not fit in cache anymore) that expires in 30 minutes, the second response is not cached.</p>\n<p>Another example:</p>\n<p>In 1MB cache we have 800KB response that expires in 1 hour from now and then another response comes that have 800KB that expires in 5 hours. The 1 hour response is removed and 5 hour response is stored.</p>\n<p>I want to change this behavior, to be that responses are removed from cache based on their receival time (OkHttp-Received-Millis attribute), not their expiration time, so oldest reponses are removed first.</p>\n<p>Creation of http client and retrofit initialization:</p>\n<pre><code>private Retrofit retrofit(String baseUrl) {\n        return new Retrofit.Builder()\n                .baseUrl(baseUrl)\n                .client(cachingClient(CACHE_IDENTIFIER))\n                .addConverterFactory(GsonConverterFactory.create(gson()))\n                .build();\n}\n\nprivate OkHttpClient cachingClient(String identifier) {\n        return new OkHttpClient.Builder()\n                .cache(cache(identifier))\n                .addInterceptor(InterceptorsKt.authorizationInterceptor(Credentials.basic(USER, PASSWD)))\n                .build();\n}\n\nprivate Cache cache(String identifier) {\n        return new Cache(new File(context.get().getCacheDir(), identifier), CACHE_SIZE);\n}\n</code></pre>\n<p>Structure of cached response call:</p>\n<pre><code>http://example.com:8754/random/hello\nGET\n0\nHTTP/1.1 200 \n11\nCache-Control: max-age=2592000, immutable\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nX-Frame-Options: DENY\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Wed, 21 Sep 2022 08:01:31 GMT\nKeep-Alive: timeout=60\nConnection: keep-alive\nOkHttp-Sent-Millis: 1663747322078\nOkHttp-Received-Millis: 1663747322254\n</code></pre>\n<p>One more time, actual behavior is that responses are removed from cache (when its full) based on calculation <strong>time now + max-age</strong> (lowest are removed first) and wanted behavior is that oldest are removed, based on <strong>OkHttp-Received-Millis</strong>.</p>\n<p>Is something like this possible to do?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1663745458,"post_id":73796690,"comment_id":130308925,"body_markdown":"There is chance that you may be filling up the EntityManager&#39;s cache. Can you try `EntityManager.clear()` every a couple of hundred iterations to see what happens?","body":"There is chance that you may be filling up the EntityManager&#39;s cache. Can you try <code>EntityManager.clear()</code> every a couple of hundred iterations to see what happens?"},{"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"score":0,"creation_date":1663745741,"post_id":73796690,"comment_id":130309023,"body_markdown":"I&#39;m not using entityManager but Springs sessionFactory. Is there any way to clear it&#39;s cache? Could not find an appropriate method.","body":"I&#39;m not using entityManager but Springs sessionFactory. Is there any way to clear it&#39;s cache? Could not find an appropriate method."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1663746700,"post_id":73796690,"comment_id":130309382,"body_markdown":"`sessionFactory.getCurrentSession().clear();`","body":"<code>sessionFactory.getCurrentSession().clear();</code>"},{"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"score":0,"creation_date":1663746733,"post_id":73796690,"comment_id":130309390,"body_markdown":"@NikosParaskevopoulos: Thank you, your hint saved my day. I did if (session != null) {\n\t\t\t\tsession.clear(); // internal cache clear\n\t\t\t}. Please post your comment as an answer so that I can accept it.","body":"@NikosParaskevopoulos: Thank you, your hint saved my day. I did if (session != null) { \t\t\t\tsession.clear(); // internal cache clear \t\t\t}. Please post your comment as an answer so that I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663754548,"creation_date":1663754548,"answer_id":73798867,"question_id":73796690,"body_markdown":"JPA uses a cache for managed entities. You may see it referenced as &quot;1st level cache&quot; and is connected to the current persistence context, i.e. the `EntityManager`. JPA implementations, like Hibernate, should have similar behaviors in their corresponding components, e.g. Hibernate&#39;s `Session`.\r\n\r\nEvery time you read an instance of an entity from the DB, the EntityManager stores the entity object in the 1st level cache. Operations like `em.find(entityClass, primaryKey)`, `em.createQuery(...)...getResultList()` etc load entities in the cache. The cache is destroyed when the persistence context is destroyed. Usually you get one persistence context per request, and there is the extended persistence context that may live longer.\r\n\r\nAt some point this cache will eventually start filling up, causing problems to the running application. It is advised to clear the cache with `EntityManager.clear()` (or Hibernate&#39;s corresponding `Session.clear()` - thanks @XtremeBaumer) when a workflow reads many entities and doesn&#39;t need them anymore. When running a batch workflow, clear the cache every N iterations (experiment for N, could be tens, hundreds or even thousands). Beware that, as per the Javadocs:\r\n\r\n&gt; `void clear()`\r\n&gt;\r\n&gt; Clear the persistence context, causing all managed entities to become detached. **Changes made to entities that have not been flushed to the database will not be persisted.**","title":"CriteriaBuilder slows down during ~15000 executions","body":"<p>JPA uses a cache for managed entities. You may see it referenced as &quot;1st level cache&quot; and is connected to the current persistence context, i.e. the <code>EntityManager</code>. JPA implementations, like Hibernate, should have similar behaviors in their corresponding components, e.g. Hibernate's <code>Session</code>.</p>\n<p>Every time you read an instance of an entity from the DB, the EntityManager stores the entity object in the 1st level cache. Operations like <code>em.find(entityClass, primaryKey)</code>, <code>em.createQuery(...)...getResultList()</code> etc load entities in the cache. The cache is destroyed when the persistence context is destroyed. Usually you get one persistence context per request, and there is the extended persistence context that may live longer.</p>\n<p>At some point this cache will eventually start filling up, causing problems to the running application. It is advised to clear the cache with <code>EntityManager.clear()</code> (or Hibernate's corresponding <code>Session.clear()</code> - thanks @XtremeBaumer) when a workflow reads many entities and doesn't need them anymore. When running a batch workflow, clear the cache every N iterations (experiment for N, could be tens, hundreds or even thousands). Beware that, as per the Javadocs:</p>\n<blockquote>\n<p><code>void clear()</code></p>\n<p>Clear the persistence context, causing all managed entities to become detached. <strong>Changes made to entities that have not been flushed to the database will not be persisted.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73798867,"answer_count":1,"score":0,"last_activity_date":1663758151,"creation_date":1663744300,"question_id":73796690,"body_markdown":"Spring 5.3 with Hibernate 5.6:\r\n\r\nI am experiencing some performance issues after rewrite/migration from Hibernate Criteria API to JPA CriteriaBuilder for a findByCriteria method that runs ~15k times during startup of my app. Normally, this would take maybe one minute using Criteria API but when I have the JPA code run, all is good until ~9k iterations (which takes about 10 seconds). But starting with ~10k, the execution rate drops to circa 80 queries per second. \r\n\r\nAny idea why that is? My code looks like this: \r\n\r\n    public List&lt;ENTITY&gt; findByCriteria(final Map&lt;String, Object&gt; criteriaMap, final List&lt;String&gt; fields, final Class&lt;ENTITY&gt; entityClass) {\r\n    \tSession session = getSessionFactory().getCurrentSession()\r\n    \tCriteriaBuilder cb = session.getCriteriaBuilder();\r\n    \tCriteriaQuery cr = cb.createQuery(aliasToBeanClass);\r\n    \tRoot root = cr.from(aliasToBeanClass);\r\n    \tList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n    \t// Take info from criteriaMap and create predicates ... some if/else or switch logic\r\n    \t// Take info from fields and create projections\r\n    \t\r\n    \tcr.where(cb.and(predicates.toArray(new Predicate[0])));\r\n    \tQuery query = session.createQuery(cr);\r\n    \tList&lt;ENTITY&gt; results = query.getResultList();\r\n    \r\n    \treturn results;\r\n    }\r\n\r\nThe statements that are generated using the predicates look like that:\r\n\r\n&gt; select this_.rowguid as rowguid1_72_0_, this_.tt_path as\r\n&gt; tt_path2_72_0_, this_.tt_denotation as tt_denot3_72_0_,\r\n&gt; this_.tt_description as tt_descr4_72_0_, this_.tt_reference as\r\n&gt; tt_refer5_72_0_, this_.tt_owner as tt_owner6_72_0_,\r\n&gt; this_.tt_creation_date as tt_creat7_72_0_, this_.tt_creation_user as\r\n&gt; tt_creat8_72_0_, this_.tt_modification_date as tt_modif9_72_0_,\r\n&gt; this_.tt_modification_user as tt_modi10_72_0_ from txt_t_text this_\r\n&gt; where this_.tt_path=$1 and this_.tt_denotation=$2 and\r\n&gt; (this_.tt_owner=$3 or this_.tt_owner=$4)\r\n\r\n\r\n","title":"CriteriaBuilder slows down during ~15000 executions","body":"<p>Spring 5.3 with Hibernate 5.6:</p>\n<p>I am experiencing some performance issues after rewrite/migration from Hibernate Criteria API to JPA CriteriaBuilder for a findByCriteria method that runs ~15k times during startup of my app. Normally, this would take maybe one minute using Criteria API but when I have the JPA code run, all is good until ~9k iterations (which takes about 10 seconds). But starting with ~10k, the execution rate drops to circa 80 queries per second.</p>\n<p>Any idea why that is? My code looks like this:</p>\n<pre><code>public List&lt;ENTITY&gt; findByCriteria(final Map&lt;String, Object&gt; criteriaMap, final List&lt;String&gt; fields, final Class&lt;ENTITY&gt; entityClass) {\n    Session session = getSessionFactory().getCurrentSession()\n    CriteriaBuilder cb = session.getCriteriaBuilder();\n    CriteriaQuery cr = cb.createQuery(aliasToBeanClass);\n    Root root = cr.from(aliasToBeanClass);\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n\n    // Take info from criteriaMap and create predicates ... some if/else or switch logic\n    // Take info from fields and create projections\n    \n    cr.where(cb.and(predicates.toArray(new Predicate[0])));\n    Query query = session.createQuery(cr);\n    List&lt;ENTITY&gt; results = query.getResultList();\n\n    return results;\n}\n</code></pre>\n<p>The statements that are generated using the predicates look like that:</p>\n<blockquote>\n<p>select this_.rowguid as rowguid1_72_0_, this_.tt_path as\ntt_path2_72_0_, this_.tt_denotation as tt_denot3_72_0_,\nthis_.tt_description as tt_descr4_72_0_, this_.tt_reference as\ntt_refer5_72_0_, this_.tt_owner as tt_owner6_72_0_,\nthis_.tt_creation_date as tt_creat7_72_0_, this_.tt_creation_user as\ntt_creat8_72_0_, this_.tt_modification_date as tt_modif9_72_0_,\nthis_.tt_modification_user as tt_modi10_72_0_ from txt_t_text this_\nwhere this_.tt_path=$1 and this_.tt_denotation=$2 and\n(this_.tt_owner=$3 or this_.tt_owner=$4)</p>\n</blockquote>\n"},{"tags":["java","swagger","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":11508061,"reputation":61,"user_id":8433734,"display_name":"Guillermo Siles Bonilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663758079,"creation_date":1663758079,"answer_id":73799645,"question_id":73788563,"body_markdown":"I found out the problem.\r\n\r\nI was migrating from mangofactory swagger and the guide I followed was wrong. In @Parameter, it should be &#39;description&#39; instead of &#39;name&#39;. \r\n\r\nThe swagger doesn&#39;t help to find this error because since there is no description, it uses the name. But since in name I am writing the description,  it appears as if everything is correct (under description I see my expected String). ","title":"springdoc-openapi swagger don&#39;t make calls with parameters","body":"<p>I found out the problem.</p>\n<p>I was migrating from mangofactory swagger and the guide I followed was wrong. In @Parameter, it should be 'description' instead of 'name'.</p>\n<p>The swagger doesn't help to find this error because since there is no description, it uses the name. But since in name I am writing the description,  it appears as if everything is correct (under description I see my expected String).</p>\n"}],"owner":{"account_id":11508061,"reputation":61,"user_id":8433734,"display_name":"Guillermo Siles Bonilla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73799645,"answer_count":1,"score":0,"last_activity_date":1663758079,"creation_date":1663684919,"question_id":73788563,"body_markdown":"I have deleted an old swagger in a project and added springdoc-openapi, following the official documentation.\r\n\r\nI should have done something wrong, but I don&#39;t know what. Somehow when I try to execute a call, the parameters don&#39;t get replaced in the URL:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yUOlT.png\r\n\r\nAs you can see in the image, the curl attach a {id} at the end, instead of 13. If I try this curl myself with the number 13 it works fine.\r\n\r\nThis is the code for this specific call:\r\n```\r\n@Operation(summary = &quot;Gets a client.&quot;)\r\n    @ApiResponses({ @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Ok&quot;),\r\n                    @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found&quot;) })\r\n    @GetMapping(path = &quot;/{id}&quot;)\r\n    public ResponseEntity get(@PathVariable @Parameter(name = &quot;ID of client&quot;) final Long id) {\r\n        final ClientDTO response = clientService.get(id);\r\n\r\n        return ResponseEntity.ok(response);\r\n    }\r\n```\r\n\r\nI am using spring-boot 2.7.3 and springdoc-openapi 1.6.11","title":"springdoc-openapi swagger don&#39;t make calls with parameters","body":"<p>I have deleted an old swagger in a project and added springdoc-openapi, following the official documentation.</p>\n<p>I should have done something wrong, but I don't know what. Somehow when I try to execute a call, the parameters don't get replaced in the URL:</p>\n<p><a href=\"https://i.stack.imgur.com/yUOlT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yUOlT.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see in the image, the curl attach a {id} at the end, instead of 13. If I try this curl myself with the number 13 it works fine.</p>\n<p>This is the code for this specific call:</p>\n<pre><code>@Operation(summary = &quot;Gets a client.&quot;)\n    @ApiResponses({ @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Ok&quot;),\n                    @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found&quot;) })\n    @GetMapping(path = &quot;/{id}&quot;)\n    public ResponseEntity get(@PathVariable @Parameter(name = &quot;ID of client&quot;) final Long id) {\n        final ClientDTO response = clientService.get(id);\n\n        return ResponseEntity.ok(response);\n    }\n</code></pre>\n<p>I am using spring-boot 2.7.3 and springdoc-openapi 1.6.11</p>\n"},{"tags":["java","google-chrome","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1512642909,"post_id":47692436,"comment_id":82345115,"body_markdown":"Have a look at this workaround... https://stackoverflow.com/questions/7742852/popup-blocking-in-google-chrome-causing-issues-with-capybara-rspec-tests. I think you should look at the answer by &quot;Md. Nazmul Haque Sarker&quot; as it seems more relevant to current chrome verion.","body":"Have a look at this workaround... <a href=\"https://stackoverflow.com/questions/7742852/popup-blocking-in-google-chrome-causing-issues-with-capybara-rspec-tests\" title=\"popup blocking in google chrome causing issues with capybara rspec tests\">stackoverflow.com/questions/7742852/&hellip;</a>. I think you should look at the answer by &quot;Md. Nazmul Haque Sarker&quot; as it seems more relevant to current chrome verion."},{"owner":{"account_id":9182974,"reputation":231,"user_id":6833714,"accept_rate":82,"display_name":"Raj"},"score":0,"creation_date":1512645939,"post_id":47692436,"comment_id":82347168,"body_markdown":"Thanks for the reply.I am a new bee for a test automation. I am not understanding clearly on that link. on your suggested answer.\n\n\ncss_selector_for_iframe = &#39;iframe[name=&quot;settings&quot;]&#39;\n\ndriver.get(&#39;chrome://settings/content&#39;)\niframe = driver.find_element_by_css_selector(css_selector_for_iframe)\ndriver.switch_to_frame(iframe)\ndriver.find_element_by_name(&#39;popups&#39;).click()\nclick_element(driver, &#39;#content-settings-overlay-confirm&#39;)\ndriver.switch_to_default_content()","body":"Thanks for the reply.I am a new bee for a test automation. I am not understanding clearly on that link. on your suggested answer.   css_selector_for_iframe = &#39;iframe[name=&quot;settings&quot;]&#39;  driver.get(&#39;chrome://settings/content&#39;) iframe = driver.find_element_by_css_selector(css_selector_for_iframe) driver.switch_to_frame(iframe) driver.find_element_by_name(&#39;popups&#39;).click() click_element(driver, &#39;#content-settings-overlay-confirm&#39;) driver.switch_to_default_content()"}],"answers":[{"tags":[],"owner":{"account_id":1860245,"reputation":459,"user_id":1684944,"accept_rate":80,"display_name":"Abhishek Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512646736,"creation_date":1512644352,"answer_id":47693522,"question_id":47692436,"body_markdown":"You can try below code it is working fine for me:\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;//chrome path in system//&quot;);\r\n        ChromeOptions options  = new ChromeOptions();\r\n        //options.addArguments(&quot;incognito&quot;);\r\n        options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n        driver = new ChromeDriver(capabilities);\r\n","title":"How to block the pop-up windows in chrome by Selenium","body":"<p>You can try below code it is working fine for me:</p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"//chrome path in system//\");\n    ChromeOptions options  = new ChromeOptions();\n    //options.addArguments(\"incognito\");\n    options.addArguments(\"--disable-popup-blocking\");\n    DesiredCapabilities capabilities = new DesiredCapabilities();\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n    driver = new ChromeDriver(capabilities);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15917748,"reputation":21,"user_id":14032038,"display_name":"Rohan Rathi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602062625,"creation_date":1602040670,"answer_id":64236709,"question_id":47692436,"body_markdown":"Try sending the `&quot;disable-popup-blocking&quot;` argument by type-casting it as a list.\r\nThis works for me in python:\r\n\r\n```py\r\nchrome_options.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;disable-popup-blocking&quot;])\r\n```","title":"How to block the pop-up windows in chrome by Selenium","body":"<p>Try sending the <code>&quot;disable-popup-blocking&quot;</code> argument by type-casting it as a list.\nThis works for me in python:</p>\n<pre class=\"lang-py prettyprint-override\"><code>chrome_options.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;disable-popup-blocking&quot;])\n</code></pre>\n"}],"owner":{"account_id":9182974,"reputation":231,"user_id":6833714,"accept_rate":82,"display_name":"Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663757652,"creation_date":1512641082,"question_id":47692436,"body_markdown":"I am using the java and selenium to write the test script for automation. On here the target automated Org has some reminder pop-up windows so it makes the confusion of taking in the command of **driver.getWindowHandles()** command on my results.\r\n\r\nI try the below code to try to **Block the pop-up windows on the chrome**\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;//chrome path in system//&quot;);\r\n\t\tChromeOptions options  = new ChromeOptions();\r\n\t\toptions.setExperimentalOption(&quot;excludeSwitches&quot;, &quot;disable-popup-blocking&quot;);\r\n\t\tDesiredCapabilities capabilities = new DesiredCapabilities();\r\n\t\tcapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\t\tdriver = new ChromeDriver(capabilities);\r\n\r\nBut it&#39;s not working it&#39;s given the below error and prevent the chrome to launch:\r\n\r\n&gt; **from unknown error: cannot parse excludeSwitches**  \r\n**from unknown error: must be a list**\r\n\r\nSo what I should do for close those pop-up windows. Any answer is appreciated. I am using the **chrome version:  &#39;2.29.461591&#39;** and **java.version: &#39;1.8.0_92&#39;**","title":"How to block the pop-up windows in chrome by Selenium","body":"<p>I am using the java and selenium to write the test script for automation. On here the target automated Org has some reminder pop-up windows so it makes the confusion of taking in the command of <strong>driver.getWindowHandles()</strong> command on my results.</p>\n\n<p>I try the below code to try to <strong>Block the pop-up windows on the chrome</strong></p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"//chrome path in system//\");\n    ChromeOptions options  = new ChromeOptions();\n    options.setExperimentalOption(\"excludeSwitches\", \"disable-popup-blocking\");\n    DesiredCapabilities capabilities = new DesiredCapabilities();\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n    driver = new ChromeDriver(capabilities);\n</code></pre>\n\n<p>But it's not working it's given the below error and prevent the chrome to launch:</p>\n\n<blockquote>\n  <p><strong>from unknown error: cannot parse excludeSwitches</strong><br>\n  <strong>from unknown error: must be a list</strong></p>\n</blockquote>\n\n<p>So what I should do for close those pop-up windows. Any answer is appreciated. I am using the <strong>chrome version:  '2.29.461591'</strong> and <strong>java.version: '1.8.0_92'</strong></p>\n"},{"tags":["java","soap"],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663757481,"creation_date":1663745837,"question_id":73796998,"body_markdown":"I am using SpringBoot  with Java 11.\r\n\r\nI am trying to consume a SOAP web service, but I get the following error:\r\n\r\n&gt; org.springframework.ws.client.WebServiceTransportException: Bad\r\n&gt; Request [400]\r\n\r\nI can however call the web service successfully (200) in Postman and SOAP UI, so there&#39;s something wrong with my Java code (`ProconSoapClient.java`).\r\n\r\nPostman Request (200):\r\n\r\n    curl --location --request POST &#39;http://******/ProCONWS/WebService_PCSOrderEntry.asmx&#39; \\\r\n    --header &#39;Content-Type: application/soap+xml;charset=UTF-8;action=&quot;http://www.procon.dk/calculate_MD5&quot;&#39; \\\r\n    --header &#39;Content-Length: 458&#39; \\\r\n    --data-raw &#39;&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:proc=&quot;http://www.procon.dk/&quot;&gt;\r\n       &lt;soap:Header/&gt;\r\n       &lt;soap:Body&gt;\r\n          &lt;proc:calculate_MD5&gt;\r\n             &lt;proc:user&gt;*****&lt;/proc:user&gt;\r\n             &lt;proc:timestamp&gt;20220915 144942&lt;/proc:timestamp&gt;\r\n             &lt;proc:Secret_word&gt;********&lt;/proc:Secret_word&gt;\r\n          &lt;/proc:calculate_MD5&gt;\r\n       &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;&#39;\r\n\r\nJava Code (400):\r\n\r\n**ProconSoapClient.java**\r\n\r\nHow do I set the body (payload)? The `objectFactory.createString` accepts a `String` but I need to send a `CalculateMD5`.\r\n\r\n    // request headers\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    headers.put(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\r\n    headers.put(&quot;Content-Type&quot;, &quot;application/soap+xml;charset=UTF-8;action=\\&quot;http://www.procon.dk/calculate_MD5\\&quot;&quot;);\r\n    headers.put(&quot;Content-Length&quot;, &quot;458&quot;);\r\n    headers.put(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n    //headers.put(&quot;charset&quot;, &quot;utf-8&quot;);\r\n    WebServiceMessageCallback callback = getRequestCallback(headers);\r\n\r\n    // request object\r\n    ObjectFactory objectFactory = new ObjectFactory();\r\n    CalculateMD5 calculateMD5 = objectFactory.createCalculateMD5();\r\n    calculateMD5.setUser(PROCON_SOAP_ACCESS_USER);\r\n    calculateMD5.setTimestamp(URLEncoder.encode(DateUtil.dateToString(new Date(), &quot;yyyyMMdd HHmmss&quot;), StandardCharsets.UTF_8));\r\n    calculateMD5.setSecretWord(PROCON_SOAP_ACCESS_SECRETWORD);\r\n\r\n    // payload\r\n    final String payload = marshal(calculateMD5);\r\n    // todo: what must go here? accepts a String but the object is a CalculateMD5\r\n    JAXBElement&lt;String&gt; jaxbElementPayload = objectFactory.createString(payload);\r\n\r\n    // call the SOAP service\r\n    Object response = getWebServiceTemplate().marshalSendAndReceive(PROCON_SOAP_ACCESS_URL, jaxbElementPayload, callback);\r\n\r\nGenerated classes:\r\n\r\nWhere the `CalculateMD5` and `ObjectFactory` objects were generated from the WSDL.\r\n\r\n**CalculateMD5.java**\r\n\r\n    /**\r\n     * &lt;p&gt;Java class for anonymous complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType&amp;gt;\r\n     *   &amp;lt;complexContent&amp;gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\r\n     *       &amp;lt;sequence&amp;gt;\r\n     *         &amp;lt;element name=&quot;user&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&amp;gt;\r\n     *         &amp;lt;element name=&quot;timestamp&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&amp;gt;\r\n     *         &amp;lt;element name=&quot;Secret_word&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&amp;gt;\r\n     *       &amp;lt;/sequence&amp;gt;\r\n     *     &amp;lt;/restriction&amp;gt;\r\n     *   &amp;lt;/complexContent&amp;gt;\r\n     * &amp;lt;/complexType&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;user&quot;,\r\n        &quot;timestamp&quot;,\r\n        &quot;secretWord&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;calculate_MD5&quot;)\r\n    public class CalculateMD5 {\r\n    \r\n        protected String user;\r\n        protected String timestamp;\r\n        @XmlElement(name = &quot;Secret_word&quot;)\r\n        protected String secretWord;\r\n    \r\n        /**\r\n         * Gets the value of the user property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getUser() {\r\n            return user;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the user property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setUser(String value) {\r\n            this.user = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the timestamp property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getTimestamp() {\r\n            return timestamp;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the timestamp property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setTimestamp(String value) {\r\n            this.timestamp = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the secretWord property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getSecretWord() {\r\n            return secretWord;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the secretWord property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setSecretWord(String value) {\r\n            this.secretWord = value;\r\n        }\r\n    \r\n    }\r\n\r\n**ObjectFactory.java** \r\n\r\n    @XmlRegistry\r\n    public class ObjectFactory {\r\n    \r\n        private final static QName _String_QNAME = new QName(&quot;http://www.procon.dk/&quot;, &quot;string&quot;);\r\n    \r\n        /**\r\n         * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: com.clubtravel.powwow.soap.client.procon.generated\r\n         * \r\n         */\r\n        public ObjectFactory() {\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link CalculateMD5 }\r\n         * \r\n         */\r\n        public CalculateMD5 createCalculateMD5() {\r\n            return new CalculateMD5();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link CalculateMD5Response }\r\n         * \r\n         */\r\n        public CalculateMD5Response createCalculateMD5Response() {\r\n            return new CalculateMD5Response();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link PcsCreateOrder }\r\n         * \r\n         */\r\n        public PcsCreateOrder createPcsCreateOrder() {\r\n            return new PcsCreateOrder();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link PcsCreateOrderResponse }\r\n         * \r\n         */\r\n        public PcsCreateOrderResponse createPcsCreateOrderResponse() {\r\n            return new PcsCreateOrderResponse();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link PcsGetOrderStatus }\r\n         * \r\n         */\r\n        public PcsGetOrderStatus createPcsGetOrderStatus() {\r\n            return new PcsGetOrderStatus();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link PcsGetOrderStatusResponse }\r\n         * \r\n         */\r\n        public PcsGetOrderStatusResponse createPcsGetOrderStatusResponse() {\r\n            return new PcsGetOrderStatusResponse();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n         * \r\n         * @param value\r\n         *     Java instance representing xml element&#39;s value.\r\n         * @return\r\n         *     the new instance of {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\r\n         */\r\n        @XmlElementDecl(namespace = &quot;http://www.procon.dk/&quot;, name = &quot;string&quot;)\r\n        public JAXBElement&lt;String&gt; createString(String value) {\r\n            return new JAXBElement&lt;String&gt;(_String_QNAME, String.class, null, value);\r\n        }\r\n    \r\n    }\r\n","title":"Bad Request [400] when calling SOAP service from Java Client - how to set payload?","body":"<p>I am using SpringBoot  with Java 11.</p>\n<p>I am trying to consume a SOAP web service, but I get the following error:</p>\n<blockquote>\n<p>org.springframework.ws.client.WebServiceTransportException: Bad\nRequest [400]</p>\n</blockquote>\n<p>I can however call the web service successfully (200) in Postman and SOAP UI, so there's something wrong with my Java code (<code>ProconSoapClient.java</code>).</p>\n<p>Postman Request (200):</p>\n<pre><code>curl --location --request POST 'http://******/ProCONWS/WebService_PCSOrderEntry.asmx' \\\n--header 'Content-Type: application/soap+xml;charset=UTF-8;action=&quot;http://www.procon.dk/calculate_MD5&quot;' \\\n--header 'Content-Length: 458' \\\n--data-raw '&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:proc=&quot;http://www.procon.dk/&quot;&gt;\n   &lt;soap:Header/&gt;\n   &lt;soap:Body&gt;\n      &lt;proc:calculate_MD5&gt;\n         &lt;proc:user&gt;*****&lt;/proc:user&gt;\n         &lt;proc:timestamp&gt;20220915 144942&lt;/proc:timestamp&gt;\n         &lt;proc:Secret_word&gt;********&lt;/proc:Secret_word&gt;\n      &lt;/proc:calculate_MD5&gt;\n   &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;'\n</code></pre>\n<p>Java Code (400):</p>\n<p><strong>ProconSoapClient.java</strong></p>\n<p>How do I set the body (payload)? The <code>objectFactory.createString</code> accepts a <code>String</code> but I need to send a <code>CalculateMD5</code>.</p>\n<pre><code>// request headers\nMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\nheaders.put(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\nheaders.put(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\nheaders.put(&quot;Content-Type&quot;, &quot;application/soap+xml;charset=UTF-8;action=\\&quot;http://www.procon.dk/calculate_MD5\\&quot;&quot;);\nheaders.put(&quot;Content-Length&quot;, &quot;458&quot;);\nheaders.put(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n//headers.put(&quot;charset&quot;, &quot;utf-8&quot;);\nWebServiceMessageCallback callback = getRequestCallback(headers);\n\n// request object\nObjectFactory objectFactory = new ObjectFactory();\nCalculateMD5 calculateMD5 = objectFactory.createCalculateMD5();\ncalculateMD5.setUser(PROCON_SOAP_ACCESS_USER);\ncalculateMD5.setTimestamp(URLEncoder.encode(DateUtil.dateToString(new Date(), &quot;yyyyMMdd HHmmss&quot;), StandardCharsets.UTF_8));\ncalculateMD5.setSecretWord(PROCON_SOAP_ACCESS_SECRETWORD);\n\n// payload\nfinal String payload = marshal(calculateMD5);\n// todo: what must go here? accepts a String but the object is a CalculateMD5\nJAXBElement&lt;String&gt; jaxbElementPayload = objectFactory.createString(payload);\n\n// call the SOAP service\nObject response = getWebServiceTemplate().marshalSendAndReceive(PROCON_SOAP_ACCESS_URL, jaxbElementPayload, callback);\n</code></pre>\n<p>Generated classes:</p>\n<p>Where the <code>CalculateMD5</code> and <code>ObjectFactory</code> objects were generated from the WSDL.</p>\n<p><strong>CalculateMD5.java</strong></p>\n<pre><code>/**\n * &lt;p&gt;Java class for anonymous complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType&amp;gt;\n *   &amp;lt;complexContent&amp;gt;\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\n *       &amp;lt;sequence&amp;gt;\n *         &amp;lt;element name=&quot;user&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&amp;gt;\n *         &amp;lt;element name=&quot;timestamp&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&amp;gt;\n *         &amp;lt;element name=&quot;Secret_word&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&amp;gt;\n *       &amp;lt;/sequence&amp;gt;\n *     &amp;lt;/restriction&amp;gt;\n *   &amp;lt;/complexContent&amp;gt;\n * &amp;lt;/complexType&amp;gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;user&quot;,\n    &quot;timestamp&quot;,\n    &quot;secretWord&quot;\n})\n@XmlRootElement(name = &quot;calculate_MD5&quot;)\npublic class CalculateMD5 {\n\n    protected String user;\n    protected String timestamp;\n    @XmlElement(name = &quot;Secret_word&quot;)\n    protected String secretWord;\n\n    /**\n     * Gets the value of the user property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getUser() {\n        return user;\n    }\n\n    /**\n     * Sets the value of the user property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setUser(String value) {\n        this.user = value;\n    }\n\n    /**\n     * Gets the value of the timestamp property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getTimestamp() {\n        return timestamp;\n    }\n\n    /**\n     * Sets the value of the timestamp property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setTimestamp(String value) {\n        this.timestamp = value;\n    }\n\n    /**\n     * Gets the value of the secretWord property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getSecretWord() {\n        return secretWord;\n    }\n\n    /**\n     * Sets the value of the secretWord property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setSecretWord(String value) {\n        this.secretWord = value;\n    }\n\n}\n</code></pre>\n<p><strong>ObjectFactory.java</strong></p>\n<pre><code>@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName _String_QNAME = new QName(&quot;http://www.procon.dk/&quot;, &quot;string&quot;);\n\n    /**\n     * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: com.clubtravel.powwow.soap.client.procon.generated\n     * \n     */\n    public ObjectFactory() {\n    }\n\n    /**\n     * Create an instance of {@link CalculateMD5 }\n     * \n     */\n    public CalculateMD5 createCalculateMD5() {\n        return new CalculateMD5();\n    }\n\n    /**\n     * Create an instance of {@link CalculateMD5Response }\n     * \n     */\n    public CalculateMD5Response createCalculateMD5Response() {\n        return new CalculateMD5Response();\n    }\n\n    /**\n     * Create an instance of {@link PcsCreateOrder }\n     * \n     */\n    public PcsCreateOrder createPcsCreateOrder() {\n        return new PcsCreateOrder();\n    }\n\n    /**\n     * Create an instance of {@link PcsCreateOrderResponse }\n     * \n     */\n    public PcsCreateOrderResponse createPcsCreateOrderResponse() {\n        return new PcsCreateOrderResponse();\n    }\n\n    /**\n     * Create an instance of {@link PcsGetOrderStatus }\n     * \n     */\n    public PcsGetOrderStatus createPcsGetOrderStatus() {\n        return new PcsGetOrderStatus();\n    }\n\n    /**\n     * Create an instance of {@link PcsGetOrderStatusResponse }\n     * \n     */\n    public PcsGetOrderStatusResponse createPcsGetOrderStatusResponse() {\n        return new PcsGetOrderStatusResponse();\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n     * \n     * @param value\n     *     Java instance representing xml element's value.\n     * @return\n     *     the new instance of {@link JAXBElement }{@code &lt;}{@link String }{@code &gt;}\n     */\n    @XmlElementDecl(namespace = &quot;http://www.procon.dk/&quot;, name = &quot;string&quot;)\n    public JAXBElement&lt;String&gt; createString(String value) {\n        return new JAXBElement&lt;String&gt;(_String_QNAME, String.class, null, value);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automated-tests","ui-automation","junit5"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1613843092,"post_id":66294456,"comment_id":117203766,"body_markdown":"Where is your code that takes a screenshot? In the title and beginning of your question you ask how to take a screenshot on fail but in the end you ask how to take a screenshot during `clickMyCardsTab()` to see how the UI looks. These are two different questions... please edit your question to make it clear what you are looking for (maybe break this question up into two separate questions) and add the code relevant to the updated question... where you tried to take a screenshot, tried to take a screenshot on fail, etc.","body":"Where is your code that takes a screenshot? In the title and beginning of your question you ask how to take a screenshot on fail but in the end you ask how to take a screenshot during <code>clickMyCardsTab()</code> to see how the UI looks. These are two different questions... please edit your question to make it clear what you are looking for (maybe break this question up into two separate questions) and add the code relevant to the updated question... where you tried to take a screenshot, tried to take a screenshot on fail, etc."}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1613845239,"creation_date":1613845239,"answer_id":66295052,"question_id":66294456,"body_markdown":"What I would suggest is\r\n\r\n1. Create a method to take a screenshot and put that in a Utils class and call it when you want to take a screenshot. This will make taking a screenshot a lot easier because all the code lives in one place and can be easily called from anywhere.\r\n1. Create a `tearDown()` method, if you don&#39;t have one already. Looks like it would go in the `WebDriverSettings` class from your currently posted code. Mark it with an `@AfterEach` annotation and then detect a failed test case and if it failed, take a screenshot.\r\n\r\n    If you aren&#39;t sure how to do that, there&#39;s a class in JUnit 4.9 and later called [`TestWatcher`](https://junit.org/junit5/docs/5.5.1/api/org/junit/jupiter/api/extension/TestWatcher.html) that you can use. There are lots of examples on the web on how to use it.","title":"Screenshot on failed tests using Junit 5 Selenium parallel execution","body":"<p>What I would suggest is</p>\n<ol>\n<li><p>Create a method to take a screenshot and put that in a Utils class and call it when you want to take a screenshot. This will make taking a screenshot a lot easier because all the code lives in one place and can be easily called from anywhere.</p>\n</li>\n<li><p>Create a <code>tearDown()</code> method, if you don't have one already. Looks like it would go in the <code>WebDriverSettings</code> class from your currently posted code. Mark it with an <code>@AfterEach</code> annotation and then detect a failed test case and if it failed, take a screenshot.</p>\n<p>If you aren't sure how to do that, there's a class in JUnit 4.9 and later called <a href=\"https://junit.org/junit5/docs/5.5.1/api/org/junit/jupiter/api/extension/TestWatcher.html\" rel=\"nofollow noreferrer\"><code>TestWatcher</code></a> that you can use. There are lots of examples on the web on how to use it.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":403268,"reputation":906,"user_id":770927,"accept_rate":40,"display_name":"zovits"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663757468,"creation_date":1663757468,"answer_id":73799508,"question_id":66294456,"body_markdown":"The solution that worked for me was to create this extension:\r\n\r\n    package some.thing;\r\n    \r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.StandardCopyOption;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.junit.jupiter.api.extension.AfterTestExecutionCallback;\r\n    import org.junit.jupiter.api.extension.ExtensionContext;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class Screenshotter implements AfterTestExecutionCallback {\r\n        private static final Logger LOG = LogManager.getLogger();\r\n        private static WebDriver driver;\r\n    \r\n        public static void setDriver(WebDriver driver) {\r\n            Screenshotter.driver = driver;\r\n        }\r\n    \r\n        @Override\r\n        public void afterTestExecution(ExtensionContext context) throws Exception {\r\n            if (context.getExecutionException().isPresent()) { // if the test execution has failed\r\n                String baseFileName = context.getRequiredTestClass().getSimpleName() + &quot;-&quot;\r\n                        + context.getRequiredTestMethod().getName()\r\n                        + LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;-yyMMdd-HHmmss&quot;));\r\n                File targetFile = new File(&quot;somewhere/&quot; + baseFileName + &quot;.png&quot;);\r\n                File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                Files.copy(scrFile.toPath(), targetFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n                targetFile.setReadable(true, false);\r\n                LOG.info(&quot;Screenshot saved to &quot; + targetFile.toPath());\r\n            }\r\n        }\r\n    }\r\n\r\nThen apply it to the relevant test class like so:\r\n\r\n    @ExtendWith(Screenshotter.class)\r\n    public class SomeTest {\r\n        ...\r\n        @BeforeAll\r\n        public void initialize() {\r\n            ...\r\n            Screenshotter.setDriver(driver);\r\n            ...\r\n        }\r\n        ...\r\n    }","title":"Screenshot on failed tests using Junit 5 Selenium parallel execution","body":"<p>The solution that worked for me was to create this extension:</p>\n<pre><code>package some.thing;\n\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.StandardCopyOption;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.junit.jupiter.api.extension.AfterTestExecutionCallback;\nimport org.junit.jupiter.api.extension.ExtensionContext;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\n\npublic class Screenshotter implements AfterTestExecutionCallback {\n    private static final Logger LOG = LogManager.getLogger();\n    private static WebDriver driver;\n\n    public static void setDriver(WebDriver driver) {\n        Screenshotter.driver = driver;\n    }\n\n    @Override\n    public void afterTestExecution(ExtensionContext context) throws Exception {\n        if (context.getExecutionException().isPresent()) { // if the test execution has failed\n            String baseFileName = context.getRequiredTestClass().getSimpleName() + &quot;-&quot;\n                    + context.getRequiredTestMethod().getName()\n                    + LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;-yyMMdd-HHmmss&quot;));\n            File targetFile = new File(&quot;somewhere/&quot; + baseFileName + &quot;.png&quot;);\n            File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n            Files.copy(scrFile.toPath(), targetFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\n            targetFile.setReadable(true, false);\n            LOG.info(&quot;Screenshot saved to &quot; + targetFile.toPath());\n        }\n    }\n}\n</code></pre>\n<p>Then apply it to the relevant test class like so:</p>\n<pre><code>@ExtendWith(Screenshotter.class)\npublic class SomeTest {\n    ...\n    @BeforeAll\n    public void initialize() {\n        ...\n        Screenshotter.setDriver(driver);\n        ...\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":19697011,"reputation":149,"user_id":14420712,"display_name":"Prozorov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":66295052,"answer_count":2,"score":0,"last_activity_date":1663757468,"creation_date":1613841693,"question_id":66294456,"body_markdown":"I would like to take a screenshot every single time test fails or if multiple tests then multiple screenshots of course.\r\n\r\nSo far I understand that I can just wrap my single test with a `try catch` block and proceed taking a screenshot, however I would not want to wrap it in every test I have. I want it to apply to all of them without wrapping each one, do I have to do that in my setup?\r\n\r\n    public class WebDriverSettings\r\n    {\r\n    \r\n        protected WebDriver driver;\r\n        protected String TARGET_URL;\r\n    \r\n        @BeforeEach\r\n        public void setUp()\r\n        {\r\n            WebDriverManager.chromedriver().setup();\r\n            driver = new ChromeDriver(new ChromeOptions().addArguments(&quot;window-size=1920x1480&quot;));\r\n            driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\r\n            loginToEnvironment();\r\n        }\r\n    }\r\n\r\n    public class LoginServiceTest extends WebDriverSettings\r\n    {\r\n        private LoginModal loginModal;\r\n        private AccountApi accountApi;\r\n        private Credentials credentials;\r\n    \r\n        @BeforeEach\r\n        public void setUp()\r\n        {\r\n            super.setUp();\r\n            credentials = new SignUp();\r\n            accountApi = new AccountApi(credentials);\r\n            accountApi.createAccount();\r\n            loginModal = new HomePage(driver).acceptCookies().clickOnMyAccountTab().switchToLoginTab();\r\n        }\r\n    \r\n        @Test\r\n        public void shouldSuccessfullyLogin()\r\n        {\r\n            try\r\n            {\r\n                accountApi.createAccount();\r\n                assertFalse(loginModal.login(credentials).getMyAccountName().getText().isEmpty());\r\n            } catch (Exception e)\r\n            {\r\n                try\r\n                {\r\n                    File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                    FileUtils.copyFile(screenshotFile, new File(&quot;path&quot;));\r\n                } catch (IOException ioException)\r\n                {\r\n                    ioException.printStackTrace();\r\n                }\r\n                accountApi.closeAccount();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSolution advised by Jeff\r\n\r\nSo creating Util package and adding a class that would be responsible for creating a screenshot also it would generate random name but needs to be refactored i just made it quickly to make it work\r\n\r\n    public class ScreenShotCreator {\r\n    \r\n        public static void takeScreenShot(WebDriver driver) {\r\n            try {\r\n                File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                FileUtils.copyFile(screenshotFile, new File(fileNameGenerator()));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Could not make a screenshot&quot;);\r\n            }\r\n        }\r\n    \r\n        // creating this for test purposes , need to use string builder instead to append it instead of adding it\r\n        private static String fileNameGenerator() {\r\n            SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy-HH:mm&quot;);\r\n            String path = &quot;.....&quot;;\r\n            return path + &quot;screenshot&quot; + formatter.format(new Date()) + &quot; &quot; + RandomStringUtils.randomAlphanumeric(10) + &quot;.png&quot;;\r\n        }\r\n\r\nThen before closing it down  just call the created method\r\n\r\n    @AfterEach\r\n        public void tearDown() {\r\n            ScreenShotCreator.takeScreenShot(driver);\r\n            driver.manage().deleteAllCookies();\r\n            driver.close();\r\n            driver.quit();\r\n        }","title":"Screenshot on failed tests using Junit 5 Selenium parallel execution","body":"<p>I would like to take a screenshot every single time test fails or if multiple tests then multiple screenshots of course.</p>\n<p>So far I understand that I can just wrap my single test with a <code>try catch</code> block and proceed taking a screenshot, however I would not want to wrap it in every test I have. I want it to apply to all of them without wrapping each one, do I have to do that in my setup?</p>\n<pre><code>public class WebDriverSettings\n{\n\n    protected WebDriver driver;\n    protected String TARGET_URL;\n\n    @BeforeEach\n    public void setUp()\n    {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver(new ChromeOptions().addArguments(&quot;window-size=1920x1480&quot;));\n        driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\n        loginToEnvironment();\n    }\n}\n\npublic class LoginServiceTest extends WebDriverSettings\n{\n    private LoginModal loginModal;\n    private AccountApi accountApi;\n    private Credentials credentials;\n\n    @BeforeEach\n    public void setUp()\n    {\n        super.setUp();\n        credentials = new SignUp();\n        accountApi = new AccountApi(credentials);\n        accountApi.createAccount();\n        loginModal = new HomePage(driver).acceptCookies().clickOnMyAccountTab().switchToLoginTab();\n    }\n\n    @Test\n    public void shouldSuccessfullyLogin()\n    {\n        try\n        {\n            accountApi.createAccount();\n            assertFalse(loginModal.login(credentials).getMyAccountName().getText().isEmpty());\n        } catch (Exception e)\n        {\n            try\n            {\n                File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n                FileUtils.copyFile(screenshotFile, new File(&quot;path&quot;));\n            } catch (IOException ioException)\n            {\n                ioException.printStackTrace();\n            }\n            accountApi.closeAccount();\n        }\n    }\n}\n</code></pre>\n<p>Solution advised by Jeff</p>\n<p>So creating Util package and adding a class that would be responsible for creating a screenshot also it would generate random name but needs to be refactored i just made it quickly to make it work</p>\n<pre><code>public class ScreenShotCreator {\n\n    public static void takeScreenShot(WebDriver driver) {\n        try {\n            File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n            FileUtils.copyFile(screenshotFile, new File(fileNameGenerator()));\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not make a screenshot&quot;);\n        }\n    }\n\n    // creating this for test purposes , need to use string builder instead to append it instead of adding it\n    private static String fileNameGenerator() {\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy-HH:mm&quot;);\n        String path = &quot;.....&quot;;\n        return path + &quot;screenshot&quot; + formatter.format(new Date()) + &quot; &quot; + RandomStringUtils.randomAlphanumeric(10) + &quot;.png&quot;;\n    }\n</code></pre>\n<p>Then before closing it down  just call the created method</p>\n<pre><code>@AfterEach\n    public void tearDown() {\n        ScreenShotCreator.takeScreenShot(driver);\n        driver.manage().deleteAllCookies();\n        driver.close();\n        driver.quit();\n    }\n</code></pre>\n"},{"tags":["java","android","json","authentication","token"],"answers":[{"tags":[],"owner":{"account_id":18870296,"reputation":71,"user_id":13765079,"display_name":"Afonso Fonseca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663757433,"creation_date":1663757433,"answer_id":73799497,"question_id":73798749,"body_markdown":"You can replace the &quot;obj.optString(&quot;login_token&quot;)&quot; with a simple string like &lt;code&gt;&quot;token&quot;&lt;/code&gt; and it should work fine.\r\n\r\nFor example:\r\n\r\nTo save &lt;code&gt;editor.putString(&quot;token&quot;, token).apply()&lt;/code&gt; \r\n\r\nTo get the token &lt;code&gt;sharedPreferences.getString(&quot;token&quot;)&lt;/code&gt;","title":"How to store server TOKEN and use it on my 2nd activity webview?","body":"<p>You can replace the &quot;obj.optString(&quot;login_token&quot;)&quot; with a simple string like <code>&quot;token&quot;</code> and it should work fine.</p>\n<p>For example:</p>\n<p>To save <code>editor.putString(&quot;token&quot;, token).apply()</code></p>\n<p>To get the token <code>sharedPreferences.getString(&quot;token&quot;)</code></p>\n"}],"owner":{"account_id":25469650,"reputation":1,"user_id":19268072,"display_name":"kimhong toh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73799497,"answer_count":1,"score":0,"last_activity_date":1663757433,"creation_date":1663753993,"question_id":73798749,"body_markdown":"Hi im stuck with how to store server TOKEN to the Shared Preferences and use it on 2nd activity, anyone help? \r\n\r\n     if (response.isSuccessful()) {\r\n                            String myResponse = response.body().string();\r\n                            MainActivity.this.runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    try {\r\n                                        JSONObject obj = new JSONObject(myResponse);\r\n                                        System.out.println(obj.getString(&quot;status&quot;));\r\n                                        System.out.println(obj.getString(&quot;status_desc&quot;));\r\n                                        System.out.println(obj.getString(&quot;login_token&quot;));\r\n                                        if (obj.optString(&quot;status&quot;).equals(&quot;Y&quot;)) {\r\n                                             class Preferences {\r\n                                                public void setAccessToken(@NonNull Context context, String token) {\r\n                                                    SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MySharedPref&quot;, Context.MODE_PRIVATE);\r\n                                                    SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                                                    editor.putString(obj.optString(&quot;login_token&quot;), token);\r\n                                                    editor.apply(); }\r\n                                                }\r\n                                            Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n                                            intent.putExtra(&quot;AccessToken&quot;, (obj.getString(&quot;login_token&quot;)));\r\n                                            startActivity(intent);\r\n                                        }\r\n                                        else {\r\n                                            new AlertDialog.Builder(MainActivity.this)\r\n                                                    .setTitle(&quot;WARNING!&quot;)\r\n                                                    .setMessage((obj.getString(&quot;status_desc&quot;)))\r\n                                                    .setPositiveButton(android.R.string.ok, null)\r\n                                                    .show();\r\n                                        }\r\n                                    }\r\n\r\nthese my coding on 1st activity\r\n\r\n\r\n    class Preferences {\r\n                                            public void setAccessToken(@NonNull Context context, String token) {\r\n                                                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MySharedPref&quot;, Context.MODE_PRIVATE);\r\n                                                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                                                editor.putString(obj.optString(&quot;login_token&quot;), token);\r\n                                                editor.apply(); }\r\n                                            }\r\n\r\ntried this, but didnt found any token stored on my shared preferences.\r\n\r\nany suggestion?","title":"How to store server TOKEN and use it on my 2nd activity webview?","body":"<p>Hi im stuck with how to store server TOKEN to the Shared Preferences and use it on 2nd activity, anyone help?</p>\n<pre><code> if (response.isSuccessful()) {\n                        String myResponse = response.body().string();\n                        MainActivity.this.runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                try {\n                                    JSONObject obj = new JSONObject(myResponse);\n                                    System.out.println(obj.getString(&quot;status&quot;));\n                                    System.out.println(obj.getString(&quot;status_desc&quot;));\n                                    System.out.println(obj.getString(&quot;login_token&quot;));\n                                    if (obj.optString(&quot;status&quot;).equals(&quot;Y&quot;)) {\n                                         class Preferences {\n                                            public void setAccessToken(@NonNull Context context, String token) {\n                                                SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MySharedPref&quot;, Context.MODE_PRIVATE);\n                                                SharedPreferences.Editor editor = sharedPreferences.edit();\n                                                editor.putString(obj.optString(&quot;login_token&quot;), token);\n                                                editor.apply(); }\n                                            }\n                                        Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n                                        intent.putExtra(&quot;AccessToken&quot;, (obj.getString(&quot;login_token&quot;)));\n                                        startActivity(intent);\n                                    }\n                                    else {\n                                        new AlertDialog.Builder(MainActivity.this)\n                                                .setTitle(&quot;WARNING!&quot;)\n                                                .setMessage((obj.getString(&quot;status_desc&quot;)))\n                                                .setPositiveButton(android.R.string.ok, null)\n                                                .show();\n                                    }\n                                }\n</code></pre>\n<p>these my coding on 1st activity</p>\n<pre><code>class Preferences {\n                                        public void setAccessToken(@NonNull Context context, String token) {\n                                            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MySharedPref&quot;, Context.MODE_PRIVATE);\n                                            SharedPreferences.Editor editor = sharedPreferences.edit();\n                                            editor.putString(obj.optString(&quot;login_token&quot;), token);\n                                            editor.apply(); }\n                                        }\n</code></pre>\n<p>tried this, but didnt found any token stored on my shared preferences.</p>\n<p>any suggestion?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663776773,"post_id":73799470,"comment_id":130320676,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18153535,"reputation":11,"user_id":13205894,"display_name":"Pháº¡m Nguy&#234;n Khang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663757357,"creation_date":1663757303,"question_id":73799470,"body_markdown":"i am using pi 4 running android 11 for my project, and i have 1 android app to start server via usb tethering but every time start it gives another ipaddress, is there any way i can set default ipaddress so that every time you start, your ip won&#39;t change, and this device I can root the device\r\nThanks all","title":"Android 11 set IP-address of device usb tethering","body":"<p>i am using pi 4 running android 11 for my project, and i have 1 android app to start server via usb tethering but every time start it gives another ipaddress, is there any way i can set default ipaddress so that every time you start, your ip won't change, and this device I can root the device\nThanks all</p>\n"},{"tags":["java","hibernate","postgresql","maven"],"answers":[{"tags":[],"owner":{"account_id":1203347,"reputation":2104,"user_id":1173560,"display_name":"K.C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331108483,"creation_date":1331108483,"answer_id":9597952,"question_id":9595624,"body_markdown":"Is your driver and dialect correct in your hibernate.properties file?\r\n\r\nhibernate.connection.driver_class = org.postgresql.Driver\r\n\r\nhibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n\r\nhttp://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#configuration-hibernatejdbc","title":"java.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long","body":"<p>Is your driver and dialect correct in your hibernate.properties file?</p>\n\n<p>hibernate.connection.driver_class = org.postgresql.Driver</p>\n\n<p>hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#configuration-hibernatejdbc\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#configuration-hibernatejdbc</a></p>\n"},{"tags":[],"owner":{"account_id":365245,"reputation":1677,"user_id":710064,"display_name":"Euclides Mul&#233;mbw&#232;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331109136,"creation_date":1331109136,"answer_id":9598078,"question_id":9595624,"body_markdown":"You didn&#39;t define your primary key as IDENTITY on your create table statement.\r\n\r\n    id bigserial NOT NULL IDENTITY","title":"java.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long","body":"<p>You didn't define your primary key as IDENTITY on your create table statement.</p>\n\n<pre><code>id bigserial NOT NULL IDENTITY\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1650336,"reputation":11,"user_id":1521072,"display_name":"poonam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342103072,"creation_date":1342103072,"answer_id":11453976,"question_id":9595624,"body_markdown":"I had faced exactly same exception when doing a save(). I solved it by correcting the cascade option in the hibernate mapping file. I changed it from &quot;all-delete-orphan,save-update, delete &quot;to &quot;save-update, delete, delete-orphan&quot; and it worked for me.\r\nHope it helps.","title":"java.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long","body":"<p>I had faced exactly same exception when doing a save(). I solved it by correcting the cascade option in the hibernate mapping file. I changed it from \"all-delete-orphan,save-update, delete \"to \"save-update, delete, delete-orphan\" and it worked for me.\nHope it helps.</p>\n"},{"tags":[],"owner":{"account_id":9155939,"reputation":445,"user_id":7825989,"display_name":"chn4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594153022,"creation_date":1594153022,"answer_id":62783235,"question_id":9595624,"body_markdown":"This exception baffled me just today and happened in a Spring Boot application using the JpaRepository.\r\n\r\nIn my case this occured when a `JpaRepostitory.findBySomeEntity` was called. *SomeEntity* had been saved in the same transaction using `JpaRepository.save(...)` rather than `JpaRepository.saveAndFlush(...)`. Therefore its ID was not yet set.\r\n\r\nLooks like Hibernate is trying to substitute the missing entity id with the `DelayedPostInsertIdentifier` created in the uncommitted save-transaction even though it can&#39;t be cast to the id-type.\r\n\r\nIt&#39;s a misleading Exception. Good thing it was easily fixed by the `saveAndFlush(...)`.","title":"java.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long","body":"<p>This exception baffled me just today and happened in a Spring Boot application using the JpaRepository.</p>\n<p>In my case this occured when a <code>JpaRepostitory.findBySomeEntity</code> was called. <em>SomeEntity</em> had been saved in the same transaction using <code>JpaRepository.save(...)</code> rather than <code>JpaRepository.saveAndFlush(...)</code>. Therefore its ID was not yet set.</p>\n<p>Looks like Hibernate is trying to substitute the missing entity id with the <code>DelayedPostInsertIdentifier</code> created in the uncommitted save-transaction even though it can't be cast to the id-type.</p>\n<p>It's a misleading Exception. Good thing it was easily fixed by the <code>saveAndFlush(...)</code>.</p>\n"},{"tags":[],"owner":{"account_id":3335001,"reputation":51,"user_id":2802832,"display_name":"HardNorth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663757325,"creation_date":1663757325,"answer_id":73799473,"question_id":9595624,"body_markdown":"I understand that the question was asked pretty while ago, but there is no answer for my case and I had to deal it myself. \r\n\r\nSo in my case the issue was in Parent-child Entity relations, I defined non-nullable join column as `@JoinColumn(nullable = false)` and Hibernate could not insert child Entity without knowing parent ID. Throwing me `java.lang.ClassCastException: class org.hibernate.action.internal.DelayedPostInsertIdentifier cannot be cast to class java.lang.Long`.\r\n\r\nSo the fix was in setting `@JoinColumn` as nullable.\r\n\r\nMy parent Entity was:\r\n```java\r\n@Entity\r\npublic class Quiz {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tpublic Long id;\r\n\r\n\t@JoinColumn(name = &quot;quiz_id&quot;, nullable = false)\r\n\t@OneToMany(orphanRemoval = true, cascade = CascadeType.ALL, targetEntity = Question.class)\r\n\t@Fetch(FetchMode.JOIN)\r\n\tpublic List&lt;Question&gt; questionList;\r\n}\r\n```\r\n\r\nAnd my child Entity was:\r\n```java\r\n@Entity\r\npublic class Question {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tpublic Long id;\r\n}\r\n\r\n```\r\n\r\nAnd the fixed Parent Entity:\r\n```java\r\n@Entity\r\npublic class Quiz {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tpublic Long id;\r\n\r\n\t@JoinColumn(name = &quot;quiz_id&quot;)\r\n\t@OneToMany(orphanRemoval = true, cascade = CascadeType.ALL, targetEntity = Question.class)\r\n\t@Fetch(FetchMode.JOIN)\r\n\tpublic List&lt;Question&gt; questionList;\r\n}\r\n```\r\n\r\nLogically I understand that this was my fault, since it&#39;s not possible to insert non-nullable ID when you don&#39;t know it, but Hibernate could thrown better, not so confusing, exception.\r\n\r\nAnd yes, after the fix Hibernate issues additional Entity update to set parent ID:\r\n```\r\nDEBUG [org.hib.SQL] insert into Quiz (user_name) values ($1) returning id\r\nDEBUG [org.hib.SQL] insert into Question (question) values ($1) returning id\r\nDEBUG [org.hib.SQL] update Question set quiz_id=$1 where id=$2\r\n```","title":"java.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long","body":"<p>I understand that the question was asked pretty while ago, but there is no answer for my case and I had to deal it myself.</p>\n<p>So in my case the issue was in Parent-child Entity relations, I defined non-nullable join column as <code>@JoinColumn(nullable = false)</code> and Hibernate could not insert child Entity without knowing parent ID. Throwing me <code>java.lang.ClassCastException: class org.hibernate.action.internal.DelayedPostInsertIdentifier cannot be cast to class java.lang.Long</code>.</p>\n<p>So the fix was in setting <code>@JoinColumn</code> as nullable.</p>\n<p>My parent Entity was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Quiz {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    @JoinColumn(name = &quot;quiz_id&quot;, nullable = false)\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL, targetEntity = Question.class)\n    @Fetch(FetchMode.JOIN)\n    public List&lt;Question&gt; questionList;\n}\n</code></pre>\n<p>And my child Entity was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Question {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n}\n\n</code></pre>\n<p>And the fixed Parent Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Quiz {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    @JoinColumn(name = &quot;quiz_id&quot;)\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL, targetEntity = Question.class)\n    @Fetch(FetchMode.JOIN)\n    public List&lt;Question&gt; questionList;\n}\n</code></pre>\n<p>Logically I understand that this was my fault, since it's not possible to insert non-nullable ID when you don't know it, but Hibernate could thrown better, not so confusing, exception.</p>\n<p>And yes, after the fix Hibernate issues additional Entity update to set parent ID:</p>\n<pre><code>DEBUG [org.hib.SQL] insert into Quiz (user_name) values ($1) returning id\nDEBUG [org.hib.SQL] insert into Question (question) values ($1) returning id\nDEBUG [org.hib.SQL] update Question set quiz_id=$1 where id=$2\n</code></pre>\n"}],"owner":{"account_id":985857,"reputation":2864,"user_id":1004374,"accept_rate":57,"display_name":"Dmitrii Borovoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8799,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":5,"score":2,"last_activity_date":1663757325,"creation_date":1331092738,"question_id":9595624,"body_markdown":"used: hibernate 3.6.2, maven 2, postgres 9.\r\nI have code that must work but it doesn&#39;t. When I launch functional test I&#39;ve got the error:\r\n\r\njava.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long\r\n\r\nCode is a standart domain model:\r\n\r\nEntity:\r\n\r\n    @Cache(usage = CacheConcurrencyStrategy.TRANSACTIONAL)\r\n    @Entity\r\n    @Table(schema = &quot;simulators&quot;, name = &quot;mySimulator_card&quot;)\r\n    public class MySimulatorCard {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;account_number&quot;, unique = true, nullable = false)\r\n        private String accountNumber;\r\netc...\r\n\r\nDAO:\r\n\r\n    public abstract class AbstractDao&lt;E, PK extends Serializable&gt; implements Dao&lt;E, PK&gt; {\r\n    \r\n        private EntityManager entityManager;\r\n    \r\n        public EntityManager getEntityManager() {\r\n            return entityManager;\r\n        }\r\n    \r\n        @PersistenceContext(unitName = &quot;MySimulator&quot;)\r\n        public void setEntityManager(EntityManager entityManager) {\r\n            this.entityManager = entityManager;\r\n        }\r\n    \r\n        public abstract Class&lt;E&gt; getEntityClass();\r\n    \r\n        @Override\r\n        public void persist(E e) {\r\n            getEntityManager().persist(e);\r\n        }\r\n    \r\n        @Override\r\n        public E merge(E e) {\r\n            return getEntityManager().merge(e);\r\n        }\r\n    \r\n        @Override\r\n        public void refresh(E e) {\r\n            getEntityManager().refresh(e); //&lt;-- some thing wroooong\r\n        }\r\n    \r\n        @Override\r\n        public void delete(E e) {\r\n            getEntityManager().remove(e);\r\n        }\r\netc...\r\n\r\nAnd according table:\r\n\r\n    CREATE TABLE simulators.mySimulator_card\r\n    (\r\n      id bigserial NOT NULL,\r\n      account_number character varying(255) NOT NULL,\r\n      \r\n    etc...\r\n    \r\n      CONSTRAINT mySimulator_card_pk PRIMARY KEY (id),\r\n      CONSTRAINT mySimulator_card_account_fk FOREIGN KEY (account_id)\r\n          REFERENCES simulators.mySimulator_account (id) MATCH SIMPLE\r\n          ON UPDATE NO ACTION ON DELETE NO ACTION,\r\n      CONSTRAINT mySimulator_card_currency_fk FOREIGN KEY (currency_id)\r\n          REFERENCES simulators.mySimulator_currency (&quot;name&quot;) MATCH SIMPLE\r\n          ON UPDATE NO ACTION ON DELETE NO ACTION,\r\n      CONSTRAINT mySimulator_card_product_fk FOREIGN KEY (product_id)\r\n          REFERENCES simulators.mySimulator_product (id) MATCH SIMPLE\r\n          ON UPDATE NO ACTION ON DELETE NO ACTION,\r\n      CONSTRAINT mySimulator_account_account_number_uq UNIQUE (account_number),\r\n      CONSTRAINT mySimulator_card_san_uq UNIQUE (san)\r\n    )\r\n    WITH (\r\n      OIDS=FALSE\r\n    );\r\n    ALTER TABLE simulators.mySimulator_card OWNER TO functional;\r\n\r\n\r\nHere are stack trace till my code:\r\n\r\n \r\n\r\n     at org.hibernate.type.descriptor.java.LongTypeDescriptor.unwrap(LongTypeDescriptor.java:36)\r\n        \tat org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$1.doBind(BigIntTypeDescriptor.java:52)\r\n        \tat org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:282)\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:277)\r\n        \tat org.hibernate.loader.Loader.bindPositionalParameters(Loader.java:1873)\r\n        \tat org.hibernate.loader.Loader.bindParameterValues(Loader.java:1844)\r\n        \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1716)\r\n        \tat org.hibernate.loader.Loader.doQuery(Loader.java:801)\r\n        \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\r\n        \tat org.hibernate.loader.Loader.loadEntity(Loader.java:2037)\r\n        \tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)\r\n        \tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)\r\n        \tat org.hibernate.event.def.DefaultRefreshEventListener.onRefresh(DefaultRefreshEventListener.java:151)\r\n        \tat org.hibernate.event.def.DefaultRefreshEventListener.onRefresh(DefaultRefreshEventListener.java:62)\r\n        \tat org.hibernate.impl.SessionImpl.fireRefresh(SessionImpl.java:1118)\r\n        \tat org.hibernate.impl.SessionImpl.refresh(SessionImpl.java:1098)\r\n        \tat org.hibernate.ejb.AbstractEntityManagerImpl.refresh(AbstractEntityManagerImpl.java:738)\r\n        \tat org.hibernate.ejb.AbstractEntityManagerImpl.refresh(AbstractEntityManagerImpl.java:713)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n        \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:365)\r\n        \tat $Proxy153.refresh(Unknown Source)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n        \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:240)\r\n        \tat $Proxy82.refresh(Unknown Source)\r\n        \tat com.goooogle.simulator.mysimulator.dao.AbstractDao.refresh(AbstractDao.java:42)\r\n\r\n\r\nWhy? Is it hibernate&#39;s bug?","title":"java.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long","body":"<p>used: hibernate 3.6.2, maven 2, postgres 9.\nI have code that must work but it doesn't. When I launch functional test I've got the error:</p>\n\n<p>java.lang.ClassCastException: org.hibernate.action.DelayedPostInsertIdentifier cannot be cast to java.lang.Long</p>\n\n<p>Code is a standart domain model:</p>\n\n<p>Entity:</p>\n\n<pre><code>@Cache(usage = CacheConcurrencyStrategy.TRANSACTIONAL)\n@Entity\n@Table(schema = \"simulators\", name = \"mySimulator_card\")\npublic class MySimulatorCard {\n\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = \"account_number\", unique = true, nullable = false)\n    private String accountNumber;\n</code></pre>\n\n<p>etc...</p>\n\n<p>DAO:</p>\n\n<pre><code>public abstract class AbstractDao&lt;E, PK extends Serializable&gt; implements Dao&lt;E, PK&gt; {\n\n    private EntityManager entityManager;\n\n    public EntityManager getEntityManager() {\n        return entityManager;\n    }\n\n    @PersistenceContext(unitName = \"MySimulator\")\n    public void setEntityManager(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    public abstract Class&lt;E&gt; getEntityClass();\n\n    @Override\n    public void persist(E e) {\n        getEntityManager().persist(e);\n    }\n\n    @Override\n    public E merge(E e) {\n        return getEntityManager().merge(e);\n    }\n\n    @Override\n    public void refresh(E e) {\n        getEntityManager().refresh(e); //&lt;-- some thing wroooong\n    }\n\n    @Override\n    public void delete(E e) {\n        getEntityManager().remove(e);\n    }\n</code></pre>\n\n<p>etc...</p>\n\n<p>And according table:</p>\n\n<pre><code>CREATE TABLE simulators.mySimulator_card\n(\n  id bigserial NOT NULL,\n  account_number character varying(255) NOT NULL,\n\netc...\n\n  CONSTRAINT mySimulator_card_pk PRIMARY KEY (id),\n  CONSTRAINT mySimulator_card_account_fk FOREIGN KEY (account_id)\n      REFERENCES simulators.mySimulator_account (id) MATCH SIMPLE\n      ON UPDATE NO ACTION ON DELETE NO ACTION,\n  CONSTRAINT mySimulator_card_currency_fk FOREIGN KEY (currency_id)\n      REFERENCES simulators.mySimulator_currency (\"name\") MATCH SIMPLE\n      ON UPDATE NO ACTION ON DELETE NO ACTION,\n  CONSTRAINT mySimulator_card_product_fk FOREIGN KEY (product_id)\n      REFERENCES simulators.mySimulator_product (id) MATCH SIMPLE\n      ON UPDATE NO ACTION ON DELETE NO ACTION,\n  CONSTRAINT mySimulator_account_account_number_uq UNIQUE (account_number),\n  CONSTRAINT mySimulator_card_san_uq UNIQUE (san)\n)\nWITH (\n  OIDS=FALSE\n);\nALTER TABLE simulators.mySimulator_card OWNER TO functional;\n</code></pre>\n\n<p>Here are stack trace till my code:</p>\n\n<pre><code> at org.hibernate.type.descriptor.java.LongTypeDescriptor.unwrap(LongTypeDescriptor.java:36)\n        at org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$1.doBind(BigIntTypeDescriptor.java:52)\n        at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:91)\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:282)\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:277)\n        at org.hibernate.loader.Loader.bindPositionalParameters(Loader.java:1873)\n        at org.hibernate.loader.Loader.bindParameterValues(Loader.java:1844)\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1716)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:801)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\n        at org.hibernate.loader.Loader.loadEntity(Loader.java:2037)\n        at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)\n        at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)\n        at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)\n        at org.hibernate.event.def.DefaultRefreshEventListener.onRefresh(DefaultRefreshEventListener.java:151)\n        at org.hibernate.event.def.DefaultRefreshEventListener.onRefresh(DefaultRefreshEventListener.java:62)\n        at org.hibernate.impl.SessionImpl.fireRefresh(SessionImpl.java:1118)\n        at org.hibernate.impl.SessionImpl.refresh(SessionImpl.java:1098)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.refresh(AbstractEntityManagerImpl.java:738)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.refresh(AbstractEntityManagerImpl.java:713)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:365)\n        at $Proxy153.refresh(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:240)\n        at $Proxy82.refresh(Unknown Source)\n        at com.goooogle.simulator.mysimulator.dao.AbstractDao.refresh(AbstractDao.java:42)\n</code></pre>\n\n<p>Why? Is it hibernate's bug?</p>\n"},{"tags":["java","rest","swagger","jax-rs","openapi"],"answers":[{"tags":[],"owner":{"account_id":17609632,"reputation":106,"user_id":12777955,"display_name":"Kemot 90"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663757312,"creation_date":1663756909,"answer_id":73799387,"question_id":67271300,"body_markdown":"I&#39;m not sure that this can help you but if your openapi.json work correctly u can try modify your **index.html** like a this.. (check url)\r\n\r\n```html\r\n&lt;!-- HTML for static distribution bundle build --&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n&lt;script&gt;\r\n\tvar protocol = window.location.protocol;\r\n\tvar host = window.location.host;\t\r\n\tvar urlPattern = protocol +  &quot;//&quot; + host + &quot;/fcrs-srv-historico/swagger&quot;; \r\n\tvar urlHost = protocol +  &quot;//&quot; + host;\r\n\t\r\n\tfunction loadScript(scriptPath) {\t\r\n\t\tvar script = document.createElement(&#39;script&#39;);\r\n\t\tscript.onload = function (){\r\n\t\t\tvar functionUrl = urlPattern + scriptPath;\r\n\t\t}\r\n\t\tscript.setAttribute(&#39;src&#39;, urlPattern + scriptPath);\r\n\t\tdocument.head.appendChild(script);\r\n\t}\r\n&lt;/script&gt;\r\n\r\n  &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Swagger UI&lt;/title&gt;\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;url/favicon-32x32.png&quot; sizes=&quot;32x32&quot; /&gt;\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;url/favicon-16x16.png&quot; sizes=&quot;16x16&quot; /&gt;\r\n    &lt;style&gt;\r\n      html\r\n      {\r\n        box-sizing: border-box;\r\n        overflow: -moz-scrollbars-vertical;\r\n        overflow-y: scroll;\r\n      }\r\n\r\n      *,\r\n      *:before,\r\n      *:after\r\n      {\r\n        box-sizing: inherit;\r\n      }\r\n\r\n      body\r\n      {\r\n        margin:0;\r\n        background: #fafafa;\r\n      }\r\n    &lt;/style&gt;\r\n    \r\n    &lt;script&gt;\r\n    \tloadScript(&#39;/swagger-ui-bundle.js&#39;);\r\n    \tloadScript(&#39;/swagger-ui-standalone-preset.js&#39;);\r\n    \t\r\n    \tvar head = document.getElementsByTagName(&#39;HEAD&#39;)[0];\r\n    \tvar link = document.createElement(&#39;link&#39;);\r\n    \tlink.rel = &#39;stylesheet&#39;;\r\n    \tlink.type = &#39;text/css&#39;;\r\n    \tlink.href = urlPattern + &quot;/swagger-ui.css&quot;;\r\n    \thead.appendChild(link);\r\n    &lt;/script&gt;\r\n  &lt;/head&gt;\r\n\r\n  &lt;body&gt;\r\n    &lt;div id=&quot;swagger-ui&quot;&gt;&lt;/div&gt; \r\n    &lt;script&gt;  \r\n    window.onload = function() {\r\n      // Begin Swagger UI call region\r\n      const ui = SwaggerUIBundle({\r\n        url: urlHost + &quot;/fcrs-srv-historico/v0/openapi.json&quot;,\r\n        dom_id: &#39;#swagger-ui&#39;,\r\n        deepLinking: true,\r\n        presets: [\r\n          SwaggerUIBundle.presets.apis,\r\n          SwaggerUIStandalonePreset\r\n        ],\r\n        plugins: [\r\n          SwaggerUIBundle.plugins.DownloadUrl\r\n        ],\r\n        layout: &quot;StandaloneLayout&quot;\r\n      })\r\n      // End Swagger UI call region\r\n\r\n      window.ui = ui\r\n    }\r\n  &lt;/script&gt;\r\n  \r\n  &lt;script&gt;\r\n  \tdocument.querySelector(&quot;link[href=&#39;url/favicon-32x32.png&#39;]&quot;).href = urlPattern + &quot;/favicon-32x32.png&quot;;\r\n  \tdocument.querySelector(&quot;link[href=&#39;url/favicon-16x16.png&#39;]&quot;).href = urlPattern + &quot;/favicon-16x16.png&quot;;\r\n  &lt;/script&gt;\r\n  \r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nfor use /swagger here\r\n```javascript\r\nvar urlPattern = protocol +  &quot;//&quot; + host + &quot;/fcrs-srv-historico/swagger&quot;;\r\n```\r\n\r\nyou need build your war with swagger resource.. Add in your .pom\r\n```pom\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t        &lt;version&gt;3.2.1&lt;/version&gt;\r\n\t        &lt;configuration&gt;\r\n\t            ....\r\n\t            &lt;webResources&gt;\r\n\t                ...\r\n\t                &lt;webResource&gt;\r\n\t                    &lt;directory&gt;src/main/webapp/doc&lt;/directory&gt;\r\n\t                    &lt;includes&gt;\r\n\t                        &lt;include&gt;**.*&lt;/include&gt;\r\n\t                    &lt;/includes&gt;\r\n\t                    &lt;targetPath&gt;/swagger&lt;/targetPath&gt;\r\n\t                &lt;/webResource&gt;\r\n\t            &lt;/webResources&gt;\r\n\t        &lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Problems run SwaggerUI - Java (JAX-RS)","body":"<p>I'm not sure that this can help you but if your openapi.json work correctly u can try modify your <strong>index.html</strong> like a this.. (check url)</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- HTML for static distribution bundle build --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n&lt;script&gt;\n    var protocol = window.location.protocol;\n    var host = window.location.host;    \n    var urlPattern = protocol +  &quot;//&quot; + host + &quot;/fcrs-srv-historico/swagger&quot;; \n    var urlHost = protocol +  &quot;//&quot; + host;\n    \n    function loadScript(scriptPath) {   \n        var script = document.createElement('script');\n        script.onload = function (){\n            var functionUrl = urlPattern + scriptPath;\n        }\n        script.setAttribute('src', urlPattern + scriptPath);\n        document.head.appendChild(script);\n    }\n&lt;/script&gt;\n\n  &lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Swagger UI&lt;/title&gt;\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;url/favicon-32x32.png&quot; sizes=&quot;32x32&quot; /&gt;\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;url/favicon-16x16.png&quot; sizes=&quot;16x16&quot; /&gt;\n    &lt;style&gt;\n      html\n      {\n        box-sizing: border-box;\n        overflow: -moz-scrollbars-vertical;\n        overflow-y: scroll;\n      }\n\n      *,\n      *:before,\n      *:after\n      {\n        box-sizing: inherit;\n      }\n\n      body\n      {\n        margin:0;\n        background: #fafafa;\n      }\n    &lt;/style&gt;\n    \n    &lt;script&gt;\n        loadScript('/swagger-ui-bundle.js');\n        loadScript('/swagger-ui-standalone-preset.js');\n        \n        var head = document.getElementsByTagName('HEAD')[0];\n        var link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.type = 'text/css';\n        link.href = urlPattern + &quot;/swagger-ui.css&quot;;\n        head.appendChild(link);\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div id=&quot;swagger-ui&quot;&gt;&lt;/div&gt; \n    &lt;script&gt;  \n    window.onload = function() {\n      // Begin Swagger UI call region\n      const ui = SwaggerUIBundle({\n        url: urlHost + &quot;/fcrs-srv-historico/v0/openapi.json&quot;,\n        dom_id: '#swagger-ui',\n        deepLinking: true,\n        presets: [\n          SwaggerUIBundle.presets.apis,\n          SwaggerUIStandalonePreset\n        ],\n        plugins: [\n          SwaggerUIBundle.plugins.DownloadUrl\n        ],\n        layout: &quot;StandaloneLayout&quot;\n      })\n      // End Swagger UI call region\n\n      window.ui = ui\n    }\n  &lt;/script&gt;\n  \n  &lt;script&gt;\n    document.querySelector(&quot;link[href='url/favicon-32x32.png']&quot;).href = urlPattern + &quot;/favicon-32x32.png&quot;;\n    document.querySelector(&quot;link[href='url/favicon-16x16.png']&quot;).href = urlPattern + &quot;/favicon-16x16.png&quot;;\n  &lt;/script&gt;\n  \n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>for use /swagger here</p>\n<pre class=\"lang-js prettyprint-override\"><code>var urlPattern = protocol +  &quot;//&quot; + host + &quot;/fcrs-srv-historico/swagger&quot;;\n</code></pre>\n<p>you need build your war with swagger resource.. Add in your .pom</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                ....\n                &lt;webResources&gt;\n                    ...\n                    &lt;webResource&gt;\n                        &lt;directory&gt;src/main/webapp/doc&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**.*&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;targetPath&gt;/swagger&lt;/targetPath&gt;\n                    &lt;/webResource&gt;\n                &lt;/webResources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663757312,"creation_date":1619458586,"question_id":67271300,"body_markdown":"I have an application made in JAX-RS that is running perfectly, and that contains only one REST call of the GET type.\r\n\r\nI implemented Swagger in this app, using OpenAPI, and when I open json, it shows the information successfully:\r\n\r\nhttp://localhost:9080/fcrs-srv-historico/v0/openapi.json\r\n\r\n[![OPENAPI.JSON][1]][1]\r\n\r\n\r\nMy problem is that I am not able to open the visual layer of Swagger UI.\r\n\r\nI don&#39;t know if I&#39;m putting the wrong URL or if my project is missing some configuration.\r\n\r\nI tried the following URLs:\r\n\r\nhttp://localhost:9080/fcrs-srv-historico/doc/index.html\r\n\r\nhttp://localhost:9080/fcrs-srv-historico/v0/doc/index.html\r\n\r\nhttp://localhost:9080/fcrs-srv-historico/v0/index.html\r\n\r\nhttp://localhost:9080/fcrs-srv-historico/doc/\r\n\r\n\r\nFolow the Code:\r\n\r\n**ApplicationConfig.java**\r\n\r\n```\r\npackage br.com.bradesco.historico.config;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport javax.ws.rs.ApplicationPath;\r\nimport javax.ws.rs.core.Application;\r\nimport br.com.bradesco.historico.filters.CORSFilter;\r\nimport br.com.bradesco.historico.log.TechLoggerProducer;\r\nimport br.com.bradesco.historico.resources.rest.HistoricResource;\r\nimport br.com.bradesco.historico.services.HistoricJsonProducer;\r\nimport br.com.bradesco.historico.services.HistoricRules;\r\nimport br.com.bradesco.historico.utils.DateUtils;\r\nimport io.swagger.jaxrs.config.BeanConfig;\r\n\r\n\r\n@ApplicationPath(&quot;/v0&quot;)\r\npublic class ApplicationConfig extends Application {\r\n\t\r\n\tpublic ApplicationConfig() {\r\n\t\tBeanConfig conf = new BeanConfig();\r\n\t\tconf.setTitle(&quot;Hist&#243;rico de Conversa&quot;);\r\n\t\tconf.setDescription(&quot;Obt&#233;m hist&#243;rico de conversa do chat corporativo&quot;);\r\n\t\tconf.setVersion(&quot;1.0.0&quot;);\r\n\t\tconf.setHost(&quot;localhost:9080&quot;);\r\n\t\tconf.setBasePath(&quot;/fcrs-srv-historico/v0&quot;);\r\n\t\tconf.setSchemes(new String[] { &quot;http&quot; });\r\n\t\tconf.setResourcePackage(&quot;br.com.bradesco.historico&quot;);\r\n\t\tconf.setScan(true);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n\t\tSet&lt;Class&lt;?&gt;&gt; resources = new HashSet&lt;&gt;();\r\n\t\tresources.add(CORSFilter.class);\r\n\t\tresources.add(HistoricResource.class);\r\n\t\tresources.add(CustomOpenApiResourceConfig.class);\r\n\t\tresources.add(PropertiesManipulator.class);\r\n\t\tresources.add(TechLoggerProducer.class);\r\n\t\tresources.add(HistoricJsonProducer.class);\r\n\t\tresources.add(HistoricRules.class);\r\n\t\tresources.add(DateUtils.class);\r\n\t\treturn resources;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n**CustomOpenApiResourceConfig.java**\r\n```\r\npackage br.com.bradesco.historico.config;\r\n\r\nimport io.swagger.v3.jaxrs2.integration.resources.OpenApiResource;\r\nimport io.swagger.v3.oas.integration.SwaggerConfiguration;\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.info.Info;\r\nimport io.swagger.v3.oas.models.servers.Server;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.core.HttpHeaders;\r\nimport javax.ws.rs.core.Response;\r\nimport javax.ws.rs.core.UriInfo;\r\nimport org.eclipse.microprofile.config.inject.ConfigProperty;\r\n\r\npublic class CustomOpenApiResourceConfig extends OpenApiResource {\r\n\r\n  private String servers = &quot;http://127.0.0.1:9080/fcrs-srv-historico/v0&quot;;\r\n\r\n  @Override\r\n  public Response getOpenApi(HttpHeaders headers, UriInfo uriInfo, String type)\r\n      throws Exception {\r\n    setOpenApiConfiguration(getConfiguration());\r\n    return super.getOpenApi(headers, uriInfo, type);\r\n  }\r\n\r\n  private SwaggerConfiguration getConfiguration() {\r\n    final SwaggerConfiguration configuration = new SwaggerConfiguration();\r\n    configuration.setOpenAPI(getOpenApi());\r\n    return configuration;\r\n  }\r\n\r\n  private OpenAPI getOpenApi() {\r\n    final OpenAPI openAPI = new OpenAPI();\r\n    openAPI.setInfo(getApiInfo());\r\n    openAPI.servers(getServers());\r\n    return openAPI;\r\n  }\r\n\r\n  private Info getApiInfo() {\r\n    final Info info = new Info();\r\n    info.setTitle(&quot;fcrs-srv-historico&quot;);\r\n    info.setDescription(&quot;API de hist&#243;rico d chat corporativo.&quot;);\r\n    info.setVersion(&quot;v0&quot;);\r\n    return info;\r\n  }\r\n\r\n  private List&lt;Server&gt; getServers() {\r\n    return Arrays.asList(servers.split(&quot;,&quot;)).stream().map(srv -&gt; {\r\n      Server server = new Server();\r\n      server.url(srv);\r\n      return server;\r\n    }).collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\n**HistoricResource.java**\r\n\r\n```\r\npackage br.com.bradesco.historico.resources.rest;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.PathParam;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\nimport javax.ws.rs.core.Response.Status;\r\nimport org.slf4j.Logger;\r\nimport br.com.bradesco.historico.services.HistoricRules;\r\nimport br.com.bradesco.historico.services.Histories;\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\nimport io.vertx.core.json.JsonArray;\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.swagger.annotations.ApiResponse;\r\nimport io.swagger.annotations.ApiResponses;\r\n/**\r\n * Controller class, responsible for controlling the search for history in the api.\r\n *\r\n */\r\n@Path(&quot;/&quot;)\r\n@Api(value = &quot;Hist&#243;rico&quot;)\r\n@ApplicationScoped\r\npublic class HistoricResource {\r\n\r\n\t@Inject\r\n\tprivate Logger logger;\r\n\r\n\t@Inject\r\n\t@Histories\r\n\tJsonObject historiesObj;\r\n\r\n\tpublic HistoricResource() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tHistoricRules historicRules = new HistoricRules();\r\n\t\r\n\t/**\r\n\t * Gets the customer&#39;s conversation history according to the userId and Index passed.\r\n\t * \r\n\t * @param userId - userid\r\n\t * @param index - index\r\n\t * @return Output of a JSON containing the last 20 messages that are in the history, depending on the Index.\r\n\t */\r\n\t@GET\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\t@ApiOperation(value = &quot;Buscar hist&#243;rico&quot;)\r\n\t@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;OK&quot;, response = HistoricResource.class),\r\n\t\t\t@ApiResponse(code = 204, message = &quot;Nenhum conte&#250;do&quot;) })\r\n\t@Path(&quot;getConversationHistory/userId/{userId}/index/{index}&quot;)\r\n\tpublic Response getConversationHistory(@PathParam(&quot;userId&quot;) String userId, @PathParam(&quot;index&quot;) int index) {\r\n\t\tJsonObject historicByUserId = null;\r\n\t\tJsonArray historic = null;\r\n\t\t\r\n\r\n\t\ttry {\r\n\t\t\thistoricByUserId = historiesObj.getJsonObject(userId);\r\n\t\t\thistoric = historicByUserId.getJsonArray(&quot;messages&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;History not found - STATUS[&quot; + Status.NOT_FOUND + &quot;]&quot;);\r\n\t\t\treturn Response.status(Status.NOT_FOUND).build();\r\n\t\t}\r\n\t\t\r\n\t\tString last20HistoricalMessages = historicRules.getLast20HistoricalMessages(historic, historicByUserId, index);\r\n\t\t\r\n\t\tif(last20HistoricalMessages.contentEquals(&quot;INDEX_OUT_OF_RANGE&quot;)) {\r\n\t\t\tlogger.info(&quot;The index received is out of range - STATUS[&quot; + Status.BAD_REQUEST + &quot;]&quot;);\r\n\t\t\treturn Response.ok().status(Status.BAD_REQUEST).build();\r\n\t\t}\r\n\t\t\r\n\t\tString oldestDateOfMessage = String.valueOf(historicRules.getOldestDateJson(historic, index, last20HistoricalMessages));\r\n\r\n\t\tif (last20HistoricalMessages.equals(&quot;EMPTY&quot;)) {\r\n\t\t\tlogger.info(&quot;History is empty - STATUS[&quot; + Status.CREATED + &quot;]&quot;);\r\n\t\t\treturn Response.ok(historicRules.getHistoricEmpty()).status(Status.BAD_REQUEST).build();\r\n\r\n\t\t} else if (historicRules.isHistoricOutOfPeriodAllowed(oldestDateOfMessage)) {\r\n\t\t\tlogger.info(&quot;History period longer than allowed - STATUS[&quot; + Status.BAD_REQUEST + &quot;], isEndMessaByPeriod[&quot; + historicRules.isEndMessaByPeriod() + &quot;]&quot;);\r\n\t\t\treturn Response.ok(\r\n\t\t\t\t\thistoricRules.getHistoricOutdated(historicRules.isEndMessage(), historicRules.isEndMessaByPeriod()))\r\n\t\t\t\t\t.status(Status.BAD_REQUEST).build();\r\n\t\t}\r\n\t\tString last20HistoricalMessagesFormated = historicRules.addEndMessageToHistory(\r\n\t\t\t\tlast20HistoricalMessages.toString(), historicRules.isEndMessage(), historicRules.isEndMessaByPeriod());\r\n\t\t\r\n\t\tlogger.info(&quot;History found - STATUS[&quot; + Status.CREATED + &quot;]&quot;);\r\n\t\treturn Response.ok(last20HistoricalMessagesFormated).status(Status.CREATED).build();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**Index.html**\r\n```\r\n&lt;!-- HTML for static distribution bundle build --&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n  &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Swagger UI&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;./swagger-ui.css&quot; /&gt;\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;./favicon-32x32.png&quot; sizes=&quot;32x32&quot; /&gt;\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;./favicon-16x16.png&quot; sizes=&quot;16x16&quot; /&gt;\r\n    &lt;style&gt;\r\n      html\r\n      {\r\n        box-sizing: border-box;\r\n        overflow: -moz-scrollbars-vertical;\r\n        overflow-y: scroll;\r\n      }\r\n\r\n      *,\r\n      *:before,\r\n      *:after\r\n      {\r\n        box-sizing: inherit;\r\n      }\r\n\r\n      body\r\n      {\r\n        margin:0;\r\n        background: #fafafa;\r\n      }\r\n    &lt;/style&gt;\r\n  &lt;/head&gt;\r\n\r\n  &lt;body&gt;\r\n    &lt;div id=&quot;swagger-ui&quot;&gt;&lt;/div&gt;\r\n\r\n    &lt;script src=&quot;./swagger-ui-bundle.js&quot; charset=&quot;UTF-8&quot;&gt; &lt;/script&gt;\r\n    &lt;script src=&quot;./swagger-ui-standalone-preset.js&quot; charset=&quot;UTF-8&quot;&gt; &lt;/script&gt;\r\n    &lt;script&gt;\r\n    window.onload = function() {\r\n      // Begin Swagger UI call region\r\n      const ui = SwaggerUIBundle({\r\n        url: &quot;/fcrs-srv-historico/v0/openapi.json&quot;,\r\n        dom_id: &#39;#swagger-ui&#39;,\r\n        deepLinking: true,\r\n        presets: [\r\n          SwaggerUIBundle.presets.apis,\r\n          SwaggerUIStandalonePreset\r\n        ],\r\n        plugins: [\r\n          SwaggerUIBundle.plugins.DownloadUrl\r\n        ],\r\n        layout: &quot;StandaloneLayout&quot;\r\n      });\r\n      // End Swagger UI call region\r\n\r\n      window.ui = ui;\r\n    };\r\n  &lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mz2da.png\r\n  [2]: https://i.stack.imgur.com/YXPic.png","title":"Problems run SwaggerUI - Java (JAX-RS)","body":"<p>I have an application made in JAX-RS that is running perfectly, and that contains only one REST call of the GET type.</p>\n<p>I implemented Swagger in this app, using OpenAPI, and when I open json, it shows the information successfully:</p>\n<p>http://localhost:9080/fcrs-srv-historico/v0/openapi.json</p>\n<p><a href=\"https://i.stack.imgur.com/Mz2da.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mz2da.png\" alt=\"OPENAPI.JSON\" /></a></p>\n<p>My problem is that I am not able to open the visual layer of Swagger UI.</p>\n<p>I don't know if I'm putting the wrong URL or if my project is missing some configuration.</p>\n<p>I tried the following URLs:</p>\n<p>http://localhost:9080/fcrs-srv-historico/doc/index.html</p>\n<p>http://localhost:9080/fcrs-srv-historico/v0/doc/index.html</p>\n<p>http://localhost:9080/fcrs-srv-historico/v0/index.html</p>\n<p>http://localhost:9080/fcrs-srv-historico/doc/</p>\n<p>Folow the Code:</p>\n<p><strong>ApplicationConfig.java</strong></p>\n<pre><code>package br.com.bradesco.historico.config;\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\nimport br.com.bradesco.historico.filters.CORSFilter;\nimport br.com.bradesco.historico.log.TechLoggerProducer;\nimport br.com.bradesco.historico.resources.rest.HistoricResource;\nimport br.com.bradesco.historico.services.HistoricJsonProducer;\nimport br.com.bradesco.historico.services.HistoricRules;\nimport br.com.bradesco.historico.utils.DateUtils;\nimport io.swagger.jaxrs.config.BeanConfig;\n\n\n@ApplicationPath(&quot;/v0&quot;)\npublic class ApplicationConfig extends Application {\n    \n    public ApplicationConfig() {\n        BeanConfig conf = new BeanConfig();\n        conf.setTitle(&quot;HistÃ³rico de Conversa&quot;);\n        conf.setDescription(&quot;ObtÃ©m histÃ³rico de conversa do chat corporativo&quot;);\n        conf.setVersion(&quot;1.0.0&quot;);\n        conf.setHost(&quot;localhost:9080&quot;);\n        conf.setBasePath(&quot;/fcrs-srv-historico/v0&quot;);\n        conf.setSchemes(new String[] { &quot;http&quot; });\n        conf.setResourcePackage(&quot;br.com.bradesco.historico&quot;);\n        conf.setScan(true);\n    }\n    \n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; resources = new HashSet&lt;&gt;();\n        resources.add(CORSFilter.class);\n        resources.add(HistoricResource.class);\n        resources.add(CustomOpenApiResourceConfig.class);\n        resources.add(PropertiesManipulator.class);\n        resources.add(TechLoggerProducer.class);\n        resources.add(HistoricJsonProducer.class);\n        resources.add(HistoricRules.class);\n        resources.add(DateUtils.class);\n        return resources;\n    }\n}\n\n</code></pre>\n<p><strong>CustomOpenApiResourceConfig.java</strong></p>\n<pre><code>package br.com.bradesco.historico.config;\n\nimport io.swagger.v3.jaxrs2.integration.resources.OpenApiResource;\nimport io.swagger.v3.oas.integration.SwaggerConfiguration;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport io.swagger.v3.oas.models.servers.Server;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport javax.inject.Inject;\nimport javax.ws.rs.core.HttpHeaders;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.UriInfo;\nimport org.eclipse.microprofile.config.inject.ConfigProperty;\n\npublic class CustomOpenApiResourceConfig extends OpenApiResource {\n\n  private String servers = &quot;http://127.0.0.1:9080/fcrs-srv-historico/v0&quot;;\n\n  @Override\n  public Response getOpenApi(HttpHeaders headers, UriInfo uriInfo, String type)\n      throws Exception {\n    setOpenApiConfiguration(getConfiguration());\n    return super.getOpenApi(headers, uriInfo, type);\n  }\n\n  private SwaggerConfiguration getConfiguration() {\n    final SwaggerConfiguration configuration = new SwaggerConfiguration();\n    configuration.setOpenAPI(getOpenApi());\n    return configuration;\n  }\n\n  private OpenAPI getOpenApi() {\n    final OpenAPI openAPI = new OpenAPI();\n    openAPI.setInfo(getApiInfo());\n    openAPI.servers(getServers());\n    return openAPI;\n  }\n\n  private Info getApiInfo() {\n    final Info info = new Info();\n    info.setTitle(&quot;fcrs-srv-historico&quot;);\n    info.setDescription(&quot;API de histÃ³rico d chat corporativo.&quot;);\n    info.setVersion(&quot;v0&quot;);\n    return info;\n  }\n\n  private List&lt;Server&gt; getServers() {\n    return Arrays.asList(servers.split(&quot;,&quot;)).stream().map(srv -&gt; {\n      Server server = new Server();\n      server.url(srv);\n      return server;\n    }).collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p><strong>HistoricResource.java</strong></p>\n<pre><code>package br.com.bradesco.historico.resources.rest;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport org.slf4j.Logger;\nimport br.com.bradesco.historico.services.HistoricRules;\nimport br.com.bradesco.historico.services.Histories;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport io.vertx.core.json.JsonArray;\nimport io.vertx.core.json.JsonObject;\nimport io.swagger.annotations.ApiResponse;\nimport io.swagger.annotations.ApiResponses;\n/**\n * Controller class, responsible for controlling the search for history in the api.\n *\n */\n@Path(&quot;/&quot;)\n@Api(value = &quot;HistÃ³rico&quot;)\n@ApplicationScoped\npublic class HistoricResource {\n\n    @Inject\n    private Logger logger;\n\n    @Inject\n    @Histories\n    JsonObject historiesObj;\n\n    public HistoricResource() {\n        super();\n    }\n\n    HistoricRules historicRules = new HistoricRules();\n    \n    /**\n     * Gets the customer's conversation history according to the userId and Index passed.\n     * \n     * @param userId - userid\n     * @param index - index\n     * @return Output of a JSON containing the last 20 messages that are in the history, depending on the Index.\n     */\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @ApiOperation(value = &quot;Buscar histÃ³rico&quot;)\n    @ApiResponses(value = { @ApiResponse(code = 200, message = &quot;OK&quot;, response = HistoricResource.class),\n            @ApiResponse(code = 204, message = &quot;Nenhum conteÃºdo&quot;) })\n    @Path(&quot;getConversationHistory/userId/{userId}/index/{index}&quot;)\n    public Response getConversationHistory(@PathParam(&quot;userId&quot;) String userId, @PathParam(&quot;index&quot;) int index) {\n        JsonObject historicByUserId = null;\n        JsonArray historic = null;\n        \n\n        try {\n            historicByUserId = historiesObj.getJsonObject(userId);\n            historic = historicByUserId.getJsonArray(&quot;messages&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;History not found - STATUS[&quot; + Status.NOT_FOUND + &quot;]&quot;);\n            return Response.status(Status.NOT_FOUND).build();\n        }\n        \n        String last20HistoricalMessages = historicRules.getLast20HistoricalMessages(historic, historicByUserId, index);\n        \n        if(last20HistoricalMessages.contentEquals(&quot;INDEX_OUT_OF_RANGE&quot;)) {\n            logger.info(&quot;The index received is out of range - STATUS[&quot; + Status.BAD_REQUEST + &quot;]&quot;);\n            return Response.ok().status(Status.BAD_REQUEST).build();\n        }\n        \n        String oldestDateOfMessage = String.valueOf(historicRules.getOldestDateJson(historic, index, last20HistoricalMessages));\n\n        if (last20HistoricalMessages.equals(&quot;EMPTY&quot;)) {\n            logger.info(&quot;History is empty - STATUS[&quot; + Status.CREATED + &quot;]&quot;);\n            return Response.ok(historicRules.getHistoricEmpty()).status(Status.BAD_REQUEST).build();\n\n        } else if (historicRules.isHistoricOutOfPeriodAllowed(oldestDateOfMessage)) {\n            logger.info(&quot;History period longer than allowed - STATUS[&quot; + Status.BAD_REQUEST + &quot;], isEndMessaByPeriod[&quot; + historicRules.isEndMessaByPeriod() + &quot;]&quot;);\n            return Response.ok(\n                    historicRules.getHistoricOutdated(historicRules.isEndMessage(), historicRules.isEndMessaByPeriod()))\n                    .status(Status.BAD_REQUEST).build();\n        }\n        String last20HistoricalMessagesFormated = historicRules.addEndMessageToHistory(\n                last20HistoricalMessages.toString(), historicRules.isEndMessage(), historicRules.isEndMessaByPeriod());\n        \n        logger.info(&quot;History found - STATUS[&quot; + Status.CREATED + &quot;]&quot;);\n        return Response.ok(last20HistoricalMessagesFormated).status(Status.CREATED).build();\n    }\n\n}\n\n</code></pre>\n<p><strong>Index.html</strong></p>\n<pre><code>&lt;!-- HTML for static distribution bundle build --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Swagger UI&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;./swagger-ui.css&quot; /&gt;\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;./favicon-32x32.png&quot; sizes=&quot;32x32&quot; /&gt;\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;./favicon-16x16.png&quot; sizes=&quot;16x16&quot; /&gt;\n    &lt;style&gt;\n      html\n      {\n        box-sizing: border-box;\n        overflow: -moz-scrollbars-vertical;\n        overflow-y: scroll;\n      }\n\n      *,\n      *:before,\n      *:after\n      {\n        box-sizing: inherit;\n      }\n\n      body\n      {\n        margin:0;\n        background: #fafafa;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div id=&quot;swagger-ui&quot;&gt;&lt;/div&gt;\n\n    &lt;script src=&quot;./swagger-ui-bundle.js&quot; charset=&quot;UTF-8&quot;&gt; &lt;/script&gt;\n    &lt;script src=&quot;./swagger-ui-standalone-preset.js&quot; charset=&quot;UTF-8&quot;&gt; &lt;/script&gt;\n    &lt;script&gt;\n    window.onload = function() {\n      // Begin Swagger UI call region\n      const ui = SwaggerUIBundle({\n        url: &quot;/fcrs-srv-historico/v0/openapi.json&quot;,\n        dom_id: '#swagger-ui',\n        deepLinking: true,\n        presets: [\n          SwaggerUIBundle.presets.apis,\n          SwaggerUIStandalonePreset\n        ],\n        plugins: [\n          SwaggerUIBundle.plugins.DownloadUrl\n        ],\n        layout: &quot;StandaloneLayout&quot;\n      });\n      // End Swagger UI call region\n\n      window.ui = ui;\n    };\n  &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YXPic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXPic.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":4321138,"reputation":2844,"user_id":3529323,"accept_rate":50,"display_name":"bcsb1001"},"score":1,"creation_date":1458489031,"post_id":36115866,"comment_id":59872258,"body_markdown":"What made you come up with `(2 * n) - 1` for `firstNum`? It&#39;s clearly wrong.","body":"What made you come up with <code>(2 * n) - 1</code> for <code>firstNum</code>? It&#39;s clearly wrong."}],"answers":[{"tags":[],"owner":{"account_id":7730080,"reputation":3312,"user_id":5853530,"accept_rate":88,"display_name":"Rajeev Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658744242,"creation_date":1458489660,"answer_id":36116043,"question_id":36115866,"body_markdown":"This is how you can approach the problem there may other faster methods also.First you have to find the first number in the nth line.You can see that the starting numbers of every line are in a sequence (arithmetic progress - AP)\r\n\r\n    1 3 7 13 21 ... \r\n\r\ntherefore nth term will be `(n-1)^2 + (n-1)+1`\r\n\r\nOnce you find that,you can find the sum of all the digits in that line\r\nby iterating from that number to the number of terms in the line\r\n\r\n    for(int i=0;i&lt;n;i+=2)\r\n    {\r\n        sum+=(Nth_Term+i);\r\n    }\r\n\r\nor simply just apply the formula of the sum of n-terms of AP with comman ratio 2\r\n\r\n    sum= n*( 2*Nth_Term + (n-1)*2)/2 ;  \r\n\r\nFurther if you will put the value of Nth term in the above formula you will find that it evaluates to `n^3.`\r\n\r\n    sum = n*( 2* ((n-1)^2 + (n-1)+1) + (n-1)*2)/2 = n^3 \r\n","title":"CodeWars - Sum of odd Numbers - For loop","body":"<p>This is how you can approach the problem there may other faster methods also.First you have to find the first number in the nth line.You can see that the starting numbers of every line are in a sequence (arithmetic progress - AP)</p>\n<pre><code>1 3 7 13 21 ... \n</code></pre>\n<p>therefore nth term will be <code>(n-1)^2 + (n-1)+1</code></p>\n<p>Once you find that,you can find the sum of all the digits in that line\nby iterating from that number to the number of terms in the line</p>\n<pre><code>for(int i=0;i&lt;n;i+=2)\n{\n    sum+=(Nth_Term+i);\n}\n</code></pre>\n<p>or simply just apply the formula of the sum of n-terms of AP with comman ratio 2</p>\n<pre><code>sum= n*( 2*Nth_Term + (n-1)*2)/2 ;  \n</code></pre>\n<p>Further if you will put the value of Nth term in the above formula you will find that it evaluates to <code>n^3.</code></p>\n<pre><code>sum = n*( 2* ((n-1)^2 + (n-1)+1) + (n-1)*2)/2 = n^3 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1552997698,"creation_date":1458489747,"answer_id":36116054,"question_id":36115866,"body_markdown":"Mathematically, the sum of the n&lt;sup&gt;th&lt;/sup&gt; line of odd numbers is n&lt;sup&gt;3&lt;/sup&gt;, so this gives the correct result:\r\n\r\n    int rowSumOddNumbers(int n) {\r\n        return n * n * n;\r\n    }\r\n\r\nI leave the derivation to the reader...","title":"CodeWars - Sum of odd Numbers - For loop","body":"<p>Mathematically, the sum of the n<sup>th</sup> line of odd numbers is n<sup>3</sup>, so this gives the correct result:</p>\n\n<pre><code>int rowSumOddNumbers(int n) {\n    return n * n * n;\n}\n</code></pre>\n\n<p>I leave the derivation to the reader...</p>\n"},{"tags":[],"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458490803,"creation_date":1458490803,"answer_id":36116260,"question_id":36115866,"body_markdown":"This is what you are looking for.\r\n\r\n    public class RowSumOddNumbers {\r\n    \r\n        public static int array[] = {1, 3, 5, 7, 9, 11, 13, 15, 17, 19};\r\n    \r\n        public static int rowSumOddNumbers(int n) {\r\n            int firstIndex = 0;\r\n            for (int i = 1; i &lt; n; i++) {\r\n                firstIndex += i;\r\n            }\r\n            int total = 0;\r\n            for (int i = firstIndex; i &lt; firstIndex + n; i++) {\r\n                total += array[i];\r\n            }\r\n            return total;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(RowSumOddNumbers.rowSumOddNumbers(3)); //27\r\n            System.out.println(RowSumOddNumbers.rowSumOddNumbers(1)); //1\r\n            System.out.println(RowSumOddNumbers.rowSumOddNumbers(2)); //8\r\n        }\r\n    }\r\n\r\n","title":"CodeWars - Sum of odd Numbers - For loop","body":"<p>This is what you are looking for.</p>\n\n<pre><code>public class RowSumOddNumbers {\n\n    public static int array[] = {1, 3, 5, 7, 9, 11, 13, 15, 17, 19};\n\n    public static int rowSumOddNumbers(int n) {\n        int firstIndex = 0;\n        for (int i = 1; i &lt; n; i++) {\n            firstIndex += i;\n        }\n        int total = 0;\n        for (int i = firstIndex; i &lt; firstIndex + n; i++) {\n            total += array[i];\n        }\n        return total;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(RowSumOddNumbers.rowSumOddNumbers(3)); //27\n        System.out.println(RowSumOddNumbers.rowSumOddNumbers(1)); //1\n        System.out.println(RowSumOddNumbers.rowSumOddNumbers(2)); //8\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17070279,"reputation":11,"user_id":12351262,"display_name":"Olexander R"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573395811,"creation_date":1573395811,"answer_id":58789560,"question_id":36115866,"body_markdown":"For PHP:\r\n\r\n    function rowSumOddNumbers($n) {\r\n      return pow($n, 3);\r\n    }","title":"CodeWars - Sum of odd Numbers - For loop","body":"<p>For PHP:</p>\n\n<pre><code>function rowSumOddNumbers($n) {\n  return pow($n, 3);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20327640,"reputation":11,"user_id":14910572,"display_name":"jashan preet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624268030,"creation_date":1624262335,"answer_id":68064349,"question_id":36115866,"body_markdown":"for javascript this would be simply \r\n\r\n    Math.pow(n,3)","title":"CodeWars - Sum of odd Numbers - For loop","body":"<p>for javascript this would be simply</p>\n<pre><code>Math.pow(n,3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26269991,"reputation":21,"user_id":19940030,"display_name":"nec joy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663756919,"creation_date":1663756919,"answer_id":73799389,"question_id":36115866,"body_markdown":"    int rowSumOddNumbers(int n) {\r\n      var odd = [];\r\n      var starts = (n * n) - (n - 1);\r\n    \r\n      while(n &gt; 0){\r\n        odd.add(starts);\r\n        starts += 2;\r\n        n--;\r\n      }\r\n    \r\n      int sum = odd.reduce((value, element) =&gt; value + element);\r\n      print(sum);\r\n      return sum;\r\n    }","title":"CodeWars - Sum of odd Numbers - For loop","body":"<pre><code>int rowSumOddNumbers(int n) {\n  var odd = [];\n  var starts = (n * n) - (n - 1);\n\n  while(n &gt; 0){\n    odd.add(starts);\n    starts += 2;\n    n--;\n  }\n\n  int sum = odd.reduce((value, element) =&gt; value + element);\n  print(sum);\n  return sum;\n}\n</code></pre>\n"}],"owner":{"account_id":8072454,"reputation":255,"user_id":6084752,"accept_rate":90,"display_name":"ollie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17183,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":36116054,"answer_count":6,"score":9,"last_activity_date":1663756919,"creation_date":1458488659,"question_id":36115866,"body_markdown":"I have attempted to make a piece of code that accepts an input of &quot;n&quot;, calculates the sum of the numbers on the nth line an odd number triangle, which looks like:\r\n\r\n                 1\r\n              3     5\r\n           7     9    11\r\n       13    15    17    19\r\n    21    23    25    27    29\r\n    \r\netc. So for `n = 3`, the sum would be `7 + 9 + 11` ie `27`\r\n\r\nI know that n is not only the line number but also equals the number of numbers on that line. so `n = 3` also have 3 odd numbers on it. Therefore I thought that I could get the first number of the line, then just loop through adding two to the previous number then sum it. \r\n\r\nMy code below doesn&#39;t work, so for an input of `n=43`, my code calculates that the sum is `3570` whereas it actually equals `79507`.\r\n\r\n\r\n    public static int rowSumOddNumbers(int n) {\r\n        int firstNum = (2 * n) - 1;\r\n        int total = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            total += (firstNum + 2);\r\n        }\r\n        return total;\r\n    }\r\n\r\nI believe my problem is that I&#39;m not adding the previous number together with the current number + 2. Should it be that I need to store the previous loop&#39;s outcome than add it to the current loop&#39;s outcome? \r\n\r\nAny help appreciated.\r\n","title":"CodeWars - Sum of odd Numbers - For loop","body":"<p>I have attempted to make a piece of code that accepts an input of \"n\", calculates the sum of the numbers on the nth line an odd number triangle, which looks like:</p>\n\n<pre><code>             1\n          3     5\n       7     9    11\n   13    15    17    19\n21    23    25    27    29\n</code></pre>\n\n<p>etc. So for <code>n = 3</code>, the sum would be <code>7 + 9 + 11</code> ie <code>27</code></p>\n\n<p>I know that n is not only the line number but also equals the number of numbers on that line. so <code>n = 3</code> also have 3 odd numbers on it. Therefore I thought that I could get the first number of the line, then just loop through adding two to the previous number then sum it. </p>\n\n<p>My code below doesn't work, so for an input of <code>n=43</code>, my code calculates that the sum is <code>3570</code> whereas it actually equals <code>79507</code>.</p>\n\n<pre><code>public static int rowSumOddNumbers(int n) {\n    int firstNum = (2 * n) - 1;\n    int total = 0;\n    for (int i = 0; i &lt; n; i++) {\n        total += (firstNum + 2);\n    }\n    return total;\n}\n</code></pre>\n\n<p>I believe my problem is that I'm not adding the previous number together with the current number + 2. Should it be that I need to store the previous loop's outcome than add it to the current loop's outcome? </p>\n\n<p>Any help appreciated.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663756897,"creation_date":1663756897,"answer_id":73799384,"question_id":73798709,"body_markdown":"While hitting the request try adding the `Accept` header in `curl` or `Postman`! \r\n\r\n(Since you&#39;re returning a Boolean, use `toString()` to convert boolean to string before returning response) \r\n\r\n`Accept: text/plain`","title":"class org.springframework.http.converter.HttpMessageNotWritableException No converter for [class java.lang.Boolean] with preset Content-Type &#39;null&#39;","body":"<p>While hitting the request try adding the <code>Accept</code> header in <code>curl</code> or <code>Postman</code>!</p>\n<p>(Since you're returning a Boolean, use <code>toString()</code> to convert boolean to string before returning response)</p>\n<p><code>Accept: text/plain</code></p>\n"}],"owner":{"account_id":11434593,"reputation":58,"user_id":8382388,"display_name":"Akhil Korissery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663756897,"creation_date":1663753769,"question_id":73798709,"body_markdown":"class org.springframework.http.converter.HttpMessageNotWritableException  No converter for [class java.lang.Boolean] with preset Content-Type &#39;null&#39;  \r\n\r\nMy Controller has a method that returns a Boolean type. Since there are some client services that require it to return the response as a &quot;text/plain&quot;. \r\n\r\n    @RequestMapping(value=&quot;/test&quot;,method=RequestMethod.POST,produces= &quot;text/plain&quot;)\r\n    public Boolean test() {\r\n     return &lt;boolean value&gt;\r\n    }\r\n\r\nWhen I use this it throws the below error\r\nclass org.springframework.http.converter.HttpMessageNotWritableException  No converter for [class java.lang.Boolean] with preset Content-Type &#39;null&#39;  \r\n","title":"class org.springframework.http.converter.HttpMessageNotWritableException No converter for [class java.lang.Boolean] with preset Content-Type &#39;null&#39;","body":"<p>class org.springframework.http.converter.HttpMessageNotWritableException  No converter for [class java.lang.Boolean] with preset Content-Type 'null'</p>\n<p>My Controller has a method that returns a Boolean type. Since there are some client services that require it to return the response as a &quot;text/plain&quot;.</p>\n<pre><code>@RequestMapping(value=&quot;/test&quot;,method=RequestMethod.POST,produces= &quot;text/plain&quot;)\npublic Boolean test() {\n return &lt;boolean value&gt;\n}\n</code></pre>\n<p>When I use this it throws the below error\nclass org.springframework.http.converter.HttpMessageNotWritableException  No converter for [class java.lang.Boolean] with preset Content-Type 'null'</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data","distributed-transactions"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663437021,"creation_date":1663437021,"answer_id":73757244,"question_id":73748947,"body_markdown":"Where does your Method call originate from? Can you share all code that is executed before your provided examples? A scheduler for example would not have a SessionContext. Is there any reason why you don&#180;t use the autoconfigured datasource? That is usually easier. I would guess that you are missing\r\n\r\n    @EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;realEntityManager&quot;,\r\n        basePackages = {&quot;com.some.project.files.repository.real&quot;}\r\n        transactionManagerRef = &quot;__yourTransactionManagerReference__&quot; &lt;--- you are probably missing this\r\n    )\r\n\r\n\r\nalso i am not certain but i think you need a &quot;PlatformTransactionManager&quot; instead of a simple Transaction Manager. You could maybe get useful information from https://www.baeldung.com/spring-boot-configure-multiple-datasources. What Spring-Boot version are you on ? ","title":"Spring boot &quot;no transaction is in progress&quot; with 2 datasources","body":"<p>Where does your Method call originate from? Can you share all code that is executed before your provided examples? A scheduler for example would not have a SessionContext. Is there any reason why you donÂ´t use the autoconfigured datasource? That is usually easier. I would guess that you are missing</p>\n<pre><code>@EnableJpaRepositories(\n    entityManagerFactoryRef = &quot;realEntityManager&quot;,\n    basePackages = {&quot;com.some.project.files.repository.real&quot;}\n    transactionManagerRef = &quot;__yourTransactionManagerReference__&quot; &lt;--- you are probably missing this\n)\n</code></pre>\n<p>also i am not certain but i think you need a &quot;PlatformTransactionManager&quot; instead of a simple Transaction Manager. You could maybe get useful information from <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-configure-multiple-datasources</a>. What Spring-Boot version are you on ?</p>\n"},{"tags":[],"owner":{"account_id":6089597,"reputation":748,"user_id":4752381,"display_name":"Airy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663485661,"creation_date":1663485661,"answer_id":73760810,"question_id":73748947,"body_markdown":"You annotate the method with `@Transactional`, in the background Spring open a transaction with the `@Primary` transaction manager, in your case the bean named `&quot;transactionManager&quot;`, corresponding to the `&quot;realDataSource&quot;`.\r\nAt this stage, only a transaction for the first DB has been opened, and not one for your historization DB, which is why you get this error.\r\n\r\nIf you want to open a transaction for your second data source, you have to select the corresponding transaction manager `@Transactional(transactionManager = &quot;histTransactionManager&quot;)`\r\n\r\nSince you can&#39;t annotate twice the same method with different `@Transactional`, you could investigate solution on distributed transaction like Atomikos.\r\nSpring used to provide its own solution [ChainedTransactionManager][1] which is now deprecated.\r\n\r\nAnother solution, if possible would be to get rid of the second datasource.\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-commons/issues/2232","title":"Spring boot &quot;no transaction is in progress&quot; with 2 datasources","body":"<p>You annotate the method with <code>@Transactional</code>, in the background Spring open a transaction with the <code>@Primary</code> transaction manager, in your case the bean named <code>&quot;transactionManager&quot;</code>, corresponding to the <code>&quot;realDataSource&quot;</code>.\nAt this stage, only a transaction for the first DB has been opened, and not one for your historization DB, which is why you get this error.</p>\n<p>If you want to open a transaction for your second data source, you have to select the corresponding transaction manager <code>@Transactional(transactionManager = &quot;histTransactionManager&quot;)</code></p>\n<p>Since you can't annotate twice the same method with different <code>@Transactional</code>, you could investigate solution on distributed transaction like Atomikos.\nSpring used to provide its own solution <a href=\"https://github.com/spring-projects/spring-data-commons/issues/2232\" rel=\"nofollow noreferrer\">ChainedTransactionManager</a> which is now deprecated.</p>\n<p>Another solution, if possible would be to get rid of the second datasource.</p>\n"},{"tags":[],"owner":{"account_id":19028482,"reputation":939,"user_id":13891083,"display_name":"InspectorGadget"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1663756479,"creation_date":1663737949,"answer_id":73795734,"question_id":73748947,"body_markdown":"Both answers posted by @Airy and @GJohannes is pointing out the parts i was missing but there is also one thing i needed to add:\r\n `@Qualifier(&quot;histEntityManager&quot;)`\r\n\r\n\r\nHere is the final config file that works for me:\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;histEntityManager&quot;,\r\n        transactionManagerRef = &quot;histTransactionManager&quot;,\r\n        basePackages = {&quot;com.some.project.files.repository.hist&quot;}\r\n)\r\n@RequiredArgsConstructor\r\n@Log4j2\r\n@AutoConfigureOrder(3)\r\npublic class HistDatasourceConfig {\r\n\r\n    private final Environment env;\r\n\r\n\r\n    @Bean\r\n    public DataSource histDataSource() throws SQLException {\r\n        HikariDataSource hikariDataSource = new HikariDataSource();\r\n        hikariDataSource.setDriverClassName(Objects.requireNonNullElse(env.getProperty(&quot;hist.driver-class-name&quot;), &quot;oracle.jdbc.OracleDriver&quot;));\r\n        hikariDataSource.setJdbcUrl(env.getProperty(&quot;hist.jdbc-url&quot;));\r\n        hikariDataSource.setUsername(env.getProperty(&quot;hist.username&quot;));\r\n        hikariDataSource.setPassword(env.getProperty(&quot;hist.password&quot;));\r\n        hikariDataSource.setMinimumIdle(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.minPoolSize&quot;), &quot;1&quot;)));\r\n        hikariDataSource.setMaximumPoolSize(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.maxPoolSize&quot;), &quot;10&quot;)));\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;maxStatements&quot;, env.getProperty(&quot;hist.maxStatements&quot;, &quot;300&quot;));\r\n        hikariDataSource.setDataSourceProperties(props);\r\n        hikariDataSource.setPoolName(env.getProperty(&quot;hist.pool-name&quot;));\r\n        hikariDataSource.setConnectionTestQuery(env.getProperty(&quot;hist.connection-test-query&quot;));\r\n        return hikariDataSource;\r\n    }\r\n\r\n    @Bean(&quot;histEntityManager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean histEntityManager(EntityManagerFactoryBuilder builder) throws SQLException {\r\n        return builder\r\n                .dataSource(histDataSource())\r\n                .packages(&quot;com.some.project.files.entity.hist&quot;)\r\n                .persistenceUnit(&quot;hist&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public JpaTransactionManager histTransactionManager(@Qualifier(&quot;histEntityManager&quot;) EntityManagerFactory histEntityManager) {\r\n        return new JpaTransactionManager(histEntityManager);\r\n    }\r\n}\r\n```\r\n\r\nAnd ofcourse i&#39;m adding `@Transactional(transactionManager = &quot;histTransactionManager&quot;)`","title":"Spring boot &quot;no transaction is in progress&quot; with 2 datasources","body":"<p>Both answers posted by @Airy and @GJohannes is pointing out the parts i was missing but there is also one thing i needed to add:\n<code>@Qualifier(&quot;histEntityManager&quot;)</code></p>\n<p>Here is the final config file that works for me:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;histEntityManager&quot;,\n        transactionManagerRef = &quot;histTransactionManager&quot;,\n        basePackages = {&quot;com.some.project.files.repository.hist&quot;}\n)\n@RequiredArgsConstructor\n@Log4j2\n@AutoConfigureOrder(3)\npublic class HistDatasourceConfig {\n\n    private final Environment env;\n\n\n    @Bean\n    public DataSource histDataSource() throws SQLException {\n        HikariDataSource hikariDataSource = new HikariDataSource();\n        hikariDataSource.setDriverClassName(Objects.requireNonNullElse(env.getProperty(&quot;hist.driver-class-name&quot;), &quot;oracle.jdbc.OracleDriver&quot;));\n        hikariDataSource.setJdbcUrl(env.getProperty(&quot;hist.jdbc-url&quot;));\n        hikariDataSource.setUsername(env.getProperty(&quot;hist.username&quot;));\n        hikariDataSource.setPassword(env.getProperty(&quot;hist.password&quot;));\n        hikariDataSource.setMinimumIdle(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.minPoolSize&quot;), &quot;1&quot;)));\n        hikariDataSource.setMaximumPoolSize(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.maxPoolSize&quot;), &quot;10&quot;)));\n        Properties props = new Properties();\n        props.setProperty(&quot;maxStatements&quot;, env.getProperty(&quot;hist.maxStatements&quot;, &quot;300&quot;));\n        hikariDataSource.setDataSourceProperties(props);\n        hikariDataSource.setPoolName(env.getProperty(&quot;hist.pool-name&quot;));\n        hikariDataSource.setConnectionTestQuery(env.getProperty(&quot;hist.connection-test-query&quot;));\n        return hikariDataSource;\n    }\n\n    @Bean(&quot;histEntityManager&quot;)\n    public LocalContainerEntityManagerFactoryBean histEntityManager(EntityManagerFactoryBuilder builder) throws SQLException {\n        return builder\n                .dataSource(histDataSource())\n                .packages(&quot;com.some.project.files.entity.hist&quot;)\n                .persistenceUnit(&quot;hist&quot;)\n                .build();\n    }\n\n    @Bean\n    public JpaTransactionManager histTransactionManager(@Qualifier(&quot;histEntityManager&quot;) EntityManagerFactory histEntityManager) {\n        return new JpaTransactionManager(histEntityManager);\n    }\n}\n</code></pre>\n<p>And ofcourse i'm adding <code>@Transactional(transactionManager = &quot;histTransactionManager&quot;)</code></p>\n"}],"owner":{"account_id":19028482,"reputation":939,"user_id":13891083,"display_name":"InspectorGadget"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2468,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73795734,"answer_count":3,"score":-1,"last_activity_date":1663756479,"creation_date":1663352761,"question_id":73748947,"body_markdown":"I have two databases and i&#39;m trying to save some records to both of them inside a service method.\r\n\r\nThis gives me the error: `org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress`.\r\n\r\nHere is entities:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;TABLE_NAME&quot;)\r\npublic class SomeEntity {\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_generator&quot;)\r\n  @SequenceGenerator(name = &quot;seq_generator&quot;, sequenceName = &quot;SEQ_ID&quot;, allocationSize = 1)\r\n  @Id\r\n  @Column(name = &quot;ID&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Column(name = &quot;SOME_STR&quot;, nullable = false)\r\n  private String someStr;\r\n\r\n  @Column(name = &quot;SOME_INT&quot;, nullable = false)\r\n  private Integer someInt;\r\n\r\n  public SomeEntity(String someStr, Integer someInt) {\r\n    this.someStr = someStr;\r\n    this.someInt = someInt;\r\n  }\r\n}\r\n\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;TABLE_NAME&quot;)\r\npublic class SomeEntityHist {\r\n  @Id\r\n  @Column(name = &quot;ID&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Column(name = &quot;SOME_STR&quot;, nullable = false)\r\n  private String someStr;\r\n\r\n  @Column(name = &quot;SOME_INT&quot;, nullable = false)\r\n  private Integer someInt;\r\n}\r\n```\r\n\r\nAnd here is one of the config files for multiple db connection:\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;realEntityManager&quot;,\r\n        basePackages = {&quot;com.some.project.files.repository.real&quot;}\r\n)\r\n@RequiredArgsConstructor\r\n@Log4j2\r\n@AutoConfigureOrder(1)\r\npublic class RealDatasourceConfig {\r\n\r\n    private final Environment env;\r\n\r\n    @Primary\r\n    @Bean\r\n    public DataSource realDataSource() throws SQLException {\r\n        HikariDataSource hikariDataSource = new HikariDataSource();\r\n        hikariDataSource.setDriverClassName(Objects.requireNonNullElse(env.getProperty(&quot;real.driver-class-name&quot;), &quot;oracle.jdbc.OracleDriver&quot;));\r\n        hikariDataSource.setJdbcUrl(env.getProperty(&quot;real.db-url&quot;));\r\n        hikariDataSource.setUsername(env.getProperty(&quot;real.username&quot;));\r\n        hikariDataSource.setPassword(env.getProperty(&quot;real.password&quot;));\r\n        hikariDataSource.setMinimumIdle(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;real.minPoolSize&quot;), &quot;1&quot;)));\r\n        hikariDataSource.setMaximumPoolSize(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;real.maxPoolSize&quot;), &quot;10&quot;)));\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;maxStatements&quot;, env.getProperty(&quot;real.maxStatements&quot;, &quot;300&quot;));\r\n        hikariDataSource.setDataSourceProperties(props);\r\n        hikariDataSource.setPoolName(env.getProperty(&quot;real.pool-name&quot;));\r\n        hikariDataSource.setConnectionTestQuery(env.getProperty(&quot;real.connection-test-query&quot;));\r\n        return hikariDataSource;\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean realEntityManager(EntityManagerFactoryBuilder builder) throws SQLException {\r\n        return builder\r\n                .dataSource(realDataSource())\r\n                .packages(&quot;com.some.project.files.entity.real&quot;)\r\n                .persistenceUnit(&quot;real&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public JpaTransactionManager realTransactionManager(EntityManagerFactory realEntityManager) {\r\n        return new JpaTransactionManager(realEntityManager);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the other one:\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;histEntityManager&quot;,\r\n        basePackages = {&quot;com.some.project.files.repository.hist&quot;}\r\n)\r\n@RequiredArgsConstructor\r\n@Log4j2\r\n@AutoConfigureOrder(3)\r\npublic class HistDatasourceConfig {\r\n\r\n    private final Environment env;\r\n\r\n\r\n    @Bean\r\n    public DataSource histDataSource() throws SQLException {\r\n        HikariDataSource hikariDataSource = new HikariDataSource();\r\n        hikariDataSource.setDriverClassName(Objects.requireNonNullElse(env.getProperty(&quot;hist.driver-class-name&quot;), &quot;oracle.jdbc.OracleDriver&quot;));\r\n        hikariDataSource.setJdbcUrl(env.getProperty(&quot;hist.jdbc-url&quot;));\r\n        hikariDataSource.setUsername(env.getProperty(&quot;hist.username&quot;));\r\n        hikariDataSource.setPassword(env.getProperty(&quot;hist.password&quot;));\r\n        hikariDataSource.setMinimumIdle(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.minPoolSize&quot;), &quot;1&quot;)));\r\n        hikariDataSource.setMaximumPoolSize(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.maxPoolSize&quot;), &quot;10&quot;)));\r\n        Properties props = new Properties();\r\n        props.setProperty(&quot;maxStatements&quot;, env.getProperty(&quot;hist.maxStatements&quot;, &quot;300&quot;));\r\n        hikariDataSource.setDataSourceProperties(props);\r\n        hikariDataSource.setPoolName(env.getProperty(&quot;hist.pool-name&quot;));\r\n        hikariDataSource.setConnectionTestQuery(env.getProperty(&quot;hist.connection-test-query&quot;));\r\n        return hikariDataSource;\r\n    }\r\n\r\n    @Bean(&quot;histEntityManager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean histEntityManager(EntityManagerFactoryBuilder builder) throws SQLException {\r\n        return builder\r\n                .dataSource(histDataSource())\r\n                .packages(&quot;com.some.project.files.entity.hist&quot;)\r\n                .persistenceUnit(&quot;hist&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public JpaTransactionManager histTransactionManager(EntityManagerFactory histEntityManager) {\r\n        return new JpaTransactionManager(histEntityManager);\r\n    }\r\n}\r\n```\r\n\r\nThe problem is about the hist entity. If i save just the other one it saves. \r\n\r\nBut if i try to save the hist entity like this:\r\n```\r\n@Override\r\n@Transactional\r\npublic void someMethod() {\r\n  SomeEntity entity = new SomeEntity(&quot;abc&quot;, 123);\r\n  SomeRepository.save(entity);\r\n\r\n  SomeEntityHist entityHist = new SomeEntityHist(1L, &quot;abc&quot;, 123);\r\n  SomeRepositoryHist.save(entityHist);\r\n}\r\n```\r\nit saves the first one but it doesn&#39;t save the hist and when i look at the logs it just calls a select query and not insert.\r\n\r\nAnd if i try to save the hist entity with `saveAndFlush` method it gives the error.\r\n\r\nWhat is the reason what can i do about it. Is it about config files?","title":"Spring boot &quot;no transaction is in progress&quot; with 2 datasources","body":"<p>I have two databases and i'm trying to save some records to both of them inside a service method.</p>\n<p>This gives me the error: <code>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress</code>.</p>\n<p>Here is entities:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;TABLE_NAME&quot;)\npublic class SomeEntity {\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_generator&quot;)\n  @SequenceGenerator(name = &quot;seq_generator&quot;, sequenceName = &quot;SEQ_ID&quot;, allocationSize = 1)\n  @Id\n  @Column(name = &quot;ID&quot;, nullable = false)\n  private Long id;\n\n  @Column(name = &quot;SOME_STR&quot;, nullable = false)\n  private String someStr;\n\n  @Column(name = &quot;SOME_INT&quot;, nullable = false)\n  private Integer someInt;\n\n  public SomeEntity(String someStr, Integer someInt) {\n    this.someStr = someStr;\n    this.someInt = someInt;\n  }\n}\n\n\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;TABLE_NAME&quot;)\npublic class SomeEntityHist {\n  @Id\n  @Column(name = &quot;ID&quot;, nullable = false)\n  private Long id;\n\n  @Column(name = &quot;SOME_STR&quot;, nullable = false)\n  private String someStr;\n\n  @Column(name = &quot;SOME_INT&quot;, nullable = false)\n  private Integer someInt;\n}\n</code></pre>\n<p>And here is one of the config files for multiple db connection:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;realEntityManager&quot;,\n        basePackages = {&quot;com.some.project.files.repository.real&quot;}\n)\n@RequiredArgsConstructor\n@Log4j2\n@AutoConfigureOrder(1)\npublic class RealDatasourceConfig {\n\n    private final Environment env;\n\n    @Primary\n    @Bean\n    public DataSource realDataSource() throws SQLException {\n        HikariDataSource hikariDataSource = new HikariDataSource();\n        hikariDataSource.setDriverClassName(Objects.requireNonNullElse(env.getProperty(&quot;real.driver-class-name&quot;), &quot;oracle.jdbc.OracleDriver&quot;));\n        hikariDataSource.setJdbcUrl(env.getProperty(&quot;real.db-url&quot;));\n        hikariDataSource.setUsername(env.getProperty(&quot;real.username&quot;));\n        hikariDataSource.setPassword(env.getProperty(&quot;real.password&quot;));\n        hikariDataSource.setMinimumIdle(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;real.minPoolSize&quot;), &quot;1&quot;)));\n        hikariDataSource.setMaximumPoolSize(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;real.maxPoolSize&quot;), &quot;10&quot;)));\n        Properties props = new Properties();\n        props.setProperty(&quot;maxStatements&quot;, env.getProperty(&quot;real.maxStatements&quot;, &quot;300&quot;));\n        hikariDataSource.setDataSourceProperties(props);\n        hikariDataSource.setPoolName(env.getProperty(&quot;real.pool-name&quot;));\n        hikariDataSource.setConnectionTestQuery(env.getProperty(&quot;real.connection-test-query&quot;));\n        return hikariDataSource;\n    }\n\n    @Primary\n    @Bean\n    public LocalContainerEntityManagerFactoryBean realEntityManager(EntityManagerFactoryBuilder builder) throws SQLException {\n        return builder\n                .dataSource(realDataSource())\n                .packages(&quot;com.some.project.files.entity.real&quot;)\n                .persistenceUnit(&quot;real&quot;)\n                .build();\n    }\n\n    @Primary\n    @Bean(name = &quot;transactionManager&quot;)\n    public JpaTransactionManager realTransactionManager(EntityManagerFactory realEntityManager) {\n        return new JpaTransactionManager(realEntityManager);\n    }\n}\n</code></pre>\n<p>And here is the other one:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;histEntityManager&quot;,\n        basePackages = {&quot;com.some.project.files.repository.hist&quot;}\n)\n@RequiredArgsConstructor\n@Log4j2\n@AutoConfigureOrder(3)\npublic class HistDatasourceConfig {\n\n    private final Environment env;\n\n\n    @Bean\n    public DataSource histDataSource() throws SQLException {\n        HikariDataSource hikariDataSource = new HikariDataSource();\n        hikariDataSource.setDriverClassName(Objects.requireNonNullElse(env.getProperty(&quot;hist.driver-class-name&quot;), &quot;oracle.jdbc.OracleDriver&quot;));\n        hikariDataSource.setJdbcUrl(env.getProperty(&quot;hist.jdbc-url&quot;));\n        hikariDataSource.setUsername(env.getProperty(&quot;hist.username&quot;));\n        hikariDataSource.setPassword(env.getProperty(&quot;hist.password&quot;));\n        hikariDataSource.setMinimumIdle(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.minPoolSize&quot;), &quot;1&quot;)));\n        hikariDataSource.setMaximumPoolSize(Integer.parseInt(Objects.requireNonNullElse(env.getProperty(&quot;hist.maxPoolSize&quot;), &quot;10&quot;)));\n        Properties props = new Properties();\n        props.setProperty(&quot;maxStatements&quot;, env.getProperty(&quot;hist.maxStatements&quot;, &quot;300&quot;));\n        hikariDataSource.setDataSourceProperties(props);\n        hikariDataSource.setPoolName(env.getProperty(&quot;hist.pool-name&quot;));\n        hikariDataSource.setConnectionTestQuery(env.getProperty(&quot;hist.connection-test-query&quot;));\n        return hikariDataSource;\n    }\n\n    @Bean(&quot;histEntityManager&quot;)\n    public LocalContainerEntityManagerFactoryBean histEntityManager(EntityManagerFactoryBuilder builder) throws SQLException {\n        return builder\n                .dataSource(histDataSource())\n                .packages(&quot;com.some.project.files.entity.hist&quot;)\n                .persistenceUnit(&quot;hist&quot;)\n                .build();\n    }\n\n    @Bean\n    public JpaTransactionManager histTransactionManager(EntityManagerFactory histEntityManager) {\n        return new JpaTransactionManager(histEntityManager);\n    }\n}\n</code></pre>\n<p>The problem is about the hist entity. If i save just the other one it saves.</p>\n<p>But if i try to save the hist entity like this:</p>\n<pre><code>@Override\n@Transactional\npublic void someMethod() {\n  SomeEntity entity = new SomeEntity(&quot;abc&quot;, 123);\n  SomeRepository.save(entity);\n\n  SomeEntityHist entityHist = new SomeEntityHist(1L, &quot;abc&quot;, 123);\n  SomeRepositoryHist.save(entityHist);\n}\n</code></pre>\n<p>it saves the first one but it doesn't save the hist and when i look at the logs it just calls a select query and not insert.</p>\n<p>And if i try to save the hist entity with <code>saveAndFlush</code> method it gives the error.</p>\n<p>What is the reason what can i do about it. Is it about config files?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1308156924,"post_id":6361340,"comment_id":7447179,"body_markdown":"At what line exactly is it been thrown? You can find the line number in the 1st line of the stacktrace. The exception suggests that you&#39;re attempting to access a wrong/unknown column in the resultset. But the code snippet in your question doesn&#39;t give that away.","body":"At what line exactly is it been thrown? You can find the line number in the 1st line of the stacktrace. The exception suggests that you&#39;re attempting to access a wrong/unknown column in the resultset. But the code snippet in your question doesn&#39;t give that away."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1308157728,"post_id":6361340,"comment_id":7447429,"body_markdown":"Thanks for the code update. But the exception handling is very poor. Replace that `System.out.println(e)` line by `e.printStackTrace()` or just `throw e`. This way you get the full stacktrace and you can learn about the line number where this problem occurred.","body":"Thanks for the code update. But the exception handling is very poor. Replace that <code>System.out.println(e)</code> line by <code>e.printStackTrace()</code> or just <code>throw e</code>. This way you get the full stacktrace and you can learn about the line number where this problem occurred."}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1308157670,"creation_date":1308157670,"answer_id":6361520,"question_id":6361340,"body_markdown":"I doubt the exception is thrown by one of the lines in the posted code. I have my reasons to state so.\r\n\r\nA SQLException with the message &quot;Invalid descriptor index&quot; is usually obtained when you read the result set incorrectly. There are various ways in which this scenario can manifest:\r\n\r\n * Reading columns out of sequence. I&#39;m afraid, some JDBC drivers will require you to read columns in order, starting at the first column. That&#39;s the way some drivers have been written; you cannot skip any columns when reading the resulting result set, as the drivers are actually reading a stream and converting objects in the stream to objects of the JDBC  types.\r\n * You might be reading a column, whose index is invalid, or whose column name doesn&#39;t match any of the returned columns in the result set. The simple resolution is to either fix the query to return the needed column, or fix your code to not read the absent column.\r\n\r\nIf you need to solve it, you need to know which one of the above conditions is true in your code, and rectify accordingly.","title":"    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index","body":"<p>I doubt the exception is thrown by one of the lines in the posted code. I have my reasons to state so.</p>\n\n<p>A SQLException with the message \"Invalid descriptor index\" is usually obtained when you read the result set incorrectly. There are various ways in which this scenario can manifest:</p>\n\n<ul>\n<li>Reading columns out of sequence. I'm afraid, some JDBC drivers will require you to read columns in order, starting at the first column. That's the way some drivers have been written; you cannot skip any columns when reading the resulting result set, as the drivers are actually reading a stream and converting objects in the stream to objects of the JDBC  types.</li>\n<li>You might be reading a column, whose index is invalid, or whose column name doesn't match any of the returned columns in the result set. The simple resolution is to either fix the query to return the needed column, or fix your code to not read the absent column.</li>\n</ul>\n\n<p>If you need to solve it, you need to know which one of the above conditions is true in your code, and rectify accordingly.</p>\n"},{"tags":[],"owner":{"display_name":"user1780677"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363540768,"creation_date":1363540768,"answer_id":15463727,"question_id":6361340,"body_markdown":"That will occur if you&#39;re trying to get the resultset variable value in the index value of 0.\r\nFor example:\r\nConsider a table which has 5 columns:\r\n\r\n    ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM &quot; + tableName);\r\n    while(rs.next())\r\n    {\r\n       for(int i=0;i&lt;5;i++)\r\n       //This will throw the exception\r\n       System.out.println(rs.getString(i)); //Since the value will be returned from 1 not 0\r\n       //The below code was the right way\r\n       System.out.println(rs.getString(i+1));\r\n    }\r\n","title":"    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index","body":"<p>That will occur if you're trying to get the resultset variable value in the index value of 0.\nFor example:\nConsider a table which has 5 columns:</p>\n\n<pre><code>ResultSet rs = stmt.executeQuery(\"SELECT * FROM \" + tableName);\nwhile(rs.next())\n{\n   for(int i=0;i&lt;5;i++)\n   //This will throw the exception\n   System.out.println(rs.getString(i)); //Since the value will be returned from 1 not 0\n   //The below code was the right way\n   System.out.println(rs.getString(i+1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1143139,"reputation":1783,"user_id":1409959,"display_name":"Remco"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1436213370,"creation_date":1373447685,"answer_id":17566753,"question_id":6361340,"body_markdown":"I have had the same exact error, this out of an ODBC Express Driver for Delphi.\r\n\r\nThe solution I have found is:\r\n\r\nPlace your varchar(max) and or varbinary(max) fields at the end of your select Query. (Order in the table definition doesn&#39;t matter).\r\n\r\nThis really fixed it for us, thought to share it with you guys.\r\n\r\n","title":"    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index","body":"<p>I have had the same exact error, this out of an ODBC Express Driver for Delphi.</p>\n\n<p>The solution I have found is:</p>\n\n<p>Place your varchar(max) and or varbinary(max) fields at the end of your select Query. (Order in the table definition doesn't matter).</p>\n\n<p>This really fixed it for us, thought to share it with you guys.</p>\n"},{"tags":[],"owner":{"account_id":3407293,"reputation":66,"user_id":2858063,"display_name":"Shashika Fernando"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421298534,"creation_date":1421298534,"answer_id":27957153,"question_id":6361340,"body_markdown":"I got an error \r\n\r\nSEVERE: null\r\njava.sql.SQLException: [Microsoft][SQL Server Native Client 10.0]Invalid Descriptor Index\r\n\r\ncode was\r\n\r\n    String sqlStr = &quot;select soldItems.payment as aa, Sysuser.name as sname, Books.Name as abookName, soldItems.Qunt as qunt, soldItems.date as soldBooks from Sysuser inner join soldItems on soldItems.CustomerId=Sysuser.id inner join Books on Books.bookId=soldItems.bookId where CustomerId=&#39;&quot; + cusId + &quot;&#39; and PaymentDone is NULL&quot;;\r\n        System.out.println(sqlStr);\r\n        DbConnection con = new DbConnection();\r\n        con.getConnection();\r\n        ResultSet rs = con.getData(sqlStr);\r\n        while (rs.next()) {\r\n            int i = 0;\r\n\r\n           \r\n            dataArry[i][0] = rs.getString(&quot;abookName&quot;);\r\n            dataArry[i][1] = rs.getString(&quot;qunt&quot;);\r\n             dataArry[i][2] = rs.getString(&quot;aa&quot;);\r\n            dataArry[i][3] = rs.getString(&quot;soldBooks&quot;);\r\n\r\n            i++;\r\n        }\r\n\r\nthe fix is rs.getString needs to be in the same order of the SQL\r\n\r\nso the code needs to be\r\n\r\n           dataArry[i][2] = rs.getString(&quot;aa&quot;);\r\n            dataArry[i][0] = rs.getString(&quot;abookName&quot;);\r\n            dataArry[i][1] = rs.getString(&quot;qunt&quot;);\r\n            \r\n            dataArry[i][3] = rs.getString(&quot;soldBooks&quot;);\r\n","title":"    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index","body":"<p>I got an error </p>\n\n<p>SEVERE: null\njava.sql.SQLException: [Microsoft][SQL Server Native Client 10.0]Invalid Descriptor Index</p>\n\n<p>code was</p>\n\n<pre><code>String sqlStr = \"select soldItems.payment as aa, Sysuser.name as sname, Books.Name as abookName, soldItems.Qunt as qunt, soldItems.date as soldBooks from Sysuser inner join soldItems on soldItems.CustomerId=Sysuser.id inner join Books on Books.bookId=soldItems.bookId where CustomerId='\" + cusId + \"' and PaymentDone is NULL\";\n    System.out.println(sqlStr);\n    DbConnection con = new DbConnection();\n    con.getConnection();\n    ResultSet rs = con.getData(sqlStr);\n    while (rs.next()) {\n        int i = 0;\n\n\n        dataArry[i][0] = rs.getString(\"abookName\");\n        dataArry[i][1] = rs.getString(\"qunt\");\n         dataArry[i][2] = rs.getString(\"aa\");\n        dataArry[i][3] = rs.getString(\"soldBooks\");\n\n        i++;\n    }\n</code></pre>\n\n<p>the fix is rs.getString needs to be in the same order of the SQL</p>\n\n<p>so the code needs to be</p>\n\n<pre><code>       dataArry[i][2] = rs.getString(\"aa\");\n        dataArry[i][0] = rs.getString(\"abookName\");\n        dataArry[i][1] = rs.getString(\"qunt\");\n\n        dataArry[i][3] = rs.getString(\"soldBooks\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":393416,"reputation":1063,"user_id":755249,"accept_rate":59,"display_name":"Hink"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1439378356,"creation_date":1439378356,"answer_id":31963700,"question_id":6361340,"body_markdown":"I know this bug for many years by using ODBC driver with PHP. Try to place your text and image columns at the end of select list.&lt;br&gt;Dont use\r\n\r\n    select * from t\r\nbut enumerate rigidly\r\n\r\n    select plain_column1, plain_column2, .... image_column from t\r\nUnfortunately Microsoft doesn&#39;t get tired by fixing the bug. JDBC driver works OK.","title":"    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index","body":"<p>I know this bug for many years by using ODBC driver with PHP. Try to place your text and image columns at the end of select list.<br>Dont use</p>\n\n<pre><code>select * from t\n</code></pre>\n\n<p>but enumerate rigidly</p>\n\n<pre><code>select plain_column1, plain_column2, .... image_column from t\n</code></pre>\n\n<p>Unfortunately Microsoft doesn't get tired by fixing the bug. JDBC driver works OK.</p>\n"},{"tags":[],"owner":{"account_id":1668679,"reputation":1108,"user_id":1535580,"accept_rate":97,"display_name":"Usman YousafZai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663756287,"creation_date":1663756287,"answer_id":73799245,"question_id":6361340,"body_markdown":"I have explained @Remco answer with example which is simple and short and helped me to solve my problem. Find the column info of ***MYTABLE*** first and place the column at the end with max values(suppose ***varchar(max) and or varbinary(max)***). Try the example below.\r\n\r\n**With Error**\r\n\r\n    library(DBI)\r\n    library(ODBC)\r\n    myquery&lt;- dbGetQuery(con,&quot;SELECT * FROM MYTABLE&quot;)\r\n\r\n    Error in Result_fetch....:  Invalid Descriptor Index\r\n\r\n**Solution**\r\n\r\n    dbcolumnInfo(dbSendWuery(con,&quot;SELECT * FROM MYTABLE&quot;)\r\n\r\n[![Output of dbcolumninfo()][1]][1]\r\n\r\nFrom the results for **DateTimeSampled** is varchar(max). Place this column at the end of ***MYTABLE*** using following query.\r\n\r\n    myquery&lt;- dbGetQuery(con,&quot;SELECT [PROCHI],[hb_extract],\r\n    [QuantityValue],[QuantityUnit],[Interpretation],\r\n    [LabNumber],[LocalClinicalCodeValue],[DateTimeSampled]\r\n    FROM MYTABLE&quot;)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZnlUV.png\r\n\r\n***Enjoy SQL with R***","title":"    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index","body":"<p>I have explained @Remco answer with example which is simple and short and helped me to solve my problem. Find the column info of <em><strong>MYTABLE</strong></em> first and place the column at the end with max values(suppose <em><strong>varchar(max) and or varbinary(max)</strong></em>). Try the example below.</p>\n<p><strong>With Error</strong></p>\n<pre><code>library(DBI)\nlibrary(ODBC)\nmyquery&lt;- dbGetQuery(con,&quot;SELECT * FROM MYTABLE&quot;)\n\nError in Result_fetch....:  Invalid Descriptor Index\n</code></pre>\n<p><strong>Solution</strong></p>\n<pre><code>dbcolumnInfo(dbSendWuery(con,&quot;SELECT * FROM MYTABLE&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZnlUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZnlUV.png\" alt=\"Output of dbcolumninfo()\" /></a></p>\n<p>From the results for <strong>DateTimeSampled</strong> is varchar(max). Place this column at the end of <em><strong>MYTABLE</strong></em> using following query.</p>\n<pre><code>myquery&lt;- dbGetQuery(con,&quot;SELECT [PROCHI],[hb_extract],\n[QuantityValue],[QuantityUnit],[Interpretation],\n[LabNumber],[LocalClinicalCodeValue],[DateTimeSampled]\nFROM MYTABLE&quot;)\n</code></pre>\n<p><em><strong>Enjoy SQL with R</strong></em></p>\n"}],"owner":{"account_id":768578,"reputation":211,"user_id":797007,"accept_rate":0,"display_name":"Tepken Vannkorn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50855,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1663756287,"creation_date":1308156769,"question_id":6361340,"body_markdown":"I use the following code\r\n\r\n    try {\r\n\t\tClass.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n\t\tConnection con = DriverManager.getConnection(&quot;jdbc:odbc:access&quot;);\r\n\t\tString sql = &quot;Select * from table&quot;;\r\n\t\tStatement stmt = con.createStatement();\r\n\t\tResultSet rs = stmt.executeQuery( sql );\r\n\t\tResultSetMetaData md = rs.getMetaData();\r\n\t\tint columns = md.getColumnCount();\r\n\t\tfor (int i = 1; i &lt;= columns; i++) {\r\n\t\t\tcolumnNames.addElement( md.getColumnName(i) );\r\n\t\t}\r\n\t\twhile (rs.next()) {\r\n\t\t\tVector row = new Vector(columns);\r\n\t\t\tfor (int i = 1; i &lt;= columns; i++){\r\n\t\t\t\trow.addElement( rs.getObject(i) );\r\n\t\t\t}\r\n\t\t\tdata.addElement( row );\r\n\t\t}\r\n\t\trs.close();\r\n\t\tstmt.close();\r\n\t}catch(Exception e){\r\n\t\tSystem.out.println(e);\r\n\t}\r\n\r\nIt displays:\r\n\r\n    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index\r\n\r\nHow is this caused and how can I solve it?","title":"    java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index","body":"<p>I use the following code</p>\n\n<pre><code>try {\n    Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n    Connection con = DriverManager.getConnection(\"jdbc:odbc:access\");\n    String sql = \"Select * from table\";\n    Statement stmt = con.createStatement();\n    ResultSet rs = stmt.executeQuery( sql );\n    ResultSetMetaData md = rs.getMetaData();\n    int columns = md.getColumnCount();\n    for (int i = 1; i &lt;= columns; i++) {\n        columnNames.addElement( md.getColumnName(i) );\n    }\n    while (rs.next()) {\n        Vector row = new Vector(columns);\n        for (int i = 1; i &lt;= columns; i++){\n            row.addElement( rs.getObject(i) );\n        }\n        data.addElement( row );\n    }\n    rs.close();\n    stmt.close();\n}catch(Exception e){\n    System.out.println(e);\n}\n</code></pre>\n\n<p>It displays:</p>\n\n<pre><code>java.sql.SQLException:[Microsoft][ODBC Driver Manager] Invalid descriptor index\n</code></pre>\n\n<p>How is this caused and how can I solve it?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1527227527,"post_id":50521874,"comment_id":88056687,"body_markdown":"This looks like you don&#39;t have the converters set up suitably. You&#39;ll need to share more information about your Spring setup. Is this a legacy application you&#39;re adding JSON to, or a modern Spring Boot project?","body":"This looks like you don&#39;t have the converters set up suitably. You&#39;ll need to share more information about your Spring setup. Is this a legacy application you&#39;re adding JSON to, or a modern Spring Boot project?"},{"owner":{"account_id":2693177,"reputation":3388,"user_id":2325929,"accept_rate":39,"display_name":"theanilpaudel"},"score":0,"creation_date":1527228042,"post_id":50521874,"comment_id":88056883,"body_markdown":"This is a legacy application, I have edited the question, please check","body":"This is a legacy application, I have edited the question, please check"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"RafaÅ‚ Sokalski"},"score":0,"creation_date":1527228056,"post_id":50521874,"comment_id":88056891,"body_markdown":"Did you try this solution?\n\n[Solution](https://stackoverflow.com/questions/28893796/returning-a-simple-map-structure-from-spring-mvc-controller-to-ajax)","body":"Did you try this solution?  <a href=\"https://stackoverflow.com/questions/28893796/returning-a-simple-map-structure-from-spring-mvc-controller-to-ajax\">Solution</a>"}],"answers":[{"tags":[],"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527225146,"creation_date":1527225146,"answer_id":50521920,"question_id":50521874,"body_markdown":"You can simply return a Map&lt;String, Object&gt; like this and user @RestController annotation on top of your class:\r\n\r\n        @RequestMapping(value = &quot;/user&quot;,method = RequestMethod.GET)\r\n        public Map&lt;String,Object&gt; handleRequest() throws Exception{\r\n            List&lt;User&gt; users = userService.list();          \r\n            Map&lt;String, Object&gt; message = new HashMap&lt;String, Object&gt;();\r\n    \r\n            message.put(&quot;severity&quot;, &quot;info&quot;);\r\n            message.put(&quot;user&quot;, users);\r\n            message.put(&quot;summary&quot;, &quot;Not successfully.&quot;);\r\n            message.put(&quot;code&quot;, 200);\r\n    \r\n            Map&lt;String, Object&gt; json = new HashMap&lt;String, Object&gt;();\r\n            json.put(&quot;success&quot;, true);\r\n            json.put(&quot;message&quot;, message);\r\n            \r\n            message.putAll(json);\r\n            return message;\r\n        }","title":"HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap in Spring MVC","body":"<p>You can simply return a Map like this and user @RestController annotation on top of your class:</p>\n\n<pre><code>    @RequestMapping(value = \"/user\",method = RequestMethod.GET)\n    public Map&lt;String,Object&gt; handleRequest() throws Exception{\n        List&lt;User&gt; users = userService.list();          \n        Map&lt;String, Object&gt; message = new HashMap&lt;String, Object&gt;();\n\n        message.put(\"severity\", \"info\");\n        message.put(\"user\", users);\n        message.put(\"summary\", \"Not successfully.\");\n        message.put(\"code\", 200);\n\n        Map&lt;String, Object&gt; json = new HashMap&lt;String, Object&gt;();\n        json.put(\"success\", true);\n        json.put(\"message\", message);\n\n        message.putAll(json);\n        return message;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8510160,"reputation":590,"user_id":6380454,"display_name":"Rajanikanta Pradhan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1527228281,"creation_date":1527228281,"answer_id":50522502,"question_id":50521874,"body_markdown":" \r\nProvide **@RestController** in Controller class level other wise provide **@ResponseBody** in method level.\r\nMake sure that all jackson related jars are there in class path.\r\n\r\nAdd jackson related  dependencies in to your pom.xml\r\n\r\n    @RequestMapping(value = &quot;/user&quot;,method = RequestMethod.GET)\r\n    @ResponseBody\r\n        public ResponseEntity&lt;Map&lt;String,Object&gt;&gt; handleRequest() throws Exception{\r\n            List&lt;User&gt; users = userService.list();          \r\n            Map&lt;String, Object&gt; message = new HashMap&lt;String, Object&gt;();\r\n    \r\n            message.put(&quot;severity&quot;, &quot;info&quot;);\r\n            message.put(&quot;user&quot;, users);\r\n            message.put(&quot;summary&quot;, &quot;Not successfully.&quot;);\r\n            message.put(&quot;code&quot;, 200);\r\n    \r\n            Map&lt;String, Object&gt; json = new HashMap&lt;String, Object&gt;();\r\n            json.put(&quot;success&quot;, true);\r\n            json.put(&quot;message&quot;, message);\r\n    \r\n            return new ResponseEntity&lt;Map&lt;String,Object&gt;&gt;(message,HttpStatus.CREATED);\r\n        }\r\n\r\nSample pom dependencies for jackson .\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n","title":"HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap in Spring MVC","body":"<p>Provide <strong>@RestController</strong> in Controller class level other wise provide <strong>@ResponseBody</strong> in method level.\nMake sure that all jackson related jars are there in class path.</p>\n\n<p>Add jackson related  dependencies in to your pom.xml</p>\n\n<pre><code>@RequestMapping(value = \"/user\",method = RequestMethod.GET)\n@ResponseBody\n    public ResponseEntity&lt;Map&lt;String,Object&gt;&gt; handleRequest() throws Exception{\n        List&lt;User&gt; users = userService.list();          \n        Map&lt;String, Object&gt; message = new HashMap&lt;String, Object&gt;();\n\n        message.put(\"severity\", \"info\");\n        message.put(\"user\", users);\n        message.put(\"summary\", \"Not successfully.\");\n        message.put(\"code\", 200);\n\n        Map&lt;String, Object&gt; json = new HashMap&lt;String, Object&gt;();\n        json.put(\"success\", true);\n        json.put(\"message\", message);\n\n        return new ResponseEntity&lt;Map&lt;String,Object&gt;&gt;(message,HttpStatus.CREATED);\n    }\n</code></pre>\n\n<p>Sample pom dependencies for jackson .</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13265714,"reputation":339,"user_id":9578616,"display_name":"Rohit Kavthekar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527244490,"creation_date":1527244490,"answer_id":50527241,"question_id":50521874,"body_markdown":"I think you need custom httpmessageconvertor for this.&lt;br&gt;\r\n**add Dependency** \r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n         &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nif this not works then try to configure custom configuration for MappingJackson to HttpMessage Convertor in your Configuration File.","title":"HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap in Spring MVC","body":"<p>I think you need custom httpmessageconvertor for this.<br>\n<strong>add Dependency</strong> </p>\n\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n     &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>if this not works then try to configure custom configuration for MappingJackson to HttpMessage Convertor in your Configuration File.</p>\n"},{"tags":[],"owner":{"account_id":16947335,"reputation":1498,"user_id":12257758,"display_name":"ANUP SAJJAN"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612458685,"creation_date":1612458685,"answer_id":66050483,"question_id":50521874,"body_markdown":"For someone coming with similar problem:\r\n\r\nThis can happen if you are returning an object of a class that has no Getter and Setter methods.\r\n\r\nFor ex:\r\nif you have the following setup\r\n\r\n    public class Employee {\r\n\t    private int code;\r\n\t    private String name;\r\n    }\r\n\r\nAnd using it in some method as such :\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public ResponseEntity&lt;Employee&gt; getEmployee(@RequestParam(&quot;id&quot;) Integer id) {\r\n    \tEmployee employee;\r\n        /* CODE. . . \r\n                    */\r\n    \treturn new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\r\n     }\r\n\r\n\r\nYou might get an error saying \r\n\r\n&gt; org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class com.dummy.springWeb.ExceptionHandler.Employee\r\n\r\n\r\nTo resolve, just add getters and setters to the employee class and it will solve the problem!\r\n\r\n\r\n","title":"HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap in Spring MVC","body":"<p>For someone coming with similar problem:</p>\n<p>This can happen if you are returning an object of a class that has no Getter and Setter methods.</p>\n<p>For ex:\nif you have the following setup</p>\n<pre><code>public class Employee {\n    private int code;\n    private String name;\n}\n</code></pre>\n<p>And using it in some method as such :</p>\n<pre><code>@GetMapping(&quot;&quot;)\npublic ResponseEntity&lt;Employee&gt; getEmployee(@RequestParam(&quot;id&quot;) Integer id) {\n    Employee employee;\n    /* CODE. . . \n                */\n    return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\n }\n</code></pre>\n<p>You might get an error saying</p>\n<blockquote>\n<p>org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class com.dummy.springWeb.ExceptionHandler.Employee</p>\n</blockquote>\n<p>To resolve, just add getters and setters to the employee class and it will solve the problem!</p>\n"},{"tags":[],"owner":{"account_id":10213320,"reputation":270,"user_id":7539777,"display_name":"akarahman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634467427,"creation_date":1634465732,"answer_id":69603291,"question_id":50521874,"body_markdown":"I faced the similar error `org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.ArrayList`, even with all the jackson dependencies properly added in my gradle file. My spring version was `Spring 5.2.3.RELEASE`. I had all the getters and setters added in the objects that are being added in the collection. I tried with several version of `jackson-databind` nothing helped. Finally it was one line in my `spring-config.xml`\r\n\r\n```\r\n&lt;mvc:annotation-driven /&gt;\r\n```\r\n\r\nOrigial stackoverflow question that helped me https://stackoverflow.com/questions/32905917\r\n\r\nAll of this started, when I have to change my application from spring-boot to plain vanilla spring-mvc application. This was required as the SonaType nexus library scan was reporting vulnerabilities in the sub dependencies of Spring boot libraries\r\n","title":"HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap in Spring MVC","body":"<p>I faced the similar error <code>org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.ArrayList</code>, even with all the jackson dependencies properly added in my gradle file. My spring version was <code>Spring 5.2.3.RELEASE</code>. I had all the getters and setters added in the objects that are being added in the collection. I tried with several version of <code>jackson-databind</code> nothing helped. Finally it was one line in my <code>spring-config.xml</code></p>\n<pre><code>&lt;mvc:annotation-driven /&gt;\n</code></pre>\n<p>Origial stackoverflow question that helped me <a href=\"https://stackoverflow.com/questions/32905917\">How to return JSON data from spring Controller using @ResponseBody</a></p>\n<p>All of this started, when I have to change my application from spring-boot to plain vanilla spring-mvc application. This was required as the SonaType nexus library scan was reporting vulnerabilities in the sub dependencies of Spring boot libraries</p>\n"},{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663756193,"creation_date":1663756193,"answer_id":73799225,"question_id":50521874,"body_markdown":"People with similar errors and most things correct, try to add this header in the API request! I faced this too\r\n\r\n`Accept : application/json` (Or whichever media your response is producing) ","title":"HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap in Spring MVC","body":"<p>People with similar errors and most things correct, try to add this header in the API request! I faced this too</p>\n<p><code>Accept : application/json</code> (Or whichever media your response is producing)</p>\n"}],"owner":{"account_id":2693177,"reputation":3388,"user_id":2325929,"accept_rate":39,"display_name":"theanilpaudel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26386,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50522502,"answer_count":6,"score":3,"last_activity_date":1663756193,"creation_date":1527224810,"question_id":50521874,"body_markdown":"I am trying to return a json using HashMap like this in a method in the controller\r\n\r\n    //list all users\r\n    \t@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;Map&lt;String,Object&gt;&gt; handleRequest() throws Exception{\r\n    \t\tList&lt;User&gt; users = userService.list();    \t\t\r\n    \t\tMap&lt;String, Object&gt; message = new HashMap&lt;String, Object&gt;();\r\n    \r\n            message.put(&quot;severity&quot;, &quot;info&quot;);\r\n            message.put(&quot;user&quot;, users);\r\n            message.put(&quot;summary&quot;, &quot;Not successfully.&quot;);\r\n            message.put(&quot;code&quot;, 200);\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; json = new HashMap&lt;String, Object&gt;();\r\n            json.put(&quot;success&quot;, true);\r\n            json.put(&quot;message&quot;, message);\r\n    \t\t\r\n        \treturn new ResponseEntity&lt;Map&lt;String,Object&gt;&gt;(message,HttpStatus.CREATED);\r\n    \t}\r\nWhen I hit this method in PostMan I get this error\r\n\r\n    org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap\r\n\torg.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:226)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:180)\r\n\torg.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\r\n\torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:119)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)\r\n\torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\r\n\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:635)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\nThis is how I have setuped the Application \r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.fyt.fyt&quot;)\r\n    @EnableTransactionManagement\r\n    public class ApplicationContextConfig {\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic InternalResourceViewResolver getViewResolver() {\r\n    \t\tInternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver();\r\n    \t\tinternalResourceViewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tinternalResourceViewResolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\treturn internalResourceViewResolver;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DataSource getDataSource() {\r\n    \t\tBasicDataSource dataSource = new BasicDataSource();\r\n    \t    dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t    dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/fyt&quot;);\r\n    \t    dataSource.setUsername(&quot;root&quot;);\r\n    \t    dataSource.setPassword(&quot;&quot;);\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean getSessionFactory() {\r\n    \r\n    \t\tLocalSessionFactoryBean factoryBean = new LocalSessionFactoryBean();\r\n    \t\tfactoryBean.setDataSource(getDataSource());\r\n    \t\tfactoryBean.setHibernateProperties(getHibernateProperties());\r\n    \t\tfactoryBean.setAnnotatedClasses(User.class);\r\n    \t\treturn factoryBean;\r\n    \r\n    \t}\r\n    \r\n    \tprivate Properties getHibernateProperties() {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n    \t\tproperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n    \t\treturn properties;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic HibernateTransactionManager getTransactionManager() {\r\n    \t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    \t\ttransactionManager.setSessionFactory(getSessionFactory().getObject());\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic UserDao userDao() {\r\n    \t\treturn new UserDaoImpl();\r\n    \t}\r\n    }\r\n\r\nThe error says, it cannot convert the list to httpmessges so do I need to any any converters or something like that? What am I missing something?","title":"HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap in Spring MVC","body":"<p>I am trying to return a json using HashMap like this in a method in the controller</p>\n\n<pre><code>//list all users\n    @RequestMapping(value = \"/user\",method = RequestMethod.GET)\n    public ResponseEntity&lt;Map&lt;String,Object&gt;&gt; handleRequest() throws Exception{\n        List&lt;User&gt; users = userService.list();          \n        Map&lt;String, Object&gt; message = new HashMap&lt;String, Object&gt;();\n\n        message.put(\"severity\", \"info\");\n        message.put(\"user\", users);\n        message.put(\"summary\", \"Not successfully.\");\n        message.put(\"code\", 200);\n\n        Map&lt;String, Object&gt; json = new HashMap&lt;String, Object&gt;();\n        json.put(\"success\", true);\n        json.put(\"message\", message);\n\n        return new ResponseEntity&lt;Map&lt;String,Object&gt;&gt;(message,HttpStatus.CREATED);\n    }\n</code></pre>\n\n<p>When I hit this method in PostMan I get this error</p>\n\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.HashMap\norg.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:226)\norg.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:180)\norg.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\norg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:119)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)\norg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:635)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:742)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n\n<p>This is how I have setuped the Application </p>\n\n<pre><code>@Configuration\n@ComponentScan(\"com.fyt.fyt\")\n@EnableTransactionManagement\npublic class ApplicationContextConfig {\n\n\n    @Bean\n    public InternalResourceViewResolver getViewResolver() {\n        InternalResourceViewResolver internalResourceViewResolver = new InternalResourceViewResolver();\n        internalResourceViewResolver.setPrefix(\"/WEB-INF/views/\");\n        internalResourceViewResolver.setSuffix(\".jsp\");\n        return internalResourceViewResolver;\n    }\n\n    @Bean\n    public DataSource getDataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n        dataSource.setUrl(\"jdbc:mysql://localhost:3306/fyt\");\n        dataSource.setUsername(\"root\");\n        dataSource.setPassword(\"\");\n        return dataSource;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean getSessionFactory() {\n\n        LocalSessionFactoryBean factoryBean = new LocalSessionFactoryBean();\n        factoryBean.setDataSource(getDataSource());\n        factoryBean.setHibernateProperties(getHibernateProperties());\n        factoryBean.setAnnotatedClasses(User.class);\n        return factoryBean;\n\n    }\n\n    private Properties getHibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(\"hibernate.show_sql\", \"true\");\n        properties.put(\"hibernate.dialect\", \"org.hibernate.dialect.MySQLDialect\");\n        return properties;\n    }\n\n    @Bean\n    public HibernateTransactionManager getTransactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(getSessionFactory().getObject());\n        return transactionManager;\n    }\n\n    @Bean\n    public UserDao userDao() {\n        return new UserDaoImpl();\n    }\n}\n</code></pre>\n\n<p>The error says, it cannot convert the list to httpmessges so do I need to any any converters or something like that? What am I missing something?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1638614825,"post_id":70223147,"comment_id":124138629,"body_markdown":"It seems like the distributionUrl is missing in gradle-wrapper.properties of your project.","body":"It seems like the distributionUrl is missing in gradle-wrapper.properties of your project."},{"owner":{"account_id":21657302,"reputation":595,"user_id":15976878,"display_name":"Edwin"},"score":0,"creation_date":1638638363,"post_id":70223147,"comment_id":124143452,"body_markdown":"@EAS I have similar error, please where is the distributionURL suppose to be, and I&#39;d appreciate a screenshot..","body":"@EAS I have similar error, please where is the distributionURL suppose to be, and I&#39;d appreciate a screenshot.."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":1,"creation_date":1638765650,"post_id":70223147,"comment_id":124166837,"body_markdown":"@Edwin distribution URL placed at gradle-wrapper.properties. cross check and update it, if it&#39;s not there, then place it.","body":"@Edwin distribution URL placed at gradle-wrapper.properties. cross check and update it, if it&#39;s not there, then place it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639030336,"post_id":70223147,"comment_id":124245360,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":21657302,"reputation":595,"user_id":15976878,"display_name":"Edwin"},"score":0,"creation_date":1639227388,"post_id":70223147,"comment_id":124297546,"body_markdown":"@EAS Thanks, I&#39;ve checked it, it&#39;s there I tried making a few changes, but it still the same thing..","body":"@EAS Thanks, I&#39;ve checked it, it&#39;s there I tried making a few changes, but it still the same thing.."},{"owner":{"account_id":21657302,"reputation":595,"user_id":15976878,"display_name":"Edwin"},"score":0,"creation_date":1639320910,"post_id":70223147,"comment_id":124313626,"body_markdown":"@Febriyandi Have you been able to fix, if yes, tell me how, please..","body":"@Febriyandi Have you been able to fix, if yes, tell me how, please.."}],"answers":[{"tags":[],"owner":{"account_id":21453101,"reputation":212,"user_id":15805169,"display_name":"Barney Stinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638616905,"creation_date":1638616905,"answer_id":70225136,"question_id":70223147,"body_markdown":"I Searched for your problem and i found this,maybe this solution can help you https://stackoverflow.com/a/64439711/15805169","title":"Could not load wrapper properties in android studio","body":"<p>I Searched for your problem and i found this,maybe this solution can help you <a href=\"https://stackoverflow.com/a/64439711/15805169\">https://stackoverflow.com/a/64439711/15805169</a></p>\n"},{"tags":[],"owner":{"account_id":23829131,"reputation":1,"user_id":17835678,"display_name":"Vitalis Haupindi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641347585,"creation_date":1641336322,"answer_id":70585899,"question_id":70223147,"body_markdown":"Delete the wrapper properties file in your app that is having the problem and copy the wrapper property file from your working apps to the same place where you deleted that file.\r\n\r\nthis is like the basic path to get to that file \r\n\r\n    C:\\Users\\TT Virtual\\AndroidStudioProjects\\KotlinFirebaseAuth\\gradle\\wrapper\r\n\r\nremember this here is my path to that file","title":"Could not load wrapper properties in android studio","body":"<p>Delete the wrapper properties file in your app that is having the problem and copy the wrapper property file from your working apps to the same place where you deleted that file.</p>\n<p>this is like the basic path to get to that file</p>\n<pre><code>C:\\Users\\TT Virtual\\AndroidStudioProjects\\KotlinFirebaseAuth\\gradle\\wrapper\n</code></pre>\n<p>remember this here is my path to that file</p>\n"},{"tags":[],"owner":{"account_id":3569693,"reputation":596,"user_id":2980333,"display_name":"Amit Dave"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1663755454,"creation_date":1663755454,"answer_id":73799073,"question_id":70223147,"body_markdown":"In my case, I have a blank space at the end of &quot;distributionUrl&quot; row\r\n[![distribution url][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HybCV.png","title":"Could not load wrapper properties in android studio","body":"<p>In my case, I have a blank space at the end of &quot;distributionUrl&quot; row\n<a href=\"https://i.stack.imgur.com/HybCV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HybCV.png\" alt=\"distribution url\" /></a></p>\n"}],"owner":{"account_id":23541378,"reputation":23,"user_id":17585525,"display_name":"Febriyandi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70225136,"answer_count":3,"score":2,"last_activity_date":1663755454,"creation_date":1638593979,"question_id":70223147,"body_markdown":"please help me, when i create a new project in android studio there is an error \r\nCould not load wrapper properties from Could not load wrapper properties from &#39;C:\\Users\\baren\\AndroidStudioProjects\\ToyaGarage\\gradle\\wrapper\\gradle-wrapper.properties&#39;.\r\n[1]\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xQeVS.png\r\n  [2]: https://i.stack.imgur.com/4t7pz.png","title":"Could not load wrapper properties in android studio","body":"<p>please help me, when i create a new project in android studio there is an error\nCould not load wrapper properties from Could not load wrapper properties from 'C:\\Users\\baren\\AndroidStudioProjects\\ToyaGarage\\gradle\\wrapper\\gradle-wrapper.properties'.\n<a href=\"https://i.stack.imgur.com/xQeVS.png\" rel=\"nofollow noreferrer\">1</a></p>\n<p><a href=\"https://i.stack.imgur.com/4t7pz.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-cache"],"comments":[{"owner":{"account_id":5639772,"reputation":388,"user_id":4464017,"display_name":"Mr Nobody"},"score":0,"creation_date":1540827616,"post_id":27940704,"comment_id":92997698,"body_markdown":"https://stackoverflow.com/questions/53030289/how-to-add-entire-table-to-cache-in-spring/53048961#53048961","body":"<a href=\"https://stackoverflow.com/questions/53030289/how-to-add-entire-table-to-cache-in-spring/53048961#53048961\" title=\"how to add entire table to cache in spring\">stackoverflow.com/questions/53030289/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5370110,"reputation":554,"user_id":4278899,"display_name":"Olivier Meurice"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1421239282,"creation_date":1421231893,"answer_id":27940939,"question_id":27940704,"body_markdown":"If having all instances of Book in memory at startup is your requirement than you should store them in some buffer yourself.\r\nPutting them in the cache with the findAll() method means that you must annotate findAll() with @Cacheable.  Then you would have to call findAll() at startup.\r\nBut that does not mean that calling getByIsbn(String isbn) will access the cache even if the corresponding instance has been put in the cache when calling findAll().\r\nActually it won&#39;t because ehcache will cache method return value as a key/value pair where key is computed when method is called.  Therefore I don&#39;t see how you could match the return value of findAll() and return value of getByIsbn(String) because returned types are not the same and moreover key won&#39;t never match for all your instances.","title":"How to load @Cache on startup in spring?","body":"<p>If having all instances of Book in memory at startup is your requirement than you should store them in some buffer yourself.\nPutting them in the cache with the findAll() method means that you must annotate findAll() with @Cacheable.  Then you would have to call findAll() at startup.\nBut that does not mean that calling getByIsbn(String isbn) will access the cache even if the corresponding instance has been put in the cache when calling findAll().\nActually it won't because ehcache will cache method return value as a key/value pair where key is computed when method is called.  Therefore I don't see how you could match the return value of findAll() and return value of getByIsbn(String) because returned types are not the same and moreover key won't never match for all your instances.</p>\n"},{"tags":[],"owner":{"account_id":3251392,"reputation":2738,"user_id":2741526,"accept_rate":0,"display_name":"Dheerendra Kulkarni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1600270547,"creation_date":1421232151,"answer_id":27941001,"question_id":27940704,"body_markdown":"Add another bean BookCacheInitialzer\r\n\r\nAutowire the current bean BookService in BookCacheInitialzer\r\n\r\nin PostConstruct method of BookCacheInitialzer\r\npseudo code\r\n    \r\nThen can do something like\r\n\r\n    class BookService {\r\n        @Cacheable(&quot;books&quot;)\r\n        public Book getByIsbn(String isbn) {\r\n            return dao.findByIsbn(isbn);\r\n        }\r\n        \r\n        public List&lt;Book&gt; books;\r\n\r\n        @Cacheable(&quot;books&quot;)\r\n        public Book getByIsbnFromExistngBooks(String isbn) {\r\n            return searchBook(isbn, books);\r\n        }\r\n    }\r\n\r\n    class BookCacheInitialzer {\r\n\r\n    \t@Autowired\r\n\t    BookService  service;\r\n\r\n    \t@PostConstruct\r\n\t    public void initialize() {\r\n    \t\tbooks = dao.findAll();\r\n    \t\tservice.books = books;\r\n\t\t    for(Book book:books) {\r\n\t    \t\tservice.getByIsbnFromExistngBooks(book.getIsbn());\r\n    \t\t}\r\n        }\r\n    }\r\n","title":"How to load @Cache on startup in spring?","body":"<p>Add another bean BookCacheInitialzer</p>\n<p>Autowire the current bean BookService in BookCacheInitialzer</p>\n<p>in PostConstruct method of BookCacheInitialzer\npseudo code</p>\n<p>Then can do something like</p>\n<pre><code>class BookService {\n    @Cacheable(&quot;books&quot;)\n    public Book getByIsbn(String isbn) {\n        return dao.findByIsbn(isbn);\n    }\n    \n    public List&lt;Book&gt; books;\n\n    @Cacheable(&quot;books&quot;)\n    public Book getByIsbnFromExistngBooks(String isbn) {\n        return searchBook(isbn, books);\n    }\n}\n\nclass BookCacheInitialzer {\n\n    @Autowired\n    BookService  service;\n\n    @PostConstruct\n    public void initialize() {\n        books = dao.findAll();\n        service.books = books;\n        for(Book book:books) {\n            service.getByIsbnFromExistngBooks(book.getIsbn());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5073856,"reputation":1083,"user_id":4071862,"display_name":"Sameer Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422212854,"creation_date":1422212854,"answer_id":28140297,"question_id":27940704,"body_markdown":"As Olivier has specified, since spring caches output of function as a single object, using @cacheable notation with findAll will not allow you to load all objects in cache such that they can later be accessed individually.\r\n\r\nOne possible way you can load all objects in cache is if caching solution being used provides you a way to load all objects at startup. E.g solutions like [NCache][1] / [TayzGrid][2] provides Cache startup loader feature, that allows you to load cache at startup with objects using a configurable cache startup loader.\r\n\r\n\r\n  [1]: http://www.alachisoft.com/ncache/\r\n  [2]: http://www.tayzgrid.com/","title":"How to load @Cache on startup in spring?","body":"<p>As Olivier has specified, since spring caches output of function as a single object, using @cacheable notation with findAll will not allow you to load all objects in cache such that they can later be accessed individually.</p>\n\n<p>One possible way you can load all objects in cache is if caching solution being used provides you a way to load all objects at startup. E.g solutions like <a href=\"http://www.alachisoft.com/ncache/\" rel=\"nofollow\">NCache</a> / <a href=\"http://www.tayzgrid.com/\" rel=\"nofollow\">TayzGrid</a> provides Cache startup loader feature, that allows you to load cache at startup with objects using a configurable cache startup loader.</p>\n"},{"tags":[],"owner":{"account_id":1818275,"reputation":931,"user_id":1652918,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1423009540,"creation_date":1423008610,"answer_id":28311225,"question_id":27940704,"body_markdown":"Just use the cache as before, add a scheduler to update cache, code snippet is below.\r\n\r\n    @Service\r\n    public class CacheScheduler {\r\n        @Autowired\r\n        BookDao bookDao;\r\n        @Autowired\r\n        CacheManager cacheManager;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            update();\r\n            scheduleUpdateAsync();\r\n        }\r\n    \r\n        public void update() {\r\n            for (Book book : bookDao.findAll()) {\r\n                cacheManager.getCache(&quot;books&quot;).put(book.getIsbn(), book);\r\n            }\r\n        }\r\n    }\r\n\r\nMake sure your `KeyGenerator` will return the object for one parameter (as default). Or else, expose the `putToCache` method in `BookService` to avoid using cacheManager directly.\r\n\r\n    @CachePut(value = &quot;books&quot;, key = &quot;#book.isbn&quot;)\r\n    public Book putToCache(Book book) {\r\n        return book;\r\n    }\r\n","title":"How to load @Cache on startup in spring?","body":"<p>Just use the cache as before, add a scheduler to update cache, code snippet is below.</p>\n\n<pre><code>@Service\npublic class CacheScheduler {\n    @Autowired\n    BookDao bookDao;\n    @Autowired\n    CacheManager cacheManager;\n\n    @PostConstruct\n    public void init() {\n        update();\n        scheduleUpdateAsync();\n    }\n\n    public void update() {\n        for (Book book : bookDao.findAll()) {\n            cacheManager.getCache(\"books\").put(book.getIsbn(), book);\n        }\n    }\n}\n</code></pre>\n\n<p>Make sure your <code>KeyGenerator</code> will return the object for one parameter (as default). Or else, expose the <code>putToCache</code> method in <code>BookService</code> to avoid using cacheManager directly.</p>\n\n<pre><code>@CachePut(value = \"books\", key = \"#book.isbn\")\npublic Book putToCache(Book book) {\n    return book;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3238625,"reputation":1945,"user_id":2732177,"display_name":"mladzo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512166341,"creation_date":1512085848,"answer_id":47584540,"question_id":27940704,"body_markdown":"An option would be to use the `CommandLineRunner` for populating the cache on startup.\r\n\r\nFrom official CommandLineRunner documentation, it is an:\r\n\r\n&gt;Interface used to indicate that a bean should &lt;em&gt;run&lt;/em&gt; when it is contained within a &lt;em&gt;SpringApplication&lt;/em&gt;.\r\n\r\nHence, we just need to retrieve the list of all available books and then, using `CacheManager`, we populate the book cache.\r\n\r\n    @Component\r\n    public class ApplicationRunner implements CommandLineRunner {\r\n        @Autowired\r\n        private BookDao dao;\r\n\r\n        @Autowired\r\n        private CacheManager cacheManager;\r\n\r\n        @Bean\r\n        public CacheManager cacheManager() {\r\n            return new ConcurrentMapCacheManager(&quot;books&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n\r\n            List&lt;Book&gt; results = dao.findAll();\r\n\r\n            results.forEach(book -&gt; \r\n                cacheManager.getCache(&quot;books&quot;).put(book.getId(), book));\r\n        }\r\n    }","title":"How to load @Cache on startup in spring?","body":"<p>An option would be to use the <code>CommandLineRunner</code> for populating the cache on startup.</p>\n\n<p>From official CommandLineRunner documentation, it is an:</p>\n\n<blockquote>\n  <p>Interface used to indicate that a bean should <em>run</em> when it is contained within a <em>SpringApplication</em>.</p>\n</blockquote>\n\n<p>Hence, we just need to retrieve the list of all available books and then, using <code>CacheManager</code>, we populate the book cache.</p>\n\n<pre><code>@Component\npublic class ApplicationRunner implements CommandLineRunner {\n    @Autowired\n    private BookDao dao;\n\n    @Autowired\n    private CacheManager cacheManager;\n\n    @Bean\n    public CacheManager cacheManager() {\n        return new ConcurrentMapCacheManager(\"books\");\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        List&lt;Book&gt; results = dao.findAll();\n\n        results.forEach(book -&gt; \n            cacheManager.getCache(\"books\").put(book.getId(), book));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14734008,"reputation":318,"user_id":10640547,"display_name":"Andrea Calin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1542026852,"creation_date":1542025025,"answer_id":53262023,"question_id":27940704,"body_markdown":"I have encountered the following problem when using @PostConstruct:\r\n- even though the method I wanted to be cached was called, after calling it from swagger, it still didn&#39;t use the cached value. Only after called it once more.\r\n\r\nThat was because @PostConstruct is too early for caching something. (At least I think that was the issue)\r\n\r\nNow I&#39;m using it more late in the startup process and it works without problems:\r\n\r\n    @Component\r\n    public class CacheInit implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n\r\n        @Override\r\n        public void onApplicationEvent(ApplicationReadyEvent event) {\r\n           //call service method\r\n        }\r\n\r\n    }\r\n\r\n","title":"How to load @Cache on startup in spring?","body":"<p>I have encountered the following problem when using @PostConstruct:\n- even though the method I wanted to be cached was called, after calling it from swagger, it still didn't use the cached value. Only after called it once more.</p>\n\n<p>That was because @PostConstruct is too early for caching something. (At least I think that was the issue)</p>\n\n<p>Now I'm using it more late in the startup process and it works without problems:</p>\n\n<pre><code>@Component\npublic class CacheInit implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n    @Override\n    public void onApplicationEvent(ApplicationReadyEvent event) {\n       //call service method\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34578,"reputation":4133,"user_id":97799,"accept_rate":100,"display_name":"ATorras"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600366280,"creation_date":1593110988,"answer_id":62582346,"question_id":27940704,"body_markdown":"One way to circumvent the `@PostConstruct` lack of parameter binding is the following code, with the advantage that it will be executed once the parameters have been initialized:\r\n\r\n```java\r\n@Bean\r\npublic Void preload(MyDAO dao) {\r\n    dao.findAll();\r\n\r\n    return null;\r\n}\r\n```","title":"How to load @Cache on startup in spring?","body":"<p>One way to circumvent the <code>@PostConstruct</code> lack of parameter binding is the following code, with the advantage that it will be executed once the parameters have been initialized:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Void preload(MyDAO dao) {\n    dao.findAll();\n\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46256,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":28311225,"answer_count":7,"score":17,"last_activity_date":1663755377,"creation_date":1421231120,"question_id":27940704,"body_markdown":"I&#39;m using spring-cache to improve database queries, which works fine as follows:\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        return new ConcurrentMapCacheManager(&quot;books&quot;);\r\n    }\r\n    \r\n    @Cacheable(&quot;books&quot;)\r\n    public Book getByIsbn(String isbn) {\r\n        return dao.findByIsbn(isbn);\r\n    }\r\n\r\nBut now I want to prepopulate the full book-cache on startup. Which means I want to call `dao.findAll()` and put all values into the cache. This routine shall than only be scheduled periodically.\r\n\r\nBut how can I explicit populate a cache when using `@Cacheable`?","title":"How to load @Cache on startup in spring?","body":"<p>I'm using spring-cache to improve database queries, which works fine as follows:</p>\n\n<pre><code>@Bean\npublic CacheManager cacheManager() {\n    return new ConcurrentMapCacheManager(\"books\");\n}\n\n@Cacheable(\"books\")\npublic Book getByIsbn(String isbn) {\n    return dao.findByIsbn(isbn);\n}\n</code></pre>\n\n<p>But now I want to prepopulate the full book-cache on startup. Which means I want to call <code>dao.findAll()</code> and put all values into the cache. This routine shall than only be scheduled periodically.</p>\n\n<p>But how can I explicit populate a cache when using <code>@Cacheable</code>?</p>\n"},{"tags":["java","sql","spring","spring-data-jpa","oracle12c"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1663761369,"post_id":73799042,"comment_id":130314466,"body_markdown":"Sounds like your function returns an empty result.","body":"Sounds like your function returns an empty result."},{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":0,"creation_date":1663761777,"post_id":73799042,"comment_id":130314585,"body_markdown":"Have you tried enabling sql logging? It will show the sql query which spring is sending and help you debug this. https://stackoverflow.com/questions/30118683/how-can-i-log-sql-statements-in-spring-boot","body":"Have you tried enabling sql logging? It will show the sql query which spring is sending and help you debug this. <a href=\"https://stackoverflow.com/questions/30118683/how-can-i-log-sql-statements-in-spring-boot\" title=\"how can i log sql statements in spring boot\">stackoverflow.com/questions/30118683/&hellip;</a>"},{"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"score":2,"creation_date":1663780617,"post_id":73799042,"comment_id":130321959,"body_markdown":"In this line: Ë› `@Query(nativeQuery = true, value = &quot;select * from (PK_DISP.FN_Sk...` you&#39;re missing the `table` keyword (I don&#39;t know whether you really miss it, or just &quot;forgot&quot; to put it here, into the question).","body":"In this line: Ë› <code>@Query(nativeQuery = true, value = &quot;select * from (PK_DISP.FN_Sk...</code> you&#39;re missing the <code>table</code> keyword (I don&#39;t know whether you really miss it, or just &quot;forgot&quot; to put it here, into the question)."}],"owner":{"account_id":23976372,"reputation":29,"user_id":17988386,"display_name":"Max"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1663755335,"creation_date":1663755335,"question_id":73799042,"body_markdown":"I have a DB code:\r\n\r\n    type T_Sk is record\r\n    (\r\n      code Integer,\r\n      dat Date,\r\n      ...\r\n      );\r\n    type TBL_Sk is table of T_Sk;\r\n    function FN_Sk(ADetId in Integer, ATrudoForFac in Integer, ATrudoForCex in Integer) return TBL_Sk pipelined;\r\nWhich is generate table, I think. \r\nAnd select from it looking like \r\n\r\n    select t.* from table(PK_DISP.FN_Sk(ADetId, ATrudoForFac, ATrudoForCex)) t \r\nI tried to use native query with parameters\r\n\r\n    @Query(nativeQuery = true, value = &quot;select * from (PK_DISP.FN_Sk(:detid, :factory, :cexnum))&quot;)\r\n    List&lt;Spares&gt; findAllByRequest(@Param(&quot;detid&quot;) int detid, @Param(&quot;factory&quot;) int factory, @Param(&quot;cexnum&quot;) int cexnum);\r\nBut when I execute with url: http://localhost:8080/api/get?detid=458194&amp;factory=999&amp;cexnum=2\r\n\r\n    @GetMapping(&quot;/get&quot;)\r\n        public List&lt;Spares&gt; getAll2(@RequestParam(value = &quot;detid&quot;) int detid,\r\n                 @RequestParam(value = &quot;factory&quot;) int factory, @RequestParam(value = &quot;cexnum&quot;) int cexnum){\r\n            return sparesRepository.findAllByRequest(detid, factory, cexnum);\r\n        }\r\n\r\nI got empty response. \r\nAnd the DB getting request and exetute function correctly. \r\nSometimes when I try to use another value of :detid, I getting an SQLExeption.\r\nWhat I do wrong? Is the @Param required @ResponseHeader isntead @RequestParam?\r\n\r\n","title":"Query with params","body":"<p>I have a DB code:</p>\n<pre><code>type T_Sk is record\n(\n  code Integer,\n  dat Date,\n  ...\n  );\ntype TBL_Sk is table of T_Sk;\nfunction FN_Sk(ADetId in Integer, ATrudoForFac in Integer, ATrudoForCex in Integer) return TBL_Sk pipelined;\n</code></pre>\n<p>Which is generate table, I think.\nAnd select from it looking like</p>\n<pre><code>select t.* from table(PK_DISP.FN_Sk(ADetId, ATrudoForFac, ATrudoForCex)) t \n</code></pre>\n<p>I tried to use native query with parameters</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select * from (PK_DISP.FN_Sk(:detid, :factory, :cexnum))&quot;)\nList&lt;Spares&gt; findAllByRequest(@Param(&quot;detid&quot;) int detid, @Param(&quot;factory&quot;) int factory, @Param(&quot;cexnum&quot;) int cexnum);\n</code></pre>\n<p>But when I execute with url: http://localhost:8080/api/get?detid=458194&amp;factory=999&amp;cexnum=2</p>\n<pre><code>@GetMapping(&quot;/get&quot;)\n    public List&lt;Spares&gt; getAll2(@RequestParam(value = &quot;detid&quot;) int detid,\n             @RequestParam(value = &quot;factory&quot;) int factory, @RequestParam(value = &quot;cexnum&quot;) int cexnum){\n        return sparesRepository.findAllByRequest(detid, factory, cexnum);\n    }\n</code></pre>\n<p>I got empty response.\nAnd the DB getting request and exetute function correctly.\nSometimes when I try to use another value of :detid, I getting an SQLExeption.\nWhat I do wrong? Is the @Param required @ResponseHeader isntead @RequestParam?</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":2595434,"reputation":797,"user_id":2249249,"accept_rate":38,"display_name":"Pramod"},"score":1,"creation_date":1662430934,"post_id":73616066,"comment_id":129998049,"body_markdown":"how do you know A0,A1,B0,B1 etc should be part of data attribute ?","body":"how do you know A0,A1,B0,B1 etc should be part of data attribute ?"},{"owner":{"account_id":26254614,"reputation":3,"user_id":19926851,"display_name":"RoyB"},"score":0,"creation_date":1662435343,"post_id":73616066,"comment_id":129998560,"body_markdown":"The A0, A1, B0, B1 part are appended with that sequencer to identify as data elements","body":"The A0, A1, B0, B1 part are appended with that sequencer to identify as data elements"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1662435651,"post_id":73616066,"comment_id":129998593,"body_markdown":"Is the data part limited to index of 2? Will there be A3, A4... with unknown number of items?","body":"Is the data part limited to index of 2? Will there be A3, A4... with unknown number of items?"},{"owner":{"account_id":26254614,"reputation":3,"user_id":19926851,"display_name":"RoyB"},"score":0,"creation_date":1662435980,"post_id":73616066,"comment_id":129998631,"body_markdown":"More than 2 and yes an unknown number of items.","body":"More than 2 and yes an unknown number of items."}],"answers":[{"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662435473,"creation_date":1662435473,"answer_id":73616456,"question_id":73616066,"body_markdown":"So return a ResponseEntity&lt;Map&lt;String, Object&gt;&gt; instead of a List to simulate a Json object. \r\n\r\n    List&lt;Data&gt; c = service.getData(id);\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;Key&quot;, &quot;Value&quot;);\r\n    map.put(&quot;Car&quot;, c.get(0).getvalues());\r\n    map.put(&quot;Entire List&quot;, c);\r\n\r\n    return new ResponseEntity&lt;&gt;(c, HttpStatus.OK);\r\n\r\nObviously you&#39;ll have to write your own logic but it should be pretty straight forward. Or, even better, consider making a class for the object returned if you&#39;re going to be using it a lot, and just return ResponseEntity&lt; YourCustomObject &gt;","title":"Spring query convert to a nested JSON structure","body":"<p>So return a ResponseEntity&lt;Map&lt;String, Object&gt;&gt; instead of a List to simulate a Json object.</p>\n<pre><code>List&lt;Data&gt; c = service.getData(id);\n\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;Key&quot;, &quot;Value&quot;);\nmap.put(&quot;Car&quot;, c.get(0).getvalues());\nmap.put(&quot;Entire List&quot;, c);\n\nreturn new ResponseEntity&lt;&gt;(c, HttpStatus.OK);\n</code></pre>\n<p>Obviously you'll have to write your own logic but it should be pretty straight forward. Or, even better, consider making a class for the object returned if you're going to be using it a lot, and just return ResponseEntity&lt; YourCustomObject &gt;</p>\n"},{"tags":[],"owner":{"account_id":26033682,"reputation":1,"user_id":19739451,"display_name":"Black_Dragon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662444879,"creation_date":1662444879,"answer_id":73617460,"question_id":73616066,"body_markdown":"This looks a bit complicated, I think you should set the primary key association for values like A0 B0 \r\n```package com.black_dragon.swing;\r\n\r\nimport com.black_dragon.utils.JacksonUtils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.util.stream.Collectors.groupingBy;\r\n\r\n/**\r\n * @author black_dragon\r\n * @version V1.0\r\n * @Package com.black_dragon.swing\r\n * @date 2022/9/6 10:35\r\n * @Copyright\r\n */\r\npublic class ConvertToMap {\r\n    String names;\r\n    String values;\r\n\r\n    public String getNames() {\r\n        return names;\r\n    }\r\n\r\n    public void setNames(String names) {\r\n        this.names = names;\r\n    }\r\n\r\n\r\n    public String getValues() {\r\n        return values;\r\n    }\r\n\r\n    public void setValues(String values) {\r\n        this.values = values;\r\n    }\r\n\r\n    private static String DIGIT_REGEX = &quot;[^0-9]&quot;;\r\n\r\n    private static String LETTER_DIGIT_REGEX = &quot;[a-zA-Z]+&quot;;\r\n\r\n    public static Integer getDigit(String str){\r\n        Pattern pattern = Pattern.compile(DIGIT_REGEX);\r\n        if(!isLetterDigit(str)){\r\n            String[] keySet = pattern.split(str);\r\n            if(keySet.length &gt; 0){\r\n                return Integer.valueOf(keySet[1]);\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public static boolean isLetterDigit(String str){\r\n        return str.matches(LETTER_DIGIT_REGEX);\r\n    }\r\n\r\n    private static String fetchGroupKey(ConvertToMap convertToMap){\r\n        return String.valueOf(getDigit(convertToMap.names));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String jsonString = &quot;[{\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;Car\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;Toyota\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;Bike\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;Schwinn\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;Scooter\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;Razor\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;A0\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;11\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;A1\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;12\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;A2\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;13\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;B0\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;2000\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;B1\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;4000\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;        \\&quot;names\\&quot;: \\&quot;B2\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;values\\&quot;: \\&quot;22000\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;]&quot;;\r\n\r\n        List&lt;ConvertToMap&gt; convertToMaps = JacksonUtils.toJavaList(jsonString, ConvertToMap.class);\r\n\r\n        // Extract a string that does not contain numbers and convert it to a map\r\n        Map&lt;String, Object&gt; result = convertToMaps.stream()\r\n                .filter(x -&gt; isLetterDigit(x.names))\r\n                .collect(Collectors.toMap(ConvertToMap::getNames, ConvertToMap::getValues));\r\n        List&lt;Map&lt;String, String&gt;&gt; mapList = new ArrayList&lt;&gt;();\r\n        // Group by string numbers containing numbers\r\n        Map&lt;String, List&lt;ConvertToMap&gt;&gt; stringListMap = convertToMaps.stream().collect(groupingBy(convertToMap -&gt; fetchGroupKey(convertToMap)));\r\n        for (String key : stringListMap.keySet()) {\r\n            if(Integer.valueOf(key) &gt;= 0){\r\n                mapList.add(stringListMap.get(key)\r\n                        .stream()\r\n                        .collect(Collectors.toMap(ConvertToMap::getNames, ConvertToMap::getValues)));\r\n            }\r\n        }\r\n        result.put(&quot;Data&quot;, mapList);\r\n        System.out.println(JacksonUtils.toJSONString(result));\r\n    }\r\n}\r\n```","title":"Spring query convert to a nested JSON structure","body":"<p>This looks a bit complicated, I think you should set the primary key association for values like A0 B0</p>\n<pre><code>\nimport com.black_dragon.utils.JacksonUtils;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\nimport static java.util.stream.Collectors.groupingBy;\n\n/**\n * @author black_dragon\n * @version V1.0\n * @Package com.black_dragon.swing\n * @date 2022/9/6 10:35\n * @Copyright\n */\npublic class ConvertToMap {\n    String names;\n    String values;\n\n    public String getNames() {\n        return names;\n    }\n\n    public void setNames(String names) {\n        this.names = names;\n    }\n\n\n    public String getValues() {\n        return values;\n    }\n\n    public void setValues(String values) {\n        this.values = values;\n    }\n\n    private static String DIGIT_REGEX = &quot;[^0-9]&quot;;\n\n    private static String LETTER_DIGIT_REGEX = &quot;[a-zA-Z]+&quot;;\n\n    public static Integer getDigit(String str){\n        Pattern pattern = Pattern.compile(DIGIT_REGEX);\n        if(!isLetterDigit(str)){\n            String[] keySet = pattern.split(str);\n            if(keySet.length &gt; 0){\n                return Integer.valueOf(keySet[1]);\n            }\n        }\n        return -1;\n    }\n\n    public static boolean isLetterDigit(String str){\n        return str.matches(LETTER_DIGIT_REGEX);\n    }\n\n    private static String fetchGroupKey(ConvertToMap convertToMap){\n        return String.valueOf(getDigit(convertToMap.names));\n    }\n\n    public static void main(String[] args) {\n        String jsonString = &quot;[{\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;Car\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;Toyota\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;Bike\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;Schwinn\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;Scooter\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;Razor\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;A0\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;11\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;A1\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;12\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;A2\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;13\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;B0\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;2000\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;B1\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;4000\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    {\\n&quot; +\n                &quot;        \\&quot;names\\&quot;: \\&quot;B2\\&quot;,\\n&quot; +\n                &quot;        \\&quot;values\\&quot;: \\&quot;22000\\&quot;\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;]&quot;;\n\n        List&lt;ConvertToMap&gt; convertToMaps = JacksonUtils.toJavaList(jsonString, ConvertToMap.class);\n\n        // Extract a string that does not contain numbers and convert it to a map\n        Map&lt;String, Object&gt; result = convertToMaps.stream()\n                .filter(x -&gt; isLetterDigit(x.names))\n                .collect(Collectors.toMap(ConvertToMap::getNames, ConvertToMap::getValues));\n        List&lt;Map&lt;String, String&gt;&gt; mapList = new ArrayList&lt;&gt;();\n        // Group by string numbers containing numbers\n        Map&lt;String, List&lt;ConvertToMap&gt;&gt; stringListMap = convertToMaps.stream().collect(groupingBy(convertToMap -&gt; fetchGroupKey(convertToMap)));\n        for (String key : stringListMap.keySet()) {\n            if(Integer.valueOf(key) &gt;= 0){\n                mapList.add(stringListMap.get(key)\n                        .stream()\n                        .collect(Collectors.toMap(ConvertToMap::getNames, ConvertToMap::getValues)));\n            }\n        }\n        result.put(&quot;Data&quot;, mapList);\n        System.out.println(JacksonUtils.toJSONString(result));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663754806,"creation_date":1662611786,"answer_id":73643790,"question_id":73616066,"body_markdown":"Assume that your data key name pattern is one non-digit followed by digits.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;Car\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;Toyota\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;Bike\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;Schwinn\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;Scooter\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;Razor\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;A0\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;11\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;A1\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;12\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;A2\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;13\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;B0\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;2000\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;B1\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;4000\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;names\\&quot;: \\&quot;B2\\&quot;,&quot; +\r\n        &quot;        \\&quot;values\\&quot;: \\&quot;22000\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;]&quot;);\r\n        \r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;@collect([names !=~ &#39;\\\\D\\\\d+&#39;]*&quot; +\r\n        &quot;         .map(names::values)&quot; +\r\n        &quot;        ,[names =~ &#39;\\\\D\\\\d+&#39;]*&quot; +\r\n        &quot;         .group(names.substr(1), map(names::values))@&quot; +\r\n        &quot;         .elements&quot; +\r\n        &quot;         .mergeObjects()&quot; +\r\n        &quot;         .@toObject(&#39;Data&#39;)&quot; +\r\n        &quot;)&quot; +\r\n        &quot;.flatten(1)&quot; +\r\n        &quot;.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;Car&quot; : &quot;Toyota&quot;,\r\n      &quot;Bike&quot; : &quot;Schwinn&quot;,\r\n      &quot;Scooter&quot; : &quot;Razor&quot;,\r\n      &quot;Data&quot; : [ {\r\n        &quot;A0&quot; : &quot;11&quot;,\r\n        &quot;B0&quot; : &quot;2000&quot;\r\n      }, {\r\n        &quot;A1&quot; : &quot;12&quot;,\r\n        &quot;B1&quot; : &quot;4000&quot;\r\n      }, {\r\n        &quot;A2&quot; : &quot;13&quot;,\r\n        &quot;B2&quot; : &quot;22000&quot;\r\n      } ]\r\n    }","title":"Spring query convert to a nested JSON structure","body":"<p>Assume that your data key name pattern is one non-digit followed by digits.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;Car\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;Toyota\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;Bike\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;Schwinn\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;Scooter\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;Razor\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;A0\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;11\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;A1\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;12\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;A2\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;13\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;B0\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;2000\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;B1\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;4000\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;names\\&quot;: \\&quot;B2\\&quot;,&quot; +\n    &quot;        \\&quot;values\\&quot;: \\&quot;22000\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;]&quot;);\n    \n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;@collect([names !=~ '\\\\D\\\\d+']*&quot; +\n    &quot;         .map(names::values)&quot; +\n    &quot;        ,[names =~ '\\\\D\\\\d+']*&quot; +\n    &quot;         .group(names.substr(1), map(names::values))@&quot; +\n    &quot;         .elements&quot; +\n    &quot;         .mergeObjects()&quot; +\n    &quot;         .@toObject('Data')&quot; +\n    &quot;)&quot; +\n    &quot;.flatten(1)&quot; +\n    &quot;.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;Car&quot; : &quot;Toyota&quot;,\n  &quot;Bike&quot; : &quot;Schwinn&quot;,\n  &quot;Scooter&quot; : &quot;Razor&quot;,\n  &quot;Data&quot; : [ {\n    &quot;A0&quot; : &quot;11&quot;,\n    &quot;B0&quot; : &quot;2000&quot;\n  }, {\n    &quot;A1&quot; : &quot;12&quot;,\n    &quot;B1&quot; : &quot;4000&quot;\n  }, {\n    &quot;A2&quot; : &quot;13&quot;,\n    &quot;B2&quot; : &quot;22000&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":26254614,"reputation":3,"user_id":19926851,"display_name":"RoyB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73616456,"answer_count":3,"score":0,"last_activity_date":1663754806,"creation_date":1662430461,"question_id":73616066,"body_markdown":"I&#39;m new to spring and Java and trying to figure out how to go about formatting the json response into the desired structure. \r\n\r\nI have a spring query that&#39;s returning 2 columns from a table like below which are really the key and values I need for the json structure:\r\n\r\n| Names    | Values         |\r\n| -------- | -------------- |\r\n| Car      | Toyota         |\r\n| Bike     | Schwinn        |\r\n| Scooter  | Razor          |\r\n| A0       | 11            |\r\n| A1       | 12            |\r\n| A2       | 13            |\r\n| B0       | 2000            |\r\n| B1       | 4000            |\r\n| B2       | 22000            |\r\n\r\nThe current json output from the controller is this:\r\n```\r\n[{\r\n\t\t&quot;names&quot;: &quot;Car&quot;,\r\n\t\t&quot;values&quot;: &quot;Toyota&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;Bike&quot;,\r\n\t\t&quot;values&quot;: &quot;Schwinn&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;Scooter&quot;,\r\n\t\t&quot;values&quot;: &quot;Razor&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;A0&quot;,\r\n\t\t&quot;values&quot;: &quot;11&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;A1&quot;,\r\n\t\t&quot;values&quot;: &quot;12&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;A2&quot;,\r\n\t\t&quot;values&quot;: &quot;13&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;B0&quot;,\r\n\t\t&quot;values&quot;: &quot;2000&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;B1&quot;,\r\n\t\t&quot;values&quot;: &quot;4000&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;names&quot;: &quot;B2&quot;,\r\n\t\t&quot;values&quot;: &quot;22000&quot;\r\n\t}\r\n]\r\n```\r\nAnd the desired json format is this where the table column names are removed and instead json structure is created using the names column for the keys: \r\n```\r\n{\r\n\t&quot;Car&quot;: &quot;Toyota&quot;,\r\n\t&quot;Bike&quot;: &quot;Schwinn&quot;,\r\n\t&quot;Scooter&quot;: &quot;Razor&quot;,\r\n\t&quot;Data&quot;: [{\r\n\t\t&quot;A0&quot;: &quot;11&quot;,\r\n\t\t&quot;B0&quot;: &quot;2000&quot;\r\n\t}, {\r\n\t\t&quot;A1&quot;: &quot;12&quot;,\r\n\t\t&quot;B1&quot;: &quot;4000&quot;\r\n\t}, {\r\n\t\t&quot;A2&quot;: &quot;13&quot;,\r\n\t\t&quot;B2&quot;: &quot;22000&quot;\r\n\t}]\r\n}\r\n```\r\n**Repository**\r\n```\r\n   @Query (value = &quot;Select names, values ... :id&quot;)\r\n    List&lt;Data&gt; findData(@Param(&quot;id&quot;) Long id) ;\r\n\r\n      interface Data {\r\n        String getnames();\r\n        String getvalues();\r\n    }\r\n```\r\n**Service**\r\n```\r\n    public List&lt;Data&gt; getData(Long id) {return repo.findData(id);}\r\n```\r\n**Controller**\r\n```\r\n    @GetMapping(&quot;/getdata/{id}&quot;)\r\n    public ResponseEntity&lt;List&lt;Data&gt;&gt; getData(@PathVariable Long id) {\r\n            List&lt;Data&gt; c = service.getData(id);\r\n            return new ResponseEntity&lt;&gt;(c, HttpStatus.OK);\r\n\r\n    }\r\n```\r\nIt seems that I need to process the result set and need to loop through them to create the desired structure but not sure how to proceed with that, or perhaps there is an easier way to get to the desired structure.  Any guidance would be appreciated.  ","title":"Spring query convert to a nested JSON structure","body":"<p>I'm new to spring and Java and trying to figure out how to go about formatting the json response into the desired structure.</p>\n<p>I have a spring query that's returning 2 columns from a table like below which are really the key and values I need for the json structure:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Names</th>\n<th>Values</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Car</td>\n<td>Toyota</td>\n</tr>\n<tr>\n<td>Bike</td>\n<td>Schwinn</td>\n</tr>\n<tr>\n<td>Scooter</td>\n<td>Razor</td>\n</tr>\n<tr>\n<td>A0</td>\n<td>11</td>\n</tr>\n<tr>\n<td>A1</td>\n<td>12</td>\n</tr>\n<tr>\n<td>A2</td>\n<td>13</td>\n</tr>\n<tr>\n<td>B0</td>\n<td>2000</td>\n</tr>\n<tr>\n<td>B1</td>\n<td>4000</td>\n</tr>\n<tr>\n<td>B2</td>\n<td>22000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The current json output from the controller is this:</p>\n<pre><code>[{\n        &quot;names&quot;: &quot;Car&quot;,\n        &quot;values&quot;: &quot;Toyota&quot;\n    },\n    {\n        &quot;names&quot;: &quot;Bike&quot;,\n        &quot;values&quot;: &quot;Schwinn&quot;\n    },\n    {\n        &quot;names&quot;: &quot;Scooter&quot;,\n        &quot;values&quot;: &quot;Razor&quot;\n    },\n    {\n        &quot;names&quot;: &quot;A0&quot;,\n        &quot;values&quot;: &quot;11&quot;\n    },\n    {\n        &quot;names&quot;: &quot;A1&quot;,\n        &quot;values&quot;: &quot;12&quot;\n    },\n    {\n        &quot;names&quot;: &quot;A2&quot;,\n        &quot;values&quot;: &quot;13&quot;\n    },\n    {\n        &quot;names&quot;: &quot;B0&quot;,\n        &quot;values&quot;: &quot;2000&quot;\n    },\n    {\n        &quot;names&quot;: &quot;B1&quot;,\n        &quot;values&quot;: &quot;4000&quot;\n    },\n    {\n        &quot;names&quot;: &quot;B2&quot;,\n        &quot;values&quot;: &quot;22000&quot;\n    }\n]\n</code></pre>\n<p>And the desired json format is this where the table column names are removed and instead json structure is created using the names column for the keys:</p>\n<pre><code>{\n    &quot;Car&quot;: &quot;Toyota&quot;,\n    &quot;Bike&quot;: &quot;Schwinn&quot;,\n    &quot;Scooter&quot;: &quot;Razor&quot;,\n    &quot;Data&quot;: [{\n        &quot;A0&quot;: &quot;11&quot;,\n        &quot;B0&quot;: &quot;2000&quot;\n    }, {\n        &quot;A1&quot;: &quot;12&quot;,\n        &quot;B1&quot;: &quot;4000&quot;\n    }, {\n        &quot;A2&quot;: &quot;13&quot;,\n        &quot;B2&quot;: &quot;22000&quot;\n    }]\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>   @Query (value = &quot;Select names, values ... :id&quot;)\n    List&lt;Data&gt; findData(@Param(&quot;id&quot;) Long id) ;\n\n      interface Data {\n        String getnames();\n        String getvalues();\n    }\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>    public List&lt;Data&gt; getData(Long id) {return repo.findData(id);}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>    @GetMapping(&quot;/getdata/{id}&quot;)\n    public ResponseEntity&lt;List&lt;Data&gt;&gt; getData(@PathVariable Long id) {\n            List&lt;Data&gt; c = service.getData(id);\n            return new ResponseEntity&lt;&gt;(c, HttpStatus.OK);\n\n    }\n</code></pre>\n<p>It seems that I need to process the result set and need to loop through them to create the desired structure but not sure how to proceed with that, or perhaps there is an easier way to get to the desired structure.  Any guidance would be appreciated.</p>\n"},{"tags":["java","javac","ambiguity"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1663754493,"post_id":73798811,"comment_id":130312097,"body_markdown":"What do you mean by &quot;how&quot;? Do you want to know how the compiler is implemented? You can view the source code of OpenJDK&#39;s compiler on their GitHub repo, but I&#39;m not sure if that&#39;s what you want.","body":"What do you mean by &quot;how&quot;? Do you want to know how the compiler is implemented? You can view the source code of OpenJDK&#39;s compiler on their GitHub repo, but I&#39;m not sure if that&#39;s what you want."}],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663754699,"creation_date":1663754699,"answer_id":73798906,"question_id":73798811,"body_markdown":"The point isn&#39;t that the compiler knows you&#39;re passing `null`; the point is that when you write a literal `null` in your code, the compiler doesn&#39;t know what the type of that `null` is, so it doesn&#39;t know which overload to call.\r\n\r\nThis, for example, would compile just fine:\r\n\r\n```\r\n    FileNotFoundException e = null;\r\n    test.overloadedMethod(e);\r\n```\r\n\r\nYou can also use an explicit cast to indicate which type you intended:\r\n\r\n```\r\n    test.overloadedMethod((FileNotFoundException) null);\r\n```\r\n\r\nKeep in mind that overloading is resolved at _compile time_. So if you&#39;re calling `test.overloadedMethod(e)` where `e` is _statically_ of type `Exception`, it will always call `overloadedMethod(Exception)` even if `e` is a `FileNotFoundException` at _runtime_.","title":"How javac detect ambiguity?","body":"<p>The point isn't that the compiler knows you're passing <code>null</code>; the point is that when you write a literal <code>null</code> in your code, the compiler doesn't know what the type of that <code>null</code> is, so it doesn't know which overload to call.</p>\n<p>This, for example, would compile just fine:</p>\n<pre><code>    FileNotFoundException e = null;\n    test.overloadedMethod(e);\n</code></pre>\n<p>You can also use an explicit cast to indicate which type you intended:</p>\n<pre><code>    test.overloadedMethod((FileNotFoundException) null);\n</code></pre>\n<p>Keep in mind that overloading is resolved at <em>compile time</em>. So if you're calling <code>test.overloadedMethod(e)</code> where <code>e</code> is <em>statically</em> of type <code>Exception</code>, it will always call <code>overloadedMethod(Exception)</code> even if <code>e</code> is a <code>FileNotFoundException</code> at <em>runtime</em>.</p>\n"}],"owner":{"account_id":26400546,"reputation":59,"user_id":20051077,"display_name":"Sethu MJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1663754699,"creation_date":1663754268,"question_id":73798811,"body_markdown":"How javac (java compiler) finds the errors in respect to ambiguity and generates errors in compile time itself ?\r\n\r\nhow the compiler finds that we are passing a null value before execution\r\n\r\n    public class Ambiguity {\r\n\r\n     public static void main(String[] args) {\r\n        Ambiguity test = new Ambiguity();\r\n        test.overloadedMethod(null);               \r\n\r\n    }\r\n\r\n    void overloadedMethod(IOException e) {\r\n        System.out.println(&quot;1&quot;);\r\n    }\r\n\r\n    void overloadedMethod(FileNotFoundException e) {\r\n        System.out.println(&quot;2&quot;);\r\n    }\r\n\r\n    void overloadedMethod(Exception e) {\r\n        System.out.println(&quot;3&quot;);\r\n    }\r\n\r\n    void overloadedMethod(ArithmeticException e) {\r\n        System.out.println(&quot;4&quot;);\r\n    }\r\n\r\n    }","title":"How javac detect ambiguity?","body":"<p>How javac (java compiler) finds the errors in respect to ambiguity and generates errors in compile time itself ?</p>\n<p>how the compiler finds that we are passing a null value before execution</p>\n<pre><code>public class Ambiguity {\n\n public static void main(String[] args) {\n    Ambiguity test = new Ambiguity();\n    test.overloadedMethod(null);               \n\n}\n\nvoid overloadedMethod(IOException e) {\n    System.out.println(&quot;1&quot;);\n}\n\nvoid overloadedMethod(FileNotFoundException e) {\n    System.out.println(&quot;2&quot;);\n}\n\nvoid overloadedMethod(Exception e) {\n    System.out.println(&quot;3&quot;);\n}\n\nvoid overloadedMethod(ArithmeticException e) {\n    System.out.println(&quot;4&quot;);\n}\n\n}\n</code></pre>\n"},{"tags":["java","cdi","weld"],"comments":[{"owner":{"account_id":70201,"reputation":13278,"user_id":203801,"accept_rate":69,"display_name":"Julio Faerman"},"score":0,"creation_date":1663754774,"post_id":73798851,"comment_id":130312201,"body_markdown":"related question: https://stackoverflow.com/questions/37691838/cdi-injection-with-parameters-wheres-the-instance","body":"related question: <a href=\"https://stackoverflow.com/questions/37691838/cdi-injection-with-parameters-wheres-the-instance\" title=\"cdi injection with parameters wheres the instance\">stackoverflow.com/questions/37691838/&hellip;</a>"},{"owner":{"account_id":70201,"reputation":13278,"user_id":203801,"accept_rate":69,"display_name":"Julio Faerman"},"score":0,"creation_date":1663759393,"post_id":73798851,"comment_id":130313778,"body_markdown":"another related question: https://stackoverflow.com/questions/22994716/pass-parameter-to-instance-of-inject-bean/23012543#23012543","body":"another related question: <a href=\"https://stackoverflow.com/questions/22994716/pass-parameter-to-instance-of-inject-bean/23012543#23012543\" title=\"pass parameter to instance of inject bean\">stackoverflow.com/questions/22994716/&hellip;</a>"}],"owner":{"account_id":70201,"reputation":13278,"user_id":203801,"accept_rate":69,"display_name":"Julio Faerman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663754433,"creation_date":1663754433,"question_id":73798851,"body_markdown":"How to pass runtime parameters to the instantiation of a `@Dependent` bean, obtained by `Instance&lt;T&gt;.get()` or equivalent in CDI?\r\n\r\nFor instance, consider the code:\r\n\r\n    @Inject\r\n    Instance&lt;Person&gt; instance;\r\n    ...\r\n    var name = &quot;Some One&quot;;\r\n    var bean = instance.get();\r\n    bean.setName(bean);\r\n\r\nIt may be desirable to pass the parameter in instantiation, to make the object immutable for example. Something like\r\n\r\n    @Inject\r\n    Instance&lt;Person&gt; instance;\r\n    ...\r\n    var name = &quot;Some One&quot;;\r\n    var bean = instance.get(name); // ?\r\n\r\nIs there a syntax for that in current CDI?","title":"How to pass parameters to instantiation of a CDI @Dependent bean?","body":"<p>How to pass runtime parameters to the instantiation of a <code>@Dependent</code> bean, obtained by <code>Instance&lt;T&gt;.get()</code> or equivalent in CDI?</p>\n<p>For instance, consider the code:</p>\n<pre><code>@Inject\nInstance&lt;Person&gt; instance;\n...\nvar name = &quot;Some One&quot;;\nvar bean = instance.get();\nbean.setName(bean);\n</code></pre>\n<p>It may be desirable to pass the parameter in instantiation, to make the object immutable for example. Something like</p>\n<pre><code>@Inject\nInstance&lt;Person&gt; instance;\n...\nvar name = &quot;Some One&quot;;\nvar bean = instance.get(name); // ?\n</code></pre>\n<p>Is there a syntax for that in current CDI?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663739668,"post_id":73789748,"comment_id":130307396,"body_markdown":"Just distribute a JAR with the `messages.properties` and let the regular Spring Boot MessageSource handle things. Your additional will actually disable autoconfiguration for the `MessageSource` which probably will surprise consumers of your library.","body":"Just distribute a JAR with the <code>messages.properties</code> and let the regular Spring Boot MessageSource handle things. Your additional will actually disable autoconfiguration for the <code>MessageSource</code> which probably will surprise consumers of your library."},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":0,"creation_date":1663740805,"post_id":73789748,"comment_id":130307633,"body_markdown":"@M.Deinum 1) what path does the properties file need to be placed, 2) I did not configure this local message source as a bean so the autoconfiguration was not disabled","body":"@M.Deinum 1) what path does the properties file need to be placed, 2) I did not configure this local message source as a bean so the autoconfiguration was not disabled"}],"answers":[{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663754012,"creation_date":1663754012,"answer_id":73798751,"question_id":73789748,"body_markdown":"I was able to solve this using the following method:\r\n\r\n* The service that uses the library has its own `MessageSource` bean which is a `ResourceBundleMessageSource`\r\n* The library code has a resource bundle e.g. `mymessages` in `/src/main/resources`\r\n* At an appropriate place in a bean that is configured in the library code, add the basename for this resource bundle to the injected `MessageSource` like this: \r\n```\r\n((ResourceBundleMessageSource)messageSource).addBasenames(&quot;mymessages&quot;);\r\n```\r\n\r\nIn my case, in the library I have a singleton bean which implements `com.vaadin.flow.i18n.I18NProvider` and delegates the `getTranslation()` method to the `messageSource.getMessage()` method, so the constructor of this bean is an appropriate place to add the base name for the additional resource bundle to the already configured `MessageSource`.","title":"Java library containing Spring MessageSource and message properties files","body":"<p>I was able to solve this using the following method:</p>\n<ul>\n<li>The service that uses the library has its own <code>MessageSource</code> bean which is a <code>ResourceBundleMessageSource</code></li>\n<li>The library code has a resource bundle e.g. <code>mymessages</code> in <code>/src/main/resources</code></li>\n<li>At an appropriate place in a bean that is configured in the library code, add the basename for this resource bundle to the injected <code>MessageSource</code> like this:</li>\n</ul>\n<pre><code>((ResourceBundleMessageSource)messageSource).addBasenames(&quot;mymessages&quot;);\n</code></pre>\n<p>In my case, in the library I have a singleton bean which implements <code>com.vaadin.flow.i18n.I18NProvider</code> and delegates the <code>getTranslation()</code> method to the <code>messageSource.getMessage()</code> method, so the constructor of this bean is an appropriate place to add the base name for the additional resource bundle to the already configured <code>MessageSource</code>.</p>\n"}],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663754012,"creation_date":1663690642,"question_id":73789748,"body_markdown":"I&#39;m developing a shared library containing some UI components for Spring (Boot) applications.\r\n\r\nI want the library to contains the translations for the text of its own components.\r\nMy idea was to create a `ResourceBundleMessageSource` in the library, along with the message properties files containing the translations.\r\n\r\nI create the message source like this:\r\n\r\n        this.localMessageSource = new ResourceBundleMessageSource();\r\n        localMessageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        localMessageSource.setBasename(&quot;mymessages&quot;); // I have also tried &quot;classpath:mymessages&quot;\r\n\r\nAnd I have tried putting the `mymessages.properties`, `mymessages_nl.properties` etc. files in `/src/main/resources` and in `/src/main/resources/META-INF`, but when calling the code that accesses this `MessageSource` to get the messages, they are not found.  In the debugger, I can see that the resource bundle is not found at all.\r\n\r\nWhat do I need to change to make this work?","title":"Java library containing Spring MessageSource and message properties files","body":"<p>I'm developing a shared library containing some UI components for Spring (Boot) applications.</p>\n<p>I want the library to contains the translations for the text of its own components.\nMy idea was to create a <code>ResourceBundleMessageSource</code> in the library, along with the message properties files containing the translations.</p>\n<p>I create the message source like this:</p>\n<pre><code>    this.localMessageSource = new ResourceBundleMessageSource();\n    localMessageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n    localMessageSource.setBasename(&quot;mymessages&quot;); // I have also tried &quot;classpath:mymessages&quot;\n</code></pre>\n<p>And I have tried putting the <code>mymessages.properties</code>, <code>mymessages_nl.properties</code> etc. files in <code>/src/main/resources</code> and in <code>/src/main/resources/META-INF</code>, but when calling the code that accesses this <code>MessageSource</code> to get the messages, they are not found.  In the debugger, I can see that the resource bundle is not found at all.</p>\n<p>What do I need to change to make this work?</p>\n"},{"tags":["java","spring","multithreading","interface"],"answers":[{"tags":[],"owner":{"account_id":21412375,"reputation":61,"user_id":15772257,"display_name":"will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663753948,"creation_date":1663753948,"answer_id":73798742,"question_id":73798590,"body_markdown":"Maybe the `ShapeServiceFacade` can be omitted, if you are using `spring boot`, like that\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class TestService {\r\n        @Autowired\r\n        private final List&lt;ShapeServicesInterface&gt; serviceList;\r\n        private final ExecutorService executorService;\r\n    \r\n        public List&lt;ShapeEntity&gt; getAll() throws ExecutionException, InterruptedException {\r\n            List&lt;ShapeEntity&gt; allShapes = new ArrayList&lt;&gt;();\r\n            List&lt;Future&lt;List&lt;ShapeEntity&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n            for (ShapeServicesInterface shapeDownloader : serviceList) {\r\n                futures.add(executorService.submit(new ShapeTask(shapeDownloader)));\r\n            }\r\n    \r\n            for (Future&lt;List&lt;ShapeEntity&gt;&gt; future : futures) {\r\n                allShapes.addAll(future.get());\r\n            }\r\n            return allShapes;\r\n        }","title":"Better solution to call method from interface in every service","body":"<p>Maybe the <code>ShapeServiceFacade</code> can be omitted, if you are using <code>spring boot</code>, like that</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class TestService {\n    @Autowired\n    private final List&lt;ShapeServicesInterface&gt; serviceList;\n    private final ExecutorService executorService;\n\n    public List&lt;ShapeEntity&gt; getAll() throws ExecutionException, InterruptedException {\n        List&lt;ShapeEntity&gt; allShapes = new ArrayList&lt;&gt;();\n        List&lt;Future&lt;List&lt;ShapeEntity&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        for (ShapeServicesInterface shapeDownloader : serviceList) {\n            futures.add(executorService.submit(new ShapeTask(shapeDownloader)));\n        }\n\n        for (Future&lt;List&lt;ShapeEntity&gt;&gt; future : futures) {\n            allShapes.addAll(future.get());\n        }\n        return allShapes;\n    }\n</code></pre>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663753948,"creation_date":1663753093,"question_id":73798590,"body_markdown":"I would like to create service which searching and returns objects from repositories, so:\r\nI created interface which has method:\r\n\r\n    public interface ShapeServicesInterface {\r\n        List&lt;ShapeEntity&gt; getAll();\r\n        String getName();\r\n    }\r\n\r\nand few services which implements that interface:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CircleEntityService implements ShapeServicesInterface {\r\n        private final CircleEntityRepository circleEntityRepository;\r\n\r\n        @Override\r\n        public List&lt;ShapeEntity&gt; getAll() {\r\n            return new ArrayList&lt;&gt;(circleEntityRepository.findAll());\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return &quot;circle&quot;;\r\n        }\r\n    }\r\n\r\nand second one:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SquareEntityService implements ShapeServicesInterface {\r\n        private final SquareEntityRepository squareEntityRepository;\r\n\r\n        @Override\r\n        public List&lt;ShapeEntity&gt; getAll() {\r\n            return new ArrayList&lt;&gt;(squareEntityRepository.findAll());\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return &quot;square&quot;;\r\n        }\r\n    }\r\n\r\nand next in other service I would like to call that method for getting all entites from that repositories (entites extend abstract class ShapeEntity) - found solution like that:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class TestService {\r\n        private final ShapeServiceFacade facade;\r\n        private final ExecutorService executorService;\r\n    \r\n        public List&lt;ShapeEntity&gt; getAll() throws ExecutionException, InterruptedException {\r\n            List&lt;ShapeEntity&gt; allShapes = new ArrayList&lt;&gt;();\r\n            List&lt;Future&lt;List&lt;ShapeEntity&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n            for (ShapeServicesInterface shapeDownloader : facade.getServices()) {\r\n                futures.add(executorService.submit(new ShapeTask(shapeDownloader)));\r\n            }\r\n\r\n            for (Future&lt;List&lt;ShapeEntity&gt;&gt; future : futures) {\r\n                allShapes.addAll(future.get());\r\n            }\r\n            return allShapes;\r\n        }\r\n\r\nShapeTask is:\r\n\r\n    @RequiredArgsConstructor\r\n    private static class ShapeTask implements Callable&lt;List&lt;ShapeEntity&gt;&gt; {\r\n        private final ShapeServicesInterface servicesInterface;\r\n\r\n        @Override\r\n        public List&lt;ShapeEntity&gt; call() {\r\n            return servicesInterface.getAll();\r\n        }\r\n    }\r\n\r\nFacade is:\r\n\r\n    @Service\r\n    public class ShapeServiceFacade {\r\n        private final Map&lt;String, ShapeServicesInterface&gt; shapeServices;\r\n\r\n        public ShapeServiceFacade(Set&lt;ShapeServicesInterface&gt; allServices) {\r\n            this.shapeServices = allServices.stream()\r\n                .collect(Collectors.toMap(ShapeServicesInterface::getName,Function.identity()));\r\n        }\r\n    \r\n        public List&lt;ShapeServicesInterface&gt; getServices() {\r\n            return new ArrayList&lt;&gt;(shapeServices.values());\r\n        }\r\n    }\r\n\r\nbut it is a little complicated. Is there a easier way to call that methods? I would like to add more methods so I will have to implement another task and another method in service, and in interface. I care about searching in every repostiory.","title":"Better solution to call method from interface in every service","body":"<p>I would like to create service which searching and returns objects from repositories, so:\nI created interface which has method:</p>\n<pre><code>public interface ShapeServicesInterface {\n    List&lt;ShapeEntity&gt; getAll();\n    String getName();\n}\n</code></pre>\n<p>and few services which implements that interface:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CircleEntityService implements ShapeServicesInterface {\n    private final CircleEntityRepository circleEntityRepository;\n\n    @Override\n    public List&lt;ShapeEntity&gt; getAll() {\n        return new ArrayList&lt;&gt;(circleEntityRepository.findAll());\n    }\n\n    @Override\n    public String getName() {\n        return &quot;circle&quot;;\n    }\n}\n</code></pre>\n<p>and second one:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SquareEntityService implements ShapeServicesInterface {\n    private final SquareEntityRepository squareEntityRepository;\n\n    @Override\n    public List&lt;ShapeEntity&gt; getAll() {\n        return new ArrayList&lt;&gt;(squareEntityRepository.findAll());\n    }\n\n    @Override\n    public String getName() {\n        return &quot;square&quot;;\n    }\n}\n</code></pre>\n<p>and next in other service I would like to call that method for getting all entites from that repositories (entites extend abstract class ShapeEntity) - found solution like that:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class TestService {\n    private final ShapeServiceFacade facade;\n    private final ExecutorService executorService;\n\n    public List&lt;ShapeEntity&gt; getAll() throws ExecutionException, InterruptedException {\n        List&lt;ShapeEntity&gt; allShapes = new ArrayList&lt;&gt;();\n        List&lt;Future&lt;List&lt;ShapeEntity&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        for (ShapeServicesInterface shapeDownloader : facade.getServices()) {\n            futures.add(executorService.submit(new ShapeTask(shapeDownloader)));\n        }\n\n        for (Future&lt;List&lt;ShapeEntity&gt;&gt; future : futures) {\n            allShapes.addAll(future.get());\n        }\n        return allShapes;\n    }\n</code></pre>\n<p>ShapeTask is:</p>\n<pre><code>@RequiredArgsConstructor\nprivate static class ShapeTask implements Callable&lt;List&lt;ShapeEntity&gt;&gt; {\n    private final ShapeServicesInterface servicesInterface;\n\n    @Override\n    public List&lt;ShapeEntity&gt; call() {\n        return servicesInterface.getAll();\n    }\n}\n</code></pre>\n<p>Facade is:</p>\n<pre><code>@Service\npublic class ShapeServiceFacade {\n    private final Map&lt;String, ShapeServicesInterface&gt; shapeServices;\n\n    public ShapeServiceFacade(Set&lt;ShapeServicesInterface&gt; allServices) {\n        this.shapeServices = allServices.stream()\n            .collect(Collectors.toMap(ShapeServicesInterface::getName,Function.identity()));\n    }\n\n    public List&lt;ShapeServicesInterface&gt; getServices() {\n        return new ArrayList&lt;&gt;(shapeServices.values());\n    }\n}\n</code></pre>\n<p>but it is a little complicated. Is there a easier way to call that methods? I would like to add more methods so I will have to implement another task and another method in service, and in interface. I care about searching in every repostiory.</p>\n"},{"tags":["java","spring","classpath","cloud-foundry"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1663789433,"post_id":73793631,"comment_id":130324771,"body_markdown":"Have a look at https://stackoverflow.com/help/minimal-reproducible-example right now your problem is too big for anyone to help you.","body":"Have a look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> right now your problem is too big for anyone to help you."}],"answers":[{"tags":[],"owner":{"account_id":13499757,"reputation":39,"user_id":9739451,"display_name":"Hai Mai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663729822,"creation_date":1663729822,"answer_id":73794946,"question_id":73793631,"body_markdown":"I think maybe it is a conflicting library. Can I have your pom?","title":"spring boot app run time error, trying to load file which doesn&#39;t exist in the project ( CompositeHealthIndicatorConfiguration)","body":"<p>I think maybe it is a conflicting library. Can I have your pom?</p>\n"}],"owner":{"account_id":9908169,"reputation":41,"user_id":7335989,"display_name":"Dave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663753846,"creation_date":1663717295,"question_id":73793631,"body_markdown":"We have standard spring boot app and while booting, it&#39;s showing below error in console. However, looking at spring dependency tree, there is no lib which has this file which make sense. The actual lib which has this file has a different folder path that it is showing. Cleaned the project, and tried rebuilding without luck. No lib conflicts in maven dependency tree as well. Not sure at run time why spring is looking at the folder location for that file. The version which actually has this actuator file is nowhere imported in my project. Inspected the final artifact jar also to make sure correct spring-actuator version is used and it is but at runtime, it is somehow trying to look up that folder. Advise if you have seen this kind of issue before. Thanks.\r\n\r\nERROR:\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.jpmorgan.pb.credit.lc.sbl.workflow.LcSblWorkflowServiceApplication]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/actuate/autoconfigure/CompositeHealthIndicatorConfiguration.class] cannot be opened because it does not exist\r\n\r\nIn above message, the file path should be ( based on the spring libs in project ):\r\n\r\n**/autoconfigure/health/CompositeHealthIndicatorConfiguration.class\r\n\r\nLib version in project :\r\n\r\nspring-boot-autoconfigure : 2.2.13-RELEASE\r\n\r\nspring-boot-actuator-autoconfigure: 2.2.13-RELEASE\r\n\r\nspring-boot-actuator: 2.2.13-RELEASE\r\n\r\nAbove versions are shown in maven dependency tree, no other version is shown.\r\n\r\nThanks in advance!\r\n\r\nUpdate :\r\nPlease note, i am using intellij and tried reviewing the jar conflicts for actuator but did not find any. Also inspected generated jar which has same jar libs as shown in intellij. \r\nThe file in error could have been in old version of spring which in our firm, is not even available in internal maven repo to use. I tried directly accessing that class in error but could not locate internally ( could not get the jar dependency for that class ). \r\n\r\n*adding some details from POM.* \r\n----------------------------------\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;ntest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;test-service&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.15-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;artifactId&gt;lc-sbl-workflow&lt;/artifactId&gt;\r\n        &lt;name&gt;lc-sbl-workflow&lt;/name&gt;\r\n        &lt;description&gt;Core SBL Workflow Services&lt;/description&gt;\r\n        &lt;packaging&gt;${packaging.type}&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;xsd.build.dir&gt;${basedir}/src/main/resources&lt;/xsd.build.dir&gt;\r\n            &lt;generated.source.location&gt;${basedir}/target/generated-sources/src&lt;/generated.source.location&gt;\r\n            &lt;!-- below required for int-service ends --&gt;\r\n            &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.7&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;bctsp-jdk14&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n         \r\n            &lt;!-- retry mechanism --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.8.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n                    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n    &lt;!--        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9&lt;/version&gt;\r\n            &lt;/dependency&gt;--&gt;\r\n           \r\n            &lt;!-- Spring-boot-data JPA dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;!-- spring-boot-data JPA, default tomcat pool, exclude it --&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- IBM MQ Starter dependencies --&gt;\r\n          \r\n            &lt;!-- This generates the spring-configuration-metadata.json file --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- lombok dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- trail-kafka-client --&gt;\r\n            &lt;dependency&gt;\r\n                 &lt;artifactId&gt;trail-kafka-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${trail.kafka.client}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Swagger dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;${springfox.swagger2.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${springfox.swagger2.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.annotations.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Optional dependencies for H2 in-memory database --&gt;\r\n            &lt;!--&lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;--&gt;\r\n            &lt;!-- Test dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n                &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Cucumber --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--lc-shared dependency for Splunk--&gt;\r\n           \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.2&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20140107&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- CAM generation dependencies --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-mapper-asl --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.12&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-scratchpad --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.poi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.poi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.poi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.poi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/ooxml-schemas --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Raven upgrade --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.11.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docx4j&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.1&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;xalan&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;fop&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-ImportXHTML --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Spring OXM --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/net.sf.jtidy/jtidy --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.jtidy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jtidy&lt;/artifactId&gt;\r\n                &lt;version&gt;r938&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n                   \r\n            &lt;!-- Optional dependencies Active MQ embedded broker --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;activemq-openwire-legacy&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Dp Core Cryptography library --&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n                  &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.23.2&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Logging Dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;\r\n                &lt;artifactId&gt;brave&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.owasp.esapi/esapi --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;esapi&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0.0&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--&lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n            &lt;/dependency&gt;--&gt;\r\n    \r\n           &lt;!-- &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;--&gt;\r\n           \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;generateDirectory&gt;${generated.source.location}&lt;/generateDirectory&gt;\r\n                        &lt;schemaDirectory&gt;${xsd.build.dir}&lt;/schemaDirectory&gt;\r\n                        &lt;schemaIncludes&gt;\r\n                            &lt;include&gt;LDPRequestSchema.xsd&lt;/include&gt;\r\n                        &lt;/schemaIncludes&gt;\r\n                        &lt;plugins&gt;\r\n                            &lt;plugin&gt;\r\n                                &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\r\n                            &lt;/plugin&gt;\r\n                        &lt;/plugins&gt;\r\n                        &lt;args&gt;\r\n                            &lt;arg&gt;-XtoString&lt;/arg&gt;\r\n                            &lt;arg&gt;-Xequals&lt;/arg&gt;\r\n                            &lt;arg&gt;-XhashCode&lt;/arg&gt;\r\n                        &lt;/args&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;revision&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnNoGitDirectory&gt;false&lt;/failOnNoGitDirectory&gt;\r\n                        &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n                        &lt;enableSshAgent&gt;true&lt;/enableSshAgent&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\r\n                        &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                        &lt;argLine&gt;-Xmx2048m&lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;!-- profiles for AIM-vagade starts --&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;integration-test&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;jenkins&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\r\n                &lt;/properties&gt;\r\n                &lt;build&gt;\r\n                    &lt;resources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;src/main/resources-filtered&lt;/directory&gt;\r\n                            &lt;filtering&gt;true&lt;/filtering&gt;\r\n                        &lt;/resource&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                            &lt;filtering&gt;false&lt;/filtering&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/resources&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n                                &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                                &lt;addResources&gt;true&lt;/addResources&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;repackage-id&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;buildinfo-id&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;build-info&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;additionalProperties&gt;\r\n                                            &lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\r\n                                            \r\n                                        &lt;/additionalProperties&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n    \r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n    \r\n            &lt;profile&gt;\r\n                &lt;id&gt;blackduck&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;${maven.antrun.plugin.version}&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;copy-blackduck-zip&lt;/id&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;tasks&gt;\r\n                                            &lt;copy file=&quot;${project.build.directory}/${project.build.finalName}.jar&quot; tofile=&quot;${project.build.directory}/${project.build.finalName}-blackduck.zip&quot; /&gt;\r\n                                        &lt;/tasks&gt;\r\n                                    &lt;/configuration&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;run&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\n","title":"spring boot app run time error, trying to load file which doesn&#39;t exist in the project ( CompositeHealthIndicatorConfiguration)","body":"<p>We have standard spring boot app and while booting, it's showing below error in console. However, looking at spring dependency tree, there is no lib which has this file which make sense. The actual lib which has this file has a different folder path that it is showing. Cleaned the project, and tried rebuilding without luck. No lib conflicts in maven dependency tree as well. Not sure at run time why spring is looking at the folder location for that file. The version which actually has this actuator file is nowhere imported in my project. Inspected the final artifact jar also to make sure correct spring-actuator version is used and it is but at runtime, it is somehow trying to look up that folder. Advise if you have seen this kind of issue before. Thanks.</p>\n<p>ERROR:</p>\n<p>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.jpmorgan.pb.credit.lc.sbl.workflow.LcSblWorkflowServiceApplication]; nested exception is java.io.FileNotFoundException: class path resource [org/springframework/boot/actuate/autoconfigure/CompositeHealthIndicatorConfiguration.class] cannot be opened because it does not exist</p>\n<p>In above message, the file path should be ( based on the spring libs in project ):</p>\n<p>**/autoconfigure/health/CompositeHealthIndicatorConfiguration.class</p>\n<p>Lib version in project :</p>\n<p>spring-boot-autoconfigure : 2.2.13-RELEASE</p>\n<p>spring-boot-actuator-autoconfigure: 2.2.13-RELEASE</p>\n<p>spring-boot-actuator: 2.2.13-RELEASE</p>\n<p>Above versions are shown in maven dependency tree, no other version is shown.</p>\n<p>Thanks in advance!</p>\n<p>Update :\nPlease note, i am using intellij and tried reviewing the jar conflicts for actuator but did not find any. Also inspected generated jar which has same jar libs as shown in intellij.\nThe file in error could have been in old version of spring which in our firm, is not even available in internal maven repo to use. I tried directly accessing that class in error but could not locate internally ( could not get the jar dependency for that class ).</p>\n<h2><em>adding some details from POM.</em></h2>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;ntest&lt;/groupId&gt;\n        &lt;artifactId&gt;test-service&lt;/artifactId&gt;\n        &lt;version&gt;1.1.15-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;lc-sbl-workflow&lt;/artifactId&gt;\n    &lt;name&gt;lc-sbl-workflow&lt;/name&gt;\n    &lt;description&gt;Core SBL Workflow Services&lt;/description&gt;\n    &lt;packaging&gt;${packaging.type}&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;xsd.build.dir&gt;${basedir}/src/main/resources&lt;/xsd.build.dir&gt;\n        &lt;generated.source.location&gt;${basedir}/target/generated-sources/src&lt;/generated.source.location&gt;\n        &lt;!-- below required for int-service ends --&gt;\n        &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bctsp-jdk14&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n     \n        &lt;!-- retry mechanism --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;5.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n                &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n       \n        &lt;!-- Spring-boot-data JPA dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;!-- spring-boot-data JPA, default tomcat pool, exclude it --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- IBM MQ Starter dependencies --&gt;\n      \n        &lt;!-- This generates the spring-configuration-metadata.json file --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- lombok dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- trail-kafka-client --&gt;\n        &lt;dependency&gt;\n             &lt;artifactId&gt;trail-kafka-client&lt;/artifactId&gt;\n            &lt;version&gt;${trail.kafka.client}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Swagger dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.swagger2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.swagger2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.annotations.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Optional dependencies for H2 in-memory database --&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;!-- Test dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Cucumber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--lc-shared dependency for Splunk--&gt;\n       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20140107&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- CAM generation dependencies --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-mapper-asl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-scratchpad --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n            &lt;version&gt;${apache.poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;${apache.poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${apache.poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n            &lt;version&gt;${apache.poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/ooxml-schemas --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Raven upgrade --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j&lt;/artifactId&gt;\n            &lt;version&gt;6.1.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xalan&lt;/groupId&gt;\n                    &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n                    &lt;artifactId&gt;fop&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-ImportXHTML --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring OXM --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jtidy/jtidy --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jtidy&lt;/groupId&gt;\n            &lt;artifactId&gt;jtidy&lt;/artifactId&gt;\n            &lt;version&gt;r938&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n               \n        &lt;!-- Optional dependencies Active MQ embedded broker --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n                    &lt;artifactId&gt;activemq-openwire-legacy&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Dp Core Cryptography library --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n              &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.23.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;\n            &lt;artifactId&gt;brave&lt;/artifactId&gt;\n            &lt;version&gt;5.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.owasp.esapi/esapi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\n            &lt;artifactId&gt;esapi&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n       &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n       \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;generateDirectory&gt;${generated.source.location}&lt;/generateDirectory&gt;\n                    &lt;schemaDirectory&gt;${xsd.build.dir}&lt;/schemaDirectory&gt;\n                    &lt;schemaIncludes&gt;\n                        &lt;include&gt;LDPRequestSchema.xsd&lt;/include&gt;\n                    &lt;/schemaIncludes&gt;\n                    &lt;plugins&gt;\n                        &lt;plugin&gt;\n                            &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n                            &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\n                        &lt;/plugin&gt;\n                    &lt;/plugins&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-XtoString&lt;/arg&gt;\n                        &lt;arg&gt;-Xequals&lt;/arg&gt;\n                        &lt;arg&gt;-XhashCode&lt;/arg&gt;\n                    &lt;/args&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;revision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;failOnNoGitDirectory&gt;false&lt;/failOnNoGitDirectory&gt;\n                    &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\n                &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                    &lt;enableSshAgent&gt;true&lt;/enableSshAgent&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                    &lt;argLine&gt;-Xmx2048m&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;!-- profiles for AIM-vagade starts --&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;integration-test&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;jenkins&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\n            &lt;/properties&gt;\n            &lt;build&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;src/main/resources-filtered&lt;/directory&gt;\n                        &lt;filtering&gt;true&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                        &lt;filtering&gt;false&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                            &lt;layout&gt;ZIP&lt;/layout&gt;\n                            &lt;addResources&gt;true&lt;/addResources&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;repackage-id&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;repackage&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;buildinfo-id&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-info&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;additionalProperties&gt;\n                                        &lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\n                                        \n                                    &lt;/additionalProperties&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;blackduck&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven.antrun.plugin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-blackduck-zip&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;configuration&gt;\n                                    &lt;tasks&gt;\n                                        &lt;copy file=&quot;${project.build.directory}/${project.build.finalName}.jar&quot; tofile=&quot;${project.build.directory}/${project.build.finalName}-blackduck.zip&quot; /&gt;\n                                    &lt;/tasks&gt;\n                                &lt;/configuration&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;run&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n  \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","vector","raytracing"],"comments":[{"owner":{"account_id":557222,"reputation":7416,"user_id":919578,"accept_rate":92,"display_name":"Benjy Kessler"},"score":0,"creation_date":1429564875,"post_id":29758545,"comment_id":47649496,"body_markdown":"http://en.wikipedia.org/wiki/Snell%27s_law#Vector_form","body":"<a href=\"http://en.wikipedia.org/wiki/Snell%27s_law#Vector_form\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Snell%27s_law#Vector_form</a>"}],"answers":[{"tags":[],"owner":{"account_id":557222,"reputation":7416,"user_id":919578,"accept_rate":92,"display_name":"Benjy Kessler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1565135692,"creation_date":1429565404,"answer_id":29758766,"question_id":29758545,"body_markdown":"Let **V_incedence** be the normalized incoming vector. Let `n1` and `n2` be the refracting indices of the two surfaces. You want to calculate **V_refraction**. Let **n** be the normalized normal vector.\r\n\r\n    V_refraction = r*V_incedence + (rc - sqrt(1-Math.pow(r,2)(1-Math.pow(c,2))))n\r\n    where r = n1/n2 and c = -n dot V_incedence.","title":"How to find refraction vector from incoming vector and surface normal?","body":"<p>Let <strong>V_incedence</strong> be the normalized incoming vector. Let <code>n1</code> and <code>n2</code> be the refracting indices of the two surfaces. You want to calculate <strong>V_refraction</strong>. Let <strong>n</strong> be the normalized normal vector.</p>\n\n<pre><code>V_refraction = r*V_incedence + (rc - sqrt(1-Math.pow(r,2)(1-Math.pow(c,2))))n\nwhere r = n1/n2 and c = -n dot V_incedence.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91107,"reputation":1018,"user_id":250361,"accept_rate":67,"display_name":"bradforj287"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483983936,"creation_date":1483983936,"answer_id":41553847,"question_id":29758545,"body_markdown":"I implemented this in my ray java tracer take a look https://github.com/bradforj287/brads-java-raytracer \r\n\r\n    private static double clamp(final double val, final double min, final double max) {\r\n        return Math.max(min, Math.min(max, val));\r\n    }\r\n\r\n    private Vector3d getRefractionVector(final Vector3d I, final Vector3d N, final double ior) {\r\n        double cosi = clamp(-1, 1, I.dot(N));\r\n        double etai = 1, etat = ior;\r\n        Vector3d n = N;\r\n        if (cosi &lt; 0) {\r\n            cosi = -cosi;\r\n        } else {\r\n            double temp = etai;\r\n            etai = etat;\r\n            etat = temp;\r\n            n = N.multiply(-1);\r\n        }\r\n        double eta = etai / etat;\r\n        double k = 1 - (eta * eta) * (1 - (cosi * cosi));\r\n        if (k &lt;= 0) {\r\n            return Vector3d.ZERO;\r\n        } else {\r\n            return I.multiply(eta).add(n.multiply(((eta * cosi) - Math.sqrt(k))));\r\n        }\r\n    }","title":"How to find refraction vector from incoming vector and surface normal?","body":"<p>I implemented this in my ray java tracer take a look <a href=\"https://github.com/bradforj287/brads-java-raytracer\" rel=\"nofollow noreferrer\">https://github.com/bradforj287/brads-java-raytracer</a> </p>\n\n<pre><code>private static double clamp(final double val, final double min, final double max) {\n    return Math.max(min, Math.min(max, val));\n}\n\nprivate Vector3d getRefractionVector(final Vector3d I, final Vector3d N, final double ior) {\n    double cosi = clamp(-1, 1, I.dot(N));\n    double etai = 1, etat = ior;\n    Vector3d n = N;\n    if (cosi &lt; 0) {\n        cosi = -cosi;\n    } else {\n        double temp = etai;\n        etai = etat;\n        etat = temp;\n        n = N.multiply(-1);\n    }\n    double eta = etai / etat;\n    double k = 1 - (eta * eta) * (1 - (cosi * cosi));\n    if (k &lt;= 0) {\n        return Vector3d.ZERO;\n    } else {\n        return I.multiply(eta).add(n.multiply(((eta * cosi) - Math.sqrt(k))));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":975399,"reputation":7972,"user_id":996815,"accept_rate":96,"display_name":"Vertexwahn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663753607,"creation_date":1572739903,"answer_id":58676386,"question_id":29758545,"body_markdown":"Bram de Greve wrote a nice article about reflections and refractions in ray tracing. You can find it [here][1].\r\n\r\nHis implementation (C++) looks like this:\r\n\r\n    Vector refract(const Vector&amp; normal, const Vector&amp; incident, \r\n                   double n1, double n2) \r\n    {\r\n    \tconst double n = n1 / n2;\r\n    \tconst double cosI = -dot(normal, incident);\r\n    \tconst double sinT2 = n * n * (1.0 - cosI * cosI);\r\n    \tif(sinT2 &gt; 1.0) return Vector::invalid; // TIR\r\n    \tconst double cosT = sqrt(1.0 - sinT2);\r\n    \treturn n * incident + (n * cosI - cosT) * normal;\r\n    }\r\n\r\nHere is the PBRTv3 implementation (under BSD-2-Clause license):\r\n\r\n    inline bool Refract(const Vector3f &amp;wi, const Normal3f &amp;n, Float eta,\r\n                        Vector3f *wt) {\r\n        // Compute $\\cos \\theta_\\roman{t}$ using Snell&#39;s law\r\n        Float cosThetaI = Dot(n, wi);\r\n        Float sin2ThetaI = std::max(Float(0), Float(1 - cosThetaI * cosThetaI));\r\n        Float sin2ThetaT = eta * eta * sin2ThetaI;\r\n    \r\n        // Handle total internal reflection for transmission\r\n        if (sin2ThetaT &gt;= 1) return false;\r\n        Float cosThetaT = std::sqrt(1 - sin2ThetaT);\r\n        *wt = eta * -wi + (eta * cosThetaI - cosThetaT) * Vector3f(n);\r\n        return true;\r\n    }\r\n\r\nSee my [blog](https://vertexwahn.de/2020/12/19/refraction/) how to implement it test driven.\r\n\r\n  [1]: https://graphics.stanford.edu/courses/cs148-10-summer/docs/2006--degreve--reflection_refraction.pdf\r\n","title":"How to find refraction vector from incoming vector and surface normal?","body":"<p>Bram de Greve wrote a nice article about reflections and refractions in ray tracing. You can find it <a href=\"https://graphics.stanford.edu/courses/cs148-10-summer/docs/2006--degreve--reflection_refraction.pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>His implementation (C++) looks like this:</p>\n<pre><code>Vector refract(const Vector&amp; normal, const Vector&amp; incident, \n               double n1, double n2) \n{\n    const double n = n1 / n2;\n    const double cosI = -dot(normal, incident);\n    const double sinT2 = n * n * (1.0 - cosI * cosI);\n    if(sinT2 &gt; 1.0) return Vector::invalid; // TIR\n    const double cosT = sqrt(1.0 - sinT2);\n    return n * incident + (n * cosI - cosT) * normal;\n}\n</code></pre>\n<p>Here is the PBRTv3 implementation (under BSD-2-Clause license):</p>\n<pre><code>inline bool Refract(const Vector3f &amp;wi, const Normal3f &amp;n, Float eta,\n                    Vector3f *wt) {\n    // Compute $\\cos \\theta_\\roman{t}$ using Snell's law\n    Float cosThetaI = Dot(n, wi);\n    Float sin2ThetaI = std::max(Float(0), Float(1 - cosThetaI * cosThetaI));\n    Float sin2ThetaT = eta * eta * sin2ThetaI;\n\n    // Handle total internal reflection for transmission\n    if (sin2ThetaT &gt;= 1) return false;\n    Float cosThetaT = std::sqrt(1 - sin2ThetaT);\n    *wt = eta * -wi + (eta * cosThetaI - cosThetaT) * Vector3f(n);\n    return true;\n}\n</code></pre>\n<p>See my <a href=\"https://vertexwahn.de/2020/12/19/refraction/\" rel=\"nofollow noreferrer\">blog</a> how to implement it test driven.</p>\n"}],"owner":{"account_id":2685790,"reputation":1018,"user_id":2320239,"accept_rate":52,"display_name":"user2320239"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5563,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29758766,"answer_count":3,"score":4,"last_activity_date":1663753607,"creation_date":1429564505,"question_id":29758545,"body_markdown":"I&#39;m writing a ray tracer in java and I&#39;m trying to implement refraction, but I&#39;m getting confused by the information I&#39;m finding on the subject. If I have a 3D vector for the incoming ray of light, the surface normal given as a 3D Vector and the refractive indexes of the two mediums what operations do I need to apply in order to get the vector of the transmitted ray?\r\n\r\n","title":"How to find refraction vector from incoming vector and surface normal?","body":"<p>I'm writing a ray tracer in java and I'm trying to implement refraction, but I'm getting confused by the information I'm finding on the subject. If I have a 3D vector for the incoming ray of light, the surface normal given as a 3D Vector and the refractive indexes of the two mediums what operations do I need to apply in order to get the vector of the transmitted ray?</p>\n"},{"tags":["java","spring","spring-boot","request","jackson"],"answers":[{"tags":[],"owner":{"account_id":9050387,"reputation":350,"user_id":6740934,"display_name":"Yao Yuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663753240,"creation_date":1663753240,"answer_id":73798614,"question_id":73797834,"body_markdown":"Your code is almost correct.\r\n\r\nJust don&#39;t use `Date date` in `OrderCreationNotification`. \r\n\r\nuse field `String date`, and convert `String` to `Date` in custom way.\r\n\r\n\r\n","title":"Cannot use field (interface) in request body in spring boot for polymorphism support","body":"<p>Your code is almost correct.</p>\n<p>Just don't use <code>Date date</code> in <code>OrderCreationNotification</code>.</p>\n<p>use field <code>String date</code>, and convert <code>String</code> to <code>Date</code> in custom way.</p>\n"}],"owner":{"account_id":20158989,"reputation":15,"user_id":14850791,"display_name":"StudentWhoCurious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663753240,"creation_date":1663749916,"question_id":73797834,"body_markdown":"I plan that my spring project can handle multiple request forms like:\r\n\r\n```json\r\n{\r\n   &quot;notification&quot;: &quot;order_creation_notification&quot;,\r\n   &quot;data&quot;: {\r\n       &quot;date&quot;: &quot;22 Jan 2022&quot;\r\n   }\r\n}\r\n```\r\nand\r\n```json\r\n{\r\n   &quot;notification&quot;: &quot;login_notification&quot;,\r\n   &quot;data&quot;: {\r\n       &quot;email&quot;: &quot;johndoe@email.com&quot;,\r\n       &quot;at&quot;: &quot;LA, USA&quot;\r\n   }\r\n}\r\n```\r\nSo, i create my controller and request body like this:\r\n- Here are my controller:\r\n```java\r\n@PostMapping(value=&quot;/&quot;)\r\npublic void createNotification(@RequestBody NotificationRequest request) {\r\n            ...\r\n    }  \r\n```\r\n\r\n- and here are my request classes:\r\n```java\r\n@JsonTypeInfo(use = Id.DEDUCTION)\r\n@JsonSubTypes({\r\n    @Type(OrderCreationNotification.class),\r\n    @Type(LoginNotification.class)\r\n})\r\npublic interface IData {\r\n    \r\n}\r\n```\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class OrderCreationNotification implements IData {\r\n    private Date date;\r\n}\r\n```\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class LoginNotification implements IData {\r\n    private String email;\r\n    private String at;\r\n}\r\n```\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class NotificationRequest {\r\n    private String notification;\r\n    private IData data;\r\n}\r\n```\r\n\r\nBut, when i try to do POST using this json body:\r\n```json\r\n{\r\n   &quot;notification&quot;: &quot;login_notification&quot;,\r\n   &quot;data&quot;: {\r\n       &quot;email&quot;: &quot;johndoe@email.com&quot;,\r\n       &quot;at&quot;: &quot;LA, USA&quot;\r\n   }\r\n}\r\n```\r\n\r\ni get an error which says:\r\n```\r\nJSON parse error: Cannot construct instance of `LoginNotification` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `LoginNotification` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 8, column: 13] (through reference chain: NotificationRequest[\\&quot;data\\&quot;])\r\n```","title":"Cannot use field (interface) in request body in spring boot for polymorphism support","body":"<p>I plan that my spring project can handle multiple request forms like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;notification&quot;: &quot;order_creation_notification&quot;,\n   &quot;data&quot;: {\n       &quot;date&quot;: &quot;22 Jan 2022&quot;\n   }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;notification&quot;: &quot;login_notification&quot;,\n   &quot;data&quot;: {\n       &quot;email&quot;: &quot;johndoe@email.com&quot;,\n       &quot;at&quot;: &quot;LA, USA&quot;\n   }\n}\n</code></pre>\n<p>So, i create my controller and request body like this:</p>\n<ul>\n<li>Here are my controller:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value=&quot;/&quot;)\npublic void createNotification(@RequestBody NotificationRequest request) {\n            ...\n    }  \n</code></pre>\n<ul>\n<li>and here are my request classes:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = Id.DEDUCTION)\n@JsonSubTypes({\n    @Type(OrderCreationNotification.class),\n    @Type(LoginNotification.class)\n})\npublic interface IData {\n    \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\n@Setter\npublic class OrderCreationNotification implements IData {\n    private Date date;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\n@Setter\npublic class LoginNotification implements IData {\n    private String email;\n    private String at;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\n@Setter\npublic class NotificationRequest {\n    private String notification;\n    private IData data;\n}\n</code></pre>\n<p>But, when i try to do POST using this json body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;notification&quot;: &quot;login_notification&quot;,\n   &quot;data&quot;: {\n       &quot;email&quot;: &quot;johndoe@email.com&quot;,\n       &quot;at&quot;: &quot;LA, USA&quot;\n   }\n}\n</code></pre>\n<p>i get an error which says:</p>\n<pre><code>JSON parse error: Cannot construct instance of `LoginNotification` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `LoginNotification` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 8, column: 13] (through reference chain: NotificationRequest[\\&quot;data\\&quot;])\n</code></pre>\n"},{"tags":["java","out-of-memory","react-native"],"comments":[{"owner":{"account_id":15898567,"reputation":106,"user_id":11471636,"display_name":"jawdat abdallh"},"score":0,"creation_date":1667137442,"post_id":59284741,"comment_id":131094761,"body_markdown":"Thanks, that is exactly what I needed. You have concluded the fix for this issue.\n\nI guess you have a device that could not have enough RAM to compile your project. Try to use another device with more RAM on it or simply change the amount of RAM allocated in the configuration settings ( instead of 4096 use 8192 or more )","body":"Thanks, that is exactly what I needed. You have concluded the fix for this issue.  I guess you have a device that could not have enough RAM to compile your project. Try to use another device with more RAM on it or simply change the amount of RAM allocated in the configuration settings ( instead of 4096 use 8192 or more )"}],"answers":[{"tags":[],"owner":{"account_id":11231071,"reputation":4098,"user_id":8239116,"display_name":"Aurangzaib Rana"},"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1576064820,"creation_date":1576064820,"answer_id":59285115,"question_id":59284741,"body_markdown":"configuring  gradle.properties:\r\n\r\n    org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\r\n    org.gradle.daemon=true\r\n    org.gradle.parallel=true\r\n    org.gradle.configureondemand=true\r\n\r\n","title":"Out of memory error while running gradlew assembleRelease - react-native","body":"<p>configuring  gradle.properties:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\norg.gradle.daemon=true\norg.gradle.parallel=true\norg.gradle.configureondemand=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7873995,"reputation":635,"user_id":5950360,"display_name":"Surbhit Rao"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1630584760,"creation_date":1624961988,"answer_id":68176825,"question_id":59284741,"body_markdown":"Although the given answer did not work for me, it did lead me to the correct path. Sometimes the build would go through but then again after some time this error would resurface, so to resolve it once and for all:\r\n \r\nFirst comment `org.gradle.jvmargs=-Xmx4096m` inside your project&#39;s gradle properties.\r\n\r\nAdd the following in your app/build.gradle:\r\n\r\n \r\n\r\n    android {\r\n    \r\n      dexOptions {\r\n        javaMaxHeapSize &quot;4g&quot;\r\n      }\r\n    \r\n    }\r\n\r\nNow edit your global gradle.properties for mac it&#39;ll be inside Home/YOUR_USERNAME/.gradle/ \r\nNote that .gradle is a hidden folder.\r\n\r\nIf the file is not there simply create it and add\r\n\r\n    org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\n\r\n","title":"Out of memory error while running gradlew assembleRelease - react-native","body":"<p>Although the given answer did not work for me, it did lead me to the correct path. Sometimes the build would go through but then again after some time this error would resurface, so to resolve it once and for all:</p>\n<p>First comment <code>org.gradle.jvmargs=-Xmx4096m</code> inside your project's gradle properties.</p>\n<p>Add the following in your app/build.gradle:</p>\n<pre><code>android {\n\n  dexOptions {\n    javaMaxHeapSize &quot;4g&quot;\n  }\n\n}\n</code></pre>\n<p>Now edit your global gradle.properties for mac it'll be inside Home/YOUR_USERNAME/.gradle/\nNote that .gradle is a hidden folder.</p>\n<p>If the file is not there simply create it and add</p>\n<pre><code>org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16188042,"reputation":652,"user_id":11687571,"display_name":"Muhammad Qasim Qadri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656967021,"creation_date":1656967021,"answer_id":72861811,"question_id":59284741,"body_markdown":"this worked for me!\r\n\r\nuncommenting this line in android/gradle.properties\r\n\r\norg.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\ncredit @Alex Aymkin\r\n","title":"Out of memory error while running gradlew assembleRelease - react-native","body":"<p>this worked for me!</p>\n<p>uncommenting this line in android/gradle.properties</p>\n<p>org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8</p>\n<p>credit @Alex Aymkin</p>\n"},{"tags":[],"owner":{"account_id":16297729,"reputation":257,"user_id":11769574,"display_name":"amboji alur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663753212,"creation_date":1663753212,"answer_id":73798611,"question_id":59284741,"body_markdown":"Adding this code in the android/gradle.properties worked for me!\r\n\r\n```\r\norg.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\r\norg.gradle.daemon=true\r\norg.gradle.parallel=true\r\norg.gradle.configureondemand=true\r\n```","title":"Out of memory error while running gradlew assembleRelease - react-native","body":"<p>Adding this code in the android/gradle.properties worked for me!</p>\n<pre><code>org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\norg.gradle.daemon=true\norg.gradle.parallel=true\norg.gradle.configureondemand=true\n</code></pre>\n"}],"owner":{"account_id":7566765,"reputation":1787,"user_id":5742004,"accept_rate":60,"display_name":"FortuneCookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42068,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":59285115,"answer_count":4,"score":60,"last_activity_date":1663753212,"creation_date":1576063449,"question_id":59284741,"body_markdown":"I am getting this error while making a release build for my react native project:   \r\n\r\n    Expiring Daemon because JVM heap space is exhausted\r\n        \r\n    &gt; Task :app:transformDexArchiveWithDexMergerForRelease FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:transformDexArchiveWithDexMergerForRelease&#39;.\r\n    &gt; java.lang.OutOfMemoryError (no error message)\r\n\r\n\r\nDone some research and made some changes, which are below:\r\n\r\n 1. Added  `android:largeHeap=&quot;true&quot;` to the application tag in the AndroidManifest.xml\r\n 2. Added \r\n\r\n\r\n        dexOptions {\r\n            javaMaxHeapSize &quot;4g&quot; \r\n        }\r\n\r\n\r\n    in the android/app/build.gradle file.\r\n\r\n 3. Added the below code to gradle.properties\r\n\r\n        org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\r\n        org.gradle.daemon=true\r\n        org.gradle.parallel=true\r\n        org.gradle.configureondemand=true\r\n\r\nStill I am not able to get rid of this error. Any permanent way to get rid of this error and how is it caused??\r\n","title":"Out of memory error while running gradlew assembleRelease - react-native","body":"<p>I am getting this error while making a release build for my react native project:</p>\n<pre><code>Expiring Daemon because JVM heap space is exhausted\n    \n&gt; Task :app:transformDexArchiveWithDexMergerForRelease FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:transformDexArchiveWithDexMergerForRelease'.\n&gt; java.lang.OutOfMemoryError (no error message)\n</code></pre>\n<p>Done some research and made some changes, which are below:</p>\n<ol>\n<li><p>Added  <code>android:largeHeap=&quot;true&quot;</code> to the application tag in the AndroidManifest.xml</p>\n</li>\n<li><p>Added</p>\n<pre><code>dexOptions {\n    javaMaxHeapSize &quot;4g&quot; \n}\n</code></pre>\n<p>in the android/app/build.gradle file.</p>\n</li>\n<li><p>Added the below code to gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\norg.gradle.daemon=true\norg.gradle.parallel=true\norg.gradle.configureondemand=true\n</code></pre>\n</li>\n</ol>\n<p>Still I am not able to get rid of this error. Any permanent way to get rid of this error and how is it caused??</p>\n"},{"tags":["java","java-stream","zoneddatetime"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1663751437,"post_id":73798164,"comment_id":130310941,"body_markdown":"If you just want to ignore the zone part of your `ZonedDateTime`, wouldn&#39;t just using `toLocalDateTime()` on both of them and comparing the `LocalDateTime` objects be a solution?","body":"If you just want to ignore the zone part of your <code>ZonedDateTime</code>, wouldn&#39;t just using <code>toLocalDateTime()</code> on both of them and comparing the <code>LocalDateTime</code> objects be a solution?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1663753142,"post_id":73798164,"comment_id":130311604,"body_markdown":"You opt for the similar time in the day: the height of sun or moon being the same. That is simply getting the `LocalDateTime`. Others might want the same time for a video conference, that would be converting to the UTC zone. And the time strings you showed are of OffsetDateTime, a help class. A ZonedDateTime indicates the Locale which specifies the Day Savings Time specifying an offset which may differ per summer/winter. And be different for the same lattitude (Africa/Europe).","body":"You opt for the similar time in the day: the height of sun or moon being the same. That is simply getting the <code>LocalDateTime</code>. Others might want the same time for a video conference, that would be converting to the UTC zone. And the time strings you showed are of OffsetDateTime, a help class. A ZonedDateTime indicates the Locale which specifies the Day Savings Time specifying an offset which may differ per summer/winter. And be different for the same lattitude (Africa/Europe)."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663752847,"creation_date":1663752257,"answer_id":73798374,"question_id":73798164,"body_markdown":"As *@OH GOD SPIDERS* said in the comments, you can extract `LocalDateTime` from a `ZonedDateTime`.\r\n\r\n```\r\nComparator.comparing(tele -&gt; tele.getDateM().toLocalDateTime())\r\n```\r\n\r\nBut be aware that if two `LocalDateTime` instances are equal, it doesn&#39;t necessarily mean that they&#39;re describing the same point in time. In order to establish comparison based on a specific point in the global timeline, you need to use [`Instant`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#method-summary).\r\n\r\n```\r\nComparator.comparing(tele -&gt; tele.getDateM().toInstant())\r\n```\r\n\r\n**Sidenote:** while dealing with a `TreeSet`, it&#39;s more handy to use [`NavigableSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html) interface as an abstract type. It gives you access to methods like `pollFirst()`, `pollLast()`, `lower()`, `higher()`, etc. which are not declared in the `Set` interface.","title":"Compare two ZonedDateTime with ignoring the Zone","body":"<p>As <em>@OH GOD SPIDERS</em> said in the comments, you can extract <code>LocalDateTime</code> from a <code>ZonedDateTime</code>.</p>\n<pre><code>Comparator.comparing(tele -&gt; tele.getDateM().toLocalDateTime())\n</code></pre>\n<p>But be aware that if two <code>LocalDateTime</code> instances are equal, it doesn't necessarily mean that they're describing the same point in time. In order to establish comparison based on a specific point in the global timeline, you need to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#method-summary\" rel=\"nofollow noreferrer\"><code>Instant</code></a>.</p>\n<pre><code>Comparator.comparing(tele -&gt; tele.getDateM().toInstant())\n</code></pre>\n<p><strong>Sidenote:</strong> while dealing with a <code>TreeSet</code>, it's more handy to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> interface as an abstract type. It gives you access to methods like <code>pollFirst()</code>, <code>pollLast()</code>, <code>lower()</code>, <code>higher()</code>, etc. which are not declared in the <code>Set</code> interface.</p>\n"}],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663752847,"creation_date":1663751304,"question_id":73798164,"body_markdown":"Compare two `ZonedDateTime` with ignoring the Zone:\r\n\r\nExample:\r\n\r\n`2022-08-17 03:30:00+02` compare `2022-08-17 03:30:00+01` must give `true`\r\n\r\nI Have a stream that must compare each object with others using this Date:\r\n\r\n    Set&lt;Tele&gt; jPointsSet = jPoints.stream()\r\n    \t\t\t\t.collect(Collectors.toCollection(() -&gt; \r\n    \t\t\t\t\t\t\t\tnew TreeSet&lt;&gt;(Comparator.comparing(Tele::getDateM))));\r\n\r\nthe `getDateM` is `ZonedDateTime` so I would like when use `Comparator.comparing(Tele::getDateM))` ignore the Zone\r\n\r\n","title":"Compare two ZonedDateTime with ignoring the Zone","body":"<p>Compare two <code>ZonedDateTime</code> with ignoring the Zone:</p>\n<p>Example:</p>\n<p><code>2022-08-17 03:30:00+02</code> compare <code>2022-08-17 03:30:00+01</code> must give <code>true</code></p>\n<p>I Have a stream that must compare each object with others using this Date:</p>\n<pre><code>Set&lt;Tele&gt; jPointsSet = jPoints.stream()\n                .collect(Collectors.toCollection(() -&gt; \n                                new TreeSet&lt;&gt;(Comparator.comparing(Tele::getDateM))));\n</code></pre>\n<p>the <code>getDateM</code> is <code>ZonedDateTime</code> so I would like when use <code>Comparator.comparing(Tele::getDateM))</code> ignore the Zone</p>\n"},{"tags":["java","spring-boot","spring-data","integration-testing","feign"],"answers":[{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752838,"creation_date":1663752430,"answer_id":73798407,"question_id":73798332,"body_markdown":"Add the following configuration to your project:\r\n\r\n```\r\n@Configuration\r\npublic class FeignDecodeConfiguration {\r\n\r\n    @Bean\r\n    public Module pageJacksonModule() {\r\n        return new PageJacksonModule();\r\n    }\r\n}\r\n```\r\n\r\nSee https://github.com/spring-cloud/spring-cloud-openfeign/issues/205 for additional details.","title":"InvalidDefinitionException Page in integration test","body":"<p>Add the following configuration to your project:</p>\n<pre><code>@Configuration\npublic class FeignDecodeConfiguration {\n\n    @Bean\n    public Module pageJacksonModule() {\n        return new PageJacksonModule();\n    }\n}\n</code></pre>\n<p>See <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/205\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/issues/205</a> for additional details.</p>\n"}],"owner":{"account_id":3662711,"reputation":495,"user_id":3052078,"accept_rate":72,"display_name":"user3052078"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663752838,"creation_date":1663752101,"question_id":73798332,"body_markdown":"I have an endpoint that returns a `Page&lt;MyDto&gt;`. Everything works fine, but in the integration test i receive:\r\n```\r\nType definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\r\nfeign.codec.DecodeException: Type definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\r\n```\r\nI saw solution to add a wrapper for `PageImpl`, but i don&#39;t want to have create a wrapper just to be able to test the code. Is there any other simple solution?","title":"InvalidDefinitionException Page in integration test","body":"<p>I have an endpoint that returns a <code>Page&lt;MyDto&gt;</code>. Everything works fine, but in the integration test i receive:</p>\n<pre><code>Type definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\nfeign.codec.DecodeException: Type definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\n</code></pre>\n<p>I saw solution to add a wrapper for <code>PageImpl</code>, but i don't want to have create a wrapper just to be able to test the code. Is there any other simple solution?</p>\n"},{"tags":["java","json","resttemplate","response-entity"],"answers":[{"tags":[],"owner":{"account_id":25592434,"reputation":652,"user_id":19368926,"display_name":"Sakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752838,"creation_date":1663750595,"answer_id":73798014,"question_id":73797905,"body_markdown":"&gt; Use `ParameterizedTypeReference` instead of `String`&lt;br&gt;\r\nLearn more: [Rest Template with ParameterizedTypeReference](https://www.baeldung.com/spring-resttemplate-json-list#3-resttemplate-with-user-list-and-parameterizedtypereference)\r\n\r\n```java\r\nResponseEntity&lt;ChannelItem&gt; response = restTemplate.exchange(uri, HttpMethod.POST, request, new ParameterizedTypeReference&lt;ChannelItem&gt;() {});\r\nChannelItem channelItem = response.getBody();\r\n```","title":"Extract Object From Response Entity","body":"<blockquote>\n<p>Use <code>ParameterizedTypeReference</code> instead of <code>String</code><br>\nLearn more: <a href=\"https://www.baeldung.com/spring-resttemplate-json-list#3-resttemplate-with-user-list-and-parameterizedtypereference\" rel=\"nofollow noreferrer\">Rest Template with ParameterizedTypeReference</a></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;ChannelItem&gt; response = restTemplate.exchange(uri, HttpMethod.POST, request, new ParameterizedTypeReference&lt;ChannelItem&gt;() {});\nChannelItem channelItem = response.getBody();\n</code></pre>\n"}],"owner":{"account_id":22825337,"reputation":31,"user_id":16974685,"display_name":"Alyan Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663752838,"creation_date":1663750206,"question_id":73797905,"body_markdown":"I am working to hit API through Rest Template and I have successfully received the response in responseEntity form. Now my requirement is to extract values from response to my object.\r\n```\r\nString uri = &quot;http://192.168.1.113:10100/scf/reset&quot;;\r\nString str = &quot;ship&quot;;\r\nRestTemplate restTemplate = new RestTemplate();\t\r\n\t\t\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n\r\nMultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\r\nmap.add(&quot;scfType&quot;, str);\r\n\r\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\r\n\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange( uri, HttpMethod.POST, request, String.class);\r\n```\r\nAnd I have response in the form of JSON\r\n```\r\n{\r\n    &quot;statusCode&quot;: 200,\r\n    &quot;status&quot;: &quot;OK&quot;,\r\n    &quot;payload&quot;: {\r\n        &quot;channelItemId&quot;: 41179181,\r\n        &quot;itemQuantity&quot;: 6,\r\n        &quot;date_Created&quot;: &quot;2022-08-23T21:40:52.412+0000&quot;,\r\n        &quot;date_Modified&quot;: &quot;2022-09-20T11:15:40.859+0000&quot;,\r\n        &quot;deleted&quot;: false,\r\n        &quot;user_Id&quot;: 2075\r\n}\r\n```\r\nI have my object which is\r\n```\r\nChannelItem channelItem = new ChannelItem();\r\n```\r\nMy requirement is to get values which are in ```payload``` and store them in ```channelItem```.\r\n","title":"Extract Object From Response Entity","body":"<p>I am working to hit API through Rest Template and I have successfully received the response in responseEntity form. Now my requirement is to extract values from response to my object.</p>\n<pre><code>String uri = &quot;http://192.168.1.113:10100/scf/reset&quot;;\nString str = &quot;ship&quot;;\nRestTemplate restTemplate = new RestTemplate(); \n        \nHttpHeaders headers = new HttpHeaders();\nheaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n\nMultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\nmap.add(&quot;scfType&quot;, str);\n\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\n\nResponseEntity&lt;String&gt; response = restTemplate.exchange( uri, HttpMethod.POST, request, String.class);\n</code></pre>\n<p>And I have response in the form of JSON</p>\n<pre><code>{\n    &quot;statusCode&quot;: 200,\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;payload&quot;: {\n        &quot;channelItemId&quot;: 41179181,\n        &quot;itemQuantity&quot;: 6,\n        &quot;date_Created&quot;: &quot;2022-08-23T21:40:52.412+0000&quot;,\n        &quot;date_Modified&quot;: &quot;2022-09-20T11:15:40.859+0000&quot;,\n        &quot;deleted&quot;: false,\n        &quot;user_Id&quot;: 2075\n}\n</code></pre>\n<p>I have my object which is</p>\n<pre><code>ChannelItem channelItem = new ChannelItem();\n</code></pre>\n<p>My requirement is to get values which are in <code>payload</code> and store them in <code>channelItem</code>.</p>\n"},{"tags":["java","jakarta-ee","wildfly","cdi","jta"],"answers":[{"tags":[],"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662545146,"creation_date":1662545146,"answer_id":73633616,"question_id":73582117,"body_markdown":"Looks like com.arjuna.ats.jta.cdi.NarayanaTransactionManager is being put into your session state but is not compatible with the state replication.\r\n\r\nAre you actually expecting this to be part of your state? Feels like it&#39;s not intentional ","title":"CDI / JTA - Error during session replication: UnproxyableResolutionException","body":"<p>Looks like com.arjuna.ats.jta.cdi.NarayanaTransactionManager is being put into your session state but is not compatible with the state replication.</p>\n<p>Are you actually expecting this to be part of your state? Feels like it's not intentional</p>\n"},{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663432929,"creation_date":1663432929,"answer_id":73756712,"question_id":73582117,"body_markdown":"You could maybe enable **sticky session** to avoid session replication (from one node to another) ?\r\nhttps://docs.wildfly.org/26/wildscribe/subsystem/undertow/configuration/filter/mod-cluster/balancer/index.html\r\n","title":"CDI / JTA - Error during session replication: UnproxyableResolutionException","body":"<p>You could maybe enable <strong>sticky session</strong> to avoid session replication (from one node to another) ?\n<a href=\"https://docs.wildfly.org/26/wildscribe/subsystem/undertow/configuration/filter/mod-cluster/balancer/index.html\" rel=\"nofollow noreferrer\">https://docs.wildfly.org/26/wildscribe/subsystem/undertow/configuration/filter/mod-cluster/balancer/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663752826,"creation_date":1663752826,"answer_id":73798514,"question_id":73582117,"body_markdown":"This seems to be a bug in Narayana, I forked the library and added a no-args constructor to the DelegatingTransactionManager and the exception no longer occurs.\r\n\r\nBug reported here:\r\n\r\nhttps://issues.redhat.com/projects/JBTM/issues/JBTM-3703?filter=allopenissues","title":"CDI / JTA - Error during session replication: UnproxyableResolutionException","body":"<p>This seems to be a bug in Narayana, I forked the library and added a no-args constructor to the DelegatingTransactionManager and the exception no longer occurs.</p>\n<p>Bug reported here:</p>\n<p><a href=\"https://issues.redhat.com/projects/JBTM/issues/JBTM-3703?filter=allopenissues\" rel=\"nofollow noreferrer\">https://issues.redhat.com/projects/JBTM/issues/JBTM-3703?filter=allopenissues</a></p>\n"}],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73798514,"answer_count":3,"score":0,"last_activity_date":1663752826,"creation_date":1662119391,"question_id":73582117,"body_markdown":"I am testing server failover in a Wildfly 26 cluster (using standalone-ha.xml config)\r\n\r\nThe application is a stateful JSF / Jakarta EE8 / CDI war deployment\r\n\r\nWe are using Deltaspike Data and JPA modules in DAO pattern (with @RequestScoped entity managers)\r\n\r\nI have two nodes runnings 1 and 2 and perform the following steps:\r\n- Login to a user account on Node 1 to create some session data.\r\n- Perform a graceful shutdown of Node 1, logs show Node 1 has left the cluster and is reported in logs at Node 2\r\n- Refresh browser\r\n- Node 2 loads the replication session data then throws the exception pasted below to say that `com.arjuna.ats.jta.cdi.DelegatingTransactionManager` is not proxyable. The page doesn&#39;t render any content and I have to start a new HTTP session to be able to continue on Node 2\r\n\r\n \r\n\r\n&gt;    [0m [31m11:31:47,479 ERROR [io.undertow.servlet.request] (default\r\n&gt; task-2) UT015005: Error invoking method requestInitialized on listener\r\n&gt; class org.jboss.weld.module.web.servlet.WeldInitialListener:\r\n&gt; org.jboss.weld.exceptions.UnproxyableResolutionException: WELD-001435:\r\n&gt; Normal scoped bean class\r\n&gt; com.arjuna.ats.jta.cdi.DelegatingTransactionManager is not proxyable\r\n&gt; because it has no no-args constructor - Managed Bean [class\r\n&gt; com.arjuna.ats.jta.cdi.NarayanaTransactionManager] with qualifiers\r\n&gt; [@Any @Default].\r\n\r\nFurther down it references one of our CDI @ViewScoped beans (ManageCheers):\r\n\r\n&gt; Caused by: an exception which occurred: \tin object of type\r\n&gt; org.jboss.weld.bean.proxy.util.SerializableClientProxy \tin field\r\n&gt; com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.transactionManager\r\n&gt; \tin object\r\n&gt; com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired@2cbfe004\r\n&gt; \tin object of type\r\n&gt; com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired\r\n&gt; \tin field\r\n&gt; org.jboss.weld.interceptor.proxy.InterceptionContext.interceptorInstances\r\n&gt; \tin object\r\n&gt; org.jboss.weld.interceptor.proxy.InterceptionContext@7ce2923f \tin\r\n&gt; object of type org.jboss.weld.interceptor.proxy.InterceptionContext\r\n&gt; \tin field\r\n&gt; org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.ctx \tin\r\n&gt; object\r\n&gt; org.jboss.weld.interceptor.proxy.InterceptorMethodHandler@651c0cb2 \tin\r\n&gt; object of type\r\n&gt; org.jboss.weld.interceptor.proxy.InterceptorMethodHandler \tin field\r\n&gt; org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.interceptorMethodHandler\r\n&gt; \tin object\r\n&gt; org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler@36f06fd5\r\n&gt; \tin object of type\r\n&gt; org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler\r\n&gt; \tin field\r\n&gt; com.myapp.actions.notifications.ManageCheers$Proxy$_$$_WeldSubclass.methodHandler\r\n&gt; \tin object\r\n&gt; com.myapp.actions.notifications.ManageCheers$Proxy$_$$_WeldSubclass@4e106109\r\n&gt; \tin object of type\r\n&gt; com.myapp.actions.notifications.ManageCheers$Proxy$_$$_WeldSubclass\r\n&gt; \tin object of type javax.faces.component.UIViewRoot$ViewMap \tin object\r\n&gt; of type com.sun.faces.util.LRUMap\r\n\r\n\r\n----------\r\n\r\n\r\n-----UPDATE\r\n-----------\r\n\r\nThe problem seems to be linked to the \r\n\r\n    @Transactional(Transactional.TxType.REQUIRED)\r\n\r\nannotation, if I remove this annotation from our CDI bean it does not occur, but then we have no transactions.\r\n\r\nI notice that NarayanaTransactionManager is @ApplicationScoped so maybe the server shutdown is causing it to be re-created?","title":"CDI / JTA - Error during session replication: UnproxyableResolutionException","body":"<p>I am testing server failover in a Wildfly 26 cluster (using standalone-ha.xml config)</p>\n<p>The application is a stateful JSF / Jakarta EE8 / CDI war deployment</p>\n<p>We are using Deltaspike Data and JPA modules in DAO pattern (with @RequestScoped entity managers)</p>\n<p>I have two nodes runnings 1 and 2 and perform the following steps:</p>\n<ul>\n<li>Login to a user account on Node 1 to create some session data.</li>\n<li>Perform a graceful shutdown of Node 1, logs show Node 1 has left the cluster and is reported in logs at Node 2</li>\n<li>Refresh browser</li>\n<li>Node 2 loads the replication session data then throws the exception pasted below to say that <code>com.arjuna.ats.jta.cdi.DelegatingTransactionManager</code> is not proxyable. The page doesn't render any content and I have to start a new HTTP session to be able to continue on Node 2</li>\n</ul>\n<blockquote>\n<p>[0m [31m11:31:47,479 ERROR [io.undertow.servlet.request] (default\ntask-2) UT015005: Error invoking method requestInitialized on listener\nclass org.jboss.weld.module.web.servlet.WeldInitialListener:\norg.jboss.weld.exceptions.UnproxyableResolutionException: WELD-001435:\nNormal scoped bean class\ncom.arjuna.ats.jta.cdi.DelegatingTransactionManager is not proxyable\nbecause it has no no-args constructor - Managed Bean [class\ncom.arjuna.ats.jta.cdi.NarayanaTransactionManager] with qualifiers\n[@Any @Default].</p>\n</blockquote>\n<p>Further down it references one of our CDI @ViewScoped beans (ManageCheers):</p>\n<blockquote>\n<p>Caused by: an exception which occurred:   in object of type\norg.jboss.weld.bean.proxy.util.SerializableClientProxy    in field\ncom.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.transactionManager\nin object\ncom.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired@2cbfe004\nin object of type\ncom.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired\nin field\norg.jboss.weld.interceptor.proxy.InterceptionContext.interceptorInstances\nin object\norg.jboss.weld.interceptor.proxy.InterceptionContext@7ce2923f     in\nobject of type org.jboss.weld.interceptor.proxy.InterceptionContext\nin field\norg.jboss.weld.interceptor.proxy.InterceptorMethodHandler.ctx     in\nobject\norg.jboss.weld.interceptor.proxy.InterceptorMethodHandler@651c0cb2    in\nobject of type\norg.jboss.weld.interceptor.proxy.InterceptorMethodHandler     in field\norg.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.interceptorMethodHandler\nin object\norg.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler@36f06fd5\nin object of type\norg.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler\nin field\ncom.myapp.actions.notifications.ManageCheers$Proxy$_$$<em>WeldSubclass.methodHandler\nin object\ncom.myapp.actions.notifications.ManageCheers$Proxy$</em>$$<em>WeldSubclass@4e106109\nin object of type\ncom.myapp.actions.notifications.ManageCheers$Proxy$</em>$$_WeldSubclass\nin object of type javax.faces.component.UIViewRoot$ViewMap  in object\nof type com.sun.faces.util.LRUMap</p>\n</blockquote>\n<hr />\n<h2>-----UPDATE</h2>\n<p>The problem seems to be linked to the</p>\n<pre><code>@Transactional(Transactional.TxType.REQUIRED)\n</code></pre>\n<p>annotation, if I remove this annotation from our CDI bean it does not occur, but then we have no transactions.</p>\n<p>I notice that NarayanaTransactionManager is @ApplicationScoped so maybe the server shutdown is causing it to be re-created?</p>\n"},{"tags":["java","git","jgit"],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1558077110,"creation_date":1457905090,"answer_id":35976190,"question_id":35974964,"body_markdown":"You can pass a `CredentialsProvider` to the `PushCommand` in the same way as with the `CloneCommand`.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    CredentialsProvider cp = new UsernamePasswordCredentialsProvider(username, password);\r\n    git.pull().setCredentialsProvider(cp).call();\r\n\r\n\r\nAll commands that connect to a remote repository, have a common base class: `TransportCommand`. And this class provides the means to specify authentication providers.\r\n\r\nTo learn more about authentication with JGit you may also want to have a look at the [JGit Authentication Explained](http://www.codeaffine.com/2014/12/09/jgit-authentication/) article I wrote some time ago.","title":"Authentification with JGit &#39;s PullCommand","body":"<p>You can pass a <code>CredentialsProvider</code> to the <code>PushCommand</code> in the same way as with the <code>CloneCommand</code>.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CredentialsProvider cp = new UsernamePasswordCredentialsProvider(username, password);\ngit.pull().setCredentialsProvider(cp).call();\n</code></pre>\n\n<p>All commands that connect to a remote repository, have a common base class: <code>TransportCommand</code>. And this class provides the means to specify authentication providers.</p>\n\n<p>To learn more about authentication with JGit you may also want to have a look at the <a href=\"http://www.codeaffine.com/2014/12/09/jgit-authentication/\" rel=\"noreferrer\">JGit Authentication Explained</a> article I wrote some time ago.</p>\n"},{"tags":[],"owner":{"account_id":14469914,"reputation":1110,"user_id":10917288,"display_name":"Rafis Ganeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752719,"creation_date":1663752719,"answer_id":73798482,"question_id":35974964,"body_markdown":"If you are using `org.apache.maven.scm:maven-scm-provider-jgit` you can configure credentials as a `&lt;server&gt;` in Maven `settings.xml`. Be sure the `&lt;id&gt;` matches host of Git server.","title":"Authentification with JGit &#39;s PullCommand","body":"<p>If you are using <code>org.apache.maven.scm:maven-scm-provider-jgit</code> you can configure credentials as a <code>&lt;server&gt;</code> in Maven <code>settings.xml</code>. Be sure the <code>&lt;id&gt;</code> matches host of Git server.</p>\n"}],"owner":{"account_id":450916,"reputation":1435,"user_id":846507,"accept_rate":64,"display_name":"Hauke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21542,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":35976190,"answer_count":2,"score":8,"last_activity_date":1663752719,"creation_date":1457898547,"question_id":35974964,"body_markdown":"I am using JGit and want to pull from the remote repository to my local repository.\r\n\r\nThe first approch was to clone the repository and that worked fine:\r\n\r\n    CredentialsProvider cp = new UsernamePasswordCredentialsProvider(username, password);\r\n\ttry (Git result = Git.cloneRepository()\r\n\t\t.setURI(&quot;http://172.20.1.2/team/myrepo.git&quot;)\r\n\t\t.setDirectory(new File(&quot;c:\\\\temp\\\\gittest&quot;))\r\n\t\t.setCredentialsProvider(cp)\r\n\t\t.call()) {\r\n\t\t    System.out.println(&quot;Having repository: &quot; + result.getRepository().getDirectory());\r\n\t\t}\r\n\r\nBut after the second call the repository does not need to be cloned again. Therefore I thought I need to pull\r\n\r\n\r\n\tGit git = Git.open(new File(&quot;c:\\\\temp\\\\gittest&quot;));\r\n\tgit.pull().call();\r\n\t\t\t\r\nBut I get the following error:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    org.eclipse.jgit.api.errors.TransportException: http://172.20.1.2/team/myrepo.git: Authentication is required but no CredentialsProvider has been registered\r\n\r\nI do not know where I can pass the pull command the credentials. \r\n\t","title":"Authentification with JGit &#39;s PullCommand","body":"<p>I am using JGit and want to pull from the remote repository to my local repository.</p>\n\n<p>The first approch was to clone the repository and that worked fine:</p>\n\n<pre><code>CredentialsProvider cp = new UsernamePasswordCredentialsProvider(username, password);\ntry (Git result = Git.cloneRepository()\n    .setURI(\"http://172.20.1.2/team/myrepo.git\")\n    .setDirectory(new File(\"c:\\\\temp\\\\gittest\"))\n    .setCredentialsProvider(cp)\n    .call()) {\n        System.out.println(\"Having repository: \" + result.getRepository().getDirectory());\n    }\n</code></pre>\n\n<p>But after the second call the repository does not need to be cloned again. Therefore I thought I need to pull</p>\n\n<pre><code>Git git = Git.open(new File(\"c:\\\\temp\\\\gittest\"));\ngit.pull().call();\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.eclipse.jgit.api.errors.TransportException: http://172.20.1.2/team/myrepo.git: Authentication is required but no CredentialsProvider has been registered\n</code></pre>\n\n<p>I do not know where I can pass the pull command the credentials. </p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data","jpql"],"comments":[{"owner":{"account_id":6089597,"reputation":748,"user_id":4752381,"display_name":"Airy"},"score":1,"creation_date":1663578408,"post_id":73770408,"comment_id":130264527,"body_markdown":"Does this answer your question? [How to map calculated properties with JPA and Hibernate](https://stackoverflow.com/questions/2986318/how-to-map-calculated-properties-with-jpa-and-hibernate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2986318/how-to-map-calculated-properties-with-jpa-and-hibernate\">How to map calculated properties with JPA and Hibernate</a>"},{"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"score":0,"creation_date":1663581859,"post_id":73770408,"comment_id":130265602,"body_markdown":"Thanks for suggesting but  my use case is with CASE statement.","body":"Thanks for suggesting but  my use case is with CASE statement."}],"answers":[{"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752491,"creation_date":1663622260,"answer_id":73779384,"question_id":73770408,"body_markdown":"Actually, @Airy&#39;s assumption is absolutely relevant!\r\nI just have modeled the issue with a small `h2`-based project. Disclaimer: it&#39;s just a piece of code of a synthetic model&lt;p&gt;\r\n**Given**: `Pet` entity. It has a `typeCode` property of `Integer`. &lt;p&gt;\r\n**Todo**: Implement another property, that&#39;ll return pet&#39;s type name by its `typeCode`. \r\n\r\nHere, we use `@Transient` [annotation][1] to specify that a given attribute should not be persisted, and `@PostLoad` [annotation][2] to make `initTransient()` method be invoked after entity loading. `@Formula` annotation is used to calculate a custom value for a `typeName` during entity loading \r\n\r\n    @Entity\r\n    public class Pet {\r\n    \r\n      @Transient\r\n      public String ownerLastName;\r\n    \r\n      @PostLoad\r\n      void initTransient() {\r\n        ownerLastName = Optional.ofNullable(getOwner()).map(Owner::getLastName).orElse(&quot;&#39;Doe&#39;&quot;);\r\n      }\r\n    \r\n      @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n      @JoinColumn(name = &quot;r_owner_id&quot;, referencedColumnName = &quot;id&quot;)\r\n      private Owner owner;\r\n    \r\n      @Id\r\n      @Column(name = &quot;id&quot;, nullable = false)\r\n      @GeneratedValue\r\n      private Long id;\r\n    \r\n      @Column\r\n      private String name;\r\n    \r\n      @Column\r\n      private Integer typeCode;\r\n    \r\n      @Formula(&quot;case type_code when 1 then &#39;Cat&#39; when 2 then &#39;Dog&#39; else &#39;Chupacabra&#39; end&quot;)\r\n      private String typeName;\r\n      \r\n      //get, set etc\r\n    \r\n      @Override\r\n      public String toString() {\r\n    \treturn new StringJoiner(&quot;, &quot;, Pet.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n    \t\t.add(&quot;id=&quot; + getId())\r\n    \t\t.add(&quot;name=&#39;&quot; + getName() + &quot;&#39;&quot;)\r\n    \t\t.add(&quot;typeCode=&quot; + getTypeCode())\r\n    \t\t.add(&quot;ownerLastName=&quot; + getOwnerLastName())\r\n    \t\t.add(&quot;typeName=&#39;&quot; + getTypeName() + &quot;&#39;&quot;)\r\n    \t\t.toString();\r\n      }\r\n    }\r\n\r\nIn a bootstrap:\r\n\r\n    var cat = new Pet();\r\n    cat.setName(&quot;Oscar&quot;);\r\n    cat.setTypeCode(1);\r\n    \r\n    var dog = new Pet();\r\n    dog.setName(&quot;Lucky&quot;);\r\n    dog.setTypeCode(2);\r\n    \r\n    var customPet = new Pet();\r\n    customPet.setName(&quot;Smoking kills&quot;);\r\n    \r\n    Set&lt;Pet&gt; pets = Set.of(cat, dog, customPet);\r\n    \r\n    var owner = new Owner();\r\n    owner.setFirstName(&quot;John&quot;);\r\n    owner.setPets(pets);\r\n    \r\n    ownerRepository.save(owner);\r\n    \r\n    System.out.println(&quot;Database was successfully initialized with data: &quot;);\r\n    System.out.println(cat);\r\n    System.out.println(owner);\r\n    \r\n    Console:\r\n    Pet[id=1, name=&#39;Oscar&#39;, age=6, ownerLastName=null, typeCode=1, typeName=&#39;null&#39;, type=CAT]\r\n    Owner[id=1, lastName=&#39;null&#39;, firstName=&#39;John&#39;]\r\n\r\nAs you can see, `ownerLastName=null` here, but let&#39;s go on and load data.\r\n \r\ntest:\r\n\r\n    public void interact() {\r\n    \tvar pet1 = petRepository.findById(1L).get();\r\n    \tvar pet2 = petRepository.findById(2L).get();\r\n    \tvar pet = petRepository.findById(3L).get();\r\n        var owner = ownerRepository.findById(1L).get();\r\n    \r\n    \tSystem.out.println(pet1);\r\n    \tSystem.out.println(pet2);\r\n    \tSystem.out.println(pet);\r\n        System.out.println(owner);\r\n    }\r\n    \r\n    Console:\r\n    Pet[id=1, name=&#39;Oscar&#39;, age=6, ownerLastName=&#39;Doe&#39;, typeCode=1, typeName=&#39;Cat&#39;, type=CAT]\r\n\tPet[id=2, name=&#39;Lucky&#39;, age=10, ownerLastName=&#39;Doe&#39;, typeCode=2, typeName=&#39;Dog&#39;, type=DOG]\r\n\tPet[id=3, name=&#39;Smoking kills&#39;, age=null, ownerLastName=&#39;Doe&#39;, typeCode=null, typeName=&#39;Chupacabra&#39;, type=null]\r\n\tOwner[id=1, lastName=&#39;null&#39;, firstName=&#39;John&#39;]\r\nAs you can see, `ownerLastName` has been initialized with a default `Doe` value.\r\n\r\nFrom `Hibernate`&#39;s reference of [formula][3]:\r\n\r\n&gt; You can use a SQL fragment (aka formula) instead of mapping a property\r\n&gt; into a column\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/beans/Transient.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/persistence/PostLoad.html\r\n  [3]: https://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#d0e2785","title":"How to Map a CASE Statement alias to a java pojo attribute in JPA/JPQL?","body":"<p>Actually, @Airy's assumption is absolutely relevant!\nI just have modeled the issue with a small <code>h2</code>-based project. Disclaimer: it's just a piece of code of a synthetic model<p>\n<strong>Given</strong>: <code>Pet</code> entity. It has a <code>typeCode</code> property of <code>Integer</code>. <p>\n<strong>Todo</strong>: Implement another property, that'll return pet's type name by its <code>typeCode</code>.</p>\n<p>Here, we use <code>@Transient</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/beans/Transient.html\" rel=\"nofollow noreferrer\">annotation</a> to specify that a given attribute should not be persisted, and <code>@PostLoad</code> <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/PostLoad.html\" rel=\"nofollow noreferrer\">annotation</a> to make <code>initTransient()</code> method be invoked after entity loading. <code>@Formula</code> annotation is used to calculate a custom value for a <code>typeName</code> during entity loading</p>\n<pre><code>@Entity\npublic class Pet {\n\n  @Transient\n  public String ownerLastName;\n\n  @PostLoad\n  void initTransient() {\n    ownerLastName = Optional.ofNullable(getOwner()).map(Owner::getLastName).orElse(&quot;'Doe'&quot;);\n  }\n\n  @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;r_owner_id&quot;, referencedColumnName = &quot;id&quot;)\n  private Owner owner;\n\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  @GeneratedValue\n  private Long id;\n\n  @Column\n  private String name;\n\n  @Column\n  private Integer typeCode;\n\n  @Formula(&quot;case type_code when 1 then 'Cat' when 2 then 'Dog' else 'Chupacabra' end&quot;)\n  private String typeName;\n  \n  //get, set etc\n\n  @Override\n  public String toString() {\n    return new StringJoiner(&quot;, &quot;, Pet.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n        .add(&quot;id=&quot; + getId())\n        .add(&quot;name='&quot; + getName() + &quot;'&quot;)\n        .add(&quot;typeCode=&quot; + getTypeCode())\n        .add(&quot;ownerLastName=&quot; + getOwnerLastName())\n        .add(&quot;typeName='&quot; + getTypeName() + &quot;'&quot;)\n        .toString();\n  }\n}\n</code></pre>\n<p>In a bootstrap:</p>\n<pre><code>var cat = new Pet();\ncat.setName(&quot;Oscar&quot;);\ncat.setTypeCode(1);\n\nvar dog = new Pet();\ndog.setName(&quot;Lucky&quot;);\ndog.setTypeCode(2);\n\nvar customPet = new Pet();\ncustomPet.setName(&quot;Smoking kills&quot;);\n\nSet&lt;Pet&gt; pets = Set.of(cat, dog, customPet);\n\nvar owner = new Owner();\nowner.setFirstName(&quot;John&quot;);\nowner.setPets(pets);\n\nownerRepository.save(owner);\n\nSystem.out.println(&quot;Database was successfully initialized with data: &quot;);\nSystem.out.println(cat);\nSystem.out.println(owner);\n\nConsole:\nPet[id=1, name='Oscar', age=6, ownerLastName=null, typeCode=1, typeName='null', type=CAT]\nOwner[id=1, lastName='null', firstName='John']\n</code></pre>\n<p>As you can see, <code>ownerLastName=null</code> here, but let's go on and load data.</p>\n<p>test:</p>\n<pre><code>public void interact() {\n    var pet1 = petRepository.findById(1L).get();\n    var pet2 = petRepository.findById(2L).get();\n    var pet = petRepository.findById(3L).get();\n    var owner = ownerRepository.findById(1L).get();\n\n    System.out.println(pet1);\n    System.out.println(pet2);\n    System.out.println(pet);\n    System.out.println(owner);\n}\n\nConsole:\nPet[id=1, name='Oscar', age=6, ownerLastName='Doe', typeCode=1, typeName='Cat', type=CAT]\nPet[id=2, name='Lucky', age=10, ownerLastName='Doe', typeCode=2, typeName='Dog', type=DOG]\nPet[id=3, name='Smoking kills', age=null, ownerLastName='Doe', typeCode=null, typeName='Chupacabra', type=null]\nOwner[id=1, lastName='null', firstName='John']\n</code></pre>\n<p>As you can see, <code>ownerLastName</code> has been initialized with a default <code>Doe</code> value.</p>\n<p>From <code>Hibernate</code>'s reference of <a href=\"https://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#d0e2785\" rel=\"nofollow noreferrer\">formula</a>:</p>\n<blockquote>\n<p>You can use a SQL fragment (aka formula) instead of mapping a property\ninto a column</p>\n</blockquote>\n"}],"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663752491,"creation_date":1663575447,"question_id":73770408,"body_markdown":"JPQL :\r\n```\r\n@Query(value=&quot;SELECT emp,CASE WHEN emp.country=&#39;india&#39; THEN &#39;INDIAN&#39; ELSE &#39;OTHER&#39; END AS originCountry FROM EMPLOYEE emp&quot;)   //originCountry is not a column of Entity/Table\r\nList&lt;Employee&gt; findAllEmployee()\r\n```\r\n\r\nNow how to map originCountry to a java property/attribute ?\r\nALL result set attribute will be mapped to the employee object automatically but how to map the originCountry attribute as it is not coming from database table ?\r\n\r\nJava class :\r\n```\r\n@Table(name=&quot;employee&quot;)\r\n@Entity\r\n@Getter\r\n@Setter\r\nclass Employee{\r\n\r\n      @Id\r\n      @Column(name=&quot;emp_id&quot;)\r\n      private String empId;\r\n\r\n      @Column(name=&quot;emp_name&quot;)\r\n      private String empName;\r\n\r\n      @Column(name=&quot;emp_address&quot;)\r\n      private String empAddress;\r\n\r\n      @Transient\r\n      private String originCountry; //I want to map CASE statement alias result to this variable\r\n      \r\n}\r\n","title":"How to Map a CASE Statement alias to a java pojo attribute in JPA/JPQL?","body":"<p>JPQL :</p>\n<pre><code>@Query(value=&quot;SELECT emp,CASE WHEN emp.country='india' THEN 'INDIAN' ELSE 'OTHER' END AS originCountry FROM EMPLOYEE emp&quot;)   //originCountry is not a column of Entity/Table\nList&lt;Employee&gt; findAllEmployee()\n</code></pre>\n<p>Now how to map originCountry to a java property/attribute ?\nALL result set attribute will be mapped to the employee object automatically but how to map the originCountry attribute as it is not coming from database table ?</p>\n<p>Java class :</p>\n<pre><code>@Table(name=&quot;employee&quot;)\n@Entity\n@Getter\n@Setter\nclass Employee{\n\n      @Id\n      @Column(name=&quot;emp_id&quot;)\n      private String empId;\n\n      @Column(name=&quot;emp_name&quot;)\n      private String empName;\n\n      @Column(name=&quot;emp_address&quot;)\n      private String empAddress;\n\n      @Transient\n      private String originCountry; //I want to map CASE statement alias result to this variable\n      \n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663752479,"creation_date":1663750147,"answer_id":73797885,"question_id":73797739,"body_markdown":"The `JTable` needs to be contained *within* the scrollpane\r\n\r\n    scrollPane.setViewportView(table);\r\n    // table.add(scrollPane); don&#39;t do this\r\n    panel.add(scrollPane);\r\n\r\nAlso you need to define the columns for your model. E.g.\r\n\r\n    model.addColumn(&quot;Name&quot;);\r\n\r\nthen add a row\r\n\r\n    // model.addRow(list.toArray()); varible-length row - don&#39;t do this\r\n    model.addRow(new Object[] { nameField.getText() });\r\n\r\n","title":"Java - Swing - Update a JTable with user input, the JTable isn&#39;t visible","body":"<p>The <code>JTable</code> needs to be contained <em>within</em> the scrollpane</p>\n<pre><code>scrollPane.setViewportView(table);\n// table.add(scrollPane); don't do this\npanel.add(scrollPane);\n</code></pre>\n<p>Also you need to define the columns for your model. E.g.</p>\n<pre><code>model.addColumn(&quot;Name&quot;);\n</code></pre>\n<p>then add a row</p>\n<pre><code>// model.addRow(list.toArray()); varible-length row - don't do this\nmodel.addRow(new Object[] { nameField.getText() });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22096867,"reputation":1,"user_id":20050547,"display_name":"Diana Andrei"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663750442,"creation_date":1663750442,"answer_id":73797972,"question_id":73797739,"body_markdown":"You want to display it? Then you just need to create a new Label with your input text and add this label to your panel.\r\n\r\n```\r\nadd.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(e.getSource()==add) {\r\n                    model.addRow(list.toArray());\r\n                    JLabel text = new JLabel(nameField.getText());\r\n                    panel.add(text);\r\n                }\r\n            }\r\n        });```\r\n","title":"Java - Swing - Update a JTable with user input, the JTable isn&#39;t visible","body":"<p>You want to display it? Then you just need to create a new Label with your input text and add this label to your panel.</p>\n<pre><code>add.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if(e.getSource()==add) {\n                    model.addRow(list.toArray());\n                    JLabel text = new JLabel(nameField.getText());\n                    panel.add(text);\n                }\n            }\n        });```\n</code></pre>\n"}],"owner":{"account_id":23190433,"reputation":27,"user_id":17286881,"display_name":"Brainmated"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73797885,"answer_count":2,"score":0,"last_activity_date":1663752479,"creation_date":1663749453,"question_id":73797739,"body_markdown":"I&#39;m practicing with JTables and I&#39;m looking at the documentation as well for JTables at Oracle&#39;s J 7&#39;s library. What I&#39;m working on is getting user input and display it in a JTable, simple.\r\n\r\nMy code currently is:\r\n```\r\npublic class tablePractice {\r\n\t\r\n\tJFrame frame=new JFrame(&quot;Table Test&quot;);\r\n\tJPanel panel=new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n\t\r\n\tJLabel username=new JLabel(&quot;Username: &quot;);\r\n\tJTextField nameField=new JTextField(10);\r\n\tJButton add=new JButton(&quot;Add&quot;);\r\n\t\r\n\tJTable table=new JTable();\r\n\tJScrollPane scrollPane=new JScrollPane();\r\n\r\n\tDefaultTableModel model=new DefaultTableModel();\r\n\tArrayList&lt;String&gt; list=new ArrayList&lt;String&gt;();\r\n\t\r\n\tpublic void setInterface() {\r\n\t\t\r\n\t\tframe.setSize(300,300);\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setContentPane(panel);\r\n\t\tpanel.add(username);\r\n\t\tpanel.add(nameField);\r\n\t\t\r\n\t\t\r\n\t\tadd.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(e.getSource()==add) {\r\n\t\t\t\t\tlist.add(nameField.getText());\r\n\t\t\t\t\tmodel.addRow(list.toArray());\r\n\t\t\t\t\tSystem.out.println(list);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tpanel.add(add);\r\n\t\ttable.setModel(model);\r\n\t\ttable.add(scrollPane);\r\n\t\tpanel.add(table);\r\n\t\t\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\ttablePractice run=new tablePractice();\r\n\t\trun.setInterface();\r\n\t}\r\n}\r\n```\r\n[![Frame2][2]][2]\r\nAnd the list is printed on the console but I have no JTable present. \r\nAm I missing something?\r\n\r\n  [1]: https://i.stack.imgur.com/4NPvq.png\r\n  [2]: https://i.stack.imgur.com/HIWJS.png","title":"Java - Swing - Update a JTable with user input, the JTable isn&#39;t visible","body":"<p>I'm practicing with JTables and I'm looking at the documentation as well for JTables at Oracle's J 7's library. What I'm working on is getting user input and display it in a JTable, simple.</p>\n<p>My code currently is:</p>\n<pre><code>public class tablePractice {\n    \n    JFrame frame=new JFrame(&quot;Table Test&quot;);\n    JPanel panel=new JPanel(new FlowLayout(FlowLayout.CENTER));\n    \n    JLabel username=new JLabel(&quot;Username: &quot;);\n    JTextField nameField=new JTextField(10);\n    JButton add=new JButton(&quot;Add&quot;);\n    \n    JTable table=new JTable();\n    JScrollPane scrollPane=new JScrollPane();\n\n    DefaultTableModel model=new DefaultTableModel();\n    ArrayList&lt;String&gt; list=new ArrayList&lt;String&gt;();\n    \n    public void setInterface() {\n        \n        frame.setSize(300,300);\n        \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setContentPane(panel);\n        panel.add(username);\n        panel.add(nameField);\n        \n        \n        add.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if(e.getSource()==add) {\n                    list.add(nameField.getText());\n                    model.addRow(list.toArray());\n                    System.out.println(list);\n                }\n            }\n        });\n        panel.add(add);\n        table.setModel(model);\n        table.add(scrollPane);\n        panel.add(table);\n        \n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n    }\n    \n    public static void main(String[] args) {\n        tablePractice run=new tablePractice();\n        run.setInterface();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HIWJS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HIWJS.png\" alt=\"Frame2\" /></a>\nAnd the list is printed on the console but I have no JTable present.\nAm I missing something?</p>\n"},{"tags":["java","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":8438,"reputation":1467,"user_id":15209,"display_name":"ofaurax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752460,"creation_date":1663752460,"answer_id":73798419,"question_id":73784945,"body_markdown":"Yes.\r\n\r\nIf you use Docker as VM, you can setup a runner that uses docker images.\r\n\r\nThat runner could use an image that contains a java runtime to launch `java -jar yourfile.jar`.\r\n\r\nCurrent supported java docker image can be found on the hub, e.g. https://hub.docker.com/_/ibmjava","title":"Is there a way to run a jar inside a vm with gitlab-ci","body":"<p>Yes.</p>\n<p>If you use Docker as VM, you can setup a runner that uses docker images.</p>\n<p>That runner could use an image that contains a java runtime to launch <code>java -jar yourfile.jar</code>.</p>\n<p>Current supported java docker image can be found on the hub, e.g. <a href=\"https://hub.docker.com/_/ibmjava\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/ibmjava</a></p>\n"}],"owner":{"account_id":25341504,"reputation":23,"user_id":19159837,"display_name":"neel jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663752460,"creation_date":1663668173,"question_id":73784945,"body_markdown":"I have a jar inside VM which needs to be run via gitlab-ci pipeline. Is there any way to exec into the VM and run jar inside VM through gitlab pipeline ?","title":"Is there a way to run a jar inside a vm with gitlab-ci","body":"<p>I have a jar inside VM which needs to be run via gitlab-ci pipeline. Is there any way to exec into the VM and run jar inside VM through gitlab pipeline ?</p>\n"},{"tags":["java","printing","zpl"],"answers":[{"tags":[],"owner":{"account_id":25086,"reputation":6435,"user_id":64238,"accept_rate":84,"display_name":"Ovi Tisler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1402069890,"creation_date":1402069890,"answer_id":24085957,"question_id":24084850,"body_markdown":"SGDs like that need to be terminated with a `\\r\\n`.\r\n\r\nAlso, [Zebra provides a Java API][1] to ease communications with Zebra printers. There&#39;s a bunch of Javadoc and example code that comes with the download\r\n\r\n\r\n\r\n  [1]: http://www.zebra.com/content/zebra/us/en/products-services/software/link-os/link-os-sdk.html","title":"Sending SGD command to Zebra printer and receiving the response with Java","body":"<p>SGDs like that need to be terminated with a <code>\\r\\n</code>.</p>\n\n<p>Also, <a href=\"http://www.zebra.com/content/zebra/us/en/products-services/software/link-os/link-os-sdk.html\" rel=\"nofollow\">Zebra provides a Java API</a> to ease communications with Zebra printers. There's a bunch of Javadoc and example code that comes with the download</p>\n"},{"tags":[],"owner":{"account_id":26400207,"reputation":11,"user_id":20050779,"display_name":"DnS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663751609,"creation_date":1663751609,"answer_id":73798237,"question_id":24084850,"body_markdown":"I know this is very old topic, but I found this during my research few days ago and I just figured out a different approach.\r\nThis answer might help others finding their answers :)\r\n\r\nOpening a simple connection to the printer on port 9100 for each command it works fine.\r\n\r\nexample send SDG commands to a zebra zt410 trough a raw tcp-ip connection:\r\n```\r\n# get current state of telnet\r\necho &#39;! U getvar &quot;ip.telnet.enable&quot;&#39; | nc &lt;printerIP&gt; 9100\r\n#Response received: &quot;on&quot;\r\n\r\n# send disable telnet command\r\necho &#39;! U1 setvar &quot;ip.telnet.enable&quot; &quot;off&quot;&#39; | nc &lt;printerIP&gt; 9100\r\n# No response received.\r\n\r\n# get current state of telnet\r\necho &#39;! U getvar &quot;ip.telnet.enable&quot;&#39; | nc &lt;printerIP&gt; 9100\r\n# Response received: &quot;off&quot;\r\n```\r\n","title":"Sending SGD command to Zebra printer and receiving the response with Java","body":"<p>I know this is very old topic, but I found this during my research few days ago and I just figured out a different approach.\nThis answer might help others finding their answers :)</p>\n<p>Opening a simple connection to the printer on port 9100 for each command it works fine.</p>\n<p>example send SDG commands to a zebra zt410 trough a raw tcp-ip connection:</p>\n<pre><code># get current state of telnet\necho '! U getvar &quot;ip.telnet.enable&quot;' | nc &lt;printerIP&gt; 9100\n#Response received: &quot;on&quot;\n\n# send disable telnet command\necho '! U1 setvar &quot;ip.telnet.enable&quot; &quot;off&quot;' | nc &lt;printerIP&gt; 9100\n# No response received.\n\n# get current state of telnet\necho '! U getvar &quot;ip.telnet.enable&quot;' | nc &lt;printerIP&gt; 9100\n# Response received: &quot;off&quot;\n</code></pre>\n"}],"owner":{"account_id":4577290,"reputation":163,"user_id":3715417,"display_name":"MichaÅ‚ Kolenda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3357,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24085957,"answer_count":2,"score":3,"last_activity_date":1663751609,"creation_date":1402066532,"question_id":24084850,"body_markdown":"I&#39;m working on Java application which prints label on Zebra printer. I&#39;ve been using ZPL language and Java printing API till now, but ZPL is not suffiecient for my further works. The next thing I need to do is (programatically) checking if font with specified name is already installed on the printer. I&#39;ve found that I may achieve my goal with SGD commands. But I have no idea how to send it from Java application and get the response. The command I would like to send is\r\n\r\n`! U1 do &quot;file.dir&quot; &quot;R:&quot;`\r\n\r\nHas anybody met similar problem? The printer is connected with computer via USB. Is it possible to use Java printing API to send the command and receive answer or maybe I should use sockets or something completely different?","title":"Sending SGD command to Zebra printer and receiving the response with Java","body":"<p>I'm working on Java application which prints label on Zebra printer. I've been using ZPL language and Java printing API till now, but ZPL is not suffiecient for my further works. The next thing I need to do is (programatically) checking if font with specified name is already installed on the printer. I've found that I may achieve my goal with SGD commands. But I have no idea how to send it from Java application and get the response. The command I would like to send is</p>\n\n<p><code>! U1 do \"file.dir\" \"R:\"</code></p>\n\n<p>Has anybody met similar problem? The printer is connected with computer via USB. Is it possible to use Java printing API to send the command and receive answer or maybe I should use sockets or something completely different?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver-manager"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663751448,"creation_date":1663751448,"answer_id":73798202,"question_id":73798146,"body_markdown":"You can use [WebDriverManager][1].  \r\nThis will insure your `WebDriver` is always updated automatically.\r\n\r\n\r\n  [1]: https://bonigarcia.dev/webdrivermanager/","title":"How to check a webdriver is in line with browser version in Selenium","body":"<p>You can use <a href=\"https://bonigarcia.dev/webdrivermanager/\" rel=\"nofollow noreferrer\">WebDriverManager</a>.<br />\nThis will insure your <code>WebDriver</code> is always updated automatically.</p>\n"}],"owner":{"account_id":3479468,"reputation":187,"user_id":2911926,"accept_rate":60,"display_name":"Ian Thompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73798202,"answer_count":1,"score":1,"last_activity_date":1663751482,"creation_date":1663751197,"question_id":73798146,"body_markdown":"Before I run my TestNG suite I would like to check that Chrome and Edge webdriver are up to date and stop the TestNG suite if the browser can&#39;t be lauched.\r\n\r\n\r\nMy code so far is,\r\n\r\n    \tEdgeDriver driver2 = new EdgeDriver();\r\n\t\tStartBrowser.driver(driver2, prop2);\r\n\t\tLogFile.logfile(&quot;Perform Second logon to Edge Browser&quot;);\r\n\r\n\t\tif(!LogonUser.logonButton(driver2).isEnabled())\r\n\t\t{\r\n\t\t\tLogFile.logfile(&quot;Logon button not detected for Edge, assuming webdriver is out of date&quot;);\r\n\t\t\tSystem.exit(2);\r\n\t\t}\r\n\r\n\t\tLogFile.logfile(&quot;Logon button detected, webdriver is assumed to be valid for Edge&quot;);\r\n\r\n\r\nAt the point this line, &quot;EdgeDriver driver2 = new EdgeDriver();&quot; runs, it goes into the TestInvoker.class and the test stops and goes on to the next @test.\r\n\r\nIs there a way of testing the webdriver before instantiating it?\r\n\r\nOr perhaps I&#39;m looking at the solution in the wrong way?\r\n\r\nMany Thanks.","title":"How to check a webdriver is in line with browser version in Selenium","body":"<p>Before I run my TestNG suite I would like to check that Chrome and Edge webdriver are up to date and stop the TestNG suite if the browser can't be lauched.</p>\n<p>My code so far is,</p>\n<pre><code>    EdgeDriver driver2 = new EdgeDriver();\n    StartBrowser.driver(driver2, prop2);\n    LogFile.logfile(&quot;Perform Second logon to Edge Browser&quot;);\n\n    if(!LogonUser.logonButton(driver2).isEnabled())\n    {\n        LogFile.logfile(&quot;Logon button not detected for Edge, assuming webdriver is out of date&quot;);\n        System.exit(2);\n    }\n\n    LogFile.logfile(&quot;Logon button detected, webdriver is assumed to be valid for Edge&quot;);\n</code></pre>\n<p>At the point this line, &quot;EdgeDriver driver2 = new EdgeDriver();&quot; runs, it goes into the TestInvoker.class and the test stops and goes on to the next @test.</p>\n<p>Is there a way of testing the webdriver before instantiating it?</p>\n<p>Or perhaps I'm looking at the solution in the wrong way?</p>\n<p>Many Thanks.</p>\n"},{"tags":["java","spring","hibernate-mapping"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1663751878,"post_id":73798185,"comment_id":130311115,"body_markdown":"Maybe [this answer](https://stackoverflow.com/a/36739956/7132739) helps. However, it seems to be a dependency problem.","body":"Maybe <a href=\"https://stackoverflow.com/a/36739956/7132739\">this answer</a> helps. However, it seems to be a dependency problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663752131,"post_id":73798185,"comment_id":130311203,"body_markdown":"`java.lang.NoClassDefFoundError: [Lorg/hibernate/engine/FilterDefinition` seems pretty clear on what is wrong.","body":"<code>java.lang.NoClassDefFoundError: [Lorg&#47;hibernate&#47;engine&#47;FilterDefinition</code> seems pretty clear on what is wrong."},{"owner":{"account_id":20826939,"reputation":3,"user_id":15297193,"display_name":"manu"},"score":0,"creation_date":1663754477,"post_id":73798185,"comment_id":130312091,"body_markdown":"ok thank you .now i changed hibernate versions that problem solved.","body":"ok thank you .now i changed hibernate versions that problem solved."}],"owner":{"account_id":20826939,"reputation":3,"user_id":15297193,"display_name":"manu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663751387,"creation_date":1663751387,"question_id":73798185,"body_markdown":"I am trying to read properties from a properties file in Spring Framework I amusing SpringToolSuite MVC template my code as follows\r\n\r\nhere is my project directory structure \r\nI am using the java platform JDK 1.8\r\nspring framework 4.0.1\r\njstl 1.2.1  \r\ni am give the details of the project below. \r\nI am getting\r\nwhen run the project spring MVC hibernate shows error .\r\n   \r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping#0&#39; defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Initialization of bean failed; \r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;studentController&#39;: Injection of autowired dependencies failed; \r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: sample.dao.studentDao sample.controller.studentController.stDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;studentDao&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.hibernate.SessionFactory sample.dao.studentDao.sessionFactory; nested exception is java.lang.NoClassDefFoundError: [Lorg/hibernate/engine/FilterDefinition;\r\n  \r\n\r\nthis is dispatcher-servelt.xml program\r\n\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    \r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                                http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n                                http://www.springframework.org/schema/context\r\n                                http://www.springframework.org/schema/context/spring-context-4.0.xsd\r\n                                http://www.springframework.org/schema/tx\r\n                                http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\r\n                                http://www.springframework.org/schema/mvc\r\n                                http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\r\n                                http://www.springframework.org/schema/aop\r\n                                http://www.springframework.org/schema/aop/spring-aop-4.0.xsd&quot;&gt;\r\n    \r\n        &lt;bean class=&quot;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping&quot;/&gt;\r\n    \r\n        &lt;!--\r\n        Most controllers will use the ControllerClassNameHandlerMapping above, but\r\n        for the index controller we are using ParameterizableViewController, so we must\r\n        define an explicit mapping for it.\r\n        \r\n        --&gt;\r\n        &lt;context:component-scan base-package=&quot;sample&quot;&gt;&lt;/context:component-scan&gt;\r\n         &lt;mvc:annotation-driven/&gt;\r\n         \r\n       \r\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n            &lt;property name=&quot;mappings&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;viewResolver&quot;\r\n              class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n              p:prefix=&quot;/WEB-INF/jsp/&quot;\r\n              p:suffix=&quot;.jsp&quot; /&gt;\r\n    \r\n        &lt;!--\r\n        The index controller.\r\n        --&gt;\r\n    &lt;!--    &lt;bean name=&quot;indexController&quot;\r\n              class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n              p:viewName=&quot;index&quot; /&gt;--&gt;\r\n              \r\n              \r\n              \r\n              \r\n    &lt;bean class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; id=&quot;dataSource&quot;&gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/hibernatemvc&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;mysql&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n     &lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;sample&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;hibernateTransactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nthis code is studentcontroller.java file\r\n\r\n\r\n\r\n    package sample.controller;\r\n    \r\n    import com.google.gson.Gson;\r\n    import java.util.List;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import sample.dao.studentDao;\r\n    import sample.entity.Details;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author admin\r\n     */\r\n    \r\n    @Controller\r\n    public class studentController {\r\n          @Autowired\r\n        studentDao stDao;\r\n         @RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\r\n        public String index()\r\n        {\r\n            System.out.println(&quot;at index&quot;);\r\n            return &quot;index&quot;;\r\n        }\r\n        \r\n        @RequestMapping(value =&quot;insert.htm&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody String insert\r\n            (\r\n                @RequestParam(&quot;id&quot;) Integer id,\r\n                @RequestParam(&quot;name&quot;) String name,\r\n                @RequestParam(&quot;email&quot;) String email,\r\n                @RequestParam(&quot;fee&quot;) String fee,\r\n                  @RequestParam(&quot;sname&quot;) String sname,\r\n                  @RequestParam(&quot;contactno&quot;) String contactno\r\n            )\r\n      \r\n            {\r\n    \r\n            Details ei= new Details();\r\n            ei.setName(name);\r\n            ei.setEmail(email);\r\n            ei.setFee(fee);\r\n            ei.setSname(sname);\r\n            ei.setContactno(contactno);\r\n            \r\n            stDao.save(ei);\r\n            \r\n            Gson ob = new Gson();\r\n            return &quot;success&quot;;\r\n       }\r\n        \r\n     @RequestMapping(value=&quot;fetch.htm&quot;, method = RequestMethod.GET)\r\n        public @ResponseBody String display() \r\n        {\r\n            List&lt;Details&gt; listdetails = (List&lt;Details&gt;) stDao.display();\r\n            return new Gson().toJson(listdetails);\r\n        }\r\n    \r\n        \r\n        @RequestMapping(value = &quot;delete.htm&quot;)\r\n        public @ResponseBody  String delete(@RequestParam(&quot;id&quot;) Integer id)\r\n        {\r\n            stDao.delete(id);\r\n            return &quot;successful&quot;;\r\n        }\r\n        \r\n        @RequestMapping(value = &quot;edit.htm&quot;)\r\n        public @ResponseBody  String edit(@RequestParam(&quot;id&quot;) Integer id)\r\n        {\r\n            List editlist;\r\n            editlist = stDao.getDetailsForEdit(id);\r\n            return new Gson().toJson(editlist);\r\n        }\r\n        \r\n        \r\n        @RequestMapping(value = &quot;update.htm&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody String update\r\n            (\r\n                @RequestParam(value=&quot;id&quot;,required=false) Integer id,\r\n                @RequestParam(&quot;name&quot;) String name,\r\n                @RequestParam(&quot;email&quot;) String email,\r\n                @RequestParam(&quot;fee&quot;) String fee,\r\n                @RequestParam(&quot;sname&quot;) String sname,\r\n                @RequestParam(&quot;contactno&quot;) String contactno\r\n           )\r\n            {\r\n                \r\n            Details st = new Details();\r\n            st.setName(name);\r\n            st.setEmail(email);\r\n            st.setFee(fee);\r\n            st.setSname(sname);\r\n            st.setContactno(contactno);\r\n            System.out.println(&quot;st&quot;);\r\n            stDao.update(st);\r\n            Gson ob = new Gson();\r\n            return &quot;success&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nthis is studentDao.java file\r\n\r\n\r\n\r\n    package sample.dao;\r\n    \r\n    import java.util.List;\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.criterion.Projections;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import sample.entity.Details;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author admin\r\n     */\r\n    @Transactional\r\n    @Repository\r\n    public class studentDao {\r\n    \r\n       @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n    \r\n        public void save(Details stdinfo) {\r\n            Session session = sessionFactory.openSession();\r\n            session.save(stdinfo);\r\n            session.close();\r\n        }\r\n    public List display() {\r\n            Session session = sessionFactory.openSession();\r\n            Criteria criteria = session.createCriteria(Details.class);\r\n            criteria.setProjection(Projections.projectionList().add(Projections.property(&quot;id&quot;), &quot;id&quot;)\r\n                    .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\r\n                    .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\r\n                    .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;) \r\n                    .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;) \r\n                    .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;));\r\n            criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\r\n            List list = criteria.list();\r\n            session.close();\r\n            return list;\r\n        }\r\n    \r\n        \r\n         public void delete(Integer id){\r\n            Session session = sessionFactory.openSession();\r\n            Transaction trx = session.beginTransaction();\r\n            Details stdtl = new Details(id);\r\n            session.delete(stdtl);\r\n            trx.commit();\r\n            session.close();\r\n        }\r\n      \r\n         \r\n         \r\n         public List getDetailsForEdit(Integer id) {\r\n            Session session = sessionFactory.openSession();\r\n            Criteria criteria = session.createCriteria(Details.class);\r\n            criteria.setProjection(Projections.projectionList()\r\n                    .add(Projections.property(&quot;id&quot;), &quot;id&quot;)\r\n                    .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\r\n                    .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\r\n                           .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;)\r\n                           .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;)\r\n                    .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;)\r\n            );\r\n            criteria.add(Restrictions.eq(&quot;id&quot;, id));\r\n            criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\r\n            List list = criteria.list();\r\n            session.close();\r\n            return list;\r\n        }\r\n    \r\n        public void update(Details Stdinfo){\r\n            Session session = sessionFactory.openSession();\r\n            Transaction trx = session.beginTransaction();\r\n            \r\n            session.update(Stdinfo);\r\n            trx.commit();\r\n            session.close();\r\n        }      \r\n    }\r\n\r\n  \r\n  \r\nthis is web.xml file\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n      metadata-complete=&quot;true&quot;&gt;\r\n        \r\n         &lt;welcome-file-list&gt;\r\n         &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n     &lt;/welcome-file-list&gt;\r\n        \r\n         &lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;/web-app&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"when run the project shows Error creating bean with name &#39;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping#0&#39;","body":"<p>I am trying to read properties from a properties file in Spring Framework I amusing SpringToolSuite MVC template my code as follows</p>\n<p>here is my project directory structure\nI am using the java platform JDK 1.8\nspring framework 4.0.1\njstl 1.2.1<br />\ni am give the details of the project below.\nI am getting\nwhen run the project spring MVC hibernate shows error .</p>\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping#0' defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Initialization of bean failed; \nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'studentController': Injection of autowired dependencies failed; \nnested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: sample.dao.studentDao sample.controller.studentController.stDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'studentDao': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.hibernate.SessionFactory sample.dao.studentDao.sessionFactory; nested exception is java.lang.NoClassDefFoundError: [Lorg/hibernate/engine/FilterDefinition;\n</code></pre>\n<p>this is dispatcher-servelt.xml program</p>\n   \n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n                            http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n                            http://www.springframework.org/schema/context\n                            http://www.springframework.org/schema/context/spring-context-4.0.xsd\n                            http://www.springframework.org/schema/tx\n                            http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\n                            http://www.springframework.org/schema/mvc\n                            http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\n                            http://www.springframework.org/schema/aop\n                            http://www.springframework.org/schema/aop/spring-aop-4.0.xsd&quot;&gt;\n\n    &lt;bean class=&quot;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping&quot;/&gt;\n\n    &lt;!--\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\n    for the index controller we are using ParameterizableViewController, so we must\n    define an explicit mapping for it.\n    \n    --&gt;\n    &lt;context:component-scan base-package=&quot;sample&quot;&gt;&lt;/context:component-scan&gt;\n     &lt;mvc:annotation-driven/&gt;\n     \n   \n&lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;viewResolver&quot;\n          class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\n          p:prefix=&quot;/WEB-INF/jsp/&quot;\n          p:suffix=&quot;.jsp&quot; /&gt;\n\n    &lt;!--\n    The index controller.\n    --&gt;\n&lt;!--    &lt;bean name=&quot;indexController&quot;\n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;index&quot; /&gt;--&gt;\n          \n          \n          \n          \n&lt;bean class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; id=&quot;dataSource&quot;&gt;\n&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/hibernatemvc&quot;/&gt;\n&lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\n&lt;property name=&quot;password&quot; value=&quot;mysql&quot;/&gt;\n&lt;/bean&gt;\n\n &lt;bean id=&quot;sessionFactory&quot;\n        class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;sample&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;hibernateTransactionManager&quot;\n        class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>this code is studentcontroller.java file</p>\n<pre><code>package sample.controller;\n\nimport com.google.gson.Gson;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport sample.dao.studentDao;\nimport sample.entity.Details;\n\n\n/**\n *\n * @author admin\n */\n\n@Controller\npublic class studentController {\n      @Autowired\n    studentDao stDao;\n     @RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\n    public String index()\n    {\n        System.out.println(&quot;at index&quot;);\n        return &quot;index&quot;;\n    }\n    \n    @RequestMapping(value =&quot;insert.htm&quot;, method = RequestMethod.POST)\n    public @ResponseBody String insert\n        (\n            @RequestParam(&quot;id&quot;) Integer id,\n            @RequestParam(&quot;name&quot;) String name,\n            @RequestParam(&quot;email&quot;) String email,\n            @RequestParam(&quot;fee&quot;) String fee,\n              @RequestParam(&quot;sname&quot;) String sname,\n              @RequestParam(&quot;contactno&quot;) String contactno\n        )\n  \n        {\n\n        Details ei= new Details();\n        ei.setName(name);\n        ei.setEmail(email);\n        ei.setFee(fee);\n        ei.setSname(sname);\n        ei.setContactno(contactno);\n        \n        stDao.save(ei);\n        \n        Gson ob = new Gson();\n        return &quot;success&quot;;\n   }\n    \n @RequestMapping(value=&quot;fetch.htm&quot;, method = RequestMethod.GET)\n    public @ResponseBody String display() \n    {\n        List&lt;Details&gt; listdetails = (List&lt;Details&gt;) stDao.display();\n        return new Gson().toJson(listdetails);\n    }\n\n    \n    @RequestMapping(value = &quot;delete.htm&quot;)\n    public @ResponseBody  String delete(@RequestParam(&quot;id&quot;) Integer id)\n    {\n        stDao.delete(id);\n        return &quot;successful&quot;;\n    }\n    \n    @RequestMapping(value = &quot;edit.htm&quot;)\n    public @ResponseBody  String edit(@RequestParam(&quot;id&quot;) Integer id)\n    {\n        List editlist;\n        editlist = stDao.getDetailsForEdit(id);\n        return new Gson().toJson(editlist);\n    }\n    \n    \n    @RequestMapping(value = &quot;update.htm&quot;, method = RequestMethod.POST)\n    public @ResponseBody String update\n        (\n            @RequestParam(value=&quot;id&quot;,required=false) Integer id,\n            @RequestParam(&quot;name&quot;) String name,\n            @RequestParam(&quot;email&quot;) String email,\n            @RequestParam(&quot;fee&quot;) String fee,\n            @RequestParam(&quot;sname&quot;) String sname,\n            @RequestParam(&quot;contactno&quot;) String contactno\n       )\n        {\n            \n        Details st = new Details();\n        st.setName(name);\n        st.setEmail(email);\n        st.setFee(fee);\n        st.setSname(sname);\n        st.setContactno(contactno);\n        System.out.println(&quot;st&quot;);\n        stDao.update(st);\n        Gson ob = new Gson();\n        return &quot;success&quot;;\n    }\n\n}\n</code></pre>\n<p>this is studentDao.java file</p>\n<pre><code>package sample.dao;\n\nimport java.util.List;\nimport org.hibernate.Criteria;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.criterion.Projections;\nimport org.hibernate.criterion.Restrictions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport sample.entity.Details;\n\n\n/**\n *\n * @author admin\n */\n@Transactional\n@Repository\npublic class studentDao {\n\n   @Autowired\n    private SessionFactory sessionFactory;\n\n\n    public void save(Details stdinfo) {\n        Session session = sessionFactory.openSession();\n        session.save(stdinfo);\n        session.close();\n    }\npublic List display() {\n        Session session = sessionFactory.openSession();\n        Criteria criteria = session.createCriteria(Details.class);\n        criteria.setProjection(Projections.projectionList().add(Projections.property(&quot;id&quot;), &quot;id&quot;)\n                .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\n                .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\n                .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;) \n                .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;) \n                .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;));\n        criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\n        List list = criteria.list();\n        session.close();\n        return list;\n    }\n\n    \n     public void delete(Integer id){\n        Session session = sessionFactory.openSession();\n        Transaction trx = session.beginTransaction();\n        Details stdtl = new Details(id);\n        session.delete(stdtl);\n        trx.commit();\n        session.close();\n    }\n  \n     \n     \n     public List getDetailsForEdit(Integer id) {\n        Session session = sessionFactory.openSession();\n        Criteria criteria = session.createCriteria(Details.class);\n        criteria.setProjection(Projections.projectionList()\n                .add(Projections.property(&quot;id&quot;), &quot;id&quot;)\n                .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\n                .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\n                       .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;)\n                       .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;)\n                .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;)\n        );\n        criteria.add(Restrictions.eq(&quot;id&quot;, id));\n        criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\n        List list = criteria.list();\n        session.close();\n        return list;\n    }\n\n    public void update(Details Stdinfo){\n        Session session = sessionFactory.openSession();\n        Transaction trx = session.beginTransaction();\n        \n        session.update(Stdinfo);\n        trx.commit();\n        session.close();\n    }      \n}\n</code></pre>\n<p>this is web.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n  metadata-complete=&quot;true&quot;&gt;\n    \n     &lt;welcome-file-list&gt;\n     &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n &lt;/welcome-file-list&gt;\n    \n     &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","opc-ua","aws-iot-greengrass","node-opcua"],"answers":[{"tags":[],"owner":{"account_id":31322,"reputation":6570,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655392018,"creation_date":1655392018,"answer_id":72648017,"question_id":72583498,"body_markdown":"Nodes that are `NodeClass.Variable` have a `Value` attribute, which is probably what you would consider a &quot;tag&quot; Node.\r\n\r\nOPC UA allows Variable Nodes to have child Variable Nodes as well, though, so you can&#39;t necessarily stop browsing just because you hit a Variable Node.","title":"While browisng OPC-UA nodes, My code is iterating for tag nodes too weather if it has further nodes or not. How can I know If a node is a tagor not?","body":"<p>Nodes that are <code>NodeClass.Variable</code> have a <code>Value</code> attribute, which is probably what you would consider a &quot;tag&quot; Node.</p>\n<p>OPC UA allows Variable Nodes to have child Variable Nodes as well, though, so you can't necessarily stop browsing just because you hit a Variable Node.</p>\n"}],"owner":{"account_id":25162939,"reputation":61,"user_id":19006871,"display_name":"kh&#220;s h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72648017,"answer_count":1,"score":1,"last_activity_date":1663751248,"creation_date":1654942689,"question_id":72583498,"body_markdown":"Here my code is for iterating the nodes, but its also iterating for the leaf node and checking for its child(which is the tag node), how can I directly know if the current node is tag node or not, without seeing for its child.\r\nbelow is my java code:\r\n&#39;&#39;&#39;\r\n\r\n\r\n\r\n    private void browseNode(String pName, OpcUaClient client, NodeId browseRoot)\r\n \r\n\r\n&#39;&#39;&#39;","title":"While browisng OPC-UA nodes, My code is iterating for tag nodes too weather if it has further nodes or not. How can I know If a node is a tagor not?","body":"<p>Here my code is for iterating the nodes, but its also iterating for the leaf node and checking for its child(which is the tag node), how can I directly know if the current node is tag node or not, without seeing for its child.\nbelow is my java code:\n'''</p>\n<pre><code>private void browseNode(String pName, OpcUaClient client, NodeId browseRoot)\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","macos","bluetooth","bluecove"],"owner":{"account_id":1382384,"reputation":4062,"user_id":1315110,"accept_rate":88,"display_name":"Alex Styl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1663751175,"creation_date":1663751175,"question_id":73798139,"body_markdown":"I am building a JAVA desktop app that can advertise via BLE to nearby android devices.\r\n\r\nI stumbled across [BlueCove](http://www.bluecove.org/) which seems to be Java&#39;s bluetooth API. \r\n\r\nWhenever I try to use BlueCove in my Java application on my MacBook Pro M1, I am getting the following error:\r\n\r\n```\r\nNative Library bluecove not available\r\nException in thread &quot;main&quot; javax.bluetooth.BluetoothStateException: BlueCove library bluecove not available\r\n\tat com.intel.bluetooth.BlueCoveImpl.loadNativeLibraries(BlueCoveImpl.java:381)\r\n\tat com.intel.bluetooth.BlueCoveImpl.detectStack(BlueCoveImpl.java:434)\r\n\tat com.intel.bluetooth.BlueCoveImpl.access$500(BlueCoveImpl.java:65)\r\n\tat com.intel.bluetooth.BlueCoveImpl$1.run(BlueCoveImpl.java:1020)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.intel.bluetooth.BlueCoveImpl.detectStackPrivileged(BlueCoveImpl.java:1018)\r\n\tat com.intel.bluetooth.BlueCoveImpl.getBluetoothStack(BlueCoveImpl.java:1011)\r\n\tat javax.bluetooth.LocalDevice.getLocalDeviceInstance(LocalDevice.java:75)\r\n\tat javax.bluetooth.LocalDevice.getLocalDevice(LocalDevice.java:95)\r\n```\r\n\r\nI found online that you need to use the `-d32` parameter when launching your java application. I tried that but I get a `Unrecognized option: -d32`. [Answers like these](https://stackoverflow.com/a/36300699/1315110) say that there is an unreleased version 2.1.2 which works on a Mac but [the link you](https://code.google.com/archive/p/bluecove/issues/134) can find online seems to be broken.\r\n\r\nWas anyone able to have BlueCove (or any Java Bluetooth API) working in their Java application?","title":"How to run BlueCove (or any Bluetooth Java library) on Macbook Pro M1","body":"<p>I am building a JAVA desktop app that can advertise via BLE to nearby android devices.</p>\n<p>I stumbled across <a href=\"http://www.bluecove.org/\" rel=\"nofollow noreferrer\">BlueCove</a> which seems to be Java's bluetooth API.</p>\n<p>Whenever I try to use BlueCove in my Java application on my MacBook Pro M1, I am getting the following error:</p>\n<pre><code>Native Library bluecove not available\nException in thread &quot;main&quot; javax.bluetooth.BluetoothStateException: BlueCove library bluecove not available\n    at com.intel.bluetooth.BlueCoveImpl.loadNativeLibraries(BlueCoveImpl.java:381)\n    at com.intel.bluetooth.BlueCoveImpl.detectStack(BlueCoveImpl.java:434)\n    at com.intel.bluetooth.BlueCoveImpl.access$500(BlueCoveImpl.java:65)\n    at com.intel.bluetooth.BlueCoveImpl$1.run(BlueCoveImpl.java:1020)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.intel.bluetooth.BlueCoveImpl.detectStackPrivileged(BlueCoveImpl.java:1018)\n    at com.intel.bluetooth.BlueCoveImpl.getBluetoothStack(BlueCoveImpl.java:1011)\n    at javax.bluetooth.LocalDevice.getLocalDeviceInstance(LocalDevice.java:75)\n    at javax.bluetooth.LocalDevice.getLocalDevice(LocalDevice.java:95)\n</code></pre>\n<p>I found online that you need to use the <code>-d32</code> parameter when launching your java application. I tried that but I get a <code>Unrecognized option: -d32</code>. <a href=\"https://stackoverflow.com/a/36300699/1315110\">Answers like these</a> say that there is an unreleased version 2.1.2 which works on a Mac but <a href=\"https://code.google.com/archive/p/bluecove/issues/134\" rel=\"nofollow noreferrer\">the link you</a> can find online seems to be broken.</p>\n<p>Was anyone able to have BlueCove (or any Java Bluetooth API) working in their Java application?</p>\n"},{"tags":["java","hibernate","jersey","h2"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1663713788,"post_id":73761481,"comment_id":130303786,"body_markdown":"Where is your JAX-RS service?","body":"Where is your JAX-RS service?"},{"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"score":0,"creation_date":1663751138,"post_id":73761481,"comment_id":130310834,"body_markdown":"@stdunbar I have added it, you can check","body":"@stdunbar I have added it, you can check"},{"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"score":0,"creation_date":1663867310,"post_id":73761481,"comment_id":130346158,"body_markdown":"@stdunbar can you see what&#39;s wrong ?","body":"@stdunbar can you see what&#39;s wrong ?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1663871116,"post_id":73761481,"comment_id":130347321,"body_markdown":"Based on what you&#39;re saying and the code you&#39;re showing I don&#39;t think your query is working correctly.  I would do some debugging - what does `employeeService.findAll()` return for example?","body":"Based on what you&#39;re saying and the code you&#39;re showing I don&#39;t think your query is working correctly.  I would do some debugging - what does <code>employeeService.findAll()</code> return for example?"},{"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"score":0,"creation_date":1663919104,"post_id":73761481,"comment_id":130356761,"body_markdown":"@stdunbar , it returns empty response","body":"@stdunbar , it returns empty response"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1663946396,"post_id":73761481,"comment_id":130366502,"body_markdown":"So your code is doing exactly what it says it is.  JAX-RS gets an empty object to send and it does just that.  You&#39;ll need to debug why your query isn&#39;t returning what you expect.  It might be a database issue, it may be the data inside of your database.","body":"So your code is doing exactly what it says it is.  JAX-RS gets an empty object to send and it does just that.  You&#39;ll need to debug why your query isn&#39;t returning what you expect.  It might be a database issue, it may be the data inside of your database."},{"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"score":0,"creation_date":1663948890,"post_id":73761481,"comment_id":130367460,"body_markdown":"@stdunbar  I don&#39;t understand why it happening, am I missing any configuration in persistence.xml or how will h2 start ? will it start automatically or I&#39;ll have to start manually with using h2 jar, I tried both ways same response . And I tried to debug it, all db related object like emf and em are created properly. Tables are also not created when use jar, I might be missing something or I am trying to connect somewhere else","body":"@stdunbar  I don&#39;t understand why it happening, am I missing any configuration in persistence.xml or how will h2 start ? will it start automatically or I&#39;ll have to start manually with using h2 jar, I tried both ways same response . And I tried to debug it, all db related object like emf and em are created properly. Tables are also not created when use jar, I might be missing something or I am trying to connect somewhere else"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1663952314,"post_id":73761481,"comment_id":130368524,"body_markdown":"You&#39;d get an exception if the database wasn&#39;t there.  Have you inserted any data?","body":"You&#39;d get an exception if the database wasn&#39;t there.  Have you inserted any data?"},{"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"score":0,"creation_date":1663956335,"post_id":73761481,"comment_id":130369579,"body_markdown":"@stdunbar I tried that. No response","body":"@stdunbar I tried that. No response"}],"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663751112,"creation_date":1663492885,"question_id":73761481,"body_markdown":"I am trying to build simple REST api having simple endpoints doing CRUD operations. I am JAX-RS implementation jersey here. For DB part I want to connect to the in-memory database h2.\r\n\r\nWhen I hit the endpoint I get empty body, with status 200 ok as I have set in response, but body doesn&#39;t show anything. I don&#39;t see any errors in the console after hitting the endpoint.\r\n\r\nThis is my Dao class\r\n\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    \r\n    import com.shrikant.jersey_restapp.model.Employee;\r\n    \r\n    public class EmployeeDao {\r\n    \t\r\n    \tEntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;my-persistence-unit&quot;);\r\n    \r\n    \tpublic void saveEmployee(Employee employee) {\r\n    \t\tEntityManager em = factory.createEntityManager();\r\n    \t\tem.getTransaction().begin();\r\n    \t\tem.persist(employee);\r\n    \t\tem.getTransaction().commit();\r\n    \t\tem.close();\r\n    \t}\r\n    \r\n    \tpublic Employee findEmployeeById(int id) {\r\n    \t\tEntityManager em = factory.createEntityManager();\r\n    \t\tem.getTransaction().begin();\r\n    \t\tEmployee emp = em.find(Employee.class, id);\r\n    \t\tem.getTransaction().commit();\r\n    \t\tem.close();\r\n    \t\treturn emp;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Employee&gt; getAll() {\r\n    \t\tEntityManager em = factory.createEntityManager();\r\n    \t\tem.getTransaction().begin();\r\n    \t\tList&lt;Employee&gt; list = em.createQuery(&quot;from Employee&quot;).getResultList();\r\n    \t\tem.getTransaction().commit();\r\n    \t\tem.close();\r\n    \t\treturn list;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nand this is my persistence.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n    \tversion=&quot;2.0&quot;&gt;\r\n    \t&lt;persistence-unit name=&quot;my-persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t&lt;class&gt;com.shrikant.jersey_restapp.model.Employee&lt;/class&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;sa&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n    \t\t\t\tvalue=&quot;jdbc:h2:mem:demo&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot; /&gt;\r\n    \t\t \t&lt;property name=&quot;show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;\r\n    \t\t\t\tvalue=&quot;false&quot; /&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nservice\r\n\r\n    @Path(&quot;/company&quot;)\r\n    public class EmployeeController {\r\n    \t\r\n    \tprivate EmployeeService employeeService = new EmployeeService();\r\n    \t\r\n    \t@GET\r\n    \t@Path(&quot;/empall&quot;)\r\n    \tpublic Response getAllEmployee() {\r\n    \t\treturn Response.status(200).entity(employeeService.findAll()).build();\r\n    \t}\r\n    \t\r\n    \t@GET\r\n    \t@Path(&quot;/emp/{id}&quot;)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic Response getEmployee(@PathParam(&quot;id&quot;) int id) {\r\n    \t\tEmployee emp = employeeService.getEmployeeById(id);\r\n    \t\treturn Response.status(200).entity(emp).build();\r\n    \t}\r\n    \t\r\n    \t@POST\r\n    \t@Path(&quot;/emp&quot;)\r\n    \t@Consumes(MediaType.APPLICATION_JSON)\r\n    \tpublic Response setEmployee(Employee employee) {\r\n    \t\temployeeService.addEmployee(employee);\r\n    \t\treturn Response.status(200).entity(&quot;Entity saved&quot;).build();\t\r\n    \t}\r\n    }\r\n\r\nAs you can see I have also set the show_sql property to true but I don&#39;t see any sql in the console either.\r\n\r\nI might be missing something here, because I am not sure if h2 will start automatically. But I have also started h2 using h2.**.jar and connected to it, and still same response. Using first h2 with jersey\r\n\r\nDon&#39;t understand what&#39;s going wrong, does anyone know what I am missing or what&#39;s going wrong ??\r\n\r\nThanks\r\n","title":"H2 database with JAX-RS(jersey)","body":"<p>I am trying to build simple REST api having simple endpoints doing CRUD operations. I am JAX-RS implementation jersey here. For DB part I want to connect to the in-memory database h2.</p>\n<p>When I hit the endpoint I get empty body, with status 200 ok as I have set in response, but body doesn't show anything. I don't see any errors in the console after hitting the endpoint.</p>\n<p>This is my Dao class</p>\n<pre><code>import java.util.List;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\nimport com.shrikant.jersey_restapp.model.Employee;\n\npublic class EmployeeDao {\n    \n    EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;my-persistence-unit&quot;);\n\n    public void saveEmployee(Employee employee) {\n        EntityManager em = factory.createEntityManager();\n        em.getTransaction().begin();\n        em.persist(employee);\n        em.getTransaction().commit();\n        em.close();\n    }\n\n    public Employee findEmployeeById(int id) {\n        EntityManager em = factory.createEntityManager();\n        em.getTransaction().begin();\n        Employee emp = em.find(Employee.class, id);\n        em.getTransaction().commit();\n        em.close();\n        return emp;\n    }\n\n    public List&lt;Employee&gt; getAll() {\n        EntityManager em = factory.createEntityManager();\n        em.getTransaction().begin();\n        List&lt;Employee&gt; list = em.createQuery(&quot;from Employee&quot;).getResultList();\n        em.getTransaction().commit();\n        em.close();\n        return list;\n    }\n    \n}\n</code></pre>\n<p>and this is my persistence.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n    version=&quot;2.0&quot;&gt;\n    &lt;persistence-unit name=&quot;my-persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;class&gt;com.shrikant.jersey_restapp.model.Employee&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;sa&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                value=&quot;jdbc:h2:mem:demo&quot; /&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot; /&gt;\n            &lt;property name=&quot;show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;\n                value=&quot;false&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>service</p>\n<pre><code>@Path(&quot;/company&quot;)\npublic class EmployeeController {\n    \n    private EmployeeService employeeService = new EmployeeService();\n    \n    @GET\n    @Path(&quot;/empall&quot;)\n    public Response getAllEmployee() {\n        return Response.status(200).entity(employeeService.findAll()).build();\n    }\n    \n    @GET\n    @Path(&quot;/emp/{id}&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getEmployee(@PathParam(&quot;id&quot;) int id) {\n        Employee emp = employeeService.getEmployeeById(id);\n        return Response.status(200).entity(emp).build();\n    }\n    \n    @POST\n    @Path(&quot;/emp&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public Response setEmployee(Employee employee) {\n        employeeService.addEmployee(employee);\n        return Response.status(200).entity(&quot;Entity saved&quot;).build(); \n    }\n}\n</code></pre>\n<p>As you can see I have also set the show_sql property to true but I don't see any sql in the console either.</p>\n<p>I might be missing something here, because I am not sure if h2 will start automatically. But I have also started h2 using h2.**.jar and connected to it, and still same response. Using first h2 with jersey</p>\n<p>Don't understand what's going wrong, does anyone know what I am missing or what's going wrong ??</p>\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","kotlin-companion"],"answers":[{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518589010,"creation_date":1518586952,"answer_id":48780384,"question_id":48780003,"body_markdown":"In Kotlin, the `companion` object can be us used to imitate static behaviour, calls look like static calls in Java, the `â€œCompanionâ€œ` isnâ€™t part of if. If used in Java though, the `companion` object has to be named, unless `@JvmStatic` is applied. Itâ€™d look less idiomatic otherwise.\r\n\r\n    TestKotlin.getSomeString() //this should be preferred whenever possible\r\n\r\nStated in the [docs][1]:\r\n\r\n&gt; # Companion Objects\r\n&gt;\r\n&gt; An object declaration inside a class can be marked with the companion \r\n&gt; keyword:\r\n&gt;\r\n&gt;     class MyClass {\r\n&gt;        companion object Factory {\r\n&gt;            fun create(): MyClass = MyClass()\r\n&gt;        }\r\n&gt;     }\r\n&gt;\r\n&gt; Members of the companion object can be called by using simply the class \r\n&gt; name as the qualifier:\r\n&gt;\r\n&gt;     val instance = MyClass.create()\r\n&gt;\r\n&gt;  ...\r\n&gt;\r\n&gt; However, on the JVM you can have members of companion objects generated \r\n&gt; as real static methods and fields, if you use the `@JvmStatic`\r\n&gt; annotation.  See the Java interoperability section for more details.\r\n\r\nNote that it will generate an **additional** method as stated [here][2]:\r\n\r\n&gt; If you use this annotation, the compiler will generate both a static method in the enclosing class of the object and an instance method in the object itself.\r\n\r\nLet&#39;s see an **example**:\r\n\r\nThe following class \r\n\r\n    class Outer {\r\n        companion object {\r\n            fun callMe() = &quot;&quot;\r\n        }\r\n    }\r\n\r\nlooks like this on bytecode level, here represented as Java code:\r\n     \r\n    @Metadata(...)\r\n    public final class Outer {\r\n       public static final Outer.Companion Companion = new Outer.Companion((DefaultConstructorMarker)null);\r\n    \r\n       @Metadata(...)\r\n       public static final class Companion {\r\n          @NotNull\r\n          public final String callMe() {\r\n             return &quot;&quot;;\r\n          }\r\n    \r\n          private Companion() {\r\n          }\r\n    \r\n          // $FF: synthetic method\r\n          public Companion(DefaultConstructorMarker $constructor_marker) {\r\n             this();\r\n          }\r\n       }\r\n    }\r\n\r\nIf `@JvmStatic` is being applied to `callMe` method though, the bytecode changes to the following:\r\n\r\n    @Metadata(...)\r\n    public final class Outer {\r\n       public static final Outer.Companion Companion = new Outer.Companion((DefaultConstructorMarker)null);\r\n    \r\n       @JvmStatic\r\n       @NotNull\r\n       public static final String callMe() {\r\n          return Companion.callMe();\r\n       }\r\n    \r\n       @Metadata(...)\r\n       public static final class Companion {\r\n          @JvmStatic\r\n          @NotNull\r\n          public final String callMe() {\r\n             return &quot;&quot;;\r\n          }\r\n    \r\n          private Companion() {\r\n          }\r\n    \r\n          // $FF: synthetic method\r\n          public Companion(DefaultConstructorMarker $constructor_marker) {\r\n             this();\r\n          }\r\n       }\r\n    }\r\n\r\n\r\nYou can see, correctly documented, the static `callMe` function, as part of `Outer` is generated:\r\n\r\n    @JvmStatic\r\n    @NotNull\r\n    public static final String callMe() {        \r\n        return Companion.callMe();\r\n    }\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\r\n  [2]: https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\r\n\r\n","title":"Why and when to use @JvmStatic with companion objects?","body":"<p>In Kotlin, the <code>companion</code> object can be us used to imitate static behaviour, calls look like static calls in Java, the <code>â€œCompanionâ€œ</code> isnâ€™t part of if. If used in Java though, the <code>companion</code> object has to be named, unless <code>@JvmStatic</code> is applied. Itâ€™d look less idiomatic otherwise.</p>\n\n<pre><code>TestKotlin.getSomeString() //this should be preferred whenever possible\n</code></pre>\n\n<p>Stated in the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <h1>Companion Objects</h1>\n  \n  <p>An object declaration inside a class can be marked with the companion \n  keyword:</p>\n\n<pre><code>class MyClass {\n   companion object Factory {\n       fun create(): MyClass = MyClass()\n   }\n}\n</code></pre>\n  \n  <p>Members of the companion object can be called by using simply the class \n  name as the qualifier:</p>\n\n<pre><code>val instance = MyClass.create()\n</code></pre>\n  \n  <p>...</p>\n  \n  <p>However, on the JVM you can have members of companion objects generated \n  as real static methods and fields, if you use the <code>@JvmStatic</code>\n  annotation.  See the Java interoperability section for more details.</p>\n</blockquote>\n\n<p>Note that it will generate an <strong>additional</strong> method as stated <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>If you use this annotation, the compiler will generate both a static method in the enclosing class of the object and an instance method in the object itself.</p>\n</blockquote>\n\n<p>Let's see an <strong>example</strong>:</p>\n\n<p>The following class </p>\n\n<pre><code>class Outer {\n    companion object {\n        fun callMe() = \"\"\n    }\n}\n</code></pre>\n\n<p>looks like this on bytecode level, here represented as Java code:</p>\n\n<pre><code>@Metadata(...)\npublic final class Outer {\n   public static final Outer.Companion Companion = new Outer.Companion((DefaultConstructorMarker)null);\n\n   @Metadata(...)\n   public static final class Companion {\n      @NotNull\n      public final String callMe() {\n         return \"\";\n      }\n\n      private Companion() {\n      }\n\n      // $FF: synthetic method\n      public Companion(DefaultConstructorMarker $constructor_marker) {\n         this();\n      }\n   }\n}\n</code></pre>\n\n<p>If <code>@JvmStatic</code> is being applied to <code>callMe</code> method though, the bytecode changes to the following:</p>\n\n<pre><code>@Metadata(...)\npublic final class Outer {\n   public static final Outer.Companion Companion = new Outer.Companion((DefaultConstructorMarker)null);\n\n   @JvmStatic\n   @NotNull\n   public static final String callMe() {\n      return Companion.callMe();\n   }\n\n   @Metadata(...)\n   public static final class Companion {\n      @JvmStatic\n      @NotNull\n      public final String callMe() {\n         return \"\";\n      }\n\n      private Companion() {\n      }\n\n      // $FF: synthetic method\n      public Companion(DefaultConstructorMarker $constructor_marker) {\n         this();\n      }\n   }\n}\n</code></pre>\n\n<p>You can see, correctly documented, the static <code>callMe</code> function, as part of <code>Outer</code> is generated:</p>\n\n<pre><code>@JvmStatic\n@NotNull\npublic static final String callMe() {        \n    return Companion.callMe();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5856142,"reputation":4645,"user_id":4613320,"accept_rate":40,"display_name":"Maddy"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1518587702,"creation_date":1518587702,"answer_id":48780521,"question_id":48780003,"body_markdown":"You place the function in the &quot;companion object&quot;.\r\n\r\nSo the java code like this:\r\n\r\n    class DemoClass {\r\n      public static int myMethod() { return 1; }\r\n    }\r\n    \r\nwill become\r\n\r\n    class DemoClass {\r\n      companion object {\r\n         fun myMethod() : Int = 1\r\n      }\r\n    }\r\n\r\nYou can then use it from inside Kotlin code as \r\n\r\n    DemoClass.myMethod();\r\n\r\n\r\nBut from within Java code, you would need to call it as\r\n\r\n    DemoClass.Companion.myMethod();\r\n\r\n(Which also works from within Kotlin.)\r\n\r\n\r\nIf you don&#39;t like having to specify the `Companion` bit you can either add a `@JvmStatic` annotation or name your companion class.\r\n\r\nFrom the [docs][1]:\r\n\r\n&gt; # Companion Objects\r\n&gt;\r\n&gt; An object declaration inside a class can be marked with the companion \r\n&gt; keyword:\r\n&gt;\r\n&gt;     class MyClass {\r\n&gt;        companion object Factory {\r\n&gt;            fun create(): MyClass = MyClass()\r\n&gt;        }\r\n&gt;     }\r\n&gt;\r\n&gt; Members of the companion object can be called by using simply the class \r\n&gt; name as the qualifier:\r\n&gt;\r\n&gt;     val instance = MyClass.create()\r\n&gt;\r\n&gt;  ...\r\n&gt;\r\n&gt; However, on the JVM you can have members of companion objects generated \r\n&gt; as real static methods and fields, if you use the `@JvmStatic`\r\n&gt; annotation.  See the Java interoperability section for more details.\r\n\r\nAdding the `@JvmStatic` annotation looks like this\r\n\r\n    class DemoClass {\r\n      companion object {\r\n        @JvmStatic\r\n        fun myMethod() : Int = 1;\r\n      }\r\n    }\r\n\r\nand then a will exist as a real Java static function, accessible from\r\nboth Java and kotlin as `DemoClass.myMethod()`. \r\n\r\nIf it is just disliked by the `Companion` name, then you can also \r\nprovide an explicit name for the companion object looks like this:\r\n\r\n    class DemoClass {\r\n      companion object Blah {\r\n        fun myMethod() : Int = 1;\r\n      }\r\n    }\r\n\r\nwhich will let you call it from Kotlin in the same way, but\r\nfrom java like `DemoClass.Blah.myMethod()` (which will also work in Kotlin). \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\r\n","title":"Why and when to use @JvmStatic with companion objects?","body":"<p>You place the function in the \"companion object\".</p>\n\n<p>So the java code like this:</p>\n\n<pre><code>class DemoClass {\n  public static int myMethod() { return 1; }\n}\n</code></pre>\n\n<p>will become</p>\n\n<pre><code>class DemoClass {\n  companion object {\n     fun myMethod() : Int = 1\n  }\n}\n</code></pre>\n\n<p>You can then use it from inside Kotlin code as </p>\n\n<pre><code>DemoClass.myMethod();\n</code></pre>\n\n<p>But from within Java code, you would need to call it as</p>\n\n<pre><code>DemoClass.Companion.myMethod();\n</code></pre>\n\n<p>(Which also works from within Kotlin.)</p>\n\n<p>If you don't like having to specify the <code>Companion</code> bit you can either add a <code>@JvmStatic</code> annotation or name your companion class.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <h1>Companion Objects</h1>\n  \n  <p>An object declaration inside a class can be marked with the companion \n  keyword:</p>\n\n<pre><code>class MyClass {\n   companion object Factory {\n       fun create(): MyClass = MyClass()\n   }\n}\n</code></pre>\n  \n  <p>Members of the companion object can be called by using simply the class \n  name as the qualifier:</p>\n\n<pre><code>val instance = MyClass.create()\n</code></pre>\n  \n  <p>...</p>\n  \n  <p>However, on the JVM you can have members of companion objects generated \n  as real static methods and fields, if you use the <code>@JvmStatic</code>\n  annotation.  See the Java interoperability section for more details.</p>\n</blockquote>\n\n<p>Adding the <code>@JvmStatic</code> annotation looks like this</p>\n\n<pre><code>class DemoClass {\n  companion object {\n    @JvmStatic\n    fun myMethod() : Int = 1;\n  }\n}\n</code></pre>\n\n<p>and then a will exist as a real Java static function, accessible from\nboth Java and kotlin as <code>DemoClass.myMethod()</code>. </p>\n\n<p>If it is just disliked by the <code>Companion</code> name, then you can also \nprovide an explicit name for the companion object looks like this:</p>\n\n<pre><code>class DemoClass {\n  companion object Blah {\n    fun myMethod() : Int = 1;\n  }\n}\n</code></pre>\n\n<p>which will let you call it from Kotlin in the same way, but\nfrom java like <code>DemoClass.Blah.myMethod()</code> (which will also work in Kotlin). </p>\n"},{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":2,"up_vote_count":111,"is_accepted":true,"score":109,"last_activity_date":1555181619,"creation_date":1518591933,"answer_id":48781460,"question_id":48780003,"body_markdown":"The behavior of the `@JvmStatic` annotation is explained in detail in [the documentation](http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods). When reading the documentation, you should assume that it gives you all the important information, and behavior differences that are not mentioned in the documentation do not exist.\r\n\r\nIn this case, the documentation says:\r\n\r\n&gt; If you use this annotation, the compiler will generate both a static method in the enclosing class of the object and an instance method in the object itself. \r\n\r\nIn other words, the effect of the annotation is that it tells the compiler to *generate an additional method*.\r\n\r\nDoes the documentation mention that there is any difference in behavior or memory allocation? It does not. Therefore, it&#39;s safe to assume that there is none.\r\n\r\nIs there a preference on which one to use? Normally, an API is declared in one place and used from multiple places. If you&#39;re calling a method from Java, then you should declare it as `@JvmStatic`, because adding the `@JvmStatic` annotation in one place will allow you to leave out multiple `.Companion` references in multiple places.\r\n\r\nDo both create a pseudo static singleton object, like Java static does? This question does not make sense, because Java static does not create a &quot;pseudo static singleton object&quot;. If you declare a static method in a Java class, and then call this method, no objects will be created.","title":"Why and when to use @JvmStatic with companion objects?","body":"<p>The behavior of the <code>@JvmStatic</code> annotation is explained in detail in <a href=\"http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"noreferrer\">the documentation</a>. When reading the documentation, you should assume that it gives you all the important information, and behavior differences that are not mentioned in the documentation do not exist.</p>\n\n<p>In this case, the documentation says:</p>\n\n<blockquote>\n  <p>If you use this annotation, the compiler will generate both a static method in the enclosing class of the object and an instance method in the object itself. </p>\n</blockquote>\n\n<p>In other words, the effect of the annotation is that it tells the compiler to <em>generate an additional method</em>.</p>\n\n<p>Does the documentation mention that there is any difference in behavior or memory allocation? It does not. Therefore, it's safe to assume that there is none.</p>\n\n<p>Is there a preference on which one to use? Normally, an API is declared in one place and used from multiple places. If you're calling a method from Java, then you should declare it as <code>@JvmStatic</code>, because adding the <code>@JvmStatic</code> annotation in one place will allow you to leave out multiple <code>.Companion</code> references in multiple places.</p>\n\n<p>Do both create a pseudo static singleton object, like Java static does? This question does not make sense, because Java static does not create a \"pseudo static singleton object\". If you declare a static method in a Java class, and then call this method, no objects will be created.</p>\n"},{"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1613224686,"creation_date":1613224686,"answer_id":66185909,"question_id":48780003,"body_markdown":"A `companion object` is an instance of a real `class` called `Companion`. So, when you call the Kotlin code from Java, an object of the `Companion` class is first instantiated behind the scenes. To understand this, let&#39;s consider a simple example.\r\n\r\n\r\n----------\r\n\r\n\r\nBehind the scenes without `@JvmStatic`\r\n--------------------------------------\r\n\r\n**Kotlin code**\r\n\r\n    class Plant {\r\n        companion object {\r\n            fun waterAll() { }\r\n        }\r\n    }\r\n\r\n**Decompiled Java code**\r\n\r\n    public final class Plant {\r\n    \r\n       public static final Plant.Companion Companion = new Plant.Companion();\r\n    \r\n       public static final class Companion {\r\n    \r\n          public final void waterAll() { }\r\n    \r\n          private Companion() { }\r\n       }\r\n    }\r\n\r\nAs you can see in the simplified decompiled Java code above, a class named `Companion` is generated to represent the `companion object`. The class `Plant` holds the singleton instance `new Plant.Companion()` of the class `Plant.Companion`. The instance is also named as `Companion`. This is the reason you need to call the functions/properties of the `companion object` in Java using the `Plant.Companion`:\r\n\r\n    Plant.Companion.waterAll();\r\n\r\n\r\n----------\r\n\r\n\r\nBehind the scenes with `@JvmStatic`\r\n-----------------------------------\r\n\r\n**Kotlin code**\r\n\r\n    class Plant {\r\n        companion object {\r\n            @JvmStatic\r\n            fun waterAll() { }\r\n        }\r\n    }\r\n\r\n**Decompiled Java code**\r\n\r\n    public final class Plant {\r\n    \r\n       public static final Plant.Companion Companion = new Plant.Companion();\r\n    \r\n       @JvmStatic\r\n       public static final void waterAll() { Companion.waterAll();}\r\n    \r\n       public static final class Companion {\r\n          @JvmStatic\r\n          public final void waterAll() { }\r\n    \r\n          private Companion() { }\r\n       }\r\n    }\r\n\r\nWhen you annotate a function of a `companion object` with `@JvmStatic` in Kotlin, a pure `static` function `waterAll()` is generated in addition to the non static function `waterAll()`. So, now you are able to call the function without the `Companion` name which is more idiomatic to Java:\r\n\r\n    Plant.waterAll();\r\n\r\n\r\n----------\r\n\r\nSingleton\r\n---------\r\n\r\nThe singleton pattern is generated in both cases. As you can see, in both cases, the `Companion` instance holds the singleton object `new Plant.Companion()` and the constructor is made `private` to prevent multiple instances.\r\n\r\nThe Java `static` keyword does not create the singletons. You will get the singleton feature only if you create a `companion object` in Kotlin and then use it from Java. To get singleton from Java, you&#39;ll need to write the singleton pattern, the code for which looks like the decompiled Java code shown above.\r\n\r\n\r\n----------\r\n\r\n\r\nPerformance\r\n-----------\r\n\r\nThere is no performance gain or loss in terms of memory allocation. The reason is that, as you can see in the code above, the extra `static` function that is generated delegates its work to the non static function `Companion.waterAll()`. This means, creation of the `Companion` instance is required in both the cases, with `@JvmStatic` as well as without `@JvmStatic`.\r\n\r\nThe behaviour of both the setups is the same apart from the extra method that is generated. In Android, if you worry about the method count, you may need to keep an eye on this because an extra copy is created for each annotated function.\r\n\r\n\r\n----------\r\n\r\n\r\nWhen to use `@JvmStatic`\r\n------------------------\r\n\r\nWhen you know that your Kotlin code won&#39;t be used in Java, you don&#39;t have to worry about adding the `@JvmStatic` annotation. This keeps your code cleaner. However, if your Kotlin code is called from Java, it makes sense to add the annotation. This will prevent your Java code from polluting with the name `Companion` everywhere.\r\n\r\nIt&#39;s not like an additional keyword on either side. If you add `@JvmStatic` in one place, you can prevent writing the extra `Companion` word in thousands of places, wherever you call that function. This is especially useful for library creators, if they add `@JvmStatic` in their Kotlin library, the users of that library won&#39;t have to use the `Companion` word in their Java code.\r\n\r\n\r\n----------\r\n\r\nThat&#39;s it! Hopefully that helps get the clearer picture of the `@JvmStatic`.","title":"Why and when to use @JvmStatic with companion objects?","body":"<p>A <code>companion object</code> is an instance of a real <code>class</code> called <code>Companion</code>. So, when you call the Kotlin code from Java, an object of the <code>Companion</code> class is first instantiated behind the scenes. To understand this, let's consider a simple example.</p>\n<hr />\n<h2>Behind the scenes without <code>@JvmStatic</code></h2>\n<p><strong>Kotlin code</strong></p>\n<pre><code>class Plant {\n    companion object {\n        fun waterAll() { }\n    }\n}\n</code></pre>\n<p><strong>Decompiled Java code</strong></p>\n<pre><code>public final class Plant {\n\n   public static final Plant.Companion Companion = new Plant.Companion();\n\n   public static final class Companion {\n\n      public final void waterAll() { }\n\n      private Companion() { }\n   }\n}\n</code></pre>\n<p>As you can see in the simplified decompiled Java code above, a class named <code>Companion</code> is generated to represent the <code>companion object</code>. The class <code>Plant</code> holds the singleton instance <code>new Plant.Companion()</code> of the class <code>Plant.Companion</code>. The instance is also named as <code>Companion</code>. This is the reason you need to call the functions/properties of the <code>companion object</code> in Java using the <code>Plant.Companion</code>:</p>\n<pre><code>Plant.Companion.waterAll();\n</code></pre>\n<hr />\n<h2>Behind the scenes with <code>@JvmStatic</code></h2>\n<p><strong>Kotlin code</strong></p>\n<pre><code>class Plant {\n    companion object {\n        @JvmStatic\n        fun waterAll() { }\n    }\n}\n</code></pre>\n<p><strong>Decompiled Java code</strong></p>\n<pre><code>public final class Plant {\n\n   public static final Plant.Companion Companion = new Plant.Companion();\n\n   @JvmStatic\n   public static final void waterAll() { Companion.waterAll();}\n\n   public static final class Companion {\n      @JvmStatic\n      public final void waterAll() { }\n\n      private Companion() { }\n   }\n}\n</code></pre>\n<p>When you annotate a function of a <code>companion object</code> with <code>@JvmStatic</code> in Kotlin, a pure <code>static</code> function <code>waterAll()</code> is generated in addition to the non static function <code>waterAll()</code>. So, now you are able to call the function without the <code>Companion</code> name which is more idiomatic to Java:</p>\n<pre><code>Plant.waterAll();\n</code></pre>\n<hr />\n<h2>Singleton</h2>\n<p>The singleton pattern is generated in both cases. As you can see, in both cases, the <code>Companion</code> instance holds the singleton object <code>new Plant.Companion()</code> and the constructor is made <code>private</code> to prevent multiple instances.</p>\n<p>The Java <code>static</code> keyword does not create the singletons. You will get the singleton feature only if you create a <code>companion object</code> in Kotlin and then use it from Java. To get singleton from Java, you'll need to write the singleton pattern, the code for which looks like the decompiled Java code shown above.</p>\n<hr />\n<h2>Performance</h2>\n<p>There is no performance gain or loss in terms of memory allocation. The reason is that, as you can see in the code above, the extra <code>static</code> function that is generated delegates its work to the non static function <code>Companion.waterAll()</code>. This means, creation of the <code>Companion</code> instance is required in both the cases, with <code>@JvmStatic</code> as well as without <code>@JvmStatic</code>.</p>\n<p>The behaviour of both the setups is the same apart from the extra method that is generated. In Android, if you worry about the method count, you may need to keep an eye on this because an extra copy is created for each annotated function.</p>\n<hr />\n<h2>When to use <code>@JvmStatic</code></h2>\n<p>When you know that your Kotlin code won't be used in Java, you don't have to worry about adding the <code>@JvmStatic</code> annotation. This keeps your code cleaner. However, if your Kotlin code is called from Java, it makes sense to add the annotation. This will prevent your Java code from polluting with the name <code>Companion</code> everywhere.</p>\n<p>It's not like an additional keyword on either side. If you add <code>@JvmStatic</code> in one place, you can prevent writing the extra <code>Companion</code> word in thousands of places, wherever you call that function. This is especially useful for library creators, if they add <code>@JvmStatic</code> in their Kotlin library, the users of that library won't have to use the <code>Companion</code> word in their Java code.</p>\n<hr />\n<p>That's it! Hopefully that helps get the clearer picture of the <code>@JvmStatic</code>.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Å½iÅ¾ka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663750883,"creation_date":1663749419,"answer_id":73797729,"question_id":48780003,"body_markdown":"Unlike others, I do not think that the effect of `@JvmStatic` and `@JvmField` is explained enough in the Kotlin documentation. It was unclear to me until I saw the effect.\r\n\r\nThe other answers cover the functions, but not *fields*. And because the question is not explicitly limited, let me add:\r\n\r\n------------\r\n\r\nNormally, if you work within Kotlin, you do not need these, because Kotlin&#39;s take on &quot;static&quot; is quite consistent and the companion objects cover almost all purposes for which Java uses `static`.\r\n\r\nThe main use cases, when you need `@JvmStatic` and `@JvmField`, are:\r\n  * when you use Kotlin together with Java code, because you don&#39;t want to refer to `*.Companion.*` from Java.\r\n  * When you use libraries which use reflection on static fields.\r\n\r\nBecause Kotlin, for the fields in a `companion object`, creates a `private` field in the `Companion` class, and wraps it with getter/setter. But your Java code or library needs a real `static` field in the class. (Some Java libraries may support Kotlin&#39;s `Companion`, though).\r\n\r\nTherefore, Kotlin comes with these two:\r\n\r\n  * `@JvmStatic` makes the *property* available in the class in which you have the companion object. That means, there is a getter/setter, but the fields is still private.\r\n  * `@JvmField` goes &quot;further&quot; and only adds the field. Getter and setter is not generated.\r\n\r\n(I did not find a way to have both the `public` field and the getter and setter. This caused me some headaches when I used 2 libraries, one needed the field and one only worked with properties.)\r\n\r\n```kotlin\r\nclass Foo { companinon object { val x: Int? } }\r\n```\r\n\r\n```java\r\npublic class Foo {\r\n   static class Companion { private Int x = null; } \r\n}\r\n```\r\n-----------------\r\n```kotlin\r\nclass Foo { companinon object { @JvmStatic val x: Int? } }\r\n```\r\n\r\n```java\r\npublic class Foo {\r\n   public static getX() { return Foo.Companion.x } // * Simplified\r\n   static class Companion { private Int x = null; } \r\n}\r\n```\r\n\r\n-----------------\r\n```kotlin\r\nclass Foo { companinon object { @JvmField val x: Int? } }\r\n```\r\n\r\n```java\r\npublic class Foo {\r\n   public static Int x = null;\r\n   static class Companion { private Int x = null; } \r\n}\r\n```\r\n\r\n* Simplified: Actually, the `Foo` class has a static instance of Companion and the Foo&#39;s getter calls the instance&#39;s getter.\r\n\r\nBut in the end, you might find out that you should not have used a static field in the first place. Static fields in Java are there historically as a shortcut for the C++ programmers who would not accept hard-core OOP Java when it was introduced.\r\n","title":"Why and when to use @JvmStatic with companion objects?","body":"<p>Unlike others, I do not think that the effect of <code>@JvmStatic</code> and <code>@JvmField</code> is explained enough in the Kotlin documentation. It was unclear to me until I saw the effect.</p>\n<p>The other answers cover the functions, but not <em>fields</em>. And because the question is not explicitly limited, let me add:</p>\n<hr />\n<p>Normally, if you work within Kotlin, you do not need these, because Kotlin's take on &quot;static&quot; is quite consistent and the companion objects cover almost all purposes for which Java uses <code>static</code>.</p>\n<p>The main use cases, when you need <code>@JvmStatic</code> and <code>@JvmField</code>, are:</p>\n<ul>\n<li>when you use Kotlin together with Java code, because you don't want to refer to <code>*.Companion.*</code> from Java.</li>\n<li>When you use libraries which use reflection on static fields.</li>\n</ul>\n<p>Because Kotlin, for the fields in a <code>companion object</code>, creates a <code>private</code> field in the <code>Companion</code> class, and wraps it with getter/setter. But your Java code or library needs a real <code>static</code> field in the class. (Some Java libraries may support Kotlin's <code>Companion</code>, though).</p>\n<p>Therefore, Kotlin comes with these two:</p>\n<ul>\n<li><code>@JvmStatic</code> makes the <em>property</em> available in the class in which you have the companion object. That means, there is a getter/setter, but the fields is still private.</li>\n<li><code>@JvmField</code> goes &quot;further&quot; and only adds the field. Getter and setter is not generated.</li>\n</ul>\n<p>(I did not find a way to have both the <code>public</code> field and the getter and setter. This caused me some headaches when I used 2 libraries, one needed the field and one only worked with properties.)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Foo { companinon object { val x: Int? } }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n   static class Companion { private Int x = null; } \n}\n</code></pre>\n<hr />\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Foo { companinon object { @JvmStatic val x: Int? } }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n   public static getX() { return Foo.Companion.x } // * Simplified\n   static class Companion { private Int x = null; } \n}\n</code></pre>\n<hr />\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Foo { companinon object { @JvmField val x: Int? } }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n   public static Int x = null;\n   static class Companion { private Int x = null; } \n}\n</code></pre>\n<ul>\n<li>Simplified: Actually, the <code>Foo</code> class has a static instance of Companion and the Foo's getter calls the instance's getter.</li>\n</ul>\n<p>But in the end, you might find out that you should not have used a static field in the first place. Static fields in Java are there historically as a shortcut for the C++ programmers who would not accept hard-core OOP Java when it was introduced.</p>\n"}],"owner":{"account_id":1705542,"reputation":4246,"user_id":1564652,"accept_rate":75,"display_name":"TooManyEduardos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59892,"favorite_count":0,"down_vote_count":1,"up_vote_count":111,"accepted_answer_id":48781460,"answer_count":5,"score":110,"last_activity_date":1663750883,"creation_date":1518584729,"question_id":48780003,"body_markdown":"I&#39;m trying to understand the difference between using/not using @JvmStatic, and when I should use either one.\r\n\r\nSo, with Kotlin and Java, I can do this:\r\n\r\n`TestKotlin.kt`\r\n\r\n    class TestKotlin {\r\n        companion object {\r\n            val someString = &quot;hello world&quot;\r\n        }\r\n    }\r\n\r\nWhich is then called by Java, like this:\r\n\r\n`TestJava.java`\r\n\r\n    public class TestJava {\r\n        String kotlinStaticString = TestKotlin.Companion.getSomeString();\r\n    }\r\n\r\nbut then, there&#39;s this option 2:\r\n\r\n`TestKotlin.kt` v2\r\n\r\n    class TestKotlin {\r\n        companion object {\r\n            @JvmStatic  // &lt;-- notice the @JvmStatic annotation\r\n            val someString = &quot;hello world&quot;\r\n        }\r\n    }\r\n\r\nAnd then, call it from Java, like this:\r\n\r\n`TestJava.java` v2\r\n\r\n    public class TestJava {\r\n        String kotlinStaticString = TestKotlin.getSomeString();\r\n    }\r\n\r\nSo my questions are:\r\n\r\n - Are these 2 cases any different, in terms of behavior or memory allocation?\r\n - Is there a preference on which one to use?\r\n - Do both create a pseudo static singleton object, like Java static does?\r\n\r\nThanks!","title":"Why and when to use @JvmStatic with companion objects?","body":"<p>I'm trying to understand the difference between using/not using @JvmStatic, and when I should use either one.</p>\n\n<p>So, with Kotlin and Java, I can do this:</p>\n\n<p><code>TestKotlin.kt</code></p>\n\n<pre><code>class TestKotlin {\n    companion object {\n        val someString = \"hello world\"\n    }\n}\n</code></pre>\n\n<p>Which is then called by Java, like this:</p>\n\n<p><code>TestJava.java</code></p>\n\n<pre><code>public class TestJava {\n    String kotlinStaticString = TestKotlin.Companion.getSomeString();\n}\n</code></pre>\n\n<p>but then, there's this option 2:</p>\n\n<p><code>TestKotlin.kt</code> v2</p>\n\n<pre><code>class TestKotlin {\n    companion object {\n        @JvmStatic  // &lt;-- notice the @JvmStatic annotation\n        val someString = \"hello world\"\n    }\n}\n</code></pre>\n\n<p>And then, call it from Java, like this:</p>\n\n<p><code>TestJava.java</code> v2</p>\n\n<pre><code>public class TestJava {\n    String kotlinStaticString = TestKotlin.getSomeString();\n}\n</code></pre>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>Are these 2 cases any different, in terms of behavior or memory allocation?</li>\n<li>Is there a preference on which one to use?</li>\n<li>Do both create a pseudo static singleton object, like Java static does?</li>\n</ul>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663656410,"creation_date":1663647533,"answer_id":73781615,"question_id":73747709,"body_markdown":"Detach entity or close the session before call `participant.getAudioCallParticipant()` (you will get the same result).&lt;br/&gt;\r\nThs is because lazy associations cannot be fetched for the detached entities.","title":"How to unload Relationship collection in spring data?","body":"<p>Detach entity or close the session before call <code>participant.getAudioCallParticipant()</code> (you will get the same result).<br/>\nThs is because lazy associations cannot be fetched for the detached entities.</p>\n"},{"tags":[],"owner":{"account_id":19993238,"reputation":555,"user_id":14710362,"display_name":"WhiteBite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663750826,"creation_date":1663750826,"answer_id":73798073,"question_id":73747709,"body_markdown":"Your code is supposed to work.\r\nIf you need to do this in a test, try this code\r\n\r\n```java\r\n        // init here another context\r\n\r\n        TestTransaction.start();\r\n        participant = participantRepository.findOne(participant);\r\n        getSessionFactory().getStatistics().clear();\r\n        participant.getMediaCallParticipant();\r\n\r\n        //assert\r\n        assertThat(getStatistics().getPrepareStatementCount(),is(1L));\r\n```\r\n\r\n","title":"How to unload Relationship collection in spring data?","body":"<p>Your code is supposed to work.\nIf you need to do this in a test, try this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>        // init here another context\n\n        TestTransaction.start();\n        participant = participantRepository.findOne(participant);\n        getSessionFactory().getStatistics().clear();\n        participant.getMediaCallParticipant();\n\n        //assert\n        assertThat(getStatistics().getPrepareStatementCount(),is(1L));\n</code></pre>\n"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73798073,"answer_count":2,"score":2,"last_activity_date":1663750826,"creation_date":1663345034,"question_id":73747709,"body_markdown":"I have entity `Participant`\r\n\r\n    public class Participant extends AbstractParticipant\r\n    {\r\n        ...\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;participant&quot;)\r\n        private List&lt;MediaCallParticipant&gt; mediaCallParticipant = new LinkedList&lt;&gt;();\r\n        \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;participant&quot;)\r\n        private List&lt;AudioCallParticipant&gt; audioCallParticipant = new LinkedList&lt;&gt;();\r\n    }\r\n\r\n\r\nI&#39;m writing a test. Where I do `participantRepository.findOne(...)`\r\nBut in the test I can&#39;t get a LazyLoadException with `participant.getAudioCallParticipant()` or `participant.getMediaCallParticipant()`.\r\nI have written code that is ready to Lazy exception. but this collections are always load in entity.\r\nIs it possible to somehow manually &quot;unload&quot; the collections?\r\n","title":"How to unload Relationship collection in spring data?","body":"<p>I have entity <code>Participant</code></p>\n<pre><code>public class Participant extends AbstractParticipant\n{\n    ...\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;participant&quot;)\n    private List&lt;MediaCallParticipant&gt; mediaCallParticipant = new LinkedList&lt;&gt;();\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;participant&quot;)\n    private List&lt;AudioCallParticipant&gt; audioCallParticipant = new LinkedList&lt;&gt;();\n}\n</code></pre>\n<p>I'm writing a test. Where I do <code>participantRepository.findOne(...)</code>\nBut in the test I can't get a LazyLoadException with <code>participant.getAudioCallParticipant()</code> or <code>participant.getMediaCallParticipant()</code>.\nI have written code that is ready to Lazy exception. but this collections are always load in entity.\nIs it possible to somehow manually &quot;unload&quot; the collections?</p>\n"},{"tags":["java","google-cloud-platform","apache-beam"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":1,"creation_date":1663340132,"post_id":73744309,"comment_id":130223666,"body_markdown":"What do you think about catching errors in the dead letter queue in the pipeline before calling the write method from `PubSubIO`?","body":"What do you think about catching errors in the dead letter queue in the pipeline before calling the write method from <code>PubSubIO</code>?"},{"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"score":0,"creation_date":1663746080,"post_id":73744309,"comment_id":130309157,"body_markdown":"Could you please elaborate this","body":"Could you please elaborate this"},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":1,"creation_date":1663747277,"post_id":73744309,"comment_id":130309571,"body_markdown":"You can catch elements in the pipeline code instead of in the `PubSubIO` via `TupleTags` and `try catch`, I also created a library to simpliy this. if you want I can propose you a solution in this direction.","body":"You can catch elements in the pipeline code instead of in the <code>PubSubIO</code> via <code>TupleTags</code> and <code>try catch</code>, I also created a library to simpliy this. if you want I can propose you a solution in this direction."},{"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"score":0,"creation_date":1663748501,"post_id":73744309,"comment_id":130309951,"body_markdown":"Yes Please... Could you please share the solution. Thanks :)","body":"Yes Please... Could you please share the solution. Thanks :)"}],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663362389,"creation_date":1663362389,"answer_id":73750307,"question_id":73744309,"body_markdown":"There is not currently functionality to capture records that fail to be published to PubsubIO.Write. What sorts of failures would you like to fail permanently (vs being retried)?","title":"Capture Pubsub Failures in Apache Beam - Java","body":"<p>There is not currently functionality to capture records that fail to be published to PubsubIO.Write. What sorts of failures would you like to fail permanently (vs being retried)?</p>\n"},{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663750619,"creation_date":1663750619,"answer_id":73798023,"question_id":73744309,"body_markdown":"You can `catch` all the errors from the code of the `pipeline` with `TupleTags` and `try catch` blocs on `transformations`.\r\n\r\nThen you will have 2 sinks : \r\n- The good sink \r\n- The bad sink\r\n\r\nI created a library called `Asgarde` to simplify `error handling` with `Beam` : \r\n\r\nhttps://github.com/tosun-si/asgarde\r\n\r\nYou can install this lib in your project with `Maven` (this version is linked to Beam 2.41.0) : \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;fr.groupbees&lt;/groupId&gt;\r\n    &lt;artifactId&gt;asgarde&lt;/artifactId&gt;\r\n    &lt;version&gt;0.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nor Gradle : \r\n\r\n```text\r\nimplementation group: &#39;fr.groupbees&#39;, name: &#39;asgarde&#39;, version: &#39;0.20.0&#39;\r\n```\r\n\r\nAn example of usage in the pipeline : \r\n\r\n```java\r\n// Input PCollection\r\nfinal PCollection&lt;String&gt; wordPCollection....\r\n\r\nfinal WithFailures.Result&lt;PCollection&lt;Integer&gt;, Failure&gt; resultComposer = CollectionComposer.of(wordPCollection)\r\n        .apply(&quot;Map&quot;, MapElements.into(TypeDescriptors.strings()).via((String word) -&gt; word + &quot;Test&quot;))\r\n        .apply(&quot;FlatMap&quot;, FlatMapElements\r\n                .into(TypeDescriptors.strings())\r\n                .via((String line) -&gt; Arrays.asList(Arrays.copyOfRange(line.split(&quot; &quot;), 1, 5))))\r\n        .apply(&quot;ParDo&quot;, MapElementFn.into(TypeDescriptors.integers()).via(word -&gt; 1 / word.length()))\r\n        .getResult();\r\n\r\n// Good output PCollection\r\nPCollection&lt;String&gt; output = result.output();\r\n\r\n// Bad failure PCollection\r\nPCollection&lt;Failure&gt; failures = result.failures();\r\n```\r\n\r\n`CollectionComposer` proposed by `Asgarde` is created from a `PCollection` and behind the scene, each `apply` uses `TupleTags` and `try catch` bloc.\r\n\r\n`CollectionComposer` returns a `Result` structure and from this, we can recover the `output` and `failure` `PCollection`\r\n\r\nYour failure sink can be written to `Bigquery` `GCS` or other (dead letter queue).\r\n\r\nYou can also use native `Beam` if your prefer, you can check an example from my `Github` repository : \r\n\r\nhttps://github.com/tosun-si/teams-league-java-dlq-native-beam-summit/blob/main/src/main/java/fr/groupbees/domain_ptransform/TeamStatsTransform.java ","title":"Capture Pubsub Failures in Apache Beam - Java","body":"<p>You can <code>catch</code> all the errors from the code of the <code>pipeline</code> with <code>TupleTags</code> and <code>try catch</code> blocs on <code>transformations</code>.</p>\n<p>Then you will have 2 sinks :</p>\n<ul>\n<li>The good sink</li>\n<li>The bad sink</li>\n</ul>\n<p>I created a library called <code>Asgarde</code> to simplify <code>error handling</code> with <code>Beam</code> :</p>\n<p><a href=\"https://github.com/tosun-si/asgarde\" rel=\"nofollow noreferrer\">https://github.com/tosun-si/asgarde</a></p>\n<p>You can install this lib in your project with <code>Maven</code> (this version is linked to Beam 2.41.0) :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;fr.groupbees&lt;/groupId&gt;\n    &lt;artifactId&gt;asgarde&lt;/artifactId&gt;\n    &lt;version&gt;0.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or Gradle :</p>\n<pre><code>implementation group: 'fr.groupbees', name: 'asgarde', version: '0.20.0'\n</code></pre>\n<p>An example of usage in the pipeline :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Input PCollection\nfinal PCollection&lt;String&gt; wordPCollection....\n\nfinal WithFailures.Result&lt;PCollection&lt;Integer&gt;, Failure&gt; resultComposer = CollectionComposer.of(wordPCollection)\n        .apply(&quot;Map&quot;, MapElements.into(TypeDescriptors.strings()).via((String word) -&gt; word + &quot;Test&quot;))\n        .apply(&quot;FlatMap&quot;, FlatMapElements\n                .into(TypeDescriptors.strings())\n                .via((String line) -&gt; Arrays.asList(Arrays.copyOfRange(line.split(&quot; &quot;), 1, 5))))\n        .apply(&quot;ParDo&quot;, MapElementFn.into(TypeDescriptors.integers()).via(word -&gt; 1 / word.length()))\n        .getResult();\n\n// Good output PCollection\nPCollection&lt;String&gt; output = result.output();\n\n// Bad failure PCollection\nPCollection&lt;Failure&gt; failures = result.failures();\n</code></pre>\n<p><code>CollectionComposer</code> proposed by <code>Asgarde</code> is created from a <code>PCollection</code> and behind the scene, each <code>apply</code> uses <code>TupleTags</code> and <code>try catch</code> bloc.</p>\n<p><code>CollectionComposer</code> returns a <code>Result</code> structure and from this, we can recover the <code>output</code> and <code>failure</code> <code>PCollection</code></p>\n<p>Your failure sink can be written to <code>Bigquery</code> <code>GCS</code> or other (dead letter queue).</p>\n<p>You can also use native <code>Beam</code> if your prefer, you can check an example from my <code>Github</code> repository :</p>\n<p><a href=\"https://github.com/tosun-si/teams-league-java-dlq-native-beam-summit/blob/main/src/main/java/fr/groupbees/domain_ptransform/TeamStatsTransform.java\" rel=\"nofollow noreferrer\">https://github.com/tosun-si/teams-league-java-dlq-native-beam-summit/blob/main/src/main/java/fr/groupbees/domain_ptransform/TeamStatsTransform.java</a></p>\n"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663750619,"creation_date":1663328523,"question_id":73744309,"body_markdown":"I have one apache beam dataflow job written in java. That job reads some data flow DB and modify the result and publish that to pubsub\r\n\r\n`DB -&gt; Update Object -&gt; Publish`\r\n\r\nI want to capture the failure records while publishing in pubsub and write it to a separate file.\r\n\r\nIs there any way to do this?\r\n\r\nThanks","title":"Capture Pubsub Failures in Apache Beam - Java","body":"<p>I have one apache beam dataflow job written in java. That job reads some data flow DB and modify the result and publish that to pubsub</p>\n<p><code>DB -&gt; Update Object -&gt; Publish</code></p>\n<p>I want to capture the failure records while publishing in pubsub and write it to a separate file.</p>\n<p>Is there any way to do this?</p>\n<p>Thanks</p>\n"},{"tags":["java","cplex"],"answers":[{"tags":[],"owner":{"account_id":4592706,"reputation":9381,"user_id":3725596,"display_name":"Alex Fleischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663750544,"creation_date":1663750544,"answer_id":73798003,"question_id":73797712,"body_markdown":"Your model is not linear so within CPLEX I encourage you to use CPOptimizer.\r\n\r\nWith the OPL API you can write\r\n\r\n    using CP;\r\n    \r\n    int scale=1000;\r\n    \r\n    int m=1;\r\n    int M=5;\r\n    \r\n    dvar int scalex[1..4] in m*scale..M*scale;\r\n    dexpr float x[i in 1..4]=scalex[i]/scale;\r\n    \r\n    minimize x[1]*x[4]*(x[1]+x[2]+x[3])+x[4];\r\n    \r\n    subject to\r\n    {\r\n      abs(sum(i in 1..4) x[i]*x[i]-40)&lt;=0.00001;\r\n      prod(i in 1..4) x[i]&gt;=25;\r\n    }\r\n    \r\n    execute\r\n    {\r\n      writeln(x);\r\n    }\r\n\r\nwhich gives\r\n\r\n    // solution with objective 14.27099\r\n     [1.09 4.311 4.326 1.23]\r\n\r\nOf course you could do the same with [all CPLEX APIs][1].\r\n\r\n\r\n  [1]: https://medium.com/ibm-data-ai/optimization-simply-do-more-with-less-zoo-buses-and-kids-part2-python-java-c-cc04558e49b5","title":"Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: CpxRange for general expressions error","body":"<p>Your model is not linear so within CPLEX I encourage you to use CPOptimizer.</p>\n<p>With the OPL API you can write</p>\n<pre><code>using CP;\n\nint scale=1000;\n\nint m=1;\nint M=5;\n\ndvar int scalex[1..4] in m*scale..M*scale;\ndexpr float x[i in 1..4]=scalex[i]/scale;\n\nminimize x[1]*x[4]*(x[1]+x[2]+x[3])+x[4];\n\nsubject to\n{\n  abs(sum(i in 1..4) x[i]*x[i]-40)&lt;=0.00001;\n  prod(i in 1..4) x[i]&gt;=25;\n}\n\nexecute\n{\n  writeln(x);\n}\n</code></pre>\n<p>which gives</p>\n<pre><code>// solution with objective 14.27099\n [1.09 4.311 4.326 1.23]\n</code></pre>\n<p>Of course you could do the same with <a href=\"https://medium.com/ibm-data-ai/optimization-simply-do-more-with-less-zoo-buses-and-kids-part2-python-java-c-cc04558e49b5\" rel=\"nofollow noreferrer\">all CPLEX APIs</a>.</p>\n"}],"owner":{"account_id":7981567,"reputation":1,"user_id":6022690,"display_name":"Nada ALainiah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1663750544,"creation_date":1663749353,"question_id":73797712,"body_markdown":"i want to find solution of this problem plz:i use java,cplex .eclipse-java-2022-03-R-win32-x86_64 : the details are:\r\n\r\n      obj : min x1x4(x1+x2+x3)+x4\r\n      s.t :x1.x2.x3.x4&gt;=25\r\n      (square x1)+(square x2)+(square x3)+(square x4)=40\r\n      1=&lt;x1,x2,x3,x4&lt;=5\r\n\r\nthe code is:\r\n        public class bb4 {\r\n\r\n    \tpublic static void main (String args[])  {\r\n\t\ttry {\r\n\t\t\tIloCplex cplex = new IloCplex();\r\n\t\t\tIloNumVar x1 = cplex.numVar(1, 5, &quot;x1&quot;);\r\n\t\t\tIloNumVar x2 = cplex.numVar(1, 5, &quot;x2&quot;);\r\n\t\t\tIloNumVar x3 = cplex.numVar(1, 5, &quot;x3&quot;);\r\n\t\t\tIloNumVar x4 = cplex.numVar(1, 5, &quot;x4&quot;);\r\n\t\t\t\r\n\t\t\tIloLinearNumExpr c= cplex.linearNumExpr();\r\n\t\t\tcplex.addEq(c, cplex.sum(x3,\r\n\t\t\t\t\t  cplex.prod(\r\n\t\t\t\t\t\t\t  cplex.prod(x1, x4) , cplex.sum(x1,x2,x3))\r\n\t\t\t\t                \t));\r\n\t    cplex.addMinimize(c\t);\r\n\t\t\t\r\n\t\r\n    \tcplex.addGe(cplex.prod(cplex.prod( x1,x2),cplex.prod( x3, x4)), 25);\r\n    \tcplex.addEq(cplex.sum(cplex.square(x1),\r\n\t\t\t              cplex.square(x2),\r\n\t\t\t              cplex.square(x3),\r\n\t\t\t              cplex.square(x4)\t\t)\r\n\t\t\t                               , 40);\r\n\r\n             }\r\n\t    \tcatch (IloException exc) {\r\n\t\t\texc.printStackTrace();\r\n\t\t\t\r\n    \t}\r\n\t\t}\r\n\t    }\r\n\r\n\r\n\r\nthe result is error like this :   \r\n\r\n        Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: CpxRange for \r\n        general expressions\r\n\t    at ilog.cplex.CpxRange.&lt;init&gt;(CpxRange.java:1335)\r\n\t    at ilog.cplex.IloCplexModeler.addRange(IloCplexModeler.java:2716)\r\n\t    at ilog.cplex.IloCplexModeler.addEq(IloCplexModeler.java:2781)\r\n\t    at ms.bb4.main(bb4.java:24)\r\n\r\nany help?","title":"Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: CpxRange for general expressions error","body":"<p>i want to find solution of this problem plz:i use java,cplex .eclipse-java-2022-03-R-win32-x86_64 : the details are:</p>\n<pre><code>  obj : min x1x4(x1+x2+x3)+x4\n  s.t :x1.x2.x3.x4&gt;=25\n  (square x1)+(square x2)+(square x3)+(square x4)=40\n  1=&lt;x1,x2,x3,x4&lt;=5\n</code></pre>\n<p>the code is:\npublic class bb4 {</p>\n<pre><code>    public static void main (String args[])  {\n    try {\n        IloCplex cplex = new IloCplex();\n        IloNumVar x1 = cplex.numVar(1, 5, &quot;x1&quot;);\n        IloNumVar x2 = cplex.numVar(1, 5, &quot;x2&quot;);\n        IloNumVar x3 = cplex.numVar(1, 5, &quot;x3&quot;);\n        IloNumVar x4 = cplex.numVar(1, 5, &quot;x4&quot;);\n        \n        IloLinearNumExpr c= cplex.linearNumExpr();\n        cplex.addEq(c, cplex.sum(x3,\n                  cplex.prod(\n                          cplex.prod(x1, x4) , cplex.sum(x1,x2,x3))\n                                ));\n    cplex.addMinimize(c );\n        \n\n    cplex.addGe(cplex.prod(cplex.prod( x1,x2),cplex.prod( x3, x4)), 25);\n    cplex.addEq(cplex.sum(cplex.square(x1),\n                      cplex.square(x2),\n                      cplex.square(x3),\n                      cplex.square(x4)      )\n                                       , 40);\n\n         }\n        catch (IloException exc) {\n        exc.printStackTrace();\n        \n    }\n    }\n    }\n</code></pre>\n<p>the result is error like this :</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: CpxRange for \n    general expressions\n    at ilog.cplex.CpxRange.&lt;init&gt;(CpxRange.java:1335)\n    at ilog.cplex.IloCplexModeler.addRange(IloCplexModeler.java:2716)\n    at ilog.cplex.IloCplexModeler.addEq(IloCplexModeler.java:2781)\n    at ms.bb4.main(bb4.java:24)\n</code></pre>\n<p>any help?</p>\n"},{"tags":["java","apache-axis"],"answers":[{"tags":[],"owner":{"account_id":23295756,"reputation":29,"user_id":17377189,"display_name":"EOTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650371064,"creation_date":1650371064,"answer_id":71924908,"question_id":71881960,"body_markdown":"While decompiling `axis2-codegen-1.8.0`\r\nI found out the required class `org.apache.axis2.xmlbeans.CodeGenerationUtility` from `axis2-xmlbeans-1.8.0` is missing.\r\nBut in version 1.7.9 that class is present, so I tried copypasting `axis2-xmlbeans-1.7.9`, renaming it, in the new classpath and it worked out.\r\n\r\n\r\n\r\n","title":"org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: XMLBeans binding extension not in classpath","body":"<p>While decompiling <code>axis2-codegen-1.8.0</code>\nI found out the required class <code>org.apache.axis2.xmlbeans.CodeGenerationUtility</code> from <code>axis2-xmlbeans-1.8.0</code> is missing.\nBut in version 1.7.9 that class is present, so I tried copypasting <code>axis2-xmlbeans-1.7.9</code>, renaming it, in the new classpath and it worked out.</p>\n"},{"tags":[],"owner":{"account_id":8887459,"reputation":43,"user_id":6635282,"display_name":"K&#225;lm&#225;n Kostenszky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663750177,"creation_date":1663750177,"answer_id":73797893,"question_id":71881960,"body_markdown":"From 1.8 onward you **also** need to add [axis2-xmlbeans-codegen][1] to the classpath to run code generation with XML beans.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.axis2/axis2-xmlbeans-codegen","title":"org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: XMLBeans binding extension not in classpath","body":"<p>From 1.8 onward you <strong>also</strong> need to add <a href=\"https://mvnrepository.com/artifact/org.apache.axis2/axis2-xmlbeans-codegen\" rel=\"nofollow noreferrer\">axis2-xmlbeans-codegen</a> to the classpath to run code generation with XML beans.</p>\n"}],"owner":{"account_id":23295756,"reputation":29,"user_id":17377189,"display_name":"EOTheDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71924908,"answer_count":2,"score":1,"last_activity_date":1663750177,"creation_date":1650012713,"question_id":71881960,"body_markdown":"I&#39;m trying to generate java code starting from a wsdl file as in the https://axis.apache.org/axis2/java/core/docs/userguide-creatingclients-xmlbeans.html guide.\r\n\r\nI created this simple axis2wsdlToJava.bat to be customized for my future edits, but still I can&#39;t figure it out why or what dependency is missing.\r\n\r\n    set JAVA_HOME=C:\\PROGRA~1\\Java\\jdk1.8.0_121\r\n    set AXIS2_HOME=C:\\Users\\conr72\\Downloads\\axis2-1.8.0\r\n    set FILE_NAME=Axis2UserGuide.wsdl\r\n    set PACKAGE=org.apache.axis2.axis2userguide\r\n    %AXIS2_HOME%\\bin\\wsdl2java.bat -uri %FILE_NAME% -p %PACKAGE% -d xmlbeans -s -o build\\client\r\n\r\nI edited the C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\bin\\wsdl2java.bat, adding an `echo Using AXIS2_CLASS_PATH:    %AXIS2_CLASS_PATH%` , to check what is the AXIS2_CLASS_PATH it&#39;s using.\r\n\r\nAnd if I run axis2wsdlToJava.bat, I get the following error message:\r\n\r\n```\r\nC:\\Users\\conr72\\Desktop\\k8s\\workspace\\wsdl&gt;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\bin\\wsdl2java.bat -uri Axis2UserGuide.wsdl -p org.apache.axis2.axis2userguide -d xmlbeans -s -o build\\client\r\nUsing AXIS2_HOME:   C:\\Users\\conr72\\Downloads\\axis2-1.8.0\r\nUsing JAVA_HOME:    C:\\PROGRA~1\\Java\\jdk1.8.0_121\r\nUsing AXIS2_CLASS_PATH:    C:\\Users\\conr72\\Downloads\\axis2-1.8.0;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\annotations-13.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\antlr-2.7.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\apache-mime4j-core-0.8.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-api-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-dom-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-impl-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-jaxb-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-adb-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-adb-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-ant-plugin-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-clustering-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-corba-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-fastinfoset-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-java2wsdl-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jaxbri-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jaxws-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jibx-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jibx-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-json-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-kernel-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-metadata-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-mtompolicy-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-saaj-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-soapmonitor-servlet-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-spring-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-base-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-http-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-jms-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-local-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-mail-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-tcp-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-udp-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-xmpp-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-xmlbeans-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\bcel-6.4.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\checker-qual-3.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\codemodel-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-cli-1.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-codec-1.11.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-fileupload-1.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-io-2.11.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-lang3-3.12.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-logging-1.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\dtd-parser-1.4.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\encoder-1.2.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\error_prone_annotations-2.5.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\failureaccess-1.0.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\geronimo-annotation_1.0_spec-1.1.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\geronimo-jaxws_2.2_spec-1.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\geronimo-ws-metadata_2.0_spec-1.1.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\google-java-format-1.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\gson-2.8.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\guava-30.1.1-jre.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\httpclient-4.5.13.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\httpcore-4.4.14.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\istack-commons-runtime-3.0.12.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\istack-commons-tools-3.0.12.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\j2objc-annotations-1.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.activation-1.2.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.activation-api-1.2.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.jws-api-2.1.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.mail-1.6.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.xml.soap-api-1.4.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.xml.ws-api-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\javac-shaded-9+181-r4173-1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\javax.servlet-api-3.1.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\javax.transaction-api-1.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxb-jxc-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxb-runtime-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxb-xjc-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxen-1.2.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxws-tools-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jettison-1.4.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jibx-bind-1.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jibx-run-1.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\joda-time-2.10.5.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jsr305-3.0.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jsr311-api-1.1.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\kotlin-stdlib-1.4.31.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\kotlin-stdlib-common-1.4.20.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\log4j-api-2.14.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\log4j-core-2.14.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\log4j-jcl-2.14.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\mex-1.8.0-impl.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\moshi-1.12.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\moshi-adapters-1.12.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\neethi-3.1.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\okio-2.10.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\qdox-1.12.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\relaxng-datatype-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\rngom-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\serializer-2.7.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\spring-aop-5.3.9.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\spring-expression-5.3.9.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\spring-jcl-5.3.9.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\stax2-api-4.2.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\tomcat-juli-10.0.8.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\tomcat-tribes-10.0.8.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\txw2-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\woden-core-1.0M10.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\woodstox-core-6.2.6.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\wsdl4j-1.6.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xalan-2.7.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xml-resolver-1.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xmlbeans-3.0.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xmlschema-core-2.2.5.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xpp3-1.1.3.4.O.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xsom-2.3.4.jar\r\nRetrieving document at &#39;Axis2UserGuide.wsdl&#39;.\r\nException in thread &quot;main&quot; org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: XMLBeans binding extension not in classpath\r\n        at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:163)\r\n        at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:54)\r\n        at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:24)\r\nCaused by: java.lang.RuntimeException: XMLBeans binding extension not in classpath\r\n        at org.apache.axis2.wsdl.codegen.extension.XMLBeansExtension.engage(XMLBeansExtension.java:90)\r\n        at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:116)\r\n        ... 2 more\r\n\r\n```\r\n\r\nSince I see in the classpath the C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xmlbeans-3.0.1.jar; dependency... What am I missing?","title":"org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: XMLBeans binding extension not in classpath","body":"<p>I'm trying to generate java code starting from a wsdl file as in the <a href=\"https://axis.apache.org/axis2/java/core/docs/userguide-creatingclients-xmlbeans.html\" rel=\"nofollow noreferrer\">https://axis.apache.org/axis2/java/core/docs/userguide-creatingclients-xmlbeans.html</a> guide.</p>\n<p>I created this simple axis2wsdlToJava.bat to be customized for my future edits, but still I can't figure it out why or what dependency is missing.</p>\n<pre><code>set JAVA_HOME=C:\\PROGRA~1\\Java\\jdk1.8.0_121\nset AXIS2_HOME=C:\\Users\\conr72\\Downloads\\axis2-1.8.0\nset FILE_NAME=Axis2UserGuide.wsdl\nset PACKAGE=org.apache.axis2.axis2userguide\n%AXIS2_HOME%\\bin\\wsdl2java.bat -uri %FILE_NAME% -p %PACKAGE% -d xmlbeans -s -o build\\client\n</code></pre>\n<p>I edited the C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\bin\\wsdl2java.bat, adding an <code>echo Using AXIS2_CLASS_PATH:    %AXIS2_CLASS_PATH%</code> , to check what is the AXIS2_CLASS_PATH it's using.</p>\n<p>And if I run axis2wsdlToJava.bat, I get the following error message:</p>\n<pre><code>C:\\Users\\conr72\\Desktop\\k8s\\workspace\\wsdl&gt;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\bin\\wsdl2java.bat -uri Axis2UserGuide.wsdl -p org.apache.axis2.axis2userguide -d xmlbeans -s -o build\\client\nUsing AXIS2_HOME:   C:\\Users\\conr72\\Downloads\\axis2-1.8.0\nUsing JAVA_HOME:    C:\\PROGRA~1\\Java\\jdk1.8.0_121\nUsing AXIS2_CLASS_PATH:    C:\\Users\\conr72\\Downloads\\axis2-1.8.0;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\annotations-13.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\antlr-2.7.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\apache-mime4j-core-0.8.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-api-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-dom-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-impl-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axiom-jaxb-1.3.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-adb-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-adb-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-ant-plugin-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-clustering-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-corba-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-fastinfoset-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-java2wsdl-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jaxbri-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jaxws-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jibx-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-jibx-codegen-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-json-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-kernel-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-metadata-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-mtompolicy-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-saaj-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-soapmonitor-servlet-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-spring-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-base-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-http-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-jms-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-local-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-mail-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-tcp-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-udp-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-transport-xmpp-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\axis2-xmlbeans-1.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\bcel-6.4.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\checker-qual-3.8.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\codemodel-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-cli-1.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-codec-1.11.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-fileupload-1.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-io-2.11.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-lang3-3.12.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\commons-logging-1.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\dtd-parser-1.4.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\encoder-1.2.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\error_prone_annotations-2.5.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\failureaccess-1.0.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\geronimo-annotation_1.0_spec-1.1.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\geronimo-jaxws_2.2_spec-1.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\geronimo-ws-metadata_2.0_spec-1.1.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\google-java-format-1.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\gson-2.8.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\guava-30.1.1-jre.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\httpclient-4.5.13.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\httpcore-4.4.14.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\istack-commons-runtime-3.0.12.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\istack-commons-tools-3.0.12.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\j2objc-annotations-1.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.activation-1.2.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.activation-api-1.2.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.jws-api-2.1.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.mail-1.6.7.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.xml.soap-api-1.4.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jakarta.xml.ws-api-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\javac-shaded-9+181-r4173-1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\javax.servlet-api-3.1.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\javax.transaction-api-1.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxb-jxc-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxb-runtime-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxb-xjc-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxen-1.2.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jaxws-tools-2.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jettison-1.4.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jibx-bind-1.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jibx-run-1.3.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\joda-time-2.10.5.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jsr305-3.0.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\jsr311-api-1.1.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\kotlin-stdlib-1.4.31.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\kotlin-stdlib-common-1.4.20.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\log4j-api-2.14.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\log4j-core-2.14.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\log4j-jcl-2.14.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\mex-1.8.0-impl.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\moshi-1.12.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\moshi-adapters-1.12.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\neethi-3.1.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\okio-2.10.0.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\qdox-1.12.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\relaxng-datatype-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\rngom-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\serializer-2.7.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\spring-aop-5.3.9.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\spring-expression-5.3.9.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\spring-jcl-5.3.9.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\stax2-api-4.2.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\tomcat-juli-10.0.8.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\tomcat-tribes-10.0.8.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\txw2-2.3.4.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\woden-core-1.0M10.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\woodstox-core-6.2.6.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\wsdl4j-1.6.3.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xalan-2.7.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xml-resolver-1.2.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xmlbeans-3.0.1.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xmlschema-core-2.2.5.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xpp3-1.1.3.4.O.jar;C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xsom-2.3.4.jar\nRetrieving document at 'Axis2UserGuide.wsdl'.\nException in thread &quot;main&quot; org.apache.axis2.wsdl.codegen.CodeGenerationException: java.lang.RuntimeException: XMLBeans binding extension not in classpath\n        at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:163)\n        at org.apache.axis2.wsdl.WSDL2Code.main(WSDL2Code.java:54)\n        at org.apache.axis2.wsdl.WSDL2Java.main(WSDL2Java.java:24)\nCaused by: java.lang.RuntimeException: XMLBeans binding extension not in classpath\n        at org.apache.axis2.wsdl.codegen.extension.XMLBeansExtension.engage(XMLBeansExtension.java:90)\n        at org.apache.axis2.wsdl.codegen.CodeGenerationEngine.generate(CodeGenerationEngine.java:116)\n        ... 2 more\n\n</code></pre>\n<p>Since I see in the classpath the C:\\Users\\conr72\\Downloads\\axis2-1.8.0\\lib\\xmlbeans-3.0.1.jar; dependency... What am I missing?</p>\n"},{"tags":["java","eclipse","selenium","maven","testing"],"comments":[{"owner":{"account_id":420244,"reputation":435,"user_id":797857,"display_name":"icrovett"},"score":0,"creation_date":1663749492,"post_id":73797651,"comment_id":130310281,"body_markdown":"I think that may be from the GIT repository? add a capture :)","body":"I think that may be from the GIT repository? add a capture :)"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1663753983,"post_id":73797651,"comment_id":130311936,"body_markdown":"Those are usually from whichever source control system you are using (Git, ...). What is shown can be configured in the Preference pages for the SCS.","body":"Those are usually from whichever source control system you are using (Git, ...). What is shown can be configured in the Preference pages for the SCS."}],"answers":[{"tags":[],"owner":{"account_id":420244,"reputation":435,"user_id":797857,"display_name":"icrovett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663749830,"creation_date":1663749830,"answer_id":73797813,"question_id":73797651,"body_markdown":"This is the branch you are on the GIT repository, also you could have a number with the number of commits ahead of master (not in your case cause you are already on [workspace master])","title":"Recently any new Maven project I create in Eclipse will have &quot;[workspace master]&quot; as part of the title in the package explorer view","body":"<p>This is the branch you are on the GIT repository, also you could have a number with the number of commits ahead of master (not in your case cause you are already on [workspace master])</p>\n"}],"owner":{"account_id":25916760,"reputation":1,"user_id":19640044,"display_name":"Kajal Oza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663749830,"creation_date":1663749098,"question_id":73797651,"body_markdown":"Recently any new Java project I create in Eclipse will have &quot;[workspace master]&quot; as part of the title in the package explorer view. I have not been able to find any help articles stating what this is and how to get rid of","title":"Recently any new Maven project I create in Eclipse will have &quot;[workspace master]&quot; as part of the title in the package explorer view","body":"<p>Recently any new Java project I create in Eclipse will have &quot;[workspace master]&quot; as part of the title in the package explorer view. I have not been able to find any help articles stating what this is and how to get rid of</p>\n"},{"tags":["java","unit-testing","logging","junit","assert"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1663606077,"post_id":73776101,"comment_id":130274453,"body_markdown":"with log4j2 you can also mock an `Appender` similar to https://stackoverflow.com/questions/42096800/log4j2-mock-appender or https://codingcraftsman.wordpress.com/2015/04/28/log4j2-mocking-with-mockito-and-junit/","body":"with log4j2 you can also mock an <code>Appender</code> similar to <a href=\"https://stackoverflow.com/questions/42096800/log4j2-mock-appender\" title=\"log4j2 mock appender\">stackoverflow.com/questions/42096800/log4j2-mock-appender</a> or <a href=\"https://codingcraftsman.wordpress.com/2015/04/28/log4j2-mocking-with-mockito-and-junit/\" rel=\"nofollow noreferrer\">codingcraftsman.wordpress.com/2015/04/28/&hellip;</a>"},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1663606111,"post_id":73776101,"comment_id":130274466,"body_markdown":"Just add appender. https://stackoverflow.com/a/3717461/13523946","body":"Just add appender. <a href=\"https://stackoverflow.com/a/3717461/13523946\">stackoverflow.com/a/3717461/13523946</a>"}],"answers":[{"tags":[],"owner":{"account_id":6160013,"reputation":111,"user_id":4801932,"display_name":"Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663749441,"creation_date":1663749441,"answer_id":73797736,"question_id":73776101,"body_markdown":"You can also use f.e. Mockito to create mock logger and set the logger using reflection to the service and at the end of the test you can verify if logger was called or not. For setting private property like log for example you can use ReflectionTestUtils class form spring.","title":"How to assert a log using junit","body":"<p>You can also use f.e. Mockito to create mock logger and set the logger using reflection to the service and at the end of the test you can verify if logger was called or not. For setting private property like log for example you can use ReflectionTestUtils class form spring.</p>\n"}],"owner":{"account_id":3346587,"reputation":674,"user_id":2811635,"accept_rate":62,"display_name":"Ousmane MBINTE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663749441,"creation_date":1663602575,"question_id":73776101,"body_markdown":"In my service I have conditions that should log an error if it&#39;s true.\r\nI would like test that in Junit test. How can I do that ?\r\n\r\n    package com.omb;\r\n    \r\n    @Log4j2\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class MyService {\r\n    \r\n        public void doSomething() {\r\n    \r\n            log.error(&quot;Log an error !&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to assert a log using junit","body":"<p>In my service I have conditions that should log an error if it's true.\nI would like test that in Junit test. How can I do that ?</p>\n<pre><code>package com.omb;\n\n@Log4j2\n@Component\n@RequiredArgsConstructor\npublic class MyService {\n\n    public void doSomething() {\n\n        log.error(&quot;Log an error !&quot;);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8972,"page":1020,"page_size":100}
