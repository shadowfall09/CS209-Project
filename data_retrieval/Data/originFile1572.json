{"items":[{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2064077,"reputation":418,"user_id":1839988,"display_name":"simonsays"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645491317,"creation_date":1645491317,"answer_id":71214705,"question_id":71214680,"body_markdown":"&gt; `if(head.next.compareTo(bigVolume) &gt; 0)`\r\n\r\nYou are trying to compare a `Box` (`head.next`) to a `double` (`bigVolume`). This line should instead look like `if (head.next.compareTo(head))`, which will let you compare boxes instead of a volume and a Box. This should get you on the right track, but I will warn you I see other issues with your code.","title":"CompareTo LinkedList greatest volume java","body":"<blockquote>\n<p><code>if(head.next.compareTo(bigVolume) &gt; 0)</code></p>\n</blockquote>\n<p>You are trying to compare a <code>Box</code> (<code>head.next</code>) to a <code>double</code> (<code>bigVolume</code>). This line should instead look like <code>if (head.next.compareTo(head))</code>, which will let you compare boxes instead of a volume and a Box. This should get you on the right track, but I will warn you I see other issues with your code.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645492395,"creation_date":1645491413,"answer_id":71214720,"question_id":71214680,"body_markdown":"Change:\r\n\r\n    double bigVolume = head.getVolume();  \r\n\r\nTo:\r\n\r\n    Box biggestBox = head;  \r\n\r\nAnd change\r\n\r\n    if (head.next.compareTo(bigVolume) &gt; 0) {\r\n\r\nTo\r\n\r\n    if (head.next.compareTo(biggestBox) &gt; 0) {\r\n\r\n---\r\n\r\nThere&#39;s another bug in your code. Change:\r\n\r\n    while (head != null) {\r\n\r\nto:\r\n\r\n    while (head.next != null) {\r\n\r\nAlso, you&#39;re always printing `System.out.println(head);` not matter what is the biggest box. Change it to `System.out.println(biggestBox);`\r\n","title":"CompareTo LinkedList greatest volume java","body":"<p>Change:</p>\n<pre><code>double bigVolume = head.getVolume();  \n</code></pre>\n<p>To:</p>\n<pre><code>Box biggestBox = head;  \n</code></pre>\n<p>And change</p>\n<pre><code>if (head.next.compareTo(bigVolume) &gt; 0) {\n</code></pre>\n<p>To</p>\n<pre><code>if (head.next.compareTo(biggestBox) &gt; 0) {\n</code></pre>\n<hr />\n<p>There's another bug in your code. Change:</p>\n<pre><code>while (head != null) {\n</code></pre>\n<p>to:</p>\n<pre><code>while (head.next != null) {\n</code></pre>\n<p>Also, you're always printing <code>System.out.println(head);</code> not matter what is the biggest box. Change it to <code>System.out.println(biggestBox);</code></p>\n"}],"owner":{"display_name":"user18137357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645494183,"creation_date":1645491019,"question_id":71214680,"body_markdown":"I file read a file with width height and length to a linked list of objects and now I have to find which object from the linked list has the greatest and smallest volume. I tried doing this for the greatest method but I get this error: *Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.lang.Double cannot be cast to class Box (java.lang.Double is in module java.base of loader &#39;bootstrap&#39;; Box is in unnamed module of loader &#39;app&#39;).* Which I think it&#39;s because what I am comparing is wrong I am not sure what to compare. And this does have to be done with the compareTo method I have\r\n\r\nUPDATE: I have change the compares to head and head.next and now it is printing the correct volume but it is printing null after it how can I remove that. And for the smaller method it is printing an extra volume line when it&#39;s only supposed to be one and a nullpointerexception message\r\n\r\n    static void largestBox(Box head){\r\n         while(head != null){\r\n            if (head.next.compareTo(head) &gt; 0){\r\n                head = head.next;\r\n                System.out.println(head.next);\r\n            }\r\n            head = head.next;\r\n        }\r\n    \r\n    }\r\n        class Box {\r\n          private double width, height, length;\r\n          public Box next;\r\n   \r\n        Box(double w, double h, double l){\r\n            width=w;\r\n            height=h;\r\n            length=l;\r\n        }\r\n  \r\n        double getVolume(){\r\n           return width*height*length;\r\n        }\r\n  \r\n        public int compareTo(Object o){    \r\n          double vol1 = this.getVolume();\r\n          double vol2 = ((Box)o).getVolume();\r\n          if (vol1&gt;vol2)\r\n            return 1;\r\n          else if (vol1&lt;vol2)\r\n             return -1;\r\n          else\r\n            return 0;\r\n        }\r\n     }\r\n","title":"CompareTo LinkedList greatest volume java","body":"<p>I file read a file with width height and length to a linked list of objects and now I have to find which object from the linked list has the greatest and smallest volume. I tried doing this for the greatest method but I get this error: <em>Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.lang.Double cannot be cast to class Box (java.lang.Double is in module java.base of loader 'bootstrap'; Box is in unnamed module of loader 'app').</em> Which I think it's because what I am comparing is wrong I am not sure what to compare. And this does have to be done with the compareTo method I have</p>\n<p>UPDATE: I have change the compares to head and head.next and now it is printing the correct volume but it is printing null after it how can I remove that. And for the smaller method it is printing an extra volume line when it's only supposed to be one and a nullpointerexception message</p>\n<pre><code>static void largestBox(Box head){\n     while(head != null){\n        if (head.next.compareTo(head) &gt; 0){\n            head = head.next;\n            System.out.println(head.next);\n        }\n        head = head.next;\n    }\n\n}\n    class Box {\n      private double width, height, length;\n      public Box next;\n\n    Box(double w, double h, double l){\n        width=w;\n        height=h;\n        length=l;\n    }\n\n    double getVolume(){\n       return width*height*length;\n    }\n\n    public int compareTo(Object o){    \n      double vol1 = this.getVolume();\n      double vol2 = ((Box)o).getVolume();\n      if (vol1&gt;vol2)\n        return 1;\n      else if (vol1&lt;vol2)\n         return -1;\n      else\n        return 0;\n    }\n }\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":7,"creation_date":1372787679,"post_id":17432447,"comment_id":25321082,"body_markdown":"Did you ever `put` anything into `inventory`? Also, why not use `Map&lt;Item, Integer&gt;`s?","body":"Did you ever <code>put</code> anything into <code>inventory</code>? Also, why not use <code>Map&lt;Item, Integer&gt;</code>s?"},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":3,"creation_date":1372787741,"post_id":17432447,"comment_id":25321116,"body_markdown":"If `inventoryRequirements` starts out empty, the first loop will also fail.","body":"If <code>inventoryRequirements</code> starts out empty, the first loop will also fail."},{"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"score":0,"creation_date":1372787748,"post_id":17432447,"comment_id":25321120,"body_markdown":"It never gets to the line to put anything into it.  As to why not Map instead - I have no good answer for that - is there a real advantage?","body":"It never gets to the line to put anything into it.  As to why not Map instead - I have no good answer for that - is there a real advantage?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1372787793,"post_id":17432447,"comment_id":25321135,"body_markdown":"Any call to `get(int)` on an empty `HashMap` will return `null`.","body":"Any call to <code>get(int)</code> on an empty <code>HashMap</code> will return <code>null</code>."},{"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"score":0,"creation_date":1372787816,"post_id":17432447,"comment_id":25321150,"body_markdown":"I can assure you the first loop does NOT fail and both get populated the same way.","body":"I can assure you the first loop does NOT fail and both get populated the same way."},{"owner":{"account_id":417955,"reputation":18564,"user_id":794242,"accept_rate":80,"display_name":"Wand Maker"},"score":0,"creation_date":1372787838,"post_id":17432447,"comment_id":25321161,"body_markdown":"On which line it gives null?","body":"On which line it gives null?"},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1372787891,"post_id":17432447,"comment_id":25321189,"body_markdown":"How do you populate them?","body":"How do you populate them?"},{"owner":{"account_id":2772382,"reputation":2144,"user_id":2386719,"display_name":"i Code 4 Food"},"score":0,"creation_date":1372787892,"post_id":17432447,"comment_id":25321191,"body_markdown":"show us the code where you populate them.","body":"show us the code where you populate them."},{"owner":{"account_id":1318321,"reputation":2534,"user_id":1264705,"accept_rate":76,"display_name":"PVR"},"score":0,"creation_date":1372787964,"post_id":17432447,"comment_id":25321236,"body_markdown":"Please practice debugging !! You will get to know the exact solution.. As looking this logically, even in first for loop it should return null.","body":"Please practice debugging !! You will get to know the exact solution.. As looking this logically, even in first for loop it should return null."},{"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"score":0,"creation_date":1372788075,"post_id":17432447,"comment_id":25321320,"body_markdown":"@PVR That is what I am doing - DEBUGGING.  And the first loop does work!!!","body":"@PVR That is what I am doing - DEBUGGING.  And the first loop does work!!!"},{"owner":{"account_id":1318321,"reputation":2534,"user_id":1264705,"accept_rate":76,"display_name":"PVR"},"score":0,"creation_date":1372788126,"post_id":17432447,"comment_id":25321350,"body_markdown":"What does it returning in that case ??","body":"What does it returning in that case ??"},{"owner":{"account_id":2345064,"reputation":1327,"user_id":2055542,"display_name":"kfaerber"},"score":0,"creation_date":1372788485,"post_id":17432447,"comment_id":25321567,"body_markdown":"I just tried to run your code (modifying the Items list to be a list of Integers). Your first loop throughs NPE. You need to take a closer look at your stack trace and line numbers.","body":"I just tried to run your code (modifying the Items list to be a list of Integers). Your first loop throughs NPE. You need to take a closer look at your stack trace and line numbers."},{"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"score":0,"creation_date":1372788510,"post_id":17432447,"comment_id":25321585,"body_markdown":"First loop returns 0 the first time through.  I cannot explain why it works and the other does not.  That&#39;s why I posted here.","body":"First loop returns 0 the first time through.  I cannot explain why it works and the other does not.  That&#39;s why I posted here."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1372788662,"post_id":17432447,"comment_id":25321672,"body_markdown":"@AndroidAddict Because you obviously have other code between your first and second snippet that you aren&#39;t showing us.","body":"@AndroidAddict Because you obviously have other code between your first and second snippet that you aren&#39;t showing us."},{"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"score":0,"creation_date":1372790568,"post_id":17432447,"comment_id":25322760,"body_markdown":"Aside from all these don&#39;t use `inventory.put(item.get_id(), currentInventory++);` this will eventually put the non-incremented `currentInventroy` value within inventory. Instead use `currentInventory++;inventory.put(item.get_id(), currentInventory);`","body":"Aside from all these don&#39;t use <code>inventory.put(item.get_id(), currentInventory++);</code> this will eventually put the non-incremented <code>currentInventroy</code> value within inventory. Instead use <code>currentInventory++;inventory.put(item.get_id(), currentInventory);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372787746,"creation_date":1372787746,"answer_id":17432514,"question_id":17432447,"body_markdown":"If the code you have provided is complete, then you haven&#39;t put anything in your `hashmap`.\r\nSo it will always return `null`.\r\n","title":"Hashmap get returns null","body":"<p>If the code you have provided is complete, then you haven't put anything in your <code>hashmap</code>.\nSo it will always return <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":2987112,"reputation":2655,"user_id":2535616,"display_name":"lleon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372787899,"creation_date":1372787899,"answer_id":17432568,"question_id":17432447,"body_markdown":"You are getting a item from `inventory` but it&#39;s empty\r\n\r\n","title":"Hashmap get returns null","body":"<p>You are getting a item from <code>inventory</code> but it's empty</p>\n"},{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1372788547,"creation_date":1372788165,"answer_id":17432655,"question_id":17432447,"body_markdown":"Both of the loops you show will throw a `NullPointerException` (NPE) if the key you request via `get()` is not in the `Map`.\r\n\r\n`Map.get()` returns `null` when the key is not present (or of course if the value stored with that key is `null`). An `Integer` (autoboxed type) that is `null` can not be autounboxed into an `int` so it throws an NPE.  \r\n\r\nThe safe way of performing this is:\r\n\r\n    for (Item item : items) {\r\n        Integer currentRequirement = inventoryRequirements.get(item.get_id());\r\n        if (currentRequirement != null) {\r\n            inventoryRequirements.put(item.get_id(), currentRequirement++);         \r\n        }\r\n    }\r\n\r\nOf course, it&#39;s also completely possible that you have an `Item` in your collection that is `null` and *that* is what is throwing the NPE. ","title":"Hashmap get returns null","body":"<p>Both of the loops you show will throw a <code>NullPointerException</code> (NPE) if the key you request via <code>get()</code> is not in the <code>Map</code>.</p>\n\n<p><code>Map.get()</code> returns <code>null</code> when the key is not present (or of course if the value stored with that key is <code>null</code>). An <code>Integer</code> (autoboxed type) that is <code>null</code> can not be autounboxed into an <code>int</code> so it throws an NPE.  </p>\n\n<p>The safe way of performing this is:</p>\n\n<pre><code>for (Item item : items) {\n    Integer currentRequirement = inventoryRequirements.get(item.get_id());\n    if (currentRequirement != null) {\n        inventoryRequirements.put(item.get_id(), currentRequirement++);         \n    }\n}\n</code></pre>\n\n<p>Of course, it's also completely possible that you have an <code>Item</code> in your collection that is <code>null</code> and <em>that</em> is what is throwing the NPE. </p>\n"},{"tags":[],"owner":{"display_name":"user7489380"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532935501,"creation_date":1532935501,"answer_id":51588926,"question_id":17432447,"body_markdown":"The best practice is to write the code in the following manner: \r\n\r\n    for(Item item : items){\r\n    int currentRequirement = 0;\r\n    currentRequirement = inventoryRequirements.get(item.get_id());\r\n    if(currentRequirement!=null){\r\n    //update currentRequirement only if it exists in the map.\r\n       inventoryRequirements.put(item.get_id(), currentRequirement++); \r\n    } else {\r\n       //add it to the map otherwise.\r\n       inventoryRequirements.put(item.get_id(), 1);       \r\n    }","title":"Hashmap get returns null","body":"<p>The best practice is to write the code in the following manner: </p>\n\n<pre><code>for(Item item : items){\nint currentRequirement = 0;\ncurrentRequirement = inventoryRequirements.get(item.get_id());\nif(currentRequirement!=null){\n//update currentRequirement only if it exists in the map.\n   inventoryRequirements.put(item.get_id(), currentRequirement++); \n} else {\n   //add it to the map otherwise.\n   inventoryRequirements.put(item.get_id(), 1);       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3158846,"reputation":3608,"user_id":2670571,"accept_rate":52,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645493594,"creation_date":1645493594,"answer_id":71214943,"question_id":17432447,"body_markdown":"Ugg. Also, when all else fails, don&#39;t overlook the possibility that it is not returning null because its not finding the key.  It could be returning null because when the key/value pair was added... the value added was null.  Just spent more time than I care to admit tracking this down.  \r\n\r\nSo, to recap, there are at least two reasons the HashMap could be returning null:\r\n- It&#39;s not finding the key\r\n- It is finding the key, but the value inserted for the key is null\r\n\r\nDoh!","title":"Hashmap get returns null","body":"<p>Ugg. Also, when all else fails, don't overlook the possibility that it is not returning null because its not finding the key.  It could be returning null because when the key/value pair was added... the value added was null.  Just spent more time than I care to admit tracking this down.</p>\n<p>So, to recap, there are at least two reasons the HashMap could be returning null:</p>\n<ul>\n<li>It's not finding the key</li>\n<li>It is finding the key, but the value inserted for the key is null</li>\n</ul>\n<p>Doh!</p>\n"}],"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69856,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"answer_count":5,"score":12,"last_activity_date":1645493594,"creation_date":1372787531,"question_id":17432447,"body_markdown":"I have two Hashmaps\r\n\r\n    HashMap&lt;Integer, Integer&gt; inventoryRequirements = new HashMap&lt;Integer, Integer&gt;();\r\n    HashMap&lt;Integer, Integer&gt; inventory = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n\r\nI have a loop that checks current and adds to it:\r\n\r\n    for(Item item : items){\r\n        int currentRequirement = 0;\r\n        currentRequirement = inventoryRequirements.get(item.get_id());\r\n        inventoryRequirements.put(item.get_id(), currentRequirement++);\t\t\t\r\n    }\r\n\r\nI have another loop that checks inventory and adds to it:\r\n\r\n    for(Item item : items){\r\n        int currentInventory = 0;\r\n        // this next line returns null\r\n        currentInventory = inventory.get(item.get_id());\r\n        inventory.put(item.get_id(), currentInventory++);\t\t\t\r\n    }\r\n\r\n\r\nThe first one works fine, but the second one pukes and returns a null.  I don&#39;t understand why the second one does not work.  Both are initially in the same state as depicted in the code sample.\r\n\r\n\r\n**EDIT**\r\n\r\nThe two HM get populated as you see here - really! I know it may be hard to believe but the first one works and the second one does not.\r\n","title":"Hashmap get returns null","body":"<p>I have two Hashmaps</p>\n\n<pre><code>HashMap&lt;Integer, Integer&gt; inventoryRequirements = new HashMap&lt;Integer, Integer&gt;();\nHashMap&lt;Integer, Integer&gt; inventory = new HashMap&lt;Integer, Integer&gt;();\n</code></pre>\n\n<p>I have a loop that checks current and adds to it:</p>\n\n<pre><code>for(Item item : items){\n    int currentRequirement = 0;\n    currentRequirement = inventoryRequirements.get(item.get_id());\n    inventoryRequirements.put(item.get_id(), currentRequirement++);         \n}\n</code></pre>\n\n<p>I have another loop that checks inventory and adds to it:</p>\n\n<pre><code>for(Item item : items){\n    int currentInventory = 0;\n    // this next line returns null\n    currentInventory = inventory.get(item.get_id());\n    inventory.put(item.get_id(), currentInventory++);           \n}\n</code></pre>\n\n<p>The first one works fine, but the second one pukes and returns a null.  I don't understand why the second one does not work.  Both are initially in the same state as depicted in the code sample.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The two HM get populated as you see here - really! I know it may be hard to believe but the first one works and the second one does not.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3123845,"reputation":4404,"user_id":2643110,"display_name":"forgivenson"},"score":0,"creation_date":1443704513,"post_id":32888234,"comment_id":53606265,"body_markdown":"What line is throwing that error? The error itself is self-explanatory: you are trying to access an index of an array/list that doesn&#39;t exist. In this case, the array/list is empty (size: 0).","body":"What line is throwing that error? The error itself is self-explanatory: you are trying to access an index of an array/list that doesn&#39;t exist. In this case, the array/list is empty (size: 0)."},{"owner":{"account_id":2789646,"reputation":10009,"user_id":2400117,"display_name":"Diogo Rocha"},"score":0,"creation_date":1443704579,"post_id":32888234,"comment_id":53606320,"body_markdown":"Please provide more information about related methods, variables, etc.","body":"Please provide more information about related methods, variables, etc."},{"owner":{"account_id":2849686,"reputation":6485,"user_id":2447152,"display_name":"Rustam"},"score":0,"creation_date":1443704582,"post_id":32888234,"comment_id":53606323,"body_markdown":"`removeMeFromNetwork(...)` add it&#39;s implementation","body":"<code>removeMeFromNetwork(...)</code> add it&#39;s implementation"},{"owner":{"account_id":5721013,"reputation":75,"user_id":4711683,"accept_rate":57,"display_name":"Enrico"},"score":0,"creation_date":1443704815,"post_id":32888234,"comment_id":53606483,"body_markdown":"I added the implementation, but everything works fine. When the list comes to the end.... the problem comes out","body":"I added the implementation, but everything works fine. When the list comes to the end.... the problem comes out"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443706313,"creation_date":1443706313,"answer_id":32888926,"question_id":32888234,"body_markdown":"The interface `List` has two `remove` methods, one that accepts an object ([`List.remove(Object)`](http://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-)) and one that accepts an index number ([`List.remove(int)`](http://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-)). When you have a `List&lt;Integer&gt;` you have to take care to invoke the right one.\r\n\r\nI.e., in your code you have a parameter `int ke` and invoke `listKey.remove(ke);` which will invoke `List.remove(int)` and interpret `ke` as index rather than as element. You can remove an `Integer` object by inserting a type cast, `listKey.remove((Integer)ke);`\r\n","title":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 5, Size: 0","body":"<p>The interface <code>List</code> has two <code>remove</code> methods, one that accepts an object (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-\" rel=\"nofollow\"><code>List.remove(Object)</code></a>) and one that accepts an index number (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-\" rel=\"nofollow\"><code>List.remove(int)</code></a>). When you have a <code>List&lt;Integer&gt;</code> you have to take care to invoke the right one.</p>\n\n<p>I.e., in your code you have a parameter <code>int ke</code> and invoke <code>listKey.remove(ke);</code> which will invoke <code>List.remove(int)</code> and interpret <code>ke</code> as index rather than as element. You can remove an <code>Integer</code> object by inserting a type cast, <code>listKey.remove((Integer)ke);</code></p>\n"}],"owner":{"account_id":5721013,"reputation":75,"user_id":4711683,"accept_rate":57,"display_name":"Enrico"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1645493237,"creation_date":1443704417,"question_id":32888234,"body_markdown":"I just have this error. I have this \r\n\r\n    private List&lt;String&gt; neighbourNames;\r\n\r\nWhich contains the names of the peers in the network. When a peer try to leave the network try to remove itself in the list of the others peer. This happens but in the end I got an error. Here is the code\r\n\r\n    for(String s : neighbourNames){\r\n        \t\ttry {\r\n    \t\t\t\tstub = (PeerInterface) registry.lookup(s);\r\n    \t\t\t} catch (NotBoundException e) {\r\n    \t\t\t\tSystem.out.println(&quot;Cannot reach &quot; + s + &quot;, probably is offline&quot;);\r\n    \t\t\t}\r\n            \tstub.removeMeFromNetwork(nome,key);\r\n            \t\r\n        \t}\r\n\r\n\r\nThe error is the one showed in the title and...\r\n\r\n    at com.sun.proxy.$Proxy0.removeMeFromNetwork(Unknown Source)\r\n    \tat com.server.PeerNode.leaveNetwork(PeerNode.java:181)\r\n    \tat com.server.PeerNode.printMenu(PeerNode.java:475)\r\n    \tat com.server.PeerNode.run(PeerNode.java:118)\r\n    \tat com.server.Main.main(Main.java:85)\r\n\r\nThe line that throw that error is : stub.removeMeFromNetwork(nome,key);\r\n\r\n\r\nThis is the implementation of removeMeFromNetwork:\r\n\r\n    public void removeMeFromNetwork(String nome, int ke) throws RemoteException {\r\n    \t\tSystem.out.println(nome + &quot; is leaving the network&quot;);\r\n    \t\t\r\n    \t\tneighbourNames.remove(nome);\r\n    \t\tlistKey.remove(ke);\r\n    \t\tSystem.out.println(&quot;QUALCUNO E&#39; USCITO VICINI RIMANENTI\\n&quot;+ neighbourNames);\r\n    \t\t\r\n    \t}\r\n\r\nThanks in advance","title":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 5, Size: 0","body":"<p>I just have this error. I have this </p>\n\n<pre><code>private List&lt;String&gt; neighbourNames;\n</code></pre>\n\n<p>Which contains the names of the peers in the network. When a peer try to leave the network try to remove itself in the list of the others peer. This happens but in the end I got an error. Here is the code</p>\n\n<pre><code>for(String s : neighbourNames){\n            try {\n                stub = (PeerInterface) registry.lookup(s);\n            } catch (NotBoundException e) {\n                System.out.println(\"Cannot reach \" + s + \", probably is offline\");\n            }\n            stub.removeMeFromNetwork(nome,key);\n\n        }\n</code></pre>\n\n<p>The error is the one showed in the title and...</p>\n\n<pre><code>at com.sun.proxy.$Proxy0.removeMeFromNetwork(Unknown Source)\n    at com.server.PeerNode.leaveNetwork(PeerNode.java:181)\n    at com.server.PeerNode.printMenu(PeerNode.java:475)\n    at com.server.PeerNode.run(PeerNode.java:118)\n    at com.server.Main.main(Main.java:85)\n</code></pre>\n\n<p>The line that throw that error is : stub.removeMeFromNetwork(nome,key);</p>\n\n<p>This is the implementation of removeMeFromNetwork:</p>\n\n<pre><code>public void removeMeFromNetwork(String nome, int ke) throws RemoteException {\n        System.out.println(nome + \" is leaving the network\");\n\n        neighbourNames.remove(nome);\n        listKey.remove(ke);\n        System.out.println(\"QUALCUNO E' USCITO VICINI RIMANENTI\\n\"+ neighbourNames);\n\n    }\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","filter","functional-programming","java-stream","java.nio.file"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":1,"up_vote_count":96,"is_accepted":true,"score":95,"last_activity_date":1645492655,"creation_date":1490887187,"answer_id":43121966,"question_id":43121944,"body_markdown":"# `Stream#skip`\r\n\r\nUse [skip(1)](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-) to ignore the first element.\r\n\r\nDon&#39;t use it with parallel streams without reading the disclaimer in the javadoc.","title":"Remove first element of a Stream in Java 8","body":"<h1><code>Stream#skip</code></h1>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-\" rel=\"noreferrer\">skip(1)</a> to ignore the first element.</p>\n<p>Don't use it with parallel streams without reading the disclaimer in the javadoc.</p>\n"}],"owner":{"account_id":6913688,"reputation":616,"user_id":5308702,"display_name":"Manolo Pirolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32174,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":43121966,"answer_count":1,"score":47,"last_activity_date":1645492655,"creation_date":1490887127,"question_id":43121944,"body_markdown":"I have generated a Stream in Java 8 with Files.walk() method from java.nio library. The problem is that the method includes by default the root path but I do not want this element. I have solved in this case with this code using filter() method:\r\n\r\n    public void listFiles(String directoryPath) {\r\n        try {\r\n            Path root = Paths.get(directoryPath);\r\n            Files.walk(root,1)\r\n                .filter(x -&gt; !x.equals(root))\r\n                .forEach(System.out::println);\r\n        } catch (IOException ex) {\r\n            System.err.println(&quot;Error reading file: &quot; + directoryPath);\r\n        }\r\n    }\r\n\r\nMy question is if there is a way more elegant to remove the first element of a Stream than this. For example working with a index in the Stream or with a tail() method as others functional languages.","title":"Remove first element of a Stream in Java 8","body":"<p>I have generated a Stream in Java 8 with Files.walk() method from java.nio library. The problem is that the method includes by default the root path but I do not want this element. I have solved in this case with this code using filter() method:</p>\n\n<pre><code>public void listFiles(String directoryPath) {\n    try {\n        Path root = Paths.get(directoryPath);\n        Files.walk(root,1)\n            .filter(x -&gt; !x.equals(root))\n            .forEach(System.out::println);\n    } catch (IOException ex) {\n        System.err.println(\"Error reading file: \" + directoryPath);\n    }\n}\n</code></pre>\n\n<p>My question is if there is a way more elegant to remove the first element of a Stream than this. For example working with a index in the Stream or with a tail() method as others functional languages.</p>\n"},{"tags":["java","junit","cucumber","maven-surefire-plugin"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645461210,"post_id":71208219,"comment_id":125872027,"body_markdown":"There is not enough information here to make a determination. Where&#39;s your runner code? What is the path to your step definition files? etc...","body":"There is not enough information here to make a determination. Where&#39;s your runner code? What is the path to your step definition files? etc..."}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645492611,"creation_date":1645492611,"answer_id":71214836,"question_id":71208219,"body_markdown":"When using a tag filter with Cucumber and JUnit 4, scenarios are excluded (filtered) from execution. So JUnit doesn&#39;t even tell Surefire about their existence and so they don&#39;t get counted.\r\n\r\nWhy? Mostly a coincidence of history that takes too long to explain.\r\n\r\nWhen using cucumbers tag filters with JUnit 5 scenarios are correctly marked as skipped. Though oddly enough when using JUnit5s own tag filters they&#39;re not included. Though the semantics are such that both behaviors are correct now.\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine","title":"Skipped tests are not displayed in the Cucumber Report","body":"<p>When using a tag filter with Cucumber and JUnit 4, scenarios are excluded (filtered) from execution. So JUnit doesn't even tell Surefire about their existence and so they don't get counted.</p>\n<p>Why? Mostly a coincidence of history that takes too long to explain.</p>\n<p>When using cucumbers tag filters with JUnit 5 scenarios are correctly marked as skipped. Though oddly enough when using JUnit5s own tag filters they're not included. Though the semantics are such that both behaviors are correct now.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine</a></p>\n"}],"owner":{"account_id":3921485,"reputation":367,"user_id":3243470,"accept_rate":86,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645492611,"creation_date":1645454606,"question_id":71208219,"body_markdown":"I&#39;m running my Cucumber tests using `mvn clean verify`. I have annotated a test scenario with the `@Skip` tag and then provided this tag inside `@CucumberOptions(tags = &quot;not @Skip&quot;)` in order to skip that scenario. &lt;br/&gt;&lt;br/&gt; After running the tests I get the following log: `[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0.` &lt;br/&gt;\r\nWhat am I missing in order to show that the test was skipped? &lt;br/&gt;I would expect to see:\r\n`[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 1.` \r\n","title":"Skipped tests are not displayed in the Cucumber Report","body":"<p>I'm running my Cucumber tests using <code>mvn clean verify</code>. I have annotated a test scenario with the <code>@Skip</code> tag and then provided this tag inside <code>@CucumberOptions(tags = &quot;not @Skip&quot;)</code> in order to skip that scenario. <br/><br/> After running the tests I get the following log: <code>[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0.</code> <br/>\nWhat am I missing in order to show that the test was skipped? <br/>I would expect to see:\n<code>[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 1.</code></p>\n"},{"tags":["java","android","layout","fragment"],"comments":[{"owner":{"account_id":1154611,"reputation":17254,"user_id":1135548,"accept_rate":50,"display_name":"Hardik"},"score":1,"creation_date":1388407222,"post_id":20839252,"comment_id":31256522,"body_markdown":"try removing scrollview !!!","body":"try removing scrollview !!!"}],"answers":[{"tags":[],"owner":{"account_id":474397,"reputation":1849,"user_id":884052,"display_name":"Ajeet47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388406309,"creation_date":1388406309,"answer_id":20839531,"question_id":20839252,"body_markdown":"Use hierarchiviewer of android tools to check layout values.","title":"Height MapFragment Layout not work","body":"<p>Use hierarchiviewer of android tools to check layout values.</p>\n"},{"tags":[],"owner":{"account_id":3713491,"reputation":1265,"user_id":3090216,"accept_rate":78,"display_name":"Yeray"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1388650550,"creation_date":1388650550,"answer_id":20878866,"question_id":20839252,"body_markdown":"SOLUTION (by [Hardik][1]):\r\n\r\nRemove the scrollview in my activity_main.xml and it works well.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1135548/hardik","title":"Height MapFragment Layout not work","body":"<p>SOLUTION (by <a href=\"https://stackoverflow.com/users/1135548/hardik\">Hardik</a>):</p>\n\n<p>Remove the scrollview in my activity_main.xml and it works well.</p>\n"},{"tags":[],"owner":{"account_id":2278815,"reputation":1103,"user_id":2004459,"accept_rate":17,"display_name":"Sharad Mhaske"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1396347212,"creation_date":1396347212,"answer_id":22782827,"question_id":20839252,"body_markdown":"Removing scrollview is not convinient solution.Instead of it try `android:FillViewPort=&quot;True&quot;` for `Scrollview` in your `layout` solve your problem for all screen where you may require scroll for your activity content.Hope this helps you!!","title":"Height MapFragment Layout not work","body":"<p>Removing scrollview is not convinient solution.Instead of it try <code>android:FillViewPort=\"True\"</code> for <code>Scrollview</code> in your <code>layout</code> solve your problem for all screen where you may require scroll for your activity content.Hope this helps you!!</p>\n"},{"tags":[],"owner":{"account_id":3930425,"reputation":938,"user_id":3249250,"display_name":"Max Izrin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455713726,"creation_date":1455713726,"answer_id":35457365,"question_id":20839252,"body_markdown":"For the future:\r\nIf you have a ScrollView then elements must specify their height (width for horizontal scroll view) otherwise what height should they have, infinite?\r\n\r\nI also had an issue where the exact thing happened when placing the map fragment inside a Relative Layout that had height = Wrap_Content, with minimum height.  \r\nSetting a constant height resolved the issue, same idea.","title":"Height MapFragment Layout not work","body":"<p>For the future:\nIf you have a ScrollView then elements must specify their height (width for horizontal scroll view) otherwise what height should they have, infinite?</p>\n\n<p>I also had an issue where the exact thing happened when placing the map fragment inside a Relative Layout that had height = Wrap_Content, with minimum height.<br>\nSetting a constant height resolved the issue, same idea.</p>\n"},{"tags":[],"owner":{"account_id":466127,"reputation":285,"user_id":5855091,"accept_rate":0,"display_name":"chitgoks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645491447,"creation_date":1645491447,"answer_id":71214726,"question_id":20839252,"body_markdown":"came across this same issue but my map fragment is inside a scrollview and it needs to have a scrollview since there are also other views aside from the map. if it only contains the map, then yes scrollview is not needed.\r\n","title":"Height MapFragment Layout not work","body":"<p>came across this same issue but my map fragment is inside a scrollview and it needs to have a scrollview since there are also other views aside from the map. if it only contains the map, then yes scrollview is not needed.</p>\n"}],"owner":{"account_id":3713491,"reputation":1265,"user_id":3090216,"accept_rate":78,"display_name":"Yeray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1725,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20878866,"answer_count":5,"score":3,"last_activity_date":1645491447,"creation_date":1388405288,"question_id":20839252,"body_markdown":"I&#39;m build an app that contain two tabhost (top and botton) and in one tab, I want to put a Google Map through the Google API. All works well but the map does not display correctly. You can see better in this picture:\r\n\r\n![enter image description here][1]\r\n\r\nMy code is:\r\n\r\nfragment_mapa.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n    \txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       \tandroid:id=&quot;@+id/map_container&quot;\r\n       \tandroid:layout_width=&quot;match_parent&quot;\r\n       \tandroid:layout_height=&quot;match_parent&quot;\r\n       \tandroid:orientation=&quot;vertical&quot;&gt;\r\n       \t\r\n    \t&lt;fragment \r\n    \t\tandroid:id=&quot;@+id/map&quot;\r\n    \t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\tandroid:layout_height=&quot;match_parent&quot;\r\n    \t\tclass=&quot;com.google.android.gms.maps.SupportMapFragment&quot;/&gt;\r\n    \t\r\n    &lt;/RelativeLayout&gt;\r\n\t\r\nMapaFragment.java\r\n\r\n    public class MapaFragment extends Fragment {\r\n    \tpublic MapaFragment(){}\r\n    \t\r\n    \tpublic GoogleMap mapa;\r\n    \t\r\n    \t@Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                Bundle savedInstanceState) {\r\n    \t\t\r\n            View rootView = inflater.inflate(R.layout.fragment_mapa, container, false);\r\n            \r\n            if (container != null) {\r\n    \t\t\tcontainer.removeAllViews();\r\n    \t\t}\r\n    \t\t\r\n            GoogleMap map = ((SupportMapFragment) getActivity().getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map)).getMap();\r\n            \r\n            ((MainActivity) getActivity()).setBar();\r\n            \r\n            //Asigno el nombre de la vista e integro tabhost-sliding\r\n            ((MainActivity) getActivity()).setTitle(&quot;Mapa&quot;);\r\n            ((MainActivity) getActivity()).integrationMenu();\r\n            \r\n    \t\treturn rootView;\r\n            \r\n        }\r\n    \t\r\n    \t\r\n    \tpublic void onDestroyView() {\r\n    \t    super.onDestroyView();\r\n    \t    Log.d(&quot;DESTROY&quot;, &quot;onDestroyView&quot;);\r\n    \r\n    \t    Fragment f = getActivity()\r\n    \t            .getSupportFragmentManager().findFragmentById(R.id.map);\r\n    \t    \r\n    \t    if (f != null) {\r\n    \t        getActivity().getSupportFragmentManager()\r\n    \t        .beginTransaction().remove(f).commit();\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n\r\nAnd my activity_main.xml that contain the two tabhost and a framelayout that call the fragments:\r\n\r\n    &lt;android.support.v4.widget.DrawerLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        \r\n        &lt;!-- Estructura de los dos tabhost --&gt;\r\n        &lt;RelativeLayout\r\n    \t    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \t    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    \t    android:id=&quot;@+id/LinearLayout1&quot;\r\n    \t    android:orientation=&quot;vertical&quot;\r\n    \t    android:layout_width=&quot;match_parent&quot;\r\n    \t    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \t    \r\n       \t\t&lt;!-- TABHOST SUPERIOR --&gt;\r\n        \t&lt;RelativeLayout\r\n    \t        android:id=&quot;@+id/l1&quot;\r\n    \t        android:orientation=&quot;vertical&quot;\r\n    \t        android:layout_width=&quot;match_parent&quot;\r\n    \t        android:layout_height=&quot;wrap_content&quot;\r\n    \t        android:layout_weight=&quot;0&quot;\r\n    \t        android:gravity=&quot;right&quot;\r\n    \t        android:layout_above=&quot;@+id/l2&quot;\r\n    \t        android:layout_alignParentTop=&quot;true&quot;&gt;\r\n            \r\n    \t        &lt;android.support.v4.app.FragmentTabHost\r\n    \t            android:id=&quot;@+id/tabhost_sup&quot;\r\n    \t            android:layout_width=&quot;fill_parent&quot;\r\n    \t            android:layout_height=&quot;fill_parent&quot;&gt;\r\n                \r\n    \t            &lt;LinearLayout\r\n    \t                android:orientation=&quot;vertical&quot;\r\n    \t                android:layout_width=&quot;match_parent&quot;\r\n    \t                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \t        \r\n    \t                &lt;TabWidget\r\n    \t                    android:id=&quot;@android:id/tabs&quot;\r\n    \t                    android:orientation=&quot;horizontal&quot;\r\n    \t                    android:layout_width=&quot;fill_parent&quot;\r\n    \t                    android:layout_height=&quot;50dip&quot;\r\n    \t                    android:layout_weight=&quot;0&quot;/&gt;\r\n    \t                \r\n    \t                \r\n    \t                &lt;ScrollView \r\n    \t                    android:layout_width=&quot;match_parent&quot;\r\n    \t                    android:layout_height=&quot;match_parent&quot;\r\n    \t                    android:background=&quot;#ffffff&quot;&gt;\r\n    \t                    &lt;FrameLayout\r\n    \t                        android:id=&quot;@android:id/tabcontent&quot;\r\n    \t                        android:layout_width=&quot;match_parent&quot;\r\n    \t                        android:layout_height=&quot;match_parent&quot;\r\n    \t                        android:layout_weight=&quot;0&quot;/&gt;\r\n    \t                &lt;/ScrollView&gt;\r\n    \t                \r\n    \t            &lt;/LinearLayout&gt;\r\n            \t&lt;/android.support.v4.app.FragmentTabHost&gt;\r\n        \t&lt;/RelativeLayout&gt;\r\n        \t\r\n    \t    &lt;!-- TABHOST INFERIOR --&gt;\r\n    \t    &lt;RelativeLayout\r\n    \t        android:id=&quot;@+id/l2&quot;\r\n    \t        android:orientation=&quot;vertical&quot;\r\n    \t        android:layout_width=&quot;match_parent&quot;\r\n    \t        android:layout_height=&quot;50dip&quot;\r\n    \t        android:layout_weight=&quot;1&quot;\r\n    \t        android:gravity=&quot;right&quot;\r\n    \t        android:layout_alignParentBottom=&quot;true&quot;\r\n    \t        android:background=&quot;@android:color/background_light&quot; &gt;\r\n    \t        \r\n    \t        &lt;android.support.v4.app.FragmentTabHost\r\n    \t            android:id=&quot;@android:id/tabhost&quot;\r\n    \t            android:layout_width=&quot;fill_parent&quot;\r\n    \t            android:layout_height=&quot;fill_parent&quot;&gt;\r\n    \t            \r\n    \t            &lt;LinearLayout\r\n    \t                android:id=&quot;@+id/RelativeLayout1&quot;\r\n    \t                android:orientation=&quot;vertical&quot;\r\n    \t                android:layout_width=&quot;fill_parent&quot;\r\n    \t                android:layout_height=&quot;fill_parent&quot;&gt;\r\n    \t        \r\n    \t                &lt;FrameLayout\r\n    \t                    android:id=&quot;@android:id/tabcontent&quot;\r\n    \t                    android:layout_width=&quot;0dp&quot;\r\n    \t                    android:layout_height=&quot;0dp&quot;\r\n    \t                    android:layout_weight=&quot;0&quot;/&gt;\r\n    \t                \r\n    \t                &lt;TabWidget\r\n    \t                    android:id=&quot;@android:id/tabs&quot;\r\n    \t                    android:layout_width=&quot;fill_parent&quot;\r\n    \t                    android:layout_height=&quot;wrap_content&quot;\r\n    \t                    android:layout_weight=&quot;0&quot; \r\n    \t                    android:layout_marginBottom=&quot;0dp&quot;/&gt;\r\n    \t                \r\n    \t            &lt;/LinearLayout&gt;\r\n    \t        &lt;/android.support.v4.app.FragmentTabHost&gt;\r\n    \t    &lt;/RelativeLayout&gt;\r\n        &lt;/RelativeLayout&gt;\r\n         \r\n        &lt;!-- Listview to display slider menu --&gt;\r\n        &lt;ListView\r\n            android:id=&quot;@+id/list_slidermenu&quot;\r\n            android:layout_width=&quot;240dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:choiceMode=&quot;singleChoice&quot;\r\n            android:divider=&quot;@color/list_divider&quot;\r\n            android:dividerHeight=&quot;1dp&quot;       \r\n            android:listSelector=&quot;@drawable/list_selector&quot;\r\n            android:background=&quot;@color/list_background&quot;/&gt;\r\n        \r\n        &lt;ListView \r\n           \tandroid:id=&quot;@+id/right_drawer&quot;\r\n            android:layout_width=&quot;240dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;end&quot;\r\n            android:choiceMode=&quot;singleChoice&quot;\r\n            android:divider=&quot;@color/list_divider&quot;\r\n            android:dividerHeight=&quot;1dp&quot;       \r\n            android:listSelector=&quot;@drawable/list_selector&quot;\r\n            android:background=&quot;@color/list_background&quot;/&gt;\r\n        \r\n    &lt;/android.support.v4.widget.DrawerLayout&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/h7uFI.png","title":"Height MapFragment Layout not work","body":"<p>I'm build an app that contain two tabhost (top and botton) and in one tab, I want to put a Google Map through the Google API. All works well but the map does not display correctly. You can see better in this picture:</p>\n\n<p><img src=\"https://i.stack.imgur.com/h7uFI.png\" alt=\"enter image description here\"></p>\n\n<p>My code is:</p>\n\n<p>fragment_mapa.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/map_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;fragment \n        android:id=\"@+id/map\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        class=\"com.google.android.gms.maps.SupportMapFragment\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>MapaFragment.java</p>\n\n<pre><code>public class MapaFragment extends Fragment {\n    public MapaFragment(){}\n\n    public GoogleMap mapa;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState) {\n\n        View rootView = inflater.inflate(R.layout.fragment_mapa, container, false);\n\n        if (container != null) {\n            container.removeAllViews();\n        }\n\n        GoogleMap map = ((SupportMapFragment) getActivity().getSupportFragmentManager()\n                .findFragmentById(R.id.map)).getMap();\n\n        ((MainActivity) getActivity()).setBar();\n\n        //Asigno el nombre de la vista e integro tabhost-sliding\n        ((MainActivity) getActivity()).setTitle(\"Mapa\");\n        ((MainActivity) getActivity()).integrationMenu();\n\n        return rootView;\n\n    }\n\n\n    public void onDestroyView() {\n        super.onDestroyView();\n        Log.d(\"DESTROY\", \"onDestroyView\");\n\n        Fragment f = getActivity()\n                .getSupportFragmentManager().findFragmentById(R.id.map);\n\n        if (f != null) {\n            getActivity().getSupportFragmentManager()\n            .beginTransaction().remove(f).commit();\n        }\n    }\n}\n</code></pre>\n\n<p>And my activity_main.xml that contain the two tabhost and a framelayout that call the fragments:</p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;!-- Estructura de los dos tabhost --&gt;\n    &lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/LinearLayout1\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;!-- TABHOST SUPERIOR --&gt;\n        &lt;RelativeLayout\n            android:id=\"@+id/l1\"\n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"0\"\n            android:gravity=\"right\"\n            android:layout_above=\"@+id/l2\"\n            android:layout_alignParentTop=\"true\"&gt;\n\n            &lt;android.support.v4.app.FragmentTabHost\n                android:id=\"@+id/tabhost_sup\"\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"fill_parent\"&gt;\n\n                &lt;LinearLayout\n                    android:orientation=\"vertical\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"&gt;\n\n                    &lt;TabWidget\n                        android:id=\"@android:id/tabs\"\n                        android:orientation=\"horizontal\"\n                        android:layout_width=\"fill_parent\"\n                        android:layout_height=\"50dip\"\n                        android:layout_weight=\"0\"/&gt;\n\n\n                    &lt;ScrollView \n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"\n                        android:background=\"#ffffff\"&gt;\n                        &lt;FrameLayout\n                            android:id=\"@android:id/tabcontent\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"match_parent\"\n                            android:layout_weight=\"0\"/&gt;\n                    &lt;/ScrollView&gt;\n\n                &lt;/LinearLayout&gt;\n            &lt;/android.support.v4.app.FragmentTabHost&gt;\n        &lt;/RelativeLayout&gt;\n\n        &lt;!-- TABHOST INFERIOR --&gt;\n        &lt;RelativeLayout\n            android:id=\"@+id/l2\"\n            android:orientation=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"50dip\"\n            android:layout_weight=\"1\"\n            android:gravity=\"right\"\n            android:layout_alignParentBottom=\"true\"\n            android:background=\"@android:color/background_light\" &gt;\n\n            &lt;android.support.v4.app.FragmentTabHost\n                android:id=\"@android:id/tabhost\"\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"fill_parent\"&gt;\n\n                &lt;LinearLayout\n                    android:id=\"@+id/RelativeLayout1\"\n                    android:orientation=\"vertical\"\n                    android:layout_width=\"fill_parent\"\n                    android:layout_height=\"fill_parent\"&gt;\n\n                    &lt;FrameLayout\n                        android:id=\"@android:id/tabcontent\"\n                        android:layout_width=\"0dp\"\n                        android:layout_height=\"0dp\"\n                        android:layout_weight=\"0\"/&gt;\n\n                    &lt;TabWidget\n                        android:id=\"@android:id/tabs\"\n                        android:layout_width=\"fill_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_weight=\"0\" \n                        android:layout_marginBottom=\"0dp\"/&gt;\n\n                &lt;/LinearLayout&gt;\n            &lt;/android.support.v4.app.FragmentTabHost&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;!-- Listview to display slider menu --&gt;\n    &lt;ListView\n        android:id=\"@+id/list_slidermenu\"\n        android:layout_width=\"240dp\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:choiceMode=\"singleChoice\"\n        android:divider=\"@color/list_divider\"\n        android:dividerHeight=\"1dp\"       \n        android:listSelector=\"@drawable/list_selector\"\n        android:background=\"@color/list_background\"/&gt;\n\n    &lt;ListView \n        android:id=\"@+id/right_drawer\"\n        android:layout_width=\"240dp\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"end\"\n        android:choiceMode=\"singleChoice\"\n        android:divider=\"@color/list_divider\"\n        android:dividerHeight=\"1dp\"       \n        android:listSelector=\"@drawable/list_selector\"\n        android:background=\"@color/list_background\"/&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":11388602,"reputation":109,"user_id":8349475,"display_name":"E141"},"score":0,"creation_date":1534424064,"post_id":51877568,"comment_id":90706379,"body_markdown":"Try to cast it to child like ((Child) Parent.getChild()) .add(...)","body":"Try to cast it to child like ((Child) Parent.getChild()) .add(...)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1534424070,"post_id":51877568,"comment_id":90706381,"body_markdown":"please read the api doc of parent ... ;)","body":"please read the api doc of parent ... ;)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1534424595,"post_id":51877568,"comment_id":90706730,"body_markdown":"`getChildren()` is a `protected` method in `Parent` (the `public` method being `getChildrenUnmodifiable()`). Both `Group` and `Pane` override `getChildren()` to make it `public`.","body":"<code>getChildren()</code> is a <code>protected</code> method in <code>Parent</code> (the <code>public</code> method being <code>getChildrenUnmodifiable()</code>). Both <code>Group</code> and <code>Pane</code> override <code>getChildren()</code> to make it <code>public</code>."},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1534424787,"post_id":51877568,"comment_id":90706855,"body_markdown":"`Parent.getChildren` is `protected` and therefore not accessible. Some subclasses make it `public` (`Group`, `Pane`), but not all of them do this (`ListView`, `TextField`, `WebView`). You need a expression of a type with a `public` `getChildren` method. Directly accessing the scene from the loading method should be avoided in most cases though, since this is the responsibility of the controller. You should add this kind of logic to `MainController`. BTW: you should use `load()` instead of `load(url.openStream())`. You don&#39;t need to provide the info twice.","body":"<code>Parent.getChildren</code> is <code>protected</code> and therefore not accessible. Some subclasses make it <code>public</code> (<code>Group</code>, <code>Pane</code>), but not all of them do this (<code>ListView</code>, <code>TextField</code>, <code>WebView</code>). You need a expression of a type with a <code>public</code> <code>getChildren</code> method. Directly accessing the scene from the loading method should be avoided in most cases though, since this is the responsibility of the controller. You should add this kind of logic to <code>MainController</code>. BTW: you should use <code>load()</code> instead of <code>load(url.openStream())</code>. You don&#39;t need to provide the info twice."}],"answers":[{"tags":[],"owner":{"account_id":21220910,"reputation":1,"user_id":15607511,"display_name":"shemar edwards"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645491089,"creation_date":1645491089,"answer_id":71214684,"question_id":51877568,"body_markdown":"Use scene builder to add a container to your application then add the container variable in your application controller class. Now use the created container and add as much child as you want in it through the controller. ","title":"getChildren method in Parent - JavaFX","body":"<p>Use scene builder to add a container to your application then add the container variable in your application controller class. Now use the created container and add as much child as you want in it through the controller.</p>\n"}],"owner":{"account_id":8746860,"reputation":29,"user_id":6541801,"display_name":"Niv Dunay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2673,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645491089,"creation_date":1534423992,"question_id":51877568,"body_markdown":"I wrote a code that display a window in `JavaFX`,\r\nand I loaded XML file that gives me a number of Buttons that I need to create in run-time.\r\n\r\nI used Parent as the root and I can&#39;t do `Parent.getChildren().add(...)`\r\nas `Pane.getChildren().add(...)`\r\n\r\n        public void start(Stage primaryStage) throws Exception\r\n    {\r\n        FXMLLoader fxmlLoader = new FXMLLoader();\r\n        URL url = \r\n        this.getClass().getResource(&quot;/resources/UI.fxml&quot;);\r\n        fxmlLoader.setLocation(url);\r\n        Parent root = (Parent)fxmlLoader.load(url.openStream());\r\n        primaryStage.setTitle(&quot;N In A Row&quot;);\r\n        primaryStage.setScene(new Scene(root, 1000, 800));\r\n        m_GameController = \r\n        (MainController)fxmlLoader.getController();\r\n        primaryStage.show();\r\n    }","title":"getChildren method in Parent - JavaFX","body":"<p>I wrote a code that display a window in <code>JavaFX</code>,\nand I loaded XML file that gives me a number of Buttons that I need to create in run-time.</p>\n\n<p>I used Parent as the root and I can't do <code>Parent.getChildren().add(...)</code>\nas <code>Pane.getChildren().add(...)</code></p>\n\n<pre><code>    public void start(Stage primaryStage) throws Exception\n{\n    FXMLLoader fxmlLoader = new FXMLLoader();\n    URL url = \n    this.getClass().getResource(\"/resources/UI.fxml\");\n    fxmlLoader.setLocation(url);\n    Parent root = (Parent)fxmlLoader.load(url.openStream());\n    primaryStage.setTitle(\"N In A Row\");\n    primaryStage.setScene(new Scene(root, 1000, 800));\n    m_GameController = \n    (MainController)fxmlLoader.getController();\n    primaryStage.show();\n}\n</code></pre>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1645488431,"post_id":71214422,"comment_id":125880009,"body_markdown":"I think you need to read https://stackoverflow.com/questions/5936519.  It is about setting jenkins heap options, but the approach applies to all options.","body":"I think you need to read <a href=\"https://stackoverflow.com/questions/5936519\">stackoverflow.com/questions/5936519</a>.  It is about setting jenkins heap options, but the approach applies to all options."},{"owner":{"account_id":4956810,"reputation":3170,"user_id":3989155,"accept_rate":70,"display_name":"devwannabe"},"score":0,"creation_date":1645490768,"post_id":71214422,"comment_id":125880417,"body_markdown":"How do I close this since it&#39;s all good?","body":"How do I close this since it&#39;s all good?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1645490880,"post_id":71214422,"comment_id":125880438,"body_markdown":"Done it for you.","body":"Done it for you."}],"owner":{"account_id":4956810,"reputation":3170,"user_id":3989155,"accept_rate":70,"display_name":"devwannabe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645490868,"answer_count":0,"score":0,"last_activity_date":1645490994,"creation_date":1645488144,"question_id":71214422,"body_markdown":"I was provided these settings by vendor to help improve the performance of our jenkins\r\n\r\n    -XX:+UseG1GC -XX:+AlwaysPreTouch -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled -XX:+DisableExplicitGC\r\n\r\nI did an ls on the java and it says java-1.8.0-amazon-correto.x86_64. Where do I put that? Do I just add that to our systemd service since that&#39;s how our jenkins is started?","title":"Where do I put Java JVM options for Jenkins?","body":"<p>I was provided these settings by vendor to help improve the performance of our jenkins</p>\n<pre><code>-XX:+UseG1GC -XX:+AlwaysPreTouch -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled -XX:+DisableExplicitGC\n</code></pre>\n<p>I did an ls on the java and it says java-1.8.0-amazon-correto.x86_64. Where do I put that? Do I just add that to our systemd service since that's how our jenkins is started?</p>\n"},{"tags":["java","multidimensional-array","row","filereader","columnsorting"],"comments":[{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1645482710,"post_id":71212291,"comment_id":125878881,"body_markdown":"What does the three spaces in between mean for your print requirement?","body":"What does the three spaces in between mean for your print requirement?"},{"owner":{"display_name":"user17941241"},"score":0,"creation_date":1645482931,"post_id":71212291,"comment_id":125878936,"body_markdown":"@RichardKYu\nSomething like this\n\n`\nSystem.out.printf(&quot;%-3d&quot;,A[i]);\n`","body":"@RichardKYu Something like this  ` System.out.printf(&quot;%-3d&quot;,A[i]); `"},{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1645484568,"post_id":71212291,"comment_id":125879308,"body_markdown":"Are we allowed to use Streams API?","body":"Are we allowed to use Streams API?"},{"owner":{"display_name":"user17941241"},"score":0,"creation_date":1645489315,"post_id":71212291,"comment_id":125880157,"body_markdown":"@RichardKYu\nNo, I am not allowed to use Streams API","body":"@RichardKYu No, I am not allowed to use Streams API"}],"answers":[{"tags":[],"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645489614,"creation_date":1645488029,"answer_id":71214412,"question_id":71212291,"body_markdown":"Here is my attempt. I put three spaces between each element in a row and three spaces between the columns.\r\n\r\n**Edit:** Changed print method to avoid using Streams API.\r\n```\r\n// Needed for the File class\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner; // Needed for the Scanner class\r\n\r\npublic class Read2D {\r\n    public static void main(String[] args) throws IOException {\r\n\t    int rows = 10;\r\n\t    int columns = 12;\r\n\r\n\t    int[] arr = arrayFile(rows * columns);\r\n\t\r\n\t    int[][] md_arr = new int[rows][columns];\r\n\r\n\t    for(int r=0; r &lt; rows; r++) {\r\n\t        for(int c=0; c&lt;columns; c++) {\r\n\t\t    md_arr[r][c] = arr[r*c+c];\r\n\t        }\r\n\t    }\r\n\t\r\n\t    showArray(md_arr);\r\n\r\n    }\r\n\r\n    public static int[] arrayFile(int a) throws IOException {\r\n\t    // Create a Scanner object to read input.\r\n\t    Scanner keyboard = new Scanner(System.in);\r\n\r\n\t    int A[];\r\n\t    A = new int[a];\r\n\r\n\t    System.out.print(&quot;Enter the filename: &quot;);\r\n\t    String filename = keyboard.nextLine();\r\n\t    keyboard.close();\r\n\r\n\t    File file = new File(filename);\r\n\t    Scanner inputFile = new Scanner(file);\r\n\r\n\t    int i = 0;\r\n\r\n\t    while (inputFile.hasNextLine()) {\r\n\t        A[i] = inputFile.nextInt();\r\n\t        i++;\r\n\t    }\r\n\t    inputFile.close();\r\n\r\n\t    return A;\r\n    }\r\n\r\n    public static void showArray(int[][] C) {\r\n\t\tfor(int r=0; r &lt; C.length; r++) {\r\n\t    \tfor(int c=0; c&lt;C[r].length; c++) {\r\n\t\t\t\tSystem.out.print(C[r][c]+&quot;   &quot;);\r\n\t    \t}\r\n\t    \t\tSystem.out.print(&quot;\\n\\n\\n&quot;);\r\n\t\t}\r\n\t\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n31   74   22   5   61   84   14   86   55   22   9   81   \r\n\r\n\r\n31   22   61   14   55   9   83   23   96   41   26   77   \r\n\r\n\r\n31   5   14   22   83   49   41   77   84   91   73   93   \r\n\r\n\r\n31   61   55   83   96   26   84   31   49   69   59   49   \r\n\r\n\r\n31   84   9   49   26   3   73   36   59   35   42   98   \r\n\r\n\r\n31   14   83   41   84   73   69   14   60   1   22   81   \r\n\r\n\r\n31   86   23   77   31   36   14   98   85   71   60   51   \r\n\r\n\r\n31   55   96   84   49   59   60   85   47   35   73   17   \r\n\r\n\r\n31   22   41   91   69   35   1   71   35   53   46   6   \r\n\r\n\r\n31   9   26   73   59   42   22   60   73   46   61   84 \r\n```\r\n","title":"How do I read a .txt file into a 2D array in java?","body":"<p>Here is my attempt. I put three spaces between each element in a row and three spaces between the columns.</p>\n<p><strong>Edit:</strong> Changed print method to avoid using Streams API.</p>\n<pre><code>// Needed for the File class\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Scanner; // Needed for the Scanner class\n\npublic class Read2D {\n    public static void main(String[] args) throws IOException {\n        int rows = 10;\n        int columns = 12;\n\n        int[] arr = arrayFile(rows * columns);\n    \n        int[][] md_arr = new int[rows][columns];\n\n        for(int r=0; r &lt; rows; r++) {\n            for(int c=0; c&lt;columns; c++) {\n            md_arr[r][c] = arr[r*c+c];\n            }\n        }\n    \n        showArray(md_arr);\n\n    }\n\n    public static int[] arrayFile(int a) throws IOException {\n        // Create a Scanner object to read input.\n        Scanner keyboard = new Scanner(System.in);\n\n        int A[];\n        A = new int[a];\n\n        System.out.print(&quot;Enter the filename: &quot;);\n        String filename = keyboard.nextLine();\n        keyboard.close();\n\n        File file = new File(filename);\n        Scanner inputFile = new Scanner(file);\n\n        int i = 0;\n\n        while (inputFile.hasNextLine()) {\n            A[i] = inputFile.nextInt();\n            i++;\n        }\n        inputFile.close();\n\n        return A;\n    }\n\n    public static void showArray(int[][] C) {\n        for(int r=0; r &lt; C.length; r++) {\n            for(int c=0; c&lt;C[r].length; c++) {\n                System.out.print(C[r][c]+&quot;   &quot;);\n            }\n                System.out.print(&quot;\\n\\n\\n&quot;);\n        }\n    \n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>31   74   22   5   61   84   14   86   55   22   9   81   \n\n\n31   22   61   14   55   9   83   23   96   41   26   77   \n\n\n31   5   14   22   83   49   41   77   84   91   73   93   \n\n\n31   61   55   83   96   26   84   31   49   69   59   49   \n\n\n31   84   9   49   26   3   73   36   59   35   42   98   \n\n\n31   14   83   41   84   73   69   14   60   1   22   81   \n\n\n31   86   23   77   31   36   14   98   85   71   60   51   \n\n\n31   55   96   84   49   59   60   85   47   35   73   17   \n\n\n31   22   41   91   69   35   1   71   35   53   46   6   \n\n\n31   9   26   73   59   42   22   60   73   46   61   84 \n</code></pre>\n"}],"owner":{"display_name":"user17941241"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71214412,"answer_count":1,"score":0,"last_activity_date":1645489614,"creation_date":1645473299,"question_id":71212291,"body_markdown":"I can&#39;t figure out what&#39;s wrong with my program. I want to read a .txt file named &quot;salesReport&quot; into a 2D array, but it only reads one line. \r\n\r\nThe 2D array has 10 rows and 12 columns, and I also need help arranging the array, when it is printed, to be in 10 rows and 12 columns with 3 spaces in between.\r\n\r\n**MY TEXT FILE**\r\n```\r\n31\r\n74\r\n22\r\n05\r\n61\r\n84\r\n14\r\n86\r\n55\r\n22\r\n09\r\n81\r\n83\r\n91\r\n23\r\n49\r\n96\r\n45\r\n41\r\n45\r\n26\r\n77\r\n77\r\n19\r\n84\r\n03\r\n65\r\n91\r\n31\r\n62\r\n73\r\n92\r\n49\r\n93\r\n43\r\n36\r\n69\r\n05\r\n96\r\n54\r\n59\r\n84\r\n14\r\n16\r\n49\r\n35\r\n28\r\n51\r\n60\r\n98\r\n42\r\n61\r\n59\r\n40\r\n01\r\n98\r\n85\r\n80\r\n90\r\n20\r\n22\r\n43\r\n54\r\n71\r\n47\r\n35\r\n81\r\n86\r\n04\r\n61\r\n60\r\n34\r\n35\r\n08\r\n14\r\n44\r\n90\r\n51\r\n27\r\n50\r\n73\r\n53\r\n75\r\n52\r\n19\r\n72\r\n86\r\n41\r\n17\r\n04\r\n46\r\n11\r\n45\r\n25\r\n21\r\n66\r\n96\r\n48\r\n98\r\n06\r\n61\r\n38\r\n11\r\n96\r\n19\r\n63\r\n32\r\n03\r\n11\r\n30\r\n84\r\n80\r\n17\r\n73\r\n90\r\n40\r\n69\r\n55\r\n90\r\n92\r\n```\r\n\r\n**MY CODE**\r\n```\r\nimport java.util.Scanner;  // Needed for the Scanner class\r\nimport java.io.*;  // Needed for the File class\r\n\r\npublic class salesReport\r\n{\r\n   public static void main(String[] args) throws IOException\r\n   {\r\n     \r\n   // Create a Scanner object to read input.\r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      int[] A;\r\n      int[][] B;\r\n      int i=11,j=13;\r\n      \r\n      A = arrayFile(121);\r\n      \r\n      System.out.println(A);\r\n      \r\n      B = showArray(i,j,A);\r\n     \r\n   }\r\n   \r\n   public static int[] arrayFile(int a) throws IOException\r\n   {\r\n   // Create a Scanner object to read input.\r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      int A[];\r\n      A = new int[a];\r\n   \r\n      System.out.print(&quot;Enter the filename: &quot;);\r\n      String filename = keyboard.nextLine();\r\n   \r\n      File file = new File(filename);\r\n      Scanner inputFile = new Scanner(file);\r\n      \r\n      int i=0;\r\n   \r\n      while (inputFile.hasNextLine())\r\n      {\r\n         i++;\r\n         A[i] = inputFile.nextInt();\r\n      }\r\n      return A;\r\n   }\r\n   \r\n   public static int[][] showArray(int i,int j,int[] C) throws IOException\r\n   {\r\n   // Create a Scanner object to read input.\r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      int[][] A;\r\n      \r\n      A = new int[i][j];\r\n      \r\n      for (int row = 0;row &lt; A.length;row++)\r\n      {\r\n         for (int col = 0;col &lt; A[row].length;col++)\r\n         {\r\n            System.out.print(A[row][col] + &quot; &quot;);\r\n            System.out.println();\r\n         }       \r\n      }\r\n      return A;\r\n   }\r\n    \r\n}\r\n```\r\n","title":"How do I read a .txt file into a 2D array in java?","body":"<p>I can't figure out what's wrong with my program. I want to read a .txt file named &quot;salesReport&quot; into a 2D array, but it only reads one line.</p>\n<p>The 2D array has 10 rows and 12 columns, and I also need help arranging the array, when it is printed, to be in 10 rows and 12 columns with 3 spaces in between.</p>\n<p><strong>MY TEXT FILE</strong></p>\n<pre><code>31\n74\n22\n05\n61\n84\n14\n86\n55\n22\n09\n81\n83\n91\n23\n49\n96\n45\n41\n45\n26\n77\n77\n19\n84\n03\n65\n91\n31\n62\n73\n92\n49\n93\n43\n36\n69\n05\n96\n54\n59\n84\n14\n16\n49\n35\n28\n51\n60\n98\n42\n61\n59\n40\n01\n98\n85\n80\n90\n20\n22\n43\n54\n71\n47\n35\n81\n86\n04\n61\n60\n34\n35\n08\n14\n44\n90\n51\n27\n50\n73\n53\n75\n52\n19\n72\n86\n41\n17\n04\n46\n11\n45\n25\n21\n66\n96\n48\n98\n06\n61\n38\n11\n96\n19\n63\n32\n03\n11\n30\n84\n80\n17\n73\n90\n40\n69\n55\n90\n92\n</code></pre>\n<p><strong>MY CODE</strong></p>\n<pre><code>import java.util.Scanner;  // Needed for the Scanner class\nimport java.io.*;  // Needed for the File class\n\npublic class salesReport\n{\n   public static void main(String[] args) throws IOException\n   {\n     \n   // Create a Scanner object to read input.\n      Scanner keyboard = new Scanner(System.in);\n      \n      int[] A;\n      int[][] B;\n      int i=11,j=13;\n      \n      A = arrayFile(121);\n      \n      System.out.println(A);\n      \n      B = showArray(i,j,A);\n     \n   }\n   \n   public static int[] arrayFile(int a) throws IOException\n   {\n   // Create a Scanner object to read input.\n      Scanner keyboard = new Scanner(System.in);\n      \n      int A[];\n      A = new int[a];\n   \n      System.out.print(&quot;Enter the filename: &quot;);\n      String filename = keyboard.nextLine();\n   \n      File file = new File(filename);\n      Scanner inputFile = new Scanner(file);\n      \n      int i=0;\n   \n      while (inputFile.hasNextLine())\n      {\n         i++;\n         A[i] = inputFile.nextInt();\n      }\n      return A;\n   }\n   \n   public static int[][] showArray(int i,int j,int[] C) throws IOException\n   {\n   // Create a Scanner object to read input.\n      Scanner keyboard = new Scanner(System.in);\n      \n      int[][] A;\n      \n      A = new int[i][j];\n      \n      for (int row = 0;row &lt; A.length;row++)\n      {\n         for (int col = 0;col &lt; A[row].length;col++)\n         {\n            System.out.print(A[row][col] + &quot; &quot;);\n            System.out.println();\n         }       \n      }\n      return A;\n   }\n    \n}\n</code></pre>\n"},{"tags":["java","windows","bash","command-line"],"answers":[{"tags":[],"owner":{"account_id":3302072,"reputation":3582,"user_id":2777988,"display_name":"Rakesh Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645489551,"creation_date":1645489551,"answer_id":71214558,"question_id":71211857,"body_markdown":"    bash: pkg-config command not found\r\n\r\nshows that you are using WSL (Windows Subsystem for Linux) or Cygwin. In either case, you will first have to install the pkg-config package using the command below. Afterward, the setup shall work.\r\n\r\n    sudo apt install pkg-config\r\n\r\n\r\n","title":"Command Not Found when Installing JPostal on Windows 10","body":"<pre><code>bash: pkg-config command not found\n</code></pre>\n<p>shows that you are using WSL (Windows Subsystem for Linux) or Cygwin. In either case, you will first have to install the pkg-config package using the command below. Afterward, the setup shall work.</p>\n<pre><code>sudo apt install pkg-config\n</code></pre>\n"}],"owner":{"account_id":22441774,"reputation":135,"user_id":16646191,"display_name":"Vance Brockberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71214558,"answer_count":1,"score":0,"last_activity_date":1645489551,"creation_date":1645471011,"question_id":71211857,"body_markdown":"I&#39;m trying [to setup][1] [JPostal][2] + [LibPostal][3] on a Windows 10 PC. \r\n\r\n[JPostal documentation states][1] that the following command must execute without errors:\r\n\r\n    pkg-config --cflags --libs libpostal\r\n\r\nHowever, when I execute the above command I get the following error:\r\n\r\n    bash: pkg-config command not found\r\n\r\n\r\nThe documentation did not state to install any other software to execute the above command. Is there something missing? I&#39;m on Windows 10.\r\n\r\n**Update**:\r\n\r\nI re-read [the documentation][4] on `libpostal` which states:\r\n\r\n&gt; `libpostal` has support for `pkg-config`, so you can use the\r\n&gt; pkg-config to print the flags needed to link your program against it..\r\n\r\n\r\nIt seems like once I install `libpostal` the above command should work. Why isn&#39;t it working?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71202369/setting-up-libpostal-jpostal-on-windows-in-java?noredirect=1#comment125860194_71202369\r\n  [2]: https://github.com/openvenues/jpostal\r\n  [3]: https://github.com/openvenues/libpostal#installation-windows\r\n  [4]: https://github.com/openvenues/libpostal#installation-maclinux","title":"Command Not Found when Installing JPostal on Windows 10","body":"<p>I'm trying <a href=\"https://stackoverflow.com/questions/71202369/setting-up-libpostal-jpostal-on-windows-in-java?noredirect=1#comment125860194_71202369\">to setup</a> <a href=\"https://github.com/openvenues/jpostal\" rel=\"nofollow noreferrer\">JPostal</a> + <a href=\"https://github.com/openvenues/libpostal#installation-windows\" rel=\"nofollow noreferrer\">LibPostal</a> on a Windows 10 PC.</p>\n<p><a href=\"https://stackoverflow.com/questions/71202369/setting-up-libpostal-jpostal-on-windows-in-java?noredirect=1#comment125860194_71202369\">JPostal documentation states</a> that the following command must execute without errors:</p>\n<pre><code>pkg-config --cflags --libs libpostal\n</code></pre>\n<p>However, when I execute the above command I get the following error:</p>\n<pre><code>bash: pkg-config command not found\n</code></pre>\n<p>The documentation did not state to install any other software to execute the above command. Is there something missing? I'm on Windows 10.</p>\n<p><strong>Update</strong>:</p>\n<p>I re-read <a href=\"https://github.com/openvenues/libpostal#installation-maclinux\" rel=\"nofollow noreferrer\">the documentation</a> on <code>libpostal</code> which states:</p>\n<blockquote>\n<p><code>libpostal</code> has support for <code>pkg-config</code>, so you can use the\npkg-config to print the flags needed to link your program against it..</p>\n</blockquote>\n<p>It seems like once I install <code>libpostal</code> the above command should work. Why isn't it working?</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":0,"creation_date":1645386340,"post_id":71198094,"comment_id":125852207,"body_markdown":"Some tips. Don&#39;t sleep for the amount of time you need to sleep. Sleeping has a granularity of maybe 10 ms or maybe significantly more (depending on your OS and the API, look it up for yours) so sleep for the amount you need minus the granularity. Then use a busy loop for the rest of the timing. There are probably some API for setting a smaller granularity, but don&#39;t know what OS you have and I am not that familiar with Java.","body":"Some tips. Don&#39;t sleep for the amount of time you need to sleep. Sleeping has a granularity of maybe 10 ms or maybe significantly more (depending on your OS and the API, look it up for yours) so sleep for the amount you need minus the granularity. Then use a busy loop for the rest of the timing. There are probably some API for setting a smaller granularity, but don&#39;t know what OS you have and I am not that familiar with Java."}],"answers":[{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645489305,"creation_date":1645404488,"answer_id":71200100,"question_id":71198094,"body_markdown":"What you want to use is a `ScheduledExecutorService` instance instead. This class can repeat the task in a `Thread` repeatedly at a fixed rate. The class has a method called `scheduleAtFixedRate(task, intialDelay, DelayBetweenExecutions,TimeUnit)` just for this purpose.\r\n\r\n When the initial delay is set to `0` the task will run as soon as `scheduleAtFixedRate` is called and will continue doing so until you call `shutdown()` or `shutdownNow()` on the service. Here&#39;s an example that uses some of your code:\r\n\r\n            ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n            int timesPerBPM = 16;\r\n            long bpmTime = 900; //or whatever the outcome of your formula is.\r\n    \r\n            Thread thread = new Thread(()-&gt;{\r\n                for (int i = 0; i &lt; timesPerBPM; i++) //do task 16 times\r\n                    bpmTick(); //&lt;-- my task\r\n                });\r\n            executorService.scheduleAtFixedRate(thread, 0, bpmTime, TimeUnit.MILLISECONDS); //This will start immediately because initialDelay is 0.\r\n            executorService.shutdown(); //Always shutdown service when done to avoid memory leaks.\r\n\r\nThe `executorService` in the below code will run `bpmTick()` 16 times every 900 milliseconds. If it takes longer then 900 milliseconds to run `bpmTick()` 16 times the service will wait for the current task to complete until it starts the next repetition. So to keep things synchronized the 16 `bpmTick()` must always finish within `bpmTime` milliseconds. If you want to guarantee a 150 millisecond pause between threadtask executions _regardless of how long it takes to execute a task_ then you should use the method `scheduleWithFixedDelay()` instead.\r\n\r\nIf you want the service to repeat the task every minute instead of every 900 milliseconds then it is best to change `bpmTime` to 1 and `TimeUnit.MILLISECONDS` to `TimeUnit.MINUTES`.\r\n","title":"Accurate thread loop. Run a task with precise interval","body":"<p>What you want to use is a <code>ScheduledExecutorService</code> instance instead. This class can repeat the task in a <code>Thread</code> repeatedly at a fixed rate. The class has a method called <code>scheduleAtFixedRate(task, intialDelay, DelayBetweenExecutions,TimeUnit)</code> just for this purpose.</p>\n<p>When the initial delay is set to <code>0</code> the task will run as soon as <code>scheduleAtFixedRate</code> is called and will continue doing so until you call <code>shutdown()</code> or <code>shutdownNow()</code> on the service. Here's an example that uses some of your code:</p>\n<pre><code>        ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n        int timesPerBPM = 16;\n        long bpmTime = 900; //or whatever the outcome of your formula is.\n\n        Thread thread = new Thread(()-&gt;{\n            for (int i = 0; i &lt; timesPerBPM; i++) //do task 16 times\n                bpmTick(); //&lt;-- my task\n            });\n        executorService.scheduleAtFixedRate(thread, 0, bpmTime, TimeUnit.MILLISECONDS); //This will start immediately because initialDelay is 0.\n        executorService.shutdown(); //Always shutdown service when done to avoid memory leaks.\n</code></pre>\n<p>The <code>executorService</code> in the below code will run <code>bpmTick()</code> 16 times every 900 milliseconds. If it takes longer then 900 milliseconds to run <code>bpmTick()</code> 16 times the service will wait for the current task to complete until it starts the next repetition. So to keep things synchronized the 16 <code>bpmTick()</code> must always finish within <code>bpmTime</code> milliseconds. If you want to guarantee a 150 millisecond pause between threadtask executions <em>regardless of how long it takes to execute a task</em> then you should use the method <code>scheduleWithFixedDelay()</code> instead.</p>\n<p>If you want the service to repeat the task every minute instead of every 900 milliseconds then it is best to change <code>bpmTime</code> to 1 and <code>TimeUnit.MILLISECONDS</code> to <code>TimeUnit.MINUTES</code>.</p>\n"}],"owner":{"account_id":24134562,"reputation":52,"user_id":18101690,"display_name":"Robson Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71200100,"answer_count":1,"score":0,"last_activity_date":1645489305,"creation_date":1645385981,"question_id":71198094,"body_markdown":"I want my thread to perform an action 4 or 16 times per bpm (beats per minute). This timer is not 100% accurate, after a few seconds it desynchronizes from the metronome I found on youtube, and it gets a little slower than it should.\r\n\r\nbpm = (float) my music bpm;\r\n\r\n    thread = new Thread(()-&gt;{\r\n                long now ;\r\n                long total ;\r\n                while (true) {\r\n                    long bpmTime = (long) ((1000000000*60d)/(bpm*16));\r\n                    now = System.nanoTime();\r\n                    bpmTick(); //&lt;-- my task\r\n                    try {\r\n                        total = System.nanoTime() - now;\r\n                        if(total &gt; bpmTime) {\r\n                            continue;\r\n                        }\r\n                        Thread.sleep((bpmTime - (System.nanoTime() - now)) / 1000000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            thread.start();\r\n\r\nI also tried: \r\n\r\n    Thread.sleep((long)(1000*(60.0/bpm)));\r\n\r\nbut the same problem occurs\r\n\r\nIn short, I need a metronome.\r\nThanks in advance.","title":"Accurate thread loop. Run a task with precise interval","body":"<p>I want my thread to perform an action 4 or 16 times per bpm (beats per minute). This timer is not 100% accurate, after a few seconds it desynchronizes from the metronome I found on youtube, and it gets a little slower than it should.</p>\n<p>bpm = (float) my music bpm;</p>\n<pre><code>thread = new Thread(()-&gt;{\n            long now ;\n            long total ;\n            while (true) {\n                long bpmTime = (long) ((1000000000*60d)/(bpm*16));\n                now = System.nanoTime();\n                bpmTick(); //&lt;-- my task\n                try {\n                    total = System.nanoTime() - now;\n                    if(total &gt; bpmTime) {\n                        continue;\n                    }\n                    Thread.sleep((bpmTime - (System.nanoTime() - now)) / 1000000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        thread.start();\n</code></pre>\n<p>I also tried:</p>\n<pre><code>Thread.sleep((long)(1000*(60.0/bpm)));\n</code></pre>\n<p>but the same problem occurs</p>\n<p>In short, I need a metronome.\nThanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":4,"creation_date":1645480802,"post_id":71213494,"comment_id":125878403,"body_markdown":"You can only call `input.close();` once and it will not allow you to use `input` afterwards.","body":"You can only call <code>input.close();</code> once and it will not allow you to use <code>input</code> afterwards."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1645481021,"post_id":71213494,"comment_id":125878451,"body_markdown":"Just don&#39;t close the Scanner object. It will do that when the application ends.","body":"Just don&#39;t close the Scanner object. It will do that when the application ends."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1645481041,"post_id":71213494,"comment_id":125878460,"body_markdown":"**Also**, calling `input.close()` will close any associated resources; in this case `System.in`","body":"<b>Also</b>, calling <code>input.close()</code> will close any associated resources; in this case <code>System.in</code>"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1645485647,"post_id":71213494,"comment_id":125879522,"body_markdown":"Without intending to be rude, I&#39;m wondering why you wrote those repeated &#39;close&#39; calls and what you thought they would do.","body":"Without intending to be rude, I&#39;m wondering why you wrote those repeated &#39;close&#39; calls and what you thought they would do."}],"answers":[{"tags":[],"owner":{"account_id":22821261,"reputation":185,"user_id":16971088,"display_name":"Ipal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645489077,"creation_date":1645489077,"answer_id":71214515,"question_id":71213494,"body_markdown":"after you call ```input.close();``` then the Scanner Object will be closed. no need to repeat, just once you call ```input.close();```\r\n\r\n","title":"Why do I get java.lang.IllegalStateException: Scanner closed","body":"<p>after you call <code>input.close();</code> then the Scanner Object will be closed. no need to repeat, just once you call <code>input.close();</code></p>\n"}],"owner":{"account_id":22920042,"reputation":7,"user_id":17110348,"display_name":"user17110348"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1645513969,"accepted_answer_id":71214515,"answer_count":1,"score":-3,"last_activity_date":1645489077,"creation_date":1645480693,"question_id":71213494,"body_markdown":"Silly question but I&#39;ve been receiving this error message and i don&#39;t understand the error message. Any help in helping me understand my short comings would be much appreciated   \r\n```\r\n    import java.util.Scanner;\r\n    public class Exercise9 {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\tScanner input = new Scanner(System.in);\r\n\r\n\tSystem.out.print(&quot;Enter x coordinate for point 1: &quot;);\t\r\n\tdouble x1 = input.nextDouble();\r\n\tinput.close();\r\n\r\n\tSystem.out.print(&quot;Enter y coordinate for point : &quot;);\t\r\n\tdouble y1 = input.nextDouble();\r\n\tinput.close();\r\n\r\n\tSystem.out.print(&quot;Enter x coordinate for point 2: &quot;);\t\r\n\tdouble x2 = input.nextDouble();\r\n\tinput.close();\r\n\r\n\tSystem.out.print(&quot;Enter y coordinate for point 2: &quot;);\t\r\n\tdouble y2 = input.nextDouble();\r\n\tinput.close();\r\n\t\t\r\n\tdouble distance = Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));\r\n\tSystem.out.println(&quot;The distance between the two points is&quot; +distance);\t\r\n\t }\r\n     }\r\n```\r\n\r\nhttps://pastebin.pl/view/8af98c21\r\n\r\n```\r\nEnter y coordinate for point : Exception in thread &quot;main&quot; java.lang.IllegalStateException: Scanner closed\r\nat java.base/java.util.Scanner.ensureOpen(Scanner.java:1150)\r\nat java.base/java.util.Scanner.next(Scanner.java:1573)\r\nat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\nat Exercise9.main(Exercise9.java:12)\r\n```\r\n","title":"Why do I get java.lang.IllegalStateException: Scanner closed","body":"<p>Silly question but I've been receiving this error message and i don't understand the error message. Any help in helping me understand my short comings would be much appreciated</p>\n<pre><code>    import java.util.Scanner;\n    public class Exercise9 {\n    public static void main(String[] args) {\n        \n    Scanner input = new Scanner(System.in);\n\n    System.out.print(&quot;Enter x coordinate for point 1: &quot;);   \n    double x1 = input.nextDouble();\n    input.close();\n\n    System.out.print(&quot;Enter y coordinate for point : &quot;);    \n    double y1 = input.nextDouble();\n    input.close();\n\n    System.out.print(&quot;Enter x coordinate for point 2: &quot;);   \n    double x2 = input.nextDouble();\n    input.close();\n\n    System.out.print(&quot;Enter y coordinate for point 2: &quot;);   \n    double y2 = input.nextDouble();\n    input.close();\n        \n    double distance = Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));\n    System.out.println(&quot;The distance between the two points is&quot; +distance); \n     }\n     }\n</code></pre>\n<p><a href=\"https://pastebin.pl/view/8af98c21\" rel=\"nofollow noreferrer\">https://pastebin.pl/view/8af98c21</a></p>\n<pre><code>Enter y coordinate for point : Exception in thread &quot;main&quot; java.lang.IllegalStateException: Scanner closed\nat java.base/java.util.Scanner.ensureOpen(Scanner.java:1150)\nat java.base/java.util.Scanner.next(Scanner.java:1573)\nat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\nat Exercise9.main(Exercise9.java:12)\n</code></pre>\n"},{"tags":["java","swing","jpanel","layout-manager","boxlayout"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645484563,"creation_date":1645484247,"answer_id":71213994,"question_id":71213875,"body_markdown":"The most important size of a component is the preferred size. Most layout managers will use this size first and then maybe use the minimum/maximum sizes depending on the space available.\r\n\r\nIf you don&#39;t specify a preferred size of the panel it will be (10, 10) since this is the default size of a panel using the FlowLayout when no components are added. \r\n\r\nThis size is outside the bounds of your minimum/maximum values so it appears the BoxLayout will then allocate space to each component in a ratio based on the maximum size of each panel. The blue panel has a size of 300 and the other panel has a size of Integer.MAX_VALUE so much more space gets allocated to the other panel.\r\n\r\nOne solution is to add:\r\n\r\n    leftpanel.setPreferredSize(new Dimension(300, 1));\r\n\r\n\r\n&gt; I want the blue colored panel to have a width of 300\r\n\r\nI would not change the content pane to use a BoxLayout and instead just use the default BorderLayout of the frame. Then you:\r\n\r\n1. add the blue panel to the `BorderLayout.LINE_START`. \r\n2. Add the panel containing the red/yellow components to the `BorderLayout.CENTER`.\r\n\r\nThe BorderLayout will respect the width of the blue panel and give the remaining space to the component in the center. \r\n\r\nUsing this approach there is no need to override the minimum/maximum values of the blue panel.\r\n\r\nOf course you would still need to set the preferred size of the blue panel.","title":"How to set width of specific panel with BoxLayout Manager","body":"<p>The most important size of a component is the preferred size. Most layout managers will use this size first and then maybe use the minimum/maximum sizes depending on the space available.</p>\n<p>If you don't specify a preferred size of the panel it will be (10, 10) since this is the default size of a panel using the FlowLayout when no components are added.</p>\n<p>This size is outside the bounds of your minimum/maximum values so it appears the BoxLayout will then allocate space to each component in a ratio based on the maximum size of each panel. The blue panel has a size of 300 and the other panel has a size of Integer.MAX_VALUE so much more space gets allocated to the other panel.</p>\n<p>One solution is to add:</p>\n<pre><code>leftpanel.setPreferredSize(new Dimension(300, 1));\n</code></pre>\n<blockquote>\n<p>I want the blue colored panel to have a width of 300</p>\n</blockquote>\n<p>I would not change the content pane to use a BoxLayout and instead just use the default BorderLayout of the frame. Then you:</p>\n<ol>\n<li>add the blue panel to the <code>BorderLayout.LINE_START</code>.</li>\n<li>Add the panel containing the red/yellow components to the <code>BorderLayout.CENTER</code>.</li>\n</ol>\n<p>The BorderLayout will respect the width of the blue panel and give the remaining space to the component in the center.</p>\n<p>Using this approach there is no need to override the minimum/maximum values of the blue panel.</p>\n<p>Of course you would still need to set the preferred size of the blue panel.</p>\n"}],"owner":{"account_id":3726872,"reputation":641,"user_id":3100538,"accept_rate":59,"display_name":"PentiumPro200"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71213994,"answer_count":1,"score":0,"last_activity_date":1645488750,"creation_date":1645483333,"question_id":71213875,"body_markdown":"The code below places 3 JPanels inside a JFrame.  I want the blue colored panel to have a width of 300 (assume the enclosing Frame has a width of greater than 300).  The width of the other two panels should be the remainder.  How do I do that?\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Frame;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class PanelTest extends JFrame {\t\r\n    \tprivate JPanel leftpanel;\r\n    \r\n    \tpublic PanelTest() {\r\n    \t\tgetContentPane().setLayout(new BoxLayout(this.getContentPane(), BoxLayout.X_AXIS));\r\n    \t\tthis.leftpanel = new JPanel() {\t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getMaximumSize() {\r\n    \t\t\t\treturn new Dimension(300, 9999);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getMinimumSize() {\r\n    \t\t\t\treturn new Dimension(300, 0);\r\n    \t\t\t}\t\r\n    \t\t};\r\n    \t\tthis.leftpanel.setBackground(Color.blue);\r\n    \t\tgetContentPane().add(leftpanel);\r\n    \r\n    \t\tJPanel rightpanel = new JPanel();\r\n    \t\tgetContentPane().add(rightpanel);\r\n    \t\trightpanel.setLayout(new BoxLayout(rightpanel, BoxLayout.Y_AXIS));\r\n    \t\t\r\n    \t\tJPanel upperpanel = new JPanel();\r\n    \t\tupperpanel.setBackground(Color.red);\r\n    \t\trightpanel.add(upperpanel);\r\n    \t\t\r\n    \t\tJPanel lowerpanel = new JPanel();\r\n    \t\tlowerpanel.setBackground(Color.yellow);\r\n    \t\trightpanel.add(lowerpanel);\r\n    \t\tpack();\r\n    \t\tsetVisible(true);\r\n    \t\tsetExtendedState(Frame.MAXIMIZED_BOTH);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PanelTest();\r\n    \t}\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5fwzi.png\r\n\r\nI slightly updated the above code using @camickr&#39;s suggestion of using BorderLayout.  The width is now as desired.  Thanks @camickr.\r\n\r\nI still think BoxLayout should have respected the minimum and maximum sizes.  Taking those into consideration, it should have set the width to 500.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Frame;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class PanelTest extends JFrame {\t\r\n    \tpublic PanelTest() {\r\n    \t\tgetContentPane().setLayout(new BorderLayout());\r\n    \t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tJPanel leftpanel = new JPanel();\r\n    \t\tint width = 500;\r\n    \t\tleftpanel.setPreferredSize(new Dimension(width, 1));\r\n    \t\tleftpanel.setBackground(Color.blue);\r\n    \t\tgetContentPane().add(leftpanel, BorderLayout.LINE_START);\r\n    \r\n    \t\tJPanel rightpanel = new JPanel();\r\n    \t\tgetContentPane().add(rightpanel, BorderLayout.CENTER);\r\n    \t\trightpanel.setLayout(new BoxLayout(rightpanel, BoxLayout.Y_AXIS));\r\n    \t\t\r\n    \t\tJPanel upperpanel = new JPanel();\r\n    \t\tupperpanel.setBackground(Color.red);\r\n    \t\trightpanel.add(upperpanel);\r\n    \t\t\r\n    \t\tJPanel lowerpanel = new JPanel();\r\n    \t\tlowerpanel.setBackground(Color.yellow);\r\n    \t\trightpanel.add(lowerpanel);\r\n    \t\tpack();\r\n    \t\tsetVisible(true);\r\n    \t\tsetExtendedState(Frame.MAXIMIZED_BOTH);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew PanelTest();\r\n    \t}\r\n    }\r\n\r\n","title":"How to set width of specific panel with BoxLayout Manager","body":"<p>The code below places 3 JPanels inside a JFrame.  I want the blue colored panel to have a width of 300 (assume the enclosing Frame has a width of greater than 300).  The width of the other two panels should be the remainder.  How do I do that?</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Frame;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class PanelTest extends JFrame { \n    private JPanel leftpanel;\n\n    public PanelTest() {\n        getContentPane().setLayout(new BoxLayout(this.getContentPane(), BoxLayout.X_AXIS));\n        this.leftpanel = new JPanel() {         \n            @Override\n            public Dimension getMaximumSize() {\n                return new Dimension(300, 9999);\n            }\n            \n            @Override\n            public Dimension getMinimumSize() {\n                return new Dimension(300, 0);\n            }   \n        };\n        this.leftpanel.setBackground(Color.blue);\n        getContentPane().add(leftpanel);\n\n        JPanel rightpanel = new JPanel();\n        getContentPane().add(rightpanel);\n        rightpanel.setLayout(new BoxLayout(rightpanel, BoxLayout.Y_AXIS));\n        \n        JPanel upperpanel = new JPanel();\n        upperpanel.setBackground(Color.red);\n        rightpanel.add(upperpanel);\n        \n        JPanel lowerpanel = new JPanel();\n        lowerpanel.setBackground(Color.yellow);\n        rightpanel.add(lowerpanel);\n        pack();\n        setVisible(true);\n        setExtendedState(Frame.MAXIMIZED_BOTH);\n    }\n    \n    public static void main(String[] args) {\n        new PanelTest();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5fwzi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fwzi.png\" alt=\"enter image description here\" /></a></p>\n<p>I slightly updated the above code using @camickr's suggestion of using BorderLayout.  The width is now as desired.  Thanks @camickr.</p>\n<p>I still think BoxLayout should have respected the minimum and maximum sizes.  Taking those into consideration, it should have set the width to 500.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Frame;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class PanelTest extends JFrame { \n    public PanelTest() {\n        getContentPane().setLayout(new BorderLayout());\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JPanel leftpanel = new JPanel();\n        int width = 500;\n        leftpanel.setPreferredSize(new Dimension(width, 1));\n        leftpanel.setBackground(Color.blue);\n        getContentPane().add(leftpanel, BorderLayout.LINE_START);\n\n        JPanel rightpanel = new JPanel();\n        getContentPane().add(rightpanel, BorderLayout.CENTER);\n        rightpanel.setLayout(new BoxLayout(rightpanel, BoxLayout.Y_AXIS));\n        \n        JPanel upperpanel = new JPanel();\n        upperpanel.setBackground(Color.red);\n        rightpanel.add(upperpanel);\n        \n        JPanel lowerpanel = new JPanel();\n        lowerpanel.setBackground(Color.yellow);\n        rightpanel.add(lowerpanel);\n        pack();\n        setVisible(true);\n        setExtendedState(Frame.MAXIMIZED_BOTH);\n    }\n    \n    public static void main(String[] args) {\n        new PanelTest();\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1645487414,"post_id":71214237,"comment_id":125879837,"body_markdown":"See also [_Resizable Buttons in 4*6 GridPane_](https://stackoverflow.com/a/70855044/230513)","body":"See also <a href=\"https://stackoverflow.com/a/70855044/230513\"><i>Resizable Buttons in 4*6 GridPane</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645487401,"creation_date":1645487401,"answer_id":71214343,"question_id":71214237,"body_markdown":"This would be a perfect scenario for using RowConstraints and ColumnConstraints to ensure your objects don&#39;t resize the gridpane.\r\n\r\nFrom the Javadoc:\r\n\r\n&gt; By default, rows and columns will be sized to fit their content; a\r\n&gt; column will be wide enough to accommodate the widest child, a row tall\r\n&gt; enough to fit the tallest child.However, if an application needs to\r\n&gt; explicitly control the size of rows or columns, it may do so by adding\r\n&gt; RowConstraints and ColumnConstraints objects to specify those metrics.\r\n&gt; For example, to create a grid with two fixed-width columns: \r\n&gt;     \r\n&gt;          GridPane gridpane = new GridPane();\r\n&gt;          gridpane.getColumnConstraints().add(new ColumnConstraints(100)); // column 0 is 100 wide\r\n&gt;          gridpane.getColumnConstraints().add(new ColumnConstraints(200)); // column 1 is 200 wide\r\n\r\nYou can also size by percentage which may suite your needs better:\r\n\r\n&gt; Alternatively, RowConstraints and ColumnConstraints allow the size to\r\n&gt; be specified as a percentage of gridpane&#39;s available space:\r\n&gt; \r\n&gt; \r\n&gt;      GridPane gridpane = new GridPane();\r\n&gt;      ColumnConstraints column1 = new ColumnConstraints();\r\n&gt;      column1.setPercentWidth(50);\r\n&gt;      ColumnConstraints column2 = new ColumnConstraints();\r\n&gt;      column2.setPercentWidth(50);\r\n&gt;      gridpane.getColumnConstraints().addAll(column1, column2); // each get 50% of width\r\n\r\nSource: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html","title":"Setting size of cells in GridPane in order to fit the parent","body":"<p>This would be a perfect scenario for using RowConstraints and ColumnConstraints to ensure your objects don't resize the gridpane.</p>\n<p>From the Javadoc:</p>\n<blockquote>\n<p>By default, rows and columns will be sized to fit their content; a\ncolumn will be wide enough to accommodate the widest child, a row tall\nenough to fit the tallest child.However, if an application needs to\nexplicitly control the size of rows or columns, it may do so by adding\nRowConstraints and ColumnConstraints objects to specify those metrics.\nFor example, to create a grid with two fixed-width columns:</p>\n<pre><code>     GridPane gridpane = new GridPane();\n     gridpane.getColumnConstraints().add(new ColumnConstraints(100)); // column 0 is 100 wide\n     gridpane.getColumnConstraints().add(new ColumnConstraints(200)); // column 1 is 200 wide\n</code></pre>\n</blockquote>\n<p>You can also size by percentage which may suite your needs better:</p>\n<blockquote>\n<p>Alternatively, RowConstraints and ColumnConstraints allow the size to\nbe specified as a percentage of gridpane's available space:</p>\n<pre><code> GridPane gridpane = new GridPane();\n ColumnConstraints column1 = new ColumnConstraints();\n column1.setPercentWidth(50);\n ColumnConstraints column2 = new ColumnConstraints();\n column2.setPercentWidth(50);\n gridpane.getColumnConstraints().addAll(column1, column2); // each get 50% of width\n</code></pre>\n</blockquote>\n<p>Source: <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html</a></p>\n"}],"owner":{"account_id":18523383,"reputation":19,"user_id":13495802,"display_name":"Ahxius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71214343,"answer_count":1,"score":0,"last_activity_date":1645487401,"creation_date":1645486374,"question_id":71214237,"body_markdown":"Is there a way to make it so the objects/cells of a GridPane are made to fit the parent (TabPane in this instance)? I have been trying this using buttons inside of the GridPane for the past for hours and haven&#39;t been able to find a solution. \r\n\r\nHere is what I&#39;ve been trying:\r\n```\r\nGridPane gPane = new GridPane();\r\ndouble size = Math.sqrt((tabPane.getTabs().get(0).getContent().getLayoutBounds().getHeight() * tabPane.getTabs().get(0).getContent().getLayoutBounds().getWidth()) / (rows * columns));\r\nfor (int i = 0; i &lt; height; i++)\r\n            for (int j = 0; j &lt; width; j++) {\r\n                array[i][j] = new Button();\r\n                array[i][j].setPrefWidth(size);\r\n                array[i][j].setPrefHeight(size);\r\n                gPane.add(array[i][j], i, j);\r\n            }\r\n\r\n```\r\n\r\nWhen I run this, the size of the cells either don&#39;t match the size, or when they do, they do not fit the screen as they should. ","title":"Setting size of cells in GridPane in order to fit the parent","body":"<p>Is there a way to make it so the objects/cells of a GridPane are made to fit the parent (TabPane in this instance)? I have been trying this using buttons inside of the GridPane for the past for hours and haven't been able to find a solution.</p>\n<p>Here is what I've been trying:</p>\n<pre><code>GridPane gPane = new GridPane();\ndouble size = Math.sqrt((tabPane.getTabs().get(0).getContent().getLayoutBounds().getHeight() * tabPane.getTabs().get(0).getContent().getLayoutBounds().getWidth()) / (rows * columns));\nfor (int i = 0; i &lt; height; i++)\n            for (int j = 0; j &lt; width; j++) {\n                array[i][j] = new Button();\n                array[i][j].setPrefWidth(size);\n                array[i][j].setPrefHeight(size);\n                gPane.add(array[i][j], i, j);\n            }\n\n</code></pre>\n<p>When I run this, the size of the cells either don't match the size, or when they do, they do not fit the screen as they should.</p>\n"},{"tags":["java","arrays","protocol-buffers","messaging"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1645331040,"post_id":71045367,"comment_id":125840864,"body_markdown":"The compiler error message does not match your example code.  Please provide an **accurate** [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) so that we can understand what the real problem is.","body":"The compiler error message does not match your example code.  Please provide an <b>accurate</b> <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can understand what the real problem is."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645487087,"creation_date":1645330491,"answer_id":71191328,"question_id":71045367,"body_markdown":"I don&#39;t think what you are trying to do is practical.\r\n\r\nFirst of all, a protobuf message contains only field numbers, wire types and encoded values.  There are only 6 wire types: \r\n\r\n- 0 \tVarint \tint32, int64, uint32, uint64, sint32, sint64, bool, enum\r\n- 1 \t64-bit \tfixed64, sfixed64, double\r\n- 2 \tLength-delimited \tstring, bytes, embedded messages, packed repeated fields\r\n- 3 \tStart group \tgroups (deprecated)\r\n- 4 \tEnd group \tgroups (deprecated)\r\n- 5 \t32-bit\r\n\r\nThat is not sufficient to reconstruct the field names and types for a Java class.\r\n\r\nI don&#39;t think that using `Any` probably will work either.  According to [this][1], and `Any` doesn&#39;t actually contain a descriptor for the *type* of the packed value.  Instead, it contains ...\r\n\r\n&gt; ... a URL that acts as a globally unique identifier for and resolves to that message&#39;s type.\r\n\r\nBut AFAIK that URL is *just* used as an identifier for a protobuf type that the receiver already knows about.  It doesn&#39;t contain the information needed to construct the (actual) message ... in order to generate a Java class.\r\n\r\n--------------------\r\n\r\n**UPDATE** - This probably won&#39;t help you, but according to comments in the Google &quot;Any.proto&quot; definition, it might be possible to implement a type resolver.\r\n\r\n      // In practice, teams usually precompile into the binary all types that they\r\n      // expect it to use in the context of Any. However, for URLs which use the\r\n      // scheme `http`, `https`, or no scheme, one can optionally set up a type\r\n      // server that maps type URLs to message definitions as follows:\r\n      //\r\n      // * If no scheme is provided, `https` is assumed.\r\n      // * An HTTP GET on the URL must yield a [google.protobuf.Type][]\r\n      //   value in binary format, or produce an error.\r\n      // * Applications are allowed to cache lookup results based on the\r\n      //   URL, or have them precompiled into a binary to avoid any\r\n      //   lookup. Therefore, binary compatibility needs to be preserved\r\n      //   on changes to types. (Use versioned type names to manage\r\n      //   breaking changes.)\r\n      //\r\n      // Note: this functionality is not currently available in the official\r\n      // protobuf release, and it is not used for type URLs beginning with\r\n      // type.googleapis.com.\r\n\r\nSo ... you could set up your own type server to publish the definitions of your message types.  You could (I guess) use those definitions to generate the protobuf classes, or you could generate the JSON in a more dynamic fashion.\r\n\r\nBut the above implies at least some part of your &quot;organization&quot; knows about and publishes the types.  So why not just get hold of all of the published types and use them to generate the corresponding protobuf classes each time that you rebuild your application?  Or, why not maintenance of a library of protobuf classes the responsibility of the group that publishes the types?\r\n\r\n(OK.  I can see why you might want your application to be more dynamic than those ideas would be.  But is it worth the extra effort and complexity?)\r\n\r\n  [1]: https://developers.google.com/protocol-buffers/docs/proto3#any","title":"Conversion of Protobuf Byte [] to ProtoBuf Compiled Class","body":"<p>I don't think what you are trying to do is practical.</p>\n<p>First of all, a protobuf message contains only field numbers, wire types and encoded values.  There are only 6 wire types:</p>\n<ul>\n<li>0     Varint  int32, int64, uint32, uint64, sint32, sint64, bool, enum</li>\n<li>1     64-bit  fixed64, sfixed64, double</li>\n<li>2     Length-delimited    string, bytes, embedded messages, packed repeated fields</li>\n<li>3     Start group     groups (deprecated)</li>\n<li>4     End group   groups (deprecated)</li>\n<li>5     32-bit</li>\n</ul>\n<p>That is not sufficient to reconstruct the field names and types for a Java class.</p>\n<p>I don't think that using <code>Any</code> probably will work either.  According to <a href=\"https://developers.google.com/protocol-buffers/docs/proto3#any\" rel=\"nofollow noreferrer\">this</a>, and <code>Any</code> doesn't actually contain a descriptor for the <em>type</em> of the packed value.  Instead, it contains ...</p>\n<blockquote>\n<p>... a URL that acts as a globally unique identifier for and resolves to that message's type.</p>\n</blockquote>\n<p>But AFAIK that URL is <em>just</em> used as an identifier for a protobuf type that the receiver already knows about.  It doesn't contain the information needed to construct the (actual) message ... in order to generate a Java class.</p>\n<hr />\n<p><strong>UPDATE</strong> - This probably won't help you, but according to comments in the Google &quot;Any.proto&quot; definition, it might be possible to implement a type resolver.</p>\n<pre><code>  // In practice, teams usually precompile into the binary all types that they\n  // expect it to use in the context of Any. However, for URLs which use the\n  // scheme `http`, `https`, or no scheme, one can optionally set up a type\n  // server that maps type URLs to message definitions as follows:\n  //\n  // * If no scheme is provided, `https` is assumed.\n  // * An HTTP GET on the URL must yield a [google.protobuf.Type][]\n  //   value in binary format, or produce an error.\n  // * Applications are allowed to cache lookup results based on the\n  //   URL, or have them precompiled into a binary to avoid any\n  //   lookup. Therefore, binary compatibility needs to be preserved\n  //   on changes to types. (Use versioned type names to manage\n  //   breaking changes.)\n  //\n  // Note: this functionality is not currently available in the official\n  // protobuf release, and it is not used for type URLs beginning with\n  // type.googleapis.com.\n</code></pre>\n<p>So ... you could set up your own type server to publish the definitions of your message types.  You could (I guess) use those definitions to generate the protobuf classes, or you could generate the JSON in a more dynamic fashion.</p>\n<p>But the above implies at least some part of your &quot;organization&quot; knows about and publishes the types.  So why not just get hold of all of the published types and use them to generate the corresponding protobuf classes each time that you rebuild your application?  Or, why not maintenance of a library of protobuf classes the responsibility of the group that publishes the types?</p>\n<p>(OK.  I can see why you might want your application to be more dynamic than those ideas would be.  But is it worth the extra effort and complexity?)</p>\n"}],"owner":{"account_id":20100208,"reputation":25,"user_id":14738818,"display_name":"Back2Basics"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645487087,"creation_date":1644391001,"question_id":71045367,"body_markdown":"I am working on to receive an incoming message in the form of protobuf byte [] and my method would be to convert it into a protobuf compiled class before I proceed with converting it into JSON format.\r\n\r\nBelow are the Code Snippets which I had currently and I would appreciate if anyone could advise me on what are the areas which I should be rectifying on. \r\n\r\n    public void conversionMethod(byte[] inputMessage) {\r\n\t\t \r\n\t\ttry {\r\n\t\t\r\n\t\tbyte[] wrapperMessage = inputMessage;\r\n\t\t\r\n\t\tAny any = Any.parseFrom(wrapperMessage);\r\n\t\t\r\n\t\t\r\n\t\tif (any.is(Teacher.class))\r\n\t\t{\r\n\t\t  TeacherProto teacherProto = any.unpack(TeacherProto.class);\r\n\t\t \r\n\t\t} \r\n\t\t\r\n\t\t\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nI am following the guide in this link, **https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Any** as a reference at the moment.\r\n\r\nCurrently I am shown this error at the moment.\r\n\r\n    The method is(Class&lt;T&gt;) in the type Any is not applicable\r\n    for the arguments (Class&lt;ElevatorProto&gt;)\r\n\r\nWhat can I try to solve this?\r\n","title":"Conversion of Protobuf Byte [] to ProtoBuf Compiled Class","body":"<p>I am working on to receive an incoming message in the form of protobuf byte [] and my method would be to convert it into a protobuf compiled class before I proceed with converting it into JSON format.</p>\n<p>Below are the Code Snippets which I had currently and I would appreciate if anyone could advise me on what are the areas which I should be rectifying on.</p>\n<pre><code>public void conversionMethod(byte[] inputMessage) {\n     \n    try {\n    \n    byte[] wrapperMessage = inputMessage;\n    \n    Any any = Any.parseFrom(wrapperMessage);\n    \n    \n    if (any.is(Teacher.class))\n    {\n      TeacherProto teacherProto = any.unpack(TeacherProto.class);\n     \n    } \n    \n    \n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n    \n}\n</code></pre>\n<p>I am following the guide in this link, <strong><a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Any\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Any</a></strong> as a reference at the moment.</p>\n<p>Currently I am shown this error at the moment.</p>\n<pre><code>The method is(Class&lt;T&gt;) in the type Any is not applicable\nfor the arguments (Class&lt;ElevatorProto&gt;)\n</code></pre>\n<p>What can I try to solve this?</p>\n"},{"tags":["java","java-9","jshell"],"comments":[{"owner":{"account_id":1718899,"reputation":8227,"user_id":1575353,"accept_rate":88,"display_name":"S On"},"score":0,"creation_date":1504129174,"post_id":41833901,"comment_id":78899463,"body_markdown":"According to Robert Field, this was fixed per [this bug](https://bugs.openjdk.java.net/browse/JDK-8169595). Is it still an issue for you?","body":"According to Robert Field, this was fixed per <a href=\"https://bugs.openjdk.java.net/browse/JDK-8169595\" rel=\"nofollow noreferrer\">this bug</a>. Is it still an issue for you?"},{"owner":{"account_id":2872661,"reputation":427,"user_id":2465608,"accept_rate":100,"display_name":"Damith"},"score":0,"creation_date":1564108409,"post_id":41833901,"comment_id":100930465,"body_markdown":"Just wrap the multi line code in curly braces and paste.","body":"Just wrap the multi line code in curly braces and paste."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1485293522,"creation_date":1485293522,"answer_id":41839354,"question_id":41833901,"body_markdown":"So if you have code like this:\r\n\r\n     int c = 2;\r\n     int j = 4;\r\n     int x = 5; \r\n\r\nCopy and paste into jshell, only the first two statements are processed.\r\n\r\nBut if you have code like this:\r\n\r\n      int c = 2; int j = 4; int x = 5;\r\n\r\nAnd paste into jshell:\r\n\r\n    jshell&gt; int c = 2; int j = 4; int x = 5;\r\n            c ==&gt; 2\r\n            j ==&gt; 4\r\n            x ==&gt; 5 \r\n\r\nEven more lines of code like this:\r\n\r\n    HashMap&lt;Integer, Integer&gt; map2 = new HashMap&lt;&gt;(); for (int i = 0; i &lt; 15; ++i) { map2.put(i, i);map2.put(i, i); } System.out.println(map2);\r\n\r\nwill actually work.\r\n\r\n*Why?* Me don&#39;t know.\r\n\r\nThe only way I know that copy/paste will work is via (type it in jshell) : \r\n\r\n&gt; /edit\r\n\r\nand you can paste as much as you want.\r\n\r\n","title":"Multiline paste in jshell","body":"<p>So if you have code like this:</p>\n\n<pre><code> int c = 2;\n int j = 4;\n int x = 5; \n</code></pre>\n\n<p>Copy and paste into jshell, only the first two statements are processed.</p>\n\n<p>But if you have code like this:</p>\n\n<pre><code>  int c = 2; int j = 4; int x = 5;\n</code></pre>\n\n<p>And paste into jshell:</p>\n\n<pre><code>jshell&gt; int c = 2; int j = 4; int x = 5;\n        c ==&gt; 2\n        j ==&gt; 4\n        x ==&gt; 5 \n</code></pre>\n\n<p>Even more lines of code like this:</p>\n\n<pre><code>HashMap&lt;Integer, Integer&gt; map2 = new HashMap&lt;&gt;(); for (int i = 0; i &lt; 15; ++i) { map2.put(i, i);map2.put(i, i); } System.out.println(map2);\n</code></pre>\n\n<p>will actually work.</p>\n\n<p><em>Why?</em> Me don't know.</p>\n\n<p>The only way I know that copy/paste will work is via (type it in jshell) : </p>\n\n<blockquote>\n  <p>/edit</p>\n</blockquote>\n\n<p>and you can paste as much as you want.</p>\n"},{"tags":[],"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485298714,"creation_date":1485298714,"answer_id":41840477,"question_id":41833901,"body_markdown":"I tried it and only the first two lines are processed. Also tried with extra newlines at the end and more than three lines, and still only the first two lines were ever processed. I don&#39;t know why but I suspect it&#39;s a bug.","title":"Multiline paste in jshell","body":"<p>I tried it and only the first two lines are processed. Also tried with extra newlines at the end and more than three lines, and still only the first two lines were ever processed. I don't know why but I suspect it's a bug.</p>\n"},{"tags":[],"owner":{"account_id":4257519,"reputation":479,"user_id":3482794,"display_name":"Robert Field"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524859084,"creation_date":1504126033,"answer_id":45969434,"question_id":41833901,"body_markdown":"This was a bug.  It has been fixed: https://bugs.openjdk.java.net/browse/JDK-8169595\r\n","title":"Multiline paste in jshell","body":"<p>This was a bug.  It has been fixed: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8169595\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8169595</a></p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1545749433,"creation_date":1545749433,"answer_id":53923372,"question_id":41833901,"body_markdown":"Just in case people still end up here, a small tweak to paste in an entire code block to `jshell` is to wrap it around with braces `{}` as:\r\n\r\n    {\r\n     int c = 2;\r\n     int j = 4;\r\n     int x = 5; \r\n     // access these only in this scope though\r\n     System.out.println(&quot;c : &quot; + c + &quot;, j : &quot; + j + &quot;, x = &quot; + x);\r\n    }\r\n\r\nSample screen:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g3FbJ.png","title":"Multiline paste in jshell","body":"<p>Just in case people still end up here, a small tweak to paste in an entire code block to <code>jshell</code> is to wrap it around with braces <code>{}</code> as:</p>\n\n<pre><code>{\n int c = 2;\n int j = 4;\n int x = 5; \n // access these only in this scope though\n System.out.println(\"c : \" + c + \", j : \" + j + \", x = \" + x);\n}\n</code></pre>\n\n<p>Sample screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/g3FbJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/g3FbJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645486332,"creation_date":1645486332,"answer_id":71214230,"question_id":41833901,"body_markdown":"If for some reason someone finds this because their situation forces them to use this version of the JDK with the bug in it, try this: \r\n\r\nAt the end of each line, add a `\\` character. As long as Jshell uses any of the usual encodings, such as ASCII or some variety of Unicode (and I would be surprised if it doesn&#39;t) and it allows escape characters (it wouldn&#39;t be much of a shell if it didn&#39;t) it will force the shell to process it as a single line.\r\n\r\nThe same is true for any shell, just as long as the conventions mentioned above are held, and in my experience, 99% of the time they are. The only anomaly that you may run into is a different character used as the escape character.\r\n\r\nIf your line doesn&#39;t end with a `;` you will probably need to add a `;\\` so that the line:\r\n\r\n```\r\nSTATEMENT\r\n```\r\n\r\nis transformed to:\r\n\r\n```\r\nSTATEMENT;\\\r\n```\r\n\r\nOtherwise, if the `;` is already present, just add the `\\`.\r\n\r\nThe reason this works is because each time you enter a line such as:\r\n\r\n```\r\nCOMMAND\r\n```\r\n\r\ndepending on your OS, the shell sees:\r\n\r\n```\r\nCOMMAND\\n\r\n# or...\r\nCOMMAND\\r\r\n```\r\n\r\nThe last bits are the newline (Mac and Linux) and carriage return (Windows) characters. These are special characters that tell the shell that the line breaks here. Since they are special characters, they can be escaped, or made to be interpreted as plain text, with the escape character `\\`. This means that the shell sees:\r\n\r\n```\r\nCOMMAND; \\\r\nCOMMAND; \\\r\nCOMMAND; \\\r\nCOMMAND\r\n```\r\n\r\n...as:\r\n\r\n````\r\nCOMMAND; COMMAND; COMMAND; COMMAND\r\n```\r\n","title":"Multiline paste in jshell","body":"<p>If for some reason someone finds this because their situation forces them to use this version of the JDK with the bug in it, try this:</p>\n<p>At the end of each line, add a <code>\\</code> character. As long as Jshell uses any of the usual encodings, such as ASCII or some variety of Unicode (and I would be surprised if it doesn't) and it allows escape characters (it wouldn't be much of a shell if it didn't) it will force the shell to process it as a single line.</p>\n<p>The same is true for any shell, just as long as the conventions mentioned above are held, and in my experience, 99% of the time they are. The only anomaly that you may run into is a different character used as the escape character.</p>\n<p>If your line doesn't end with a <code>;</code> you will probably need to add a <code>;\\</code> so that the line:</p>\n<pre><code>STATEMENT\n</code></pre>\n<p>is transformed to:</p>\n<pre><code>STATEMENT;\\\n</code></pre>\n<p>Otherwise, if the <code>;</code> is already present, just add the <code>\\</code>.</p>\n<p>The reason this works is because each time you enter a line such as:</p>\n<pre><code>COMMAND\n</code></pre>\n<p>depending on your OS, the shell sees:</p>\n<pre><code>COMMAND\\n\n# or...\nCOMMAND\\r\n</code></pre>\n<p>The last bits are the newline (Mac and Linux) and carriage return (Windows) characters. These are special characters that tell the shell that the line breaks here. Since they are special characters, they can be escaped, or made to be interpreted as plain text, with the escape character <code>\\</code>. This means that the shell sees:</p>\n<pre><code>COMMAND; \\\nCOMMAND; \\\nCOMMAND; \\\nCOMMAND\n</code></pre>\n<p>...as:</p>\n<pre><code>COMMAND; COMMAND; COMMAND; COMMAND\n```\n</code></pre>\n"}],"owner":{"account_id":6850114,"reputation":253,"user_id":5954363,"display_name":"Kunal Kanojia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4932,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1645486332,"creation_date":1485276795,"question_id":41833901,"body_markdown":"I was trying out jshell and couldn&#39;t find option to paste multiple line expressions. Is it even possible to paste multiple lines in jshell. Similar to what scala offers with `paste mode`. ","title":"Multiline paste in jshell","body":"<p>I was trying out jshell and couldn't find option to paste multiple line expressions. Is it even possible to paste multiple lines in jshell. Similar to what scala offers with <code>paste mode</code>. </p>\n"},{"tags":["java","tomcat","jersey","glassfish","classnotfoundexception"],"comments":[{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":0,"creation_date":1451431919,"post_id":22022114,"comment_id":56783076,"body_markdown":"If someone encounters the same problem after a project renaming ... 1. Project &gt; Clean... 2. Project &gt; Build All","body":"If someone encounters the same problem after a project renaming ... 1. Project &gt; Clean... 2. Project &gt; Build All"}],"answers":[{"tags":[],"owner":{"account_id":2116672,"reputation":13762,"user_id":1880810,"accept_rate":83,"display_name":"unwichtich"},"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1431281786,"creation_date":1393355809,"answer_id":22023981,"question_id":22022114,"body_markdown":"The problem:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    java.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer\r\n\r\nindicates that you try to use the **Jersey 2.x** servlet, but you are supplying the **Jersey 1.x** libs.\r\n\r\nFor **Jersey 1.x** you have to do it like this:\r\n\r\n&lt;!-- language-all: xml --&gt;\r\n\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;\r\n      com.sun.jersey.spi.container.servlet.ServletContainer\r\n    &lt;/servlet-class&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n        &lt;param-value&gt;sample.hello.resources&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nFor more information check the [Jersey 1.x documentation][1].\r\n&lt;br&gt;&lt;br&gt;\r\nIf you instead want to use **Jersey 2.x** then you&#39;ll have to supply the **Jersey 2.x** libs. In a maven based project you can use the following:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n        &lt;version&gt;2.xx&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- if you are using Jersey client specific features without the server side --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.xx&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor **Jersey 2.x** you don&#39;t need to setup anything in your `web.xml`, it is sufficient to supply a class similar to this:\r\n\r\n    import javax.ws.rs.ApplicationPath;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    @ApplicationPath(&quot;rest&quot;)\r\n    public class ApplicationConfig extends Application {\r\n    \r\n    }\r\n\r\nFor more information, check the [Jersey documentation][2].\r\n\r\n**See also:**\r\n\r\n- [java.lang.ClassNotFoundException: com.sun.jersey.spi.container.servlet.ServletContainer][3]\r\n- [Jersey Services with Tomcat and Eclipse][4]\r\n- [ClassNotFoundException when starting tomcat][5]\r\n\r\n\r\n  [1]: https://jersey.java.net/documentation/1.18/index.html\r\n  [2]: https://jersey.java.net/documentation/latest/index.html\r\n  [3]: https://stackoverflow.com/questions/18086218/java-lang-classnotfoundexception-com-sun-jersey-spi-container-servlet-servletco\r\n  [4]: https://stackoverflow.com/questions/20784531/jersey-services-with-tomcat-and-eclipse\r\n  [5]: https://stackoverflow.com/questions/8444107/classnotfoundexception-when-starting-tomcat","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>The problem:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer\n</code></pre>\n\n<p>indicates that you try to use the <strong>Jersey 2.x</strong> servlet, but you are supplying the <strong>Jersey 1.x</strong> libs.</p>\n\n<p>For <strong>Jersey 1.x</strong> you have to do it like this:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;servlet&gt;\n  &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n&lt;servlet-class&gt;\n  com.sun.jersey.spi.container.servlet.ServletContainer\n&lt;/servlet-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n    &lt;param-value&gt;sample.hello.resources&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>For more information check the <a href=\"https://jersey.java.net/documentation/1.18/index.html\" rel=\"noreferrer\">Jersey 1.x documentation</a>.\n<br><br>\nIf you instead want to use <strong>Jersey 2.x</strong> then you'll have to supply the <strong>Jersey 2.x</strong> libs. In a maven based project you can use the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;version&gt;2.xx&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- if you are using Jersey client specific features without the server side --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;2.xx&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For <strong>Jersey 2.x</strong> you don't need to setup anything in your <code>web.xml</code>, it is sufficient to supply a class similar to this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>import javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n@ApplicationPath(\"rest\")\npublic class ApplicationConfig extends Application {\n\n}\n</code></pre>\n\n<p>For more information, check the <a href=\"https://jersey.java.net/documentation/latest/index.html\" rel=\"noreferrer\">Jersey documentation</a>.</p>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18086218/java-lang-classnotfoundexception-com-sun-jersey-spi-container-servlet-servletco\">java.lang.ClassNotFoundException: com.sun.jersey.spi.container.servlet.ServletContainer</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20784531/jersey-services-with-tomcat-and-eclipse\">Jersey Services with Tomcat and Eclipse</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8444107/classnotfoundexception-when-starting-tomcat\">ClassNotFoundException when starting tomcat</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1419696711,"creation_date":1419696711,"answer_id":27669042,"question_id":22022114,"body_markdown":"If you are using **Jersey 2.x** use following dependency:  \r\n\r\n    &lt;dependency&gt;\r\n\t   &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n\t   &lt;version&gt;2.XX&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n\r\nWhere `XX` could be any particular version you look for. [Jersey Containers][1].\r\n\r\n\r\n  [1]: http://www.mvnrepository.com/artifact/org.glassfish.jersey.containers","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>If you are using <strong>Jersey 2.x</strong> use following dependency:  </p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n   &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n   &lt;version&gt;2.XX&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n\n<p>Where <code>XX</code> could be any particular version you look for. <a href=\"http://www.mvnrepository.com/artifact/org.glassfish.jersey.containers\">Jersey Containers</a>.</p>\n"},{"tags":[],"owner":{"account_id":5071875,"reputation":55,"user_id":4070432,"display_name":"Lalit Kale"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1450251069,"creation_date":1442919013,"answer_id":32714940,"question_id":22022114,"body_markdown":"Below code work for me in web.xml file\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;servlet&gt;\r\n    \t&lt;servlet-name&gt;WebService&lt;/servlet-name&gt;\r\n    \t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    \t&lt;init-param&gt;\r\n    \t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;com.example.demo.webservice&lt;/param-value&gt;\r\n    \t\t//Package\r\n    \t&lt;/init-param&gt;\r\n    \t&lt;init-param&gt;\r\n    \t\t&lt;param-name&gt;unit:WidgetPU&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;persistence/widget&lt;/param-value&gt;\r\n    \t&lt;/init-param&gt;\r\n    \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;WebService&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/webservices/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>Below code work for me in web.xml file</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;WebService&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.example.demo.webservice&lt;/param-value&gt;\n        //Package\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;unit:WidgetPU&lt;/param-name&gt;\n        &lt;param-value&gt;persistence/widget&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;WebService&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/webservices/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6076356,"reputation":2084,"user_id":4743608,"accept_rate":40,"display_name":"Adi"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1471292577,"creation_date":1470337221,"answer_id":38775380,"question_id":22022114,"body_markdown":"It&#39;s an eclipse setup issue, not a Jersey issue.\r\n\r\nFrom this thread ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer\r\n\r\nRight click your eclipse project Properties -&gt; Deployment Assembly -&gt; Add -&gt; Java Build Path Entries -&gt; Gradle Dependencies -&gt; Finish.\r\n\r\nSo Eclipse wasn&#39;t using the Gradle dependencies when Apache was starting .","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>It's an eclipse setup issue, not a Jersey issue.</p>\n\n<p>From this thread ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer</p>\n\n<p>Right click your eclipse project Properties -> Deployment Assembly -> Add -> Java Build Path Entries -> Gradle Dependencies -> Finish.</p>\n\n<p>So Eclipse wasn't using the Gradle dependencies when Apache was starting .</p>\n"},{"tags":[],"owner":{"account_id":3305950,"reputation":2557,"user_id":2780766,"accept_rate":50,"display_name":"Christopher Kikoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489481082,"creation_date":1489481082,"answer_id":42781317,"question_id":22022114,"body_markdown":"Suppose you are usin Jersey 2.25.1, this worked for me - I am using Apache Tomcat web container:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.25.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;2.25.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nNB: Replace version with the version you are using","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>Suppose you are usin Jersey 2.25.1, this worked for me - I am using Apache Tomcat web container:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;version&gt;2.25.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;version&gt;2.25.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>NB: Replace version with the version you are using</p>\n"},{"tags":[],"owner":{"account_id":6566133,"reputation":137,"user_id":5075697,"display_name":"asoni94"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1511644681,"creation_date":1511644681,"answer_id":47490607,"question_id":22022114,"body_markdown":"I agree with the accepted answer. But for me, the issue was not that, instead I had to modify my Servlet-Class name from:- \r\n\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer.class&lt;/servlet-class&gt; \r\n\r\n   To:\r\n\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\r\nSo, removing .class worked fine in my case. Hope it will help somebody!\r\n\r\n      \r\n     ","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>I agree with the accepted answer. But for me, the issue was not that, instead I had to modify my Servlet-Class name from:- </p>\n\n<pre><code>&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer.class&lt;/servlet-class&gt; \n</code></pre>\n\n<p>To:</p>\n\n<pre><code>&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n</code></pre>\n\n<p>So, removing .class worked fine in my case. Hope it will help somebody!</p>\n"},{"tags":[],"owner":{"account_id":1674681,"reputation":3408,"user_id":1540482,"accept_rate":47,"display_name":"15412s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517523904,"creation_date":1517523904,"answer_id":48572762,"question_id":22022114,"body_markdown":"I had the same problem with eclipse, the WA solution was to copy the libs to WEB-INF/lib","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>I had the same problem with eclipse, the WA solution was to copy the libs to WEB-INF/lib</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531237870,"creation_date":1531237870,"answer_id":51269580,"question_id":22022114,"body_markdown":"The `jersey-container-servlet` actually uses the `jersey-container-servlet-core` dependency. But if you use maven, that does not really matter. If you just define the `jersey-container-servlet` usage, it will automatically download the dependency as well.\r\n\r\nBut for those who add jar files to their project manually (i.e. without maven) It is important to know that **you actually need both jar files**. The `org.glassfish.jersey.servlet.ServletContainer` class is actually part of the core dependency.","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>The <code>jersey-container-servlet</code> actually uses the <code>jersey-container-servlet-core</code> dependency. But if you use maven, that does not really matter. If you just define the <code>jersey-container-servlet</code> usage, it will automatically download the dependency as well.</p>\n\n<p>But for those who add jar files to their project manually (i.e. without maven) It is important to know that <strong>you actually need both jar files</strong>. The <code>org.glassfish.jersey.servlet.ServletContainer</code> class is actually part of the core dependency.</p>\n"},{"tags":[],"owner":{"account_id":4510294,"reputation":69,"user_id":3666618,"display_name":"Jordi M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535469860,"creation_date":1535469860,"answer_id":52061431,"question_id":22022114,"body_markdown":"If you not use maven, try to put your jars to WEB-INF/lib, it worked for me.","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>If you not use maven, try to put your jars to WEB-INF/lib, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3764517,"reputation":1588,"user_id":3128369,"accept_rate":55,"display_name":"buzoherbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645485674,"creation_date":1645485674,"answer_id":71214162,"question_id":22022114,"body_markdown":"For me it seems like the issue was Eclipse not recognizing the Maven dependencies of my project.\r\n\r\nWhat I did:\r\n\r\nRight click on project &gt; Configure &gt; Convert to Maven Project\r\n\r\n","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>For me it seems like the issue was Eclipse not recognizing the Maven dependencies of my project.</p>\n<p>What I did:</p>\n<p>Right click on project &gt; Configure &gt; Convert to Maven Project</p>\n"}],"owner":{"account_id":2911710,"reputation":683,"user_id":2495751,"display_name":"ssankara73"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207976,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":22023981,"answer_count":10,"score":56,"last_activity_date":1645485674,"creation_date":1393350476,"question_id":22022114,"body_markdown":"I have been getting a ClassNotFoundException with `org.glassfish.jersey.servlet.ServletContainer` but it peculiarly started last night when I tried to start/re-start my Tomcat server (v7) with Eclipse Juno. \r\n\r\nNot sure what is going on. What&#39;s bizarre is that it just started happening last night while it was working perfectly well before that.\r\n\r\nHere is the stacktrace:\r\n\r\n    Feb 25, 2014 11:11:19 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Marking servlet com.att.ucomm.admin.UCommAdminFunctions as unavailable\r\n    Feb 25, 2014 11:11:19 AM org.apache.catalina.core.StandardContext loadOnStartup\r\n    SEVERE: Servlet /UCommAdminFunctions threw load() exception\r\n    java.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer\r\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1671)\r\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1516)\r\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:415)\r\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:397)\r\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:118    )\r\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1048)\r\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:996)\r\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4762)\r\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5045)\r\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\r\n    at org.apache.catalina.core.StandardContext.reload(StandardContext.java:3670)\r\n    at org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:424)\r\n    at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1207)\r\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1393)\r\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1403)\r\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1403)\r\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1382)\r\n    at java.lang.Thread.run(Unknown Source)\r\n\r\n    Feb 25, 2014 11:11:19 AM org.apache.catalina.core.StandardContext reload\r\n    INFO: Reloading Context with name [/UCommAdminFunctions] is completed\r\n    Feb 25, 2014 11:13:33 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n    INFO: Servlet com.att.ucomm.admin.UCommAdminFunctions is currently unavailable\r\n\r\nHere is my web.xml\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n \r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;com.att.ucomm.admin.UCommAdminFunctions&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n \r\n        &lt;!-- Register JAX-RS Application, if needed. --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;com.att.ucomm.admin.UCommAdminFunctions&lt;/param-name&gt;\r\n            &lt;param-value&gt;my.package.MyApplication&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n \r\n        &lt;!-- Register resources and providers under my.package. --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.att.ucomm.admin&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n \r\n        &lt;!-- Register my custom provider (not needed if it&#39;s in my.package) AND LoggingFilter. --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.att.ucomm.admin.SecurityRequestFilter;org.glassfish.jersey.filter.LoggingFilter&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n \r\n        &lt;!-- Enable Tracing support. --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.tracing&lt;/param-name&gt;\r\n            &lt;param-value&gt;ALL&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;com.att.ucomm.admin.UCommAdminFunctions&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI made sure that the jar files for jersey were still there in WEB-INF/lib:\r\n\r\n![WEB-INF/lib with jersey jars][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/TgHjk.png","title":"org.glassfish.jersey.servlet.ServletContainer ClassNotFoundException","body":"<p>I have been getting a ClassNotFoundException with <code>org.glassfish.jersey.servlet.ServletContainer</code> but it peculiarly started last night when I tried to start/re-start my Tomcat server (v7) with Eclipse Juno. </p>\n\n<p>Not sure what is going on. What's bizarre is that it just started happening last night while it was working perfectly well before that.</p>\n\n<p>Here is the stacktrace:</p>\n\n<pre><code>Feb 25, 2014 11:11:19 AM org.apache.catalina.core.ApplicationContext log\nINFO: Marking servlet com.att.ucomm.admin.UCommAdminFunctions as unavailable\nFeb 25, 2014 11:11:19 AM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet /UCommAdminFunctions threw load() exception\njava.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1671)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1516)\nat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:415)\nat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:397)\nat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:118    )\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1048)\nat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:996)\nat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4762)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5045)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\nat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3670)\nat org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:424)\nat org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1207)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1393)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1403)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1403)\nat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1382)\nat java.lang.Thread.run(Unknown Source)\n\nFeb 25, 2014 11:11:19 AM org.apache.catalina.core.StandardContext reload\nINFO: Reloading Context with name [/UCommAdminFunctions] is completed\nFeb 25, 2014 11:13:33 AM org.apache.catalina.core.StandardWrapperValve invoke\nINFO: Servlet com.att.ucomm.admin.UCommAdminFunctions is currently unavailable\n</code></pre>\n\n<p>Here is my web.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;com.att.ucomm.admin.UCommAdminFunctions&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n\n    &lt;!-- Register JAX-RS Application, if needed. --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;com.att.ucomm.admin.UCommAdminFunctions&lt;/param-name&gt;\n        &lt;param-value&gt;my.package.MyApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;!-- Register resources and providers under my.package. --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.att.ucomm.admin&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;!-- Register my custom provider (not needed if it's in my.package) AND LoggingFilter. --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n        &lt;param-value&gt;com.att.ucomm.admin.SecurityRequestFilter;org.glassfish.jersey.filter.LoggingFilter&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;!-- Enable Tracing support. --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.tracing&lt;/param-name&gt;\n        &lt;param-value&gt;ALL&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;com.att.ucomm.admin.UCommAdminFunctions&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I made sure that the jar files for jersey were still there in WEB-INF/lib:</p>\n\n<p><img src=\"https://i.stack.imgur.com/TgHjk.png\" alt=\"WEB-INF/lib with jersey jars\"></p>\n"},{"tags":["java","arrays","methods"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645484055,"creation_date":1645481057,"answer_id":71213561,"question_id":71213189,"body_markdown":"You have a few mistakes (aside from missing curly braces that I added in my edit).\r\n\r\n1) `sCurrentLine.split(&quot;\\t&quot;)` - There are two errors here. The first error is that you need to escape the slash character. Therefore, the correct expression should be `&quot;\\\\t&quot;`. However, your file might not be tabbed delimited. Therefore, for space-delimited text, you should use `&quot;\\\\s&quot;`, `&quot; &quot;`, or `&quot;\\\\s+&quot;`. If you are not sure how many spaces, the last expression is the best because it will work with one-or-more spaces.\r\n\r\n2) `Integer.parseInt(...)` - This needs to be `Double.parseDouble()` because the values in the file are floating-point numbers, not integers.\r\n\r\n3) `System.out.println(balance)` inside `viewWallet()` is incorrect - That line displays the object, not the contents because arrays do not have a way to override `toString()`. So, you have to iterate through the `balance` array and display it contents. The simplest way is like this:\r\n```\r\nfor(double value : balance) {\r\n    System.out.println(value);\r\n}\r\n```\r\nThis will display all the values in the array in separate lines. If the array is empty, it will skip altogether.\r\n\r\n----------\r\nCorrected code\r\n--------------\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\tstatic Scanner userInputInt = new Scanner(System.in);\r\n\tstatic Scanner userInputString = new Scanner(System.in);\r\n\tstatic Scanner userInputDouble = new Scanner(System.in);\r\n\r\n\tpublic static void main(String[] args) { // throws Exception\r\n\t\tint userChoice = getUserChoice();\r\n\t\tswitch (userChoice) {\r\n\t\tcase 1:\r\n\t\t\tviewWallet();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// This method asks and returns what the user wants to do\r\n\tpublic static int getUserChoice() {\r\n\t\tSystem.out.println(&quot;****************************************************************&quot;);\r\n\t\tSystem.out.println(&quot;****************************************************************&quot;);\r\n\t\tSystem.out.println(&quot;************ Crypto Wallet **********&quot;);\r\n\t\tSystem.out.println(&quot;****************************************************************&quot;);\r\n\t\tSystem.out.println(&quot;****************************************************************&quot;);\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;What do you want to do?&quot;);\r\n\t\tSystem.out.println(&quot;(1) View wallet&quot;);\r\n\t\tSystem.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\r\n\t\tSystem.out.println(&quot;(3) Add new cryptos&quot;);\r\n\t\tSystem.out.println(&quot;(4) Remove an existing crypto&quot;);\r\n\t\tSystem.out.println(&quot;(5) Update wallet&quot;);\r\n\t\tSystem.out.println(&quot;****************************************************************&quot;);\r\n\t\tSystem.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\r\n\t\treturn userInputInt.nextInt();\r\n\t}\r\n\r\n\t// This method is called for user choice 1\r\n\tpublic static void viewWallet() {\r\n\t\tdouble[] balance = readCryptoBalance();\r\n\t\tfor(double value : balance) {\r\n\t\t\tSystem.out.println(value);\r\n\t\t}\r\n\t}\r\n\r\n\t// This method reads and returns the crypto balances from the file\r\n\tpublic static double[] readCryptoBalance() {\r\n\t\tdouble[] temp = new double[100];\r\n\t\tint lineNumber = 0;\r\n\t\ttry {\r\n\r\n\t\t\tBufferedReader myFile = new BufferedReader(new FileReader(&quot;wallet.txt&quot;));\r\n\t\t\tString sCurrentLine;\r\n\t\t\twhile ((sCurrentLine = myFile.readLine()) != null) {\r\n\t\t\t\tString[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n\t\t\t\ttemp[lineNumber] = Double.parseDouble(tokens[1]);\r\n\t\t\t\tlineNumber++;\r\n\t\t\t}\r\n\t\t\tmyFile.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\r\n\t\t}\r\n\t\tdouble[] balance = new double[lineNumber];\r\n\t\tSystem.arraycopy(temp, 0, balance, 0, lineNumber);\r\n\t\treturn balance;\r\n\t}\r\n}\r\n```\r\n**Disclaimer**: the contents of the file I created to test was exactly as the string provided by the OP (minus the double quotes) `BTC 1.3426 ETH 5.2519 XRP 158.5000`. Therefore, my solution assumed space-delimited string in a single line. Add a carriage return/line feed after each number to have distinct lines for the different crypto currency values.","title":"Trouble with project - new to java","body":"<p>You have a few mistakes (aside from missing curly braces that I added in my edit).</p>\n<ol>\n<li><p><code>sCurrentLine.split(&quot;\\t&quot;)</code> - There are two errors here. The first error is that you need to escape the slash character. Therefore, the correct expression should be <code>&quot;\\\\t&quot;</code>. However, your file might not be tabbed delimited. Therefore, for space-delimited text, you should use <code>&quot;\\\\s&quot;</code>, <code>&quot; &quot;</code>, or <code>&quot;\\\\s+&quot;</code>. If you are not sure how many spaces, the last expression is the best because it will work with one-or-more spaces.</p>\n</li>\n<li><p><code>Integer.parseInt(...)</code> - This needs to be <code>Double.parseDouble()</code> because the values in the file are floating-point numbers, not integers.</p>\n</li>\n<li><p><code>System.out.println(balance)</code> inside <code>viewWallet()</code> is incorrect - That line displays the object, not the contents because arrays do not have a way to override <code>toString()</code>. So, you have to iterate through the <code>balance</code> array and display it contents. The simplest way is like this:</p>\n</li>\n</ol>\n<pre><code>for(double value : balance) {\n    System.out.println(value);\n}\n</code></pre>\n<p>This will display all the values in the array in separate lines. If the array is empty, it will skip altogether.</p>\n<hr />\n<h2>Corrected code</h2>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Main {\n    static Scanner userInputInt = new Scanner(System.in);\n    static Scanner userInputString = new Scanner(System.in);\n    static Scanner userInputDouble = new Scanner(System.in);\n\n    public static void main(String[] args) { // throws Exception\n        int userChoice = getUserChoice();\n        switch (userChoice) {\n        case 1:\n            viewWallet();\n            break;\n        }\n    }\n\n    // This method asks and returns what the user wants to do\n    public static int getUserChoice() {\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;************ Crypto Wallet **********&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;What do you want to do?&quot;);\n        System.out.println(&quot;(1) View wallet&quot;);\n        System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\n        System.out.println(&quot;(3) Add new cryptos&quot;);\n        System.out.println(&quot;(4) Remove an existing crypto&quot;);\n        System.out.println(&quot;(5) Update wallet&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\n        return userInputInt.nextInt();\n    }\n\n    // This method is called for user choice 1\n    public static void viewWallet() {\n        double[] balance = readCryptoBalance();\n        for(double value : balance) {\n            System.out.println(value);\n        }\n    }\n\n    // This method reads and returns the crypto balances from the file\n    public static double[] readCryptoBalance() {\n        double[] temp = new double[100];\n        int lineNumber = 0;\n        try {\n\n            BufferedReader myFile = new BufferedReader(new FileReader(&quot;wallet.txt&quot;));\n            String sCurrentLine;\n            while ((sCurrentLine = myFile.readLine()) != null) {\n                String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n                temp[lineNumber] = Double.parseDouble(tokens[1]);\n                lineNumber++;\n            }\n            myFile.close();\n        } catch (IOException e) {\n            System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\n        }\n        double[] balance = new double[lineNumber];\n        System.arraycopy(temp, 0, balance, 0, lineNumber);\n        return balance;\n    }\n}\n</code></pre>\n<p><strong>Disclaimer</strong>: the contents of the file I created to test was exactly as the string provided by the OP (minus the double quotes) <code>BTC 1.3426 ETH 5.2519 XRP 158.5000</code>. Therefore, my solution assumed space-delimited string in a single line. Add a carriage return/line feed after each number to have distinct lines for the different crypto currency values.</p>\n"}],"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71213561,"answer_count":1,"score":1,"last_activity_date":1645485566,"creation_date":1645478565,"question_id":71213189,"body_markdown":"I am working on a project for Uni, and I want to load file contents into local arrays which later print.\r\n\r\nWhen the user chooses 1 to view the wallet, I want the program to display the crypto balance from the text file onto the console. However, my code is not doing that. I am very new to using buffered and I reverse engineered a previous assignment, so my code must be wrong. \r\n\r\nMy text file contains \r\n&quot;BTC 1.3426\r\nETH 5.2519\r\nXRP 158.5000&quot;\r\n\r\nPlease ignore all the // code and see the sections for `viewWallet()` and `readCryptoBalance()`.\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class Main {\r\n    static Scanner userInputInt = new Scanner(System.in);\r\n    static Scanner userInputString = new Scanner(System.in);\r\n    static Scanner userInputDouble = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) { //throws Exception\r\n        int userChoice = getUserChoice();\r\n        switch (userChoice) {\r\n            case 1:\r\n                viewWallet();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // This method asks and returns what the user wants to do\r\n    public static int getUserChoice() {\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;************ Crypto Wallet **********&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;What do you want to do?&quot;);\r\n        System.out.println(&quot;(1) View wallet&quot;);\r\n        System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\r\n        System.out.println(&quot;(3) Add new cryptos&quot;);\r\n        System.out.println(&quot;(4) Remove an existing crypto&quot;);\r\n        System.out.println(&quot;(5) Update wallet&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\r\n        return userInputInt.nextInt();\r\n    }\r\n\r\n    // This method is called for user choice 1\r\n    public static void viewWallet() {\r\n        double[] balance = readCryptoBalance();\r\n        System.out.println(balance);\r\n    }\r\n\r\n    // This method reads and returns the crypto balances from the file\r\n    public static double[] readCryptoBalance() {\r\n       double[] temp = new double [100];\r\n       int lineNumber =0;\r\n       try{\r\n\r\n           BufferedReader myFile = new BufferedReader (new FileReader(&quot;wallet.txt&quot;));\r\n           String sCurrentLine;\r\n           while ((sCurrentLine = myFile.readLine()) != null){\r\n               temp[lineNumber] =Integer.parseInt(sCurrentLine.split(&quot;\\t&quot;)[1]);\r\n               lineNumber++;\r\n           }\r\n           myFile.close();\r\n       } catch (IOException e){\r\n           System.out.println(&quot;I/O exception error when reading&quot;);\r\n       }\r\n       double[] balance = new double[lineNumber];\r\n       System.arraycopy(temp, 0, balance, 0, lineNumber);\r\n       return balance;\r\n    }\r\n}\r\n```","title":"Trouble with project - new to java","body":"<p>I am working on a project for Uni, and I want to load file contents into local arrays which later print.</p>\n<p>When the user chooses 1 to view the wallet, I want the program to display the crypto balance from the text file onto the console. However, my code is not doing that. I am very new to using buffered and I reverse engineered a previous assignment, so my code must be wrong.</p>\n<p>My text file contains\n&quot;BTC 1.3426\nETH 5.2519\nXRP 158.5000&quot;</p>\n<p>Please ignore all the // code and see the sections for <code>viewWallet()</code> and <code>readCryptoBalance()</code>.</p>\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class Main {\n    static Scanner userInputInt = new Scanner(System.in);\n    static Scanner userInputString = new Scanner(System.in);\n    static Scanner userInputDouble = new Scanner(System.in);\n\n    public static void main(String[] args) { //throws Exception\n        int userChoice = getUserChoice();\n        switch (userChoice) {\n            case 1:\n                viewWallet();\n                break;\n        }\n    }\n\n    // This method asks and returns what the user wants to do\n    public static int getUserChoice() {\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;************ Crypto Wallet **********&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;What do you want to do?&quot;);\n        System.out.println(&quot;(1) View wallet&quot;);\n        System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\n        System.out.println(&quot;(3) Add new cryptos&quot;);\n        System.out.println(&quot;(4) Remove an existing crypto&quot;);\n        System.out.println(&quot;(5) Update wallet&quot;);\n        System.out.println(&quot;****************************************************************&quot;);\n        System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\n        return userInputInt.nextInt();\n    }\n\n    // This method is called for user choice 1\n    public static void viewWallet() {\n        double[] balance = readCryptoBalance();\n        System.out.println(balance);\n    }\n\n    // This method reads and returns the crypto balances from the file\n    public static double[] readCryptoBalance() {\n       double[] temp = new double [100];\n       int lineNumber =0;\n       try{\n\n           BufferedReader myFile = new BufferedReader (new FileReader(&quot;wallet.txt&quot;));\n           String sCurrentLine;\n           while ((sCurrentLine = myFile.readLine()) != null){\n               temp[lineNumber] =Integer.parseInt(sCurrentLine.split(&quot;\\t&quot;)[1]);\n               lineNumber++;\n           }\n           myFile.close();\n       } catch (IOException e){\n           System.out.println(&quot;I/O exception error when reading&quot;);\n       }\n       double[] balance = new double[lineNumber];\n       System.arraycopy(temp, 0, balance, 0, lineNumber);\n       return balance;\n    }\n}\n</code></pre>\n"},{"tags":["java","c","crc"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1407937124,"creation_date":1407929209,"answer_id":25284911,"question_id":25284556,"body_markdown":"    if (crc &amp; 0x01)\r\n\r\n\r\nThis tests if the lowest bit is set.    \r\n    \r\n    if ((crc &amp; 0x01) == 0)\r\n\r\nThis tests if the bottom bit is *clear.*\r\n\r\nYou should also use an unsigned right shift in the Java code (i.e. `&gt;&gt;&gt;` instead of `&gt;&gt;`, in two places), and mask the result with `0xff` before returning it.\r\n\r\n**EDIT** And finally you need to change this:\r\n\r\n    crc ^= b[i];\r\n\r\nto this:\r\n\r\n    crc ^= b[i] &amp; 0xff;\r\n\r\nHowever you should really throw it all away and look up the table driven method. It is eight times as fast as this.\r\n\r\n***EDIT 2*** Table-driven version, revised so as to implement `java.util.zip.Checksum:`\r\n\r\n    public class CRC8 implements Checksum\r\n    {\r\n    \tprivate final short\tinit;\r\n    \tprivate final short[]\tcrcTable = new short[256];\r\n    \tprivate short\tvalue;\r\n    \t\r\n    \t/**\r\n    \t * Construct a CRC8 specifying the polynomial and initial value.\r\n    \t * @param polynomial Polynomial, typically one of the POLYNOMIAL_* constants.\r\n    \t * @param init Initial value, typically either 0xff or zero.\r\n    \t */\r\n    \tpublic CRC8(int polynomial, short init)\r\n    \t{\r\n    \t\tthis.value = this.init = init;\r\n    \t\tfor (int dividend = 0; dividend &lt; 256; dividend++)\r\n    \t\t{\r\n    \t\t\tint\tremainder = dividend ;//&lt;&lt; 8;\r\n    \t\t\tfor (int bit = 0; bit &lt; 8; ++bit)\r\n    \t\t\t\tif ((remainder &amp; 0x01) != 0)\r\n    \t\t\t\t\tremainder = (remainder &gt;&gt;&gt; 1) ^ polynomial;\r\n    \t\t\t\telse\r\n    \t\t\t\t\tremainder &gt;&gt;&gt;= 1;\r\n    \t\t\tcrcTable[dividend] = (short)remainder;\r\n    \t\t}\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void update(byte[] buffer, int offset, int len)\r\n    \t{\r\n    \t\tfor (int i = 0; i &lt; len; i++)\r\n    \t\t{\r\n    \t\t\tint\tdata = buffer[offset+i] ^ value;\r\n    \t\t\tvalue = (short)(crcTable[data &amp; 0xff] ^ (value &lt;&lt; 8));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Updates the current checksum with the specified array of bytes.\r\n    \t * Equivalent to calling &lt;code&gt;update(buffer, 0, buffer.length)&lt;/code&gt;.\r\n    \t * @param buffer the byte array to update the checksum with\r\n    \t */\r\n    \tpublic void\tupdate(byte[] buffer)\r\n    \t{\r\n    \t\tupdate(buffer, 0, buffer.length);\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void update(int b)\r\n    \t{\r\n    \t\tupdate(new byte[]{(byte)b}, 0, 1);\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic long getValue()\r\n    \t{\r\n    \t\treturn value &amp; 0xff;\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void reset()\r\n    \t{\r\n    \t\tvalue = init;\r\n    \t}\r\n    \t\r\n    \tpublic static void\tmain(String[] args)\r\n    \t{\r\n    \t\tfinal int\tCRC_POLYNOM = 0x9C;\r\n    \t\tfinal byte\tCRC_INITIAL = (byte)0xFF;\r\n    \r\n    \t\tfinal byte[]\tdata = {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\r\n    \t\tCRC8\tcrc8 = new CRC8(CRC_POLYNOM, CRC_INITIAL);\r\n    \t\tcrc8.update(data,0,data.length);\r\n    \t\tSystem.out.println(&quot;Test successful:\\t&quot;+(crc8.getValue() == 29));\r\n    \t}\r\n    }","title":"Translate CRC8 from C to Java","body":"<pre><code>if (crc &amp; 0x01)\n</code></pre>\n\n<p>This tests if the lowest bit is set.    </p>\n\n<pre><code>if ((crc &amp; 0x01) == 0)\n</code></pre>\n\n<p>This tests if the bottom bit is <em>clear.</em></p>\n\n<p>You should also use an unsigned right shift in the Java code (i.e. <code>&gt;&gt;&gt;</code> instead of <code>&gt;&gt;</code>, in two places), and mask the result with <code>0xff</code> before returning it.</p>\n\n<p><strong>EDIT</strong> And finally you need to change this:</p>\n\n<pre><code>crc ^= b[i];\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>crc ^= b[i] &amp; 0xff;\n</code></pre>\n\n<p>However you should really throw it all away and look up the table driven method. It is eight times as fast as this.</p>\n\n<p><strong><em>EDIT 2</em></strong> Table-driven version, revised so as to implement <code>java.util.zip.Checksum:</code></p>\n\n<pre><code>public class CRC8 implements Checksum\n{\n    private final short init;\n    private final short[]   crcTable = new short[256];\n    private short   value;\n\n    /**\n     * Construct a CRC8 specifying the polynomial and initial value.\n     * @param polynomial Polynomial, typically one of the POLYNOMIAL_* constants.\n     * @param init Initial value, typically either 0xff or zero.\n     */\n    public CRC8(int polynomial, short init)\n    {\n        this.value = this.init = init;\n        for (int dividend = 0; dividend &lt; 256; dividend++)\n        {\n            int remainder = dividend ;//&lt;&lt; 8;\n            for (int bit = 0; bit &lt; 8; ++bit)\n                if ((remainder &amp; 0x01) != 0)\n                    remainder = (remainder &gt;&gt;&gt; 1) ^ polynomial;\n                else\n                    remainder &gt;&gt;&gt;= 1;\n            crcTable[dividend] = (short)remainder;\n        }\n    }\n\n    @Override\n    public void update(byte[] buffer, int offset, int len)\n    {\n        for (int i = 0; i &lt; len; i++)\n        {\n            int data = buffer[offset+i] ^ value;\n            value = (short)(crcTable[data &amp; 0xff] ^ (value &lt;&lt; 8));\n        }\n    }\n\n    /**\n     * Updates the current checksum with the specified array of bytes.\n     * Equivalent to calling &lt;code&gt;update(buffer, 0, buffer.length)&lt;/code&gt;.\n     * @param buffer the byte array to update the checksum with\n     */\n    public void update(byte[] buffer)\n    {\n        update(buffer, 0, buffer.length);\n    }\n\n    @Override\n    public void update(int b)\n    {\n        update(new byte[]{(byte)b}, 0, 1);\n    }\n\n    @Override\n    public long getValue()\n    {\n        return value &amp; 0xff;\n    }\n\n    @Override\n    public void reset()\n    {\n        value = init;\n    }\n\n    public static void  main(String[] args)\n    {\n        final int   CRC_POLYNOM = 0x9C;\n        final byte  CRC_INITIAL = (byte)0xFF;\n\n        final byte[]    data = {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\n        CRC8    crc8 = new CRC8(CRC_POLYNOM, CRC_INITIAL);\n        crc8.update(data,0,data.length);\n        System.out.println(\"Test successful:\\t\"+(crc8.getValue() == 29));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337801,"reputation":2525,"user_id":2056545,"accept_rate":80,"display_name":"michael_s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407929214,"creation_date":1407929214,"answer_id":25284912,"question_id":25284556,"body_markdown":"Your &quot;^&quot; actually already points like an arrow to the part where the mistake is\r\n\r\nthe equivalent of\r\n\r\n    if (crc &amp; 0x01)\r\nin Java would be (as java needs boolean expressions in if)\r\n\r\n    if ((crc &amp; 0x01) != 0)\r\nor\r\n\r\n    if ((crc &amp; 0x01) == 0x01)\r\n","title":"Translate CRC8 from C to Java","body":"<p>Your \"^\" actually already points like an arrow to the part where the mistake is</p>\n\n<p>the equivalent of</p>\n\n<pre><code>if (crc &amp; 0x01)\n</code></pre>\n\n<p>in Java would be (as java needs boolean expressions in if)</p>\n\n<pre><code>if ((crc &amp; 0x01) != 0)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if ((crc &amp; 0x01) == 0x01)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514556,"reputation":807,"user_id":3669782,"display_name":"user3669782"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1439384394,"creation_date":1416327267,"answer_id":26998845,"question_id":25284556,"body_markdown":"I created a complete/standalone C program of your question:\r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    #define CRC_POLYNOM 0x9c\r\n    #define CRC_PRESET 0xFF\r\n    \r\n    int main() {\r\n    \tunsigned int crc = CRC_PRESET;\r\n    \tunsigned char FRAME[] = {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\r\n    \tfor(int i = 0; i &lt; sizeof(FRAME); i++) {\r\n    \t\tcrc ^= FRAME[i];\r\n    \t\tfor(int j = 0; j &lt; 8; j++) {\r\n    \t\t\tif(crc &amp; 0x01) {\r\n    \t\t\t\tcrc = (crc &gt;&gt; 1) ^ CRC_POLYNOM;\r\n    \t\t\t} else {\r\n    \t\t\t\tcrc = (crc &gt;&gt; 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tprintf(&quot;%u\\n&quot;, crc);\r\n    \treturn 0;\r\n    }\r\n\r\nHere the equivalent Java code automatically created on https://www.mtsystems.com:\r\n\r\n    package demo;\r\n    \r\n    public class DemoTranslation {\r\n    \tpublic final static int CRC_POLYNOM = 0x9c;\r\n    \r\n    \tpublic final static int CRC_PRESET = 0xFF;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint crc_U = CRC_PRESET;\r\n    \t\tbyte[] frame_U = {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\r\n    \t\tfor(int i = 0; i &lt; frame_U.length; i++) {\r\n    \t\t\tcrc_U ^= Byte.toUnsignedInt(frame_U[i]);\r\n    \t\t\tfor(int j = 0; j &lt; 8; j++) {\r\n    \t\t\t\tif((crc_U &amp; 0x01) != 0) {\r\n    \t\t\t\t\tcrc_U = (crc_U &gt;&gt;&gt; 1) ^ CRC_POLYNOM;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tcrc_U = (crc_U &gt;&gt;&gt; 1);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(Integer.toUnsignedString(crc_U));\r\n    \t}\r\n    }","title":"Translate CRC8 from C to Java","body":"<p>I created a complete/standalone C program of your question:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#define CRC_POLYNOM 0x9c\n#define CRC_PRESET 0xFF\n\nint main() {\n    unsigned int crc = CRC_PRESET;\n    unsigned char FRAME[] = {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\n    for(int i = 0; i &lt; sizeof(FRAME); i++) {\n        crc ^= FRAME[i];\n        for(int j = 0; j &lt; 8; j++) {\n            if(crc &amp; 0x01) {\n                crc = (crc &gt;&gt; 1) ^ CRC_POLYNOM;\n            } else {\n                crc = (crc &gt;&gt; 1);\n            }\n        }\n    }\n    printf(\"%u\\n\", crc);\n    return 0;\n}\n</code></pre>\n\n<p>Here the equivalent Java code automatically created on <a href=\"https://www.mtsystems.com\" rel=\"nofollow\">https://www.mtsystems.com</a>:</p>\n\n<pre><code>package demo;\n\npublic class DemoTranslation {\n    public final static int CRC_POLYNOM = 0x9c;\n\n    public final static int CRC_PRESET = 0xFF;\n\n    public static void main(String[] args) {\n        int crc_U = CRC_PRESET;\n        byte[] frame_U = {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\n        for(int i = 0; i &lt; frame_U.length; i++) {\n            crc_U ^= Byte.toUnsignedInt(frame_U[i]);\n            for(int j = 0; j &lt; 8; j++) {\n                if((crc_U &amp; 0x01) != 0) {\n                    crc_U = (crc_U &gt;&gt;&gt; 1) ^ CRC_POLYNOM;\n                } else {\n                    crc_U = (crc_U &gt;&gt;&gt; 1);\n                }\n            }\n        }\n        System.out.println(Integer.toUnsignedString(crc_U));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3204172,"reputation":83,"user_id":2705543,"display_name":"whyameye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645485218,"creation_date":1645485218,"answer_id":71214103,"question_id":25284556,"body_markdown":"With the accepted answer, I could not get checksums that matched online CRC8 calculators such as [http://www.sunshine2k.de/coding/javascript/crc/crc_js.html][1].\r\n\r\nSo I translated https://github.com/RobTillaart/CRC/blob/master/CRC8.cpp from C to Java and tested successfully with various initial values and Polynomials:\r\n\r\n        final byte[] data = {0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39}; // sample data\r\n        final byte INIT_VAL = (byte) 0x00;\r\n        final byte POLY = 0x07;\r\n\r\n        int _crc = INIT_VAL;\r\n        for (int j = 0; j &lt; data.length; j++) {\r\n            int value = data[j];\r\n            _crc = _crc ^ value;\r\n            for (int i = 8; i &gt; 0; i--) {\r\n                if ((_crc &amp; (1 &lt;&lt; 7)) &gt; 0) {\r\n                    _crc &lt;&lt;= 1;\r\n                    _crc ^= POLY;\r\n                } else {\r\n                    _crc &lt;&lt;= 1;\r\n                }\r\n            }\r\n        }\r\n        result = (_crc &amp; 0xff);\r\n\r\n  [1]: http://www.sunshine2k.de/coding/javascript/crc/crc_js.html","title":"Translate CRC8 from C to Java","body":"<p>With the accepted answer, I could not get checksums that matched online CRC8 calculators such as <a href=\"http://www.sunshine2k.de/coding/javascript/crc/crc_js.html\" rel=\"nofollow noreferrer\">http://www.sunshine2k.de/coding/javascript/crc/crc_js.html</a>.</p>\n<p>So I translated <a href=\"https://github.com/RobTillaart/CRC/blob/master/CRC8.cpp\" rel=\"nofollow noreferrer\">https://github.com/RobTillaart/CRC/blob/master/CRC8.cpp</a> from C to Java and tested successfully with various initial values and Polynomials:</p>\n<pre><code>    final byte[] data = {0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39}; // sample data\n    final byte INIT_VAL = (byte) 0x00;\n    final byte POLY = 0x07;\n\n    int _crc = INIT_VAL;\n    for (int j = 0; j &lt; data.length; j++) {\n        int value = data[j];\n        _crc = _crc ^ value;\n        for (int i = 8; i &gt; 0; i--) {\n            if ((_crc &amp; (1 &lt;&lt; 7)) &gt; 0) {\n                _crc &lt;&lt;= 1;\n                _crc ^= POLY;\n            } else {\n                _crc &lt;&lt;= 1;\n            }\n        }\n    }\n    result = (_crc &amp; 0xff);\n</code></pre>\n"}],"owner":{"account_id":2022243,"reputation":10594,"user_id":1808126,"accept_rate":52,"display_name":"Alexander Ciesielski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8422,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25284911,"answer_count":4,"score":3,"last_activity_date":1645485218,"creation_date":1407928083,"question_id":25284556,"body_markdown":"I received a piece of code in C which calculates a CRC8-value of a byte array.\r\nI need to translate it to Java.\r\n\r\nHere the __C__ Code:\r\n\r\n    CRC_POLYNOM = 0x9c;\r\n    CRC_PRESET = 0xFF;\r\n\r\n    unsigned int CRC = CRC_PRESET;\r\n    for (i = 0; i &lt; Len; i++)\r\n    {\r\n      crc ^= FRAME[i];\r\n      for (j = 0; j &lt; 8; j++)\r\n      {\r\n        if (crc &amp; 0x01)\r\n            crc = (crc &gt;&gt; 1) ^ CRC_POLYNOM;\r\n        else\r\n            crc = (crc &gt;&gt; 1);\r\n      }\r\n    }\r\n\r\nWhat I have managed to do is this in __Java__:\r\n\r\n    public static long calculateCRC8(byte[] b, int len) {\r\n      long crc = CRC_PRESET;\r\n      for (int i = 0; i &lt; len; i++) {\r\n        crc ^= b[i];\r\n        for (int j = 0; j &lt; 8; j++) {\r\n          if ((crc &amp; 0x01) == 0)\r\n            crc = (crc &gt;&gt; 1) ^ CRC_POLYNOM;\r\n          else\r\n            crc = crc &gt;&gt; 1;\r\n        }\r\n      }\r\n    return crc;\r\n    }\r\n\r\nFor a sample byte-array:\r\n\r\n    byte[] b = new byte[] {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\r\n\r\nthe __C__ code returns __29__, my __Java__ code returns __44__ though.\r\nWhat did I do wrong? \r\n\r\nI think this is because of Java&#39;s signed-only datatypes, so how can I fix this?","title":"Translate CRC8 from C to Java","body":"<p>I received a piece of code in C which calculates a CRC8-value of a byte array.\nI need to translate it to Java.</p>\n\n<p>Here the <strong>C</strong> Code:</p>\n\n<pre><code>CRC_POLYNOM = 0x9c;\nCRC_PRESET = 0xFF;\n\nunsigned int CRC = CRC_PRESET;\nfor (i = 0; i &lt; Len; i++)\n{\n  crc ^= FRAME[i];\n  for (j = 0; j &lt; 8; j++)\n  {\n    if (crc &amp; 0x01)\n        crc = (crc &gt;&gt; 1) ^ CRC_POLYNOM;\n    else\n        crc = (crc &gt;&gt; 1);\n  }\n}\n</code></pre>\n\n<p>What I have managed to do is this in <strong>Java</strong>:</p>\n\n<pre><code>public static long calculateCRC8(byte[] b, int len) {\n  long crc = CRC_PRESET;\n  for (int i = 0; i &lt; len; i++) {\n    crc ^= b[i];\n    for (int j = 0; j &lt; 8; j++) {\n      if ((crc &amp; 0x01) == 0)\n        crc = (crc &gt;&gt; 1) ^ CRC_POLYNOM;\n      else\n        crc = crc &gt;&gt; 1;\n    }\n  }\nreturn crc;\n}\n</code></pre>\n\n<p>For a sample byte-array:</p>\n\n<pre><code>byte[] b = new byte[] {1, 56, -23, 3, 0, 19, 0, 0, 2, 0, 3, 13, 8, -34, 7, 9, 42, 18, 26, -5, 54, 11, -94, -46, -128, 4, 48, 52, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1, -32, -80, 0, 98, -5, 71, 0, 64, 0, 0, 0, 0, -116, 1, 104, 2};\n</code></pre>\n\n<p>the <strong>C</strong> code returns <strong>29</strong>, my <strong>Java</strong> code returns <strong>44</strong> though.\nWhat did I do wrong? </p>\n\n<p>I think this is because of Java's signed-only datatypes, so how can I fix this?</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"comments":[{"owner":{"account_id":3311687,"reputation":2518,"user_id":2785047,"accept_rate":73,"display_name":"Daniel Bo"},"score":0,"creation_date":1389023477,"post_id":20953549,"comment_id":31472093,"body_markdown":"i think you are trying to delete movies by id? or? which movies are you trying to delete?","body":"i think you are trying to delete movies by id? or? which movies are you trying to delete?"},{"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"score":0,"creation_date":1389023602,"post_id":20953549,"comment_id":31472158,"body_markdown":"Any movies that ARE in the database that are NOT in the supplied HashSet should be deleted","body":"Any movies that ARE in the database that are NOT in the supplied HashSet should be deleted"},{"owner":{"account_id":3013154,"reputation":6159,"user_id":2556111,"accept_rate":38,"display_name":"ramaral"},"score":0,"creation_date":1389023720,"post_id":20953549,"comment_id":31472217,"body_markdown":"Yes it is safe. But is preferable if you can do a Delete statement to deleted that rows at once","body":"Yes it is safe. But is preferable if you can do a Delete statement to deleted that rows at once"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1389023596,"creation_date":1389023596,"answer_id":20953773,"question_id":20953549,"body_markdown":"From a code safety standpoint, this should be OK, assuming that the result set of your query is less than 1MB. In that case, the `Cursor` holds in heap space the entire result set, so it is insulated from any changes to the underlying database.\r\n\r\nThat being said, you may want to build up a list of rows to delete, simply so you can delete them in a single statement, rather than a bunch of individual statements (though wrapping those individual statements in a transaction may give you similar performance characteristics).\r\n","title":"Is it safe to delete rows from Android SQLite database while iterating cursor","body":"<p>From a code safety standpoint, this should be OK, assuming that the result set of your query is less than 1MB. In that case, the <code>Cursor</code> holds in heap space the entire result set, so it is insulated from any changes to the underlying database.</p>\n\n<p>That being said, you may want to build up a list of rows to delete, simply so you can delete them in a single statement, rather than a bunch of individual statements (though wrapping those individual statements in a transaction may give you similar performance characteristics).</p>\n"}],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20953773,"answer_count":1,"score":4,"last_activity_date":1645485172,"creation_date":1389022907,"question_id":20953549,"body_markdown":"For example:\r\n\r\n    public void removeStaleMovies(Set&lt;String&gt; updatedMovieList) {\r\n\t\tCursor cur = this.getReadableDatabase().rawQuery(&quot;SELECT id, title, year FROM movie&quot;, null);\r\n\t\tcur.moveToFirst();\r\n\t\twhile (!cur.isAfterLast()) {\r\n\t\t\tString title = cur.getString(1);\r\n\t\t\tString year = cur.getString(2);\r\n\t\t\tif (!updatedMovieList.contains(title + &quot;-&quot; + year)) {\r\n\t\t\t      // delete the row where &#39;id&#39; = cur.getString(0)\r\n                  // OR, delete the row using the object at the cursor&#39;s current position, if that&#39;s possible\r\n                  // OR, if deletion isn&#39;t safe while iterating, build up a list of row id&#39;s and run a DELETE statement after iteration is finished    \r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nIs deletion safe to do? Or can it result in some unpredictable behavior? I am aware of [this similar question][1], but I&#39;m still unsure.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4929103/delete-current-row-in-sqlite3-while-iterating-over-a-result-set","title":"Is it safe to delete rows from Android SQLite database while iterating cursor","body":"<p>For example:</p>\n\n<pre><code>public void removeStaleMovies(Set&lt;String&gt; updatedMovieList) {\n    Cursor cur = this.getReadableDatabase().rawQuery(\"SELECT id, title, year FROM movie\", null);\n    cur.moveToFirst();\n    while (!cur.isAfterLast()) {\n        String title = cur.getString(1);\n        String year = cur.getString(2);\n        if (!updatedMovieList.contains(title + \"-\" + year)) {\n              // delete the row where 'id' = cur.getString(0)\n              // OR, delete the row using the object at the cursor's current position, if that's possible\n              // OR, if deletion isn't safe while iterating, build up a list of row id's and run a DELETE statement after iteration is finished    \n        }\n\n    }\n}\n</code></pre>\n\n<p>Is deletion safe to do? Or can it result in some unpredictable behavior? I am aware of <a href=\"https://stackoverflow.com/questions/4929103/delete-current-row-in-sqlite3-while-iterating-over-a-result-set\">this similar question</a>, but I'm still unsure.</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645485963,"post_id":71214089,"comment_id":125879584,"body_markdown":"If you read the Javadoc for `Thread.interrupt()`, this is mentioned: *If this thread is blocked in an invocation of the wait(), wait(long), or wait(long, int) methods of the Object class, or of the join(), join(long), join(long, int), sleep(long), or sleep(long, int) methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.*","body":"If you read the Javadoc for <code>Thread.interrupt()</code>, this is mentioned: <i>If this thread is blocked in an invocation of the wait(), wait(long), or wait(long, int) methods of the Object class, or of the join(), join(long), join(long, int), sleep(long), or sleep(long, int) methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.</i>"},{"owner":{"account_id":22028243,"reputation":1,"user_id":16315206,"display_name":"devwannabe"},"score":0,"creation_date":1645487151,"post_id":71214089,"comment_id":125879794,"body_markdown":"Yes!!!!! That&#39;s exactly what I was looking for! Many thanks!","body":"Yes!!!!! That&#39;s exactly what I was looking for! Many thanks!"}],"owner":{"account_id":22028243,"reputation":1,"user_id":16315206,"display_name":"devwannabe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645487157,"answer_count":0,"score":0,"last_activity_date":1645485049,"creation_date":1645485049,"question_id":71214089,"body_markdown":"Im having a problem with Thread that I couldn&#39;t understand.\r\n```\r\npublic class Hurry{\r\n\r\n    public static void main(String[] args) {\r\n        Lazy lazy = new Lazy();\r\n        lazy.start();\r\n        int contadorSegundos=0;\r\n        while(lazy.isAlive()){\r\n            if(contadorSegundos==5){\r\n                lazy.interrupt();\r\n                System.out.println(Thread.currentThread().getName()+&quot; &#161;&#161;Yo me voy!!&quot;);\r\n                break;\r\n            }\r\n            System.out.println(Thread.currentThread().getName()+&quot; &#191;Te queda mucho?&quot;);\r\n            try {\r\n                Thread.sleep(1000);\r\n                contadorSegundos++;\r\n            }catch(InterruptedException e){}\r\n\r\n        }//En clase no hemos conseguido la concurrencia, me has dicho que te ponga este comentario.\r\n        if(contadorSegundos&lt;5){\r\n            System.out.println(Thread.currentThread().getName()+&quot; &#161;&#161;Por fin!&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class Lazy extends Thread{\r\n    public void run() {\r\n        int aleatorio = ((int)(Math.random()*(9-2)+2));\r\n        for(int i = 0; i&lt;aleatorio;i++){\r\n            switch ((int)(Math.random()*(4-1)+1)){\r\n                case 1:\r\n                    System.out.println(Thread.currentThread().getName()+&quot; Me estoy vistiendo&quot;);\r\n                    break;\r\n                case 2:\r\n                    System.out.println(Thread.currentThread().getName()+&quot; Me queda un segundo&quot;);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(Thread.currentThread().getName()+&quot; Esto no me queda bien&quot;);\r\n            }\r\n            try {\r\n                Thread.sleep(1000);\r\n            }catch (InterruptedException e){}\r\n            boolean xd = Thread.currentThread().isInterrupted();\r\n            if(Thread.currentThread().isInterrupted()){\r\n                System.out.println(Thread.currentThread().getName()+&quot; &#161;&#161;Que cansino eres!&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(!Thread.currentThread().isInterrupted()){\r\n            System.out.println(Thread.currentThread().getName()+&quot; &#161;&#161;Ya estoy!&quot;);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nIm practicing concurrency, and when the main executes lazy.interrupt(), the Thread lazy don&#39;t detects the interruption with Thread.currentThread().isInterrupted().&lt;br&gt;\r\nThe code is supposed to detect when the main interrupts him, but I don&#39;t know why it doesn&#39;t work.\r\n&lt;br&gt;Any idea? Many thanks!","title":"How can I write this with concurrency on Java?","body":"<p>Im having a problem with Thread that I couldn't understand.</p>\n<pre><code>public class Hurry{\n\n    public static void main(String[] args) {\n        Lazy lazy = new Lazy();\n        lazy.start();\n        int contadorSegundos=0;\n        while(lazy.isAlive()){\n            if(contadorSegundos==5){\n                lazy.interrupt();\n                System.out.println(Thread.currentThread().getName()+&quot; Yo me voy!!&quot;);\n                break;\n            }\n            System.out.println(Thread.currentThread().getName()+&quot; Te queda mucho?&quot;);\n            try {\n                Thread.sleep(1000);\n                contadorSegundos++;\n            }catch(InterruptedException e){}\n\n        }//En clase no hemos conseguido la concurrencia, me has dicho que te ponga este comentario.\n        if(contadorSegundos&lt;5){\n            System.out.println(Thread.currentThread().getName()+&quot; Por fin!&quot;);\n        }\n    }\n\n}\n</code></pre>\n<pre><code>public class Lazy extends Thread{\n    public void run() {\n        int aleatorio = ((int)(Math.random()*(9-2)+2));\n        for(int i = 0; i&lt;aleatorio;i++){\n            switch ((int)(Math.random()*(4-1)+1)){\n                case 1:\n                    System.out.println(Thread.currentThread().getName()+&quot; Me estoy vistiendo&quot;);\n                    break;\n                case 2:\n                    System.out.println(Thread.currentThread().getName()+&quot; Me queda un segundo&quot;);\n                    break;\n                case 3:\n                    System.out.println(Thread.currentThread().getName()+&quot; Esto no me queda bien&quot;);\n            }\n            try {\n                Thread.sleep(1000);\n            }catch (InterruptedException e){}\n            boolean xd = Thread.currentThread().isInterrupted();\n            if(Thread.currentThread().isInterrupted()){\n                System.out.println(Thread.currentThread().getName()+&quot; Que cansino eres!&quot;);\n                break;\n            }\n        }\n\n        if(!Thread.currentThread().isInterrupted()){\n            System.out.println(Thread.currentThread().getName()+&quot; Ya estoy!&quot;);\n        }\n\n    }\n\n}\n\n\n</code></pre>\n<p>Im practicing concurrency, and when the main executes lazy.interrupt(), the Thread lazy don't detects the interruption with Thread.currentThread().isInterrupted().<br>\nThe code is supposed to detect when the main interrupts him, but I don't know why it doesn't work.\n<br>Any idea? Many thanks!</p>\n"},{"tags":["java","parsing"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":4,"creation_date":1645464745,"post_id":71210550,"comment_id":125873389,"body_markdown":"Your regex is wrong. Use `line.split(&quot;\\\\s+&quot;);` to split on one or more space char.","body":"Your regex is wrong. Use <code>line.split(&quot;\\\\s+&quot;);</code> to split on one or more space char."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1645465156,"post_id":71210550,"comment_id":125873518,"body_markdown":"even with this  `String[] s = line.split(&quot; \\\\s+&quot;);` i  get the same  output as i posted up","body":"even with this  <code>String[] s = line.split(&quot; \\\\s+&quot;);</code> i  get the same  output as i posted up"},{"owner":{"account_id":66954,"reputation":1813,"user_id":196175,"accept_rate":86,"display_name":"TheJavaGuy-Ivan Milosavljevi"},"score":2,"creation_date":1645465829,"post_id":71210550,"comment_id":125873746,"body_markdown":"@BirsanVictor You have an extra space at the beginning of the regex. It should be `&quot;\\\\s+&quot;`, not `&quot; \\\\s+&quot;`.","body":"@BirsanVictor You have an extra space at the beginning of the regex. It should be <code>&quot;\\\\s+&quot;</code>, not <code>&quot; \\\\s+&quot;</code>."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1645466072,"post_id":71210550,"comment_id":125873816,"body_markdown":"Apparently something changed but i  get ths now \n`Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2006-1-25&#39; could not be parsed at index 5`\nI assume is because my date is  `2006-1-25` instead of  `2006-01-25` \nHow i can make it to read it  liek this format ?","body":"Apparently something changed but i  get ths now  <code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2006-1-25&#39; could not be parsed at index 5</code> I assume is because my date is  <code>2006-1-25</code> instead of  <code>2006-01-25</code>  How i can make it to read it  liek this format ?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1645466852,"post_id":71210550,"comment_id":125874078,"body_markdown":"use a DateTimeFormater : `LocalDate.parse(s[2], DateTimeFormatter.ofPattern(&quot;yyyy-M-d&quot;))`","body":"use a DateTimeFormater : <code>LocalDate.parse(s[2], DateTimeFormatter.ofPattern(&quot;yyyy-M-d&quot;))</code>"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1645467065,"post_id":71210550,"comment_id":125874142,"body_markdown":"That  is something i did not think about ,  I mean I was thinking to change the date formate but it was not what i was thinking of .\nThank you for  help and explenations  :)","body":"That  is something i did not think about ,  I mean I was thinking to change the date formate but it was not what i was thinking of . Thank you for  help and explenations  :)"},{"owner":{"account_id":20104196,"reputation":1025,"user_id":14742095,"display_name":"Michael Zur"},"score":1,"creation_date":1645467725,"post_id":71210550,"comment_id":125874390,"body_markdown":"You also have a character ``` at the beggining and end ot your .txt file. If you are not allowed to change the .txt file you can simply do this check `if (s.length != 3) break;`","body":"You also have a character ``` at the beggining and end ot your .txt file. If you are not allowed to change the .txt file you can simply do this check <code>if (s.length != 3) break;</code>"}],"answers":[{"tags":[],"owner":{"account_id":18168949,"reputation":90,"user_id":13218973,"display_name":"Mbuso Kotobe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645484674,"creation_date":1645470171,"answer_id":71211689,"question_id":71210550,"body_markdown":"The solution has been modified to fit your constraints which is to not modify the file anyhow so I replaced the contents of the text file with the old ones which you&#39;ve provided and modified your program to work with the file as it is!\r\n\r\nMain4.java\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n//Needs a parser\r\npublic class Main4\r\n{\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        List&lt;Visit&gt; visits = readAndParse();\r\n        System.out.println(visits);\r\n    }\r\n\r\n    public static List&lt;Visit&gt; readAndParse() throws IOException {\r\n        int id, patientId;\r\n        DateTimeFormatter date;\r\n        List&lt;Visit&gt; visits = new ArrayList&lt;&gt;();\r\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;wizyty.txt&quot;));\r\n        bufferedReader.readLine();\r\n        String line;\r\n        while ((line = bufferedReader.readLine()) != null)\r\n        {\r\n            if(line.charAt(0) == &#39;`&#39;) continue;\r\n            else\r\n            {\r\n                String[] s = line.split(&quot;\\\\s&quot;);\r\n                s = removeEmptyTokens(s);\r\n                for (int i = 0; i &lt; s.length; i++)\r\n                {\r\n                    visits.add(\r\n                            new Visit(Integer.parseInt(s[0]),\r\n                                    Integer.parseInt(s[1]),\r\n                                    DateTimeFormatter.ofPattern(s[2]))\r\n                    );\r\n                }\r\n            }\r\n\r\n        }\r\n        bufferedReader.close();\r\n        return visits;\r\n    }\r\n\r\n    private static String[] removeEmptyTokens (String[] text)\r\n    {\r\n        ArrayList&lt;String&gt; newText = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; text.length; i++)\r\n        {\r\n            if(text[i].isEmpty()) continue;\r\n            else newText.add(text[i]);;\r\n        }\r\n        return replaceElements(newText, text);\r\n    }\r\n\r\n    private static String[] replaceElements(ArrayList&lt;String&gt; list, String[] array)\r\n    {\r\n        array = new String[list.size()];\r\n        for (int i = 0; i &lt; list.size(); ++i)\r\n        {\r\n            array[i] = list.get(i);\r\n        }\r\n        return array;\r\n    }\r\n}\r\n```\r\n\r\nVisits.Java\r\n```\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class Visit\r\n{\r\n    private int doctorId;\r\n    private int patientId;\r\n    private DateTimeFormatter visitDate;\r\n\r\n    public Visit(int doctorId, int patientId, DateTimeFormatter visitDate) {\r\n        this.doctorId = doctorId;\r\n        this.patientId = patientId;\r\n        this.visitDate = visitDate;\r\n    }\r\n\r\n    public int getDoctorId() {\r\n        return doctorId;\r\n    }\r\n\r\n    public void setDoctorId(int doctorId) {\r\n        this.doctorId = doctorId;\r\n    }\r\n\r\n    public int getPatientId() {\r\n        return patientId;\r\n    }\r\n\r\n    public void setPatientId(int patientId) {\r\n        this.patientId = patientId;\r\n    }\r\n\r\n    public DateTimeFormatter getVisitDate() {\r\n        return visitDate;\r\n    }\r\n\r\n    public void setVisitDate(DateTimeFormatter visitDate) {\r\n        this.visitDate = visitDate;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Visit{&quot; +\r\n                &quot;doctorId=&quot; + doctorId +\r\n                &quot;, patientId=&quot; + patientId +\r\n                &quot;, visitDate=&quot; + visitDate +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nText file returned to init state\r\n```\r\n`Id_doctor  Id_patient  Date_visit\r\n23  124 2006-12-13\r\n23  172 2006-1-25\r\n23  191 2006-2-1\r\n23  191 2006-9-26\r\n23  207 2006-9-25\r\n23  252 2006-3-6\r\n23  272 2006-10-26\r\n23  272 2007-2-13\r\n23  291 2006-1-9\r\n23  291 2006-6-6\r\n23  416 2006-1-7\r\n25  100 2006-8-4\r\n25  135 2006-9-24\r\n25  135 2007-4-7\r\n25  248 2006-5-26\r\n26  238 2006-8-2\r\n26  238 2007-3-12\r\n26  249 2006-10-19\r\n26  401 2006-4-9\r\n28  111 2006-2-3\r\n28  161 2006-10-15\r\n28  209 2007-4-1\r\n28  246 2006-7-17\r\n28  246 2006-9-27\r\n`\r\n```","title":"Read data from file and parse it","body":"<p>The solution has been modified to fit your constraints which is to not modify the file anyhow so I replaced the contents of the text file with the old ones which you've provided and modified your program to work with the file as it is!</p>\n<p>Main4.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\n//Needs a parser\npublic class Main4\n{\n    public static void main(String[] args) throws IOException\n    {\n        List&lt;Visit&gt; visits = readAndParse();\n        System.out.println(visits);\n    }\n\n    public static List&lt;Visit&gt; readAndParse() throws IOException {\n        int id, patientId;\n        DateTimeFormatter date;\n        List&lt;Visit&gt; visits = new ArrayList&lt;&gt;();\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;wizyty.txt&quot;));\n        bufferedReader.readLine();\n        String line;\n        while ((line = bufferedReader.readLine()) != null)\n        {\n            if(line.charAt(0) == '`') continue;\n            else\n            {\n                String[] s = line.split(&quot;\\\\s&quot;);\n                s = removeEmptyTokens(s);\n                for (int i = 0; i &lt; s.length; i++)\n                {\n                    visits.add(\n                            new Visit(Integer.parseInt(s[0]),\n                                    Integer.parseInt(s[1]),\n                                    DateTimeFormatter.ofPattern(s[2]))\n                    );\n                }\n            }\n\n        }\n        bufferedReader.close();\n        return visits;\n    }\n\n    private static String[] removeEmptyTokens (String[] text)\n    {\n        ArrayList&lt;String&gt; newText = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; text.length; i++)\n        {\n            if(text[i].isEmpty()) continue;\n            else newText.add(text[i]);;\n        }\n        return replaceElements(newText, text);\n    }\n\n    private static String[] replaceElements(ArrayList&lt;String&gt; list, String[] array)\n    {\n        array = new String[list.size()];\n        for (int i = 0; i &lt; list.size(); ++i)\n        {\n            array[i] = list.get(i);\n        }\n        return array;\n    }\n}\n</code></pre>\n<p>Visits.Java</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\npublic class Visit\n{\n    private int doctorId;\n    private int patientId;\n    private DateTimeFormatter visitDate;\n\n    public Visit(int doctorId, int patientId, DateTimeFormatter visitDate) {\n        this.doctorId = doctorId;\n        this.patientId = patientId;\n        this.visitDate = visitDate;\n    }\n\n    public int getDoctorId() {\n        return doctorId;\n    }\n\n    public void setDoctorId(int doctorId) {\n        this.doctorId = doctorId;\n    }\n\n    public int getPatientId() {\n        return patientId;\n    }\n\n    public void setPatientId(int patientId) {\n        this.patientId = patientId;\n    }\n\n    public DateTimeFormatter getVisitDate() {\n        return visitDate;\n    }\n\n    public void setVisitDate(DateTimeFormatter visitDate) {\n        this.visitDate = visitDate;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Visit{&quot; +\n                &quot;doctorId=&quot; + doctorId +\n                &quot;, patientId=&quot; + patientId +\n                &quot;, visitDate=&quot; + visitDate +\n                '}';\n    }\n}\n\n</code></pre>\n<p>Text file returned to init state</p>\n<pre><code>`Id_doctor  Id_patient  Date_visit\n23  124 2006-12-13\n23  172 2006-1-25\n23  191 2006-2-1\n23  191 2006-9-26\n23  207 2006-9-25\n23  252 2006-3-6\n23  272 2006-10-26\n23  272 2007-2-13\n23  291 2006-1-9\n23  291 2006-6-6\n23  416 2006-1-7\n25  100 2006-8-4\n25  135 2006-9-24\n25  135 2007-4-7\n25  248 2006-5-26\n26  238 2006-8-2\n26  238 2007-3-12\n26  249 2006-10-19\n26  401 2006-4-9\n28  111 2006-2-3\n28  161 2006-10-15\n28  209 2007-4-1\n28  246 2006-7-17\n28  246 2006-9-27\n`\n</code></pre>\n"}],"owner":{"display_name":"user17695302"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71211689,"answer_count":1,"score":0,"last_activity_date":1645484674,"creation_date":1645464367,"question_id":71210550,"body_markdown":"I try to read the data from this file txt\r\nso later on I can get for example the bigest id or  recent date of visit and so on  :\r\n\r\n    `Id_doctor\tId_patient\tDate_visit\r\n    23\t124\t2006-12-13\r\n    23\t172\t2006-1-25\r\n    23\t191\t2006-2-1\r\n    23\t191\t2006-9-26\r\n    23\t207\t2006-9-25\r\n    23\t252\t2006-3-6\r\n    23\t272\t2006-10-26\r\n    23\t272\t2007-2-13\r\n    23\t291\t2006-1-9\r\n    23\t291\t2006-6-6\r\n    23\t416\t2006-1-7\r\n    25\t100\t2006-8-4\r\n    25\t135\t2006-9-24\r\n    25\t135\t2007-4-7\r\n    25\t248\t2006-5-26\r\n    26\t238\t2006-8-2\r\n    26\t238\t2007-3-12\r\n    26\t249\t2006-10-19\r\n    26\t401\t2006-4-9\r\n    28\t111\t2006-2-3\r\n    28\t161\t2006-10-15\r\n    28\t209\t2007-4-1\r\n    28\t246\t2006-7-17\r\n    28\t246\t2006-9-27\r\n    `\r\nThis is the class that i create  for the  txt file :\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    public class Visit {\r\n        private int doctorId;\r\n        private int patientId;\r\n        private LocalDate visitDate;\r\n    \r\n        public Visit(int doctorId, int patientId, LocalDate visitDate) {\r\n            this.doctorId = doctorId;\r\n            this.patientId = patientId;\r\n            this.visitDate = visitDate;\r\n        }\r\n    \r\n        public int getDoctorId() {\r\n            return doctorId;\r\n        }\r\n    \r\n        public void setDoctorId(int doctorId) {\r\n            this.doctorId = doctorId;\r\n        }\r\n    \r\n        public int getPatientId() {\r\n            return patientId;\r\n        }\r\n    \r\n        public void setPatientId(int patientId) {\r\n            this.patientId = patientId;\r\n        }\r\n    \r\n        public LocalDate getVisitDate() {\r\n            return visitDate;\r\n        }\r\n    \r\n        public void setVisitDate(LocalDate visitDate) {\r\n            this.visitDate = visitDate;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Visit{&quot; +\r\n                    &quot;doctorId=&quot; + doctorId +\r\n                    &quot;, patientId=&quot; + patientId +\r\n                    &quot;, visitDate=&quot; + visitDate +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n here is my code where I read the file and parse it \r\nso I can extrat what I need to after  :\r\n\r\n \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main4 {\r\n        public static void main(String[] args) throws IOException {\r\n            List&lt;Visit&gt; visits = readAndParse();\r\n            System.out.println(visits);\r\n        }\r\n    \r\n        public static List&lt;Visit&gt; readAndParse() throws IOException {\r\n            List&lt;Visit&gt; visits = new ArrayList&lt;&gt;();\r\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;wizyty.txt&quot;));\r\n            bufferedReader.readLine();\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                String[] s = line.split(&quot; \\\\s&quot;);\r\n                visits.add(new Visit(Integer.parseInt(s[0]), Integer.parseInt(s[1]), LocalDate.parse(s[2])));\r\n    \r\n            }\r\n            bufferedReader.close();\r\n            return visits;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nWhen I try to rune it I get the following output:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;23\t124\t2006-12-13&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:668)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n    \tat victor.Main4.readAndParse(Main4.java:31)\r\n    \tat victor.Main4.main(Main4.java:16)\r\n\r\n\r\nIs there  anyone that can explan to me what I do wrong ?\r\nThanks","title":"Read data from file and parse it","body":"<p>I try to read the data from this file txt\nso later on I can get for example the bigest id or  recent date of visit and so on  :</p>\n<pre><code>`Id_doctor  Id_patient  Date_visit\n23  124 2006-12-13\n23  172 2006-1-25\n23  191 2006-2-1\n23  191 2006-9-26\n23  207 2006-9-25\n23  252 2006-3-6\n23  272 2006-10-26\n23  272 2007-2-13\n23  291 2006-1-9\n23  291 2006-6-6\n23  416 2006-1-7\n25  100 2006-8-4\n25  135 2006-9-24\n25  135 2007-4-7\n25  248 2006-5-26\n26  238 2006-8-2\n26  238 2007-3-12\n26  249 2006-10-19\n26  401 2006-4-9\n28  111 2006-2-3\n28  161 2006-10-15\n28  209 2007-4-1\n28  246 2006-7-17\n28  246 2006-9-27\n`\n</code></pre>\n<p>This is the class that i create  for the  txt file :</p>\n<pre><code>import java.time.LocalDate;\n\npublic class Visit {\n    private int doctorId;\n    private int patientId;\n    private LocalDate visitDate;\n\n    public Visit(int doctorId, int patientId, LocalDate visitDate) {\n        this.doctorId = doctorId;\n        this.patientId = patientId;\n        this.visitDate = visitDate;\n    }\n\n    public int getDoctorId() {\n        return doctorId;\n    }\n\n    public void setDoctorId(int doctorId) {\n        this.doctorId = doctorId;\n    }\n\n    public int getPatientId() {\n        return patientId;\n    }\n\n    public void setPatientId(int patientId) {\n        this.patientId = patientId;\n    }\n\n    public LocalDate getVisitDate() {\n        return visitDate;\n    }\n\n    public void setVisitDate(LocalDate visitDate) {\n        this.visitDate = visitDate;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Visit{&quot; +\n                &quot;doctorId=&quot; + doctorId +\n                &quot;, patientId=&quot; + patientId +\n                &quot;, visitDate=&quot; + visitDate +\n                '}';\n    }\n}\n</code></pre>\n<p>here is my code where I read the file and parse it\nso I can extrat what I need to after  :</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main4 {\n    public static void main(String[] args) throws IOException {\n        List&lt;Visit&gt; visits = readAndParse();\n        System.out.println(visits);\n    }\n\n    public static List&lt;Visit&gt; readAndParse() throws IOException {\n        List&lt;Visit&gt; visits = new ArrayList&lt;&gt;();\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;wizyty.txt&quot;));\n        bufferedReader.readLine();\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            String[] s = line.split(&quot; \\\\s&quot;);\n            visits.add(new Visit(Integer.parseInt(s[0]), Integer.parseInt(s[1]), LocalDate.parse(s[2])));\n\n        }\n        bufferedReader.close();\n        return visits;\n    }\n\n}\n</code></pre>\n<p>When I try to rune it I get the following output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;23   124 2006-12-13&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:668)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at victor.Main4.readAndParse(Main4.java:31)\n    at victor.Main4.main(Main4.java:16)\n</code></pre>\n<p>Is there  anyone that can explan to me what I do wrong ?\nThanks</p>\n"},{"tags":["c#","java"],"comments":[{"owner":{"account_id":7099,"reputation":22940,"user_id":12178,"accept_rate":97,"display_name":"Shoban"},"score":2,"creation_date":1288671521,"post_id":4074869,"comment_id":4380082,"body_markdown":"Why not ask your university teacher?","body":"Why not ask your university teacher?"},{"owner":{"account_id":69161,"reputation":11035,"user_id":201393,"accept_rate":94,"display_name":"Srinivas Reddy Thatiparthy"},"score":4,"creation_date":1288672130,"post_id":4074869,"comment_id":4380111,"body_markdown":"@Shoban SO policy is that questions which can be googled  post here.Please don&#39;t discourage.Who knows you will get a point or two in the answers which you don&#39;t know of !!","body":"@Shoban SO policy is that questions which can be googled  post here.Please don&#39;t discourage.Who knows you will get a point or two in the answers which you don&#39;t know of !!"}],"answers":[{"tags":[],"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288677633,"creation_date":1288677633,"answer_id":4075259,"question_id":4074869,"body_markdown":"In terms of *compiler*, the largest difference I can think of (except the obvious &quot;inputs&quot; and &quot;outputs&quot;) is the generics implementation, since both *have* generics, but **very** different (type erasure vs runtime-assisted). The boxing model is obviously different, but I&#39;m not sure that is huge for the compiler.\r\n\r\nThe are obvious difference in *features* in terms of anonymous methods, anonymous inner classes, lambdas, delegates, etc but that is hard to compare 1:1. Ultimately, though, only your professor knows the answer he is looking for (and all due respect to professors, but don&#39;t *necessarily* be surprised if his answer is a year-or-more out of date with the bleeding edge).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What are the differences between a C#(.Net) Compiler and Java Compiler Technologies?","body":"<p>In terms of <em>compiler</em>, the largest difference I can think of (except the obvious \"inputs\" and \"outputs\") is the generics implementation, since both <em>have</em> generics, but <strong>very</strong> different (type erasure vs runtime-assisted). The boxing model is obviously different, but I'm not sure that is huge for the compiler.</p>\n\n<p>The are obvious difference in <em>features</em> in terms of anonymous methods, anonymous inner classes, lambdas, delegates, etc but that is hard to compare 1:1. Ultimately, though, only your professor knows the answer he is looking for (and all due respect to professors, but don't <em>necessarily</em> be surprised if his answer is a year-or-more out of date with the bleeding edge).</p>\n"},{"tags":[],"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288678518,"creation_date":1288678018,"answer_id":4075279,"question_id":4074869,"body_markdown":"One difference is that the C# compiler has some type inferencing capabilities that a Java compiler wouldn&#39;t have (although Java 7 may change this). As a simple example, in Java you have to type `Map&lt;String, List&lt;String&gt;&gt; anagrams = new HashMap&lt;String, List&lt;String&gt;&gt;();` while in C# you can use `var anagrams = new HashMap&lt;String, List&lt;String&gt;&gt;();` (although you can create very large, complex expressions in C# without ever having to name a type).\r\n\r\nAnother difference is that the C# compiler can create expression trees, enabling you to pass *descriptions* of a function to another function. For example, `(Func&lt;int,int&gt;) x =&gt; x * 2` is a function that takes an int and doubles it, while `(Expression&lt;Func&lt;int,int&gt;&gt;) x =&gt; x * 2` is a datastructure that describes a function that takes an int and doubles it. You can take this description and compile it into a function (to run locally) or translate it into SQL (to run as part of a database query).\r\n\r\n","title":"What are the differences between a C#(.Net) Compiler and Java Compiler Technologies?","body":"<p>One difference is that the C# compiler has some type inferencing capabilities that a Java compiler wouldn't have (although Java 7 may change this). As a simple example, in Java you have to type <code>Map&lt;String, List&lt;String&gt;&gt; anagrams = new HashMap&lt;String, List&lt;String&gt;&gt;();</code> while in C# you can use <code>var anagrams = new HashMap&lt;String, List&lt;String&gt;&gt;();</code> (although you can create very large, complex expressions in C# without ever having to name a type).</p>\n\n<p>Another difference is that the C# compiler can create expression trees, enabling you to pass <em>descriptions</em> of a function to another function. For example, <code>(Func&lt;int,int&gt;) x =&gt; x * 2</code> is a function that takes an int and doubles it, while <code>(Expression&lt;Func&lt;int,int&gt;&gt;) x =&gt; x * 2</code> is a datastructure that describes a function that takes an int and doubles it. You can take this description and compile it into a function (to run locally) or translate it into SQL (to run as part of a database query).</p>\n"},{"tags":[],"owner":{"account_id":196908,"reputation":637,"user_id":440619,"accept_rate":23,"display_name":"Kumaran T"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1288678117,"creation_date":1288678117,"answer_id":4075288,"question_id":4074869,"body_markdown":"http://www.scribd.com/doc/6256795/Comparison-Between-CLR-and-JVM\r\n\r\ni think this will give you an basic idea\r\n\r\n","title":"What are the differences between a C#(.Net) Compiler and Java Compiler Technologies?","body":"<p><a href=\"http://www.scribd.com/doc/6256795/Comparison-Between-CLR-and-JVM\" rel=\"nofollow\">http://www.scribd.com/doc/6256795/Comparison-Between-CLR-and-JVM</a></p>\n\n<p>i think this will give you an basic idea</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645484563,"creation_date":1288678745,"answer_id":4075362,"question_id":4074869,"body_markdown":"Both the Java and C# compilers compile to an &quot;machine code&quot; for an intermediate virtual machine that is independent of the ultimate execution platform; the JVM and CLR respectively.\r\n\r\nJVM was originally designed solely to support Java.  While it is possible to compile languages other than Java to run on a JVM, there are aspects of its design that are not entirely suited to certain classes of language.  By contrast, the CLR and its instruction set were designed from day one to support a range of languages.\r\n\r\nAnother difference is in the way that JIT compilation works.  According to [Wikipedia][1], CLR is designed to run fully compiled code, so (presumably) the CLR&#39;s JIT compiler must eagerly compile the entire application before starting.  (I also gather that you can compile the bytecodes to native code ahead of time.)  By contrast, the Hotspot JVMs use true &quot;just in time&quot; compilation.  Bytecode methods are initially executed by the JVM using a bytecode interpreter, which also gathers trace information about execution paths taken within the method. Those methods that are executed a number of times then get compiled to native code by the JIT compiler, using the captured trace information to help in the code optimization.  This allows the native code to be optimized for the actual execution platform and even for the behaviour of the current execution of the application.\r\n\r\nOf course, the C# and Java languages have many significant differences, and the corresponding compilers are different because of the need to handle these linguistic differences.  For example, some C# compilers do more type inferencing ... because the corresponding C# *language version* relies more on inferred types.  (And note that both the Java and C# *languages* have evolved over time.)\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Comparison_of_Java_and_C_Sharp#Runtime_environments","title":"What are the differences between a C#(.Net) Compiler and Java Compiler Technologies?","body":"<p>Both the Java and C# compilers compile to an &quot;machine code&quot; for an intermediate virtual machine that is independent of the ultimate execution platform; the JVM and CLR respectively.</p>\n<p>JVM was originally designed solely to support Java.  While it is possible to compile languages other than Java to run on a JVM, there are aspects of its design that are not entirely suited to certain classes of language.  By contrast, the CLR and its instruction set were designed from day one to support a range of languages.</p>\n<p>Another difference is in the way that JIT compilation works.  According to <a href=\"http://en.wikipedia.org/wiki/Comparison_of_Java_and_C_Sharp#Runtime_environments\" rel=\"nofollow noreferrer\">Wikipedia</a>, CLR is designed to run fully compiled code, so (presumably) the CLR's JIT compiler must eagerly compile the entire application before starting.  (I also gather that you can compile the bytecodes to native code ahead of time.)  By contrast, the Hotspot JVMs use true &quot;just in time&quot; compilation.  Bytecode methods are initially executed by the JVM using a bytecode interpreter, which also gathers trace information about execution paths taken within the method. Those methods that are executed a number of times then get compiled to native code by the JIT compiler, using the captured trace information to help in the code optimization.  This allows the native code to be optimized for the actual execution platform and even for the behaviour of the current execution of the application.</p>\n<p>Of course, the C# and Java languages have many significant differences, and the corresponding compilers are different because of the need to handle these linguistic differences.  For example, some C# compilers do more type inferencing ... because the corresponding C# <em>language version</em> relies more on inferred types.  (And note that both the Java and C# <em>languages</em> have evolved over time.)</p>\n"}],"owner":{"account_id":52821,"reputation":3153,"user_id":157881,"accept_rate":55,"display_name":"Chintan Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4049,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4075362,"answer_count":4,"score":4,"last_activity_date":1645484563,"creation_date":1288671308,"question_id":4074869,"body_markdown":"My professor asked us this question: What are the differences between a C#(.Net) Compiler and Java Compiler Technologies?","title":"What are the differences between a C#(.Net) Compiler and Java Compiler Technologies?","body":"<p>My professor asked us this question: What are the differences between a C#(.Net) Compiler and Java Compiler Technologies?</p>\n"},{"tags":["java","spring-boot","tomcat9"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645379096,"post_id":71188916,"comment_id":125850322,"body_markdown":"What makes you think the request is **not** redirected to the JSP page? Cf. _&quot;DEBUG Forwarding to resource [/WEB-INF/view/txt/register.jsp] in InternalResourceView &#39;txt/register&#39;&quot;_","body":"What makes you think the request is <b>not</b> redirected to the JSP page? Cf. <i>&quot;DEBUG Forwarding to resource [/WEB-INF/view/txt/register.jsp] in InternalResourceView &#39;txt/register&#39;&quot;</i>"},{"owner":{"account_id":6081323,"reputation":47,"user_id":4747002,"display_name":"Robot Pepper"},"score":0,"creation_date":1645476705,"post_id":71188916,"comment_id":125877267,"body_markdown":"It did but display 404, I am not sure why it couldn&#39;t compile and render the jsp.  @Piotr P. Karwasz","body":"It did but display 404, I am not sure why it couldn&#39;t compile and render the jsp.  @Piotr P. Karwasz"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645477661,"post_id":71188916,"comment_id":125877555,"body_markdown":"404 is thrown, when a resource does not exist. Is there a `/WEB-INF/view/txt/register.jsp` resource in your project? (usually it should be in `src/webapp/WEB-INF/view/txt/register.jsp`)","body":"404 is thrown, when a resource does not exist. Is there a <code>&#47;WEB-INF&#47;view&#47;txt&#47;register.jsp</code> resource in your project? (usually it should be in <code>src&#47;webapp&#47;WEB-INF&#47;view&#47;txt&#47;register.jsp</code>)"},{"owner":{"account_id":6081323,"reputation":47,"user_id":4747002,"display_name":"Robot Pepper"},"score":0,"creation_date":1645484240,"post_id":71188916,"comment_id":125879243,"body_markdown":"Yes, its working now. I used both mapping in application.properties and ViewResolver, somehow there&#39;s a typo due to exhaustive down sizing the big project.  @Piotr P. Karwasz","body":"Yes, its working now. I used both mapping in application.properties and ViewResolver, somehow there&#39;s a typo due to exhaustive down sizing the big project.  @Piotr P. Karwasz"}],"owner":{"account_id":6081323,"reputation":47,"user_id":4747002,"display_name":"Robot Pepper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645484271,"creation_date":1645302394,"question_id":71188916,"body_markdown":"I tried with enormous efforts with all versions but still springboot not calling the jasper compiler and render jsp. Is there anyway to force springboot? Here&#39;s the output:\r\n\r\n```\r\nDEBUG No matching bean found for view name &#39;txt/register&#39;&lt;br/&gt;\r\n2022-02-19T09:58:21.037-0800 DEBUG Invoking afterPropertiesSet() on bean with name &#39;txt/register&#39;&lt;br/&gt;\r\n2022-02-19T09:58:21.037-0800 DEBUG Returning cached instance of singleton bean &#39;org.springframework.transaction.config.internalTransactionAdvisor&#39;&lt;br/&gt;\r\n2022-02-19T09:58:21.037-0800 DEBUG Returning cached instance of singleton bean &#39;org.springframework.transaction.config.internalTransactionAdvisor&#39;&lt;br/&gt;\r\n2022-02-19T09:58:21.051-0800 TRACE Cached view [txt/register]&lt;br/&gt;\r\n2022-02-19T09:58:21.051-0800 DEBUG Rendering view [org.springframework.web.servlet.view.JstlView: name &#39;txt/register&#39;; URL [/WEB-INF/view/txt/register.jsp]] in DispatcherServlet with name &#39;dispatcherServlet&#39;&lt;br/&gt;\r\n2022-02-19T09:58:21.052-0800 TRACE Rendering view with name &#39;txt/register&#39; with model {signupForm=bean.txt.model.SignupForm@7464edf8, &lt;br/&gt;org.springframework.validation.BindingResult.signupForm=org.springframework.validation.BeanPropertyBindingResult: 0 errors, SignupForm=bean.txt.model.SignupForm@1f38a9f8, org.springframework.validation.BindingResult.SignupForm=org.springframework.validation.BeanPropertyBindingResult: 0 errors} and static attributes {}\r\n2022-02-19T09:58:21.052-0800 DEBUG Added model object &#39;signupForm&#39; of type [bean.txt.model.SignupForm] to request in view with name &#39;txt/register&#39;\r\n2022-02-19T09:58:21.052-0800 DEBUG Added model object &lt;br/&gt;&#39;org.springframework.validation.BindingResult.signupForm&#39; of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name &#39;txt/register&#39;\r\n2022-02-19T09:58:21.052-0800 DEBUG Added model object &#39;SignupForm&#39; of type [bean.txt.model.SignupForm] to request in view with name &#39;txt/register&#39;\r\n2022-02-19T09:58:21.052-0800 DEBUG Added model object &lt;br/&gt;&#39;org.springframework.validation.BindingResult.SignupForm&#39; of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name &#39;txt/register&#39;\r\n2022-02-19T09:58:21.054-0800 DEBUG Returning cached instance of singleton bean &#39;requestDataValueProcessor&#39;&lt;br/&gt;\r\n2022-02-19T09:58:21.075-0800 DEBUG Forwarding to resource [/WEB-INF/view/txt/register.jsp] in InternalResourceView &#39;txt/register&#39;&lt;br/&gt;\r\n2022-02-19T09:58:21.076-0800 DEBUG Not injecting HSTS header since it did not match the requestMatcher &lt;br/&gt;org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@744b7b8c\r\n2022-02-19T09:58:21.076-0800 DEBUG SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.&lt;br/&gt;\r\n2022-02-19T09:58:21.076-0800 TRACE Removed value [org.springframework.orm.jpa.EntityManagerHolder@52a0e2ad] for key [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@44e8d9dc] from thread [http-nio-8080-exec-1]\r\n2022-02-19T09:58:21.076-0800 DEBUG Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2022-02-19T09:58:21.076-0800 DEBUG Closing JPA EntityManager\r\n```\r\nM.","title":"Why springboot not calling the jasper compiler and render jsp?","body":"<p>I tried with enormous efforts with all versions but still springboot not calling the jasper compiler and render jsp. Is there anyway to force springboot? Here's the output:</p>\n<pre><code>DEBUG No matching bean found for view name 'txt/register'&lt;br/&gt;\n2022-02-19T09:58:21.037-0800 DEBUG Invoking afterPropertiesSet() on bean with name 'txt/register'&lt;br/&gt;\n2022-02-19T09:58:21.037-0800 DEBUG Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'&lt;br/&gt;\n2022-02-19T09:58:21.037-0800 DEBUG Returning cached instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'&lt;br/&gt;\n2022-02-19T09:58:21.051-0800 TRACE Cached view [txt/register]&lt;br/&gt;\n2022-02-19T09:58:21.051-0800 DEBUG Rendering view [org.springframework.web.servlet.view.JstlView: name 'txt/register'; URL [/WEB-INF/view/txt/register.jsp]] in DispatcherServlet with name 'dispatcherServlet'&lt;br/&gt;\n2022-02-19T09:58:21.052-0800 TRACE Rendering view with name 'txt/register' with model {signupForm=bean.txt.model.SignupForm@7464edf8, &lt;br/&gt;org.springframework.validation.BindingResult.signupForm=org.springframework.validation.BeanPropertyBindingResult: 0 errors, SignupForm=bean.txt.model.SignupForm@1f38a9f8, org.springframework.validation.BindingResult.SignupForm=org.springframework.validation.BeanPropertyBindingResult: 0 errors} and static attributes {}\n2022-02-19T09:58:21.052-0800 DEBUG Added model object 'signupForm' of type [bean.txt.model.SignupForm] to request in view with name 'txt/register'\n2022-02-19T09:58:21.052-0800 DEBUG Added model object &lt;br/&gt;'org.springframework.validation.BindingResult.signupForm' of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name 'txt/register'\n2022-02-19T09:58:21.052-0800 DEBUG Added model object 'SignupForm' of type [bean.txt.model.SignupForm] to request in view with name 'txt/register'\n2022-02-19T09:58:21.052-0800 DEBUG Added model object &lt;br/&gt;'org.springframework.validation.BindingResult.SignupForm' of type [org.springframework.validation.BeanPropertyBindingResult] to request in view with name 'txt/register'\n2022-02-19T09:58:21.054-0800 DEBUG Returning cached instance of singleton bean 'requestDataValueProcessor'&lt;br/&gt;\n2022-02-19T09:58:21.075-0800 DEBUG Forwarding to resource [/WEB-INF/view/txt/register.jsp] in InternalResourceView 'txt/register'&lt;br/&gt;\n2022-02-19T09:58:21.076-0800 DEBUG Not injecting HSTS header since it did not match the requestMatcher &lt;br/&gt;org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@744b7b8c\n2022-02-19T09:58:21.076-0800 DEBUG SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.&lt;br/&gt;\n2022-02-19T09:58:21.076-0800 TRACE Removed value [org.springframework.orm.jpa.EntityManagerHolder@52a0e2ad] for key [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean@44e8d9dc] from thread [http-nio-8080-exec-1]\n2022-02-19T09:58:21.076-0800 DEBUG Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2022-02-19T09:58:21.076-0800 DEBUG Closing JPA EntityManager\n</code></pre>\n<p>M.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645438913,"post_id":71199141,"comment_id":125863169,"body_markdown":"Why do you think adding double quotes are allowed (they are not, unless the double quotes is actually part of the table name), and if so, why are you double escaping the backslash?","body":"Why do you think adding double quotes are allowed (they are not, unless the double quotes is actually part of the table name), and if so, why are you double escaping the backslash?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645483767,"creation_date":1645396145,"answer_id":71199368,"question_id":71199141,"body_markdown":"When you write actual SQL, the double quote can be used __in SQL__, which is a different kind of programming language, to basically state: The thing in the quotes is an identifier (table name, column name, view name, index name - some sort of name of an object). Do not uppercase it first, don&#39;t try to see if it&#39;s an SQL keyword.\r\n\r\nThe `getTables` call __is not SQL__. Thus, you&#39;re asking for a table that is literally named `&quot;tab1&quot;`, quotes and all, which obviously doesn&#39;t exist, hence why you won&#39;t get any results there. Whether `getTables` attempts to do normalization (generally, uppercasing) is up to the DB engine; a few do but many don&#39;t. If you write it in the proper casing (so, all uppercase if the `CREATE TABLE` statement that made the thing didn&#39;t use quotes at all, otherwise precisely what was within the quotes of the `CREATE TABLE &quot;tableNameHere&quot;` statement that made the table) - then you&#39;ll definitely get the result back, otherwise, if you have the same characters but with different casing, you may or you may not, depends on the SQL engine, JDBC library used to access it, version of both of those, and the phase of the moon.\r\n\r\nThe javadoc of [`DatabaseMetaData`](https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html) __explicitly__ calls out that `%` and `_` have special meaning for any strings where the docs call that string a `somethingPattern`, where &quot;something&quot; can be whatever, obviously. This is the case here, hence why `&quot;test%&quot;` does find things. Not because `test%` is what SQL&#39;s `LIKE` operation uses, just because the spec says so.\r\n\r\nSpeaking of specs, if truly it is the case that:\r\n\r\n```\r\nmeta.getTables(null, &quot;X&quot;, &quot;Y&quot;, null);\r\n```\r\n\r\nfails to find things that:\r\n\r\n```\r\nmeta.getTables(&quot;foo&quot;, &quot;X&quot;, &quot;Y&quot;, null);\r\n```\r\n\r\ndoes find, then __the mysql JDBC implementation is broken__ and you should perhaps file a bug report. In general MySQL is a cavalcade of weird choices (so weird, you may as well call them bugs; at some point documenting insane behaviour doesn&#39;t magically make it a non-bug, though i&#39;m mincing words, perhaps) - and actual bugs.\r\n\r\nSo, why do you need that catalog parameter? Because MySQL is bad. Use postgres, maybe. It&#39;s slightly less crazy, and you have a choice of JDBC drivers. (postgres&#39;s own, and PGJDBC-NG).","title":"How does the DatabaseMetaData getTables method work?","body":"<p>When you write actual SQL, the double quote can be used <strong>in SQL</strong>, which is a different kind of programming language, to basically state: The thing in the quotes is an identifier (table name, column name, view name, index name - some sort of name of an object). Do not uppercase it first, don't try to see if it's an SQL keyword.</p>\n<p>The <code>getTables</code> call <strong>is not SQL</strong>. Thus, you're asking for a table that is literally named <code>&quot;tab1&quot;</code>, quotes and all, which obviously doesn't exist, hence why you won't get any results there. Whether <code>getTables</code> attempts to do normalization (generally, uppercasing) is up to the DB engine; a few do but many don't. If you write it in the proper casing (so, all uppercase if the <code>CREATE TABLE</code> statement that made the thing didn't use quotes at all, otherwise precisely what was within the quotes of the <code>CREATE TABLE &quot;tableNameHere&quot;</code> statement that made the table) - then you'll definitely get the result back, otherwise, if you have the same characters but with different casing, you may or you may not, depends on the SQL engine, JDBC library used to access it, version of both of those, and the phase of the moon.</p>\n<p>The javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html\" rel=\"nofollow noreferrer\"><code>DatabaseMetaData</code></a> <strong>explicitly</strong> calls out that <code>%</code> and <code>_</code> have special meaning for any strings where the docs call that string a <code>somethingPattern</code>, where &quot;something&quot; can be whatever, obviously. This is the case here, hence why <code>&quot;test%&quot;</code> does find things. Not because <code>test%</code> is what SQL's <code>LIKE</code> operation uses, just because the spec says so.</p>\n<p>Speaking of specs, if truly it is the case that:</p>\n<pre><code>meta.getTables(null, &quot;X&quot;, &quot;Y&quot;, null);\n</code></pre>\n<p>fails to find things that:</p>\n<pre><code>meta.getTables(&quot;foo&quot;, &quot;X&quot;, &quot;Y&quot;, null);\n</code></pre>\n<p>does find, then <strong>the mysql JDBC implementation is broken</strong> and you should perhaps file a bug report. In general MySQL is a cavalcade of weird choices (so weird, you may as well call them bugs; at some point documenting insane behaviour doesn't magically make it a non-bug, though i'm mincing words, perhaps) - and actual bugs.</p>\n<p>So, why do you need that catalog parameter? Because MySQL is bad. Use postgres, maybe. It's slightly less crazy, and you have a choice of JDBC drivers. (postgres's own, and PGJDBC-NG).</p>\n"}],"owner":{"account_id":17793378,"reputation":11,"user_id":12921803,"display_name":"javastudent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1645483767,"creation_date":1645394031,"question_id":71199141,"body_markdown":"I am using MySQL driver and I have schema called `testschema` and 3 tables there - `tab1`, `test_test1`, `test_test2`. I have some doubts about using getTables method from DatabaseMetaData:\r\n\r\n1. For metaData.getTables(null, &quot;testschema&quot;, &quot;\\\\\\\\\\\\&quot;tab1\\\\\\\\\\\\&quot;&quot;, null); no table is returned. Is it desired behaviour? If so, why? I am escaping quote characters so output should be the same as for metaData.getTables(null, &quot;testschema&quot;, &quot;tab1&quot;, null); - in this case table description is returned.\r\n\r\n2. For metaData.getTables(null, &quot;testschema&quot;, &quot;test%&quot;, null); no tables are returned, but for metaData.getTables(&quot;testschema&quot;, &quot;testschema&quot;, &quot;test%&quot;, null); both `test_test1` and `test_test2` are returned. Why I need catalog parameter specified in this case?","title":"How does the DatabaseMetaData getTables method work?","body":"<p>I am using MySQL driver and I have schema called <code>testschema</code> and 3 tables there - <code>tab1</code>, <code>test_test1</code>, <code>test_test2</code>. I have some doubts about using getTables method from DatabaseMetaData:</p>\n<ol>\n<li><p>For metaData.getTables(null, &quot;testschema&quot;, &quot;\\\\\\&quot;tab1\\\\\\&quot;&quot;, null); no table is returned. Is it desired behaviour? If so, why? I am escaping quote characters so output should be the same as for metaData.getTables(null, &quot;testschema&quot;, &quot;tab1&quot;, null); - in this case table description is returned.</p>\n</li>\n<li><p>For metaData.getTables(null, &quot;testschema&quot;, &quot;test%&quot;, null); no tables are returned, but for metaData.getTables(&quot;testschema&quot;, &quot;testschema&quot;, &quot;test%&quot;, null); both <code>test_test1</code> and <code>test_test2</code> are returned. Why I need catalog parameter specified in this case?</p>\n</li>\n</ol>\n"},{"tags":["java","stack","stack-overflow"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":2,"creation_date":1645473348,"post_id":71212249,"comment_id":125876231,"body_markdown":"`thread.start()` calls itself at line 14. That&#39;s all.","body":"<code>thread.start()</code> calls itself at line 14. That&#39;s all."}],"answers":[{"tags":[],"owner":{"account_id":24313722,"reputation":11,"user_id":18255298,"display_name":"Java Programmer7785"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645473685,"creation_date":1645473685,"answer_id":71212363,"question_id":71212249,"body_markdown":"when making a thread start you would pass `thread.start` but there&#39;s also a function in that class called `start` so when calling `thread.start` it&#39;s running the function that&#39;s already running so it throws an error","title":"How to fix java.lang.StackOverflowError in java","body":"<p>when making a thread start you would pass <code>thread.start</code> but there's also a function in that class called <code>start</code> so when calling <code>thread.start</code> it's running the function that's already running so it throws an error</p>\n"},{"tags":[],"owner":{"account_id":20708540,"reputation":21,"user_id":15205767,"display_name":"Coder1337"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645483723,"creation_date":1645483723,"answer_id":71213930,"question_id":71212249,"body_markdown":"You&#39;re actually overriding start(): https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#start()\r\nJust remove it and it will work.","title":"How to fix java.lang.StackOverflowError in java","body":"<p>You're actually overriding start(): <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#start()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#start()</a>\nJust remove it and it will work.</p>\n"}],"owner":{"account_id":24313722,"reputation":11,"user_id":18255298,"display_name":"Java Programmer7785"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1196,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1645483723,"creation_date":1645473062,"question_id":71212249,"body_markdown":"I&#39;m writing an application that needs to use the GPIO pins on the raspberry pi, now I couldn&#39;t get pi4j to work so I just wrote the code in python and called it with java. Now I&#39;m running this code to call my python script but I keep getting an overflow error and I&#39;m not sure why this is my code\r\n\r\nGpio_On.java\r\n\r\n    package Controller;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Gpio_On extends Thread {\r\n        public String Pin;\r\n    \r\n        public void setPin(String pin) {\r\n            Pin = pin;\r\n        }\r\n    \r\n        public void start() {\r\n            Gpio_On thread = new Gpio_On();\r\n            thread.start();\r\n        }\r\n        public void run(){\r\n            System.out.println(&quot;in thread for gpio on PIN:&quot; + Pin);\r\n            try {\r\n                System.out.println(&quot;python3 /home/pi/gpioOn.py &quot; + Pin);\r\n                Process p = Runtime.getRuntime().exec(&quot;python3 /home/pi/gpioOn.py &quot; + Pin);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nTerminal\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:632)\r\n    \tat java.base/java.security.AccessController.getContext(AccessController.java:839)\r\n    \tat java.base/java.lang.Thread.&lt;init&gt;(Thread.java:440)\r\n    \tat java.base/java.lang.Thread.&lt;init&gt;(Thread.java:704)\r\n    \tat java.base/java.lang.Thread.&lt;init&gt;(Thread.java:473)\r\n    \tat Controller.Gpio_On.&lt;init&gt;(Gpio_On.java:5)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:13)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    \tat Controller.Gpio_On.start(Gpio_On.java:14)\r\n    this error keeps going for a long time\r\n\r\n\r\n","title":"How to fix java.lang.StackOverflowError in java","body":"<p>I'm writing an application that needs to use the GPIO pins on the raspberry pi, now I couldn't get pi4j to work so I just wrote the code in python and called it with java. Now I'm running this code to call my python script but I keep getting an overflow error and I'm not sure why this is my code</p>\n<p>Gpio_On.java</p>\n<pre><code>package Controller;\n\nimport java.io.IOException;\n\npublic class Gpio_On extends Thread {\n    public String Pin;\n\n    public void setPin(String pin) {\n        Pin = pin;\n    }\n\n    public void start() {\n        Gpio_On thread = new Gpio_On();\n        thread.start();\n    }\n    public void run(){\n        System.out.println(&quot;in thread for gpio on PIN:&quot; + Pin);\n        try {\n            System.out.println(&quot;python3 /home/pi/gpioOn.py &quot; + Pin);\n            Process p = Runtime.getRuntime().exec(&quot;python3 /home/pi/gpioOn.py &quot; + Pin);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Terminal</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\n    at java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:632)\n    at java.base/java.security.AccessController.getContext(AccessController.java:839)\n    at java.base/java.lang.Thread.&lt;init&gt;(Thread.java:440)\n    at java.base/java.lang.Thread.&lt;init&gt;(Thread.java:704)\n    at java.base/java.lang.Thread.&lt;init&gt;(Thread.java:473)\n    at Controller.Gpio_On.&lt;init&gt;(Gpio_On.java:5)\n    at Controller.Gpio_On.start(Gpio_On.java:13)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\n    at Controller.Gpio_On.start(Gpio_On.java:14)\nthis error keeps going for a long time\n</code></pre>\n"},{"tags":["java","design-patterns","iterator","java-stream"],"comments":[{"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"score":3,"creation_date":1590158099,"post_id":61957343,"comment_id":109582612,"body_markdown":"Does this answer your question? [Iterator versus Stream of Java 8](https://stackoverflow.com/questions/31210791/iterator-versus-stream-of-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31210791/iterator-versus-stream-of-java-8\">Iterator versus Stream of Java 8</a>"},{"owner":{"account_id":12185189,"reputation":85,"user_id":8895290,"display_name":"Marcu Daniel"},"score":0,"creation_date":1590158373,"post_id":61957343,"comment_id":109582777,"body_markdown":"@HadiJ this is a useful comparison between Java&#39;s Iterator and Stream, with advantages and drawbacks of both of them, but I would actually be more interested in if we can actually consider Java&#39;s Stream as a valid implementation of the Iterator Design Pattern, and why? :D","body":"@HadiJ this is a useful comparison between Java&#39;s Iterator and Stream, with advantages and drawbacks of both of them, but I would actually be more interested in if we can actually consider Java&#39;s Stream as a valid implementation of the Iterator Design Pattern, and why? :D"}],"answers":[{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645483670,"creation_date":1590251179,"answer_id":61975157,"question_id":61957343,"body_markdown":"&gt; Can we consider that the `.stream()` call on a Collection create some sort of an iterator?\r\n\r\nYes we can! But the interesting question is, what sort of an iterator is it? The Iterator Design Pattern was originally published in the GoF book. On page 260 it states,\r\n&gt; Iterator has many implementation variants and alternatives.\r\n\r\nWe might not recognize a stream as an iterator, because (in Java) we are so used to seeing the version of the pattern where the client explicitly calls `next()` and `hasNext()`. Streams are clearly not that version of the Iterator pattern, so what are they?\r\n\r\n&gt; *Who controls the iteration?* A fundamental issue is deciding which party controls the iteration, the iterator or the client that uses the iterator. When the client controls the iteration, the iterator is called an **external iterator**, and when the iterator controls it, the iterator is an **internal iterator**. Clients that use an external iterator must advance the traversal and request the next element explicitly from the iterator. In contrast, the client hands an internal iterator an operation to perform, and the iterator applies that operation to every element in the aggregate.\r\n\r\nThere can be no doubt the Java Stream API was designed with the Iterator pattern in mind, and particularly the internal version of the pattern, because Stuart Marks and Brian Goetz have both graciously posted about their design decisions, here on SO. Stuart mentions how the initial prototype [was based on `Iterable`](https://stackoverflow.com/questions/28459498/why-are-java-streams-once-off/28513908#28513908) itself. That was insufficient for parallel processing, and Brian describes how the ultimate implementation of the Stream API is [now based on `Spliterator`](https://stackoverflow.com/questions/36823726/how-to-use-classic-custom-data-structures-as-java-8-streams/36825703#36825703).\r\n\r\nSo a `Stream` is still an iterator, but an internal iterator as opposed to the older Java APIs like `Iterator` and `Enumeration`.","title":"Are Java Streams implementations of Iterator Design Pattern?","body":"<blockquote>\n<p>Can we consider that the <code>.stream()</code> call on a Collection create some sort of an iterator?</p>\n</blockquote>\n<p>Yes we can! But the interesting question is, what sort of an iterator is it? The Iterator Design Pattern was originally published in the GoF book. On page 260 it states,</p>\n<blockquote>\n<p>Iterator has many implementation variants and alternatives.</p>\n</blockquote>\n<p>We might not recognize a stream as an iterator, because (in Java) we are so used to seeing the version of the pattern where the client explicitly calls <code>next()</code> and <code>hasNext()</code>. Streams are clearly not that version of the Iterator pattern, so what are they?</p>\n<blockquote>\n<p><em>Who controls the iteration?</em> A fundamental issue is deciding which party controls the iteration, the iterator or the client that uses the iterator. When the client controls the iteration, the iterator is called an <strong>external iterator</strong>, and when the iterator controls it, the iterator is an <strong>internal iterator</strong>. Clients that use an external iterator must advance the traversal and request the next element explicitly from the iterator. In contrast, the client hands an internal iterator an operation to perform, and the iterator applies that operation to every element in the aggregate.</p>\n</blockquote>\n<p>There can be no doubt the Java Stream API was designed with the Iterator pattern in mind, and particularly the internal version of the pattern, because Stuart Marks and Brian Goetz have both graciously posted about their design decisions, here on SO. Stuart mentions how the initial prototype <a href=\"https://stackoverflow.com/questions/28459498/why-are-java-streams-once-off/28513908#28513908\">was based on <code>Iterable</code></a> itself. That was insufficient for parallel processing, and Brian describes how the ultimate implementation of the Stream API is <a href=\"https://stackoverflow.com/questions/36823726/how-to-use-classic-custom-data-structures-as-java-8-streams/36825703#36825703\">now based on <code>Spliterator</code></a>.</p>\n<p>So a <code>Stream</code> is still an iterator, but an internal iterator as opposed to the older Java APIs like <code>Iterator</code> and <code>Enumeration</code>.</p>\n"}],"owner":{"account_id":12185189,"reputation":85,"user_id":8895290,"display_name":"Marcu Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1590575137,"accepted_answer_id":61975157,"answer_count":1,"score":2,"last_activity_date":1645483670,"creation_date":1590157938,"question_id":61957343,"body_markdown":"So, as the title asks, can Java Streams be considered an implementation of the Iterator pattern? \r\n\r\nCan we consider that the ```.stream()``` call on a Collection create some sort of an iterator which allows you to parse the elements of that Collection, without actually exposing the representation of the Collection? (Which is what the Iterator Pattern implies, if I am not mistaking)\r\n\r\n**EDIT:** to avoid confusion, please note that I am not interested in Java&#39;s Iterator interface, I just want to know if Java Streams can be considered an implementation of the Iterator Design Pattern, and why?","title":"Are Java Streams implementations of Iterator Design Pattern?","body":"<p>So, as the title asks, can Java Streams be considered an implementation of the Iterator pattern? </p>\n\n<p>Can we consider that the <code>.stream()</code> call on a Collection create some sort of an iterator which allows you to parse the elements of that Collection, without actually exposing the representation of the Collection? (Which is what the Iterator Pattern implies, if I am not mistaking)</p>\n\n<p><strong>EDIT:</strong> to avoid confusion, please note that I am not interested in Java's Iterator interface, I just want to know if Java Streams can be considered an implementation of the Iterator Design Pattern, and why?</p>\n"},{"tags":["java","python-3.x","exception","weka","grid-search"],"comments":[{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1645154640,"post_id":71131619,"comment_id":125801569,"body_markdown":"What is the code for starting the JVM?","body":"What is the code for starting the JVM?"},{"owner":{"account_id":23087952,"reputation":125,"user_id":17199196,"display_name":"Pablo Moreira Garcia"},"score":0,"creation_date":1645447849,"post_id":71131619,"comment_id":125866463,"body_markdown":"@fracpete jvm.start(system_cp=True, packages=True)","body":"@fracpete jvm.start(system_cp=True, packages=True)"}],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645483258,"creation_date":1645483258,"answer_id":71213863,"question_id":71131619,"body_markdown":"The exceptions that you listed do not affect the script execution, as they get handled internally by pww3 (error output could not be suppressed, unfortunately, despite catching the exceptions; this gets output by the underlying javabridge library).\r\n\r\n**A bit of background:** Since pww3 can run with and without package support, it first tries to load classes using the Java classloader. If that fails (that&#39;s the error message that you see), it will try loading them using Weka&#39;s mechanism for loading classes.\r\n\r\nThe just released version [0.2.7](https://github.com/fracpete/python-weka-wrapper3/releases/tag/v0.2.7) of pww3 approaches this a bit more intelligent and avoids the output of these exceptions.\r\n\r\n**Final note:** you need to drop the `classifier.` prefix in your property names when using `MultiSearch`.","title":"how should i deal with this error on gridsearch and multisearch with pyweka?","body":"<p>The exceptions that you listed do not affect the script execution, as they get handled internally by pww3 (error output could not be suppressed, unfortunately, despite catching the exceptions; this gets output by the underlying javabridge library).</p>\n<p><strong>A bit of background:</strong> Since pww3 can run with and without package support, it first tries to load classes using the Java classloader. If that fails (that's the error message that you see), it will try loading them using Weka's mechanism for loading classes.</p>\n<p>The just released version <a href=\"https://github.com/fracpete/python-weka-wrapper3/releases/tag/v0.2.7\" rel=\"nofollow noreferrer\">0.2.7</a> of pww3 approaches this a bit more intelligent and avoids the output of these exceptions.</p>\n<p><strong>Final note:</strong> you need to drop the <code>classifier.</code> prefix in your property names when using <code>MultiSearch</code>.</p>\n"}],"owner":{"account_id":23087952,"reputation":125,"user_id":17199196,"display_name":"Pablo Moreira Garcia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71213863,"answer_count":1,"score":0,"last_activity_date":1645483258,"creation_date":1644949764,"question_id":71131619,"body_markdown":"I have this code for gridsearch:\r\n```\r\nfrom weka.classifiers import GridSearch\r\n\r\ndata = loader.load_file(data_dir + &quot;bolts.arff&quot;)\r\ndata.class_is_last()\r\n\r\ngrid = GridSearch(options=[&quot;-sample-size&quot;, &quot;100.0&quot;, &quot;-traversal&quot;, &quot;ROW-WISE&quot;, &quot;-num-slots&quot;, &quot;1&quot;, &quot;-S&quot;, &quot;1&quot;])\r\ngrid.evaluation = &quot;CC&quot;\r\ngrid.y = {&quot;property&quot;: &quot;kernel.gamma&quot;, &quot;min&quot;: -3.0, &quot;max&quot;: 3.0, &quot;step&quot;: 1.0, &quot;base&quot;: 10.0, &quot;expression&quot;: &quot;pow(BASE,I)&quot;}\r\ngrid.x = {&quot;property&quot;: &quot;C&quot;, &quot;min&quot;: -3.0, &quot;max&quot;: 3.0, &quot;step&quot;: 1.0, &quot;base&quot;: 10.0, &quot;expression&quot;: &quot;pow(BASE,I)&quot;}\r\ncls = Classifier(\r\n    classname=&quot;weka.classifiers.functions.SMOreg&quot;,\r\n    options=[&quot;-K&quot;, &quot;weka.classifiers.functions.supportVector.RBFKernel&quot;])\r\ngrid.classifier = cls\r\ngrid.build_classifier(data)\r\nprint(&quot;Model:\\n&quot; + str(grid))\r\nprint(&quot;\\nBest setup:\\n&quot; + grid.best.to_commandline())\r\n```\r\nand it raise to me this error:\r\n\r\n```\r\nFailed to get class weka.classifiers.meta.GridSearch\r\n\r\nException in thread &quot;Thread-0&quot; java.lang.NoClassDefFoundError: weka.classifiers.meta.GridSearch\r\n\r\nCaused by: java.lang.ClassNotFoundException: weka.classifiers.meta.GridSearch\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\r\n```\r\n\r\nalso on the case of multisearch i have this code:\r\n\r\n```\r\nfrom weka.classifiers import MultiSearch\r\n\r\n\r\nmulti = MultiSearch(options=[&quot;-S&quot;, &quot;1&quot;])           \r\nmulti.evaluation = &quot;CC&quot;\r\nmparam = MathParameter()\r\nmparam.prop = &quot;classifier.kernel.gamma&quot;\r\nmparam.minimum = -3.0\r\nmparam.maximum = 3.0\r\nmparam.step = 1.0\r\nmparam.base = 10.0\r\nmparam.expression = &quot;pow(BASE,I)&quot;\r\nlparam = ListParameter()\r\nlparam.prop = &quot;classifier.C&quot;\r\nlparam.values = [&quot;-2.0&quot;, &quot;-1.0&quot;, &quot;0.0&quot;, &quot;1.0&quot;, &quot;2.0&quot;]\r\nmulti.parameters = [mparam, lparam]\r\ncls = Classifier(\r\n    classname=&quot;weka.classifiers.functions.SMOreg&quot;,\r\n    options=[&quot;-K&quot;, &quot;weka.classifiers.functions.supportVector.RBFKernel&quot;])\r\nmulti.classifier = cls\r\nmulti.build_classifier(data)\r\nprint(&quot;Model:\\n&quot; + str(multi))\r\nprint(&quot;\\nBest setup:\\n&quot; + multi.best.to_commandline())\r\n```\r\n\r\nand also rise this error:\r\n\r\n```\r\nException in thread &quot;Thread-0&quot; java.lang.ClassNotFoundException: weka.core.setupgenerator.AbstractParameter\r\n...\r\n```\r\n\r\nI saw that everybody just say that to solve this error, you need to install the packages, but i have all installed.\r\n\r\nchecked with:\r\n```\r\nitems = packages.installed_packages()\r\nfor item in items:\r\n    print(item.name + &quot; &quot; + item.url)\r\n```\r\nthat gives me:\r\n```\r\ngridSearch http://prdownloads.sourceforge.net/weka/gridSearch1.0.12.zip?download\r\ntimeseriesForecasting http://prdownloads.sourceforge.net/weka/timeseriesForecasting1.1.27.zip?download\r\nLibSVM http://prdownloads.sourceforge.net/weka/LibSVM1.0.10.zip?download\r\nmultisearch https://github.com/fracpete/multisearch-weka-package/releases/download/v2020.2.17/multisearch-2020.2.17.zip\r\n```\r\nand checked if all packages have installed the latest version and its correct, with:\r\n\r\n```\r\nsuccess, exit_required = install_missing_packages([(&quot;gridSearch&quot;, LATEST),(&quot;multisearch&quot;, LATEST)])\r\nif exit_required:\r\n    jvm.stop()\r\n    sys.exit(0)\r\n```\r\n\r\nso I don&#39;t know if i should pass of this errors or I should do something.\r\n\r\nI have to say that when i execute it, it gives me a solution but also raise this errors so don&#39;t know what to do.\r\n\r\nThank you guys.","title":"how should i deal with this error on gridsearch and multisearch with pyweka?","body":"<p>I have this code for gridsearch:</p>\n<pre><code>from weka.classifiers import GridSearch\n\ndata = loader.load_file(data_dir + &quot;bolts.arff&quot;)\ndata.class_is_last()\n\ngrid = GridSearch(options=[&quot;-sample-size&quot;, &quot;100.0&quot;, &quot;-traversal&quot;, &quot;ROW-WISE&quot;, &quot;-num-slots&quot;, &quot;1&quot;, &quot;-S&quot;, &quot;1&quot;])\ngrid.evaluation = &quot;CC&quot;\ngrid.y = {&quot;property&quot;: &quot;kernel.gamma&quot;, &quot;min&quot;: -3.0, &quot;max&quot;: 3.0, &quot;step&quot;: 1.0, &quot;base&quot;: 10.0, &quot;expression&quot;: &quot;pow(BASE,I)&quot;}\ngrid.x = {&quot;property&quot;: &quot;C&quot;, &quot;min&quot;: -3.0, &quot;max&quot;: 3.0, &quot;step&quot;: 1.0, &quot;base&quot;: 10.0, &quot;expression&quot;: &quot;pow(BASE,I)&quot;}\ncls = Classifier(\n    classname=&quot;weka.classifiers.functions.SMOreg&quot;,\n    options=[&quot;-K&quot;, &quot;weka.classifiers.functions.supportVector.RBFKernel&quot;])\ngrid.classifier = cls\ngrid.build_classifier(data)\nprint(&quot;Model:\\n&quot; + str(grid))\nprint(&quot;\\nBest setup:\\n&quot; + grid.best.to_commandline())\n</code></pre>\n<p>and it raise to me this error:</p>\n<pre><code>Failed to get class weka.classifiers.meta.GridSearch\n\nException in thread &quot;Thread-0&quot; java.lang.NoClassDefFoundError: weka.classifiers.meta.GridSearch\n\nCaused by: java.lang.ClassNotFoundException: weka.classifiers.meta.GridSearch\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n\n</code></pre>\n<p>also on the case of multisearch i have this code:</p>\n<pre><code>from weka.classifiers import MultiSearch\n\n\nmulti = MultiSearch(options=[&quot;-S&quot;, &quot;1&quot;])           \nmulti.evaluation = &quot;CC&quot;\nmparam = MathParameter()\nmparam.prop = &quot;classifier.kernel.gamma&quot;\nmparam.minimum = -3.0\nmparam.maximum = 3.0\nmparam.step = 1.0\nmparam.base = 10.0\nmparam.expression = &quot;pow(BASE,I)&quot;\nlparam = ListParameter()\nlparam.prop = &quot;classifier.C&quot;\nlparam.values = [&quot;-2.0&quot;, &quot;-1.0&quot;, &quot;0.0&quot;, &quot;1.0&quot;, &quot;2.0&quot;]\nmulti.parameters = [mparam, lparam]\ncls = Classifier(\n    classname=&quot;weka.classifiers.functions.SMOreg&quot;,\n    options=[&quot;-K&quot;, &quot;weka.classifiers.functions.supportVector.RBFKernel&quot;])\nmulti.classifier = cls\nmulti.build_classifier(data)\nprint(&quot;Model:\\n&quot; + str(multi))\nprint(&quot;\\nBest setup:\\n&quot; + multi.best.to_commandline())\n</code></pre>\n<p>and also rise this error:</p>\n<pre><code>Exception in thread &quot;Thread-0&quot; java.lang.ClassNotFoundException: weka.core.setupgenerator.AbstractParameter\n...\n</code></pre>\n<p>I saw that everybody just say that to solve this error, you need to install the packages, but i have all installed.</p>\n<p>checked with:</p>\n<pre><code>items = packages.installed_packages()\nfor item in items:\n    print(item.name + &quot; &quot; + item.url)\n</code></pre>\n<p>that gives me:</p>\n<pre><code>gridSearch http://prdownloads.sourceforge.net/weka/gridSearch1.0.12.zip?download\ntimeseriesForecasting http://prdownloads.sourceforge.net/weka/timeseriesForecasting1.1.27.zip?download\nLibSVM http://prdownloads.sourceforge.net/weka/LibSVM1.0.10.zip?download\nmultisearch https://github.com/fracpete/multisearch-weka-package/releases/download/v2020.2.17/multisearch-2020.2.17.zip\n</code></pre>\n<p>and checked if all packages have installed the latest version and its correct, with:</p>\n<pre><code>success, exit_required = install_missing_packages([(&quot;gridSearch&quot;, LATEST),(&quot;multisearch&quot;, LATEST)])\nif exit_required:\n    jvm.stop()\n    sys.exit(0)\n</code></pre>\n<p>so I don't know if i should pass of this errors or I should do something.</p>\n<p>I have to say that when i execute it, it gives me a solution but also raise this errors so don't know what to do.</p>\n<p>Thank you guys.</p>\n"},{"tags":["java","reflection","classloader"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645489048,"post_id":71212816,"comment_id":125880111,"body_markdown":"What are you actually trying to achieve?","body":"What are you actually trying to achieve?"},{"owner":{"account_id":2313596,"reputation":1534,"user_id":2031150,"accept_rate":92,"display_name":"Jack J"},"score":0,"creation_date":1645489312,"post_id":71212816,"comment_id":125880156,"body_markdown":"Perhaps if I get a Uri for a dependency, I can loop through the package indicated by the import statement.  That would allow me to find all classes in a particular package.","body":"Perhaps if I get a Uri for a dependency, I can loop through the package indicated by the import statement.  That would allow me to find all classes in a particular package."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1645521915,"post_id":71212816,"comment_id":125887145,"body_markdown":"Two possibilities 1) these third party classes are not loaded by the system class loader or 2) these classes are shipped with a file format (like jar) without directory entries, so `getResource` does not find a matching entry. Its always safer to use a class for the lookup, preferably a `Class` object which allows to identify the right class loader as well. By the way, not every resource is a class file, so you should filter the entries to only process resources ending with `.class`. Then, you dont need to catch `StringIndexOutOfBoundsException`.","body":"Two possibilities 1) these third party classes are not loaded by the system class loader or 2) these classes are shipped with a file format (like jar) without directory entries, so <code>getResource</code> does not find a matching entry. Its always safer to use a class for the lookup, preferably a <code>Class</code> object which allows to identify the right class loader as well. By the way, not every resource is a class file, so you should filter the entries to only process resources ending with <code>.class</code>. Then, you dont need to catch <code>StringIndexOutOfBoundsException</code>."}],"owner":{"account_id":2313596,"reputation":1534,"user_id":2031150,"accept_rate":92,"display_name":"Jack J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645483095,"creation_date":1645476282,"question_id":71212816,"body_markdown":"&lt;h3&gt;My Question:&lt;/h3&gt;\r\nIs it possible to get a Uri from an import of a third party dependency?\r\n&lt;h3&gt; &lt;/h3&gt;\r\n\r\n&lt;h3&gt;Question Context:&lt;/h3&gt;\r\nI am trying to get a list of classes accessed with the following.\r\n\r\n    import com.name.*\r\n\r\nIn the context in which I want to use it, I will not be able to use third party dependencies.  I do however need to find all classes associated with a third party dependency import.\r\n\r\nI have found one such answer to my issue in the following code, [provided by the user tirz.][1]\r\n\r\n    public static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\r\n        final String pkgPath = pkgName.replace(&#39;.&#39;, &#39;/&#39;);\r\n        final URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\r\n        final ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n    \r\n        Path root;\r\n        if (pkg.toString().startsWith(&quot;jar:&quot;)) {\r\n            try {\r\n                root = FileSystems.getFileSystem(pkg).getPath(pkgPath);\r\n            } catch (final FileSystemNotFoundException e) {\r\n                root = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\r\n            }\r\n        } else {\r\n            root = Paths.get(pkg);\r\n        }\r\n    \r\n        final String extension = &quot;.class&quot;;\r\n        try (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\r\n            allPaths.filter(Files::isRegularFile).forEach(file -&gt; {\r\n                try {\r\n                    final String path = file.toString().replace(&#39;/&#39;, &#39;.&#39;);\r\n                    final String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\r\n                    allClasses.add(Class.forName(name));\r\n                } catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\r\n                }\r\n            });\r\n        }\r\n        return allClasses;\r\n    }\r\n\r\nThe problem I have with the code above is that where `final URI pkg` is assigned.  This works with a package that exists within the project, but if an import for a third party dependency is used this throws a NullPointerException.  Is it possible to make this code work for third party dependencies?  Might this require some reference to an .m2 folder or other library resource?\r\n\r\n  [1]: https://stackoverflow.com/a/58773038/2031150","title":"URI for third party dependency","body":"<h3>My Question:</h3>\nIs it possible to get a Uri from an import of a third party dependency?\n<h3> </h3>\n<h3>Question Context:</h3>\nI am trying to get a list of classes accessed with the following.\n<pre><code>import com.name.*\n</code></pre>\n<p>In the context in which I want to use it, I will not be able to use third party dependencies.  I do however need to find all classes associated with a third party dependency import.</p>\n<p>I have found one such answer to my issue in the following code, <a href=\"https://stackoverflow.com/a/58773038/2031150\">provided by the user tirz.</a></p>\n<pre><code>public static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\n    final String pkgPath = pkgName.replace('.', '/');\n    final URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\n    final ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\n\n    Path root;\n    if (pkg.toString().startsWith(&quot;jar:&quot;)) {\n        try {\n            root = FileSystems.getFileSystem(pkg).getPath(pkgPath);\n        } catch (final FileSystemNotFoundException e) {\n            root = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\n        }\n    } else {\n        root = Paths.get(pkg);\n    }\n\n    final String extension = &quot;.class&quot;;\n    try (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\n        allPaths.filter(Files::isRegularFile).forEach(file -&gt; {\n            try {\n                final String path = file.toString().replace('/', '.');\n                final String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\n                allClasses.add(Class.forName(name));\n            } catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\n            }\n        });\n    }\n    return allClasses;\n}\n</code></pre>\n<p>The problem I have with the code above is that where <code>final URI pkg</code> is assigned.  This works with a package that exists within the project, but if an import for a third party dependency is used this throws a NullPointerException.  Is it possible to make this code work for third party dependencies?  Might this require some reference to an .m2 folder or other library resource?</p>\n"},{"tags":["java","properties","classpath","exe"],"comments":[{"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"score":0,"creation_date":1602366645,"post_id":64298538,"comment_id":113699205,"body_markdown":"Why do not yo use spring framework? Is there a requirement? If you use spring framework you can simply read the properties in a properties file using @Value annotation","body":"Why do not yo use spring framework? Is there a requirement? If you use spring framework you can simply read the properties in a properties file using @Value annotation"},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1602402504,"post_id":64298538,"comment_id":113704504,"body_markdown":"@MortezaBandi -- apart from the fact that not everybody wants to jump on the Spring bandwagon, the question isn&#39;t (IIUC) about how to read values. The question is about how to _externalize_ configuration in a way that the program can write it. I don&#39;t believe Spring provides any specific support for this.","body":"@MortezaBandi -- apart from the fact that not everybody wants to jump on the Spring bandwagon, the question isn&#39;t (IIUC) about how to read values. The question is about how to <i>externalize</i> configuration in a way that the program can write it. I don&#39;t believe Spring provides any specific support for this."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1645483534,"post_id":64298538,"comment_id":125879085,"body_markdown":"Store a read-only config file as resource, as template, default. To be copied to a user directory with Files.copy &amp; Path.","body":"Store a read-only config file as resource, as template, default. To be copied to a user directory with Files.copy &amp; Path."}],"answers":[{"tags":[],"owner":{"account_id":19159657,"reputation":327,"user_id":13995718,"display_name":"Sam Gregory"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645482623,"creation_date":1602367959,"answer_id":64298785,"question_id":64298538,"body_markdown":"I think you can use `java.util.properties` to solve your problem; to write to your properties first create a new `Properties` object, [`load`][1] them via your `InputStream`, use methods such as `setProperty` to add to your configuration and finally use [`store`][2] to write to them.\r\n\r\nExample:\r\n```\r\nFile appConfig = new File(&quot;a_file&quot;);\r\nFileInputStream propsInput = new FileInputStream(&quot;a_file&quot;);\r\n\r\nProperties prop = new Properties();\r\n\r\nprop.load(propsInput);\r\n\r\ntry (Writer inputStream = new FileWriter(appConfig)) {\r\n\r\n   // Setting the properties.\r\n   prop.setProperty(&quot;A_PROP&quot;, &quot;A_VALUE&quot;);\r\n\r\n   // Storing the properties in the file with a heading comment.\r\n   prop.store(inputStream, &quot;INFORMATION!!!&quot;);\r\n\r\n} catch (IOException ex) {\r\n   ex.printStackTrace();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#store(java.io.OutputStream,%20java.lang.String)","title":"Config file for a Java Application","body":"<p>I think you can use <code>java.util.properties</code> to solve your problem; to write to your properties first create a new <code>Properties</code> object, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>load</code></a> them via your <code>InputStream</code>, use methods such as <code>setProperty</code> to add to your configuration and finally use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#store(java.io.OutputStream,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>store</code></a> to write to them.</p>\n<p>Example:</p>\n<pre><code>File appConfig = new File(&quot;a_file&quot;);\nFileInputStream propsInput = new FileInputStream(&quot;a_file&quot;);\n\nProperties prop = new Properties();\n\nprop.load(propsInput);\n\ntry (Writer inputStream = new FileWriter(appConfig)) {\n\n   // Setting the properties.\n   prop.setProperty(&quot;A_PROP&quot;, &quot;A_VALUE&quot;);\n\n   // Storing the properties in the file with a heading comment.\n   prop.store(inputStream, &quot;INFORMATION!!!&quot;);\n\n} catch (IOException ex) {\n   ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602402425,"creation_date":1602402425,"answer_id":64301740,"question_id":64298538,"body_markdown":"There&#39;s no straightforward answer to the question how to externalize configuration -- it depends on the application and the environment in which it will be deployed.\r\n\r\nThe Java preferences API is an attempt to get around this problem by providing a platform-neutral API for preferences. On Linux, the data is actually stored in an XML file in a subdirectory of `$HOME/.java` but, of course, the programmer isn&#39;t supposed to be concerned about this. Using this API is convenient, but doesn&#39;t allow complex data to be stored, and doesn&#39;t easily allow the programmer to provide the application with a way to read configuration from some specific place. \r\n\r\nRather than use the preferences API you can read/write files explicitly. For simple &#39;name=value&#39; configuration, you can use a `Properties` object, which has methods for handling files. This method does allow a specific file location but, of course, controlling the file location does require some adaptation for the various platforms you might support.\r\n\r\nIf your configuration is more complex than &#39;name=value&#39;, you could read/write it in a format of your choice -- JSON, YAML, XML, etc. All these file formats are well-supported by Java. Using a text-based format allows users to edit the configuration using other tools, if they so wish.\r\n\r\nIn practice, I nearly always externalize configuration in serialized Java objects, into a file whose location I control. This allows configuration of arbitrary complexity without additional coding, since you&#39;re storing Java data directly. It takes a bit of work to structure a program to be serialized, but it&#39;s worth it in the long run. Unfortunately, this approach does not allow for easy editing of the configuration outside the program.\r\n\r\nIf you ever intend to run the application in a container (Docker, etc), then completely different considerations apply. You&#39;ll need to use a method of externalizing configuration that is compatible with the container platform -- simply reading and writing files is often inappropriate in such an environment.\r\n\r\nIf you&#39;re unsure how you want to handle configuration, do it in a class that implements an interface you define. Then, if you later change your mind, you can supply a different class that implements the same interface.\r\n","title":"Config file for a Java Application","body":"<p>There's no straightforward answer to the question how to externalize configuration -- it depends on the application and the environment in which it will be deployed.</p>\n<p>The Java preferences API is an attempt to get around this problem by providing a platform-neutral API for preferences. On Linux, the data is actually stored in an XML file in a subdirectory of <code>$HOME/.java</code> but, of course, the programmer isn't supposed to be concerned about this. Using this API is convenient, but doesn't allow complex data to be stored, and doesn't easily allow the programmer to provide the application with a way to read configuration from some specific place.</p>\n<p>Rather than use the preferences API you can read/write files explicitly. For simple 'name=value' configuration, you can use a <code>Properties</code> object, which has methods for handling files. This method does allow a specific file location but, of course, controlling the file location does require some adaptation for the various platforms you might support.</p>\n<p>If your configuration is more complex than 'name=value', you could read/write it in a format of your choice -- JSON, YAML, XML, etc. All these file formats are well-supported by Java. Using a text-based format allows users to edit the configuration using other tools, if they so wish.</p>\n<p>In practice, I nearly always externalize configuration in serialized Java objects, into a file whose location I control. This allows configuration of arbitrary complexity without additional coding, since you're storing Java data directly. It takes a bit of work to structure a program to be serialized, but it's worth it in the long run. Unfortunately, this approach does not allow for easy editing of the configuration outside the program.</p>\n<p>If you ever intend to run the application in a container (Docker, etc), then completely different considerations apply. You'll need to use a method of externalizing configuration that is compatible with the container platform -- simply reading and writing files is often inappropriate in such an environment.</p>\n<p>If you're unsure how you want to handle configuration, do it in a class that implements an interface you define. Then, if you later change your mind, you can supply a different class that implements the same interface.</p>\n"}],"owner":{"display_name":"user14386169"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8552,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64298785,"answer_count":2,"score":4,"last_activity_date":1645482623,"creation_date":1602365743,"question_id":64298538,"body_markdown":"I am building a Java Application with the intention of packaging it to be a windows executable in the future. My NetBeans project structure can be seen\r\n[here.][1]\r\nI am currently reading from config.properties using getResourceAsStream(). I was not aware that this file cannot be written to in a similar manner. Would anyone be able to advise a way to achieve this or is a different approach to my problem required? Thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4FUwQ.png","title":"Config file for a Java Application","body":"<p>I am building a Java Application with the intention of packaging it to be a windows executable in the future. My NetBeans project structure can be seen\n<a href=\"https://i.stack.imgur.com/4FUwQ.png\" rel=\"nofollow noreferrer\">here.</a>\nI am currently reading from config.properties using getResourceAsStream(). I was not aware that this file cannot be written to in a similar manner. Would anyone be able to advise a way to achieve this or is a different approach to my problem required? Thanks.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1645445596,"post_id":71206038,"comment_id":125865620,"body_markdown":"Do https://www.tutorialsfield.com/jbutton-click-event/  or https://stackoverflow.com/questions/26628033/add-click-event-to-jbutton-in-gridlayout-java answer your question?","body":"Do <a href=\"https://www.tutorialsfield.com/jbutton-click-event/\" rel=\"nofollow noreferrer\">tutorialsfield.com/jbutton-click-event</a>  or <a href=\"https://stackoverflow.com/questions/26628033/add-click-event-to-jbutton-in-gridlayout-java\" title=\"add click event to jbutton in gridlayout java\">stackoverflow.com/questions/26628033/&hellip;</a> answer your question?"},{"owner":{"account_id":3012429,"reputation":700,"user_id":2555560,"accept_rate":87,"display_name":"Tilman Zuckmantel"},"score":1,"creation_date":1645446070,"post_id":71206038,"comment_id":125865783,"body_markdown":"Maybe for a better answer to this: Which framework are you using to implement the gui ?","body":"Maybe for a better answer to this: Which framework are you using to implement the gui ?"},{"owner":{"account_id":22181537,"reputation":1,"user_id":16425183,"display_name":"User123"},"score":0,"creation_date":1645446205,"post_id":71206038,"comment_id":125865843,"body_markdown":"It&#39;s a swing interface","body":"It&#39;s a swing interface"},{"owner":{"account_id":22181537,"reputation":1,"user_id":16425183,"display_name":"User123"},"score":0,"creation_date":1645448739,"post_id":71206038,"comment_id":125866821,"body_markdown":"@Reporter, the gui and paging() methods are on different classes","body":"@Reporter, the gui and paging() methods are on different classes"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1645452245,"post_id":71206038,"comment_id":125868199,"body_markdown":"@blueberry123 Then provide example code. An individual problem needs an individual solution.","body":"@blueberry123 Then provide example code. An individual problem needs an individual solution."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645455676,"post_id":71206038,"comment_id":125869748,"body_markdown":"*I want the paging() method to wait until the user clicks a button.* - this is the default behaviour. A Swing GUI generally sits there and does nothing until the user generates some kind of event. So if you have some kind of looping logic in your paging method  you need to remove it. Your logic should just display 10 items and do nothing until the clicks on a button at which time you then invoke the appropriate logic.","body":"<i>I want the paging() method to wait until the user clicks a button.</i> - this is the default behaviour. A Swing GUI generally sits there and does nothing until the user generates some kind of event. So if you have some kind of looping logic in your paging method  you need to remove it. Your logic should just display 10 items and do nothing until the clicks on a button at which time you then invoke the appropriate logic."},{"owner":{"account_id":22181537,"reputation":1,"user_id":16425183,"display_name":"User123"},"score":0,"creation_date":1645456646,"post_id":71206038,"comment_id":125870169,"body_markdown":"yes, there is a loop that waits for user action. This program was initially written as a console program and at that point it would wait for user input from the console.","body":"yes, there is a loop that waits for user action. This program was initially written as a console program and at that point it would wait for user input from the console."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645469396,"post_id":71206038,"comment_id":125874949,"body_markdown":"Maybe you should consider JavaFX. It has a [Pagination](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Pagination.html) control.","body":"Maybe you should consider JavaFX. It has a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Pagination.html\" rel=\"nofollow noreferrer\">Pagination</a> control."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1645478803,"post_id":71206038,"comment_id":125877869,"body_markdown":"For better help sooner, [edit] to add a [mre].","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/71206038/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645484333,"post_id":71206038,"comment_id":125879263,"body_markdown":"Console and GUI applications are fundamentally different. In a console application, user input is something you go and get. In a GUI application, user input is something that happens to you. You need to turn things inside-out to go from one to the other.","body":"Console and GUI applications are fundamentally different. In a console application, user input is something you go and get. In a GUI application, user input is something that happens to you. You need to turn things inside-out to go from one to the other."}],"owner":{"account_id":22181537,"reputation":1,"user_id":16425183,"display_name":"User123"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645481832,"creation_date":1645445181,"question_id":71206038,"body_markdown":"I have a program with a gui and a different class named Search with a static method named paging().\r\nThis paging method retrieves some results and shows them using pagination,\r\nso, it prints first e.x 10 results and then asks the user if he wants to continue to the next page, previous, quit or jump to a page.\r\nI have buttons for previous, next page etc. on the gui, so I want the paging() method to wait until the user clicks a button.\r\nWhat is the right way to do this?\r\n\r\n```\r\npublic Gui extends JFrame{\r\n\r\nJButton Next;\r\nJButton Previous;\r\nJTextField textField;\r\n\r\npublic static void Main(){\r\n \r\n  }\r\n}\r\n```\r\n____\r\n\r\n    public class Search(){\r\n       public static void paging(){\r\n            int results; // the results returned for the search \r\n            int itempsPerPage = 10;\r\n            \r\n            while(true){\r\n                Console.WriteLine(&quot;Press (n)ext page, (p)revious page, \r\n                                    (q)uit&quot;);\r\n              BufferedReader reader = new BufferedReader(\r\n                                      new InputStreamReader(System.in));  \r\n             String input = reader.readLine();\r\n             if (input.charAt(0)==&#39;q&#39;) {\r\n                     stopSearch = true;\r\n                     break;\r\n             }\r\n             if(input.charAt(0) == &#39;p&#39;){\r\n               // Go to previous page\r\n                 break;\r\n             }\r\n             else if(input.charAt(0) == &#39;n&#39;){\r\n                //Go to next page\r\n                 break;\r\n                }  \r\n             }\r\n        }\r\n    }\r\n\r\nThis is how it was written initially as a console program\r\n\r\n","title":"How to make class method wait for user input from gui","body":"<p>I have a program with a gui and a different class named Search with a static method named paging().\nThis paging method retrieves some results and shows them using pagination,\nso, it prints first e.x 10 results and then asks the user if he wants to continue to the next page, previous, quit or jump to a page.\nI have buttons for previous, next page etc. on the gui, so I want the paging() method to wait until the user clicks a button.\nWhat is the right way to do this?</p>\n<pre><code>public Gui extends JFrame{\n\nJButton Next;\nJButton Previous;\nJTextField textField;\n\npublic static void Main(){\n \n  }\n}\n</code></pre>\n<hr />\n<pre><code>public class Search(){\n   public static void paging(){\n        int results; // the results returned for the search \n        int itempsPerPage = 10;\n        \n        while(true){\n            Console.WriteLine(&quot;Press (n)ext page, (p)revious page, \n                                (q)uit&quot;);\n          BufferedReader reader = new BufferedReader(\n                                  new InputStreamReader(System.in));  \n         String input = reader.readLine();\n         if (input.charAt(0)=='q') {\n                 stopSearch = true;\n                 break;\n         }\n         if(input.charAt(0) == 'p'){\n           // Go to previous page\n             break;\n         }\n         else if(input.charAt(0) == 'n'){\n            //Go to next page\n             break;\n            }  \n         }\n    }\n}\n</code></pre>\n<p>This is how it was written initially as a console program</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645483709,"post_id":71213670,"comment_id":125879123,"body_markdown":"Given that some of the code in your application has (presumably) been generated by gluegen, dropping in a new version of the runtime jar may not work, even if you fix trivial changes like package names. I would try to find the shared library which matches the original version of gluegen, if you can.","body":"Given that some of the code in your application has (presumably) been generated by gluegen, dropping in a new version of the runtime jar may not work, even if you fix trivial changes like package names. I would try to find the shared library which matches the original version of gluegen, if you can."},{"owner":{"account_id":13315474,"reputation":577,"user_id":13241857,"display_name":"Gaston"},"score":0,"creation_date":1645527484,"post_id":71213670,"comment_id":125889270,"body_markdown":"@tgdavies so you are confirming that gluegen requires the existence of (versioned) binaries/dynamic libraries inside the java library path? i.e. that only pointing to the `.jar` is not enough.","body":"@tgdavies so you are confirming that gluegen requires the existence of (versioned) binaries/dynamic libraries inside the java library path? i.e. that only pointing to the <code>.jar</code> is not enough."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645533493,"post_id":71213670,"comment_id":125891526,"body_markdown":"Yes, see these questions https://stackoverflow.com/search?q=gluegen-rt","body":"Yes, see these questions <a href=\"https://stackoverflow.com/search?q=gluegen-rt\">stackoverflow.com/search?q=gluegen-rt</a>"},{"owner":{"account_id":13315474,"reputation":577,"user_id":13241857,"display_name":"Gaston"},"score":0,"creation_date":1645533799,"post_id":71213670,"comment_id":125891670,"body_markdown":"Thank you, can you please be kind enough to confirm it is correct having understood that the procedure of adding the binaries/dynamic libraries is &quot;equivalent&quot; to just replacing the (non-excutable) `.jar` with an executable one?","body":"Thank you, can you please be kind enough to confirm it is correct having understood that the procedure of adding the binaries/dynamic libraries is &quot;equivalent&quot; to just replacing the (non-excutable) <code>.jar</code> with an executable one?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645533875,"post_id":71213670,"comment_id":125891714,"body_markdown":"I&#39;m not sure what you mean.","body":"I&#39;m not sure what you mean."},{"owner":{"account_id":13315474,"reputation":577,"user_id":13241857,"display_name":"Gaston"},"score":0,"creation_date":1645534309,"post_id":71213670,"comment_id":125891917,"body_markdown":"That people can either (1) add `.so`/other files in the java.library.path and add in the classpath files called non-executable `.jar`&#39;s, or (2) only add in classpath files called &quot;executable jars&quot;.","body":"That people can either (1) add <code>.so</code>/other files in the java.library.path and add in the classpath files called non-executable <code>.jar</code>&#39;s, or (2) only add in classpath files called &quot;executable jars&quot;."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645534466,"post_id":71213670,"comment_id":125891991,"body_markdown":"An executable jar will still need the .so. An executable jar just has some information in its manifest about what class to run.","body":"An executable jar will still need the .so. An executable jar just has some information in its manifest about what class to run."}],"owner":{"account_id":13315474,"reputation":577,"user_id":13241857,"display_name":"Gaston"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645481825,"creation_date":1645481825,"question_id":71213670,"body_markdown":"\r\n\r\nAs a total noob in Java faced with the task of making this program work asap, unfortunately I&#39;m stuck on a loop after consuming the basic bibliography. \r\n\r\nThe scenario is a 32-bit Linux machine (Ubuntu 16), which has installed both OpenJDK 8 and 11.\r\n\r\nAnd a Java Software where `tree .` yields\r\n\r\n```\r\n- shiftone-jrat.jar // &lt;-- Special jar because  it&#39;s outside &quot;lib&quot;?\r\n- fooModule\r\n    - foo.class\r\n    - foo.java\r\n    - ...\r\n- barModule\r\n    - bar.class\r\n    - bar.java\r\n    - ...\r\n- ui\r\n    - Main.class\r\n    - Main.java  // &lt;-- Special Code because it has &quot;main()&quot;\r\n    - ...\r\n- lib\r\n    - jogl.jar\r\n    - vecmath.jar\r\n    - gluegen-rt.jar\r\n    - ...\r\n- run.bat\r\n- .classpath\r\n```\r\n\r\nThe presence of `run.bat` files suggest that it was compiled in Windows, and after opening `.classpath` one can note the process was managed from the Eclipse IDE.\r\n\r\nAs far as I understand Java is very portable so there is no need to recompile the files, we only need to run it.\r\n\r\nThe only command that has worked without errors is \r\n\r\n`java -jar shiftone-jrat.jar`\r\n\r\nBut after a quick Google search one can note that jrat is only a profiler.\r\n\r\nThus, the relevant call has to be \r\n\r\n`java ui.Main`\r\n\r\nNevertheless, that yields `noClassDefFoundError`: the first thing it can complain about before termination is a package called &#39;vecmath&#39; which is part of our jars in `./lib`. Therefore the option `cp` is added to the command `java`, like this\r\n\r\n`java -cp &quot;lib/*&quot; ui.Main&quot;`\r\n\r\nIn this case the problem is that `ui.Main` itself is not found, so the option is passed a new argument like this:\r\n\r\n`java -cp &quot;.:lib/*&quot; ui.Main&quot;`\r\n\r\nUp to this point the previous questions on the same topic here on StackOverflow are very informative. For this particular case they are not sufficient, as the previous command opens a (blank) window that reports the following error:\r\n\r\n`no gluegen-rt in java.library.path` \r\n\r\nWhere `java.library.path` includes common root places (e.g. `/usr/lib/jni`, `/usr/lib`, `/lib` and `/usr/java/packages/lib`).\r\n\r\nPlease note that there is a `.jar` called `gluegen-rt.jar` at `./lib`, the same folder that made the previous error vanish by providing a jar called `vecmath.jar`.\r\n\r\nWithout fully understanding what `.jar`s are, I downloaded  `libgluegen2` (and perhaps also jogamp,or it is included? sorry, I don&#39;t remember) from ubuntu apt.pkgs (which is the only one I&#39;ve found, i.e. the &quot;2&quot;), and replaced the\r\n\r\n`lib/gluegen-rt.jar` file with the jar from \r\n\r\n`/usr/share/java/gluegen2-2.3.2-rt.jar`.\r\n\r\nAgain, I ran \r\n\r\n`java -cp &quot;.:lib/*&quot; ui.Main&quot;`\r\n\r\nAnd now the `NoClassDefFoundError` mentions `gluegen/runtime/DynamicLookupHelper`.\r\n\r\nA quick `(cd /usr/share/java ; grep -r &quot;DynamicLookupHelper&quot;)` shows that `jogl2.jar` also matches and thus I also overwrite \r\n\r\n`lib/jogl.jar` file with the jar from \r\n\r\n`/usr/share/java/jogl2.jar`.\r\n\r\nFinally the `NoClassDefFoundError` error is thrown again, this time because there  is no such thing as `javax.media.opengl`, which is often used in the program java&#39;s files at imports.\r\n\r\nA quick Google search yields that Java&#39;s implementation of OpenGL had &quot;some&quot; changes at &quot;some&quot; point in time, thus the lines \r\n\r\n`javax.media.opengl` should be changed to \r\n\r\n`com.jogamp.opengl` to comply with our &quot;newest&quot; version. \r\n\r\nI made the changes but then some other lines were broken, so finally I appear to be faced with either (1) looking for the &quot;right&quot; jogamp and/or gluegen or (2) continue the migration. There  may be 5k lines. \r\n\r\nQuestions such as: Is there any other option I&#39;m missing? Is the whole procedure correct? Where are old versions available? Can I leverage the xml-styled `.classpath` file?\r\n\r\nThanks\r\n","title":"Old OpenGL/Gluegen and basic errors on 32-bit Java. Migration or rookie mistake?","body":"<p>As a total noob in Java faced with the task of making this program work asap, unfortunately I'm stuck on a loop after consuming the basic bibliography.</p>\n<p>The scenario is a 32-bit Linux machine (Ubuntu 16), which has installed both OpenJDK 8 and 11.</p>\n<p>And a Java Software where <code>tree .</code> yields</p>\n<pre><code>- shiftone-jrat.jar // &lt;-- Special jar because  it's outside &quot;lib&quot;?\n- fooModule\n    - foo.class\n    - foo.java\n    - ...\n- barModule\n    - bar.class\n    - bar.java\n    - ...\n- ui\n    - Main.class\n    - Main.java  // &lt;-- Special Code because it has &quot;main()&quot;\n    - ...\n- lib\n    - jogl.jar\n    - vecmath.jar\n    - gluegen-rt.jar\n    - ...\n- run.bat\n- .classpath\n</code></pre>\n<p>The presence of <code>run.bat</code> files suggest that it was compiled in Windows, and after opening <code>.classpath</code> one can note the process was managed from the Eclipse IDE.</p>\n<p>As far as I understand Java is very portable so there is no need to recompile the files, we only need to run it.</p>\n<p>The only command that has worked without errors is</p>\n<p><code>java -jar shiftone-jrat.jar</code></p>\n<p>But after a quick Google search one can note that jrat is only a profiler.</p>\n<p>Thus, the relevant call has to be</p>\n<p><code>java ui.Main</code></p>\n<p>Nevertheless, that yields <code>noClassDefFoundError</code>: the first thing it can complain about before termination is a package called 'vecmath' which is part of our jars in <code>./lib</code>. Therefore the option <code>cp</code> is added to the command <code>java</code>, like this</p>\n<p><code>java -cp &quot;lib/*&quot; ui.Main&quot;</code></p>\n<p>In this case the problem is that <code>ui.Main</code> itself is not found, so the option is passed a new argument like this:</p>\n<p><code>java -cp &quot;.:lib/*&quot; ui.Main&quot;</code></p>\n<p>Up to this point the previous questions on the same topic here on StackOverflow are very informative. For this particular case they are not sufficient, as the previous command opens a (blank) window that reports the following error:</p>\n<p><code>no gluegen-rt in java.library.path</code></p>\n<p>Where <code>java.library.path</code> includes common root places (e.g. <code>/usr/lib/jni</code>, <code>/usr/lib</code>, <code>/lib</code> and <code>/usr/java/packages/lib</code>).</p>\n<p>Please note that there is a <code>.jar</code> called <code>gluegen-rt.jar</code> at <code>./lib</code>, the same folder that made the previous error vanish by providing a jar called <code>vecmath.jar</code>.</p>\n<p>Without fully understanding what <code>.jar</code>s are, I downloaded  <code>libgluegen2</code> (and perhaps also jogamp,or it is included? sorry, I don't remember) from ubuntu apt.pkgs (which is the only one I've found, i.e. the &quot;2&quot;), and replaced the</p>\n<p><code>lib/gluegen-rt.jar</code> file with the jar from</p>\n<p><code>/usr/share/java/gluegen2-2.3.2-rt.jar</code>.</p>\n<p>Again, I ran</p>\n<p><code>java -cp &quot;.:lib/*&quot; ui.Main&quot;</code></p>\n<p>And now the <code>NoClassDefFoundError</code> mentions <code>gluegen/runtime/DynamicLookupHelper</code>.</p>\n<p>A quick <code>(cd /usr/share/java ; grep -r &quot;DynamicLookupHelper&quot;)</code> shows that <code>jogl2.jar</code> also matches and thus I also overwrite</p>\n<p><code>lib/jogl.jar</code> file with the jar from</p>\n<p><code>/usr/share/java/jogl2.jar</code>.</p>\n<p>Finally the <code>NoClassDefFoundError</code> error is thrown again, this time because there  is no such thing as <code>javax.media.opengl</code>, which is often used in the program java's files at imports.</p>\n<p>A quick Google search yields that Java's implementation of OpenGL had &quot;some&quot; changes at &quot;some&quot; point in time, thus the lines</p>\n<p><code>javax.media.opengl</code> should be changed to</p>\n<p><code>com.jogamp.opengl</code> to comply with our &quot;newest&quot; version.</p>\n<p>I made the changes but then some other lines were broken, so finally I appear to be faced with either (1) looking for the &quot;right&quot; jogamp and/or gluegen or (2) continue the migration. There  may be 5k lines.</p>\n<p>Questions such as: Is there any other option I'm missing? Is the whole procedure correct? Where are old versions available? Can I leverage the xml-styled <code>.classpath</code> file?</p>\n<p>Thanks</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":11624106,"reputation":2811,"user_id":11808788,"display_name":"Charles"},"score":0,"creation_date":1645475945,"post_id":71212733,"comment_id":125877036,"body_markdown":"Knapsack Problem, lots of stuff on google to solve it.\nhttps://dotnetcoretutorials.com/2020/04/22/knapsack-algorithm-in-c/","body":"Knapsack Problem, lots of stuff on google to solve it. <a href=\"https://dotnetcoretutorials.com/2020/04/22/knapsack-algorithm-in-c/\" rel=\"nofollow noreferrer\">dotnetcoretutorials.com/2020/04/22/knapsack-algorithm-in-c</a>"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1645476274,"post_id":71212733,"comment_id":125877142,"body_markdown":"@Charles, it has value and weight both right, how can I apply to this task?","body":"@Charles, it has value and weight both right, how can I apply to this task?"},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":1,"creation_date":1645477108,"post_id":71212733,"comment_id":125877398,"body_markdown":"While this is technically a special case of integer knapsack, it is usually called coin-change or the [change-making problem](https://en.wikipedia.org/wiki/Change-making_problem), for which dynamic programming is a common solution. See also the [coin-change](https://stackoverflow.com/questions/tagged/coin-change) question tag for questions about this in a variety of languages and variants.","body":"While this is technically a special case of integer knapsack, it is usually called coin-change or the <a href=\"https://en.wikipedia.org/wiki/Change-making_problem\" rel=\"nofollow noreferrer\">change-making problem</a>, for which dynamic programming is a common solution. See also the <a href=\"https://stackoverflow.com/questions/tagged/coin-change\">coin-change</a> question tag for questions about this in a variety of languages and variants."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1645477222,"post_id":71212733,"comment_id":125877443,"body_markdown":"@kcsquared, I was looking at this post https://www.geeksforgeeks.org/coin-change-dp-7/, but this tutorial is just giving how many total coins needed, instead of each coin count.","body":"@kcsquared, I was looking at this post <a href=\"https://www.geeksforgeeks.org/coin-change-dp-7/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/coin-change-dp-7</a>, but this tutorial is just giving how many total coins needed, instead of each coin count."}],"answers":[{"tags":[],"owner":{"account_id":24303569,"reputation":31,"user_id":18246669,"display_name":"Pasqu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645480542,"creation_date":1645480542,"answer_id":71213469,"question_id":71212733,"body_markdown":"I have an answer but unfortunately it uses a cycle. I&#39;ll share it with you, although you might prefer something cleaner.\r\n\r\n    int count20=0;\r\n    while(amount%50!=0){\r\n      amount-=20;\r\n      count20++;\r\n    }\r\n    int a = amount/100\r\n    amount%=100;\r\n    int b=amount/50;\r\n\r\nI&#39;m interested to see if someone found a smarter way to solve this. Bye, have a nice coding session.\r\n","title":"Find possible number of coins for a given currency","body":"<p>I have an answer but unfortunately it uses a cycle. I'll share it with you, although you might prefer something cleaner.</p>\n<pre><code>int count20=0;\nwhile(amount%50!=0){\n  amount-=20;\n  count20++;\n}\nint a = amount/100\namount%=100;\nint b=amount/50;\n</code></pre>\n<p>I'm interested to see if someone found a smarter way to solve this. Bye, have a nice coding session.</p>\n"},{"tags":[],"owner":{"account_id":11624106,"reputation":2811,"user_id":11808788,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645481616,"creation_date":1645481616,"answer_id":71213645,"question_id":71212733,"body_markdown":"This works for me\r\n\r\n    public int coinChange(int[] coins, int amount) {\r\n        int max = amount + 1;             \r\n        int[] dp = new int[amount + 1];  \r\n        int[] change = new int[amount + 1]; \r\n        Arrays.fill(dp, max);  \r\n        dp[0] = 0;   \r\n        for (int i = 1; i &lt;= amount;  i++)   {\r\n            for (int j = 0;  j  &lt;  coins.length;  j++)  {\r\n                if (coins[j]  &lt;=  i)  {\r\n                    if (dp[i]  &gt;  dp[i - coins[j]]  +  1)  {\r\n                        change[i]  =  j;\r\n                        dp[i] = dp[i  -  coins[j]]  +  1;\r\n                    }\t                 \r\n                }\r\n            }\r\n        }\r\n        int cur  =  amount;\r\n        do  {\r\n            System.out.println(coins[change[cur]]);\r\n            cur  -=  coins[change[cur]];\r\n        }\r\n        while (cur  &gt;  0);\r\n       \r\n        return dp[amount] &gt; amount ? -1 : dp[amount];\r\n    }\r\n\r\nPrints\r\n\r\n&gt; 20, 20, 20, 20, 50, 100","title":"Find possible number of coins for a given currency","body":"<p>This works for me</p>\n<pre><code>public int coinChange(int[] coins, int amount) {\n    int max = amount + 1;             \n    int[] dp = new int[amount + 1];  \n    int[] change = new int[amount + 1]; \n    Arrays.fill(dp, max);  \n    dp[0] = 0;   \n    for (int i = 1; i &lt;= amount;  i++)   {\n        for (int j = 0;  j  &lt;  coins.length;  j++)  {\n            if (coins[j]  &lt;=  i)  {\n                if (dp[i]  &gt;  dp[i - coins[j]]  +  1)  {\n                    change[i]  =  j;\n                    dp[i] = dp[i  -  coins[j]]  +  1;\n                }                    \n            }\n        }\n    }\n    int cur  =  amount;\n    do  {\n        System.out.println(coins[change[cur]]);\n        cur  -=  coins[change[cur]];\n    }\n    while (cur  &gt;  0);\n   \n    return dp[amount] &gt; amount ? -1 : dp[amount];\n}\n</code></pre>\n<p>Prints</p>\n<blockquote>\n<p>20, 20, 20, 20, 50, 100</p>\n</blockquote>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1645481616,"creation_date":1645475831,"question_id":71212733,"body_markdown":"I have some amount given say 230. Now I have to find the minimum number of coins of 100, 50 and 20 so I can make a sum of 230.\r\n\r\nHere is my Java code, here I tried with greedy logic but it fails:\r\n\r\n    public List&lt;Integer&gt; getCoins(int amount) {\r\n       int a = amount /100;\r\n       int bal = amount % 100;\r\n       int b = bal/ 50;\r\n       bal %= 50;\r\n       int c = bal/20;\r\n       List&lt;Integer&gt; list = Arrays.asList(a,b,c);\r\n      return list;\r\n    }\r\n\r\nMy program gives a wrong answer as [2,0,1] but the correct one is [1,1,4]\r\nSimilarly for input 60 the correct output is [0,0,3]\r\n\r\nWhat is the correct approach to solve this task?\r\n","title":"Find possible number of coins for a given currency","body":"<p>I have some amount given say 230. Now I have to find the minimum number of coins of 100, 50 and 20 so I can make a sum of 230.</p>\n<p>Here is my Java code, here I tried with greedy logic but it fails:</p>\n<pre><code>public List&lt;Integer&gt; getCoins(int amount) {\n   int a = amount /100;\n   int bal = amount % 100;\n   int b = bal/ 50;\n   bal %= 50;\n   int c = bal/20;\n   List&lt;Integer&gt; list = Arrays.asList(a,b,c);\n  return list;\n}\n</code></pre>\n<p>My program gives a wrong answer as [2,0,1] but the correct one is [1,1,4]\nSimilarly for input 60 the correct output is [0,0,3]</p>\n<p>What is the correct approach to solve this task?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-ec2"],"comments":[{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1645481979,"post_id":71213635,"comment_id":125878703,"body_markdown":"First rule&#39;s ip (::/0) refer to ipv6 addresses, try with 0.0.0.0/0 (all ipv4 addresses), are you sure that from your local machine you are pointing to the right ip?","body":"First rule&#39;s ip (::/0) refer to ipv6 addresses, try with 0.0.0.0/0 (all ipv4 addresses), are you sure that from your local machine you are pointing to the right ip?"},{"owner":{"account_id":13078007,"reputation":546,"user_id":9449413,"display_name":"Safwan Shaikh"},"score":0,"creation_date":1645482144,"post_id":71213635,"comment_id":125878751,"body_markdown":"@rentox98 when I am assigning 0.0.0.0/0 it gives me the error that You may not specify an IPv4 CIDR for an existing IPv6 CIDR rule.","body":"@rentox98 when I am assigning 0.0.0.0/0 it gives me the error that You may not specify an IPv4 CIDR for an existing IPv6 CIDR rule."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":1,"creation_date":1645482879,"post_id":71213635,"comment_id":125878925,"body_markdown":"Try to add another rule for ipv4, read this:\nhttps://docs.aws.amazon.com/AWSEC2/latest/UserGuide/security-group-rules-reference.html#sg-rules-web-server","body":"Try to add another rule for ipv4, read this: <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/security-group-rules-reference.html#sg-rules-web-server\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSEC2/latest/UserGuide/&hellip;</a>"},{"owner":{"account_id":13078007,"reputation":546,"user_id":9449413,"display_name":"Safwan Shaikh"},"score":0,"creation_date":1645704749,"post_id":71213635,"comment_id":125945466,"body_markdown":"@rentox98 Thanks for this document. It helps me to solve my problem.","body":"@rentox98 Thanks for this document. It helps me to solve my problem."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":0,"creation_date":1645731790,"post_id":71213635,"comment_id":125955857,"body_markdown":"You&#39;re Welcome, how did you solve it?","body":"You&#39;re Welcome, how did you solve it?"}],"owner":{"account_id":13078007,"reputation":546,"user_id":9449413,"display_name":"Safwan Shaikh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645481530,"creation_date":1645481530,"question_id":71213635,"body_markdown":"I placed a JAR file inside the ec2 instance and start it by using the following command\r\n```java -jar abc.java```\r\nI opened another ssh window and try to call the API endpoint, it fetched data successfully. However, when I am trying to call it from my local machine or Postman it gives me the error of **Could not connect to the requested server host.**  \r\nFollowing are my ec2 inbound rules. How can I call my rest endpoint. any help would be appriciated.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZE8ed.png","title":"Call Java Spring Rest Api from Postman to EC2","body":"<p>I placed a JAR file inside the ec2 instance and start it by using the following command\n<code>java -jar abc.java</code>\nI opened another ssh window and try to call the API endpoint, it fetched data successfully. However, when I am trying to call it from my local machine or Postman it gives me the error of <strong>Could not connect to the requested server host.</strong><br />\nFollowing are my ec2 inbound rules. How can I call my rest endpoint. any help would be appriciated.\n<a href=\"https://i.stack.imgur.com/ZE8ed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZE8ed.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","eclipse","sdk","adt"],"comments":[{"owner":{"account_id":1922435,"reputation":285,"user_id":4244607,"display_name":"Zedaiq"},"score":0,"creation_date":1422388883,"post_id":28178838,"comment_id":44727007,"body_markdown":"After doing the above have you restarted eclipse?","body":"After doing the above have you restarted eclipse?"},{"owner":{"account_id":3605552,"reputation":414,"user_id":3007795,"accept_rate":64,"display_name":"Joyal"},"score":0,"creation_date":1422438734,"post_id":28178838,"comment_id":44746250,"body_markdown":"@Zedaiq .. I restarted eclipse after the steps..","body":"@Zedaiq .. I restarted eclipse after the steps.."}],"answers":[{"tags":[],"owner":{"account_id":982514,"reputation":3788,"user_id":1001889,"accept_rate":73,"display_name":"Shine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1422394247,"creation_date":1422393825,"answer_id":28180270,"question_id":28178838,"body_markdown":"You can also try all of the following to speed up your current IDE (apart from buying a SSD):\r\n\r\n - Increase Eclipse memory availability editing eclipse.ini (XXMaxPermSize and such)\r\n - Remove/uninstall non-Android related and unused plugins\r\n - deactivate validators and spell checkers\r\n - start Eclipse using `--clean` option\r\n\r\nI noticed a notable performance degradation using Eclipse to develop Android apps since when I started, at SDK 7. I warmly suggest you to switch to Android studio, as it is now [The official Android IDE][1]. [Migration][2] is almost straightforward and you&#39;ll get many advantages, native Android wear support and a much more effective and integrated dev environment.\r\n\r\nGradle, the new build tool used by default, builds the workspace incrementally, only re-compiling units and modules as needed. I guess it&#39;s up to 30% faster than Eclipse in building it up.\r\n\r\nThis answer is counter-biased since I&#39;m a fan of Eclipse\r\n\r\n\r\n  [1]: https://developer.android.com/sdk/index.html\r\n  [2]: https://developer.android.com/sdk/installing/migrate.html","title":"Error when building Eclipse workspace OLD","body":"<p>You can also try all of the following to speed up your current IDE (apart from buying a SSD):</p>\n\n<ul>\n<li>Increase Eclipse memory availability editing eclipse.ini (XXMaxPermSize and such)</li>\n<li>Remove/uninstall non-Android related and unused plugins</li>\n<li>deactivate validators and spell checkers</li>\n<li>start Eclipse using <code>--clean</code> option</li>\n</ul>\n\n<p>I noticed a notable performance degradation using Eclipse to develop Android apps since when I started, at SDK 7. I warmly suggest you to switch to Android studio, as it is now <a href=\"https://developer.android.com/sdk/index.html\" rel=\"nofollow\">The official Android IDE</a>. <a href=\"https://developer.android.com/sdk/installing/migrate.html\" rel=\"nofollow\">Migration</a> is almost straightforward and you'll get many advantages, native Android wear support and a much more effective and integrated dev environment.</p>\n\n<p>Gradle, the new build tool used by default, builds the workspace incrementally, only re-compiling units and modules as needed. I guess it's up to 30% faster than Eclipse in building it up.</p>\n\n<p>This answer is counter-biased since I'm a fan of Eclipse</p>\n"}],"owner":{"account_id":3605552,"reputation":414,"user_id":3007795,"accept_rate":64,"display_name":"Joyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1422395658,"accepted_answer_id":28180270,"answer_count":1,"score":0,"last_activity_date":1645481305,"creation_date":1422388439,"question_id":28178838,"body_markdown":"I had a issue which is a commonly raised question regarding Android Eclipse in stackoverflow. \r\n\r\nEclipse is taking too much time to build the workspace. This started after I tried to update both ADT bundle and SDK. I followed many steps to solve this, which I&#39;ve gone through the stackoverflow\r\n\r\ni.e:\r\n\r\n1.Uncheck the Build Automatically from Project Tab  \r\n2.Window - &gt; Preferences - &gt; Android -&gt; Build -&gt; Skip packaging and dexing export or launch.(Speeds up automatic builds on file save) etc etc....\r\n\r\n  \r\nBut the issue is still there.\r\n\r\nSystem Config:\r\nRAM - 4GB &amp;\r\nWin 7(OS)\r\n\r\n\r\n\r\n\r\n","title":"Error when building Eclipse workspace OLD","body":"<p>I had a issue which is a commonly raised question regarding Android Eclipse in stackoverflow. </p>\n\n<p>Eclipse is taking too much time to build the workspace. This started after I tried to update both ADT bundle and SDK. I followed many steps to solve this, which I've gone through the stackoverflow</p>\n\n<p>i.e:</p>\n\n<p>1.Uncheck the Build Automatically from Project Tab<br>\n2.Window - > Preferences - > Android -> Build -> Skip packaging and dexing export or launch.(Speeds up automatic builds on file save) etc etc....</p>\n\n<p>But the issue is still there.</p>\n\n<p>System Config:\nRAM - 4GB &amp;\nWin 7(OS)</p>\n"},{"tags":["java","multithreading","parallel-processing","matrix-multiplication"],"answers":[{"tags":[],"owner":{"account_id":5668327,"reputation":8372,"user_id":4483840,"accept_rate":75,"display_name":"Zielu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645481184,"creation_date":1427131477,"answer_id":29216505,"question_id":29216237,"body_markdown":"You could calculate each cell of Matrix C in a separate thread, for example:\r\n```java\r\nclass Multi implements Runnable {\r\n    final int N;\r\n    final double[][] a;\r\n    final double[][] b;\r\n    final double[][] c;\r\n    final int i;\r\n    final int j;\r\n    ...\r\n\r\n    @Override\r\n    public void run() {\r\n        for (int k = 0; k &lt; N; k++)\r\n            c[i][j] += a[i][k] * b[k][j];\r\n    }\r\n}\r\n```\r\n```java\r\nExecutorService pool = ...;\r\nfor (int i = 0;...)\r\nfor (int j = 0;...)\r\npool.submit(new Multi(N, i, j, a, b, c));\r\n\r\npool.shutdown();\r\npool.awaitTermination(1, TimeUnit.DAYS);\r\n```\r\nMakes more sense to do it for whole columns or rows though.","title":"Making a matrix multiplication work in parallel java","body":"<p>You could calculate each cell of Matrix C in a separate thread, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Multi implements Runnable {\n    final int N;\n    final double[][] a;\n    final double[][] b;\n    final double[][] c;\n    final int i;\n    final int j;\n    ...\n\n    @Override\n    public void run() {\n        for (int k = 0; k &lt; N; k++)\n            c[i][j] += a[i][k] * b[k][j];\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService pool = ...;\nfor (int i = 0;...)\nfor (int j = 0;...)\npool.submit(new Multi(N, i, j, a, b, c));\n\npool.shutdown();\npool.awaitTermination(1, TimeUnit.DAYS);\n</code></pre>\n<p>Makes more sense to do it for whole columns or rows though.</p>\n"},{"tags":[],"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645348035,"creation_date":1637199717,"answer_id":70013588,"question_id":29216237,"body_markdown":"FWIW here is an alternate method using Java Streams API. There&#39;s probably better ways to implement parallel matrix multiplications, especially using BLAS libraries and GPU implementations like jcuBLAS. But if you need vanilla Java then this would be an option.\r\n\r\n```java\r\nstatic double[][] multiplyStreams(double[][] a, double[][] b) {\r\n  assert a.length == b.length;\r\n  assert a.length &gt; 0;\r\n  assert a[0].length == b[0].length;\r\n  assert a.length == a[0].length; // just work on square matrices\r\n\r\n  int N = a.length;\r\n\r\n  double[][] result = new double[N][N];\r\n\r\n  IntStream.range(0, N).parallel().forEach(i -&gt;\r\n    IntStream.range(0, N).parallel().forEach(j -&gt;\r\n      IntStream.range(0, N).forEach(k -&gt;\r\n        result[i][j] += a[i][k] * b[k][j]\r\n      )\r\n    )\r\n  );\r\n\r\n  return result;\r\n}\r\n```\r\n\r\nNotes: Comparing the original method from @Ali Mohammad and the Streams version, the Streams version is slightly faster on my machine:\r\n```\r\nCalculation completed in 1187 milliseconds\r\nStreams calculation completed in 963 milliseconds\r\n```\r\n\r\nCode for comparison:\r\n```java\r\nstartTime = System.currentTimeMillis();\r\ndouble[][] d = multiplyStreams(a, b);\r\nendTime = System.currentTimeMillis();\r\nSystem.out.println(&quot;Streams calculation completed in &quot; +\r\n        (endTime - startTime) + &quot; milliseconds&quot;);\r\n```\r\n\r\nYou can also extend the code to make it generic for any [M x K][K x N] matrix multiplication.","title":"Making a matrix multiplication work in parallel java","body":"<p>FWIW here is an alternate method using Java Streams API. There's probably better ways to implement parallel matrix multiplications, especially using BLAS libraries and GPU implementations like jcuBLAS. But if you need vanilla Java then this would be an option.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static double[][] multiplyStreams(double[][] a, double[][] b) {\n  assert a.length == b.length;\n  assert a.length &gt; 0;\n  assert a[0].length == b[0].length;\n  assert a.length == a[0].length; // just work on square matrices\n\n  int N = a.length;\n\n  double[][] result = new double[N][N];\n\n  IntStream.range(0, N).parallel().forEach(i -&gt;\n    IntStream.range(0, N).parallel().forEach(j -&gt;\n      IntStream.range(0, N).forEach(k -&gt;\n        result[i][j] += a[i][k] * b[k][j]\n      )\n    )\n  );\n\n  return result;\n}\n</code></pre>\n<p>Notes: Comparing the original method from @Ali Mohammad and the Streams version, the Streams version is slightly faster on my machine:</p>\n<pre><code>Calculation completed in 1187 milliseconds\nStreams calculation completed in 963 milliseconds\n</code></pre>\n<p>Code for comparison:</p>\n<pre class=\"lang-java prettyprint-override\"><code>startTime = System.currentTimeMillis();\ndouble[][] d = multiplyStreams(a, b);\nendTime = System.currentTimeMillis();\nSystem.out.println(&quot;Streams calculation completed in &quot; +\n        (endTime - startTime) + &quot; milliseconds&quot;);\n</code></pre>\n<p>You can also extend the code to make it generic for any [M x K][K x N] matrix multiplication.</p>\n"}],"owner":{"account_id":5977494,"reputation":33,"user_id":4697829,"accept_rate":80,"display_name":"Ali mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29216505,"answer_count":2,"score":0,"last_activity_date":1645481184,"creation_date":1427130777,"question_id":29216237,"body_markdown":"Ive created this code from what i have been taught to create a matrix multiplication.\r\n\r\nBut i want to parallise this code so it works on multiple threads.\r\n\r\nCould someone help/do this for me please? Im quite unsure how to do it!\r\n\r\nUpdated:\r\n\r\n    public class ParallelMatrix {\r\n        public final static int N = 1000; //Random size of matrix\r\n\r\n        public static void main(String[] args) throws InterruptedException {\r\n            long startTime = System.currentTimeMillis();\r\n\r\n            //Create and multiply matrix of random size N.\r\n            double[][] a = new double[N][N];\r\n            double[][] b = new double[N][N];\r\n            double[][] c = new double[N][N];\r\n\r\n            int i, j, k;\r\n\r\n            for (i = 0; i &lt; N; i++)\r\n                for (j = 0; j &lt; N; j++) {\r\n                    a[i][j] = i + j;\r\n                    b[i][j] = i * j;\r\n                }\r\n\r\n            ExecutorService pool = Executors.newFixedThreadPool(10);\r\n            for (i = 0; i &lt; N; i++) {\r\n                for (j = 0; j &lt; N; j++) {\r\n                    pool.submit(new Multi(N, i, j, a, b, c));\r\n                }\r\n            }\r\n            pool.shutdown();\r\n            pool.awaitTermination(1, TimeUnit.DAYS);\r\n            long endTime = System.currentTimeMillis();\r\n            System.out.println(&quot;Calculation completed in &quot; +\r\n                    (endTime - startTime) + &quot; milliseconds&quot;);\r\n        }\r\n\r\n        static class Multi implements Runnable {\r\n            final int N;\r\n            final double[][] a;\r\n            final double[][] b;\r\n            final double[][] c;\r\n            final int i;\r\n            final int j;\r\n\r\n            public Multi(int N, int i, int j, double[][] a, double[][] b, double[][] c) {\r\n                this.N = N;\r\n                this.i = i;\r\n                this.j = j;\r\n                this.a = a;\r\n                this.b = b;\r\n                this.c = c;\r\n            }\r\n\r\n            @Override\r\n            public void run() {\r\n                for (int k = 0; k &lt; N; k++) c[i][j] += a[i][k] * b[k][j];\r\n            }\r\n        }\r\n    }\r\n","title":"Making a matrix multiplication work in parallel java","body":"<p>Ive created this code from what i have been taught to create a matrix multiplication.</p>\n<p>But i want to parallise this code so it works on multiple threads.</p>\n<p>Could someone help/do this for me please? Im quite unsure how to do it!</p>\n<p>Updated:</p>\n<pre><code>public class ParallelMatrix {\n    public final static int N = 1000; //Random size of matrix\n\n    public static void main(String[] args) throws InterruptedException {\n        long startTime = System.currentTimeMillis();\n\n        //Create and multiply matrix of random size N.\n        double[][] a = new double[N][N];\n        double[][] b = new double[N][N];\n        double[][] c = new double[N][N];\n\n        int i, j, k;\n\n        for (i = 0; i &lt; N; i++)\n            for (j = 0; j &lt; N; j++) {\n                a[i][j] = i + j;\n                b[i][j] = i * j;\n            }\n\n        ExecutorService pool = Executors.newFixedThreadPool(10);\n        for (i = 0; i &lt; N; i++) {\n            for (j = 0; j &lt; N; j++) {\n                pool.submit(new Multi(N, i, j, a, b, c));\n            }\n        }\n        pool.shutdown();\n        pool.awaitTermination(1, TimeUnit.DAYS);\n        long endTime = System.currentTimeMillis();\n        System.out.println(&quot;Calculation completed in &quot; +\n                (endTime - startTime) + &quot; milliseconds&quot;);\n    }\n\n    static class Multi implements Runnable {\n        final int N;\n        final double[][] a;\n        final double[][] b;\n        final double[][] c;\n        final int i;\n        final int j;\n\n        public Multi(int N, int i, int j, double[][] a, double[][] b, double[][] c) {\n            this.N = N;\n            this.i = i;\n            this.j = j;\n            this.a = a;\n            this.b = b;\n            this.c = c;\n        }\n\n        @Override\n        public void run() {\n            for (int k = 0; k &lt; N; k++) c[i][j] += a[i][k] * b[k][j];\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1645358413,"post_id":71190525,"comment_id":125845246,"body_markdown":"You don&#39;t need to make SharedPreferences static variables, you can get them from anywhere you have context/activity","body":"You don&#39;t need to make SharedPreferences static variables, you can get them from anywhere you have context/activity"},{"owner":{"account_id":22013592,"reputation":23,"user_id":16283460,"display_name":"harleyquin"},"score":0,"creation_date":1645481073,"post_id":71190525,"comment_id":125878470,"body_markdown":"that doesn&#39;t fix the problem","body":"that doesn&#39;t fix the problem"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1645481146,"post_id":71190525,"comment_id":125878489,"body_markdown":"Yeah, just pointing out","body":"Yeah, just pointing out"}],"answers":[{"tags":[],"owner":{"account_id":7439562,"reputation":1930,"user_id":5657745,"accept_rate":37,"display_name":"Mohd Asif Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645320325,"creation_date":1645320325,"answer_id":71190641,"question_id":71190525,"body_markdown":"    count = adapter.getCount();\r\n    item = adapter.getItem(count-1);\r\n    adapter.clear();\r\n    adapter.add(item);\r\n    saveTimeStamp();\r\n\r\nCan you try calling saveTimeStamp() before clearing adapter?\r\nLike this\r\n\r\n    saveTimeStamp()\r\n    count = adapter.getCount();\r\n    item = adapter.getItem(count-1);\r\n    adapter.clear();\r\n    adapter.add(item);\r\n\r\n","title":"Android Shared Preferences Not Saving?","body":"<pre><code>count = adapter.getCount();\nitem = adapter.getItem(count-1);\nadapter.clear();\nadapter.add(item);\nsaveTimeStamp();\n</code></pre>\n<p>Can you try calling saveTimeStamp() before clearing adapter?\nLike this</p>\n<pre><code>saveTimeStamp()\ncount = adapter.getCount();\nitem = adapter.getItem(count-1);\nadapter.clear();\nadapter.add(item);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21792039,"reputation":81,"user_id":16092119,"display_name":"Ehsan Pagheh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645352140,"creation_date":1645352140,"answer_id":71193376,"question_id":71190525,"body_markdown":"I recommend you to create SharedPreferences in App class.override oncreate method in this class\r\n\r\n  \r\n\r\n    public class App extends Application{\r\n\r\n    public static SharedPreferences prefs;\r\n\r\n    @Override\r\n    public void onCreate(){\r\n    super.onCreate();\r\n    SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);   \r\n   }\r\n\r\nThen you can use prefs everywhere in your project like this:\r\n  \r\n\r\n      editor = App.prefs.edit();","title":"Android Shared Preferences Not Saving?","body":"<p>I recommend you to create SharedPreferences in App class.override oncreate method in this class</p>\n<pre><code>public class App extends Application{\n\npublic static SharedPreferences prefs;\n\n@Override\npublic void onCreate(){\nsuper.onCreate();\nSharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);   \n</code></pre>\n<p>}</p>\n<p>Then you can use prefs everywhere in your project like this:</p>\n<pre><code>  editor = App.prefs.edit();\n</code></pre>\n"}],"owner":{"account_id":22013592,"reputation":23,"user_id":16283460,"display_name":"harleyquin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645480991,"creation_date":1645318691,"question_id":71190525,"body_markdown":"I have an app that is supposed to do the following: The first (main) activity displays\r\na passcode that changes every minute.The time remaining in seconds before the passcode changes.\r\nThe first activity also has a button to verify the passcode. Once the user clicks the Verify button in the first activity, the second activity (verification window) should be launched and become visible to the user. The second activity should have a ListView that displays all timestamps for all passcodes that were previously generated, and one button to clear the list. Once the user exits the app, the list will clear but the last timestamp will be stored in a shared preference and will be restored the next time the user opens the application.The application should support landscape and portrait orientations and should handle screen orientation changes at run time.\r\n\r\nSo far everything should be working until the point where the app&#39;s last timestamp is saved in shared preferences. When I exit the app and reload it the timestamp is not saved and unsure why. I have included the code below. Thanks hopefully someone can help. \r\n\r\n        package com.example.security_token_app;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.os.CountDownTimer;\r\n    import android.view.View;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    import java.util.Calendar;\r\n    \r\n    public class MainActivity extends AppCompatActivity\r\n    {\r\n        static String PREF_NAME = &quot;SharedPrefFile&quot;;\r\n        static SharedPreferences SavedTimeStamp;\r\n        static SharedPreferences.Editor editor;\r\n        static String TIMESTAMP_KEY = &quot;TIMESTAMP_KEY&quot;;\r\n        private TextView countDownTextView;\r\n        TextView passCodeTextView;\r\n        static int passCode;\r\n        static String currentDateTime;\r\n        static ArrayList&lt;String&gt; arrayIntegerList = new ArrayList&lt;String&gt;();\r\n        Button verifyButton;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            countDownTextView = (TextView)findViewById(R.id.textView4_time_remaining);\r\n            passCodeTextView= (TextView)findViewById(R.id.textView3_passCode_int);\r\n            verifyButton = (Button)findViewById(R.id.button1);\r\n            SavedTimeStamp = getSharedPreferences(PREF_NAME,0);\r\n            editor = SavedTimeStamp.edit();\r\n            if(MainActivity2.isSaved==true)\r\n            {\r\n                //MainActivity2.isSaved=false;\r\n                MainActivity2.restoreTimeStamp();\r\n                openSecondaryActivity();\r\n            }\r\n            createPassCode();\r\n                new CountDownTimer(60000, 1000)\r\n                {\r\n                    @Override\r\n                    public void onTick(long timeUntillFinished)\r\n                    {\r\n                        countDownTextView.setText(&quot;seconds remaining: &quot; + timeUntillFinished / 1000 % 60);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFinish()\r\n                    {\r\n                        createPassCode();\r\n                        start();\r\n                    }\r\n                }.start();\r\n                verifyButton.setOnClickListener(new View.OnClickListener()\r\n                {\r\n                    @Override\r\n                    public void onClick(View view)\r\n                    {\r\n    //                    if(MainActivity2.isSaved==true)\r\n    //                    {\r\n    //                        MainActivity2.restoreTimeStamp();\r\n    //                    }\r\n                        openSecondaryActivity();\r\n                    }\r\n                });\r\n        }\r\n        public void createPassCode()\r\n        {\r\n            int minute = Calendar.getInstance().get(Calendar.MINUTE);\r\n            passCode=minute*1245 + 10000;\r\n            String timeStamp = getTimeStamp();\r\n            arrayIntegerList.add(timeStamp);\r\n            String passCodeStr = Integer.toString(passCode);\r\n            passCodeTextView.setText(passCodeStr);\r\n        }\r\n    \r\n        public void openSecondaryActivity()\r\n        {\r\n            Intent intent = new Intent(this, MainActivity2.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n        public static int getPassCode()\r\n        {\r\n            return passCode;\r\n        }\r\n    \r\n        public static String getTimeStamp()\r\n        {\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            currentDateTime = dateFormat.format(new Date());\r\n            return currentDateTime;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    package com.example.security_token_app;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity2 extends AppCompatActivity\r\n    {\r\n    \r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\r\n        ListView listView;\r\n        Button clearButton;\r\n        int count;\r\n        String item;\r\n        static ArrayAdapter&lt;String&gt; adapter;\r\n        static boolean isSaved = false;\r\n        boolean adapterSet = false;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n            listView = (ListView) findViewById(R.id.listView1);\r\n            clearButton = (Button) findViewById(R.id.passButton);\r\n    \r\n            for(String temp:MainActivity.arrayIntegerList)\r\n            {\r\n                arrayList.add(temp);\r\n            }\r\n            //adapter resset here? loses the saved time stamp\r\n    //        if(isSaved==true) //added\r\n    //        {\r\n    //            isSaved=false;\r\n    //            return;\r\n    //        }\r\n            if(isSaved==false)\r\n            {\r\n                adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, arrayList);\r\n                listView.setAdapter(adapter);\r\n            }\r\n            isSaved=false;\r\n    \r\n            clearButton.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                @Override\r\n                public void onClick(View view)\r\n                {\r\n                    count = adapter.getCount();\r\n                    item = adapter.getItem(count-1);\r\n                    adapter.clear();\r\n                    adapter.add(item);\r\n                    saveTimeStamp();\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void saveTimeStamp()\r\n        {\r\n            int i = adapter.getCount();\r\n            if(isSaved==true)  //changed from i==1\r\n            {\r\n                isSaved=false;\r\n                return;\r\n            }\r\n            String lastTimeStamp = adapter.getItem(i-1);\r\n            if(!lastTimeStamp.isEmpty())\r\n            {\r\n                MainActivity.editor.putString(MainActivity.TIMESTAMP_KEY, lastTimeStamp);\r\n                MainActivity.editor.commit();\r\n                Toast.makeText(getBaseContext(), &quot;time stamp saved&quot;, Toast.LENGTH_SHORT).show();\r\n                isSaved = true;\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(getBaseContext(), &quot;nothing saved&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n        }\r\n    \r\n        public static void restoreTimeStamp()\r\n        {\r\n            String lastTimeStamp = MainActivity.SavedTimeStamp.getString(MainActivity.TIMESTAMP_KEY, &quot;NOT LOCATED&quot;);\r\n            adapter.add(lastTimeStamp);\r\n    \r\n            //Toast.makeText(getBaseContext(), &quot;time stamp restored&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/root_constraint_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linear_layout1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            tools:layout=&quot;@layout/activity_main&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView1_blueBox&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_weight=&quot;0.25&quot;\r\n                android:background=&quot;@color/sky_blue&quot;\r\n                android:text=&quot;test&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView2_passCode_string&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:text=&quot;PASS CODE&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;38sp&quot;/&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView3_passCode_int&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;38sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:text=&quot;test&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView4_time_remaining&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                tools:text=&quot;1:00 seconds remaining&quot;/&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/button1&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:text=&quot;Verify&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                /&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity2&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linear_layout1&quot;\r\n            android:layout_width =&quot;match_parent&quot;\r\n            android:layout_height =&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            tools:layout=&quot;@layout/activity_main&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView1_blueBox&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_weight=&quot;0.25&quot;\r\n                android:background=&quot;@color/sky_blue&quot; /&gt;\r\n    \r\n            &lt;ListView\r\n                android:id=&quot;@+id/listView1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:dividerHeight=&quot;32dp&quot;\r\n                /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/passButton&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:text=&quot;PASS&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                /&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Android Shared Preferences Not Saving?","body":"<p>I have an app that is supposed to do the following: The first (main) activity displays\na passcode that changes every minute.The time remaining in seconds before the passcode changes.\nThe first activity also has a button to verify the passcode. Once the user clicks the Verify button in the first activity, the second activity (verification window) should be launched and become visible to the user. The second activity should have a ListView that displays all timestamps for all passcodes that were previously generated, and one button to clear the list. Once the user exits the app, the list will clear but the last timestamp will be stored in a shared preference and will be restored the next time the user opens the application.The application should support landscape and portrait orientations and should handle screen orientation changes at run time.</p>\n<p>So far everything should be working until the point where the app's last timestamp is saved in shared preferences. When I exit the app and reload it the timestamp is not saved and unsure why. I have included the code below. Thanks hopefully someone can help.</p>\n<pre><code>    package com.example.security_token_app;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity\n{\n    static String PREF_NAME = &quot;SharedPrefFile&quot;;\n    static SharedPreferences SavedTimeStamp;\n    static SharedPreferences.Editor editor;\n    static String TIMESTAMP_KEY = &quot;TIMESTAMP_KEY&quot;;\n    private TextView countDownTextView;\n    TextView passCodeTextView;\n    static int passCode;\n    static String currentDateTime;\n    static ArrayList&lt;String&gt; arrayIntegerList = new ArrayList&lt;String&gt;();\n    Button verifyButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        countDownTextView = (TextView)findViewById(R.id.textView4_time_remaining);\n        passCodeTextView= (TextView)findViewById(R.id.textView3_passCode_int);\n        verifyButton = (Button)findViewById(R.id.button1);\n        SavedTimeStamp = getSharedPreferences(PREF_NAME,0);\n        editor = SavedTimeStamp.edit();\n        if(MainActivity2.isSaved==true)\n        {\n            //MainActivity2.isSaved=false;\n            MainActivity2.restoreTimeStamp();\n            openSecondaryActivity();\n        }\n        createPassCode();\n            new CountDownTimer(60000, 1000)\n            {\n                @Override\n                public void onTick(long timeUntillFinished)\n                {\n                    countDownTextView.setText(&quot;seconds remaining: &quot; + timeUntillFinished / 1000 % 60);\n                }\n\n                @Override\n                public void onFinish()\n                {\n                    createPassCode();\n                    start();\n                }\n            }.start();\n            verifyButton.setOnClickListener(new View.OnClickListener()\n            {\n                @Override\n                public void onClick(View view)\n                {\n//                    if(MainActivity2.isSaved==true)\n//                    {\n//                        MainActivity2.restoreTimeStamp();\n//                    }\n                    openSecondaryActivity();\n                }\n            });\n    }\n    public void createPassCode()\n    {\n        int minute = Calendar.getInstance().get(Calendar.MINUTE);\n        passCode=minute*1245 + 10000;\n        String timeStamp = getTimeStamp();\n        arrayIntegerList.add(timeStamp);\n        String passCodeStr = Integer.toString(passCode);\n        passCodeTextView.setText(passCodeStr);\n    }\n\n    public void openSecondaryActivity()\n    {\n        Intent intent = new Intent(this, MainActivity2.class);\n        startActivity(intent);\n    }\n\n    public static int getPassCode()\n    {\n        return passCode;\n    }\n\n    public static String getTimeStamp()\n    {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        currentDateTime = dateFormat.format(new Date());\n        return currentDateTime;\n    }\n\n\n\n}\n\npackage com.example.security_token_app;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class MainActivity2 extends AppCompatActivity\n{\n\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\n    ListView listView;\n    Button clearButton;\n    int count;\n    String item;\n    static ArrayAdapter&lt;String&gt; adapter;\n    static boolean isSaved = false;\n    boolean adapterSet = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        listView = (ListView) findViewById(R.id.listView1);\n        clearButton = (Button) findViewById(R.id.passButton);\n\n        for(String temp:MainActivity.arrayIntegerList)\n        {\n            arrayList.add(temp);\n        }\n        //adapter resset here? loses the saved time stamp\n//        if(isSaved==true) //added\n//        {\n//            isSaved=false;\n//            return;\n//        }\n        if(isSaved==false)\n        {\n            adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, arrayList);\n            listView.setAdapter(adapter);\n        }\n        isSaved=false;\n\n        clearButton.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View view)\n            {\n                count = adapter.getCount();\n                item = adapter.getItem(count-1);\n                adapter.clear();\n                adapter.add(item);\n                saveTimeStamp();\n            }\n        });\n    }\n\n    public void saveTimeStamp()\n    {\n        int i = adapter.getCount();\n        if(isSaved==true)  //changed from i==1\n        {\n            isSaved=false;\n            return;\n        }\n        String lastTimeStamp = adapter.getItem(i-1);\n        if(!lastTimeStamp.isEmpty())\n        {\n            MainActivity.editor.putString(MainActivity.TIMESTAMP_KEY, lastTimeStamp);\n            MainActivity.editor.commit();\n            Toast.makeText(getBaseContext(), &quot;time stamp saved&quot;, Toast.LENGTH_SHORT).show();\n            isSaved = true;\n        }\n        else\n        {\n            Toast.makeText(getBaseContext(), &quot;nothing saved&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n    }\n\n    public static void restoreTimeStamp()\n    {\n        String lastTimeStamp = MainActivity.SavedTimeStamp.getString(MainActivity.TIMESTAMP_KEY, &quot;NOT LOCATED&quot;);\n        adapter.add(lastTimeStamp);\n\n        //Toast.makeText(getBaseContext(), &quot;time stamp restored&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/root_constraint_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linear_layout1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:layout=&quot;@layout/activity_main&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView1_blueBox&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_weight=&quot;0.25&quot;\n            android:background=&quot;@color/sky_blue&quot;\n            android:text=&quot;test&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView2_passCode_string&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;0.5&quot;\n            android:textAlignment=&quot;center&quot;\n            android:text=&quot;PASS CODE&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textSize=&quot;38sp&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView3_passCode_int&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;0.5&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;38sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:text=&quot;test&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView4_time_remaining&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;0.5&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;24sp&quot;\n            tools:text=&quot;1:00 seconds remaining&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/button1&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:text=&quot;Verify&quot;\n            android:textStyle=&quot;bold&quot;\n            /&gt;\n\n\n\n\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linear_layout1&quot;\n        android:layout_width =&quot;match_parent&quot;\n        android:layout_height =&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:layout=&quot;@layout/activity_main&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView1_blueBox&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_weight=&quot;0.25&quot;\n            android:background=&quot;@color/sky_blue&quot; /&gt;\n\n        &lt;ListView\n            android:id=&quot;@+id/listView1&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:textStyle=&quot;bold&quot;\n            android:dividerHeight=&quot;32dp&quot;\n            /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/passButton&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:text=&quot;PASS&quot;\n            android:textStyle=&quot;bold&quot;\n            /&gt;\n\n\n\n\n\n\n\n\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":6269622,"reputation":185,"user_id":4874227,"display_name":"mmalik"},"score":1,"creation_date":1435321537,"post_id":31073062,"comment_id":50164942,"body_markdown":"You may find [this](http://stackoverflow.com/questions/2913160/hibernate-count-collection-size-without-initializing) post useful.","body":"You may find <a href=\"http://stackoverflow.com/questions/2913160/hibernate-count-collection-size-without-initializing\">this</a> post useful."},{"owner":{"account_id":1551580,"reputation":2663,"user_id":1443840,"accept_rate":48,"display_name":"Shekhar Khairnar"},"score":1,"creation_date":1435321760,"post_id":31073062,"comment_id":50165100,"body_markdown":"I think..If you have bidirectional mapping then you will have meeting list in location...if it is than you will get the count easy..","body":"I think..If you have bidirectional mapping then you will have meeting list in location...if it is than you will get the count easy.."},{"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"score":0,"creation_date":1435325135,"post_id":31073062,"comment_id":50167366,"body_markdown":"You want the count of meetings with respect to location?","body":"You want the count of meetings with respect to location?"},{"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"score":0,"creation_date":1435826083,"post_id":31073062,"comment_id":50364970,"body_markdown":"I&#39;ll be posting an answer in about 12 hrs..","body":"I&#39;ll be posting an answer in about 12 hrs.."}],"answers":[{"tags":[],"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645480388,"creation_date":1645480388,"answer_id":71213444,"question_id":31073062,"body_markdown":"One way to do it is via formula.\r\nIt has some performance hit, but is quite helpful when need to return count for each fetched entity.\r\nAdd the following to Location entity:\r\n\r\n    @Formula(&quot;(SELECT count(m.id) FROM meeting m WHERE m.location_id = id)&quot;)\r\n    private Integer meetingsCount;","title":"How can I get a count from a related table in Hibernate","body":"<p>One way to do it is via formula.\nIt has some performance hit, but is quite helpful when need to return count for each fetched entity.\nAdd the following to Location entity:</p>\n<pre><code>@Formula(&quot;(SELECT count(m.id) FROM meeting m WHERE m.location_id = id)&quot;)\nprivate Integer meetingsCount;\n</code></pre>\n"}],"owner":{"account_id":5612504,"reputation":1900,"user_id":4444824,"accept_rate":71,"display_name":"Bogdan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645480388,"creation_date":1435321265,"question_id":31073062,"body_markdown":"I have 2 simple POJOs placed in a many to one relation\r\n\r\n    @Entity\r\n    public class Meeting {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int meetingId;\r\n    \tprivate String title;\r\n\t    @ManyToOne\r\n\t    private Location location;\r\n        ...\r\n\r\nand \r\n\r\n    @Entity\r\n    public class Location {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int locationId;\r\n    \tprivate String name;\r\n    \t...\r\n\r\nI&#39;m wondering what do I need to do to get the count of meetings inside the **locationList** below\r\n\r\n\t\tSession session = HibernateHelper.getSessionFactory().openSession();\r\n\t\tsession.beginTransaction();\r\n\t\tList&lt;Location&gt; locationList = session.createCriteria(Location.class).list();\r\n\r\nI&#39;ve thinked of definig a @Transient meetingsCount inside the Location POJO but I don&#39;t know how to go on in order to tell Hibernate to retrieve it for me.\r\n\r\nI do know how to get this information by making an explicit query but this is not what I&#39;m looking for\r\n ","title":"How can I get a count from a related table in Hibernate","body":"<p>I have 2 simple POJOs placed in a many to one relation</p>\n\n<pre><code>@Entity\npublic class Meeting {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int meetingId;\n    private String title;\n    @ManyToOne\n    private Location location;\n    ...\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Entity\npublic class Location {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int locationId;\n    private String name;\n    ...\n</code></pre>\n\n<p>I'm wondering what do I need to do to get the count of meetings inside the <strong>locationList</strong> below</p>\n\n<pre><code>    Session session = HibernateHelper.getSessionFactory().openSession();\n    session.beginTransaction();\n    List&lt;Location&gt; locationList = session.createCriteria(Location.class).list();\n</code></pre>\n\n<p>I've thinked of definig a @Transient meetingsCount inside the Location POJO but I don't know how to go on in order to tell Hibernate to retrieve it for me.</p>\n\n<p>I do know how to get this information by making an explicit query but this is not what I'm looking for</p>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574866682,"creation_date":1574866682,"answer_id":59072969,"question_id":59051127,"body_markdown":"It sure is possible but you will need to create your schedule object dynamically at the model start (i.e. on startup of `Main`), not statically via a drag&#39;n&#39;drop object as you do currently.\r\n\r\nCheck the [AnyLogic API][1] to learn how to create schedules using code. As part of that, you should be able to define the shift start and end times dynamically from a parameter (that is set differently by the optimization experiment everytime).\r\n\r\n\r\n  [1]: https://help.anylogic.com/index.jsp?topic=%2Fcom.anylogic.help%2Fhtml%2Fdata%2FSchedule_API.html&amp;resultof=%22%73%63%68%65%64%75%6C%65%22%20%22%73%63%68%65%64%75%6C%22%20%22%41%50%49%22%20%22%61%70%69%22%20","title":"Model start and end values for schedule as a variable","body":"<p>It sure is possible but you will need to create your schedule object dynamically at the model start (i.e. on startup of <code>Main</code>), not statically via a drag'n'drop object as you do currently.</p>\n\n<p>Check the <a href=\"https://help.anylogic.com/index.jsp?topic=%2Fcom.anylogic.help%2Fhtml%2Fdata%2FSchedule_API.html&amp;resultof=%22%73%63%68%65%64%75%6C%65%22%20%22%73%63%68%65%64%75%6C%22%20%22%41%50%49%22%20%22%61%70%69%22%20\" rel=\"nofollow noreferrer\">AnyLogic API</a> to learn how to create schedules using code. As part of that, you should be able to define the shift start and end times dynamically from a parameter (that is set differently by the optimization experiment everytime).</p>\n"},{"tags":[],"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1574943590,"creation_date":1574943590,"answer_id":59088763,"question_id":59051127,"body_markdown":"# Summary\r\n\r\nThis is unfortunately not straightforward.\r\n\r\nWhen you create Schedule objects visually, you have to &#39;hardcode&#39; start and end times. Thus, for them to be variable (driven from model parameters) you have to programmatically create a Schedule, and ensure the Resource Pool capacity is driven by it.\r\n\r\nIf you see **AnyLogic Help &gt; Functions, Table Functions and Schedules &gt; Schedules &gt; Schedule API** in the help, that explains the programmatic interface (API) to create schedules and includes an example model. However\r\n\r\n  * That example dynamically sets up a Source block arrival schedule from the dynamically-created schedule. You can&#39;t do that for a Resource Pool. (Dynamically changing the capacity definition is not allowed.) So you need to set up some AnyLogic events to change the Resource Pool capacity from the schedule. (You *can* change a resource pool&#39;s capacity dynamically whenever you like.) In fact, this is what the Resource Pool block is doing internally when you setup a capacity schedule visually for it...\r\n\r\n  * That example is for a Rate schedule, doesn&#39;t document any of the code, and there are some errors/lack of proper explanation in the help. (In particular, `setPeriod` takes the period *in the time units you specified in `setTimeUnit`*, **not** in milliseconds.)\r\n\r\n# Detail\r\n\r\nLet&#39;s say your shifts are Mon-Fri and you want to vary the start/end hour (and, for good measure, the shift size). So we add (type `int`) model parameters for those, and a Resource Pool called `workers`.\r\n\r\nWe are using an integer Schedule to define the resource pool capacity, so we define a variable (type `Schedule&lt;Integer&gt;`) to hold that (initially `null`). We also define a Dynamic Event `ShiftChange`: we are going to launch a &#39;chain&#39; of these, where each one fires at the next schedule change time and changes the Resource Pool capacity accordingly (with an animated clock from the Pictures palette to help us see what&#39;s happening more clearly; you could also use the time shown in the Developer Panel).\r\n\r\nThe dynamic event needs to have a single argument `shiftSize` (type `int`): it needs to know the shift size that it needs to change the resource pool&#39;s capacity to.\r\n\r\nSo `Main` looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fmxg8.png\r\n\r\n\r\nIn the on-startup action of `Main` we set up the dynamic schedule and the first instance of the dynamic event:\r\n\r\n```\r\ndynamicSchedule = new Schedule&lt;Integer&gt;();\r\ndynamicSchedule.setOwner(this);\r\ndynamicSchedule.setCalendarType(true);\r\ndynamicSchedule.setFirstDayOfWeek(MONDAY);\r\ndynamicSchedule.setTimeUnits(TIME_UNIT_WEEK);\r\ndynamicSchedule.setPeriod(1);\t\t// Repeats every 1 time unit (week)\r\ndynamicSchedule.setGlueIntervals(true);\r\ndynamicSchedule.setDefaultValue(0);\t\t// Default schedule value (0)\r\n\r\n// Add intervals for Mon-Fri (day 1-5) from the given start to the end hour with the given shift size\r\nfor (int i = 1; i &lt;=5; i++) {\r\n\tdynamicSchedule.addInterval(1, // startWeek\r\n\t\t\t\t\t\t\t\ti, // startDayOfWeek,\r\n\t\t\t\t\t\t\t\tstartHour,  //startHour\r\n\t\t\t\t\t\t\t\t0, // startMinute\r\n\t\t\t\t\t\t\t\t0, // startSecond\r\n\t\t\t\t\t\t\t\t1, // endWeek\r\n\t\t\t\t\t\t\t\ti, // endDayOfWeek\r\n\t\t\t\t\t\t\t\tendHour, //endHour\r\n\t\t\t\t\t\t\t\t0, // endMinute\r\n\t\t\t\t\t\t\t\t0, // endSecond\r\n\t\t\t\t\t\t\t\tshiftSize);  //value\r\n}\r\n\r\ndynamicSchedule.initialize();\t// Needed to &#39;take&#39; the changes\r\n\r\n// Can&#39;t do the below: can&#39;t change a ResourcePool&#39;s capacity definition dynamically\r\n//workers.set_capacityDefinitionType(CapacityDefinitionType.CAPACITY_SCHEDULE);\r\n//workers.set_capacitySchedule(dynamicSchedule);\r\n\r\n// Instead we create a chain of dynamic events to change the Resource Pool capacity as per the schedule\r\ncreate_ShiftChange(dynamicSchedule.getTimeoutToNextValue(), dynamicSchedule.getNextValue());\r\n\r\n```\r\n\r\n(See this help topic for Dynamic Event details: **AnyLogic Help &gt; Defining Behavior. Events and Statecharts &gt; Events &gt; Dynamic Event**. I also include commented-out code which doesn&#39;t work for attempting to dynamically set up the capacity schedule in the Resource Pool.)\r\n\r\nThe Dynamic Event action code looks like this (together with a nice console message to help us check it&#39;s working properly):\r\n\r\n```\r\ntraceln(format(date()) + &quot;: changing shift size to &quot; + shiftSize);\r\n\r\nworkers.set_capacity(shiftSize);\t// Dynamically change the resource pool&#39;s capacity\r\n\r\n// Set up the next dynamic event in the chain\r\ncreate_ShiftChange(dynamicSchedule.getTimeoutToNextValue(), dynamicSchedule.getNextValue());\r\n```\r\n\r\nIn my case, I used defaults of start hour 1, end hour 3 and shift-size 5. If I start the model on a Monday date I get the following output (and you can see the resource pool capacity changing....):\r\n\r\n```\r\nNov 25, 2019, 1:00:00 AM: changing shift size to 5\r\nNov 25, 2019, 3:00:00 AM: changing shift size to 0\r\nNov 26, 2019, 1:00:00 AM: changing shift size to 5\r\nNov 26, 2019, 3:00:00 AM: changing shift size to 0\r\nNov 27, 2019, 1:00:00 AM: changing shift size to 5\r\nNov 27, 2019, 3:00:00 AM: changing shift size to 0\r\nNov 28, 2019, 1:00:00 AM: changing shift size to 5\r\nNov 28, 2019, 3:00:00 AM: changing shift size to 0\r\nNov 29, 2019, 1:00:00 AM: changing shift size to 5\r\nNov 29, 2019, 3:00:00 AM: changing shift size to 0\r\nDec 2, 2019, 1:00:00 AM: changing shift size to 5\r\nDec 2, 2019, 3:00:00 AM: changing shift size to 0\r\n[...]\r\n```\r\n\r\n# Optimisation Usage\r\n\r\nNow your optimisation can vary the start/end time and shift-size as it desires (via the integer model parameters), setting max/min values as you desire.","title":"Model start and end values for schedule as a variable","body":"<h1>Summary</h1>\n\n<p>This is unfortunately not straightforward.</p>\n\n<p>When you create Schedule objects visually, you have to 'hardcode' start and end times. Thus, for them to be variable (driven from model parameters) you have to programmatically create a Schedule, and ensure the Resource Pool capacity is driven by it.</p>\n\n<p>If you see <strong>AnyLogic Help > Functions, Table Functions and Schedules > Schedules > Schedule API</strong> in the help, that explains the programmatic interface (API) to create schedules and includes an example model. However</p>\n\n<ul>\n<li><p>That example dynamically sets up a Source block arrival schedule from the dynamically-created schedule. You can't do that for a Resource Pool. (Dynamically changing the capacity definition is not allowed.) So you need to set up some AnyLogic events to change the Resource Pool capacity from the schedule. (You <em>can</em> change a resource pool's capacity dynamically whenever you like.) In fact, this is what the Resource Pool block is doing internally when you setup a capacity schedule visually for it...</p></li>\n<li><p>That example is for a Rate schedule, doesn't document any of the code, and there are some errors/lack of proper explanation in the help. (In particular, <code>setPeriod</code> takes the period <em>in the time units you specified in <code>setTimeUnit</code></em>, <strong>not</strong> in milliseconds.)</p></li>\n</ul>\n\n<h1>Detail</h1>\n\n<p>Let's say your shifts are Mon-Fri and you want to vary the start/end hour (and, for good measure, the shift size). So we add (type <code>int</code>) model parameters for those, and a Resource Pool called <code>workers</code>.</p>\n\n<p>We are using an integer Schedule to define the resource pool capacity, so we define a variable (type <code>Schedule&lt;Integer&gt;</code>) to hold that (initially <code>null</code>). We also define a Dynamic Event <code>ShiftChange</code>: we are going to launch a 'chain' of these, where each one fires at the next schedule change time and changes the Resource Pool capacity accordingly (with an animated clock from the Pictures palette to help us see what's happening more clearly; you could also use the time shown in the Developer Panel).</p>\n\n<p>The dynamic event needs to have a single argument <code>shiftSize</code> (type <code>int</code>): it needs to know the shift size that it needs to change the resource pool's capacity to.</p>\n\n<p>So <code>Main</code> looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Fmxg8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Fmxg8.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the on-startup action of <code>Main</code> we set up the dynamic schedule and the first instance of the dynamic event:</p>\n\n<pre><code>dynamicSchedule = new Schedule&lt;Integer&gt;();\ndynamicSchedule.setOwner(this);\ndynamicSchedule.setCalendarType(true);\ndynamicSchedule.setFirstDayOfWeek(MONDAY);\ndynamicSchedule.setTimeUnits(TIME_UNIT_WEEK);\ndynamicSchedule.setPeriod(1);       // Repeats every 1 time unit (week)\ndynamicSchedule.setGlueIntervals(true);\ndynamicSchedule.setDefaultValue(0);     // Default schedule value (0)\n\n// Add intervals for Mon-Fri (day 1-5) from the given start to the end hour with the given shift size\nfor (int i = 1; i &lt;=5; i++) {\n    dynamicSchedule.addInterval(1, // startWeek\n                                i, // startDayOfWeek,\n                                startHour,  //startHour\n                                0, // startMinute\n                                0, // startSecond\n                                1, // endWeek\n                                i, // endDayOfWeek\n                                endHour, //endHour\n                                0, // endMinute\n                                0, // endSecond\n                                shiftSize);  //value\n}\n\ndynamicSchedule.initialize();   // Needed to 'take' the changes\n\n// Can't do the below: can't change a ResourcePool's capacity definition dynamically\n//workers.set_capacityDefinitionType(CapacityDefinitionType.CAPACITY_SCHEDULE);\n//workers.set_capacitySchedule(dynamicSchedule);\n\n// Instead we create a chain of dynamic events to change the Resource Pool capacity as per the schedule\ncreate_ShiftChange(dynamicSchedule.getTimeoutToNextValue(), dynamicSchedule.getNextValue());\n\n</code></pre>\n\n<p>(See this help topic for Dynamic Event details: <strong>AnyLogic Help > Defining Behavior. Events and Statecharts > Events > Dynamic Event</strong>. I also include commented-out code which doesn't work for attempting to dynamically set up the capacity schedule in the Resource Pool.)</p>\n\n<p>The Dynamic Event action code looks like this (together with a nice console message to help us check it's working properly):</p>\n\n<pre><code>traceln(format(date()) + \": changing shift size to \" + shiftSize);\n\nworkers.set_capacity(shiftSize);    // Dynamically change the resource pool's capacity\n\n// Set up the next dynamic event in the chain\ncreate_ShiftChange(dynamicSchedule.getTimeoutToNextValue(), dynamicSchedule.getNextValue());\n</code></pre>\n\n<p>In my case, I used defaults of start hour 1, end hour 3 and shift-size 5. If I start the model on a Monday date I get the following output (and you can see the resource pool capacity changing....):</p>\n\n<pre><code>Nov 25, 2019, 1:00:00 AM: changing shift size to 5\nNov 25, 2019, 3:00:00 AM: changing shift size to 0\nNov 26, 2019, 1:00:00 AM: changing shift size to 5\nNov 26, 2019, 3:00:00 AM: changing shift size to 0\nNov 27, 2019, 1:00:00 AM: changing shift size to 5\nNov 27, 2019, 3:00:00 AM: changing shift size to 0\nNov 28, 2019, 1:00:00 AM: changing shift size to 5\nNov 28, 2019, 3:00:00 AM: changing shift size to 0\nNov 29, 2019, 1:00:00 AM: changing shift size to 5\nNov 29, 2019, 3:00:00 AM: changing shift size to 0\nDec 2, 2019, 1:00:00 AM: changing shift size to 5\nDec 2, 2019, 3:00:00 AM: changing shift size to 0\n[...]\n</code></pre>\n\n<h1>Optimisation Usage</h1>\n\n<p>Now your optimisation can vary the start/end time and shift-size as it desires (via the integer model parameters), setting max/min values as you desire.</p>\n"}],"owner":{"account_id":17150001,"reputation":83,"user_id":12412155,"display_name":"Nasr Cheaib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59088763,"answer_count":2,"score":2,"last_activity_date":1645480386,"creation_date":1574771763,"question_id":59051127,"body_markdown":"I&#39;m trying to build a model in Anylogic that would optimize the start and end time of my resource pool to meet demand. Is there a way to have the start time and end time for the schedule to be parameters to input in the optimization model. I currently have my shifts as 8-5 and meeting demand in 30 days, but the optimization model might say that 6-6 (us working overtime) would meet demand in 15 days. The start and end time would have min and max values.","title":"Model start and end values for schedule as a variable","body":"<p>I'm trying to build a model in Anylogic that would optimize the start and end time of my resource pool to meet demand. Is there a way to have the start time and end time for the schedule to be parameters to input in the optimization model. I currently have my shifts as 8-5 and meeting demand in 30 days, but the optimization model might say that 6-6 (us working overtime) would meet demand in 15 days. The start and end time would have min and max values.</p>\n"},{"tags":["java","java-8","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645480219,"creation_date":1645480219,"answer_id":71213428,"question_id":71210986,"body_markdown":"You need to use a Comparator that uses the dal date string values for the comparison.  For example...\r\n\r\n    public class NotaryHistorical {\r\n        \r\n        NotaryOffice[] sedi;\r\n    \r\n        public NotaryHistorical() {}\r\n    \r\n        public NotaryHistorical(NotaryOffice[] sedi) {\r\n            setSedi(sedi);\r\n        }\r\n    \r\n        public NotaryOffice[] getSedi() {\r\n            return sedi;\r\n        }\r\n    \r\n        public void setSedi(NotaryOffice[] sedi) {\r\n            this.sedi = Arrays.stream(sedi)\r\n                .sorted((a,b) -&gt; { \r\n                    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n                    return LocalDate.parse(a.getDal(), formatter).compareTo(LocalDate.parse(b.getDal(), formatter));\r\n                })\r\n                .toArray(NotaryOffice[]::new);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;NotaryHistorical [sedi=&quot; + Arrays.toString(sedi) + &quot;]&quot;;\r\n        }\r\n        \r\n    \r\n    }","title":"What is a smart way to order (by ascending date) this array of object having a String field (representing a Date)?","body":"<p>You need to use a Comparator that uses the dal date string values for the comparison.  For example...</p>\n<pre><code>public class NotaryHistorical {\n    \n    NotaryOffice[] sedi;\n\n    public NotaryHistorical() {}\n\n    public NotaryHistorical(NotaryOffice[] sedi) {\n        setSedi(sedi);\n    }\n\n    public NotaryOffice[] getSedi() {\n        return sedi;\n    }\n\n    public void setSedi(NotaryOffice[] sedi) {\n        this.sedi = Arrays.stream(sedi)\n            .sorted((a,b) -&gt; { \n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n                return LocalDate.parse(a.getDal(), formatter).compareTo(LocalDate.parse(b.getDal(), formatter));\n            })\n            .toArray(NotaryOffice[]::new);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NotaryHistorical [sedi=&quot; + Arrays.toString(sedi) + &quot;]&quot;;\n    }\n    \n\n}\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1645480219,"creation_date":1645466501,"question_id":71210986,"body_markdown":"I am working on a Spring Batch project and I have the following problem (that it is not strictly related to Spring Batch).\r\n\r\nI have this **NotaryDetailsEnrichProcessor** implementing the **ItemProcessor** interface, this one:\r\n\r\n\tpublic class NotaryDetailsEnrichProcessor implements ItemProcessor&lt;Notary, NotaryDetails&gt; {\r\n\t\t\r\n\t\t@Autowired\r\n\t\tNotaryService notaryService;\r\n\t\t\r\n\t\tString notaryId = null;\r\n\r\n\t\tpublic NotaryDetailsEnrichProcessor(NotaryService notaryService) {\r\n\t\t\tsuper();\r\n\t\t\tthis.notaryService = notaryService;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic NotaryDetails process(Notary notary) throws Exception {\r\n\t\t\tthis.notaryId = notary.getIdNotary();\r\n\t\t\t\r\n\t\t\t//System.out.println(&quot;NotaryDetailsEnrichProcessor process notaryId: &quot; + notaryId);\r\n\t\t\tNotaryDetails notaryDetails = this.notaryService.getNotaryDetails(notaryId);\r\n\t\t\t\r\n\t\t\t//System.out.println(&quot;#####################################################&quot;);\r\n\t\t\t\r\n\t\t\treturn notaryDetails;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nThis processor basically retrieve the details of a specific object into a **NotaryDetails** instance.\r\n\r\nThis is the **NotaryDetails** class:\r\n\r\n\tpublic class NotaryDetails {\r\n\t\r\n\t\tString idNotary;\r\n\t\t\r\n\t\tNotarySheet scheda;\r\n\t\tNotaryContact contatti;\r\n\t\tNotaryInformation informazioni;\r\n\t\tNotaryHistorical storico;\r\n\t\t\r\n\t\tpublic NotaryDetails() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic NotaryDetails(String idNotary, NotarySheet scheda, NotaryContact contatti, NotaryInformation informazioni,\r\n\t\t\t\tNotaryHistorical storico) {\r\n\t\t\tsuper();\r\n\t\t\tthis.idNotary = idNotary;\r\n\t\t\tthis.scheda = scheda;\r\n\t\t\tthis.contatti = contatti;\r\n\t\t\tthis.informazioni = informazioni;\r\n\t\t\tthis.storico = storico;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getIdNotary() {\r\n\t\t\treturn idNotary;\r\n\t\t}\r\n\r\n\t\tpublic void setIdNotary(String idNotary) {\r\n\t\t\tthis.idNotary = idNotary;\r\n\t\t}\r\n\r\n\t\tpublic NotarySheet getScheda() {\r\n\t\t\treturn scheda;\r\n\t\t}\r\n\r\n\t\tpublic void setScheda(NotarySheet scheda) {\r\n\t\t\tthis.scheda = scheda;\r\n\t\t}\r\n\r\n\t\tpublic NotaryContact getContatti() {\r\n\t\t\treturn contatti;\r\n\t\t}\r\n\r\n\t\tpublic void setContatti(NotaryContact contatti) {\r\n\t\t\tthis.contatti = contatti;\r\n\t\t}\r\n\r\n\t\tpublic NotaryInformation getInformazioni() {\r\n\t\t\treturn informazioni;\r\n\t\t}\r\n\r\n\t\tpublic void setInformazioni(NotaryInformation informazioni) {\r\n\t\t\tthis.informazioni = informazioni;\r\n\t\t}\r\n\r\n\t\tpublic NotaryHistorical getStorico() {\r\n\t\t\treturn storico;\r\n\t\t}\r\n\r\n\t\tpublic void setStorico(NotaryHistorical storico) {\r\n\t\t\tthis.storico = storico;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;NotaryDetails [idNotary=&quot; + idNotary + &quot;, scheda=&quot; + scheda + &quot;, contatti=&quot; + contatti\r\n\t\t\t\t\t+ &quot;, informazioni=&quot; + informazioni + &quot;, storico=&quot; + storico + &quot;]&quot;;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nAs you can see it contains this field:\r\n\r\n    NotaryHistorical storico;\r\n\r\nWhere **NotaryHistorical** is this class:\r\n\r\n\tpublic class NotaryHistorical {\r\n\t\t\r\n\t\tNotaryOffice[] sedi;\r\n\r\n\t\tpublic NotaryHistorical() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic NotaryHistorical(NotaryOffice[] sedi) {\r\n\t\t\tsuper();\r\n\t\t\tthis.sedi = sedi;\r\n\t\t}\r\n\r\n\t\tpublic NotaryOffice[] getSedi() {\r\n\t\t\treturn sedi;\r\n\t\t}\r\n\r\n\t\tpublic void setSedi(NotaryOffice[] sedi) {\r\n\t\t\tthis.sedi = sedi;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;NotaryHistorical [sedi=&quot; + Arrays.toString(sedi) + &quot;]&quot;;\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\nthat itself contains this array field:\r\n\r\n    NotaryOffice[] sedi;\r\n\r\nwhere **NotaryOffice** is:\r\n\r\n\tpublic class NotaryOffice {\r\n\t\t\r\n\t\tString sede;\r\n\t\tString dal;\r\n\t\tString note;\r\n\t\tString stato;\r\n\t\t\r\n\t\tpublic NotaryOffice() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic NotaryOffice(String sede, String dal, String note, String stato) {\r\n\t\t\tsuper();\r\n\t\t\tthis.sede = sede;\r\n\t\t\tthis.dal = dal;\r\n\t\t\tthis.note = note;\r\n\t\t\tthis.stato = stato;\r\n\t\t}\r\n\r\n\t\tpublic String getSede() {\r\n\t\t\treturn sede;\r\n\t\t}\r\n\r\n\t\tpublic void setSede(String sede) {\r\n\t\t\tthis.sede = sede;\r\n\t\t}\r\n\r\n\t\tpublic String getDal() {\r\n\t\t\treturn dal;\r\n\t\t}\r\n\r\n\t\tpublic void setDal(String dal) {\r\n\t\t\tthis.dal = dal;\r\n\t\t}\r\n\r\n\t\tpublic String getNote() {\r\n\t\t\treturn note;\r\n\t\t}\r\n\r\n\t\tpublic void setNote(String note) {\r\n\t\t\tthis.note = note;\r\n\t\t}\r\n\r\n\t\tpublic String getStato() {\r\n\t\t\treturn stato;\r\n\t\t}\r\n\r\n\t\tpublic void setStato(String stato) {\r\n\t\t\tthis.stato = stato;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;NotaryOffice [sede=&quot; + sede + &quot;, dal=&quot; + dal + &quot;, note=&quot; + note + &quot;, stato=&quot; + stato + &quot;]&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\nOk we finally have this String field:\r\n\r\n    String dal;\r\n\r\nthis field represents a **Date** as a String in the format **DD/MM/AAAA** (it is a String and not a Date because it is used to write on a WordPress post accepting only String).\r\n\r\nOk now my problem is that into my **process()** method of my **NotaryDetailsEnrichProcessor**, after that I retrieve the **NotaryDetails** (calling the service, here:\r\n\r\n    NotaryDetails notaryDetails = this.notaryService.getNotaryDetails(notaryId);\r\n\r\nI need to order by ascending date the array, based on the value of this field: **NotaryDetails --&gt; NotaryHistorical --&gt; NotaryOffice --&gt; dal**\r\n\r\nSo I suppose that basically **dal** (that is a String) have to be converted on a **Date** and that the related value can be used to order the **NotaryOffice[]** array.\r\n\r\nWhat could be an elegant solution for this problem?\r\n\r\n","title":"What is a smart way to order (by ascending date) this array of object having a String field (representing a Date)?","body":"<p>I am working on a Spring Batch project and I have the following problem (that it is not strictly related to Spring Batch).</p>\n<p>I have this <strong>NotaryDetailsEnrichProcessor</strong> implementing the <strong>ItemProcessor</strong> interface, this one:</p>\n<pre><code>public class NotaryDetailsEnrichProcessor implements ItemProcessor&lt;Notary, NotaryDetails&gt; {\n    \n    @Autowired\n    NotaryService notaryService;\n    \n    String notaryId = null;\n\n    public NotaryDetailsEnrichProcessor(NotaryService notaryService) {\n        super();\n        this.notaryService = notaryService;\n    }\n\n\n\n    @Override\n    public NotaryDetails process(Notary notary) throws Exception {\n        this.notaryId = notary.getIdNotary();\n        \n        //System.out.println(&quot;NotaryDetailsEnrichProcessor process notaryId: &quot; + notaryId);\n        NotaryDetails notaryDetails = this.notaryService.getNotaryDetails(notaryId);\n        \n        //System.out.println(&quot;#####################################################&quot;);\n        \n        return notaryDetails;\n    }\n\n}\n</code></pre>\n<p>This processor basically retrieve the details of a specific object into a <strong>NotaryDetails</strong> instance.</p>\n<p>This is the <strong>NotaryDetails</strong> class:</p>\n<pre><code>public class NotaryDetails {\n\n    String idNotary;\n    \n    NotarySheet scheda;\n    NotaryContact contatti;\n    NotaryInformation informazioni;\n    NotaryHistorical storico;\n    \n    public NotaryDetails() {\n        super();\n    }\n\n    public NotaryDetails(String idNotary, NotarySheet scheda, NotaryContact contatti, NotaryInformation informazioni,\n            NotaryHistorical storico) {\n        super();\n        this.idNotary = idNotary;\n        this.scheda = scheda;\n        this.contatti = contatti;\n        this.informazioni = informazioni;\n        this.storico = storico;\n    }\n    \n    public String getIdNotary() {\n        return idNotary;\n    }\n\n    public void setIdNotary(String idNotary) {\n        this.idNotary = idNotary;\n    }\n\n    public NotarySheet getScheda() {\n        return scheda;\n    }\n\n    public void setScheda(NotarySheet scheda) {\n        this.scheda = scheda;\n    }\n\n    public NotaryContact getContatti() {\n        return contatti;\n    }\n\n    public void setContatti(NotaryContact contatti) {\n        this.contatti = contatti;\n    }\n\n    public NotaryInformation getInformazioni() {\n        return informazioni;\n    }\n\n    public void setInformazioni(NotaryInformation informazioni) {\n        this.informazioni = informazioni;\n    }\n\n    public NotaryHistorical getStorico() {\n        return storico;\n    }\n\n    public void setStorico(NotaryHistorical storico) {\n        this.storico = storico;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NotaryDetails [idNotary=&quot; + idNotary + &quot;, scheda=&quot; + scheda + &quot;, contatti=&quot; + contatti\n                + &quot;, informazioni=&quot; + informazioni + &quot;, storico=&quot; + storico + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>As you can see it contains this field:</p>\n<pre><code>NotaryHistorical storico;\n</code></pre>\n<p>Where <strong>NotaryHistorical</strong> is this class:</p>\n<pre><code>public class NotaryHistorical {\n    \n    NotaryOffice[] sedi;\n\n    public NotaryHistorical() {\n        super();\n    }\n\n    public NotaryHistorical(NotaryOffice[] sedi) {\n        super();\n        this.sedi = sedi;\n    }\n\n    public NotaryOffice[] getSedi() {\n        return sedi;\n    }\n\n    public void setSedi(NotaryOffice[] sedi) {\n        this.sedi = sedi;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NotaryHistorical [sedi=&quot; + Arrays.toString(sedi) + &quot;]&quot;;\n    }\n    \n\n}\n</code></pre>\n<p>that itself contains this array field:</p>\n<pre><code>NotaryOffice[] sedi;\n</code></pre>\n<p>where <strong>NotaryOffice</strong> is:</p>\n<pre><code>public class NotaryOffice {\n    \n    String sede;\n    String dal;\n    String note;\n    String stato;\n    \n    public NotaryOffice() {\n        super();\n    }\n\n    public NotaryOffice(String sede, String dal, String note, String stato) {\n        super();\n        this.sede = sede;\n        this.dal = dal;\n        this.note = note;\n        this.stato = stato;\n    }\n\n    public String getSede() {\n        return sede;\n    }\n\n    public void setSede(String sede) {\n        this.sede = sede;\n    }\n\n    public String getDal() {\n        return dal;\n    }\n\n    public void setDal(String dal) {\n        this.dal = dal;\n    }\n\n    public String getNote() {\n        return note;\n    }\n\n    public void setNote(String note) {\n        this.note = note;\n    }\n\n    public String getStato() {\n        return stato;\n    }\n\n    public void setStato(String stato) {\n        this.stato = stato;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NotaryOffice [sede=&quot; + sede + &quot;, dal=&quot; + dal + &quot;, note=&quot; + note + &quot;, stato=&quot; + stato + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Ok we finally have this String field:</p>\n<pre><code>String dal;\n</code></pre>\n<p>this field represents a <strong>Date</strong> as a String in the format <strong>DD/MM/AAAA</strong> (it is a String and not a Date because it is used to write on a WordPress post accepting only String).</p>\n<p>Ok now my problem is that into my <strong>process()</strong> method of my <strong>NotaryDetailsEnrichProcessor</strong>, after that I retrieve the <strong>NotaryDetails</strong> (calling the service, here:</p>\n<pre><code>NotaryDetails notaryDetails = this.notaryService.getNotaryDetails(notaryId);\n</code></pre>\n<p>I need to order by ascending date the array, based on the value of this field: <strong>NotaryDetails --&gt; NotaryHistorical --&gt; NotaryOffice --&gt; dal</strong></p>\n<p>So I suppose that basically <strong>dal</strong> (that is a String) have to be converted on a <strong>Date</strong> and that the related value can be used to order the <strong>NotaryOffice[]</strong> array.</p>\n<p>What could be an elegant solution for this problem?</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645480104,"creation_date":1645480104,"answer_id":71213409,"question_id":71213203,"body_markdown":"Spring manages user information in SecurityContextHolder. So, you can access user information anytime from the securityContextHolder. This is how it is done : \r\n\r\n```\r\nUsers user = (Users) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n```\r\n\r\nuser will contain necessary information.","title":"How can I access data of a logged in user in Java spring?","body":"<p>Spring manages user information in SecurityContextHolder. So, you can access user information anytime from the securityContextHolder. This is how it is done :</p>\n<pre><code>Users user = (Users) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n</code></pre>\n<p>user will contain necessary information.</p>\n"}],"owner":{"account_id":1769596,"reputation":1500,"user_id":1614700,"accept_rate":72,"display_name":"Vannian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645480104,"creation_date":1645478689,"question_id":71213203,"body_markdown":"So I have Users and Some data of those users. I want that logged in user can access only to his data. So If two users are logged in they access only to their data. \r\n\r\nIs that feasibile with SessionRegistry? but how should be the API calls?\r\n\r\nWhen user logs in I put this in the controller:\r\n\r\n\t\tSecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.getMail(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.getPassword(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserDetails.getAuthorities()));\r\n\r\n","title":"How can I access data of a logged in user in Java spring?","body":"<p>So I have Users and Some data of those users. I want that logged in user can access only to his data. So If two users are logged in they access only to their data.</p>\n<p>Is that feasibile with SessionRegistry? but how should be the API calls?</p>\n<p>When user logs in I put this in the controller:</p>\n<pre><code>    SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(\n                                                                    user.getMail(), \n                                                                    user.getPassword(), \n                                                                    userDetails.getAuthorities()));\n</code></pre>\n"},{"tags":["java","interface","static","abstract"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1645480765,"post_id":71212829,"comment_id":125878391,"body_markdown":"https://stackoverflow.com/q/4730036/18157","body":"<a href=\"https://stackoverflow.com/q/4730036/18157\">stackoverflow.com/q/4730036/18157</a>"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645479532,"creation_date":1645479532,"answer_id":71213325,"question_id":71212829,"body_markdown":"Sounds like you can use an enum instead of the interface:\r\n\r\n    enum Rewrite {\r\n        RULE_1 {\r\n            @Override\r\n            public Optional&lt;Integer&gt; findRewrite() {}\r\n        \r\n            @Override\r\n            public void doRewrite(int l1) {}            \r\n        },\r\n        RULE_2 {\r\n            ...\r\n        };\r\n\r\n        public abstract Optional&lt;Integer&gt; findRewrite();\r\n    \r\n        public abstract void doRewrite(int line);\r\n    \r\n        public void rewriteAll() {\r\n            Optional&lt;Integer&gt; line;\r\n            while ((line = findRewrite()).isPresent())\r\n                doRewrite(line.get());\r\n        }\r\n    }\r\n\r\n    public Program(AST ast) {\r\n        ...\r\n        for (Rewrite rule : Rewrite.values())\r\n            rule.rewriteAll();\r\n    }\r\n\r\nIf you still want the interface, you can have the enum implement it instead of declaring its own abstract methods.","title":"How do I organize these methods in a neat way without having to manage class instances?","body":"<p>Sounds like you can use an enum instead of the interface:</p>\n<pre><code>enum Rewrite {\n    RULE_1 {\n        @Override\n        public Optional&lt;Integer&gt; findRewrite() {}\n    \n        @Override\n        public void doRewrite(int l1) {}            \n    },\n    RULE_2 {\n        ...\n    };\n\n    public abstract Optional&lt;Integer&gt; findRewrite();\n\n    public abstract void doRewrite(int line);\n\n    public void rewriteAll() {\n        Optional&lt;Integer&gt; line;\n        while ((line = findRewrite()).isPresent())\n            doRewrite(line.get());\n    }\n}\n\npublic Program(AST ast) {\n    ...\n    for (Rewrite rule : Rewrite.values())\n        rule.rewriteAll();\n}\n</code></pre>\n<p>If you still want the interface, you can have the enum implement it instead of declaring its own abstract methods.</p>\n"}],"owner":{"account_id":2214134,"reputation":1991,"user_id":1955231,"accept_rate":22,"display_name":"Agnishom Chattopadhyay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645479532,"creation_date":1645476364,"question_id":71212829,"body_markdown":"I have a Java class called `Program` whose rough skeleton is like this:\r\n\r\n    public class Program {\r\n    \r\n        public Program(AST ast){\r\n            ...\r\n            new RewriteRule1().rewriteAll();\r\n            new RewriteRule2().rewriteAll();\r\n        }\r\n    \r\n    \r\n        interface RewriteRule {\r\n            // find a line where this rewrite rule can be applied\r\n            public abstract Optional&lt;Integer&gt; findRewrite();\r\n        \r\n            // apply this rewrite rule to the program at given line\r\n            // destructively modifies the program!\r\n            public abstract void doRewrite(int line);\r\n        \r\n            // repeatedly find and rewrite all instances\r\n            public default void rewriteAll(){\r\n                while (true){\r\n                    Optional&lt;Integer&gt; line = findRewrite();\r\n                    if (!line.isPresent())\r\n                        break;\r\n                    doRewrite(line.get());\r\n                }\r\n            }\r\n            \r\n        }\r\n    \r\n        class RewriteRule1 implements RewriteRule{\r\n    \r\n            @Override\r\n            public Optional&lt;Integer&gt; findRewrite() {}\r\n    \r\n            @Override\r\n            public void doRewrite(int l1) {}\r\n            \r\n        }\r\n    \r\n        class RewriteRule2 implements RewriteRule{\r\n    \r\n            @Override\r\n            public Optional&lt;Integer&gt; findRewrite() {}\r\n    \r\n            @Override\r\n            public void doRewrite(int l1) {}\r\n        }\r\n    \r\n    }\r\n\r\nHere, I want to have a notion called `RewriteRule` that has two distinct abstract methods called `findRewrite` and `doRewrite`. I want these to be abstract but I want to have a method called `rewriteAll` which is common to all subtypes of `RewriteRule`.\r\n\r\nIn the actual program, I create an instance of every rewrite rule and I call `rewriteAll()` individually. This feels wrong. I want to be able to just refer to the subtype `RewriteRule1` instead of having to create an instance. Creating an instance feels suboptimal since there is no data associated with it.\r\n\r\n\r\nBut the issue is that \r\n\r\n- If `RewriteRule` is an interface, I can&#39;t force it to have static abstract methods. Java is asking me to give an implementation for all static methods.\r\n- If `RewriteRule` is an abstract class, I can&#39;t force it to have static unimplemented methods either.\r\n\r\nWhat is the best way to organize this code?","title":"How do I organize these methods in a neat way without having to manage class instances?","body":"<p>I have a Java class called <code>Program</code> whose rough skeleton is like this:</p>\n<pre><code>public class Program {\n\n    public Program(AST ast){\n        ...\n        new RewriteRule1().rewriteAll();\n        new RewriteRule2().rewriteAll();\n    }\n\n\n    interface RewriteRule {\n        // find a line where this rewrite rule can be applied\n        public abstract Optional&lt;Integer&gt; findRewrite();\n    \n        // apply this rewrite rule to the program at given line\n        // destructively modifies the program!\n        public abstract void doRewrite(int line);\n    \n        // repeatedly find and rewrite all instances\n        public default void rewriteAll(){\n            while (true){\n                Optional&lt;Integer&gt; line = findRewrite();\n                if (!line.isPresent())\n                    break;\n                doRewrite(line.get());\n            }\n        }\n        \n    }\n\n    class RewriteRule1 implements RewriteRule{\n\n        @Override\n        public Optional&lt;Integer&gt; findRewrite() {}\n\n        @Override\n        public void doRewrite(int l1) {}\n        \n    }\n\n    class RewriteRule2 implements RewriteRule{\n\n        @Override\n        public Optional&lt;Integer&gt; findRewrite() {}\n\n        @Override\n        public void doRewrite(int l1) {}\n    }\n\n}\n</code></pre>\n<p>Here, I want to have a notion called <code>RewriteRule</code> that has two distinct abstract methods called <code>findRewrite</code> and <code>doRewrite</code>. I want these to be abstract but I want to have a method called <code>rewriteAll</code> which is common to all subtypes of <code>RewriteRule</code>.</p>\n<p>In the actual program, I create an instance of every rewrite rule and I call <code>rewriteAll()</code> individually. This feels wrong. I want to be able to just refer to the subtype <code>RewriteRule1</code> instead of having to create an instance. Creating an instance feels suboptimal since there is no data associated with it.</p>\n<p>But the issue is that</p>\n<ul>\n<li>If <code>RewriteRule</code> is an interface, I can't force it to have static abstract methods. Java is asking me to give an implementation for all static methods.</li>\n<li>If <code>RewriteRule</code> is an abstract class, I can't force it to have static unimplemented methods either.</li>\n</ul>\n<p>What is the best way to organize this code?</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1645455381,"post_id":71208288,"comment_id":125869616,"body_markdown":"Have you tried [`@JsonIgnore`](https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonIgnore.html)? This is useful if you want to ignore this field in both serialization and deserialization.","body":"Have you tried <a href=\"https://javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>@JsonIgnore</code></a>? This is useful if you want to ignore this field in both serialization and deserialization."},{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":0,"creation_date":1645455464,"post_id":71208288,"comment_id":125869648,"body_markdown":"Yes i have tried. but the code  &quot;jacksonMapper.disable(MapperFeature.USE_ANNOTATIONS);&quot; is ignoring all anotations, i need some code which can different from annotation and remove the field userId","body":"Yes i have tried. but the code  &quot;jacksonMapper.disable(MapperFeature.USE_ANNOTATIONS);&quot; is ignoring all anotations, i need some code which can different from annotation and remove the field userId"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1645460228,"post_id":71208288,"comment_id":125871635,"body_markdown":"`jacksonMapper.disable(MapperFeature.USE_ANNOTATIONS)` limits all possibilities about annotations, is it mandatory ? If yes one alternative is create a new class without the field and serialize it.","body":"<code>jacksonMapper.disable(MapperFeature.USE_ANNOTATIONS)</code> limits all possibilities about annotations, is it mandatory ? If yes one alternative is create a new class without the field and serialize it."},{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":0,"creation_date":1645480950,"post_id":71208288,"comment_id":125878432,"body_markdown":"Yes it s mandatory. Cant make another class need to make some changes here only.","body":"Yes it s mandatory. Cant make another class need to make some changes here only."}],"answers":[{"tags":[],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645478479,"creation_date":1645478132,"answer_id":71213123,"question_id":71208288,"body_markdown":"I don&#39;t know how you should solve this without removing the annotation processing code, you should maybe add a custom serializer. You can read further about the topic at [here][1].\r\n\r\n    public class HelloWorld {\r\n    \r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            User myItem = new User(&quot;planId&quot;, &quot;eId&quot;, List.of(&quot;1&quot;, &quot;2&quot;));\r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            SimpleModule module = new SimpleModule();\r\n            module.addSerializer(User.class, new UserSerializer());\r\n            mapper.registerModule(module);\r\n    \r\n            String serialized = mapper.writeValueAsString(myItem);\r\n        }\r\n    \r\n        @Data\r\n        @AllArgsConstructor\r\n        public static class User {\r\n    \r\n            private String planId;\r\n            private String eId;\r\n            private Collection&lt;String&gt; userIds;\r\n        }\r\n    \r\n        public static class UserSerializer extends StdSerializer&lt;User&gt; {\r\n    \r\n            public UserSerializer() {\r\n                this(null);\r\n            }\r\n    \r\n            public UserSerializer(Class&lt;User&gt; t) {\r\n                super(t);\r\n            }\r\n    \r\n            @Override\r\n            public void serialize(User value, JsonGenerator gen, SerializerProvider provider) throws IOException{\r\n    \r\n                gen.writeStartObject();\r\n                gen.writeStringField(&quot;planId&quot;, value.planId);\r\n                gen.writeStringField(&quot;eId&quot;, value.eId);\r\n                gen.writeEndObject();\r\n            }\r\n        }\r\n    }\r\n\r\nIf you had to use it without annotations, and cannot add a custom serializer you should map the User class into a more specific class without the field in question and then serialize that one.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-custom-serialization","title":"How to remove a field from POJO","body":"<p>I don't know how you should solve this without removing the annotation processing code, you should maybe add a custom serializer. You can read further about the topic at <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>public class HelloWorld {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        User myItem = new User(&quot;planId&quot;, &quot;eId&quot;, List.of(&quot;1&quot;, &quot;2&quot;));\n        ObjectMapper mapper = new ObjectMapper();\n\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(User.class, new UserSerializer());\n        mapper.registerModule(module);\n\n        String serialized = mapper.writeValueAsString(myItem);\n    }\n\n    @Data\n    @AllArgsConstructor\n    public static class User {\n\n        private String planId;\n        private String eId;\n        private Collection&lt;String&gt; userIds;\n    }\n\n    public static class UserSerializer extends StdSerializer&lt;User&gt; {\n\n        public UserSerializer() {\n            this(null);\n        }\n\n        public UserSerializer(Class&lt;User&gt; t) {\n            super(t);\n        }\n\n        @Override\n        public void serialize(User value, JsonGenerator gen, SerializerProvider provider) throws IOException{\n\n            gen.writeStartObject();\n            gen.writeStringField(&quot;planId&quot;, value.planId);\n            gen.writeStringField(&quot;eId&quot;, value.eId);\n            gen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n<p>If you had to use it without annotations, and cannot add a custom serializer you should map the User class into a more specific class without the field in question and then serialize that one.</p>\n"}],"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645478479,"creation_date":1645454899,"question_id":71208288,"body_markdown":"    public class user {\r\n    \r\n        private String planId;\r\n    \r\n        private String eid;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n        private Collection&lt;String&gt; userIds;\r\n    \r\n    }\r\n\r\nI have a pojo like above \r\n\r\nand the code which is use for creating the json request object is this :\r\n\r\n        public UserCollection getUserCollection(final user args) {\r\n                Map&lt;String, String&gt; headersMap = new HashMap&lt;&gt;();\r\n                ObjectMapper jacksonMapper = new ObjectMapper();\r\n                jacksonMapper.disable(MapperFeature.USE_ANNOTATIONS); // this line is creating the userIds field to reflect\r\n     //By any code we can remove the userId field from the args object\r\n        \r\n                String responseBody = null;\r\n                String responseStatus = null;\r\n                    String jsonRequestBody = jacksonMapper.writeValueAsString(args);\r\n        }\r\n\r\nI just want to remove userIds from the args by not removing any of the above code.\r\n\r\nThanks in advance.","title":"How to remove a field from POJO","body":"<pre><code>public class user {\n\n    private String planId;\n\n    private String eid;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private Collection&lt;String&gt; userIds;\n\n}\n</code></pre>\n<p>I have a pojo like above</p>\n<p>and the code which is use for creating the json request object is this :</p>\n<pre><code>    public UserCollection getUserCollection(final user args) {\n            Map&lt;String, String&gt; headersMap = new HashMap&lt;&gt;();\n            ObjectMapper jacksonMapper = new ObjectMapper();\n            jacksonMapper.disable(MapperFeature.USE_ANNOTATIONS); // this line is creating the userIds field to reflect\n //By any code we can remove the userId field from the args object\n    \n            String responseBody = null;\n            String responseStatus = null;\n                String jsonRequestBody = jacksonMapper.writeValueAsString(args);\n    }\n</code></pre>\n<p>I just want to remove userIds from the args by not removing any of the above code.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","processing","pixel","morphing"],"comments":[{"owner":{"account_id":9938133,"reputation":48523,"user_id":7355741,"display_name":"fmw42"},"score":1,"creation_date":1645479073,"post_id":71208433,"comment_id":125877933,"body_markdown":"I have two morphing scripts that are bash shell scripts calling Imagemagick (shapemorph and shapemorph2) on my web site at http://www.fmwconcepts.com/imagemagick/ that use a shepards warp to do the distortion and fades. The first script takes one control point pair and the second script permits any number of control point pairs between the two input images for alignment.","body":"I have two morphing scripts that are bash shell scripts calling Imagemagick (shapemorph and shapemorph2) on my web site at <a href=\"http://www.fmwconcepts.com/imagemagick/\" rel=\"nofollow noreferrer\">fmwconcepts.com/imagemagick</a> that use a shepards warp to do the distortion and fades. The first script takes one control point pair and the second script permits any number of control point pairs between the two input images for alignment."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645478349,"creation_date":1645478349,"answer_id":71213151,"question_id":71208433,"body_markdown":"Indeed it is not a straight forward task.\r\n\r\nYou&#39;re approach is not a bad start: it would result in a nice crossfade between the two images.\r\n\r\nBare in mind `get()` can be costly on the CPU.\r\nYou can however use the [`pixels[]`][1]:\r\n\r\n```java\r\nPImage img1;\r\nPImage img2;\r\n// transition image\r\nPImage imgT;\r\n\r\nvoid setup() {\r\n  size(1080, 1080);\r\n  \r\n  img1 = loadImage(&quot;0.jpg&quot;);\r\n  img2 = loadImage(&quot;1.jpg&quot;);\r\n  // copy the 1st image (copies width/height as well)\r\n  imgT = img1.get();\r\n}\r\n\r\n\r\nvoid draw() {\r\n  background(255);\r\n  // map transition amount to mouse X position\r\n  float t = map(mouseX, 0, width, 0.0, 1.0);\r\n  \r\n  // make all pixels readable\r\n  imgT.loadPixels();\r\n  // lerp each pixel\r\n  for(int i = 0 ; i &lt; imgT.pixels.length; i++){\r\n    imgT.pixels[i] = lerpColor(img1.pixels[i], img2.pixels[i], t);\r\n  }\r\n  // update all pixels in one go\r\n  imgT.updatePixels();\r\n  \r\n  // display result\r\n  image(imgT, 0, 0);\r\n}\r\n```\r\n\r\nImplementing a full morph image is non-trivial.\r\nI can recomend two options to make use of existing algorithms, however these options are also not beginner friendly:\r\n\r\n 1. [ImageMagick implements shepards distortion][2] and there is a java library that interfaces with imagemagick: [im4java][3]. Note that you&#39;d need to download the precompiled java library and drop the .jar file on top of your sketch and processing the output might take time: probably not feasible for realtime (however it should be possible to save individual frames to disk and assemble them as a gif/movie/etc.)\r\n 2. Using OpenCV: there&#39;s an [OpenCV Face Morph][4] tutorial with source code in c++ or [Python][5] and there is a Processing OpenCV library. It would be a matter of porting the c++/Python OpenCV calls to the Java OpenCV API.\r\n\r\n\r\n  [1]: https://processing.org/reference/pixels.html\r\n  [2]: https://legacy.imagemagick.org/Usage/distorts/#shepards\r\n  [3]: http://im4java.sourceforge.net/\r\n  [4]: https://learnopencv.com/face-morph-using-opencv-cpp-python/\r\n  [5]: https://github.com/spmallick/learnopencv/blob/master/FaceMorph/faceMorph.py","title":"morph images effect in Processing","body":"<p>Indeed it is not a straight forward task.</p>\n<p>You're approach is not a bad start: it would result in a nice crossfade between the two images.</p>\n<p>Bare in mind <code>get()</code> can be costly on the CPU.\nYou can however use the <a href=\"https://processing.org/reference/pixels.html\" rel=\"nofollow noreferrer\"><code>pixels[]</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PImage img1;\nPImage img2;\n// transition image\nPImage imgT;\n\nvoid setup() {\n  size(1080, 1080);\n  \n  img1 = loadImage(&quot;0.jpg&quot;);\n  img2 = loadImage(&quot;1.jpg&quot;);\n  // copy the 1st image (copies width/height as well)\n  imgT = img1.get();\n}\n\n\nvoid draw() {\n  background(255);\n  // map transition amount to mouse X position\n  float t = map(mouseX, 0, width, 0.0, 1.0);\n  \n  // make all pixels readable\n  imgT.loadPixels();\n  // lerp each pixel\n  for(int i = 0 ; i &lt; imgT.pixels.length; i++){\n    imgT.pixels[i] = lerpColor(img1.pixels[i], img2.pixels[i], t);\n  }\n  // update all pixels in one go\n  imgT.updatePixels();\n  \n  // display result\n  image(imgT, 0, 0);\n}\n</code></pre>\n<p>Implementing a full morph image is non-trivial.\nI can recomend two options to make use of existing algorithms, however these options are also not beginner friendly:</p>\n<ol>\n<li><a href=\"https://legacy.imagemagick.org/Usage/distorts/#shepards\" rel=\"nofollow noreferrer\">ImageMagick implements shepards distortion</a> and there is a java library that interfaces with imagemagick: <a href=\"http://im4java.sourceforge.net/\" rel=\"nofollow noreferrer\">im4java</a>. Note that you'd need to download the precompiled java library and drop the .jar file on top of your sketch and processing the output might take time: probably not feasible for realtime (however it should be possible to save individual frames to disk and assemble them as a gif/movie/etc.)</li>\n<li>Using OpenCV: there's an <a href=\"https://learnopencv.com/face-morph-using-opencv-cpp-python/\" rel=\"nofollow noreferrer\">OpenCV Face Morph</a> tutorial with source code in c++ or <a href=\"https://github.com/spmallick/learnopencv/blob/master/FaceMorph/faceMorph.py\" rel=\"nofollow noreferrer\">Python</a> and there is a Processing OpenCV library. It would be a matter of porting the c++/Python OpenCV calls to the Java OpenCV API.</li>\n</ol>\n"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645478349,"creation_date":1645455472,"question_id":71208433,"body_markdown":"I would like to build a kind of image morphing tool in Processing. Similar to what you can see in this link:\r\n\r\n[https://giphy.com/gifs/painting-morph-oil-c8ygOpL64UDuw][1] \r\n\r\nMy first step to achieve this was to build a two-dimensional grid of pixels. The pixels are filled with colour. The fill colour is created by reading colour from an image (PImage img1;) with the get(); function. This is how I recreated an image with my pixels.  In the second step, I thought I would use the lerp(); function to give the respective pixels the colour of a second image (PImage img2;) - I thought this would create the desired morph effect. But I was wrong! The whole thing works - but the effect is only that a fade-in takes place between the two images. And no morphing. What exactly happens to pixels while this morph effect? How could I recreate it in Processing?\r\n\r\n    float pixel;\r\n    float pixelsize;\r\n    PImage img1;\r\n    PImage img2;\r\n    float counter;\r\n    \r\n    void setup() {\r\n      size(1080, 1080);\r\n      pixel = 100;\r\n      pixelsize = width/pixel;\r\n      noStroke();\r\n      img1 = loadImage(&quot;0.jpg&quot;);\r\n      img2 = loadImage(&quot;1.jpg&quot;);\r\n      counter = 0;\r\n    }\r\n    \r\n    \r\n    void draw() {\r\n      background(255);\r\n    \r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n          color c1 = img1.get(int(pixelsize*x), int(pixelsize*y));\r\n          color c2 = img2.get(int(pixelsize*x), int(pixelsize*y));\r\n    \r\n          color from = c1;\r\n          color to = c2;\r\n          color interA = lerpColor(from, to, counter);\r\n    \r\n          pushMatrix();\r\n          translate(pixelsize*x, pixelsize*y);\r\n          fill(interA);\r\n          rect(0, 0, pixelsize, pixelsize);\r\n          popMatrix();\r\n        }\r\n      }\r\n      counter= counter + 0.01;\r\n    }\r\n\r\n\r\n  [1]: https://giphy.com/gifs/painting-morph-oil-c8ygOpL64UDuw","title":"morph images effect in Processing","body":"<p>I would like to build a kind of image morphing tool in Processing. Similar to what you can see in this link:</p>\n<p><a href=\"https://giphy.com/gifs/painting-morph-oil-c8ygOpL64UDuw\" rel=\"nofollow noreferrer\">https://giphy.com/gifs/painting-morph-oil-c8ygOpL64UDuw</a></p>\n<p>My first step to achieve this was to build a two-dimensional grid of pixels. The pixels are filled with colour. The fill colour is created by reading colour from an image (PImage img1;) with the get(); function. This is how I recreated an image with my pixels.  In the second step, I thought I would use the lerp(); function to give the respective pixels the colour of a second image (PImage img2;) - I thought this would create the desired morph effect. But I was wrong! The whole thing works - but the effect is only that a fade-in takes place between the two images. And no morphing. What exactly happens to pixels while this morph effect? How could I recreate it in Processing?</p>\n<pre><code>float pixel;\nfloat pixelsize;\nPImage img1;\nPImage img2;\nfloat counter;\n\nvoid setup() {\n  size(1080, 1080);\n  pixel = 100;\n  pixelsize = width/pixel;\n  noStroke();\n  img1 = loadImage(&quot;0.jpg&quot;);\n  img2 = loadImage(&quot;1.jpg&quot;);\n  counter = 0;\n}\n\n\nvoid draw() {\n  background(255);\n\n  for (int y = 0; y &lt; pixel; y++) {\n    for (int x = 0; x &lt; pixel; x++) {\n      color c1 = img1.get(int(pixelsize*x), int(pixelsize*y));\n      color c2 = img2.get(int(pixelsize*x), int(pixelsize*y));\n\n      color from = c1;\n      color to = c2;\n      color interA = lerpColor(from, to, counter);\n\n      pushMatrix();\n      translate(pixelsize*x, pixelsize*y);\n      fill(interA);\n      rect(0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  counter= counter + 0.01;\n}\n</code></pre>\n"},{"tags":["java","sql","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1599130209,"creation_date":1599129814,"answer_id":63721983,"question_id":63721646,"body_markdown":"I&#39;m not sure about using `@Query` here. If you mapped these 2 entities via annotations `@OneToMany` and `@ManyToOne` this join is redundant. \r\nAnd second moment here, why is `@Basic(fetch = FetchType.LAZY)` here? Maybe you should set lazy init in `@OneToMany` ? \r\n[Check out this resource, I hope you&#39;ll find it helpfull][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","title":"Spring Data JpaRepository &quot;JOIN FETCH&quot; returns duplicates","body":"<p>I'm not sure about using <code>@Query</code> here. If you mapped these 2 entities via annotations <code>@OneToMany</code> and <code>@ManyToOne</code> this join is redundant.\nAnd second moment here, why is <code>@Basic(fetch = FetchType.LAZY)</code> here? Maybe you should set lazy init in <code>@OneToMany</code> ?\n<a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">Check out this resource, I hope you'll find it helpfull</a></p>\n"},{"tags":[],"owner":{"account_id":14126181,"reputation":2681,"user_id":10205514,"display_name":"Oleksii Valuiskyi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1599130702,"creation_date":1599130365,"answer_id":63722129,"question_id":63721646,"body_markdown":"`FROM Department dep JOIN FETCH dep.employees emp` expression generates native query which returns plain result `Department-Employee`. Every `Department` will be returned `dep.employees.size()` times. This is a JPA-provider expected behavior (`Hibernate` in your case).\r\n\r\nUsing `distinct` to get rid of duplicates seems like a good option. `Set&lt;Department&gt;` as a query result makes it impossible to get the ordered result.","title":"Spring Data JpaRepository &quot;JOIN FETCH&quot; returns duplicates","body":"<p><code>FROM Department dep JOIN FETCH dep.employees emp</code> expression generates native query which returns plain result <code>Department-Employee</code>. Every <code>Department</code> will be returned <code>dep.employees.size()</code> times. This is a JPA-provider expected behavior (<code>Hibernate</code> in your case).</p>\n<p>Using <code>distinct</code> to get rid of duplicates seems like a good option. <code>Set&lt;Department&gt;</code> as a query result makes it impossible to get the ordered result.</p>\n"},{"tags":[],"owner":{"account_id":19012323,"reputation":3256,"user_id":13878023,"display_name":"Sujitmohanty30"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1599139972,"creation_date":1599139972,"answer_id":63724775,"question_id":63721646,"body_markdown":"With my knowledge, the use case you have mentioned, you don&#39;t need to define your own method and instead use `repository.findAll` which is inherited from `PagingAndSortingRepository` which extends `CrudRepository`  and implemented by `SimpleJpaRepository`. See [here][1]\r\n\r\nSo just leave the repository interface blank as below,\r\n\r\n    @Repository\r\n    public interface DepartmentRepository extends JpaRepository&lt;Department, Long&gt; {\r\n    \r\n    }\r\n\r\nThen inject and use it wherever you need, e.g. lets say with DepartmentService\r\n\r\n    public interface DepartmentService {\r\n        \r\n        List&lt;Link&gt; getAll();\t\r\n    }\r\n    \r\n    @Component\r\n    public class DepartmentServiceImpl implements DepartmentService {\r\n    \r\n        private final DepartmentRepository  repository;    \r\n    \r\n        // dependency injection via constructor\r\n    \t@Autowired\r\n        public DepartmentServiceImpl(DepartmentRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Department&gt; getAll() {\t\r\n            return repository.findAll();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html","title":"Spring Data JpaRepository &quot;JOIN FETCH&quot; returns duplicates","body":"<p>With my knowledge, the use case you have mentioned, you don't need to define your own method and instead use <code>repository.findAll</code> which is inherited from <code>PagingAndSortingRepository</code> which extends <code>CrudRepository</code>  and implemented by <code>SimpleJpaRepository</code>. See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>So just leave the repository interface blank as below,</p>\n<pre><code>@Repository\npublic interface DepartmentRepository extends JpaRepository&lt;Department, Long&gt; {\n\n}\n</code></pre>\n<p>Then inject and use it wherever you need, e.g. lets say with DepartmentService</p>\n<pre><code>public interface DepartmentService {\n    \n    List&lt;Link&gt; getAll();    \n}\n\n@Component\npublic class DepartmentServiceImpl implements DepartmentService {\n\n    private final DepartmentRepository  repository;    \n\n    // dependency injection via constructor\n    @Autowired\n    public DepartmentServiceImpl(DepartmentRepository repository) {\n        this.repository = repository;\n    }\n\n    @Override\n    public List&lt;Department&gt; getAll() {  \n        return repository.findAll();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24333885,"reputation":1,"user_id":18272297,"display_name":"Anders Lien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645477994,"creation_date":1645477994,"answer_id":71213096,"question_id":63721646,"body_markdown":"You probably want to use `LEFT JOIN FETCH` as well as `DISTINCT`. Normal `JOIN FETCH` uses an inner join so Departments without any employees will not be returned by your query. LEFT JOIN FETCH uses an outer join instead.","title":"Spring Data JpaRepository &quot;JOIN FETCH&quot; returns duplicates","body":"<p>You probably want to use <code>LEFT JOIN FETCH</code> as well as <code>DISTINCT</code>. Normal <code>JOIN FETCH</code> uses an inner join so Departments without any employees will not be returned by your query. LEFT JOIN FETCH uses an outer join instead.</p>\n"}],"owner":{"account_id":18243991,"reputation":295,"user_id":13280508,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2617,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63722129,"answer_count":4,"score":2,"last_activity_date":1645477994,"creation_date":1599128574,"question_id":63721646,"body_markdown":"I&#39;m writing a simple Spring Data JPA application. I use MySQL database. There are two simple tables:\r\n\r\n - Department\r\n - Employee\r\n\r\nEach employee works in some department (Employee.department_id).\r\n\r\n```\r\n@Entity\r\npublic class Department {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n\r\n    @Basic(fetch = FetchType.LAZY)\r\n    @OneToMany(mappedBy = &quot;department&quot;)\r\n    List&lt;Employee&gt; employees;\r\n}\r\n\r\n@Entity\r\npublic class Employee {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn\r\n    private Department department;\r\n}\r\n\r\n@Repository\r\npublic interface DepartmentRepository extends JpaRepository&lt;Department, Long&gt; {\r\n\t@Query(&quot;FROM Department dep JOIN FETCH dep.employees emp WHERE dep = emp.department&quot;)\r\n    List&lt;Department&gt; getAll();\r\n}\r\n```\r\n\r\nThe method `getAll` returns a list with duplicated departments (each department is repeated as many times as there are employees in this department). \r\n\r\nQuestion 1: Am I rigth that this is a feature related not to Spring Data JPA, but to to Hibernate?  \r\nQuestion 2: What is the best way to fix it? (I found at least two ways: 1) use `Set&lt;Department&gt; getAll();` 2) use `&quot;SELECT DISTINCT dep&quot;` in `@Query` annotation)\r\n\r\n","title":"Spring Data JpaRepository &quot;JOIN FETCH&quot; returns duplicates","body":"<p>I'm writing a simple Spring Data JPA application. I use MySQL database. There are two simple tables:</p>\n<ul>\n<li>Department</li>\n<li>Employee</li>\n</ul>\n<p>Each employee works in some department (Employee.department_id).</p>\n<pre><code>@Entity\npublic class Department {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n\n    @Basic(fetch = FetchType.LAZY)\n    @OneToMany(mappedBy = &quot;department&quot;)\n    List&lt;Employee&gt; employees;\n}\n\n@Entity\npublic class Employee {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn\n    private Department department;\n}\n\n@Repository\npublic interface DepartmentRepository extends JpaRepository&lt;Department, Long&gt; {\n    @Query(&quot;FROM Department dep JOIN FETCH dep.employees emp WHERE dep = emp.department&quot;)\n    List&lt;Department&gt; getAll();\n}\n</code></pre>\n<p>The method <code>getAll</code> returns a list with duplicated departments (each department is repeated as many times as there are employees in this department).</p>\n<p>Question 1: Am I rigth that this is a feature related not to Spring Data JPA, but to to Hibernate?<br />\nQuestion 2: What is the best way to fix it? (I found at least two ways: 1) use <code>Set&lt;Department&gt; getAll();</code> 2) use <code>&quot;SELECT DISTINCT dep&quot;</code> in <code>@Query</code> annotation)</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645474820,"post_id":71212367,"comment_id":125876710,"body_markdown":"I would strongly recommend taking some time to reading through [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html), in particular with regards to how they relate to [using buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html) and [text fields](https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html)","body":"I would strongly recommend taking some time to reading through <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a>, in particular with regards to how they relate to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">using buttons</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html\" rel=\"nofollow noreferrer\">text fields</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645474863,"post_id":71212367,"comment_id":125876724,"body_markdown":"I&#39;d also strongly recommend making use of [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) over `KeyListener`.  I&#39;d also recommend providing a [mcve]","body":"I&#39;d also strongly recommend making use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a> over <code>KeyListener</code>.  I&#39;d also recommend providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645477408,"creation_date":1645475589,"answer_id":71212679,"question_id":71212367,"body_markdown":"This...\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\r\n        // TODO add your handling code here:\r\n\r\n        ConsumirWS2 WS = new ConsumirWS2();\r\n        try {\r\n            WS.Buscar();\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(DialogCPF.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        //...\r\n        DialogCPF A = (DialogCPF) evt.getSource();\r\n        A.dispose();\r\n\r\n    }\r\n\r\nis unlikely to work, because it&#39;s unlikely that the source of the `ActionEvent` is going to be the dialog.  I&#39;m also concerned over the creation of an instance of `ConsumirWS2`, this isn&#39;t the responsibility of the dialog, the dialog should allow the caller to extract the information it needs, possibly via an observer pattern.\r\n\r\nThis...\r\n\r\n    dialog.addKeyListener(new KeyListener() {\r\n\r\n        @Override\r\n        public void keyTyped(KeyEvent e) {\r\n            // Nothing\r\n        }\r\n\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            // Nothing \r\n        }\r\n\r\n        @Override\r\n        public void keyReleased(KeyEvent e) {\r\n            if (e.getKeyCode() == KeyEvent.VK_ENTER) {\r\n                //...\r\n            }\r\n        }\r\n    });\r\n\r\nis a bad idea, for a number of reasons, apart from not been obvious to the user, any component which takes focus away from the dialog (like a text field) will prevent it from been executed.  Instead, see https://stackoverflow.com/questions/12260962/how-to-set-the-java-default-button-to-react-on-enter-key-released for a better solution\r\n\r\nBut while we&#39;re here...\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        if (e.getKeyCode() == KeyEvent.VK_ENTER) {\r\n            //...\r\n            DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), true);\r\n            //dialog.setEnabled(false);\r\n            dialog.dispose();\r\n        }\r\n    }\r\n\r\nIsn&#39;t going to work.  You create a new instance of the dialog and immediately dispose of it ... how is that going to have any affect on the instance of the dialog which is on the screen and triggered this event?!\r\n\r\nGenerally speaking, you need to call `dispose` on the current instance of the dialog and you might be better of looking at [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) and [How to Make Frames](https://docs.oracle.com/javase/tutorial/uiswing/components/frame.html) and you&#39;d most certainly be better off avoiding the use form editors\r\n\r\n# As a conceptual example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(50, 50, 50, 50));\r\n\r\n                JButton btn = new JButton(&quot;Collect data&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        FormData formData = DataEntryPane.showDialog(TestPane.this, null);\r\n                        if (formData != null) {\r\n                            JOptionPane.showMessageDialog(TestPane.this, &quot;I have new data&quot;);\r\n                        } else {\r\n                            JOptionPane.showMessageDialog(TestPane.this, &quot;No new data for me&quot;);\r\n                        }\r\n                    }\r\n                });\r\n                add(btn);\r\n            }\r\n\r\n        }\r\n\r\n        public static class FormData {\r\n\r\n            private String importantStuff;\r\n\r\n            public FormData(String importantStuff) {\r\n                this.importantStuff = importantStuff;\r\n            }\r\n\r\n            public String getImportantStuff() {\r\n                return importantStuff;\r\n            }\r\n\r\n        }\r\n\r\n        public static class DataEntryPane extends JPanel {\r\n\r\n            public interface Observer {\r\n\r\n                public void formValidationRequired(DataEntryPane source);\r\n            }\r\n\r\n            private Observer observer;\r\n            private JTextField textField;\r\n\r\n            public DataEntryPane(Observer observer, FormData formData) {\r\n                this.observer = observer;\r\n                setLayout(new GridBagLayout());\r\n                textField = new JTextField(10);\r\n\r\n                add(new JLabel(&quot;Some important stuff: &quot;));\r\n                add(textField);\r\n\r\n                if (formData != null) {\r\n                    textField.setText(formData.getImportantStuff());\r\n                }\r\n\r\n                ActionListener actionListener = new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (observer != null) {\r\n                            observer.formValidationRequired(DataEntryPane.this);\r\n                        }\r\n                    }\r\n                };\r\n\r\n                textField.addActionListener(actionListener);\r\n            }\r\n\r\n            public String getImportantStuff() {\r\n                return textField.getText();\r\n            }\r\n\r\n            public static FormData showDialog(Component parent, FormData data) {\r\n                enum State {\r\n                    OK, CANCEL\r\n                }\r\n\r\n                // You could use a JOptionPane instead, but where&#39;s the fun in that\r\n                JDialog dialog = new JDialog(SwingUtilities.windowForComponent(parent));\r\n                dialog.setTitle(&quot;All you data is belong to us&quot;);\r\n                dialog.setModal(true);\r\n\r\n                JPanel content = new JPanel(new BorderLayout());\r\n                content.setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                dialog.setContentPane(content);\r\n\r\n                DataEntryPane entryPane = new DataEntryPane(new Observer() {\r\n                    @Override\r\n                    public void formValidationRequired(DataEntryPane source) {\r\n                        // Do what ever validation you need\r\n                        boolean isValid = true;\r\n                        if (isValid) {\r\n                            source.putClientProperty(&quot;state&quot;, State.CANCEL);\r\n                            dialog.dispose();\r\n                        }\r\n                    }\r\n                }, data);\r\n                entryPane.setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                dialog.add(entryPane);\r\n\r\n                JButton okayButton = new JButton(&quot;OK&quot;);\r\n                JButton cancelButton = new JButton(&quot;Cancel&quot;);\r\n\r\n                okayButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        entryPane.putClientProperty(&quot;state&quot;, State.OK);\r\n                        dialog.dispose();\r\n                    }\r\n                });\r\n\r\n                cancelButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        entryPane.putClientProperty(&quot;state&quot;, State.CANCEL);\r\n                        dialog.dispose();\r\n                    }\r\n                });\r\n\r\n                JPanel actionPane = new JPanel();\r\n                actionPane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                actionPane.add(okayButton);\r\n                actionPane.add(cancelButton);\r\n\r\n                dialog.add(actionPane, BorderLayout.SOUTH);\r\n                dialog.getRootPane().setDefaultButton(okayButton);\r\n\r\n                dialog.pack();\r\n                dialog.setLocationRelativeTo(parent);\r\n                dialog.setVisible(true);\r\n\r\n                State state = (State) entryPane.getClientProperty(&quot;state&quot;);\r\n                // Only process the information if the user selected &quot;okay&quot;\r\n                if (state != null &amp;&amp; State.OK == state) {\r\n                    System.out.println(&quot;Validate user input&quot;);\r\n                    // Do what ever validation you need\r\n                    boolean isValid = true;\r\n                    if (isValid) {\r\n                        String importantStuff = entryPane.getImportantStuff();\r\n                        return new FormData(importantStuff);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;User cancelled operation&quot;);\r\n                }\r\n\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n","title":"jDialog do not dispose","body":"<p>This...</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\n    // TODO add your handling code here:\n\n    ConsumirWS2 WS = new ConsumirWS2();\n    try {\n        WS.Buscar();\n    } catch (Exception ex) {\n        Logger.getLogger(DialogCPF.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    //...\n    DialogCPF A = (DialogCPF) evt.getSource();\n    A.dispose();\n\n}\n</code></pre>\n<p>is unlikely to work, because it's unlikely that the source of the <code>ActionEvent</code> is going to be the dialog.  I'm also concerned over the creation of an instance of <code>ConsumirWS2</code>, this isn't the responsibility of the dialog, the dialog should allow the caller to extract the information it needs, possibly via an observer pattern.</p>\n<p>This...</p>\n<pre><code>dialog.addKeyListener(new KeyListener() {\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // Nothing\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // Nothing \n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_ENTER) {\n            //...\n        }\n    }\n});\n</code></pre>\n<p>is a bad idea, for a number of reasons, apart from not been obvious to the user, any component which takes focus away from the dialog (like a text field) will prevent it from been executed.  Instead, see <a href=\"https://stackoverflow.com/questions/12260962/how-to-set-the-java-default-button-to-react-on-enter-key-released\">How to set the Java default button to react on ENTER key _released_?</a> for a better solution</p>\n<p>But while we're here...</p>\n<pre><code>@Override\npublic void keyReleased(KeyEvent e) {\n    if (e.getKeyCode() == KeyEvent.VK_ENTER) {\n        //...\n        DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), true);\n        //dialog.setEnabled(false);\n        dialog.dispose();\n    }\n}\n</code></pre>\n<p>Isn't going to work.  You create a new instance of the dialog and immediately dispose of it ... how is that going to have any affect on the instance of the dialog which is on the screen and triggered this event?!</p>\n<p>Generally speaking, you need to call <code>dispose</code> on the current instance of the dialog and you might be better of looking at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/frame.html\" rel=\"nofollow noreferrer\">How to Make Frames</a> and you'd most certainly be better off avoiding the use form editors</p>\n<h1>As a conceptual example...</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(50, 50, 50, 50));\n\n            JButton btn = new JButton(&quot;Collect data&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    FormData formData = DataEntryPane.showDialog(TestPane.this, null);\n                    if (formData != null) {\n                        JOptionPane.showMessageDialog(TestPane.this, &quot;I have new data&quot;);\n                    } else {\n                        JOptionPane.showMessageDialog(TestPane.this, &quot;No new data for me&quot;);\n                    }\n                }\n            });\n            add(btn);\n        }\n\n    }\n\n    public static class FormData {\n\n        private String importantStuff;\n\n        public FormData(String importantStuff) {\n            this.importantStuff = importantStuff;\n        }\n\n        public String getImportantStuff() {\n            return importantStuff;\n        }\n\n    }\n\n    public static class DataEntryPane extends JPanel {\n\n        public interface Observer {\n\n            public void formValidationRequired(DataEntryPane source);\n        }\n\n        private Observer observer;\n        private JTextField textField;\n\n        public DataEntryPane(Observer observer, FormData formData) {\n            this.observer = observer;\n            setLayout(new GridBagLayout());\n            textField = new JTextField(10);\n\n            add(new JLabel(&quot;Some important stuff: &quot;));\n            add(textField);\n\n            if (formData != null) {\n                textField.setText(formData.getImportantStuff());\n            }\n\n            ActionListener actionListener = new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (observer != null) {\n                        observer.formValidationRequired(DataEntryPane.this);\n                    }\n                }\n            };\n\n            textField.addActionListener(actionListener);\n        }\n\n        public String getImportantStuff() {\n            return textField.getText();\n        }\n\n        public static FormData showDialog(Component parent, FormData data) {\n            enum State {\n                OK, CANCEL\n            }\n\n            // You could use a JOptionPane instead, but where's the fun in that\n            JDialog dialog = new JDialog(SwingUtilities.windowForComponent(parent));\n            dialog.setTitle(&quot;All you data is belong to us&quot;);\n            dialog.setModal(true);\n\n            JPanel content = new JPanel(new BorderLayout());\n            content.setBorder(new EmptyBorder(32, 32, 32, 32));\n            dialog.setContentPane(content);\n\n            DataEntryPane entryPane = new DataEntryPane(new Observer() {\n                @Override\n                public void formValidationRequired(DataEntryPane source) {\n                    // Do what ever validation you need\n                    boolean isValid = true;\n                    if (isValid) {\n                        source.putClientProperty(&quot;state&quot;, State.CANCEL);\n                        dialog.dispose();\n                    }\n                }\n            }, data);\n            entryPane.setBorder(new EmptyBorder(32, 32, 32, 32));\n            dialog.add(entryPane);\n\n            JButton okayButton = new JButton(&quot;OK&quot;);\n            JButton cancelButton = new JButton(&quot;Cancel&quot;);\n\n            okayButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    entryPane.putClientProperty(&quot;state&quot;, State.OK);\n                    dialog.dispose();\n                }\n            });\n\n            cancelButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    entryPane.putClientProperty(&quot;state&quot;, State.CANCEL);\n                    dialog.dispose();\n                }\n            });\n\n            JPanel actionPane = new JPanel();\n            actionPane.setBorder(new EmptyBorder(8, 8, 8, 8));\n            actionPane.add(okayButton);\n            actionPane.add(cancelButton);\n\n            dialog.add(actionPane, BorderLayout.SOUTH);\n            dialog.getRootPane().setDefaultButton(okayButton);\n\n            dialog.pack();\n            dialog.setLocationRelativeTo(parent);\n            dialog.setVisible(true);\n\n            State state = (State) entryPane.getClientProperty(&quot;state&quot;);\n            // Only process the information if the user selected &quot;okay&quot;\n            if (state != null &amp;&amp; State.OK == state) {\n                System.out.println(&quot;Validate user input&quot;);\n                // Do what ever validation you need\n                boolean isValid = true;\n                if (isValid) {\n                    String importantStuff = entryPane.getImportantStuff();\n                    return new FormData(importantStuff);\n                }\n            } else {\n                System.out.println(&quot;User cancelled operation&quot;);\n            }\n\n            return null;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23151433,"reputation":3,"user_id":17253375,"display_name":"Lu&#237;s Ambrozin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71212679,"answer_count":1,"score":0,"last_activity_date":1645477408,"creation_date":1645473722,"question_id":71212367,"body_markdown":"I hava a jFrame that when I press F2 calls a jDialog, in this jDialog, put some information and then when the jButton or Enter is pressed or clicked, I get the information and dispose the jDialog.\r\n\r\nHowever, the jDialog is not closing but getting all the information I request.\r\n\r\nHere&#39;s the code:\r\n\r\n        \r\n        /**\r\n         * Creates new form DialogCPF\r\n         */\r\n        public DialogCPF(java.awt.Frame parent, boolean modal) {\r\n            super(parent, modal);\r\n            initComponents();\r\n            jFormattedTextField1.addKeyListener(new Tecla() {\r\n                @Override\r\n                public void keyReleased(KeyEvent e) {\r\n                   \r\n                }\r\n            });\r\n        }\r\n     private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n            // TODO add your handling code here:\r\n            \r\n            ConsumirWS2 WS = new ConsumirWS2();\r\n            try {\r\n                WS.Buscar();\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(DialogCPF.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n                    jButtonSalvar.setEnabled(true);\r\n                    jButtonExcluir.setEnabled(false);\r\n                    jButtonINSERIR.setEnabled(false);\r\n                    jButtonALTERAR.setEnabled(false);\r\n                    jButtonPROCURAR.setEnabled(false);\r\n                    jTextFieldAPELIDO.setEnabled(true);\r\n                    jTextFieldNOME.setEnabled(true);\r\n                    jFormattedTextFieldCPF.setEnabled(true);\r\n                    jFormattedTextFieldDATA.setEnabled(true);\r\n                    jTextFieldID.setEnabled(false);\r\n                    /*DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), false);\r\n                    dialog.dispose();*/\r\n    \r\n                    DialogCPF A = (DialogCPF)evt.getSource();\r\n                    A.dispose();\r\n                    \r\n        }                                        \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the dialog */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), true);\r\n                    dialog.addWindowListener(new java.awt.event.WindowAdapter() {\r\n                        @Override\r\n                        public void windowClosing(java.awt.event.WindowEvent e) {\r\n                            System.exit(0);\r\n                        }\r\n                    });\r\n                    \r\n                    dialog.addKeyListener(new KeyListener(){  \r\n    \r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n                // Nothing\r\n            }\r\n    \r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                // Nothing \r\n            }\r\n    \r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                if(e.getKeyCode() == KeyEvent.VK_ENTER){\r\n            ConsumirWS2 WS = new ConsumirWS2();\r\n            try {\r\n                WS.Buscar();\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(DialogCPF.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n                    jButtonSalvar.setEnabled(true);\r\n                    jButtonExcluir.setEnabled(false);\r\n                    jButtonINSERIR.setEnabled(false);\r\n                    jButtonALTERAR.setEnabled(false);\r\n                    jButtonPROCURAR.setEnabled(false);\r\n                    jTextFieldAPELIDO.setEnabled(true);\r\n                    jTextFieldNOME.setEnabled(true);\r\n                    jFormattedTextFieldCPF.setEnabled(true);\r\n                    jFormattedTextFieldDATA.setEnabled(true);\r\n                    jTextFieldID.setEnabled(false);\r\n                    DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), true);\r\n                    //dialog.setEnabled(false);\r\n                    dialog.dispose();\r\n                    }\r\n                }\r\n            });        \r\n                    dialog.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton jButton1;\r\n        public static javax.swing.JFormattedTextField jFormattedTextField1;\r\n        private javax.swing.JLabel jLabel1;\r\n        public javax.swing.JLabel jLabel2;\r\n        private javax.swing.JPanel jPanel1;\r\n        // End of variables declaration                   \r\n    }\r\n\r\nI already tried [This][1], [this][2] and [this][3] solution, however, I could not manage to bring a solution\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37693826/jdialog-doesnt-dispose\r\n  [2]: https://stackoverflow.com/questions/6969164/button-for-closing-a-jdialog\r\n  [3]: https://stackoverflow.com/questions/642925/swing-how-do-i-close-a-dialog-when-the-esc-key-is-pressed","title":"jDialog do not dispose","body":"<p>I hava a jFrame that when I press F2 calls a jDialog, in this jDialog, put some information and then when the jButton or Enter is pressed or clicked, I get the information and dispose the jDialog.</p>\n<p>However, the jDialog is not closing but getting all the information I request.</p>\n<p>Here's the code:</p>\n<pre><code>    /**\n     * Creates new form DialogCPF\n     */\n    public DialogCPF(java.awt.Frame parent, boolean modal) {\n        super(parent, modal);\n        initComponents();\n        jFormattedTextField1.addKeyListener(new Tecla() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n               \n            }\n        });\n    }\n private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        \n        ConsumirWS2 WS = new ConsumirWS2();\n        try {\n            WS.Buscar();\n        } catch (Exception ex) {\n            Logger.getLogger(DialogCPF.class.getName()).log(Level.SEVERE, null, ex);\n        }\n                jButtonSalvar.setEnabled(true);\n                jButtonExcluir.setEnabled(false);\n                jButtonINSERIR.setEnabled(false);\n                jButtonALTERAR.setEnabled(false);\n                jButtonPROCURAR.setEnabled(false);\n                jTextFieldAPELIDO.setEnabled(true);\n                jTextFieldNOME.setEnabled(true);\n                jFormattedTextFieldCPF.setEnabled(true);\n                jFormattedTextFieldDATA.setEnabled(true);\n                jTextFieldID.setEnabled(false);\n                /*DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), false);\n                dialog.dispose();*/\n\n                DialogCPF A = (DialogCPF)evt.getSource();\n                A.dispose();\n                \n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(DialogCPF.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the dialog */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), true);\n                dialog.addWindowListener(new java.awt.event.WindowAdapter() {\n                    @Override\n                    public void windowClosing(java.awt.event.WindowEvent e) {\n                        System.exit(0);\n                    }\n                });\n                \n                dialog.addKeyListener(new KeyListener(){  \n\n        @Override\n        public void keyTyped(KeyEvent e) {\n            // Nothing\n        }\n\n        @Override\n        public void keyPressed(KeyEvent e) {\n            // Nothing \n        }\n\n        @Override\n        public void keyReleased(KeyEvent e) {\n            if(e.getKeyCode() == KeyEvent.VK_ENTER){\n        ConsumirWS2 WS = new ConsumirWS2();\n        try {\n            WS.Buscar();\n        } catch (Exception ex) {\n            Logger.getLogger(DialogCPF.class.getName()).log(Level.SEVERE, null, ex);\n        }\n                jButtonSalvar.setEnabled(true);\n                jButtonExcluir.setEnabled(false);\n                jButtonINSERIR.setEnabled(false);\n                jButtonALTERAR.setEnabled(false);\n                jButtonPROCURAR.setEnabled(false);\n                jTextFieldAPELIDO.setEnabled(true);\n                jTextFieldNOME.setEnabled(true);\n                jFormattedTextFieldCPF.setEnabled(true);\n                jFormattedTextFieldDATA.setEnabled(true);\n                jTextFieldID.setEnabled(false);\n                DialogCPF dialog = new DialogCPF(new javax.swing.JFrame(), true);\n                //dialog.setEnabled(false);\n                dialog.dispose();\n                }\n            }\n        });        \n                dialog.setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    public static javax.swing.JFormattedTextField jFormattedTextField1;\n    private javax.swing.JLabel jLabel1;\n    public javax.swing.JLabel jLabel2;\n    private javax.swing.JPanel jPanel1;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>I already tried <a href=\"https://stackoverflow.com/questions/37693826/jdialog-doesnt-dispose\">This</a>, <a href=\"https://stackoverflow.com/questions/6969164/button-for-closing-a-jdialog\">this</a> and <a href=\"https://stackoverflow.com/questions/642925/swing-how-do-i-close-a-dialog-when-the-esc-key-is-pressed\">this</a> solution, however, I could not manage to bring a solution</p>\n"},{"tags":["java","android","mvvm","architecture"],"comments":[{"owner":{"account_id":23544939,"reputation":525,"user_id":17588551,"display_name":"newbie "},"score":0,"creation_date":1645455258,"post_id":71208277,"comment_id":125869565,"body_markdown":"In your graphic its not really MVC is it? You don&#39;t have a Controller","body":"In your graphic its not really MVC is it? You don&#39;t have a Controller"},{"owner":{"account_id":22316286,"reputation":1,"user_id":16539598,"display_name":"Internetus"},"score":0,"creation_date":1645455866,"post_id":71208277,"comment_id":125869840,"body_markdown":"No this is supposed to implement the MVVM pattern rather than the MVC pattern","body":"No this is supposed to implement the MVVM pattern rather than the MVC pattern"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1645456353,"post_id":71208277,"comment_id":125870045,"body_markdown":"&quot;should the Repository hold the GameActivity instead - No&quot;. A Repository is part of the domain logic, firmly in the &quot;model&quot; part of MVVM. As its a lower component it should not know about higher level classes like the `View`.  Currently your view model will be interacting with the repository so this will doing the business logic (some times its better to create abstractions here as described by Robert Martin as Interactors / Use Cases) - IMO","body":"&quot;should the Repository hold the GameActivity instead - No&quot;. A Repository is part of the domain logic, firmly in the &quot;model&quot; part of MVVM. As its a lower component it should not know about higher level classes like the <code>View</code>.  Currently your view model will be interacting with the repository so this will doing the business logic (some times its better to create abstractions here as described by Robert Martin as Interactors / Use Cases) - IMO"},{"owner":{"account_id":22316286,"reputation":1,"user_id":16539598,"display_name":"Internetus"},"score":0,"creation_date":1645477333,"post_id":71208277,"comment_id":125877474,"body_markdown":"@Mark thanks for your answere, seems like I made a big typo. The correct question would be, if the Repository should hold the PokerGame instead of the GameViewModel?","body":"@Mark thanks for your answere, seems like I made a big typo. The correct question would be, if the Repository should hold the PokerGame instead of the GameViewModel?"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1645479143,"post_id":71208277,"comment_id":125877953,"body_markdown":"Again - No - Your respository is just keeping current and aggrregate information from each completed game / player so when a game is completed and a new game started some historical information can be persisted or some similar use cases? .. it shouldn&#39;t depend on a game itself? If you think it should then it might make sense to look at your code to make sure you have seperated concerns correctly and then write some behavioural tests.","body":"Again - No - Your respository is just keeping current and aggrregate information from each completed game / player so when a game is completed and a new game started some historical information can be persisted or some similar use cases? .. it shouldn&#39;t depend on a game itself? If you think it should then it might make sense to look at your code to make sure you have seperated concerns correctly and then write some behavioural tests."},{"owner":{"account_id":22316286,"reputation":1,"user_id":16539598,"display_name":"Internetus"},"score":0,"creation_date":1645542113,"post_id":71208277,"comment_id":125895530,"body_markdown":"Thanks for clarification @Mark , it should be clear now","body":"Thanks for clarification @Mark , it should be clear now"}],"owner":{"account_id":22316286,"reputation":1,"user_id":16539598,"display_name":"Internetus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645477387,"creation_date":1645454861,"question_id":71208277,"body_markdown":"I&#39;m currently developing a poker game app for android using the Model-View ViewModel pattern and I&#39;m not sure where the correct place for the game logic should be. The architecture looks currently something like this:\r\n\r\n    GameActivity --&gt; GameViewModel --&gt; Repository --&gt; Database\r\n                          |    ^\r\n                          |    :\r\n                          |    :\r\n                          |-&gt; PokerGame \r\n        \r\nThe GameViewModel calls PokerGame Methods for initialising the game and passing interactions by the player.\r\nThe PokerGame is observed by the GameViewModel. The PokerGame has an internal Thread which runs until the game is over and frequently passes data to the GameViewModel, like the current distribution of jetons. \r\n\r\nIm working with Room and LiveData, so the GameActivity always triggers when changes are made to the database.\r\n\r\nWhat would be a better approach, should the Repository hold the PokerGame instead?\r\n\r\n","title":"Where is the game logic supposed to be in the Model-View ViewModel pattern in android","body":"<p>I'm currently developing a poker game app for android using the Model-View ViewModel pattern and I'm not sure where the correct place for the game logic should be. The architecture looks currently something like this:</p>\n<pre><code>GameActivity --&gt; GameViewModel --&gt; Repository --&gt; Database\n                      |    ^\n                      |    :\n                      |    :\n                      |-&gt; PokerGame \n    \n</code></pre>\n<p>The GameViewModel calls PokerGame Methods for initialising the game and passing interactions by the player.\nThe PokerGame is observed by the GameViewModel. The PokerGame has an internal Thread which runs until the game is over and frequently passes data to the GameViewModel, like the current distribution of jetons.</p>\n<p>Im working with Room and LiveData, so the GameActivity always triggers when changes are made to the database.</p>\n<p>What would be a better approach, should the Repository hold the PokerGame instead?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1574698,"reputation":2196,"user_id":1461484,"accept_rate":82,"display_name":"badjr"},"score":0,"creation_date":1645406254,"post_id":71193196,"comment_id":125855817,"body_markdown":"Can you include more of your code, or a [a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)? It worked for me with a simple Spring Boot RestController.","body":"Can you include more of your code, or a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">a Minimal, Reproducible Example</a>? It worked for me with a simple Spring Boot RestController."},{"owner":{"account_id":1574698,"reputation":2196,"user_id":1461484,"accept_rate":82,"display_name":"badjr"},"score":0,"creation_date":1645461479,"post_id":71193196,"comment_id":125872115,"body_markdown":"Do you also have a `@RequestMapping` for the POST? Also for the controller class, can you include the class declaration as well (there may be some annotations added that are influencing this behavior)?","body":"Do you also have a <code>@RequestMapping</code> for the POST? Also for the controller class, can you include the class declaration as well (there may be some annotations added that are influencing this behavior)?"},{"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"score":1,"creation_date":1645469151,"post_id":71193196,"comment_id":125874872,"body_markdown":"You&#39;re reading the request body inside `requestToString()`, that consumes the stream and it cannot be read again. You need to wrap the request object in a custom one (or look around for an already made implementation). You can look at [HttpRequestWrapper](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/support/HttpRequestWrapper.html) as a start.","body":"You&#39;re reading the request body inside <code>requestToString()</code>, that consumes the stream and it cannot be read again. You need to wrap the request object in a custom one (or look around for an already made implementation). You can look at <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/support/HttpRequestWrapper.html\" rel=\"nofollow noreferrer\">HttpRequestWrapper</a> as a start."},{"owner":{"account_id":13127942,"reputation":149,"user_id":9483238,"display_name":"Vizard"},"score":0,"creation_date":1645474429,"post_id":71193196,"comment_id":125876601,"body_markdown":"@watery Hi thanks for the suggestion. I used the HttpRequestWrapper to wrap the request inside the static method but the error is still there. Updated the question as well","body":"@watery Hi thanks for the suggestion. I used the HttpRequestWrapper to wrap the request inside the static method but the error is still there. Updated the question as well"},{"owner":{"account_id":13127942,"reputation":149,"user_id":9483238,"display_name":"Vizard"},"score":1,"creation_date":1645560252,"post_id":71193196,"comment_id":125902848,"body_markdown":"Fixed it with [this answer](https://stackoverflow.com/a/34806876/9483238)","body":"Fixed it with <a href=\"https://stackoverflow.com/a/34806876/9483238\">this answer</a>"}],"owner":{"account_id":13127942,"reputation":149,"user_id":9483238,"display_name":"Vizard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645476523,"creation_date":1645350678,"question_id":71193196,"body_markdown":"I am trying to extract the cURL String to a JSON file for logging in each request\r\n\r\n    @RequestMapping(value = &quot;/get/by/id&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;Response&gt; getBatchById(HttpServletRequest request, @RequestParam(&quot;id&quot;) int id) {\r\n        Response response = new Response();\r\n        HttpStatus httpStatus;\r\n        try {\r\n            System.out.println(requestToString(request));\r\n            response.setResponseCode(CommonVarList.RESPONSE_CODE_SUCCESS);\r\n            response.setResponseData(batchService.getBatchById(id));\r\n            httpStatus = HttpStatus.OK;\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            response.setResponseCode(CommonVarList.RESPONSE_CODE_FAILURE);\r\n            httpStatus = HttpStatus.CONFLICT;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            response.setResponseCode(CommonVarList.RESPONSE_CODE_FAILURE);\r\n            httpStatus = HttpStatus.CONFLICT;\r\n        }\r\n        return ResponseEntity.status(httpStatus).body(response);\r\n    }\r\n\r\nThis is the method used for extraction\r\n\r\n    public static String requestToString(HttpServletRequest requestRaw) throws IOException {\r\n\r\n        HttpServletRequestWrapper request = new HttpServletRequestWrapper(requestRaw);\r\n\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        result.append(&quot;curl &quot;);\r\n\r\n        // output method\r\n        result.append(request.getMethod()).append(&quot; &quot;);\r\n\r\n        // output url\r\n        result.append(&quot;\\&quot;&quot;).append(request.getRequestURL().toString()).append(&quot;\\&quot;&quot;);\r\n\r\n        // output headers\r\n        for (Enumeration&lt;String&gt; headerNames = request.getHeaderNames(); headerNames.hasMoreElements(); ) {\r\n            String headerName = (String) headerNames.nextElement();\r\n            result.append(&quot; -H \\&quot;&quot;).append(headerName).append(&quot;: &quot;).append(request.getHeader(headerName)).append(&quot;\\&quot;&quot;);\r\n        }\r\n\r\n        // output parameters\r\n        for (Enumeration&lt;String&gt; parameterNames = request.getParameterNames(); parameterNames.hasMoreElements(); ) {\r\n            String parameterName = (String) parameterNames.nextElement();\r\n            result.append(&quot; -d \\&quot;&quot;).append(parameterName).append(&quot;=&quot;).append(request.getParameter(parameterName)).append(&quot;\\&quot;&quot;);\r\n        }\r\n\r\n        // output body\r\n        if (&quot;POST&quot;.equalsIgnoreCase(request.getMethod())) {\r\n            String body = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n            if (body.length() &gt; 0) {\r\n                result.append(&quot; -d \\&quot;&quot;).append(body).append(&quot;\\&quot;&quot;);\r\n            }\r\n        }\r\n\r\n        return result.toString();\r\n    }\r\n\r\nThe above returns the expected for GET requests as following\r\n\r\n&gt; curl GET &quot;http://localhost:8080/batch/get/by/id&quot; -H &quot;user-agent:\r\n&gt; PostmanRuntime/7.29.0&quot; -H &quot;accept: */*&quot; -H &quot;cache-control: no-cache&quot;\r\n&gt; -H &quot;postman-token: 5e8884ee-f357-41b4-ad16-9880f90ed5e4&quot; -H &quot;host: localhost:8080&quot; -H &quot;accept-encoding: gzip, deflate, br&quot; -H\r\n&gt; &quot;connection: keep-alive&quot; -d &quot;id=1&quot;\r\n\r\nBut whenever a POST request is passed with a body, it throws an error like\r\n\r\n&gt; java.lang.IllegalStateException: getInputStream() has already been\r\n&gt; called for this request\r\n\r\nAny idea how to resolve this?\r\n\r\nPS: My Rest controller class has the following annotations\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/batch&quot;)\r\n    public class BatchController { ... }","title":"Extract the cURL request as a String from HttpServletRequest in Spring Boot","body":"<p>I am trying to extract the cURL String to a JSON file for logging in each request</p>\n<pre><code>@RequestMapping(value = &quot;/get/by/id&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;Response&gt; getBatchById(HttpServletRequest request, @RequestParam(&quot;id&quot;) int id) {\n    Response response = new Response();\n    HttpStatus httpStatus;\n    try {\n        System.out.println(requestToString(request));\n        response.setResponseCode(CommonVarList.RESPONSE_CODE_SUCCESS);\n        response.setResponseData(batchService.getBatchById(id));\n        httpStatus = HttpStatus.OK;\n    } catch (SQLException e) {\n        e.printStackTrace();\n        response.setResponseCode(CommonVarList.RESPONSE_CODE_FAILURE);\n        httpStatus = HttpStatus.CONFLICT;\n    } catch (Exception e) {\n        e.printStackTrace();\n        response.setResponseCode(CommonVarList.RESPONSE_CODE_FAILURE);\n        httpStatus = HttpStatus.CONFLICT;\n    }\n    return ResponseEntity.status(httpStatus).body(response);\n}\n</code></pre>\n<p>This is the method used for extraction</p>\n<pre><code>public static String requestToString(HttpServletRequest requestRaw) throws IOException {\n\n    HttpServletRequestWrapper request = new HttpServletRequestWrapper(requestRaw);\n\n    StringBuilder result = new StringBuilder();\n\n    result.append(&quot;curl &quot;);\n\n    // output method\n    result.append(request.getMethod()).append(&quot; &quot;);\n\n    // output url\n    result.append(&quot;\\&quot;&quot;).append(request.getRequestURL().toString()).append(&quot;\\&quot;&quot;);\n\n    // output headers\n    for (Enumeration&lt;String&gt; headerNames = request.getHeaderNames(); headerNames.hasMoreElements(); ) {\n        String headerName = (String) headerNames.nextElement();\n        result.append(&quot; -H \\&quot;&quot;).append(headerName).append(&quot;: &quot;).append(request.getHeader(headerName)).append(&quot;\\&quot;&quot;);\n    }\n\n    // output parameters\n    for (Enumeration&lt;String&gt; parameterNames = request.getParameterNames(); parameterNames.hasMoreElements(); ) {\n        String parameterName = (String) parameterNames.nextElement();\n        result.append(&quot; -d \\&quot;&quot;).append(parameterName).append(&quot;=&quot;).append(request.getParameter(parameterName)).append(&quot;\\&quot;&quot;);\n    }\n\n    // output body\n    if (&quot;POST&quot;.equalsIgnoreCase(request.getMethod())) {\n        String body = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n        if (body.length() &gt; 0) {\n            result.append(&quot; -d \\&quot;&quot;).append(body).append(&quot;\\&quot;&quot;);\n        }\n    }\n\n    return result.toString();\n}\n</code></pre>\n<p>The above returns the expected for GET requests as following</p>\n<blockquote>\n<p>curl GET &quot;http://localhost:8080/batch/get/by/id&quot; -H &quot;user-agent:\nPostmanRuntime/7.29.0&quot; -H &quot;accept: <em>/</em>&quot; -H &quot;cache-control: no-cache&quot;\n-H &quot;postman-token: 5e8884ee-f357-41b4-ad16-9880f90ed5e4&quot; -H &quot;host: localhost:8080&quot; -H &quot;accept-encoding: gzip, deflate, br&quot; -H\n&quot;connection: keep-alive&quot; -d &quot;id=1&quot;</p>\n</blockquote>\n<p>But whenever a POST request is passed with a body, it throws an error like</p>\n<blockquote>\n<p>java.lang.IllegalStateException: getInputStream() has already been\ncalled for this request</p>\n</blockquote>\n<p>Any idea how to resolve this?</p>\n<p>PS: My Rest controller class has the following annotations</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/batch&quot;)\npublic class BatchController { ... }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jdbc"],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645476093,"creation_date":1645476093,"answer_id":71212787,"question_id":71143179,"body_markdown":"I guess the problem is that the event listener is not wrapped with transactional proxy. So, when you invoke `consumer.doSomething2(event)` current transaction is not propagated further and Spring starts a new one. You should enable transaction logging to verify this hypothesis.\r\n\r\nI would try to change the event listener a bit.\r\n\r\n```\r\n@TransactionalEventListener(phase = BEFORE_COMMIT)\r\n@Transactional\r\npublic void handleDoSomething1(DoSomethingEvent event) {\r\n   consumer.doSomething2(event);\r\n}\r\n```\r\n\r\nNow it&#39;s guaranteed that `handleDoSomething1` is called right before committing. More than that, the transaction is propagated further `consumer.doSomething2(event)` calling.","title":"SpringBoot transaction does not rollback with @EventListener","body":"<p>I guess the problem is that the event listener is not wrapped with transactional proxy. So, when you invoke <code>consumer.doSomething2(event)</code> current transaction is not propagated further and Spring starts a new one. You should enable transaction logging to verify this hypothesis.</p>\n<p>I would try to change the event listener a bit.</p>\n<pre><code>@TransactionalEventListener(phase = BEFORE_COMMIT)\n@Transactional\npublic void handleDoSomething1(DoSomethingEvent event) {\n   consumer.doSomething2(event);\n}\n</code></pre>\n<p>Now it's guaranteed that <code>handleDoSomething1</code> is called right before committing. More than that, the transaction is propagated further <code>consumer.doSomething2(event)</code> calling.</p>\n"}],"owner":{"account_id":24275583,"reputation":1,"user_id":18222927,"display_name":"minty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645476093,"creation_date":1645019759,"question_id":71143179,"body_markdown":"I am using SpringBoot ApplicationEvent to reduce coupling between domains.\r\nI want that the publisher and listener should always join in the same transaction before and after @EventListener.   \r\nHow it works is that domain entity registers the event and in the end of method we call a method to publishes all events registered in domain with applicationEventListener.\r\nWhy I flush before publishing events are on listener side I use jooq for fetching and I would like to avoid outdated data.  \r\nThe issue is when listener side failed, only listener side transaction gets rolled back and publisher side did not rollback. Which can mean that after @EventListener the same transaction is not used.       \r\nThis does not happen all the time but rarely happens.  \r\nThe exceptions so far were NullPointerException, PessimisticLockException and IllegalArgumentException.  \r\nCould anyone help?   \r\n\r\nSpringBoot 2.4.4  \r\nJava 15  \r\nDependency:  \r\nspring-boot-starter-data-jdbc  \r\nspring-boot-starter-data-jpa   \r\n\r\n\r\n```\r\n\r\npublic abstract class BaseAggregateRoot&lt;T&gt; {\r\n\r\n    @Transient\r\n    private final List&lt;SomeEvent&lt;T&gt;&gt; events = new ArrayList&lt;&gt;();\r\n\r\n    protected void registerEvent(DomainEvent&lt;T&gt; event) {\r\n        events.add(event);\r\n    }\r\n\r\n    public List&lt;SomeEvent&lt;T&gt;&gt; getEvents() {\r\n        return Collections.unmodifiableList(events);\r\n    }\r\n\r\n    public void clearEvents() {\r\n        events.clear();\r\n    }\r\n}\r\n\r\n@Service\r\npublic class EventPublisherService {\r\n\r\n    private final ApplicationEventPublisher publisher;\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public &lt;T extends BaseAggregateRoot&lt;T&gt;&gt; void publishAndFlush(T aggregateRoot) {\r\n        entityManager.flush();\r\n        List&lt;SomeEvent&lt;T&gt;&gt; events = aggregateRoot.getEvents();\r\n        if (!events.isEmpty()) {\r\n            events.forEach(publisher::publishEvent);\r\n            aggregateRoot.clearEvents();\r\n        }\r\n    }\r\n}\r\n\r\n@Entity\r\npublic class SomeEntity extends BaseAggregateRoot&lt;SomeEntity&gt; {\r\n\r\n  @Column(&quot;something&quot;)\r\n  private String something;\r\n\r\n  public void doSomething() {\r\n    registerEvent(new DoSomethingEvent());\r\n  } \r\n\r\n}\r\n\r\n@Service\r\npublic class Publisher {\r\n\r\n  private final SomeRepository1 someRepository1; \r\n  private final EventPublisherService eventPublisherService;\r\n\r\n\r\n  @Transactional\r\n  public void doSomething1() {\r\n     \r\n     var newSomething = new SomeEntity();\r\n      newSomething.doSomething();\r\n     someRepository1.save(newSomething);\r\n     eventPublisherService.publishAndFlush();\r\n    \r\n  }\r\n}\r\n\r\n\r\n@Component\r\npublic class Listener {\r\n\r\n  private final Consumer consumer;\r\n\r\n  @EventListener\r\n  public void handleDoSomething1(DoSomethingEvent event) {\r\n     consumer.doSomething2(event);\r\n    \r\n  }\r\n}\r\n\r\n\r\n@Service\r\npublic class Consumer {\r\n\r\n  private final SomeRepository2 someRepository2; \r\n\r\n  @Transactional\r\n  public void doSomething2(DoSomethingEvent event) {\r\n \r\n     someRepository2.saveAndFlush();\r\n     // something failed! (doSomething2 will be rolledback but not doSomething1)\r\n    \r\n  }\r\n}\r\n```\r\n\r\nThe configuration looks like this\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n      dialect: ${hibernate.dialect}\r\n    properties:\r\n      hibernate:\r\n        connection:\r\n          provider_disables_autocommit: true\r\n        show_sql: false\r\n        format_sql: false\r\n        jdbc:\r\n          time_zone: UTC\r\n          batch_size: 30\r\n        generate_statistics: false\r\n\r\n\r\ndatasources:\r\n  primary:\r\n    driver-class-name: org.mariadb.jdbc.Driver\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    ...\r\n    platform: mariadb\r\n    auto-commit: false\r\n    cachePrepStmts: true\r\n    prepStmtCacheSize: 450\r\n    prepStmtCacheSqlLimit: 2048\r\n    useServerPrepStmts: true\r\n\r\n```","title":"SpringBoot transaction does not rollback with @EventListener","body":"<p>I am using SpringBoot ApplicationEvent to reduce coupling between domains.\nI want that the publisher and listener should always join in the same transaction before and after @EventListener.<br />\nHow it works is that domain entity registers the event and in the end of method we call a method to publishes all events registered in domain with applicationEventListener.\nWhy I flush before publishing events are on listener side I use jooq for fetching and I would like to avoid outdated data.<br />\nThe issue is when listener side failed, only listener side transaction gets rolled back and publisher side did not rollback. Which can mean that after @EventListener the same transaction is not used.<br />\nThis does not happen all the time but rarely happens.<br />\nThe exceptions so far were NullPointerException, PessimisticLockException and IllegalArgumentException.<br />\nCould anyone help?</p>\n<p>SpringBoot 2.4.4<br />\nJava 15<br />\nDependency:<br />\nspring-boot-starter-data-jdbc<br />\nspring-boot-starter-data-jpa</p>\n<pre><code>\npublic abstract class BaseAggregateRoot&lt;T&gt; {\n\n    @Transient\n    private final List&lt;SomeEvent&lt;T&gt;&gt; events = new ArrayList&lt;&gt;();\n\n    protected void registerEvent(DomainEvent&lt;T&gt; event) {\n        events.add(event);\n    }\n\n    public List&lt;SomeEvent&lt;T&gt;&gt; getEvents() {\n        return Collections.unmodifiableList(events);\n    }\n\n    public void clearEvents() {\n        events.clear();\n    }\n}\n\n@Service\npublic class EventPublisherService {\n\n    private final ApplicationEventPublisher publisher;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public &lt;T extends BaseAggregateRoot&lt;T&gt;&gt; void publishAndFlush(T aggregateRoot) {\n        entityManager.flush();\n        List&lt;SomeEvent&lt;T&gt;&gt; events = aggregateRoot.getEvents();\n        if (!events.isEmpty()) {\n            events.forEach(publisher::publishEvent);\n            aggregateRoot.clearEvents();\n        }\n    }\n}\n\n@Entity\npublic class SomeEntity extends BaseAggregateRoot&lt;SomeEntity&gt; {\n\n  @Column(&quot;something&quot;)\n  private String something;\n\n  public void doSomething() {\n    registerEvent(new DoSomethingEvent());\n  } \n\n}\n\n@Service\npublic class Publisher {\n\n  private final SomeRepository1 someRepository1; \n  private final EventPublisherService eventPublisherService;\n\n\n  @Transactional\n  public void doSomething1() {\n     \n     var newSomething = new SomeEntity();\n      newSomething.doSomething();\n     someRepository1.save(newSomething);\n     eventPublisherService.publishAndFlush();\n    \n  }\n}\n\n\n@Component\npublic class Listener {\n\n  private final Consumer consumer;\n\n  @EventListener\n  public void handleDoSomething1(DoSomethingEvent event) {\n     consumer.doSomething2(event);\n    \n  }\n}\n\n\n@Service\npublic class Consumer {\n\n  private final SomeRepository2 someRepository2; \n\n  @Transactional\n  public void doSomething2(DoSomethingEvent event) {\n \n     someRepository2.saveAndFlush();\n     // something failed! (doSomething2 will be rolledback but not doSomething1)\n    \n  }\n}\n</code></pre>\n<p>The configuration looks like this</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: none\n      dialect: ${hibernate.dialect}\n    properties:\n      hibernate:\n        connection:\n          provider_disables_autocommit: true\n        show_sql: false\n        format_sql: false\n        jdbc:\n          time_zone: UTC\n          batch_size: 30\n        generate_statistics: false\n\n\ndatasources:\n  primary:\n    driver-class-name: org.mariadb.jdbc.Driver\n    type: com.zaxxer.hikari.HikariDataSource\n    ...\n    platform: mariadb\n    auto-commit: false\n    cachePrepStmts: true\n    prepStmtCacheSize: 450\n    prepStmtCacheSqlLimit: 2048\n    useServerPrepStmts: true\n\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645454511,"post_id":71207696,"comment_id":125869225,"body_markdown":"Does this answer your question? [Java JSON -Jackson- Nested Elements](https://stackoverflow.com/questions/8388656/java-json-jackson-nested-elements)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8388656/java-json-jackson-nested-elements\">Java JSON -Jackson- Nested Elements</a>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645462509,"creation_date":1645462509,"answer_id":71210135,"question_id":71207696,"body_markdown":"First, in order to deserialize the nested `Error` objects containing final fields, it is needed to mark the all-args constructor with `@JCreator` annotation and use `@JsonProperty` to set the values properly:\r\n```java\r\npublic class Error {\r\n    private final String errcode;\r\n    private final String error;\r\n\r\n    @JsonCreator\r\n    public Error(@JsonProperty(&quot;errcode&quot;) String errcode, @JsonProperty(&quot;error&quot;) String error) {\r\n        this.errcode = errcode;\r\n        this.error = error;\r\n    }\r\n    // ... getters/toString, etc.\r\n}\r\n```\r\nThen `ObjectMapper::convertValue` should be used to read the contents of the map from the `JsonNode`:\r\n```java\r\nString json = ...; // input JSON string\r\n\r\nObjectMapper om = new ObjectMapper();\r\n\r\nJsonNode node = om.readTree(json); // throws JsonProcessingException \r\n\r\nMap&lt;String, Error&gt; errors = om.convertValue(\r\n    node.get(&quot;errors&quot;), new TypeReference&lt;Map&lt;String, Error&gt;&gt;(){}\r\n);\r\n\r\nerrors.forEach((k, v) -&gt; System.out.println(k + &quot; = &quot; + v));\r\n// -&gt; firstError = {errcode=&#39;1234&#39;, error=&#39;The 1. message&#39;}\r\n// -&gt; secondError = {errcode=&#39;5678&#39;, error=&#39;The 2. message&#39;}\r\n```","title":"Nested map of a pojo with Jackson","body":"<p>First, in order to deserialize the nested <code>Error</code> objects containing final fields, it is needed to mark the all-args constructor with <code>@JCreator</code> annotation and use <code>@JsonProperty</code> to set the values properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Error {\n    private final String errcode;\n    private final String error;\n\n    @JsonCreator\n    public Error(@JsonProperty(&quot;errcode&quot;) String errcode, @JsonProperty(&quot;error&quot;) String error) {\n        this.errcode = errcode;\n        this.error = error;\n    }\n    // ... getters/toString, etc.\n}\n</code></pre>\n<p>Then <code>ObjectMapper::convertValue</code> should be used to read the contents of the map from the <code>JsonNode</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = ...; // input JSON string\n\nObjectMapper om = new ObjectMapper();\n\nJsonNode node = om.readTree(json); // throws JsonProcessingException \n\nMap&lt;String, Error&gt; errors = om.convertValue(\n    node.get(&quot;errors&quot;), new TypeReference&lt;Map&lt;String, Error&gt;&gt;(){}\n);\n\nerrors.forEach((k, v) -&gt; System.out.println(k + &quot; = &quot; + v));\n// -&gt; firstError = {errcode='1234', error='The 1. message'}\n// -&gt; secondError = {errcode='5678', error='The 2. message'}\n</code></pre>\n"}],"owner":{"account_id":13542756,"reputation":15,"user_id":9770015,"display_name":"felix_w"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71210135,"answer_count":1,"score":0,"last_activity_date":1645475746,"creation_date":1645452488,"question_id":71207696,"body_markdown":"I understand that I can create a map of a specified object with Jackson by using TypeReference. For instance, taking a class ...\r\n\r\n```\r\npublic class Error {    \r\n    /** Error code */\r\n    private final String errcode;\r\n    /** Error message */\r\n    private final String error; \r\n// Getter\r\n}\r\n```\r\n... and the data in JSON\r\n```\r\n{\r\n   &quot;firstError&quot;:{\r\n      &quot;errcode&quot;:&quot;1234&quot;,\r\n      &quot;error&quot;:&quot;The 1. message&quot;\r\n   },\r\n   &quot;secondError&quot;:{\r\n      &quot;errcode&quot;:&quot;5678&quot;,\r\n      &quot;error&quot;:&quot;The 2. message&quot;\r\n   }\r\n}\r\n```\r\n... I can deserialize with \r\n```\r\nTypeReference&lt;HashMap&lt;String, Error&gt;&gt; typeRef  = new TypeReference&lt;HashMap&lt;String, Error&gt;&gt;() {};\r\nMap&lt;String, Error&gt; map = new ObjectMapper().readValue(jsonInput, typeRef);\r\n```\r\n\r\nMy question is now: What can I do if my JSON looks like this?\r\n\r\n```\r\n{\r\n   &quot;date&quot;:&quot;2022-01-01&quot;,\r\n   &quot;server&quot;:&quot;myfancyserver&quot;,\r\n   &quot;errors&quot;:{\r\n      &quot;firstError&quot;:{\r\n         &quot;errcode&quot;:&quot;1234&quot;,\r\n         &quot;error&quot;:&quot;The 1. message&quot;\r\n      },\r\n      &quot;secondError&quot;:{\r\n         &quot;errcode&quot;:&quot;5678&quot;,\r\n         &quot;error&quot;:&quot;The 2. message&quot;\r\n      }\r\n   }\r\n}\r\n```","title":"Nested map of a pojo with Jackson","body":"<p>I understand that I can create a map of a specified object with Jackson by using TypeReference. For instance, taking a class ...</p>\n<pre><code>public class Error {    \n    /** Error code */\n    private final String errcode;\n    /** Error message */\n    private final String error; \n// Getter\n}\n</code></pre>\n<p>... and the data in JSON</p>\n<pre><code>{\n   &quot;firstError&quot;:{\n      &quot;errcode&quot;:&quot;1234&quot;,\n      &quot;error&quot;:&quot;The 1. message&quot;\n   },\n   &quot;secondError&quot;:{\n      &quot;errcode&quot;:&quot;5678&quot;,\n      &quot;error&quot;:&quot;The 2. message&quot;\n   }\n}\n</code></pre>\n<p>... I can deserialize with</p>\n<pre><code>TypeReference&lt;HashMap&lt;String, Error&gt;&gt; typeRef  = new TypeReference&lt;HashMap&lt;String, Error&gt;&gt;() {};\nMap&lt;String, Error&gt; map = new ObjectMapper().readValue(jsonInput, typeRef);\n</code></pre>\n<p>My question is now: What can I do if my JSON looks like this?</p>\n<pre><code>{\n   &quot;date&quot;:&quot;2022-01-01&quot;,\n   &quot;server&quot;:&quot;myfancyserver&quot;,\n   &quot;errors&quot;:{\n      &quot;firstError&quot;:{\n         &quot;errcode&quot;:&quot;1234&quot;,\n         &quot;error&quot;:&quot;The 1. message&quot;\n      },\n      &quot;secondError&quot;:{\n         &quot;errcode&quot;:&quot;5678&quot;,\n         &quot;error&quot;:&quot;The 2. message&quot;\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1645478013,"post_id":71212697,"comment_id":125877649,"body_markdown":"Is this a version of IntelliJ including a Java runtime or did you configure it to run with your existing JVM?","body":"Is this a version of IntelliJ including a Java runtime or did you configure it to run with your existing JVM?"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1645494891,"post_id":71212697,"comment_id":125881156,"body_markdown":"Use the bundled Runtime in IntelliJ IDEA. See https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under","body":"Use the bundled Runtime in IntelliJ IDEA. See <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>"},{"owner":{"account_id":22256987,"reputation":1,"user_id":16489017,"display_name":"Ravuru Umesh"},"score":0,"creation_date":1645546493,"post_id":71212697,"comment_id":125897559,"body_markdown":"I did this and it solved my issue. File &gt; Settings &gt; Build &gt; Compiler &gt; Java Compiler. I then changed the Project Bytecode Version to 11 and removed Per Module Bytecode Version entries.","body":"I did this and it solved my issue. File &gt; Settings &gt; Build &gt; Compiler &gt; Java Compiler. I then changed the Project Bytecode Version to 11 and removed Per Module Bytecode Version entries."}],"owner":{"account_id":22256987,"reputation":1,"user_id":16489017,"display_name":"Ravuru Umesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645475684,"creation_date":1645475684,"question_id":71212697,"body_markdown":"I am getting this below error when I try running unit tests from JUnit plugin in windows IntelliJ. I have the same project running fine in my mac.\r\n\r\n&gt; Cannot load class\r\n&gt; org.jetbrains.idea.maven.dom.model.presentation.MavenProfilePresentationProvider\r\n&gt; ( error: Illegal constant pool index 8457 for method signature in\r\n&gt; class file\r\n&gt; org/jetbrains/idea/maven/dom/model/presentation/MavenProfilePresentationProvider,\r\n&gt; classLoader=PluginClassLoader(plugin=PluginDescriptor(name=Maven,\r\n&gt; id=org.jetbrains.idea.maven, descriptorPath=plugin.xml,\r\n&gt; path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition\r\n&gt; 2021.3.2\\plugins\\maven, version=213.6777.52, package=null, isBundled=true), packagePrefix=null, instanceId=92, state=active) )","title":"Cannot load class org.jetbrains.idea.maven.dom.model.presentation.MavenProfilePresentationProvider error while running unit tests in windows IntelliJ","body":"<p>I am getting this below error when I try running unit tests from JUnit plugin in windows IntelliJ. I have the same project running fine in my mac.</p>\n<blockquote>\n<p>Cannot load class\norg.jetbrains.idea.maven.dom.model.presentation.MavenProfilePresentationProvider\n( error: Illegal constant pool index 8457 for method signature in\nclass file\norg/jetbrains/idea/maven/dom/model/presentation/MavenProfilePresentationProvider,\nclassLoader=PluginClassLoader(plugin=PluginDescriptor(name=Maven,\nid=org.jetbrains.idea.maven, descriptorPath=plugin.xml,\npath=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition\n2021.3.2\\plugins\\maven, version=213.6777.52, package=null, isBundled=true), packagePrefix=null, instanceId=92, state=active) )</p>\n</blockquote>\n"},{"tags":["java","foreach","key-value"],"comments":[{"owner":{"account_id":4604579,"reputation":1434,"user_id":3735079,"display_name":"Narmer"},"score":2,"creation_date":1406536389,"post_id":24991192,"comment_id":38853761,"body_markdown":"If you have a Key:Value data structure you should be using a [Map](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html) and not an array. Then you can iterate over the [Entries set](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()). If you only want the index number of the array (as the key) you can use a for loop.","body":"If you have a Key:Value data structure you should be using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> and not an array. Then you can iterate over the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()\" rel=\"nofollow noreferrer\">Entries set</a>. If you only want the index number of the array (as the key) you can use a for loop."},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":0,"creation_date":1406536511,"post_id":24991192,"comment_id":38853809,"body_markdown":"Can you please provide the declaration of pValues?","body":"Can you please provide the declaration of pValues?"},{"owner":{"account_id":13082897,"reputation":866,"user_id":10515002,"display_name":"Shahrad Elahi"},"score":0,"creation_date":1628790877,"post_id":24991192,"comment_id":121522321,"body_markdown":"Use this reference: [Java: How to Get Keys and Values from a Map](https://stackabuse.com/java-how-to-get-keys-and-values-from-a-map/)","body":"Use this reference: <a href=\"https://stackabuse.com/java-how-to-get-keys-and-values-from-a-map/\" rel=\"nofollow noreferrer\">Java: How to Get Keys and Values from a Map</a>"}],"answers":[{"tags":[],"owner":{"account_id":4313667,"reputation":2689,"user_id":3524147,"display_name":"i_turo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406536596,"creation_date":1406536596,"answer_id":24991297,"question_id":24991192,"body_markdown":"&lt;p&gt;That is not possible with a simple foreach-loop in Java.\r\n\r\n&lt;p&gt;If *pValues* is an array, you could use a simple for-loop:\r\n\r\n    for (int i = 0; i &lt; pValues.length; i++)\r\n      // String replace\r\n\r\n&lt;p&gt;If *pValues* is a *Map*, you can iterate through it like this:\r\n\r\n    for (Key key : map.keySet())\r\n        string.replace(key, map.get(key));","title":"Foreach Key/Value pair issue","body":"<p><p>That is not possible with a simple foreach-loop in Java.</p>\n\n<p><p>If <em>pValues</em> is an array, you could use a simple for-loop:</p>\n\n<pre><code>for (int i = 0; i &lt; pValues.length; i++)\n  // String replace\n</code></pre>\n\n<p><p>If <em>pValues</em> is a <em>Map</em>, you can iterate through it like this:</p>\n\n<pre><code>for (Key key : map.keySet())\n    string.replace(key, map.get(key));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2697164,"reputation":2364,"user_id":2328889,"display_name":"Adi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1406537321,"creation_date":1406537321,"answer_id":24991494,"question_id":24991192,"body_markdown":"This can be acheived by using Map as data structure and then using entryset for iterating over it.\r\n\r\n     Map&lt;K,V&gt; entries= new HashMap&lt;&gt;();\r\n        for(Entry&lt;K,V&gt; entry : entries.entrySet()){\r\n            // you can get key by entry.getKey() and value by entry.getValue()\r\n            // or set new value by entry.setValue(V value)\r\n        }","title":"Foreach Key/Value pair issue","body":"<p>This can be acheived by using Map as data structure and then using entryset for iterating over it.</p>\n\n<pre><code> Map&lt;K,V&gt; entries= new HashMap&lt;&gt;();\n    for(Entry&lt;K,V&gt; entry : entries.entrySet()){\n        // you can get key by entry.getKey() and value by entry.getValue()\n        // or set new value by entry.setValue(V value)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2525210,"reputation":2453,"user_id":2194718,"accept_rate":89,"display_name":"llanato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645475482,"creation_date":1406537877,"answer_id":24991654,"question_id":24991192,"body_markdown":"Thanks all for the help and advice, I&#39;ve managed to duplicate the function in Java using `Map`.\r\n\r\n```\r\nif (pValues != null)\r\n{\r\n  Set vSet = pValues.entrySet();\r\n  Iterator vIt = vSet.iterator();\r\n    \r\n  while(vIt.hasNext())\r\n  {\r\n    Map.Entry m =(Map.Entry)vIt.next();\r\n    \r\n    vSQL = vSQL.replace(&quot;{&quot; + (String)m.getKey() + &quot;}&quot;, &quot;&#39;&quot; + (String)m.getValue() + &quot;&#39;&quot;);\r\n    vSQL = vSQL.replace(&quot;[&quot; + (String)m.getKey() +&quot;]&quot;, (String)m.getValue());\r\n  }\r\n}\r\n```\r\n","title":"Foreach Key/Value pair issue","body":"<p>Thanks all for the help and advice, I've managed to duplicate the function in Java using <code>Map</code>.</p>\n<pre><code>if (pValues != null)\n{\n  Set vSet = pValues.entrySet();\n  Iterator vIt = vSet.iterator();\n    \n  while(vIt.hasNext())\n  {\n    Map.Entry m =(Map.Entry)vIt.next();\n    \n    vSQL = vSQL.replace(&quot;{&quot; + (String)m.getKey() + &quot;}&quot;, &quot;'&quot; + (String)m.getValue() + &quot;'&quot;);\n    vSQL = vSQL.replace(&quot;[&quot; + (String)m.getKey() +&quot;]&quot;, (String)m.getValue());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23303984,"reputation":1,"user_id":17384215,"display_name":"Christina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645475384,"creation_date":1644895532,"answer_id":71120789,"question_id":24991192,"body_markdown":"Group Totals\r\nHave the function `GroupTotals(strArr)` read in the `strArr` parameter containing key:value pairs where the key is a string and the value is an integer. Your program should return a string with new key:value pairs separated by a comma such that each key appears only once with the total values summed up.\r\n\r\nFor example: if strArr is `[&quot;B:-1&quot;, &quot;A:1&quot;, &quot;B:3&quot;, &quot;A:5&quot;]` then your program should return the string `A:6,B:2`.\r\n\r\nYour final output string should return the keys in alphabetical order. Exclude keys that have a value of 0 after being summed up.","title":"Foreach Key/Value pair issue","body":"<p>Group Totals\nHave the function <code>GroupTotals(strArr)</code> read in the <code>strArr</code> parameter containing key:value pairs where the key is a string and the value is an integer. Your program should return a string with new key:value pairs separated by a comma such that each key appears only once with the total values summed up.</p>\n<p>For example: if strArr is <code>[&quot;B:-1&quot;, &quot;A:1&quot;, &quot;B:3&quot;, &quot;A:5&quot;]</code> then your program should return the string <code>A:6,B:2</code>.</p>\n<p>Your final output string should return the keys in alphabetical order. Exclude keys that have a value of 0 after being summed up.</p>\n"}],"owner":{"account_id":2525210,"reputation":2453,"user_id":2194718,"accept_rate":89,"display_name":"llanato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27401,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24991654,"answer_count":4,"score":3,"last_activity_date":1645475616,"creation_date":1406536147,"question_id":24991192,"body_markdown":"I&#39;m trying to convert a PHP script into a Java one but coming across a few issues on a `foreach` loop. In the PHP script I have a `foreach` that takes the key:value pair and based off this does a `str_replace`.\r\n\r\n    foreach ($pValues AS $vKey =&gt; $vValue)\r\n          $vString = str_replace(&quot;{&quot;.$vKey.&quot;}&quot;, &quot;&#39;&quot;.$vValue.&quot;&#39;&quot;, $vString);\r\n\r\nI tried replicating this in Java without success. I need to get the key from the array to use in the string replace function, but can&#39;t  find out where or if it&#39;s possible to get the key name from the array passed in.\r\n\r\nIs this the right way or am I completely off? Should I be using the `ImmutablePair` method?\r\n\r\n    for (String vKey : pValues)\r\n          // String replace\r\n\r\nHere&#39;s hoping there is an easy way to get the key:value pair in Java.\r\n","title":"Foreach Key/Value pair issue","body":"<p>I'm trying to convert a PHP script into a Java one but coming across a few issues on a <code>foreach</code> loop. In the PHP script I have a <code>foreach</code> that takes the key:value pair and based off this does a <code>str_replace</code>.</p>\n<pre><code>foreach ($pValues AS $vKey =&gt; $vValue)\n      $vString = str_replace(&quot;{&quot;.$vKey.&quot;}&quot;, &quot;'&quot;.$vValue.&quot;'&quot;, $vString);\n</code></pre>\n<p>I tried replicating this in Java without success. I need to get the key from the array to use in the string replace function, but can't  find out where or if it's possible to get the key name from the array passed in.</p>\n<p>Is this the right way or am I completely off? Should I be using the <code>ImmutablePair</code> method?</p>\n<pre><code>for (String vKey : pValues)\n      // String replace\n</code></pre>\n<p>Here's hoping there is an easy way to get the key:value pair in Java.</p>\n"},{"tags":["java","oop","methods","iterator"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645478443,"post_id":71212685,"comment_id":125877750,"body_markdown":"`HashMap` doesn&#39;t have an `iterator()` method.","body":"<code>HashMap</code> doesn&#39;t have an <code>iterator()</code> method."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645478531,"post_id":71212685,"comment_id":125877778,"body_markdown":"Why do you have 3 different `synonyms` variables with 3 different types? Who are you trying to confuse?","body":"Why do you have 3 different <code>synonyms</code> variables with 3 different types? Who are you trying to confuse?"}],"owner":{"account_id":22482964,"reputation":45,"user_id":17776656,"display_name":"Bethany Jane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645475614,"creation_date":1645475614,"question_id":71212685,"body_markdown":"I&#39;m unsure of why I am getting an error for &#39;cannot find symbol - method iterator&#39; in my public void print() method. I have imported the relevant package and it still wont work, thank you in advance for any help :) \r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Iterator;\r\n\r\npublic class Thesaurus\r\n{\r\n    private HashMap&lt;String, HashSet&lt;String&gt;&gt; synonyms; \r\n\r\npublic Thesaurus()\r\n{\r\n    HashMap&lt;String, String&gt; synonyms = new HashMap&lt;String, String&gt;();\r\n}\r\n\r\npublic String populate()\r\n{\r\n  HashSet&lt;String&gt; synonyms = new HashSet&lt;String&gt;();\r\n  synonyms.add(&quot;happy&quot;);\r\n  synonyms.add(&quot;joyful&quot;);\r\n  synonyms.add(&quot;contented&quot;);\r\n  synonyms.add(&quot;cheerful&quot;);\r\n  \r\n  synonyms = new HashSet&lt;&gt;();\r\n  synonyms.add(&quot;angry&quot;);\r\n  synonyms.add(&quot;annoyed&quot;);\r\n  synonyms.add(&quot;vexed&quot;);\r\n}\r\n\r\npublic void print()\r\n{\r\n   Iterator&lt;String&gt; s = synonyms.iterator();\r\n   while(s.hasNext()){\r\n       System.out.println (s.next());\r\n              \r\n}\r\n}}\r\n```\r\n","title":"Cannot find symbol - method iterator()","body":"<p>I'm unsure of why I am getting an error for 'cannot find symbol - method iterator' in my public void print() method. I have imported the relevant package and it still wont work, thank you in advance for any help :)</p>\n<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Iterator;\n\npublic class Thesaurus\n{\n    private HashMap&lt;String, HashSet&lt;String&gt;&gt; synonyms; \n\npublic Thesaurus()\n{\n    HashMap&lt;String, String&gt; synonyms = new HashMap&lt;String, String&gt;();\n}\n\npublic String populate()\n{\n  HashSet&lt;String&gt; synonyms = new HashSet&lt;String&gt;();\n  synonyms.add(&quot;happy&quot;);\n  synonyms.add(&quot;joyful&quot;);\n  synonyms.add(&quot;contented&quot;);\n  synonyms.add(&quot;cheerful&quot;);\n  \n  synonyms = new HashSet&lt;&gt;();\n  synonyms.add(&quot;angry&quot;);\n  synonyms.add(&quot;annoyed&quot;);\n  synonyms.add(&quot;vexed&quot;);\n}\n\npublic void print()\n{\n   Iterator&lt;String&gt; s = synonyms.iterator();\n   while(s.hasNext()){\n       System.out.println (s.next());\n              \n}\n}}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","project-structure"],"answers":[{"tags":[],"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1439471845,"creation_date":1439471845,"answer_id":31989400,"question_id":31989218,"body_markdown":"1. Go to Settings&gt;Build, Execution, Deployment&gt;Build Tools&gt;Maven&gt;Ignored Files\r\n2. Uncheck the files\r\n3. Write your code\r\n4. ...\r\n5. Profit\r\n\r\nWith regard to the maven structure. It seems that you removed the modules from one of the pom.xml files that was using it and then IntelliJ saw this and suggested that since you&#39;re no longer building these files, then perhaps you&#39;d like to remove them.","title":"How to re-add module to a project in IntelliJ?","body":"<ol>\n<li>Go to Settings>Build, Execution, Deployment>Build Tools>Maven>Ignored Files</li>\n<li>Uncheck the files</li>\n<li>Write your code</li>\n<li>...</li>\n<li>Profit</li>\n</ol>\n\n<p>With regard to the maven structure. It seems that you removed the modules from one of the pom.xml files that was using it and then IntelliJ saw this and suggested that since you're no longer building these files, then perhaps you'd like to remove them.</p>\n"},{"tags":[],"owner":{"account_id":2969865,"reputation":1050,"user_id":2522174,"accept_rate":93,"display_name":"Stefan Sprenger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1439472193,"creation_date":1439472193,"answer_id":31989527,"question_id":31989218,"body_markdown":" - Open Module Settings\r\n - Click on &quot;+&quot;\r\n - Click on Import Module\r\n - Chose Wikidata.iml from your folder structure\r\n\r\nMaybe combine this with Craigs answer.","title":"How to re-add module to a project in IntelliJ?","body":"<ul>\n<li>Open Module Settings</li>\n<li>Click on \"+\"</li>\n<li>Click on Import Module</li>\n<li>Chose Wikidata.iml from your folder structure</li>\n</ul>\n\n<p>Maybe combine this with Craigs answer.</p>\n"},{"tags":[],"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1508245629,"creation_date":1508245629,"answer_id":46790929,"question_id":31989218,"body_markdown":"In your `.idea` directory you can find a `modules.xml` file. Open it and just add \r\n\r\n    &lt;module fileurl=&quot;file://$PROJECT_DIR$/path_to_your_project/your_project.iml&quot; filepath=&quot;$PROJECT_DIR$/path_to_your_project/your_project.iml&quot; /&gt;\r\n\r\nto the `modules`-element. After this the module is marked with the blue square again.","title":"How to re-add module to a project in IntelliJ?","body":"<p>In your <code>.idea</code> directory you can find a <code>modules.xml</code> file. Open it and just add </p>\n\n<pre><code>&lt;module fileurl=\"file://$PROJECT_DIR$/path_to_your_project/your_project.iml\" filepath=\"$PROJECT_DIR$/path_to_your_project/your_project.iml\" /&gt;\n</code></pre>\n\n<p>to the <code>modules</code>-element. After this the module is marked with the blue square again.</p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645475578,"creation_date":1645475578,"answer_id":71212674,"question_id":31989218,"body_markdown":"Add by choosing `&quot;Maven&quot;-&gt; &quot;+&quot; Add Maven projects -&gt; &quot;pom.xml&quot;` of module you want to add.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SZqUV.jpg\r\n  [2]: https://i.stack.imgur.com/SwjS8.jpg\r\n  [3]: https://i.stack.imgur.com/ku3o7.jpg","title":"How to re-add module to a project in IntelliJ?","body":"<p>Add by choosing <code>&quot;Maven&quot;-&gt; &quot;+&quot; Add Maven projects -&gt; &quot;pom.xml&quot;</code> of module you want to add.\n<a href=\"https://i.stack.imgur.com/SZqUV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SZqUV.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SwjS8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwjS8.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ku3o7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ku3o7.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11011,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1645475578,"creation_date":1439471457,"question_id":31989218,"body_markdown":"I had a project with small code sample snippets, grouped by modules, like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEach module has individual POM file and no (apparently) global one. \r\n\r\nPreviously I had one more module, called `Wikidata`. At some moment IntelliJ said, that this module was &quot;removed from Maven structure&quot; and suggested to removed from project too. I agreed and now it is gone. It is still on disk in separate folder.\r\n\r\nMy questions are\r\n\r\n1. How to put module back?\r\n\r\n2. What was that &quot;maven structure&quot;, from which module was removed and how to control this structure?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oRwvU.png","title":"How to re-add module to a project in IntelliJ?","body":"<p>I had a project with small code sample snippets, grouped by modules, like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oRwvU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oRwvU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Each module has individual POM file and no (apparently) global one. </p>\n\n<p>Previously I had one more module, called <code>Wikidata</code>. At some moment IntelliJ said, that this module was \"removed from Maven structure\" and suggested to removed from project too. I agreed and now it is gone. It is still on disk in separate folder.</p>\n\n<p>My questions are</p>\n\n<ol>\n<li><p>How to put module back?</p></li>\n<li><p>What was that \"maven structure\", from which module was removed and how to control this structure?</p></li>\n</ol>\n"},{"tags":["java","swing","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1645474577,"creation_date":1424990256,"answer_id":28754147,"question_id":28753154,"body_markdown":"As shown [here][1], you can alter a chart after it&#39;s been rendered. In this case, update the chart&#39;s data _model_, `PieDataset`, and the listening _view_ will follow; in these related [examples][2], a component&#39;s `Action` updates a `Dataset`. In a `MultiplePiePlot`, you can update the appearance of the pie chart _view_ directly, as shown [here][3].\r\n\r\nAddendum: Starting from [`PieChartDemo1`][4], re-factor the dataset and add a suitable `Action`, as shown below.\r\n\r\n    private static final DefaultPieDataset dataset = createDataset();\r\n    \r\n    public PieChartDemo1(String title) {\r\n        super(title);\r\n        add(createDemoPanel());\r\n        add(new JButton(new AbstractAction(&quot;Update&quot;) {\r\n            \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                dataset.setValue(&quot;Apple&quot;, dataset.getValue(&quot;Apple&quot;).doubleValue() + 1);\r\n            }\r\n        }), BorderLayout.SOUTH);\r\n    }\r\n\r\n\r\n![enter image description here][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5522583/230513\r\n  [2]: https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20Action\r\n  [3]: https://stackoverflow.com/a/17370398/230513\r\n  [4]: https://github.com/jfree/jfree-demos/blob/master/src/main/java/org/jfree/chart/demo2/BarChartDemo1.java\r\n  [5]: http://i.stack.imgur.com/Cw8CZ.png","title":"Update PieChart in JFreeChart","body":"<p>As shown <a href=\"https://stackoverflow.com/a/5522583/230513\">here</a>, you can alter a chart after it's been rendered. In this case, update the chart's data <em>model</em>, <code>PieDataset</code>, and the listening <em>view</em> will follow; in these related <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20Action\">examples</a>, a component's <code>Action</code> updates a <code>Dataset</code>. In a <code>MultiplePiePlot</code>, you can update the appearance of the pie chart <em>view</em> directly, as shown <a href=\"https://stackoverflow.com/a/17370398/230513\">here</a>.</p>\n<p>Addendum: Starting from <a href=\"https://github.com/jfree/jfree-demos/blob/master/src/main/java/org/jfree/chart/demo2/BarChartDemo1.java\" rel=\"nofollow noreferrer\"><code>PieChartDemo1</code></a>, re-factor the dataset and add a suitable <code>Action</code>, as shown below.</p>\n<pre><code>private static final DefaultPieDataset dataset = createDataset();\n\npublic PieChartDemo1(String title) {\n    super(title);\n    add(createDemoPanel());\n    add(new JButton(new AbstractAction(&quot;Update&quot;) {\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            dataset.setValue(&quot;Apple&quot;, dataset.getValue(&quot;Apple&quot;).doubleValue() + 1);\n        }\n    }), BorderLayout.SOUTH);\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Cw8CZ.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28754147,"answer_count":1,"score":2,"last_activity_date":1645474577,"creation_date":1424986342,"question_id":28753154,"body_markdown":"I have created a PieChart using JFreeChart. I for the life of my cant figure out how to update the chart once it has been created. Is the only way to do that to create an entirely new chart?\r\n","title":"Update PieChart in JFreeChart","body":"<p>I have created a PieChart using JFreeChart. I for the life of my cant figure out how to update the chart once it has been created. Is the only way to do that to create an entirely new chart?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1645471680,"post_id":71211735,"comment_id":125875681,"body_markdown":"Try to rename getNewMeasureListDto to getMeasureList; same for the setter.","body":"Try to rename getNewMeasureListDto to getMeasureList; same for the setter."},{"owner":{"account_id":18964861,"reputation":21,"user_id":13839565,"display_name":"2meters"},"score":0,"creation_date":1645473676,"post_id":71211735,"comment_id":125876345,"body_markdown":"Renamed the getter and also realized that there is no setter method, so I added it, now it works like a charm. I didn&#39;t know that setter is necessary when dealing with arrays in json, I thought that constructor will do all job. Thanks for help!","body":"Renamed the getter and also realized that there is no setter method, so I added it, now it works like a charm. I didn&#39;t know that setter is necessary when dealing with arrays in json, I thought that constructor will do all job. Thanks for help!"}],"answers":[{"tags":[],"owner":{"account_id":18964861,"reputation":21,"user_id":13839565,"display_name":"2meters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645474248,"creation_date":1645474248,"answer_id":71212457,"question_id":71211735,"body_markdown":"Thanks to **ShaharT** suggestion I found the answer.\r\nThere was missing setter in NewMeasurePackageDto, the class should look like this:\r\n\r\n```\r\npackage com.weather.server.domain.dto;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class NewMeasurePackageDto {\r\n    private ArrayList&lt;NewMeasureDto&gt; measureList;\r\n\r\n    public NewMeasurePackageDto(ArrayList&lt;NewMeasureDto&gt; measureList) {\r\n        this.measureList = measureList;\r\n    }\r\n\r\n    public NewMeasurePackageDto() {\r\n    }\r\n\r\n    public ArrayList&lt;NewMeasureDto&gt; getMeasureList() {\r\n        return measureList;\r\n    }\r\n\r\n\r\n    public void setMeasureList(ArrayList&lt;NewMeasureDto&gt; measureList) {\r\n        this.measureList = measureList;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;NewMeasurePackageDto{&quot; +\r\n                &quot;measureList=&quot; + measureList +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\nConclusion is: when dealing with object of arrays in JSON, there must be setter method for variable storing list in DTO.","title":"Receive array of objects in JSON by Spring Boot RestApi Controller","body":"<p>Thanks to <strong>ShaharT</strong> suggestion I found the answer.\nThere was missing setter in NewMeasurePackageDto, the class should look like this:</p>\n<pre><code>package com.weather.server.domain.dto;\n\nimport java.util.ArrayList;\n\npublic class NewMeasurePackageDto {\n    private ArrayList&lt;NewMeasureDto&gt; measureList;\n\n    public NewMeasurePackageDto(ArrayList&lt;NewMeasureDto&gt; measureList) {\n        this.measureList = measureList;\n    }\n\n    public NewMeasurePackageDto() {\n    }\n\n    public ArrayList&lt;NewMeasureDto&gt; getMeasureList() {\n        return measureList;\n    }\n\n\n    public void setMeasureList(ArrayList&lt;NewMeasureDto&gt; measureList) {\n        this.measureList = measureList;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;NewMeasurePackageDto{&quot; +\n                &quot;measureList=&quot; + measureList +\n                '}';\n    }\n}\n\n</code></pre>\n<p>Conclusion is: when dealing with object of arrays in JSON, there must be setter method for variable storing list in DTO.</p>\n"}],"owner":{"account_id":18964861,"reputation":21,"user_id":13839565,"display_name":"2meters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645474248,"creation_date":1645470424,"question_id":71211735,"body_markdown":"I want to send array of objects like this to Spring REST Controller:\r\n```\r\n{\r\n    &quot;measureList&quot;: [\r\n        {\r\n            &quot;apiKey&quot;: &quot;exampleKEY&quot;,\r\n            &quot;stationId&quot;: &quot;abcdef123&quot;,\r\n            &quot;date&quot;: &quot;2022-02-18T17:43:51.787535Z&quot;,\r\n            &quot;temp&quot;: &quot;20.5&quot;,\r\n            &quot;humidity&quot;: &quot;60.4&quot;,\r\n            &quot;pressure&quot;: &quot;1020.5&quot;,\r\n            &quot;pm25&quot;: &quot;100.0&quot;,\r\n            &quot;pm25Corr&quot;: &quot;150.0&quot;,\r\n            &quot;pm10&quot;: &quot;90.0&quot;\r\n        },\r\n        {\r\n            &quot;apiKey&quot;: &quot;exampleKEY&quot;,\r\n            &quot;stationId&quot;: &quot;abcdef123&quot;,\r\n            &quot;date&quot;: &quot;2022-02-18T17:43:53.254309Z&quot;,\r\n            &quot;temp&quot;: &quot;20.5&quot;,\r\n            &quot;humidity&quot;: &quot;60.4&quot;,\r\n            &quot;pressure&quot;: &quot;1020.5&quot;,\r\n            &quot;pm25&quot;: &quot;100.0&quot;,\r\n            &quot;pm25Corr&quot;: &quot;150.0&quot;,\r\n            &quot;pm10&quot;: &quot;90.0&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nI have created NewMeausurePackageDto like this:\r\n\r\n```\r\npackage com.weather.server.domain.dto;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class NewMeasurePackageDto {\r\n    private ArrayList&lt;NewMeasureDto&gt; measureList;\r\n\r\n    public NewMeasurePackageDto(ArrayList&lt;NewMeasureDto&gt; measureList) {\r\n        this.measureList = measureList;\r\n    }\r\n\r\n    public NewMeasurePackageDto() {\r\n    }\r\n\r\n    public ArrayList&lt;NewMeasureDto&gt; getNewMeasureListDto() {\r\n        return measureList;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;NewMeasurePackageDto{&quot; +\r\n                &quot;measureList=&quot; + measureList +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nNewMeasureDto class:\r\n\r\n```\r\npackage com.weather.server.domain.dto;\r\n\r\npublic class NewMeasureDto {\r\n    private String apiKey;\r\n    private String stationId;\r\n    private String date;\r\n    private String temp;\r\n    private String humidity;\r\n    private String pressure;\r\n    private String pm25;\r\n    private String pm10;\r\n    private String pm25Corr;\r\n    //station_id\r\n\r\n    public NewMeasureDto() {\r\n    }\r\n\r\n    private NewMeasureDto(Builder builder){\r\n        apiKey = builder.apiKey;\r\n        stationId = builder.stationId;\r\n        date = builder.date;\r\n        temp = builder.temp;\r\n        humidity = builder.humidity;\r\n        pressure = builder.pressure;\r\n        pm25 = builder.pm25;\r\n        pm10 = builder.pm10;\r\n        pm25Corr = builder.pm25Corr;\r\n    }\r\n\r\n\r\n    public String getApiKey() {\r\n        return apiKey;\r\n    }\r\n\r\n    public String getStationID() {\r\n        return stationId;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public String getTemp() {\r\n        return temp;\r\n    }\r\n\r\n    public String getHumidity() {\r\n        return humidity;\r\n    }\r\n\r\n    public String getPressure() {\r\n        return pressure;\r\n    }\r\n\r\n    public String getPm25() {\r\n        return pm25;\r\n    }\r\n\r\n    public String getPm10() {\r\n        return pm10;\r\n    }\r\n\r\n    public String getPm25Corr() {\r\n        return pm25Corr;\r\n    }\r\n\r\n\r\n    public static final class Builder {\r\n        private String apiKey;\r\n        private String stationId;\r\n        private String date;\r\n        private String temp;\r\n        private String humidity;\r\n        private String pressure;\r\n        private String pm25;\r\n        private String pm10;\r\n        private String pm25Corr;\r\n\r\n        public Builder() {\r\n        }\r\n\r\n        public Builder apiKey(String apiKey) {\r\n            this.apiKey = apiKey;\r\n            return this;\r\n        }\r\n\r\n        public Builder stationID(String stationId) {\r\n            this.stationId = stationId;\r\n            return this;\r\n        }\r\n\r\n        public Builder date(String date) {\r\n            this.date = date;\r\n            return this;\r\n        }\r\n\r\n        public Builder temp(String temp) {\r\n            this.temp = temp;\r\n            return this;\r\n        }\r\n\r\n        public Builder humidity(String humidity) {\r\n            this.humidity = humidity;\r\n            return this;\r\n        }\r\n\r\n        public Builder pressure(String pressure){\r\n            this.pressure = pressure;\r\n            return this;\r\n        }\r\n\r\n        public Builder pm25(String pm25){\r\n            this.pm25 = pm25;\r\n            return this;\r\n        }\r\n\r\n        public Builder pm10(String pm10){\r\n            this.pm10 = pm10;\r\n            return this;\r\n        }\r\n\r\n        public Builder pm25Corr(String pm25Corr){\r\n            this.pm25Corr = pm25Corr;\r\n            return this;\r\n        }\r\n\r\n        public NewMeasureDto build() {\r\n            return new NewMeasureDto(this);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd request mapping in RestController:\r\n\r\n```\r\n@PostMapping(value=&quot;/new-measure-package&quot;) //addStation id\r\n    public ResponseEntity&lt;Void&gt; newMeasure(@RequestBody NewMeasurePackageDto measureList){\r\n        //if api key is valid\r\n        return measureService.saveMeasurePackage(measureList.getNewMeasureListDto()) ? new ResponseEntity&lt;&gt;(HttpStatus.OK) :\r\n                new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\nWith this code all I got is error about null **measureList** in Service function when trying to iterate over the list. I tried changing @RequestBody to \r\n```List&lt;NewMeasureDto&gt; measureList```, and to ```Map&lt;String, NewMeasureDto&gt; measureList``` but still measureList is null or empty.","title":"Receive array of objects in JSON by Spring Boot RestApi Controller","body":"<p>I want to send array of objects like this to Spring REST Controller:</p>\n<pre><code>{\n    &quot;measureList&quot;: [\n        {\n            &quot;apiKey&quot;: &quot;exampleKEY&quot;,\n            &quot;stationId&quot;: &quot;abcdef123&quot;,\n            &quot;date&quot;: &quot;2022-02-18T17:43:51.787535Z&quot;,\n            &quot;temp&quot;: &quot;20.5&quot;,\n            &quot;humidity&quot;: &quot;60.4&quot;,\n            &quot;pressure&quot;: &quot;1020.5&quot;,\n            &quot;pm25&quot;: &quot;100.0&quot;,\n            &quot;pm25Corr&quot;: &quot;150.0&quot;,\n            &quot;pm10&quot;: &quot;90.0&quot;\n        },\n        {\n            &quot;apiKey&quot;: &quot;exampleKEY&quot;,\n            &quot;stationId&quot;: &quot;abcdef123&quot;,\n            &quot;date&quot;: &quot;2022-02-18T17:43:53.254309Z&quot;,\n            &quot;temp&quot;: &quot;20.5&quot;,\n            &quot;humidity&quot;: &quot;60.4&quot;,\n            &quot;pressure&quot;: &quot;1020.5&quot;,\n            &quot;pm25&quot;: &quot;100.0&quot;,\n            &quot;pm25Corr&quot;: &quot;150.0&quot;,\n            &quot;pm10&quot;: &quot;90.0&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I have created NewMeausurePackageDto like this:</p>\n<pre><code>package com.weather.server.domain.dto;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class NewMeasurePackageDto {\n    private ArrayList&lt;NewMeasureDto&gt; measureList;\n\n    public NewMeasurePackageDto(ArrayList&lt;NewMeasureDto&gt; measureList) {\n        this.measureList = measureList;\n    }\n\n    public NewMeasurePackageDto() {\n    }\n\n    public ArrayList&lt;NewMeasureDto&gt; getNewMeasureListDto() {\n        return measureList;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NewMeasurePackageDto{&quot; +\n                &quot;measureList=&quot; + measureList +\n                '}';\n    }\n}\n\n</code></pre>\n<p>NewMeasureDto class:</p>\n<pre><code>package com.weather.server.domain.dto;\n\npublic class NewMeasureDto {\n    private String apiKey;\n    private String stationId;\n    private String date;\n    private String temp;\n    private String humidity;\n    private String pressure;\n    private String pm25;\n    private String pm10;\n    private String pm25Corr;\n    //station_id\n\n    public NewMeasureDto() {\n    }\n\n    private NewMeasureDto(Builder builder){\n        apiKey = builder.apiKey;\n        stationId = builder.stationId;\n        date = builder.date;\n        temp = builder.temp;\n        humidity = builder.humidity;\n        pressure = builder.pressure;\n        pm25 = builder.pm25;\n        pm10 = builder.pm10;\n        pm25Corr = builder.pm25Corr;\n    }\n\n\n    public String getApiKey() {\n        return apiKey;\n    }\n\n    public String getStationID() {\n        return stationId;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public String getTemp() {\n        return temp;\n    }\n\n    public String getHumidity() {\n        return humidity;\n    }\n\n    public String getPressure() {\n        return pressure;\n    }\n\n    public String getPm25() {\n        return pm25;\n    }\n\n    public String getPm10() {\n        return pm10;\n    }\n\n    public String getPm25Corr() {\n        return pm25Corr;\n    }\n\n\n    public static final class Builder {\n        private String apiKey;\n        private String stationId;\n        private String date;\n        private String temp;\n        private String humidity;\n        private String pressure;\n        private String pm25;\n        private String pm10;\n        private String pm25Corr;\n\n        public Builder() {\n        }\n\n        public Builder apiKey(String apiKey) {\n            this.apiKey = apiKey;\n            return this;\n        }\n\n        public Builder stationID(String stationId) {\n            this.stationId = stationId;\n            return this;\n        }\n\n        public Builder date(String date) {\n            this.date = date;\n            return this;\n        }\n\n        public Builder temp(String temp) {\n            this.temp = temp;\n            return this;\n        }\n\n        public Builder humidity(String humidity) {\n            this.humidity = humidity;\n            return this;\n        }\n\n        public Builder pressure(String pressure){\n            this.pressure = pressure;\n            return this;\n        }\n\n        public Builder pm25(String pm25){\n            this.pm25 = pm25;\n            return this;\n        }\n\n        public Builder pm10(String pm10){\n            this.pm10 = pm10;\n            return this;\n        }\n\n        public Builder pm25Corr(String pm25Corr){\n            this.pm25Corr = pm25Corr;\n            return this;\n        }\n\n        public NewMeasureDto build() {\n            return new NewMeasureDto(this);\n        }\n    }\n}\n\n</code></pre>\n<p>And request mapping in RestController:</p>\n<pre><code>@PostMapping(value=&quot;/new-measure-package&quot;) //addStation id\n    public ResponseEntity&lt;Void&gt; newMeasure(@RequestBody NewMeasurePackageDto measureList){\n        //if api key is valid\n        return measureService.saveMeasurePackage(measureList.getNewMeasureListDto()) ? new ResponseEntity&lt;&gt;(HttpStatus.OK) :\n                new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p>With this code all I got is error about null <strong>measureList</strong> in Service function when trying to iterate over the list. I tried changing @RequestBody to\n<code>List&lt;NewMeasureDto&gt; measureList</code>, and to <code>Map&lt;String, NewMeasureDto&gt; measureList</code> but still measureList is null or empty.</p>\n"},{"tags":["java","macos","jna"],"answers":[{"tags":[],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645435343,"creation_date":1645435343,"answer_id":71203844,"question_id":71203487,"body_markdown":"[JNA][1] is a community-developed library. I think that JNA is not included in JDK.\r\n\r\nYou can find the required dependencies at [mvnrepository.com under their namespace][2] or you can check out the [project on GitHub][3]\r\n\r\nI don&#39;t know where that JNA/temp comes from but I know they used a hardcoded temp/JNA back in my time so maybe it is some transitive dependency.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Native_Access\r\n  [2]: https://mvnrepository.com/artifact/net.java.dev.jna\r\n  [3]: https://github.com/java-native-access/jna","title":"Unable to find the version of JNA on macos","body":"<p><a href=\"https://en.wikipedia.org/wiki/Java_Native_Access\" rel=\"nofollow noreferrer\">JNA</a> is a community-developed library. I think that JNA is not included in JDK.</p>\n<p>You can find the required dependencies at <a href=\"https://mvnrepository.com/artifact/net.java.dev.jna\" rel=\"nofollow noreferrer\">mvnrepository.com under their namespace</a> or you can check out the <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">project on GitHub</a></p>\n<p>I don't know where that JNA/temp comes from but I know they used a hardcoded temp/JNA back in my time so maybe it is some transitive dependency.</p>\n"},{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645474217,"creation_date":1645446039,"answer_id":71206210,"question_id":71203487,"body_markdown":"JNA must be downloaded.  While the `com.sun` prefix of its packages may imply a connection with the JDK, is based on where it was originally developed and does not reflect any internal JDK usage.\r\n\r\nIf you are experiencing issues with a wrong-version of JNA (failure to load libraries) it is because of an application you are using which imports the wrong version. You should contact the maintainers of that library to have them update the version.\r\n\r\nThe best way to download the jar as a dependency for your code is to use a project dependency manager such as Maven or Gradle.  The syntax to include JNA in your project can be found by searching Maven Central.\r\n\r\nHere&#39;s [a link to search][1] where you can see that the current version (as of this post) is 5.10.0.  Clicking on that number will bring you to a page showing you the syntax to include it:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n  &lt;version&gt;5.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nNote there are two artifacts: `jna` which provides the core functionality, and `jna-platform` which contains many user-contributed mappings and utility methods that will prevent you from having to re-invent solutions.\r\n\r\nRegard the `JNA/temp`, part of JNA&#39;s initialization is extracting a small platform-specific native library to a temporary directory.  If any project or application you have run on your machine ever used JNA, it may have written this library there.  As the &quot;temp&quot; name implies it is safe to delete and will be rewritten (if necessary). \r\nThis &quot;temp&quot; filename is from a much older version based on JDK 1.5; more recent versions based on JDK 1.6 have a more randomized temporary filename.\r\n\r\n  [1]: https://search.maven.org/search?q=g:net.java.dev.jna","title":"Unable to find the version of JNA on macos","body":"<p>JNA must be downloaded.  While the <code>com.sun</code> prefix of its packages may imply a connection with the JDK, is based on where it was originally developed and does not reflect any internal JDK usage.</p>\n<p>If you are experiencing issues with a wrong-version of JNA (failure to load libraries) it is because of an application you are using which imports the wrong version. You should contact the maintainers of that library to have them update the version.</p>\n<p>The best way to download the jar as a dependency for your code is to use a project dependency manager such as Maven or Gradle.  The syntax to include JNA in your project can be found by searching Maven Central.</p>\n<p>Here's <a href=\"https://search.maven.org/search?q=g:net.java.dev.jna\" rel=\"nofollow noreferrer\">a link to search</a> where you can see that the current version (as of this post) is 5.10.0.  Clicking on that number will bring you to a page showing you the syntax to include it:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n  &lt;artifactId&gt;jna&lt;/artifactId&gt;\n  &lt;version&gt;5.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note there are two artifacts: <code>jna</code> which provides the core functionality, and <code>jna-platform</code> which contains many user-contributed mappings and utility methods that will prevent you from having to re-invent solutions.</p>\n<p>Regard the <code>JNA/temp</code>, part of JNA's initialization is extracting a small platform-specific native library to a temporary directory.  If any project or application you have run on your machine ever used JNA, it may have written this library there.  As the &quot;temp&quot; name implies it is safe to delete and will be rewritten (if necessary).\nThis &quot;temp&quot; filename is from a much older version based on JDK 1.5; more recent versions based on JDK 1.6 have a more randomized temporary filename.</p>\n"}],"owner":{"account_id":1159141,"reputation":12863,"user_id":1139023,"accept_rate":72,"display_name":"Ashwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2435,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1645474217,"creation_date":1645433542,"question_id":71203487,"body_markdown":"Is JNA installed with Java? I have open JDK 11. Does JNA come packaged in the JDK or is it a library that I have to install separately? If it has to be installed separately, how can I know the version? \r\n\r\nI want to make sure that I am at least on JNA 5.6. I can see a `JNA/temp` in `Library/Cache`, but I am not sure where this is coming from.","title":"Unable to find the version of JNA on macos","body":"<p>Is JNA installed with Java? I have open JDK 11. Does JNA come packaged in the JDK or is it a library that I have to install separately? If it has to be installed separately, how can I know the version?</p>\n<p>I want to make sure that I am at least on JNA 5.6. I can see a <code>JNA/temp</code> in <code>Library/Cache</code>, but I am not sure where this is coming from.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":1,"creation_date":1645472046,"post_id":71211941,"comment_id":125875800,"body_markdown":"Why would you use an `int8` column type to store a `timestamp`?","body":"Why would you use an <code>int8</code> column type to store a <code>timestamp</code>?"},{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1645472218,"post_id":71211941,"comment_id":125875850,"body_markdown":"it&#39;s a bank not managed by my team, we&#39;re consuming remotely, so I don&#39;t know why the type is int8","body":"it&#39;s a bank not managed by my team, we&#39;re consuming remotely, so I don&#39;t know why the type is int8"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1645472522,"post_id":71211941,"comment_id":125875949,"body_markdown":"So what is that number?  Is it the number of milliseconds since a particular date in the past?  Number of seconds?  You&#39;ll need to know the details, in order to convert it.","body":"So what is that number?  Is it the number of milliseconds since a particular date in the past?  Number of seconds?  You&#39;ll need to know the details, in order to convert it."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645474046,"creation_date":1645474046,"answer_id":71212426,"question_id":71211941,"body_markdown":"A column of type `int8` does not map to any *java.time* type. \r\n\r\nApparently your column holds a count of milliseconds since the epoch of first moment of 1970 UTC (offset of zero hours-minutes-seconds). If so, you can [parse that number][1] as a`java.time.Instant` object. \r\n\r\n    Instant instant = Instant.ofEpochMilli( millis ) ;\r\n\r\n`LocalDateTime` class is likely the wrong class for your intentions. That class cannot represent a moment as it lacks any concept of time zone or offset. \r\n\r\nAs others commented, you should be using date-time types in the database to store date-time values. This is especially true in Postgres which has exceptional date-time handling facilities. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)","title":"Map timesTamp to LocalDateTime with error","body":"<p>A column of type <code>int8</code> does not map to any <em>java.time</em> type.</p>\n<p>Apparently your column holds a count of milliseconds since the epoch of first moment of 1970 UTC (offset of zero hours-minutes-seconds). If so, you can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)\" rel=\"nofollow noreferrer\">parse that number</a> as a<code>java.time.Instant</code> object.</p>\n<pre><code>Instant instant = Instant.ofEpochMilli( millis ) ;\n</code></pre>\n<p><code>LocalDateTime</code> class is likely the wrong class for your intentions. That class cannot represent a moment as it lacks any concept of time zone or offset.</p>\n<p>As others commented, you should be using date-time types in the database to store date-time values. This is especially true in Postgres which has exceptional date-time handling facilities.</p>\n"}],"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645474046,"creation_date":1645471469,"question_id":71211941,"body_markdown":"I have a table in my postgresQL database with a column of type int8 storing a timesTamp value\r\n\r\nColumn **createdAt** value: **1629137424993**\r\n\r\nMapping JPA\r\n\r\n    @Column(name = &quot;created_timestamp&quot;)\r\n    private LocalDateTime createdAt;\r\n\r\nMy JPA entity is declaring the LocalDateTime type but I only get the error.\r\n\r\n    repository.findAll();\r\n\r\n    Caused by: org.postgresql.util.PSQLException: Bad value for type timestamp/date/time: {1}\r\n    \tat org.postgresql.jdbc.TimestampUtils.parseBackendTimestamp(TimestampUtils.java:369) ~[postgresql-42.2.10.jar:42.2.10]\r\n    \tat org.postgresql.jdbc.TimestampUtils.toTimestamp(TimestampUtils.java:400) ~[postgresql-42.2.10.jar:42.2.10]\r\n    \tat org.postgresql.jdbc.PgResultSet.getTimestamp(PgResultSet.java:600) ~[postgresql-42.2.10.jar:42.2.10]\r\n    \tat org.postgresql.jdbc.PgResultSet.getTimestamp(PgResultSet.java:2519) ~[postgresql-42.2.10.jar:42.2.10]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyResultSet.getTimestamp(HikariProxyResultSet.java) ~[HikariCP-3.4.2.jar:na]\r\n    \tat org.hibernate.type.descriptor.sql.TimestampTypeDescriptor$2.doExtract(TimestampTypeDescriptor.java:84) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3068) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:336) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \t... 63 common frames omitted\r\n    Caused by: java.lang.NumberFormatException: Expected time to be colon-separated, got &#39; &#39;\r\n    \tat org.postgresql.jdbc.TimestampUtils.parseBackendTimestamp(TimestampUtils.java:271) ~[postgresql-42.2.10.jar:42.2.10]\r\n    \t... 75 common frames omitted\r\n\r\n\r\nI haven&#39;t identified the problem on how can I map a timesTamp value to the LocalDateTime type, I know that for that type I don&#39;t need a @Temporal\r\n\r\n","title":"Map timesTamp to LocalDateTime with error","body":"<p>I have a table in my postgresQL database with a column of type int8 storing a timesTamp value</p>\n<p>Column <strong>createdAt</strong> value: <strong>1629137424993</strong></p>\n<p>Mapping JPA</p>\n<pre><code>@Column(name = &quot;created_timestamp&quot;)\nprivate LocalDateTime createdAt;\n</code></pre>\n<p>My JPA entity is declaring the LocalDateTime type but I only get the error.</p>\n<pre><code>repository.findAll();\n\nCaused by: org.postgresql.util.PSQLException: Bad value for type timestamp/date/time: {1}\n    at org.postgresql.jdbc.TimestampUtils.parseBackendTimestamp(TimestampUtils.java:369) ~[postgresql-42.2.10.jar:42.2.10]\n    at org.postgresql.jdbc.TimestampUtils.toTimestamp(TimestampUtils.java:400) ~[postgresql-42.2.10.jar:42.2.10]\n    at org.postgresql.jdbc.PgResultSet.getTimestamp(PgResultSet.java:600) ~[postgresql-42.2.10.jar:42.2.10]\n    at org.postgresql.jdbc.PgResultSet.getTimestamp(PgResultSet.java:2519) ~[postgresql-42.2.10.jar:42.2.10]\n    at com.zaxxer.hikari.pool.HikariProxyResultSet.getTimestamp(HikariProxyResultSet.java) ~[HikariCP-3.4.2.jar:na]\n    at org.hibernate.type.descriptor.sql.TimestampTypeDescriptor$2.doExtract(TimestampTypeDescriptor.java:84) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3068) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:336) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    ... 63 common frames omitted\nCaused by: java.lang.NumberFormatException: Expected time to be colon-separated, got ' '\n    at org.postgresql.jdbc.TimestampUtils.parseBackendTimestamp(TimestampUtils.java:271) ~[postgresql-42.2.10.jar:42.2.10]\n    ... 75 common frames omitted\n</code></pre>\n<p>I haven't identified the problem on how can I map a timesTamp value to the LocalDateTime type, I know that for that type I don't need a @Temporal</p>\n"},{"tags":["java","date","datetime","java-time"],"comments":[{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":0,"creation_date":1367820861,"post_id":16392892,"comment_id":23497534,"body_markdown":"you can use getMonth() and setMonth() method of java.util.Date to do this task. but they are deprecated","body":"you can use getMonth() and setMonth() method of java.util.Date to do this task. but they are deprecated"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1367821031,"creation_date":1367820625,"answer_id":16392915,"question_id":16392892,"body_markdown":"    Calendar calNow = Calendar.getInstance()\r\n\r\n    // adding -1 month\r\n    calNow.add(Calendar.MONTH, -1);\r\n\r\n    // fetching updated time\r\n    Date dateBeforeAMonth = calNow.getTime();\r\n\r\n","title":"How to reduce one month from current date and stored in date variable using java?","body":"<pre><code>Calendar calNow = Calendar.getInstance()\n\n// adding -1 month\ncalNow.add(Calendar.MONTH, -1);\n\n// fetching updated time\nDate dateBeforeAMonth = calNow.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80316,"reputation":18412,"user_id":227192,"accept_rate":100,"display_name":"Aleksander Blomsk&#248;ld"},"down_vote_count":0,"up_vote_count":115,"is_accepted":true,"score":115,"last_activity_date":1367821145,"creation_date":1367820636,"answer_id":16392922,"question_id":16392892,"body_markdown":"Use Calendar:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.MONTH, -1);\r\n    Date result = cal.getTime();","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>Use Calendar:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.MONTH, -1);\nDate result = cal.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1667278,"reputation":493,"user_id":1534437,"display_name":"Ahiel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1367832860,"creation_date":1367820757,"answer_id":16392961,"question_id":16392892,"body_markdown":"you can use `Calendar`\r\n\r\n        java.util.Date da = new Date();\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(da);\r\n        cal.add(Calendar.MONTH, -1);\r\n        da = cal.getTime();\r\n","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>you can use <code>Calendar</code></p>\n\n<pre><code>    java.util.Date da = new Date();\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(da);\n    cal.add(Calendar.MONTH, -1);\n    da = cal.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440224,"reputation":3111,"user_id":829676,"display_name":"Fredszaq"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423830534,"creation_date":1367833959,"answer_id":16396157,"question_id":16392892,"body_markdown":"Using [JodaTime][1] :\r\n\r\n    Date date = new DateTime().minusMonths(1).toDate();\r\n\r\nJodaTime provides a convenient API for date manipulation.\r\n\r\nNote that similar Date API will be introduced in JDK8 with the [JSR310][2].\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://sourceforge.net/apps/mediawiki/threeten/index.php?title=ThreeTen","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>Using <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow\">JodaTime</a> :</p>\n\n<pre><code>Date date = new DateTime().minusMonths(1).toDate();\n</code></pre>\n\n<p>JodaTime provides a convenient API for date manipulation.</p>\n\n<p>Note that similar Date API will be introduced in JDK8 with the <a href=\"http://sourceforge.net/apps/mediawiki/threeten/index.php?title=ThreeTen\" rel=\"nofollow\">JSR310</a>.</p>\n"},{"tags":[],"owner":{"account_id":7899184,"reputation":21451,"user_id":5966775,"display_name":"DVarga"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1497330833,"creation_date":1474025336,"answer_id":39530386,"question_id":16392892,"body_markdown":"Starting from Java 8, the suggested way is to use the [Date-Time API][1] rather than `Calendar`.\r\n\r\nIf you want a `Date` object to be returned:\r\n\r\n    Date date = Date.from(ZonedDateTime.now().minusMonths(1).toInstant());\r\n\r\nIf you don&#39;t need exactly a `Date` object, you can use the classes directly, provided by the package, even to get dates in other time-zones:\r\n\r\n    ZonedDateTime dateInUTC = ZonedDateTime.now(ZoneId.of(&quot;Pacific/Auckland&quot;)).minusMonths(1);\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>Starting from Java 8, the suggested way is to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">Date-Time API</a> rather than <code>Calendar</code>.</p>\n\n<p>If you want a <code>Date</code> object to be returned:</p>\n\n<pre><code>Date date = Date.from(ZonedDateTime.now().minusMonths(1).toInstant());\n</code></pre>\n\n<p>If you don't need exactly a <code>Date</code> object, you can use the classes directly, provided by the package, even to get dates in other time-zones:</p>\n\n<pre><code>ZonedDateTime dateInUTC = ZonedDateTime.now(ZoneId.of(\"Pacific/Auckland\")).minusMonths(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2076482,"reputation":733,"user_id":4181136,"display_name":"Gregory Alan Bolcer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1526336123,"creation_date":1526336123,"answer_id":50339757,"question_id":16392892,"body_markdown":"Using new java.time package in Java8 and Java9\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    LocalDate mydate = LocalDate.now(); // Or whatever you want\r\n    mydate = mydate.minusMonths(1);\r\n\r\nThe advantage to using this method is that you avoid all the issues about varying month lengths and have more flexibility in adjusting dates and ranges. The Local part also is Timezone smart so it&#39;s easy to convert between them.   \r\n\r\nAs an aside, using java.time you can also get the day of the week, day of the month, all days up to the last of the month, all days up to a certain day of the week, etc.  \r\n\r\n    mydate.plusMonths(1);\r\n    mydate.with(TemporalAdjusters.next(DayOfWeek.SUNDAY)).getDayOfMonth();\r\n    mydate.with(TemporalAdjusters.lastDayOfMonth());","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>Using new java.time package in Java8 and Java9</p>\n\n<pre><code>import java.time.LocalDate;\n\nLocalDate mydate = LocalDate.now(); // Or whatever you want\nmydate = mydate.minusMonths(1);\n</code></pre>\n\n<p>The advantage to using this method is that you avoid all the issues about varying month lengths and have more flexibility in adjusting dates and ranges. The Local part also is Timezone smart so it's easy to convert between them.   </p>\n\n<p>As an aside, using java.time you can also get the day of the week, day of the month, all days up to the last of the month, all days up to a certain day of the week, etc.  </p>\n\n<pre><code>mydate.plusMonths(1);\nmydate.with(TemporalAdjusters.next(DayOfWeek.SUNDAY)).getDayOfMonth();\nmydate.with(TemporalAdjusters.lastDayOfMonth());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9413311,"reputation":154,"user_id":7001713,"display_name":"saeedmpt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578750740,"creation_date":1578750740,"answer_id":59695028,"question_id":16392892,"body_markdown":"raduce 1 month of JDF\r\n\r\n    Date dateTo = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;).parse(jdfMeTo.getJulianDate());\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(dateTo);\r\n            cal.add(Calendar.MONTH, -1);\r\n            Date dateOf = cal.getTime();\r\n            Log.i(&quot;dateOf&quot;, dateOf.getTime() + &quot;&quot;);\r\n            jdfMeOf.setJulianDate(cal.get(Calendar.DAY_OF_YEAR), cal.get(Calendar.DAY_OF_MONTH), \r\n            cal.get(Calendar.DAY_OF_WEEK_IN_MONTH));\r\n\r\n","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>raduce 1 month of JDF</p>\n\n<pre><code>Date dateTo = new SimpleDateFormat(\"yyyy/MM/dd\").parse(jdfMeTo.getJulianDate());\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(dateTo);\n        cal.add(Calendar.MONTH, -1);\n        Date dateOf = cal.getTime();\n        Log.i(\"dateOf\", dateOf.getTime() + \"\");\n        jdfMeOf.setJulianDate(cal.get(Calendar.DAY_OF_YEAR), cal.get(Calendar.DAY_OF_MONTH), \n        cal.get(Calendar.DAY_OF_WEEK_IN_MONTH));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645473986,"creation_date":1645473986,"answer_id":71212417,"question_id":16392892,"body_markdown":"You can also use the [DateUtils][1] from apache common. The library also supports adding Hour, Minute, etc.\r\n```\r\nDate date = DateUtils.addMonths(new Date(), -1)\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>You can also use the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html\" rel=\"nofollow noreferrer\">DateUtils</a> from apache common. The library also supports adding Hour, Minute, etc.</p>\n<pre><code>Date date = DateUtils.addMonths(new Date(), -1)\n</code></pre>\n"}],"owner":{"account_id":2578608,"reputation":1079,"user_id":2235766,"accept_rate":50,"display_name":"karthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112010,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":16392922,"answer_count":8,"score":68,"last_activity_date":1645473986,"creation_date":1367820482,"question_id":16392892,"body_markdown":"How to reduce one month from current date and want to sore in `java.util.Date` variable\r\nim using this code but it&#39;s shows error in 2nd line\r\n\r\n     java.util.Date da = new Date();\r\n     da.add(Calendar.MONTH, -1); //error\r\nHow to store this date in `java.util.Date` variable?\r\n","title":"How to reduce one month from current date and stored in date variable using java?","body":"<p>How to reduce one month from current date and want to sore in <code>java.util.Date</code> variable\nim using this code but it's shows error in 2nd line</p>\n\n<pre><code> java.util.Date da = new Date();\n da.add(Calendar.MONTH, -1); //error\n</code></pre>\n\n<p>How to store this date in <code>java.util.Date</code> variable?</p>\n"},{"tags":["java","android","react-native","react-native-component"],"answers":[{"tags":[],"owner":{"account_id":6491390,"reputation":1217,"user_id":5025342,"accept_rate":43,"display_name":"arbel03"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645473858,"creation_date":1645473858,"answer_id":71212397,"question_id":71204961,"body_markdown":"I solved it by adding the module as a class in my root project, instead of a pluggable react module.\r\nI think what did the trick was adding the module inside `getPackages()`","title":"React Native java module NativeEventEmitter is not emitting events","body":"<p>I solved it by adding the module as a class in my root project, instead of a pluggable react module.\nI think what did the trick was adding the module inside <code>getPackages()</code></p>\n"}],"owner":{"account_id":6491390,"reputation":1217,"user_id":5025342,"accept_rate":43,"display_name":"arbel03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645473858,"creation_date":1645440439,"question_id":71204961,"body_markdown":"I am converting the following module to Java: https://github.com/dehy/react-native-radio-player\r\n\r\nSo I have created a new module inside my repo. But I am failing at receiving events from ExoPlayer. https://github.com/arbel03/react-radio-app/tree/b3d0aa332249840fdc3616ff11d9e07f2e7f18e0\r\n\r\nAndroid Side:\r\n\r\n```java\r\n  @Override\r\n  public void onPlaybackStateChanged(int playbackState) {\r\n    Player.Listener.super.onPlaybackStateChanged(playbackState);\r\n\r\n    Logger.getLogger(getName()).info(String.format(&quot;onPlaybackStateChanged: %d&quot;, playbackState));\r\n\r\n    AudioSessionState newState = null;\r\n\r\n    switch (playbackState) {\r\n      case Player.STATE_IDLE:\r\n      case Player.STATE_ENDED:\r\n        newState = AudioSessionState.Stopped;\r\n        break;\r\n      case Player.STATE_BUFFERING:\r\n        newState = AudioSessionState.Buffering;\r\n        break;\r\n      case Player.STATE_READY:\r\n        newState = AudioSessionState.Playing;\r\n        break;\r\n    }\r\n\r\n    if ((newState == null) || (this.playerState == newState)) {\r\n      return;\r\n    }\r\n\r\n    this.playerState = newState;\r\n\r\n    WritableNativeMap stateMap = new WritableNativeMap();\r\n    stateMap.putString(&quot;state&quot;, this.playerState.name());\r\n    sendEvent(&quot;StateDidChange&quot;, stateMap);\r\n  }\r\n```\r\n\r\nReact Side: \r\n```javascript\r\nfunction setListeners(dispatch) {\r\n    return new Promise((resolve, reject) =&gt; {\r\n        console.log(&quot;Set listeners1&quot;);\r\n        AudioSessionEvents.addListener(&#39;StateDidChange&#39;, (eventObject) =&gt; {\r\n            console.log(&quot;Received event!!&quot;);\r\n            dispatch(playerReducer.actions.setPlayerState(eventObject.state as AudioSessionState));\r\n        });\r\n        \r\n        console.log(&quot;Set listeners2&quot;);\r\n        // TODO: return the uninitializer from useEffect\r\n        AudioSessionEvents.addListener(&#39;MetadataDidChange&#39;, (metadata) =&gt; {\r\n            console.log(&quot;Received event!!&quot;);\r\n            dispatch(playerReducer.actions.setPlayerMetadata(metadata));\r\n        });\r\n\r\n        resolve(null);\r\n    })\r\n}\r\n\r\nexport function uninitializePlayer() {\r\n    AudioSessionEvents.removeAllListeners();\r\n}\r\n\r\nexport function initializePlayer(dispatch) {\r\n    console.log(&quot;initializePlayer&quot;);\r\n    setListeners(dispatch)\r\n    .then(() =&gt; AudioSession.setUrl(Config.StreamUrl))\r\n    .then(() =&gt; AudioSession.getPlayerState()) // This triggers a @ReactNative java function and it copmletes the request successfuly. Sending asynchronous events doesn&#39;t work.\r\n    .then((playerState) =&gt; {\r\n        console.log(playerState);\r\n        dispatch(playerReducer.actions.setPlayerState(playerState.state as AudioSessionState));\r\n    })\r\n}\r\n```\r\n\r\ninitializePlayer is being called inside componentDidMount (as a matter of fact I am calling useEffect because I chose to implement a functional component)\r\n\r\nThis is what&#39;s being printed when I press play:\r\n```batch\r\n BUNDLE  ./index.js\r\n\r\n LOG  Running &quot;radio_app&quot; with {&quot;rootTag&quot;:1}\r\n LOG  initializePlayer\r\n LOG  Set listeners1\r\n LOG  Set listeners2\r\n LOG  {&quot;state&quot;: &quot;Initializing&quot;}\r\n LOG  setPlayerState {&quot;payload&quot;: &quot;Initializing&quot;, &quot;type&quot;: &quot;player/setPlayerState&quot;}\r\n LOG  Play\r\n```\r\n\r\nAnd this is the output from LogCat:\r\n```batch\r\n2022-02-20 19:04:33.784 5054-5113/com.radio_app I/AudioSession: setUrl: http://igor.torontocast.com:1025/;\r\n2022-02-20 19:04:33.805 5054-5113/com.radio_app I/AudioSession: getPlayerState: Initializing\r\n2022-02-20 19:04:35.176 5054-5113/com.radio_app I/AudioSession: play\r\n2022-02-20 19:04:35.178 5054-5054/com.radio_app I/AudioSession: onPlaybackStateChanged: 2\r\n2022-02-20 19:04:35.186 5054-5054/com.radio_app I/AudioSession: Sending event StateDidChange\r\n2022-02-20 19:04:35.884 5054-5054/com.radio_app I/AudioSession: onMediaMetadataChanged: title=null\r\n2022-02-20 19:04:35.886 5054-5054/com.radio_app I/AudioSession: Sending event MetadataDidChange\r\n2022-02-20 19:04:35.973 5054-5054/com.radio_app I/AudioSession: onMediaMetadataChanged: title=Faith - I believe\r\n2022-02-20 19:04:35.974 5054-5054/com.radio_app I/AudioSession: Sending event MetadataDidChange\r\n2022-02-20 19:04:35.978 5054-5054/com.radio_app I/AudioSession: onPlaybackStateChanged: 3\r\n2022-02-20 19:04:35.979 5054-5054/com.radio_app I/AudioSession: Sending event StateDidChange\r\n2022-02-20 19:05:01.086 5054-5054/com.radio_app I/AudioSession: onMediaMetadataChanged: title=Arashi - Take Off!!!!!\r\n2022-02-20 19:05:01.087 5054-5054/com.radio_app I/AudioSession: Sending event MetadataDidChange\r\n```\r\n\r\nThere is a line saying &quot;Sending event StateDidChange&quot; which I log inside sendEvent.\r\nBut &quot;Received event!!&quot; is not being printed at all. The events don&#39;t reach their destination.","title":"React Native java module NativeEventEmitter is not emitting events","body":"<p>I am converting the following module to Java: <a href=\"https://github.com/dehy/react-native-radio-player\" rel=\"nofollow noreferrer\">https://github.com/dehy/react-native-radio-player</a></p>\n<p>So I have created a new module inside my repo. But I am failing at receiving events from ExoPlayer. <a href=\"https://github.com/arbel03/react-radio-app/tree/b3d0aa332249840fdc3616ff11d9e07f2e7f18e0\" rel=\"nofollow noreferrer\">https://github.com/arbel03/react-radio-app/tree/b3d0aa332249840fdc3616ff11d9e07f2e7f18e0</a></p>\n<p>Android Side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void onPlaybackStateChanged(int playbackState) {\n    Player.Listener.super.onPlaybackStateChanged(playbackState);\n\n    Logger.getLogger(getName()).info(String.format(&quot;onPlaybackStateChanged: %d&quot;, playbackState));\n\n    AudioSessionState newState = null;\n\n    switch (playbackState) {\n      case Player.STATE_IDLE:\n      case Player.STATE_ENDED:\n        newState = AudioSessionState.Stopped;\n        break;\n      case Player.STATE_BUFFERING:\n        newState = AudioSessionState.Buffering;\n        break;\n      case Player.STATE_READY:\n        newState = AudioSessionState.Playing;\n        break;\n    }\n\n    if ((newState == null) || (this.playerState == newState)) {\n      return;\n    }\n\n    this.playerState = newState;\n\n    WritableNativeMap stateMap = new WritableNativeMap();\n    stateMap.putString(&quot;state&quot;, this.playerState.name());\n    sendEvent(&quot;StateDidChange&quot;, stateMap);\n  }\n</code></pre>\n<p>React Side:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function setListeners(dispatch) {\n    return new Promise((resolve, reject) =&gt; {\n        console.log(&quot;Set listeners1&quot;);\n        AudioSessionEvents.addListener('StateDidChange', (eventObject) =&gt; {\n            console.log(&quot;Received event!!&quot;);\n            dispatch(playerReducer.actions.setPlayerState(eventObject.state as AudioSessionState));\n        });\n        \n        console.log(&quot;Set listeners2&quot;);\n        // TODO: return the uninitializer from useEffect\n        AudioSessionEvents.addListener('MetadataDidChange', (metadata) =&gt; {\n            console.log(&quot;Received event!!&quot;);\n            dispatch(playerReducer.actions.setPlayerMetadata(metadata));\n        });\n\n        resolve(null);\n    })\n}\n\nexport function uninitializePlayer() {\n    AudioSessionEvents.removeAllListeners();\n}\n\nexport function initializePlayer(dispatch) {\n    console.log(&quot;initializePlayer&quot;);\n    setListeners(dispatch)\n    .then(() =&gt; AudioSession.setUrl(Config.StreamUrl))\n    .then(() =&gt; AudioSession.getPlayerState()) // This triggers a @ReactNative java function and it copmletes the request successfuly. Sending asynchronous events doesn't work.\n    .then((playerState) =&gt; {\n        console.log(playerState);\n        dispatch(playerReducer.actions.setPlayerState(playerState.state as AudioSessionState));\n    })\n}\n</code></pre>\n<p>initializePlayer is being called inside componentDidMount (as a matter of fact I am calling useEffect because I chose to implement a functional component)</p>\n<p>This is what's being printed when I press play:</p>\n<pre><code> BUNDLE  ./index.js\n\n LOG  Running &quot;radio_app&quot; with {&quot;rootTag&quot;:1}\n LOG  initializePlayer\n LOG  Set listeners1\n LOG  Set listeners2\n LOG  {&quot;state&quot;: &quot;Initializing&quot;}\n LOG  setPlayerState {&quot;payload&quot;: &quot;Initializing&quot;, &quot;type&quot;: &quot;player/setPlayerState&quot;}\n LOG  Play\n</code></pre>\n<p>And this is the output from LogCat:</p>\n<pre><code>2022-02-20 19:04:33.784 5054-5113/com.radio_app I/AudioSession: setUrl: http://igor.torontocast.com:1025/;\n2022-02-20 19:04:33.805 5054-5113/com.radio_app I/AudioSession: getPlayerState: Initializing\n2022-02-20 19:04:35.176 5054-5113/com.radio_app I/AudioSession: play\n2022-02-20 19:04:35.178 5054-5054/com.radio_app I/AudioSession: onPlaybackStateChanged: 2\n2022-02-20 19:04:35.186 5054-5054/com.radio_app I/AudioSession: Sending event StateDidChange\n2022-02-20 19:04:35.884 5054-5054/com.radio_app I/AudioSession: onMediaMetadataChanged: title=null\n2022-02-20 19:04:35.886 5054-5054/com.radio_app I/AudioSession: Sending event MetadataDidChange\n2022-02-20 19:04:35.973 5054-5054/com.radio_app I/AudioSession: onMediaMetadataChanged: title=Faith - I believe\n2022-02-20 19:04:35.974 5054-5054/com.radio_app I/AudioSession: Sending event MetadataDidChange\n2022-02-20 19:04:35.978 5054-5054/com.radio_app I/AudioSession: onPlaybackStateChanged: 3\n2022-02-20 19:04:35.979 5054-5054/com.radio_app I/AudioSession: Sending event StateDidChange\n2022-02-20 19:05:01.086 5054-5054/com.radio_app I/AudioSession: onMediaMetadataChanged: title=Arashi - Take Off!!!!!\n2022-02-20 19:05:01.087 5054-5054/com.radio_app I/AudioSession: Sending event MetadataDidChange\n</code></pre>\n<p>There is a line saying &quot;Sending event StateDidChange&quot; which I log inside sendEvent.\nBut &quot;Received event!!&quot; is not being printed at all. The events don't reach their destination.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645466347,"post_id":71210877,"comment_id":125873914,"body_markdown":"Welcome to Stack Overflow.  Where do you declare `j`; where do you increment `j`?  Please copy/paste the actual code, don&#39;t retype it into the question.\nThis site is not a discussion forum or programming tutorial site.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.","body":"Welcome to Stack Overflow.  Where do you declare <code>j</code>; where do you increment <code>j</code>?  Please copy/paste the actual code, don&#39;t retype it into the question. This site is not a discussion forum or programming tutorial site. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1645466582,"post_id":71210877,"comment_id":125873987,"body_markdown":"I&#39;m assuming 0 is in your source array.  if so, it&#39;s because 0 divided by 2 is 0, hence the modulo is 0 and even.","body":"I&#39;m assuming 0 is in your source array.  if so, it&#39;s because 0 divided by 2 is 0, hence the modulo is 0 and even."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1645469535,"post_id":71210877,"comment_id":125875004,"body_markdown":"What do you expect the output to look like?  {2,4,6,8} and {1,3,5,7,9}?","body":"What do you expect the output to look like?  {2,4,6,8} and {1,3,5,7,9}?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645471336,"creation_date":1645466543,"answer_id":71210996,"question_id":71210877,"body_markdown":"It is not putting zeros into the array. The array was filled with zeros and both array indexes are being incremented. So, the values are being put into every other index location. To fix, track the indexes of even and odd arrays separately:\r\n```\r\nint oddPtr = 0;\r\nint evenPtr = 0;\r\nfor(int i = 0; i &lt; size; i++) {\r\n    if ((arr[i] % 2) == 0) {\r\n        evenA[evenPtr++] = arr[i];\r\n    }\r\n    else {\r\n        oddA[oddPtr++] = arr[i];\r\n    }\r\n}\r\n```\r\n\r\nLastly, the size of both even and odd arrays should be approximately half of the original array.\r\n\r\n**UPDATE**:\r\n\r\nI can&#39;t believe some of the comments below the OP&#39;s question. So I am explaining more details about the zeros in the arrays.  The line:\r\n```\r\nint[] evenA = new int[evens];\r\n```\r\ncreates an array of length `evens` (lets assume 4), where every element in the array is initialized with the default value of `int` data type; which is zero. Therefore, `evenA` looked like:\r\n```\r\nevenA =&gt; {0,0,0,0};\r\n```\r\nBecause the index counter (pointer) was incremented every iteration AND it was shared between the two arrays, the insertion of odd and even values was interlaced with respect to each other:\r\n\r\n```\r\n{0,2,0,4,0}\r\n{1,0,3,0,5}\r\n```\r\nSo, every odd index location contained even numbers and even index locations contained odd numbers as illustrated above. That is why the solution I provided contains two index pointers so that each is used and incremented only when the conditions for determining odd or even is matched.","title":"Why is the for loop assigning 0 in the array?","body":"<p>It is not putting zeros into the array. The array was filled with zeros and both array indexes are being incremented. So, the values are being put into every other index location. To fix, track the indexes of even and odd arrays separately:</p>\n<pre><code>int oddPtr = 0;\nint evenPtr = 0;\nfor(int i = 0; i &lt; size; i++) {\n    if ((arr[i] % 2) == 0) {\n        evenA[evenPtr++] = arr[i];\n    }\n    else {\n        oddA[oddPtr++] = arr[i];\n    }\n}\n</code></pre>\n<p>Lastly, the size of both even and odd arrays should be approximately half of the original array.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>I can't believe some of the comments below the OP's question. So I am explaining more details about the zeros in the arrays.  The line:</p>\n<pre><code>int[] evenA = new int[evens];\n</code></pre>\n<p>creates an array of length <code>evens</code> (lets assume 4), where every element in the array is initialized with the default value of <code>int</code> data type; which is zero. Therefore, <code>evenA</code> looked like:</p>\n<pre><code>evenA =&gt; {0,0,0,0};\n</code></pre>\n<p>Because the index counter (pointer) was incremented every iteration AND it was shared between the two arrays, the insertion of odd and even values was interlaced with respect to each other:</p>\n<pre><code>{0,2,0,4,0}\n{1,0,3,0,5}\n</code></pre>\n<p>So, every odd index location contained even numbers and even index locations contained odd numbers as illustrated above. That is why the solution I provided contains two index pointers so that each is used and incremented only when the conditions for determining odd or even is matched.</p>\n"},{"tags":[],"owner":{"account_id":24167131,"reputation":13,"user_id":18129774,"display_name":"peace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645473670,"creation_date":1645468658,"answer_id":71211413,"question_id":71210877,"body_markdown":"As you are using the same counter for both arrays your array are getting filled inconsistently. You are using the same j variable for both array assignment. For example, if u have the following array\r\n\r\n    int[] arr = {1, 2, 3, 4};\r\n\r\n And j = 0; intially. Your loop would look something like this:\r\n\r\nFirst iteration:\r\n  \r\n  oddA = {0, 0}; evenA = {0, 0};\r\n\r\n  j = 0; i = 0;\r\n\r\n  As the first element in the array is  odd:\r\n  j = 1; oddA = {1, 0}; evenA = {0, 0};\r\n\r\nThe next iteration:\r\n\r\n  oddA = {1, 0}; evenA = {0, 0};\r\n\r\n  j = 1; i = 1;\r\n\r\n  As the second element in the array is  even:\r\n\r\n  j = 1; oddA = {1, 0};\r\n\r\n evenA[j] = 2 =&gt; evenA = {0, 2};\r\n\r\nInstead you should use two different counters for your evenA and oddA arrays.\r\n\r\n    int[] arr = {1, 2, 3, 4};\r\n        int evens = 0, odds = 0;\r\n        for (int num : arr) {\r\n            if (num % 2 == 0) evens++;\r\n            else odds++;\r\n        }\r\n\r\n        int[] evenA = new int[evens];\r\n        int[] oddA = new int[odds];\r\n\r\n        // Creating separate array counters\r\n        int evenArrayCounter = 0;\r\n        int oddArrayCounter = 0;\r\n\r\n        for (int num : arr) {\r\n            if (num % 2 == 0) evenA[evenArrayCounter++] = num;\r\n            else oddA[oddArrayCounter++] = num;\r\n        }","title":"Why is the for loop assigning 0 in the array?","body":"<p>As you are using the same counter for both arrays your array are getting filled inconsistently. You are using the same j variable for both array assignment. For example, if u have the following array</p>\n<pre><code>int[] arr = {1, 2, 3, 4};\n</code></pre>\n<p>And j = 0; intially. Your loop would look something like this:</p>\n<p>First iteration:</p>\n<p>oddA = {0, 0}; evenA = {0, 0};</p>\n<p>j = 0; i = 0;</p>\n<p>As the first element in the array is  odd:\nj = 1; oddA = {1, 0}; evenA = {0, 0};</p>\n<p>The next iteration:</p>\n<p>oddA = {1, 0}; evenA = {0, 0};</p>\n<p>j = 1; i = 1;</p>\n<p>As the second element in the array is  even:</p>\n<p>j = 1; oddA = {1, 0};</p>\n<p>evenA[j] = 2 =&gt; evenA = {0, 2};</p>\n<p>Instead you should use two different counters for your evenA and oddA arrays.</p>\n<pre><code>int[] arr = {1, 2, 3, 4};\n    int evens = 0, odds = 0;\n    for (int num : arr) {\n        if (num % 2 == 0) evens++;\n        else odds++;\n    }\n\n    int[] evenA = new int[evens];\n    int[] oddA = new int[odds];\n\n    // Creating separate array counters\n    int evenArrayCounter = 0;\n    int oddArrayCounter = 0;\n\n    for (int num : arr) {\n        if (num % 2 == 0) evenA[evenArrayCounter++] = num;\n        else oddA[oddArrayCounter++] = num;\n    }\n</code></pre>\n"}],"owner":{"account_id":24332281,"reputation":47,"user_id":18270948,"display_name":"OMeihls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71210996,"answer_count":2,"score":-1,"last_activity_date":1645473670,"creation_date":1645466017,"question_id":71210877,"body_markdown":"Need to separate odds and evens from an array and put them into their own array. The for loops keep adding a 0 to the evenA and oddA arrays if the spot is not filled in. Cannot figure this one out.\r\n\r\n        //Figure out length of odd and even array\r\n\r\n\t\tfor(int i = 0; i &lt; size; i++) {\r\n\t\t\tif ((arr[i] % 2) == 0) {\r\n\t\t\t\tevens += 1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\todds += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Create new arrays for both even and odds\r\n\r\n\t\tint[] evenA = new int[evens];\r\n\t\tint[] oddA = new int[odds];\r\n\t\t\r\n\t\t//Add the even numbers and odd numbers to the arrays.\r\n\r\n\t\tfor(int i = 0; i &lt; size; i++) {\r\n\t\t\tif ((arr[i] % 2) == 0) {\r\n\t\t\t\tevenA[j] = arr[i];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\toddA[j] = arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\nExample Output: \r\n\r\n        Array[] = {1, 2, 3, 4, 5, 6, 7, 8, 9}\r\n        \r\n        evenA[] = {0, 2, 0, 4}\r\n        oddA[] = {1, 0, 3, 0, 5}\r\n   \r\nThen, it stops running. I need to get rid of the zeroes.","title":"Why is the for loop assigning 0 in the array?","body":"<p>Need to separate odds and evens from an array and put them into their own array. The for loops keep adding a 0 to the evenA and oddA arrays if the spot is not filled in. Cannot figure this one out.</p>\n<pre><code>    //Figure out length of odd and even array\n\n    for(int i = 0; i &lt; size; i++) {\n        if ((arr[i] % 2) == 0) {\n            evens += 1;\n        }\n        else {\n            odds += 1;\n        }\n    }\n\n    //Create new arrays for both even and odds\n\n    int[] evenA = new int[evens];\n    int[] oddA = new int[odds];\n    \n    //Add the even numbers and odd numbers to the arrays.\n\n    for(int i = 0; i &lt; size; i++) {\n        if ((arr[i] % 2) == 0) {\n            evenA[j] = arr[i];\n        }\n        else {\n                oddA[j] = arr[i];\n        }\n    }\n</code></pre>\n<p>Example Output:</p>\n<pre><code>    Array[] = {1, 2, 3, 4, 5, 6, 7, 8, 9}\n    \n    evenA[] = {0, 2, 0, 4}\n    oddA[] = {1, 0, 3, 0, 5}\n</code></pre>\n<p>Then, it stops running. I need to get rid of the zeroes.</p>\n"},{"tags":["java","spring","spring-boot","websocket","activemq"],"comments":[{"owner":{"account_id":4812389,"reputation":1100,"user_id":3885491,"accept_rate":76,"display_name":"Falco Winkler"},"score":0,"creation_date":1674489898,"post_id":71212347,"comment_id":132719744,"body_markdown":"that&#39;s exactly my issue, have you solved it?","body":"that&#39;s exactly my issue, have you solved it?"}],"owner":{"account_id":9148223,"reputation":41,"user_id":6803614,"display_name":"Usama Abdul Aziz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645473623,"creation_date":1645473623,"question_id":71212347,"body_markdown":"I have a java application with Spring messaging. \r\nI use relay stomp (ActiveMQ) and also have set user registry broadcast and user destination topic as well. \r\nIt works as intended when I use on a single server. When I install the application on multiple servers and put behind a load balancer, issue starts to occur. \r\nUpon digging deeper, I found out that user sessions are broadcasted fine every milliseconds across the servers but when an xhr_send (not using ws protocol but xhr-streaming) is received at a server, it does not check from the sessions that the server received from activemq, but only checks in local sessions. Since the session was created on another server it fails. \r\nHas anyone faced this issue?","title":"Multiserver Spring Websockets Application Issue With Sessions","body":"<p>I have a java application with Spring messaging.\nI use relay stomp (ActiveMQ) and also have set user registry broadcast and user destination topic as well.\nIt works as intended when I use on a single server. When I install the application on multiple servers and put behind a load balancer, issue starts to occur.\nUpon digging deeper, I found out that user sessions are broadcasted fine every milliseconds across the servers but when an xhr_send (not using ws protocol but xhr-streaming) is received at a server, it does not check from the sessions that the server received from activemq, but only checks in local sessions. Since the session was created on another server it fails.\nHas anyone faced this issue?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":2527035,"reputation":645,"user_id":2196870,"accept_rate":73,"display_name":"m33ts4k0z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645473276,"creation_date":1461707045,"question_id":36876323,"body_markdown":"I have a developed a little up to let me know if my computer is online over the Internet and it works fine. The thing is, I noticed that my preferences input boxes dont have the keyboard suggestions enabled. Suggestions do work on the emulator but not on my galaxy s7 edge.\r\n\r\nhere is the XML code for the preferences activity:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;PreferenceScreen\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;PreferenceCategory\r\n            android:title=&quot;@string/settingsHeader&quot;&gt;\r\n            &lt;EditTextPreference\r\n                android:key=&quot;ip&quot;\r\n                android:title=&quot;@string/ip&quot;\r\n                android:summary=&quot;@string/ipsummary&quot;\r\n                android:defaultValue=&quot;192.168.1.1&quot;\r\n                android:id=&quot;@+id/ip&quot;/&gt;\r\n            &lt;EditTextPreference\r\n                android:key=&quot;port&quot;\r\n                android:title=&quot;@string/port&quot;\r\n                android:summary=&quot;@string/portsummary&quot;\r\n                android:defaultValue=&quot;23&quot;\r\n                android:id=&quot;@+id/port&quot;/&gt;\r\n        &lt;/PreferenceCategory&gt;\r\n    &lt;/PreferenceScreen&gt;\r\n\r\nand here is the java file of the activity:\r\n```\r\npublic class MyPreferenceActivity extends PreferenceActivity {\r\n\r\n    private final static String TAG = &quot;SettingsAcitivity&quot;;\r\n    private EditText ip;\r\n    private EditText port;\r\n    public static Context context;\r\n\r\n    public MyPreferenceActivity() {\r\n\r\n        context = this;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getFragmentManager().beginTransaction().replace(android.R.id.content, new MyPreferenceFragment()).commit();\r\n\r\n       ip = (EditText) findViewById(R.id.ip);\r\n       port = (EditText) findViewById(R.id.port);\r\n     //  ip.setInputType(InputType.TYPE_CLASS_TEXT);\r\n       //port.setInputType(InputType.TYPE_CLASS_TEXT);\r\n    }\r\n\r\n    public static class MyPreferenceFragment extends PreferenceFragment {\r\n\r\n\r\n        private final static String TAG = &quot;MyPreferenceFragment&quot;;\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            addPreferencesFromResource(R.xml.fragment_preference);\r\n\r\n            findPreference(&quot;ip&quot;).setOnPreferenceChangeListener(\r\n                    new Preference.OnPreferenceChangeListener() {\r\n                        @Override\r\n                        public boolean onPreferenceChange(Preference preference, Object newValue) {\r\n                            Toast.makeText(context,toastMessage(context.getResources().getString(R.string.ipUpdated), newValue),Toast.LENGTH_LONG).show();\r\n                            return true;\r\n                        }\r\n                    });\r\n            findPreference(&quot;port&quot;).setOnPreferenceChangeListener(\r\n                    new Preference.OnPreferenceChangeListener() {\r\n                        @Override\r\n                        public boolean onPreferenceChange(Preference preference, Object newValue) {\r\n                            Toast.makeText(context,toastMessage(context.getResources().getString(R.string.portUpdated), newValue),Toast.LENGTH_LONG).show();\r\n                            return true;\r\n                        }\r\n                    });\r\n        }\r\n\r\n    }\r\n\r\n    public static String toastMessage(String updated, Object newValue){\r\n        return updated + &quot; &quot; + newValue.toString();\r\n    }\r\n}\r\n```\r\nI have many apps where the preferences do have keyboard suggestions so I suppose its doable somehow.","title":"Trying to set up an Autocomplete Preference field","body":"<p>I have a developed a little up to let me know if my computer is online over the Internet and it works fine. The thing is, I noticed that my preferences input boxes dont have the keyboard suggestions enabled. Suggestions do work on the emulator but not on my galaxy s7 edge.</p>\n<p>here is the XML code for the preferences activity:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;PreferenceScreen\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;PreferenceCategory\n        android:title=&quot;@string/settingsHeader&quot;&gt;\n        &lt;EditTextPreference\n            android:key=&quot;ip&quot;\n            android:title=&quot;@string/ip&quot;\n            android:summary=&quot;@string/ipsummary&quot;\n            android:defaultValue=&quot;192.168.1.1&quot;\n            android:id=&quot;@+id/ip&quot;/&gt;\n        &lt;EditTextPreference\n            android:key=&quot;port&quot;\n            android:title=&quot;@string/port&quot;\n            android:summary=&quot;@string/portsummary&quot;\n            android:defaultValue=&quot;23&quot;\n            android:id=&quot;@+id/port&quot;/&gt;\n    &lt;/PreferenceCategory&gt;\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p>and here is the java file of the activity:</p>\n<pre><code>public class MyPreferenceActivity extends PreferenceActivity {\n\n    private final static String TAG = &quot;SettingsAcitivity&quot;;\n    private EditText ip;\n    private EditText port;\n    public static Context context;\n\n    public MyPreferenceActivity() {\n\n        context = this;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getFragmentManager().beginTransaction().replace(android.R.id.content, new MyPreferenceFragment()).commit();\n\n       ip = (EditText) findViewById(R.id.ip);\n       port = (EditText) findViewById(R.id.port);\n     //  ip.setInputType(InputType.TYPE_CLASS_TEXT);\n       //port.setInputType(InputType.TYPE_CLASS_TEXT);\n    }\n\n    public static class MyPreferenceFragment extends PreferenceFragment {\n\n\n        private final static String TAG = &quot;MyPreferenceFragment&quot;;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            addPreferencesFromResource(R.xml.fragment_preference);\n\n            findPreference(&quot;ip&quot;).setOnPreferenceChangeListener(\n                    new Preference.OnPreferenceChangeListener() {\n                        @Override\n                        public boolean onPreferenceChange(Preference preference, Object newValue) {\n                            Toast.makeText(context,toastMessage(context.getResources().getString(R.string.ipUpdated), newValue),Toast.LENGTH_LONG).show();\n                            return true;\n                        }\n                    });\n            findPreference(&quot;port&quot;).setOnPreferenceChangeListener(\n                    new Preference.OnPreferenceChangeListener() {\n                        @Override\n                        public boolean onPreferenceChange(Preference preference, Object newValue) {\n                            Toast.makeText(context,toastMessage(context.getResources().getString(R.string.portUpdated), newValue),Toast.LENGTH_LONG).show();\n                            return true;\n                        }\n                    });\n        }\n\n    }\n\n    public static String toastMessage(String updated, Object newValue){\n        return updated + &quot; &quot; + newValue.toString();\n    }\n}\n</code></pre>\n<p>I have many apps where the preferences do have keyboard suggestions so I suppose its doable somehow.</p>\n"},{"tags":["java","json","gson","date-formatting"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1602362750,"post_id":64266994,"comment_id":113698380,"body_markdown":"Did you try with `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS`?","body":"Did you try with <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602215855,"creation_date":1602215855,"answer_id":64273735,"question_id":64266994,"body_markdown":"1) [Unix time](https://en.wikipedia.org/wiki/Unix_time) is point in time and it doesn&#39;t contain timezone but the date format you are using has a timezone.\r\n2) Do not use `java.util.Date`. Check [this](https://programminghints.com/2017/05/still-using-java-util-date-dont/) to know why.","title":"Gson Date Formatting | Convert 1589784547000 to Java Date and reconvert it into formatted date (2020.05.07 10:57:16&#39;","body":"<ol>\n<li><a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">Unix time</a> is point in time and it doesn't contain timezone but the date format you are using has a timezone.</li>\n<li>Do not use <code>java.util.Date</code>. Check <a href=\"https://programminghints.com/2017/05/still-using-java-util-date-dont/\" rel=\"nofollow noreferrer\">this</a> to know why.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23151433,"reputation":3,"user_id":17253375,"display_name":"Lu&#237;s Ambrozin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645472754,"creation_date":1645472754,"answer_id":71212186,"question_id":64266994,"body_markdown":"I&#39;m not pretty sure about it, but it&#39;s worthy to try\r\n\r\nInstead of using `Gson gson1 = new Gson();` try `Gson gson1 = new GsonBuilder().setDateFormat(&quot;dd-MM-yyyy&quot;).create();`","title":"Gson Date Formatting | Convert 1589784547000 to Java Date and reconvert it into formatted date (2020.05.07 10:57:16&#39;","body":"<p>I'm not pretty sure about it, but it's worthy to try</p>\n<p>Instead of using <code>Gson gson1 = new Gson();</code> try <code>Gson gson1 = new GsonBuilder().setDateFormat(&quot;dd-MM-yyyy&quot;).create();</code></p>\n"}],"owner":{"account_id":10874467,"reputation":186,"user_id":7995251,"display_name":"Harpreet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645472754,"creation_date":1602175254,"question_id":64266994,"body_markdown":"API is returning date in following format and need to convert back into date format:\r\n\r\n`&quot;lastUpdatedDate&quot;:1589784547000`\r\n```\r\n[\r\n  {\r\n    &quot;code&quot;: &quot;-1&quot;,\r\n    &quot;name&quot;: &quot;No Key Customer&quot;,\r\n    &quot;parentCode&quot;: null,\r\n    &quot;oaeCode&quot;: &quot;O10712&quot;,\r\n    &quot;oaeName&quot;: &quot;ZCT Countries&quot;,\r\n    &quot;creationDate&quot;: 1589446815000,\r\n    &quot;lastUpdatedDate&quot;: 1589447438000,\r\n    &quot;countryCode&quot;: null,\r\n    &quot;lastModifiedDate&quot;: 1602280800000,\r\n    &quot;deletedInTerp&quot;: 0,\r\n    &quot;hlevel&quot;: &quot;L1&quot;\r\n  },\r\n  {\r\n    &quot;code&quot;: &quot;-2&quot;,\r\n    &quot;name&quot;: &quot;Not Mapped Key Customer&quot;,\r\n    &quot;parentCode&quot;: null,\r\n    &quot;oaeCode&quot;: &quot;O10712&quot;,\r\n    &quot;oaeName&quot;: &quot;ZCT Countries&quot;,\r\n    &quot;creationDate&quot;: 1589784547000,\r\n    &quot;lastUpdatedDate&quot;: 1589784547000,\r\n    &quot;countryCode&quot;: null,\r\n    &quot;lastModifiedDate&quot;: 1602280800000,\r\n    &quot;deletedInTerp&quot;: 0,\r\n    &quot;hlevel&quot;: &quot;L1&quot;\r\n  }\r\n]\r\n``` \r\n\r\nFollowing are entities:\r\n\r\n    Child Entity:\r\n    @SerializedName(value = &quot;CODE&quot;, alternate = &quot;code&quot;)\r\n\t@Expose\r\n\tprivate String CODE;\r\n\t\r\n\t@SerializedName(value = &quot;HLEVEL&quot;, alternate = &quot;hlevel&quot;)\r\n\t@Expose\r\n\tprivate String HLEVEL;\r\n\t\r\n\t@SerializedName(value = &quot;NAME&quot;, alternate = &quot;name&quot;)\r\n\t@Expose\r\n\tprivate String NAME;\r\n\t\r\n\t@SerializedName(value = &quot;PARENT_CODE&quot;, alternate = &quot;parentCode&quot;)\r\n\t@Expose\r\n\tprivate String PARENT_CODE;\r\n\t\r\n\t@SerializedName(value = &quot;DELETED&quot;, alternate = &quot;deletedInTerp&quot;)\r\n\t@Expose\r\n\tprivate Integer DELETED;\r\n\r\n\t@SerializedName(value = &quot;LAST_UPDATE_DATE&quot;, alternate = &quot;lastUpdatedDate&quot;)\r\n\t@Expose\r\n\tprivate Date LAST_UPDATE_DATE;\r\n\t\r\n\t@SerializedName(value = &quot;COUNTRY_CODE&quot;, alternate = &quot;countryCode&quot;)\r\n\t@Expose\r\n\tprivate Integer COUNTRY_CODE;\r\n\r\n\r\n    Parent Entity has only following\r\n    \r\n\t@Expose\r\n\tList&lt;KeyHierarchy&gt; account = new ArrayList&lt;KeyHierarchy&gt;();\r\n\r\nCode used by me for transformation:\r\n\r\n\tpublic String transformToDDMRequest(String dataFromIngester) {\r\n\t\tGson gson1 = new Gson();\r\n\t\tType listOfMyClassObject = new TypeToken&lt;ArrayList&lt;KeyHierarchy&gt;&gt;() {}.getType();\r\n        List&lt;KeyHierarchies&gt; ca = gson1.fromJson(dataFromIngester,listOfMyClassObject);\r\n\t\tGson gson2 = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;).create();\r\n\t\treturn gson2.toJson(ca);\r\n    }\r\n\r\nRequired following output:\r\n\r\n    { \r\n    \r\n            &#39;HLEVEL&#39;:&#39;L1&#39;, \r\n    \r\n            &#39;CODE&#39;:&#39;C00ZCI&#39;, \r\n    \r\n            &#39;NAME&#39;:&#39;ZCI Other Countries&#39;, \r\n    \r\n            &#39;PARENT_CODE&#39;:null, \r\n    \r\n            &#39;COUNTRY_CODE&#39;:&#39;&#39;, \r\n    \r\n            &#39;LAST_UPDATE_DATE&#39;:&#39;2020.05.07 10:57:16&#39;, \r\n    \r\n            &#39;DELETED&#39;: &#39;0&#39; \r\n    \r\n        }, \r\n\r\nCould you please elaborate on how to fix this issue of formatting as i am getting following:\r\n```\r\nException in thread &quot;main&quot; com.google.gson.JsonSyntaxException: 1589447438000\r\n\tat com.google.gson.internal.bind.DateTypeAdapter.deserializeToDate(DateTypeAdapter.java:87)\r\n\tat com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:75)\r\n\tat com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:46)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:131)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:222)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:41)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:82)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:927)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:892)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:841)\r\n\tat com.evry.integrator.tedbroker.utils.RestTest.transformToCRMRequest(RestTest.java:70)\r\n\tat com.evry.integrator.tedbroker.utils.RestTest.main(RestTest.java:82)\r\nCaused by: java.text.ParseException: Failed to parse date [&quot;1589447438000&quot;]: Invalid time zone indicator &#39;3&#39;\r\n```","title":"Gson Date Formatting | Convert 1589784547000 to Java Date and reconvert it into formatted date (2020.05.07 10:57:16&#39;","body":"<p>API is returning date in following format and need to convert back into date format:</p>\n<p><code>&quot;lastUpdatedDate&quot;:1589784547000</code></p>\n<pre><code>[\n  {\n    &quot;code&quot;: &quot;-1&quot;,\n    &quot;name&quot;: &quot;No Key Customer&quot;,\n    &quot;parentCode&quot;: null,\n    &quot;oaeCode&quot;: &quot;O10712&quot;,\n    &quot;oaeName&quot;: &quot;ZCT Countries&quot;,\n    &quot;creationDate&quot;: 1589446815000,\n    &quot;lastUpdatedDate&quot;: 1589447438000,\n    &quot;countryCode&quot;: null,\n    &quot;lastModifiedDate&quot;: 1602280800000,\n    &quot;deletedInTerp&quot;: 0,\n    &quot;hlevel&quot;: &quot;L1&quot;\n  },\n  {\n    &quot;code&quot;: &quot;-2&quot;,\n    &quot;name&quot;: &quot;Not Mapped Key Customer&quot;,\n    &quot;parentCode&quot;: null,\n    &quot;oaeCode&quot;: &quot;O10712&quot;,\n    &quot;oaeName&quot;: &quot;ZCT Countries&quot;,\n    &quot;creationDate&quot;: 1589784547000,\n    &quot;lastUpdatedDate&quot;: 1589784547000,\n    &quot;countryCode&quot;: null,\n    &quot;lastModifiedDate&quot;: 1602280800000,\n    &quot;deletedInTerp&quot;: 0,\n    &quot;hlevel&quot;: &quot;L1&quot;\n  }\n]\n</code></pre>\n<p>Following are entities:</p>\n<pre><code>Child Entity:\n@SerializedName(value = &quot;CODE&quot;, alternate = &quot;code&quot;)\n@Expose\nprivate String CODE;\n\n@SerializedName(value = &quot;HLEVEL&quot;, alternate = &quot;hlevel&quot;)\n@Expose\nprivate String HLEVEL;\n\n@SerializedName(value = &quot;NAME&quot;, alternate = &quot;name&quot;)\n@Expose\nprivate String NAME;\n\n@SerializedName(value = &quot;PARENT_CODE&quot;, alternate = &quot;parentCode&quot;)\n@Expose\nprivate String PARENT_CODE;\n\n@SerializedName(value = &quot;DELETED&quot;, alternate = &quot;deletedInTerp&quot;)\n@Expose\nprivate Integer DELETED;\n\n@SerializedName(value = &quot;LAST_UPDATE_DATE&quot;, alternate = &quot;lastUpdatedDate&quot;)\n@Expose\nprivate Date LAST_UPDATE_DATE;\n\n@SerializedName(value = &quot;COUNTRY_CODE&quot;, alternate = &quot;countryCode&quot;)\n@Expose\nprivate Integer COUNTRY_CODE;\n\n\nParent Entity has only following\n\n@Expose\nList&lt;KeyHierarchy&gt; account = new ArrayList&lt;KeyHierarchy&gt;();\n</code></pre>\n<p>Code used by me for transformation:</p>\n<pre><code>public String transformToDDMRequest(String dataFromIngester) {\n    Gson gson1 = new Gson();\n    Type listOfMyClassObject = new TypeToken&lt;ArrayList&lt;KeyHierarchy&gt;&gt;() {}.getType();\n    List&lt;KeyHierarchies&gt; ca = gson1.fromJson(dataFromIngester,listOfMyClassObject);\n    Gson gson2 = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;).create();\n    return gson2.toJson(ca);\n}\n</code></pre>\n<p>Required following output:</p>\n<pre><code>{ \n\n        'HLEVEL':'L1', \n\n        'CODE':'C00ZCI', \n\n        'NAME':'ZCI Other Countries', \n\n        'PARENT_CODE':null, \n\n        'COUNTRY_CODE':'', \n\n        'LAST_UPDATE_DATE':'2020.05.07 10:57:16', \n\n        'DELETED': '0' \n\n    }, \n</code></pre>\n<p>Could you please elaborate on how to fix this issue of formatting as i am getting following:</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: 1589447438000\n    at com.google.gson.internal.bind.DateTypeAdapter.deserializeToDate(DateTypeAdapter.java:87)\n    at com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:75)\n    at com.google.gson.internal.bind.DateTypeAdapter.read(DateTypeAdapter.java:46)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:131)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:222)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:41)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:82)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\n    at com.google.gson.Gson.fromJson(Gson.java:927)\n    at com.google.gson.Gson.fromJson(Gson.java:892)\n    at com.google.gson.Gson.fromJson(Gson.java:841)\n    at com.evry.integrator.tedbroker.utils.RestTest.transformToCRMRequest(RestTest.java:70)\n    at com.evry.integrator.tedbroker.utils.RestTest.main(RestTest.java:82)\nCaused by: java.text.ParseException: Failed to parse date [&quot;1589447438000&quot;]: Invalid time zone indicator '3'\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645281414,"creation_date":1645281414,"answer_id":71185962,"question_id":71181618,"body_markdown":"You&#39;ll need to use an AdminClient instance to modify existing topic configurations ","title":"How do you configure Spring Cloud Sleuth kafka zipkin sender to reduce the retention period?","body":"<p>You'll need to use an AdminClient instance to modify existing topic configurations</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645472702,"creation_date":1645472702,"answer_id":71212174,"question_id":71181618,"body_markdown":"Spring-Kafka does not provide an `AdminClient` in the application context so it needs to be built rather than having it autowirable for you.  The following code shows how to do it by creating the `AdminClient` using the bootstrap servers provided in the environment and setting multiple properties.\r\n\r\n```\r\n    /**\r\n     * Retention time for zipkin messages.  Defaults to 2 minutes.\r\n     */\r\n    @Value(&quot;${zipkin.retention.ms:120000}&quot;)\r\n    private long zipkinRetentionMs;\r\n\r\n    /**\r\n     * Segment bytes size for zipkin.  Defaults to 10MB.\r\n     */\r\n    @Value(&quot;${zipkin.segment.bytes:10485760}&quot;)\r\n    private long zipkinSegmentBytes;\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    @PostConstruct\r\n    public void fixZipkin() {\r\n\r\n        try (final var adminClient = AdminClient.create(Map.of(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers))) {\r\n            adminClient.incrementalAlterConfigs(\r\n                Map.of(\r\n                    new ConfigResource(ConfigResource.Type.TOPIC, &quot;zipkin&quot;),\r\n                    List.of(\r\n                        new AlterConfigOp(\r\n                            new ConfigEntry(TopicConfig.RETENTION_MS_CONFIG, String.valueOf(zipkinRetentionMs)),\r\n                            AlterConfigOp.OpType.SET\r\n                        ),\r\n                        new AlterConfigOp(\r\n                            new ConfigEntry(TopicConfig.SEGMENT_BYTES_CONFIG, String.valueOf(zipkinSegmentBytes)),\r\n                            AlterConfigOp.OpType.SET\r\n                        )\r\n                    )));\r\n        } finally {\r\n\r\n        }\r\n\r\n    }\r\n```","title":"How do you configure Spring Cloud Sleuth kafka zipkin sender to reduce the retention period?","body":"<p>Spring-Kafka does not provide an <code>AdminClient</code> in the application context so it needs to be built rather than having it autowirable for you.  The following code shows how to do it by creating the <code>AdminClient</code> using the bootstrap servers provided in the environment and setting multiple properties.</p>\n<pre><code>    /**\n     * Retention time for zipkin messages.  Defaults to 2 minutes.\n     */\n    @Value(&quot;${zipkin.retention.ms:120000}&quot;)\n    private long zipkinRetentionMs;\n\n    /**\n     * Segment bytes size for zipkin.  Defaults to 10MB.\n     */\n    @Value(&quot;${zipkin.segment.bytes:10485760}&quot;)\n    private long zipkinSegmentBytes;\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    @PostConstruct\n    public void fixZipkin() {\n\n        try (final var adminClient = AdminClient.create(Map.of(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers))) {\n            adminClient.incrementalAlterConfigs(\n                Map.of(\n                    new ConfigResource(ConfigResource.Type.TOPIC, &quot;zipkin&quot;),\n                    List.of(\n                        new AlterConfigOp(\n                            new ConfigEntry(TopicConfig.RETENTION_MS_CONFIG, String.valueOf(zipkinRetentionMs)),\n                            AlterConfigOp.OpType.SET\n                        ),\n                        new AlterConfigOp(\n                            new ConfigEntry(TopicConfig.SEGMENT_BYTES_CONFIG, String.valueOf(zipkinSegmentBytes)),\n                            AlterConfigOp.OpType.SET\n                        )\n                    )));\n        } finally {\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71212174,"answer_count":2,"score":0,"last_activity_date":1645472702,"creation_date":1645234176,"question_id":71181618,"body_markdown":"I&#39;m trying to set up so that when I deploy a new environment the `zipkin` Kafka topic used by  spring cloud sleuth zipkin sender would have a low retention period since it will get processed by something else or it will be ignored (on the developer machine).\r\n\r\nI tried to add this\r\n\r\n```\r\n@Bean(&quot;zipkin&quot;)\r\npublic NewTopic zipkin() {\r\n\r\n  return TopicBuilder.name(&quot;zipkin&quot;)\r\n    .config(TopicConfig.RETENTION_MS_CONFIG, String.valueOf(Duration.ofMinutes(2).getSeconds() * 1000))\r\n    .compact()\r\n    .replicas(1)\r\n    .build();\r\n}\r\n```\r\n\r\nbut that didn&#39;t work because the topic is already created and the configured already.  I know I can do\r\n\r\n```\r\nkafka-configs --bootstrap-server $_KAFKA_BOOTSTRAP_SERVER --alter --topic zipkin --add-config retention.ms=2000\r\n```\r\n\r\nBut I&#39;d want it set up on the Spring application.","title":"How do you configure Spring Cloud Sleuth kafka zipkin sender to reduce the retention period?","body":"<p>I'm trying to set up so that when I deploy a new environment the <code>zipkin</code> Kafka topic used by  spring cloud sleuth zipkin sender would have a low retention period since it will get processed by something else or it will be ignored (on the developer machine).</p>\n<p>I tried to add this</p>\n<pre><code>@Bean(&quot;zipkin&quot;)\npublic NewTopic zipkin() {\n\n  return TopicBuilder.name(&quot;zipkin&quot;)\n    .config(TopicConfig.RETENTION_MS_CONFIG, String.valueOf(Duration.ofMinutes(2).getSeconds() * 1000))\n    .compact()\n    .replicas(1)\n    .build();\n}\n</code></pre>\n<p>but that didn't work because the topic is already created and the configured already.  I know I can do</p>\n<pre><code>kafka-configs --bootstrap-server $_KAFKA_BOOTSTRAP_SERVER --alter --topic zipkin --add-config retention.ms=2000\n</code></pre>\n<p>But I'd want it set up on the Spring application.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-query"],"owner":{"account_id":13063640,"reputation":19,"user_id":9439875,"display_name":"luismir15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645472381,"creation_date":1645472381,"question_id":71212111,"body_markdown":"I&#39;m trying to translate this Mongo query to Spring: \r\n\r\n```JSON\r\ndb.doc.aggregate([\r\n    {\r\n        $match:{\r\n            $and :[\r\n\r\n                {&quot;event_name&quot;:&quot;event&quot;},\r\n                {&quot;event_data.partnerName&quot;: { &quot;$nin&quot; : [&quot;something&quot;]}},\r\n                {&quot;event_time&quot;: {$gte : ISODate(&quot;2021-01-01T00:00:00Z&quot;)}},\r\n                {&quot;event_time&quot;: {$lte : ISODate(&quot;2021-12-31T24:00:00Z&quot;)}}\r\n            ]}\r\n    },\r\n    {\r\n        $project: {\r\n            partner: &quot;$eveny.name&quot;,\r\n            month: {\r\n                $substr: [&quot;$event_time&quot;, 0, 4]\r\n            }\r\n        }\r\n    },\r\n    {\r\n        $group: {\r\n            _id: {&quot;partner&quot;: &quot;$partner&quot;, &quot;month&quot;: &quot;$month&quot;},\r\n            &quot;Transactions&quot;: {$sum: 1}\r\n        }\r\n    },\r\n    {\r\n        $sort:{&quot;_id.month&quot;:1}\r\n    }\r\n]);\r\n```\r\nI have been using the Aggregation library with MatchOperations and etc. but I&#39;m still having a hard time translating $project and $group. ","title":"How to translate a mongodb aggregate query to Spring","body":"<p>I'm trying to translate this Mongo query to Spring:</p>\n<pre><code>db.doc.aggregate([\n    {\n        $match:{\n            $and :[\n\n                {&quot;event_name&quot;:&quot;event&quot;},\n                {&quot;event_data.partnerName&quot;: { &quot;$nin&quot; : [&quot;something&quot;]}},\n                {&quot;event_time&quot;: {$gte : ISODate(&quot;2021-01-01T00:00:00Z&quot;)}},\n                {&quot;event_time&quot;: {$lte : ISODate(&quot;2021-12-31T24:00:00Z&quot;)}}\n            ]}\n    },\n    {\n        $project: {\n            partner: &quot;$eveny.name&quot;,\n            month: {\n                $substr: [&quot;$event_time&quot;, 0, 4]\n            }\n        }\n    },\n    {\n        $group: {\n            _id: {&quot;partner&quot;: &quot;$partner&quot;, &quot;month&quot;: &quot;$month&quot;},\n            &quot;Transactions&quot;: {$sum: 1}\n        }\n    },\n    {\n        $sort:{&quot;_id.month&quot;:1}\n    }\n]);\n</code></pre>\n<p>I have been using the Aggregation library with MatchOperations and etc. but I'm still having a hard time translating $project and $group.</p>\n"},{"tags":["java","swing","jpanel","jscrollpane","border-layout"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645470044,"post_id":71210474,"comment_id":125875173,"body_markdown":"`this.setVisible(true);` should be the last thing you do when setting up your GUI. In other words it should come after `setUp();`","body":"<code>this.setVisible(true);</code> should be the last thing you do when setting up your GUI. In other words it should come after <code>setUp();</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645470083,"post_id":71210474,"comment_id":125875190,"body_markdown":"`jsp.setSize(new Dimension(w, h));` should be `jsp.setPreferredSize(new Dimension(w, h));`","body":"<code>jsp.setSize(new Dimension(w, h));</code> should be <code>jsp.setPreferredSize(new Dimension(w, h));</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645470232,"post_id":71210474,"comment_id":125875242,"body_markdown":"`Thread thread = new Thread(new Runnable() {` You are updating your GUI on a thread which is **not** the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) (EDT). Not recommended.","body":"<code>Thread thread = new Thread(new Runnable() {</code> You are updating your GUI on a thread which is <b>not</b> the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> (EDT). Not recommended."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645470513,"post_id":71210474,"comment_id":125875332,"body_markdown":"Each component in _Swing_ has a minimum size, a maximum size, a preferred size and a [size](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#getSize()). You need to learn how the different [layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) treat those sizes.","body":"Each component in <i>Swing</i> has a minimum size, a maximum size, a preferred size and a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#getSize()\" rel=\"nofollow noreferrer\">size</a>. You need to learn how the different <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout managers</a> treat those sizes."}],"answers":[{"tags":[],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645472379,"creation_date":1645472379,"answer_id":71212109,"question_id":71210474,"body_markdown":"The problems:\r\n\r\nThe panels aren&#39;t adhering to the Borderlayout. When I called method revalidate(), The setMinimumSize() is no longer respected.\r\n\r\nPanels with scrolls stretch outside of their border when components are added. I tried adding a maximum size / PreferredSize, but the scroll function stops working. I tried revalidating the JPanel and JScrollPane after every added component, but it had no effect.\r\n\r\nAnswers\r\n\r\nproblem n.01 was solved by understanding how different layout manager treat different sizes. BorderLayout requires setPreferredSize(new Dimension(width,height))\r\n\r\nThis problem was somewhat a follow-up/related problem. This fixed itself by revaldiate() the frame,in turn the JScrollPane, after every single component added. To further elaborate:\r\n\r\nThe JPanel with the components should not have a preferred size, only a minimum size. This allows components to infinitely be added without resizing components or cutting them off. The JScrollePane is the one that should have the attribute of preferredSize() [i added min size, max size and size all the same but I am not sure if they have an effect]. then you revalidate the JPanel, The JScrollPane and the frame (maybe an overkill, idk but this is my solution) after every single component added\r\n\r\nThanks adra :)","title":"Messenger Application GUI (BoarderLayout w/ multiple panels) (JScrollPane)","body":"<p>The problems:</p>\n<p>The panels aren't adhering to the Borderlayout. When I called method revalidate(), The setMinimumSize() is no longer respected.</p>\n<p>Panels with scrolls stretch outside of their border when components are added. I tried adding a maximum size / PreferredSize, but the scroll function stops working. I tried revalidating the JPanel and JScrollPane after every added component, but it had no effect.</p>\n<p>Answers</p>\n<p>problem n.01 was solved by understanding how different layout manager treat different sizes. BorderLayout requires setPreferredSize(new Dimension(width,height))</p>\n<p>This problem was somewhat a follow-up/related problem. This fixed itself by revaldiate() the frame,in turn the JScrollPane, after every single component added. To further elaborate:</p>\n<p>The JPanel with the components should not have a preferred size, only a minimum size. This allows components to infinitely be added without resizing components or cutting them off. The JScrollePane is the one that should have the attribute of preferredSize() [i added min size, max size and size all the same but I am not sure if they have an effect]. then you revalidate the JPanel, The JScrollPane and the frame (maybe an overkill, idk but this is my solution) after every single component added</p>\n<p>Thanks adra :)</p>\n"}],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645472379,"creation_date":1645464037,"question_id":71210474,"body_markdown":"**Question**\r\n\r\nI&#39;m creating a GUI for a message application. the frame&#39;s layout is BorderLayout: chat on the western border, list of users on the Eastern border, and user input on the southern border. \r\n\r\nThe problems:\r\n\r\n1. The panels aren&#39;t adhering to the Borderlayout. When I called method revalidate(), The setMinimumSize() is no longer respected.\r\n\r\n2. Panels with scrolls stretch outside of their border when components are added. I tried adding a maximum size / PreferredSize, but the scroll function stops working. I tried revalidating the JPanel and JScrollPane after every added component, but it had no effect.\r\n\r\n**Answers**\r\n\r\n1. problem n.01 was solved by understanding how different layout manager treat different sizes. BorderLayout requires `setPreferredSize(new Dimension(width,height))`\r\n\r\n2. This problem was somewhat a follow-up/related problem. This was fixed by `revaldiate()` the frame,in turn the JScrollPane, after every single component added.\r\n\r\nThanks adra :)\r\n\r\nI used all the size options I&#39;m aware of, but the JTextArea spill out of its frame.\r\n\r\n    this.setMinimumSize(new Dimension(width, height));\r\n    this.setMaximumSize(new Dimension(width, height));\r\n    this.setPreferredSize(new Dimension(width, height));\r\n    this.setSize(new Dimension(width, height));\r\n\r\n\r\n**Problem visualized**\r\n\r\n[When running the program without revalidate][1]\r\n\r\n\r\n[revalidating the frame][2]\r\n\r\n\r\n[problem n.02 after solving problem n.01][3]\r\n\r\n\r\n**GUI code**\r\n\r\n\r\n**Frame**\r\n\r\n    package View;\r\n    import Control.Controller;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import static java.awt.Color.*;\r\n    \r\n    public class ChatFrame extends JFrame {\r\n        private Controller controller;\r\n    \r\n        private ChatView wp;\r\n        private UserList ep;\r\n        private UserInput sp;\r\n    \r\n    \r\n        private int width = 1400;\r\n        private int height = 800;\r\n    \r\n    \r\n        public ChatFrame(){\r\n            super(&quot;El 3yal&quot;);\r\n            this.setSize(width, height);\r\n            this.setLocation(20,0);\r\n            this.getContentPane().setLayout(new BorderLayout(20,20));\r\n            this.setResizable(false);\r\n            this.setVisible(true);\r\n            this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setUp();\r\n        }\r\n    \r\n        public void setUp(){\r\n            wp = new ChatView(1000,600,controller,this);\r\n            addScroll(wp, BorderLayout.WEST, 1000, 600);\r\n            ep = new UserList(380, 600, controller, this);\r\n            addScroll(ep, BorderLayout.EAST, 380, 600);\r\n            sp = new UserInput(800, 200, controller, this);\r\n            this.add(sp, BorderLayout.SOUTH);\r\n            revalidate();\r\n    \r\n        }\r\n    \r\n        public void addScroll(JPanel pnl, String str, int w, int h){\r\n            JScrollPane jsp = new JScrollPane(pnl);\r\n            jsp.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n            jsp.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n            jsp.setSize(new Dimension(w, h));\r\n            jsp.getVerticalScrollBar().setUnitIncrement(16);\r\n            jsp.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.add(jsp, str);\r\n        }\r\n    \r\n        public Controller getController() {\r\n            return controller;\r\n        }\r\n        public ChatView getWp() {\r\n            return wp;\r\n        }\r\n        public UserList getEp() {\r\n            return ep;\r\n        }\r\n        public UserInput getsPnl() {\r\n            return sp;\r\n        }\r\n    \r\n    }\r\n    \r\n    class test{\r\n    \r\n        public static void main(String[] args){\r\n            ChatFrame frame = new ChatFrame();\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    frame.getWp().receive(&quot;hadsag&quot;, &quot;Hello i want to say hi&quot;, null);\r\n                    for(int i = 0; i &lt; 15; i++) {\r\n                        try {\r\n                            Thread.sleep(1000);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        frame.getWp().receive(&quot;Hadsag&quot;, &quot;Hello i want to say hi&quot;, new ImageIcon(&quot;files/icon.jpeg&quot;));\r\n                    }\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n\r\n**chat view panel**\r\n\r\n    package View;\r\n    \r\n    import Control.Controller;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.EmptyBorder;\r\n    import java.awt.*;\r\n    \r\n    public class ChatView extends JPanel {\r\n        private ChatFrame frame;\r\n        private Controller controller;\r\n    \r\n        private int width;\r\n        private int height;\r\n    \r\n    \r\n        public ChatView(int width, int height, Controller controller, ChatFrame frame) {\r\n            super();\r\n            this.frame = frame;\r\n            this.controller = controller;\r\n            this.width = width;\r\n            this.height = height;\r\n            setUp();\r\n        }\r\n    \r\n        public void setUp(){\r\n            this.setMinimumSize(new Dimension(width, height));\r\n            this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n            this.setBorder(BorderFactory.createLineBorder(Color.black));\r\n    \r\n        }\r\n    \r\n        public void receive(String name, String txt, ImageIcon pic){\r\n            Box box = Box.createHorizontalBox();\r\n            box.setMinimumSize(new Dimension(600, 170));\r\n            box.setSize(new Dimension(600, 170));\r\n    \r\n            TextArea lblText = new TextArea(&quot;&lt; &quot; + name + &quot; &gt; : &quot; + txt);\r\n            lblText.setEditable(false);\r\n            lblText.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 12));\r\n            lblText.setMinimumSize(new Dimension(400, 20));\r\n            lblText.setMaximumSize(new Dimension(600, 170));\r\n            box.add(lblText, LEFT_ALIGNMENT);\r\n    \r\n            JLabel lblPic = new JLabel();\r\n            lblPic.setMinimumSize(new Dimension(100, 150));\r\n            lblPic.setMaximumSize(new Dimension(100, 150));\r\n            if(pic != null) {\r\n                Image image = pic.getImage();\r\n                image = image.getScaledInstance(100, 150, java.awt.Image.SCALE_SMOOTH);\r\n                pic = new ImageIcon(image);\r\n                lblPic.setIcon(pic);\r\n            }\r\n            box.add(lblPic, RIGHT_ALIGNMENT);\r\n    \r\n            this.add(box);\r\n    /*\r\n            TextArea chatText = new TextArea();\r\n            chatText.setEditable(false);\r\n            chatText.append(&quot;&lt; &quot;+name+&quot; &gt; : &quot; + txt);\r\n            chatText.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 10));\r\n            chatText.setMinimumSize(new Dimension(600,20));\r\n            chatText.setMaximumSize(new Dimension(600,60));\r\n            this.add(chatText, LEFT_ALIGNMENT);\r\n    \r\n            this.add(Box.createRigidArea(new Dimension(0,5)));\r\n    \r\n            Image image = pic.getImage();\r\n            image = image.getScaledInstance(100, 150, java.awt.Image.SCALE_SMOOTH);\r\n            pic = new ImageIcon(image);\r\n            JLabel lblPic = new JLabel();\r\n            lblPic.setIcon(pic);\r\n            lblPic.setMinimumSize(new Dimension(600,150));\r\n            lblPic.setMaximumSize(new Dimension(600,250));\r\n            this.add(lblPic, LEFT_ALIGNMENT);\r\n    */\r\n            this.add(Box.createRigidArea(new Dimension(0,5)));\r\n    \r\n            this.revalidate();\r\n    \r\n        }\r\n    }\r\n\r\n**user List**\r\n\r\n \r\n\r\n  \r\n\r\n         package View;\r\n        \r\n        import Control.Controller;\r\n        \r\n        import javax.swing.*;\r\n        import java.awt.*;\r\n        \r\n        public class UserList extends JPanel {\r\n        private ChatFrame frame;\r\n        private Controller controller;\r\n    \r\n        private int width;\r\n        private int height;\r\n    \r\n        private JLabel lblUsers;\r\n    \r\n        public UserList(int width, int height, Controller controller, ChatFrame frame) {\r\n            super(null);\r\n            this.frame = frame;\r\n            this.controller = controller;\r\n            this.width = width;\r\n            this.height = height;\r\n    \r\n            this.setSize(width, height);\r\n            this.setBorder(BorderFactory.createLineBorder(Color.black));\r\n            this.setLayout(new BoxLayout(this,BoxLayout.PAGE_AXIS));\r\n            setUp();\r\n            addComponents();\r\n        }\r\n    \r\n        public void setUp(){\r\n            this.setMinimumSize(new Dimension(width, height));\r\n            this.setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));\r\n            this.setBorder(BorderFactory.createLineBorder(Color.black));\r\n        }\r\n    \r\n        public void addComponents(){\r\n            lblUsers = new JLabel(&quot;Users&quot;);\r\n            this.setMinimumSize(new Dimension(50,50));\r\n            this.add(lblUsers);\r\n    \r\n        }\r\n    }\r\n    \r\n    **User Input Panel**\r\n    \r\n        package View;\r\n    \r\n    import Control.Controller;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.filechooser.FileFilter;\r\n    import java.awt.*;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.StandardCopyOption;\r\n    \r\n    public class UserInput extends JPanel {\r\n    private ChatFrame frame;\r\n    private Controller controller;\r\n\r\n    private int width;\r\n    private int height;\r\n\r\n    private JButton pic, send;\r\n    private JTextArea message;\r\n\r\n\r\n    public UserInput(int width, int height, Controller controller, ChatFrame frame) {\r\n        super();\r\n        this.frame = frame;\r\n        this.controller = controller;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.setSize(width, height);\r\n        setUp();\r\n        addComponents();\r\n    }\r\n\r\n    public void setUp(){\r\n        this.setMinimumSize(new Dimension(width, height));\r\n        this.setLayout(new FlowLayout());\r\n        this.setBorder(BorderFactory.createLineBorder(Color.black));\r\n\r\n    }\r\n\r\n    public void addComponents(){\r\n        pic = new JButton(&quot;attach image&quot;);\r\n        pic.setMinimumSize(new Dimension(200,200));\r\n        pic.addActionListener(l-&gt;changePP());\r\n        this.add(pic);\r\n\r\n\r\n        message = new JTextArea(&quot;write here!&quot;);\r\n        message.setMinimumSize(new Dimension(400,200));\r\n        this.add(message);\r\n\r\n        send = new JButton(&quot;send&quot;);\r\n        send.setMinimumSize(new Dimension(200,200));\r\n        send.addActionListener(l-&gt;sendMessage());\r\n        this.add(send);\r\n\r\n        revalidate();\r\n    }\r\n\r\n    public void sendMessage(){\r\n\r\n    }\r\n\r\n    private void changePP() {\r\n        JFileChooser fileChooser = new JFileChooser();\r\n        fileChooser.setAcceptAllFileFilterUsed(false);\r\n        fileChooser.addChoosableFileFilter(new FileFilter() {\r\n            @Override\r\n            public boolean accept(File f) {\r\n                String filename = f.getName();\r\n                if (f.isDirectory()) {\r\n                    return true;\r\n\r\n                } else if (filename.endsWith(&quot;jpg&#39;&quot;) || filename.endsWith(&quot;jpeg&quot;) || filename.endsWith(&quot;png&quot;) || filename.endsWith(&quot;gif&quot;)) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public String getDescription() {\r\n                return &quot;Images&quot;;\r\n            }\r\n        });\r\n\r\n        int option = fileChooser.showOpenDialog(frame);\r\n        if(option == JFileChooser.APPROVE_OPTION){\r\n            File sourceFile = fileChooser.getSelectedFile();\r\n\r\n            String extension = &quot;&quot;;\r\n            int i = sourceFile.getAbsolutePath().lastIndexOf(&#39;.&#39;);\r\n            if (i &gt; 0) {\r\n                extension = sourceFile.getAbsolutePath().substring(i+1);\r\n            }\r\n\r\n            File destinationFile  = new File(&quot;files/sent.&quot; + extension);\r\n            try {\r\n                Files.copy(sourceFile.toPath(),destinationFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            pic.setIcon(new ImageIcon(&quot;files/sent.&quot; + extension));\r\n\r\n        }else{\r\n            JOptionPane.showMessageDialog(null, &quot;Error selecting image&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1pOjW.png\r\n  [2]: https://i.stack.imgur.com/Fhta9.png\r\n  [3]: https://i.stack.imgur.com/TeIII.png","title":"Messenger Application GUI (BoarderLayout w/ multiple panels) (JScrollPane)","body":"<p><strong>Question</strong></p>\n<p>I'm creating a GUI for a message application. the frame's layout is BorderLayout: chat on the western border, list of users on the Eastern border, and user input on the southern border.</p>\n<p>The problems:</p>\n<ol>\n<li><p>The panels aren't adhering to the Borderlayout. When I called method revalidate(), The setMinimumSize() is no longer respected.</p>\n</li>\n<li><p>Panels with scrolls stretch outside of their border when components are added. I tried adding a maximum size / PreferredSize, but the scroll function stops working. I tried revalidating the JPanel and JScrollPane after every added component, but it had no effect.</p>\n</li>\n</ol>\n<p><strong>Answers</strong></p>\n<ol>\n<li><p>problem n.01 was solved by understanding how different layout manager treat different sizes. BorderLayout requires <code>setPreferredSize(new Dimension(width,height))</code></p>\n</li>\n<li><p>This problem was somewhat a follow-up/related problem. This was fixed by <code>revaldiate()</code> the frame,in turn the JScrollPane, after every single component added.</p>\n</li>\n</ol>\n<p>Thanks adra :)</p>\n<p>I used all the size options I'm aware of, but the JTextArea spill out of its frame.</p>\n<pre><code>this.setMinimumSize(new Dimension(width, height));\nthis.setMaximumSize(new Dimension(width, height));\nthis.setPreferredSize(new Dimension(width, height));\nthis.setSize(new Dimension(width, height));\n</code></pre>\n<p><strong>Problem visualized</strong></p>\n<p><a href=\"https://i.stack.imgur.com/1pOjW.png\" rel=\"nofollow noreferrer\">When running the program without revalidate</a></p>\n<p><a href=\"https://i.stack.imgur.com/Fhta9.png\" rel=\"nofollow noreferrer\">revalidating the frame</a></p>\n<p><a href=\"https://i.stack.imgur.com/TeIII.png\" rel=\"nofollow noreferrer\">problem n.02 after solving problem n.01</a></p>\n<p><strong>GUI code</strong></p>\n<p><strong>Frame</strong></p>\n<pre><code>package View;\nimport Control.Controller;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport static java.awt.Color.*;\n\npublic class ChatFrame extends JFrame {\n    private Controller controller;\n\n    private ChatView wp;\n    private UserList ep;\n    private UserInput sp;\n\n\n    private int width = 1400;\n    private int height = 800;\n\n\n    public ChatFrame(){\n        super(&quot;El 3yal&quot;);\n        this.setSize(width, height);\n        this.setLocation(20,0);\n        this.getContentPane().setLayout(new BorderLayout(20,20));\n        this.setResizable(false);\n        this.setVisible(true);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setUp();\n    }\n\n    public void setUp(){\n        wp = new ChatView(1000,600,controller,this);\n        addScroll(wp, BorderLayout.WEST, 1000, 600);\n        ep = new UserList(380, 600, controller, this);\n        addScroll(ep, BorderLayout.EAST, 380, 600);\n        sp = new UserInput(800, 200, controller, this);\n        this.add(sp, BorderLayout.SOUTH);\n        revalidate();\n\n    }\n\n    public void addScroll(JPanel pnl, String str, int w, int h){\n        JScrollPane jsp = new JScrollPane(pnl);\n        jsp.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        jsp.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\n        jsp.setSize(new Dimension(w, h));\n        jsp.getVerticalScrollBar().setUnitIncrement(16);\n        jsp.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.add(jsp, str);\n    }\n\n    public Controller getController() {\n        return controller;\n    }\n    public ChatView getWp() {\n        return wp;\n    }\n    public UserList getEp() {\n        return ep;\n    }\n    public UserInput getsPnl() {\n        return sp;\n    }\n\n}\n\nclass test{\n\n    public static void main(String[] args){\n        ChatFrame frame = new ChatFrame();\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                frame.getWp().receive(&quot;hadsag&quot;, &quot;Hello i want to say hi&quot;, null);\n                for(int i = 0; i &lt; 15; i++) {\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    frame.getWp().receive(&quot;Hadsag&quot;, &quot;Hello i want to say hi&quot;, new ImageIcon(&quot;files/icon.jpeg&quot;));\n                }\n            }\n        });\n        thread.start();\n    }\n}\n</code></pre>\n<p><strong>chat view panel</strong></p>\n<pre><code>package View;\n\nimport Control.Controller;\n\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport java.awt.*;\n\npublic class ChatView extends JPanel {\n    private ChatFrame frame;\n    private Controller controller;\n\n    private int width;\n    private int height;\n\n\n    public ChatView(int width, int height, Controller controller, ChatFrame frame) {\n        super();\n        this.frame = frame;\n        this.controller = controller;\n        this.width = width;\n        this.height = height;\n        setUp();\n    }\n\n    public void setUp(){\n        this.setMinimumSize(new Dimension(width, height));\n        this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        this.setBorder(BorderFactory.createLineBorder(Color.black));\n\n    }\n\n    public void receive(String name, String txt, ImageIcon pic){\n        Box box = Box.createHorizontalBox();\n        box.setMinimumSize(new Dimension(600, 170));\n        box.setSize(new Dimension(600, 170));\n\n        TextArea lblText = new TextArea(&quot;&lt; &quot; + name + &quot; &gt; : &quot; + txt);\n        lblText.setEditable(false);\n        lblText.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 12));\n        lblText.setMinimumSize(new Dimension(400, 20));\n        lblText.setMaximumSize(new Dimension(600, 170));\n        box.add(lblText, LEFT_ALIGNMENT);\n\n        JLabel lblPic = new JLabel();\n        lblPic.setMinimumSize(new Dimension(100, 150));\n        lblPic.setMaximumSize(new Dimension(100, 150));\n        if(pic != null) {\n            Image image = pic.getImage();\n            image = image.getScaledInstance(100, 150, java.awt.Image.SCALE_SMOOTH);\n            pic = new ImageIcon(image);\n            lblPic.setIcon(pic);\n        }\n        box.add(lblPic, RIGHT_ALIGNMENT);\n\n        this.add(box);\n/*\n        TextArea chatText = new TextArea();\n        chatText.setEditable(false);\n        chatText.append(&quot;&lt; &quot;+name+&quot; &gt; : &quot; + txt);\n        chatText.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 10));\n        chatText.setMinimumSize(new Dimension(600,20));\n        chatText.setMaximumSize(new Dimension(600,60));\n        this.add(chatText, LEFT_ALIGNMENT);\n\n        this.add(Box.createRigidArea(new Dimension(0,5)));\n\n        Image image = pic.getImage();\n        image = image.getScaledInstance(100, 150, java.awt.Image.SCALE_SMOOTH);\n        pic = new ImageIcon(image);\n        JLabel lblPic = new JLabel();\n        lblPic.setIcon(pic);\n        lblPic.setMinimumSize(new Dimension(600,150));\n        lblPic.setMaximumSize(new Dimension(600,250));\n        this.add(lblPic, LEFT_ALIGNMENT);\n*/\n        this.add(Box.createRigidArea(new Dimension(0,5)));\n\n        this.revalidate();\n\n    }\n}\n</code></pre>\n<p><strong>user List</strong></p>\n<pre><code>     package View;\n    \n    import Control.Controller;\n    \n    import javax.swing.*;\n    import java.awt.*;\n    \n    public class UserList extends JPanel {\n    private ChatFrame frame;\n    private Controller controller;\n\n    private int width;\n    private int height;\n\n    private JLabel lblUsers;\n\n    public UserList(int width, int height, Controller controller, ChatFrame frame) {\n        super(null);\n        this.frame = frame;\n        this.controller = controller;\n        this.width = width;\n        this.height = height;\n\n        this.setSize(width, height);\n        this.setBorder(BorderFactory.createLineBorder(Color.black));\n        this.setLayout(new BoxLayout(this,BoxLayout.PAGE_AXIS));\n        setUp();\n        addComponents();\n    }\n\n    public void setUp(){\n        this.setMinimumSize(new Dimension(width, height));\n        this.setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));\n        this.setBorder(BorderFactory.createLineBorder(Color.black));\n    }\n\n    public void addComponents(){\n        lblUsers = new JLabel(&quot;Users&quot;);\n        this.setMinimumSize(new Dimension(50,50));\n        this.add(lblUsers);\n\n    }\n}\n\n**User Input Panel**\n\n    package View;\n\nimport Control.Controller;\n\nimport javax.swing.*;\nimport javax.swing.filechooser.FileFilter;\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.StandardCopyOption;\n\npublic class UserInput extends JPanel {\nprivate ChatFrame frame;\nprivate Controller controller;\n\nprivate int width;\nprivate int height;\n\nprivate JButton pic, send;\nprivate JTextArea message;\n\n\npublic UserInput(int width, int height, Controller controller, ChatFrame frame) {\n    super();\n    this.frame = frame;\n    this.controller = controller;\n    this.width = width;\n    this.height = height;\n    this.setSize(width, height);\n    setUp();\n    addComponents();\n}\n\npublic void setUp(){\n    this.setMinimumSize(new Dimension(width, height));\n    this.setLayout(new FlowLayout());\n    this.setBorder(BorderFactory.createLineBorder(Color.black));\n\n}\n\npublic void addComponents(){\n    pic = new JButton(&quot;attach image&quot;);\n    pic.setMinimumSize(new Dimension(200,200));\n    pic.addActionListener(l-&gt;changePP());\n    this.add(pic);\n\n\n    message = new JTextArea(&quot;write here!&quot;);\n    message.setMinimumSize(new Dimension(400,200));\n    this.add(message);\n\n    send = new JButton(&quot;send&quot;);\n    send.setMinimumSize(new Dimension(200,200));\n    send.addActionListener(l-&gt;sendMessage());\n    this.add(send);\n\n    revalidate();\n}\n\npublic void sendMessage(){\n\n}\n\nprivate void changePP() {\n    JFileChooser fileChooser = new JFileChooser();\n    fileChooser.setAcceptAllFileFilterUsed(false);\n    fileChooser.addChoosableFileFilter(new FileFilter() {\n        @Override\n        public boolean accept(File f) {\n            String filename = f.getName();\n            if (f.isDirectory()) {\n                return true;\n\n            } else if (filename.endsWith(&quot;jpg'&quot;) || filename.endsWith(&quot;jpeg&quot;) || filename.endsWith(&quot;png&quot;) || filename.endsWith(&quot;gif&quot;)) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n\n        @Override\n        public String getDescription() {\n            return &quot;Images&quot;;\n        }\n    });\n\n    int option = fileChooser.showOpenDialog(frame);\n    if(option == JFileChooser.APPROVE_OPTION){\n        File sourceFile = fileChooser.getSelectedFile();\n\n        String extension = &quot;&quot;;\n        int i = sourceFile.getAbsolutePath().lastIndexOf('.');\n        if (i &gt; 0) {\n            extension = sourceFile.getAbsolutePath().substring(i+1);\n        }\n\n        File destinationFile  = new File(&quot;files/sent.&quot; + extension);\n        try {\n            Files.copy(sourceFile.toPath(),destinationFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        pic.setIcon(new ImageIcon(&quot;files/sent.&quot; + extension));\n\n    }else{\n        JOptionPane.showMessageDialog(null, &quot;Error selecting image&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645400073,"post_id":71199703,"comment_id":125854911,"body_markdown":"There&#39;s no relationship between what&#39;s been painted and the mouse events been generated by the system.  You&#39;ll need to apply your own modifications to the mouse events based on the current zoom factor","body":"There&#39;s no relationship between what&#39;s been painted and the mouse events been generated by the system.  You&#39;ll need to apply your own modifications to the mouse events based on the current zoom factor"},{"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"score":0,"creation_date":1645400361,"post_id":71199703,"comment_id":125854967,"body_markdown":"unfortunately I do not know what the translation code is...this is where i need help","body":"unfortunately I do not know what the translation code is...this is where i need help"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645400627,"post_id":71199703,"comment_id":125855014,"body_markdown":"Without actually trying anything, I might simply start with `e.x * zoom` or something like that","body":"Without actually trying anything, I might simply start with <code>e.x * zoom</code> or something like that"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645403264,"creation_date":1645403264,"answer_id":71199984,"question_id":71199703,"body_markdown":"Okay, so, that was a little more involved than I first thought.\r\n\r\nThe &quot;basic&quot; concept is, you need to apply the same `AffineTransformation` you used to paint the component to you `_rectangle`\r\n\r\nSo, I started by creating an instance property to keep track of the current transformation, as this is going to get re-used a bit\r\n\r\n    private AffineTransform transformation = new AffineTransform();\r\n\r\nThen I added a getter\r\n\r\n    protected AffineTransform getTransformation() {\r\n        return transformation;\r\n    }\r\n\r\nThen I &quot;optimised&quot; your `paintComponent`, seriously...\r\n\r\n    double xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\r\n    double yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\r\n\r\nis a really bad idea, generally, but especially from within a paint pass\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        Graphics2D g2 = (Graphics2D) g.create();\r\n\r\n        g2.setTransform(getTransformation());\r\n\r\n        g2.setColor(_fillColor);\r\n        g2.fillRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\r\n        g2.setColor(Color.BLACK);\r\n        g2.drawRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\r\n\r\n        g2.dispose();\r\n    }\r\n\r\nI then modified the `mouseWheelMoved` to calculate the new `AffineTransformation` each time it changed\r\n\r\n    @Override\r\n    public void mouseWheelMoved(MouseWheelEvent e) {\r\n\r\n        Point2D zoomAnchor = e.getPoint();\r\n\r\n        prevZoomFactor = zoomFactor;\r\n        if (e.getWheelRotation() &lt; 0) {\r\n            zoomFactor = Math.max(zoomFactor / 1.1, MIN_ZOOM_FACTOR);\r\n        }\r\n        if (e.getWheelRotation() &gt; 0) {\r\n            zoomFactor = Math.min(zoomFactor * 1.1, MAX_ZOOM_FACTOR);\r\n        }\r\n\r\n        transformation = new AffineTransform();\r\n        double zoomDiv = zoomFactor / prevZoomFactor;\r\n        xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * zoomAnchor.getX();\r\n        yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * zoomAnchor.getX();\r\n\r\n        transformation.translate(xOffset, yOffset);\r\n        transformation.scale(zoomFactor, zoomFactor);\r\n\r\n        repaint();\r\n    }\r\n\r\nNow, each time `mouseMoved` is called, you need to apply the `AffineTransformation` to the `_rectangle` and check it for any collisions...\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {\r\n        AffineTransform at = getTransformation();\r\n        PathIterator pathIterator = _rectangle.getPathIterator(at);\r\n        GeneralPath shape = new GeneralPath();\r\n        shape.append(pathIterator, true);\r\n        \r\n        _fillColor = Color.WHITE;\r\n        if (shape.contains(e.getPoint())) {\r\n            _fillColor = Color.GREEN;\r\n        }\r\n        repaint();\r\n    }\r\n\r\nNow, I would be tempted to create a &quot;shadow&quot; `Shape` each time `mouseWheelMoved` is called, as you&#39;re going to want it for the other mouse events\r\n\r\n# Runnable example...\r\n\r\nI&#39;ve not updated your `mousePressed` or `mouseDragged` methods, I&#39;ll leave you to do that.  I&#39;ve also left in some debug code which will draw the &quot;transformed shape&quot; on each paint pass.  This is draw BEFORE the `Graphics` context is transformed, so it should give you a bit of a guide\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Shape;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.event.MouseWheelListener;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.GeneralPath;\r\n    import java.awt.geom.PathIterator;\r\n    import java.awt.geom.Point2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    public class Main extends JFrame {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        public Main() {\r\n            setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\r\n            JScrollPane scroll = new JScrollPane(new TestPane());\r\n            add(scroll, BorderLayout.CENTER);\r\n\r\n            pack();\r\n            setLocationRelativeTo(null);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    try {\r\n                        Main demo = new Main();\r\n                        demo.setVisible(true);\r\n                    } catch (Throwable e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        class TestPane extends JPanel implements MouseWheelListener, MouseListener, MouseMotionListener {\r\n\r\n            private static final long serialVersionUID = 1L;\r\n            private static final double MIN_ZOOM_FACTOR = 0.1;\r\n            private static final double MAX_ZOOM_FACTOR = 5.0;\r\n\r\n            private Color _fillColor;\r\n            private Point _startPoint;\r\n            private double xOffset;\r\n            private double yOffset;\r\n\r\n            private int xdragOffset;\r\n            private int ydragOffset;\r\n\r\n            private double zoomFactor = 1;\r\n            private double prevZoomFactor = 1;\r\n            private boolean zoomer;\r\n            private Point zoomAnchor;\r\n\r\n            private Rectangle _rectangle;\r\n\r\n            private AffineTransform transformation = new AffineTransform();\r\n\r\n            public TestPane() {\r\n                addMouseWheelListener(this);\r\n                addMouseMotionListener(this);\r\n                addMouseListener(this);\r\n                _fillColor = Color.WHITE;\r\n                _rectangle = new Rectangle(50, 50, 100, 200);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(640, 480);\r\n            }\r\n\r\n            // This would be better pre-calculated when the \r\n            // zoom actually changes\r\n            protected AffineTransform getTransformation() {\r\n                return transformation;\r\n            }\r\n\r\n            private Shape testPath;\r\n\r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n\r\n                Graphics2D g2 = (Graphics2D) g.create();\r\n\r\n                if (testPath != null) {\r\n                    g2.setColor(Color.RED);\r\n                    g2.draw(testPath);\r\n                }\r\n\r\n                g2.setTransform(getTransformation());\r\n\r\n                g2.setColor(_fillColor);\r\n                g2.fillRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\r\n                g2.setColor(Color.BLACK);\r\n                g2.drawRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\r\n\r\n                g2.dispose();\r\n            }\r\n\r\n            // This is purly for test purposes and you could simply\r\n            // create based on needs at the time\r\n            // Alternativly, you could apply a simular logic to it as the\r\n            // AffineTransformation and each time the zoom is changed,\r\n            // you could create a new, reusable, instance\r\n            protected Shape createTransformedShape() {\r\n                AffineTransform at = getTransformation();\r\n                PathIterator pathIterator = _rectangle.getPathIterator(at);\r\n                GeneralPath path = new GeneralPath();\r\n                path.append(pathIterator, true);\r\n\r\n                testPath = path;\r\n                return path;\r\n            }\r\n\r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n                Shape shape = createTransformedShape();\r\n\r\n                _fillColor = Color.WHITE;\r\n                if (shape.contains(e.getPoint())) {\r\n                    _fillColor = Color.GREEN;\r\n                }\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n    //            _startPoint = null;\r\n    //            _fillColor = Color.WHITE;\r\n    //\r\n    //            AffineTransform at = getTransformation();\r\n    //            Point2D zoomPoint = zoomedPointFrom(e.getPoint());\r\n    //            PathIterator pathIterator = _rectangle.getPathIterator(at);\r\n    //            GeneralPath path = new GeneralPath();\r\n    //            path.append(pathIterator, true);\r\n    //\r\n    //            if (path.contains(zoomPoint)) {\r\n    //                _startPoint = e.getPoint();\r\n    //                _fillColor = Color.GREEN;\r\n    //                xdragOffset = _startPoint.x - _rectangle.x;\r\n    //                ydragOffset = _startPoint.y - _rectangle.y;\r\n    //            }\r\n    //            repaint();\r\n            }\r\n\r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n    //            if (_startPoint != null) {\r\n    //                int diffX = e.getX() - _startPoint.x;\r\n    //                int diffY = e.getY() - _startPoint.y;\r\n    //\r\n    //                _rectangle.x = _startPoint.x + diffX - xdragOffset;\r\n    //                _rectangle.y = _startPoint.y + diffY - ydragOffset;\r\n    //            } else {\r\n    //                _fillColor = Color.WHITE;\r\n    //                if (_rectangle.contains(e.getPoint())) {\r\n    //                    _fillColor = Color.GREEN;\r\n    //                }\r\n    //            }\r\n    //            repaint();\r\n            }\r\n\r\n            @Override\r\n            public void mouseWheelMoved(MouseWheelEvent e) {\r\n\r\n                Point2D zoomAnchor = e.getPoint();\r\n\r\n                prevZoomFactor = zoomFactor;\r\n                if (e.getWheelRotation() &lt; 0) {\r\n                    zoomFactor = Math.max(zoomFactor / 1.1, MIN_ZOOM_FACTOR);\r\n                }\r\n                if (e.getWheelRotation() &gt; 0) {\r\n                    zoomFactor = Math.min(zoomFactor * 1.1, MAX_ZOOM_FACTOR);\r\n                }\r\n\r\n                transformation = new AffineTransform();\r\n                double zoomDiv = zoomFactor / prevZoomFactor;\r\n                xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * zoomAnchor.getX();\r\n                yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * zoomAnchor.getX();\r\n\r\n                transformation.translate(xOffset, yOffset);\r\n                transformation.scale(zoomFactor, zoomFactor);\r\n\r\n                createTransformedShape();\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n            }\r\n\r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n            }\r\n\r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {\r\n            }\r\n\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n            }\r\n        }\r\n    }\r\n","title":"Java mouse events do not translate coordinates properly when zooming with mouse wheel","body":"<p>Okay, so, that was a little more involved than I first thought.</p>\n<p>The &quot;basic&quot; concept is, you need to apply the same <code>AffineTransformation</code> you used to paint the component to you <code>_rectangle</code></p>\n<p>So, I started by creating an instance property to keep track of the current transformation, as this is going to get re-used a bit</p>\n<pre><code>private AffineTransform transformation = new AffineTransform();\n</code></pre>\n<p>Then I added a getter</p>\n<pre><code>protected AffineTransform getTransformation() {\n    return transformation;\n}\n</code></pre>\n<p>Then I &quot;optimised&quot; your <code>paintComponent</code>, seriously...</p>\n<pre><code>double xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\ndouble yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\n</code></pre>\n<p>is a really bad idea, generally, but especially from within a paint pass</p>\n<pre><code>@Override\npublic void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    Graphics2D g2 = (Graphics2D) g.create();\n\n    g2.setTransform(getTransformation());\n\n    g2.setColor(_fillColor);\n    g2.fillRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\n    g2.setColor(Color.BLACK);\n    g2.drawRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\n\n    g2.dispose();\n}\n</code></pre>\n<p>I then modified the <code>mouseWheelMoved</code> to calculate the new <code>AffineTransformation</code> each time it changed</p>\n<pre><code>@Override\npublic void mouseWheelMoved(MouseWheelEvent e) {\n\n    Point2D zoomAnchor = e.getPoint();\n\n    prevZoomFactor = zoomFactor;\n    if (e.getWheelRotation() &lt; 0) {\n        zoomFactor = Math.max(zoomFactor / 1.1, MIN_ZOOM_FACTOR);\n    }\n    if (e.getWheelRotation() &gt; 0) {\n        zoomFactor = Math.min(zoomFactor * 1.1, MAX_ZOOM_FACTOR);\n    }\n\n    transformation = new AffineTransform();\n    double zoomDiv = zoomFactor / prevZoomFactor;\n    xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * zoomAnchor.getX();\n    yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * zoomAnchor.getX();\n\n    transformation.translate(xOffset, yOffset);\n    transformation.scale(zoomFactor, zoomFactor);\n\n    repaint();\n}\n</code></pre>\n<p>Now, each time <code>mouseMoved</code> is called, you need to apply the <code>AffineTransformation</code> to the <code>_rectangle</code> and check it for any collisions...</p>\n<pre><code>@Override\npublic void mouseMoved(MouseEvent e) {\n    AffineTransform at = getTransformation();\n    PathIterator pathIterator = _rectangle.getPathIterator(at);\n    GeneralPath shape = new GeneralPath();\n    shape.append(pathIterator, true);\n    \n    _fillColor = Color.WHITE;\n    if (shape.contains(e.getPoint())) {\n        _fillColor = Color.GREEN;\n    }\n    repaint();\n}\n</code></pre>\n<p>Now, I would be tempted to create a &quot;shadow&quot; <code>Shape</code> each time <code>mouseWheelMoved</code> is called, as you're going to want it for the other mouse events</p>\n<h1>Runnable example...</h1>\n<p>I've not updated your <code>mousePressed</code> or <code>mouseDragged</code> methods, I'll leave you to do that.  I've also left in some debug code which will draw the &quot;transformed shape&quot; on each paint pass.  This is draw BEFORE the <code>Graphics</code> context is transformed, so it should give you a bit of a guide</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.Shape;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.event.MouseWheelListener;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.GeneralPath;\nimport java.awt.geom.PathIterator;\nimport java.awt.geom.Point2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\n\npublic class Main extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n\n    public Main() {\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        JScrollPane scroll = new JScrollPane(new TestPane());\n        add(scroll, BorderLayout.CENTER);\n\n        pack();\n        setLocationRelativeTo(null);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Main demo = new Main();\n                    demo.setVisible(true);\n                } catch (Throwable e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    }\n\n    class TestPane extends JPanel implements MouseWheelListener, MouseListener, MouseMotionListener {\n\n        private static final long serialVersionUID = 1L;\n        private static final double MIN_ZOOM_FACTOR = 0.1;\n        private static final double MAX_ZOOM_FACTOR = 5.0;\n\n        private Color _fillColor;\n        private Point _startPoint;\n        private double xOffset;\n        private double yOffset;\n\n        private int xdragOffset;\n        private int ydragOffset;\n\n        private double zoomFactor = 1;\n        private double prevZoomFactor = 1;\n        private boolean zoomer;\n        private Point zoomAnchor;\n\n        private Rectangle _rectangle;\n\n        private AffineTransform transformation = new AffineTransform();\n\n        public TestPane() {\n            addMouseWheelListener(this);\n            addMouseMotionListener(this);\n            addMouseListener(this);\n            _fillColor = Color.WHITE;\n            _rectangle = new Rectangle(50, 50, 100, 200);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(640, 480);\n        }\n\n        // This would be better pre-calculated when the \n        // zoom actually changes\n        protected AffineTransform getTransformation() {\n            return transformation;\n        }\n\n        private Shape testPath;\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2 = (Graphics2D) g.create();\n\n            if (testPath != null) {\n                g2.setColor(Color.RED);\n                g2.draw(testPath);\n            }\n\n            g2.setTransform(getTransformation());\n\n            g2.setColor(_fillColor);\n            g2.fillRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\n            g2.setColor(Color.BLACK);\n            g2.drawRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\n\n            g2.dispose();\n        }\n\n        // This is purly for test purposes and you could simply\n        // create based on needs at the time\n        // Alternativly, you could apply a simular logic to it as the\n        // AffineTransformation and each time the zoom is changed,\n        // you could create a new, reusable, instance\n        protected Shape createTransformedShape() {\n            AffineTransform at = getTransformation();\n            PathIterator pathIterator = _rectangle.getPathIterator(at);\n            GeneralPath path = new GeneralPath();\n            path.append(pathIterator, true);\n\n            testPath = path;\n            return path;\n        }\n\n        @Override\n        public void mouseMoved(MouseEvent e) {\n            Shape shape = createTransformedShape();\n\n            _fillColor = Color.WHITE;\n            if (shape.contains(e.getPoint())) {\n                _fillColor = Color.GREEN;\n            }\n            repaint();\n        }\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n//            _startPoint = null;\n//            _fillColor = Color.WHITE;\n//\n//            AffineTransform at = getTransformation();\n//            Point2D zoomPoint = zoomedPointFrom(e.getPoint());\n//            PathIterator pathIterator = _rectangle.getPathIterator(at);\n//            GeneralPath path = new GeneralPath();\n//            path.append(pathIterator, true);\n//\n//            if (path.contains(zoomPoint)) {\n//                _startPoint = e.getPoint();\n//                _fillColor = Color.GREEN;\n//                xdragOffset = _startPoint.x - _rectangle.x;\n//                ydragOffset = _startPoint.y - _rectangle.y;\n//            }\n//            repaint();\n        }\n\n        @Override\n        public void mouseDragged(MouseEvent e) {\n//            if (_startPoint != null) {\n//                int diffX = e.getX() - _startPoint.x;\n//                int diffY = e.getY() - _startPoint.y;\n//\n//                _rectangle.x = _startPoint.x + diffX - xdragOffset;\n//                _rectangle.y = _startPoint.y + diffY - ydragOffset;\n//            } else {\n//                _fillColor = Color.WHITE;\n//                if (_rectangle.contains(e.getPoint())) {\n//                    _fillColor = Color.GREEN;\n//                }\n//            }\n//            repaint();\n        }\n\n        @Override\n        public void mouseWheelMoved(MouseWheelEvent e) {\n\n            Point2D zoomAnchor = e.getPoint();\n\n            prevZoomFactor = zoomFactor;\n            if (e.getWheelRotation() &lt; 0) {\n                zoomFactor = Math.max(zoomFactor / 1.1, MIN_ZOOM_FACTOR);\n            }\n            if (e.getWheelRotation() &gt; 0) {\n                zoomFactor = Math.min(zoomFactor * 1.1, MAX_ZOOM_FACTOR);\n            }\n\n            transformation = new AffineTransform();\n            double zoomDiv = zoomFactor / prevZoomFactor;\n            xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * zoomAnchor.getX();\n            yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * zoomAnchor.getX();\n\n            transformation.translate(xOffset, yOffset);\n            transformation.scale(zoomFactor, zoomFactor);\n\n            createTransformedShape();\n            repaint();\n        }\n\n        @Override\n        public void mouseClicked(MouseEvent e) {\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645472230,"creation_date":1645472230,"answer_id":71212076,"question_id":71199703,"body_markdown":"After some digging on the internet, I found another way to do this...\r\n\r\nAll the complicated logic remains inside the mouse wheel event...\r\n\r\n    @Override public void mouseWheelMoved(MouseWheelEvent e) {\r\n    \ttry {\r\n    \t\tif (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL) {\r\n    \r\n    \t\t\tdouble scaleValue = scale - (0.1 * e.getWheelRotation());\r\n    \t\t\tscaleValue = scaleValue &lt; 0.1 ? 0.1 : scaleValue;\r\n    \t\t\tscaleValue = scaleValue &gt; 3 ? 3 : scaleValue;\r\n    \t\t\tscale = scaleValue;\r\n     \r\n    \t\t\tPoint2D p1 = e.getPoint();\r\n    \t\t\tPoint2D p2 = null;\r\n    \t\t\tp2 = tx.inverseTransform(p1, null);\r\n    \t\t\ttx.setToIdentity();\r\n    \t\t\ttx.translate(p1.getX(), p1.getY());\r\n    \t\t\ttx.scale(scale, scale);\r\n    \t\t\ttx.translate(-p2.getX(), -p2.getY());\r\n    \r\n    \t\t\trepaint();\r\n    \t\t}\r\n    \t} \r\n    \tcatch (Throwable ex) {\r\n    \t\tthrow new RuntimeException(ex);\r\n    \t}\r\n    }\r\n\r\nIn the paintComponent, the call is quite simple:\r\n\r\n\t@Override protected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\r\n\t\tGraphics2D g2 = (Graphics2D) g.create();\r\n\t\tg2.setTransform(tx);\r\n\r\n\t\tg2.setColor(Color.BLACK);\t\t\r\n\t\tg2.draw(getBounds());\r\n\r\n\t\tg2.setColor(_color);\r\n\t\tg2.fill(rect1);\r\n\t\tg2.setColor(Color.BLACK);\t\t\r\n\t\tg2.draw(rect1);\r\n\r\n\t\tg2.setColor(Color.BLUE);\r\n\t\tg2.draw(rect2);\r\n\t\tg2.dispose();\r\n\t}\r\n\r\nAll mouse events are handled the same way. I created a routine to convert the original mouse event&#39;s coordinates ...\r\n\r\n\tprivate final Point transformMouseEventPoint(MouseEvent event) {\r\n\t\ttry {\r\n\t\t\tPoint2D p = tx.inverseTransform(\r\n\t\t\t\t\tevent.getPoint(), null);\r\n\t\t\treturn new Point((int)p.getX(), (int)p.getY());\r\n\t\t}\r\n\t\tcatch(Throwable e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nThis is how it is used\r\n\r\n\t@Override public void mousePressed(MouseEvent e) {\r\n\t\ttry {\r\n\t\t\t_color = Color.WHITE;\r\n\t\t\t_startPoint = null;\r\n\r\n\t\t\tPoint p = transformMouseEventPoint(e);\r\n\r\n\t\t\tif(rect1.contains(p)) {\r\n\t\t\t\t_color = Color.RED;\r\n\t\t\t\t_startPoint = p;\r\n\t\t\t\txOffset = _startPoint.x - (int)rect1.getX();\r\n\t\t\t\tyOffset = _startPoint.y - (int)rect1.getY();\r\n\t\t\t}\r\n\t\t\trepaint();\r\n\t\t} \r\n\t\tcatch (Throwable e1) {\r\n\t\t\tthrow new RuntimeException(e1);\r\n\t\t}\r\n\t}\r\n\r\n\r\nNext challenge is to add scrollbars to the scaled workspace","title":"Java mouse events do not translate coordinates properly when zooming with mouse wheel","body":"<p>After some digging on the internet, I found another way to do this...</p>\n<p>All the complicated logic remains inside the mouse wheel event...</p>\n<pre><code>@Override public void mouseWheelMoved(MouseWheelEvent e) {\n    try {\n        if (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL) {\n\n            double scaleValue = scale - (0.1 * e.getWheelRotation());\n            scaleValue = scaleValue &lt; 0.1 ? 0.1 : scaleValue;\n            scaleValue = scaleValue &gt; 3 ? 3 : scaleValue;\n            scale = scaleValue;\n \n            Point2D p1 = e.getPoint();\n            Point2D p2 = null;\n            p2 = tx.inverseTransform(p1, null);\n            tx.setToIdentity();\n            tx.translate(p1.getX(), p1.getY());\n            tx.scale(scale, scale);\n            tx.translate(-p2.getX(), -p2.getY());\n\n            repaint();\n        }\n    } \n    catch (Throwable ex) {\n        throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n<p>In the paintComponent, the call is quite simple:</p>\n<pre><code>@Override protected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    Graphics2D g2 = (Graphics2D) g.create();\n    g2.setTransform(tx);\n\n    g2.setColor(Color.BLACK);       \n    g2.draw(getBounds());\n\n    g2.setColor(_color);\n    g2.fill(rect1);\n    g2.setColor(Color.BLACK);       \n    g2.draw(rect1);\n\n    g2.setColor(Color.BLUE);\n    g2.draw(rect2);\n    g2.dispose();\n}\n</code></pre>\n<p>All mouse events are handled the same way. I created a routine to convert the original mouse event's coordinates ...</p>\n<pre><code>private final Point transformMouseEventPoint(MouseEvent event) {\n    try {\n        Point2D p = tx.inverseTransform(\n                event.getPoint(), null);\n        return new Point((int)p.getX(), (int)p.getY());\n    }\n    catch(Throwable e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>This is how it is used</p>\n<pre><code>@Override public void mousePressed(MouseEvent e) {\n    try {\n        _color = Color.WHITE;\n        _startPoint = null;\n\n        Point p = transformMouseEventPoint(e);\n\n        if(rect1.contains(p)) {\n            _color = Color.RED;\n            _startPoint = p;\n            xOffset = _startPoint.x - (int)rect1.getX();\n            yOffset = _startPoint.y - (int)rect1.getY();\n        }\n        repaint();\n    } \n    catch (Throwable e1) {\n        throw new RuntimeException(e1);\n    }\n}\n</code></pre>\n<p>Next challenge is to add scrollbars to the scaled workspace</p>\n"}],"owner":{"account_id":19402070,"reputation":13,"user_id":14191842,"display_name":"Newbie Guest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71199984,"answer_count":2,"score":0,"last_activity_date":1645472230,"creation_date":1645399819,"question_id":71199703,"body_markdown":"I need some assistance figuring out how to translate coordinates from mouse events during zoom ... it works when zoom factor is 1.0 but not sure of algorithm when it changes... \r\n\r\nI can drag the rectangle around the screen when if I comment out the zoom code but once zoom, the mouse coordinates screw up once the zoom is applied\r\n\r\nI just cannot figure out the coordinates translation code\r\n\r\n    package ca.stackoverflow.main;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.event.MouseWheelEvent;\r\n    import java.awt.event.MouseWheelListener;\r\n    import java.awt.geom.AffineTransform;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class Demo extends JFrame {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic Demo() {\r\n    \t\tsetPreferredSize(new Dimension(640, 480));\r\n    \t\tsetDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \r\n    \t\tJScrollPane scroll = new JScrollPane(new Panel());\r\n    \t\tadd(scroll, BorderLayout.CENTER);\r\n    \r\n    \t\tpack();\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tDemo demo = new Demo();\r\n    \t\t\t\t\tdemo.setVisible(true);\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch(Throwable e) {\r\n    \t\t\t\t\tthrow new RuntimeException(e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n    \r\n    class Panel extends JPanel implements MouseWheelListener, MouseListener, MouseMotionListener {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate static final double MIN_ZOOM_FACTOR = 0.1;\r\n    \tprivate static final double MAX_ZOOM_FACTOR = 5.0;\r\n    \r\n    \tprivate Color _fillColor;\r\n    \tprivate Point _startPoint;\r\n    \tprivate double xOffset;\r\n    \tprivate double yOffset;\r\n    \r\n    \tprivate int xdragOffset;\r\n    \tprivate int ydragOffset;\t\r\n    \t\r\n    \tprivate double zoomFactor = 1;\r\n    \tprivate double prevZoomFactor = 1;\r\n    \tprivate boolean zoomer;\r\n    \t\t\r\n    \tprivate Rectangle _rectangle;\r\n    \r\n    \tpublic Panel() {\r\n    \t\tsetPreferredSize(new Dimension(1000, 1000));\r\n    \t\taddMouseWheelListener(this);\r\n    \t\taddMouseMotionListener(this);\r\n    \t\taddMouseListener(this);\r\n    \t\t_fillColor = Color.WHITE;\r\n    \t\t_rectangle = new Rectangle(50, 50, 100, 200);\r\n    \t}\r\n    \r\n    \t@Override public void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \r\n    \t\tGraphics2D g2 = (Graphics2D) g;\r\n    \t\tAffineTransform at = new AffineTransform();\r\n    \r\n    \t\tif (zoomer) {\r\n    \r\n    \t\t\tdouble xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\r\n    \t\t\tdouble yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\r\n    \t\t\tdouble zoomDiv = zoomFactor / prevZoomFactor;\r\n    \t\t\txOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\r\n    \t\t\tyOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\r\n    \t\t\tprevZoomFactor = zoomFactor;\r\n    \t\t\tzoomer = false;\r\n    \t\t}\r\n    \t\t\r\n    \t\tat.translate(xOffset, yOffset);\r\n    \t\tat.scale(zoomFactor, zoomFactor);\r\n    \t\tg2.transform(at);\r\n    \t\t\r\n    \t\t\r\n    \t\tg.setColor(_fillColor);\r\n    \t\tg.fillRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\r\n    \t\tg.setColor(Color.BLACK);\r\n    \t\tg.drawRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);      \r\n    \t}\r\n    \r\n    \t@Override public void mouseMoved(MouseEvent e) {\r\n    \t\t_fillColor = Color.WHITE;\r\n    \t\tif(_rectangle.contains(e.getPoint())) {\r\n    \t\t\t_fillColor = Color.GREEN;\r\n    \t\t}\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \t@Override public void mousePressed(MouseEvent e) {\r\n    \t\t_startPoint = null;\r\n    \t\t_fillColor = Color.WHITE;\r\n    \r\n    \t\tif(_rectangle.contains(e.getPoint())) {\r\n    \t\t    _startPoint = e.getPoint();\r\n    \t\t\t_fillColor = Color.GREEN;\r\n    \t\t    xdragOffset = _startPoint.x - _rectangle.x;\r\n    \t\t    ydragOffset = _startPoint.y - _rectangle.y;\r\n    \t\t}\r\n    \t\trepaint();\r\n    \t}\r\n    \t\r\n    \t@Override public void mouseDragged(MouseEvent e) {\r\n    \t\tif(_startPoint != null) {\r\n    \t\t\tint diffX = e.getX() - _startPoint.x;\r\n    \t\t\tint diffY = e.getY() - _startPoint.y;\r\n    \t\t\t\r\n    \t\t\t_rectangle.x = _startPoint.x + diffX - xdragOffset;  \r\n    \t\t\t_rectangle.y = _startPoint.y + diffY - ydragOffset;  \r\n     \t\t}\r\n    \t\telse {\r\n    \t\t\t_fillColor = Color.WHITE;\r\n    \t\t\tif(_rectangle.contains(e.getPoint())) {\r\n    \t\t\t\t_fillColor = Color.GREEN;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\trepaint();\r\n    \t}\r\n    \t\r\n    \t@Override public void mouseWheelMoved(MouseWheelEvent e) {\r\n    \t\tzoomer = true;\r\n    \t\tif (e.getWheelRotation() &lt; 0) {\r\n    \t\t\tzoomFactor = Math.max(zoomFactor / 1.1, MIN_ZOOM_FACTOR);\r\n    \t\t}\r\n    \t\tif (e.getWheelRotation() &gt; 0) {\r\n    \t\t\tzoomFactor = Math.min(zoomFactor * 1.1, MAX_ZOOM_FACTOR);\r\n    \t\t}\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \t@Override public void mouseClicked(MouseEvent e) {}\r\n    \t@Override public void mouseReleased(MouseEvent e) {} \r\n    \t@Override public void mouseEntered(MouseEvent e) {}\r\n    \t@Override public void mouseExited(MouseEvent e) {}\r\n    } ","title":"Java mouse events do not translate coordinates properly when zooming with mouse wheel","body":"<p>I need some assistance figuring out how to translate coordinates from mouse events during zoom ... it works when zoom factor is 1.0 but not sure of algorithm when it changes...</p>\n<p>I can drag the rectangle around the screen when if I comment out the zoom code but once zoom, the mouse coordinates screw up once the zoom is applied</p>\n<p>I just cannot figure out the coordinates translation code</p>\n<pre><code>package ca.stackoverflow.main;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.MouseInfo;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.event.MouseWheelListener;\nimport java.awt.geom.AffineTransform;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\n\npublic class Demo extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n\n    public Demo() {\n        setPreferredSize(new Dimension(640, 480));\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        JScrollPane scroll = new JScrollPane(new Panel());\n        add(scroll, BorderLayout.CENTER);\n\n        pack();\n        setLocationRelativeTo(null);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Demo demo = new Demo();\n                    demo.setVisible(true);\n                }\n                catch(Throwable e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    }\n}\n\nclass Panel extends JPanel implements MouseWheelListener, MouseListener, MouseMotionListener {\n\n    private static final long serialVersionUID = 1L;\n    private static final double MIN_ZOOM_FACTOR = 0.1;\n    private static final double MAX_ZOOM_FACTOR = 5.0;\n\n    private Color _fillColor;\n    private Point _startPoint;\n    private double xOffset;\n    private double yOffset;\n\n    private int xdragOffset;\n    private int ydragOffset;    \n    \n    private double zoomFactor = 1;\n    private double prevZoomFactor = 1;\n    private boolean zoomer;\n        \n    private Rectangle _rectangle;\n\n    public Panel() {\n        setPreferredSize(new Dimension(1000, 1000));\n        addMouseWheelListener(this);\n        addMouseMotionListener(this);\n        addMouseListener(this);\n        _fillColor = Color.WHITE;\n        _rectangle = new Rectangle(50, 50, 100, 200);\n    }\n\n    @Override public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2 = (Graphics2D) g;\n        AffineTransform at = new AffineTransform();\n\n        if (zoomer) {\n\n            double xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\n            double yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\n            double zoomDiv = zoomFactor / prevZoomFactor;\n            xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\n            yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\n            prevZoomFactor = zoomFactor;\n            zoomer = false;\n        }\n        \n        at.translate(xOffset, yOffset);\n        at.scale(zoomFactor, zoomFactor);\n        g2.transform(at);\n        \n        \n        g.setColor(_fillColor);\n        g.fillRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);\n        g.setColor(Color.BLACK);\n        g.drawRect(_rectangle.x, _rectangle.y, _rectangle.width, _rectangle.height);      \n    }\n\n    @Override public void mouseMoved(MouseEvent e) {\n        _fillColor = Color.WHITE;\n        if(_rectangle.contains(e.getPoint())) {\n            _fillColor = Color.GREEN;\n        }\n        repaint();\n    }\n\n    @Override public void mousePressed(MouseEvent e) {\n        _startPoint = null;\n        _fillColor = Color.WHITE;\n\n        if(_rectangle.contains(e.getPoint())) {\n            _startPoint = e.getPoint();\n            _fillColor = Color.GREEN;\n            xdragOffset = _startPoint.x - _rectangle.x;\n            ydragOffset = _startPoint.y - _rectangle.y;\n        }\n        repaint();\n    }\n    \n    @Override public void mouseDragged(MouseEvent e) {\n        if(_startPoint != null) {\n            int diffX = e.getX() - _startPoint.x;\n            int diffY = e.getY() - _startPoint.y;\n            \n            _rectangle.x = _startPoint.x + diffX - xdragOffset;  \n            _rectangle.y = _startPoint.y + diffY - ydragOffset;  \n        }\n        else {\n            _fillColor = Color.WHITE;\n            if(_rectangle.contains(e.getPoint())) {\n                _fillColor = Color.GREEN;\n            }\n        }\n        repaint();\n    }\n    \n    @Override public void mouseWheelMoved(MouseWheelEvent e) {\n        zoomer = true;\n        if (e.getWheelRotation() &lt; 0) {\n            zoomFactor = Math.max(zoomFactor / 1.1, MIN_ZOOM_FACTOR);\n        }\n        if (e.getWheelRotation() &gt; 0) {\n            zoomFactor = Math.min(zoomFactor * 1.1, MAX_ZOOM_FACTOR);\n        }\n        repaint();\n    }\n\n    @Override public void mouseClicked(MouseEvent e) {}\n    @Override public void mouseReleased(MouseEvent e) {} \n    @Override public void mouseEntered(MouseEvent e) {}\n    @Override public void mouseExited(MouseEvent e) {}\n} \n</code></pre>\n"},{"tags":["java","sockets","objectinputstream"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1313046968,"post_id":7022063,"comment_id":8387405,"body_markdown":"You don&#39;t have to, and you shouldn&#39;t.","body":"You don&#39;t have to, and you shouldn&#39;t."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1313051512,"post_id":7022063,"comment_id":8388526,"body_markdown":"And getting a ClassNotFoundException is neither an indication that you are no longer connected nor a programming error. It indicates a *deployment* error.","body":"And getting a ClassNotFoundException is neither an indication that you are no longer connected nor a programming error. It indicates a <i>deployment</i> error."},{"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"score":0,"creation_date":1313150663,"post_id":7022063,"comment_id":8412456,"body_markdown":"Could you past what errors are you getting and it would also help if you posted the client code as well.","body":"Could you past what errors are you getting and it would also help if you posted the client code as well."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1453678343,"post_id":7022063,"comment_id":57694858,"body_markdown":"`isConnected()` is not a valid test for an active connection. The connection is up until you read end of stream, or an `IOException` other than `SocketTimeoutException` occurs.","body":"<code>isConnected()</code> is not a valid test for an active connection. The connection is up until you read end of stream, or an <code>IOException</code> other than <code>SocketTimeoutException</code> occurs."}],"answers":[{"tags":[],"owner":{"account_id":444024,"reputation":134,"user_id":835602,"display_name":"kvDennis"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1313149805,"creation_date":1313047690,"answer_id":7022301,"question_id":7022063,"body_markdown":"Only create the ObjectInputStream once (outside the loop) for a client connection, then put the readObject method into the loop.\r\n\r\nHere&#39;s a working test class:\r\n\r\n\r\n    public class TestPrg {\r\n    \r\n        public static void main(String... args) throws IOException {\r\n            ServerListener server = new ServerListener();\r\n            server.start();\r\n    \r\n            Socket socketToServer = new Socket(&quot;localhost&quot;, 15000);\r\n            ObjectOutputStream outStream = new ObjectOutputStream(socketToServer.getOutputStream());\r\n    \r\n            for (int i=1; i&lt;10; i++) {\r\n                try {\r\n                    Thread.sleep((long) (Math.random()*3000));\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;Sending object to server ...&quot;);\r\n                outStream.writeObject(&quot;test message #&quot;+i);\r\n            }\r\n            System.exit(0);\r\n    \r\n        }\r\n    \r\n        static class ServerListener extends Thread {\r\n    \r\n            private ServerSocket serverSocket;\r\n    \r\n            ServerListener() throws IOException {\r\n                serverSocket = ServerSocketFactory.getDefault().createServerSocket(15000);\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                while (true) {\r\n                    try {\r\n                        final Socket socketToClient = serverSocket.accept();\r\n                        ClientHandler clientHandler = new ClientHandler(socketToClient);\r\n                        clientHandler.start();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        static class ClientHandler extends Thread{\r\n            private Socket socket;\r\n            ObjectInputStream inputStream;\r\n    \r\n            ClientHandler(Socket socket) throws IOException {\r\n                this.socket = socket;\r\n                inputStream = new ObjectInputStream(socket.getInputStream());\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                while (true) {\r\n                    try {\r\n                        Object o = inputStream.readObject();\r\n                        System.out.println(&quot;Read object: &quot;+o);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        \r\n                    } catch (ClassNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nIn this example Strings are sent trough the ObjectStream. If you get the ClassNotFoundException (http://download.oracle.com/javase/6/docs/api/java/io/ObjectInputStream.html#readObject()) and are using an independent client and server program than you might check if both the client and the server have the class of the object to send in their class paths.\r\n","title":"Java - Listening to a socket with ObjectInputStream","body":"<p>Only create the ObjectInputStream once (outside the loop) for a client connection, then put the readObject method into the loop.</p>\n\n<p>Here's a working test class:</p>\n\n<pre><code>public class TestPrg {\n\n    public static void main(String... args) throws IOException {\n        ServerListener server = new ServerListener();\n        server.start();\n\n        Socket socketToServer = new Socket(\"localhost\", 15000);\n        ObjectOutputStream outStream = new ObjectOutputStream(socketToServer.getOutputStream());\n\n        for (int i=1; i&lt;10; i++) {\n            try {\n                Thread.sleep((long) (Math.random()*3000));\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(\"Sending object to server ...\");\n            outStream.writeObject(\"test message #\"+i);\n        }\n        System.exit(0);\n\n    }\n\n    static class ServerListener extends Thread {\n\n        private ServerSocket serverSocket;\n\n        ServerListener() throws IOException {\n            serverSocket = ServerSocketFactory.getDefault().createServerSocket(15000);\n        }\n\n        @Override\n        public void run() {\n            while (true) {\n                try {\n                    final Socket socketToClient = serverSocket.accept();\n                    ClientHandler clientHandler = new ClientHandler(socketToClient);\n                    clientHandler.start();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    static class ClientHandler extends Thread{\n        private Socket socket;\n        ObjectInputStream inputStream;\n\n        ClientHandler(Socket socket) throws IOException {\n            this.socket = socket;\n            inputStream = new ObjectInputStream(socket.getInputStream());\n        }\n\n        @Override\n        public void run() {\n            while (true) {\n                try {\n                    Object o = inputStream.readObject();\n                    System.out.println(\"Read object: \"+o);\n                } catch (IOException e) {\n                    e.printStackTrace();\n\n                } catch (ClassNotFoundException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>In this example Strings are sent trough the ObjectStream. If you get the ClassNotFoundException (http://download.oracle.com/javase/6/docs/api/java/io/ObjectInputStream.html#readObject()) and are using an independent client and server program than you might check if both the client and the server have the class of the object to send in their class paths.</p>\n"},{"tags":[],"owner":{"account_id":18841618,"reputation":139,"user_id":13742910,"display_name":"watislaf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645472043,"creation_date":1645472043,"answer_id":71212040,"question_id":7022063,"body_markdown":"The problem i personally had with Sockets and ObjectIOStream, is that it remembers all your object addresses, so each time you send and recive them on the client, if the address of sent object is not changed it will be copied from buffer. So \r\nSo \r\n* or create new objects each time you send them ( this is not a bad idiea, because ObjectIOStream seems to has limits on this buffer) \r\n* or use another Stream for these perpouse ","title":"Java - Listening to a socket with ObjectInputStream","body":"<p>The problem i personally had with Sockets and ObjectIOStream, is that it remembers all your object addresses, so each time you send and recive them on the client, if the address of sent object is not changed it will be copied from buffer. So\nSo</p>\n<ul>\n<li>or create new objects each time you send them ( this is not a bad idiea, because ObjectIOStream seems to has limits on this buffer)</li>\n<li>or use another Stream for these perpouse</li>\n</ul>\n"}],"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39769,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1645472043,"creation_date":1313046284,"question_id":7022063,"body_markdown":"Ok so , i have a thread class called &#39;Client&#39; every time the server accepts a connection it creates a new Client....The run method listens for messages from the client and i am useing ObjectInputStream ..\r\n\r\n\r\n       do {            \r\n             ObjectInputStream in = null;\r\n\r\n            try {\r\n                in = new ObjectInputStream(socket.getInputStream());\r\n                String message = (String) in.readObject();\r\n                System.out.println(message);\r\n                }\r\n                catch (ClassNotFoundException ex) {\r\n                    isConnected = false;\r\n                    System.out.println(&quot;Progoramming Error&quot;);\r\n                }\r\n                catch (IOException ex) {\r\n                    isConnected = false;\r\n                    System.out.println(&quot;Server ShutDown&quot;);\r\n                    System.exit(0);\r\n                }\r\n        } while(isConnected);\r\n\r\nThe Problem i have is that why do i have to create a new ObjectInputStream every time it loops...and if i close the input stream at the end of the loop and it loops again for another message i will get a error...Please some one help\r\n","title":"Java - Listening to a socket with ObjectInputStream","body":"<p>Ok so , i have a thread class called 'Client' every time the server accepts a connection it creates a new Client....The run method listens for messages from the client and i am useing ObjectInputStream ..</p>\n\n<pre><code>   do {            \n         ObjectInputStream in = null;\n\n        try {\n            in = new ObjectInputStream(socket.getInputStream());\n            String message = (String) in.readObject();\n            System.out.println(message);\n            }\n            catch (ClassNotFoundException ex) {\n                isConnected = false;\n                System.out.println(\"Progoramming Error\");\n            }\n            catch (IOException ex) {\n                isConnected = false;\n                System.out.println(\"Server ShutDown\");\n                System.exit(0);\n            }\n    } while(isConnected);\n</code></pre>\n\n<p>The Problem i have is that why do i have to create a new ObjectInputStream every time it loops...and if i close the input stream at the end of the loop and it loops again for another message i will get a error...Please some one help</p>\n"},{"tags":["java","spring","soap","apache-axis"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645515705,"post_id":71211947,"comment_id":125885020,"body_markdown":"Which version of Axis2 are you using, and I wouldn&#39;t expect that to be compatible anymore (at least YMMV). Is the `spring-mycontext.xml` really at the root of your classpath?","body":"Which version of Axis2 are you using, and I wouldn&#39;t expect that to be compatible anymore (at least YMMV). Is the <code>spring-mycontext.xml</code> really at the root of your classpath?"},{"owner":{"account_id":1739294,"reputation":1965,"user_id":1591156,"accept_rate":40,"display_name":"user1591156"},"score":0,"creation_date":1645538627,"post_id":71211947,"comment_id":125893854,"body_markdown":"@M.Deinum, as part of migration i had to update the axi2-spring jar from 1.3 to 1.8. and yes, ```spring-mycontext.xml``` is in classpath and location is ```src/main/resources```","body":"@M.Deinum, as part of migration i had to update the axi2-spring jar from 1.3 to 1.8. and yes, <code>spring-mycontext.xml</code> is in classpath and location is <code>src&#47;main&#47;resources</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645539255,"post_id":71211947,"comment_id":125894169,"body_markdown":"The `contextConfigLocation` is laoded by the `ContextLoaderListener` in Spring. Judging from the code of axis (had a quick glance) you now get a different error.","body":"The <code>contextConfigLocation</code> is laoded by the <code>ContextLoaderListener</code> in Spring. Judging from the code of axis (had a quick glance) you now get a different error."},{"owner":{"account_id":1739294,"reputation":1965,"user_id":1591156,"accept_rate":40,"display_name":"user1591156"},"score":0,"creation_date":1645542560,"post_id":71211947,"comment_id":125895734,"body_markdown":"@M.Deinum, I see in axis2-spring 1.8 has different way to load the application context.. they are looking for ```axisService.getParameter(&quot;SpringApplicationContext&quot;)``` and in axis2-spring 1.3 uses ```ApplicationContext aCtx = ApplicationContextHolder.getContext();```\nnow i am getting ```SpringApplicationContext``` not found.. so does it mean i need to remove the application context file from web.xml and use axis to to load it?","body":"@M.Deinum, I see in axis2-spring 1.8 has different way to load the application context.. they are looking for <code>axisService.getParameter(&quot;SpringApplicationContext&quot;)</code> and in axis2-spring 1.3 uses <code>ApplicationContext aCtx = ApplicationContextHolder.getContext();</code> now i am getting <code>SpringApplicationContext</code> not found.. so does it mean i need to remove the application context file from web.xml and use axis to to load it?"}],"owner":{"account_id":1739294,"reputation":1965,"user_id":1591156,"accept_rate":40,"display_name":"user1591156"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645471495,"creation_date":1645471495,"question_id":71211947,"body_markdown":"I have updated the spring version from 3 to 5 but i see error when i make a request to my application\r\n\r\n```\r\nSpring context file cannot be located for AxisService\r\norg.apache.axis2.AxisFault: Spring context file cannot be located for AxisService\r\n\tat org.apache.axis2.extensions.spring.util.ApplicationContextUtil.getSpringApplicationContext(ApplicationContextUtil.java:120)\r\n\tat org.apache.axis2.extensions.spring.receivers.SpringAppContextAwareObjectSupplier.getServiceObject(SpringAppContextAwareObjectSupplier.java:47)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.axis2.receivers.AbstractMessageReceiver.makeNewServiceObject(AbstractMessageReceiver.java:176)\r\n\tat org.apache.axis2.receivers.AbstractMessageReceiver.getTheImplementationObject(AbstractMessageReceiver.java:224)\r\n\tat org.apache.axis2.receivers.RawXMLINOutMessageReceiver.invokeBusinessLogic(RawXMLINOutMessageReceiver.java:84)\r\n\tat org.apache.axis2.receivers.AbstractInOutSyncMessageReceiver.invokeBusinessLogic(AbstractInOutSyncMessageReceiver.java:42)\r\n\tat org.apache.axis2.receivers.AbstractMessageReceiver.receive(AbstractMessageReceiver.java:96)\r\n\tat org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:145)\r\n\tat org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:275)\r\n\tat org.apache.axis2.transport.http.AxisServlet.doPost(AxisServlet.java:120)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.nationwide.cma.security.filter.XSSFilter.doFilter(XSSFilter.java:34)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:186)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748\r\n\r\n```\r\n\r\nI have my context initialized  in web.xml like below\r\n```\r\n&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;classpath:spring-mycontex.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n```\r\nalso i have below entry in my ```spring-mycontex.xml```\r\n\r\n```\r\n&lt;bean id=&quot;Axis2ApplicationContext&quot; class=&quot;org.apache.axis2.extensions.spring.receivers.ApplicationContextHolder&quot; /&gt;\r\n\r\n```\r\n\r\nIs there anyway to see what is causing this error?","title":"Upgrade spring 3.X to 5.X shows error while running application","body":"<p>I have updated the spring version from 3 to 5 but i see error when i make a request to my application</p>\n<pre><code>Spring context file cannot be located for AxisService\norg.apache.axis2.AxisFault: Spring context file cannot be located for AxisService\n    at org.apache.axis2.extensions.spring.util.ApplicationContextUtil.getSpringApplicationContext(ApplicationContextUtil.java:120)\n    at org.apache.axis2.extensions.spring.receivers.SpringAppContextAwareObjectSupplier.getServiceObject(SpringAppContextAwareObjectSupplier.java:47)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.axis2.receivers.AbstractMessageReceiver.makeNewServiceObject(AbstractMessageReceiver.java:176)\n    at org.apache.axis2.receivers.AbstractMessageReceiver.getTheImplementationObject(AbstractMessageReceiver.java:224)\n    at org.apache.axis2.receivers.RawXMLINOutMessageReceiver.invokeBusinessLogic(RawXMLINOutMessageReceiver.java:84)\n    at org.apache.axis2.receivers.AbstractInOutSyncMessageReceiver.invokeBusinessLogic(AbstractInOutSyncMessageReceiver.java:42)\n    at org.apache.axis2.receivers.AbstractMessageReceiver.receive(AbstractMessageReceiver.java:96)\n    at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:145)\n    at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:275)\n    at org.apache.axis2.transport.http.AxisServlet.doPost(AxisServlet.java:120)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.nationwide.cma.security.filter.XSSFilter.doFilter(XSSFilter.java:34)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:186)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:660)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748\n\n</code></pre>\n<p>I have my context initialized  in web.xml like below</p>\n<pre><code>&lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring-mycontex.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n</code></pre>\n<p>also i have below entry in my <code>spring-mycontex.xml</code></p>\n<pre><code>&lt;bean id=&quot;Axis2ApplicationContext&quot; class=&quot;org.apache.axis2.extensions.spring.receivers.ApplicationContextHolder&quot; /&gt;\n\n</code></pre>\n<p>Is there anyway to see what is causing this error?</p>\n"},{"tags":["java","arrays","sorting","arraylist"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1645467756,"post_id":71211198,"comment_id":125874408,"body_markdown":"You want to find the duplicated maps (that have completely identical entries) and store them into a separate list, right?","body":"You want to find the duplicated maps (that have completely identical entries) and store them into a separate list, right?"},{"owner":{"account_id":9286925,"reputation":373,"user_id":6896500,"accept_rate":86,"display_name":"Csanchez"},"score":0,"creation_date":1645468200,"post_id":71211198,"comment_id":125874561,"body_markdown":"@AlexanderIvanchenko yes, you&#39;re right.","body":"@AlexanderIvanchenko yes, you&#39;re right."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645471086,"creation_date":1645468490,"answer_id":71211381,"question_id":71211198,"body_markdown":"The most performant way to do that is to create a histogram of frequencies. I.e. a map that will use your maps from the source list as keys and values will represent the number of occurrences of each map in the list.\r\n\r\nThat is how it could be implemented using Stream API.\r\n```java\r\nprivate static List&lt;Map&lt;String, Object&gt;&gt; groupMaps(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\r\n    return mapList.stream()\r\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n                .entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue() &gt; 1)\r\n                .map(Map.Entry::getKey)\r\n                .collect(Collectors.toList());\r\n}\r\n```\r\nThe same result can be achieved using an iterative approach. The main logic remains the same: \r\n* create a *map* of frequencies; \r\n* then extract *duplicates* based on it.\r\n```java\r\n    private static List&lt;Map&lt;String, Object&gt;&gt; groupMaps(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\r\n        Map&lt;Map&lt;String, Object&gt;, Integer&gt; histogram = getHist(mapList);\r\n        List&lt;Map&lt;String, Object&gt;&gt; duplicates = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;Map&lt;String, Object&gt;, Integer&gt; entry: histogram.entrySet()) {\r\n            if (entry.getValue() &gt; 1) {\r\n                duplicates.add(entry.getKey());\r\n            }\r\n        }\r\n        return duplicates;\r\n    }\r\n\r\n    private static Map&lt;Map&lt;String, Object&gt;, Integer&gt; getHist(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\r\n        Map&lt;Map&lt;String, Object&gt;, Integer&gt; histogram = new HashMap&lt;&gt;();\r\n        for (Map&lt;String, Object&gt; next: mapList) {\r\n            histogram.merge(next, 1, Integer::sum);\r\n        }\r\n        return histogram;\r\n    }\r\n```\r\n**Output** for your example (both versions)\r\n```none\r\n[{entity2=19820272}, {entity1=19820271}]\r\n```\r\n__________________________________________________\r\n**Note**, if you are working on this problem just for exercise it&#39;s OK, but you should be aware that using `Object` as a generic type is as good as not using generics at all. If your map is intended to store string values then it has to be `Map&lt;String, String&gt;`.","title":"Compare maps stored in a list in java","body":"<p>The most performant way to do that is to create a histogram of frequencies. I.e. a map that will use your maps from the source list as keys and values will represent the number of occurrences of each map in the list.</p>\n<p>That is how it could be implemented using Stream API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;Map&lt;String, Object&gt;&gt; groupMaps(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\n    return mapList.stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n                .entrySet().stream()\n                .filter(entry -&gt; entry.getValue() &gt; 1)\n                .map(Map.Entry::getKey)\n                .collect(Collectors.toList());\n}\n</code></pre>\n<p>The same result can be achieved using an iterative approach. The main logic remains the same:</p>\n<ul>\n<li>create a <em>map</em> of frequencies;</li>\n<li>then extract <em>duplicates</em> based on it.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    private static List&lt;Map&lt;String, Object&gt;&gt; groupMaps(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\n        Map&lt;Map&lt;String, Object&gt;, Integer&gt; histogram = getHist(mapList);\n        List&lt;Map&lt;String, Object&gt;&gt; duplicates = new ArrayList&lt;&gt;();\n        for (Map.Entry&lt;Map&lt;String, Object&gt;, Integer&gt; entry: histogram.entrySet()) {\n            if (entry.getValue() &gt; 1) {\n                duplicates.add(entry.getKey());\n            }\n        }\n        return duplicates;\n    }\n\n    private static Map&lt;Map&lt;String, Object&gt;, Integer&gt; getHist(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\n        Map&lt;Map&lt;String, Object&gt;, Integer&gt; histogram = new HashMap&lt;&gt;();\n        for (Map&lt;String, Object&gt; next: mapList) {\n            histogram.merge(next, 1, Integer::sum);\n        }\n        return histogram;\n    }\n</code></pre>\n<p><strong>Output</strong> for your example (both versions)</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{entity2=19820272}, {entity1=19820271}]\n</code></pre>\n<hr />\n<p><strong>Note</strong>, if you are working on this problem just for exercise it's OK, but you should be aware that using <code>Object</code> as a generic type is as good as not using generics at all. If your map is intended to store string values then it has to be <code>Map&lt;String, String&gt;</code>.</p>\n"}],"owner":{"account_id":9286925,"reputation":373,"user_id":6896500,"accept_rate":86,"display_name":"Csanchez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645471086,"creation_date":1645467430,"question_id":71211198,"body_markdown":"Is possible to compare many maps stored in an arrayList?\r\n\r\nI mean:\r\n \r\n\r\n    public static void main(String[] args) {\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; mapList = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; entry1  = new HashMap&lt;&gt;();\r\n\t\tMap&lt;String, Object&gt; entry2  = new HashMap&lt;&gt;();\r\n\t\tMap&lt;String, Object&gt; entry3  = new HashMap&lt;&gt;();\r\n\t\tMap&lt;String, Object&gt; entry4  = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tentry1.put(&quot;entity1&quot;, &quot;19820271&quot;);\r\n\t\tentry2.put(&quot;entity1&quot;, &quot;19820271&quot;);\r\n\t\tentry3.put(&quot;entity2&quot;, &quot;19820272&quot;);\r\n\t\tentry4.put(&quot;entity2&quot;, &quot;19820272&quot;);\r\n\t\t\r\n\t\tmapList.add(entry1);\r\n\t\tmapList.add(entry2);\r\n\t\tmapList.add(entry3);\r\n\t\tmapList.add(entry4);\r\n\t\t\r\n\t\tgroupMaps(mapList);\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static List&lt;Map&lt;String, Object&gt;&gt; groupMaps(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; resultante = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; mapList.size(); i++) {\r\n\t\t\tMap&lt;String, Object&gt; map1= mapList.get(0);\r\n\t\t\tfor (Map.Entry&lt;String, Object&gt; entry : mapList.get(i).entrySet()) {\r\n\t\t\t\tif (entry.getValue().equals(map1.get(&quot;entity&quot;))) {\r\n\t\t\t\t\tresultante.add(mapList.get(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn mapList;\r\n\t}\r\n\r\n\r\nIn the &quot;groupMaps&quot; method I need to compare each map so I can group by match, for example:\r\n\r\nmap1 matches map2\r\n\r\nmap3 matches map7\r\n\r\nmap4 matches map5\r\n\r\nand so on...\r\n\r\nIs there any way to do it?\r\n","title":"Compare maps stored in a list in java","body":"<p>Is possible to compare many maps stored in an arrayList?</p>\n<p>I mean:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Map&lt;String, Object&gt;&gt; mapList = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\n    \n    Map&lt;String, Object&gt; entry1  = new HashMap&lt;&gt;();\n    Map&lt;String, Object&gt; entry2  = new HashMap&lt;&gt;();\n    Map&lt;String, Object&gt; entry3  = new HashMap&lt;&gt;();\n    Map&lt;String, Object&gt; entry4  = new HashMap&lt;&gt;();\n    \n    entry1.put(&quot;entity1&quot;, &quot;19820271&quot;);\n    entry2.put(&quot;entity1&quot;, &quot;19820271&quot;);\n    entry3.put(&quot;entity2&quot;, &quot;19820272&quot;);\n    entry4.put(&quot;entity2&quot;, &quot;19820272&quot;);\n    \n    mapList.add(entry1);\n    mapList.add(entry2);\n    mapList.add(entry3);\n    mapList.add(entry4);\n    \n    groupMaps(mapList);\n    \n}\n\nprivate static List&lt;Map&lt;String, Object&gt;&gt; groupMaps(List&lt;Map&lt;String, Object&gt;&gt; mapList) {\n    List&lt;Map&lt;String, Object&gt;&gt; resultante = new ArrayList&lt;&gt;();\n    \n    for (int i = 0; i &lt; mapList.size(); i++) {\n        Map&lt;String, Object&gt; map1= mapList.get(0);\n        for (Map.Entry&lt;String, Object&gt; entry : mapList.get(i).entrySet()) {\n            if (entry.getValue().equals(map1.get(&quot;entity&quot;))) {\n                resultante.add(mapList.get(i));\n            }\n        }\n    }\n    return mapList;\n}\n</code></pre>\n<p>In the &quot;groupMaps&quot; method I need to compare each map so I can group by match, for example:</p>\n<p>map1 matches map2</p>\n<p>map3 matches map7</p>\n<p>map4 matches map5</p>\n<p>and so on...</p>\n<p>Is there any way to do it?</p>\n"},{"tags":["java","sql","spring","jpa"],"comments":[{"owner":{"account_id":23076022,"reputation":123,"user_id":17188947,"display_name":"Peter Shneider"},"score":0,"creation_date":1644081688,"post_id":71000043,"comment_id":125513119,"body_markdown":"I need to select from DATA BASE","body":"I need to select from DATA BASE"}],"answers":[{"tags":[],"owner":{"account_id":16886220,"reputation":11,"user_id":12210967,"display_name":"WeinSim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644080843,"creation_date":1644080843,"answer_id":71000251,"question_id":71000043,"body_markdown":"You have a `Set&lt;String&gt;` from which you want to get all Strings that contain the substring &quot;car&quot;, I assume. For this, you can iterate over the entire set, and only select the Strings that contain your desired substring:\r\n```java\r\npublic Set&lt;String&gt; getSubsetThatContains(Set&lt;String&gt; input, String sub) {\r\n    Set&lt;String&gt; output = new HashSet&lt;&gt;();\r\n    for (String string: input) {\r\n        if (string.contains(sub)) {\r\n            output.add(string);\r\n        }\r\n    }\r\n    return output;\r\n}\r\n```","title":"How to select string contains all substring in JPA","body":"<p>You have a <code>Set&lt;String&gt;</code> from which you want to get all Strings that contain the substring &quot;car&quot;, I assume. For this, you can iterate over the entire set, and only select the Strings that contain your desired substring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Set&lt;String&gt; getSubsetThatContains(Set&lt;String&gt; input, String sub) {\n    Set&lt;String&gt; output = new HashSet&lt;&gt;();\n    for (String string: input) {\n        if (string.contains(sub)) {\n            output.add(string);\n        }\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23076022,"reputation":123,"user_id":17188947,"display_name":"Peter Shneider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645470697,"creation_date":1645470697,"answer_id":71211794,"question_id":71000043,"body_markdown":"I done it.\r\n\r\nWhere word something like: &quot;test cool car&quot;.\r\n\r\n    private List&lt;Phrase&gt; find(final String word) {\r\n    final StringBuilder words = new StringBuilder();\r\n\r\n    Arrays.stream(word.split(&quot; &quot;)).collect(Collectors.toList())\r\n            .stream()\r\n            .filter(StringUtils::isNotEmpty)\r\n            .forEach(s -&gt; {\r\n                if (StringUtils.isEmpty(words.toString())) {\r\n                    words.append(&quot;%&quot;).append(s);\r\n                } else {\r\n                    words.append(&quot;%&quot;).append(s).append(&quot;%&quot;);\r\n                }\r\n            });\r\n\r\n    return repository.findAllByEngIn(words.toString());\r\n}\r\n\r\n    //Need to put words like %car%cool%\r\n    @Query(nativeQuery = true, value = &quot;SELECT * FROM Phrases as p WHERE p.eng LIKE (:words)&quot;)\r\n    List findAllByEngIn(final String words);","title":"How to select string contains all substring in JPA","body":"<p>I done it.</p>\n<p>Where word something like: &quot;test cool car&quot;.</p>\n<pre><code>private List&lt;Phrase&gt; find(final String word) {\nfinal StringBuilder words = new StringBuilder();\n\nArrays.stream(word.split(&quot; &quot;)).collect(Collectors.toList())\n        .stream()\n        .filter(StringUtils::isNotEmpty)\n        .forEach(s -&gt; {\n            if (StringUtils.isEmpty(words.toString())) {\n                words.append(&quot;%&quot;).append(s);\n            } else {\n                words.append(&quot;%&quot;).append(s).append(&quot;%&quot;);\n            }\n        });\n\nreturn repository.findAllByEngIn(words.toString());\n</code></pre>\n<p>}</p>\n<pre><code>//Need to put words like %car%cool%\n@Query(nativeQuery = true, value = &quot;SELECT * FROM Phrases as p WHERE p.eng LIKE (:words)&quot;)\nList findAllByEngIn(final String words);\n</code></pre>\n"}],"owner":{"account_id":23076022,"reputation":123,"user_id":17188947,"display_name":"Peter Shneider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":687,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1645470697,"creation_date":1644079493,"question_id":71000043,"body_markdown":"I want to select string from table that contains ALL substrings. For example, I have table CAR_DESCRIPTION that contains raws in colum Desc for example: \r\n\r\n    tesla is super car\r\n    \r\n    bmw is cool car\r\n    \r\n    opel is budget car\r\n\r\nAnd I want to select first raw (tesla is super car) by this substring (tesla, car).\r\n\r\nI try to use: \r\n\r\n    findAllByDescIn(final Set&lt;String&gt; words);\r\n\r\n but i get all this raws because all of them contains word car.","title":"How to select string contains all substring in JPA","body":"<p>I want to select string from table that contains ALL substrings. For example, I have table CAR_DESCRIPTION that contains raws in colum Desc for example:</p>\n<pre><code>tesla is super car\n\nbmw is cool car\n\nopel is budget car\n</code></pre>\n<p>And I want to select first raw (tesla is super car) by this substring (tesla, car).</p>\n<p>I try to use:</p>\n<pre><code>findAllByDescIn(final Set&lt;String&gt; words);\n</code></pre>\n<p>but i get all this raws because all of them contains word car.</p>\n"},{"tags":["java","simulation","conways-game-of-life"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1645470906,"post_id":71211648,"comment_id":125875455,"body_markdown":"Read [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code.","body":"Read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645470452,"creation_date":1645470452,"answer_id":71211746,"question_id":71211648,"body_markdown":"`new_board = board` doesn&#39;t do what you want it to. It just sets one the value of the `new_board` variable to the current value of the `board` variable... both are references. That means you&#39;re modifying the same board that you&#39;re examining... whereas you want to construct a new board based solely on the contents of the old board.\r\n\r\nRemove the `new_board` field (which you don&#39;t need), then change this:\r\n\r\n```java\r\nnew_board = board;\r\n```\r\n\r\nto\r\n\r\n```java\r\nboolean[][] new_board = new boolean[gol.dimX][gol.dimY];\r\n```\r\n\r\nand then at the end of the method, add:\r\n\r\n```java\r\nboard = new_board;\r\n```\r\n\r\n... so that the old board is replaced with the new board. It&#39;s possible that there are other problems with your logic, but that&#39;s the most obvious one.\r\n\r\nI&#39;d also *strongly* advise you to get rid of all your threading code in `calcBoard` and `genImage`. All you&#39;re doing is creating a new thread to do something, then waiting for that thread to finish... that doesn&#39;t do any good (it still blocks until the work is complete) but it makes the code more complex.\r\n\r\n(I&#39;d also suggest reformatting the `stop` method so that it&#39;s not all on one line, which makes it really hard to read. In general, I&#39;d suggest reformatting the whole code, in fact. Just tell your IDE to reformat the whole thing.)","title":"Why is my Game Of Life simulation so inaccurate?","body":"<p><code>new_board = board</code> doesn't do what you want it to. It just sets one the value of the <code>new_board</code> variable to the current value of the <code>board</code> variable... both are references. That means you're modifying the same board that you're examining... whereas you want to construct a new board based solely on the contents of the old board.</p>\n<p>Remove the <code>new_board</code> field (which you don't need), then change this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new_board = board;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean[][] new_board = new boolean[gol.dimX][gol.dimY];\n</code></pre>\n<p>and then at the end of the method, add:</p>\n<pre class=\"lang-java prettyprint-override\"><code>board = new_board;\n</code></pre>\n<p>... so that the old board is replaced with the new board. It's possible that there are other problems with your logic, but that's the most obvious one.</p>\n<p>I'd also <em>strongly</em> advise you to get rid of all your threading code in <code>calcBoard</code> and <code>genImage</code>. All you're doing is creating a new thread to do something, then waiting for that thread to finish... that doesn't do any good (it still blocks until the work is complete) but it makes the code more complex.</p>\n<p>(I'd also suggest reformatting the <code>stop</code> method so that it's not all on one line, which makes it really hard to read. In general, I'd suggest reformatting the whole code, in fact. Just tell your IDE to reformat the whole thing.)</p>\n"}],"owner":{"account_id":24332985,"reputation":3,"user_id":18271549,"display_name":"Snowdingerr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71211746,"answer_count":1,"score":0,"last_activity_date":1645470452,"creation_date":1645469979,"question_id":71211648,"body_markdown":"I&#39;ve had that project in my head for a few weeks so I made a game of life simulation program\r\nbut after comparing it to this simulation (https://playgameoflife.com/), none of what i&#39;ve codded is accurate even tho I respected the rules in my code ...\r\n\r\nis my code not correct ? what&#39;s wrong ?\r\n\r\n(https://pastebin.com/SpMFQGJL)\r\n\r\n        public class GameOfLife {\r\n    \r\n    \t/*\r\n    \t * STATIC PART - ENTRY POINT\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tGameOfLife gol = new GameOfLife(new Dimension(480,270),4, true, new Random().nextInt(), new Random().nextInt(25)).init();\r\n    \t\tgol.start();\r\n    \t}\r\n    \t\r\n    \t/*\r\n    \t * GameOfLife Class content\r\n    \t */\r\n    \t\r\n    \t/*\r\n    \t * GameGrid Vars (requiered for game grid)\r\n    \t * dimX = game of life grid size on X axis\r\n    \t * dimY = game of life grid size on Y axis\r\n    \t * cellScale = size of cells on X and Y axis on screen display\r\n    \t * fillperc = chances of a cell to be alive on grid generation\r\n    \t * borderTeleporter = is wall teleporter (on other side of map) !!useless at the moment!!\r\n    \t */\r\n    \tpublic int dimX;\r\n    \tpublic int dimY;\r\n    \tpublic int cellScale;\r\n    \tpublic int fillperc;\r\n    \tpublic boolean borderTeleporter;\r\n    \t/*\r\n    \t * Generation vars\r\n    \t */\r\n    \tpublic int currentSeed = 0;\r\n    \tpublic int generation = 0;\r\n    \t\r\n    \t//Thread clock = the thread the game of life clock is on\r\n    \tpublic Thread clock;\r\n    \t\r\n    \t/*\r\n    \t * frame = the frame the game of life grid is drawn on\r\n    \t * game_grid = component of game of life\r\n    \t */\r\n    \tpublic JFrame frame;\r\n    \tpublic GameGrid game_grid;\r\n    \t\r\n    \t/*\r\n    \t * GameOfLife\r\n    \t * @params args\r\n    \t */\r\n    \tpublic GameOfLife(Dimension boardDimension, int cellScale, boolean borderTeleporter,int seed,int fillperc) {\r\n    \t\tif(seed != 0) currentSeed = seed;\r\n    \t\tthis.dimX = (int) boardDimension.getWidth();\r\n    \t\tthis.dimY = (int) boardDimension.getHeight();\r\n    \t\tthis.cellScale = cellScale;\r\n    \t\tthis.borderTeleporter = borderTeleporter;\r\n    \t\tthis.fillperc = fillperc;\r\n    \t}\r\n    \t\r\n    \tpublic GameOfLife init() {\r\n    \t\tif(currentSeed == 0) currentSeed = new Random().nextInt();\r\n    \t\tthis.game_grid = new GameGrid(this).genBoard();\r\n    \t\tframe = new JFrame(&quot;Map: &quot; + currentSeed + &quot;   Generation: &quot; + generation);\r\n    \t\tframe.setUndecorated(true);\r\n    \t\tframe.addWindowListener(new WindowAdapter() {@Override public void windowClosing(WindowEvent e) {running = false;try{clock.join();}catch(Exception exx) {System.out.println(&quot;impossible de tuer le thread clock&quot;);};System.exit(0);}});\r\n    \t\tframe.addKeyListener(new KeyListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void keyTyped(KeyEvent e) {}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void keyReleased(KeyEvent e) {if(e.getKeyCode() == 32) {if(running)stop();else start();}else if(e.getKeyCode() == 116) {stop();fillperc = new Random().nextInt(25);currentSeed = new Random().nextInt();game_grid.genBoard();start();}}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void keyPressed(KeyEvent e) {}\r\n    \t\t});\r\n    \t\tframe.setPreferredSize(new Dimension(dimX*cellScale,dimY*cellScale));\r\n    \t\tframe.pack();\r\n    \t\tframe.add(game_grid);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic boolean running = false;\r\n    \tpublic void start() {\r\n    \t\trunning = true;\r\n    \t\tclock = new Thread(new Runnable() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile(running) {\r\n    \t\t\t\t\tframe.setTitle(&quot;Map: &quot; + currentSeed + &quot;   Generation: &quot; + generation);\r\n    \t\t\t\t\tgame_grid.calcBoard();\r\n    \t\t\t\t\tframe.repaint();\r\n    \t\t\t\t\tgeneration++;\r\n    \t\t\t\t\ttry {Thread.sleep(50);} catch (InterruptedException e) {e.printStackTrace();}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tclock.start();\r\n    \t}\r\n    \tpublic void stop() {\r\n    \t\trunning = false;try{clock.join();}catch(Exception exx) {System.out.println(&quot;impossible de tuer le thread clock&quot;);}\r\n    \t}\r\n    \r\n    }\r\n\r\nand then the game grid class:\r\n\r\n    public class GameGrid extends JPanel{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate GameOfLife gol;\r\n    \tprivate BufferedImage img;\r\n    \tboolean first = true;\r\n    \tpublic GameGrid(GameOfLife gol) {\r\n    \t\tthis.gol = gol;\r\n    \t}\r\n    \t\r\n    \tpublic boolean[][] board;\r\n    \tpublic boolean[][] new_board;\r\n    \t\r\n    \tpublic GameGrid genBoard() {\r\n    \t\tboard = new boolean[gol.dimX][gol.dimY];\r\n    \t\tRandom seed = new Random(gol.currentSeed);\r\n    \t\tfor(int x = 0; x &lt; gol.dimX; x++) {\r\n    \t\t\tfor(int y = 0; y &lt; gol.dimY; y++) {\r\n    \t\t\t\tboard[x][y] = seed.nextInt(100) &lt; gol.fillperc;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n    \t\r\n    \tpublic void calcBoard() {\r\n    \t\tThread t = new Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew_board = board;\r\n    \t\t\t\tfor(int x = 0; x &lt; gol.dimX; x++) {\r\n    \t\t\t\t\tfor(int y = 0; y &lt; gol.dimY; y++) {\r\n    \t\t\t\t\t\tint n = getAliveNeighbours(x,y);\r\n    \t\t\t\t\t\tif(board[x][y]) {\r\n    \t\t\t\t\t\t\tif(n &gt; 3 || n &lt; 2) new_board[x][y] = false;\r\n    \t\t\t\t\t\t\telse new_board[x][y] = true;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tif(n == 3) new_board[x][y] = true;\r\n    \t\t\t\t\t\t\telse new_board[x][y] = false;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tt.start();\r\n    \t\ttry {t.join();} catch (InterruptedException e) {e.printStackTrace();}\r\n    \t}\r\n    \t\r\n    \tpublic int getAliveNeighbours(int x, int y) {\r\n    \t\tint n = 0;\r\n    \t\tif(isIn(x+1,y+1)) {if(board[x+1][y+1]) {n+=1;}}\r\n    \t\tif(isIn(x,y+1)) {if(board[x][y+1]) {n+=1;}}\r\n    \t\tif(isIn(x-1,y+1)) {if(board[x-1][y+1]) {n+=1;}}\r\n    \t\t\r\n    \r\n    \t\tif(isIn(x+1,y)) {if(board[x+1][y]) {n+=1;}}\r\n    \t\tif(isIn(x-1,y)) {if(board[x-1][y]) {n+=1;}}\r\n    \t\t\r\n    \r\n    \t\tif(isIn(x+1,y-1)) {if(board[x+1][y-1]) {n+=1;}}\r\n    \t\tif(isIn(x,y-1)) {if(board[x][y-1]) {n+=1;}}\r\n    \t\tif(isIn(x-1,y-1)) {if(board[x-1][y-1]) {n+=1;}}\r\n    \t\treturn n;\r\n    \t}\r\n    \t\r\n    \tpublic boolean isIn(int x, int y) {\r\n    \t\tif(x &lt; 0|| x &gt; gol.dimX-1) return false;\r\n    \t\tif(y &lt; 0|| y &gt; gol.dimY-1) return false;\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \tpublic void genImage() {\r\n    \t\tThread t = new Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tBufferedImage imag = new BufferedImage(gol.dimX*gol.cellScale,gol.dimX*gol.cellScale,BufferedImage.TYPE_INT_RGB);\r\n    \t\t\t\tfor(int x = 0; x &lt; gol.dimX; x++) {\r\n    \t\t\t\t\tfor(int y = 0; y &lt; gol.dimY; y++) {\r\n    \t\t\t\t\t\tint c = 0x000000;\r\n    \t\t\t\t\t\tif(board[x][y]) c = 0xCCCCCC;\r\n    \t\t\t\t\t\tfor(int i = 0; i &lt; gol.cellScale; i++) {\r\n    \t\t\t\t\t\t\tfor(int j = 0; j &lt; gol.cellScale; j++) {\r\n    \t\t\t\t\t\t\t\timag.setRGB(x*gol.cellScale+i, y*gol.cellScale+j, c);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\timg = imag;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tt.start();\r\n    \t\ttry {t.join();} catch (InterruptedException e) {System.out.println(&quot;wesh&quot;);}\r\n    \t}\r\n    \t\r\n    \tpublic void paint(Graphics g) {\r\n    \t\tsuper.paint(g);\r\n    \t\tgenImage();\r\n    \t\tg.drawImage(img, 0, 0, img.getWidth(), img.getHeight(), null);\r\n    \t}\r\n    \r\n    }\r\n\r\nthing that triggers me the most is that everything works fine and the after looking at my code I can&#39;t find what can cause the simulation to be inaccurate","title":"Why is my Game Of Life simulation so inaccurate?","body":"<p>I've had that project in my head for a few weeks so I made a game of life simulation program\nbut after comparing it to this simulation (<a href=\"https://playgameoflife.com/\" rel=\"nofollow noreferrer\">https://playgameoflife.com/</a>), none of what i've codded is accurate even tho I respected the rules in my code ...</p>\n<p>is my code not correct ? what's wrong ?</p>\n<p>(<a href=\"https://pastebin.com/SpMFQGJL\" rel=\"nofollow noreferrer\">https://pastebin.com/SpMFQGJL</a>)</p>\n<pre><code>    public class GameOfLife {\n\n    /*\n     * STATIC PART - ENTRY POINT\n     */\n    public static void main(String[] args) {\n        GameOfLife gol = new GameOfLife(new Dimension(480,270),4, true, new Random().nextInt(), new Random().nextInt(25)).init();\n        gol.start();\n    }\n    \n    /*\n     * GameOfLife Class content\n     */\n    \n    /*\n     * GameGrid Vars (requiered for game grid)\n     * dimX = game of life grid size on X axis\n     * dimY = game of life grid size on Y axis\n     * cellScale = size of cells on X and Y axis on screen display\n     * fillperc = chances of a cell to be alive on grid generation\n     * borderTeleporter = is wall teleporter (on other side of map) !!useless at the moment!!\n     */\n    public int dimX;\n    public int dimY;\n    public int cellScale;\n    public int fillperc;\n    public boolean borderTeleporter;\n    /*\n     * Generation vars\n     */\n    public int currentSeed = 0;\n    public int generation = 0;\n    \n    //Thread clock = the thread the game of life clock is on\n    public Thread clock;\n    \n    /*\n     * frame = the frame the game of life grid is drawn on\n     * game_grid = component of game of life\n     */\n    public JFrame frame;\n    public GameGrid game_grid;\n    \n    /*\n     * GameOfLife\n     * @params args\n     */\n    public GameOfLife(Dimension boardDimension, int cellScale, boolean borderTeleporter,int seed,int fillperc) {\n        if(seed != 0) currentSeed = seed;\n        this.dimX = (int) boardDimension.getWidth();\n        this.dimY = (int) boardDimension.getHeight();\n        this.cellScale = cellScale;\n        this.borderTeleporter = borderTeleporter;\n        this.fillperc = fillperc;\n    }\n    \n    public GameOfLife init() {\n        if(currentSeed == 0) currentSeed = new Random().nextInt();\n        this.game_grid = new GameGrid(this).genBoard();\n        frame = new JFrame(&quot;Map: &quot; + currentSeed + &quot;   Generation: &quot; + generation);\n        frame.setUndecorated(true);\n        frame.addWindowListener(new WindowAdapter() {@Override public void windowClosing(WindowEvent e) {running = false;try{clock.join();}catch(Exception exx) {System.out.println(&quot;impossible de tuer le thread clock&quot;);};System.exit(0);}});\n        frame.addKeyListener(new KeyListener() {\n            \n            @Override\n            public void keyTyped(KeyEvent e) {}\n            \n            @Override\n            public void keyReleased(KeyEvent e) {if(e.getKeyCode() == 32) {if(running)stop();else start();}else if(e.getKeyCode() == 116) {stop();fillperc = new Random().nextInt(25);currentSeed = new Random().nextInt();game_grid.genBoard();start();}}\n            \n            @Override\n            public void keyPressed(KeyEvent e) {}\n        });\n        frame.setPreferredSize(new Dimension(dimX*cellScale,dimY*cellScale));\n        frame.pack();\n        frame.add(game_grid);\n        frame.pack();\n        frame.setVisible(true);\n        return this;\n    }\n    public boolean running = false;\n    public void start() {\n        running = true;\n        clock = new Thread(new Runnable() {\n            \n            @Override\n            public void run() {\n                while(running) {\n                    frame.setTitle(&quot;Map: &quot; + currentSeed + &quot;   Generation: &quot; + generation);\n                    game_grid.calcBoard();\n                    frame.repaint();\n                    generation++;\n                    try {Thread.sleep(50);} catch (InterruptedException e) {e.printStackTrace();}\n                }\n            }\n        });\n        clock.start();\n    }\n    public void stop() {\n        running = false;try{clock.join();}catch(Exception exx) {System.out.println(&quot;impossible de tuer le thread clock&quot;);}\n    }\n\n}\n</code></pre>\n<p>and then the game grid class:</p>\n<pre><code>public class GameGrid extends JPanel{\n    \n    /**\n     * \n     */\n    private GameOfLife gol;\n    private BufferedImage img;\n    boolean first = true;\n    public GameGrid(GameOfLife gol) {\n        this.gol = gol;\n    }\n    \n    public boolean[][] board;\n    public boolean[][] new_board;\n    \n    public GameGrid genBoard() {\n        board = new boolean[gol.dimX][gol.dimY];\n        Random seed = new Random(gol.currentSeed);\n        for(int x = 0; x &lt; gol.dimX; x++) {\n            for(int y = 0; y &lt; gol.dimY; y++) {\n                board[x][y] = seed.nextInt(100) &lt; gol.fillperc;\n            }\n        }\n        return this;\n    }\n    \n    public void calcBoard() {\n        Thread t = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                new_board = board;\n                for(int x = 0; x &lt; gol.dimX; x++) {\n                    for(int y = 0; y &lt; gol.dimY; y++) {\n                        int n = getAliveNeighbours(x,y);\n                        if(board[x][y]) {\n                            if(n &gt; 3 || n &lt; 2) new_board[x][y] = false;\n                            else new_board[x][y] = true;\n                        } else {\n                            if(n == 3) new_board[x][y] = true;\n                            else new_board[x][y] = false;\n                        }\n                    }\n                }\n            }\n        });\n        t.start();\n        try {t.join();} catch (InterruptedException e) {e.printStackTrace();}\n    }\n    \n    public int getAliveNeighbours(int x, int y) {\n        int n = 0;\n        if(isIn(x+1,y+1)) {if(board[x+1][y+1]) {n+=1;}}\n        if(isIn(x,y+1)) {if(board[x][y+1]) {n+=1;}}\n        if(isIn(x-1,y+1)) {if(board[x-1][y+1]) {n+=1;}}\n        \n\n        if(isIn(x+1,y)) {if(board[x+1][y]) {n+=1;}}\n        if(isIn(x-1,y)) {if(board[x-1][y]) {n+=1;}}\n        \n\n        if(isIn(x+1,y-1)) {if(board[x+1][y-1]) {n+=1;}}\n        if(isIn(x,y-1)) {if(board[x][y-1]) {n+=1;}}\n        if(isIn(x-1,y-1)) {if(board[x-1][y-1]) {n+=1;}}\n        return n;\n    }\n    \n    public boolean isIn(int x, int y) {\n        if(x &lt; 0|| x &gt; gol.dimX-1) return false;\n        if(y &lt; 0|| y &gt; gol.dimY-1) return false;\n        return true;\n    }\n    \n    public void genImage() {\n        Thread t = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                BufferedImage imag = new BufferedImage(gol.dimX*gol.cellScale,gol.dimX*gol.cellScale,BufferedImage.TYPE_INT_RGB);\n                for(int x = 0; x &lt; gol.dimX; x++) {\n                    for(int y = 0; y &lt; gol.dimY; y++) {\n                        int c = 0x000000;\n                        if(board[x][y]) c = 0xCCCCCC;\n                        for(int i = 0; i &lt; gol.cellScale; i++) {\n                            for(int j = 0; j &lt; gol.cellScale; j++) {\n                                imag.setRGB(x*gol.cellScale+i, y*gol.cellScale+j, c);\n                            }\n                        }\n                    }\n                }\n                img = imag;\n            }\n        });\n        t.start();\n        try {t.join();} catch (InterruptedException e) {System.out.println(&quot;wesh&quot;);}\n    }\n    \n    public void paint(Graphics g) {\n        super.paint(g);\n        genImage();\n        g.drawImage(img, 0, 0, img.getWidth(), img.getHeight(), null);\n    }\n\n}\n</code></pre>\n<p>thing that triggers me the most is that everything works fine and the after looking at my code I can't find what can cause the simulation to be inaccurate</p>\n"},{"tags":["java","spring-boot","hibernate","jpql"],"answers":[{"tags":[],"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629877932,"creation_date":1629877932,"answer_id":68918906,"question_id":68918820,"body_markdown":"&gt;  `FROM profileEntity p JOIN p.registrationEntity p` \r\n\r\nYou are using the same alias (`p`) twice here. Try with `FROM profileEntity p JOIN p.registrationEntity r`.","title":"Hibernate: Unable to locate appropriate constructor on class in hql","body":"<blockquote>\n<p> <code>FROM profileEntity p JOIN p.registrationEntity p</code> </p>\n</blockquote>\n<p>You are using the same alias (<code>p</code>) twice here. Try with <code>FROM profileEntity p JOIN p.registrationEntity r</code>.</p>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645470169,"creation_date":1629877503,"question_id":68918820,"body_markdown":"I get error while run project:\r\n&gt;org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.meetzen.Dto.profileJoinDto].\r\n\r\nHere down is my code:\r\n\r\n**Entity**\r\n```\r\npublic class profileEntity {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int p_id;\r\n\tprivate String website;\r\n\tprivate String bio;\r\n\tprivate String gender;\r\n\r\n\t@OneToOne(cascade = CascadeType.ALL, targetEntity = registrationEntity.class)\r\n\t@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;u_id&quot;)\r\n\tprivate registrationEntity registrationEntity;\r\n\r\n\t// getter setter\r\n\r\n}\r\n\r\npublic class registrationEntity {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int u_id;\r\n\t@Column(unique = true)\r\n\tprivate String email;\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tprivate String contact;\r\n\tprivate String date;\r\n\r\n\t// getter setter\r\n}\r\n```\r\n\r\n**profileJoinDto**\r\n```\r\npublic class profileJoinDto {\r\n\tprivate Integer u_id;\r\n\tprivate Integer p_id;\r\n\tprivate String email;\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tprivate String contact;\r\n\tprivate String date;\r\n\tprivate String website;\r\n\tprivate String bio;\r\n\tprivate String gender;\r\n\r\n\t// getter setter\r\n}\r\n```\r\n\r\n**profileRepo**\r\n```\r\npublic interface profileRepo extends JpaRepository&lt;profileEntity, Integer&gt;{\r\n\t@Query(&quot;SELECT new com.meetzen.Dto.profileJoinDto(r.username, r.email, r.contact, p.bio, p.website, p.gender) FROM profileEntity p JOIN p.registrationEntity r WHERE r.u_id = ?1&quot;)\r\n\tprofileJoinDto findById(int id);\r\n}\r\n```\r\n**Stacktrace**\r\n```\r\nCaused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.meetzen.Dto.profileJoinDto]. Expected arguments are: java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String [SELECT new com.meetzen.Dto.profileJoinDto(r.username, r.email, r.contact, p.bio, p.website, p.gender) FROM com.meetzen.Entity.profileEntity p JOIN p.registrationEntity r WHERE r.u_id = ?1]\r\n\tat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:282) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\t... 86 common frames omitted\r\n```","title":"Hibernate: Unable to locate appropriate constructor on class in hql","body":"<p>I get error while run project:</p>\n<blockquote>\n<p>org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.meetzen.Dto.profileJoinDto].</p>\n</blockquote>\n<p>Here down is my code:</p>\n<p><strong>Entity</strong></p>\n<pre><code>public class profileEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int p_id;\n    private String website;\n    private String bio;\n    private String gender;\n\n    @OneToOne(cascade = CascadeType.ALL, targetEntity = registrationEntity.class)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;u_id&quot;)\n    private registrationEntity registrationEntity;\n\n    // getter setter\n\n}\n\npublic class registrationEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int u_id;\n    @Column(unique = true)\n    private String email;\n    private String username;\n    private String password;\n    private String contact;\n    private String date;\n\n    // getter setter\n}\n</code></pre>\n<p><strong>profileJoinDto</strong></p>\n<pre><code>public class profileJoinDto {\n    private Integer u_id;\n    private Integer p_id;\n    private String email;\n    private String username;\n    private String password;\n    private String contact;\n    private String date;\n    private String website;\n    private String bio;\n    private String gender;\n\n    // getter setter\n}\n</code></pre>\n<p><strong>profileRepo</strong></p>\n<pre><code>public interface profileRepo extends JpaRepository&lt;profileEntity, Integer&gt;{\n    @Query(&quot;SELECT new com.meetzen.Dto.profileJoinDto(r.username, r.email, r.contact, p.bio, p.website, p.gender) FROM profileEntity p JOIN p.registrationEntity r WHERE r.u_id = ?1&quot;)\n    profileJoinDto findById(int id);\n}\n</code></pre>\n<p><strong>Stacktrace</strong></p>\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.meetzen.Dto.profileJoinDto]. Expected arguments are: java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String [SELECT new com.meetzen.Dto.profileJoinDto(r.username, r.email, r.contact, p.bio, p.website, p.gender) FROM com.meetzen.Entity.profileEntity p JOIN p.registrationEntity r WHERE r.u_id = ?1]\n    at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:282) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    ... 86 common frames omitted\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1645446926,"post_id":71206193,"comment_id":125866111,"body_markdown":"You&#39;re still holding on to `arr` at the point where you&#39;re trying to handle the OOME, which means memory will be **extremely** limited, so there&#39;s a good chance that while trying to *execute* something as simple as `System.exit(137)` you run into yet another error (probably another OOME). Have you tried putting the `arr` declaration and filling it into its own method to ensure that `arr` goes out of scope before trying to handle the exception? You seem to be running into [the second problem mentioned here](https://stackoverflow.com/a/7607003/40342).","body":"You&#39;re still holding on to <code>arr</code> at the point where you&#39;re trying to handle the OOME, which means memory will be <b>extremely</b> limited, so there&#39;s a good chance that while trying to <i>execute</i> something as simple as <code>System.exit(137)</code> you run into yet another error (probably another OOME). Have you tried putting the <code>arr</code> declaration and filling it into its own method to ensure that <code>arr</code> goes out of scope before trying to handle the exception? You seem to be running into <a href=\"https://stackoverflow.com/a/7607003/40342\">the second problem mentioned here</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645447459,"post_id":71206193,"comment_id":125866335,"body_markdown":"Try putting this line inside the `try` block: `List&lt;byte[]&gt; arr = new ArrayList&lt;&gt;();` That way `arr` is out of scope when you enter the `catch` block - as indicated in the previous comment.","body":"Try putting this line inside the <code>try</code> block: <code>List&lt;byte[]&gt; arr = new ArrayList&lt;&gt;();</code> That way <code>arr</code> is out of scope when you enter the <code>catch</code> block - as indicated in the previous comment."},{"owner":{"account_id":10508812,"reputation":3374,"user_id":7745173,"accept_rate":78,"display_name":"Logan Wlv"},"score":0,"creation_date":1645448292,"post_id":71206193,"comment_id":125866631,"body_markdown":"Good catch that was that! I was not expecting Java not to be able to run `System.exit`. Thank you.","body":"Good catch that was that! I was not expecting Java not to be able to run <code>System.exit</code>. Thank you."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1645449197,"post_id":71206193,"comment_id":125867022,"body_markdown":"@LoganWlv: the lesson to take away from this is: correctly handling any `Error`  can be unexpectedly complicated. It&#39;s best if you design your system with the assumption that the handling will fail.","body":"@LoganWlv: the lesson to take away from this is: correctly handling any <code>Error</code>  can be unexpectedly complicated. It&#39;s best if you design your system with the assumption that the handling will fail."}],"answers":[{"tags":[],"owner":{"account_id":479274,"reputation":1025,"user_id":891858,"display_name":"k-sever"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645469952,"creation_date":1645449671,"answer_id":71207046,"question_id":71206193,"body_markdown":"Afaik 137 status means that the JVM was killed by the outside process, and you can&#39;t enforce exiting with this status on OOM from within your app. I didn&#39;t find the official documentation, but this article confirms it http://journal.thobe.org/2013/02/jvms-and-kill-signals.html.\r\n\r\nBasically, if you want to get the 137 code on OOM - your app should be killed by some other process on OOM. You can achieve that by using `-XX:OnOutOfMemoryError` flag that executes some arbitrary script on OOM. I.e.:\r\n#### /scripts/kill.sh ####\r\n    kill -9 $(ps aux | grep &quot;OOM.java&quot; | grep -v &quot;grep&quot; |  awk &#39;{print $2}&#39;)\r\n\r\n----------\r\n\r\n    java -Xmx256m -XX:OnOutOfMemoryError=/scripts/kill.sh OOM.java\r\n    echo $?\r\n    #\r\n    # java.lang.OutOfMemoryError: Java heap space\r\n    # -XX:OnOutOfMemoryError=&quot;/scripts/kill.sh&quot;\r\n    #   Executing &quot;/scripts/kill.sh&quot;...\r\n    [1]    4280 killed     java -Xmx256m  OOM.java\r\n    137\r\n\r\n","title":"Making sure that Java returns exit code 137 on OutOfMemoryError","body":"<p>Afaik 137 status means that the JVM was killed by the outside process, and you can't enforce exiting with this status on OOM from within your app. I didn't find the official documentation, but this article confirms it <a href=\"http://journal.thobe.org/2013/02/jvms-and-kill-signals.html\" rel=\"nofollow noreferrer\">http://journal.thobe.org/2013/02/jvms-and-kill-signals.html</a>.</p>\n<p>Basically, if you want to get the 137 code on OOM - your app should be killed by some other process on OOM. You can achieve that by using <code>-XX:OnOutOfMemoryError</code> flag that executes some arbitrary script on OOM. I.e.:</p>\n<h4>/scripts/kill.sh</h4>\n<pre><code>kill -9 $(ps aux | grep &quot;OOM.java&quot; | grep -v &quot;grep&quot; |  awk '{print $2}')\n</code></pre>\n<hr />\n<pre><code>java -Xmx256m -XX:OnOutOfMemoryError=/scripts/kill.sh OOM.java\necho $?\n#\n# java.lang.OutOfMemoryError: Java heap space\n# -XX:OnOutOfMemoryError=&quot;/scripts/kill.sh&quot;\n#   Executing &quot;/scripts/kill.sh&quot;...\n[1]    4280 killed     java -Xmx256m  OOM.java\n137\n</code></pre>\n"}],"owner":{"account_id":10508812,"reputation":3374,"user_id":7745173,"accept_rate":78,"display_name":"Logan Wlv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71207046,"answer_count":1,"score":-1,"last_activity_date":1645469952,"creation_date":1645445974,"question_id":71206193,"body_markdown":"I have a use case where I want to make sure that a Java process exits with code 137 in case of OOM issues.\r\n\r\nHere some experimentations I did: \r\n\r\n    public static void main(String[] args) {\r\n        List&lt;byte[]&gt; arr = new ArrayList&lt;&gt;();\r\n        while(true) {\r\n            arr.add(new byte[4096]);\r\n        }\r\n    }\r\n\r\nMacOs result: \r\n\r\n    java oom.java\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat Main.main(oom.java:21)\r\n    echo $? \r\n    1\r\n\r\nSo it seemed clear that the JVM answers with exit code 1 in the case of OOM.\r\n\r\nSo I tried: \r\n\r\n    public static void main(String[] args) {\r\n        List&lt;byte[]&gt; arr = new ArrayList&lt;&gt;();\r\n        try {\r\n            while(true) {\r\n                arr.add(new byte[4096]);\r\n            }\r\n        } catch (OutOfMemoryError outOfMemoryError) {\r\n            System.exit(137);\r\n        }\r\n    }\r\n\r\nWhich gave the same result. \r\nAnd this option: `-XX:+ExitOnOutOfMemoryError` which gave exit code 3.\r\n\r\nWhy `System.exit(137)` is being ignored? Anyway to achieve that?","title":"Making sure that Java returns exit code 137 on OutOfMemoryError","body":"<p>I have a use case where I want to make sure that a Java process exits with code 137 in case of OOM issues.</p>\n<p>Here some experimentations I did:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;byte[]&gt; arr = new ArrayList&lt;&gt;();\n    while(true) {\n        arr.add(new byte[4096]);\n    }\n}\n</code></pre>\n<p>MacOs result:</p>\n<pre><code>java oom.java\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\nat Main.main(oom.java:21)\necho $? \n1\n</code></pre>\n<p>So it seemed clear that the JVM answers with exit code 1 in the case of OOM.</p>\n<p>So I tried:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;byte[]&gt; arr = new ArrayList&lt;&gt;();\n    try {\n        while(true) {\n            arr.add(new byte[4096]);\n        }\n    } catch (OutOfMemoryError outOfMemoryError) {\n        System.exit(137);\n    }\n}\n</code></pre>\n<p>Which gave the same result.\nAnd this option: <code>-XX:+ExitOnOutOfMemoryError</code> which gave exit code 3.</p>\n<p>Why <code>System.exit(137)</code> is being ignored? Anyway to achieve that?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1580159198,"post_id":59938844,"comment_id":105999119,"body_markdown":"Do you have a repository wired to the database? If so, doing a findOne on that repository and having no exception is probably sufficient.","body":"Do you have a repository wired to the database? If so, doing a findOne on that repository and having no exception is probably sufficient."}],"answers":[{"tags":[],"owner":{"account_id":3409800,"reputation":8289,"user_id":2860032,"display_name":"Jason Wadsworth"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580159668,"creation_date":1580159668,"answer_id":59939002,"question_id":59938844,"body_markdown":"You can use the AWS Health API to get status of AWS services, but this requires a business account: https://docs.aws.amazon.com/health/latest/ug/health-api.html","title":"Programmatic Health Check for DynamoDB?","body":"<p>You can use the AWS Health API to get status of AWS services, but this requires a business account: <a href=\"https://docs.aws.amazon.com/health/latest/ug/health-api.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/health/latest/ug/health-api.html</a></p>\n"},{"tags":[],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580174066,"creation_date":1580174066,"answer_id":59941028,"question_id":59938844,"body_markdown":"Health check should \r\n\r\n1. Ensure DB is up\r\n\r\n2. Ensure you can do appropriate operations on it. (there should be no permission issues.)\r\n\r\nTo ensure both the above are there you can do a query, on even a non existing item, if you get 404(not 403, 500), it should mean successful.","title":"Programmatic Health Check for DynamoDB?","body":"<p>Health check should </p>\n\n<ol>\n<li><p>Ensure DB is up</p></li>\n<li><p>Ensure you can do appropriate operations on it. (there should be no permission issues.)</p></li>\n</ol>\n\n<p>To ensure both the above are there you can do a query, on even a non existing item, if you get 404(not 403, 500), it should mean successful.</p>\n"},{"tags":[],"owner":{"account_id":10301482,"reputation":3732,"user_id":7600089,"display_name":"rishikarri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645469257,"creation_date":1645469257,"answer_id":71211526,"question_id":59938844,"body_markdown":"You can run the DescribeTable operation. You should get a &quot;TableStatus&quot; property back. If that TableStatus is &quot;Active&quot;, the table is ready for use. \r\n\r\nSee the docs here on the TableStatus property: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TableDescription.html","title":"Programmatic Health Check for DynamoDB?","body":"<p>You can run the DescribeTable operation. You should get a &quot;TableStatus&quot; property back. If that TableStatus is &quot;Active&quot;, the table is ready for use.</p>\n<p>See the docs here on the TableStatus property: <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TableDescription.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TableDescription.html</a></p>\n"}],"owner":{"account_id":131613,"reputation":11356,"user_id":331747,"accept_rate":78,"display_name":"Shadowman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7000,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1645469257,"creation_date":1580158848,"question_id":59938844,"body_markdown":"As part of the health check endpoint for my web application deployed to AWS, I&#39;d like to include a check to ensure that DynamoDB is functional and available.  I know that DynamoDB doesn&#39;t go down often, but when it does it will render this application unusable.  As such, I&#39;d like to know that&#39;s the reason as part of my health check.\r\n\r\nIs there a programmatic endpoint (or part of the Java AWS SDK) that I can leverage to verify the health of DynamoDB?  What about other AWS services, such as SQS or S3?  Anything similar?","title":"Programmatic Health Check for DynamoDB?","body":"<p>As part of the health check endpoint for my web application deployed to AWS, I'd like to include a check to ensure that DynamoDB is functional and available.  I know that DynamoDB doesn't go down often, but when it does it will render this application unusable.  As such, I'd like to know that's the reason as part of my health check.</p>\n\n<p>Is there a programmatic endpoint (or part of the Java AWS SDK) that I can leverage to verify the health of DynamoDB?  What about other AWS services, such as SQS or S3?  Anything similar?</p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1645462364,"post_id":71210060,"comment_id":125872481,"body_markdown":"I don&#39;t think so. Maybe try to switch logcat output to severity &quot;Error&quot; and &quot;No Filters&quot;?","body":"I don&#39;t think so. Maybe try to switch logcat output to severity &quot;Error&quot; and &quot;No Filters&quot;?"},{"owner":{"account_id":19925506,"reputation":314,"user_id":14600303,"display_name":"Joseph Ofem"},"score":0,"creation_date":1645462554,"post_id":71210060,"comment_id":125872545,"body_markdown":"I have done that and there is still no stack trace","body":"I have done that and there is still no stack trace"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1645476141,"post_id":71210060,"comment_id":125877095,"body_markdown":"Samsung phones tend to have this problem, idk about other brands. Give more info like which devices or emulators you used","body":"Samsung phones tend to have this problem, idk about other brands. Give more info like which devices or emulators you used"},{"owner":{"account_id":19925506,"reputation":314,"user_id":14600303,"display_name":"Joseph Ofem"},"score":0,"creation_date":1645516401,"post_id":71210060,"comment_id":125885221,"body_markdown":"I have tried it with Samsung A12, Samsung S10 as well Tecno Spark 7 devices","body":"I have tried it with Samsung A12, Samsung S10 as well Tecno Spark 7 devices"}],"owner":{"account_id":19925506,"reputation":314,"user_id":14600303,"display_name":"Joseph Ofem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645468944,"creation_date":1645462203,"question_id":71210060,"body_markdown":"My app starts well but after some time it just crashes with no reasonable log report. However, I monitored the logs and discovered that the app crashes when the log below appears and I do not have enough info to debug it.\r\n\r\n&gt; E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted","title":"App crashes without stack trace in android studio","body":"<p>My app starts well but after some time it just crashes with no reasonable log report. However, I monitored the logs and discovered that the app crashes when the log below appears and I do not have enough info to debug it.</p>\n<blockquote>\n<p>E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted</p>\n</blockquote>\n"},{"tags":["java","logging","jboss","log4j","wildfly"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1645469851,"post_id":71211446,"comment_id":125875108,"body_markdown":"Log4j 1.2.17 stopped being maintained 7 years ago and version 1.2.7 is nearly 10 years old.  Are you sure you want to move forward with something this ancient?","body":"Log4j 1.2.17 stopped being maintained 7 years ago and version 1.2.7 is nearly 10 years old.  Are you sure you want to move forward with something this ancient?"},{"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"score":0,"creation_date":1645470230,"post_id":71211446,"comment_id":125875240,"body_markdown":"Actually, I have a plan to update log4j version as well. That work is under progress as well. I will move on 2.12 or 2.17. Can you please suggest a way to handle the scenario that I mentioned above?","body":"Actually, I have a plan to update log4j version as well. That work is under progress as well. I will move on 2.12 or 2.17. Can you please suggest a way to handle the scenario that I mentioned above?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1645488430,"post_id":71211446,"comment_id":125880007,"body_markdown":"To clarify, you want all messages from WAR-A to log to their own file and all messages form WAR-B to log to a different file correct? Note this means even if WAR-B invokes a call to WAR-A the logs would go into WAR-A&#39;s log file.","body":"To clarify, you want all messages from WAR-A to log to their own file and all messages form WAR-B to log to a different file correct? Note this means even if WAR-B invokes a call to WAR-A the logs would go into WAR-A&#39;s log file."},{"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"score":0,"creation_date":1645514268,"post_id":71211446,"comment_id":125884548,"body_markdown":"Yes, I want to log each WAR messages in their separate log files as soon as have switch from one to another WAR file. Just for the understanding, assumes that WAR-B will not invokes any call to WAR-A.","body":"Yes, I want to log each WAR messages in their separate log files as soon as have switch from one to another WAR file. Just for the understanding, assumes that WAR-B will not invokes any call to WAR-A."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1645575677,"post_id":71211446,"comment_id":125907280,"body_markdown":"If you simply include a `log4j.xml` in each deployment that should work then.","body":"If you simply include a <code>log4j.xml</code> in each deployment that should work then."},{"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"score":0,"creation_date":1645598881,"post_id":71211446,"comment_id":125911234,"body_markdown":"I have included it but it&#39;s not working as expected. Actually, I have multiple WAR files. WAR-A logs are working fine. Assume, I have two another WAR (B and C). I want these two WAR logs into a single log file which is not working correctly. Sometimes, few logs of WAR-B are writing into WAR-A which is wrong and sometimes WAR-B and WAR-C are not sync (out of order if we see the timestamp).","body":"I have included it but it&#39;s not working as expected. Actually, I have multiple WAR files. WAR-A logs are working fine. Assume, I have two another WAR (B and C). I want these two WAR logs into a single log file which is not working correctly. Sometimes, few logs of WAR-B are writing into WAR-A which is wrong and sometimes WAR-B and WAR-C are not sync (out of order if we see the timestamp)."}],"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645468841,"creation_date":1645468841,"question_id":71211446,"body_markdown":"I want to configure log4j to get logs in a separate log file rather than the server.log file with having multiple WAR files in place. Let&#39;s say, I have two WAR files where war-A is the starting point (signup / login etc.) and then the war-B comes. Both are linked with each other. War-A is the general starting point for an EAP. log4j-A.xml of war-A has configurations to write logs into &quot;ABC.logs&quot; while log4j-B.xml of war-B has configurations to write logs into &quot;XYZ.logs&quot;. \r\n\r\nNow, the log4j is working but it is writing all the logs (of war-A and war-B) into the log file of war-A which is &quot;ABC.logs&quot;. I want to switch to the configurations of war-B to write that logs into &quot;XYZ.logs&quot; as soon as have move from war-A (e.g. on next page after login). \r\n\r\nI am using Wildfly 9.0.2 as my application server and it is initializing log4j from &quot;C:\\wildfly9.0.2\\standalone\\tmp\\vfs\\temp\\temp89993ff21\\content-f176534\\WEB-INF\\classess\\log4j-A.xml&quot; every time.\r\n\r\nSuppose, I have only access or can do changes in War-B because some other team is working on War-A (I can just deploy WAR-A and have that as starting point for my WAR-B), how can I achieve it to do logging in my desired file &quot;XYZ.logs&quot; as soon as my WAR application has started?\r\n\r\nOne more thing that I would like to mention is that if I build and deploy my WAR-B and then starts the application then the Wildfly picks log4j-B.xml as configuration file and do the right logging (but in this case, it writes the logs of WAR-A as well).","title":"How to configure log4j 1.2.7 for an application having multiple WAR files under Jboss/Wildfly?","body":"<p>I want to configure log4j to get logs in a separate log file rather than the server.log file with having multiple WAR files in place. Let's say, I have two WAR files where war-A is the starting point (signup / login etc.) and then the war-B comes. Both are linked with each other. War-A is the general starting point for an EAP. log4j-A.xml of war-A has configurations to write logs into &quot;ABC.logs&quot; while log4j-B.xml of war-B has configurations to write logs into &quot;XYZ.logs&quot;.</p>\n<p>Now, the log4j is working but it is writing all the logs (of war-A and war-B) into the log file of war-A which is &quot;ABC.logs&quot;. I want to switch to the configurations of war-B to write that logs into &quot;XYZ.logs&quot; as soon as have move from war-A (e.g. on next page after login).</p>\n<p>I am using Wildfly 9.0.2 as my application server and it is initializing log4j from &quot;C:\\wildfly9.0.2\\standalone\\tmp\\vfs\\temp\\temp89993ff21\\content-f176534\\WEB-INF\\classess\\log4j-A.xml&quot; every time.</p>\n<p>Suppose, I have only access or can do changes in War-B because some other team is working on War-A (I can just deploy WAR-A and have that as starting point for my WAR-B), how can I achieve it to do logging in my desired file &quot;XYZ.logs&quot; as soon as my WAR application has started?</p>\n<p>One more thing that I would like to mention is that if I build and deploy my WAR-B and then starts the application then the Wildfly picks log4j-B.xml as configuration file and do the right logging (but in this case, it writes the logs of WAR-A as well).</p>\n"},{"tags":["java","tensorflow","apache-spark","pyspark","johnsnowlabs-spark-nlp"],"comments":[{"owner":{"account_id":1467200,"reputation":124,"user_id":1379731,"accept_rate":77,"display_name":"Rajan"},"score":0,"creation_date":1691029871,"post_id":71211424,"comment_id":135436489,"body_markdown":"Did you ever figure out this solution?","body":"Did you ever figure out this solution?"}],"owner":{"account_id":12712329,"reputation":118,"user_id":15347137,"display_name":"Rishabhg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645468719,"creation_date":1645468719,"question_id":71211424,"body_markdown":"I want to run sparknlp in python, I am using apache-spark 3.2.1, spark-nlp==3.4.1 pyspark==3.1.2. I am following this [guide](https://medium.com/spark-nlp/introduction-to-spark-nlp-installation-and-getting-started-part-ii-d009f7a177f3). I am able to get the spark session using this code :\r\n ``` import pyspark\r\nsc = pyspark.SparkContext().getOrCreate()\r\nimport sparknlp\r\nsparknlp.start() \r\n```\r\nWhenever I try to download any pre-trained model using code : \r\n```\r\npipeline = PretrainedPipeline(&#39;explain_document_dl&#39;, lang=&#39;en&#39;)\r\n``` \r\nI get a few errors, I resolved some errors one by one by adding the jar for that error in the apache-spark jars. for eg : One of the errors was : \r\n```\r\njava.lang.NoClassDefFoundError: org/tensorflow/ndarray/NdArray\r\n```\r\nwhich I resolved by adding the NdArray Jar\r\n\r\nLike this I added 6-7 jars depending on the error. \r\n\r\nThe error that I am stuck at is this : \r\n```\r\nPy4JJavaError: An error occurred while calling z:com.johnsnowlabs.nlp.pretrained.PythonResourceDownloader.downloadPipeline.\r\n: java.lang.VerifyError: Bad return type\r\nException Details:\r\n  Location:\r\n    com/johnsnowlabs/ml/tensorflow/TensorResources.createTensor(Ljava/lang/Object;)Lorg/tensorflow/Tensor; @370: areturn\r\n  Reason:\r\n    Type &#39;java/lang/Object&#39; (current frame, stack[0]) is not assignable to &#39;org/tensorflow/Tensor&#39; (from method signature)\r\n```\r\n\r\nP.S. I am using java 8","title":"java.lang.VerifyError: Bad return type Reason: Type &#39;java/lang/Object&#39; (current frame, stack[0]) is not assignable to &#39;org/tensorflow/Tensor&#39;","body":"<p>I want to run sparknlp in python, I am using apache-spark 3.2.1, spark-nlp==3.4.1 pyspark==3.1.2. I am following this <a href=\"https://medium.com/spark-nlp/introduction-to-spark-nlp-installation-and-getting-started-part-ii-d009f7a177f3\" rel=\"nofollow noreferrer\">guide</a>. I am able to get the spark session using this code :</p>\n<pre><code>sc = pyspark.SparkContext().getOrCreate()\nimport sparknlp\nsparknlp.start() \n</code></pre>\n<p>Whenever I try to download any pre-trained model using code :</p>\n<pre><code>pipeline = PretrainedPipeline('explain_document_dl', lang='en')\n</code></pre>\n<p>I get a few errors, I resolved some errors one by one by adding the jar for that error in the apache-spark jars. for eg : One of the errors was :</p>\n<pre><code>java.lang.NoClassDefFoundError: org/tensorflow/ndarray/NdArray\n</code></pre>\n<p>which I resolved by adding the NdArray Jar</p>\n<p>Like this I added 6-7 jars depending on the error.</p>\n<p>The error that I am stuck at is this :</p>\n<pre><code>Py4JJavaError: An error occurred while calling z:com.johnsnowlabs.nlp.pretrained.PythonResourceDownloader.downloadPipeline.\n: java.lang.VerifyError: Bad return type\nException Details:\n  Location:\n    com/johnsnowlabs/ml/tensorflow/TensorResources.createTensor(Ljava/lang/Object;)Lorg/tensorflow/Tensor; @370: areturn\n  Reason:\n    Type 'java/lang/Object' (current frame, stack[0]) is not assignable to 'org/tensorflow/Tensor' (from method signature)\n</code></pre>\n<p>P.S. I am using java 8</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1520595972,"post_id":49193021,"comment_id":85390775,"body_markdown":"If you&#39;re using java &gt;= 8, [`Optional`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) may be interesting to you.","body":"If you&#39;re using java &gt;= 8, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> may be interesting to you."}],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520595980,"creation_date":1520595980,"answer_id":49193072,"question_id":49193021,"body_markdown":"How about:\r\n\r\n    Long longVal = shortVal != null ? Numbers.toLong(shortVal) : null;","title":"Convert a nullable integer value in Java (Short, Long etc.)","body":"<p>How about:</p>\n\n<pre><code>Long longVal = shortVal != null ? Numbers.toLong(shortVal) : null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8639482,"reputation":4701,"user_id":6468580,"display_name":"Luke Garrigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520599741,"creation_date":1520599741,"answer_id":49194182,"question_id":49193021,"body_markdown":"What about using the Java 8 API Optional:\r\n\r\n    Short shortVal = null;\r\n    Optional&lt;Long&gt; longVal = Optional.ofNullable(shortVal != null ? new Long(shortVal) : null);\r\n    System.out.println(longVal.isPresent());\r\nThe output for this code snippet is `false`, which indicates that the value is null.\r\n","title":"Convert a nullable integer value in Java (Short, Long etc.)","body":"<p>What about using the Java 8 API Optional:</p>\n\n<pre><code>Short shortVal = null;\nOptional&lt;Long&gt; longVal = Optional.ofNullable(shortVal != null ? new Long(shortVal) : null);\nSystem.out.println(longVal.isPresent());\n</code></pre>\n\n<p>The output for this code snippet is <code>false</code>, which indicates that the value is null.</p>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1538722783,"creation_date":1520601410,"answer_id":49194664,"question_id":49193021,"body_markdown":"Plain simple &quot;casting&quot; and the &quot;ternary conditional operator&quot; would be the minimal and fastest solution.\r\n\r\n    Short shortVal = null;\r\n    Long longVal = shortVal == null ? null : (long) shortVal;\r\n\r\nSince you don&#39;t seem to know about casting, here&#39;s an example that **does not** work - and how to fix it. Mind that the problem of null is completely ignored here - this is just a quirky aspect of casting that you might want to know, that&#39;s all.\r\n\r\n    Double doubleVal = 1d;\r\n    Float floatVal = (float) doubleVal; // Inconvertible types!\r\n\r\nWorking version:\r\n\r\n    Double doubleVal = 1d;\r\n    Float floatVal = (float) (double) doubleVal;\r\n","title":"Convert a nullable integer value in Java (Short, Long etc.)","body":"<p>Plain simple \"casting\" and the \"ternary conditional operator\" would be the minimal and fastest solution.</p>\n\n<pre><code>Short shortVal = null;\nLong longVal = shortVal == null ? null : (long) shortVal;\n</code></pre>\n\n<p>Since you don't seem to know about casting, here's an example that <strong>does not</strong> work - and how to fix it. Mind that the problem of null is completely ignored here - this is just a quirky aspect of casting that you might want to know, that's all.</p>\n\n<pre><code>Double doubleVal = 1d;\nFloat floatVal = (float) doubleVal; // Inconvertible types!\n</code></pre>\n\n<p>Working version:</p>\n\n<pre><code>Double doubleVal = 1d;\nFloat floatVal = (float) (double) doubleVal;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1522907,"reputation":1475,"user_id":1422098,"display_name":"Mr. Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645468283,"creation_date":1645468283,"answer_id":71211346,"question_id":49193021,"body_markdown":"Maybe this:\r\n\r\n    Short shortVal = null;\r\n    Long longVal = Optional.ofNullable(shortVal)\r\n         .map(short -&gt; (long) short).orElse(null);","title":"Convert a nullable integer value in Java (Short, Long etc.)","body":"<p>Maybe this:</p>\n<pre><code>Short shortVal = null;\nLong longVal = Optional.ofNullable(shortVal)\n     .map(short -&gt; (long) short).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":517169,"reputation":2786,"user_id":1300654,"accept_rate":92,"display_name":"yktoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49194664,"answer_count":4,"score":1,"last_activity_date":1645468283,"creation_date":1520595822,"question_id":49193021,"body_markdown":"Is there any standard way of converting between non-primitive integer types in Java that properly retains `null` values? Something like:\r\n\r\n    // Pseudocode\r\n    Short shortVal = null;\r\n    Long longVal = Numbers.toLong(shortVal); // longVal is expected to be null here\r\n\r\nObviously I cannot use `shortVal.longValue()` here as a `NullPointerException` will be thrown.","title":"Convert a nullable integer value in Java (Short, Long etc.)","body":"<p>Is there any standard way of converting between non-primitive integer types in Java that properly retains <code>null</code> values? Something like:</p>\n\n<pre><code>// Pseudocode\nShort shortVal = null;\nLong longVal = Numbers.toLong(shortVal); // longVal is expected to be null here\n</code></pre>\n\n<p>Obviously I cannot use <code>shortVal.longValue()</code> here as a <code>NullPointerException</code> will be thrown.</p>\n"},{"tags":["java","hibernate","jpa","firebird"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645466692,"post_id":71210380,"comment_id":125874024,"body_markdown":"It sounds like you should report a bug to the Hibernate project instead of asking why this bug exists in Hibernate. As a workaround, you can probably subclass the dialect and register the necessary function yourself, but given you have provided no [mre] and did not specify the version of Hibernate and Firebird, that is hard to verify.","body":"It sounds like you should report a bug to the Hibernate project instead of asking why this bug exists in Hibernate. As a workaround, you can probably subclass the dialect and register the necessary function yourself, but given you have provided no <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and did not specify the version of Hibernate and Firebird, that is hard to verify."},{"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1645467786,"post_id":71210380,"comment_id":125874420,"body_markdown":"Probably you are right. In the past, I have often noted non-constructive responses form the hibernate/red hat communities and learned to rely on other sources of information if in trouble. As I was in no mood to get pointed out, that I am unworthy/too stupid to use hibernate, I thought, I would rather try my luck here (and a bit hastily as I got my answer all by myself with a little more effort)","body":"Probably you are right. In the past, I have often noted non-constructive responses form the hibernate/red hat communities and learned to rely on other sources of information if in trouble. As I was in no mood to get pointed out, that I am unworthy/too stupid to use hibernate, I thought, I would rather try my luck here (and a bit hastily as I got my answer all by myself with a little more effort)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645470106,"post_id":71210380,"comment_id":125875200,"body_markdown":"Last year I contributed an improved dialect for Firebird to Hibernate 6 and found them pretty responsive. Unfortunately, Hibernate 6 is still a while away. I&#39;ll see if I can contribute some minor improvements to the current version(s). I find it curious that this doesn&#39;t work out-of-the-box.","body":"Last year I contributed an improved dialect for Firebird to Hibernate 6 and found them pretty responsive. Unfortunately, Hibernate 6 is still a while away. I&#39;ll see if I can contribute some minor improvements to the current version(s). I find it curious that this doesn&#39;t work out-of-the-box."}],"answers":[{"tags":[],"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645468016,"creation_date":1645467586,"answer_id":71211222,"question_id":71210380,"body_markdown":"So, for some reasons unknown to me, the `FirebirdDialect` in Hibernate 5.4.33 does not define relevant sql functions. This applies to `current_timestamp` but also to others (which are defined for SQLServer and Oracle).\r\n\r\nThe solution is to define the functions yourself if required. This is described here:\r\nhttps://stackoverflow.com/questions/12346845/registering-a-sql-function-with-jpa-and-hibernate\r\n\r\nIn this specific case you have to define the function as follows:\r\n\r\n        registerFunction(\r\n           &quot;current_timestamp&quot;,\r\n           new NoArgSQLFunction(&quot;CURRENT_TIMESTAMP&quot;, StandardBasicTypes.TIMESTAMP, false));\r\n\r\nI choose the subclass variant, although the above quoted question got an answer, there is a new and better way to do this via configuration. As we actually do use different RDBMS and only one of them requires this workaround, I thought a subclassed dialect would be more appropriate.\r\n\r\nMind the boolean parameter `false`, which will omit parenthesis to `CURRENT_TIMESTAMP` within the sql (otherwise the sql will be non-parseable to the firebird server).","title":"criteriaBuilder.currentTimestamp and Firebird","body":"<p>So, for some reasons unknown to me, the <code>FirebirdDialect</code> in Hibernate 5.4.33 does not define relevant sql functions. This applies to <code>current_timestamp</code> but also to others (which are defined for SQLServer and Oracle).</p>\n<p>The solution is to define the functions yourself if required. This is described here:\n<a href=\"https://stackoverflow.com/questions/12346845/registering-a-sql-function-with-jpa-and-hibernate\">Registering a SQL function with JPA and Hibernate</a></p>\n<p>In this specific case you have to define the function as follows:</p>\n<pre><code>    registerFunction(\n       &quot;current_timestamp&quot;,\n       new NoArgSQLFunction(&quot;CURRENT_TIMESTAMP&quot;, StandardBasicTypes.TIMESTAMP, false));\n</code></pre>\n<p>I choose the subclass variant, although the above quoted question got an answer, there is a new and better way to do this via configuration. As we actually do use different RDBMS and only one of them requires this workaround, I thought a subclassed dialect would be more appropriate.</p>\n<p>Mind the boolean parameter <code>false</code>, which will omit parenthesis to <code>CURRENT_TIMESTAMP</code> within the sql (otherwise the sql will be non-parseable to the firebird server).</p>\n"}],"owner":{"account_id":963620,"reputation":2688,"user_id":987457,"accept_rate":100,"display_name":"Jonathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71211222,"answer_count":1,"score":0,"last_activity_date":1645468016,"creation_date":1645463541,"question_id":71210380,"body_markdown":"I am using the JPA criteria API with hibernate 5.4.33 as provider.\r\n\r\nWithin one query, I am using\r\n\r\n    cp.construct(SomeClass.class,\r\n                 SomeEntity_.property,\r\n                 cb.currentTimestamp());\r\n\r\nThis is working well with SQLServer and Oracle but not working with Firebird. With Firebird the result is a `NullPointerException` (which is nastily caught and rethrown several times), where the root-cause is within class `org.hibernate.hql.internal.Namegenerator#generateColumnNames`, where the `Type[]` argument contains `null` as type of the `cb.currentTimestamp()` part of the query.\r\n\r\nI am under the impression this might be a bug in hibernate, yet I am not certain. \r\n\r\nHas anyone any idea whether I made a mistake here or whether there is a workaround or whether I should file a bug against hibernate?\r\n\r\n=== **EDIT** ===\r\n\r\nAfter some more research, the issue seems to be, that `AbstractTransactSQLDialect` registers a function `current_timestamp` and with this registration, this function will be made known to be of return type `TIMESTAMP`.\r\n\r\nNo similar function-registration is being done with the InterbaseDialect (which is the base of FirebirdDialect).\r\n\r\nWhy is this so?","title":"criteriaBuilder.currentTimestamp and Firebird","body":"<p>I am using the JPA criteria API with hibernate 5.4.33 as provider.</p>\n<p>Within one query, I am using</p>\n<pre><code>cp.construct(SomeClass.class,\n             SomeEntity_.property,\n             cb.currentTimestamp());\n</code></pre>\n<p>This is working well with SQLServer and Oracle but not working with Firebird. With Firebird the result is a <code>NullPointerException</code> (which is nastily caught and rethrown several times), where the root-cause is within class <code>org.hibernate.hql.internal.Namegenerator#generateColumnNames</code>, where the <code>Type[]</code> argument contains <code>null</code> as type of the <code>cb.currentTimestamp()</code> part of the query.</p>\n<p>I am under the impression this might be a bug in hibernate, yet I am not certain.</p>\n<p>Has anyone any idea whether I made a mistake here or whether there is a workaround or whether I should file a bug against hibernate?</p>\n<p>=== <strong>EDIT</strong> ===</p>\n<p>After some more research, the issue seems to be, that <code>AbstractTransactSQLDialect</code> registers a function <code>current_timestamp</code> and with this registration, this function will be made known to be of return type <code>TIMESTAMP</code>.</p>\n<p>No similar function-registration is being done with the InterbaseDialect (which is the base of FirebirdDialect).</p>\n<p>Why is this so?</p>\n"},{"tags":["java","opengl","lwjgl","vbo","wavefront"],"comments":[{"owner":{"account_id":12848963,"reputation":1,"user_id":9294467,"display_name":"Ethan Gamat"},"score":0,"creation_date":1645460834,"post_id":71209533,"comment_id":125871877,"body_markdown":"In ur first suggestion, can I still use that technique if I want to use Element Buffers? since i am duplicating the positions for different normals (this is what i understood)","body":"In ur first suggestion, can I still use that technique if I want to use Element Buffers? since i am duplicating the positions for different normals (this is what i understood)"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1645516573,"post_id":71209533,"comment_id":125885272,"body_markdown":"see [How do I sort the texture positions based on the texture indices given in a Wavefront (.obj) file?](https://stackoverflow.com/a/51722009/2521214)","body":"see <a href=\"https://stackoverflow.com/a/51722009/2521214\">How do I sort the texture positions based on the texture indices given in a Wavefront (.obj) file?</a>"}],"owner":{"account_id":12848963,"reputation":1,"user_id":9294467,"display_name":"Ethan Gamat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645461142,"answer_count":0,"score":0,"last_activity_date":1645467650,"creation_date":1645459861,"question_id":71209533,"body_markdown":"I can&#39;t seem to have a grasp on OpenGL VAOs and VBOs.\r\n\r\nI am coding an OBJ Loader from scratch (BTW I am using LWJGL) and I can&#39;t seem to get the order of normals correctly. When I look at the OBJ File I notice that there are positions with different normals and the face contains index numbers for position, texture, and normals. I don&#39;t know how to order them properly so that my normals would be assigned into correct positions when the engine starts rendering.","title":"How do I index positions with different normals","body":"<p>I can't seem to have a grasp on OpenGL VAOs and VBOs.</p>\n<p>I am coding an OBJ Loader from scratch (BTW I am using LWJGL) and I can't seem to get the order of normals correctly. When I look at the OBJ File I notice that there are positions with different normals and the face contains index numbers for position, texture, and normals. I don't know how to order them properly so that my normals would be assigned into correct positions when the engine starts rendering.</p>\n"},{"tags":["java","docker","oracle19c"],"comments":[{"owner":{"account_id":6229686,"reputation":68,"user_id":4846860,"display_name":"arun_hareesh"},"score":1,"creation_date":1654083939,"post_id":71211190,"comment_id":128006512,"body_markdown":"Have you got any solution for this?.","body":"Have you got any solution for this?."}],"owner":{"account_id":24332580,"reputation":21,"user_id":18271202,"display_name":"fmoule"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645467403,"creation_date":1645467403,"question_id":71211190,"body_markdown":"I&#39;m working with an Oracle 19c instance in a Docker container. &lt;br /&gt;\r\nWith DBeaver, i manage to connect to the database.&lt;br /&gt;\r\nBut with the following Java code, i get the following error : *TNS-12535: TNS:operation timed out*\r\n\r\n```\r\n        final Oracle oracle = new Oracle(&quot;jdbc:oracle:thin:@//127.0.0.1:1521/&lt;serviceName&gt;&quot;, &quot;&lt;login&gt;&quot;, &quot;&lt;password&gt;&quot;);\r\n        OracleConnection connection = null;\r\n        try {\r\n            connection = oracle.getConnection();\r\n            assertThat(connection).isNotNull();\r\n        } finally {\r\n            if (connection != null) {\r\n                connection.close();\r\n            }\r\n        }\r\n```\r\nHere is the command i&#39;m using to launch the Docker container : \r\n```sudo docker run -d -it --name oracle19-local  -e ORACLE_PDB=&lt;serviceName&gt; -e ORACLE_PWD=&lt;password&gt; -v /home/oracle/oradata19:/opt/oracle/oradata -p 1521:1521 -p 5500:5500 oracle/database:19.3.0```\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\nThese are the Oracle database configuration files &lt;br /&gt;\r\n**tnsnames.ora** : &lt;br /&gt;\r\n```ORCLCDB=localhost:1521/ORCLCDB\r\n&lt;ServiceName in bold&gt;= \r\n(DESCRIPTION = \r\n  (ADDRESS = (PROTOCOL = TCP)(HOST = 0.0.0.0)(PORT = 1521))\r\n  (CONNECT_DATA =\r\n    (SERVER = DEDICATED)\r\n    (SERVICE_NAME = STARTBUILDING)\r\n  )\r\n)```\r\n&lt;br /&gt;\r\n**listener.ora** : &lt;br /&gt;\r\n```LISTENER = \r\n(DESCRIPTION_LIST = \r\n  (DESCRIPTION = \r\n    (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1)) \r\n    (ADDRESS = (PROTOCOL = TCP)(HOST = 0.0.0.0)(PORT = 1521)) \r\n  ) \r\n) \r\n\r\nDEDICATED_THROUGH_BROKER_LISTENER=ON\r\nDIAG_ADR_ENABLED = off\r\n```\r\n&lt;br /&gt;\r\nThanks for your help\r\n","title":"Java unable to get a connection to Oracle database in a docker container","body":"<p>I'm working with an Oracle 19c instance in a Docker container. <br />\nWith DBeaver, i manage to connect to the database.<br />\nBut with the following Java code, i get the following error : <em>TNS-12535: TNS:operation timed out</em></p>\n<pre><code>        final Oracle oracle = new Oracle(&quot;jdbc:oracle:thin:@//127.0.0.1:1521/&lt;serviceName&gt;&quot;, &quot;&lt;login&gt;&quot;, &quot;&lt;password&gt;&quot;);\n        OracleConnection connection = null;\n        try {\n            connection = oracle.getConnection();\n            assertThat(connection).isNotNull();\n        } finally {\n            if (connection != null) {\n                connection.close();\n            }\n        }\n</code></pre>\n<p>Here is the command i'm using to launch the Docker container :\n<code>sudo docker run -d -it --name oracle19-local  -e ORACLE_PDB=&lt;serviceName&gt; -e ORACLE_PWD=&lt;password&gt; -v /home/oracle/oradata19:/opt/oracle/oradata -p 1521:1521 -p 5500:5500 oracle/database:19.3.0</code>\n<br />\n<br />\nThese are the Oracle database configuration files <br />\n<strong>tnsnames.ora</strong> : <br /></p>\n<pre><code>&lt;ServiceName in bold&gt;= \n(DESCRIPTION = \n  (ADDRESS = (PROTOCOL = TCP)(HOST = 0.0.0.0)(PORT = 1521))\n  (CONNECT_DATA =\n    (SERVER = DEDICATED)\n    (SERVICE_NAME = STARTBUILDING)\n  )\n)```\n&lt;br /&gt;\n**listener.ora** : &lt;br /&gt;\n```LISTENER = \n(DESCRIPTION_LIST = \n  (DESCRIPTION = \n    (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1)) \n    (ADDRESS = (PROTOCOL = TCP)(HOST = 0.0.0.0)(PORT = 1521)) \n  ) \n) \n\nDEDICATED_THROUGH_BROKER_LISTENER=ON\nDIAG_ADR_ENABLED = off\n</code></pre>\n<br />\nThanks for your help\n"},{"tags":["java","http","inputstream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645467932,"post_id":71211110,"comment_id":125874460,"body_markdown":"Looks fine to me. Are you getting any errors?","body":"Looks fine to me. Are you getting any errors?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1645467961,"post_id":71211110,"comment_id":125874476,"body_markdown":"Keep in mind that most web frameworks or HTTP client libraries would have builtin JSON functions","body":"Keep in mind that most web frameworks or HTTP client libraries would have builtin JSON functions"}],"owner":{"account_id":23359747,"reputation":19,"user_id":17432174,"display_name":"xllx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645467074,"creation_date":1645467012,"question_id":71211110,"body_markdown":"I make a post call to a URL and I receive a token in JSON format.\r\nI need to unmarshal the inpustream to a DTO token object.\r\n\r\nI am thinking something like this:\r\n\r\n```\r\npublic String getToken(URL auth) {\r\n    HttpURLConnection conn = (HttpURLConnection) auth.openConnection();\r\n    conn.setDoOutput(true);\r\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    conn.setConnectTimeout(5000);\r\n    conn.setReadTimeout(5000);\r\n    conn.setRequestMethod(&quot;POST&quot;);\r\n    TokenDTO reply = new TokenDTO();\r\n    \r\n    InputStream inputStream = null;\r\n    inputStream = conn.getInputStream();\r\n    \r\n    try {\r\n     JAXBContext jc = JAXBContext.newInstance(TokenDTO.class);\r\n     Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n     reply = (TokenDTO) unmarshaller.unmarshal(inputStream);\r\n    }catch (JAXBException e) {\r\n     e.printStackTrace();\r\n    }\r\n    \r\n    return reply.getToken();\r\n}\r\n```\r\n\r\nIs this the right way? Can I do it a different way?","title":"Can I unmarshal an InputStream?","body":"<p>I make a post call to a URL and I receive a token in JSON format.\nI need to unmarshal the inpustream to a DTO token object.</p>\n<p>I am thinking something like this:</p>\n<pre><code>public String getToken(URL auth) {\n    HttpURLConnection conn = (HttpURLConnection) auth.openConnection();\n    conn.setDoOutput(true);\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n    conn.setConnectTimeout(5000);\n    conn.setReadTimeout(5000);\n    conn.setRequestMethod(&quot;POST&quot;);\n    TokenDTO reply = new TokenDTO();\n    \n    InputStream inputStream = null;\n    inputStream = conn.getInputStream();\n    \n    try {\n     JAXBContext jc = JAXBContext.newInstance(TokenDTO.class);\n     Unmarshaller unmarshaller = jc.createUnmarshaller();\n     reply = (TokenDTO) unmarshaller.unmarshal(inputStream);\n    }catch (JAXBException e) {\n     e.printStackTrace();\n    }\n    \n    return reply.getToken();\n}\n</code></pre>\n<p>Is this the right way? Can I do it a different way?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645471002,"post_id":71209674,"comment_id":125875476,"body_markdown":"Why do you think it would throw an exception? What do you think the `if(arr.length == 0) return 0;` does?","body":"Why do you think it would throw an exception? What do you think the <code>if(arr.length == 0) return 0;</code> does?"}],"answers":[{"tags":[],"owner":{"account_id":2983242,"reputation":777,"user_id":2532749,"accept_rate":80,"display_name":"mjr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645465509,"creation_date":1645465509,"answer_id":71210772,"question_id":71209674,"body_markdown":"This is just how recursion works: once your function gets called the last time, the array length is 0 and returns without trying to access an element out of bounds.\r\n\r\n[Here is an article describing something similar to your problem][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/sum-array-elements-using-recursion/","title":"Why isn&#39;t the ArraysIndexOutOfBounsException raised?","body":"<p>This is just how recursion works: once your function gets called the last time, the array length is 0 and returns without trying to access an element out of bounds.</p>\n<p><a href=\"https://www.geeksforgeeks.org/sum-array-elements-using-recursion/\" rel=\"nofollow noreferrer\">Here is an article describing something similar to your problem</a></p>\n"}],"owner":{"account_id":24331475,"reputation":13,"user_id":18270251,"display_name":"Nikita Toropov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71210772,"answer_count":1,"score":1,"last_activity_date":1645467074,"creation_date":1645460464,"question_id":71209674,"body_markdown":"My code works fine here, but to my mind, the exception should be thrown. My function is continuously invoking itself. Eventually, it is being called on the last element in the array and adds that number. Then, I make a copy of the array from the next position to the end. But since I do not have that next element, so I cannot make a copy of the array starting from the subsequent one (I am already at the very last position), why is it working?\r\n\r\n\r\n    System.out.println(sumOfArrayRecursively(new int[]{5, 9, 45, 6, 2, 7, 34, 8, 6, 90, 5, 243}));\r\n\r\n    public static int sumOfArrayRecursively(int [] arr){\r\n        if(arr.length == 0) return 0;\r\n        else{\r\n            return arr[0] + sumOfArrayRecursively(Arrays.copyOfRange(arr, 1, arr.length));\r\n        }\r\n    }","title":"Why isn&#39;t the ArraysIndexOutOfBounsException raised?","body":"<p>My code works fine here, but to my mind, the exception should be thrown. My function is continuously invoking itself. Eventually, it is being called on the last element in the array and adds that number. Then, I make a copy of the array from the next position to the end. But since I do not have that next element, so I cannot make a copy of the array starting from the subsequent one (I am already at the very last position), why is it working?</p>\n<pre><code>System.out.println(sumOfArrayRecursively(new int[]{5, 9, 45, 6, 2, 7, 34, 8, 6, 90, 5, 243}));\n\npublic static int sumOfArrayRecursively(int [] arr){\n    if(arr.length == 0) return 0;\n    else{\n        return arr[0] + sumOfArrayRecursively(Arrays.copyOfRange(arr, 1, arr.length));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":3777195,"reputation":1393,"user_id":3137702,"display_name":"alzee"},"score":0,"creation_date":1485021891,"post_id":41782650,"comment_id":70755527,"body_markdown":"It would help if you said what class group_select is an instance of.","body":"It would help if you said what class group_select is an instance of."},{"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"score":0,"creation_date":1485022225,"post_id":41782650,"comment_id":70755658,"body_markdown":"@Doge post your full code","body":"@Doge post your full code"},{"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"score":0,"creation_date":1485022665,"post_id":41782650,"comment_id":70755798,"body_markdown":"wait! It should work unless you recreate the view again are you using setContentView again?","body":"wait! It should work unless you recreate the view again are you using setContentView again?"},{"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"score":0,"creation_date":1485022942,"post_id":41782650,"comment_id":70755874,"body_markdown":"I changed it to setOnCheckedChangeListener and it worked @Charuka Thanx :)","body":"I changed it to setOnCheckedChangeListener and it worked @Charuka Thanx :)"},{"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"score":0,"creation_date":1485023013,"post_id":41782650,"comment_id":70755894,"body_markdown":"@Doge as you wish but you didn&#39;t understood the real problem setOnClickListener works too unless you make a mistake anyways good luck","body":"@Doge as you wish but you didn&#39;t understood the real problem setOnClickListener works too unless you make a mistake anyways good luck"},{"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"score":0,"creation_date":1485023174,"post_id":41782650,"comment_id":70755950,"body_markdown":"I am using setOnclickListener in the getView method of adapter @Charuka .","body":"I am using setOnclickListener in the getView method of adapter @Charuka ."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1485024144,"post_id":41782650,"comment_id":70756251,"body_markdown":"`if (c) {...} else if (!c) {...}` is logically equivalent to `if (c) {...} else {...}` modulo side effects of `c`. If there were side effects then the first idiom is an invitation to bugs. `group_select` doesn&#39;t follow the naming conventions.","body":"<code>if (c) {...} else if (!c) {...}</code> is logically equivalent to <code>if (c) {...} else {...}</code> modulo side effects of <code>c</code>. If there were side effects then the first idiom is an invitation to bugs. <code>group_select</code> doesn&#39;t follow the naming conventions."},{"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"score":0,"creation_date":1485025600,"post_id":41782650,"comment_id":70756747,"body_markdown":"I know I made else if to check that if it&#39;s showing the check value false or there is any different reason..After that I changed again","body":"I know I made else if to check that if it&#39;s showing the check value false or there is any different reason..After that I changed again"}],"answers":[{"tags":[],"owner":{"account_id":1312997,"reputation":95,"user_id":1260573,"display_name":"Apurv Kamalapuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485023068,"creation_date":1485022107,"answer_id":41782716,"question_id":41782650,"body_markdown":"    mSubscriptionSw.setOnCheckedChangeListener(new OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView,\r\n                                             boolean isChecked) {\r\n                    if (isChecked) {\r\n                        // checked\r\n                    } else {\r\n                        // not checked\r\n                    }\r\n                }\r\n            });","title":"switch.isChecked always false","body":"<pre><code>mSubscriptionSw.setOnCheckedChangeListener(new OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView,\n                                         boolean isChecked) {\n                if (isChecked) {\n                    // checked\n                } else {\n                    // not checked\n                }\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6711890,"reputation":1113,"user_id":5175026,"display_name":"Mohammad Salem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485022238,"creation_date":1485022238,"answer_id":41782740,"question_id":41782650,"body_markdown":"    ToggleButton toggle = (ToggleButton) findViewById(R.id.togglebutton); \r\n    toggle.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if (isChecked) {\r\n                    // The toggle is enabled\r\n                } else {\r\n                    // The toggle is disabled\r\n                }\r\n            } });","title":"switch.isChecked always false","body":"<pre><code>ToggleButton toggle = (ToggleButton) findViewById(R.id.togglebutton); \ntoggle.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n            if (isChecked) {\n                // The toggle is enabled\n            } else {\n                // The toggle is disabled\n            }\n        } });\n</code></pre>\n"}],"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41782740,"answer_count":2,"score":1,"last_activity_date":1645467067,"creation_date":1485021661,"question_id":41782650,"body_markdown":"I am using switch component inside  my list item. But no matter I enable the switch or not. It&#39;s returning false. \r\n\r\n      group_select.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        if (group_select.isChecked()){\r\n                            Toast.makeText(context, &quot;Checked at &quot;+position, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        else if (!group_select.isChecked()){\r\n                            Toast.makeText(context, &quot;Unchecked at &quot;+position, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n            });\r\n\r\nThanx for the help....","title":"switch.isChecked always false","body":"<p>I am using switch component inside  my list item. But no matter I enable the switch or not. It's returning false. </p>\n\n<pre><code>  group_select.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (group_select.isChecked()){\n                        Toast.makeText(context, \"Checked at \"+position, Toast.LENGTH_SHORT).show();\n                    }\n                    else if (!group_select.isChecked()){\n                        Toast.makeText(context, \"Unchecked at \"+position, Toast.LENGTH_SHORT).show();\n                    }\n                }\n        });\n</code></pre>\n\n<p>Thanx for the help....</p>\n"},{"tags":["java","spring-boot","caching","redis"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645466804,"post_id":71210942,"comment_id":125874067,"body_markdown":"Are both DTOs serializable? Do GroupsDTO have a specific RedisTemplate bean configured? Is there any specific cache configuration for groups or users?","body":"Are both DTOs serializable? Do GroupsDTO have a specific RedisTemplate bean configured? Is there any specific cache configuration for groups or users?"},{"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"score":0,"creation_date":1645467124,"post_id":71210942,"comment_id":125874168,"body_markdown":"I edited the question, Both are serializable.\nGroupsDTO do not use an extends of Group.\nNo specific redistemplate bean ( just one for jwt token..)\nNo specific cache","body":"I edited the question, Both are serializable. GroupsDTO do not use an extends of Group. No specific redistemplate bean ( just one for jwt token..) No specific cache"},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1645474094,"post_id":71210942,"comment_id":125876485,"body_markdown":"not sure about Redis cache, and it&#39;s not tightly related, but at spring-context cache we have to @EnableCaching, have a @Bean public CacheManager. Note you can also add in the @Cacheable annotation something like `unless = &quot;#result == null&quot;` so nulls won&#39;t be in the cache.","body":"not sure about Redis cache, and it&#39;s not tightly related, but at spring-context cache we have to @EnableCaching, have a @Bean public CacheManager. Note you can also add in the @Cacheable annotation something like <code>unless = &quot;#result == null&quot;</code> so nulls won&#39;t be in the cache."},{"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"score":0,"creation_date":1645474734,"post_id":71210942,"comment_id":125876679,"body_markdown":"The @EnableCaching is in the main.\nThe problem is that there is no null..\nThe result is displayed on the first call without cache, and then the cache respond with a null object. But it is not at all null.. it is huge..","body":"The @EnableCaching is in the main. The problem is that there is no null.. The result is displayed on the first call without cache, and then the cache respond with a null object. But it is not at all null.. it is huge.."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645514754,"post_id":71210942,"comment_id":125884712,"body_markdown":"`Users` isn&#39;t `Serializable` next to that `Item` needs to be `Serializable` to else it won&#39;t work unless you specify a specific `RedisSerializer` for these classes yourself.  The default used is the `JdkSerializationRedisSerializer` and it will only serialize stuff that is serializable. Looking at your code `Item` isn&#39;t. You might want to try another serializer like the `Jackson2JsonSerializer`.","body":"<code>Users</code> isn&#39;t <code>Serializable</code> next to that <code>Item</code> needs to be <code>Serializable</code> to else it won&#39;t work unless you specify a specific <code>RedisSerializer</code> for these classes yourself.  The default used is the <code>JdkSerializationRedisSerializer</code> and it will only serialize stuff that is serializable. Looking at your code <code>Item</code> isn&#39;t. You might want to try another serializer like the <code>Jackson2JsonSerializer</code>."}],"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645467031,"creation_date":1645466289,"question_id":71210942,"body_markdown":"I encouter a strange problem with one method.. no idea why this one, because it is the same as the other one..\r\n\r\nI&#39;m using Redis for the cache, but redis doesn&#39;t return me the cached response after the first call..\r\n\r\nSpringboot parent version : 2.6.3\r\n```\r\n\t@GetMapping(value = &quot;/groups&quot;, produces = APPLICATION_JSON_VALUE)\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\t@Cacheable(value = &quot;groups&quot;)\r\n\tpublic GroupsDTO getAllGroups() {\r\n\t\treturn iGroupsAndUsersService.getAllGroups();\r\n\t}\r\n\r\n\t@GetMapping(value = &quot;/users&quot;, produces = APPLICATION_JSON_VALUE)\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\t@Cacheable(value = &quot;users&quot;)\r\n\tpublic UsersDTO getAllUsers() {\r\n\t\tSystem.out.println(&quot;here&quot;); // is displayed the first call\r\n\t\treturn iGroupsAndUsersService.getAllUsers();\r\n\t}\r\n```\r\n\r\nFor my first call to /users i get my list of users within 1.5 seconds so OK.\r\nThe second call and other one i get null like this (http 200) : \r\n```\r\n{\r\n    &quot;items&quot;: null\r\n}\r\n\r\n```\r\n\r\nI can see that my method as been called only one time, but unlike other methods, the cache is not returning me the cached response..\r\n\r\nThe endpoint /groups is working without any problem.. these methods do the same job...\r\n\r\n```\r\npublic interface IGroupsAndUsersService {\r\n\r\n        GroupsDTO getAllGroups();\r\n\r\n        UsersDTO getAllUsers();\r\n        \r\n}\r\n```\r\n\r\nUsers\r\n```\r\n@Data\r\npublic class Users {\r\n  List&lt;Item&gt; items;\r\n\r\n  @Data\r\n  public static class Item {\r\n    public Metadata metadata;\r\n    public String fullName;\r\n  }\r\n\r\n  @Data\r\n  public static class Metadata {\r\n    public String name;\r\n  }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class UsersDTO extends Users implements Serializable{\r\n\r\n}\r\n```","title":"Strange behaviour of Spring Cacheable returning null after the first call","body":"<p>I encouter a strange problem with one method.. no idea why this one, because it is the same as the other one..</p>\n<p>I'm using Redis for the cache, but redis doesn't return me the cached response after the first call..</p>\n<p>Springboot parent version : 2.6.3</p>\n<pre><code>    @GetMapping(value = &quot;/groups&quot;, produces = APPLICATION_JSON_VALUE)\n    @ResponseStatus(HttpStatus.OK)\n    @Cacheable(value = &quot;groups&quot;)\n    public GroupsDTO getAllGroups() {\n        return iGroupsAndUsersService.getAllGroups();\n    }\n\n    @GetMapping(value = &quot;/users&quot;, produces = APPLICATION_JSON_VALUE)\n    @ResponseStatus(HttpStatus.OK)\n    @Cacheable(value = &quot;users&quot;)\n    public UsersDTO getAllUsers() {\n        System.out.println(&quot;here&quot;); // is displayed the first call\n        return iGroupsAndUsersService.getAllUsers();\n    }\n</code></pre>\n<p>For my first call to /users i get my list of users within 1.5 seconds so OK.\nThe second call and other one i get null like this (http 200) :</p>\n<pre><code>{\n    &quot;items&quot;: null\n}\n\n</code></pre>\n<p>I can see that my method as been called only one time, but unlike other methods, the cache is not returning me the cached response..</p>\n<p>The endpoint /groups is working without any problem.. these methods do the same job...</p>\n<pre><code>public interface IGroupsAndUsersService {\n\n        GroupsDTO getAllGroups();\n\n        UsersDTO getAllUsers();\n        \n}\n</code></pre>\n<p>Users</p>\n<pre><code>@Data\npublic class Users {\n  List&lt;Item&gt; items;\n\n  @Data\n  public static class Item {\n    public Metadata metadata;\n    public String fullName;\n  }\n\n  @Data\n  public static class Metadata {\n    public String name;\n  }\n\n}\n</code></pre>\n<pre><code>public class UsersDTO extends Users implements Serializable{\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1645467692,"post_id":71211096,"comment_id":125874379,"body_markdown":"`Movement` and `Turn` are completely unrelated, except for the shared location, namespace, and privileged access that ensues. The quickest answer is that you can make them implement the same interface... but before you do that, you have to answer the question why they are two different enums at all. If they have to be different, what makes them so similar that you expect to be able to use them in an uniform way? Maybe the latter question will guide your design of a common interface, but you may also be able to avoid that altogether.","body":"<code>Movement</code> and <code>Turn</code> are completely unrelated, except for the shared location, namespace, and privileged access that ensues. The quickest answer is that you can make them implement the same interface... but before you do that, you have to answer the question why they are two different enums at all. If they have to be different, what makes them so similar that you expect to be able to use them in an uniform way? Maybe the latter question will guide your design of a common interface, but you may also be able to avoid that altogether."},{"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"score":0,"creation_date":1645476367,"post_id":71211096,"comment_id":125877169,"body_markdown":"Think I got you point @ernest_k","body":"Think I got you point @ernest_k"}],"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645466958,"creation_date":1645466958,"question_id":71211096,"body_markdown":"Got the following enumerator:\r\n\r\n```\r\npublic enum Movement {\r\n  FORWARD;\r\n\r\n  @AllArgsConstructor\r\n  public enum Turn {\r\n    RIGHT(90),\r\n    LEFT(-90);\r\n\r\n    @Getter private final int degrees;\r\n  }\r\n}\r\n```\r\n\r\nand I got a method that needs to take as parameter an element of type *Movement*, hence FORWARD, along with its inner enumerator *Turn* (Turn.RIGHT and Turn.LEFT). \r\nHere is the current method that only works with FORWARD:\r\n  \r\n    private Diary.Record buildDiaryRecord(Movement movement) {\r\n        return Diary.Record.builder()\r\n            .timestamp(Timestamp.from(Instant.now()))\r\n            .currentLocation(currentLocation)\r\n            .direction(getCompass().getDirection())\r\n            .action(movement)\r\n            .build();\r\n      }\r\n\r\nif I try to do this:\r\n \r\n\r\n     public void turn(Movement.Turn turn) {\r\n        diary.getRecords().push(buildDiaryRecord(turn));\r\n      }\r\nCorrectly I got a compilation error.\r\n\r\nHence my question is: how to make this method generic enough to accept Turn as well? \r\n","title":"Allow a method to get either an Enum or its sub Enum","body":"<p>Got the following enumerator:</p>\n<pre><code>public enum Movement {\n  FORWARD;\n\n  @AllArgsConstructor\n  public enum Turn {\n    RIGHT(90),\n    LEFT(-90);\n\n    @Getter private final int degrees;\n  }\n}\n</code></pre>\n<p>and I got a method that needs to take as parameter an element of type <em>Movement</em>, hence FORWARD, along with its inner enumerator <em>Turn</em> (Turn.RIGHT and Turn.LEFT).\nHere is the current method that only works with FORWARD:</p>\n<pre><code>private Diary.Record buildDiaryRecord(Movement movement) {\n    return Diary.Record.builder()\n        .timestamp(Timestamp.from(Instant.now()))\n        .currentLocation(currentLocation)\n        .direction(getCompass().getDirection())\n        .action(movement)\n        .build();\n  }\n</code></pre>\n<p>if I try to do this:</p>\n<pre><code> public void turn(Movement.Turn turn) {\n    diary.getRecords().push(buildDiaryRecord(turn));\n  }\n</code></pre>\n<p>Correctly I got a compilation error.</p>\n<p>Hence my question is: how to make this method generic enough to accept Turn as well?</p>\n"},{"tags":["java","spring","jakarta-ee","cdi"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1351076517,"post_id":13047807,"comment_id":17717051,"body_markdown":"You&#39;re asking &quot;of what use is dependency injection&quot;?","body":"You&#39;re asking &quot;of what use is dependency injection&quot;?"},{"owner":{"account_id":164729,"reputation":2822,"user_id":387675,"accept_rate":62,"display_name":"PhilDin"},"score":0,"creation_date":1351081279,"post_id":13047807,"comment_id":17719012,"body_markdown":"Pretty much. I can accept that CDI does more than my factory class (as stated below) but I&#39;m still not clear on what that more is.","body":"Pretty much. I can accept that CDI does more than my factory class (as stated below) but I&#39;m still not clear on what that more is."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1351082641,"post_id":13047807,"comment_id":17719592,"body_markdown":"I&#39;d probably search around for general DI/IoC info then. There are many advantages, and duffymo&#39;s update in response to this comment sums them up nicely. For me the first three are key, the fourth is just a consequence, and proxies/AOP don&#39;t enter into it much although I use both.","body":"I&#39;d probably search around for general DI/IoC info then. There are many advantages, and duffymo&#39;s update in response to this comment sums them up nicely. For me the first three are key, the fourth is just a consequence, and proxies/AOP don&#39;t enter into it much although I use both."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1351082258,"creation_date":1351076495,"answer_id":13047891,"question_id":13047807,"body_markdown":"The people that wrote CDI gave you one big object factory; they did the work for you, better than you would.  It&#39;s XML configuration or annotation driven, so you don&#39;t have to embed everything in code.\r\n\r\nDependency injection engines, like Spring, do a lot more than your factory.  It&#39;ll take more than one factory class and one line of code to duplicate all that they offer.\r\n\r\nOf course you don&#39;t have to use it.  You are always free to invent your own wheel.  And you should - [if your purpose is to learn how to make wheels][1] or eliminate dependencies.  \r\n\r\nBut if you want to just develop applications, it&#39;s better to use the tools that others provide when they give you an advantage.\r\n\r\nThe [seminal article][2] on dependency injection was written by Martin Fowler.  I&#39;d recommend reading it; it&#39;s still great, eight years later.\r\n\r\n&gt; &quot;still not clear on what the more is&quot;\r\n\r\nHere are a few advantages:\r\n\r\n 1. Looser coupling\r\n 2. Easier testing\r\n 3. Better layering\r\n 4. Interface-based design\r\n 5. Dynamic proxies (segue to AOP).\r\n \r\n  [1]: http://www.joelonsoftware.com/articles/fog0000000007.html\r\n  [2]: http://martinfowler.com/articles/injection.html","title":"Why use CDI in Java EE","body":"<p>The people that wrote CDI gave you one big object factory; they did the work for you, better than you would.  It's XML configuration or annotation driven, so you don't have to embed everything in code.</p>\n\n<p>Dependency injection engines, like Spring, do a lot more than your factory.  It'll take more than one factory class and one line of code to duplicate all that they offer.</p>\n\n<p>Of course you don't have to use it.  You are always free to invent your own wheel.  And you should - <a href=\"http://www.joelonsoftware.com/articles/fog0000000007.html\">if your purpose is to learn how to make wheels</a> or eliminate dependencies.  </p>\n\n<p>But if you want to just develop applications, it's better to use the tools that others provide when they give you an advantage.</p>\n\n<p>The <a href=\"http://martinfowler.com/articles/injection.html\">seminal article</a> on dependency injection was written by Martin Fowler.  I'd recommend reading it; it's still great, eight years later.</p>\n\n<blockquote>\n  <p>\"still not clear on what the more is\"</p>\n</blockquote>\n\n<p>Here are a few advantages:</p>\n\n<ol>\n<li>Looser coupling</li>\n<li>Easier testing</li>\n<li>Better layering</li>\n<li>Interface-based design</li>\n<li>Dynamic proxies (segue to AOP).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1645466818,"creation_date":1351079369,"answer_id":13048652,"question_id":13047807,"body_markdown":"The purpose of using dependency injection is so that the code using the thing that&#39;s injected doesn&#39;t have a dependency on the factory. With your factory code example there&#39;s a static method call embedded in your code that is not needed there with the DI approach. \r\n\r\nThe thing that is being injected with `myFoo` shouldn&#39;t have to know about the factory. The factory puts limits on your options for testing that aren&#39;t there with DI. Specifically if you have a Bar object that has a Foo, a test of that Bar object can directly create a Foo or mock Foo and put it on the Bar without needing to involve a FooFactory, and you don&#39;t have to write a FooFactory, which is boilerplate that doesn&#39;t do anything to implement application business logic.\r\n","title":"Why use CDI in Java EE","body":"<p>The purpose of using dependency injection is so that the code using the thing that's injected doesn't have a dependency on the factory. With your factory code example there's a static method call embedded in your code that is not needed there with the DI approach.</p>\n<p>The thing that is being injected with <code>myFoo</code> shouldn't have to know about the factory. The factory puts limits on your options for testing that aren't there with DI. Specifically if you have a Bar object that has a Foo, a test of that Bar object can directly create a Foo or mock Foo and put it on the Bar without needing to involve a FooFactory, and you don't have to write a FooFactory, which is boilerplate that doesn't do anything to implement application business logic.</p>\n"},{"tags":[],"owner":{"account_id":461075,"reputation":13230,"user_id":862563,"accept_rate":58,"display_name":"DeepSpace101"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1406821578,"creation_date":1387651653,"answer_id":20722319,"question_id":13047807,"body_markdown":"At a high level, as with most things on CompSci, it offers ***a level of indirection*** (or abstraction) that would otherwise be hardcoded in your application as `Foo myFoo = new Foo();`. That indirection brings about loosely coupled code, which makes things modular, which makes it easy to replace, service, test etc classes or sub-systems in a simpler manner.\r\n\r\nNote that there are many designs and patterns for indirection/abstraction - dependency injection is just one.\r\n\r\nThe other aspect of your question is &quot;Why CDI?&quot; - well, because someone has already done the work for you. You can *always* build your own stuff, but it&#39;s usually a waste of time when the objective is to build a real world system that must perform under budget and on time. Why bother with groceries and cooking when there is a Michelin starred chef who&#39;s willing to do that work for you?","title":"Why use CDI in Java EE","body":"<p>At a high level, as with most things on CompSci, it offers <strong><em>a level of indirection</em></strong> (or abstraction) that would otherwise be hardcoded in your application as <code>Foo myFoo = new Foo();</code>. That indirection brings about loosely coupled code, which makes things modular, which makes it easy to replace, service, test etc classes or sub-systems in a simpler manner.</p>\n\n<p>Note that there are many designs and patterns for indirection/abstraction - dependency injection is just one.</p>\n\n<p>The other aspect of your question is \"Why CDI?\" - well, because someone has already done the work for you. You can <em>always</em> build your own stuff, but it's usually a waste of time when the objective is to build a real world system that must perform under budget and on time. Why bother with groceries and cooking when there is a Michelin starred chef who's willing to do that work for you?</p>\n"},{"tags":[],"owner":{"account_id":439601,"reputation":6406,"user_id":828638,"accept_rate":73,"display_name":"jordanpg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1420418788,"creation_date":1420416501,"answer_id":27771768,"question_id":13047807,"body_markdown":"This is an important and subtle question about what enterprise programming is all about.  \r\n\r\nThe name is well chosen:  contexts and dependencies.  \r\n\r\nCDI has nothing to do with better or cleaner code, it&#39;s about ensuring that large organizations can build complex, distributed software systems and share data.  It&#39;s about making 100% sure that governments or other bureaucracies can indiscriminately distribute self-contained, well-documented packages for every piece of software they control.  Remember that these days, virtually any POJO can be injected.\r\n\r\nLet&#39;s say you&#39;re building a client app of some sort, and you want it to print the first name of the user in the corner.  \r\n\r\n - The enterprise architects of this large company would like you to\r\n   have this capability, but as a junior software engineer, there is no\r\n   chance of you being handed the keys to the DB.  \r\n   \r\n - They would also like to secure the data across the network, but the\r\n   company isn&#39;t paying any engineers to re-engineer an authentication\r\n   client every time they need to share a scrap of data.\r\n   \r\n - They would like for you to be able to be able to query and update\r\n   this info, but would like transactions to be handled at a higher\r\n   level than any one app.\r\n\r\n - They would like for you to be able to test your classes with trivial mocks in setup blocks.\r\n\r\n - They would like for coupling between classes to involve a minimum of static methods.\r\n\r\n - And on and on and on...\r\n\r\nMost JSRs probably have a &quot;EAs would like to be able to...&quot; buried inside somewhere.\r\n\r\n**CDI is preferred because it allows apps of large (arbitrary?) horizontal and vertical scales to share contexts, dependencies, and therefore data.**\r\n\r\nIn Fowler&#39;s words:\r\n\r\n&gt; &quot;The problem is how can I make that link so that my lister class is\r\n&gt; ignorant of the implementation class, but can still talk to an\r\n&gt; instance to do its work.&quot;\r\n&gt; \r\n&gt; &quot; But if we wish to deploy this system in different ways, we need to\r\n&gt; use plugins to handle the interaction with these services so we can\r\n&gt; use different implementations in different deployments.&quot;\r\n&gt; \r\n&gt; &quot;The approach that these containers use is to ensure that any user of\r\n&gt; a plugin follows some convention that allows a separate assembler\r\n&gt; module to inject the implementation into the lister.&quot;\r\n\r\nIn a nutshell, they allow for centralized &quot;command and control&quot; of complex enterprise applications.  *Java EE* is a systematized, reliable process for abstraction and CDI is a an incarnation of it that works so well, it almost makes it invisible.  It makes the stitching together of complex apps almost trivial.\r\n\r\nTwo more things: \r\n\r\n1.  Note that CDI exists peacefully alongside the &quot;service locator pattern&quot;, known as JNDI in Java EE, which is preferable if the client developer will need to choose among many identically-typed alternatives.\r\n\r\n2.  CDI is more firepower than is needed in many cases, especially non-enterprise (literally) cases.","title":"Why use CDI in Java EE","body":"<p>This is an important and subtle question about what enterprise programming is all about.  </p>\n\n<p>The name is well chosen:  contexts and dependencies.  </p>\n\n<p>CDI has nothing to do with better or cleaner code, it's about ensuring that large organizations can build complex, distributed software systems and share data.  It's about making 100% sure that governments or other bureaucracies can indiscriminately distribute self-contained, well-documented packages for every piece of software they control.  Remember that these days, virtually any POJO can be injected.</p>\n\n<p>Let's say you're building a client app of some sort, and you want it to print the first name of the user in the corner.  </p>\n\n<ul>\n<li><p>The enterprise architects of this large company would like you to\nhave this capability, but as a junior software engineer, there is no\nchance of you being handed the keys to the DB.  </p></li>\n<li><p>They would also like to secure the data across the network, but the\ncompany isn't paying any engineers to re-engineer an authentication\nclient every time they need to share a scrap of data.</p></li>\n<li><p>They would like for you to be able to be able to query and update\nthis info, but would like transactions to be handled at a higher\nlevel than any one app.</p></li>\n<li><p>They would like for you to be able to test your classes with trivial mocks in setup blocks.</p></li>\n<li><p>They would like for coupling between classes to involve a minimum of static methods.</p></li>\n<li><p>And on and on and on...</p></li>\n</ul>\n\n<p>Most JSRs probably have a \"EAs would like to be able to...\" buried inside somewhere.</p>\n\n<p><strong>CDI is preferred because it allows apps of large (arbitrary?) horizontal and vertical scales to share contexts, dependencies, and therefore data.</strong></p>\n\n<p>In Fowler's words:</p>\n\n<blockquote>\n  <p>\"The problem is how can I make that link so that my lister class is\n  ignorant of the implementation class, but can still talk to an\n  instance to do its work.\"</p>\n  \n  <p>\" But if we wish to deploy this system in different ways, we need to\n  use plugins to handle the interaction with these services so we can\n  use different implementations in different deployments.\"</p>\n  \n  <p>\"The approach that these containers use is to ensure that any user of\n  a plugin follows some convention that allows a separate assembler\n  module to inject the implementation into the lister.\"</p>\n</blockquote>\n\n<p>In a nutshell, they allow for centralized \"command and control\" of complex enterprise applications.  <em>Java EE</em> is a systematized, reliable process for abstraction and CDI is a an incarnation of it that works so well, it almost makes it invisible.  It makes the stitching together of complex apps almost trivial.</p>\n\n<p>Two more things: </p>\n\n<ol>\n<li><p>Note that CDI exists peacefully alongside the \"service locator pattern\", known as JNDI in Java EE, which is preferable if the client developer will need to choose among many identically-typed alternatives.</p></li>\n<li><p>CDI is more firepower than is needed in many cases, especially non-enterprise (literally) cases.</p></li>\n</ol>\n"}],"owner":{"account_id":164729,"reputation":2822,"user_id":387675,"accept_rate":62,"display_name":"PhilDin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27002,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":13047891,"answer_count":4,"score":52,"last_activity_date":1645466818,"creation_date":1351076195,"question_id":13047807,"body_markdown":"I know there are a lot of articles out there that explain how to use CDI in Java EE but I&#39;m having trouble figuring out what advantage this actually brings. For example, suppose I have a class that currently uses an instance of Foo. I might either do\r\n\r\n    Foo myFoo = new Foo();\r\n\r\nor \r\n\r\n    // Better, FooFactory might return a mock object for testing    \r\n    Foo myFoo = FooFactory.getFoo();\r\n\r\nI keep reading that with CDI I can do:\r\n\r\n    @Inject\r\n    Foo myFoo;\r\n\r\nbut why is this better than the previous factory based approach? I assume there is some other use case that I&#39;m not aware of but I haven&#39;t been able to identify this. \r\n\r\nIf I&#39;ve understood the responses below, the concept is that the DI framework acts as a master object factory that is configured centrally. Is this a reasonable interpretation?\r\n\r\n**Update**\r\n\r\nI&#39;ve since started learning Spring and this now makes a lot more sense. The paragraph below is taken from *Spring in Practice* taking an example of an `AccountService` class which in turn, uses an instance of `AccountDao`. I apologise for the long quote but I think it really gets to the heart of why injected resources offer something over standard initialisation. \r\n\r\n*You could have constructed the AccountService using the new keyword, but the creation of service layer objects is rarely so straightforward. They often depend on DAOs, mail senders, SOAP proxies, and whatnot. You could instantiate each of those dependencies programmatically in the AccountService constructor (or through static initialization), but that leads to hard dependencies and cascading changes as theyre swapped out.*\r\n\r\n\r\n*Additionally, you could create dependencies externally and set them on the AccountService via setter methods or constructor arguments. Doing so would eliminate the hard internal dependencies (as long as they were declared in the AccountService by interface), but youd have duplicated initialization code everywhere. Heres how you create a DAO and wire it\r\nup to your AccountService the Spring way:*\r\n\r\n\r\n    &lt;bean id=&quot;accountDao&quot; class=&quot;com.springinpractice.ch01.dao.jdbc.JdbcAccountDao&quot;/&gt;\r\n    \r\n    &lt;bean id=&quot;accountService&quot;\r\n        class=&quot;com.springinpractice.ch01.service.AccountService&quot;&gt;\r\n        &lt;property name=&quot;accountDao&quot; ref=&quot;accountDao&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nHaving configured the beans as above, your program can now request an instance of `AccountService` from the Spring ApplicationContext and the Spring DI framework will look after instantiated everything that needs instantiating. ","title":"Why use CDI in Java EE","body":"<p>I know there are a lot of articles out there that explain how to use CDI in Java EE but I'm having trouble figuring out what advantage this actually brings. For example, suppose I have a class that currently uses an instance of Foo. I might either do</p>\n\n<pre><code>Foo myFoo = new Foo();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>// Better, FooFactory might return a mock object for testing    \nFoo myFoo = FooFactory.getFoo();\n</code></pre>\n\n<p>I keep reading that with CDI I can do:</p>\n\n<pre><code>@Inject\nFoo myFoo;\n</code></pre>\n\n<p>but why is this better than the previous factory based approach? I assume there is some other use case that I'm not aware of but I haven't been able to identify this. </p>\n\n<p>If I've understood the responses below, the concept is that the DI framework acts as a master object factory that is configured centrally. Is this a reasonable interpretation?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I've since started learning Spring and this now makes a lot more sense. The paragraph below is taken from <em>Spring in Practice</em> taking an example of an <code>AccountService</code> class which in turn, uses an instance of <code>AccountDao</code>. I apologise for the long quote but I think it really gets to the heart of why injected resources offer something over standard initialisation. </p>\n\n<p><em>You could have constructed the AccountService using the new keyword, but the creation of service layer objects is rarely so straightforward. They often depend on DAOs, mail senders, SOAP proxies, and whatnot. You could instantiate each of those dependencies programmatically in the AccountService constructor (or through static initialization), but that leads to hard dependencies and cascading changes as theyre swapped out.</em></p>\n\n<p><em>Additionally, you could create dependencies externally and set them on the AccountService via setter methods or constructor arguments. Doing so would eliminate the hard internal dependencies (as long as they were declared in the AccountService by interface), but youd have duplicated initialization code everywhere. Heres how you create a DAO and wire it\nup to your AccountService the Spring way:</em></p>\n\n<pre><code>&lt;bean id=\"accountDao\" class=\"com.springinpractice.ch01.dao.jdbc.JdbcAccountDao\"/&gt;\n\n&lt;bean id=\"accountService\"\n    class=\"com.springinpractice.ch01.service.AccountService\"&gt;\n    &lt;property name=\"accountDao\" ref=\"accountDao\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Having configured the beans as above, your program can now request an instance of <code>AccountService</code> from the Spring ApplicationContext and the Spring DI framework will look after instantiated everything that needs instantiating. </p>\n"},{"tags":["java","bean-validation"],"comments":[{"owner":{"account_id":265884,"reputation":1322,"user_id":553142,"accept_rate":78,"display_name":"andyfinch"},"score":0,"creation_date":1335532679,"post_id":10138328,"comment_id":13335318,"body_markdown":"Decided this was not the best way forward in anycase. For common validation functionality I can just write a common method used by all the validators.","body":"Decided this was not the best way forward in anycase. For common validation functionality I can just write a common method used by all the validators."}],"answers":[{"tags":[],"owner":{"account_id":1382728,"reputation":7329,"user_id":1315397,"accept_rate":84,"display_name":"John Farrelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334320700,"creation_date":1334320700,"answer_id":10140987,"question_id":10138328,"body_markdown":"There doesn&#39;t seem to be a way to access other values from an object when validating one of its properties.  The solution I use is to put the annotation on the class, then the validator will get the entire object in to validate against, and you can access just the info you need to perform the validation.\r\n\r\nHere&#39;s one I wrote to compare two different properties of an object against each other:\r\n\r\n    @Target(TYPE)\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = LessThanValidator.class)\r\n    @Documented\r\n    public @interface LessThan {\r\n\r\n        String message() default &quot;{com.bullethq.constraints.LessThan}&quot;;\r\n\r\n        String bigValueProperty();\r\n\r\n        String littleValueProperty();\r\n\r\n        Class&lt;?&gt;[] groups() default {};\r\n\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nThen the validator class is:\r\n\r\n\r\n    public class LessThanValidator implements ConstraintValidator&lt;LessThan, Object&gt; {\r\n    \r\n        private LessThan constraint;\r\n    \r\n        public void initialize(LessThan constraintAnnotation) {\r\n            constraint = constraintAnnotation;\r\n        }\r\n    \r\n        public boolean isValid(Object object, ConstraintValidatorContext cvc) {\r\n            Object bigValue = getValue(object, constraint.bigValueProperty());\r\n            Object littleValue = getValue(object, constraint.littleValueProperty());\r\n    \r\n            // If one of the values is null, then we do not perform validation.\r\n            if (bigValue == null || littleValue == null) {\r\n                return true;\r\n            }\r\n    \r\n            if (bigValue instanceof Comparable &amp;&amp; littleValue instanceof Comparable) {\r\n                boolean valid = ((Comparable&lt;Object&gt;) bigValue).compareTo(littleValue) &gt; 0;\r\n                if (!valid) {\r\n                    // If the values are not valid, then build a custom violations which has the correct path in it.\r\n                    cvc.buildConstraintViolationWithTemplate(cvc.getDefaultConstraintMessageTemplate())\r\n                            .addNode(constraint.littleValueProperty())\r\n                            .addConstraintViolation().disableDefaultConstraintViolation();\r\n                }\r\n                return valid;\r\n            }\r\n            throw new IllegalArgumentException(&quot;Properties &quot; + constraint.bigValueProperty() + &quot; and &quot; + constraint.littleValueProperty() + &quot; both need to be comparable in &quot; + object.getClass());\r\n        }\r\n    }\r\n\r\nThe getValue() method is just a static method using reflection to get the value from the object.","title":"JSR-303 Bean Validation - Custom Constraint Multiple Annotations to One Validator","body":"<p>There doesn't seem to be a way to access other values from an object when validating one of its properties.  The solution I use is to put the annotation on the class, then the validator will get the entire object in to validate against, and you can access just the info you need to perform the validation.</p>\n\n<p>Here's one I wrote to compare two different properties of an object against each other:</p>\n\n<pre><code>@Target(TYPE)\n@Retention(RUNTIME)\n@Constraint(validatedBy = LessThanValidator.class)\n@Documented\npublic @interface LessThan {\n\n    String message() default \"{com.bullethq.constraints.LessThan}\";\n\n    String bigValueProperty();\n\n    String littleValueProperty();\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>Then the validator class is:</p>\n\n<pre><code>public class LessThanValidator implements ConstraintValidator&lt;LessThan, Object&gt; {\n\n    private LessThan constraint;\n\n    public void initialize(LessThan constraintAnnotation) {\n        constraint = constraintAnnotation;\n    }\n\n    public boolean isValid(Object object, ConstraintValidatorContext cvc) {\n        Object bigValue = getValue(object, constraint.bigValueProperty());\n        Object littleValue = getValue(object, constraint.littleValueProperty());\n\n        // If one of the values is null, then we do not perform validation.\n        if (bigValue == null || littleValue == null) {\n            return true;\n        }\n\n        if (bigValue instanceof Comparable &amp;&amp; littleValue instanceof Comparable) {\n            boolean valid = ((Comparable&lt;Object&gt;) bigValue).compareTo(littleValue) &gt; 0;\n            if (!valid) {\n                // If the values are not valid, then build a custom violations which has the correct path in it.\n                cvc.buildConstraintViolationWithTemplate(cvc.getDefaultConstraintMessageTemplate())\n                        .addNode(constraint.littleValueProperty())\n                        .addConstraintViolation().disableDefaultConstraintViolation();\n            }\n            return valid;\n        }\n        throw new IllegalArgumentException(\"Properties \" + constraint.bigValueProperty() + \" and \" + constraint.littleValueProperty() + \" both need to be comparable in \" + object.getClass());\n    }\n}\n</code></pre>\n\n<p>The getValue() method is just a static method using reflection to get the value from the object.</p>\n"}],"owner":{"account_id":265884,"reputation":1322,"user_id":553142,"accept_rate":78,"display_name":"andyfinch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645466660,"creation_date":1334309196,"question_id":10138328,"body_markdown":"When writing custom constraints is it possible to have multiple annotations validated by one validator implementation.  For example I have several annotations which stipulate different @size annotations but I want them all to point at the same validator class which does some global checking i.e. all must be match a certain regex.  As far as I can see the implementation takes in one Annotation Type.\r\n\r\nOne annotation\r\n\r\n    @Target( { METHOD, FIELD, ANNOTATION_TYPE, TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = {UCNValidator.class})\r\n    @Documented\r\n    @Size(min = 9, max = 9, message = &quot;{exactlength}&quot;)\r\n    public @interface UCN {\r\n    \r\n        String message() default &quot;{invalidFormat}&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        String fieldName() default &quot;ucn&quot;;\r\n    \r\n    }\r\n\r\nThe validator\r\n\r\n    public class UCNValidator implements ConstraintValidator&lt;UCN, String&gt;\r\n    {\r\n        \r\n        private String pattern = &quot;[a-zA-Z].*&quot;;\r\n        private String fieldName;\r\n    \r\n        @Override\r\n        public void initialize( UCN constraintAnnotation )\r\n        {\r\n            this.fieldName = constraintAnnotation.fieldName();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid( String value, ConstraintValidatorContext constraintValidatorContext )\r\n        {\r\n    \r\n            if ( value != null )\r\n            {\r\n                if ( !value.matches(pattern) )\r\n                {\r\n                    //do some stuff\r\n                    return false;\r\n                }\r\n    \r\n            }\r\n    \r\n            return true;\r\n        \r\n        }","title":"JSR-303 Bean Validation - Custom Constraint Multiple Annotations to One Validator","body":"<p>When writing custom constraints is it possible to have multiple annotations validated by one validator implementation.  For example I have several annotations which stipulate different @size annotations but I want them all to point at the same validator class which does some global checking i.e. all must be match a certain regex.  As far as I can see the implementation takes in one Annotation Type.</p>\n\n<p>One annotation</p>\n\n<pre><code>@Target( { METHOD, FIELD, ANNOTATION_TYPE, TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {UCNValidator.class})\n@Documented\n@Size(min = 9, max = 9, message = \"{exactlength}\")\npublic @interface UCN {\n\n    String message() default \"{invalidFormat}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    String fieldName() default \"ucn\";\n\n}\n</code></pre>\n\n<p>The validator</p>\n\n<pre><code>public class UCNValidator implements ConstraintValidator&lt;UCN, String&gt;\n{\n\n    private String pattern = \"[a-zA-Z].*\";\n    private String fieldName;\n\n    @Override\n    public void initialize( UCN constraintAnnotation )\n    {\n        this.fieldName = constraintAnnotation.fieldName();\n    }\n\n    @Override\n    public boolean isValid( String value, ConstraintValidatorContext constraintValidatorContext )\n    {\n\n        if ( value != null )\n        {\n            if ( !value.matches(pattern) )\n            {\n                //do some stuff\n                return false;\n            }\n\n        }\n\n        return true;\n\n    }\n</code></pre>\n"},{"tags":["java","netbeans","console"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1645435959,"post_id":71203915,"comment_id":125862106,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1645436020,"post_id":71203915,"comment_id":125862121,"body_markdown":"have you debugged your code and checked what that boolean condition in your if returns?","body":"have you debugged your code and checked what that boolean condition in your if returns?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1645437351,"post_id":71203915,"comment_id":125862579,"body_markdown":"This code should definitely print something. Are you sure you are running this very class? Can you recompile it?","body":"This code should definitely print something. Are you sure you are running this very class? Can you recompile it?"}],"owner":{"account_id":24327508,"reputation":1,"user_id":18266853,"display_name":"Fran&#231;ois Vanderpoorte"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645466036,"creation_date":1645435683,"question_id":71203915,"body_markdown":"I have some issues with console user interaction.\r\nThe code below does not show the prompt. I&#39;m running it with netbeans. Any idea?\r\n\r\n```\r\n    public class PromptTest {\r\n      void prompt() {\r\n        System.out.print(&quot;Enter something &gt;&gt;&quot;);\r\n        System.out.flush();\r\n      }\r\n\r\n      void loop() {\r\n        Scanner sc = new Scanner(System.in);\r\n        prompt();\r\n        System.out.flush();\r\n        while (sc.hasNextLine()) {\r\n          System.out.println(&quot;Yout gave me : [&quot;+sc.nextLine()+&quot;]&quot;);\r\n          prompt();\r\n        }\r\n      }\t\r\n      public static void main(String[] args) {\r\n        PromptTest pt = new PromptTest();\r\n        pt.loop();\r\n      }\r\n    }\r\n```\r\n","title":"prompt is not displayed with system.out in netbeans","body":"<p>I have some issues with console user interaction.\nThe code below does not show the prompt. I'm running it with netbeans. Any idea?</p>\n<pre><code>    public class PromptTest {\n      void prompt() {\n        System.out.print(&quot;Enter something &gt;&gt;&quot;);\n        System.out.flush();\n      }\n\n      void loop() {\n        Scanner sc = new Scanner(System.in);\n        prompt();\n        System.out.flush();\n        while (sc.hasNextLine()) {\n          System.out.println(&quot;Yout gave me : [&quot;+sc.nextLine()+&quot;]&quot;);\n          prompt();\n        }\n      } \n      public static void main(String[] args) {\n        PromptTest pt = new PromptTest();\n        pt.loop();\n      }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","binding","application.properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645515397,"post_id":71210841,"comment_id":125884931,"body_markdown":"You can use validation annotations. See https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.validation","body":"You can use validation annotations. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.validation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"score":0,"creation_date":1646404323,"post_id":71210841,"comment_id":126121310,"body_markdown":"i tried but it didn&#39;t have any effect :-(","body":"i tried but it didn&#39;t have any effect :-("},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646473391,"post_id":71210841,"comment_id":126135749,"body_markdown":"Only adding annotations (the API) doesn&#39;t do anything, you need to add `spring-boot-starter-validation` to your class path and put and `@NotEmpty` on that field. Another thing is you might need to add `@Valid` to the `@Bean` or nested `Map` as what you are doing is actually a bit weird .","body":"Only adding annotations (the API) doesn&#39;t do anything, you need to add <code>spring-boot-starter-validation</code> to your class path and put and <code>@NotEmpty</code> on that field. Another thing is you might need to add <code>@Valid</code> to the <code>@Bean</code> or nested <code>Map</code> as what you are doing is actually a bit weird ."}],"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645465831,"creation_date":1645465831,"question_id":71210841,"body_markdown":"i got something like that...\r\n\r\nin my spring boot application properties\r\n\r\n    proxy.for.US7743411016.instruCurrency=EUR\r\n    proxy.for.US7743411016.proxyId=PROXY0001\r\n    proxy.for.US7743411016.proxyCurrency=EUR\r\n    proxy.for.ISIN0002.instruCurrency=EUR\r\n    proxy.for.ISIN0002.proxyId=PROXY0002\r\n    proxy.for.ISIN0002.proxyCurrency=EUR\r\n\r\nin my configuration Class.. \r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;proxy.for&quot;)\r\n    public Map&lt;String, Proxyfication&gt; proxies() {\r\n       return new TreeMap&lt;&gt;();\r\n    }\r\n\r\nand of course a POJO like this.. \r\n\r\n    public class Proxyfication {\r\n      String         proxyId;\r\n      String         proxyCurrency;\r\n      String         instruCurrency;\r\n\r\n\r\nMy question is : how to unauthorize incomplete binding like.. \r\n\r\n    proxy.for.US7743411016.instruCurrency=   &lt;====== empty\r\n    proxy.for.US7743411016.proxyId=PROXY0001\r\n    proxy.for.US7743411016.proxyCurrency=EUR\r\n\r\nIs there a smart solution via annotation, or other ? \r\n\r\nIN fact, the only way i found was to introduce an exception in my POJO setter.\r\n\r\n\r\n      public void setInstruCurrency(String instruCurrency) {\r\n        if (StringUtils.isEmpty(instruCurrency)) {\r\n          logger.error(&quot;empty or null instruCurrency attribute provided.&quot;);\r\n          throw new IllegalArgumentException(&quot;empty or null instruCurrency forbidden.&quot;);\r\n        }\r\n    \r\n        this.instruCurrency = instruCurrency;\r\n      }\r\n\r\na little bit inappropriate or heavy isn&#39;t it ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n","title":"prevent from empty binding value in spring boot application properties?","body":"<p>i got something like that...</p>\n<p>in my spring boot application properties</p>\n<pre><code>proxy.for.US7743411016.instruCurrency=EUR\nproxy.for.US7743411016.proxyId=PROXY0001\nproxy.for.US7743411016.proxyCurrency=EUR\nproxy.for.ISIN0002.instruCurrency=EUR\nproxy.for.ISIN0002.proxyId=PROXY0002\nproxy.for.ISIN0002.proxyCurrency=EUR\n</code></pre>\n<p>in my configuration Class..</p>\n<pre><code>@Bean\n@ConfigurationProperties(&quot;proxy.for&quot;)\npublic Map&lt;String, Proxyfication&gt; proxies() {\n   return new TreeMap&lt;&gt;();\n}\n</code></pre>\n<p>and of course a POJO like this..</p>\n<pre><code>public class Proxyfication {\n  String         proxyId;\n  String         proxyCurrency;\n  String         instruCurrency;\n</code></pre>\n<p>My question is : how to unauthorize incomplete binding like..</p>\n<pre><code>proxy.for.US7743411016.instruCurrency=   &lt;====== empty\nproxy.for.US7743411016.proxyId=PROXY0001\nproxy.for.US7743411016.proxyCurrency=EUR\n</code></pre>\n<p>Is there a smart solution via annotation, or other ?</p>\n<p>IN fact, the only way i found was to introduce an exception in my POJO setter.</p>\n<pre><code>  public void setInstruCurrency(String instruCurrency) {\n    if (StringUtils.isEmpty(instruCurrency)) {\n      logger.error(&quot;empty or null instruCurrency attribute provided.&quot;);\n      throw new IllegalArgumentException(&quot;empty or null instruCurrency forbidden.&quot;);\n    }\n\n    this.instruCurrency = instruCurrency;\n  }\n</code></pre>\n<p>a little bit inappropriate or heavy isn't it ?</p>\n"},{"tags":["java","android","kotlin","textview"],"answers":[{"tags":[],"owner":{"account_id":13479916,"reputation":529,"user_id":9725562,"display_name":"Anshul1507"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645465788,"creation_date":1645465788,"answer_id":71210834,"question_id":71208562,"body_markdown":"You can use **NumberFormat** class which offers to format of numbers based on a given Locale.\r\nGiven code in Kotlin\r\n\r\n    val number = 10\r\n    val formatter = NumberFormat.getInstance(Locale.US)\r\n    text_view.text = formatter.format(number)\r\n\r\nOr, in case if you want to change number as per to its currency formatting, you can do the same with the help of same class.\r\n\r\n    val formatter = NumberFormat.getCurrencyInstance(Locale.US)\r\n    text_view.text = formatter.format(number)","title":"Force all textview in app to display numbers in en-us format android","body":"<p>You can use <strong>NumberFormat</strong> class which offers to format of numbers based on a given Locale.\nGiven code in Kotlin</p>\n<pre><code>val number = 10\nval formatter = NumberFormat.getInstance(Locale.US)\ntext_view.text = formatter.format(number)\n</code></pre>\n<p>Or, in case if you want to change number as per to its currency formatting, you can do the same with the help of same class.</p>\n<pre><code>val formatter = NumberFormat.getCurrencyInstance(Locale.US)\ntext_view.text = formatter.format(number)\n</code></pre>\n"}],"owner":{"account_id":14763836,"reputation":795,"user_id":10662432,"display_name":"Hossam Hassan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645465788,"creation_date":1645456005,"question_id":71208562,"body_markdown":"I have an issue when the user changes his phone to Arabic and reopen my application the numbers are in Arabic, is there a way to force all the app to convert all textview to accept Locale.US? \r\nmaybe set the style same as font text?\r\n","title":"Force all textview in app to display numbers in en-us format android","body":"<p>I have an issue when the user changes his phone to Arabic and reopen my application the numbers are in Arabic, is there a way to force all the app to convert all textview to accept Locale.US?\nmaybe set the style same as font text?</p>\n"},{"tags":["java","validation","secure-coding","string-utils","path-traversal"],"comments":[{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1645464387,"post_id":71210451,"comment_id":125873238,"body_markdown":"what do you want to happen if the file name were, say, x/../x and x exists? It&#39;s a silly thing to type but it&#39;s meaningful and valid. Are you wanting to prevent the user entering anything other than a simple path with no relative traversals? I&#39;m thinking that of the normalised path leads to a file may normalisation is actually the most useful behaviour.","body":"what do you want to happen if the file name were, say, x/../x and x exists? It&#39;s a silly thing to type but it&#39;s meaningful and valid. Are you wanting to prevent the user entering anything other than a simple path with no relative traversals? I&#39;m thinking that of the normalised path leads to a file may normalisation is actually the most useful behaviour."},{"owner":{"account_id":21156728,"reputation":21,"user_id":15555842,"display_name":"rons1"},"score":0,"creation_date":1645465698,"post_id":71210451,"comment_id":125873702,"body_markdown":"I want to throw an exception in case the filename contains sesative characters, not to normalize it.","body":"I want to throw an exception in case the filename contains sesative characters, not to normalize it."},{"owner":{"account_id":9553538,"reputation":633,"user_id":7096838,"display_name":"Agnibha"},"score":1,"creation_date":1645467456,"post_id":71210451,"comment_id":125874296,"body_markdown":"Hi @rons1, as invalid path characters are very less in number, you can do a hard check on the input string, using `contains` as in when required. I think that code will be simple and easy to read instead of using some library.","body":"Hi @rons1, as invalid path characters are very less in number, you can do a hard check on the input string, using <code>contains</code> as in when required. I think that code will be simple and easy to read instead of using some library."}],"owner":{"account_id":21156728,"reputation":21,"user_id":15555842,"display_name":"rons1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1645465521,"creation_date":1645463942,"question_id":71210451,"body_markdown":"I have a system where user can upload file. I want to throw an exception in case the filename is contains sensitive characters like &quot;../&quot;, etc. (to avoid Path Traversal vulnerability: &quot;file/../../file.txt&quot;).\\\r\nI have the code `String originalFilename = multipartFile.getOriginalFilename();`\\\r\nThere&#39;s an option to use `StringUtils.cleanPath(originalFilename)` but it&#39;s not exactly what I need (I want to validate the file, not to normalize it).\\\r\nThe only option I see is to compare the normalized filename (the result of the `StringUtils.cleanPath(...)` method) with the original String, but I&#39;d like to know if there&#39;s something easier. For example something like: `StringUtils.isPathValid(originalFilename)`.\\\r\nIn addition, I&#39;d prefer to use a method that is already developed (open source) and commonly used instead of creating my own solution with regex.","title":"Validate String in Java To Avoid Path Traversal","body":"<p>I have a system where user can upload file. I want to throw an exception in case the filename is contains sensitive characters like &quot;../&quot;, etc. (to avoid Path Traversal vulnerability: &quot;file/../../file.txt&quot;).<br />\nI have the code <code>String originalFilename = multipartFile.getOriginalFilename();</code><br />\nThere's an option to use <code>StringUtils.cleanPath(originalFilename)</code> but it's not exactly what I need (I want to validate the file, not to normalize it).<br />\nThe only option I see is to compare the normalized filename (the result of the <code>StringUtils.cleanPath(...)</code> method) with the original String, but I'd like to know if there's something easier. For example something like: <code>StringUtils.isPathValid(originalFilename)</code>.<br />\nIn addition, I'd prefer to use a method that is already developed (open source) and commonly used instead of creating my own solution with regex.</p>\n"},{"tags":["java","android-fragments","navigation-drawer","android-toolbar","android-tablayout"],"answers":[{"tags":[],"owner":{"account_id":3109137,"reputation":433,"user_id":2631300,"accept_rate":80,"display_name":"virtualdj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645464728,"creation_date":1645464728,"answer_id":71210612,"question_id":71187706,"body_markdown":"After doing several tests, what I want to obtain is too much difficult with that approach. **Starting from scratch** (the *Navigation Drawer Activity* template) and solving the UI glitch is much more easy.\r\n\r\n**app_bar_main.xml** (1 line changed from the template, as all the fragments already have the ToolBar)\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;!-- added &quot;app:elevation&quot; line --&gt;\r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/appbarlayout&quot;\r\n            app:elevation=&quot;8dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/Theme.TestUI3.AppBarOverlay&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/Theme.TestUI3.PopupOverlay&quot; /&gt;\r\n    \r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n        &lt;include layout=&quot;@layout/content_main&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|end&quot;\r\n            android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\r\n            android:layout_marginBottom=&quot;16dp&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\r\n    \r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n**fragment_gallery.xml** (this fragment has the `TabLayout` too, so it&#39;s added together with the `ViewPager2` that displays the other &quot;page&quot; fragments)\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.ui.gallery.GalleryFragment&quot;&gt;\r\n    \r\n        &lt;!-- &quot;android:elevation&quot; should be the same than the previous\r\n             &quot;app:elevation&quot; on the AppBarLayout; the style is used\r\n             to copy the same colour of the ToolBar --&gt;\r\n        &lt;com.google.android.material.tabs.TabLayout\r\n            android:id=&quot;@+id/tabLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:elevation=&quot;8dp&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TabLayout.Colored&quot; &gt;\r\n        &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/viewPager2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nUsing this method, tabs are clickable correctly (problem #1 solved), but the style is not exactly the same:\r\n\r\n[![Elevation problem][1]][1]\r\n\r\nUnfortunately, if I set `app:elevation=&quot;0dp&quot;` on the AppBarLayout as several answers here suggest, then when other fragments without the `TabLayout` are displayed the drop shadow is missing!\r\nSo, at this point, the easier way to handle is disabling the *elevation* using code.\r\n\r\n**GalleryFragment.java** (the code behind the fragment that has `TabLayout`)\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.testui3.ui.gallery;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentActivity;\r\n    import androidx.fragment.app.FragmentManager;\r\n    import androidx.lifecycle.Lifecycle;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    import androidx.viewpager2.adapter.FragmentStateAdapter;\r\n    import androidx.viewpager2.widget.ViewPager2;    \r\n    import com.google.android.material.tabs.TabLayout;\r\n    import com.google.android.material.tabs.TabLayoutMediator;\r\n    import com.testui3.R;\r\n    import com.testui3.databinding.FragmentGalleryBinding;\r\n    \r\n    public class GalleryFragment extends Fragment {\r\n    \r\n        private FragmentGalleryBinding binding;\r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            GalleryViewModel galleryViewModel =\r\n                    new ViewModelProvider(this).get(GalleryViewModel.class);\r\n    \r\n            binding = FragmentGalleryBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            // ADDED: disable elevation on toolbar when this fragment is displayed\r\n            ((AppCompatActivity) getActivity()).findViewById(R.id.appbarlayout).setElevation(0);\r\n    \r\n            // Code to handle tabs\r\n            GalleryPagerAdapter galleryPagerAdapter = new GalleryPagerAdapter(requireActivity());\r\n            ViewPager2 viewPager = binding.viewPager2;\r\n            viewPager.setAdapter(galleryPagerAdapter);\r\n            TabLayout tabs = binding.tabLayout;\r\n            new TabLayoutMediator(tabs, viewPager,\r\n                    (tab, position) -&gt; tab.setText(&quot;TAB &quot; + (position + 1))\r\n            ).attach();\r\n    \r\n            return root;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            // ADDED: Restore previous elevation when fragment disappears\r\n            ((AppCompatActivity) getActivity()).findViewById(R.id.appbarlayout).setElevation(8);\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n    \r\n        // Class to handle ViewPager2\r\n        private class GalleryPagerAdapter extends FragmentStateAdapter {\r\n            public GalleryPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n                super(fragmentActivity);\r\n            }\r\n    \r\n            public GalleryPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n                super(fragmentManager, lifecycle);\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public Fragment createFragment(int position) {  return GalleryPageFragment.newInstance(position); }\r\n    \r\n            @Override\r\n            public int getItemCount() {\r\n                return 3;\r\n            }\r\n        }\r\n    }\r\n\r\nThis method seems to work well, and NavigationUI works, too:\r\n\r\n[![Enabling app:elevation in code][2]][2]\r\n\r\nThe drop shadow is kept when navigation out to the other fragments that doesn&#39;t have the `TabLayout`:\r\n\r\n[![app:elevation is restored][3]][3]\r\n\r\nI still think doing this in code is not the &quot;correct&quot; solution, but at least it works and doesn&#39;t have the hassles of the question post method (too many layouts and includes!).\r\n\r\n  [1]: https://i.stack.imgur.com/1oXNe.png\r\n  [2]: https://i.stack.imgur.com/QhrEo.png\r\n  [3]: https://i.stack.imgur.com/A4V1X.png","title":"Android NavigationDrawer and Toolbar in all fragments, plus TabLayout into one","body":"<p>After doing several tests, what I want to obtain is too much difficult with that approach. <strong>Starting from scratch</strong> (the <em>Navigation Drawer Activity</em> template) and solving the UI glitch is much more easy.</p>\n<p><strong>app_bar_main.xml</strong> (1 line changed from the template, as all the fragments already have the ToolBar)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;!-- added &quot;app:elevation&quot; line --&gt;\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appbarlayout&quot;\n        app:elevation=&quot;8dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/Theme.TestUI3.AppBarOverlay&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:popupTheme=&quot;@style/Theme.TestUI3.PopupOverlay&quot; /&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot; /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|end&quot;\n        android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p><strong>fragment_gallery.xml</strong> (this fragment has the <code>TabLayout</code> too, so it's added together with the <code>ViewPager2</code> that displays the other &quot;page&quot; fragments)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.ui.gallery.GalleryFragment&quot;&gt;\n\n    &lt;!-- &quot;android:elevation&quot; should be the same than the previous\n         &quot;app:elevation&quot; on the AppBarLayout; the style is used\n         to copy the same colour of the ToolBar --&gt;\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tabLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:elevation=&quot;8dp&quot;\n        style=&quot;@style/Widget.MaterialComponents.TabLayout.Colored&quot; &gt;\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/viewPager2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Using this method, tabs are clickable correctly (problem #1 solved), but the style is not exactly the same:</p>\n<p><a href=\"https://i.stack.imgur.com/1oXNe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1oXNe.png\" alt=\"Elevation problem\" /></a></p>\n<p>Unfortunately, if I set <code>app:elevation=&quot;0dp&quot;</code> on the AppBarLayout as several answers here suggest, then when other fragments without the <code>TabLayout</code> are displayed the drop shadow is missing!\nSo, at this point, the easier way to handle is disabling the <em>elevation</em> using code.</p>\n<p><strong>GalleryFragment.java</strong> (the code behind the fragment that has <code>TabLayout</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.testui3.ui.gallery;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;    \nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.lifecycle.Lifecycle;\nimport androidx.lifecycle.ViewModelProvider;\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\nimport androidx.viewpager2.widget.ViewPager2;    \nimport com.google.android.material.tabs.TabLayout;\nimport com.google.android.material.tabs.TabLayoutMediator;\nimport com.testui3.R;\nimport com.testui3.databinding.FragmentGalleryBinding;\n\npublic class GalleryFragment extends Fragment {\n\n    private FragmentGalleryBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        GalleryViewModel galleryViewModel =\n                new ViewModelProvider(this).get(GalleryViewModel.class);\n\n        binding = FragmentGalleryBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        // ADDED: disable elevation on toolbar when this fragment is displayed\n        ((AppCompatActivity) getActivity()).findViewById(R.id.appbarlayout).setElevation(0);\n\n        // Code to handle tabs\n        GalleryPagerAdapter galleryPagerAdapter = new GalleryPagerAdapter(requireActivity());\n        ViewPager2 viewPager = binding.viewPager2;\n        viewPager.setAdapter(galleryPagerAdapter);\n        TabLayout tabs = binding.tabLayout;\n        new TabLayoutMediator(tabs, viewPager,\n                (tab, position) -&gt; tab.setText(&quot;TAB &quot; + (position + 1))\n        ).attach();\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        // ADDED: Restore previous elevation when fragment disappears\n        ((AppCompatActivity) getActivity()).findViewById(R.id.appbarlayout).setElevation(8);\n        super.onDestroyView();\n        binding = null;\n    }\n\n    // Class to handle ViewPager2\n    private class GalleryPagerAdapter extends FragmentStateAdapter {\n        public GalleryPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\n            super(fragmentActivity);\n        }\n\n        public GalleryPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n            super(fragmentManager, lifecycle);\n        }\n\n        @NonNull\n        @Override\n        public Fragment createFragment(int position) {  return GalleryPageFragment.newInstance(position); }\n\n        @Override\n        public int getItemCount() {\n            return 3;\n        }\n    }\n}\n</code></pre>\n<p>This method seems to work well, and NavigationUI works, too:</p>\n<p><a href=\"https://i.stack.imgur.com/QhrEo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QhrEo.png\" alt=\"Enabling app:elevation in code\" /></a></p>\n<p>The drop shadow is kept when navigation out to the other fragments that doesn't have the <code>TabLayout</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/A4V1X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A4V1X.png\" alt=\"app:elevation is restored\" /></a></p>\n<p>I still think doing this in code is not the &quot;correct&quot; solution, but at least it works and doesn't have the hassles of the question post method (too many layouts and includes!).</p>\n"}],"owner":{"account_id":3109137,"reputation":433,"user_id":2631300,"accept_rate":80,"display_name":"virtualdj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71210612,"answer_count":1,"score":0,"last_activity_date":1645464728,"creation_date":1645293752,"question_id":71187706,"body_markdown":"I would like to create an Android app that uses a navigation drawer which loads different fragments, all of which include a **toolbar/appbar** and one that also has a **TabView** with **ViewPager2**, something like this:\r\n\r\n[![Appbar and TabView][1]][1]\r\n\r\nSo I started a new Java project with Android Studio and chose the *Navigation Drawer Activity* template that creates 3 different fragments. This is my code:\r\n\r\n**activity_main.xml** (removed ToolBar from the template)\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment_content_main&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            app:headerLayout=&quot;@layout/nav_header_main&quot;\r\n            app:menu=&quot;@menu/activity_main_drawer&quot; /&gt;\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n**MainActivity.java** (commented `setupActionBarWithNavController` because ToolBar is not here anymore)\r\n&lt;!-- language: java--&gt;\r\n\r\n    package com.testui2;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import com.google.android.material.navigation.NavigationView;\r\n    import androidx.navigation.NavController;\r\n    import androidx.navigation.Navigation;\r\n    import androidx.navigation.ui.AppBarConfiguration;\r\n    import androidx.navigation.ui.NavigationUI;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import com.testui2.databinding.ActivityMainBinding;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private AppBarConfiguration mAppBarConfiguration;\r\n        private ActivityMainBinding binding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            DrawerLayout drawer = binding.drawerLayout;\r\n            NavigationView navigationView = binding.navView;\r\n            // Passing each menu ID as a set of Ids because each\r\n            // menu should be considered as top level destinations.\r\n            mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\r\n                    .setOpenableLayout(drawer)\r\n                    .build();\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n            //NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n            NavigationUI.setupWithNavController(navigationView, navController);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onSupportNavigateUp() {\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n            return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                    || super.onSupportNavigateUp();\r\n        }\r\n    }\r\n\r\n**fragment_home.xml** (first fragment with ToolBar only)\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\r\n    \r\n        &lt;include layout=&quot;@layout/app_bar_main&quot;\r\n            android:id=&quot;@+id/appbar&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_home&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**app_bar_main.xml** (moved ToolBar here to apply to other fragments, too)\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/Theme.TestUI2.AppBarOverlay&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/Theme.TestUI2.PopupOverlay&quot; /&gt;\r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|end&quot;\r\n            android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\r\n            android:layout_marginBottom=&quot;16dp&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n**app_bar_main_tabs.xml** (identical to the previous, but with `TabLayout` for the second fragment that requires it)\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/Theme.TestUI2.AppBarOverlay&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/Theme.TestUI2.PopupOverlay&quot; /&gt;\r\n    \r\n            &lt;!-- This layout has the tabs --&gt;\r\n            &lt;com.google.android.material.tabs.TabLayout\r\n                android:id=&quot;@+id/tabs&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TabLayout.Colored&quot; /&gt;\r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|end&quot;\r\n            android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\r\n            android:layout_marginBottom=&quot;16dp&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n**fragment_gallery.xml** (second fragment that has ToolBar and TabLayout with ViewPager like the image at the top)\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.gallery.GalleryFragment&quot;&gt;\r\n    \r\n        &lt;include layout=&quot;@layout/app_bar_main_tabs&quot;\r\n            android:id=&quot;@+id/appbar&quot; /&gt;\r\n    \r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/view_pager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**HomeFragment.java** (code behind the first fragment, modified the template to have the ToolBar setup here)\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.testui2.ui.home;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    import com.testui2.MainActivity;\r\n    import com.testui2.databinding.FragmentHomeBinding;\r\n    \r\n    public class HomeFragment extends Fragment {\r\n    \r\n        private FragmentHomeBinding binding;\r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            HomeViewModel homeViewModel =\r\n                    new ViewModelProvider(this).get(HomeViewModel.class);\r\n    \r\n            binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            final TextView textView = binding.textHome;\r\n            homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n            return root;\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            MainActivity currentActivity = (MainActivity) requireActivity();\r\n            currentActivity.setSupportActionBar(binding.appbar.toolbar);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n    }\r\n\r\n**GalleryFragment.java** (code behind the second fragment, with tabs and viewpager2)\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.testui2.ui.gallery;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentActivity;\r\n    import androidx.fragment.app.FragmentManager;\r\n    import androidx.lifecycle.Lifecycle;\r\n    import androidx.viewpager2.adapter.FragmentStateAdapter;\r\n    import androidx.viewpager2.widget.ViewPager2;\r\n    import com.google.android.material.tabs.TabLayout;\r\n    import com.google.android.material.tabs.TabLayoutMediator;\r\n    import com.testui2.MainActivity;\r\n    import com.testui2.databinding.FragmentGalleryBinding;\r\n    \r\n    public class GalleryFragment extends Fragment {\r\n    \r\n        private FragmentGalleryBinding binding;\r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n            binding = FragmentGalleryBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            // Code to handle tabs\r\n            GalleryPagerAdapter galleryPagerAdapter = new GalleryPagerAdapter(requireActivity());\r\n            ViewPager2 viewPager = binding.viewPager;\r\n            viewPager.setAdapter(galleryPagerAdapter);\r\n            TabLayout tabs = binding.appbar.tabs;\r\n            new TabLayoutMediator(tabs, viewPager,\r\n                    (tab, position) -&gt; tab.setText(&quot;TAB &quot; + (position + 1))\r\n            ).attach();\r\n    \r\n            return root;\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            MainActivity currentActivity = (MainActivity) requireActivity();\r\n            currentActivity.setSupportActionBar(binding.appbar.toolbar);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n    \r\n        // Class to handle ViewPager2\r\n        private class GalleryPagerAdapter extends FragmentStateAdapter {\r\n            public GalleryPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n                super(fragmentActivity);\r\n            }\r\n    \r\n            public GalleryPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n                super(fragmentManager, lifecycle);\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public Fragment createFragment(int position) {  return GalleryPageFragment.newInstance(position); }\r\n    \r\n            @Override\r\n            public int getItemCount() {\r\n                return 3;\r\n            }\r\n        }\r\n    }\r\n\r\n**GalleryPageFragment.java** (the code that handles the pages on the `ViewPager2`)\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.testui2.ui.gallery;\r\n    \r\n    import android.os.Bundle;\r\n    import androidx.fragment.app.Fragment;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import com.testui2.databinding.FragmentGalleryPageBinding;\r\n    \r\n    public class GalleryPageFragment extends Fragment {\r\n    \r\n        private FragmentGalleryPageBinding binding;\r\n    \r\n        private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n        private int mParam1;\r\n    \r\n        public GalleryPageFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        public static GalleryPageFragment newInstance(int param1) {\r\n            GalleryPageFragment fragment = new GalleryPageFragment();\r\n            Bundle args = new Bundle();\r\n            args.putInt(ARG_PARAM1, param1);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getArguments() != null) {\r\n                mParam1 = getArguments().getInt(ARG_PARAM1);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            binding = FragmentGalleryPageBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            binding.textGallery.setText(String.format(&quot;This is gallery page %d&quot;, mParam1 + 1));\r\n            return root;\r\n        }\r\n    }\r\n\r\nBasically I took the template and modified it to move the ToolBar code into the fragment (using [this][2] and [this][3]) because I want the tabs to be docked directly under the ToolBar and, in the future, handle devices with big screens with the fragments displayed simultaneously.\r\nUnfortunately there are issues with this approach, that I would like to solve:\r\n\r\n 1. I&#39;m unable to apply the **NavigationUI** to this method, because I don&#39;t know how to call `NavigationUI.setupActionBarWithNavController` from the Fragments correctly. I must call it from the Fragments because the Toolbar is there, in fact I&#39;m missing both the AppBar title and the hamburger icon:\r\n\r\n    [![First fragment (Home)][4]][4]\r\n\r\n 2. The tab layout is displayed correctly on the second fragment (Gallery) and the PageViewer2 scrolls the tabs successfully. But if I click on the tab names, it doesn&#39;t switch the current tab. How can I do that?\r\n\r\n    [![Second fragment (Gallery) with tabs][5]][5]\r\n\r\nOr, **if you have other suggestions** on how to handle a fixed ToolBar (meaning it is inside `activity_main.xml`) more easily, but with one of the fragments that attaches the TabLayout to look the same than the first picture, I could of course change the code. I must have the Navigation drawer, too.\r\n\r\nI tried in another project to stick with the default template (with the ToolBar in the `activity_main.xml`) and, on the Gallery fragment, putting TabLayout and ViewPager on the same XML layout. But doing that, the tabs are not looking the same: an horizontal separator appears between the TabLayout and the ToolBar (because TabLayout is not inside the `&lt;com.google.android.material.appbar.AppBarLayout&gt;` XML node) and there&#39;s no drop shadow below the TabLayout. Example below:\r\n\r\n[![ToolBar and TabLayout when TabLayout is not inside AppBarLayout][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y3o2H.png\r\n  [2]: https://stackoverflow.com/questions/57014922/how-to-setup-different-toolbar-using-navigation-controller-component/64220719#64220719\r\n  [3]: https://stackoverflow.com/a/34843040/2631300\r\n  [4]: https://i.stack.imgur.com/xkzUf.png\r\n  [5]: https://i.stack.imgur.com/prWl0.png\r\n  [6]: https://i.stack.imgur.com/CDBRy.png","title":"Android NavigationDrawer and Toolbar in all fragments, plus TabLayout into one","body":"<p>I would like to create an Android app that uses a navigation drawer which loads different fragments, all of which include a <strong>toolbar/appbar</strong> and one that also has a <strong>TabView</strong> with <strong>ViewPager2</strong>, something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Y3o2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3o2H.png\" alt=\"Appbar and TabView\" /></a></p>\n<p>So I started a new Java project with Android Studio and chose the <em>Navigation Drawer Activity</em> template that creates 3 different fragments. This is my code:</p>\n<p><strong>activity_main.xml</strong> (removed ToolBar from the template)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_content_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:headerLayout=&quot;@layout/nav_header_main&quot;\n        app:menu=&quot;@menu/activity_main_drawer&quot; /&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong> (commented <code>setupActionBarWithNavController</code> because ToolBar is not here anymore)</p>\n\n<pre><code>package com.testui2;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport com.google.android.material.navigation.NavigationView;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.testui2.databinding.ActivityMainBinding;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration mAppBarConfiguration;\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        DrawerLayout drawer = binding.drawerLayout;\n        NavigationView navigationView = binding.navView;\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\n                .setOpenableLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        //NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n}\n</code></pre>\n<p><strong>fragment_home.xml</strong> (first fragment with ToolBar only)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_main&quot;\n        android:id=&quot;@+id/appbar&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_home&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>app_bar_main.xml</strong> (moved ToolBar here to apply to other fragments, too)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/Theme.TestUI2.AppBarOverlay&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:popupTheme=&quot;@style/Theme.TestUI2.PopupOverlay&quot; /&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|end&quot;\n        android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p><strong>app_bar_main_tabs.xml</strong> (identical to the previous, but with <code>TabLayout</code> for the second fragment that requires it)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/Theme.TestUI2.AppBarOverlay&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:popupTheme=&quot;@style/Theme.TestUI2.PopupOverlay&quot; /&gt;\n\n        &lt;!-- This layout has the tabs --&gt;\n        &lt;com.google.android.material.tabs.TabLayout\n            android:id=&quot;@+id/tabs&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            style=&quot;@style/Widget.MaterialComponents.TabLayout.Colored&quot; /&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|end&quot;\n        android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p><strong>fragment_gallery.xml</strong> (second fragment that has ToolBar and TabLayout with ViewPager like the image at the top)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.gallery.GalleryFragment&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_main_tabs&quot;\n        android:id=&quot;@+id/appbar&quot; /&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/view_pager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>HomeFragment.java</strong> (code behind the first fragment, modified the template to have the ToolBar setup here)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.testui2.ui.home;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\nimport com.testui2.MainActivity;\nimport com.testui2.databinding.FragmentHomeBinding;\n\npublic class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel =\n                new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textHome;\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        MainActivity currentActivity = (MainActivity) requireActivity();\n        currentActivity.setSupportActionBar(binding.appbar.toolbar);\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p><strong>GalleryFragment.java</strong> (code behind the second fragment, with tabs and viewpager2)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.testui2.ui.gallery;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.lifecycle.Lifecycle;\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\nimport androidx.viewpager2.widget.ViewPager2;\nimport com.google.android.material.tabs.TabLayout;\nimport com.google.android.material.tabs.TabLayoutMediator;\nimport com.testui2.MainActivity;\nimport com.testui2.databinding.FragmentGalleryBinding;\n\npublic class GalleryFragment extends Fragment {\n\n    private FragmentGalleryBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        binding = FragmentGalleryBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        // Code to handle tabs\n        GalleryPagerAdapter galleryPagerAdapter = new GalleryPagerAdapter(requireActivity());\n        ViewPager2 viewPager = binding.viewPager;\n        viewPager.setAdapter(galleryPagerAdapter);\n        TabLayout tabs = binding.appbar.tabs;\n        new TabLayoutMediator(tabs, viewPager,\n                (tab, position) -&gt; tab.setText(&quot;TAB &quot; + (position + 1))\n        ).attach();\n\n        return root;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        MainActivity currentActivity = (MainActivity) requireActivity();\n        currentActivity.setSupportActionBar(binding.appbar.toolbar);\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    // Class to handle ViewPager2\n    private class GalleryPagerAdapter extends FragmentStateAdapter {\n        public GalleryPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\n            super(fragmentActivity);\n        }\n\n        public GalleryPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n            super(fragmentManager, lifecycle);\n        }\n\n        @NonNull\n        @Override\n        public Fragment createFragment(int position) {  return GalleryPageFragment.newInstance(position); }\n\n        @Override\n        public int getItemCount() {\n            return 3;\n        }\n    }\n}\n</code></pre>\n<p><strong>GalleryPageFragment.java</strong> (the code that handles the pages on the <code>ViewPager2</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.testui2.ui.gallery;\n\nimport android.os.Bundle;\nimport androidx.fragment.app.Fragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport com.testui2.databinding.FragmentGalleryPageBinding;\n\npublic class GalleryPageFragment extends Fragment {\n\n    private FragmentGalleryPageBinding binding;\n\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private int mParam1;\n\n    public GalleryPageFragment() {\n        // Required empty public constructor\n    }\n\n    public static GalleryPageFragment newInstance(int param1) {\n        GalleryPageFragment fragment = new GalleryPageFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_PARAM1, param1);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getInt(ARG_PARAM1);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        binding = FragmentGalleryPageBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        binding.textGallery.setText(String.format(&quot;This is gallery page %d&quot;, mParam1 + 1));\n        return root;\n    }\n}\n</code></pre>\n<p>Basically I took the template and modified it to move the ToolBar code into the fragment (using <a href=\"https://stackoverflow.com/questions/57014922/how-to-setup-different-toolbar-using-navigation-controller-component/64220719#64220719\">this</a> and <a href=\"https://stackoverflow.com/a/34843040/2631300\">this</a>) because I want the tabs to be docked directly under the ToolBar and, in the future, handle devices with big screens with the fragments displayed simultaneously.\nUnfortunately there are issues with this approach, that I would like to solve:</p>\n<ol>\n<li><p>I'm unable to apply the <strong>NavigationUI</strong> to this method, because I don't know how to call <code>NavigationUI.setupActionBarWithNavController</code> from the Fragments correctly. I must call it from the Fragments because the Toolbar is there, in fact I'm missing both the AppBar title and the hamburger icon:</p>\n<p><a href=\"https://i.stack.imgur.com/xkzUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xkzUf.png\" alt=\"First fragment (Home)\" /></a></p>\n</li>\n<li><p>The tab layout is displayed correctly on the second fragment (Gallery) and the PageViewer2 scrolls the tabs successfully. But if I click on the tab names, it doesn't switch the current tab. How can I do that?</p>\n<p><a href=\"https://i.stack.imgur.com/prWl0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prWl0.png\" alt=\"Second fragment (Gallery) with tabs\" /></a></p>\n</li>\n</ol>\n<p>Or, <strong>if you have other suggestions</strong> on how to handle a fixed ToolBar (meaning it is inside <code>activity_main.xml</code>) more easily, but with one of the fragments that attaches the TabLayout to look the same than the first picture, I could of course change the code. I must have the Navigation drawer, too.</p>\n<p>I tried in another project to stick with the default template (with the ToolBar in the <code>activity_main.xml</code>) and, on the Gallery fragment, putting TabLayout and ViewPager on the same XML layout. But doing that, the tabs are not looking the same: an horizontal separator appears between the TabLayout and the ToolBar (because TabLayout is not inside the <code>&lt;com.google.android.material.appbar.AppBarLayout&gt;</code> XML node) and there's no drop shadow below the TabLayout. Example below:</p>\n<p><a href=\"https://i.stack.imgur.com/CDBRy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CDBRy.png\" alt=\"ToolBar and TabLayout when TabLayout is not inside AppBarLayout\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1645464225,"post_id":71210500,"comment_id":125873177,"body_markdown":"Annotations don&#39;t **do** anything on their own. They are simply data markers that *some other code* can read and change its behaviour accordingly.","body":"Annotations don&#39;t <b>do</b> anything on their own. They are simply data markers that <i>some other code</i> can read and change its behaviour accordingly."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1645464767,"post_id":71210500,"comment_id":125873396,"body_markdown":"Youll need to be more specific. Which part are you struggling with? Reading the annotation from the field with reflection or something else?","body":"Youll need to be more specific. Which part are you struggling with? Reading the annotation from the field with reflection or something else?"},{"owner":{"account_id":24332169,"reputation":11,"user_id":18270852,"display_name":"zackyshan"},"score":0,"creation_date":1645478228,"post_id":71210500,"comment_id":125877703,"body_markdown":"Thanks SotiriosDelimanolis @JoachimSauer. Actually, I wanted to implement some custom annotation where if the custom annotation is enabled then execute the code inside that method, if not dont execute - without if else blocks in the method. Is it possible? Eg:\n`\n@CodeEnabled (True || False)\npublic int getResult()\n`\nThe code in method is executed when the flag is true. Similar to the one in this article - https://mkyong.com/java/java-custom-annotations-example/ . Without iterating each methods in Class, execute method with annotation and value true when the method is called.","body":"Thanks SotiriosDelimanolis @JoachimSauer. Actually, I wanted to implement some custom annotation where if the custom annotation is enabled then execute the code inside that method, if not dont execute - without if else blocks in the method. Is it possible? Eg: ` @CodeEnabled (True || False) public int getResult() ` The code in method is executed when the flag is true. Similar to the one in this article - <a href=\"https://mkyong.com/java/java-custom-annotations-example/\" rel=\"nofollow noreferrer\">mkyong.com/java/java-custom-annotations-example</a> . Without iterating each methods in Class, execute method with annotation and value true when the method is called."},{"owner":{"account_id":24332169,"reputation":11,"user_id":18270852,"display_name":"zackyshan"},"score":0,"creation_date":1645502908,"post_id":71210500,"comment_id":125882365,"body_markdown":"Basically, I would want to implement feature toggle using custom annotation. Execute my code if feature is ON. Switch ON/OFF feature is done through custom annotation, rather than adding if else inside code.","body":"Basically, I would want to implement feature toggle using custom annotation. Execute my code if feature is ON. Switch ON/OFF feature is done through custom annotation, rather than adding if else inside code."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1645518875,"post_id":71210500,"comment_id":125886002,"body_markdown":"The article actually explains really well how to read and react to the annotations. What you have to understand is that **some code** will need to read that annotation and have the if-else in there that you&#39;re trying to avoid. The advantage of annotations is not to avoid that entirely, but that it can be centralized in one placed and used multiple times. But you&#39;re not going to write *less code* if you only use it once. It **will** be more complex in that case.","body":"The article actually explains really well how to read and react to the annotations. What you have to understand is that <b>some code</b> will need to read that annotation and have the if-else in there that you&#39;re trying to avoid. The advantage of annotations is not to avoid that entirely, but that it can be centralized in one placed and used multiple times. But you&#39;re not going to write <i>less code</i> if you only use it once. It <b>will</b> be more complex in that case."},{"owner":{"account_id":24332169,"reputation":11,"user_id":18270852,"display_name":"zackyshan"},"score":0,"creation_date":1645519634,"post_id":71210500,"comment_id":125886266,"body_markdown":"Exactly, that&#39;s what I am trying to achieve here. If I pass a parameter like feature1, feature2 and have some common piece of code that validates this annotation and inside that it evaluates this feature is TRUE or FALSE and returns accordingly. So, my methods will have something like,. @CodeEnabled(&quot;feature&quot;), @CodeEnabled(&quot;feature2&quot;) public int getResult()","body":"Exactly, that&#39;s what I am trying to achieve here. If I pass a parameter like feature1, feature2 and have some common piece of code that validates this annotation and inside that it evaluates this feature is TRUE or FALSE and returns accordingly. So, my methods will have something like,. @CodeEnabled(&quot;feature&quot;), @CodeEnabled(&quot;feature2&quot;) public int getResult()"}],"owner":{"account_id":24332169,"reputation":11,"user_id":18270852,"display_name":"zackyshan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645464161,"creation_date":1645464161,"question_id":71210500,"body_markdown":"I would want to create a custom annotation which would read the method name it was annotated. For instance, as given in the below example we don&#39;t pass the method getResult as value parameter to @Override annotation, but still Java recognizes the method name and it validates whether the method is defined at interface.\r\n\r\n```\r\n@Override\r\npublic int getResult()\r\n```\r\n\r\nSimilar to this, if I write a custom annotation as specified in the example below, then my annotation would like to read the method name and invoke this method using Reflection.\r\n```\r\n@MyAnnotation\r\npublic int getResult()\r\n```\r\n\r\nCan anyone please help?\r\n","title":"Java Custom Annotations","body":"<p>I would want to create a custom annotation which would read the method name it was annotated. For instance, as given in the below example we don't pass the method getResult as value parameter to @Override annotation, but still Java recognizes the method name and it validates whether the method is defined at interface.</p>\n<pre><code>@Override\npublic int getResult()\n</code></pre>\n<p>Similar to this, if I write a custom annotation as specified in the example below, then my annotation would like to read the method name and invoke this method using Reflection.</p>\n<pre><code>@MyAnnotation\npublic int getResult()\n</code></pre>\n<p>Can anyone please help?</p>\n"},{"tags":["java","html","spring"],"answers":[{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645464016,"creation_date":1645464016,"answer_id":71210468,"question_id":71209912,"body_markdown":"Use  `th:field=&quot;*{hall.name}&quot; ` instead of `th:field=&quot;*{projection.hall.name}&quot; ` and `th:field=&quot;*{movie.movieName}&quot; ` instead of `th:field=&quot;*{projection.movie.movieName}&quot; `","title":"Invalid property &#39;projection&#39; of bean class","body":"<p>Use  <code>th:field=&quot;*{hall.name}&quot; </code> instead of <code>th:field=&quot;*{projection.hall.name}&quot; </code> and <code>th:field=&quot;*{movie.movieName}&quot; </code> instead of <code>th:field=&quot;*{projection.movie.movieName}&quot; </code></p>\n"}],"owner":{"account_id":20501264,"reputation":47,"user_id":15045151,"display_name":"Deni Bakuli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71210468,"answer_count":1,"score":0,"last_activity_date":1645464016,"creation_date":1645461556,"question_id":71209912,"body_markdown":"Hi I need a little help with my code. I tried solutions online but I couldn&#39;t fix my bug. I working in java and spring with mysql and tymeleaf. My error is short: \r\n\r\nInvalid property &#39;projection&#39; of bean class [com.bakulic.CinemaTicketShop.model.dto.requests.CreateOrUpdateProjectionDTO]: Bean property &#39;projection&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n\r\nAnd I found that my problem is in the html file createProjectionForm whitch I will put below as well as the entities and all that is needed. My projection entity has a relation to Hall and Movie and I&#39;m not sure how to get attributes of Movie and Hall in my html. For the fiel I tried to put ${projection.hall.name} and ${projection.movie.movieName}. Zou will find it in the code.\r\nThank you in advance.\r\n\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;projections&quot;)\r\n    public class Projection {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private int projectionId;\r\n    \r\n        @Column(name = &quot;date&quot;)\r\n        private String date;\r\n    \r\n        @Column(name = &quot;startTime&quot;)\r\n        private String startTime;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;idHall&quot;)\r\n        private Hall hall;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;idMovie&quot;)\r\n        private Movie movie;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;projection&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Seat&gt; seatList;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;projection&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Ticket&gt; ticketList;\r\n    \r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;halls&quot;)\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Hall {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private int hallId;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;numberofseats&quot;)\r\n        private Integer numberOfSeats;\r\n    \r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;hall&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Projection&gt; projectionList;\r\n    \r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;movies&quot;)\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Movie {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private int movieId;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n    \r\n        @Column (name = &quot;length&quot;)\r\n        private String length;\r\n    \r\n        @Column(name = &quot;picture&quot;)\r\n        private String picture;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Projection&gt; projectionList;\r\n    \r\n    \r\n    }\r\n\r\n    @Data\r\n    public class ProjectionDTO  implements Serializable {\r\n        private int id;\r\n        private String date;\r\n        private String startTime;\r\n        private List&lt;Seat&gt; seatList;\r\n        private  List&lt;Ticket&gt; ticketList;\r\n        private Hall hall;\r\n        private Movie movie;\r\n    \r\n        public ProjectionDTO(Projection projection){\r\n            if(projection != null){\r\n                this.id = projection.getProjectionId();\r\n                this.date = projection.getDate();\r\n                this.startTime = projection.getStartTime();\r\n                this.seatList = projection.getSeatList();\r\n                this.ticketList = projection.getTicketList();\r\n                this.hall = projection.getHall();\r\n                this.movie = projection.getMovie();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class CreateOrUpdateProjectionDTO implements Serializable {\r\n        private String date;\r\n        private String startTime;\r\n        private List&lt;Seat&gt; seatList;\r\n    \r\n        //aditional info\r\n        private String name;\r\n        private String movieName;\r\n    }\r\n\r\n \r\n\r\n     /** create projection*/\r\n        public Projection createProjection(CreateOrUpdateProjectionDTO createProjectionDTO){\r\n            if(createProjectionDTO == null){\r\n                throw new InvalidDataException(&quot;Projection cannot be null&quot;);\r\n            }\r\n    \r\n            timeValidator.checkTime(createProjectionDTO.getStartTime());\r\n            dateValidator.checkDate(createProjectionDTO.getDate());\r\n    \r\n            Projection proj = new Projection();\r\n            proj.setDate(createProjectionDTO.getDate());\r\n            proj.setStartTime(createProjectionDTO.getStartTime());\r\n            Hall hall = proj.getHall();\r\n            if(hall == null){\r\n                hall = new Hall();\r\n            }\r\n            hall.setName(createProjectionDTO.getName());\r\n            Integer numOfSeats = hall.getNumberOfSeats();\r\n    \r\n            Movie movie = proj.getMovie();\r\n            if(movie == null){\r\n                movie = new Movie();\r\n            }\r\n            movie.setName(createProjectionDTO.getMovieName());\r\n    \r\n            List&lt;Seat&gt; list = createProjectionDTO.getSeatList();\r\n            for(int i=1; i&lt;=numOfSeats; i++ ){\r\n                Seat seat = new Seat();\r\n                seat.setSeatNumber(i);\r\n                seat.setStatus(&quot;empty&quot;);\r\n                list.add(seat);\r\n            }\r\n    \r\n            Projection projCreated = projectionRepository.save(proj);\r\n            log.info(String.format(&quot;Projection %s has been created.&quot;, proj.getProjectionId()));\r\n            return projCreated;\r\n    \r\n        } The function is similar for update.\r\n\r\n&lt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Create theater&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css&quot;\r\n              integrity=&quot;sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm&quot;\r\n              crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body style=&quot;background-color:lightgrey;&quot;&gt;\r\n    &lt;nav class=&quot;navbar navbar-expand-lg navbar-light bg-light&quot;&gt;\r\n        &lt;img src=&quot;../pictures/cinemalogo.png&quot; th:src=&quot;@{pictures/cinemalogo.png}&quot; class = &quot;center&quot;alt=&quot;logo&quot; width=&quot;120&quot; height=&quot;100&quot;/&gt;\r\n        &lt;ul class=&quot;navbar-nav&quot;&gt;\r\n            &lt;li class=&quot;nav-item&quot;&gt;\r\n                &lt;h1&gt;Our cinema!&lt;/h1&gt;\r\n            &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n        &lt;ul class=&quot;navbar-nav&quot;&gt;\r\n            &lt;li class=&quot;nav-item&quot;&gt;\r\n                &lt;a class=&quot;nav-link&quot; href=&quot;/logout&quot;&gt;Logout&lt;/a&gt;\r\n            &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/nav&gt;\r\n    &lt;/nav&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;\r\n                &lt;h1&gt;Add projection&lt;/h1&gt;&lt;br&gt;\r\n\r\n                &lt;form th:action=&quot;@{/projection}&quot; method=&quot;post&quot; th:object=&quot;${projection}&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;date&quot;&gt; Date &lt;/label&gt;\r\n                        &lt;input id=&quot;date&quot; class=&quot;form-control&quot; th:field=&quot;*{date}&quot;\r\n                               required autofocus=&quot;autofocus&quot; /&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;startTime&quot;&gt; Start time&lt;/label&gt; &lt;input\r\n                            id=&quot;startTime&quot; class=&quot;form-control&quot; th:field=&quot;*{startTime}&quot; required\r\n                            autofocus=&quot;autofocus&quot; /&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;hallName&quot;&gt; Hall name &lt;/label&gt; &lt;input\r\n                            id=&quot;hallName&quot; class=&quot;form-control&quot; th:field=&quot;*{projection.hall.name}&quot; required\r\n                            autofocus=&quot;autofocus&quot; /&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label class=&quot;control-label&quot; for=&quot;movieName&quot;&gt; Movie name &lt;/label&gt; &lt;input\r\n                                id=&quot;movieName&quot; class=&quot;form-control&quot; th:field=&quot;*{projection.movie.movieName}&quot; required\r\n                                autofocus=&quot;autofocus&quot; /&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Submit&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Invalid property &#39;projection&#39; of bean class","body":"<p>Hi I need a little help with my code. I tried solutions online but I couldn't fix my bug. I working in java and spring with mysql and tymeleaf. My error is short:</p>\n<p>Invalid property 'projection' of bean class [com.bakulic.CinemaTicketShop.model.dto.requests.CreateOrUpdateProjectionDTO]: Bean property 'projection' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?</p>\n<p>And I found that my problem is in the html file createProjectionForm whitch I will put below as well as the entities and all that is needed. My projection entity has a relation to Hall and Movie and I'm not sure how to get attributes of Movie and Hall in my html. For the fiel I tried to put ${projection.hall.name} and ${projection.movie.movieName}. Zou will find it in the code.\nThank you in advance.</p>\n<pre><code>@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;projections&quot;)\npublic class Projection {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private int projectionId;\n\n    @Column(name = &quot;date&quot;)\n    private String date;\n\n    @Column(name = &quot;startTime&quot;)\n    private String startTime;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;idHall&quot;)\n    private Hall hall;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;idMovie&quot;)\n    private Movie movie;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;projection&quot;, cascade = CascadeType.ALL)\n    private List&lt;Seat&gt; seatList;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;projection&quot;, cascade = CascadeType.ALL)\n    private List&lt;Ticket&gt; ticketList;\n\n}\n\n@Entity\n@Table(name = &quot;halls&quot;)\n@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Hall {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private int hallId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;numberofseats&quot;)\n    private Integer numberOfSeats;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;hall&quot;, cascade = CascadeType.ALL)\n    private List&lt;Projection&gt; projectionList;\n\n}\n\n@Entity\n@Table(name = &quot;movies&quot;)\n@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Movie {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private int movieId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column (name = &quot;length&quot;)\n    private String length;\n\n    @Column(name = &quot;picture&quot;)\n    private String picture;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL)\n    private List&lt;Projection&gt; projectionList;\n\n\n}\n\n@Data\npublic class ProjectionDTO  implements Serializable {\n    private int id;\n    private String date;\n    private String startTime;\n    private List&lt;Seat&gt; seatList;\n    private  List&lt;Ticket&gt; ticketList;\n    private Hall hall;\n    private Movie movie;\n\n    public ProjectionDTO(Projection projection){\n        if(projection != null){\n            this.id = projection.getProjectionId();\n            this.date = projection.getDate();\n            this.startTime = projection.getStartTime();\n            this.seatList = projection.getSeatList();\n            this.ticketList = projection.getTicketList();\n            this.hall = projection.getHall();\n            this.movie = projection.getMovie();\n        }\n    }\n\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class CreateOrUpdateProjectionDTO implements Serializable {\n    private String date;\n    private String startTime;\n    private List&lt;Seat&gt; seatList;\n\n    //aditional info\n    private String name;\n    private String movieName;\n}\n\n\n\n /** create projection*/\n    public Projection createProjection(CreateOrUpdateProjectionDTO createProjectionDTO){\n        if(createProjectionDTO == null){\n            throw new InvalidDataException(&quot;Projection cannot be null&quot;);\n        }\n\n        timeValidator.checkTime(createProjectionDTO.getStartTime());\n        dateValidator.checkDate(createProjectionDTO.getDate());\n\n        Projection proj = new Projection();\n        proj.setDate(createProjectionDTO.getDate());\n        proj.setStartTime(createProjectionDTO.getStartTime());\n        Hall hall = proj.getHall();\n        if(hall == null){\n            hall = new Hall();\n        }\n        hall.setName(createProjectionDTO.getName());\n        Integer numOfSeats = hall.getNumberOfSeats();\n\n        Movie movie = proj.getMovie();\n        if(movie == null){\n            movie = new Movie();\n        }\n        movie.setName(createProjectionDTO.getMovieName());\n\n        List&lt;Seat&gt; list = createProjectionDTO.getSeatList();\n        for(int i=1; i&lt;=numOfSeats; i++ ){\n            Seat seat = new Seat();\n            seat.setSeatNumber(i);\n            seat.setStatus(&quot;empty&quot;);\n            list.add(seat);\n        }\n\n        Projection projCreated = projectionRepository.save(proj);\n        log.info(String.format(&quot;Projection %s has been created.&quot;, proj.getProjectionId()));\n        return projCreated;\n\n    } The function is similar for update.\n</code></pre>\n<p>&lt;</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" xmlns:th=\"http://thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Create theater&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\"\n          integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\"\n          crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n&lt;body style=\"background-color:lightgrey;\"&gt;\n&lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n    &lt;img src=\"../pictures/cinemalogo.png\" th:src=\"@{pictures/cinemalogo.png}\" class = \"center\"alt=\"logo\" width=\"120\" height=\"100\"/&gt;\n    &lt;ul class=\"navbar-nav\"&gt;\n        &lt;li class=\"nav-item\"&gt;\n            &lt;h1&gt;Our cinema!&lt;/h1&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;ul class=\"navbar-nav\"&gt;\n        &lt;li class=\"nav-item\"&gt;\n            &lt;a class=\"nav-link\" href=\"/logout\"&gt;Logout&lt;/a&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/nav&gt;\n&lt;/nav&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-6 col-md-offset-3\"&gt;\n            &lt;h1&gt;Add projection&lt;/h1&gt;&lt;br&gt;\n\n            &lt;form th:action=\"@{/projection}\" method=\"post\" th:object=\"${projection}\"&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label class=\"control-label\" for=\"date\"&gt; Date &lt;/label&gt;\n                    &lt;input id=\"date\" class=\"form-control\" th:field=\"*{date}\"\n                           required autofocus=\"autofocus\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label class=\"control-label\" for=\"startTime\"&gt; Start time&lt;/label&gt; &lt;input\n                        id=\"startTime\" class=\"form-control\" th:field=\"*{startTime}\" required\n                        autofocus=\"autofocus\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label class=\"control-label\" for=\"hallName\"&gt; Hall name &lt;/label&gt; &lt;input\n                        id=\"hallName\" class=\"form-control\" th:field=\"*{projection.hall.name}\" required\n                        autofocus=\"autofocus\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label class=\"control-label\" for=\"movieName\"&gt; Movie name &lt;/label&gt; &lt;input\n                            id=\"movieName\" class=\"form-control\" th:field=\"*{projection.movie.movieName}\" required\n                            autofocus=\"autofocus\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;button type=\"submit\" class=\"btn btn-success\"&gt;Submit&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","parallel-processing","executorservice","futuretask","strassen"],"comments":[{"owner":{"account_id":7974,"reputation":154432,"user_id":14069,"accept_rate":72,"display_name":"oz10"},"score":0,"creation_date":1399584913,"post_id":23552930,"comment_id":36138216,"body_markdown":"Naive matrix multiplication will most likely be faster run in parallel than Strassen&#39;s, Strassen&#39;s is best algo for single thread. :)","body":"Naive matrix multiplication will most likely be faster run in parallel than Strassen&#39;s, Strassen&#39;s is best algo for single thread. :)"},{"owner":{"account_id":976092,"reputation":73,"user_id":997248,"accept_rate":50,"display_name":"user997248"},"score":0,"creation_date":1399585060,"post_id":23552930,"comment_id":36138273,"body_markdown":"so are you saying that parallel implementation of naive matrix multiplication is faster than parallel implementation of strassen? :)","body":"so are you saying that parallel implementation of naive matrix multiplication is faster than parallel implementation of strassen? :)"},{"owner":{"account_id":7974,"reputation":154432,"user_id":14069,"accept_rate":72,"display_name":"oz10"},"score":0,"creation_date":1399585191,"post_id":23552930,"comment_id":36138344,"body_markdown":"Yes. YMMV depending on the execution environment. I don&#39;t want to discourage you from trying it, but I would put $20 I&#39;m right. :)","body":"Yes. YMMV depending on the execution environment. I don&#39;t want to discourage you from trying it, but I would put $20 I&#39;m right. :)"},{"owner":{"account_id":7974,"reputation":154432,"user_id":14069,"accept_rate":72,"display_name":"oz10"},"score":0,"creation_date":1399585308,"post_id":23552930,"comment_id":36138397,"body_markdown":"My experience is with distributed cluster. If you&#39;re running on same box, this may not be the case. The crux of the issue is data dependencies... believe there are a lot of them with Strassen, which means you&#39;ll need to communicate intermediate results - if you&#39;re on a distributed cluster that means network IO, if you&#39;re on multicore CPU that means cache coherence conflicts, etc.","body":"My experience is with distributed cluster. If you&#39;re running on same box, this may not be the case. The crux of the issue is data dependencies... believe there are a lot of them with Strassen, which means you&#39;ll need to communicate intermediate results - if you&#39;re on a distributed cluster that means network IO, if you&#39;re on multicore CPU that means cache coherence conflicts, etc."},{"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"score":0,"creation_date":1399587793,"post_id":23552930,"comment_id":36139415,"body_markdown":"Are you just looking for a fast way to do parallel matrix multiplication in Java? Would a pure Java framework be of any interest to you?","body":"Are you just looking for a fast way to do parallel matrix multiplication in Java? Would a pure Java framework be of any interest to you?"},{"owner":{"account_id":976092,"reputation":73,"user_id":997248,"accept_rate":50,"display_name":"user997248"},"score":0,"creation_date":1399634813,"post_id":23552930,"comment_id":36156777,"body_markdown":"Yes actually I want to learn how the top above code can be implemented  so that it runs in parallel.","body":"Yes actually I want to learn how the top above code can be implemented  so that it runs in parallel."},{"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"score":0,"creation_date":1399643938,"post_id":23552930,"comment_id":36163023,"body_markdown":"I maintain an open-source project on SourceForge that has a built-in-function for matrix mult. You can use it as is or roll your own. See here: http://sourceforge.net/projects/tymeacdse/","body":"I maintain an open-source project on SourceForge that has a built-in-function for matrix mult. You can use it as is or roll your own. See here: <a href=\"http://sourceforge.net/projects/tymeacdse/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/tymeacdse</a>"}],"owner":{"account_id":976092,"reputation":73,"user_id":997248,"accept_rate":50,"display_name":"user997248"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645463524,"creation_date":1399584753,"question_id":23552930,"body_markdown":"I am trying to implement Strassen matrix multiplication algorithm in both sequential and parallel. I want the following code to run parallel but I have no experience with parallel programming. \r\n\r\n    int[][] M1 = multiply(add(A11, A22), add(B11, B22));\r\n    int[][] M2 = multiply(add(A21, A22), B11);\r\n    int[][] M3 = multiply(A11, sub(B12, B22));\r\n    int[][] M4 = multiply(A22, sub(B21, B11));\r\n    int[][] M5 = multiply(add(A11, A12), B22);\r\n    int[][] M6 = multiply(sub(A21, A11), add(B11, B12));\r\n    int[][] M7 = multiply(sub(A12, A22), add(B21, B22));\r\n\r\nI searched through the web and found a possible solution and arranged the code again:\r\n\r\n    ExecutorService executor = Executors.newCachedThreadPool();\r\n    List&lt;FutureTask&lt;int[][]&gt;&gt; taskList1 = new ArrayList&lt;FutureTask&lt;int[][]&gt;&gt;();\r\n    // Start thread for the first half of the numbers\r\n    FutureTask&lt;int[][]&gt; futureTask_2 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\r\n        @Override\r\n        public int[][] call() throws InterruptedException, ExecutionException {\r\n            return multiply(add(A11, A22), add(B11, B22));\r\n        }\r\n    });\r\n    FutureTask&lt;int[][]&gt; futureTask_3 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\r\n        @Override\r\n        public int[][] call() throws InterruptedException, ExecutionException {\r\n            return multiply(add(A21, A22), B11);\r\n        }\r\n    });\r\n    FutureTask&lt;int[][]&gt; futureTask_4 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\r\n        @Override\r\n        public int[][] call() throws InterruptedException, ExecutionException {\r\n            return multiply(A11, sub(B12, B22));\r\n        }\r\n    });\r\n    FutureTask&lt;int[][]&gt; futureTask_5 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\r\n        @Override\r\n        public int[][] call() throws InterruptedException, ExecutionException {\r\n            return multiply(A22, sub(B21, B11));\r\n        }\r\n    });\r\n    FutureTask&lt;int[][]&gt; futureTask_6 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\r\n        @Override\r\n        public int[][] call() throws InterruptedException, ExecutionException {\r\n            return multiply(add(A11, A12), B22);\r\n        }\r\n    });\r\n    FutureTask&lt;int[][]&gt; futureTask_7 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\r\n        @Override\r\n        public int[][] call() throws InterruptedException, ExecutionException {\r\n            return multiply(sub(A21, A11), add(B11, B12));\r\n        }\r\n    });\r\n    FutureTask&lt;int[][]&gt; futureTask_8 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\r\n        @Override\r\n        public int[][] call() throws InterruptedException, ExecutionException {\r\n            return multiply(sub(A12, A22), add(B21, B22));\r\n        }\r\n    });\r\n    taskList1.add(futureTask_2);\r\n    taskList1.add(futureTask_3);\r\n    taskList1.add(futureTask_4);\r\n    taskList1.add(futureTask_5);\r\n    taskList1.add(futureTask_6);\r\n    taskList1.add(futureTask_7);\r\n    taskList1.add(futureTask_8);\r\n    executor.execute(futureTask_2);\r\n    executor.execute(futureTask_3);\r\n    executor.execute(futureTask_4);\r\n    executor.execute(futureTask_5);\r\n    executor.execute(futureTask_6);\r\n    executor.execute(futureTask_7);\r\n    executor.execute(futureTask_8);\r\n\r\n    FutureTask&lt;int[][]&gt; ftrTask = taskList1.get(0);\r\n    final int[][] M1 = ftrTask.get();\r\n    FutureTask&lt;int[][]&gt; ftrTask1 = taskList1.get(1);\r\n    final int[][] M2 = ftrTask1.get();\r\n    FutureTask&lt;int[][]&gt; ftrTask2 = taskList1.get(2);\r\n    final int[][] M3 = ftrTask2.get();\r\n    FutureTask&lt;int[][]&gt; ftrTask3 = taskList1.get(3);\r\n    final int[][] M4 = ftrTask3.get();\r\n    FutureTask&lt;int[][]&gt; ftrTask4 = taskList1.get(4);\r\n    final int[][] M5 = ftrTask4.get();\r\n    FutureTask&lt;int[][]&gt; ftrTask5 = taskList1.get(5);\r\n    final int[][] M6 = ftrTask5.get();\r\n    FutureTask&lt;int[][]&gt; ftrTask6 = taskList1.get(6);\r\n    final int[][] M7 = ftrTask6.get();\r\n\r\n    executor.shutdown();\r\n\r\nWhen I run the program for small number of array dimensions like 2,4,8,16 it works almost the same amount of time as in sequential version. For large dimensions like 100, 1000, it calculates the result in much longer time then the sequential version. \r\nIs my parallel implementation wrong?\r\n","title":"Strassen Algorithm Parallel implementation in java","body":"<p>I am trying to implement Strassen matrix multiplication algorithm in both sequential and parallel. I want the following code to run parallel but I have no experience with parallel programming.</p>\n<pre><code>int[][] M1 = multiply(add(A11, A22), add(B11, B22));\nint[][] M2 = multiply(add(A21, A22), B11);\nint[][] M3 = multiply(A11, sub(B12, B22));\nint[][] M4 = multiply(A22, sub(B21, B11));\nint[][] M5 = multiply(add(A11, A12), B22);\nint[][] M6 = multiply(sub(A21, A11), add(B11, B12));\nint[][] M7 = multiply(sub(A12, A22), add(B21, B22));\n</code></pre>\n<p>I searched through the web and found a possible solution and arranged the code again:</p>\n<pre><code>ExecutorService executor = Executors.newCachedThreadPool();\nList&lt;FutureTask&lt;int[][]&gt;&gt; taskList1 = new ArrayList&lt;FutureTask&lt;int[][]&gt;&gt;();\n// Start thread for the first half of the numbers\nFutureTask&lt;int[][]&gt; futureTask_2 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\n    @Override\n    public int[][] call() throws InterruptedException, ExecutionException {\n        return multiply(add(A11, A22), add(B11, B22));\n    }\n});\nFutureTask&lt;int[][]&gt; futureTask_3 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\n    @Override\n    public int[][] call() throws InterruptedException, ExecutionException {\n        return multiply(add(A21, A22), B11);\n    }\n});\nFutureTask&lt;int[][]&gt; futureTask_4 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\n    @Override\n    public int[][] call() throws InterruptedException, ExecutionException {\n        return multiply(A11, sub(B12, B22));\n    }\n});\nFutureTask&lt;int[][]&gt; futureTask_5 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\n    @Override\n    public int[][] call() throws InterruptedException, ExecutionException {\n        return multiply(A22, sub(B21, B11));\n    }\n});\nFutureTask&lt;int[][]&gt; futureTask_6 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\n    @Override\n    public int[][] call() throws InterruptedException, ExecutionException {\n        return multiply(add(A11, A12), B22);\n    }\n});\nFutureTask&lt;int[][]&gt; futureTask_7 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\n    @Override\n    public int[][] call() throws InterruptedException, ExecutionException {\n        return multiply(sub(A21, A11), add(B11, B12));\n    }\n});\nFutureTask&lt;int[][]&gt; futureTask_8 = new FutureTask&lt;int[][]&gt;(new Callable&lt;int[][]&gt;() {\n    @Override\n    public int[][] call() throws InterruptedException, ExecutionException {\n        return multiply(sub(A12, A22), add(B21, B22));\n    }\n});\ntaskList1.add(futureTask_2);\ntaskList1.add(futureTask_3);\ntaskList1.add(futureTask_4);\ntaskList1.add(futureTask_5);\ntaskList1.add(futureTask_6);\ntaskList1.add(futureTask_7);\ntaskList1.add(futureTask_8);\nexecutor.execute(futureTask_2);\nexecutor.execute(futureTask_3);\nexecutor.execute(futureTask_4);\nexecutor.execute(futureTask_5);\nexecutor.execute(futureTask_6);\nexecutor.execute(futureTask_7);\nexecutor.execute(futureTask_8);\n\nFutureTask&lt;int[][]&gt; ftrTask = taskList1.get(0);\nfinal int[][] M1 = ftrTask.get();\nFutureTask&lt;int[][]&gt; ftrTask1 = taskList1.get(1);\nfinal int[][] M2 = ftrTask1.get();\nFutureTask&lt;int[][]&gt; ftrTask2 = taskList1.get(2);\nfinal int[][] M3 = ftrTask2.get();\nFutureTask&lt;int[][]&gt; ftrTask3 = taskList1.get(3);\nfinal int[][] M4 = ftrTask3.get();\nFutureTask&lt;int[][]&gt; ftrTask4 = taskList1.get(4);\nfinal int[][] M5 = ftrTask4.get();\nFutureTask&lt;int[][]&gt; ftrTask5 = taskList1.get(5);\nfinal int[][] M6 = ftrTask5.get();\nFutureTask&lt;int[][]&gt; ftrTask6 = taskList1.get(6);\nfinal int[][] M7 = ftrTask6.get();\n\nexecutor.shutdown();\n</code></pre>\n<p>When I run the program for small number of array dimensions like 2,4,8,16 it works almost the same amount of time as in sequential version. For large dimensions like 100, 1000, it calculates the result in much longer time then the sequential version.\nIs my parallel implementation wrong?</p>\n"},{"tags":["java","post","rest-assured","zip"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645447175,"creation_date":1645447175,"answer_id":71206473,"question_id":71205772,"body_markdown":"Save file from response:\r\n\r\n```\r\nPath pathToFile = new File(&quot;path/to/your/file&quot;).toPath();\r\nFiles.copy(response.asInputStream(), pathToFile);\r\n```","title":"Download zip file as response after hitting Post Call in Rest assured","body":"<p>Save file from response:</p>\n<pre><code>Path pathToFile = new File(&quot;path/to/your/file&quot;).toPath();\nFiles.copy(response.asInputStream(), pathToFile);\n</code></pre>\n"}],"owner":{"account_id":24328904,"reputation":1,"user_id":18268063,"display_name":"kira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645463295,"creation_date":1645443897,"question_id":71205772,"body_markdown":"I am trying [this download link in swagger][1] from post call in java using RestAssured. But after hitting the endpoint, the response is some unwanted characters displayed on console. This is a zip file we are talking about. How can i download the file and save it in my local?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jLQA0.png","title":"Download zip file as response after hitting Post Call in Rest assured","body":"<p>I am trying <a href=\"https://i.stack.imgur.com/jLQA0.png\" rel=\"nofollow noreferrer\">this download link in swagger</a> from post call in java using RestAssured. But after hitting the endpoint, the response is some unwanted characters displayed on console. This is a zip file we are talking about. How can i download the file and save it in my local?</p>\n"},{"tags":["java","xml","picocli"],"answers":[{"tags":[],"owner":{"account_id":10878273,"reputation":334,"user_id":7998077,"display_name":"iambk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645451472,"creation_date":1642941692,"answer_id":70822129,"question_id":70819977,"body_markdown":"The `static` context of the `SourceSentences.main()` is lost once you run the `getArrayElements.main()` method. The parsing of your XML data never happened as far as `getArrayElements.main()` was concerned.\r\n\r\nYou need to call the `translate` method from inside the `getArrayElements`&#39; *main* function.\r\n\r\n```lang-java\r\nclass getArrayElements extends SourceSentences {\r\n\r\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\r\n        SourceSentences.translate();\r\n        System.out.println(SourceSentences.sourceArray);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How do I transfer my parsed array data from one class to another?","body":"<p>The <code>static</code> context of the <code>SourceSentences.main()</code> is lost once you run the <code>getArrayElements.main()</code> method. The parsing of your XML data never happened as far as <code>getArrayElements.main()</code> was concerned.</p>\n<p>You need to call the <code>translate</code> method from inside the <code>getArrayElements</code>' <em>main</em> function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class getArrayElements extends SourceSentences {\n\n    public static void main(String[] args) throws ParserConfigurationException, IOException, SAXException {\n        SourceSentences.translate();\n        System.out.println(SourceSentences.sourceArray);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19171911,"reputation":59,"user_id":14005469,"display_name":"Emeka A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70822129,"answer_count":1,"score":1,"last_activity_date":1645463005,"creation_date":1642922695,"question_id":70819977,"body_markdown":"My program uses Picocli to parse XML data and store it in an ArrayList. For some reason, the information gets removed when I try to access it from another class.\r\n\r\nI run the code below, and it shows the elements just fine:\r\n\r\n```lang-java\r\npublic class SourceSentences {\r\n    static String source;\r\n    static ArrayList&lt;String&gt; sourceArray = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public static void translate() throws ParserConfigurationException, IOException, SAXException {\r\n        String xmlFileLocation = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\exercise\\\\source.txml&quot;;\r\n        System.out.println(&quot;---------------&quot;);\r\n        System.out.println(&quot;Get Text From Source File: &quot;);\r\n        DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\r\n\r\n        builderFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n\r\n        //parse &#39;.txml&#39; file\r\n        DocumentBuilder builder = builderFactory.newDocumentBuilder();\r\n        Document document = builder.parse(new File(xmlFileLocation));\r\n        //...\r\n        document.getDocumentElement().normalize();\r\n\r\n        //specify tag in the &#39;.txml&#39; file and iterate\r\n        NodeList nodeList = document.getElementsByTagName(&quot;segment&quot;);\r\n\r\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n            //this is tag index of where line of el are\r\n            Node node = nodeList.item(i);\r\n\r\n            //check if actually a node\r\n            if (node.getNodeType() == Node.ELEMENT_NODE) {\r\n                //create a node object that will retrieve the element in the XML file\r\n                Element element = (Element) node;\r\n                //get the element from the specified node in nodeList\r\n                source = element.getElementsByTagName(&quot;source&quot;).item(0).getTextContent();\r\n                //check what it looks like\r\n                System.out.println(source);\r\n                //add to arraylist\r\n                sourceArray.add(source);\r\n            }\r\n\r\n            /*String[] arr = source.split(&quot;\\\\s&quot;);\r\n            System.out.println(Arrays.toString(arr));\r\n            System.out.println(Arrays.toString(arr));*/\r\n        }\r\n\r\n        //get its data type to make sure\r\n        System.out.println(&quot;data type: &quot; + source.getClass().getSimpleName());\r\n        System.out.println(sourceArray);\r\n    }\r\n}\r\n```\r\n\r\nSo I try to access sourceArray from another class:\r\n\r\n```lang-java\r\nclass getArrayElements extends SourceSentences{\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(SourceSentences.sourceArray);\r\n    }\r\n}\r\n```\r\n\r\nand results in variables being [], thus not able to transfer data to another class.\r\n\r\nPicocli setup snippet:\r\n\r\n```lang-java\r\npublic class TranslateTXML implements Callable&lt;String&gt; {\r\n\r\n    @Option(names = &quot;-f&quot;, description = &quot; path to source txml file&quot;)\r\n\r\n    private String file;\r\n\r\n    @Option(names = &quot;-o&quot;, description = &quot;output path&quot;)\r\n    private String output;\r\n\r\n    public static void main(String... args) throws Exception {\r\n        int exitCode = new picocli.CommandLine(new TranslateTXML()).execute(args);\r\n        System.exit(exitCode);\r\n    }\r\n\r\n    public String call() throws Exception {\r\n        if (file != null) {\r\n            if (file.equals(&quot;C:\\\\Users\\\\gnier\\\\Desktop\\\\exercise\\\\source.txml&quot;)) {\r\n                sourceSent(&quot;C:\\\\Users\\\\gnier\\\\Desktop\\\\exercise\\\\source.txml&quot;);\r\n                System.out.println(&quot;source.txml data retrieved\\n&quot;);\r\n            } else {\r\n                System.out.println(&quot;File \\&quot;source.txml\\&quot; not found. Check FileName and Directory.&quot;);\r\n                System.exit(2);\r\n            }\r\n        }\r\n\r\n        WriteSourceTranslatedToTXML.makeTranslated(System.out);\r\n        System.out.println(&quot;translated made&quot;);\r\n        System.out.println(&quot;------&quot;);\r\n        System.out.println(&quot;File \\&quot;translated.txml\\&quot; has been outputted to designated path&quot;);\r\n    }\r\n}\r\n```\r\n\r\n","title":"How do I transfer my parsed array data from one class to another?","body":"<p>My program uses Picocli to parse XML data and store it in an ArrayList. For some reason, the information gets removed when I try to access it from another class.</p>\n<p>I run the code below, and it shows the elements just fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SourceSentences {\n    static String source;\n    static ArrayList&lt;String&gt; sourceArray = new ArrayList&lt;&gt;();\n\n\n    public static void translate() throws ParserConfigurationException, IOException, SAXException {\n        String xmlFileLocation = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\exercise\\\\source.txml&quot;;\n        System.out.println(&quot;---------------&quot;);\n        System.out.println(&quot;Get Text From Source File: &quot;);\n        DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\n\n        builderFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n\n        //parse '.txml' file\n        DocumentBuilder builder = builderFactory.newDocumentBuilder();\n        Document document = builder.parse(new File(xmlFileLocation));\n        //...\n        document.getDocumentElement().normalize();\n\n        //specify tag in the '.txml' file and iterate\n        NodeList nodeList = document.getElementsByTagName(&quot;segment&quot;);\n\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\n            //this is tag index of where line of el are\n            Node node = nodeList.item(i);\n\n            //check if actually a node\n            if (node.getNodeType() == Node.ELEMENT_NODE) {\n                //create a node object that will retrieve the element in the XML file\n                Element element = (Element) node;\n                //get the element from the specified node in nodeList\n                source = element.getElementsByTagName(&quot;source&quot;).item(0).getTextContent();\n                //check what it looks like\n                System.out.println(source);\n                //add to arraylist\n                sourceArray.add(source);\n            }\n\n            /*String[] arr = source.split(&quot;\\\\s&quot;);\n            System.out.println(Arrays.toString(arr));\n            System.out.println(Arrays.toString(arr));*/\n        }\n\n        //get its data type to make sure\n        System.out.println(&quot;data type: &quot; + source.getClass().getSimpleName());\n        System.out.println(sourceArray);\n    }\n}\n</code></pre>\n<p>So I try to access sourceArray from another class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class getArrayElements extends SourceSentences{\n\n    public static void main(String[] args) {\n        System.out.println(SourceSentences.sourceArray);\n    }\n}\n</code></pre>\n<p>and results in variables being [], thus not able to transfer data to another class.</p>\n<p>Picocli setup snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TranslateTXML implements Callable&lt;String&gt; {\n\n    @Option(names = &quot;-f&quot;, description = &quot; path to source txml file&quot;)\n\n    private String file;\n\n    @Option(names = &quot;-o&quot;, description = &quot;output path&quot;)\n    private String output;\n\n    public static void main(String... args) throws Exception {\n        int exitCode = new picocli.CommandLine(new TranslateTXML()).execute(args);\n        System.exit(exitCode);\n    }\n\n    public String call() throws Exception {\n        if (file != null) {\n            if (file.equals(&quot;C:\\\\Users\\\\gnier\\\\Desktop\\\\exercise\\\\source.txml&quot;)) {\n                sourceSent(&quot;C:\\\\Users\\\\gnier\\\\Desktop\\\\exercise\\\\source.txml&quot;);\n                System.out.println(&quot;source.txml data retrieved\\n&quot;);\n            } else {\n                System.out.println(&quot;File \\&quot;source.txml\\&quot; not found. Check FileName and Directory.&quot;);\n                System.exit(2);\n            }\n        }\n\n        WriteSourceTranslatedToTXML.makeTranslated(System.out);\n        System.out.println(&quot;translated made&quot;);\n        System.out.println(&quot;------&quot;);\n        System.out.println(&quot;File \\&quot;translated.txml\\&quot; has been outputted to designated path&quot;);\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8420,"page":1572,"page_size":100}
