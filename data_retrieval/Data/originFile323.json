{"items":[{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":6312955,"reputation":2777,"user_id":4903925,"accept_rate":71,"display_name":"Bonatti"},"score":1,"creation_date":1688730827,"post_id":76636715,"comment_id":135116629,"body_markdown":"When posting, question, put the StackTrace, its the best source of information, even if its long. Also, try to read [How to Ask](https://stackoverflow.com/help/how-to-ask)","body":"When posting, question, put the StackTrace, its the best source of information, even if its long. Also, try to read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"score":0,"creation_date":1688734136,"post_id":76636715,"comment_id":135117318,"body_markdown":"Done , i think i pasted it correctly  and all the info is there, thanks for the feedback.","body":"Done , i think i pasted it correctly  and all the info is there, thanks for the feedback."}],"answers":[{"comments":[{"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"score":0,"creation_date":1688748831,"post_id":76637448,"comment_id":135120311,"body_markdown":"I checked in the xml and all the buttons have their own `onClick` method  defined in the java file , no one has the default `onClick`.","body":"I checked in the xml and all the buttons have their own <code>onClick</code> method  defined in the java file , no one has the default <code>onClick</code>."},{"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"score":0,"creation_date":1688820326,"post_id":76637448,"comment_id":135126947,"body_markdown":"Correct, that was the problem, one small thing, i created the `Intent` that sends you to the activity `CalcularDefinicion` but, in the location it was created (outside onCreate) it was giving me the same error but this time i could not enter to `SeeResults` class. Anyway, i solved it just creating the intent inside the onCreate  and setting an `OnClickListener` for the button also inside and now everything works without any problem, i will take in count to add a conditional always to check if the data is null so it does not crash, thanks for the help :).","body":"Correct, that was the problem, one small thing, i created the <code>Intent</code> that sends you to the activity <code>CalcularDefinicion</code> but, in the location it was created (outside onCreate) it was giving me the same error but this time i could not enter to <code>SeeResults</code> class. Anyway, i solved it just creating the intent inside the onCreate  and setting an <code>OnClickListener</code> for the button also inside and now everything works without any problem, i will take in count to add a conditional always to check if the data is null so it does not crash, thanks for the help :)."}],"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688798772,"creation_date":1688736726,"answer_id":76637448,"question_id":76636715,"body_markdown":"According to the error message, you&#39;ve set `onClick` method of a button in one of your xml file with its default name as **`onClick`**, with the intention of connecting the button click event to the **`onClickElement`** method that you defined in your *MainActivity.java*.  \r\n\r\nEither change `onClickElement` to `onClick` in your activity or `onClick` to `onClickElement` in your xml so that the declared and defined symbols match.\r\n\r\n### Correction Update\r\nAfter your comment, I relooked at the exception message and seems like you are right. The actual problem occurs when getting data in your `CalcularDefinicion`&#39;s `onCreate` method. There you try to get the sent data from the previous activity but you get null because in the previous activitiy you send a new intent that does not have any data.\r\n&lt;!-- language-all lang-java --&gt;\r\n**SeeResults** class\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    ...\r\n    // You get the intent here from the main activity\r\n    Intent i = getIntent();\r\n    String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n    ...\r\n    // After processing values you use the same intent to send data\r\n    i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n    i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n}\r\n\r\n/*\r\nBut when you start the CalcularDefinicion activity you create a new intent\r\nand all the data you put in the onCreate method has gone. Now you send\r\nnothing to the CalcularDefinicion activity, hence you obviously will get null.\r\n*/\r\npublic void calcularDefinicion (View v) {\r\n    i = new Intent(this, CalcularDefinicion.class);\r\n    startActivity(i);\r\n}\r\n```\r\n\r\nHere are some solutions for you.\r\n#### Solution 1\r\nSet the button&#39;s `onClikListener` within the `onCreate` method so that you can get access to the intent that you&#39;ve set the data for `CalcularDefinicion` activity.\r\n```\r\npublic class SeeResults extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ...\r\n        Intent i = getIntent();\r\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n        ...\r\n        double IMC = Math.round (peso / (altura * altura));\r\n        double TMB = 0;\r\n        if (genero.equals(&quot;hombre&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\r\n        }\r\n        if (genero.equals(&quot;mujer&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\r\n        }\r\n        ...\r\n        \r\n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definici&#243;n : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\r\n        \r\n        calcularDefinicionButton.setOnClickListener(() v -&gt; {\r\n            startActivity(i);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n#### Solution 2\r\nLeave the `onCLick` implementation as is and declare a discrete intent for `CalcularDefinicion` activity.\r\n```\r\npublic class SeeResults extends AppCompatActivity {\r\n    private final Intent calcularIntent = new Intent(this, CalcularDefinicion.class);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ...\r\n        Intent i = getIntent();\r\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n        ...\r\n        double IMC = Math.round (peso / (altura * altura));\r\n        double TMB = 0;\r\n        if (genero.equals(&quot;hombre&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\r\n        }\r\n        if (genero.equals(&quot;mujer&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\r\n        ...\r\n        calcularIntent.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n        calcularIntent.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definici&#243;n : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\r\n        \r\n    }\r\n    \r\n    public void goBack (View v) {\r\n        // Don&#39;t hesitate to create new intents for each different cases\r\n        Intent backIntent = new Intent(this,MainActivity.class);\r\n        startActivity(backIntent);\r\n    }\r\n    \r\n    public void calcularDefinicion (View v) {\r\n        startActivity(calcularIntent);\r\n    }\r\n}\r\n```\r\n\r\n#### Watch it!\r\nFinally there is one more thing to consider. Things may fail and may not result as expected. That&#39;s why you should take your precautions as a programmer to make sure the failable data does exist and wholesome.\r\n```\r\npublic class CalcularDefinicion extends AppCompatActivity {\r\n    \r\n    ...\r\n    \r\n    public void calcularDef (View v) {\r\n        int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\r\n        int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\r\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\r\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\r\n        Intent i = getIntent();\r\n\r\n        // ATTENTION to this part!\r\n        String TMBstring = i.getStringExtra(&quot;TMB&quot;);\r\n        String pesoString = i.getStringExtra(&quot;Peso&quot;);\r\n        // Always check the nullity of the data you get from intent because\r\n        // somehow if the data don&#39;t exist it will return null by default\r\n        if (TMBstring == null || TMBstring.isEmpty()) {\r\n            // Can&#39;t continue without data, handle this unexpected case\r\n            return;\r\n        }\r\n        if (pesoString == null || pesoString.isEmpty()) {\r\n            // Can&#39;t continue without data, handle this unexpected case\r\n            return;\r\n        }\r\n        // If the program flow reaches here, then all the data exist and you\r\n        // can continue to process further.\r\n        double TMB = Double.parseDouble(TMBstring);\r\n        double peso = Double.parseDouble(pesoString);\r\n        Log.d(&quot;TMB&quot;,String.valueOf(TMB));\r\n        Log.d(&quot;Peso&quot;,String.valueOf(peso));\r\n        double pesoPerdido = (TMB - calorias) * (tiempo / 30);\r\n        double pesoFinal = peso - pesoPerdido;\r\n        \r\n        textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\r\n    }\r\n    \r\n    EditText caloriasDef;\r\n    EditText tiempoDef;\r\n    TextView textoInicio, textoAcabar;\r\n    \r\n}","title":"Android app throws IlegalStateException and crashes while i parse a String to double from an intent","body":"<p>According to the error message, you've set <code>onClick</code> method of a button in one of your xml file with its default name as <strong><code>onClick</code></strong>, with the intention of connecting the button click event to the <strong><code>onClickElement</code></strong> method that you defined in your <em>MainActivity.java</em>.</p>\n<p>Either change <code>onClickElement</code> to <code>onClick</code> in your activity or <code>onClick</code> to <code>onClickElement</code> in your xml so that the declared and defined symbols match.</p>\n<h3>Correction Update</h3>\n<p>After your comment, I relooked at the exception message and seems like you are right. The actual problem occurs when getting data in your <code>CalcularDefinicion</code>'s <code>onCreate</code> method. There you try to get the sent data from the previous activity but you get null because in the previous activitiy you send a new intent that does not have any data.</p>\n\n<p><strong>SeeResults</strong> class</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n    // You get the intent here from the main activity\n    Intent i = getIntent();\n    String [] data = i.getStringArrayExtra(&quot;data&quot;);\n    ...\n    // After processing values you use the same intent to send data\n    i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n    i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n}\n\n/*\nBut when you start the CalcularDefinicion activity you create a new intent\nand all the data you put in the onCreate method has gone. Now you send\nnothing to the CalcularDefinicion activity, hence you obviously will get null.\n*/\npublic void calcularDefinicion (View v) {\n    i = new Intent(this, CalcularDefinicion.class);\n    startActivity(i);\n}\n</code></pre>\n<p>Here are some solutions for you.</p>\n<h4>Solution 1</h4>\n<p>Set the button's <code>onClikListener</code> within the <code>onCreate</code> method so that you can get access to the intent that you've set the data for <code>CalcularDefinicion</code> activity.</p>\n<pre><code>public class SeeResults extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ...\n        Intent i = getIntent();\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\n        ...\n        double IMC = Math.round (peso / (altura * altura));\n        double TMB = 0;\n        if (genero.equals(&quot;hombre&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\n        }\n        if (genero.equals(&quot;mujer&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\n        }\n        ...\n        \n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definición : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\n        \n        calcularDefinicionButton.setOnClickListener(() v -&gt; {\n            startActivity(i);\n        });\n    }\n}\n</code></pre>\n<h4>Solution 2</h4>\n<p>Leave the <code>onCLick</code> implementation as is and declare a discrete intent for <code>CalcularDefinicion</code> activity.</p>\n<pre><code>public class SeeResults extends AppCompatActivity {\n    private final Intent calcularIntent = new Intent(this, CalcularDefinicion.class);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        ...\n        Intent i = getIntent();\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\n        ...\n        double IMC = Math.round (peso / (altura * altura));\n        double TMB = 0;\n        if (genero.equals(&quot;hombre&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\n        }\n        if (genero.equals(&quot;mujer&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\n        ...\n        calcularIntent.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n        calcularIntent.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definición : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\n        \n    }\n    \n    public void goBack (View v) {\n        // Don't hesitate to create new intents for each different cases\n        Intent backIntent = new Intent(this,MainActivity.class);\n        startActivity(backIntent);\n    }\n    \n    public void calcularDefinicion (View v) {\n        startActivity(calcularIntent);\n    }\n}\n</code></pre>\n<h4>Watch it!</h4>\n<p>Finally there is one more thing to consider. Things may fail and may not result as expected. That's why you should take your precautions as a programmer to make sure the failable data does exist and wholesome.</p>\n<pre><code>public class CalcularDefinicion extends AppCompatActivity {\n    \n    ...\n    \n    public void calcularDef (View v) {\n        int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\n        int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\n        Intent i = getIntent();\n\n        // ATTENTION to this part!\n        String TMBstring = i.getStringExtra(&quot;TMB&quot;);\n        String pesoString = i.getStringExtra(&quot;Peso&quot;);\n        // Always check the nullity of the data you get from intent because\n        // somehow if the data don't exist it will return null by default\n        if (TMBstring == null || TMBstring.isEmpty()) {\n            // Can't continue without data, handle this unexpected case\n            return;\n        }\n        if (pesoString == null || pesoString.isEmpty()) {\n            // Can't continue without data, handle this unexpected case\n            return;\n        }\n        // If the program flow reaches here, then all the data exist and you\n        // can continue to process further.\n        double TMB = Double.parseDouble(TMBstring);\n        double peso = Double.parseDouble(pesoString);\n        Log.d(&quot;TMB&quot;,String.valueOf(TMB));\n        Log.d(&quot;Peso&quot;,String.valueOf(peso));\n        double pesoPerdido = (TMB - calorias) * (tiempo / 30);\n        double pesoFinal = peso - pesoPerdido;\n        \n        textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\n    }\n    \n    EditText caloriasDef;\n    EditText tiempoDef;\n    TextView textoInicio, textoAcabar;\n    \n}\n</code></pre>\n"}],"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76637448,"answer_count":1,"score":-1,"last_activity_date":1688798772,"creation_date":1688730422,"question_id":76636715,"body_markdown":"Im creating an app that takes your weight, height, gender and all that medical stuff and calculates values like IMC, calories... It has 3 activities, the first is the Main, here i ask for all the values that i said. Second one just show some results, and the last one calculates how many kgs will lose eating x value of calories per month (set by the user). The problem here is that i need two values of the second activity, the weight and the TMB (metabolism)  to calculate how many kg will lose. Im passing that values with an intent, i put them as an extra with a tag and then i get them in the last activity, i put them as an String, but they are decimals and i need them as decimals, so, when i get them as an extra and i parse them to double,  i get an IlegalStateException.\r\n\r\nCode of the first activity (java)\r\n&lt;!-- language-all lang-java --&gt;\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        //A&#209;ADIR GENERO A DATOS TRANSFERIBLES --&gt; DONE\r\n        // METER TMB, CALORIAS PARA VOLUMEN, DEFINICI&#211;N Y MANTENIMIENTO --&gt; DONE\r\n        // HACER SECCI&#211;N ESPECIAL PARA VOLUMEN Y DEFINICION (INDICANDO KILOS A GANAR/PERDER EN X TIEMPO) --&gt; ARREGLAR ERROR CALCULAR DEFINICI&#211;N **\r\n        // ARREGLAR BUGS INICIO (QUE ESTE EL TEXTO AL LADO AL ESCRIBIR...)\r\n        RadioGroup radioGroupActividad = findViewById(R.id.radioGroup);\r\n        radioGroupActividad.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup radioGroup, int id) {\r\n                      RadioButton radioButton = findViewById(id);\r\n                      aN = radioButton.getText().toString();\r\n            }\r\n        });\r\n    \r\n    }\r\n    \r\n    \r\n    public void sendData (View v) {\r\n        EditText nombreApellidos = findViewById(R.id.NombreApellidos);\r\n        EditText edad = findViewById(R.id.Edad);\r\n        EditText altura = findViewById(R.id.altura);\r\n        EditText peso = findViewById(R.id.peso);\r\n        String gN = &quot;G&quot;;\r\n        RadioButton rbH = findViewById(R.id.hombre);\r\n        RadioButton rbF = findViewById(R.id.mujer);\r\n    \r\n        if (rbH.isChecked() &amp;&amp; !rbF.isChecked()) {\r\n            gN = &quot;hombre&quot;;\r\n        }\r\n        if (rbF.isChecked() &amp;&amp; !rbH.isChecked()) {\r\n            gN = &quot;mujer&quot;;\r\n        }\r\n    \r\n        /*DATOS*/\r\n        String name = nombreApellidos.getText().toString().replace(&quot;Nombre&quot; , &quot;&quot;);\r\n        String edadN = edad.getText().toString().replace(&quot;Edad&quot;,&quot;&quot;);\r\n        String alturaN = altura.getText().toString().replace(&quot;Altura&quot;,&quot;&quot;);\r\n        String pesoN = peso.getText().toString().replace(&quot;Peso&quot;,&quot;&quot;);\r\n        Intent i = new Intent(this,SeeResults.class);\r\n        String [] info  = new String[6];\r\n        info [0] = name;\r\n        info [1] = edadN;\r\n        info [2] = alturaN;\r\n        info [3] = pesoN;\r\n        info [4] = aN;\r\n        info [5] = gN;\r\n        i.putExtra(&quot;data&quot;,info);\r\n        startActivity(i);\r\n    \r\n    }\r\n    public void onClickElement (View v) {\r\n        int idElement = v.getId();\r\n        if (idElement == R.id.peso) {\r\n            EditText peso = findViewById(R.id.peso);\r\n            peso.setText(&quot;&quot;);\r\n        }\r\n        if (idElement == R.id.altura) {\r\n            EditText altura = findViewById(R.id.altura);\r\n            altura.setText(&quot;&quot;);\r\n        }\r\n        if (idElement == R.id.NombreApellidos) {\r\n            EditText Nombre = findViewById(R.id.NombreApellidos);\r\n            Nombre.setText(&quot;&quot;);\r\n        }\r\n        if (idElement == R.id.Edad) {\r\n            EditText Edad = findViewById(R.id.Edad);\r\n            Edad.setText(&quot;&quot;);\r\n        }\r\n    }\r\n    \r\n    String aN;\r\n}\r\n```\r\n\r\nCode of the second activity:\r\n\r\n```\r\npublic class SeeResults extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_see_results);\r\n        dataTransfered = new String[6];\r\n        TextView imc = findViewById(R.id.Imc);\r\n        Intent i = getIntent();\r\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n        dataTransfered = data;\r\n        String actividadF = dataTransfered[4];\r\n        String genero = dataTransfered[5];\r\n        double actividadFNumero = 0;\r\n        switch (actividadF) {\r\n            case &quot;Poca&quot;:\r\n            actividadFNumero = 1.1;\r\n            break;\r\n            case &quot;Regular&quot;:\r\n            actividadFNumero = 1.3;\r\n            break;\r\n            case &quot;Bastante&quot;:\r\n            actividadFNumero = 1.5;\r\n            break;\r\n            case &quot;Mucha&quot;:\r\n            actividadFNumero = 1.7;\r\n            break;\r\n        }\r\n        double peso = Double.parseDouble(dataTransfered[3]);\r\n        double altura = Double.parseDouble(dataTransfered[2]) / 100;\r\n        int edad = Integer.parseInt(dataTransfered [1]);\r\n        double IMC = Math.round (peso / (altura * altura));\r\n        double TMB = 0;\r\n        if (genero.equals(&quot;hombre&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\r\n        }\r\n        if (genero.equals(&quot;mujer&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\r\n        }\r\n        Log.d(&quot;ActividadFisica&quot;,actividadF);\r\n        Log.d(&quot;ActividadFisicaNumero&quot;, String.valueOf(actividadFNumero));\r\n        Log.d(&quot;Genero&quot;,genero);\r\n    \r\n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definici&#243;n : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\r\n    \r\n    }\r\n    \r\n    public void goBack (View v) {\r\n     Intent i = new Intent(this,MainActivity.class);\r\n     startActivity(i);\r\n    }\r\n    \r\n    public void calcularDefinicion (View v) {\r\n         i = new Intent(this, CalcularDefinicion.class);\r\n        startActivity(i);\r\n    }\r\n    \r\n    String [] dataTransfered;\r\n    Intent i;\r\n}\r\n```\r\n\r\nCode of the last activity :\r\n\r\n```\r\npublic class CalcularDefinicion extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_calcular_definicion);\r\n        tiempoDef = (EditText) findViewById(R.id.TiempoDef);\r\n        caloriasDef = (EditText) findViewById(R.id.CaloriasDef);\r\n        textoInicio = findViewById(R.id.pesoEmpezarDef);\r\n        textoAcabar = findViewById(R.id.pesoAcabarDef);\r\n    \r\n    }\r\n    \r\n    public void calcularDef (View v) {\r\n       int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\r\n       int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\r\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\r\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\r\n       Intent i = getIntent();\r\n       double TMB = Double.parseDouble(i.getStringExtra(&quot;TMB&quot;));\r\n       double peso = Double.parseDouble(i.getStringExtra(&quot;Peso&quot;));\r\n       Log.d(&quot;TMB&quot;,String.valueOf(TMB));\r\n       Log.d(&quot;Peso&quot;,String.valueOf(peso));\r\n       double pesoPerdido = (TMB - calorias) * (tiempo / 30);\r\n       double pesoFinal = peso - pesoPerdido;\r\n    \r\n       textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\r\n    }\r\n    \r\n    EditText caloriasDef;\r\n    EditText tiempoDef;\r\n    TextView textoInicio, textoAcabar;\r\n\r\n}\r\n \r\n```\r\nSTACKTRACE\r\n\r\n&gt; FATAL EXCEPTION: main\r\n&gt; \r\n&gt; Process: com.example.calculoimc, PID: 32693\r\n&gt; \r\n&gt; java.lang.IllegalStateException: Could not execute method for\r\n&gt; android:onClick at\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\r\n&gt; at android.view.View.performClick(View.java:7506) at\r\n&gt; com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n&gt; at android.view.View.performClickInternal(View.java:7483) at\r\n&gt; android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0) at\r\n&gt; android.view.View$PerformClick.run(View.java:29334) at\r\n&gt; android.os.Handler.handleCallback(Handler.java:942) at\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99) at\r\n&gt; android.os.Looper.loopOnce(Looper.java:201) at\r\n&gt; android.os.Looper.loop(Looper.java:288) at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7872) at\r\n&gt; java.lang.reflect.Method.invoke(Native Method) at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n&gt; at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n&gt; \r\n&gt; Caused by: java.lang.reflect.InvocationTargetException at\r\n&gt; java.lang.reflect.Method.invoke(Native Method) at\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\r\n&gt; at android.view.View.performClick(View.java:7506)&#160; at\r\n&gt; com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)&#160;\r\n&gt; at android.view.View.performClickInternal(View.java:7483)&#160; at\r\n&gt; android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160; at\r\n&gt; android.view.View$PerformClick.run(View.java:29334)&#160; at\r\n&gt; android.os.Handler.handleCallback(Handler.java:942)&#160; at\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99)&#160; at\r\n&gt; android.os.Looper.loopOnce(Looper.java:201)&#160; at\r\n&gt; android.os.Looper.loop(Looper.java:288)&#160; at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7872)&#160; at\r\n&gt; java.lang.reflect.Method.invoke(Native Method)&#160; at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n&gt; at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n&gt; \r\n&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual\r\n&gt; method &#39;java.lang.String java.lang.String.trim()&#39; on a null object\r\n&gt; reference at\r\n&gt; jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)\r\n&gt; at\r\n&gt; jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n&gt; at java.lang.Double.parseDouble(Double.java:543) at\r\n&gt; com.example.calculoimc.CalcularDefinicion.calcularDef(CalcularDefinicion.java:31)\r\n&gt; at java.lang.reflect.Method.invoke(Native Method)&#160; at\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)&#160;\r\n&gt; at android.view.View.performClick(View.java:7506)&#160; at\r\n&gt; com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)&#160;\r\n&gt; at android.view.View.performClickInternal(View.java:7483)&#160; at\r\n&gt; android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160; at\r\n&gt; android.view.View$PerformClick.run(View.java:29334)&#160; at\r\n&gt; android.os.Handler.handleCallback(Handler.java:942)&#160; at\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99)&#160; at\r\n&gt; android.os.Looper.loopOnce(Looper.java:201)&#160; at\r\n&gt; android.os.Looper.loop(Looper.java:288)&#160; at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7872)&#160; at\r\n&gt; java.lang.reflect.Method.invoke(Native Method) at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n&gt; at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\nI checked that it all the values are  a DOUBLE and did not have any value  like &quot;Calories: 43&quot; and was only 43, thats what i do in this part of the code in the last activity:\r\n\r\n```\r\nint calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\r\nint tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;);\r\n```\r\n\r\nThe TMB and the weight are just numbers, the TMB is calculated and the weight is put just as a number.\r\n\r\nAlso, the activity is registered in the manifest, i dont think there is the problem but i checked it anyways, i searched and searched around all the internet but i could not figure out what is wrong.","title":"Android app throws IlegalStateException and crashes while i parse a String to double from an intent","body":"<p>Im creating an app that takes your weight, height, gender and all that medical stuff and calculates values like IMC, calories... It has 3 activities, the first is the Main, here i ask for all the values that i said. Second one just show some results, and the last one calculates how many kgs will lose eating x value of calories per month (set by the user). The problem here is that i need two values of the second activity, the weight and the TMB (metabolism)  to calculate how many kg will lose. Im passing that values with an intent, i put them as an extra with a tag and then i get them in the last activity, i put them as an String, but they are decimals and i need them as decimals, so, when i get them as an extra and i parse them to double,  i get an IlegalStateException.</p>\n<p>Code of the first activity (java)</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //AÑADIR GENERO A DATOS TRANSFERIBLES --&gt; DONE\n        // METER TMB, CALORIAS PARA VOLUMEN, DEFINICIÓN Y MANTENIMIENTO --&gt; DONE\n        // HACER SECCIÓN ESPECIAL PARA VOLUMEN Y DEFINICION (INDICANDO KILOS A GANAR/PERDER EN X TIEMPO) --&gt; ARREGLAR ERROR CALCULAR DEFINICIÓN **\n        // ARREGLAR BUGS INICIO (QUE ESTE EL TEXTO AL LADO AL ESCRIBIR...)\n        RadioGroup radioGroupActividad = findViewById(R.id.radioGroup);\n        radioGroupActividad.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup radioGroup, int id) {\n                      RadioButton radioButton = findViewById(id);\n                      aN = radioButton.getText().toString();\n            }\n        });\n    \n    }\n    \n    \n    public void sendData (View v) {\n        EditText nombreApellidos = findViewById(R.id.NombreApellidos);\n        EditText edad = findViewById(R.id.Edad);\n        EditText altura = findViewById(R.id.altura);\n        EditText peso = findViewById(R.id.peso);\n        String gN = &quot;G&quot;;\n        RadioButton rbH = findViewById(R.id.hombre);\n        RadioButton rbF = findViewById(R.id.mujer);\n    \n        if (rbH.isChecked() &amp;&amp; !rbF.isChecked()) {\n            gN = &quot;hombre&quot;;\n        }\n        if (rbF.isChecked() &amp;&amp; !rbH.isChecked()) {\n            gN = &quot;mujer&quot;;\n        }\n    \n        /*DATOS*/\n        String name = nombreApellidos.getText().toString().replace(&quot;Nombre&quot; , &quot;&quot;);\n        String edadN = edad.getText().toString().replace(&quot;Edad&quot;,&quot;&quot;);\n        String alturaN = altura.getText().toString().replace(&quot;Altura&quot;,&quot;&quot;);\n        String pesoN = peso.getText().toString().replace(&quot;Peso&quot;,&quot;&quot;);\n        Intent i = new Intent(this,SeeResults.class);\n        String [] info  = new String[6];\n        info [0] = name;\n        info [1] = edadN;\n        info [2] = alturaN;\n        info [3] = pesoN;\n        info [4] = aN;\n        info [5] = gN;\n        i.putExtra(&quot;data&quot;,info);\n        startActivity(i);\n    \n    }\n    public void onClickElement (View v) {\n        int idElement = v.getId();\n        if (idElement == R.id.peso) {\n            EditText peso = findViewById(R.id.peso);\n            peso.setText(&quot;&quot;);\n        }\n        if (idElement == R.id.altura) {\n            EditText altura = findViewById(R.id.altura);\n            altura.setText(&quot;&quot;);\n        }\n        if (idElement == R.id.NombreApellidos) {\n            EditText Nombre = findViewById(R.id.NombreApellidos);\n            Nombre.setText(&quot;&quot;);\n        }\n        if (idElement == R.id.Edad) {\n            EditText Edad = findViewById(R.id.Edad);\n            Edad.setText(&quot;&quot;);\n        }\n    }\n    \n    String aN;\n}\n</code></pre>\n<p>Code of the second activity:</p>\n<pre><code>public class SeeResults extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_see_results);\n        dataTransfered = new String[6];\n        TextView imc = findViewById(R.id.Imc);\n        Intent i = getIntent();\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\n        dataTransfered = data;\n        String actividadF = dataTransfered[4];\n        String genero = dataTransfered[5];\n        double actividadFNumero = 0;\n        switch (actividadF) {\n            case &quot;Poca&quot;:\n            actividadFNumero = 1.1;\n            break;\n            case &quot;Regular&quot;:\n            actividadFNumero = 1.3;\n            break;\n            case &quot;Bastante&quot;:\n            actividadFNumero = 1.5;\n            break;\n            case &quot;Mucha&quot;:\n            actividadFNumero = 1.7;\n            break;\n        }\n        double peso = Double.parseDouble(dataTransfered[3]);\n        double altura = Double.parseDouble(dataTransfered[2]) / 100;\n        int edad = Integer.parseInt(dataTransfered [1]);\n        double IMC = Math.round (peso / (altura * altura));\n        double TMB = 0;\n        if (genero.equals(&quot;hombre&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\n        }\n        if (genero.equals(&quot;mujer&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\n        }\n        Log.d(&quot;ActividadFisica&quot;,actividadF);\n        Log.d(&quot;ActividadFisicaNumero&quot;, String.valueOf(actividadFNumero));\n        Log.d(&quot;Genero&quot;,genero);\n    \n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definición : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\n    \n    }\n    \n    public void goBack (View v) {\n     Intent i = new Intent(this,MainActivity.class);\n     startActivity(i);\n    }\n    \n    public void calcularDefinicion (View v) {\n         i = new Intent(this, CalcularDefinicion.class);\n        startActivity(i);\n    }\n    \n    String [] dataTransfered;\n    Intent i;\n}\n</code></pre>\n<p>Code of the last activity :</p>\n<pre><code>public class CalcularDefinicion extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_calcular_definicion);\n        tiempoDef = (EditText) findViewById(R.id.TiempoDef);\n        caloriasDef = (EditText) findViewById(R.id.CaloriasDef);\n        textoInicio = findViewById(R.id.pesoEmpezarDef);\n        textoAcabar = findViewById(R.id.pesoAcabarDef);\n    \n    }\n    \n    public void calcularDef (View v) {\n       int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\n       int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\n       Intent i = getIntent();\n       double TMB = Double.parseDouble(i.getStringExtra(&quot;TMB&quot;));\n       double peso = Double.parseDouble(i.getStringExtra(&quot;Peso&quot;));\n       Log.d(&quot;TMB&quot;,String.valueOf(TMB));\n       Log.d(&quot;Peso&quot;,String.valueOf(peso));\n       double pesoPerdido = (TMB - calorias) * (tiempo / 30);\n       double pesoFinal = peso - pesoPerdido;\n    \n       textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\n    }\n    \n    EditText caloriasDef;\n    EditText tiempoDef;\n    TextView textoInicio, textoAcabar;\n\n}\n \n</code></pre>\n<p>STACKTRACE</p>\n<blockquote>\n<p>FATAL EXCEPTION: main</p>\n<p>Process: com.example.calculoimc, PID: 32693</p>\n<p>java.lang.IllegalStateException: Could not execute method for\nandroid:onClick at\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\nat android.view.View.performClick(View.java:7506) at\ncom.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\nat android.view.View.performClickInternal(View.java:7483) at\nandroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0) at\nandroid.view.View$PerformClick.run(View.java:29334) at\nandroid.os.Handler.handleCallback(Handler.java:942) at\nandroid.os.Handler.dispatchMessage(Handler.java:99) at\nandroid.os.Looper.loopOnce(Looper.java:201) at\nandroid.os.Looper.loop(Looper.java:288) at\nandroid.app.ActivityThread.main(ActivityThread.java:7872) at\njava.lang.reflect.Method.invoke(Native Method) at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n<p>Caused by: java.lang.reflect.InvocationTargetException at\njava.lang.reflect.Method.invoke(Native Method) at\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\nat android.view.View.performClick(View.java:7506)  at\ncom.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211) \nat android.view.View.performClickInternal(View.java:7483)  at\nandroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)  at\nandroid.view.View$PerformClick.run(View.java:29334)  at\nandroid.os.Handler.handleCallback(Handler.java:942)  at\nandroid.os.Handler.dispatchMessage(Handler.java:99)  at\nandroid.os.Looper.loopOnce(Looper.java:201)  at\nandroid.os.Looper.loop(Looper.java:288)  at\nandroid.app.ActivityThread.main(ActivityThread.java:7872)  at\njava.lang.reflect.Method.invoke(Native Method)  at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) </p>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual\nmethod 'java.lang.String java.lang.String.trim()' on a null object\nreference at\njdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)\nat\njdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\nat java.lang.Double.parseDouble(Double.java:543) at\ncom.example.calculoimc.CalcularDefinicion.calcularDef(CalcularDefinicion.java:31)\nat java.lang.reflect.Method.invoke(Native Method)  at\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468) \nat android.view.View.performClick(View.java:7506)  at\ncom.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211) \nat android.view.View.performClickInternal(View.java:7483)  at\nandroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)  at\nandroid.view.View$PerformClick.run(View.java:29334)  at\nandroid.os.Handler.handleCallback(Handler.java:942)  at\nandroid.os.Handler.dispatchMessage(Handler.java:99)  at\nandroid.os.Looper.loopOnce(Looper.java:201)  at\nandroid.os.Looper.loop(Looper.java:288)  at\nandroid.app.ActivityThread.main(ActivityThread.java:7872)  at\njava.lang.reflect.Method.invoke(Native Method) at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n</blockquote>\n<p>I checked that it all the values are  a DOUBLE and did not have any value  like &quot;Calories: 43&quot; and was only 43, thats what i do in this part of the code in the last activity:</p>\n<pre><code>int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\nint tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;);\n</code></pre>\n<p>The TMB and the weight are just numbers, the TMB is calculated and the weight is put just as a number.</p>\n<p>Also, the activity is registered in the manifest, i dont think there is the problem but i checked it anyways, i searched and searched around all the internet but i could not figure out what is wrong.</p>\n"},{"tags":["java","spring-webflux","hibernate-reactive"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688798408,"creation_date":1688720967,"answer_id":76635525,"question_id":76619519,"body_markdown":"[I&#39;ve created an issue][1] to keep track of this feature.\r\n\r\nIn the  meanwhile, in Hibernate Reactive, you could create a wrapper around `ReactiveConnection` and intercepts all the calls related to the execution of the query.\r\n\r\nFor example, you can have:\r\n\r\n```java\r\npublic class ConnectionInterceptor implements ReactiveConnection {\r\n   private final ReactiveConnection delegate;\r\n\r\n   public ConnectionInterceptor(ReactiveConnection delegate) {\r\n      this.delegate = delegate;\r\n   }\r\n\r\n   public CompletionStage&lt;Void&gt; execute(String sql) {\r\n       String newSql = convert(sql);\r\n       return delegate.execute(newSql);\r\n   }\r\n\r\n   // ... You need to implement all the other methods running a query\r\n}\r\n```\r\n\r\n```java\r\npackage my.example;\r\n\r\npublic class MyPool extends DefaultSqlClientPool {\r\n\r\n   public CompletionStage&lt;ReactiveConnection&gt; getConnection() {\r\n     return super.getConnection().thenApply( ConnectionInterceptor::new );\r\n   }\r\n\r\n}\r\n```\r\n\r\nYou can register the new pool class using the property `hibernate.vertx.pool.class`:\r\n```\r\nhibernate.vertx.pool.class = my.example.MyPool\r\n```\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-reactive/issues/1700","title":"SQL inspection/injection in Hibernate Reactive","body":"<p><a href=\"https://github.com/hibernate/hibernate-reactive/issues/1700\" rel=\"nofollow noreferrer\">I've created an issue</a> to keep track of this feature.</p>\n<p>In the  meanwhile, in Hibernate Reactive, you could create a wrapper around <code>ReactiveConnection</code> and intercepts all the calls related to the execution of the query.</p>\n<p>For example, you can have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConnectionInterceptor implements ReactiveConnection {\n   private final ReactiveConnection delegate;\n\n   public ConnectionInterceptor(ReactiveConnection delegate) {\n      this.delegate = delegate;\n   }\n\n   public CompletionStage&lt;Void&gt; execute(String sql) {\n       String newSql = convert(sql);\n       return delegate.execute(newSql);\n   }\n\n   // ... You need to implement all the other methods running a query\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package my.example;\n\npublic class MyPool extends DefaultSqlClientPool {\n\n   public CompletionStage&lt;ReactiveConnection&gt; getConnection() {\n     return super.getConnection().thenApply( ConnectionInterceptor::new );\n   }\n\n}\n</code></pre>\n<p>You can register the new pool class using the property <code>hibernate.vertx.pool.class</code>:</p>\n<pre><code>hibernate.vertx.pool.class = my.example.MyPool\n</code></pre>\n"}],"owner":{"account_id":8416879,"reputation":667,"user_id":6317008,"accept_rate":78,"display_name":"SGiux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76635525,"answer_count":1,"score":0,"last_activity_date":1688798408,"creation_date":1688553532,"question_id":76619519,"body_markdown":"Hibernate allows to inspect every SQL command and possibly returning a different SQL command before it is executed, thankfully to the [StatementInspector SPI](https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/resource/jdbc/spi/StatementInspector.java).\r\n\r\nIn our (blocking) Spring Web App we are using it to implement multi-tenancy at row level. The user authenticates and in hibernate&#39;s `inspect` method we get user authentication info from the Spring `SecurityContextHolder`, which we use to change the SQL and implement multi-tenancy. Everything works, as each HTTP request is bound to a specify Thread that will completely fulfill the request.\r\n\r\nIn a reactive version of the above app this doesn&#39;t work. `ReactiveSecurityContextHolder` returns the asynchronous type `Mono` and the hibernate&#39;s `inspect` method return a sync type (`String`).\r\n\r\nIs there a similar method like `inspect` in hibernate reactive to keep the similar multitenancy implementation like in the blocking version, maybe something like `Mono&lt;String&gt; inspect(String sql);`\r\n\r\nI wasn&#39;t able to find it.","title":"SQL inspection/injection in Hibernate Reactive","body":"<p>Hibernate allows to inspect every SQL command and possibly returning a different SQL command before it is executed, thankfully to the <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/resource/jdbc/spi/StatementInspector.java\" rel=\"nofollow noreferrer\">StatementInspector SPI</a>.</p>\n<p>In our (blocking) Spring Web App we are using it to implement multi-tenancy at row level. The user authenticates and in hibernate's <code>inspect</code> method we get user authentication info from the Spring <code>SecurityContextHolder</code>, which we use to change the SQL and implement multi-tenancy. Everything works, as each HTTP request is bound to a specify Thread that will completely fulfill the request.</p>\n<p>In a reactive version of the above app this doesn't work. <code>ReactiveSecurityContextHolder</code> returns the asynchronous type <code>Mono</code> and the hibernate's <code>inspect</code> method return a sync type (<code>String</code>).</p>\n<p>Is there a similar method like <code>inspect</code> in hibernate reactive to keep the similar multitenancy implementation like in the blocking version, maybe something like <code>Mono&lt;String&gt; inspect(String sql);</code></p>\n<p>I wasn't able to find it.</p>\n"},{"tags":["java","scala","playframework"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688797577,"creation_date":1688797257,"answer_id":76641645,"question_id":76627420,"body_markdown":"It&#39;s expected and [documented](https://www.playframework.com/documentation/2.8.x/Filters#Default-Filters).\r\n\r\n&gt; Play comes with a default set of enabled filters, defined through configuration. If the property `play.http.filters` is null, then the default is now `play.api.http.EnabledFilters`, which loads up the filters defined by fully qualified class name in the `play.filters.enabled` configuration property.\r\n&gt;\r\n&gt; (...)\r\n&gt;\r\n&gt; You can also combine `EnabledFilters` with your own filters in code:\r\n&gt;\r\n&gt; Scala:\r\n&gt; ```scala\r\n&gt; class Filters @Inject() (enabledFilters: EnabledFilters, corsFilter: CORSFilter)\r\n&gt;    extends DefaultHttpFilters(enabledFilters.filters :+ corsFilter: _*)\r\n&gt; ```\r\n&gt;\r\n&gt; Java:\r\n&gt; ```java\r\n&gt; public class Filters extends DefaultHttpFilters {\r\n&gt;\r\n&gt;   @Inject\r\n&gt;   public Filters(EnabledFilters enabledFilters, CORSFilter corsFilter) {\r\n&gt;     super(combine(enabledFilters.asJava().getFilters(), corsFilter.asJava()));\r\n&gt;   }\r\n&gt;\r\n&gt;   private static List&lt;EssentialFilter&gt; combine(\r\n&gt;       List&lt;EssentialFilter&gt; filters, EssentialFilter toAppend) {\r\n&gt;     List&lt;EssentialFilter&gt; combinedFilters = new ArrayList&lt;&gt;(filters);\r\n&gt;     combinedFilters.add(toAppend);\r\n&gt;     return combinedFilters;\r\n&gt;   }\r\n&gt; }\r\n&gt; ```\r\n&gt;\r\n&gt; Otherwise, if you have a `Filters` class in the root or have `play.http.filters` defined explicitly, it will take precedence over the `EnabledFilters` functionality described below.\r\n\r\nIf you change the value of `play.http.filters` configuration to your custom class, then all the logic to add/remove filters with `play.filters.enabled` is not applied anymore.\r\n\r\nEither:\r\n- stick to configuration file only filters with the default mechanism,\r\n- or inject `EnabledFilters` in your `com.xxx.xxx.Filters` to support both,\r\n- or load all filters from your `com.xxx.xxx.Filters` class (this would mean also the ones declared in default config files of Play, not recommended).","title":"Play framework &quot;play.filters.enabled&quot; cannot work if &quot;play.http.filters&quot; is set","body":"<p>It's expected and <a href=\"https://www.playframework.com/documentation/2.8.x/Filters#Default-Filters\" rel=\"nofollow noreferrer\">documented</a>.</p>\n<blockquote>\n<p>Play comes with a default set of enabled filters, defined through configuration. If the property <code>play.http.filters</code> is null, then the default is now <code>play.api.http.EnabledFilters</code>, which loads up the filters defined by fully qualified class name in the <code>play.filters.enabled</code> configuration property.</p>\n<p>(...)</p>\n<p>You can also combine <code>EnabledFilters</code> with your own filters in code:</p>\n<p>Scala:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class Filters @Inject() (enabledFilters: EnabledFilters, corsFilter: CORSFilter)\n   extends DefaultHttpFilters(enabledFilters.filters :+ corsFilter: _*)\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Filters extends DefaultHttpFilters {\n\n  @Inject\n  public Filters(EnabledFilters enabledFilters, CORSFilter corsFilter) {\n    super(combine(enabledFilters.asJava().getFilters(), corsFilter.asJava()));\n  }\n\n  private static List&lt;EssentialFilter&gt; combine(\n      List&lt;EssentialFilter&gt; filters, EssentialFilter toAppend) {\n    List&lt;EssentialFilter&gt; combinedFilters = new ArrayList&lt;&gt;(filters);\n    combinedFilters.add(toAppend);\n    return combinedFilters;\n  }\n}\n</code></pre>\n<p>Otherwise, if you have a <code>Filters</code> class in the root or have <code>play.http.filters</code> defined explicitly, it will take precedence over the <code>EnabledFilters</code> functionality described below.</p>\n</blockquote>\n<p>If you change the value of <code>play.http.filters</code> configuration to your custom class, then all the logic to add/remove filters with <code>play.filters.enabled</code> is not applied anymore.</p>\n<p>Either:</p>\n<ul>\n<li>stick to configuration file only filters with the default mechanism,</li>\n<li>or inject <code>EnabledFilters</code> in your <code>com.xxx.xxx.Filters</code> to support both,</li>\n<li>or load all filters from your <code>com.xxx.xxx.Filters</code> class (this would mean also the ones declared in default config files of Play, not recommended).</li>\n</ul>\n"}],"owner":{"account_id":19491494,"reputation":5,"user_id":14259610,"display_name":"lemy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76641645,"answer_count":1,"score":0,"last_activity_date":1688797577,"creation_date":1688635916,"question_id":76627420,"body_markdown":"I am using play framework 2.8.16.\r\n\r\nI defined Filters.scala in my application and enable it in application.conf\r\n\r\n```\r\nplay.http.filters = com.xxx.xxx.Filters\r\n```\r\n\r\nI have another setting\r\n\r\n```\r\nplay.filters.enabled += play.filters.https.RedirectHttpsFilter\r\n```\r\n\r\nRedirectHttpsFilter will be ignored.\r\n\r\nIs it expected? How to support both?","title":"Play framework &quot;play.filters.enabled&quot; cannot work if &quot;play.http.filters&quot; is set","body":"<p>I am using play framework 2.8.16.</p>\n<p>I defined Filters.scala in my application and enable it in application.conf</p>\n<pre><code>play.http.filters = com.xxx.xxx.Filters\n</code></pre>\n<p>I have another setting</p>\n<pre><code>play.filters.enabled += play.filters.https.RedirectHttpsFilter\n</code></pre>\n<p>RedirectHttpsFilter will be ignored.</p>\n<p>Is it expected? How to support both?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1688799703,"post_id":76641581,"comment_id":135125015,"body_markdown":"Do not use subscribe, and do not modify an external variable (apps).  Instead, `zip` you monos together.","body":"Do not use subscribe, and do not modify an external variable (apps).  Instead, <code>zip</code> you monos together."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1688828931,"post_id":76641581,"comment_id":135127950,"body_markdown":"You return `Flux.just` before the actual subscription receive anything. And, as mentioned above, don&#39;t use `subscribe` if you need the actual data.","body":"You return <code>Flux.just</code> before the actual subscription receive anything. And, as mentioned above, don&#39;t use <code>subscribe</code> if you need the actual data."}],"owner":{"account_id":28974126,"reputation":11,"user_id":22193666,"display_name":"M F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688796201,"creation_date":1688796152,"question_id":76641581,"body_markdown":"I created an endpoint called `getApps`, that gets data from four different endpoints. `GetApps` takes the data from these four endpoints, transforms them into a unified `Apps` object then returns a list of these objects with Flux wrapped around it `Flux.just(List&lt;Apps&gt;)`. However, when calling `getApps` I&#39;m not seeing any data being returned, only an empty list.\r\n\r\nHere is my code in Kotlin. :\r\n```\r\nfun getApps(id: Long): Flux&lt;Response&gt; {\r\n        val apps = mutableListOf&lt;Apps&gt;()\r\n        var app1Success = SuccessEnum.NOT_QUERIED\r\n        var app2Success = SuccessEnum.NOT_QUERIED\r\n        var app3Success = SuccessEnum.NOT_QUERIED\r\n        var app4Success = SuccessEnum.NOT_QUERIED\r\n\r\n\r\n        //These call other endpoints using webclient.get(), which return Flux responses.\r\n        val app1Response: Flux&lt;app1Response&gt; = fetchApps1Response(id)\r\n        val app2Response: Flux&lt;app2Response&gt; = fetchApps2Response(id)\r\n        val app3Response: Flux&lt;app3Response&gt; = fetchApps3Response(id)\r\n        val app4Response: Flux&lt;app4Response&gt; = fetchApps4Response(id)\r\n\r\n        val app1List = app1Response.collectList()\r\n        val app2List = app2Response.collectList()\r\n        val app3List = app3Response.collectList()\r\n        val app4List = app4Response.collectList()\r\n\r\n        app1List.subscribe { app1Res -&gt;\r\n            val app1SuccessAndAppList = processApps(app1Res, id)\r\n            app1Success = app1SuccessAndAppList._1\r\n            apps.addAll(app1SuccessAndAppList._2)\r\n        }\r\n\r\n        app2List.subscribe { app2Res -&gt;\r\n            val app2SuccessAndAppList = processApps(app2Res, id)\r\n            app2Success = app2SuccessAndAppList._1\r\n            apps.addAll(app2SuccessAndAppList._2)\r\n        }\r\n\r\n        app3List.subscribe { app3Res -&gt;\r\n            val app3SuccessAndAppList = processApps(app3Res, id)\r\n            app3Success = app3SuccessAndAppList._1\r\n            apps.addAll(app3SuccessAndAppList._2)\r\n        }\r\n\r\n        app4List.subscribe { app4Res -&gt;\r\n            val app4SuccessAndAppList = processApps(app4Res, id)\r\n            app4Success = app4SuccessAndAppList._1\r\n            apps.addAll(app4SuccessAndAppList._2)\r\n        }\r\n        \r\n        return Flux.just(Response(\r\n            app1Success = app1Success,\r\n            app2Success = app2Success,\r\n            app3Success = app3Success,\r\n            app4Success = app4Success,\r\n            apps = apps\r\n        ))\r\n    }\r\n```\r\n\r\nI&#39;m also seeing that the SuccessEnum is being returned as SuccessEnum.NOT_QUERIED. This leads me to believe that I am just returning a Response object with the initialized values and not the data that is returned from the four other endpoints. Is it possible to return a flux object when I am waiting for the four other endpoints to return data? If so does anyone know where I went wrong? Thanks!\r\n\r\nNote: I added a CountDownLatch and for each response I do a latch.countDown(). But this makes me wait for all the responses from the endpoints.","title":"Nested Flux Endpoint Calls","body":"<p>I created an endpoint called <code>getApps</code>, that gets data from four different endpoints. <code>GetApps</code> takes the data from these four endpoints, transforms them into a unified <code>Apps</code> object then returns a list of these objects with Flux wrapped around it <code>Flux.just(List&lt;Apps&gt;)</code>. However, when calling <code>getApps</code> I'm not seeing any data being returned, only an empty list.</p>\n<p>Here is my code in Kotlin. :</p>\n<pre><code>fun getApps(id: Long): Flux&lt;Response&gt; {\n        val apps = mutableListOf&lt;Apps&gt;()\n        var app1Success = SuccessEnum.NOT_QUERIED\n        var app2Success = SuccessEnum.NOT_QUERIED\n        var app3Success = SuccessEnum.NOT_QUERIED\n        var app4Success = SuccessEnum.NOT_QUERIED\n\n\n        //These call other endpoints using webclient.get(), which return Flux responses.\n        val app1Response: Flux&lt;app1Response&gt; = fetchApps1Response(id)\n        val app2Response: Flux&lt;app2Response&gt; = fetchApps2Response(id)\n        val app3Response: Flux&lt;app3Response&gt; = fetchApps3Response(id)\n        val app4Response: Flux&lt;app4Response&gt; = fetchApps4Response(id)\n\n        val app1List = app1Response.collectList()\n        val app2List = app2Response.collectList()\n        val app3List = app3Response.collectList()\n        val app4List = app4Response.collectList()\n\n        app1List.subscribe { app1Res -&gt;\n            val app1SuccessAndAppList = processApps(app1Res, id)\n            app1Success = app1SuccessAndAppList._1\n            apps.addAll(app1SuccessAndAppList._2)\n        }\n\n        app2List.subscribe { app2Res -&gt;\n            val app2SuccessAndAppList = processApps(app2Res, id)\n            app2Success = app2SuccessAndAppList._1\n            apps.addAll(app2SuccessAndAppList._2)\n        }\n\n        app3List.subscribe { app3Res -&gt;\n            val app3SuccessAndAppList = processApps(app3Res, id)\n            app3Success = app3SuccessAndAppList._1\n            apps.addAll(app3SuccessAndAppList._2)\n        }\n\n        app4List.subscribe { app4Res -&gt;\n            val app4SuccessAndAppList = processApps(app4Res, id)\n            app4Success = app4SuccessAndAppList._1\n            apps.addAll(app4SuccessAndAppList._2)\n        }\n        \n        return Flux.just(Response(\n            app1Success = app1Success,\n            app2Success = app2Success,\n            app3Success = app3Success,\n            app4Success = app4Success,\n            apps = apps\n        ))\n    }\n</code></pre>\n<p>I'm also seeing that the SuccessEnum is being returned as SuccessEnum.NOT_QUERIED. This leads me to believe that I am just returning a Response object with the initialized values and not the data that is returned from the four other endpoints. Is it possible to return a flux object when I am waiting for the four other endpoints to return data? If so does anyone know where I went wrong? Thanks!</p>\n<p>Note: I added a CountDownLatch and for each response I do a latch.countDown(). But this makes me wait for all the responses from the endpoints.</p>\n"},{"tags":["java","spring","hibernate","postgresql","jpa"],"comments":[{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1462969026,"post_id":37162291,"comment_id":61860131,"body_markdown":"Please post DDL of entity ConnectwiseAgreementAdditions","body":"Please post DDL of entity ConnectwiseAgreementAdditions"},{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1462970975,"post_id":37162291,"comment_id":61861693,"body_markdown":"You are stuffing numerical prices with 2 digits after the dot into a BigDecimal with no digits after the dot, this cannot possibly be what works well.","body":"You are stuffing numerical prices with 2 digits after the dot into a BigDecimal with no digits after the dot, this cannot possibly be what works well."},{"owner":{"account_id":1623645,"reputation":35038,"user_id":1499698,"display_name":"pozs"},"score":1,"creation_date":1462971655,"post_id":37162291,"comment_id":61862336,"body_markdown":"Please check your hibernate dialect. PostgreSQL has no `double` type indeed, it is called `double precision`. Also: `Integer agreementId` has a column definition of `NUMERIC(18,2)` which makes little sense (but may work), and `boolean normalize` should have something like `columnDefinition = &quot;BOOLEAN DEFAULT false&quot;`, not just the default.","body":"Please check your hibernate dialect. PostgreSQL has no <code>double</code> type indeed, it is called <code>double precision</code>. Also: <code>Integer agreementId</code> has a column definition of <code>NUMERIC(18,2)</code> which makes little sense (but may work), and <code>boolean normalize</code> should have something like <code>columnDefinition = &quot;BOOLEAN DEFAULT false&quot;</code>, not just the default."},{"owner":{"account_id":4310403,"reputation":4362,"user_id":3886053,"display_name":"Ezequiel Tolnay"},"score":0,"creation_date":1463016279,"post_id":37162291,"comment_id":61886018,"body_markdown":"You can use the datatype float, which a shorthand alias for double precision.","body":"You can use the datatype float, which a shorthand alias for double precision."}],"answers":[{"tags":[],"owner":{"account_id":6841340,"reputation":236,"user_id":10578260,"display_name":"Guilherme Silva Sousa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688796172,"creation_date":1688796172,"answer_id":76641584,"question_id":37162291,"body_markdown":"Simple include this in the **application.properties**:\r\n\r\n`spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL95Dialect`","title":"My query does not work. Type &quot;double&quot; does not exist","body":"<p>Simple include this in the <strong>application.properties</strong>:</p>\n<p><code>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL95Dialect</code></p>\n"}],"owner":{"account_id":6362915,"reputation":998,"user_id":4937841,"accept_rate":65,"display_name":"DamienMiheev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688796172,"creation_date":1462968612,"question_id":37162291,"body_markdown":"I tried that:\r\n\r\n    @Query(&quot;SELECT AVG(a.unitPrice) FROM ConnectwiseAgreementAdditions a WHERE a.agreementId = :agreementId &quot; +\r\n            &quot;AND a.productId IN (SELECT p.id FROM ConnectwiseProductFindResult p &quot; +\r\n            &quot;WHERE LOWER(p.subCategory) LIKE LOWER(&#39;%server%&#39;) &quot; +\r\n            &quot;OR LOWER(p.subCategory) LIKE LOWER(&#39;%workstation%&#39;))&quot;)\r\n    BigDecimal geAgreementDevicetUnitPrice(@Param(&quot;agreementId&quot;) Integer agreementId);\r\n\r\nBut i have exception: \r\n\r\n2016-05-11 14:58:05.773 ERROR 28016 --- [main] o.h.e.j.s.SqlExceptionHelper             : ERROR: type &quot;double&quot; does not exist\r\n  Position: 44\r\nException in thread &quot;main&quot; org.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nWhat is wrong?\r\nI use Postgresql driver.\r\n\r\n**UPDATE**\r\nMy entity:\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;connectwise_agreement_additions&quot;)\r\n    public class ConnectwiseAgreementAdditions {\r\n    @Id\r\n    @Column\r\n    private Integer id;\r\n\r\n    @Column(columnDefinition = &quot;DEFAULT false&quot;)\r\n    private boolean normalize = false;\r\n\r\n    @Column(name = &quot;agreement_id&quot;, columnDefinition = &quot;NUMERIC(18,2)&quot;)\r\n    private Integer agreementId;\r\n\r\n    @Column(name = &quot;product_id&quot;)\r\n    private Integer productId;\r\n\r\n    @Column(name = &quot;unit_price&quot;, columnDefinition = &quot;NUMERIC(18,2)&quot;)\r\n    private BigDecimal unitPrice;\r\n    }\r\n\r\n","title":"My query does not work. Type &quot;double&quot; does not exist","body":"<p>I tried that:</p>\n\n<pre><code>@Query(\"SELECT AVG(a.unitPrice) FROM ConnectwiseAgreementAdditions a WHERE a.agreementId = :agreementId \" +\n        \"AND a.productId IN (SELECT p.id FROM ConnectwiseProductFindResult p \" +\n        \"WHERE LOWER(p.subCategory) LIKE LOWER('%server%') \" +\n        \"OR LOWER(p.subCategory) LIKE LOWER('%workstation%'))\")\nBigDecimal geAgreementDevicetUnitPrice(@Param(\"agreementId\") Integer agreementId);\n</code></pre>\n\n<p>But i have exception: </p>\n\n<p>2016-05-11 14:58:05.773 ERROR 28016 --- [main] o.h.e.j.s.SqlExceptionHelper             : ERROR: type \"double\" does not exist\n  Position: 44\nException in thread \"main\" org.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n\n<p>What is wrong?\nI use Postgresql driver.</p>\n\n<p><strong>UPDATE</strong>\nMy entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"connectwise_agreement_additions\")\npublic class ConnectwiseAgreementAdditions {\n@Id\n@Column\nprivate Integer id;\n\n@Column(columnDefinition = \"DEFAULT false\")\nprivate boolean normalize = false;\n\n@Column(name = \"agreement_id\", columnDefinition = \"NUMERIC(18,2)\")\nprivate Integer agreementId;\n\n@Column(name = \"product_id\")\nprivate Integer productId;\n\n@Column(name = \"unit_price\", columnDefinition = \"NUMERIC(18,2)\")\nprivate BigDecimal unitPrice;\n}\n</code></pre>\n"},{"tags":["java","geotools","geopackage"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1688799867,"post_id":76641542,"comment_id":135125028,"body_markdown":"That is a Java version or lib mismatch. `I download the GeoTools jars`, probably the wrong one. You should go with maven or similiar https://docs.geotools.org/stable/userguide/tutorial/quickstart/netbeans.html","body":"That is a Java version or lib mismatch. <code>I download the GeoTools jars</code>, probably the wrong one. You should go with maven or similiar <a href=\"https://docs.geotools.org/stable/userguide/tutorial/quickstart/netbeans.html\" rel=\"nofollow noreferrer\">docs.geotools.org/stable/userguide/tutorial/quickstart/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688801127,"post_id":76641542,"comment_id":135125109,"body_markdown":"&quot;USJ_hranice_0.gpkg&quot;.  should be the fully qualified class name of which it should be a .class but without the .class extension and  it also must have all its hierarchy names. If it is in a .jar the jar should been notified on the startup command line so getResource can look inside it for the class. If your resource is a resource not a class then it should been package in (for web server .war)  the META-INF directory and perhaps some notification in the .jar manifest with it accord the rules for jars, or in a special folder in the jar packaging structure e.g. named &quot;resources&quot;","body":"&quot;USJ_hranice_0.gpkg&quot;.  should be the fully qualified class name of which it should be a .class but without the .class extension and  it also must have all its hierarchy names. If it is in a .jar the jar should been notified on the startup command line so getResource can look inside it for the class. If your resource is a resource not a class then it should been package in (for web server .war)  the META-INF directory and perhaps some notification in the .jar manifest with it accord the rules for jars, or in a special folder in the jar packaging structure e.g. named &quot;resources&quot;"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688801852,"post_id":76641542,"comment_id":135125163,"body_markdown":"Opening a GeoPackage.  http://www.geopackage.org/guidance/getting-started.html.     The .gpkg file is for use with SQLite fdtabase","body":"Opening a GeoPackage.  <a href=\"http://www.geopackage.org/guidance/getting-started.html\" rel=\"nofollow noreferrer\">geopackage.org/guidance/getting-started.html</a>.     The .gpkg file is for use with SQLite fdtabase"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1688812144,"post_id":76641542,"comment_id":135126125,"body_markdown":"https://gis.stackexchange.com/questions/445716/bulk-writing-to-geopackage-with-geotools - contains a pretty good example - as @PeterMmm says you&#39;ll want to use Maven and a pom file to handle the dependencies required for a GeoTools project.","body":"<a href=\"https://gis.stackexchange.com/questions/445716/bulk-writing-to-geopackage-with-geotools\" title=\"bulk writing to geopackage with geotools\">gis.stackexchange.com/questions/445716/&hellip;</a> - contains a pretty good example - as @PeterMmm says you&#39;ll want to use Maven and a pom file to handle the dependencies required for a GeoTools project."}],"owner":{"account_id":28974249,"reputation":1,"user_id":22193765,"display_name":"locon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688795325,"creation_date":1688795050,"question_id":76641542,"body_markdown":"I have two things I want to perform with geopackage files. Only vector polygone layers I want to work with.\r\n1/ access specific layer within given geopackage and retrieve rows from it (attribute table when working in QGIS)\r\n2/ I have coordinates and I want to search for polygone in which the point exists, in specific layer of geopackage. I want to retrieve whole row of such polygone (like in QGIS layer&#39;s attribute table).\r\nI know the GeoTools covers this functionality, but never used such geo library and I do not know how to work with it.\r\nWhen I copied some examples from web, there are still occuring some errors.\r\nI work in NetBeans, I download the GeoTools jars, created new Library and added it to my project.\r\n[project explorer](https://i.stack.imgur.com/DzTya.png)\r\nCan anybody give me complete functioning example?\r\n\r\nI tried this piece of code:\r\n````\r\nGeoPackageReader reader;\r\n        try {\r\n            reader = new GeoPackageReader(getClass().getResource(&quot;USJ_hranice_0.gpkg&quot;), null);\r\n            System.out.println(Arrays.asList(reader.getGridCoverageNames()));\r\n        } catch (IOException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n````\r\nAnd this error occurs:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/measure/UnconvertibleException\r\n\tat org.geotools.referencing.crs.DefaultEngineeringCRS.&lt;clinit&gt;(DefaultEngineeringCRS.java:78)\r\n\tat org.geotools.referencing.factory.epsg.CartesianAuthorityFactory.&lt;clinit&gt;(CartesianAuthorityFactory.java:54)\r\n\tat org.geotools.coverage.grid.io.AbstractGridFormat.&lt;clinit&gt;(AbstractGridFormat.java:89)\r\n\tat org.geotools.geopkg.mosaic.GeoPackageReader.&lt;init&gt;(GeoPackageReader.java:102)\r\n\tat Main.Test.test(Test.java:22)\r\n\tat Main.Main.main(Main.java:20)\r\nCaused by: java.lang.ClassNotFoundException: javax.measure.UnconvertibleException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 6 more\r\n```\r\n","title":"Can anybody give me example of processing GeoPackage file with Geotools?","body":"<p>I have two things I want to perform with geopackage files. Only vector polygone layers I want to work with.\n1/ access specific layer within given geopackage and retrieve rows from it (attribute table when working in QGIS)\n2/ I have coordinates and I want to search for polygone in which the point exists, in specific layer of geopackage. I want to retrieve whole row of such polygone (like in QGIS layer's attribute table).\nI know the GeoTools covers this functionality, but never used such geo library and I do not know how to work with it.\nWhen I copied some examples from web, there are still occuring some errors.\nI work in NetBeans, I download the GeoTools jars, created new Library and added it to my project.\n<a href=\"https://i.stack.imgur.com/DzTya.png\" rel=\"nofollow noreferrer\">project explorer</a>\nCan anybody give me complete functioning example?</p>\n<p>I tried this piece of code:</p>\n<pre><code>GeoPackageReader reader;\n        try {\n            reader = new GeoPackageReader(getClass().getResource(&quot;USJ_hranice_0.gpkg&quot;), null);\n            System.out.println(Arrays.asList(reader.getGridCoverageNames()));\n        } catch (IOException ex) {\n            System.out.println(ex.getMessage());\n        }\n</code></pre>\n<p>And this error occurs:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/measure/UnconvertibleException\n    at org.geotools.referencing.crs.DefaultEngineeringCRS.&lt;clinit&gt;(DefaultEngineeringCRS.java:78)\n    at org.geotools.referencing.factory.epsg.CartesianAuthorityFactory.&lt;clinit&gt;(CartesianAuthorityFactory.java:54)\n    at org.geotools.coverage.grid.io.AbstractGridFormat.&lt;clinit&gt;(AbstractGridFormat.java:89)\n    at org.geotools.geopkg.mosaic.GeoPackageReader.&lt;init&gt;(GeoPackageReader.java:102)\n    at Main.Test.test(Test.java:22)\n    at Main.Main.main(Main.java:20)\nCaused by: java.lang.ClassNotFoundException: javax.measure.UnconvertibleException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","android","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688920811,"post_id":76641406,"comment_id":135136169,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28974064,"reputation":1,"user_id":22193620,"display_name":"Gabriel432135"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688791625,"creation_date":1688791514,"question_id":76641406,"body_markdown":"I&#39;m trying to implement a camera preview. I first tried to do this with the Camera2 api. Until the preview itself was fine, but the log showed that the camera was being opened at 1280x960 resolution: &quot;Starting camera: 1280x960 -&gt; NV21&quot; which is the 4:3 resolution of the emulator camera closer to 1280x720, and just cropping the view. Even with the latter of 1280x720 being one of those returned by &quot;Characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP)&quot;. I&#39;ve done everything but every resolution I set, it ignores it and chooses the closest 4:3. I switched to CameraX, but the &quot;.setTargetResolution&quot; is giving the same problem, even though I followed the [google tutorial][1]. And it&#39;s not just on the emulator, I tested it on a real device and that happened too. I downloaded an app and changed the camera resolution and the log showed &quot;Starting camera: 1280x720 -&gt; NV21&quot;. That is, it is possible, but I&#39;m not getting it.\r\n\r\nI&#39;ve already tested it on real devices, I&#39;ve already switched from camera2 to cameraX, but even so, the camera continues to start only at 4:3 resolutions and cuts the view to 16:9\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/camerax-getting-started?hl=pt-%20br","title":"Only 4:3 resolutions are accepted by CameraX&#39;s &quot;setTargetResolution&quot; or Camera2&#39;s &quot;setDefaultBufferSize&quot;","body":"<p>I'm trying to implement a camera preview. I first tried to do this with the Camera2 api. Until the preview itself was fine, but the log showed that the camera was being opened at 1280x960 resolution: &quot;Starting camera: 1280x960 -&gt; NV21&quot; which is the 4:3 resolution of the emulator camera closer to 1280x720, and just cropping the view. Even with the latter of 1280x720 being one of those returned by &quot;Characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP)&quot;. I've done everything but every resolution I set, it ignores it and chooses the closest 4:3. I switched to CameraX, but the &quot;.setTargetResolution&quot; is giving the same problem, even though I followed the <a href=\"https://developer.android.com/codelabs/camerax-getting-started?hl=pt-%20br\" rel=\"nofollow noreferrer\">google tutorial</a>. And it's not just on the emulator, I tested it on a real device and that happened too. I downloaded an app and changed the camera resolution and the log showed &quot;Starting camera: 1280x720 -&gt; NV21&quot;. That is, it is possible, but I'm not getting it.</p>\n<p>I've already tested it on real devices, I've already switched from camera2 to cameraX, but even so, the camera continues to start only at 4:3 resolutions and cuts the view to 16:9</p>\n"},{"tags":["java","spring","spring-boot","spring-validator","spring-validation"],"owner":{"account_id":13637473,"reputation":1,"user_id":9838126,"display_name":"QIAOMO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688790810,"creation_date":1688788681,"question_id":76641297,"body_markdown":"```java\r\n@Data\r\npublic class TestData {\r\n\r\n    private Integer x;\r\n    private Integer y;\r\n\r\n    @AssertTrue\r\n    public boolean isValid() {\r\n        String message;\r\n\r\n        if (x &gt; y) {\r\n            message = &quot;message1...&quot;; // here\r\n            return false;\r\n        }\r\n        else if (x &lt; y) {\r\n            message = &quot;messsage2...&quot; // and here\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI know it&#39;s possible to set the message in the `@AssertTrue` annotation (`@AssertTrue(message = &quot;default messsage&quot;)`), but I wonder if there is a way to dynamically set the message at runtime.","title":"How can I custom spring validation message at runtime?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class TestData {\n\n    private Integer x;\n    private Integer y;\n\n    @AssertTrue\n    public boolean isValid() {\n        String message;\n\n        if (x &gt; y) {\n            message = &quot;message1...&quot;; // here\n            return false;\n        }\n        else if (x &lt; y) {\n            message = &quot;messsage2...&quot; // and here\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n}\n</code></pre>\n<p>I know it's possible to set the message in the <code>@AssertTrue</code> annotation (<code>@AssertTrue(message = &quot;default messsage&quot;)</code>), but I wonder if there is a way to dynamically set the message at runtime.</p>\n"},{"tags":["java","multithreading","jcstress"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1664113724,"post_id":73844340,"comment_id":130392309,"body_markdown":"I think your test is choking on the JVM version because of the StressXXX argument problems. Can you try it with e.g. Java 19?","body":"I think your test is choking on the JVM version because of the StressXXX argument problems. Can you try it with e.g. Java 19?"},{"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"score":0,"creation_date":1664120029,"post_id":73844340,"comment_id":130393644,"body_markdown":"@pveentjer tried. Not working","body":"@pveentjer tried. Not working"}],"answers":[{"tags":[],"owner":{"account_id":12671791,"reputation":624,"user_id":9209083,"display_name":"Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688790493,"creation_date":1688790181,"answer_id":76641359,"question_id":73844340,"body_markdown":"I had the same problem, switching to Java 11,17,19 didn&#39;t help me either. \r\nThe problem disappeared when I run jcstress in generated project from maven archetype \r\n\r\n    mvn archetype:generate &quot;-DinteractiveMode=false&quot; &quot;-DarchetypeGroupId=org.openjdk.jcstress&quot; &quot;-DarchetypeArtifactId=jcstress-java-test-archetype&quot; &quot;-DarchetypeVersion=0.4&quot; &quot;-DgroupId=org.sample&quot; &quot;-DartifactId=test&quot; &quot;-Dversion=1.0&quot;\r\nand use jar\r\n\r\n    java -jar target/jcstress.jar -t org.sample.MyConcurrencyTest\r\n\r\n[Using jcstress As Separate Dependency][1]\r\n\r\n\r\n[Running first JCStress test][2]\r\n\r\n&lt;hr&gt;\r\n\r\nSince 2022, IntelliJ has plugin [JCStress][3], but it looks like it doesn&#39;t work, neither for custom projects nor for cloned jcstress [git project][4]. It seems pretty simple, just run the test as if it would be the main method. But I didn&#39;t find the way how to fix it\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jcstress#using-jcstress-as-separate-dependency\r\n  [2]: https://stackoverflow.com/questions/53458367/running-first-jcstress-test/76635904#76635904\r\n  [3]: https://plugins.jetbrains.com/plugin/19779-jcstress\r\n  [4]: https://github.com/openjdk/jcstress\r\n  [5]: https://i.stack.imgur.com/oZGwb.png","title":"faile in using jcstress due to tests can&#39;t be found","body":"<p>I had the same problem, switching to Java 11,17,19 didn't help me either.\nThe problem disappeared when I run jcstress in generated project from maven archetype</p>\n<pre><code>mvn archetype:generate &quot;-DinteractiveMode=false&quot; &quot;-DarchetypeGroupId=org.openjdk.jcstress&quot; &quot;-DarchetypeArtifactId=jcstress-java-test-archetype&quot; &quot;-DarchetypeVersion=0.4&quot; &quot;-DgroupId=org.sample&quot; &quot;-DartifactId=test&quot; &quot;-Dversion=1.0&quot;\n</code></pre>\n<p>and use jar</p>\n<pre><code>java -jar target/jcstress.jar -t org.sample.MyConcurrencyTest\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jcstress#using-jcstress-as-separate-dependency\" rel=\"nofollow noreferrer\">Using jcstress As Separate Dependency</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53458367/running-first-jcstress-test/76635904#76635904\">Running first JCStress test</a></p>\n<hr>\n<p>Since 2022, IntelliJ has plugin <a href=\"https://plugins.jetbrains.com/plugin/19779-jcstress\" rel=\"nofollow noreferrer\">JCStress</a>, but it looks like it doesn't work, neither for custom projects nor for cloned jcstress <a href=\"https://github.com/openjdk/jcstress\" rel=\"nofollow noreferrer\">git project</a>. It seems pretty simple, just run the test as if it would be the main method. But I didn't find the way how to fix it</p>\n<p><a href=\"https://i.stack.imgur.com/oZGwb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oZGwb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76641359,"answer_count":1,"score":0,"last_activity_date":1688790493,"creation_date":1664107342,"question_id":73844340,"body_markdown":"I try to use jcstress to do some test in IDEA\r\nand here is the configuration in IDEA\r\n[![enter image description here][1]][1]\r\n\r\nthe code is not the point, but i will post it anyway\r\n```java\r\n@JCStressTest\r\n@Outcome(id={&quot;1&quot;,&quot;4&quot;},expect = Expect.ACCEPTABLE,desc=&quot;ok&quot;)\r\n@Outcome(id=&quot;0&quot;,expect = Expect.ACCEPTABLE_INTERESTING,desc = &quot;danger&quot;)\r\n@State\r\npublic class OrderingTest01 {\r\n    int num = 0;\r\n    boolean ready = false;\r\n\r\n    @Actor\r\n    public void actor1(IJ_Result r){\r\n        if(ready){\r\n            r.r1 = num + num;\r\n        }else{\r\n            r.r1 =1;\r\n        }\r\n    }\r\n\r\n    @Actor\r\n    public void actor2(IJ_Result r){\r\n        num =2;\r\n        ready = true;\r\n    }\r\n}\r\n```\r\n\r\nI got following result when i run it\r\n```\r\nJava Concurrency Stress Tests\r\n---------------------------------------------------------------------------------\r\nRev: a0cc333318f0a3e5, built by shade with 11.0.8-testing at 2020-10-14T09:49:41Z\r\n\r\nBurning up to figure out the exact CPU count....... done!\r\n\r\nProbing the target OS:\r\n (all failures are non-fatal, but may affect testing accuracy)\r\n\r\n----- [FAILED] Trying to set affinity with taskset\r\nCannot run program &quot;taskset&quot;: error=2, No such file or directory\r\n\r\nInitializing and probing the target VM: \r\n (all failures are non-fatal, but may affect testing accuracy)\r\n\r\n----- [OK] Unlocking diagnostic VM options\r\n----- [OK] Trimming down the default VM heap size to 1/16-th of max RAM\r\n----- [OK] Trimming down the number of compiler threads\r\n----- [OK] Trimming down the number of parallel GC threads\r\n----- [OK] Trimming down the number of concurrent GC threads\r\n----- [OK] Trimming down the number of G1 concurrent refinement GC threads\r\n----- [OK] Testing @Contended works on all results and infra objects\r\n----- [OK] Unlocking Whitebox API for online de-optimization: all methods\r\n----- [OK] Unlocking Whitebox API for online de-optimization: selected methods\r\n----- [FAILED] Unlocking C2 local code motion randomizer\r\nError: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n----- [FAILED] Unlocking C2 global code motion randomizer\r\nError: VM option &#39;StressGCM&#39; is develop and is available only in debug version of VM.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n----- [FAILED] Unlocking C2 iterative global value numbering randomizer\r\nUnrecognized VM option &#39;StressIGVN&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n----- [OK] Testing allocation profiling\r\n----- [FAILED] Trying Thread.onSpinWait\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: java.lang.Thread.onSpinWait()V\r\n\tat org.openjdk.jcstress.vm.ThreadSpinWaitTestMain.main(ThreadSpinWaitTestMain.java:30)\r\n\r\n\r\nProbing what VM modes are available:\r\n (failures are non-fatal, but may miss some interesting cases)\r\n\r\n----- [OK] [-Xint]\r\n----- [OK] [-XX:TieredStopAtLevel=1]\r\n----- [OK] [-XX:-TieredCompilation]\r\n----- [OK] [-XX:-TieredCompilation]\r\n\r\n  Hardware CPUs in use: 16, using plain hard busywait.\r\n  Test preset mode: &quot;default&quot;\r\n  Writing the test results to &quot;jcstress-results-2022-09-25-19-43-58.bin.gz&quot;\r\n  Parsing results to &quot;results/&quot;\r\n  Running each test matching &quot;OrderingTest01&quot; for 1 forks, 5 iterations, 1000 ms each\r\n  Each JVM would execute at most 5 tests in the row.\r\n  Solo stride size will be autobalanced within [10, 10000] elements, but taking no more than 100 Mb.\r\n\r\nFATAL: No matching tests.\r\n\r\n```\r\n\r\nShouldn&#39;t it be like giving some `Run Results` and a file named index.html?\r\nWhat&#39;s the mean of `FATAL: No matching tests.`??? \r\n\r\nOr is there something wrong with the configuration???\r\n\r\n  [1]: https://i.stack.imgur.com/2dGnD.png\r\n\r\n","title":"faile in using jcstress due to tests can&#39;t be found","body":"<p>I try to use jcstress to do some test in IDEA\nand here is the configuration in IDEA\n<a href=\"https://i.stack.imgur.com/2dGnD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dGnD.png\" alt=\"enter image description here\" /></a></p>\n<p>the code is not the point, but i will post it anyway</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JCStressTest\n@Outcome(id={&quot;1&quot;,&quot;4&quot;},expect = Expect.ACCEPTABLE,desc=&quot;ok&quot;)\n@Outcome(id=&quot;0&quot;,expect = Expect.ACCEPTABLE_INTERESTING,desc = &quot;danger&quot;)\n@State\npublic class OrderingTest01 {\n    int num = 0;\n    boolean ready = false;\n\n    @Actor\n    public void actor1(IJ_Result r){\n        if(ready){\n            r.r1 = num + num;\n        }else{\n            r.r1 =1;\n        }\n    }\n\n    @Actor\n    public void actor2(IJ_Result r){\n        num =2;\n        ready = true;\n    }\n}\n</code></pre>\n<p>I got following result when i run it</p>\n<pre><code>Java Concurrency Stress Tests\n---------------------------------------------------------------------------------\nRev: a0cc333318f0a3e5, built by shade with 11.0.8-testing at 2020-10-14T09:49:41Z\n\nBurning up to figure out the exact CPU count....... done!\n\nProbing the target OS:\n (all failures are non-fatal, but may affect testing accuracy)\n\n----- [FAILED] Trying to set affinity with taskset\nCannot run program &quot;taskset&quot;: error=2, No such file or directory\n\nInitializing and probing the target VM: \n (all failures are non-fatal, but may affect testing accuracy)\n\n----- [OK] Unlocking diagnostic VM options\n----- [OK] Trimming down the default VM heap size to 1/16-th of max RAM\n----- [OK] Trimming down the number of compiler threads\n----- [OK] Trimming down the number of parallel GC threads\n----- [OK] Trimming down the number of concurrent GC threads\n----- [OK] Trimming down the number of G1 concurrent refinement GC threads\n----- [OK] Testing @Contended works on all results and infra objects\n----- [OK] Unlocking Whitebox API for online de-optimization: all methods\n----- [OK] Unlocking Whitebox API for online de-optimization: selected methods\n----- [FAILED] Unlocking C2 local code motion randomizer\nError: VM option 'StressLCM' is develop and is available only in debug version of VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n----- [FAILED] Unlocking C2 global code motion randomizer\nError: VM option 'StressGCM' is develop and is available only in debug version of VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n----- [FAILED] Unlocking C2 iterative global value numbering randomizer\nUnrecognized VM option 'StressIGVN'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n----- [OK] Testing allocation profiling\n----- [FAILED] Trying Thread.onSpinWait\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: java.lang.Thread.onSpinWait()V\n    at org.openjdk.jcstress.vm.ThreadSpinWaitTestMain.main(ThreadSpinWaitTestMain.java:30)\n\n\nProbing what VM modes are available:\n (failures are non-fatal, but may miss some interesting cases)\n\n----- [OK] [-Xint]\n----- [OK] [-XX:TieredStopAtLevel=1]\n----- [OK] [-XX:-TieredCompilation]\n----- [OK] [-XX:-TieredCompilation]\n\n  Hardware CPUs in use: 16, using plain hard busywait.\n  Test preset mode: &quot;default&quot;\n  Writing the test results to &quot;jcstress-results-2022-09-25-19-43-58.bin.gz&quot;\n  Parsing results to &quot;results/&quot;\n  Running each test matching &quot;OrderingTest01&quot; for 1 forks, 5 iterations, 1000 ms each\n  Each JVM would execute at most 5 tests in the row.\n  Solo stride size will be autobalanced within [10, 10000] elements, but taking no more than 100 Mb.\n\nFATAL: No matching tests.\n\n</code></pre>\n<p>Shouldn't it be like giving some <code>Run Results</code> and a file named index.html?\nWhat's the mean of <code>FATAL: No matching tests.</code>???</p>\n<p>Or is there something wrong with the configuration???</p>\n"},{"tags":["java","callback","telegram-bot"],"answers":[{"comments":[{"owner":{"account_id":25644832,"reputation":11,"user_id":22124017,"display_name":"Ahmed Mohamed"},"score":0,"creation_date":1688804879,"post_id":76641332,"comment_id":135125469,"body_markdown":"thank&#39;s .I already use v6.7.0. I think the additional check on `update.hasMessage()` will solve my problem as after some trials before your reply I found that placing the `handleCallback(update)`  call as the first line of `onUpdateReceived(Update update)` function worked fine and I didn&#39;t know why then. I think now I know why. Again thank you for your consideration.","body":"thank&#39;s .I already use v6.7.0. I think the additional check on <code>update.hasMessage()</code> will solve my problem as after some trials before your reply I found that placing the <code>handleCallback(update)</code>  call as the first line of <code>onUpdateReceived(Update update)</code> function worked fine and I didn&#39;t know why then. I think now I know why. Again thank you for your consideration."}],"tags":[],"owner":{"account_id":16012120,"reputation":91,"user_id":11555915,"display_name":"Samreach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688789477,"creation_date":1688789477,"answer_id":76641332,"question_id":76545421,"body_markdown":"Please use TelegramApiv 6.7.0, it supports new features of telegram API.\r\nAfter reading your code, there are some point was missing in `if(update.getMessage()...)` this will error. we should check `update.hasMessage()` first to prevent exception.\r\n\r\n--------\r\nAny ways, you can review my code, I wrote follow your structures.\r\n\r\n```java\r\n\r\npublic class InlineBot extends TelegramLongPollingBot {\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        if(update.hasMessage() &amp;&amp; update.getMessage().getText().equals(&quot;/menu&quot;)){ // check hasMessage first! if not check hasMessage(), it call getMessage(), it breaks into runtimeException\r\n            String chatId = String.valueOf(update.getMessage().getChatId());\r\n            sendMarkup(createMenuMarkup(), chatId);\r\n        } else if(update.hasCallbackQuery()){\r\n            System.out.println(&quot;Callback Received&quot;);\r\n            handleCallback(update);\r\n        }\r\n    }\r\n\r\n    private void sendMarkup(InlineKeyboardMarkup menuMarkup, String chatId) {\r\n        SendMessage sendMessage = new SendMessage();\r\n        sendMessage.setChatId(chatId);\r\n        sendMessage.setText(&quot;Please choose button below:&quot;); // if not set Text message, it won&#39;t send\r\n        sendMessage.setReplyMarkup(menuMarkup);\r\n        try {\r\n            execute(sendMessage);\r\n        } catch (TelegramApiException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return &quot;...&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return &quot;...&quot;;\r\n    }\r\n\r\n    private InlineKeyboardMarkup createMenuMarkup() {\r\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 1&quot;)\r\n                .callbackData(&quot;1&quot;)\r\n                .url(&quot;https://www.google.com&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 2&quot;)\r\n                .callbackData(&quot;2&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 3&quot;)\r\n                .callbackData(&quot;3&quot;)\r\n                .build();\r\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 4&quot;)\r\n                .callbackData(&quot;4&quot;)\r\n                .build();\r\n\r\n\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\r\n        inlineButtons.add(inlineKeyboardButtonList1);\r\n        inlineButtons.add(inlineKeyboardButtonList2);\r\n\r\n        return InlineKeyboardMarkup\r\n                .builder()\r\n                .keyboard(inlineButtons)\r\n                .build();\r\n    }\r\n\r\n    private void handleCallback(Update update) {\r\n        String callData = update.getCallbackQuery().getData();\r\n        String chatId = String.valueOf(update.getCallbackQuery().getMessage().getChatId());\r\n        System.out.println(callData);\r\n        switch (callData) {\r\n            case &quot;1&quot;:\r\n                sendMessage(&quot;You chose 1&quot;, chatId);\r\n                break;\r\n            case &quot;2&quot;:\r\n                sendMessage(&quot;You chose 2&quot;, chatId);\r\n                break;\r\n            case &quot;3&quot;:\r\n                sendMessage(&quot;You chose 3&quot;, chatId);\r\n                break;\r\n            case &quot;4&quot;:\r\n                sendMessage(&quot;You chose 4&quot;, chatId);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void sendMessage(String msg, String chatId) {\r\n        SendMessage sendMessage = new SendMessage(chatId, msg);\r\n        try {\r\n            execute(sendMessage);\r\n        } catch (TelegramApiException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI hope my code, it helps you to improve your code and handle error. Please read this [short blog][1] tutorial and try, you will get to know more about the framework.\r\n\r\n\r\n  [1]: https://monsterdeveloper.gitbook.io/java-telegram-bot-tutorial/","title":"Issue with CallbackQuery in Telegram bot","body":"<p>Please use TelegramApiv 6.7.0, it supports new features of telegram API.\nAfter reading your code, there are some point was missing in <code>if(update.getMessage()...)</code> this will error. we should check <code>update.hasMessage()</code> first to prevent exception.</p>\n<hr />\n<p>Any ways, you can review my code, I wrote follow your structures.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class InlineBot extends TelegramLongPollingBot {\n    @Override\n    public void onUpdateReceived(Update update) {\n        if(update.hasMessage() &amp;&amp; update.getMessage().getText().equals(&quot;/menu&quot;)){ // check hasMessage first! if not check hasMessage(), it call getMessage(), it breaks into runtimeException\n            String chatId = String.valueOf(update.getMessage().getChatId());\n            sendMarkup(createMenuMarkup(), chatId);\n        } else if(update.hasCallbackQuery()){\n            System.out.println(&quot;Callback Received&quot;);\n            handleCallback(update);\n        }\n    }\n\n    private void sendMarkup(InlineKeyboardMarkup menuMarkup, String chatId) {\n        SendMessage sendMessage = new SendMessage();\n        sendMessage.setChatId(chatId);\n        sendMessage.setText(&quot;Please choose button below:&quot;); // if not set Text message, it won't send\n        sendMessage.setReplyMarkup(menuMarkup);\n        try {\n            execute(sendMessage);\n        } catch (TelegramApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public String getBotToken() {\n        return &quot;...&quot;;\n    }\n\n    @Override\n    public String getBotUsername() {\n        return &quot;...&quot;;\n    }\n\n    private InlineKeyboardMarkup createMenuMarkup() {\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\n\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 1&quot;)\n                .callbackData(&quot;1&quot;)\n                .url(&quot;https://www.google.com&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 2&quot;)\n                .callbackData(&quot;2&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 3&quot;)\n                .callbackData(&quot;3&quot;)\n                .build();\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 4&quot;)\n                .callbackData(&quot;4&quot;)\n                .build();\n\n\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\n        inlineButtons.add(inlineKeyboardButtonList1);\n        inlineButtons.add(inlineKeyboardButtonList2);\n\n        return InlineKeyboardMarkup\n                .builder()\n                .keyboard(inlineButtons)\n                .build();\n    }\n\n    private void handleCallback(Update update) {\n        String callData = update.getCallbackQuery().getData();\n        String chatId = String.valueOf(update.getCallbackQuery().getMessage().getChatId());\n        System.out.println(callData);\n        switch (callData) {\n            case &quot;1&quot;:\n                sendMessage(&quot;You chose 1&quot;, chatId);\n                break;\n            case &quot;2&quot;:\n                sendMessage(&quot;You chose 2&quot;, chatId);\n                break;\n            case &quot;3&quot;:\n                sendMessage(&quot;You chose 3&quot;, chatId);\n                break;\n            case &quot;4&quot;:\n                sendMessage(&quot;You chose 4&quot;, chatId);\n                break;\n            default:\n                break;\n        }\n    }\n\n    private void sendMessage(String msg, String chatId) {\n        SendMessage sendMessage = new SendMessage(chatId, msg);\n        try {\n            execute(sendMessage);\n        } catch (TelegramApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n</code></pre>\n<p>I hope my code, it helps you to improve your code and handle error. Please read this <a href=\"https://monsterdeveloper.gitbook.io/java-telegram-bot-tutorial/\" rel=\"nofollow noreferrer\">short blog</a> tutorial and try, you will get to know more about the framework.</p>\n"}],"owner":{"account_id":25644832,"reputation":11,"user_id":22124017,"display_name":"Ahmed Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688789477,"creation_date":1687599376,"question_id":76545421,"body_markdown":"I&#39;m trying to create an Inline Keyboard Markup in my telegram bot using java (Maven project using TelegramBotsApi v 6.7.0). This includes handling call back queries from user to take some decision later.\r\n\r\nThe Inline keyboard code is \r\n```\r\n private InlineKeyboardMarkup createMenuMarkup() {\r\n\r\n\r\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 1&quot;)\r\n                .callbackData(&quot;1&quot;)\r\n                .url(&quot;https://www.google.com&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 2&quot;)\r\n                .callbackData(&quot;2&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 3&quot;)\r\n                .callbackData(&quot;3&quot;)\r\n                .build();\r\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 4&quot;)\r\n                .callbackData(&quot;4&quot;)\r\n                .build();\r\n\r\n\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\r\n        inlineButtons.add(inlineKeyboardButtonList1);\r\n        inlineButtons.add(inlineKeyboardButtonList2);\r\n\r\n        return InlineKeyboardMarkup\r\n                .builder()\r\n                .keyboard(inlineButtons)\r\n                .build();\r\n    }\r\n```\r\n\r\nand to handle the call back I used if statement with a handling function\r\n\r\n\r\n```\r\nelse if(update.getMessage().getText().equals(&quot;/menu&quot;))\r\n        {\r\n            sendMarkup(createMenuMarkup());\r\n        }\r\n        else if(update.hasCallbackQuery())\r\n        {\r\n            **System.out.println(&quot;Callback Received&quot;);\r\n            handleCallback(update);**\r\n        }\r\n```\r\n\r\n\r\n```\r\n    private void handleCallback(Update update)\r\n    {\r\n        String callData = update.getCallbackQuery().getData();\r\n        System.out.println(callData);\r\n        switch (callData)\r\n        {\r\n            case &quot;1&quot;:\r\n                sendMessage(&quot;You chose 1&quot;);\r\n                break;\r\n            case &quot;2&quot;:\r\n                sendMessage(&quot;You chose 2&quot;);\r\n                break;\r\n            case &quot;3&quot;:\r\n                sendMessage(&quot;You chose 3&quot;);\r\n                break;\r\n            case &quot;4&quot;:\r\n                sendMessage(&quot;You chose 4&quot;);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n```\r\n\r\nThe problem is that the call back query isn&#39;t recognized as and update in `onUpdateReceived`\r\nso it doesn&#39;t go in `onUpdateReceived` function at all as if the button in the menu was never clicked.\r\n\r\nWhat should I do?\r\n\r\nI tried to change the version I&#39;m using to 5.4.0 and I still have the same issue.\r\n\r\nI also tried to use buttons functionality with `ReplyKeyboardMarkup` and it worked just fine","title":"Issue with CallbackQuery in Telegram bot","body":"<p>I'm trying to create an Inline Keyboard Markup in my telegram bot using java (Maven project using TelegramBotsApi v 6.7.0). This includes handling call back queries from user to take some decision later.</p>\n<p>The Inline keyboard code is</p>\n<pre><code> private InlineKeyboardMarkup createMenuMarkup() {\n\n\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\n\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 1&quot;)\n                .callbackData(&quot;1&quot;)\n                .url(&quot;https://www.google.com&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 2&quot;)\n                .callbackData(&quot;2&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 3&quot;)\n                .callbackData(&quot;3&quot;)\n                .build();\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 4&quot;)\n                .callbackData(&quot;4&quot;)\n                .build();\n\n\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\n        inlineButtons.add(inlineKeyboardButtonList1);\n        inlineButtons.add(inlineKeyboardButtonList2);\n\n        return InlineKeyboardMarkup\n                .builder()\n                .keyboard(inlineButtons)\n                .build();\n    }\n</code></pre>\n<p>and to handle the call back I used if statement with a handling function</p>\n<pre><code>else if(update.getMessage().getText().equals(&quot;/menu&quot;))\n        {\n            sendMarkup(createMenuMarkup());\n        }\n        else if(update.hasCallbackQuery())\n        {\n            **System.out.println(&quot;Callback Received&quot;);\n            handleCallback(update);**\n        }\n</code></pre>\n<pre><code>    private void handleCallback(Update update)\n    {\n        String callData = update.getCallbackQuery().getData();\n        System.out.println(callData);\n        switch (callData)\n        {\n            case &quot;1&quot;:\n                sendMessage(&quot;You chose 1&quot;);\n                break;\n            case &quot;2&quot;:\n                sendMessage(&quot;You chose 2&quot;);\n                break;\n            case &quot;3&quot;:\n                sendMessage(&quot;You chose 3&quot;);\n                break;\n            case &quot;4&quot;:\n                sendMessage(&quot;You chose 4&quot;);\n                break;\n            default:\n                break;\n        }\n    }\n</code></pre>\n<p>The problem is that the call back query isn't recognized as and update in <code>onUpdateReceived</code>\nso it doesn't go in <code>onUpdateReceived</code> function at all as if the button in the menu was never clicked.</p>\n<p>What should I do?</p>\n<p>I tried to change the version I'm using to 5.4.0 and I still have the same issue.</p>\n<p>I also tried to use buttons functionality with <code>ReplyKeyboardMarkup</code> and it worked just fine</p>\n"},{"tags":["java","multithreading","debugging","concurrency","locking"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414604848,"creation_date":1414604848,"answer_id":26637316,"question_id":26621292,"body_markdown":"Your question is a little unclear, but...\r\n\r\nlock.getHoldCount() will always return a non-negative number---the number of &quot;holds&quot; that the calling thread has on the lock.\r\n\r\nThis code will throw an AssertionError _IF_ assertions are enabled:\r\n\r\n    lock.lock();  //sets the hold count &gt; 0, so...\r\n    m();          //...the assertion in m() will fail.","title":"Java lock and getHoldCount()","body":"<p>Your question is a little unclear, but...</p>\n\n<p>lock.getHoldCount() will always return a non-negative number---the number of \"holds\" that the calling thread has on the lock.</p>\n\n<p>This code will throw an AssertionError <em>IF</em> assertions are enabled:</p>\n\n<pre><code>lock.lock();  //sets the hold count &gt; 0, so...\nm();          //...the assertion in m() will fail.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74264,"reputation":1368,"user_id":213480,"display_name":"Slava Imeshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414707975,"creation_date":1414707975,"answer_id":26664411,"question_id":26621292,"body_markdown":"The code ensures that this method is the first in the hierarchy of calls to hold the lock. \r\n\r\nAs for why, it&#39;s a good question. Maybe the author wanted to avoid a situation like k()-&gt;m()-&gt;l()-&gt;m(), but this is a re-entrant lock, so I&#39;m not sure why the author would want to do that.\r\n\r\nHope this helps.\r\n\r\nSlava","title":"Java lock and getHoldCount()","body":"<p>The code ensures that this method is the first in the hierarchy of calls to hold the lock. </p>\n\n<p>As for why, it's a good question. Maybe the author wanted to avoid a situation like k()->m()->l()->m(), but this is a re-entrant lock, so I'm not sure why the author would want to do that.</p>\n\n<p>Hope this helps.</p>\n\n<p>Slava</p>\n"},{"tags":[],"owner":{"account_id":8830126,"reputation":73,"user_id":6596840,"display_name":"Long Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688789263,"creation_date":1627122022,"answer_id":68509054,"question_id":26621292,"body_markdown":"&gt; 1. Can lock.getHoldCount()still return a number here, as we have already assert == 0?\r\n\r\nYes, this method always return a non-negative integer. The document emphasizes this method *&quot;is typically only used for testing and debugging purposes&quot;*. Also the sentence in the doc said &quot;The number of holds on this lock **by the current thread**&quot;, means your debugging thread *t[i]* which calls the method shall return how many holds *t[i]* has on the instance **lock** -&gt; and you dont have idea of *t[j], t[k], ... holds* on the **lock**.\r\n\r\n&gt; 2. Does it mean that no thread can enter the lines below assert lock.getHoldCount() == 0; &lt;br&gt;\r\n**Even if** it has the lock?\r\n\r\nIf you run the JVM with option -ea (enable assertion) -&gt; in case the thread has the lock, shall cause the program throws exception. (wont reach line `lock.lock;`). In contrast without mentioned JVM options, the code flow execution shall by pass the line `assert` and waiting at line `lock.lock;` &lt;br&gt;\r\n\r\nWithout that option, please ignore the line `assert`","title":"Java lock and getHoldCount()","body":"<blockquote>\n<ol>\n<li>Can lock.getHoldCount()still return a number here, as we have already assert == 0?</li>\n</ol>\n</blockquote>\n<p>Yes, this method always return a non-negative integer. The document emphasizes this method <em>&quot;is typically only used for testing and debugging purposes&quot;</em>. Also the sentence in the doc said &quot;The number of holds on this lock <strong>by the current thread</strong>&quot;, means your debugging thread <em>t[i]</em> which calls the method shall return how many holds <em>t[i]</em> has on the instance <strong>lock</strong> -&gt; and you dont have idea of <em>t[j], t[k], ... holds</em> on the <strong>lock</strong>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Does it mean that no thread can enter the lines below assert lock.getHoldCount() == 0; <br>\n<strong>Even if</strong> it has the lock?</li>\n</ol>\n</blockquote>\n<p>If you run the JVM with option -ea (enable assertion) -&gt; in case the thread has the lock, shall cause the program throws exception. (wont reach line <code>lock.lock;</code>). In contrast without mentioned JVM options, the code flow execution shall by pass the line <code>assert</code> and waiting at line <code>lock.lock;</code> <br></p>\n<p>Without that option, please ignore the line <code>assert</code></p>\n"}],"owner":{"account_id":5052516,"reputation":173,"user_id":4056620,"accept_rate":68,"display_name":"stillAFanOfTheSimpsons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688789263,"creation_date":1414545391,"question_id":26621292,"body_markdown":"I am confused about the method assert lock.getHoldCount() == 0; The below example is from Java docs, and it says `Returns: the number of holds on this lock by the current thread, or zero if this lock is not held by the current thread`, which I don&#39;t quite understand. \r\n\r\n    class X {\r\n          ReentrantLock lock = new ReentrantLock();\r\n          // ...\r\n       public void m() {\r\n            assert lock.getHoldCount() == 0;\r\n            lock.lock();\r\n            try {\r\n               // ... method body\r\n            } finally {\r\n               lock.unlock();\r\n            }\r\n       }\r\n     }\r\n\r\nMy question is that -\r\n \r\n 1. can `lock.getHoldCount()`still return a number here, as we have already assert `==0`?\r\n 2. does it mean that no thread can enter the lines below `assert lock.getHoldCount() == 0;`, even if it has the lock? \r\n","title":"Java lock and getHoldCount()","body":"<p>I am confused about the method assert lock.getHoldCount() == 0; The below example is from Java docs, and it says <code>Returns: the number of holds on this lock by the current thread, or zero if this lock is not held by the current thread</code>, which I don't quite understand. </p>\n\n<pre><code>class X {\n      ReentrantLock lock = new ReentrantLock();\n      // ...\n   public void m() {\n        assert lock.getHoldCount() == 0;\n        lock.lock();\n        try {\n           // ... method body\n        } finally {\n           lock.unlock();\n        }\n   }\n }\n</code></pre>\n\n<p>My question is that -</p>\n\n<ol>\n<li>can <code>lock.getHoldCount()</code>still return a number here, as we have already assert <code>==0</code>?</li>\n<li>does it mean that no thread can enter the lines below <code>assert lock.getHoldCount() == 0;</code>, even if it has the lock? </li>\n</ol>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":0,"creation_date":1443736044,"post_id":32897244,"comment_id":53623985,"body_markdown":"That number isn&#39;t guaranteed to be the same from one run to the next.  I wonder if the variables view is running in (or reporting on) a different VM from the Evaluate Code Fragment window.  That could account for the difference.","body":"That number isn&#39;t guaranteed to be the same from one run to the next.  I wonder if the variables view is running in (or reporting on) a different VM from the Evaluate Code Fragment window.  That could account for the difference."},{"owner":{"account_id":4996731,"reputation":1005,"user_id":4017031,"accept_rate":50,"display_name":"Barry Holroyd"},"score":0,"creation_date":1444156254,"post_id":32897244,"comment_id":53779306,"body_markdown":"Thanks Ian. I don&#39;t think that&#39;s it, but I do have some new information. I&#39;ll update the question.","body":"Thanks Ian. I don&#39;t think that&#39;s it, but I do have some new information. I&#39;ll update the question."},{"owner":{"account_id":4326000,"reputation":406,"user_id":3532826,"display_name":"JavaGhost"},"score":0,"creation_date":1444159897,"post_id":32897244,"comment_id":53781533,"body_markdown":"What you have interpreted is correct for `Oracle JVM` not for `Dalvik VM` on which the bytecodes are generated. It has fixed set of Registers which ranges from 0-65535. If you want to learn more you can visit this [link](https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html)","body":"What you have interpreted is correct for <code>Oracle JVM</code> not for <code>Dalvik VM</code> on which the bytecodes are generated. It has fixed set of Registers which ranges from 0-65535. If you want to learn more you can visit this <a href=\"https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":4996731,"reputation":1005,"user_id":4017031,"accept_rate":50,"display_name":"Barry Holroyd"},"score":0,"creation_date":1444753029,"post_id":32897244,"comment_id":54029960,"body_markdown":"Excellent -- thank you! If I understand correctly, the #### is actually an identifier for the register which stores the value -- is that correct? (That&#39;s a lot of registers.) That seems like a pretty useless thing to provide to developers since we can&#39;t correlate it with the stuff that we have access to (such as hashCode()).","body":"Excellent -- thank you! If I understand correctly, the #### is actually an identifier for the register which stores the value -- is that correct? (That&#39;s a lot of registers.) That seems like a pretty useless thing to provide to developers since we can&#39;t correlate it with the stuff that we have access to (such as hashCode())."}],"owner":{"account_id":4996731,"reputation":1005,"user_id":4017031,"accept_rate":50,"display_name":"Barry Holroyd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1492,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1688793159,"answer_count":0,"score":4,"last_activity_date":1688785314,"creation_date":1443735285,"question_id":32897244,"body_markdown":"In Java, the &#39;@&#39; sign in an address (e.g., in a printed stack trace) is generally used to represent an instance of an object as &quot;object name&quot; + &#39;@&#39; + System.identityHashCode() (there is a good discussion of this at https://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java).\r\n\r\nBut that doesn&#39;t seem to explain the syntax used by Android Studio when it prints out object addresses.\r\n\r\nI have a variable, gmap, which has the following value when viewed in the Android Studio Debugger&#39;s &quot;Variables&quot; window (when the program has hit a breakpoint).\r\n\r\n    gmap = {com.google.android.gms.maps.GoogleMap@4541}\r\n\r\nHowever, when I run the following in the Evaluate Code Fragment window, none of them come up with the value &quot;4541&quot;.\r\n\r\n    gmap.toString(): com.google.android.gms.maps.GoogleMap@63676d9\r\n    System.identityHashCode(gmap): 104232665\r\n    gmap.hashCode(): 104232665\r\n    \r\n    String.format(&quot;%x&quot;, System.identityHashCode(gmap)): 63676d9\r\n    String.format(&quot;%d&quot;, System.identityHashCode(gmap)): 104232665\r\n\r\nWhat does &quot;4541&quot; represent?\r\n\r\nUPDATE:\r\nI took another look at a stack trace and noticed that the numbers tend to increase in a sort-of sequential fashion. The following is a partial dump of the mContext variable, as shown in the Variables window when at a breakpoint.\r\n\r\n    mContext = {com.barryholroyd.tapit.ActivityMain@3624} \r\n     LOGTAG = {java.lang.String@3642} &quot;TAPIT APS&quot;\r\n     bh_aps = {com.barryholroyd.tapit.Bhlogger@3643} \r\n     mActionBar = null\r\n     mActivityInfo = {android.content.pm.ActivityInfo@3644} \r\n     mActivityTransitionState = {android.app.ActivityTransitionState@3645} \r\n     mAllLoaderManagers = null\r\n     mApplication = {android.app.Application@3646} \r\n     mCalled = true\r\n     mChangeCanvasToTranslucent = false\r\n     mChangingConfigurations = false\r\n     mCheckedForLoaderManager = false\r\n     mComponent = {android.content.ComponentName@3647} \r\n     mConfigChangeFlags = 0\r\n     mContainer = {android.app.Activity$1@3648} \r\n     mCurrentConfig = {android.content.res.Configuration@3649} \r\n\r\nI suspect the @#### values might be offsets into some kind of allocation table or something, but that&#39;s just a guess. I&#39;m not sure how/why that would be useful. I&#39;d rather have them be the hash code or something else that would help me identify the particular class instantiation easily.\r\n\r\nBarry\r\n\r\n","title":"What does the &#39;@&#39; (at) sign mean in addresses in Android Studio?","body":"<p>In Java, the '@' sign in an address (e.g., in a printed stack trace) is generally used to represent an instance of an object as \"object name\" + '@' + System.identityHashCode() (there is a good discussion of this at <a href=\"https://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java\">Memory address of variables in Java</a>).</p>\n\n<p>But that doesn't seem to explain the syntax used by Android Studio when it prints out object addresses.</p>\n\n<p>I have a variable, gmap, which has the following value when viewed in the Android Studio Debugger's \"Variables\" window (when the program has hit a breakpoint).</p>\n\n<pre><code>gmap = {com.google.android.gms.maps.GoogleMap@4541}\n</code></pre>\n\n<p>However, when I run the following in the Evaluate Code Fragment window, none of them come up with the value \"4541\".</p>\n\n<pre><code>gmap.toString(): com.google.android.gms.maps.GoogleMap@63676d9\nSystem.identityHashCode(gmap): 104232665\ngmap.hashCode(): 104232665\n\nString.format(\"%x\", System.identityHashCode(gmap)): 63676d9\nString.format(\"%d\", System.identityHashCode(gmap)): 104232665\n</code></pre>\n\n<p>What does \"4541\" represent?</p>\n\n<p>UPDATE:\nI took another look at a stack trace and noticed that the numbers tend to increase in a sort-of sequential fashion. The following is a partial dump of the mContext variable, as shown in the Variables window when at a breakpoint.</p>\n\n<pre><code>mContext = {com.barryholroyd.tapit.ActivityMain@3624} \n LOGTAG = {java.lang.String@3642} \"TAPIT APS\"\n bh_aps = {com.barryholroyd.tapit.Bhlogger@3643} \n mActionBar = null\n mActivityInfo = {android.content.pm.ActivityInfo@3644} \n mActivityTransitionState = {android.app.ActivityTransitionState@3645} \n mAllLoaderManagers = null\n mApplication = {android.app.Application@3646} \n mCalled = true\n mChangeCanvasToTranslucent = false\n mChangingConfigurations = false\n mCheckedForLoaderManager = false\n mComponent = {android.content.ComponentName@3647} \n mConfigChangeFlags = 0\n mContainer = {android.app.Activity$1@3648} \n mCurrentConfig = {android.content.res.Configuration@3649} \n</code></pre>\n\n<p>I suspect the @#### values might be offsets into some kind of allocation table or something, but that's just a guess. I'm not sure how/why that would be useful. I'd rather have them be the hash code or something else that would help me identify the particular class instantiation easily.</p>\n\n<p>Barry</p>\n"},{"tags":["java","slf4j","graalvm"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1688823445,"post_id":76641133,"comment_id":135127339,"body_markdown":"What is your command line?","body":"What is your command line?"},{"owner":{"account_id":5302951,"reputation":47,"user_id":4231896,"accept_rate":75,"display_name":"Martin Dai"},"score":0,"creation_date":1688883394,"post_id":76641133,"comment_id":135132121,"body_markdown":"@peterz I use native-image-maven-plugin to build native image\n&lt;buildArgs&gt;\n                                -H:+PrintClassInitialization\n                                -H:+ReportExceptionStackTraces\n                                --no-fallback\n                            &lt;/buildArgs&gt;","body":"@peterz I use native-image-maven-plugin to build native image &lt;buildArgs&gt;                                 -H:+PrintClassInitialization                                 -H:+ReportExceptionStackTraces                                 --no-fallback                             &lt;/buildArgs&gt;"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1688974128,"post_id":76641133,"comment_id":135141535,"body_markdown":"Probably that plugin has some verbose mode in which it prints the command line so that you could inspect it. My guess is that the command line gets damaged in some way -- probably some argument breaking into pieces, or several arguments appearing as one. As a result, `org.slf4j.LoggerFactory` might appear as the main application class","body":"Probably that plugin has some verbose mode in which it prints the command line so that you could inspect it. My guess is that the command line gets damaged in some way -- probably some argument breaking into pieces, or several arguments appearing as one. As a result, <code>org.slf4j.LoggerFactory</code> might appear as the main application class"}],"owner":{"account_id":5302951,"reputation":47,"user_id":4231896,"accept_rate":75,"display_name":"Martin Dai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688783599,"creation_date":1688783599,"question_id":76641133,"body_markdown":"Here is the error cause\r\n```\r\n[1/8] Initializing...                                                                                    (0.0s @ 0.21GB)\r\nError: Method &#39;org.slf4j.LoggerFactory.main&#39; is declared as the main entry point but it can not be found. Make sure that class &#39;org.slf4j.LoggerFactory&#39; is on the classpath and that method &#39;main(String[])&#39; exists in that class.\r\ncom.oracle.svm.core.util.UserError$UserException: Method &#39;org.slf4j.LoggerFactory.main&#39; is declared as the main entry point but it can not be found. Make sure that class &#39;org.slf4j.LoggerFactory&#39; is on the classpath and that method &#39;main(String[])&#39; exists in that class.\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:85)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:377)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:612)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:134)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:94)\r\nCaused by: java.lang.NoSuchMethodException: org.slf4j.LoggerFactory.main([Ljava.lang.String;)\r\n        at java.base/java.lang.Class.getDeclaredMethod(Class.java:2772)\r\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:74)\r\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:69)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:375)\r\n        ... 3 more\r\n```\r\n\r\nthe `org.slf4j.LoggerFactory` doesn&#39;t have `main` method, why the GraalVM call it\r\n\r\ngraalvm version: 20.0.1\r\n\r\nslf4j version: 2.0.7 ","title":"GraalVM build native image failed when depend slf4j","body":"<p>Here is the error cause</p>\n<pre><code>[1/8] Initializing...                                                                                    (0.0s @ 0.21GB)\nError: Method 'org.slf4j.LoggerFactory.main' is declared as the main entry point but it can not be found. Make sure that class 'org.slf4j.LoggerFactory' is on the classpath and that method 'main(String[])' exists in that class.\ncom.oracle.svm.core.util.UserError$UserException: Method 'org.slf4j.LoggerFactory.main' is declared as the main entry point but it can not be found. Make sure that class 'org.slf4j.LoggerFactory' is on the classpath and that method 'main(String[])' exists in that class.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:85)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:377)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:612)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:134)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:94)\nCaused by: java.lang.NoSuchMethodException: org.slf4j.LoggerFactory.main([Ljava.lang.String;)\n        at java.base/java.lang.Class.getDeclaredMethod(Class.java:2772)\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:74)\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:69)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:375)\n        ... 3 more\n</code></pre>\n<p>the <code>org.slf4j.LoggerFactory</code> doesn't have <code>main</code> method, why the GraalVM call it</p>\n<p>graalvm version: 20.0.1</p>\n<p>slf4j version: 2.0.7</p>\n"},{"tags":["java","amazon-web-services","maven","aws-lambda","aws-sam"],"comments":[{"owner":{"account_id":958669,"reputation":9639,"user_id":983476,"accept_rate":98,"display_name":"Allan Chua"},"score":0,"creation_date":1688745300,"post_id":76638074,"comment_id":135119620,"body_markdown":"Are you using Windows or Linux?","body":"Are you using Windows or Linux?"},{"owner":{"account_id":28589691,"reputation":11,"user_id":21889208,"display_name":"megan123"},"score":0,"creation_date":1688746975,"post_id":76638074,"comment_id":135119951,"body_markdown":"windows @AllanChua","body":"windows @AllanChua"}],"answers":[{"tags":[],"owner":{"account_id":958669,"reputation":9639,"user_id":983476,"accept_rate":98,"display_name":"Allan Chua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688782486,"creation_date":1688782486,"answer_id":76641092,"question_id":76638074,"body_markdown":"This error could be thrown by VS Code because `Maven` the build tool used for Java is either not installed, not in the system environment variables resulting to `mvn` command being unavailable/unfindable.\r\n\r\n```\r\nmvn -v\r\n```\r\n\r\nTo solve the problem, please refer to this [question][1] on how to configure your environment variables and make maven accessible in your system.\r\n\r\nAnother option is to configure your SAM CLI to use containers:\r\n\r\n```sh\r\nsam build  --use-container -t template.yml\r\n```\r\n\r\nThis allows you and your colleagues to have a reproduceable build environments in your own machines.\r\n\r\n  [1]: https://stackoverflow.com/questions/19090928/mvn-command-is-not-recognized-as-an-internal-or-external-command#:%7E:text=Right%20click%20on%20My%20Computer%20%3E%3E%20Properties%20%3E%3E%20Advanced%20system%20settings%20%3E%3E%20System%20Properties%20window%20will%20get%20displayed%20Under%20Advanced%20%3E%3E%20Environment%20Variables:~:text=Right%20click%20on%20My%20Computer%20%3E%3E%20Properties%20%3E%3E%20Advanced%20system%20settings%20%3E%3E%20System%20Properties%20window%20will%20get%20displayed%20Under%20Advanced%20%3E%3E%20Environment%20Variables","title":"AWS SAM Template Errors","body":"<p>This error could be thrown by VS Code because <code>Maven</code> the build tool used for Java is either not installed, not in the system environment variables resulting to <code>mvn</code> command being unavailable/unfindable.</p>\n<pre><code>mvn -v\n</code></pre>\n<p>To solve the problem, please refer to this <a href=\"https://stackoverflow.com/questions/19090928/mvn-command-is-not-recognized-as-an-internal-or-external-command#:%7E:text=Right%20click%20on%20My%20Computer%20%3E%3E%20Properties%20%3E%3E%20Advanced%20system%20settings%20%3E%3E%20System%20Properties%20window%20will%20get%20displayed%20Under%20Advanced%20%3E%3E%20Environment%20Variables:%7E:text=Right%20click%20on%20My%20Computer%20%3E%3E%20Properties%20%3E%3E%20Advanced%20system%20settings%20%3E%3E%20System%20Properties%20window%20will%20get%20displayed%20Under%20Advanced%20%3E%3E%20Environment%20Variables\">question</a> on how to configure your environment variables and make maven accessible in your system.</p>\n<p>Another option is to configure your SAM CLI to use containers:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sam build  --use-container -t template.yml\n</code></pre>\n<p>This allows you and your colleagues to have a reproduceable build environments in your own machines.</p>\n"}],"owner":{"account_id":28589691,"reputation":11,"user_id":21889208,"display_name":"megan123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688782486,"creation_date":1688742051,"question_id":76638074,"body_markdown":"I am using VS Code to create and deploy my SAM template and I&#39;m getting the current error:\r\n\r\n\r\n```\r\nBuild Failed\r\nError: JavaMavenWorkflow:Resolver - No Maven executable found!\r\n```\r\n\r\nDoes anyone know how to fix this/has anyone dealt with this before?\r\n\r\n\r\nFor a little more information, this is a spring boot application. ","title":"AWS SAM Template Errors","body":"<p>I am using VS Code to create and deploy my SAM template and I'm getting the current error:</p>\n<pre><code>Build Failed\nError: JavaMavenWorkflow:Resolver - No Maven executable found!\n</code></pre>\n<p>Does anyone know how to fix this/has anyone dealt with this before?</p>\n<p>For a little more information, this is a spring boot application.</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688782251,"post_id":76641073,"comment_id":135124010,"body_markdown":"That&#39;s because count++ is not an atomic operation.","body":"That&#39;s because count++ is not an atomic operation."},{"owner":{"account_id":28973632,"reputation":1,"user_id":22193295,"display_name":"PondleDondle"},"score":0,"creation_date":1688782556,"post_id":76641073,"comment_id":135124032,"body_markdown":"I feel like a right muppet. Yeah that makes works now. Thanks","body":"I feel like a right muppet. Yeah that makes works now. Thanks"}],"owner":{"account_id":28973632,"reputation":1,"user_id":22193295,"display_name":"PondleDondle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688782574,"answer_count":0,"score":0,"last_activity_date":1688782001,"creation_date":1688782001,"question_id":76641073,"body_markdown":"The Executor Service appears to end early and not run every iteration\r\n\r\nI am trying to run every iteration of multiple lists which should give a total of 18,900,000 runs of a method. However upon testing and running with a int to record the times it runs it gets close to 18,900,000 but never to it\r\n```\r\npackage main;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Test\r\n{\r\n\tpublic static int count = 0;\r\n\tprivate static final DecimalFormat decimalFormat = new DecimalFormat(&quot;#.###&quot;);\r\n    \r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint aStart = 140;\r\n        int aEnd = 400;\r\n        int aIncrement = 20;\r\n        \r\n        double bStart = 9;\r\n\t\tdouble bEnd = 27;\r\n\t\tdouble bIncrement = 0.75;\r\n        \r\n        int cStart = 14;\r\n        int cEnd = 18;\r\n        int cIncrement = 1;\r\n        \r\n        int dStart = 90;\r\n        int dEnd = 180;\r\n        int dIncrement = 30;\r\n        \r\n        int eStart = 60;\r\n        int eEnd = 120;\r\n        int eIncrement = 30;\r\n        \r\n        int fStart = 130;\r\n        int fEnd = 250;\r\n        int fIncrement = 30;\r\n        \r\n        double gStart = 5.5;\r\n        double gEnd = 6.7;\r\n        double gIncrement = 0.3;\r\n        \r\n        double hStart = 2.8;\r\n        double hEnd = 4.2;\r\n        double hIncrement = 0.2;\r\n        \r\n        double iStart = 2.6;\r\n        double iEnd = 4;\r\n        double iIncrement = 0.2;\r\n\t\t\r\n        List&lt;Integer&gt; listA = list(aStart, aEnd, aIncrement);\r\n        List&lt;Double&gt;  listB = list(bStart, bEnd, bIncrement);\r\n        List&lt;Integer&gt; listC = list(cStart, cEnd, cIncrement);\r\n        List&lt;Integer&gt; listD = list(dStart, dEnd, dIncrement);\r\n        List&lt;Integer&gt; listE = list(eStart, eEnd, eIncrement);\r\n        List&lt;Integer&gt; listF = list(fStart, fEnd, fIncrement);\r\n        List&lt;Double&gt;  listG = list(gStart, gEnd, gIncrement);\r\n        List&lt;Double&gt;  listH = list(hStart, hEnd, hIncrement);\r\n        List&lt;Double&gt;  listI = list(iStart, iEnd, iIncrement);\r\n        \r\n\t\tfinal int MAX_THREADS = 2;\r\n\t\tExecutorService executor = Executors.newFixedThreadPool(MAX_THREADS);\r\n\t\t\r\n\t\tList&lt;String&gt; row = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tfor (int a : listA)\r\n\t\t{\r\n\t\t\tfor (double b : listB)\r\n\t\t\t{\r\n\t\t\t\tfor (int c : listC)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (int d : listD)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (int e : listE)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfor (int f : listF)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfor (double g : listG)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tfor (double h : listH)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tfor (double i : listI)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tif (i &lt; h) \r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\texecutor.submit(() -&gt; row.addAll(calculateRecords(&quot;C://CSV&quot;, a, b, c, d, e, f, g, h, i)));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\texecutor.shutdown();\r\n\t\ttry\r\n\t\t{\r\n\t\t    while (!executor.isTerminated())\r\n\t\t    {\r\n\t\t        // Wait for all tasks to complete\r\n\t\t    }\r\n\t\t    System.out.println(&quot;TEST COMPLETE&quot;);\r\n\t\t} catch (Exception e)\r\n\t\t{\r\n\t\t    System.out.println(&quot;Thread execution interrupted.&quot;);\r\n\t\t    Thread.currentThread().interrupt();\r\n\t\t}\r\n\r\n        System.out.println(count);\r\n\t}\r\n\t\r\n\tpublic static ArrayList&lt;Integer&gt; list(int startPoint, int endPoint, int incrementPoint)\r\n\t{\r\n\t\tArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n\t\tfor (int queryPoint = startPoint; queryPoint &lt;= endPoint; queryPoint += incrementPoint)\r\n\t\t{\r\n\t\t\ta.add(queryPoint);\r\n\t\t}\r\n\t\t\r\n\t\treturn a;\r\n\t}\r\n\t\r\n\tpublic static ArrayList&lt;Double&gt; list(double startPoint, double endPoint, double incrementPoint)\r\n\t{\r\n\t    ArrayList&lt;Double&gt; a = new ArrayList&lt;&gt;();\r\n\t    double tolerance = incrementPoint / 2.0;\r\n\t    for (double queryPoint = startPoint; queryPoint &lt;= endPoint + tolerance; queryPoint += incrementPoint)\r\n\t    {\r\n\t        double formatPoint = Double.parseDouble(decimalFormat.format(queryPoint));\r\n\t        a.add(formatPoint);\r\n\t    }\r\n\t    return a;\r\n\t}\r\n\t\r\n\tpublic static List&lt;String&gt; calculateRecords(String directory, int a, double b, int c, int d, int e, int f, double g, double h, double i)\r\n\t{\r\n\t\tList&lt;String&gt; listC = new ArrayList&lt;&gt;();\r\n\t\tcount++;\r\n\t\treturn listC;\r\n\t}\r\n}\r\n```\r\nIf I run the above with 1 thread then it returns count as the expected number. Any increase of thread counts just makes it not run the correct number of times. I need it to run every iteration every time and it needs to be multithreaded so I am currently at odds with what to do. \r\n\r\nThanks","title":"Java ExecutorService Stopping Service Prematurely","body":"<p>The Executor Service appears to end early and not run every iteration</p>\n<p>I am trying to run every iteration of multiple lists which should give a total of 18,900,000 runs of a method. However upon testing and running with a int to record the times it runs it gets close to 18,900,000 but never to it</p>\n<pre><code>package main;\n\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Test\n{\n    public static int count = 0;\n    private static final DecimalFormat decimalFormat = new DecimalFormat(&quot;#.###&quot;);\n    \n    public static void main(String[] args)\n    {\n        int aStart = 140;\n        int aEnd = 400;\n        int aIncrement = 20;\n        \n        double bStart = 9;\n        double bEnd = 27;\n        double bIncrement = 0.75;\n        \n        int cStart = 14;\n        int cEnd = 18;\n        int cIncrement = 1;\n        \n        int dStart = 90;\n        int dEnd = 180;\n        int dIncrement = 30;\n        \n        int eStart = 60;\n        int eEnd = 120;\n        int eIncrement = 30;\n        \n        int fStart = 130;\n        int fEnd = 250;\n        int fIncrement = 30;\n        \n        double gStart = 5.5;\n        double gEnd = 6.7;\n        double gIncrement = 0.3;\n        \n        double hStart = 2.8;\n        double hEnd = 4.2;\n        double hIncrement = 0.2;\n        \n        double iStart = 2.6;\n        double iEnd = 4;\n        double iIncrement = 0.2;\n        \n        List&lt;Integer&gt; listA = list(aStart, aEnd, aIncrement);\n        List&lt;Double&gt;  listB = list(bStart, bEnd, bIncrement);\n        List&lt;Integer&gt; listC = list(cStart, cEnd, cIncrement);\n        List&lt;Integer&gt; listD = list(dStart, dEnd, dIncrement);\n        List&lt;Integer&gt; listE = list(eStart, eEnd, eIncrement);\n        List&lt;Integer&gt; listF = list(fStart, fEnd, fIncrement);\n        List&lt;Double&gt;  listG = list(gStart, gEnd, gIncrement);\n        List&lt;Double&gt;  listH = list(hStart, hEnd, hIncrement);\n        List&lt;Double&gt;  listI = list(iStart, iEnd, iIncrement);\n        \n        final int MAX_THREADS = 2;\n        ExecutorService executor = Executors.newFixedThreadPool(MAX_THREADS);\n        \n        List&lt;String&gt; row = new ArrayList&lt;&gt;();\n        \n        for (int a : listA)\n        {\n            for (double b : listB)\n            {\n                for (int c : listC)\n                {\n                    for (int d : listD)\n                    {\n                        for (int e : listE)\n                        {\n                            for (int f : listF)\n                            {\n                                for (double g : listG)\n                                {\n                                    for (double h : listH)\n                                    {\n                                        for (double i : listI)\n                                        {\n                                            if (i &lt; h) \n                                            {\n                                                executor.submit(() -&gt; row.addAll(calculateRecords(&quot;C://CSV&quot;, a, b, c, d, e, f, g, h, i)));\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        \n        executor.shutdown();\n        try\n        {\n            while (!executor.isTerminated())\n            {\n                // Wait for all tasks to complete\n            }\n            System.out.println(&quot;TEST COMPLETE&quot;);\n        } catch (Exception e)\n        {\n            System.out.println(&quot;Thread execution interrupted.&quot;);\n            Thread.currentThread().interrupt();\n        }\n\n        System.out.println(count);\n    }\n    \n    public static ArrayList&lt;Integer&gt; list(int startPoint, int endPoint, int incrementPoint)\n    {\n        ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\n        for (int queryPoint = startPoint; queryPoint &lt;= endPoint; queryPoint += incrementPoint)\n        {\n            a.add(queryPoint);\n        }\n        \n        return a;\n    }\n    \n    public static ArrayList&lt;Double&gt; list(double startPoint, double endPoint, double incrementPoint)\n    {\n        ArrayList&lt;Double&gt; a = new ArrayList&lt;&gt;();\n        double tolerance = incrementPoint / 2.0;\n        for (double queryPoint = startPoint; queryPoint &lt;= endPoint + tolerance; queryPoint += incrementPoint)\n        {\n            double formatPoint = Double.parseDouble(decimalFormat.format(queryPoint));\n            a.add(formatPoint);\n        }\n        return a;\n    }\n    \n    public static List&lt;String&gt; calculateRecords(String directory, int a, double b, int c, int d, int e, int f, double g, double h, double i)\n    {\n        List&lt;String&gt; listC = new ArrayList&lt;&gt;();\n        count++;\n        return listC;\n    }\n}\n</code></pre>\n<p>If I run the above with 1 thread then it returns count as the expected number. Any increase of thread counts just makes it not run the correct number of times. I need it to run every iteration every time and it needs to be multithreaded so I am currently at odds with what to do.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1601874560,"post_id":64202520,"comment_id":113530391,"body_markdown":"Because entities and repository interfaces aren&#39;t component classes.","body":"Because entities and repository interfaces aren&#39;t component classes."}],"answers":[{"comments":[{"owner":{"account_id":1943031,"reputation":267,"user_id":1748759,"display_name":"OnkarG"},"score":0,"creation_date":1601884662,"post_id":64204225,"comment_id":113533529,"body_markdown":"Thanks for detailed description , But I have observed if I use only componentScan annotation it will give issue for Autowire annotation for service and repository references. Correct me if I am wrong i.e. we must use compopnentScan , EntityScan  , EnableJpaRepository  together","body":"Thanks for detailed description , But I have observed if I use only componentScan annotation it will give issue for Autowire annotation for service and repository references. Correct me if I am wrong i.e. we must use compopnentScan , EntityScan  , EnableJpaRepository  together"},{"owner":{"account_id":19376449,"reputation":4352,"user_id":14168623,"display_name":"Alexandra Dudkina"},"score":0,"creation_date":1601885307,"post_id":64204225,"comment_id":113533798,"body_markdown":"If some of your beans are resolved by Spring using not XML / JavaConfig but annotations, then you have yo use `@ComponentScan`. If some of your repositories are Spring Data repositories, you need to use additionaly `@EnableJpaRepositories`. And if you have some JPA entities, it&#39;s needed to use `@EntityScan`. So - yes, they must be used together.","body":"If some of your beans are resolved by Spring using not XML / JavaConfig but annotations, then you have yo use <code>@ComponentScan</code>. If some of your repositories are Spring Data repositories, you need to use additionaly <code>@EnableJpaRepositories</code>. And if you have some JPA entities, it&#39;s needed to use <code>@EntityScan</code>. So - yes, they must be used together."},{"owner":{"account_id":19376449,"reputation":4352,"user_id":14168623,"display_name":"Alexandra Dudkina"},"score":0,"creation_date":1601885551,"post_id":64204225,"comment_id":113533901,"body_markdown":"But there are projects without persistence layer or using non-JPA persistence. In that cases there is no need to use both `@EntityScan` or `@EnableJpaRepositories`. Some works for projects using JPA but not using Spring Data - in such cases datasource, entity manager factory and transaction manager should be defined explicitly without those annotations.","body":"But there are projects without persistence layer or using non-JPA persistence. In that cases there is no need to use both <code>@EntityScan</code> or <code>@EnableJpaRepositories</code>. Some works for projects using JPA but not using Spring Data - in such cases datasource, entity manager factory and transaction manager should be defined explicitly without those annotations."},{"owner":{"account_id":1943031,"reputation":267,"user_id":1748759,"display_name":"OnkarG"},"score":0,"creation_date":1601888439,"post_id":64204225,"comment_id":113535227,"body_markdown":"Okay , Thank you very much @Alexandra Dudkina","body":"Okay , Thank you very much @Alexandra Dudkina"}],"tags":[],"owner":{"account_id":19376449,"reputation":4352,"user_id":14168623,"display_name":"Alexandra Dudkina"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1601883237,"creation_date":1601883237,"answer_id":64204225,"question_id":64202520,"body_markdown":"The `@ComponentScan` annotation is used to create beans for classes annotated with `@Component`, `@Controller` / `@RestController`, `@Service`, `@Repository`. It marks them for being added to the Spring container (making them eligible for dependency injection and allowing them to be `@Autowired`).\r\n\r\nThe `@EntityScan` annotation doesn&#39;t create any beans, it identifies which classes should be used by a JPA persistence context.\r\n\r\nThe `@EnableJpaRepositories` annotation is used to create repository classes from Spring Data interfaces.\r\n\r\nAll three annotation are often used together, but they are responsible for different things.","title":"Why EntityScan , EnableJpaRepositories annotations required if we are already using componentScan annotation?","body":"<p>The <code>@ComponentScan</code> annotation is used to create beans for classes annotated with <code>@Component</code>, <code>@Controller</code> / <code>@RestController</code>, <code>@Service</code>, <code>@Repository</code>. It marks them for being added to the Spring container (making them eligible for dependency injection and allowing them to be <code>@Autowired</code>).</p>\n<p>The <code>@EntityScan</code> annotation doesn't create any beans, it identifies which classes should be used by a JPA persistence context.</p>\n<p>The <code>@EnableJpaRepositories</code> annotation is used to create repository classes from Spring Data interfaces.</p>\n<p>All three annotation are often used together, but they are responsible for different things.</p>\n"}],"owner":{"account_id":1943031,"reputation":267,"user_id":1748759,"display_name":"OnkarG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7585,"favorite_count":0,"down_vote_count":3,"up_vote_count":12,"accepted_answer_id":64204225,"answer_count":1,"score":9,"last_activity_date":1688781875,"creation_date":1601872306,"question_id":64202520,"body_markdown":"I am already using `ComponentScan` annotation in `Main` class of `Spring Boot` app , but If I use only this annotation it will gives issue while getting repositories reference. So to overcome this I am using `EntityScan` and `EnableJpaRepositories` annotations with `componentScan`.\r\n\r\n```\r\n@EntityScan(basePackages={&quot;com.gonkar.fleetms.models&quot;})\r\n@EnableJpaRepositories(basePackages={&quot;com.gonkar.fleetms.repositories&quot;})\r\n```\r\nSo my question is why its required to use other two annotations? if I am already using `@ComponentScan`.","title":"Why EntityScan , EnableJpaRepositories annotations required if we are already using componentScan annotation?","body":"<p>I am already using <code>ComponentScan</code> annotation in <code>Main</code> class of <code>Spring Boot</code> app , but If I use only this annotation it will gives issue while getting repositories reference. So to overcome this I am using <code>EntityScan</code> and <code>EnableJpaRepositories</code> annotations with <code>componentScan</code>.</p>\n<pre><code>@EntityScan(basePackages={&quot;com.gonkar.fleetms.models&quot;})\n@EnableJpaRepositories(basePackages={&quot;com.gonkar.fleetms.repositories&quot;})\n</code></pre>\n<p>So my question is why its required to use other two annotations? if I am already using <code>@ComponentScan</code>.</p>\n"},{"tags":["java","windows","mips","mars-simulator"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663835759,"post_id":73811572,"comment_id":130334042,"body_markdown":"You posted the same image twice. It shows some kind of zip app inviting to open the file.","body":"You posted the same image twice. It shows some kind of zip app inviting to open the file."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663837380,"creation_date":1663837380,"answer_id":73811951,"question_id":73811572,"body_markdown":"Use your prompt\r\nCD into the directory with the jar\r\nthen execute\r\n java -jar Mars.jar\r\n...any more troubles , open file properties tab with right click on the jar and check permissions to execute the file.","title":"Cannot open .jar files with java installed (windows 11)","body":"<p>Use your prompt\nCD into the directory with the jar\nthen execute\njava -jar Mars.jar\n...any more troubles , open file properties tab with right click on the jar and check permissions to execute the file.</p>\n"},{"tags":[],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663837702,"creation_date":1663837702,"answer_id":73812014,"question_id":73811572,"body_markdown":"Installing Java usually means installing a JVM, which is a *Java Virtual Machine*. You won&#39;t be able to launch files from a Windows context menu like this, because &quot;Java&quot; is not a program that opens files.\r\n\r\nInstead you need to:\r\n\r\n * Either a terminal and call `javaw.exe` with the parameters `-jar` and your `.jar`-file. *E.g.:*\r\n\r\n```\r\nC:\\your\\java\\binaries\\javaw.exe -jar -SomeJarFile.jar\r\n```\r\n\r\n* Or add the Java installation to your environment variables, then you can call `javaw.exe` without providing some specific path","title":"Cannot open .jar files with java installed (windows 11)","body":"<p>Installing Java usually means installing a JVM, which is a <em>Java Virtual Machine</em>. You won't be able to launch files from a Windows context menu like this, because &quot;Java&quot; is not a program that opens files.</p>\n<p>Instead you need to:</p>\n<ul>\n<li>Either a terminal and call <code>javaw.exe</code> with the parameters <code>-jar</code> and your <code>.jar</code>-file. <em>E.g.:</em></li>\n</ul>\n<pre><code>C:\\your\\java\\binaries\\javaw.exe -jar -SomeJarFile.jar\n</code></pre>\n<ul>\n<li>Or add the Java installation to your environment variables, then you can call <code>javaw.exe</code> without providing some specific path</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28973658,"reputation":1,"user_id":22193312,"display_name":"nouish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688781523,"creation_date":1688781523,"answer_id":76641061,"question_id":73811572,"body_markdown":"Just had this problem for the nth time.\r\n\r\nThere are numerous threads with helpful answers, but they tend not to mention that if you already tried to &quot;Open With&quot; you will also have to delete `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.jar`.\r\n\r\nHere is a script to solve this problem, combining all the actions needed for it to work (call it anything with a `.cmd` extension):\r\n```bat\r\n@echo off\r\nreg delete &quot;HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.jar&quot; /f\r\nassoc .jar=jarfile\r\nftype jarfile=&quot;&lt;FULL_PATH_TO_JAVAW.EXE&gt;&quot; -jar &quot;%1&quot; %*\r\npause\r\n```\r\n\r\nDon&#39;t forget to replace `&lt;FULL_PATH_TO_JAVAW.EXE&gt;` with YOUR actual javaw.exe path. For example: `C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe`.","title":"Cannot open .jar files with java installed (windows 11)","body":"<p>Just had this problem for the nth time.</p>\n<p>There are numerous threads with helpful answers, but they tend not to mention that if you already tried to &quot;Open With&quot; you will also have to delete <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.jar</code>.</p>\n<p>Here is a script to solve this problem, combining all the actions needed for it to work (call it anything with a <code>.cmd</code> extension):</p>\n<pre><code>@echo off\nreg delete &quot;HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.jar&quot; /f\nassoc .jar=jarfile\nftype jarfile=&quot;&lt;FULL_PATH_TO_JAVAW.EXE&gt;&quot; -jar &quot;%1&quot; %*\npause\n</code></pre>\n<p>Don't forget to replace <code>&lt;FULL_PATH_TO_JAVAW.EXE&gt;</code> with YOUR actual javaw.exe path. For example: <code>C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe</code>.</p>\n"}],"owner":{"account_id":25778725,"reputation":1,"user_id":19524624,"display_name":"Axiu666"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688781523,"creation_date":1663835497,"question_id":73811572,"body_markdown":"Environment: Windows 11\r\nProblem: cannot open .jar file(the MARS assembly language simulator)\r\n\r\nHello, I am currently trying to install the MARS assembly language simulator. It is a .jar file so I downloaded java to open it. However, I still can&#39;t open the file even with java downloaded.\r\nI checked if java was installed using my cmd:\r\n[Command prompt showing java successfully installed][1]\r\n\r\n\r\nI tried double-clicking it did not work. So I right-clicked it to open with other apps. But I did not see java in the given options. \r\n[Cannot find the java option to open the file][2]\r\n\r\nThank you so much for helping!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TrC3x.png\r\n  [2]: https://i.stack.imgur.com/wEORT.png","title":"Cannot open .jar files with java installed (windows 11)","body":"<p>Environment: Windows 11\nProblem: cannot open .jar file(the MARS assembly language simulator)</p>\n<p>Hello, I am currently trying to install the MARS assembly language simulator. It is a .jar file so I downloaded java to open it. However, I still can't open the file even with java downloaded.\nI checked if java was installed using my cmd:\n<a href=\"https://i.stack.imgur.com/TrC3x.png\" rel=\"nofollow noreferrer\">Command prompt showing java successfully installed</a></p>\n<p>I tried double-clicking it did not work. So I right-clicked it to open with other apps. But I did not see java in the given options.\n<a href=\"https://i.stack.imgur.com/wEORT.png\" rel=\"nofollow noreferrer\">Cannot find the java option to open the file</a></p>\n<p>Thank you so much for helping!</p>\n"},{"tags":["java","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1688777505,"post_id":76640372,"comment_id":135123733,"body_markdown":"FWIW, module patching is not part of the Java specification. It is a JDK specific mechanism. So, it is not exposed directly in the module reflection API.","body":"FWIW, module patching is not part of the Java specification. It is a JDK specific mechanism. So, it is not exposed directly in the module reflection API."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1688779731,"post_id":76640372,"comment_id":135123881,"body_markdown":"Thanks; for my money this comment should be the answer.","body":"Thanks; for my money this comment should be the answer."}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1688776903,"post_id":76640666,"comment_id":135123680,"body_markdown":"It might be easier to obtain the `location()` from the `ModuleReference`.","body":"It might be easier to obtain the <code>location()</code> from the <code>ModuleReference</code>."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1688777020,"post_id":76640666,"comment_id":135123687,"body_markdown":"@JohannesKuhn I looked at that, but the format seems to be different from the URIs of the resources returned by list() + find()","body":"@JohannesKuhn I looked at that, but the format seems to be different from the URIs of the resources returned by list() + find()"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1688777117,"post_id":76640666,"comment_id":135123695,"body_markdown":"Interesting. This is by the way the thing that matters for the code source property for the protection domain.","body":"Interesting. This is by the way the thing that matters for the code source property for the protection domain."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692982725,"post_id":76640666,"comment_id":135704239,"body_markdown":"Mind that the `ModuleReader` should be closed at the end of the operation. Further, I’d rather use the FileSystem&#160;API, i.e. `Path root = Path.of(reader.find(&quot;module-info.class&quot;) .orElseThrow()).getParent();` and in the loop: `if(!Path.of(reader.find(res).orElseThrow()).startsWith(root)) return true;` There’s one minor catch: it only works if the patch source location actually contributes at least one resource, in other words, it doesn’t work if the directory is empty.","body":"Mind that the <code>ModuleReader</code> should be closed at the end of the operation. Further, I’d rather use the FileSystem API, i.e. <code>Path root = Path.of(reader.find(&quot;module-info.class&quot;) .orElseThrow()).getParent();</code> and in the loop: <code>if(!Path.of(reader.find(res).orElseThrow()).startsWith(root)&zwnj;&#8203;) return true;</code> There’s one minor catch: it only works if the patch source location actually contributes at least one resource, in other words, it doesn’t work if the directory is empty."}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688780952,"creation_date":1688771410,"answer_id":76640666,"question_id":76640372,"body_markdown":"Module patching is not part of the Java specification. It is a JDK specific mechanism. So, it is not exposed directly in the module reflection API.\r\n\r\nThere is a way to detect patched modules though. This is a bit convoluted, but it seems to work:\r\n\r\n    public static boolean isPatched(Module mod) throws IOException {\r\n        ModuleReader reader = mod.getLayer()\r\n          .configuration().findModule(mod.getName()).orElseThrow()\r\n          .reference()\r\n          .open();\r\n\r\n        String modInfoName = &quot;module-info.class&quot;;\r\n        URI modInfo = reader.find(modInfoName).orElseThrow();\r\n        String modInfoStr = modInfo.toString();\r\n        String root = modInfoStr.substring(0, modInfoStr.length() - modInfoName.length());\r\n\r\n\r\n        List&lt;String&gt; resources;\r\n        try (Stream&lt;String&gt; stream = reader.list()) {\r\n            resources = stream.toList();\r\n        }\r\n        for (String res : resources) {\r\n            URI uri = reader.find(res).orElseThrow();\r\n            if (!uri.toString().contains(root)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nThis relies on the fact that `module-info.class` can not be patched over, so it should always be found in the module&#39;s &#39;root&#39; location.\r\n\r\nAfter finding the URI of the module-info.class resource, we can look at all the other resources to see if they are read from the same root path. If not, this means the module is patched.\r\n\r\n(The example does a bit of hand-waving WRT error handling, but hopefully you get the idea).\r\n","title":"Does --patch-module show up reflectively?","body":"<p>Module patching is not part of the Java specification. It is a JDK specific mechanism. So, it is not exposed directly in the module reflection API.</p>\n<p>There is a way to detect patched modules though. This is a bit convoluted, but it seems to work:</p>\n<pre><code>public static boolean isPatched(Module mod) throws IOException {\n    ModuleReader reader = mod.getLayer()\n      .configuration().findModule(mod.getName()).orElseThrow()\n      .reference()\n      .open();\n\n    String modInfoName = &quot;module-info.class&quot;;\n    URI modInfo = reader.find(modInfoName).orElseThrow();\n    String modInfoStr = modInfo.toString();\n    String root = modInfoStr.substring(0, modInfoStr.length() - modInfoName.length());\n\n\n    List&lt;String&gt; resources;\n    try (Stream&lt;String&gt; stream = reader.list()) {\n        resources = stream.toList();\n    }\n    for (String res : resources) {\n        URI uri = reader.find(res).orElseThrow();\n        if (!uri.toString().contains(root)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>This relies on the fact that <code>module-info.class</code> can not be patched over, so it should always be found in the module's 'root' location.</p>\n<p>After finding the URI of the module-info.class resource, we can look at all the other resources to see if they are read from the same root path. If not, this means the module is patched.</p>\n<p>(The example does a bit of hand-waving WRT error handling, but hopefully you get the idea).</p>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688780952,"creation_date":1688765967,"question_id":76640372,"body_markdown":"Suppose `java` is invoked with `--patch-module`.  From within the running program, is there any way to discover that the patched module contains classes and packages in more than one location? I failed to find anything appropriate in `ModuleLayer`, `ModuleReference` and the like. (The `jdk.module.path` System property obviously does not contain any helpful information either, and there is no other promising-looking System property other than `sun.java.command`, which sure looks like I should not rely on it.)","title":"Does --patch-module show up reflectively?","body":"<p>Suppose <code>java</code> is invoked with <code>--patch-module</code>.  From within the running program, is there any way to discover that the patched module contains classes and packages in more than one location? I failed to find anything appropriate in <code>ModuleLayer</code>, <code>ModuleReference</code> and the like. (The <code>jdk.module.path</code> System property obviously does not contain any helpful information either, and there is no other promising-looking System property other than <code>sun.java.command</code>, which sure looks like I should not rely on it.)</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout","flowlayout"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1688768530,"post_id":76640474,"comment_id":135122984,"body_markdown":"The top level panel should NOT use a FlowLayout. The FlowLayout is designed to display components horizontally but will wrap components to a new row as needed which is why you get the result in the first image. Instead the top panel should use a layout manager that is designed to display components vertically. Maybe you can use a `GridBagLayout` with a single column and make sure all component &quot;fill&quot; the column width. See the section from [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) on &quot;Specifying Constraints&quot; for more information.","body":"The top level panel should NOT use a FlowLayout. The FlowLayout is designed to display components horizontally but will wrap components to a new row as needed which is why you get the result in the first image. Instead the top panel should use a layout manager that is designed to display components vertically. Maybe you can use a <code>GridBagLayout</code> with a single column and make sure all component &quot;fill&quot; the column width. See the section from <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> on &quot;Specifying Constraints&quot; for more information."},{"owner":{"account_id":1683700,"reputation":91,"user_id":1547386,"accept_rate":44,"display_name":"user1547386"},"score":0,"creation_date":1688769210,"post_id":76640474,"comment_id":135123048,"body_markdown":"I originally had the top panel a gridbaglayout as well with the c.fill = to horizontal and had similar results, but that was also early on in my development, ill give it another try and let you know","body":"I originally had the top panel a gridbaglayout as well with the c.fill = to horizontal and had similar results, but that was also early on in my development, ill give it another try and let you know"}],"answers":[{"comments":[{"owner":{"account_id":1683700,"reputation":91,"user_id":1547386,"accept_rate":44,"display_name":"user1547386"},"score":0,"creation_date":1689010853,"post_id":76640969,"comment_id":135149828,"body_markdown":"Thank you both,  camickr for giving me the idea of going back to the Gridbaylayout and @MadProgrammer after I switch back to the gridbaylayout I remember the reasoning why I switch in the 1st place, that was because the components were always centered which you covered  in your example, Much appreciated.","body":"Thank you both,  camickr for giving me the idea of going back to the Gridbaylayout and @MadProgrammer after I switch back to the gridbaylayout I remember the reasoning why I switch in the 1st place, that was because the components were always centered which you covered  in your example, Much appreciated."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688778704,"creation_date":1688778704,"answer_id":76640969,"question_id":76640474,"body_markdown":"Like most things, this is all about illusion.  You also need to take into consideration each individual container and how they are getting laid out and how that might effect how the parent&#39;s get laid out.\r\n\r\nIn the following example, the &quot;contents&quot; of the collapsed pane `fill` horizontally, but also occupy all the available horizontal space (ie `weightx = 1`), this ensures that the control is positioned to the &quot;first start line&quot; (ie top/left).\r\n\r\nHowever, when the &quot;contents&quot; are hidden (ie collapsed), the control button will become the only component used to determine the layout, meaning that it will shift to the middle of the container.  Even if you layout of the container to occupy the horizontal area.  This is perfectly normal.\r\n\r\nTo over come this, I added a &quot;filler&quot; component that will, when the container is collapsed, occupy the remaining horizontal space instead (ie `weightx = 1`), there by forcing the control button to remain at the left side ... &quot;magic&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n\r\n                    JPanel contentPane = new JPanel(new GridBagLayout());\r\n                    GridBagConstraints gbc = new GridBagConstraints();\r\n                    gbc.weightx = 1;\r\n                    gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                    gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                    gbc.insets = new Insets(2, 2, 2, 2);\r\n\r\n                    CollapsablePane accountDetailsPane = new CollapsablePane();\r\n                    accountDetailsPane.setContentPane(new AccountPane());\r\n\r\n                    contentPane.add(accountDetailsPane, gbc);\r\n\r\n                    CollapsablePane hardwarePane = new CollapsablePane();\r\n                    hardwarePane.setContentPane(new HardwarePane());\r\n\r\n                    contentPane.add(hardwarePane, gbc);\r\n\r\n                    // Space filler\r\n                    gbc.weighty = 1;\r\n                    contentPane.add(new JPanel(new GridBagLayout()), gbc);\r\n\r\n                    frame.add(contentPane);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class CollapsablePane extends JPanel {\r\n\r\n            private JButton controlButton;\r\n            private JLabel collapsedFiller;\r\n            private JPanel contentPane = new JPanel();\r\n\r\n            public CollapsablePane() {\r\n                setLayout(new GridBagLayout());\r\n                setContentPane(contentPane);\r\n                setBorder(new LineBorder(Color.DARK_GRAY));\r\n\r\n                controlButton = new JButton(&quot;-&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n\r\n                super.add(controlButton, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridx = 10;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                collapsedFiller = new JLabel();\r\n                super.add(collapsedFiller, gbc);\r\n                collapsedFiller.setVisible(false);\r\n\r\n                controlButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        setCollapsed(getContentPane().isVisible());\r\n                        controlButton.setText(getContentPane().isVisible() ? &quot;-&quot; : &quot;+&quot;);\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void setCollapsed(boolean collapsed) {\r\n                JPanel contentPane = getContentPane();\r\n                if (contentPane == null) {\r\n                    return;\r\n                }\r\n                contentPane.setVisible(!collapsed);\r\n                collapsedFiller.setVisible(collapsed);\r\n            }\r\n\r\n            public void setContentPane(JPanel newPane) {\r\n                if (contentPane == newPane) {\r\n                    return;\r\n                }\r\n                if (contentPane != null) {\r\n                    remove(contentPane);\r\n                }\r\n                contentPane = newPane;\r\n                if (contentPane == null) {\r\n                    return;\r\n                }\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 1;\r\n                gbc.gridy = 1;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n                super.add(contentPane, gbc);\r\n            }\r\n\r\n            public JPanel getContentPane() {\r\n                return contentPane;\r\n            }\r\n\r\n            @Override\r\n            public Component add(Component comp) {\r\n                throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void add(Component comp, Object constraints) {\r\n                throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public Component add(Component comp, int index) {\r\n                throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public Component add(String name, Component comp) {\r\n                throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void add(Component comp, Object constraints, int index) {\r\n                throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\r\n            }\r\n        }\r\n\r\n        public class AccountPane extends JPanel {\r\n            public AccountPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n\r\n                add(new JLabel(&quot;Title: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Manager: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Entity: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Location: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Mirror: &quot;), gbc);\r\n\r\n                gbc.gridy = 0;\r\n                gbc.gridx = 1;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.weightx = 1;\r\n\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n            }\r\n        }\r\n\r\n        public class HardwarePane extends JPanel {\r\n            public HardwarePane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.weightx = 1;\r\n\r\n                add(new JLabel(&quot;Hardware: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JRadioButton(&quot;Hardware Bundle&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JRadioButton(&quot;Hardware Bundle with Verizon Card&quot;), gbc);\r\n\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Hardware Deployment: &quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H6q82.gif\r\n\r\nYou will also note that I add a empty `JPanel` below the the two collapsed panes and force it to occupy the remaining vertical space, this ensures that the layout stays at the top of the container.","title":"Layout Manager assistance","body":"<p>Like most things, this is all about illusion.  You also need to take into consideration each individual container and how they are getting laid out and how that might effect how the parent's get laid out.</p>\n<p>In the following example, the &quot;contents&quot; of the collapsed pane <code>fill</code> horizontally, but also occupy all the available horizontal space (ie <code>weightx = 1</code>), this ensures that the control is positioned to the &quot;first start line&quot; (ie top/left).</p>\n<p>However, when the &quot;contents&quot; are hidden (ie collapsed), the control button will become the only component used to determine the layout, meaning that it will shift to the middle of the container.  Even if you layout of the container to occupy the horizontal area.  This is perfectly normal.</p>\n<p>To over come this, I added a &quot;filler&quot; component that will, when the container is collapsed, occupy the remaining horizontal space instead (ie <code>weightx = 1</code>), there by forcing the control button to remain at the left side ... &quot;magic&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/H6q82.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H6q82.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\nimport javax.swing.border.LineBorder;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n\n                JPanel contentPane = new JPanel(new GridBagLayout());\n                GridBagConstraints gbc = new GridBagConstraints();\n                gbc.weightx = 1;\n                gbc.fill = GridBagConstraints.HORIZONTAL;\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\n                gbc.insets = new Insets(2, 2, 2, 2);\n\n                CollapsablePane accountDetailsPane = new CollapsablePane();\n                accountDetailsPane.setContentPane(new AccountPane());\n\n                contentPane.add(accountDetailsPane, gbc);\n\n                CollapsablePane hardwarePane = new CollapsablePane();\n                hardwarePane.setContentPane(new HardwarePane());\n\n                contentPane.add(hardwarePane, gbc);\n\n                // Space filler\n                gbc.weighty = 1;\n                contentPane.add(new JPanel(new GridBagLayout()), gbc);\n\n                frame.add(contentPane);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class CollapsablePane extends JPanel {\n\n        private JButton controlButton;\n        private JLabel collapsedFiller;\n        private JPanel contentPane = new JPanel();\n\n        public CollapsablePane() {\n            setLayout(new GridBagLayout());\n            setContentPane(contentPane);\n            setBorder(new LineBorder(Color.DARK_GRAY));\n\n            controlButton = new JButton(&quot;-&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.FIRST_LINE_START;\n\n            super.add(controlButton, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.gridx = 10;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            collapsedFiller = new JLabel();\n            super.add(collapsedFiller, gbc);\n            collapsedFiller.setVisible(false);\n\n            controlButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    setCollapsed(getContentPane().isVisible());\n                    controlButton.setText(getContentPane().isVisible() ? &quot;-&quot; : &quot;+&quot;);\n                }\n            });\n        }\n\n        public void setCollapsed(boolean collapsed) {\n            JPanel contentPane = getContentPane();\n            if (contentPane == null) {\n                return;\n            }\n            contentPane.setVisible(!collapsed);\n            collapsedFiller.setVisible(collapsed);\n        }\n\n        public void setContentPane(JPanel newPane) {\n            if (contentPane == newPane) {\n                return;\n            }\n            if (contentPane != null) {\n                remove(contentPane);\n            }\n            contentPane = newPane;\n            if (contentPane == null) {\n                return;\n            }\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 1;\n            gbc.gridy = 1;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.anchor = GridBagConstraints.FIRST_LINE_START;\n            super.add(contentPane, gbc);\n        }\n\n        public JPanel getContentPane() {\n            return contentPane;\n        }\n\n        @Override\n        public Component add(Component comp) {\n            throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\n        }\n\n        @Override\n        public void add(Component comp, Object constraints) {\n            throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\n        }\n\n        @Override\n        public Component add(Component comp, int index) {\n            throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\n        }\n\n        @Override\n        public Component add(String name, Component comp) {\n            throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\n        }\n\n        @Override\n        public void add(Component comp, Object constraints, int index) {\n            throw new UnsupportedOperationException(&quot;Use setContentPane instead&quot;);\n        }\n    }\n\n    public class AccountPane extends JPanel {\n        public AccountPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_START;\n\n            add(new JLabel(&quot;Title: &quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Manager: &quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Entity: &quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Location: &quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Mirror: &quot;), gbc);\n\n            gbc.gridy = 0;\n            gbc.gridx = 1;\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.weightx = 1;\n\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n        }\n    }\n\n    public class HardwarePane extends JPanel {\n        public HardwarePane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_START;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.weightx = 1;\n\n            add(new JLabel(&quot;Hardware: &quot;), gbc);\n            gbc.gridy++;\n            add(new JRadioButton(&quot;Hardware Bundle&quot;), gbc);\n            gbc.gridy++;\n            add(new JRadioButton(&quot;Hardware Bundle with Verizon Card&quot;), gbc);\n\n            gbc.gridy++;\n            add(new JLabel(&quot;Hardware Deployment: &quot;), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n        }\n    }\n}\n</code></pre>\n<p>You will also note that I add a empty <code>JPanel</code> below the the two collapsed panes and force it to occupy the remaining vertical space, this ensures that the layout stays at the top of the container.</p>\n"}],"owner":{"account_id":1683700,"reputation":91,"user_id":1547386,"accept_rate":44,"display_name":"user1547386"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76640969,"answer_count":1,"score":0,"last_activity_date":1688778704,"creation_date":1688767747,"question_id":76640474,"body_markdown":"I&#39;m trying to make a collapsible panel look and having some issue with the layout manager, I&#39;m pretty new at using layout managers and trying to userstand them. I have Jpanel with a flowlayout, I&#39;m adding additional Jpanels which uses a GridBagLayout that removes and adds components with the click of a button, to give collapsed look to give it a form feel, I want the collapsible pane to stretch across the whole frame when I remove all the components but I get the following result\r\n[![enter image description here][1]][1] to look like this [![enter image description here][2]][2] which I achieved by adding a blank JLabel. This is working fine until I started adding more Jpanels that are not stretching across the screen like I want, like the Hardware Bundle Jpanel below.  \r\n[![enter image description here][3]][3]\r\nnot 100% sure but I believe this is an issues with the Flow layout manager just doing its job and just adding the components to the frame, just didn&#39;t know if there is something I can do do get my collapse Jpanel to fill the frame horizontally.\r\n\r\nAny help is appreciated\r\n\r\nHere is my Jpanel class that uses the flowlayout and manages my background\r\n\r\n    public class Panel extends JPanel {\r\n    \r\n        private final ArrayList&lt;Component&gt; comp = new ArrayList();\r\n    \r\n        public Panel() {\r\n            super();\r\n            this.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponents(g);\r\n            g.drawImage(Assets.getImage(Assets.background, 350, 590), 0, 0, this);\r\n        }\r\n    \r\n        public void addComp(Component c) {\r\n            this.add(c);\r\n            comp.add(c);   \r\n        }\r\n        \r\n        public void createCopy(){\r\n            Button copy = new Button(&quot;Process&quot;, new ImageIcon(Assets.getImage(Assets.button, 120, 35)));\r\n            copy.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    for(Component c : comp){\r\n                        System.out.println(((CollapsePane)c).format());\r\n                    }\r\n                }\r\n            });\r\n            \r\n            add(copy);\r\n        }\r\n    }\r\n\r\nhere is my abstract class that manages the remove and adding of my form componenets\r\n\r\nabstract class CollapsePane extends JPanel {\r\n\r\n    private JButton expand;\r\n    private JLabel fill = new JLabel(&quot;                                                                                                 &quot;);\r\n    private boolean collapse = false;\r\n    public GridBagConstraints c;\r\n    private ArrayList&lt;Pair&gt; comp = new ArrayList();\r\n    String title;\r\n    \r\n   \r\n\r\n    public CollapsePane(String title) {\r\n        this.setOpaque(false);\r\n        this.title = title;\r\n        TitledBorder border;\r\n        border = BorderFactory.createTitledBorder(new BevelBorder(BevelBorder.RAISED, Color.black, Color.black), title);\r\n        border.setTitleJustification(TitledBorder.LEFT);\r\n        this.setBorder(border);\r\n\r\n        this.setLayout(new GridBagLayout());\r\n        c = new GridBagConstraints();\r\n        c.anchor = GridBagConstraints.WEST;\r\n        c.fill = GridBagConstraints.HORIZONTAL;\r\n        c.gridx = 0;\r\n        c.gridy = 0;\r\n        createButton();\r\n        this.add(expand, c);\r\n       \r\n        \r\n\r\n    }\r\n\r\n    public CollapsePane(String title, boolean collapse) {\r\n        this.title = title;\r\n        this.setOpaque(false);\r\n        TitledBorder border;\r\n        border = BorderFactory.createTitledBorder(new BevelBorder(BevelBorder.RAISED, Color.black, Color.black), title);\r\n        border.setTitleJustification(TitledBorder.LEFT);\r\n        this.setBorder(border);\r\n        this.collapse = collapse;\r\n        this.setLayout(new GridBagLayout());\r\n        c = new GridBagConstraints();\r\n        c.anchor = GridBagConstraints.WEST;\r\n        c.fill = GridBagConstraints.HORIZONTAL;\r\n        c.gridx = 0;\r\n        c.gridy = 0;\r\n        createButton();\r\n        this.add(expand, c);\r\n        this.collapse = collapse;\r\n    }\r\n    \r\n   \r\n    \r\n    abstract void config();\r\n\r\n    private void createButton() {\r\n        if (collapse == false) {\r\n            expand = new Button(&quot;-&quot;, new ImageIcon(Assets.getImage(Assets.blankButton, 30, 30)));\r\n        } else {\r\n            expand = new Button(&quot;+&quot; , new ImageIcon(Assets.getImage(Assets.blankButton, 30, 30)));\r\n        }\r\n        expand.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (collapse) {\r\n                    expand.setText(&quot;-&quot;);\r\n                    remove(fill);\r\n                    collapse = false;\r\n                    add();\r\n                } else {\r\n                    expand.setText(&quot;+&quot;);\r\n                    clear();\r\n\r\n                    add(fill);\r\n                    collapse = true;\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void clear() {\r\n        System.out.println(&quot;clear&quot;);\r\n        for (Pair p : comp) {\r\n            this.remove((Component)p.getComponent());\r\n        }\r\n\r\n    }\r\n\r\n    public void add() {\r\n        //System.out.println(&quot;add&quot;);\r\n        //System.out.println(&quot;compt size:&quot; + comp.size());\r\n       \r\n\r\n        for (int i = 0; i &lt; comp.size(); i++) {\r\n            c.fill = GridBagConstraints.HORIZONTAL;\r\n            c.anchor = GridBagConstraints.WEST;\r\n            c.insets = new Insets(0, 5, 5, 5);\r\n            c.gridx = (int)comp.get(i).getxPos();\r\n            c.gridy = (int)comp.get(i).getyPos();\r\n            // System.out.println(&quot;coor &quot; + i + &quot; &quot; + x + &quot; &quot; + y);\r\n            this.add((Component)comp.get(i).getComponent(), c);\r\n\r\n        }\r\n    }\r\n\r\n    public void addComp(Component comp, int x, int y) {\r\n        c.fill = GridBagConstraints.HORIZONTAL;\r\n        c.anchor = GridBagConstraints.WEST;\r\n        c.insets = new Insets(0, 5, 5, 5);\r\n        c.gridx = x;\r\n        c.gridy = y;\r\n        if (!collapse) {\r\n            this.add(comp, c);\r\n        }\r\n        this.comp.add(new Pair(comp,x,y));\r\n\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JFoHr.png\r\n  [2]: https://i.stack.imgur.com/h3Aap.png\r\n  [3]: https://i.stack.imgur.com/lk0Jd.png","title":"Layout Manager assistance","body":"<p>I'm trying to make a collapsible panel look and having some issue with the layout manager, I'm pretty new at using layout managers and trying to userstand them. I have Jpanel with a flowlayout, I'm adding additional Jpanels which uses a GridBagLayout that removes and adds components with the click of a button, to give collapsed look to give it a form feel, I want the collapsible pane to stretch across the whole frame when I remove all the components but I get the following result\n<a href=\"https://i.stack.imgur.com/JFoHr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFoHr.png\" alt=\"enter image description here\" /></a> to look like this <a href=\"https://i.stack.imgur.com/h3Aap.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3Aap.png\" alt=\"enter image description here\" /></a> which I achieved by adding a blank JLabel. This is working fine until I started adding more Jpanels that are not stretching across the screen like I want, like the Hardware Bundle Jpanel below.<br />\n<a href=\"https://i.stack.imgur.com/lk0Jd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lk0Jd.png\" alt=\"enter image description here\" /></a>\nnot 100% sure but I believe this is an issues with the Flow layout manager just doing its job and just adding the components to the frame, just didn't know if there is something I can do do get my collapse Jpanel to fill the frame horizontally.</p>\n<p>Any help is appreciated</p>\n<p>Here is my Jpanel class that uses the flowlayout and manages my background</p>\n<pre><code>public class Panel extends JPanel {\n\n    private final ArrayList&lt;Component&gt; comp = new ArrayList();\n\n    public Panel() {\n        super();\n        this.setLayout(new FlowLayout(FlowLayout.LEFT));\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponents(g);\n        g.drawImage(Assets.getImage(Assets.background, 350, 590), 0, 0, this);\n    }\n\n    public void addComp(Component c) {\n        this.add(c);\n        comp.add(c);   \n    }\n    \n    public void createCopy(){\n        Button copy = new Button(&quot;Process&quot;, new ImageIcon(Assets.getImage(Assets.button, 120, 35)));\n        copy.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                for(Component c : comp){\n                    System.out.println(((CollapsePane)c).format());\n                }\n            }\n        });\n        \n        add(copy);\n    }\n}\n</code></pre>\n<p>here is my abstract class that manages the remove and adding of my form componenets</p>\n<p>abstract class CollapsePane extends JPanel {</p>\n<pre><code>private JButton expand;\nprivate JLabel fill = new JLabel(&quot;                                                                                                 &quot;);\nprivate boolean collapse = false;\npublic GridBagConstraints c;\nprivate ArrayList&lt;Pair&gt; comp = new ArrayList();\nString title;\n\n\n\npublic CollapsePane(String title) {\n    this.setOpaque(false);\n    this.title = title;\n    TitledBorder border;\n    border = BorderFactory.createTitledBorder(new BevelBorder(BevelBorder.RAISED, Color.black, Color.black), title);\n    border.setTitleJustification(TitledBorder.LEFT);\n    this.setBorder(border);\n\n    this.setLayout(new GridBagLayout());\n    c = new GridBagConstraints();\n    c.anchor = GridBagConstraints.WEST;\n    c.fill = GridBagConstraints.HORIZONTAL;\n    c.gridx = 0;\n    c.gridy = 0;\n    createButton();\n    this.add(expand, c);\n   \n    \n\n}\n\npublic CollapsePane(String title, boolean collapse) {\n    this.title = title;\n    this.setOpaque(false);\n    TitledBorder border;\n    border = BorderFactory.createTitledBorder(new BevelBorder(BevelBorder.RAISED, Color.black, Color.black), title);\n    border.setTitleJustification(TitledBorder.LEFT);\n    this.setBorder(border);\n    this.collapse = collapse;\n    this.setLayout(new GridBagLayout());\n    c = new GridBagConstraints();\n    c.anchor = GridBagConstraints.WEST;\n    c.fill = GridBagConstraints.HORIZONTAL;\n    c.gridx = 0;\n    c.gridy = 0;\n    createButton();\n    this.add(expand, c);\n    this.collapse = collapse;\n}\n\n\n\nabstract void config();\n\nprivate void createButton() {\n    if (collapse == false) {\n        expand = new Button(&quot;-&quot;, new ImageIcon(Assets.getImage(Assets.blankButton, 30, 30)));\n    } else {\n        expand = new Button(&quot;+&quot; , new ImageIcon(Assets.getImage(Assets.blankButton, 30, 30)));\n    }\n    expand.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (collapse) {\n                expand.setText(&quot;-&quot;);\n                remove(fill);\n                collapse = false;\n                add();\n            } else {\n                expand.setText(&quot;+&quot;);\n                clear();\n\n                add(fill);\n                collapse = true;\n\n            }\n\n        }\n    });\n\n}\n\nprivate void clear() {\n    System.out.println(&quot;clear&quot;);\n    for (Pair p : comp) {\n        this.remove((Component)p.getComponent());\n    }\n\n}\n\npublic void add() {\n    //System.out.println(&quot;add&quot;);\n    //System.out.println(&quot;compt size:&quot; + comp.size());\n   \n\n    for (int i = 0; i &lt; comp.size(); i++) {\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.anchor = GridBagConstraints.WEST;\n        c.insets = new Insets(0, 5, 5, 5);\n        c.gridx = (int)comp.get(i).getxPos();\n        c.gridy = (int)comp.get(i).getyPos();\n        // System.out.println(&quot;coor &quot; + i + &quot; &quot; + x + &quot; &quot; + y);\n        this.add((Component)comp.get(i).getComponent(), c);\n\n    }\n}\n\npublic void addComp(Component comp, int x, int y) {\n    c.fill = GridBagConstraints.HORIZONTAL;\n    c.anchor = GridBagConstraints.WEST;\n    c.insets = new Insets(0, 5, 5, 5);\n    c.gridx = x;\n    c.gridy = y;\n    if (!collapse) {\n        this.add(comp, c);\n    }\n    this.comp.add(new Pair(comp,x,y));\n\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx","click","scrollpane"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688664695,"post_id":76628363,"comment_id":135107703,"body_markdown":"I don’t like questions like this that ask to do something strange with no context or explanation as to why.  Why use an interactive control like a ScrollPane if the user cannot interact with it?","body":"I don’t like questions like this that ask to do something strange with no context or explanation as to why.  Why use an interactive control like a ScrollPane if the user cannot interact with it?"},{"owner":{"account_id":25976066,"reputation":7,"user_id":19690501,"display_name":"Bruce"},"score":0,"creation_date":1688726445,"post_id":76628363,"comment_id":135115736,"body_markdown":"I dont mean that, i just dont want to select the scroll pane while still maintaining clicking functions of buttons inside the scroll pane","body":"I dont mean that, i just dont want to select the scroll pane while still maintaining clicking functions of buttons inside the scroll pane"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688727154,"post_id":76628363,"comment_id":135115877,"body_markdown":"Yes, I misunderstood what you are asking.  And this is why you need to better ask your question: by providing context as to what you are doing, what you expect to happen, why you are doing it and what is not working.  Include a [mcve] that replicates the issue so somebody can copy and run it without any effort or change, then see for themselves exactly what went wrong.  Otherwise, you will continue to receive no answers or answers that don&#39;t actually help you, or you tackle an [xy problem](https://xyproblem.info/).","body":"Yes, I misunderstood what you are asking.  And this is why you need to better ask your question: by providing context as to what you are doing, what you expect to happen, why you are doing it and what is not working.  Include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that replicates the issue so somebody can copy and run it without any effort or change, then see for themselves exactly what went wrong.  Otherwise, you will continue to receive no answers or answers that don&#39;t actually help you, or you tackle an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>."},{"owner":{"account_id":25976066,"reputation":7,"user_id":19690501,"display_name":"Bruce"},"score":0,"creation_date":1688777961,"post_id":76628363,"comment_id":135123764,"body_markdown":"I updated the question, i hope you can answer it, sorry for not adding helpful stuff, thank you for fixing my mistakes :)","body":"I updated the question, i hope you can answer it, sorry for not adding helpful stuff, thank you for fixing my mistakes :)"}],"answers":[{"comments":[{"owner":{"account_id":25976066,"reputation":7,"user_id":19690501,"display_name":"Bruce"},"score":0,"creation_date":1688726361,"post_id":76629129,"comment_id":135115722,"body_markdown":"It doesnt work, i cant click the buttons inside the scroll pane, i want to add other thing, the buttons is inside a pane which is inside the scroll pane, maybe its the problem","body":"It doesnt work, i cant click the buttons inside the scroll pane, i want to add other thing, the buttons is inside a pane which is inside the scroll pane, maybe its the problem"},{"owner":{"account_id":27840367,"reputation":1,"user_id":21256954,"display_name":"JoFyNi"},"score":1,"creation_date":1688728004,"post_id":76629129,"comment_id":135116073,"body_markdown":"Can you share more of your code?","body":"Can you share more of your code?"},{"owner":{"account_id":25976066,"reputation":7,"user_id":19690501,"display_name":"Bruce"},"score":0,"creation_date":1688778002,"post_id":76629129,"comment_id":135123766,"body_markdown":"I updated the question with the fxml file and a picture to better understand the problem, I hope you can fix it","body":"I updated the question with the fxml file and a picture to better understand the problem, I hope you can fix it"}],"tags":[],"owner":{"account_id":27840367,"reputation":1,"user_id":21256954,"display_name":"JoFyNi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688648501,"creation_date":1688648501,"answer_id":76629129,"question_id":76628363,"body_markdown":"To make a scroll pane non-clickable while still allowing interaction with the components inside it, you can use a combination of event filters and event handlers. Here&#39;s an approach you can try:\r\n\r\n\r\n    buttonScrollPane.addEventFilter(MouseEvent.ANY, MouseEvent::consume);\r\n    buttonScrollPane.addEventFilter(ScrollEvent.ANY, ScrollEvent::consume);\r\n    buttonScrollPane.addEventHandler(MouseEvent.MOUSE_ENTERED, e -&gt; {\r\n        buttonScrollPane.setMouseTransparent(true);\r\n    });\r\n\r\n    buttonScrollPane.addEventHandler(MouseEvent.MOUSE_EXITED, e -&gt; {\r\n        buttonScrollPane.setMouseTransparent(false);\r\n    });\r\n\r\nExplanation:\r\n\r\nThe addEventFilter method is used to consume all mouse events (including MOUSE_PRESSED, MOUSE_RELEASED, MOUSE_DRAGGED, and MOUSE_CLICKED) on the scroll pane, preventing them from being processed further.\r\nAdditionally, you can consume ScrollEvent using addEventFilter to disable scrolling on the scroll pane.\r\nTo allow interaction with the components inside the scroll pane, we set the mouseTransparent property of the scroll pane to true when the mouse enters the scroll pane, and set it back to false when the mouse exits. This property determines whether the node (in this case, the scroll pane) should be transparent to mouse events or not.\r\nBy following this approach, the scroll pane itself will be non-clickable, but the components inside it will still receive mouse events and be clickable.\r\n","title":"Is there a way to disable the click in JavaFX ScrollPane?","body":"<p>To make a scroll pane non-clickable while still allowing interaction with the components inside it, you can use a combination of event filters and event handlers. Here's an approach you can try:</p>\n<pre><code>buttonScrollPane.addEventFilter(MouseEvent.ANY, MouseEvent::consume);\nbuttonScrollPane.addEventFilter(ScrollEvent.ANY, ScrollEvent::consume);\nbuttonScrollPane.addEventHandler(MouseEvent.MOUSE_ENTERED, e -&gt; {\n    buttonScrollPane.setMouseTransparent(true);\n});\n\nbuttonScrollPane.addEventHandler(MouseEvent.MOUSE_EXITED, e -&gt; {\n    buttonScrollPane.setMouseTransparent(false);\n});\n</code></pre>\n<p>Explanation:</p>\n<p>The addEventFilter method is used to consume all mouse events (including MOUSE_PRESSED, MOUSE_RELEASED, MOUSE_DRAGGED, and MOUSE_CLICKED) on the scroll pane, preventing them from being processed further.\nAdditionally, you can consume ScrollEvent using addEventFilter to disable scrolling on the scroll pane.\nTo allow interaction with the components inside the scroll pane, we set the mouseTransparent property of the scroll pane to true when the mouse enters the scroll pane, and set it back to false when the mouse exits. This property determines whether the node (in this case, the scroll pane) should be transparent to mouse events or not.\nBy following this approach, the scroll pane itself will be non-clickable, but the components inside it will still receive mouse events and be clickable.</p>\n"}],"owner":{"account_id":25976066,"reputation":7,"user_id":19690501,"display_name":"Bruce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688778514,"creation_date":1688643000,"question_id":76628363,"body_markdown":"I want my ScrollPane to be not clickable but the components inside of it must be active.\r\n\r\nI tried this but I can&#39;t click inside the ScrollPane. \r\n\r\n```java\r\nbuttonScrollPane.addEventFilter(MouseEvent.MOUSE_PRESSED, MouseEvent::consume);\r\nbuttonScrollPane.addEventFilter(MouseEvent.MOUSE_RELEASED, MouseEvent::consume);\r\nbuttonScrollPane.addEventFilter(MouseEvent.MOUSE_DRAGGED, MouseEvent::consume);\r\nbuttonScrollPane.addEventFilter(MouseEvent.MOUSE_CLICKED, MouseEvent::consume);\r\n```\r\n\r\nI also tried this css code and still dont work\r\n```\r\nstyle=&quot;user-select: none;&quot;\r\n```\r\n\r\n\r\nhere&#39;s the fxml code\r\n\r\n```fxml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ScrollPane?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n&lt;Pane fx:id=&quot;showAppsAndSitesPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; style=&quot;user-select: none;&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;passwordmanager.controllers.Controller&quot;&gt;\r\n   &lt;Label fx:id=&quot;noOfAppsAndSitesLabel&quot; layoutX=&quot;180.0&quot; layoutY=&quot;60.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Apps / Sites&quot; /&gt;\r\n   &lt;Button fx:id=&quot;addAppAndSiteButton&quot; layoutX=&quot;1000.0&quot; layoutY=&quot;60.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#showAddAppsAndSite&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Add App / Site&quot; /&gt;\r\n   &lt;ScrollPane fx:id=&quot;buttonScrollPane&quot; hbarPolicy=&quot;NEVER&quot; layoutX=&quot;320.0&quot; layoutY=&quot;266.0&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;640.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; vbarPolicy=&quot;ALWAYS&quot;&gt;\r\n         &lt;Pane fx:id=&quot;buttonPane&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;625.0&quot; /&gt;\r\n   &lt;/ScrollPane&gt;\r\n   &lt;Pane fx:id=&quot;addAppAndSitePane&quot; layoutX=&quot;892.0&quot; layoutY=&quot;120.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;278.0&quot; prefWidth=&quot;366.0&quot; visible=&quot;false&quot;&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;158.0&quot; layoutY=&quot;26.0&quot; prefWidth=&quot;80.0&quot; scaleX=&quot;3.0&quot; scaleY=&quot;3.0&quot; scaleZ=&quot;3.0&quot; text=&quot;Add App / Site&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;appOrSiteField&quot; layoutX=&quot;135.0&quot; layoutY=&quot;95.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;149.0&quot; promptText=&quot;Site&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; /&gt;\r\n      &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;135.0&quot; layoutY=&quot;155.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;149.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; visible=&quot;false&quot; /&gt;\r\n      &lt;Button fx:id=&quot;addAppOrSiteButton&quot; layoutX=&quot;135.0&quot; layoutY=&quot;155.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addAppsAndSite&quot; prefWidth=&quot;149.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Add&quot; /&gt;\r\n      &lt;Button fx:id=&quot;cancelButton&quot; layoutX=&quot;135.0&quot; layoutY=&quot;215.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#hideAddAppsAndSite&quot; prefWidth=&quot;149.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Cancel&quot; /&gt;\r\n   &lt;/Pane&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\n[As you can see, I can click/select the scroll pane which shouldn&#39;t be, unlike the JScrollPane in java swing which you can&#39;t select/click the JscrollPane, only the scroll bar, so thats my problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AacrI.png","title":"Is there a way to disable the click in JavaFX ScrollPane?","body":"<p>I want my ScrollPane to be not clickable but the components inside of it must be active.</p>\n<p>I tried this but I can't click inside the ScrollPane.</p>\n<pre class=\"lang-java prettyprint-override\"><code>buttonScrollPane.addEventFilter(MouseEvent.MOUSE_PRESSED, MouseEvent::consume);\nbuttonScrollPane.addEventFilter(MouseEvent.MOUSE_RELEASED, MouseEvent::consume);\nbuttonScrollPane.addEventFilter(MouseEvent.MOUSE_DRAGGED, MouseEvent::consume);\nbuttonScrollPane.addEventFilter(MouseEvent.MOUSE_CLICKED, MouseEvent::consume);\n</code></pre>\n<p>I also tried this css code and still dont work</p>\n<pre><code>style=&quot;user-select: none;&quot;\n</code></pre>\n<p>here's the fxml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ScrollPane?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n&lt;Pane fx:id=&quot;showAppsAndSitesPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; style=&quot;user-select: none;&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;passwordmanager.controllers.Controller&quot;&gt;\n   &lt;Label fx:id=&quot;noOfAppsAndSitesLabel&quot; layoutX=&quot;180.0&quot; layoutY=&quot;60.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Apps / Sites&quot; /&gt;\n   &lt;Button fx:id=&quot;addAppAndSiteButton&quot; layoutX=&quot;1000.0&quot; layoutY=&quot;60.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#showAddAppsAndSite&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Add App / Site&quot; /&gt;\n   &lt;ScrollPane fx:id=&quot;buttonScrollPane&quot; hbarPolicy=&quot;NEVER&quot; layoutX=&quot;320.0&quot; layoutY=&quot;266.0&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;640.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; vbarPolicy=&quot;ALWAYS&quot;&gt;\n         &lt;Pane fx:id=&quot;buttonPane&quot; prefHeight=&quot;300.0&quot; prefWidth=&quot;625.0&quot; /&gt;\n   &lt;/ScrollPane&gt;\n   &lt;Pane fx:id=&quot;addAppAndSitePane&quot; layoutX=&quot;892.0&quot; layoutY=&quot;120.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;278.0&quot; prefWidth=&quot;366.0&quot; visible=&quot;false&quot;&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;158.0&quot; layoutY=&quot;26.0&quot; prefWidth=&quot;80.0&quot; scaleX=&quot;3.0&quot; scaleY=&quot;3.0&quot; scaleZ=&quot;3.0&quot; text=&quot;Add App / Site&quot; /&gt;\n      &lt;TextField fx:id=&quot;appOrSiteField&quot; layoutX=&quot;135.0&quot; layoutY=&quot;95.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;149.0&quot; promptText=&quot;Site&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; /&gt;\n      &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;135.0&quot; layoutY=&quot;155.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;149.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; visible=&quot;false&quot; /&gt;\n      &lt;Button fx:id=&quot;addAppOrSiteButton&quot; layoutX=&quot;135.0&quot; layoutY=&quot;155.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addAppsAndSite&quot; prefWidth=&quot;149.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Add&quot; /&gt;\n      &lt;Button fx:id=&quot;cancelButton&quot; layoutX=&quot;135.0&quot; layoutY=&quot;215.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#hideAddAppsAndSite&quot; prefWidth=&quot;149.0&quot; scaleX=&quot;2.0&quot; scaleY=&quot;2.0&quot; scaleZ=&quot;2.0&quot; text=&quot;Cancel&quot; /&gt;\n   &lt;/Pane&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AacrI.png\" rel=\"nofollow noreferrer\">As you can see, I can click/select the scroll pane which shouldn't be, unlike the JScrollPane in java swing which you can't select/click the JscrollPane, only the scroll bar, so thats my problem</a></p>\n"},{"tags":["java","apache-httpclient-4.x","apache-httpcomponents"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1275996940,"post_id":2996755,"comment_id":3060504,"body_markdown":"*&quot;it has lost of weird params&quot;* this is too vague. You need to clarify this more. Keep in mind: don&#39;t ignore errors, interpret them. They tell something about the cause. You know, once a cause is understood, the solution is obvious.","body":"<i>&quot;it has lost of weird params&quot;</i> this is too vague. You need to clarify this more. Keep in mind: don&#39;t ignore errors, interpret them. They tell something about the cause. You know, once a cause is understood, the solution is obvious."}],"answers":[{"comments":[{"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"score":0,"creation_date":1275996790,"post_id":2996779,"comment_id":3060495,"body_markdown":"on my system HttpServletResponse does not exist, only HttpResponse","body":"on my system HttpServletResponse does not exist, only HttpResponse"},{"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"score":0,"creation_date":1275997032,"post_id":2996779,"comment_id":3060512,"body_markdown":"Anyway, I implementd it and there are a whole lot of methods that need to be overridden.  Is it ok just to leave these blank.  When I call HttpEntity entity = response.getEntity(); I don&#39;t want an error to occur, I just want the stream to be an empty string","body":"Anyway, I implementd it and there are a whole lot of methods that need to be overridden.  Is it ok just to leave these blank.  When I call HttpEntity entity = response.getEntity(); I don&#39;t want an error to occur, I just want the stream to be an empty string"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":4,"creation_date":1531853051,"post_id":2996779,"comment_id":89748485,"body_markdown":"No code reviewer in my company will accept 5 screens of empty methods.","body":"No code reviewer in my company will accept 5 screens of empty methods."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":3,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1275996871,"creation_date":1275995879,"answer_id":2996779,"question_id":2996755,"body_markdown":"Just implement `HttpResponse` with no-op methods.","title":"How can I create an empty dummy HttpResponse","body":"<p>Just implement <code>HttpResponse</code> with no-op methods.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1276000706,"post_id":2997240,"comment_id":3060975,"body_markdown":"He&#39;s talking about Apache Commons HttpClient, not about servlets. http://hc.apache.org/httpcomponents-core/httpcore/apidocs/org/apache/http/HttpResponse.html By the way, on a servlet it would be easy, just don&#39;t touch the response.","body":"He&#39;s talking about Apache Commons HttpClient, not about servlets. <a href=\"http://hc.apache.org/httpcomponents-core/httpcore/apidocs/org/apache/http/HttpResponse.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-core/httpcore/apidocs/org/apach&zwnj;&#8203;e/&hellip;</a> By the way, on a servlet it would be easy, just don&#39;t touch the response."}],"tags":[],"owner":{"account_id":69685,"reputation":123,"user_id":202624,"display_name":"Gabor Farkas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276000264,"creation_date":1276000264,"answer_id":2997240,"question_id":2996755,"body_markdown":"Indeed, implementing a HttpServletResponse seems quite a lot work, and you&#39;ll be dependent on the actual Servlet implementation.\r\n\r\nI think I&#39;d use `request.getRequestDispatcher(&quot;/dummy.html&quot;).forward(request, response)`","title":"How can I create an empty dummy HttpResponse","body":"<p>Indeed, implementing a HttpServletResponse seems quite a lot work, and you'll be dependent on the actual Servlet implementation.</p>\n\n<p>I think I'd use <code>request.getRequestDispatcher(\"/dummy.html\").forward(request, response)</code></p>\n"},{"comments":[{"owner":{"account_id":2733786,"reputation":181,"user_id":2356897,"accept_rate":75,"display_name":"kerZy Hart"},"score":4,"creation_date":1455176305,"post_id":10609572,"comment_id":58374327,"body_markdown":"HOW TO ADD DATA IN THE HttpResponse Object","body":"HOW TO ADD DATA IN THE HttpResponse Object"},{"owner":{"account_id":152279,"reputation":2555,"user_id":366695,"display_name":"Brian"},"score":3,"creation_date":1455227438,"post_id":10609572,"comment_id":58408780,"body_markdown":"response.setEntity(entity);","body":"response.setEntity(entity);"},{"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"score":0,"creation_date":1689776395,"post_id":10609572,"comment_id":135261711,"body_markdown":"Why not just use `new BasicHttpResponse(...)`?","body":"Why not just use <code>new BasicHttpResponse(...)</code>?"}],"tags":[],"owner":{"account_id":152279,"reputation":2555,"user_id":366695,"display_name":"Brian"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1337120177,"creation_date":1337120177,"answer_id":10609572,"question_id":2996755,"body_markdown":"Depending on what version of commons you&#39;re using, you might want to try [DefaultHttpResponseFactory][1]. This is the way that the library creates some of it&#39;s responses internally so it may or may not serve your purposes.\r\n\r\n    import org.apache.http.HttpStatus;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.HttpResponseFactory;\r\n    import org.apache.http.HttpVersion;\r\n    import org.apache.http.impl.DefaultHttpResponseFactory;\r\n    import org.apache.http.message.BasicStatusLine;\r\n\r\n    HttpResponseFactory factory = new DefaultHttpResponseFactory();\r\n    HttpResponse response = factory.newHttpResponse(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.SC_OK, null), null);\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/DefaultHttpResponseFactory.html","title":"How can I create an empty dummy HttpResponse","body":"<p>Depending on what version of commons you're using, you might want to try <a href=\"http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/DefaultHttpResponseFactory.html\" rel=\"noreferrer\">DefaultHttpResponseFactory</a>. This is the way that the library creates some of it's responses internally so it may or may not serve your purposes.</p>\n\n<pre><code>import org.apache.http.HttpStatus;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpResponseFactory;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.impl.DefaultHttpResponseFactory;\nimport org.apache.http.message.BasicStatusLine;\n\nHttpResponseFactory factory = new DefaultHttpResponseFactory();\nHttpResponse response = factory.newHttpResponse(new BasicStatusLine(HttpVersion.HTTP_1_1, HttpStatus.SC_OK, null), null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617135559,"creation_date":1617135559,"answer_id":66877930,"question_id":2996755,"body_markdown":"You can create a method that returns HttpResponse with the status code:\r\n\r\n    public HttpResponse&lt;String&gt; createDummyResponse(int statusCode) {\r\n        return new HttpResponse&lt;&gt;() {\r\n            @Override\r\n            public int statusCode() {\r\n                return statusCode;\r\n            }\r\n\r\n            @Override\r\n            public HttpRequest request() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Optional&lt;HttpResponse&lt;String&gt;&gt; previousResponse() {\r\n                return Optional.empty();\r\n            }\r\n\r\n            @Override\r\n            public HttpHeaders headers() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public String body() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Optional&lt;SSLSession&gt; sslSession() {\r\n                return Optional.empty();\r\n            }\r\n\r\n            @Override\r\n            public URI uri() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public HttpClient.Version version() {\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\nOther attributes (e.g. body, etc.) you could pass as parameters to the method createDummyResponse.","title":"How can I create an empty dummy HttpResponse","body":"<p>You can create a method that returns HttpResponse with the status code:</p>\n<pre><code>public HttpResponse&lt;String&gt; createDummyResponse(int statusCode) {\n    return new HttpResponse&lt;&gt;() {\n        @Override\n        public int statusCode() {\n            return statusCode;\n        }\n\n        @Override\n        public HttpRequest request() {\n            return null;\n        }\n\n        @Override\n        public Optional&lt;HttpResponse&lt;String&gt;&gt; previousResponse() {\n            return Optional.empty();\n        }\n\n        @Override\n        public HttpHeaders headers() {\n            return null;\n        }\n\n        @Override\n        public String body() {\n            return null;\n        }\n\n        @Override\n        public Optional&lt;SSLSession&gt; sslSession() {\n            return Optional.empty();\n        }\n\n        @Override\n        public URI uri() {\n            return null;\n        }\n\n        @Override\n        public HttpClient.Version version() {\n            return null;\n        }\n    };\n}\n</code></pre>\n<p>Other attributes (e.g. body, etc.) you could pass as parameters to the method createDummyResponse.</p>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11219,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647935955,"creation_date":1625045735,"answer_id":68192202,"question_id":2996755,"body_markdown":"This version add the entity content and is a little bit more compact:\r\n\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.HttpVersion.HTTP_1_1;\r\n    import org.apache.http.entity.ContentType.TEXT_HTML;\r\n    import org.apache.http.entity.StringEntity;\r\n    import org.apache.http.message.BasicHttpResponse;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    public static HttpResponse buildResponse(HttpStatus status, String text){\r\n        \r\n           HttpResponse response = new BasicHttpResponse(HTTP_1_1, status.value(), status.reasonPhrase);\r\n           response.setEntity(new StringEntity(text, TEXT_HTML));\r\n           return response;\r\n        }\r\n\r\nNote that I am using the Spring HttpStatus just for my convenience but may be changed with parameters","title":"How can I create an empty dummy HttpResponse","body":"<p>This version add the entity content and is a little bit more compact:</p>\n<pre><code>import org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion.HTTP_1_1;\nimport org.apache.http.entity.ContentType.TEXT_HTML;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.message.BasicHttpResponse;\nimport org.springframework.http.HttpStatus;\n\npublic static HttpResponse buildResponse(HttpStatus status, String text){\n    \n       HttpResponse response = new BasicHttpResponse(HTTP_1_1, status.value(), status.reasonPhrase);\n       response.setEntity(new StringEntity(text, TEXT_HTML));\n       return response;\n    }\n</code></pre>\n<p>Note that I am using the Spring HttpStatus just for my convenience but may be changed with parameters</p>\n"}],"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38323,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":2996779,"answer_count":5,"score":15,"last_activity_date":1688777192,"creation_date":1275995626,"question_id":2996755,"body_markdown":"I am using org.apache.http.HttpResponse\r\n\r\nI want to create an empty dummy resposne, I am going to use this to return when errors occur instead of passing back null.\r\n\r\nI tried to create one and it has lost of weird params.  Can someone tell me how to create one.","title":"How can I create an empty dummy HttpResponse","body":"<p>I am using org.apache.http.HttpResponse</p>\n\n<p>I want to create an empty dummy resposne, I am going to use this to return when errors occur instead of passing back null.</p>\n\n<p>I tried to create one and it has lost of weird params.  Can someone tell me how to create one.</p>\n"},{"tags":["java","spring-boot","spring-retry"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1660745996,"post_id":73380168,"comment_id":129605733,"body_markdown":"You need to show the entire test case - there must be a Spring test context (e.g. `@SpringBootTest`) for this to work properly.","body":"You need to show the entire test case - there must be a Spring test context (e.g. <code>@SpringBootTest</code>) for this to work properly."}],"answers":[{"tags":[],"owner":{"account_id":20086792,"reputation":144,"user_id":14728164,"display_name":"Vishwajit Rahatal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681904392,"creation_date":1681893784,"answer_id":76052447,"question_id":73380168,"body_markdown":"One way to achieve this functionality is to mock the RetryContext class and then register the mocked instance of RetryContext class to RetrySynchronizationManager.\r\n\r\nYou can register as below in your set up method\r\n\r\n    @Before\r\n    public void setUp() {\r\n        RetryContext retryContext = Mockito.mock(RetryContext.class);\r\n        RetrySynchronizationManager.register(retryContext);\r\n    }\r\nDoing such you will be able to get the retry count without any Null Pointer Exception. ","title":"RetrySynchronizationManager.getContext() is null while writing Unit test cases","body":"<p>One way to achieve this functionality is to mock the RetryContext class and then register the mocked instance of RetryContext class to RetrySynchronizationManager.</p>\n<p>You can register as below in your set up method</p>\n<pre><code>@Before\npublic void setUp() {\n    RetryContext retryContext = Mockito.mock(RetryContext.class);\n    RetrySynchronizationManager.register(retryContext);\n}\n</code></pre>\n<p>Doing such you will be able to get the retry count without any Null Pointer Exception.</p>\n"}],"owner":{"account_id":3291597,"reputation":133,"user_id":2769790,"accept_rate":25,"display_name":"user2769790"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2058,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688776579,"creation_date":1660682983,"question_id":73380168,"body_markdown":"Java 17, SpringBoot application. I tried to implement a Retry logic. Functionally, the code is working perfectly, but when I&#39;m trying to write a JUnit test for the same, it fails as ```RetrySynchronizationManager.getContext()``` is null.\r\n\r\nMethod:\r\n```\r\n@Retryable(maxAttemptsExpression = &quot;${retry.maxRetry}&quot;, \r\nbackoff = @Backoff(delayExpression = &quot;${retry.maxInterval}&quot;,\r\n            multiplierExpression = &quot;${retry.delayMultiplier}&quot;, maxDelayExpression = &quot;${retry.maxDelay}&quot;))\r\n    public Session connect() {\r\n        retryCountConnect = RetrySynchronizationManager.getContext().getRetryCount();\r\n        Session sshSession = null;\r\n        try {\r\n            sshSession = sshSessionPool.getSession();\r\n            sshSession.connect();\r\n            return sshSession;\r\n        } catch (Exception e) {\r\n            log.error(&quot;Exception occurred during SshSftp connect, retry count:{}, error details:{}&quot;,\r\n                    retryCountConnect, ExceptionUtils.getStackTrace(e));\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nTest case:\r\n```\r\nclass ConnectionTest {\r\n    @Mock\r\n    Session sshSession;\r\n    @Mock\r\n    SshSessionPool sshSessionPool;\r\n    @Mock\r\n    MockedStatic&lt;BasicSshSessionPool&gt; basicSshSessionPoolMockedStatic;\r\n    @Mock\r\n    MockedStatic&lt;AopContext&gt; aopContext;\r\n    Channel channel;\r\n    SshSftpConnection sshSftpConnection;\r\n\r\n    @BeforeEach\r\n    @SneakyThrows\r\n    void setUp() {\r\n        channel = Mockito.mock(ChannelExec.class);\r\n        MockitoAnnotations.openMocks(this);\r\n        basicSshSessionPoolMockedStatic.when(() -&gt; BasicSshSessionPool.create(anyString(), anyString(), anyString(), anyInt())).thenReturn(sshSessionPool);\r\n        sshSftpConnection = spy(new SshSftpConnection(&quot;host&quot;, &quot;username&quot;, &quot;password&quot;, 22));\r\n        when(sshSessionPool.getSession()).thenReturn(sshSession);\r\n        when(sshSession.openChannel(anyString())).thenReturn(channel);\r\n        aopContext.when(AopContext::currentProxy).thenReturn(sshSftpConnection);\r\n    }\r\n\r\n    @AfterEach\r\n    void cleanUp() {\r\n        aopContext.close();\r\n        basicSshSessionPoolMockedStatic.close();\r\n    }\r\n\r\n    @Test\r\n    void connect() throws Exception {\r\n        doReturn(sshSession).when(sshSessionPool).getSession();\r\n        Session actual = sshSftpConnection.connect();\r\n        verify(sshSession, times(1)).connect();\r\n        assertEquals(sshSession, actual);\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n```\r\nCannot invoke &quot;org.springframework.retry.RetryContext.getRetryCount()&quot; because the return value of &quot;org.springframework.retry.support.RetrySynchronizationManager.getContext()&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.retry.RetryContext.getRetryCount()&quot; because the return value of &quot;org.springframework.retry.support.RetrySynchronizationManager.getContext()&quot; is null\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n```\r\n\r\nAny recommendations?","title":"RetrySynchronizationManager.getContext() is null while writing Unit test cases","body":"<p>Java 17, SpringBoot application. I tried to implement a Retry logic. Functionally, the code is working perfectly, but when I'm trying to write a JUnit test for the same, it fails as <code>RetrySynchronizationManager.getContext()</code> is null.</p>\n<p>Method:</p>\n<pre><code>@Retryable(maxAttemptsExpression = &quot;${retry.maxRetry}&quot;, \nbackoff = @Backoff(delayExpression = &quot;${retry.maxInterval}&quot;,\n            multiplierExpression = &quot;${retry.delayMultiplier}&quot;, maxDelayExpression = &quot;${retry.maxDelay}&quot;))\n    public Session connect() {\n        retryCountConnect = RetrySynchronizationManager.getContext().getRetryCount();\n        Session sshSession = null;\n        try {\n            sshSession = sshSessionPool.getSession();\n            sshSession.connect();\n            return sshSession;\n        } catch (Exception e) {\n            log.error(&quot;Exception occurred during SshSftp connect, retry count:{}, error details:{}&quot;,\n                    retryCountConnect, ExceptionUtils.getStackTrace(e));\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Test case:</p>\n<pre><code>class ConnectionTest {\n    @Mock\n    Session sshSession;\n    @Mock\n    SshSessionPool sshSessionPool;\n    @Mock\n    MockedStatic&lt;BasicSshSessionPool&gt; basicSshSessionPoolMockedStatic;\n    @Mock\n    MockedStatic&lt;AopContext&gt; aopContext;\n    Channel channel;\n    SshSftpConnection sshSftpConnection;\n\n    @BeforeEach\n    @SneakyThrows\n    void setUp() {\n        channel = Mockito.mock(ChannelExec.class);\n        MockitoAnnotations.openMocks(this);\n        basicSshSessionPoolMockedStatic.when(() -&gt; BasicSshSessionPool.create(anyString(), anyString(), anyString(), anyInt())).thenReturn(sshSessionPool);\n        sshSftpConnection = spy(new SshSftpConnection(&quot;host&quot;, &quot;username&quot;, &quot;password&quot;, 22));\n        when(sshSessionPool.getSession()).thenReturn(sshSession);\n        when(sshSession.openChannel(anyString())).thenReturn(channel);\n        aopContext.when(AopContext::currentProxy).thenReturn(sshSftpConnection);\n    }\n\n    @AfterEach\n    void cleanUp() {\n        aopContext.close();\n        basicSshSessionPoolMockedStatic.close();\n    }\n\n    @Test\n    void connect() throws Exception {\n        doReturn(sshSession).when(sshSessionPool).getSession();\n        Session actual = sshSftpConnection.connect();\n        verify(sshSession, times(1)).connect();\n        assertEquals(sshSession, actual);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Cannot invoke &quot;org.springframework.retry.RetryContext.getRetryCount()&quot; because the return value of &quot;org.springframework.retry.support.RetrySynchronizationManager.getContext()&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.retry.RetryContext.getRetryCount()&quot; because the return value of &quot;org.springframework.retry.support.RetrySynchronizationManager.getContext()&quot; is null\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n</code></pre>\n<p>Any recommendations?</p>\n"},{"tags":["java","svg","batik"],"answers":[{"comments":[{"owner":{"account_id":1055810,"reputation":1122,"user_id":1058558,"accept_rate":85,"display_name":"jon_wu"},"score":0,"creation_date":1403063252,"post_id":11436655,"comment_id":37508501,"body_markdown":"is there an advantage to creating an array of imagePointer vs just assigning imagePointer to a local variable like this http://bbgen.net/blog/2011/06/java-svg-to-bufferedimage/?","body":"is there an advantage to creating an array of imagePointer vs just assigning imagePointer to a local variable like this <a href=\"http://bbgen.net/blog/2011/06/java-svg-to-bufferedimage/\" rel=\"nofollow noreferrer\">bbgen.net/blog/2011/06/java-svg-to-bufferedimage</a>?"},{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1403099733,"post_id":11436655,"comment_id":37528574,"body_markdown":"Actually no. It&#39;s just an workaround to avoid compilation errors in the `writeImage` method.","body":"Actually no. It&#39;s just an workaround to avoid compilation errors in the <code>writeImage</code> method."},{"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"score":0,"creation_date":1504059620,"post_id":11436655,"comment_id":78860406,"body_markdown":"I figured out how to set size by using e.g `transcoderHints.put(ImageTranscoder.KEY_WIDTH...`, but how would I scale the output image by a factor?","body":"I figured out how to set size by using e.g <code>transcoderHints.put(ImageTranscoder.KEY_WIDTH...</code>, but how would I scale the output image by a factor?"},{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1504102592,"post_id":11436655,"comment_id":78884231,"body_markdown":"@vincent &quot;by a factor&quot; you mean zoom X%?","body":"@vincent &quot;by a factor&quot; you mean zoom X%?"},{"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"score":0,"creation_date":1504106335,"post_id":11436655,"comment_id":78887152,"body_markdown":"@elias That&#39;s correct. Your script somehow determines size automatically, which is great. However I can not scale that using a percent value. I can extract the size separately somehow I guess and use that in the hints. Or is there a better way?","body":"@elias That&#39;s correct. Your script somehow determines size automatically, which is great. However I can not scale that using a percent value. I can extract the size separately somehow I guess and use that in the hints. Or is there a better way?"},{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1504113402,"post_id":11436655,"comment_id":78891415,"body_markdown":"Simply rescale the image at `createImage` method using [this](https://stackoverflow.com/questions/4216123/how-to-scale-a-bufferedimage). And the new value for width and height is `current * (factor/100))`.","body":"Simply rescale the image at <code>createImage</code> method using <a href=\"https://stackoverflow.com/questions/4216123/how-to-scale-a-bufferedimage\">this</a>. And the new value for width and height is <code>current * (factor&#47;100))</code>."},{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1504274270,"post_id":11436655,"comment_id":78964288,"body_markdown":"So try to do the same with the transcoderHints instead. `transcoderHints.put(ImageTranscoder.KEY_WIDTH, current * (factor/100))`","body":"So try to do the same with the transcoderHints instead. <code>transcoderHints.put(ImageTranscoder.KEY_WIDTH, current * (factor&#47;100))</code>"},{"owner":{"account_id":1019703,"reputation":2051,"user_id":1030413,"accept_rate":80,"display_name":"vincent"},"score":0,"creation_date":1504326752,"post_id":11436655,"comment_id":78981450,"body_markdown":"If I do it before I don&#39;t habe the current dimension. And if I do it in the function it&#39;s not picket up (too late)","body":"If I do it before I don&#39;t habe the current dimension. And if I do it in the function it&#39;s not picket up (too late)"}],"tags":[],"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"comment_count":8,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1353327862,"creation_date":1342022264,"answer_id":11436655,"question_id":11435671,"body_markdown":"Using [Batik][1], something like this:\r\n\r\n    public static BufferedImage rasterize(File svgFile) throws IOException {\r\n\r\n        final BufferedImage[] imagePointer = new BufferedImage[1];\r\n\r\n        // Rendering hints can&#39;t be set programatically, so\r\n        // we override defaults with a temporary stylesheet.\r\n        // These defaults emphasize quality and precision, and\r\n        // are more similar to the defaults of other SVG viewers.\r\n        // SVG documents can still override these defaults.\r\n        String css = &quot;svg {&quot; +\r\n                &quot;shape-rendering: geometricPrecision;&quot; +\r\n                &quot;text-rendering:  geometricPrecision;&quot; +\r\n                &quot;color-rendering: optimizeQuality;&quot; +\r\n                &quot;image-rendering: optimizeQuality;&quot; +\r\n                &quot;}&quot;;\r\n        File cssFile = File.createTempFile(&quot;batik-default-override-&quot;, &quot;.css&quot;);\r\n        FileUtils.writeStringToFile(cssFile, css);\r\n\r\n        TranscodingHints transcoderHints = new TranscodingHints();\r\n        transcoderHints.put(ImageTranscoder.KEY_XML_PARSER_VALIDATING, Boolean.FALSE);\r\n        transcoderHints.put(ImageTranscoder.KEY_DOM_IMPLEMENTATION,\r\n                SVGDOMImplementation.getDOMImplementation());\r\n        transcoderHints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI,\r\n                SVGConstants.SVG_NAMESPACE_URI);\r\n        transcoderHints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT, &quot;svg&quot;);\r\n        transcoderHints.put(ImageTranscoder.KEY_USER_STYLESHEET_URI, cssFile.toURI().toString());\r\n\r\n        try {\r\n\r\n            TranscoderInput input = new TranscoderInput(new FileInputStream(svgFile));\r\n\r\n            ImageTranscoder t = new ImageTranscoder() {\r\n\r\n                @Override\r\n                public BufferedImage createImage(int w, int h) {\r\n                    return new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n                }\r\n\r\n                @Override\r\n                public void writeImage(BufferedImage image, TranscoderOutput out)\r\n                        throws TranscoderException {\r\n                    imagePointer[0] = image;\r\n                }\r\n            };\r\n            t.setTranscodingHints(transcoderHints);\r\n            t.transcode(input, null);\r\n        }\r\n        catch (TranscoderException ex) {\r\n            // Requires Java 6\r\n            ex.printStackTrace();\r\n            throw new IOException(&quot;Couldn&#39;t convert &quot; + svgFile);\r\n        }\r\n        finally {\r\n            cssFile.delete();\r\n        }\r\n\r\n        return imagePointer[0];\r\n    }\r\n\r\n\r\n  [1]: http://xmlgraphics.apache.org/batik/","title":"How to get a BufferedImage from a SVG?","body":"<p>Using <a href=\"http://xmlgraphics.apache.org/batik/\">Batik</a>, something like this:</p>\n\n<pre><code>public static BufferedImage rasterize(File svgFile) throws IOException {\n\n    final BufferedImage[] imagePointer = new BufferedImage[1];\n\n    // Rendering hints can't be set programatically, so\n    // we override defaults with a temporary stylesheet.\n    // These defaults emphasize quality and precision, and\n    // are more similar to the defaults of other SVG viewers.\n    // SVG documents can still override these defaults.\n    String css = \"svg {\" +\n            \"shape-rendering: geometricPrecision;\" +\n            \"text-rendering:  geometricPrecision;\" +\n            \"color-rendering: optimizeQuality;\" +\n            \"image-rendering: optimizeQuality;\" +\n            \"}\";\n    File cssFile = File.createTempFile(\"batik-default-override-\", \".css\");\n    FileUtils.writeStringToFile(cssFile, css);\n\n    TranscodingHints transcoderHints = new TranscodingHints();\n    transcoderHints.put(ImageTranscoder.KEY_XML_PARSER_VALIDATING, Boolean.FALSE);\n    transcoderHints.put(ImageTranscoder.KEY_DOM_IMPLEMENTATION,\n            SVGDOMImplementation.getDOMImplementation());\n    transcoderHints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI,\n            SVGConstants.SVG_NAMESPACE_URI);\n    transcoderHints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT, \"svg\");\n    transcoderHints.put(ImageTranscoder.KEY_USER_STYLESHEET_URI, cssFile.toURI().toString());\n\n    try {\n\n        TranscoderInput input = new TranscoderInput(new FileInputStream(svgFile));\n\n        ImageTranscoder t = new ImageTranscoder() {\n\n            @Override\n            public BufferedImage createImage(int w, int h) {\n                return new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n            }\n\n            @Override\n            public void writeImage(BufferedImage image, TranscoderOutput out)\n                    throws TranscoderException {\n                imagePointer[0] = image;\n            }\n        };\n        t.setTranscodingHints(transcoderHints);\n        t.transcode(input, null);\n    }\n    catch (TranscoderException ex) {\n        // Requires Java 6\n        ex.printStackTrace();\n        throw new IOException(\"Couldn't convert \" + svgFile);\n    }\n    finally {\n        cssFile.delete();\n    }\n\n    return imagePointer[0];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":144653,"reputation":2808,"user_id":353872,"accept_rate":75,"display_name":"Fordi"},"score":0,"creation_date":1434260626,"post_id":30826302,"comment_id":49698353,"body_markdown":"Incidentally, I think I&#39;ll be stealing the CSS transcoder hint above to emulate the scaling hints from BufferedImage.","body":"Incidentally, I think I&#39;ll be stealing the CSS transcoder hint above to emulate the scaling hints from BufferedImage."}],"tags":[],"owner":{"account_id":144653,"reputation":2808,"user_id":353872,"accept_rate":75,"display_name":"Fordi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434264070,"creation_date":1434260547,"answer_id":30826302,"question_id":11435671,"body_markdown":"This is what I use.  It&#39;s an extension of BufferedImage with its own static factory that can be used wherever a BufferedImage is used.  I wrote it so that any call to getScaledInstance(w, h, hint) will render from the SVG, not the rasterized image.  &lt;strike&gt;A side-effect of this is that the scaling hint parameter has no meaning; you can just pass 0 or DEFAULT to that.&lt;/strike&gt;  &lt;strike&gt;It renders lazily - only when graphics data is requested - so the load / scale cycle shouldn&#39;t give you too much overhead.&lt;/strike&gt;\r\n\r\nEdit: I added support using the above CSS config for scaling quality hints.\r\nEdit 2: Lazy rendering wasn&#39;t working consistently; I put the render() call into the constructor.\r\n\r\nIt has the following dependencies:\r\n\r\n * org.apache.xmlgraphics:batik-anim\r\n * org.apache.xmlgraphics:batik-bridge\r\n * org.apache.xmlgraphics:batik-gvt\r\n * org.apache.xmlgraphics:batik-transcoder\r\n * org.apache.xmlgraphics:batik-util\r\n * xml-apis:xml-apis-ext\r\n * commons-logging:commons-logging\r\n\r\nWhen I made this, I used batik 1.8; YMMV.\r\n\t\r\n\timport java.awt.AlphaComposite;\r\n\timport java.awt.Composite;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport java.awt.Image;\r\n\timport java.awt.image.BufferedImage;\r\n\timport java.awt.image.Raster;\r\n\timport java.awt.image.WritableRaster;\r\n\timport java.io.File;\r\n\timport java.io.FileWriter;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.net.URL;\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\t\r\n\timport org.apache.batik.anim.dom.SAXSVGDocumentFactory;\r\n\timport org.apache.batik.bridge.BridgeContext;\r\n\timport org.apache.batik.bridge.DocumentLoader;\r\n\timport org.apache.batik.bridge.GVTBuilder;\r\n\timport org.apache.batik.bridge.UserAgent;\r\n\timport org.apache.batik.bridge.UserAgentAdapter;\r\n\timport org.apache.batik.gvt.GraphicsNode;\r\n\timport org.apache.batik.transcoder.TranscoderException;\r\n\timport org.apache.batik.transcoder.TranscoderInput;\r\n\timport org.apache.batik.transcoder.TranscoderOutput;\r\n\timport org.apache.batik.transcoder.TranscodingHints;\r\n\timport org.apache.batik.transcoder.image.ImageTranscoder;\r\n\timport org.apache.batik.util.SVGConstants;\r\n\timport org.apache.batik.util.XMLResourceDescriptor;\r\n\timport org.apache.commons.logging.Log;\r\n\timport org.apache.commons.logging.LogFactory;\r\n\timport org.w3c.dom.svg.SVGDocument;\r\n\t\r\n\tpublic class SVGImage extends BufferedImage {\r\n\t\tprivate static class BufferedImageTranscoder extends ImageTranscoder {\r\n\t\t\tprivate BufferedImage image = null;\r\n\t\t\t@Override\r\n\t\t\tpublic BufferedImage createImage(int arg0, int arg1) {\r\n\t\t\t\t\r\n\t\t\t\treturn image;\r\n\t\t\t}\r\n\t\t\tprivate void setImage(BufferedImage image) {\r\n\t\t\t\tthis.image = image;\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void writeImage(BufferedImage arg0, TranscoderOutput arg1) throws TranscoderException {\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfinal static GVTBuilder builder = new GVTBuilder();\r\n\t\tfinal static SAXSVGDocumentFactory factory = new SAXSVGDocumentFactory(XMLResourceDescriptor.getXMLParserClassName());\r\n\t\tfinal static UserAgent userAgent = new UserAgentAdapter();\r\n\t\tfinal static DocumentLoader loader = new DocumentLoader(userAgent);\r\n\t\tfinal static BridgeContext bridgeContext = new BridgeContext(userAgent, loader);\r\n\t    static {\r\n\t    \tbridgeContext.setDynamicState(BridgeContext.STATIC);\r\n\t    }\r\n\t    final static private Log log = LogFactory.getLog(SVGImage.class);\r\n\t    private static final Map&lt;Integer, String&gt; scaleQuality = new HashMap&lt;Integer, String&gt;();\r\n\t    static {\r\n\t    \tString css = &quot;svg {&quot; +\r\n\t\t            &quot;shape-rendering: %s;&quot; +\r\n\t\t            &quot;text-rendering:  %s;&quot; +\r\n\t\t            &quot;color-rendering: %s;&quot; +\r\n\t\t            &quot;image-rendering: %s;&quot; +\r\n\t    \t&quot;}&quot;;\r\n\t    \tString precise = &quot;geometricPrecision&quot;;\r\n\t    \tString quality = &quot;optimizeQuality&quot;;\r\n\t    \tString speed = &quot;optimizeSpeed&quot;;\r\n\t    \tString crisp = &quot;crispEdges&quot;;\r\n\t    \tString legible = &quot;optimizeLegibility&quot;;\r\n\t    \tString auto = &quot;auto&quot;;\r\n\t    \t\r\n\t    \tscaleQuality.put(SCALE_DEFAULT, String.format(css, auto, auto, auto, auto));\r\n\t    \tscaleQuality.put(SCALE_SMOOTH, String.format(css, precise, precise, quality, quality));\r\n\t    \tscaleQuality.put(SCALE_REPLICATE, String.format(css, speed, speed, speed, speed));\r\n\t    \tscaleQuality.put(SCALE_AREA_AVERAGING, String.format(css, crisp, legible, auto, auto));\r\n\t    \tscaleQuality.put(SCALE_FAST, String.format(css, speed, speed, speed, speed));\r\n\t    }\r\n\t    final static BufferedImageTranscoder transcoder = new BufferedImageTranscoder();\r\n\t    \r\n\t    public static SVGImage fromSvg(URL resource) throws IOException {\r\n\t    \tInputStream rs = null;\r\n\t    \ttry {\r\n\t    \t\trs = resource.openStream();\r\n\t        \tSVGDocument svg = factory.createSVGDocument(resource.toString(), rs);\r\n\t        \treturn fromSvgDocument(resource, svg);\r\n\t    \t} finally {\r\n\t    \t\tif (rs != null) {\r\n\t    \t\t\ttry { rs.close(); } catch (IOException ioe) {}\r\n\t    \t\t}\r\n\t    \t}\r\n\t\t}\r\n\t    public static SVGImage fromSvgDocument(URL resource, SVGDocument doc) {\r\n\t    \tGraphicsNode graphicsNode = builder.build(bridgeContext, doc);\r\n\t    \tDouble width = graphicsNode.getBounds().getWidth();\r\n\t    \tDouble height = graphicsNode.getBounds().getHeight();\r\n\t    \treturn new SVGImage(resource, doc, width.intValue(), height.intValue(), SCALE_DEFAULT);\r\n\t    }\r\n\t\tboolean hasRendered = false;\r\n\t    private int scalingHint = SCALE_DEFAULT;\r\n\t    final SVGDocument svg;\r\n\t    final URL svgUrl;\r\n\t    private SVGImage(URL resource, SVGDocument doc, int width, int height, int hints) {\r\n\t    \tsuper(width, height, TYPE_INT_ARGB);\r\n\t    \tscalingHint = hints;\r\n\t    \tsvgUrl = resource;\r\n\t    \tsvg = doc;\r\n\t    \trender();\r\n\t    }\r\n\t    @Override\r\n\t\tpublic void coerceData(boolean isAlphaPremultiplied) {\r\n\t\t\tif (!hasRendered) { render(); }\r\n\t\t\tsuper.coerceData(isAlphaPremultiplied);\r\n\t\t}\r\n\t    @Override\r\n\t\tpublic WritableRaster copyData(WritableRaster outRaster) {\r\n\t\t\tif (!hasRendered) { render(); }\r\n\t\t\treturn super.copyData(outRaster);\r\n\t\t}\r\n\t\tprivate File createCSS(String css) {\r\n\t    \tFileWriter cssWriter = null;\r\n\t    \tFile cssFile = null;\r\n\t    \ttry {\r\n\t\t    \tcssFile = File.createTempFile(&quot;batik-default-override-&quot;, &quot;.css&quot;);\r\n\t\t    \tcssFile.deleteOnExit();\r\n\t\t    \tcssWriter = new FileWriter(cssFile);\r\n\t\t    \tcssWriter.write(css);\r\n\t    \t} catch(IOException ioe) {\r\n\t    \t\tlog.warn(&quot;Couldn&#39;t write stylesheet; SVG rendered with Batik defaults&quot;);\r\n\t    \t} finally {\r\n\t    \t\t\r\n\t    \t\tif (cssWriter != null) {\r\n\t    \t\t\ttry { \r\n\t    \t\t\t\tcssWriter.flush();\r\n\t    \t\t\t\tcssWriter.close(); \r\n\t    \t\t\t} catch (IOException ioe) {}\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \treturn cssFile;\r\n\t    }\r\n\t\t@Override\r\n\t\tpublic WritableRaster getAlphaRaster() {\r\n\t\t\tif (!hasRendered) { render(); }\r\n\t\t\treturn super.getAlphaRaster();\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic Raster getData() {\r\n\t\t\tif (!hasRendered) { render(); }\r\n\t\t\treturn super.getData();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Graphics getGraphics() {\r\n\t\t\tif (!hasRendered) { render(); }\r\n\t\t\treturn super.getGraphics();\r\n\t\t}\r\n\t\tpublic Image getScaledInstance(int width, int height, int hints) {\r\n\t\t\tSVGImage newImage = new SVGImage(svgUrl, svg, width, height, hints);\r\n\t\t\treturn newImage;\r\n\t\t}\r\n\t\tprivate void render() {\r\n\t\t\tTranscodingHints hints = new TranscodingHints();\r\n\t\t\thints.put(ImageTranscoder.KEY_WIDTH, new Float(getWidth()));\r\n\t\t\thints.put(ImageTranscoder.KEY_HEIGHT, new Float(getHeight()));\r\n\t\t\thints.put(ImageTranscoder.KEY_XML_PARSER_VALIDATING, Boolean.FALSE);\r\n\t\t    hints.put(ImageTranscoder.KEY_DOM_IMPLEMENTATION, svg.getImplementation());\r\n\t\t    hints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI, SVGConstants.SVG_NAMESPACE_URI);\r\n\t\t    hints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT, &quot;svg&quot;);\r\n\t\t\tString css = scaleQuality.get(scalingHint);\r\n\t\t\tFile cssFile = null;\r\n\t\t\tif (css != null) {\r\n\t\t\t\tcssFile = createCSS(css);\r\n\t\t\t\tif (cssFile != null) {\r\n\t\t\t\t\thints.put(ImageTranscoder.KEY_USER_STYLESHEET_URI, cssFile.toURI().toString());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttranscoder.setTranscodingHints(hints);\r\n\t\t\ttranscoder.setImage(this);\r\n\t\t\t// This may be a re-render, if the scaling quality hint has changed.\r\n\t\t\t// As such, we force the image into overwrite mode, and kick it back when we&#39;re done / fail\r\n\t\t\tGraphics2D gfx = (Graphics2D) super.getGraphics();\r\n\t\t\tComposite savedComposite = gfx.getComposite();\r\n\t\t\tgfx.setComposite(AlphaComposite.Clear);\r\n\t\t\ttry {\r\n\t\t\t\ttranscoder.transcode(new TranscoderInput(svg), null);\r\n\t\t\t\thasRendered = true;\r\n\t\t\t} catch (TranscoderException te) {\r\n\t\t\t\tlog.warn(&quot;Could not transcode &quot; + svgUrl.getPath() + &quot; to raster image; you&#39;re going to get a blank BufferedImage of the correct size.&quot;);\r\n\t\t\t} finally {\r\n\t\t\t\tgfx.setComposite(savedComposite);\r\n\t\t\t\tif (cssFile != null) {\r\n\t\t\t\t\tcssFile.delete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t    }\r\n\t\tpublic void setScalingHint(int hint) {\r\n\t    \tthis.scalingHint = hint;\r\n\t    \t// Forces a re-render\r\n\t    \tthis.hasRendered = false;\r\n\t    }\r\n\t}\r\n","title":"How to get a BufferedImage from a SVG?","body":"<p>This is what I use.  It's an extension of BufferedImage with its own static factory that can be used wherever a BufferedImage is used.  I wrote it so that any call to getScaledInstance(w, h, hint) will render from the SVG, not the rasterized image.  <strike>A side-effect of this is that the scaling hint parameter has no meaning; you can just pass 0 or DEFAULT to that.</strike>  <strike>It renders lazily - only when graphics data is requested - so the load / scale cycle shouldn't give you too much overhead.</strike></p>\n\n<p>Edit: I added support using the above CSS config for scaling quality hints.\nEdit 2: Lazy rendering wasn't working consistently; I put the render() call into the constructor.</p>\n\n<p>It has the following dependencies:</p>\n\n<ul>\n<li>org.apache.xmlgraphics:batik-anim</li>\n<li>org.apache.xmlgraphics:batik-bridge</li>\n<li>org.apache.xmlgraphics:batik-gvt</li>\n<li>org.apache.xmlgraphics:batik-transcoder</li>\n<li>org.apache.xmlgraphics:batik-util</li>\n<li>xml-apis:xml-apis-ext</li>\n<li>commons-logging:commons-logging</li>\n</ul>\n\n<p>When I made this, I used batik 1.8; YMMV.</p>\n\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Composite;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.Raster;\nimport java.awt.image.WritableRaster;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.batik.anim.dom.SAXSVGDocumentFactory;\nimport org.apache.batik.bridge.BridgeContext;\nimport org.apache.batik.bridge.DocumentLoader;\nimport org.apache.batik.bridge.GVTBuilder;\nimport org.apache.batik.bridge.UserAgent;\nimport org.apache.batik.bridge.UserAgentAdapter;\nimport org.apache.batik.gvt.GraphicsNode;\nimport org.apache.batik.transcoder.TranscoderException;\nimport org.apache.batik.transcoder.TranscoderInput;\nimport org.apache.batik.transcoder.TranscoderOutput;\nimport org.apache.batik.transcoder.TranscodingHints;\nimport org.apache.batik.transcoder.image.ImageTranscoder;\nimport org.apache.batik.util.SVGConstants;\nimport org.apache.batik.util.XMLResourceDescriptor;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.w3c.dom.svg.SVGDocument;\n\npublic class SVGImage extends BufferedImage {\n    private static class BufferedImageTranscoder extends ImageTranscoder {\n        private BufferedImage image = null;\n        @Override\n        public BufferedImage createImage(int arg0, int arg1) {\n\n            return image;\n        }\n        private void setImage(BufferedImage image) {\n            this.image = image;\n        }\n        @Override\n        public void writeImage(BufferedImage arg0, TranscoderOutput arg1) throws TranscoderException {\n        }\n    }\n\n    final static GVTBuilder builder = new GVTBuilder();\n    final static SAXSVGDocumentFactory factory = new SAXSVGDocumentFactory(XMLResourceDescriptor.getXMLParserClassName());\n    final static UserAgent userAgent = new UserAgentAdapter();\n    final static DocumentLoader loader = new DocumentLoader(userAgent);\n    final static BridgeContext bridgeContext = new BridgeContext(userAgent, loader);\n    static {\n        bridgeContext.setDynamicState(BridgeContext.STATIC);\n    }\n    final static private Log log = LogFactory.getLog(SVGImage.class);\n    private static final Map&lt;Integer, String&gt; scaleQuality = new HashMap&lt;Integer, String&gt;();\n    static {\n        String css = \"svg {\" +\n                \"shape-rendering: %s;\" +\n                \"text-rendering:  %s;\" +\n                \"color-rendering: %s;\" +\n                \"image-rendering: %s;\" +\n        \"}\";\n        String precise = \"geometricPrecision\";\n        String quality = \"optimizeQuality\";\n        String speed = \"optimizeSpeed\";\n        String crisp = \"crispEdges\";\n        String legible = \"optimizeLegibility\";\n        String auto = \"auto\";\n\n        scaleQuality.put(SCALE_DEFAULT, String.format(css, auto, auto, auto, auto));\n        scaleQuality.put(SCALE_SMOOTH, String.format(css, precise, precise, quality, quality));\n        scaleQuality.put(SCALE_REPLICATE, String.format(css, speed, speed, speed, speed));\n        scaleQuality.put(SCALE_AREA_AVERAGING, String.format(css, crisp, legible, auto, auto));\n        scaleQuality.put(SCALE_FAST, String.format(css, speed, speed, speed, speed));\n    }\n    final static BufferedImageTranscoder transcoder = new BufferedImageTranscoder();\n\n    public static SVGImage fromSvg(URL resource) throws IOException {\n        InputStream rs = null;\n        try {\n            rs = resource.openStream();\n            SVGDocument svg = factory.createSVGDocument(resource.toString(), rs);\n            return fromSvgDocument(resource, svg);\n        } finally {\n            if (rs != null) {\n                try { rs.close(); } catch (IOException ioe) {}\n            }\n        }\n    }\n    public static SVGImage fromSvgDocument(URL resource, SVGDocument doc) {\n        GraphicsNode graphicsNode = builder.build(bridgeContext, doc);\n        Double width = graphicsNode.getBounds().getWidth();\n        Double height = graphicsNode.getBounds().getHeight();\n        return new SVGImage(resource, doc, width.intValue(), height.intValue(), SCALE_DEFAULT);\n    }\n    boolean hasRendered = false;\n    private int scalingHint = SCALE_DEFAULT;\n    final SVGDocument svg;\n    final URL svgUrl;\n    private SVGImage(URL resource, SVGDocument doc, int width, int height, int hints) {\n        super(width, height, TYPE_INT_ARGB);\n        scalingHint = hints;\n        svgUrl = resource;\n        svg = doc;\n        render();\n    }\n    @Override\n    public void coerceData(boolean isAlphaPremultiplied) {\n        if (!hasRendered) { render(); }\n        super.coerceData(isAlphaPremultiplied);\n    }\n    @Override\n    public WritableRaster copyData(WritableRaster outRaster) {\n        if (!hasRendered) { render(); }\n        return super.copyData(outRaster);\n    }\n    private File createCSS(String css) {\n        FileWriter cssWriter = null;\n        File cssFile = null;\n        try {\n            cssFile = File.createTempFile(\"batik-default-override-\", \".css\");\n            cssFile.deleteOnExit();\n            cssWriter = new FileWriter(cssFile);\n            cssWriter.write(css);\n        } catch(IOException ioe) {\n            log.warn(\"Couldn't write stylesheet; SVG rendered with Batik defaults\");\n        } finally {\n\n            if (cssWriter != null) {\n                try { \n                    cssWriter.flush();\n                    cssWriter.close(); \n                } catch (IOException ioe) {}\n            }\n        }\n        return cssFile;\n    }\n    @Override\n    public WritableRaster getAlphaRaster() {\n        if (!hasRendered) { render(); }\n        return super.getAlphaRaster();\n    }\n    @Override\n    public Raster getData() {\n        if (!hasRendered) { render(); }\n        return super.getData();\n    }\n\n    @Override\n    public Graphics getGraphics() {\n        if (!hasRendered) { render(); }\n        return super.getGraphics();\n    }\n    public Image getScaledInstance(int width, int height, int hints) {\n        SVGImage newImage = new SVGImage(svgUrl, svg, width, height, hints);\n        return newImage;\n    }\n    private void render() {\n        TranscodingHints hints = new TranscodingHints();\n        hints.put(ImageTranscoder.KEY_WIDTH, new Float(getWidth()));\n        hints.put(ImageTranscoder.KEY_HEIGHT, new Float(getHeight()));\n        hints.put(ImageTranscoder.KEY_XML_PARSER_VALIDATING, Boolean.FALSE);\n        hints.put(ImageTranscoder.KEY_DOM_IMPLEMENTATION, svg.getImplementation());\n        hints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI, SVGConstants.SVG_NAMESPACE_URI);\n        hints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT, \"svg\");\n        String css = scaleQuality.get(scalingHint);\n        File cssFile = null;\n        if (css != null) {\n            cssFile = createCSS(css);\n            if (cssFile != null) {\n                hints.put(ImageTranscoder.KEY_USER_STYLESHEET_URI, cssFile.toURI().toString());\n            }\n        }\n        transcoder.setTranscodingHints(hints);\n        transcoder.setImage(this);\n        // This may be a re-render, if the scaling quality hint has changed.\n        // As such, we force the image into overwrite mode, and kick it back when we're done / fail\n        Graphics2D gfx = (Graphics2D) super.getGraphics();\n        Composite savedComposite = gfx.getComposite();\n        gfx.setComposite(AlphaComposite.Clear);\n        try {\n            transcoder.transcode(new TranscoderInput(svg), null);\n            hasRendered = true;\n        } catch (TranscoderException te) {\n            log.warn(\"Could not transcode \" + svgUrl.getPath() + \" to raster image; you're going to get a blank BufferedImage of the correct size.\");\n        } finally {\n            gfx.setComposite(savedComposite);\n            if (cssFile != null) {\n                cssFile.delete();\n            }\n        }\n    }\n    public void setScalingHint(int hint) {\n        this.scalingHint = hint;\n        // Forces a re-render\n        this.hasRendered = false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1333273,"reputation":1037,"user_id":1276632,"display_name":"JayDi"},"score":3,"creation_date":1511526740,"post_id":35812847,"comment_id":81901261,"body_markdown":"This is weird lib. It haven&#39;t online documentation. It haven&#39;t examples. It have problem with dependency (see your post with third party). And it&#39;s have problem with icon resize-load. I was led to a small amount of code and regretted it.","body":"This is weird lib. It haven&#39;t online documentation. It haven&#39;t examples. It have problem with dependency (see your post with third party). And it&#39;s have problem with icon resize-load. I was led to a small amount of code and regretted it."},{"owner":{"account_id":1422418,"reputation":315,"user_id":1346794,"display_name":"USSEraser"},"score":1,"creation_date":1573498643,"post_id":35812847,"comment_id":103893787,"body_markdown":"This didn&#39;t work for me with Java13. I hat to search current versions for the libraries: \t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;imageio-batik&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;3.4.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.11&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"This didn&#39;t work for me with Java13. I hat to search current versions for the libraries: \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;imageio-batik&lt;/artifactId&gt; \t\t\t&lt;version&gt;3.4.2&lt;/version&gt; \t\t&lt;/dependency&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.11&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1605037505,"post_id":35812847,"comment_id":114529020,"body_markdown":"Is the version `1.6-1` or `1.6.1`?","body":"Is the version <code>1.6-1</code> or <code>1.6.1</code>?"},{"owner":{"account_id":8188818,"reputation":3448,"user_id":6163756,"display_name":"K. Symbol"},"score":0,"creation_date":1673871220,"post_id":35812847,"comment_id":132586793,"body_markdown":"Do you know how to setup build.gradle or pom.xml to setup this lib? I have tried multiple combinations (or even adding all), but none of them works. Here is the issue: https://github.com/haraldk/TwelveMonkeys/issues/729","body":"Do you know how to setup build.gradle or pom.xml to setup this lib? I have tried multiple combinations (or even adding all), but none of them works. Here is the issue: <a href=\"https://github.com/haraldk/TwelveMonkeys/issues/729\" rel=\"nofollow noreferrer\">github.com/haraldk/TwelveMonkeys/issues/729</a>"}],"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1457172977,"creation_date":1457172977,"answer_id":35812847,"question_id":11435671,"body_markdown":"A very easy way is to use the [TwelveMonkeys lib][1] which adds additional image type support to java&#39;s `ImageIO`\r\n\r\nSo for example you just add these to your maven (or copy the needed jars):\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt; &lt;!-- svg --&gt;\r\n            &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;batik&lt;/groupId&gt;\r\n            &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd then you just read it with\r\n\r\n    BufferedImage image = ImageIO.read(svg-file);\r\n\r\nTo check if the svg reader is registered correctly you could print out the image readers:\r\n\r\n    Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReadersByFormatName(&quot;SVG&quot;);\r\n    while (readers.hasNext()) {\r\n        System.out.println(&quot;reader: &quot; + readers.next());\r\n    }\r\n\r\nThe lib also supports additional params, see [readme on github][1].\r\n\r\n\r\n  [1]: https://github.com/haraldk/TwelveMonkeys","title":"How to get a BufferedImage from a SVG?","body":"<p>A very easy way is to use the <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"noreferrer\">TwelveMonkeys lib</a> which adds additional image type support to java's <code>ImageIO</code></p>\n\n<p>So for example you just add these to your maven (or copy the needed jars):</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n        &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt; &lt;!-- svg --&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;batik&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n        &lt;version&gt;1.6-1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And then you just read it with</p>\n\n<pre><code>BufferedImage image = ImageIO.read(svg-file);\n</code></pre>\n\n<p>To check if the svg reader is registered correctly you could print out the image readers:</p>\n\n<pre><code>Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReadersByFormatName(\"SVG\");\nwhile (readers.hasNext()) {\n    System.out.println(\"reader: \" + readers.next());\n}\n</code></pre>\n\n<p>The lib also supports additional params, see <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"noreferrer\">readme on github</a>.</p>\n"},{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1623696839,"post_id":67106800,"comment_id":120147315,"body_markdown":"This is *so* close to what I need, but unfortunately it fails if the InputStream isn&#39;t based on a File object (like if it&#39;s a S3Object.getObjectContent() stream).","body":"This is <i>so</i> close to what I need, but unfortunately it fails if the InputStream isn&#39;t based on a File object (like if it&#39;s a S3Object.getObjectContent() stream)."},{"owner":{"account_id":890938,"reputation":958,"user_id":929227,"accept_rate":78,"display_name":"Kowlown"},"score":0,"creation_date":1624541093,"post_id":67106800,"comment_id":120391343,"body_markdown":"@PaulTomblin What is happening ? You have an exception ?","body":"@PaulTomblin What is happening ? You have an exception ?"},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1624554823,"post_id":67106800,"comment_id":120397406,"body_markdown":"Found it on the batik developers list from 18 years ago. They’re not going to fix it. https://bz.apache.org/bugzilla/show_bug.cgi?id=10787","body":"Found it on the batik developers list from 18 years ago. They’re not going to fix it. <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=10787\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/show_bug.cgi?id=10787</a>"}],"tags":[],"owner":{"account_id":890938,"reputation":958,"user_id":929227,"accept_rate":78,"display_name":"Kowlown"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618519562,"creation_date":1618482603,"answer_id":67106800,"question_id":11435671,"body_markdown":"9 years later here is an other solution with Batik : \r\n\r\n    \r\n\r\n&gt; implementation &#39;org.apache.xmlgraphics:batik-all:1.14&#39;\r\n&gt; \r\n&gt; implementation &#39;org.apache.xmlgraphics:batik-swing:1.14&#39;\r\n\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.batik.transcoder.Transcoder;\r\n    import org.apache.batik.transcoder.TranscoderException;\r\n    import org.apache.batik.transcoder.TranscoderInput;\r\n    import org.apache.batik.transcoder.TranscoderOutput;\r\n    import org.apache.batik.transcoder.image.PNGTranscoder;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    public class SvgToRasterizeImageConverter {\r\n    \r\n        public BufferedImage transcodeSVGToBufferedImage(File file, int width, int height) {\r\n            // Create a PNG transcoder.\r\n            Transcoder t = new PNGTranscoder();\r\n    \r\n            // Set the transcoding hints.\r\n            t.addTranscodingHint(PNGTranscoder.KEY_WIDTH, (float) width);\r\n            t.addTranscodingHint(PNGTranscoder.KEY_HEIGHT, (float) height);\r\n            try (FileInputStream inputStream = new FileInputStream(file)) {\r\n                // Create the transcoder input.\r\n                TranscoderInput input = new TranscoderInput(inputStream);\r\n    \r\n                // Create the transcoder output.\r\n                ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n                TranscoderOutput output = new TranscoderOutput(outputStream);\r\n    \r\n                // Save the image.\r\n                t.transcode(input, output);\r\n    \r\n                // Flush and close the stream.\r\n                outputStream.flush();\r\n                outputStream.close();\r\n    \r\n                // Convert the byte stream into an image.\r\n                byte[] imgData = outputStream.toByteArray();\r\n                return ImageIO.read(new ByteArrayInputStream(imgData));\r\n    \r\n            } catch (IOException | TranscoderException e) {\r\n                log.error(&quot;Conversion error&quot;, e);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    }","title":"How to get a BufferedImage from a SVG?","body":"<p>9 years later here is an other solution with Batik :</p>\n<blockquote>\n<p>implementation 'org.apache.xmlgraphics:batik-all:1.14'</p>\n<p>implementation 'org.apache.xmlgraphics:batik-swing:1.14'</p>\n</blockquote>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.batik.transcoder.Transcoder;\nimport org.apache.batik.transcoder.TranscoderException;\nimport org.apache.batik.transcoder.TranscoderInput;\nimport org.apache.batik.transcoder.TranscoderOutput;\nimport org.apache.batik.transcoder.image.PNGTranscoder;\nimport org.springframework.stereotype.Component;\n\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\n@Slf4j\n@Component\npublic class SvgToRasterizeImageConverter {\n\n    public BufferedImage transcodeSVGToBufferedImage(File file, int width, int height) {\n        // Create a PNG transcoder.\n        Transcoder t = new PNGTranscoder();\n\n        // Set the transcoding hints.\n        t.addTranscodingHint(PNGTranscoder.KEY_WIDTH, (float) width);\n        t.addTranscodingHint(PNGTranscoder.KEY_HEIGHT, (float) height);\n        try (FileInputStream inputStream = new FileInputStream(file)) {\n            // Create the transcoder input.\n            TranscoderInput input = new TranscoderInput(inputStream);\n\n            // Create the transcoder output.\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            TranscoderOutput output = new TranscoderOutput(outputStream);\n\n            // Save the image.\n            t.transcode(input, output);\n\n            // Flush and close the stream.\n            outputStream.flush();\n            outputStream.close();\n\n            // Convert the byte stream into an image.\n            byte[] imgData = outputStream.toByteArray();\n            return ImageIO.read(new ByteArrayInputStream(imgData));\n\n        } catch (IOException | TranscoderException e) {\n            log.error(&quot;Conversion error&quot;, e);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23301593,"reputation":11,"user_id":17382150,"display_name":"jxbadam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688775866,"creation_date":1688775866,"answer_id":76640872,"question_id":11435671,"body_markdown":"I can&#39;t comment on the answer above, but this answer is to help with [the answer above](https://stackoverflow.com/a/35812847/17382150) from [Patrick](https://stackoverflow.com/users/774398/patrick).\r\n\r\nUsing the [Twelve Monkeys](https://github.com/haraldk/TwelveMonkeys) library currently requires the following pom entries:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n    &lt;version&gt;1.16&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt;\r\n    &lt;version&gt;3.9.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to get a BufferedImage from a SVG?","body":"<p>I can't comment on the answer above, but this answer is to help with <a href=\"https://stackoverflow.com/a/35812847/17382150\">the answer above</a> from <a href=\"https://stackoverflow.com/users/774398/patrick\">Patrick</a>.</p>\n<p>Using the <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">Twelve Monkeys</a> library currently requires the following pom entries:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n    &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n    &lt;version&gt;1.16&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n    &lt;artifactId&gt;imageio-batik&lt;/artifactId&gt;\n    &lt;version&gt;3.9.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13074,"reputation":3643,"user_id":26070,"accept_rate":86,"display_name":"mr_georg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33296,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":11436655,"answer_count":5,"score":28,"last_activity_date":1688775866,"creation_date":1342019211,"question_id":11435671,"body_markdown":"I am using Batik to handle SVG images. Is there any way to get a `java.awt.image.BufferedImage` from a SVG-file?\r\n\r\nI know there are transcoders, with which I could transcode the SVG into, for example, a PNG and then load that PNG with `ImageIO.read()`. But I don&#39;t want to have the temporary file.","title":"How to get a BufferedImage from a SVG?","body":"<p>I am using Batik to handle SVG images. Is there any way to get a <code>java.awt.image.BufferedImage</code> from a SVG-file?</p>\n<p>I know there are transcoders, with which I could transcode the SVG into, for example, a PNG and then load that PNG with <code>ImageIO.read()</code>. But I don't want to have the temporary file.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688777137,"post_id":76640866,"comment_id":135123699,"body_markdown":"Write a unit test for the component that handles /signup requests. The test you show should be failing if a password *is* returned.","body":"Write a unit test for the component that handles /signup requests. The test you show should be failing if a password <i>is</i> returned."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1688813810,"post_id":76640866,"comment_id":135126266,"body_markdown":"Hm. So what you say is that this unit test should solely check only for the JSON response of the request? How do I test for password hash then? Obviously, I could use the database directly, but let&#39;s say I want a more high-level approach. I realize that the process of serialization from JSON to a model class will omit the `password` field (thus I don&#39;t really get what&#39;s the point of `access` key in `@JsonProperty` annotation).","body":"Hm. So what you say is that this unit test should solely check only for the JSON response of the request? How do I test for password hash then? Obviously, I could use the database directly, but let&#39;s say I want a more high-level approach. I realize that the process of serialization from JSON to a model class will omit the <code>password</code> field (thus I don&#39;t really get what&#39;s the point of <code>access</code> key in <code>@JsonProperty</code> annotation)."}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688775632,"creation_date":1688775632,"question_id":76640866,"body_markdown":"I have a Spring application. When user successfully registers, I don&#39;t want - in the JSON body response - the hashed (or raw) password to be shown. However, I do have a test class in which I would like to test whether the registration process has been the way I wanted it to be.\r\n\r\nThe issue is that the `TestRestTemplate` that I use for making a request, receives a serialized model, thus disabling me from accessing any &quot;under-the-hood&quot; field that the password would be.\r\n\r\nHere&#39;s the `UserResponseDTO` class that is wrapped into a `ResponseEntity` object when controller returns a response.\r\n\r\n```\r\npublic class UserResponseDTO {\r\n\r\n    private String username;\r\n    private Set&lt;Roles&gt; roles;\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private String password;\r\n\r\n    public UserResponseDTO(User user) {\r\n        this.username = user.getUsername();\r\n        this.roles = user.getRoles();\r\n        this.password = user.getPassword();\r\n    }\r\n}\r\n```\r\nAnd the test:\r\n```\r\n    @Test\r\n    @DisplayName(&quot;Create a user&quot;)\r\n    @DirtiesContext\r\n    public void createUserTest() {\r\n        String pass = getRandomPassword();\r\n        var postResponse = postRequest(&quot;/api/auth/signup&quot;,\r\n                createUserRequest(&quot;john&quot;, pass));\r\n        assertThat(postResponse.getStatusCode()).isEqualTo(HttpStatus.CREATED);\r\n\r\n        String actualJson = postResponse.getBody();\r\n        UserResponseDTO actual = toModel(actualJson, UserResponseDTO.class);\r\n        assertPasswordHashedJson(pass, actualJson);\r\n\r\n        UserResponseDTO expected = createUserResponse(&quot;john&quot;, Roles.USER);\r\n        String expectedJson = toJsonString(expected);\r\n\r\n        assertThat(actual).isEqualTo(expected);\r\n        assertThat(actualJson).isEqualTo(expectedJson);\r\n}\r\n```\r\nNo matter what, the &quot;encoded password&quot; in the below helper method will be null.\r\n```\r\n    public static void assertPasswordHashed(String rawPassword, String encodedPassword) {\r\n        assertThat(rawPassword).withFailMessage(&quot;The provided &#39;raw password&#39; is null&quot;).isNotNull();\r\n        assertThat(encodedPassword).withFailMessage(&quot;The encoded password is null&quot;).isNotNull();\r\n        assertThat(passwordEncoder.matches(rawPassword, encodedPassword))\r\n                .withFailMessage(&quot;The password&#39;s hash does not stand for request&#39;s raw one&quot;)\r\n                .isTrue();\r\n    }\r\n\r\n    public static void assertPasswordHashedJson(String rawPassword, String userJsonResponse) {\r\n        UserResponseDTO user = toModel(userJsonResponse, UserResponseDTO.class);\r\n        assertPasswordHashed(rawPassword, toModel(userJsonResponse, UserResponseDTO.class).getPassword());\r\n    }\r\n```\r\n\r\nHow do I test this hashed password?","title":"Passing field values under the hood","body":"<p>I have a Spring application. When user successfully registers, I don't want - in the JSON body response - the hashed (or raw) password to be shown. However, I do have a test class in which I would like to test whether the registration process has been the way I wanted it to be.</p>\n<p>The issue is that the <code>TestRestTemplate</code> that I use for making a request, receives a serialized model, thus disabling me from accessing any &quot;under-the-hood&quot; field that the password would be.</p>\n<p>Here's the <code>UserResponseDTO</code> class that is wrapped into a <code>ResponseEntity</code> object when controller returns a response.</p>\n<pre><code>public class UserResponseDTO {\n\n    private String username;\n    private Set&lt;Roles&gt; roles;\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private String password;\n\n    public UserResponseDTO(User user) {\n        this.username = user.getUsername();\n        this.roles = user.getRoles();\n        this.password = user.getPassword();\n    }\n}\n</code></pre>\n<p>And the test:</p>\n<pre><code>    @Test\n    @DisplayName(&quot;Create a user&quot;)\n    @DirtiesContext\n    public void createUserTest() {\n        String pass = getRandomPassword();\n        var postResponse = postRequest(&quot;/api/auth/signup&quot;,\n                createUserRequest(&quot;john&quot;, pass));\n        assertThat(postResponse.getStatusCode()).isEqualTo(HttpStatus.CREATED);\n\n        String actualJson = postResponse.getBody();\n        UserResponseDTO actual = toModel(actualJson, UserResponseDTO.class);\n        assertPasswordHashedJson(pass, actualJson);\n\n        UserResponseDTO expected = createUserResponse(&quot;john&quot;, Roles.USER);\n        String expectedJson = toJsonString(expected);\n\n        assertThat(actual).isEqualTo(expected);\n        assertThat(actualJson).isEqualTo(expectedJson);\n}\n</code></pre>\n<p>No matter what, the &quot;encoded password&quot; in the below helper method will be null.</p>\n<pre><code>    public static void assertPasswordHashed(String rawPassword, String encodedPassword) {\n        assertThat(rawPassword).withFailMessage(&quot;The provided 'raw password' is null&quot;).isNotNull();\n        assertThat(encodedPassword).withFailMessage(&quot;The encoded password is null&quot;).isNotNull();\n        assertThat(passwordEncoder.matches(rawPassword, encodedPassword))\n                .withFailMessage(&quot;The password's hash does not stand for request's raw one&quot;)\n                .isTrue();\n    }\n\n    public static void assertPasswordHashedJson(String rawPassword, String userJsonResponse) {\n        UserResponseDTO user = toModel(userJsonResponse, UserResponseDTO.class);\n        assertPasswordHashed(rawPassword, toModel(userJsonResponse, UserResponseDTO.class).getPassword());\n    }\n</code></pre>\n<p>How do I test this hashed password?</p>\n"},{"tags":["java","heap","priority-queue","min-heap"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1594037499,"post_id":62755742,"comment_id":110976747,"body_markdown":"Does this answer your question? [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":1,"creation_date":1594037596,"post_id":62755742,"comment_id":110976802,"body_markdown":"In short, you shouldn&#39;t use a raw type here. `new PriorityQueue&lt;&gt;(intervals.length, (a, b) -&gt; a[1] - b[1])` works","body":"In short, you shouldn&#39;t use a raw type here. <code>new PriorityQueue&lt;&gt;(intervals.length, (a, b) -&gt; a[1] - b[1])</code> works"}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1653459849,"post_id":62755943,"comment_id":127854546,"body_markdown":"Well yes ... but `(a, b) -&gt; Integer.compare(a[0][0], b[0][0])` would be more concise.","body":"Well yes ... but <code>(a, b) -&gt; Integer.compare(a[0][0], b[0][0])</code> would be more concise."}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594038803,"creation_date":1594037965,"answer_id":62755943,"question_id":62755742,"body_markdown":"Well, in your example, you have a 2D array; however, in your code snippet, you&#39;re assuming that a single-dimensional array should be kept in the Queue. So, which is your question? are you sure you want to maintain the Queue of 2D arrays? that doesn&#39;t mean, that you would have a Queue of pairs/tuples, that means, that each element in that queue, will be a discrete 2D array object. And in this case, probably each array will have more than one element.. and that means, that you should most likely iterate through them.. but if you&#39;re sure what you want with this code to be achieved and it&#39;s correct, then you can compare first elements like this:\r\n\r\n        PriorityQueue&lt;int[][]&gt; heap = new PriorityQueue&lt;int[][]&gt;((a, b) -&gt; {\r\n            if (a[0][0] &gt; b[0][0]) {\r\n                return 1; //change according to your logic\r\n            } else if (a[0][0] &lt; b[0][0]) {\r\n                return -1; //change according to your logic\r\n            } else {\r\n                return 0; //change according to your logic\r\n            }\r\n        });","title":"Priority Queue of an array of integers in java","body":"<p>Well, in your example, you have a 2D array; however, in your code snippet, you're assuming that a single-dimensional array should be kept in the Queue. So, which is your question? are you sure you want to maintain the Queue of 2D arrays? that doesn't mean, that you would have a Queue of pairs/tuples, that means, that each element in that queue, will be a discrete 2D array object. And in this case, probably each array will have more than one element.. and that means, that you should most likely iterate through them.. but if you're sure what you want with this code to be achieved and it's correct, then you can compare first elements like this:</p>\n<pre><code>    PriorityQueue&lt;int[][]&gt; heap = new PriorityQueue&lt;int[][]&gt;((a, b) -&gt; {\n        if (a[0][0] &gt; b[0][0]) {\n            return 1; //change according to your logic\n        } else if (a[0][0] &lt; b[0][0]) {\n            return -1; //change according to your logic\n        } else {\n            return 0; //change according to your logic\n        }\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1653459695,"post_id":62769112,"comment_id":127854505,"body_markdown":"This answer is incorrect.  See https://stackoverflow.com/questions/2728793","body":"This answer is incorrect.  See <a href=\"https://stackoverflow.com/questions/2728793\">stackoverflow.com/questions/2728793</a>"}],"tags":[],"owner":{"account_id":8276787,"reputation":93,"user_id":6222703,"display_name":"ARoger"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1594102299,"creation_date":1594102299,"answer_id":62769112,"question_id":62755742,"body_markdown":"You should cast a to int array first.\r\n\r\n    PriorityQueue&lt;int[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; ((int[])a)[1] - ((int[])b)[1]);\r\n","title":"Priority Queue of an array of integers in java","body":"<p>You should cast a to int array first.</p>\n<pre><code>PriorityQueue&lt;int[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; ((int[])a)[1] - ((int[])b)[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1213274,"reputation":1323,"user_id":1181404,"accept_rate":70,"display_name":"Happy Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1617391433,"creation_date":1617391433,"answer_id":66924242,"question_id":62755742,"body_markdown":"You could use Integer.compare    \r\n\r\n    PriorityQueue&lt;int[]&gt; heap = new PriorityQueue&lt;&gt;(intervals.length, (a,b) -&gt; Integer.compare(a[1],b[1]));","title":"Priority Queue of an array of integers in java","body":"<p>You could use Integer.compare</p>\n<pre><code>PriorityQueue&lt;int[]&gt; heap = new PriorityQueue&lt;&gt;(intervals.length, (a,b) -&gt; Integer.compare(a[1],b[1]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14807543,"reputation":11,"user_id":10694060,"display_name":"Deepthi V V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622804903,"creation_date":1622804903,"answer_id":67836164,"question_id":62755742,"body_markdown":"You can use:    \r\n\r\n    PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;(intervals.length,\r\n                                 Comparator.comparingInt(interval -&gt; interval[1]));","title":"Priority Queue of an array of integers in java","body":"<p>You can use:</p>\n<pre><code>PriorityQueue&lt;int[]&gt; pq = new PriorityQueue&lt;&gt;(intervals.length,\n                             Comparator.comparingInt(interval -&gt; interval[1]));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1653459923,"post_id":71378415,"comment_id":127854559,"body_markdown":"This answer is incorrect. See https://stackoverflow.com/questions/2728793","body":"This answer is incorrect. See <a href=\"https://stackoverflow.com/questions/2728793\">stackoverflow.com/questions/2728793</a>"}],"tags":[],"owner":{"account_id":4455554,"reputation":29,"user_id":3625985,"display_name":"user3625985"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1646642683,"creation_date":1646642683,"answer_id":71378415,"question_id":62755742,"body_markdown":"Just add &quot;&lt;&gt;&quot; after PriorityQueue:\r\n```\r\nPriorityQueue&lt;int[]&gt; heap = new PriorityQueue&lt;&gt;(intervals.length, (a, b) -&gt; a[1] - b[1]);\r\n```","title":"Priority Queue of an array of integers in java","body":"<p>Just add &quot;&lt;&gt;&quot; after PriorityQueue:</p>\n<pre><code>PriorityQueue&lt;int[]&gt; heap = new PriorityQueue&lt;&gt;(intervals.length, (a, b) -&gt; a[1] - b[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17094560,"reputation":295,"user_id":12369854,"display_name":"Kenart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688774592,"creation_date":1688774592,"answer_id":76640818,"question_id":62755742,"body_markdown":"Your code is missing one vital syntax. You can add `&lt;&gt;` or `&lt;int[]&gt;` to the RHS of the assignment statement and it will work. So the line statement will become:\r\n\r\n    PriorityQueue&lt;int[]&gt; heap = new PriorityQueue&lt;int[]&gt;(intervals.length, (a, b) -&gt; a[1] - b[1]);","title":"Priority Queue of an array of integers in java","body":"<p>Your code is missing one vital syntax. You can add <code>&lt;&gt;</code> or <code>&lt;int[]&gt;</code> to the RHS of the assignment statement and it will work. So the line statement will become:</p>\n<pre><code>PriorityQueue&lt;int[]&gt; heap = new PriorityQueue&lt;int[]&gt;(intervals.length, (a, b) -&gt; a[1] - b[1]);\n</code></pre>\n"}],"owner":{"account_id":15936202,"reputation":63,"user_id":11499337,"display_name":"Suhas Ramesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19675,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":66924242,"answer_count":6,"score":6,"last_activity_date":1688774592,"creation_date":1594037229,"question_id":62755742,"body_markdown":"I want to compare by the second element of the array [[0, 30],[5, 10],[15, 20]].\r\n\r\n    PriorityQueue&lt;int[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; a[1] - b[1]);\r\n\r\nBut I am getting an error as below\r\n\r\nLine 8: error: array required, but Object found\r\n        PriorityQueue&lt;Integer[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; a[1] - b[1]);\r\n                                                                                       ^\r\nLine 8: error: array required, but Object found\r\n        PriorityQueue&lt;Integer[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; a[1] - b[1]);\r\n                                                                                             \r\n ^\r\n2 errors","title":"Priority Queue of an array of integers in java","body":"<p>I want to compare by the second element of the array [[0, 30],[5, 10],[15, 20]].</p>\n<pre><code>PriorityQueue&lt;int[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; a[1] - b[1]);\n</code></pre>\n<p>But I am getting an error as below</p>\n<p>Line 8: error: array required, but Object found\nPriorityQueue&lt;Integer[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; a[1] - b[1]);\n^\nLine 8: error: array required, but Object found\nPriorityQueue&lt;Integer[]&gt; heap = new PriorityQueue(intervals.length, (a, b) -&gt; a[1] - b[1]);</p>\n<p>^\n2 errors</p>\n"},{"tags":["java","fonts","project"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688757023,"post_id":76639548,"comment_id":135121576,"body_markdown":"[Load your font file as a resource](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Load your font file as a resource</a>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688770617,"creation_date":1688770617,"answer_id":76640625,"question_id":76639548,"body_markdown":"As mentioned in comments, you can load the `Poppins-Bold.ttf` file (or any file) for use from a **resource** directory (folder) attached to your Project&#39;s classpath. Below are images that demonstrate where you might create a resources directory:\r\n\r\n**What it would look like in the Project Pane of your IDE:**  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**What it would look like in the your File Explorer application:** \r\n\r\n[![enter image description here][2]][2] \r\n\r\nIt&#39;s important where you create this **resources** directory so that sub-directories (if any) and files within it can be be acquired when your application is run from either the IDE or a distributive **.jar** file. As you can see, the `Poppins-Bold.ttf` is contained directly within the **resources** directory (source package) for this demo.\r\n\r\nOnce your `Poppins-Bold.ttf` Font file has been saved to resources, you can load it for use in many different ways. Here is a method that can do the job in both your IDE or when your application is a distributive **.jar** file. Read the comments in code:\r\n\r\n    /**\r\n     * Loads a Font from resources and returns a Font Object.This method will \r\n     * load a font from resources whether your code is run from your IDE or run \r\n     * from an distributive &lt;b&gt;.jar&lt;/b&gt; file.\r\n     * \r\n     * @param theClass (Class) The application&#39;s main class, for example:&lt;pre&gt;\r\n     * {@code \r\n     * \r\n     *   String fontName = &quot;Poppins-Bold.ttf&quot;;\r\n     *   float fontSize = 24f;\r\n     *   \r\n     *   // Load the desired font file from resources and create a Font object.\r\n     *   Font font = loadFontFromResource(MyMainClassName.class, fontName, fontSize);\r\n     * }&lt;/pre&gt;\r\n     * \r\n     * @param fontFileName (String) The file name of the Font file contained \r\n     * within the resources directory, for example: &lt;b&gt;&quot;Poppins-Bold.ttf&quot;&lt;/b&gt;. \r\n     * Only the Font file name (with file name extension) is expected.&lt;br&gt;\r\n     * \r\n     * @param fontSize (float) The desired size of the font that is loading in. \r\n     * If any value less than 1 is supplied then the font size will default to \r\n     * 12.0f.&lt;br&gt;\r\n     * \r\n     * @return (Font Object)\r\n     */\r\n    public static Font loadFontFromResource(Class theClass, String fontFileName, float fontSize) {\r\n        float fntSize = 12f;  // Default font size:\r\n        /* If the supplied font size is greater than 1 then \r\n           make it the supplied size otherwise leave it at \r\n           default:        */\r\n        if (fontSize &gt;= 1f) {\r\n            fntSize = fontSize;\r\n        }\r\n        \r\n        // Load in the supplied font file from resources.\r\n        InputStream is = theClass.getResourceAsStream(&quot;/resources/&quot; + fontFileName);\r\n        Font font = null;\r\n        try {\r\n            /* Creates a new Font using the specified font type and input data. \r\n               The new Font is created with a point size of 1 and style PLAIN. \r\n               This base font can then be used with the deriveFont methods in \r\n               this class to derive new Font objects with varying sizes, styles, \r\n               transforms and font features.            */\r\n            font = Font.createFont(Font.TRUETYPE_FONT, is);\r\n            font = font.deriveFont(fntSize);\r\n        }\r\n        catch (FontFormatException | IOException ex) {\r\n            // Display Exceptions if any:\r\n            System.err.println(&quot;Error Loading Font (&quot; + fontFileName \r\n                             + &quot;)! Here is why:\\n&quot; + ex.getMessage());\r\n        }\r\n        finally {\r\n            /* Close the InputStream if it&#39;s open. Font.createFont() does\r\n               not close the InputStream:            */\r\n            if (is != null) {\r\n                try {\r\n                    is.close();\r\n                }\r\n                catch (IOException ex) {\r\n                    System.err.println(ex);\r\n                }\r\n            }\r\n        }\r\n        return font;\r\n    }\r\n\r\nBelow is a complete runnable demo application which demonstrates the above in real action. Again, read the comments in code:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n```\r\nimport java.awt.Font;\r\nimport java.awt.FontFormatException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\n\r\npublic class LoadFontDemo {\r\n    \r\n    private JFrame frame;\r\n    private JPanel panel;\r\n    private JLabel label; \r\n\r\n    \r\n    // Constructor:\r\n    public LoadFontDemo() {\r\n        // Create demo GUI:\r\n        initForm();\r\n    }\r\n    \r\n    // Application entry startup method:\r\n    public static void main(String[] args) {\r\n        // App started this way to avoid the need for statics unless wanted.\r\n        new LoadFontDemo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        // Display the Demo GUI:\r\n        java.awt.EventQueue.invokeLater(() -&gt; {\r\n            frame.setVisible(true);\r\n            \r\n            // Center the JFrame window to center screen.\r\n            frame.setLocationRelativeTo(null);\r\n        });\r\n    }\r\n    \r\n    // Create GUI:\r\n    private void initForm() {\r\n        // Desired font info\r\n        String fontName = &quot;Poppins-Bold.ttf&quot;;   // The font name to load.\r\n        float fontSize = 24f;                   // The desired font size.\r\n        \r\n        // Load the desired font file from resources and create a Font object.\r\n        Font font = loadFontFromResource(LoadFontDemo.class, fontName, fontSize);\r\n\r\n        // Create a small Font Display GUI demo:\r\n        frame = new JFrame(&quot;Font Load/Use Demo&quot;);\r\n        frame.setAlwaysOnTop(true);\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\r\n        panel = new JPanel();\r\n        panel.setPreferredSize(new java.awt.Dimension(500, 150));\r\n        \r\n        // The JLabel the loaded font will be demonstrated in:\r\n        label = new JLabel(&quot;The \\&quot;&quot; + fontName + &quot;\\&quot; font demo.&quot;);\r\n        label.setPreferredSize(new java.awt.Dimension(500, 120));\r\n        label.setVerticalAlignment(JLabel.CENTER);\r\n        label.setHorizontalAlignment(JLabel.CENTER);\r\n        if (font != null) {\r\n            label.setFont(font);\r\n        }\r\n        \r\n        panel.add(label);               // Add JLabel to JPanel.\r\n        frame.setContentPane(panel);    // Set JPanel to JFrame Content Pane.\r\n        frame.pack();                   // Pack the JFrame.\r\n    }\r\n    \r\n        \r\n    /**\r\n     * Loads a Font from resources and returns a Font Object.This method will \r\n     * load a font from resources whether your code is run from your IDE or run \r\n     * from an distributive &lt;b&gt;.jar&lt;/b&gt; file.\r\n     * \r\n     * @param theClass (Class) The application&#39;s main class, for example:&lt;pre&gt;\r\n     * {@code \r\n     * \r\n     *   String fontName = &quot;Poppins-Bold.ttf&quot;;\r\n     *   float fontSize = 24f;\r\n     *   \r\n     *   // Load the desired font file from resources and create a Font object.\r\n     *   Font font = loadFontFromResource(MyMainClassName.class, fontName, fontSize);\r\n     * }&lt;/pre&gt;\r\n     * \r\n     * @param fontFileName (String) The file name of the Font file contained \r\n     * within the resources directory, for example: &lt;b&gt;&quot;Poppins-Bold.ttf&quot;&lt;/b&gt;. \r\n     * Only the Font file name (with file name extension) is expected.&lt;br&gt;\r\n     * \r\n     * @param fontSize (float) The desired size of the font that is loading in. \r\n     * If any value less than 1 is supplied then the font size will default to \r\n     * 12.0f.&lt;br&gt;\r\n     * \r\n     * @return (Font Object)\r\n     */\r\n    public static Font loadFontFromResource(Class theClass, String fontFileName, float fontSize) {\r\n        float fntSize = 12f;  // Default font size:\r\n        /* If the supplied font size is greater than 1 then \r\n           make it the supplied size otherwise leave it at \r\n           default:        */\r\n        if (fontSize &gt;= 1f) {\r\n            fntSize = fontSize;\r\n        }\r\n        \r\n        // Load in the supplied font file from resources.\r\n        InputStream is = theClass.getResourceAsStream(&quot;/resources/&quot; + fontFileName);\r\n        Font font = null;\r\n        try {\r\n            /* Creates a new Font using the specified font type and input data. \r\n               The new Font is created with a point size of 1 and style PLAIN. \r\n               This base font can then be used with the deriveFont methods in \r\n               this class to derive new Font objects with varying sizes, styles, \r\n               transforms and font features.            */\r\n            font = Font.createFont(Font.TRUETYPE_FONT, is);\r\n            font = font.deriveFont(fntSize);\r\n        }\r\n        catch (FontFormatException | IOException ex) {\r\n            // Display Exceptions if any:\r\n            System.err.println(&quot;Error Loading Font (&quot; + fontFileName \r\n                             + &quot;)! Here is why:\\n&quot; + ex.getMessage());\r\n        }\r\n        finally {\r\n            /* Close the InputStream if it&#39;s open. Font.createFont() does\r\n               not close the InputStream:            */\r\n            if (is != null) {\r\n                try {\r\n                    is.close();\r\n                }\r\n                catch (IOException ex) {\r\n                    System.err.println(ex);\r\n                }\r\n            }\r\n        }\r\n        return font;\r\n    }\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rTslH.png\r\n  [2]: https://i.stack.imgur.com/TomuI.png\r\n  [3]: https://i.stack.imgur.com/5Am9U.png","title":"I need to add a new font in my java project","body":"<p>As mentioned in comments, you can load the <code>Poppins-Bold.ttf</code> file (or any file) for use from a <strong>resource</strong> directory (folder) attached to your Project's classpath. Below are images that demonstrate where you might create a resources directory:</p>\n<p><strong>What it would look like in the Project Pane of your IDE:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/rTslH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rTslH.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>What it would look like in the your File Explorer application:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/TomuI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TomuI.png\" alt=\"enter image description here\" /></a></p>\n<p>It's important where you create this <strong>resources</strong> directory so that sub-directories (if any) and files within it can be be acquired when your application is run from either the IDE or a distributive <strong>.jar</strong> file. As you can see, the <code>Poppins-Bold.ttf</code> is contained directly within the <strong>resources</strong> directory (source package) for this demo.</p>\n<p>Once your <code>Poppins-Bold.ttf</code> Font file has been saved to resources, you can load it for use in many different ways. Here is a method that can do the job in both your IDE or when your application is a distributive <strong>.jar</strong> file. Read the comments in code:</p>\n<pre><code>/**\n * Loads a Font from resources and returns a Font Object.This method will \n * load a font from resources whether your code is run from your IDE or run \n * from an distributive &lt;b&gt;.jar&lt;/b&gt; file.\n * \n * @param theClass (Class) The application's main class, for example:&lt;pre&gt;\n * {@code \n * \n *   String fontName = &quot;Poppins-Bold.ttf&quot;;\n *   float fontSize = 24f;\n *   \n *   // Load the desired font file from resources and create a Font object.\n *   Font font = loadFontFromResource(MyMainClassName.class, fontName, fontSize);\n * }&lt;/pre&gt;\n * \n * @param fontFileName (String) The file name of the Font file contained \n * within the resources directory, for example: &lt;b&gt;&quot;Poppins-Bold.ttf&quot;&lt;/b&gt;. \n * Only the Font file name (with file name extension) is expected.&lt;br&gt;\n * \n * @param fontSize (float) The desired size of the font that is loading in. \n * If any value less than 1 is supplied then the font size will default to \n * 12.0f.&lt;br&gt;\n * \n * @return (Font Object)\n */\npublic static Font loadFontFromResource(Class theClass, String fontFileName, float fontSize) {\n    float fntSize = 12f;  // Default font size:\n    /* If the supplied font size is greater than 1 then \n       make it the supplied size otherwise leave it at \n       default:        */\n    if (fontSize &gt;= 1f) {\n        fntSize = fontSize;\n    }\n    \n    // Load in the supplied font file from resources.\n    InputStream is = theClass.getResourceAsStream(&quot;/resources/&quot; + fontFileName);\n    Font font = null;\n    try {\n        /* Creates a new Font using the specified font type and input data. \n           The new Font is created with a point size of 1 and style PLAIN. \n           This base font can then be used with the deriveFont methods in \n           this class to derive new Font objects with varying sizes, styles, \n           transforms and font features.            */\n        font = Font.createFont(Font.TRUETYPE_FONT, is);\n        font = font.deriveFont(fntSize);\n    }\n    catch (FontFormatException | IOException ex) {\n        // Display Exceptions if any:\n        System.err.println(&quot;Error Loading Font (&quot; + fontFileName \n                         + &quot;)! Here is why:\\n&quot; + ex.getMessage());\n    }\n    finally {\n        /* Close the InputStream if it's open. Font.createFont() does\n           not close the InputStream:            */\n        if (is != null) {\n            try {\n                is.close();\n            }\n            catch (IOException ex) {\n                System.err.println(ex);\n            }\n        }\n    }\n    return font;\n}\n</code></pre>\n<p>Below is a complete runnable demo application which demonstrates the above in real action. Again, read the comments in code:</p>\n<p><a href=\"https://i.stack.imgur.com/5Am9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Am9U.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Font;\nimport java.awt.FontFormatException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\n\npublic class LoadFontDemo {\n    \n    private JFrame frame;\n    private JPanel panel;\n    private JLabel label; \n\n    \n    // Constructor:\n    public LoadFontDemo() {\n        // Create demo GUI:\n        initForm();\n    }\n    \n    // Application entry startup method:\n    public static void main(String[] args) {\n        // App started this way to avoid the need for statics unless wanted.\n        new LoadFontDemo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        // Display the Demo GUI:\n        java.awt.EventQueue.invokeLater(() -&gt; {\n            frame.setVisible(true);\n            \n            // Center the JFrame window to center screen.\n            frame.setLocationRelativeTo(null);\n        });\n    }\n    \n    // Create GUI:\n    private void initForm() {\n        // Desired font info\n        String fontName = &quot;Poppins-Bold.ttf&quot;;   // The font name to load.\n        float fontSize = 24f;                   // The desired font size.\n        \n        // Load the desired font file from resources and create a Font object.\n        Font font = loadFontFromResource(LoadFontDemo.class, fontName, fontSize);\n\n        // Create a small Font Display GUI demo:\n        frame = new JFrame(&quot;Font Load/Use Demo&quot;);\n        frame.setAlwaysOnTop(true);\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        panel = new JPanel();\n        panel.setPreferredSize(new java.awt.Dimension(500, 150));\n        \n        // The JLabel the loaded font will be demonstrated in:\n        label = new JLabel(&quot;The \\&quot;&quot; + fontName + &quot;\\&quot; font demo.&quot;);\n        label.setPreferredSize(new java.awt.Dimension(500, 120));\n        label.setVerticalAlignment(JLabel.CENTER);\n        label.setHorizontalAlignment(JLabel.CENTER);\n        if (font != null) {\n            label.setFont(font);\n        }\n        \n        panel.add(label);               // Add JLabel to JPanel.\n        frame.setContentPane(panel);    // Set JPanel to JFrame Content Pane.\n        frame.pack();                   // Pack the JFrame.\n    }\n    \n        \n    /**\n     * Loads a Font from resources and returns a Font Object.This method will \n     * load a font from resources whether your code is run from your IDE or run \n     * from an distributive &lt;b&gt;.jar&lt;/b&gt; file.\n     * \n     * @param theClass (Class) The application's main class, for example:&lt;pre&gt;\n     * {@code \n     * \n     *   String fontName = &quot;Poppins-Bold.ttf&quot;;\n     *   float fontSize = 24f;\n     *   \n     *   // Load the desired font file from resources and create a Font object.\n     *   Font font = loadFontFromResource(MyMainClassName.class, fontName, fontSize);\n     * }&lt;/pre&gt;\n     * \n     * @param fontFileName (String) The file name of the Font file contained \n     * within the resources directory, for example: &lt;b&gt;&quot;Poppins-Bold.ttf&quot;&lt;/b&gt;. \n     * Only the Font file name (with file name extension) is expected.&lt;br&gt;\n     * \n     * @param fontSize (float) The desired size of the font that is loading in. \n     * If any value less than 1 is supplied then the font size will default to \n     * 12.0f.&lt;br&gt;\n     * \n     * @return (Font Object)\n     */\n    public static Font loadFontFromResource(Class theClass, String fontFileName, float fontSize) {\n        float fntSize = 12f;  // Default font size:\n        /* If the supplied font size is greater than 1 then \n           make it the supplied size otherwise leave it at \n           default:        */\n        if (fontSize &gt;= 1f) {\n            fntSize = fontSize;\n        }\n        \n        // Load in the supplied font file from resources.\n        InputStream is = theClass.getResourceAsStream(&quot;/resources/&quot; + fontFileName);\n        Font font = null;\n        try {\n            /* Creates a new Font using the specified font type and input data. \n               The new Font is created with a point size of 1 and style PLAIN. \n               This base font can then be used with the deriveFont methods in \n               this class to derive new Font objects with varying sizes, styles, \n               transforms and font features.            */\n            font = Font.createFont(Font.TRUETYPE_FONT, is);\n            font = font.deriveFont(fntSize);\n        }\n        catch (FontFormatException | IOException ex) {\n            // Display Exceptions if any:\n            System.err.println(&quot;Error Loading Font (&quot; + fontFileName \n                             + &quot;)! Here is why:\\n&quot; + ex.getMessage());\n        }\n        finally {\n            /* Close the InputStream if it's open. Font.createFont() does\n               not close the InputStream:            */\n            if (is != null) {\n                try {\n                    is.close();\n                }\n                catch (IOException ex) {\n                    System.err.println(ex);\n                }\n            }\n        }\n        return font;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27652018,"reputation":1,"user_id":21106721,"display_name":"Josue Ortiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688770617,"creation_date":1688756212,"question_id":76639548,"body_markdown":"I have a project in Java Apache netbeans IDE 15, I am using Java With ant without creating the Main.\r\n\r\nI already have my poppins-bold.ttf file, I just don&#39;t know how to add it to my project to be able to use it, I hope your help, thank you very much &lt;3\r\n\r\n[enter image description here](https://i.stack.imgur.com/zVoam.png)\r\n\r\nI have not tried much yet, I have not found material that is useful to me","title":"I need to add a new font in my java project","body":"<p>I have a project in Java Apache netbeans IDE 15, I am using Java With ant without creating the Main.</p>\n<p>I already have my poppins-bold.ttf file, I just don't know how to add it to my project to be able to use it, I hope your help, thank you very much &lt;3</p>\n<p><a href=\"https://i.stack.imgur.com/zVoam.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have not tried much yet, I have not found material that is useful to me</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1688706908,"post_id":76634101,"comment_id":135112493,"body_markdown":"There are Unicode glyphs that are numbers within circles.  Perhaps you could use those, drawn in red text.  U+24FF and U+2776 to U+2784.","body":"There are Unicode glyphs that are numbers within circles.  Perhaps you could use those, drawn in red text.  U+24FF and U+2776 to U+2784."},{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1688707010,"post_id":76634101,"comment_id":135112502,"body_markdown":"number will be dynamic, not known in advance","body":"number will be dynamic, not known in advance"},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1688707242,"post_id":76634101,"comment_id":135112526,"body_markdown":"If it is less than 20, the glyphs will work.  If it can be larger, then it won&#39;t.","body":"If it is less than 20, the glyphs will work.  If it can be larger, then it won&#39;t."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1688708866,"post_id":76634101,"comment_id":135112692,"body_markdown":"[Edit] your question and post the code that you tried. Are you using [JLabel](https://docs.oracle.com/javase%2Ftutorial%2F/uiswing/components/label.html) to display what appears in the image? It also sounds like there may be a different way to achieve what you are trying to do. Why do you need a red circle behind the number?","body":"<a href=\"https://stackoverflow.com/posts/76634101/edit\">Edit</a> your question and post the code that you tried. Are you using <a href=\"https://docs.oracle.com/javase%2Ftutorial%2F/uiswing/components/label.html\" rel=\"nofollow noreferrer\">JLabel</a> to display what appears in the image? It also sounds like there may be a different way to achieve what you are trying to do. Why do you need a red circle behind the number?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688757790,"post_id":76634101,"comment_id":135121659,"body_markdown":"*I&#39;ve issues with getting the circular background behind the number* - Use a JLabel with an Icon and text. See: https://stackoverflow.com/a/32700526/131872 for an example with a rectangular Icon. Just change the painting to be an oval. This approach would also work for a JButton.","body":"<i>I&#39;ve issues with getting the circular background behind the number</i> - Use a JLabel with an Icon and text. See: <a href=\"https://stackoverflow.com/a/32700526/131872\">stackoverflow.com/a/32700526/131872</a> for an example with a rectangular Icon. Just change the painting to be an oval. This approach would also work for a JButton."}],"answers":[{"comments":[{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1688727136,"post_id":76634227,"comment_id":135115872,"body_markdown":"How can I accommodate this without JPanel, in a button, details added in question","body":"How can I accommodate this without JPanel, in a button, details added in question"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688770000,"post_id":76634227,"comment_id":135123129,"body_markdown":"That&#39;s a far more complex problem and one which `JButton` isn&#39;t well suited for","body":"That&#39;s a far more complex problem and one which <code>JButton</code> isn&#39;t well suited for"},{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1689005073,"post_id":76634227,"comment_id":135148670,"body_markdown":"Thanks, Is it possible to add this dynamically, I&#39;m trying to create animation out of it.","body":"Thanks, Is it possible to add this dynamically, I&#39;m trying to create animation out of it."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689024391,"post_id":76634227,"comment_id":135152080,"body_markdown":"That depends a lot on what you mean by “animation” - and all the code is dynamic","body":"That depends a lot on what you mean by “animation” - and all the code is dynamic"},{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1689061803,"post_id":76634227,"comment_id":135155998,"body_markdown":"maybe hiding and showing the circle or changing the size/color just to make it noticeable","body":"maybe hiding and showing the circle or changing the size/color just to make it noticeable"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689112040,"post_id":76634227,"comment_id":135166622,"body_markdown":"Animation in Swing is not easy, good animation in Swing is hard, it&#39;s something you&#39;d need to carefully design for.  The layout managers don&#39;t tend to like you messing with things like the size/position of the components, for example, there are &quot;cheats&quot; you can do, but it&#39;s complicated. Changing the color or alpha is simple enough.  If you don&#39;t mind getting your hands dirty, you could render the text yourself directly, this would allow you to do some scaling effects, but calculating the required size of the text is not a simple matter","body":"Animation in Swing is not easy, good animation in Swing is hard, it&#39;s something you&#39;d need to carefully design for.  The layout managers don&#39;t tend to like you messing with things like the size/position of the components, for example, there are &quot;cheats&quot; you can do, but it&#39;s complicated. Changing the color or alpha is simple enough.  If you don&#39;t mind getting your hands dirty, you could render the text yourself directly, this would allow you to do some scaling effects, but calculating the required size of the text is not a simple matter"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688770363,"creation_date":1688709076,"answer_id":76634227,"question_id":76634101,"body_markdown":"A &quot;simple&quot; solution would be to paint a circle behind a `JLabel`\r\n\r\nStart by having a look at:\r\n\r\n* [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)\r\n* [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n* [2D Graphics](https://docs.oracle.com/javase/tutorial/2d/)\r\n\r\nfor more details.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.RenderingHints;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n\r\n                    JPanel content = new JPanel(new GridBagLayout());\r\n                    content.setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                    CircularText circularText = new CircularText();\r\n                    circularText.setText(&quot;100&quot;);\r\n                    circularText.setForeground(Color.WHITE);\r\n                    circularText.setFont(circularText.getFont().deriveFont(Font.BOLD, 48f));\r\n\r\n                    content.add(circularText);\r\n\r\n                    frame.add(content);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class CircularText extends JPanel {\r\n\r\n            private JLabel label = new JLabel();\r\n\r\n            public CircularText() {\r\n                label.setFont(getFont());\r\n                label.setForeground(getForeground());\r\n                setOpaque(false);\r\n                setBackground(Color.RED);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                add(label);\r\n            }\r\n\r\n            public void setText(String text) {\r\n                label.setText(text);\r\n            }\r\n\r\n            public String getText() {\r\n                return label.getText();\r\n            }\r\n\r\n            @Override\r\n            public void setFont(Font font) {\r\n                super.setFont(font);\r\n                if (label != null) {\r\n                    label.setFont(font);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void setForeground(Color fg) {\r\n                super.setForeground(fg);\r\n                if (label != null) {\r\n                    label.setForeground(fg);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                Dimension size = super.getPreferredSize();\r\n                int max = Math.max(size.width, size.height);\r\n                return new Dimension(max, max);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n                g2d.setColor(getBackground());\r\n                int size = Math.min(getWidth(), getHeight());\r\n                int x = (getWidth() - size) / 2;\r\n                int y = (getHeight() - size) / 2;\r\n                g2d.fillOval(x, y, size, size);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\nNow remember, if you want text added either side, you&#39;re going to need to make use of suitable layout manager to manage the individual components, something like `GridBagLayout` might work well, for example...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.RenderingHints;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n\r\n                    JPanel content = new JPanel(new GridBagLayout());\r\n                    content.setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                    GridBagConstraints gbc = new GridBagConstraints();\r\n                    gbc.insets = new Insets(0, 4, 0, 4);\r\n\r\n                    content.add(new JLabel(&quot;Some text&quot;), gbc);\r\n\r\n                    CircularText circularText = new CircularText();\r\n                    circularText.setText(&quot;100&quot;);\r\n                    circularText.setForeground(Color.WHITE);\r\n\r\n                    content.add(circularText, gbc);\r\n\r\n                    content.add(new JLabel(&quot;some more info&quot;), gbc);\r\n\r\n                    frame.add(content);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class CircularText extends JPanel {\r\n\r\n            private JLabel label = new JLabel();\r\n\r\n            public CircularText() {\r\n                label.setFont(getFont());\r\n                label.setForeground(getForeground());\r\n                setOpaque(false);\r\n                setBackground(Color.RED);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                add(label);\r\n            }\r\n\r\n            public void setText(String text) {\r\n                label.setText(text);\r\n            }\r\n\r\n            public String getText() {\r\n                return label.getText();\r\n            }\r\n\r\n            @Override\r\n            public void setFont(Font font) {\r\n                super.setFont(font);\r\n                if (label != null) {\r\n                    label.setFont(font);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void setForeground(Color fg) {\r\n                super.setForeground(fg);\r\n                if (label != null) {\r\n                    label.setForeground(fg);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                Dimension size = super.getPreferredSize();\r\n                int max = Math.max(size.width, size.height);\r\n                return new Dimension(max, max);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n                g2d.setColor(getBackground());\r\n                int size = Math.min(getWidth(), getHeight());\r\n                int x = (getWidth() - size) / 2;\r\n                int y = (getHeight() - size) / 2;\r\n                g2d.fillOval(x, y, size, size);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n&gt; How can I accommodate this without JPanel, in a button, details added in question \r\n\r\nFirst, don&#39;t update the question after the fact, it tends to void any previously provided answer, better to ask a new question with the &quot;extra&quot; details.\r\n\r\nSecond `JButton` is a component/container, my first thought would be to try and add a component to the button itself.  If that doesn&#39;t work, then you&#39;re in for a world of pain, as about the only other choice would be to use a custom look and feel delegate instead.\r\n\r\nLucky for you, adding a component to a `JButton` seems to work...\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.RenderingHints;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    JPanel contentPane = new JPanel(new GridBagLayout());\r\n                    contentPane.setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                    frame.setContentPane(contentPane);\r\n\r\n                    JPanel buttonContent = new JPanel(new GridBagLayout());\r\n                    buttonContent.setOpaque(false);\r\n\r\n                    GridBagConstraints gbc = new GridBagConstraints();\r\n                    gbc.insets = new Insets(0, 4, 0, 4);\r\n\r\n                    buttonContent.add(new JLabel(&quot;Some text&quot;), gbc);\r\n\r\n                    CircularText circularText = new CircularText();\r\n                    circularText.setText(&quot;100&quot;);\r\n                    circularText.setForeground(Color.WHITE);\r\n\r\n                    buttonContent.add(circularText, gbc);\r\n\r\n                    buttonContent.add(new JLabel(&quot;some more info&quot;), gbc);\r\n\r\n                    JButton btn = new JButton();\r\n                    btn.add(buttonContent);\r\n\r\n                    frame.add(btn);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class CircularText extends JPanel {\r\n\r\n            private JLabel label = new JLabel();\r\n\r\n            public CircularText() {\r\n                label.setFont(getFont());\r\n                label.setForeground(getForeground());\r\n                setOpaque(false);\r\n                setBackground(Color.RED);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                add(label);\r\n            }\r\n\r\n            public void setText(String text) {\r\n                label.setText(text);\r\n            }\r\n\r\n            public String getText() {\r\n                return label.getText();\r\n            }\r\n\r\n            @Override\r\n            public void setFont(Font font) {\r\n                super.setFont(font);\r\n                if (label != null) {\r\n                    label.setFont(font);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void setForeground(Color fg) {\r\n                super.setForeground(fg);\r\n                if (label != null) {\r\n                    label.setForeground(fg);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                Dimension size = super.getPreferredSize();\r\n                int max = Math.max(size.width, size.height);\r\n                return new Dimension(max, max);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n                g2d.setColor(getBackground());\r\n                int size = Math.min(getWidth(), getHeight());\r\n                int x = (getWidth() - size) / 2;\r\n                int y = (getHeight() - size) / 2;\r\n                g2d.fillOval(x, y, size, size);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f3ntY.png\r\n  [2]: https://i.stack.imgur.com/GLLNj.png\r\n  [3]: https://i.stack.imgur.com/OR7fJ.png","title":"Java swing text with circular background","body":"<p>A &quot;simple&quot; solution would be to paint a circle behind a <code>JLabel</code></p>\n<p>Start by having a look at:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/2d/\" rel=\"nofollow noreferrer\">2D Graphics</a></li>\n</ul>\n<p>for more details.</p>\n<p><a href=\"https://i.stack.imgur.com/f3ntY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f3ntY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.RenderingHints;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n\n                JPanel content = new JPanel(new GridBagLayout());\n                content.setBorder(new EmptyBorder(32, 32, 32, 32));\n\n                CircularText circularText = new CircularText();\n                circularText.setText(&quot;100&quot;);\n                circularText.setForeground(Color.WHITE);\n                circularText.setFont(circularText.getFont().deriveFont(Font.BOLD, 48f));\n\n                content.add(circularText);\n\n                frame.add(content);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class CircularText extends JPanel {\n\n        private JLabel label = new JLabel();\n\n        public CircularText() {\n            label.setFont(getFont());\n            label.setForeground(getForeground());\n            setOpaque(false);\n            setBackground(Color.RED);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            add(label);\n        }\n\n        public void setText(String text) {\n            label.setText(text);\n        }\n\n        public String getText() {\n            return label.getText();\n        }\n\n        @Override\n        public void setFont(Font font) {\n            super.setFont(font);\n            if (label != null) {\n                label.setFont(font);\n            }\n        }\n\n        @Override\n        public void setForeground(Color fg) {\n            super.setForeground(fg);\n            if (label != null) {\n                label.setForeground(fg);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension size = super.getPreferredSize();\n            int max = Math.max(size.width, size.height);\n            return new Dimension(max, max);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n            g2d.setColor(getBackground());\n            int size = Math.min(getWidth(), getHeight());\n            int x = (getWidth() - size) / 2;\n            int y = (getHeight() - size) / 2;\n            g2d.fillOval(x, y, size, size);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Now remember, if you want text added either side, you're going to need to make use of suitable layout manager to manage the individual components, something like <code>GridBagLayout</code> might work well, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/GLLNj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLLNj.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.RenderingHints;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n\n                JPanel content = new JPanel(new GridBagLayout());\n                content.setBorder(new EmptyBorder(32, 32, 32, 32));\n\n                GridBagConstraints gbc = new GridBagConstraints();\n                gbc.insets = new Insets(0, 4, 0, 4);\n\n                content.add(new JLabel(&quot;Some text&quot;), gbc);\n\n                CircularText circularText = new CircularText();\n                circularText.setText(&quot;100&quot;);\n                circularText.setForeground(Color.WHITE);\n\n                content.add(circularText, gbc);\n\n                content.add(new JLabel(&quot;some more info&quot;), gbc);\n\n                frame.add(content);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class CircularText extends JPanel {\n\n        private JLabel label = new JLabel();\n\n        public CircularText() {\n            label.setFont(getFont());\n            label.setForeground(getForeground());\n            setOpaque(false);\n            setBackground(Color.RED);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            add(label);\n        }\n\n        public void setText(String text) {\n            label.setText(text);\n        }\n\n        public String getText() {\n            return label.getText();\n        }\n\n        @Override\n        public void setFont(Font font) {\n            super.setFont(font);\n            if (label != null) {\n                label.setFont(font);\n            }\n        }\n\n        @Override\n        public void setForeground(Color fg) {\n            super.setForeground(fg);\n            if (label != null) {\n                label.setForeground(fg);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension size = super.getPreferredSize();\n            int max = Math.max(size.width, size.height);\n            return new Dimension(max, max);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n            g2d.setColor(getBackground());\n            int size = Math.min(getWidth(), getHeight());\n            int x = (getWidth() - size) / 2;\n            int y = (getHeight() - size) / 2;\n            g2d.fillOval(x, y, size, size);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>How can I accommodate this without JPanel, in a button, details added in question</p>\n</blockquote>\n<p>First, don't update the question after the fact, it tends to void any previously provided answer, better to ask a new question with the &quot;extra&quot; details.</p>\n<p>Second <code>JButton</code> is a component/container, my first thought would be to try and add a component to the button itself.  If that doesn't work, then you're in for a world of pain, as about the only other choice would be to use a custom look and feel delegate instead.</p>\n<p>Lucky for you, adding a component to a <code>JButton</code> seems to work...</p>\n<p><a href=\"https://i.stack.imgur.com/OR7fJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OR7fJ.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.RenderingHints;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                JPanel contentPane = new JPanel(new GridBagLayout());\n                contentPane.setBorder(new EmptyBorder(32, 32, 32, 32));\n                frame.setContentPane(contentPane);\n\n                JPanel buttonContent = new JPanel(new GridBagLayout());\n                buttonContent.setOpaque(false);\n\n                GridBagConstraints gbc = new GridBagConstraints();\n                gbc.insets = new Insets(0, 4, 0, 4);\n\n                buttonContent.add(new JLabel(&quot;Some text&quot;), gbc);\n\n                CircularText circularText = new CircularText();\n                circularText.setText(&quot;100&quot;);\n                circularText.setForeground(Color.WHITE);\n\n                buttonContent.add(circularText, gbc);\n\n                buttonContent.add(new JLabel(&quot;some more info&quot;), gbc);\n\n                JButton btn = new JButton();\n                btn.add(buttonContent);\n\n                frame.add(btn);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class CircularText extends JPanel {\n\n        private JLabel label = new JLabel();\n\n        public CircularText() {\n            label.setFont(getFont());\n            label.setForeground(getForeground());\n            setOpaque(false);\n            setBackground(Color.RED);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            add(label);\n        }\n\n        public void setText(String text) {\n            label.setText(text);\n        }\n\n        public String getText() {\n            return label.getText();\n        }\n\n        @Override\n        public void setFont(Font font) {\n            super.setFont(font);\n            if (label != null) {\n                label.setFont(font);\n            }\n        }\n\n        @Override\n        public void setForeground(Color fg) {\n            super.setForeground(fg);\n            if (label != null) {\n                label.setForeground(fg);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension size = super.getPreferredSize();\n            int max = Math.max(size.width, size.height);\n            return new Dimension(max, max);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n            g2d.setColor(getBackground());\n            int size = Math.min(getWidth(), getHeight());\n            int x = (getWidth() - size) / 2;\n            int y = (getHeight() - size) / 2;\n            g2d.fillOval(x, y, size, size);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76634227,"answer_count":1,"score":-1,"last_activity_date":1688770363,"creation_date":1688706687,"question_id":76634101,"body_markdown":"```\r\npackage test.client.swing.machine.view;\r\n\r\nimport java.awt.*;\r\n\r\nimport javax.swing.Box;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\nimport test.client.swing.machine.view.ImageFactory.BorderType;\r\n\r\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_LABEL;\r\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_VALUE;\r\n\r\n\r\npublic class LabelValueButton extends SimpleGraphicButton {\r\n\r\n    protected final JLabel left = new JLabel();\r\n    protected final JLabel middle = new JLabel();\r\n    protected final JLabel right = new JLabel();\r\n    protected String label;\r\n    protected Object value;\r\n\r\n    public LabelValueButton(ImageFactory imageFactory, String label, Integer count, Object value, Border border,\r\n        String imageNamePattern, BorderType bType, int width) {\r\n        super(imageFactory);\r\n        try {\r\n            loadDynamicImages(imageNamePattern, bType, width);\r\n        } catch (IllegalArgumentException e) {\r\n            loadStandardImages(imageNamePattern);\r\n        }\r\n        setBorder(border);\r\n        init(label, value, count);\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n        left.setText(label);\r\n    }\r\n\r\n    public Object getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(Object value) {\r\n        this.value = value;\r\n        right.setText(String.valueOf(value));\r\n    }\r\n\r\n    @Override\r\n    public void setForeground(Color c) {\r\n        super.setForeground(c);\r\n        if (left != null) {\r\n            left.setForeground(c);\r\n        }\r\n        if (right != null) {\r\n            right.setForeground(c);\r\n        }\r\n        // repaint anscheinend nicht n&#246;tig\r\n        // repaint();\r\n    }\r\n\r\n    @Override\r\n    public void setFont(Font f) {\r\n        super.setFont(f);\r\n        if (left != null) {\r\n            left.setFont(f);\r\n        }\r\n        if (right != null) {\r\n            right.setFont(f);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Font getFont() {\r\n        return left != null ? left.getFont() : super.getFont();\r\n    }\r\n\r\n    protected void init(String label, Object value, Integer count) {\r\n\r\n        CustomLabel circularText = new CustomLabel();\r\n        circularText.setText(&quot;100&quot;);\r\n        circularText.setForeground(Color.WHITE);\r\n        circularText.setFont(circularText.getFont().deriveFont(Font.BOLD, 48 f));\r\n        add(circularText);\r\n\r\n        setLabel(label);\r\n        setValue(value);\r\n        setLayout(new BoxLayout(this, BoxLayout.LINE_AXIS));\r\n        if (getComponentOrientation().isHorizontal()) {\r\n            //\t\t\tadd(Box.createHorizontalStrut(5));\r\n            add(left);\r\n            add(Box.createGlue());\r\n            add(right);\r\n            //\t\t\tadd(Box.createHorizontalStrut(15));\r\n\r\n            left.setAlignmentY(0.5 f);\r\n            right.setAlignmentY(0.5 f);\r\n        } else {\r\n            //\t\t\tadd(Box.createVerticalStrut(5));\r\n            add(left);\r\n            add(Box.createVerticalGlue());\r\n            add(right);\r\n            //\t\t\tadd(Box.createVerticalStrut(15));\r\n        }\r\n        left.setFont(Constants.getFontBold());\r\n        left.setName(LABEL_VALUE_BUTTON_LABEL);\r\n        right.setFont(Constants.getFontBoldMedium());\r\n        right.setName(LABEL_VALUE_BUTTON_VALUE);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve to add the number in the middle JLabel, but not able\r\n\r\nI&#39;m pretty new to Java swing and trying to design a component where the text has a circular background. Something like in the image \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve issues with getting the circular background behind the number. Also the circle would be aligned right if there&#39;s not extra info, but will move to left if there&#39;s extra info present as in second image. \r\n\r\nI tried with having the image as part of the red circle but that seems to overcomplicate thing as I&#39;ve to overlay text on top and also the element position is not fixed (moves to left if more content is present) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jxdEb.png","title":"Java swing text with circular background","body":"<pre><code>package test.client.swing.machine.view;\n\nimport java.awt.*;\n\nimport javax.swing.Box;\nimport javax.swing.BoxLayout;\nimport javax.swing.JLabel;\nimport javax.swing.border.Border;\nimport javax.swing.border.EmptyBorder;\n\nimport test.client.swing.machine.view.ImageFactory.BorderType;\n\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_LABEL;\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_VALUE;\n\n\npublic class LabelValueButton extends SimpleGraphicButton {\n\n    protected final JLabel left = new JLabel();\n    protected final JLabel middle = new JLabel();\n    protected final JLabel right = new JLabel();\n    protected String label;\n    protected Object value;\n\n    public LabelValueButton(ImageFactory imageFactory, String label, Integer count, Object value, Border border,\n        String imageNamePattern, BorderType bType, int width) {\n        super(imageFactory);\n        try {\n            loadDynamicImages(imageNamePattern, bType, width);\n        } catch (IllegalArgumentException e) {\n            loadStandardImages(imageNamePattern);\n        }\n        setBorder(border);\n        init(label, value, count);\n    }\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n        left.setText(label);\n    }\n\n    public Object getValue() {\n        return value;\n    }\n\n    public void setValue(Object value) {\n        this.value = value;\n        right.setText(String.valueOf(value));\n    }\n\n    @Override\n    public void setForeground(Color c) {\n        super.setForeground(c);\n        if (left != null) {\n            left.setForeground(c);\n        }\n        if (right != null) {\n            right.setForeground(c);\n        }\n        // repaint anscheinend nicht nötig\n        // repaint();\n    }\n\n    @Override\n    public void setFont(Font f) {\n        super.setFont(f);\n        if (left != null) {\n            left.setFont(f);\n        }\n        if (right != null) {\n            right.setFont(f);\n        }\n    }\n\n    @Override\n    public Font getFont() {\n        return left != null ? left.getFont() : super.getFont();\n    }\n\n    protected void init(String label, Object value, Integer count) {\n\n        CustomLabel circularText = new CustomLabel();\n        circularText.setText(&quot;100&quot;);\n        circularText.setForeground(Color.WHITE);\n        circularText.setFont(circularText.getFont().deriveFont(Font.BOLD, 48 f));\n        add(circularText);\n\n        setLabel(label);\n        setValue(value);\n        setLayout(new BoxLayout(this, BoxLayout.LINE_AXIS));\n        if (getComponentOrientation().isHorizontal()) {\n            //          add(Box.createHorizontalStrut(5));\n            add(left);\n            add(Box.createGlue());\n            add(right);\n            //          add(Box.createHorizontalStrut(15));\n\n            left.setAlignmentY(0.5 f);\n            right.setAlignmentY(0.5 f);\n        } else {\n            //          add(Box.createVerticalStrut(5));\n            add(left);\n            add(Box.createVerticalGlue());\n            add(right);\n            //          add(Box.createVerticalStrut(15));\n        }\n        left.setFont(Constants.getFontBold());\n        left.setName(LABEL_VALUE_BUTTON_LABEL);\n        right.setFont(Constants.getFontBoldMedium());\n        right.setName(LABEL_VALUE_BUTTON_VALUE);\n    }\n}\n\n</code></pre>\n<p>I've to add the number in the middle JLabel, but not able</p>\n<p>I'm pretty new to Java swing and trying to design a component where the text has a circular background. Something like in the image</p>\n<p><a href=\"https://i.stack.imgur.com/jxdEb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jxdEb.png\" alt=\"enter image description here\" /></a></p>\n<p>I've issues with getting the circular background behind the number. Also the circle would be aligned right if there's not extra info, but will move to left if there's extra info present as in second image.</p>\n<p>I tried with having the image as part of the red circle but that seems to overcomplicate thing as I've to overlay text on top and also the element position is not fixed (moves to left if more content is present)</p>\n"},{"tags":["java","country-codes"],"comments":[{"owner":{"account_id":1080151,"reputation":1326,"user_id":1077350,"accept_rate":60,"display_name":"Chris"},"score":1,"creation_date":1357294886,"post_id":14155049,"comment_id":19606729,"body_markdown":"Sorry, both don&#39;t answer my question. I was looking for an EASY way (maybe without saving all the names+codes in an array/Map) to get the code from the country name, so the other way round.","body":"Sorry, both don&#39;t answer my question. I was looking for an EASY way (maybe without saving all the names+codes in an array/Map) to get the code from the country name, so the other way round."}],"answers":[{"comments":[{"owner":{"account_id":225818,"reputation":6897,"user_id":486504,"accept_rate":79,"display_name":"user"},"score":0,"creation_date":1357294518,"post_id":14155098,"comment_id":19606569,"body_markdown":"Dang, you beat me to it. Of course, this assumes that you standardize the country names - `USA`, `U.S.A.`, `US of A` and `United States of America` won&#39;t go well together.","body":"Dang, you beat me to it. Of course, this assumes that you standardize the country names - <code>USA</code>, <code>U.S.A.</code>, <code>US of A</code> and <code>United States of America</code> won&#39;t go well together."},{"owner":{"account_id":1080151,"reputation":1326,"user_id":1077350,"accept_rate":60,"display_name":"Chris"},"score":0,"creation_date":1357294930,"post_id":14155098,"comment_id":19606751,"body_markdown":"I assume that there&#39;s a standardization.","body":"I assume that there&#39;s a standardization."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1357295003,"post_id":14155098,"comment_id":19606785,"body_markdown":"That only partially answers the question - using a map as a data structure is a good idea, but that does not explain how to populate the map (where to get the data).","body":"That only partially answers the question - using a map as a data structure is a good idea, but that does not explain how to populate the map (where to get the data)."},{"owner":{"account_id":1080151,"reputation":1326,"user_id":1077350,"accept_rate":60,"display_name":"Chris"},"score":1,"creation_date":1357295121,"post_id":14155098,"comment_id":19606843,"body_markdown":"I think getting the data is no problem: http://www.java2s.com/Code/Java/I18N/Getalistofcountrynames.htm","body":"I think getting the data is no problem: <a href=\"http://www.java2s.com/Code/Java/I18N/Getalistofcountrynames.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Java/I18N/Getalistofcountrynames.htm</a>"},{"owner":{"account_id":1070109,"reputation":14222,"user_id":1069607,"accept_rate":89,"display_name":"SDC"},"score":1,"creation_date":1357295134,"post_id":14155098,"comment_id":19606854,"body_markdown":"@Chris - when it comes to user-input, it&#39;s never good to assume they&#39;ll conform to a standard.","body":"@Chris - when it comes to user-input, it&#39;s never good to assume they&#39;ll conform to a standard."},{"owner":{"account_id":1080151,"reputation":1326,"user_id":1077350,"accept_rate":60,"display_name":"Chris"},"score":0,"creation_date":1357295338,"post_id":14155098,"comment_id":19606938,"body_markdown":"You&#39;re right. I&#39;m using a drop down list with standardized values so user input is no problem. Just as you said ;)","body":"You&#39;re right. I&#39;m using a drop down list with standardized values so user input is no problem. Just as you said ;)"}],"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"comment_count":6,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1357294876,"creation_date":1357294447,"answer_id":14155098,"question_id":14155049,"body_markdown":"Use a `Map`, not an array, then you don&#39;t have to iterate over it, you just look it up.\r\n\r\nO(1) vs O(n)\r\n\r\n    //Do this once\r\n    Map&lt;String,Locale&gt; map = new HashMap&lt;String,Locale&gt;();\r\n    for (Locale locale : Locale.getAvailableLocales()) {\r\n      map.put(locale.getDisplayCountry(), locale);\r\n    }","title":"ISO2 country code from country name","body":"<p>Use a <code>Map</code>, not an array, then you don't have to iterate over it, you just look it up.</p>\n\n<p>O(1) vs O(n)</p>\n\n<pre><code>//Do this once\nMap&lt;String,Locale&gt; map = new HashMap&lt;String,Locale&gt;();\nfor (Locale locale : Locale.getAvailableLocales()) {\n  map.put(locale.getDisplayCountry(), locale);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":1,"creation_date":1368446740,"post_id":14155127,"comment_id":23722150,"body_markdown":"is this intended? map.put(&quot;&quot;, &quot;EDU EDUCATIONAL &quot;);","body":"is this intended? map.put(&quot;&quot;, &quot;EDU EDUCATIONAL &quot;);"},{"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"score":2,"creation_date":1444760667,"post_id":14155127,"comment_id":54034204,"body_markdown":"I&#39;m sceptical that this will work - if the user puts in Afghanistan instead of  &quot;Afghanistan, Islamic State Of&quot;, the map will pick up nothing?","body":"I&#39;m sceptical that this will work - if the user puts in Afghanistan instead of  &quot;Afghanistan, Islamic State Of&quot;, the map will pick up nothing?"},{"owner":{"account_id":3956738,"reputation":268,"user_id":3264951,"display_name":"Ben"},"score":2,"creation_date":1448886170,"post_id":14155127,"comment_id":55752551,"body_markdown":"Please keep in mind that countries can change over time (add/remove, they change their name, etc.); so from my point of view it is not a good idea to hard code a country list...","body":"Please keep in mind that countries can change over time (add/remove, they change their name, etc.); so from my point of view it is not a good idea to hard code a country list..."}],"tags":[],"owner":{"account_id":1859381,"reputation":2443,"user_id":1684282,"accept_rate":59,"display_name":"Mark"},"comment_count":3,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1368702440,"creation_date":1357294570,"answer_id":14155127,"question_id":14155049,"body_markdown":"As others have mentioned Map is the easiest way, here&#39;s what I wrote/used where I had the same problem. \r\n\r\n\r\n\r\n     import java.util.Map;\r\n     import java.util.TreeMap;\r\n\r\n\r\n     public class CountryCodes {\r\n         final Map&lt;String, String&gt; map = new TreeMap&lt;String, String&gt;   (String.CASE_INSENSITIVE_ORDER);\r\n        public CountryCodes() {\r\n        \r\n         map.put(&quot;Andorra, Principality Of&quot;, &quot;AD&quot;);\r\n         map.put(&quot;United Arab Emirates&quot;, &quot;AE&quot;);\r\n         map.put(&quot;Afghanistan, Islamic State Of&quot;, &quot;AF&quot;);\r\n         map.put(&quot;Antigua And Barbuda&quot;, &quot;AG&quot;);\r\n         map.put(&quot;Anguilla&quot;, &quot;AI&quot;);\r\n         map.put(&quot;Albania&quot;, &quot;AL&quot;);\r\n         map.put(&quot;Armenia&quot;, &quot;AM&quot;);\r\n         map.put(&quot;Netherlands Antilles&quot;, &quot;AN&quot;);\r\n         map.put(&quot;Angola&quot;, &quot;AO&quot;);\r\n         map.put(&quot;Antarctica&quot;, &quot;AQ&quot;);\r\n         map.put(&quot;Argentina&quot;, &quot;AR&quot;);\r\n         map.put(&quot;American Samoa&quot;, &quot;AS&quot;);\r\n         map.put(&quot;Austria&quot;, &quot;AT&quot;);\r\n         map.put(&quot;Australia&quot;, &quot;AU&quot;);\r\n         map.put(&quot;Aruba&quot;, &quot;AW&quot;);\r\n         map.put(&quot;Azerbaidjan&quot;, &quot;AZ&quot;);\r\n         map.put(&quot;Bosnia-Herzegovina&quot;, &quot;BA&quot;);\r\n         map.put(&quot;Barbados&quot;, &quot;BB&quot;);\r\n         map.put(&quot;Bangladesh&quot;, &quot;BD&quot;);\r\n         map.put(&quot;Belgium&quot;, &quot;BE&quot;);\r\n         map.put(&quot;Burkina Faso&quot;, &quot;BF&quot;);\r\n         map.put(&quot;Bulgaria&quot;, &quot;BG&quot;);\r\n         map.put(&quot;Bahrain&quot;, &quot;BH&quot;);\r\n         map.put(&quot;Burundi&quot;, &quot;BI&quot;);\r\n         map.put(&quot;Benin&quot;, &quot;BJ&quot;);\r\n         map.put(&quot;Bermuda&quot;, &quot;BM&quot;);\r\n         map.put(&quot;Brunei Darussalam&quot;, &quot;BN&quot;);\r\n         map.put(&quot;Bolivia&quot;, &quot;BO&quot;);\r\n         map.put(&quot;Brazil&quot;, &quot;BR&quot;);\r\n         map.put(&quot;Bahamas&quot;, &quot;BS&quot;);\r\n         map.put(&quot;Bhutan&quot;, &quot;BT&quot;);\r\n         map.put(&quot;Bouvet Island&quot;, &quot;BV&quot;);\r\n         map.put(&quot;Botswana&quot;, &quot;BW&quot;);\r\n         map.put(&quot;Belarus&quot;, &quot;BY&quot;);\r\n         map.put(&quot;Belize&quot;, &quot;BZ&quot;);\r\n         map.put(&quot;Canada&quot;, &quot;CA&quot;);\r\n         map.put(&quot;Cocos (Keeling) Islands&quot;, &quot;CC&quot;);\r\n         map.put(&quot;Central African Republic&quot;, &quot;CF&quot;);\r\n         map.put(&quot;Congo, The Democratic Republic Of The&quot;, &quot;CD&quot;);\r\n         map.put(&quot;Congo&quot;, &quot;CG&quot;);\r\n         map.put(&quot;Switzerland&quot;, &quot;CH&quot;);\r\n         map.put(&quot;Ivory Coast (Cote D&#39;Ivoire)&quot;, &quot;CI&quot;);\r\n         map.put(&quot;Cook Islands&quot;, &quot;CK&quot;);\r\n         map.put(&quot;Chile&quot;, &quot;CL&quot;);\r\n         map.put(&quot;Cameroon&quot;, &quot;CM&quot;);\r\n         map.put(&quot;China&quot;, &quot;CN&quot;);\r\n         map.put(&quot;Colombia&quot;, &quot;CO&quot;);\r\n         map.put(&quot;Costa Rica&quot;, &quot;CR&quot;);\r\n         map.put(&quot;Former Czechoslovakia&quot;, &quot;CS&quot;);\r\n         map.put(&quot;Cuba&quot;, &quot;CU&quot;);\r\n         map.put(&quot;Cape Verde&quot;, &quot;CV&quot;);\r\n         map.put(&quot;Christmas Island&quot;, &quot;CX&quot;);\r\n         map.put(&quot;Cyprus&quot;, &quot;CY&quot;);\r\n         map.put(&quot;Czech Republic&quot;, &quot;CZ&quot;);\r\n         map.put(&quot;Germany&quot;, &quot;DE&quot;);\r\n         map.put(&quot;Djibouti&quot;, &quot;DJ&quot;);\r\n         map.put(&quot;Denmark&quot;, &quot;DK&quot;);\r\n         map.put(&quot;Dominica&quot;, &quot;DM&quot;);\r\n         map.put(&quot;Dominican Republic&quot;, &quot;DO&quot;);\r\n         map.put(&quot;Algeria&quot;, &quot;DZ&quot;);\r\n         map.put(&quot;Ecuador&quot;, &quot;EC&quot;);\r\n         map.put(&quot;Estonia&quot;, &quot;EE&quot;);\r\n         map.put(&quot;Egypt&quot;, &quot;EG&quot;);\r\n         map.put(&quot;Western Sahara&quot;, &quot;EH&quot;);\r\n         map.put(&quot;Eritrea&quot;, &quot;ER&quot;);\r\n         map.put(&quot;Spain&quot;, &quot;ES&quot;);\r\n         map.put(&quot;Ethiopia&quot;, &quot;ET&quot;);\r\n         map.put(&quot;Finland&quot;, &quot;FI&quot;);\r\n         map.put(&quot;Fiji&quot;, &quot;FJ&quot;);\r\n         map.put(&quot;Falkland Islands&quot;, &quot;FK&quot;);\r\n         map.put(&quot;Micronesia&quot;, &quot;FM&quot;);\r\n         map.put(&quot;Faroe Islands&quot;, &quot;FO&quot;);\r\n         map.put(&quot;France&quot;, &quot;FR&quot;);\r\n         map.put(&quot;France (European Territory)&quot;, &quot;FX&quot;);\r\n         map.put(&quot;Gabon&quot;, &quot;GA&quot;);\r\n         map.put(&quot;Great Britain&quot;, &quot;UK&quot;);\r\n         map.put(&quot;Grenada&quot;, &quot;GD&quot;);\r\n         map.put(&quot;Georgia&quot;, &quot;GE&quot;);\r\n         map.put(&quot;French Guyana&quot;, &quot;GF&quot;);\r\n         map.put(&quot;Ghana&quot;, &quot;GH&quot;);\r\n         map.put(&quot;Gibraltar&quot;, &quot;GI&quot;);\r\n         map.put(&quot;Greenland&quot;, &quot;GL&quot;);\r\n         map.put(&quot;Gambia&quot;, &quot;GM&quot;);\r\n         map.put(&quot;Guinea&quot;, &quot;GN&quot;);\r\n         map.put(&quot;Guadeloupe (French)&quot;, &quot;GP&quot;);\r\n         map.put(&quot;Equatorial Guinea&quot;, &quot;GQ&quot;);\r\n         map.put(&quot;Greece&quot;, &quot;GR&quot;);\r\n         map.put(&quot;S. Georgia &amp; S. Sandwich Isls.&quot;, &quot;GS&quot;);\r\n         map.put(&quot;Guatemala&quot;, &quot;GT&quot;);\r\n         map.put(&quot;Guam (USA)&quot;, &quot;GU&quot;);\r\n         map.put(&quot;Guinea Bissau&quot;, &quot;GW&quot;);\r\n         map.put(&quot;Guyana&quot;, &quot;GY&quot;);\r\n         map.put(&quot;Hong Kong&quot;, &quot;HK&quot;);\r\n         map.put(&quot;Heard And McDonald Islands&quot;, &quot;HM&quot;);\r\n         map.put(&quot;Honduras&quot;, &quot;HN&quot;);\r\n         map.put(&quot;Croatia&quot;, &quot;HR&quot;);\r\n         map.put(&quot;Haiti&quot;, &quot;HT&quot;);\r\n         map.put(&quot;Hungary&quot;, &quot;HU&quot;);\r\n         map.put(&quot;Indonesia&quot;, &quot;ID&quot;);\r\n         map.put(&quot;Ireland&quot;, &quot;IE&quot;);\r\n         map.put(&quot;Israel&quot;, &quot;IL&quot;);\r\n         map.put(&quot;India&quot;, &quot;IN&quot;);\r\n         map.put(&quot;British Indian Ocean Territory&quot;, &quot;IO&quot;);\r\n         map.put(&quot;Iraq&quot;, &quot;IQ&quot;);\r\n         map.put(&quot;Iran&quot;, &quot;IR&quot;);\r\n         map.put(&quot;Iceland&quot;, &quot;IS&quot;);\r\n         map.put(&quot;Italy&quot;, &quot;IT&quot;);\r\n         map.put(&quot;Jamaica&quot;, &quot;JM&quot;);\r\n         map.put(&quot;Jordan&quot;, &quot;JO&quot;);\r\n         map.put(&quot;Japan&quot;, &quot;JP&quot;);\r\n         map.put(&quot;Kenya&quot;, &quot;KE&quot;);\r\n         map.put(&quot;Kyrgyz Republic (Kyrgyzstan)&quot;, &quot;KG&quot;);\r\n         map.put(&quot;Cambodia, Kingdom Of&quot;, &quot;KH&quot;);\r\n         map.put(&quot;Kiribati&quot;, &quot;KI&quot;);\r\n         map.put(&quot;Comoros&quot;, &quot;KM&quot;);\r\n         map.put(&quot;Saint Kitts &amp; Nevis Anguilla&quot;, &quot;KN&quot;);\r\n         map.put(&quot;North Korea&quot;, &quot;KP&quot;);\r\n         map.put(&quot;South Korea&quot;, &quot;KR&quot;);\r\n         map.put(&quot;Kuwait&quot;, &quot;KW&quot;);\r\n         map.put(&quot;Cayman Islands&quot;, &quot;KY&quot;);\r\n         map.put(&quot;Kazakhstan&quot;, &quot;KZ&quot;);\r\n         map.put(&quot;Laos&quot;, &quot;LA&quot;);\r\n         map.put(&quot;Lebanon&quot;, &quot;LB&quot;);\r\n         map.put(&quot;Saint Lucia&quot;, &quot;LC&quot;);\r\n         map.put(&quot;Liechtenstein&quot;, &quot;LI&quot;);\r\n         map.put(&quot;Sri Lanka&quot;, &quot;LK&quot;);\r\n         map.put(&quot;Liberia&quot;, &quot;LR&quot;);\r\n         map.put(&quot;Lesotho&quot;, &quot;LS&quot;);\r\n         map.put(&quot;Lithuania&quot;, &quot;LT&quot;);\r\n         map.put(&quot;Luxembourg&quot;, &quot;LU&quot;);\r\n         map.put(&quot;Latvia&quot;, &quot;LV&quot;);\r\n         map.put(&quot;Libya&quot;, &quot;LY&quot;);\r\n         map.put(&quot;Morocco&quot;, &quot;MA&quot;);\r\n         map.put(&quot;Monaco&quot;, &quot;MC&quot;);\r\n         map.put(&quot;Moldavia&quot;, &quot;MD&quot;);\r\n         map.put(&quot;Madagascar&quot;, &quot;MG&quot;);\r\n         map.put(&quot;Marshall Islands&quot;, &quot;MH&quot;);\r\n         map.put(&quot;Macedonia&quot;, &quot;MK&quot;);\r\n         map.put(&quot;Mali&quot;, &quot;ML&quot;);\r\n         map.put(&quot;Myanmar&quot;, &quot;MM&quot;);\r\n         map.put(&quot;Mongolia&quot;, &quot;MN&quot;);\r\n         map.put(&quot;Macau&quot;, &quot;MO&quot;);\r\n         map.put(&quot;Northern Mariana Islands&quot;, &quot;MP&quot;);\r\n         map.put(&quot;Martinique (French)&quot;, &quot;MQ&quot;);\r\n         map.put(&quot;Mauritania&quot;, &quot;MR&quot;);\r\n         map.put(&quot;Montserrat&quot;, &quot;MS&quot;);\r\n         map.put(&quot;Malta&quot;, &quot;MT&quot;);\r\n         map.put(&quot;Mauritius&quot;, &quot;MU&quot;);\r\n         map.put(&quot;Maldives&quot;, &quot;MV&quot;);\r\n         map.put(&quot;Malawi&quot;, &quot;MW&quot;);\r\n         map.put(&quot;Mexico&quot;, &quot;MX&quot;);\r\n         map.put(&quot;Malaysia&quot;, &quot;MY&quot;);\r\n         map.put(&quot;Mozambique&quot;, &quot;MZ&quot;);\r\n         map.put(&quot;Namibia&quot;, &quot;NA&quot;);\r\n         map.put(&quot;New Caledonia (French)&quot;, &quot;NC&quot;);\r\n         map.put(&quot;Niger&quot;, &quot;NE&quot;);\r\n         map.put(&quot;Norfolk Island&quot;, &quot;NF&quot;);\r\n         map.put(&quot;Nigeria&quot;, &quot;NG&quot;);\r\n         map.put(&quot;Nicaragua&quot;, &quot;NI&quot;);\r\n         map.put(&quot;Netherlands&quot;, &quot;NL&quot;);\r\n         map.put(&quot;Norway&quot;, &quot;NO&quot;);\r\n         map.put(&quot;Nepal&quot;, &quot;NP&quot;);\r\n         map.put(&quot;Nauru&quot;, &quot;NR&quot;);\r\n         map.put(&quot;Neutral Zone&quot;, &quot;NT&quot;);\r\n         map.put(&quot;Niue&quot;, &quot;NU&quot;);\r\n         map.put(&quot;New Zealand&quot;, &quot;NZ&quot;);\r\n         map.put(&quot;Oman&quot;, &quot;OM&quot;);\r\n         map.put(&quot;Panama&quot;, &quot;PA&quot;);\r\n         map.put(&quot;Peru&quot;, &quot;PE&quot;);\r\n         map.put(&quot;Polynesia (French)&quot;, &quot;PF&quot;);\r\n         map.put(&quot;Papua New Guinea&quot;, &quot;PG&quot;);\r\n         map.put(&quot;Philippines&quot;, &quot;PH&quot;);\r\n         map.put(&quot;Pakistan&quot;, &quot;PK&quot;);\r\n         map.put(&quot;Poland&quot;, &quot;PL&quot;);\r\n         map.put(&quot;Saint Pierre And Miquelon&quot;, &quot;PM&quot;);\r\n         map.put(&quot;Pitcairn Island&quot;, &quot;PN&quot;);\r\n         map.put(&quot;Puerto Rico&quot;, &quot;PR&quot;);\r\n         map.put(&quot;Portugal&quot;, &quot;PT&quot;);\r\n         map.put(&quot;Palau&quot;, &quot;PW&quot;);\r\n         map.put(&quot;Paraguay&quot;, &quot;PY&quot;);\r\n         map.put(&quot;Qatar&quot;, &quot;QA&quot;);\r\n         map.put(&quot;Reunion (French)&quot;, &quot;RE&quot;);\r\n         map.put(&quot;Romania&quot;, &quot;RO&quot;);\r\n         map.put(&quot;Russian Federation&quot;, &quot;RU&quot;);\r\n         map.put(&quot;Rwanda&quot;, &quot;RW&quot;);\r\n         map.put(&quot;Saudi Arabia&quot;, &quot;SA&quot;);\r\n         map.put(&quot;Solomon Islands&quot;, &quot;SB&quot;);\r\n         map.put(&quot;Seychelles&quot;, &quot;SC&quot;);\r\n         map.put(&quot;Sudan&quot;, &quot;SD&quot;);\r\n         map.put(&quot;Sweden&quot;, &quot;SE&quot;);\r\n         map.put(&quot;Singapore&quot;, &quot;SG&quot;);\r\n         map.put(&quot;Saint Helena&quot;, &quot;SH&quot;);\r\n         map.put(&quot;Slovenia&quot;, &quot;SI&quot;);\r\n         map.put(&quot;Svalbard And Jan Mayen Islands&quot;, &quot;SJ&quot;);\r\n         map.put(&quot;Slovak Republic&quot;, &quot;SK&quot;);\r\n         map.put(&quot;Sierra Leone&quot;, &quot;SL&quot;);\r\n         map.put(&quot;San Marino&quot;, &quot;SM&quot;);\r\n         map.put(&quot;Senegal&quot;, &quot;SN&quot;);\r\n         map.put(&quot;Somalia&quot;, &quot;SO&quot;);\r\n         map.put(&quot;Suriname&quot;, &quot;SR&quot;);\r\n         map.put(&quot;Saint Tome (Sao Tome) And Principe&quot;, &quot;ST&quot;);\r\n         map.put(&quot;Former USSR&quot;, &quot;SU&quot;);\r\n         map.put(&quot;El Salvador&quot;, &quot;SV&quot;);\r\n         map.put(&quot;Syria&quot;, &quot;SY&quot;);\r\n         map.put(&quot;Swaziland&quot;, &quot;SZ&quot;);\r\n         map.put(&quot;Turks And Caicos Islands&quot;, &quot;TC&quot;);\r\n         map.put(&quot;Chad&quot;, &quot;TD&quot;);\r\n         map.put(&quot;French Southern Territories&quot;, &quot;TF&quot;);\r\n         map.put(&quot;Togo&quot;, &quot;TG&quot;);\r\n         map.put(&quot;Thailand&quot;, &quot;TH&quot;);\r\n         map.put(&quot;Tadjikistan&quot;, &quot;TJ&quot;);\r\n         map.put(&quot;Tokelau&quot;, &quot;TK&quot;);\r\n         map.put(&quot;Turkmenistan&quot;, &quot;TM&quot;);\r\n         map.put(&quot;Tunisia&quot;, &quot;TN&quot;);\r\n         map.put(&quot;Tonga&quot;, &quot;TO&quot;);\r\n         map.put(&quot;East Timor&quot;, &quot;TP&quot;);\r\n         map.put(&quot;Turkey&quot;, &quot;TR&quot;);\r\n         map.put(&quot;Trinidad And Tobago&quot;, &quot;TT&quot;);\r\n         map.put(&quot;Tuvalu&quot;, &quot;TV&quot;);\r\n         map.put(&quot;Taiwan&quot;, &quot;TW&quot;);\r\n         map.put(&quot;Tanzania&quot;, &quot;TZ&quot;);\r\n         map.put(&quot;Ukraine&quot;, &quot;UA&quot;);\r\n         map.put(&quot;Uganda&quot;, &quot;UG&quot;);\r\n         map.put(&quot;United Kingdom&quot;, &quot;UK&quot;);\r\n         map.put(&quot;USA Minor Outlying Islands&quot;, &quot;UM&quot;);\r\n         map.put(&quot;United States&quot;, &quot;US&quot;);\r\n         map.put(&quot;Uruguay&quot;, &quot;UY&quot;);\r\n         map.put(&quot;Uzbekistan&quot;, &quot;UZ&quot;);\r\n         map.put(&quot;Holy See (Vatican City State)&quot;, &quot;VA&quot;);\r\n         map.put(&quot;Saint Vincent &amp; Grenadines&quot;, &quot;VC&quot;);\r\n         map.put(&quot;Venezuela&quot;, &quot;VE&quot;);\r\n         map.put(&quot;Virgin Islands (British)&quot;, &quot;VG&quot;);\r\n         map.put(&quot;Virgin Islands (USA)&quot;, &quot;VI&quot;);\r\n         map.put(&quot;Vietnam&quot;, &quot;VN&quot;);\r\n         map.put(&quot;Vanuatu&quot;, &quot;VU&quot;);\r\n         map.put(&quot;Wallis And Futuna Islands&quot;, &quot;WF&quot;);\r\n         map.put(&quot;Samoa&quot;, &quot;WS&quot;);\r\n         map.put(&quot;Yemen&quot;, &quot;YE&quot;);\r\n         map.put(&quot;Mayotte&quot;, &quot;YT&quot;);\r\n         map.put(&quot;Yugoslavia&quot;, &quot;YU&quot;);\r\n         map.put(&quot;South Africa&quot;, &quot;ZA&quot;);\r\n         map.put(&quot;Zambia&quot;, &quot;ZM&quot;);\r\n         map.put(&quot;Zaire&quot;, &quot;ZR&quot;);\r\n         map.put(&quot;Zimbabwe&quot;, &quot;ZW&quot;);\r\n\r\n        }\r\n \r\n         public String getCode(String country){\r\n         String countryFound = map.get(country);\r\n         if(countryFound==null){\r\n                 countryFound=&quot;UK&quot;;\r\n         }\r\n         return countryFound;\r\n         }\r\n    }","title":"ISO2 country code from country name","body":"<p>As others have mentioned Map is the easiest way, here's what I wrote/used where I had the same problem. </p>\n\n<pre><code> import java.util.Map;\n import java.util.TreeMap;\n\n\n public class CountryCodes {\n     final Map&lt;String, String&gt; map = new TreeMap&lt;String, String&gt;   (String.CASE_INSENSITIVE_ORDER);\n    public CountryCodes() {\n\n     map.put(\"Andorra, Principality Of\", \"AD\");\n     map.put(\"United Arab Emirates\", \"AE\");\n     map.put(\"Afghanistan, Islamic State Of\", \"AF\");\n     map.put(\"Antigua And Barbuda\", \"AG\");\n     map.put(\"Anguilla\", \"AI\");\n     map.put(\"Albania\", \"AL\");\n     map.put(\"Armenia\", \"AM\");\n     map.put(\"Netherlands Antilles\", \"AN\");\n     map.put(\"Angola\", \"AO\");\n     map.put(\"Antarctica\", \"AQ\");\n     map.put(\"Argentina\", \"AR\");\n     map.put(\"American Samoa\", \"AS\");\n     map.put(\"Austria\", \"AT\");\n     map.put(\"Australia\", \"AU\");\n     map.put(\"Aruba\", \"AW\");\n     map.put(\"Azerbaidjan\", \"AZ\");\n     map.put(\"Bosnia-Herzegovina\", \"BA\");\n     map.put(\"Barbados\", \"BB\");\n     map.put(\"Bangladesh\", \"BD\");\n     map.put(\"Belgium\", \"BE\");\n     map.put(\"Burkina Faso\", \"BF\");\n     map.put(\"Bulgaria\", \"BG\");\n     map.put(\"Bahrain\", \"BH\");\n     map.put(\"Burundi\", \"BI\");\n     map.put(\"Benin\", \"BJ\");\n     map.put(\"Bermuda\", \"BM\");\n     map.put(\"Brunei Darussalam\", \"BN\");\n     map.put(\"Bolivia\", \"BO\");\n     map.put(\"Brazil\", \"BR\");\n     map.put(\"Bahamas\", \"BS\");\n     map.put(\"Bhutan\", \"BT\");\n     map.put(\"Bouvet Island\", \"BV\");\n     map.put(\"Botswana\", \"BW\");\n     map.put(\"Belarus\", \"BY\");\n     map.put(\"Belize\", \"BZ\");\n     map.put(\"Canada\", \"CA\");\n     map.put(\"Cocos (Keeling) Islands\", \"CC\");\n     map.put(\"Central African Republic\", \"CF\");\n     map.put(\"Congo, The Democratic Republic Of The\", \"CD\");\n     map.put(\"Congo\", \"CG\");\n     map.put(\"Switzerland\", \"CH\");\n     map.put(\"Ivory Coast (Cote D'Ivoire)\", \"CI\");\n     map.put(\"Cook Islands\", \"CK\");\n     map.put(\"Chile\", \"CL\");\n     map.put(\"Cameroon\", \"CM\");\n     map.put(\"China\", \"CN\");\n     map.put(\"Colombia\", \"CO\");\n     map.put(\"Costa Rica\", \"CR\");\n     map.put(\"Former Czechoslovakia\", \"CS\");\n     map.put(\"Cuba\", \"CU\");\n     map.put(\"Cape Verde\", \"CV\");\n     map.put(\"Christmas Island\", \"CX\");\n     map.put(\"Cyprus\", \"CY\");\n     map.put(\"Czech Republic\", \"CZ\");\n     map.put(\"Germany\", \"DE\");\n     map.put(\"Djibouti\", \"DJ\");\n     map.put(\"Denmark\", \"DK\");\n     map.put(\"Dominica\", \"DM\");\n     map.put(\"Dominican Republic\", \"DO\");\n     map.put(\"Algeria\", \"DZ\");\n     map.put(\"Ecuador\", \"EC\");\n     map.put(\"Estonia\", \"EE\");\n     map.put(\"Egypt\", \"EG\");\n     map.put(\"Western Sahara\", \"EH\");\n     map.put(\"Eritrea\", \"ER\");\n     map.put(\"Spain\", \"ES\");\n     map.put(\"Ethiopia\", \"ET\");\n     map.put(\"Finland\", \"FI\");\n     map.put(\"Fiji\", \"FJ\");\n     map.put(\"Falkland Islands\", \"FK\");\n     map.put(\"Micronesia\", \"FM\");\n     map.put(\"Faroe Islands\", \"FO\");\n     map.put(\"France\", \"FR\");\n     map.put(\"France (European Territory)\", \"FX\");\n     map.put(\"Gabon\", \"GA\");\n     map.put(\"Great Britain\", \"UK\");\n     map.put(\"Grenada\", \"GD\");\n     map.put(\"Georgia\", \"GE\");\n     map.put(\"French Guyana\", \"GF\");\n     map.put(\"Ghana\", \"GH\");\n     map.put(\"Gibraltar\", \"GI\");\n     map.put(\"Greenland\", \"GL\");\n     map.put(\"Gambia\", \"GM\");\n     map.put(\"Guinea\", \"GN\");\n     map.put(\"Guadeloupe (French)\", \"GP\");\n     map.put(\"Equatorial Guinea\", \"GQ\");\n     map.put(\"Greece\", \"GR\");\n     map.put(\"S. Georgia &amp; S. Sandwich Isls.\", \"GS\");\n     map.put(\"Guatemala\", \"GT\");\n     map.put(\"Guam (USA)\", \"GU\");\n     map.put(\"Guinea Bissau\", \"GW\");\n     map.put(\"Guyana\", \"GY\");\n     map.put(\"Hong Kong\", \"HK\");\n     map.put(\"Heard And McDonald Islands\", \"HM\");\n     map.put(\"Honduras\", \"HN\");\n     map.put(\"Croatia\", \"HR\");\n     map.put(\"Haiti\", \"HT\");\n     map.put(\"Hungary\", \"HU\");\n     map.put(\"Indonesia\", \"ID\");\n     map.put(\"Ireland\", \"IE\");\n     map.put(\"Israel\", \"IL\");\n     map.put(\"India\", \"IN\");\n     map.put(\"British Indian Ocean Territory\", \"IO\");\n     map.put(\"Iraq\", \"IQ\");\n     map.put(\"Iran\", \"IR\");\n     map.put(\"Iceland\", \"IS\");\n     map.put(\"Italy\", \"IT\");\n     map.put(\"Jamaica\", \"JM\");\n     map.put(\"Jordan\", \"JO\");\n     map.put(\"Japan\", \"JP\");\n     map.put(\"Kenya\", \"KE\");\n     map.put(\"Kyrgyz Republic (Kyrgyzstan)\", \"KG\");\n     map.put(\"Cambodia, Kingdom Of\", \"KH\");\n     map.put(\"Kiribati\", \"KI\");\n     map.put(\"Comoros\", \"KM\");\n     map.put(\"Saint Kitts &amp; Nevis Anguilla\", \"KN\");\n     map.put(\"North Korea\", \"KP\");\n     map.put(\"South Korea\", \"KR\");\n     map.put(\"Kuwait\", \"KW\");\n     map.put(\"Cayman Islands\", \"KY\");\n     map.put(\"Kazakhstan\", \"KZ\");\n     map.put(\"Laos\", \"LA\");\n     map.put(\"Lebanon\", \"LB\");\n     map.put(\"Saint Lucia\", \"LC\");\n     map.put(\"Liechtenstein\", \"LI\");\n     map.put(\"Sri Lanka\", \"LK\");\n     map.put(\"Liberia\", \"LR\");\n     map.put(\"Lesotho\", \"LS\");\n     map.put(\"Lithuania\", \"LT\");\n     map.put(\"Luxembourg\", \"LU\");\n     map.put(\"Latvia\", \"LV\");\n     map.put(\"Libya\", \"LY\");\n     map.put(\"Morocco\", \"MA\");\n     map.put(\"Monaco\", \"MC\");\n     map.put(\"Moldavia\", \"MD\");\n     map.put(\"Madagascar\", \"MG\");\n     map.put(\"Marshall Islands\", \"MH\");\n     map.put(\"Macedonia\", \"MK\");\n     map.put(\"Mali\", \"ML\");\n     map.put(\"Myanmar\", \"MM\");\n     map.put(\"Mongolia\", \"MN\");\n     map.put(\"Macau\", \"MO\");\n     map.put(\"Northern Mariana Islands\", \"MP\");\n     map.put(\"Martinique (French)\", \"MQ\");\n     map.put(\"Mauritania\", \"MR\");\n     map.put(\"Montserrat\", \"MS\");\n     map.put(\"Malta\", \"MT\");\n     map.put(\"Mauritius\", \"MU\");\n     map.put(\"Maldives\", \"MV\");\n     map.put(\"Malawi\", \"MW\");\n     map.put(\"Mexico\", \"MX\");\n     map.put(\"Malaysia\", \"MY\");\n     map.put(\"Mozambique\", \"MZ\");\n     map.put(\"Namibia\", \"NA\");\n     map.put(\"New Caledonia (French)\", \"NC\");\n     map.put(\"Niger\", \"NE\");\n     map.put(\"Norfolk Island\", \"NF\");\n     map.put(\"Nigeria\", \"NG\");\n     map.put(\"Nicaragua\", \"NI\");\n     map.put(\"Netherlands\", \"NL\");\n     map.put(\"Norway\", \"NO\");\n     map.put(\"Nepal\", \"NP\");\n     map.put(\"Nauru\", \"NR\");\n     map.put(\"Neutral Zone\", \"NT\");\n     map.put(\"Niue\", \"NU\");\n     map.put(\"New Zealand\", \"NZ\");\n     map.put(\"Oman\", \"OM\");\n     map.put(\"Panama\", \"PA\");\n     map.put(\"Peru\", \"PE\");\n     map.put(\"Polynesia (French)\", \"PF\");\n     map.put(\"Papua New Guinea\", \"PG\");\n     map.put(\"Philippines\", \"PH\");\n     map.put(\"Pakistan\", \"PK\");\n     map.put(\"Poland\", \"PL\");\n     map.put(\"Saint Pierre And Miquelon\", \"PM\");\n     map.put(\"Pitcairn Island\", \"PN\");\n     map.put(\"Puerto Rico\", \"PR\");\n     map.put(\"Portugal\", \"PT\");\n     map.put(\"Palau\", \"PW\");\n     map.put(\"Paraguay\", \"PY\");\n     map.put(\"Qatar\", \"QA\");\n     map.put(\"Reunion (French)\", \"RE\");\n     map.put(\"Romania\", \"RO\");\n     map.put(\"Russian Federation\", \"RU\");\n     map.put(\"Rwanda\", \"RW\");\n     map.put(\"Saudi Arabia\", \"SA\");\n     map.put(\"Solomon Islands\", \"SB\");\n     map.put(\"Seychelles\", \"SC\");\n     map.put(\"Sudan\", \"SD\");\n     map.put(\"Sweden\", \"SE\");\n     map.put(\"Singapore\", \"SG\");\n     map.put(\"Saint Helena\", \"SH\");\n     map.put(\"Slovenia\", \"SI\");\n     map.put(\"Svalbard And Jan Mayen Islands\", \"SJ\");\n     map.put(\"Slovak Republic\", \"SK\");\n     map.put(\"Sierra Leone\", \"SL\");\n     map.put(\"San Marino\", \"SM\");\n     map.put(\"Senegal\", \"SN\");\n     map.put(\"Somalia\", \"SO\");\n     map.put(\"Suriname\", \"SR\");\n     map.put(\"Saint Tome (Sao Tome) And Principe\", \"ST\");\n     map.put(\"Former USSR\", \"SU\");\n     map.put(\"El Salvador\", \"SV\");\n     map.put(\"Syria\", \"SY\");\n     map.put(\"Swaziland\", \"SZ\");\n     map.put(\"Turks And Caicos Islands\", \"TC\");\n     map.put(\"Chad\", \"TD\");\n     map.put(\"French Southern Territories\", \"TF\");\n     map.put(\"Togo\", \"TG\");\n     map.put(\"Thailand\", \"TH\");\n     map.put(\"Tadjikistan\", \"TJ\");\n     map.put(\"Tokelau\", \"TK\");\n     map.put(\"Turkmenistan\", \"TM\");\n     map.put(\"Tunisia\", \"TN\");\n     map.put(\"Tonga\", \"TO\");\n     map.put(\"East Timor\", \"TP\");\n     map.put(\"Turkey\", \"TR\");\n     map.put(\"Trinidad And Tobago\", \"TT\");\n     map.put(\"Tuvalu\", \"TV\");\n     map.put(\"Taiwan\", \"TW\");\n     map.put(\"Tanzania\", \"TZ\");\n     map.put(\"Ukraine\", \"UA\");\n     map.put(\"Uganda\", \"UG\");\n     map.put(\"United Kingdom\", \"UK\");\n     map.put(\"USA Minor Outlying Islands\", \"UM\");\n     map.put(\"United States\", \"US\");\n     map.put(\"Uruguay\", \"UY\");\n     map.put(\"Uzbekistan\", \"UZ\");\n     map.put(\"Holy See (Vatican City State)\", \"VA\");\n     map.put(\"Saint Vincent &amp; Grenadines\", \"VC\");\n     map.put(\"Venezuela\", \"VE\");\n     map.put(\"Virgin Islands (British)\", \"VG\");\n     map.put(\"Virgin Islands (USA)\", \"VI\");\n     map.put(\"Vietnam\", \"VN\");\n     map.put(\"Vanuatu\", \"VU\");\n     map.put(\"Wallis And Futuna Islands\", \"WF\");\n     map.put(\"Samoa\", \"WS\");\n     map.put(\"Yemen\", \"YE\");\n     map.put(\"Mayotte\", \"YT\");\n     map.put(\"Yugoslavia\", \"YU\");\n     map.put(\"South Africa\", \"ZA\");\n     map.put(\"Zambia\", \"ZM\");\n     map.put(\"Zaire\", \"ZR\");\n     map.put(\"Zimbabwe\", \"ZW\");\n\n    }\n\n     public String getCode(String country){\n     String countryFound = map.get(country);\n     if(countryFound==null){\n             countryFound=\"UK\";\n     }\n     return countryFound;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1070109,"reputation":14222,"user_id":1069607,"accept_rate":89,"display_name":"SDC"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357294753,"creation_date":1357294753,"answer_id":14155183,"question_id":14155049,"body_markdown":"Nope, you&#39;ve got the easy solution already: The array (or DB table, or a keyed structure like a hash map) solution is pretty much the standard way of doing this. I guess there may also be some web services available that can provide the list, but I think that would be overkill (its not worth relying on a third party system to be working for something this simple). Similar arrays would be used for lists of counties/provinces/states within a country if you needed that level of detail.\r\n\r\nThe only thing to beware of with that is if you&#39;re accepting the country name as user input, you&#39;ll need to watch for spelling errors, incorrect capitalisation, and using alternative names for countries (eg &quot;Switzerland&quot; could legitimately be referred to as &quot;Schweiz&quot; or &quot;Suisse&quot; or &quot;The Swiss Confederation&quot;, or a number of other variants.\r\n\r\nMore commonly, user input is restricted to known country codes by providing a drop-list so that the user picks the country he wants and the program knows immediately that it is &quot;CH&quot;. This also requires the same array to be in place, but is referenced in the other direction, and is more reliable (since there is only one possible code for each country).\r\n\r\nAlso note that although the list of countries in the world doesn&#39;t change much, it *does* change. You should make sure you keep it up-to-date.\r\n","title":"ISO2 country code from country name","body":"<p>Nope, you've got the easy solution already: The array (or DB table, or a keyed structure like a hash map) solution is pretty much the standard way of doing this. I guess there may also be some web services available that can provide the list, but I think that would be overkill (its not worth relying on a third party system to be working for something this simple). Similar arrays would be used for lists of counties/provinces/states within a country if you needed that level of detail.</p>\n\n<p>The only thing to beware of with that is if you're accepting the country name as user input, you'll need to watch for spelling errors, incorrect capitalisation, and using alternative names for countries (eg \"Switzerland\" could legitimately be referred to as \"Schweiz\" or \"Suisse\" or \"The Swiss Confederation\", or a number of other variants.</p>\n\n<p>More commonly, user input is restricted to known country codes by providing a drop-list so that the user picks the country he wants and the program knows immediately that it is \"CH\". This also requires the same array to be in place, but is referenced in the other direction, and is more reliable (since there is only one possible code for each country).</p>\n\n<p>Also note that although the list of countries in the world doesn't change much, it <em>does</em> change. You should make sure you keep it up-to-date.</p>\n"},{"comments":[{"owner":{"account_id":2493343,"reputation":562,"user_id":2170400,"accept_rate":71,"display_name":"Fab Castel"},"score":5,"creation_date":1437587081,"post_id":14155186,"comment_id":51095580,"body_markdown":"Note that this **WILL** break if your phone is set to a language other than English. `Locale.getDisplayLocale()` is equivalent to `Locale.getDisplayLocale(Locale.getDefaultLocale());` If you want a map from country names in a specific language to ISO (or the other way around) you need to do something like `localizedCountries.put(new Locale(&quot;en&quot;, iso).getDisplayCountry(new Locale(&quot;en&quot;, iso)), new Locale(Locale.getDefault().getLanguage(), iso).getDisplayCountry());` where you replace &quot;en&quot; with whatever language&#39;s two-letter code..","body":"Note that this <b>WILL</b> break if your phone is set to a language other than English. <code>Locale.getDisplayLocale()</code> is equivalent to <code>Locale.getDisplayLocale(Locale.getDefaultLocale());</code> If you want a map from country names in a specific language to ISO (or the other way around) you need to do something like <code>localizedCountries.put(new Locale(&quot;en&quot;, iso).getDisplayCountry(new Locale(&quot;en&quot;, iso)), new Locale(Locale.getDefault().getLanguage(), iso).getDisplayCountry());</code> where you replace &quot;en&quot; with whatever language&#39;s two-letter code.."},{"owner":{"account_id":2493343,"reputation":562,"user_id":2170400,"accept_rate":71,"display_name":"Fab Castel"},"score":2,"creation_date":1437587135,"post_id":14155186,"comment_id":51095618,"body_markdown":"Note that the code I posted above creates a map from country names in English to country names in whatever language the phone is set to. That&#39;s what I&#39;d set out to do originally and what landed me here, but you can easily adapt my solution to answer the original problem.","body":"Note that the code I posted above creates a map from country names in English to country names in whatever language the phone is set to. That&#39;s what I&#39;d set out to do originally and what landed me here, but you can easily adapt my solution to answer the original problem."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":2,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1357294764,"creation_date":1357294764,"answer_id":14155186,"question_id":14155049,"body_markdown":"You could use the built-in `Locale` class:\r\n\r\n    Locale l = new Locale(&quot;&quot;, &quot;CH&quot;);\r\n    System.out.println(l.getDisplayCountry());\r\n\r\nprints &quot;Switzerland&quot; for example. Note that I have not provided a language.\r\n\r\nSo what you can do for the reverse lookup is build a map from the available countries:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Map&lt;String, String&gt; countries = new HashMap&lt;&gt;();\r\n        for (String iso : Locale.getISOCountries()) {\r\n            Locale l = new Locale(&quot;&quot;, iso);\r\n            countries.put(l.getDisplayCountry(), iso);\r\n        }\r\n\r\n        System.out.println(countries.get(&quot;Switzerland&quot;));\r\n        System.out.println(countries.get(&quot;Andorra&quot;));\r\n        System.out.println(countries.get(&quot;Japan&quot;));\r\n    }\r\n","title":"ISO2 country code from country name","body":"<p>You could use the built-in <code>Locale</code> class:</p>\n\n<pre><code>Locale l = new Locale(\"\", \"CH\");\nSystem.out.println(l.getDisplayCountry());\n</code></pre>\n\n<p>prints \"Switzerland\" for example. Note that I have not provided a language.</p>\n\n<p>So what you can do for the reverse lookup is build a map from the available countries:</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    Map&lt;String, String&gt; countries = new HashMap&lt;&gt;();\n    for (String iso : Locale.getISOCountries()) {\n        Locale l = new Locale(\"\", iso);\n        countries.put(l.getDisplayCountry(), iso);\n    }\n\n    System.out.println(countries.get(\"Switzerland\"));\n    System.out.println(countries.get(\"Andorra\"));\n    System.out.println(countries.get(\"Japan\"));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3326242,"reputation":701,"user_id":2796268,"accept_rate":67,"display_name":"Progs"},"score":0,"creation_date":1495231761,"post_id":21793597,"comment_id":75183235,"body_markdown":"this library comes in others languagues? like country names in spanish, french,etc...","body":"this library comes in others languagues? like country names in spanish, french,etc..."}],"tags":[],"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1392442049,"creation_date":1392440346,"answer_id":21793597,"question_id":14155049,"body_markdown":"**CountryCode** enum contained in [com.neovisionaries:nv-i18n:1.11][1] (or later) has `findByName` methods to list up country codes whose names match a given pattern.\r\n\r\n    List&lt;CountryCode&gt; findByName(String regex);\r\n    List&lt;CountryCode&gt; findByName(Pattern pattern);\r\n\r\nTo get &quot;CH&quot; from &quot;Switzerland&quot;:\r\n\r\n    String code =  CountryCode.findByName(&quot;Switzerland&quot;).get(0).name();\r\n\r\n&lt;br/&gt;\r\n\r\n## GitHub\r\nhttps://github.com/TakahikoKawasaki/nv-i18n\r\n\r\n## JavaDoc\r\nhttp://takahikokawasaki.github.io/nv-i18n/\r\n\r\n## Maven\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.neovisionaries&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nv-i18n&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://search.maven.org/#artifactdetails%7Ccom.neovisionaries%7Cnv-i18n%7C1.11%7Cjar","title":"ISO2 country code from country name","body":"<p><strong>CountryCode</strong> enum contained in <a href=\"http://search.maven.org/#artifactdetails%7Ccom.neovisionaries%7Cnv-i18n%7C1.11%7Cjar\" rel=\"noreferrer\">com.neovisionaries:nv-i18n:1.11</a> (or later) has <code>findByName</code> methods to list up country codes whose names match a given pattern.</p>\n\n<pre><code>List&lt;CountryCode&gt; findByName(String regex);\nList&lt;CountryCode&gt; findByName(Pattern pattern);\n</code></pre>\n\n<p>To get \"CH\" from \"Switzerland\":</p>\n\n<pre><code>String code =  CountryCode.findByName(\"Switzerland\").get(0).name();\n</code></pre>\n\n<p><br/></p>\n\n<h2>GitHub</h2>\n\n<p><a href=\"https://github.com/TakahikoKawasaki/nv-i18n\" rel=\"noreferrer\">https://github.com/TakahikoKawasaki/nv-i18n</a></p>\n\n<h2>JavaDoc</h2>\n\n<p><a href=\"http://takahikokawasaki.github.io/nv-i18n/\" rel=\"noreferrer\">http://takahikokawasaki.github.io/nv-i18n/</a></p>\n\n<h2>Maven</h2>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.neovisionaries&lt;/groupId&gt;\n    &lt;artifactId&gt;nv-i18n&lt;/artifactId&gt;\n    &lt;version&gt;1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4538762,"reputation":25,"user_id":3687230,"display_name":"piyushiiitm"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1480078112,"creation_date":1480078112,"answer_id":40805468,"question_id":14155049,"body_markdown":"concat flag to url(https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/flags/1x1/)\r\n\r\n    INSERT INTO `countries` (`name`, `code`, `c_code`, `flag`) VALUES\r\n    \r\n    (&#39;Afghanistan&#39;, &#39;+93&#39;, &#39;AF&#39;, &#39;af.svg&#39;),\r\n    (&#39;Albania&#39;, &#39;+355&#39;, &#39;AL&#39;, &#39;al.svg&#39;),\r\n    (&#39;Algeria&#39;, &#39;+213&#39;, &#39;DZ&#39;, &#39;dz.svg&#39;),\r\n    (&#39;American Samoa&#39;, &#39;+1 684&#39;, &#39;AS&#39;, &#39;as.svg&#39;),\r\n    (&#39;Andorra&#39;, &#39;+376&#39;, &#39;AD&#39;, &#39;ad.svg&#39;),\r\n    (&#39;Angola&#39;, &#39;+244&#39;, &#39;AO&#39;, &#39;ao.svg&#39;),\r\n    (&#39;Anguilla&#39;, &#39;+1 264&#39;, &#39;AI&#39;, &#39;ai.svg&#39;),\r\n    (&#39;Antigua and Barbuda&#39;, &#39;+1 268&#39;, &#39;AG&#39;, &#39;ag.svg&#39;),\r\n    (&#39;Argentina&#39;, &#39;+54&#39;, &#39;AR&#39;, &#39;ar.svg&#39;),\r\n    (&#39;Armenia&#39;, &#39;+374&#39;, &#39;AM&#39;, &#39;am.svg&#39;),\r\n    (&#39;Aruba&#39;, &#39;+297&#39;, &#39;AW&#39;, &#39;aw.svg&#39;),\r\n    (&#39;Australia&#39;, &#39;+61&#39;, &#39;AU&#39;, &#39;au.svg&#39;),\r\n    (&#39;Austria&#39;, &#39;+43&#39;, &#39;AT&#39;, &#39;at.svg&#39;),\r\n    (&#39;Azerbaijan&#39;, &#39;+994&#39;, &#39;AZ&#39;, &#39;az.svg&#39;),\r\n    (&#39;Bahamas&#39;, &#39;+1 242&#39;, &#39;BS&#39;, &#39;bs.svg&#39;),\r\n    (&#39;Bahrain&#39;, &#39;+973&#39;, &#39;BH&#39;, &#39;bh.svg&#39;),\r\n    (&#39;Bangladesh&#39;, &#39;+880&#39;, &#39;BD&#39;, &#39;bd.svg&#39;),\r\n    (&#39;Barbados&#39;, &#39;+1 246&#39;, &#39;BB&#39;, &#39;bb.svg&#39;),\r\n    (&#39;Belarus&#39;, &#39;+375&#39;, &#39;BY&#39;, &#39;by.svg&#39;),\r\n    (&#39;Belgium&#39;, &#39;+32&#39;, &#39;BE&#39;, &#39;be.svg&#39;),\r\n    (&#39;Belize&#39;, &#39;+501&#39;, &#39;BZ&#39;, &#39;bz.svg&#39;),\r\n    (&#39;Benin&#39;, &#39;+229&#39;, &#39;BJ&#39;, &#39;bj.svg&#39;),\r\n    (&#39;Bermuda&#39;, &#39;+1 441&#39;, &#39;BM&#39;, &#39;bm.svg&#39;),\r\n    (&#39;Bhutan&#39;, &#39;+975&#39;, &#39;BT&#39;, &#39;bt.svg&#39;),\r\n    (&#39;Bolivia&#39;, &#39;+591&#39;, &#39;BO&#39;, &#39;bo.svg&#39;),\r\n    (&#39;Bosnia and Herzegovina&#39;, &#39;+387&#39;, &#39;BA&#39;, &#39;ba.svg&#39;),\r\n    (&#39;Botswana&#39;, &#39;+267&#39;, &#39;BW&#39;, &#39;bw.svg&#39;),\r\n    (&#39;Brazil&#39;, &#39;+55&#39;, &#39;BR&#39;, &#39;br.svg&#39;),\r\n    (&#39;British Indian Ocean Territory&#39;, &#39;+246&#39;, &#39;IO&#39;, &#39;io.svg&#39;),\r\n    (&#39;British Virgin Islands&#39;, &#39;+1 284&#39;, &#39;VG&#39;, &#39;vg.svg&#39;),\r\n    (&#39;Brunei&#39;, &#39;+673&#39;, &#39;BN&#39;, &#39;bn.svg&#39;),\r\n    (&#39;Bulgaria&#39;, &#39;+359&#39;, &#39;BG&#39;, &#39;bg.svg&#39;),\r\n    (&#39;Burkina Faso&#39;, &#39;+226&#39;, &#39;BF&#39;, &#39;bf.svg&#39;),\r\n    (&#39;Burundi&#39;, &#39;+257&#39;, &#39;BI&#39;, &#39;bi.svg&#39;),\r\n    (&#39;Cambodia&#39;, &#39;+855&#39;, &#39;KH&#39;, &#39;kh.svg&#39;),\r\n    (&#39;Cameroon&#39;, &#39;+237&#39;, &#39;CM&#39;, &#39;cm.svg&#39;),\r\n    (&#39;Canada&#39;, &#39;+1&#39;, &#39;CA&#39;, &#39;ca.svg&#39;),\r\n    (&#39;Cape Verde&#39;, &#39;+238&#39;, &#39;CV&#39;, &#39;cv.svg&#39;),\r\n    (&#39;Cayman Islands&#39;, &#39;+ 345&#39;, &#39;KY&#39;, &#39;ky.svg&#39;),\r\n    (&#39;Central African Republic&#39;, &#39;+236&#39;, &#39;CF&#39;, &#39;cf.svg&#39;),\r\n    (&#39;Chad&#39;, &#39;+235&#39;, &#39;TD&#39;, &#39;td.svg&#39;),\r\n    (&#39;Chile&#39;, &#39;+56&#39;, &#39;CL&#39;, &#39;cl.svg&#39;),\r\n    (&#39;China&#39;, &#39;+86&#39;, &#39;CN&#39;, &#39;cn.svg&#39;),\r\n    (&#39;Christmas Island&#39;, &#39;+61&#39;, &#39;CX&#39;, &#39;cx.svg&#39;),\r\n    (&#39;Colombia&#39;, &#39;+57&#39;, &#39;CO&#39;, &#39;co.svg&#39;),\r\n    (&#39;Comoros&#39;, &#39;+269&#39;, &#39;KM&#39;, &#39;km.svg&#39;),\r\n    (&#39;Congo&#39;, &#39;+242&#39;, &#39;CG&#39;, &#39;cg.svg&#39;),\r\n    (&#39;Congo, Dem. Rep. of (Zaire)&#39;, &#39;+243&#39;, &#39;CD&#39;, &#39;cd.svg&#39;),\r\n    (&#39;Cook Islands&#39;, &#39;+682&#39;, &#39;CK&#39;, &#39;ck.svg&#39;),\r\n    (&#39;Costa Rica&#39;, &#39;+506&#39;, &#39;CR&#39;, &#39;cr.svg&#39;),\r\n    (&#39;Croatia&#39;, &#39;+385&#39;, &#39;HR&#39;, &#39;hr.svg&#39;),\r\n    (&#39;Cuba&#39;, &#39;+53&#39;, &#39;CU&#39;, &#39;cu.svg&#39;),\r\n    (&#39;Curacao&#39;, &#39;+599&#39;, &#39;CW&#39;, &#39;cw.svg&#39;),\r\n    (&#39;Cyprus&#39;, &#39;+537&#39;, &#39;CY&#39;, &#39;cy.svg&#39;),\r\n    (&#39;Czech Republic&#39;, &#39;+420&#39;, &#39;CZ&#39;, &#39;cz.svg&#39;),\r\n    (&#39;Denmark&#39;, &#39;+45&#39;, &#39;DK&#39;, &#39;dk.svg&#39;),\r\n    (&#39;Djibouti&#39;, &#39;+253&#39;, &#39;DJ&#39;, &#39;dj.svg&#39;),\r\n    (&#39;Dominica&#39;, &#39;+1 767&#39;, &#39;DM&#39;, &#39;dm.svg&#39;),\r\n    (&#39;Dominican Republic&#39;, &#39;+1 809&#39;, &#39;DO&#39;, &#39;do.svg&#39;),\r\n    (&#39;East Timor&#39;, &#39;+670&#39;, &#39;TR&#39;, &#39;tr.svg&#39;),\r\n    (&#39;Ecuador&#39;, &#39;+593&#39;, &#39;EC&#39;, &#39;ec.svg&#39;),\r\n    (&#39;Egypt&#39;, &#39;+20&#39;, &#39;EG&#39;, &#39;eg.svg&#39;),\r\n    (&#39;El Salvador&#39;, &#39;+503&#39;, &#39;SV&#39;, &#39;sv.svg&#39;),\r\n    (&#39;Equatorial Guinea&#39;, &#39;+240&#39;, &#39;GQ&#39;, &#39;gq.svg&#39;),\r\n    (&#39;Eritrea&#39;, &#39;+291&#39;, &#39;ER&#39;, &#39;er.svg&#39;),\r\n    (&#39;Estonia&#39;, &#39;+372&#39;, &#39;EE&#39;, &#39;ee.svg&#39;),\r\n    (&#39;Ethiopia&#39;, &#39;+251&#39;, &#39;ET&#39;, &#39;et.svg&#39;),\r\n    (&#39;Falkland Islands&#39;, &#39;+500&#39;, &#39;FK&#39;, &#39;fk.svg&#39;),\r\n    (&#39;Faroe Islands&#39;, &#39;+298&#39;, &#39;FO&#39;, &#39;fo.svg&#39;),\r\n    (&#39;Fiji&#39;, &#39;+679&#39;, &#39;FJ&#39;, &#39;fj.svg&#39;),\r\n    (&#39;Finland&#39;, &#39;+358&#39;, &#39;FI&#39;, &#39;fi.svg&#39;),\r\n    (&#39;France&#39;, &#39;+33&#39;, &#39;FR&#39;, &#39;fr.svg&#39;),\r\n    (&#39;French Guiana&#39;, &#39;+594&#39;, &#39;GF&#39;, &#39;gf.svg&#39;),\r\n    (&#39;French Polynesia&#39;, &#39;+689&#39;, &#39;PF&#39;, &#39;pf.svg&#39;),\r\n    (&#39;Gabon&#39;, &#39;+241&#39;, &#39;GA&#39;, &#39;ga.svg&#39;),\r\n    (&#39;Gambia&#39;, &#39;+220&#39;, &#39;GM&#39;, &#39;gm.svg&#39;),\r\n    (&#39;Georgia&#39;, &#39;+995&#39;, &#39;GE&#39;, &#39;ge.svg&#39;),\r\n    (&#39;Germany&#39;, &#39;+49&#39;, &#39;DE&#39;, &#39;de.svg&#39;),\r\n    (&#39;Ghana&#39;, &#39;+233&#39;, &#39;GH&#39;, &#39;gh.svg&#39;),\r\n    (&#39;Gibraltar&#39;, &#39;+350&#39;, &#39;GI&#39;, &#39;gi.svg&#39;),\r\n    (&#39;Greece&#39;, &#39;+30&#39;, &#39;GR&#39;, &#39;gr.svg&#39;),\r\n    (&#39;Greenland&#39;, &#39;+299&#39;, &#39;GL&#39;, &#39;gl.svg&#39;),\r\n    (&#39;Grenada&#39;, &#39;+1 473&#39;, &#39;GD&#39;, &#39;gd.svg&#39;),\r\n    (&#39;Guadeloupe&#39;, &#39;+590&#39;, &#39;GP&#39;, &#39;gp.svg&#39;),\r\n    (&#39;Guam&#39;, &#39;+1 671&#39;, &#39;GU&#39;, &#39;gu.svg&#39;),\r\n    (&#39;Guatemala&#39;, &#39;+502&#39;, &#39;GT&#39;, &#39;gt.svg&#39;),\r\n    (&#39;Guinea&#39;, &#39;+224&#39;, &#39;GN&#39;, &#39;gn.svg&#39;),\r\n    (&#39;Guinea-Bissau&#39;, &#39;+245&#39;, &#39;GW&#39;, &#39;gw.svg&#39;),\r\n    (&#39;Guyana&#39;, &#39;+595&#39;, &#39;GY&#39;, &#39;gy.svg&#39;),\r\n    (&#39;Haiti&#39;, &#39;+509&#39;, &#39;HT&#39;, &#39;ht.svg&#39;),\r\n    (&#39;Honduras&#39;, &#39;+504&#39;, &#39;HN&#39;, &#39;hn.svg&#39;),\r\n    (&#39;Hong Kong&#39;, &#39;+852&#39;, &#39;HK&#39;, &#39;hk.svg&#39;),\r\n    (&#39;Hungary&#39;, &#39;+36&#39;, &#39;HU&#39;, &#39;hu.svg&#39;),\r\n    (&#39;Iceland&#39;, &#39;+354&#39;, &#39;IS&#39;, &#39;is.svg&#39;),\r\n    (&#39;India&#39;, &#39;+91&#39;, &#39;IN&#39;, &#39;in.svg&#39;),\r\n    (&#39;Indonesia&#39;, &#39;+62&#39;, &#39;ID&#39;, &#39;id.svg&#39;),\r\n    (&#39;Iran&#39;, &#39;+98&#39;, &#39;IR&#39;, &#39;ir.svg&#39;),\r\n    (&#39;Iraq&#39;, &#39;+964&#39;, &#39;IQ&#39;, &#39;iq.svg&#39;),\r\n    (&#39;Ireland&#39;, &#39;+353&#39;, &#39;IE&#39;, &#39;ie.svg&#39;),\r\n    (&#39;Israel&#39;, &#39;+972&#39;, &#39;IL&#39;, &#39;il.svg&#39;),\r\n    (&#39;Italy&#39;, &#39;+39&#39;, &#39;IT&#39;, &#39;it.svg&#39;),\r\n    (&#39;Ivory Coast&#39;, &#39;+225&#39;, &#39;CI&#39;, &#39;ci.svg&#39;),\r\n    (&#39;Jamaica&#39;, &#39;+1 876&#39;, &#39;JM&#39;, &#39;jm.svg&#39;),\r\n    (&#39;Japan&#39;, &#39;+81&#39;, &#39;JP&#39;, &#39;jp.svg&#39;),\r\n    (&#39;Jordan&#39;, &#39;+962&#39;, &#39;JO&#39;, &#39;jo.svg&#39;),\r\n    (&#39;Kazakhstan&#39;, &#39;+7 7&#39;, &#39;KZ&#39;, &#39;kz.svg&#39;),\r\n    (&#39;Kenya&#39;, &#39;+254&#39;, &#39;KE&#39;, &#39;ke.svg&#39;),\r\n    (&#39;Kiribati&#39;, &#39;+686&#39;, &#39;KI&#39;, &#39;ki.svg&#39;),\r\n    (&#39;Kuwait&#39;, &#39;+965&#39;, &#39;KW&#39;, &#39;kw.svg&#39;),\r\n    (&#39;Kyrgyzstan&#39;, &#39;+996&#39;, &#39;KG&#39;, &#39;kg.svg&#39;),\r\n    (&#39;Laos&#39;, &#39;+856&#39;, &#39;LA&#39;, &#39;la.svg&#39;),\r\n    (&#39;Latvia&#39;, &#39;+371&#39;, &#39;LV&#39;, &#39;lv.svg&#39;),\r\n    (&#39;Lebanon&#39;, &#39;+961&#39;, &#39;LB&#39;, &#39;lb.svg&#39;),\r\n    (&#39;Lesotho&#39;, &#39;+266&#39;, &#39;LS&#39;, &#39;ls.svg&#39;),\r\n    (&#39;Liberia&#39;, &#39;+231&#39;, &#39;LR&#39;, &#39;lr.svg&#39;),\r\n    (&#39;Libya&#39;, &#39;+218&#39;, &#39;LY&#39;, &#39;ly.svg&#39;),\r\n    (&#39;Liechtenstein&#39;, &#39;+423&#39;, &#39;LI&#39;, &#39;li.svg&#39;),\r\n    (&#39;Lithuania&#39;, &#39;+370&#39;, &#39;LT&#39;, &#39;lt.svg&#39;),\r\n    (&#39;Luxembourg&#39;, &#39;+352&#39;, &#39;LU&#39;, &#39;lu.svg&#39;),\r\n    (&#39;Macau&#39;, &#39;+853&#39;, &#39;MO&#39;, &#39;mo.svg&#39;),\r\n    (&#39;Macedonia&#39;, &#39;+389&#39;, &#39;MK&#39;, &#39;mk.svg&#39;),\r\n    (&#39;Madagascar&#39;, &#39;+261&#39;, &#39;MG&#39;, &#39;mg.svg&#39;),\r\n    (&#39;Malawi&#39;, &#39;+265&#39;, &#39;MW&#39;, &#39;mw.svg&#39;),\r\n    (&#39;Malaysia&#39;, &#39;+60&#39;, &#39;MY&#39;, &#39;my.svg&#39;),\r\n    (&#39;Maldives&#39;, &#39;+960&#39;, &#39;MV&#39;, &#39;mv.svg&#39;),\r\n    (&#39;Mali&#39;, &#39;+223&#39;, &#39;ML&#39;, &#39;ml.svg&#39;),\r\n    (&#39;Malta&#39;, &#39;+356&#39;, &#39;MT&#39;, &#39;mt.svg&#39;),\r\n    (&#39;Marshall Islands&#39;, &#39;+692&#39;, &#39;MH&#39;, &#39;mh.svg&#39;),\r\n    (&#39;Martinique&#39;, &#39;+596&#39;, &#39;MQ&#39;, &#39;mq.svg&#39;),\r\n    (&#39;Mauritania&#39;, &#39;+222&#39;, &#39;MR&#39;, &#39;mr.svg&#39;),\r\n    (&#39;Mauritius&#39;, &#39;+230&#39;, &#39;MU&#39;, &#39;mu.svg&#39;),\r\n    (&#39;Mayotte&#39;, &#39;+262&#39;, &#39;YT&#39;, &#39;yt.svg&#39;),\r\n    (&#39;Mexico&#39;, &#39;+52&#39;, &#39;MX&#39;, &#39;mx.svg&#39;),\r\n    (&#39;Micronesia&#39;, &#39;+691&#39;, &#39;FM&#39;, &#39;fm.svg&#39;),\r\n    (&#39;Moldova&#39;, &#39;+373&#39;, &#39;MD&#39;, &#39;md.svg&#39;),\r\n    (&#39;Monaco&#39;, &#39;+377&#39;, &#39;MC&#39;, &#39;mc.svg&#39;),\r\n    (&#39;Mongolia&#39;, &#39;+976&#39;, &#39;MN&#39;, &#39;mn.svg&#39;),\r\n    (&#39;Montenegro&#39;, &#39;+382&#39;, &#39;ME&#39;, &#39;me.svg&#39;),\r\n    (&#39;Montserrat&#39;, &#39;+1664&#39;, &#39;MS&#39;, &#39;ms.svg&#39;),\r\n    (&#39;Morocco&#39;, &#39;+212&#39;, &#39;MA&#39;, &#39;ma.svg&#39;),\r\n    (&#39;Myanmar&#39;, &#39;+95&#39;, &#39;MM&#39;, &#39;mm.svg&#39;),\r\n    (&#39;Namibia&#39;, &#39;+264&#39;, &#39;NA&#39;, &#39;na.svg&#39;),\r\n    (&#39;Nauru&#39;, &#39;+674&#39;, &#39;NR&#39;, &#39;nr.svg&#39;),\r\n    (&#39;Nepal&#39;, &#39;+977&#39;, &#39;NP&#39;, &#39;np.svg&#39;),\r\n    (&#39;Netherlands&#39;, &#39;+31&#39;, &#39;NL&#39;, &#39;nl.svg&#39;),\r\n    (&#39;Saint Kitts and Nevis&#39;, &#39;+1&#39;, &#39;KN&#39;, &#39;kn.svg&#39;),\r\n    (&#39;New Caledonia&#39;, &#39;+687&#39;, &#39;NC&#39;, &#39;nc.svg&#39;),\r\n    (&#39;New Zealand&#39;, &#39;+64&#39;, &#39;NZ&#39;, &#39;nz.svg&#39;),\r\n    (&#39;Nicaragua&#39;, &#39;+505&#39;, &#39;NI&#39;, &#39;ni.svg&#39;),\r\n    (&#39;Niger&#39;, &#39;+227&#39;, &#39;NE&#39;, &#39;ne.svg&#39;),\r\n    (&#39;Nigeria&#39;, &#39;+234&#39;, &#39;NG&#39;, &#39;ng.svg&#39;),\r\n    (&#39;Niue&#39;, &#39;+683&#39;, &#39;NU&#39;, &#39;nu.svg&#39;),\r\n    (&#39;Norfolk Island&#39;, &#39;+672&#39;, &#39;NF&#39;, &#39;nf.svg&#39;),\r\n    (&#39;North Korea&#39;, &#39;+850&#39;, &#39;KP&#39;, &#39;kp.svg&#39;),\r\n    (&#39;Northern Mariana Islands&#39;, &#39;+1 670&#39;, &#39;MP&#39;, &#39;mp.svg&#39;),\r\n    (&#39;Norway&#39;, &#39;+47&#39;, &#39;NO&#39;, &#39;no.svg&#39;),\r\n    (&#39;Oman&#39;, &#39;+968&#39;, &#39;OM&#39;, &#39;om.svg&#39;),\r\n    (&#39;Pakistan&#39;, &#39;+92&#39;, &#39;PK&#39;, &#39;pk.svg&#39;),\r\n    (&#39;Palau&#39;, &#39;+680&#39;, &#39;PW&#39;, &#39;pw.svg&#39;),\r\n    (&#39;Panama&#39;, &#39;+507&#39;, &#39;PA&#39;, &#39;pa.svg&#39;),\r\n    (&#39;Papua New Guinea&#39;, &#39;+675&#39;, &#39;PG&#39;, &#39;pg.svg&#39;),\r\n    (&#39;Paraguay&#39;, &#39;+595&#39;, &#39;PY&#39;, &#39;py.svg&#39;),\r\n    (&#39;Peru&#39;, &#39;+51&#39;, &#39;PE&#39;, &#39;pe.svg&#39;),\r\n    (&#39;Philippines&#39;, &#39;+63&#39;, &#39;PH&#39;, &#39;ph.svg&#39;),\r\n    (&#39;Poland&#39;, &#39;+48&#39;, &#39;PL&#39;, &#39;pl.svg&#39;),\r\n    (&#39;Portugal&#39;, &#39;+351&#39;, &#39;PT&#39;, &#39;pt.svg&#39;),\r\n    (&#39;Puerto Rico&#39;, &#39;+1 787&#39;, &#39;PR&#39;, &#39;pr.svg&#39;),\r\n    (&#39;Qatar&#39;, &#39;+974&#39;, &#39;QA&#39;, &#39;qa.svg&#39;),\r\n    (&#39;Reunion&#39;, &#39;+262&#39;, &#39;RE&#39;, &#39;re.svg&#39;),\r\n    (&#39;Romania&#39;, &#39;+40&#39;, &#39;RO&#39;, &#39;ro.svg&#39;),\r\n    (&#39;Russia&#39;, &#39;+7&#39;, &#39;RU&#39;, &#39;ru.svg&#39;),\r\n    (&#39;Rwanda&#39;, &#39;+250&#39;, &#39;RW&#39;, &#39;rw.svg&#39;),\r\n    (&#39;Samoa&#39;, &#39;+685&#39;, &#39;WS&#39;, &#39;ws.svg&#39;),\r\n    (&#39;San Marino&#39;, &#39;+378&#39;, &#39;SM&#39;, &#39;sm.svg&#39;),\r\n    (&#39;Saudi Arabia&#39;, &#39;+966&#39;, &#39;SA&#39;, &#39;sa.svg&#39;),\r\n    (&#39;Senegal&#39;, &#39;+221&#39;, &#39;SN&#39;, &#39;sn.svg&#39;),\r\n    (&#39;Serbia&#39;, &#39;+381&#39;, &#39;RS&#39;, &#39;rs.svg&#39;),\r\n    (&#39;Seychelles&#39;, &#39;+248&#39;, &#39;SC&#39;, &#39;sc.svg&#39;),\r\n    (&#39;Sierra Leone&#39;, &#39;+232&#39;, &#39;SL&#39;, &#39;sl.svg&#39;),\r\n    (&#39;Singapore&#39;, &#39;+65&#39;, &#39;SG&#39;, &#39;sg.svg&#39;),\r\n    (&#39;Slovakia&#39;, &#39;+421&#39;, &#39;SK&#39;, &#39;sk.svg&#39;),\r\n    (&#39;Slovenia&#39;, &#39;+386&#39;, &#39;SI&#39;, &#39;si.svg&#39;),\r\n    (&#39;Solomon Islands&#39;, &#39;+677&#39;, &#39;SB&#39;, &#39;sb.svg&#39;),\r\n    (&#39;South Africa&#39;, &#39;+27&#39;, &#39;ZA&#39;, &#39;za.svg&#39;),\r\n    (&#39;South Georgia and the South Sandwich Islands&#39;, &#39;+500&#39;, &#39;GS&#39;, &#39;gs.svg&#39;),\r\n    (&#39;South Korea&#39;, &#39;+82&#39;, &#39;KR&#39;, &#39;kr.svg&#39;),\r\n    (&#39;Spain&#39;, &#39;+34&#39;, &#39;ES&#39;, &#39;es.svg&#39;),\r\n    (&#39;Sri Lanka&#39;, &#39;+94&#39;, &#39;LK&#39;, &#39;lk.svg&#39;),\r\n    (&#39;Sudan&#39;, &#39;+249&#39;, &#39;SD&#39;, &#39;sd.svg&#39;),\r\n    (&#39;Suriname&#39;, &#39;+597&#39;, &#39;SR&#39;, &#39;sr.svg&#39;),\r\n    (&#39;Swaziland&#39;, &#39;+268&#39;, &#39;SZ&#39;, &#39;sz.svg&#39;),\r\n    (&#39;Sweden&#39;, &#39;+46&#39;, &#39;SE&#39;, &#39;se.svg&#39;),\r\n    (&#39;Switzerland&#39;, &#39;+41&#39;, &#39;CH&#39;, &#39;ch.svg&#39;),\r\n    (&#39;Syria&#39;, &#39;+963&#39;, &#39;SY&#39;, &#39;sy.svg&#39;),\r\n    (&#39;Taiwan&#39;, &#39;+886&#39;, &#39;TW&#39;, &#39;tw.svg&#39;),\r\n    (&#39;Tajikistan&#39;, &#39;+992&#39;, &#39;TJ&#39;, &#39;tj.svg&#39;),\r\n    (&#39;Tanzania&#39;, &#39;+255&#39;, &#39;TZ&#39;, &#39;tz.svg&#39;),\r\n    (&#39;Thailand&#39;, &#39;+66&#39;, &#39;TH&#39;, &#39;th.svg&#39;),\r\n    (&#39;Timor Leste&#39;, &#39;+670&#39;, &#39;TL&#39;, &#39;tl.svg&#39;),\r\n    (&#39;Togo&#39;, &#39;+228&#39;, &#39;TG&#39;, &#39;tg.svg&#39;),\r\n    (&#39;Tokelau&#39;, &#39;+690&#39;, &#39;TK&#39;, &#39;tk.svg&#39;),\r\n    (&#39;Tonga&#39;, &#39;+676&#39;, &#39;TO&#39;, &#39;to.svg&#39;),\r\n    (&#39;Trinidad and Tobago&#39;, &#39;+1 868&#39;, &#39;TT&#39;, &#39;tt.svg&#39;),\r\n    (&#39;Tunisia&#39;, &#39;+216&#39;, &#39;TN&#39;, &#39;tn.svg&#39;),\r\n    (&#39;Turkey&#39;, &#39;+90&#39;, &#39;TR&#39;, &#39;tr.svg&#39;),\r\n    (&#39;Turkmenistan&#39;, &#39;+993&#39;, &#39;TM&#39;, &#39;tm.svg&#39;),\r\n    (&#39;Turks and Caicos Islands&#39;, &#39;+1 649&#39;, &#39;TC&#39;, &#39;tc.svg&#39;),\r\n    (&#39;Tuvalu&#39;, &#39;+688&#39;, &#39;TV&#39;, &#39;tv.svg&#39;),\r\n    (&#39;Uganda&#39;, &#39;+256&#39;, &#39;UG&#39;, &#39;ug.svg&#39;),\r\n    (&#39;Ukraine&#39;, &#39;+380&#39;, &#39;UA&#39;, &#39;ua.svg&#39;),\r\n    (&#39;United Arab Emirates&#39;, &#39;+971&#39;, &#39;AE&#39;, &#39;ae.svg&#39;),\r\n    (&#39;United Kingdom&#39;, &#39;+44&#39;, &#39;GB&#39;, &#39;gb.svg&#39;),\r\n    (&#39;United States&#39;, &#39;+1&#39;, &#39;US&#39;, &#39;us.svg&#39;),\r\n    (&#39;Uruguay&#39;, &#39;+598&#39;, &#39;UY&#39;, &#39;uy.svg&#39;),\r\n    (&#39;Uzbekistan&#39;, &#39;+998&#39;, &#39;UZ&#39;, &#39;uz.svg&#39;),\r\n    (&#39;Vanuatu&#39;, &#39;+678&#39;, &#39;VU&#39;, &#39;vu.svg&#39;),\r\n    (&#39;Venezuela&#39;, &#39;+58&#39;, &#39;VE&#39;, &#39;ve.svg&#39;),\r\n    (&#39;Vietnam&#39;, &#39;+84&#39;, &#39;VN&#39;, &#39;vn.svg&#39;),\r\n    (&#39;Wallis and Futuna&#39;, &#39;+681&#39;, &#39;WF&#39;, &#39;wf.svg&#39;),\r\n    (&#39;Yemen&#39;, &#39;+967&#39;, &#39;YE&#39;, &#39;ye.svg&#39;),\r\n    (&#39;Zambia&#39;, &#39;+260&#39;, &#39;ZM&#39;, &#39;zm.svg&#39;),\r\n    (&#39;Zimbabwe&#39;, &#39;+263&#39;, &#39;ZW&#39;, &#39;zw.svg&#39;)","title":"ISO2 country code from country name","body":"<p>concat flag to url(<a href=\"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/flags/1x1/\" rel=\"nofollow noreferrer\">https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/flags/1x1/</a>)</p>\n\n<pre><code>INSERT INTO `countries` (`name`, `code`, `c_code`, `flag`) VALUES\n\n('Afghanistan', '+93', 'AF', 'af.svg'),\n('Albania', '+355', 'AL', 'al.svg'),\n('Algeria', '+213', 'DZ', 'dz.svg'),\n('American Samoa', '+1 684', 'AS', 'as.svg'),\n('Andorra', '+376', 'AD', 'ad.svg'),\n('Angola', '+244', 'AO', 'ao.svg'),\n('Anguilla', '+1 264', 'AI', 'ai.svg'),\n('Antigua and Barbuda', '+1 268', 'AG', 'ag.svg'),\n('Argentina', '+54', 'AR', 'ar.svg'),\n('Armenia', '+374', 'AM', 'am.svg'),\n('Aruba', '+297', 'AW', 'aw.svg'),\n('Australia', '+61', 'AU', 'au.svg'),\n('Austria', '+43', 'AT', 'at.svg'),\n('Azerbaijan', '+994', 'AZ', 'az.svg'),\n('Bahamas', '+1 242', 'BS', 'bs.svg'),\n('Bahrain', '+973', 'BH', 'bh.svg'),\n('Bangladesh', '+880', 'BD', 'bd.svg'),\n('Barbados', '+1 246', 'BB', 'bb.svg'),\n('Belarus', '+375', 'BY', 'by.svg'),\n('Belgium', '+32', 'BE', 'be.svg'),\n('Belize', '+501', 'BZ', 'bz.svg'),\n('Benin', '+229', 'BJ', 'bj.svg'),\n('Bermuda', '+1 441', 'BM', 'bm.svg'),\n('Bhutan', '+975', 'BT', 'bt.svg'),\n('Bolivia', '+591', 'BO', 'bo.svg'),\n('Bosnia and Herzegovina', '+387', 'BA', 'ba.svg'),\n('Botswana', '+267', 'BW', 'bw.svg'),\n('Brazil', '+55', 'BR', 'br.svg'),\n('British Indian Ocean Territory', '+246', 'IO', 'io.svg'),\n('British Virgin Islands', '+1 284', 'VG', 'vg.svg'),\n('Brunei', '+673', 'BN', 'bn.svg'),\n('Bulgaria', '+359', 'BG', 'bg.svg'),\n('Burkina Faso', '+226', 'BF', 'bf.svg'),\n('Burundi', '+257', 'BI', 'bi.svg'),\n('Cambodia', '+855', 'KH', 'kh.svg'),\n('Cameroon', '+237', 'CM', 'cm.svg'),\n('Canada', '+1', 'CA', 'ca.svg'),\n('Cape Verde', '+238', 'CV', 'cv.svg'),\n('Cayman Islands', '+ 345', 'KY', 'ky.svg'),\n('Central African Republic', '+236', 'CF', 'cf.svg'),\n('Chad', '+235', 'TD', 'td.svg'),\n('Chile', '+56', 'CL', 'cl.svg'),\n('China', '+86', 'CN', 'cn.svg'),\n('Christmas Island', '+61', 'CX', 'cx.svg'),\n('Colombia', '+57', 'CO', 'co.svg'),\n('Comoros', '+269', 'KM', 'km.svg'),\n('Congo', '+242', 'CG', 'cg.svg'),\n('Congo, Dem. Rep. of (Zaire)', '+243', 'CD', 'cd.svg'),\n('Cook Islands', '+682', 'CK', 'ck.svg'),\n('Costa Rica', '+506', 'CR', 'cr.svg'),\n('Croatia', '+385', 'HR', 'hr.svg'),\n('Cuba', '+53', 'CU', 'cu.svg'),\n('Curacao', '+599', 'CW', 'cw.svg'),\n('Cyprus', '+537', 'CY', 'cy.svg'),\n('Czech Republic', '+420', 'CZ', 'cz.svg'),\n('Denmark', '+45', 'DK', 'dk.svg'),\n('Djibouti', '+253', 'DJ', 'dj.svg'),\n('Dominica', '+1 767', 'DM', 'dm.svg'),\n('Dominican Republic', '+1 809', 'DO', 'do.svg'),\n('East Timor', '+670', 'TR', 'tr.svg'),\n('Ecuador', '+593', 'EC', 'ec.svg'),\n('Egypt', '+20', 'EG', 'eg.svg'),\n('El Salvador', '+503', 'SV', 'sv.svg'),\n('Equatorial Guinea', '+240', 'GQ', 'gq.svg'),\n('Eritrea', '+291', 'ER', 'er.svg'),\n('Estonia', '+372', 'EE', 'ee.svg'),\n('Ethiopia', '+251', 'ET', 'et.svg'),\n('Falkland Islands', '+500', 'FK', 'fk.svg'),\n('Faroe Islands', '+298', 'FO', 'fo.svg'),\n('Fiji', '+679', 'FJ', 'fj.svg'),\n('Finland', '+358', 'FI', 'fi.svg'),\n('France', '+33', 'FR', 'fr.svg'),\n('French Guiana', '+594', 'GF', 'gf.svg'),\n('French Polynesia', '+689', 'PF', 'pf.svg'),\n('Gabon', '+241', 'GA', 'ga.svg'),\n('Gambia', '+220', 'GM', 'gm.svg'),\n('Georgia', '+995', 'GE', 'ge.svg'),\n('Germany', '+49', 'DE', 'de.svg'),\n('Ghana', '+233', 'GH', 'gh.svg'),\n('Gibraltar', '+350', 'GI', 'gi.svg'),\n('Greece', '+30', 'GR', 'gr.svg'),\n('Greenland', '+299', 'GL', 'gl.svg'),\n('Grenada', '+1 473', 'GD', 'gd.svg'),\n('Guadeloupe', '+590', 'GP', 'gp.svg'),\n('Guam', '+1 671', 'GU', 'gu.svg'),\n('Guatemala', '+502', 'GT', 'gt.svg'),\n('Guinea', '+224', 'GN', 'gn.svg'),\n('Guinea-Bissau', '+245', 'GW', 'gw.svg'),\n('Guyana', '+595', 'GY', 'gy.svg'),\n('Haiti', '+509', 'HT', 'ht.svg'),\n('Honduras', '+504', 'HN', 'hn.svg'),\n('Hong Kong', '+852', 'HK', 'hk.svg'),\n('Hungary', '+36', 'HU', 'hu.svg'),\n('Iceland', '+354', 'IS', 'is.svg'),\n('India', '+91', 'IN', 'in.svg'),\n('Indonesia', '+62', 'ID', 'id.svg'),\n('Iran', '+98', 'IR', 'ir.svg'),\n('Iraq', '+964', 'IQ', 'iq.svg'),\n('Ireland', '+353', 'IE', 'ie.svg'),\n('Israel', '+972', 'IL', 'il.svg'),\n('Italy', '+39', 'IT', 'it.svg'),\n('Ivory Coast', '+225', 'CI', 'ci.svg'),\n('Jamaica', '+1 876', 'JM', 'jm.svg'),\n('Japan', '+81', 'JP', 'jp.svg'),\n('Jordan', '+962', 'JO', 'jo.svg'),\n('Kazakhstan', '+7 7', 'KZ', 'kz.svg'),\n('Kenya', '+254', 'KE', 'ke.svg'),\n('Kiribati', '+686', 'KI', 'ki.svg'),\n('Kuwait', '+965', 'KW', 'kw.svg'),\n('Kyrgyzstan', '+996', 'KG', 'kg.svg'),\n('Laos', '+856', 'LA', 'la.svg'),\n('Latvia', '+371', 'LV', 'lv.svg'),\n('Lebanon', '+961', 'LB', 'lb.svg'),\n('Lesotho', '+266', 'LS', 'ls.svg'),\n('Liberia', '+231', 'LR', 'lr.svg'),\n('Libya', '+218', 'LY', 'ly.svg'),\n('Liechtenstein', '+423', 'LI', 'li.svg'),\n('Lithuania', '+370', 'LT', 'lt.svg'),\n('Luxembourg', '+352', 'LU', 'lu.svg'),\n('Macau', '+853', 'MO', 'mo.svg'),\n('Macedonia', '+389', 'MK', 'mk.svg'),\n('Madagascar', '+261', 'MG', 'mg.svg'),\n('Malawi', '+265', 'MW', 'mw.svg'),\n('Malaysia', '+60', 'MY', 'my.svg'),\n('Maldives', '+960', 'MV', 'mv.svg'),\n('Mali', '+223', 'ML', 'ml.svg'),\n('Malta', '+356', 'MT', 'mt.svg'),\n('Marshall Islands', '+692', 'MH', 'mh.svg'),\n('Martinique', '+596', 'MQ', 'mq.svg'),\n('Mauritania', '+222', 'MR', 'mr.svg'),\n('Mauritius', '+230', 'MU', 'mu.svg'),\n('Mayotte', '+262', 'YT', 'yt.svg'),\n('Mexico', '+52', 'MX', 'mx.svg'),\n('Micronesia', '+691', 'FM', 'fm.svg'),\n('Moldova', '+373', 'MD', 'md.svg'),\n('Monaco', '+377', 'MC', 'mc.svg'),\n('Mongolia', '+976', 'MN', 'mn.svg'),\n('Montenegro', '+382', 'ME', 'me.svg'),\n('Montserrat', '+1664', 'MS', 'ms.svg'),\n('Morocco', '+212', 'MA', 'ma.svg'),\n('Myanmar', '+95', 'MM', 'mm.svg'),\n('Namibia', '+264', 'NA', 'na.svg'),\n('Nauru', '+674', 'NR', 'nr.svg'),\n('Nepal', '+977', 'NP', 'np.svg'),\n('Netherlands', '+31', 'NL', 'nl.svg'),\n('Saint Kitts and Nevis', '+1', 'KN', 'kn.svg'),\n('New Caledonia', '+687', 'NC', 'nc.svg'),\n('New Zealand', '+64', 'NZ', 'nz.svg'),\n('Nicaragua', '+505', 'NI', 'ni.svg'),\n('Niger', '+227', 'NE', 'ne.svg'),\n('Nigeria', '+234', 'NG', 'ng.svg'),\n('Niue', '+683', 'NU', 'nu.svg'),\n('Norfolk Island', '+672', 'NF', 'nf.svg'),\n('North Korea', '+850', 'KP', 'kp.svg'),\n('Northern Mariana Islands', '+1 670', 'MP', 'mp.svg'),\n('Norway', '+47', 'NO', 'no.svg'),\n('Oman', '+968', 'OM', 'om.svg'),\n('Pakistan', '+92', 'PK', 'pk.svg'),\n('Palau', '+680', 'PW', 'pw.svg'),\n('Panama', '+507', 'PA', 'pa.svg'),\n('Papua New Guinea', '+675', 'PG', 'pg.svg'),\n('Paraguay', '+595', 'PY', 'py.svg'),\n('Peru', '+51', 'PE', 'pe.svg'),\n('Philippines', '+63', 'PH', 'ph.svg'),\n('Poland', '+48', 'PL', 'pl.svg'),\n('Portugal', '+351', 'PT', 'pt.svg'),\n('Puerto Rico', '+1 787', 'PR', 'pr.svg'),\n('Qatar', '+974', 'QA', 'qa.svg'),\n('Reunion', '+262', 'RE', 're.svg'),\n('Romania', '+40', 'RO', 'ro.svg'),\n('Russia', '+7', 'RU', 'ru.svg'),\n('Rwanda', '+250', 'RW', 'rw.svg'),\n('Samoa', '+685', 'WS', 'ws.svg'),\n('San Marino', '+378', 'SM', 'sm.svg'),\n('Saudi Arabia', '+966', 'SA', 'sa.svg'),\n('Senegal', '+221', 'SN', 'sn.svg'),\n('Serbia', '+381', 'RS', 'rs.svg'),\n('Seychelles', '+248', 'SC', 'sc.svg'),\n('Sierra Leone', '+232', 'SL', 'sl.svg'),\n('Singapore', '+65', 'SG', 'sg.svg'),\n('Slovakia', '+421', 'SK', 'sk.svg'),\n('Slovenia', '+386', 'SI', 'si.svg'),\n('Solomon Islands', '+677', 'SB', 'sb.svg'),\n('South Africa', '+27', 'ZA', 'za.svg'),\n('South Georgia and the South Sandwich Islands', '+500', 'GS', 'gs.svg'),\n('South Korea', '+82', 'KR', 'kr.svg'),\n('Spain', '+34', 'ES', 'es.svg'),\n('Sri Lanka', '+94', 'LK', 'lk.svg'),\n('Sudan', '+249', 'SD', 'sd.svg'),\n('Suriname', '+597', 'SR', 'sr.svg'),\n('Swaziland', '+268', 'SZ', 'sz.svg'),\n('Sweden', '+46', 'SE', 'se.svg'),\n('Switzerland', '+41', 'CH', 'ch.svg'),\n('Syria', '+963', 'SY', 'sy.svg'),\n('Taiwan', '+886', 'TW', 'tw.svg'),\n('Tajikistan', '+992', 'TJ', 'tj.svg'),\n('Tanzania', '+255', 'TZ', 'tz.svg'),\n('Thailand', '+66', 'TH', 'th.svg'),\n('Timor Leste', '+670', 'TL', 'tl.svg'),\n('Togo', '+228', 'TG', 'tg.svg'),\n('Tokelau', '+690', 'TK', 'tk.svg'),\n('Tonga', '+676', 'TO', 'to.svg'),\n('Trinidad and Tobago', '+1 868', 'TT', 'tt.svg'),\n('Tunisia', '+216', 'TN', 'tn.svg'),\n('Turkey', '+90', 'TR', 'tr.svg'),\n('Turkmenistan', '+993', 'TM', 'tm.svg'),\n('Turks and Caicos Islands', '+1 649', 'TC', 'tc.svg'),\n('Tuvalu', '+688', 'TV', 'tv.svg'),\n('Uganda', '+256', 'UG', 'ug.svg'),\n('Ukraine', '+380', 'UA', 'ua.svg'),\n('United Arab Emirates', '+971', 'AE', 'ae.svg'),\n('United Kingdom', '+44', 'GB', 'gb.svg'),\n('United States', '+1', 'US', 'us.svg'),\n('Uruguay', '+598', 'UY', 'uy.svg'),\n('Uzbekistan', '+998', 'UZ', 'uz.svg'),\n('Vanuatu', '+678', 'VU', 'vu.svg'),\n('Venezuela', '+58', 'VE', 've.svg'),\n('Vietnam', '+84', 'VN', 'vn.svg'),\n('Wallis and Futuna', '+681', 'WF', 'wf.svg'),\n('Yemen', '+967', 'YE', 'ye.svg'),\n('Zambia', '+260', 'ZM', 'zm.svg'),\n('Zimbabwe', '+263', 'ZW', 'zw.svg')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1530567943,"creation_date":1530567943,"answer_id":51144118,"question_id":14155049,"body_markdown":"This is definitely the answer you are looking for, it is late but hopefully it will hepl someone\r\n\r\n    String[] isoCountries = Locale.getISOCountries();\r\n\t\tfor (String country : isoCountries) {\r\n\t\t\tLocale locale = new Locale(&quot;en&quot;, country);\r\n\t\t\tString iso = locale.getISO3Country();\r\n\t\t\tString code = locale.getCountry();\r\n\t\t\tString name = locale.getDisplayCountry();\r\n\t\t\tSystem.out.println(iso + &quot; &quot; + code + &quot; &quot; + name);\r\n\t\t\t\r\n\t\t}\r\nI have added the print statement so that you can get a good look at the result.\r\nYou can substitute &quot;CH&quot; for that country variable in the third line and it will give you &quot;Afghanistan&quot;.","title":"ISO2 country code from country name","body":"<p>This is definitely the answer you are looking for, it is late but hopefully it will hepl someone</p>\n\n<pre><code>String[] isoCountries = Locale.getISOCountries();\n    for (String country : isoCountries) {\n        Locale locale = new Locale(\"en\", country);\n        String iso = locale.getISO3Country();\n        String code = locale.getCountry();\n        String name = locale.getDisplayCountry();\n        System.out.println(iso + \" \" + code + \" \" + name);\n\n    }\n</code></pre>\n\n<p>I have added the print statement so that you can get a good look at the result.\nYou can substitute \"CH\" for that country variable in the third line and it will give you \"Afghanistan\".</p>\n"},{"tags":[],"owner":{"account_id":1823070,"reputation":731,"user_id":1656654,"accept_rate":70,"display_name":"DrAhmedJava"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542018436,"creation_date":1542018283,"answer_id":53260163,"question_id":14155049,"body_markdown":"    public static void main(String[] args) throws Exception {\r\n        System.out.println(getCountryCodeFromName(&quot;Switzerland&quot;));\r\n    }\r\n    \r\n    public static String getCountryCodeFromName(String country) {\r\n        return Arrays.asList(Locale.getISOCountries())\r\n                .stream()\r\n                .map((s) -&gt; new Locale(&quot;&quot;, s))\r\n                .filter((l) -&gt; l.getDisplayCountry().toLowerCase().equals(country.toLowerCase()))\r\n                .findFirst()\r\n                .map((l) -&gt; l.getCountry().toLowerCase())\r\n                .orElse(&quot;UNKNOWN&quot;);\r\n    }\r\n\r\nnote that you will walk the stream every time you call the method, it is more efficient to use a map or save the result in a lookup table","title":"ISO2 country code from country name","body":"<pre><code>public static void main(String[] args) throws Exception {\n    System.out.println(getCountryCodeFromName(\"Switzerland\"));\n}\n\npublic static String getCountryCodeFromName(String country) {\n    return Arrays.asList(Locale.getISOCountries())\n            .stream()\n            .map((s) -&gt; new Locale(\"\", s))\n            .filter((l) -&gt; l.getDisplayCountry().toLowerCase().equals(country.toLowerCase()))\n            .findFirst()\n            .map((l) -&gt; l.getCountry().toLowerCase())\n            .orElse(\"UNKNOWN\");\n}\n</code></pre>\n\n<p>note that you will walk the stream every time you call the method, it is more efficient to use a map or save the result in a lookup table</p>\n"},{"tags":[],"owner":{"account_id":8870738,"reputation":1640,"user_id":6624525,"accept_rate":86,"display_name":"Markus G."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596454372,"creation_date":1596454372,"answer_id":63228665,"question_id":14155049,"body_markdown":"I guess the easiest Java 8+ way is to use Java&#39;s Locale class. \r\n\r\nTwo simple methods to match every country in every language. \r\n\r\n    public static Optional&lt;String&gt; getCountryCodeByName(String name, String lang){\r\n        Optional&lt;Locale&gt; locale = getLocaleByName(name,lang);\r\n        return locale.map(Locale::getCountry);\r\n    }\r\n\r\n    public static Optional&lt;Locale&gt; getLocaleByName(String name, String lang){\r\n        return Arrays.stream(Locale.getAvailableLocales())\r\n                .filter(l -&gt; l.getDisplayCountry(Locale.forLanguageTag(lang)).equalsIgnoreCase(name))\r\n                .findFirst();\r\n    }","title":"ISO2 country code from country name","body":"<p>I guess the easiest Java 8+ way is to use Java's Locale class.</p>\n<p>Two simple methods to match every country in every language.</p>\n<pre><code>public static Optional&lt;String&gt; getCountryCodeByName(String name, String lang){\n    Optional&lt;Locale&gt; locale = getLocaleByName(name,lang);\n    return locale.map(Locale::getCountry);\n}\n\npublic static Optional&lt;Locale&gt; getLocaleByName(String name, String lang){\n    return Arrays.stream(Locale.getAvailableLocales())\n            .filter(l -&gt; l.getDisplayCountry(Locale.forLanguageTag(lang)).equalsIgnoreCase(name))\n            .findFirst();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642474,"reputation":192,"user_id":2285849,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613133878,"creation_date":1613133878,"answer_id":66172148,"question_id":14155049,"body_markdown":"For those, who need it in German:\r\n\r\n    package at.ciit.apf.common.util;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class CountryUtil {\r\n    private static Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    static {\r\n        initCountries();\r\n    }\r\n    \r\n    public static String getCountryFromCountryCode(String countryCode){\r\n        if (countryCode==null) return &quot;&quot;;\r\n        String result = map.get(countryCode.toUpperCase());\r\n        if (result==null) result = &quot;&quot;;\r\n        return result;\r\n    }\r\n\r\n    private static void initCountries() {\r\n        map.put(&quot;AF&quot;,&quot;Afghanistan&quot;);\r\n        map.put(&quot;EG&quot;,&quot;&#196;gypten&quot;);\r\n        map.put(&quot;AX&quot;,&quot;&#197;landinseln&quot;);\r\n        map.put(&quot;AL&quot;,&quot;Albanien&quot;);\r\n        map.put(&quot;DZ&quot;,&quot;Algerien&quot;);\r\n        map.put(&quot;AS&quot;,&quot;Amerikanisch Samoa&quot;);\r\n        map.put(&quot;AD&quot;,&quot;Andorra&quot;);\r\n        map.put(&quot;AO&quot;,&quot;Angola&quot;);\r\n        map.put(&quot;AI&quot;,&quot;Anguilla&quot;);\r\n        map.put(&quot;AQ&quot;,&quot;Antarktis&quot;);\r\n        map.put(&quot;AG&quot;,&quot;Antigua und Barbuda&quot;);\r\n        map.put(&quot;GQ&quot;,&quot;&#196;quatorialguinea&quot;);\r\n        map.put(&quot;AR&quot;,&quot;Argentinien&quot;);\r\n        map.put(&quot;AM&quot;,&quot;Armenien&quot;);\r\n        map.put(&quot;AW&quot;,&quot;Aruba&quot;);\r\n        map.put(&quot;AZ&quot;,&quot;Aserbaidschan&quot;);\r\n        map.put(&quot;ET&quot;,&quot;&#196;thiopien&quot;);\r\n        map.put(&quot;AU&quot;,&quot;Australien&quot;);\r\n        map.put(&quot;BS&quot;,&quot;Bahamas&quot;);\r\n        map.put(&quot;BH&quot;,&quot;Bahrain&quot;);\r\n        map.put(&quot;BD&quot;,&quot;Bangladesch&quot;);\r\n        map.put(&quot;BB&quot;,&quot;Barbados&quot;);\r\n        map.put(&quot;BY&quot;,&quot;Belarus&quot;);\r\n        map.put(&quot;BE&quot;,&quot;Belgien&quot;);\r\n        map.put(&quot;BZ&quot;,&quot;Belize&quot;);\r\n        map.put(&quot;BJ&quot;,&quot;Benin&quot;);\r\n        map.put(&quot;BM&quot;,&quot;Bermuda&quot;);\r\n        map.put(&quot;BT&quot;,&quot;Bhutan&quot;);\r\n        map.put(&quot;BO&quot;,&quot;Bolivien&quot;);\r\n        map.put(&quot;BQ&quot;,&quot;Bonaire, Sint Eustatius und Saba&quot;);\r\n        map.put(&quot;BA&quot;,&quot;Bosnien und Herzegowina&quot;);\r\n        map.put(&quot;BW&quot;,&quot;Botswana&quot;);\r\n        map.put(&quot;BV&quot;,&quot;Bouvetinsel&quot;);\r\n        map.put(&quot;BR&quot;,&quot;Brasilien&quot;);\r\n        map.put(&quot;IO&quot;,&quot;Britisches Territorium im Indischen Ozean&quot;);\r\n        map.put(&quot;BN&quot;,&quot;Brunei&quot;);\r\n        map.put(&quot;BG&quot;,&quot;Bulgarien&quot;);\r\n        map.put(&quot;BF&quot;,&quot;Burkina Faso&quot;);\r\n        map.put(&quot;BI&quot;,&quot;Burundi&quot;);\r\n        map.put(&quot;CL&quot;,&quot;Chile&quot;);\r\n        map.put(&quot;CN&quot;,&quot;China&quot;);\r\n        map.put(&quot;CK&quot;,&quot;Cookinseln&quot;);\r\n        map.put(&quot;CR&quot;,&quot;Costa Rica&quot;);\r\n        map.put(&quot;CW&quot;,&quot;Cura&#231;ao&quot;);\r\n        map.put(&quot;DK&quot;,&quot;D&#228;nemark&quot;);\r\n        map.put(&quot;CD&quot;,&quot;Demokratische Republik Kongo&quot;);\r\n        map.put(&quot;DE&quot;,&quot;Deutschland&quot;);\r\n        map.put(&quot;DM&quot;,&quot;Dominica&quot;);\r\n        map.put(&quot;DO&quot;,&quot;Dominikanische Republik&quot;);\r\n        map.put(&quot;DJ&quot;,&quot;Dschibuti&quot;);\r\n        map.put(&quot;EC&quot;,&quot;Ecuador&quot;);\r\n        map.put(&quot;SV&quot;,&quot;El Salvador&quot;);\r\n        map.put(&quot;CI&quot;,&quot;Elfenbeink&#252;ste&quot;);\r\n        map.put(&quot;ER&quot;,&quot;Eritrea&quot;);\r\n        map.put(&quot;EE&quot;,&quot;Estland&quot;);\r\n        map.put(&quot;SZ&quot;,&quot;Eswatini&quot;);\r\n        map.put(&quot;FK&quot;,&quot;Falklandinseln&quot;);\r\n        map.put(&quot;FO&quot;,&quot;F&#228;r&#246;er-Inseln&quot;);\r\n        map.put(&quot;FJ&quot;,&quot;Fidschi&quot;);\r\n        map.put(&quot;FI&quot;,&quot;Finnland&quot;);\r\n        map.put(&quot;FR&quot;,&quot;Frankreich&quot;);\r\n        map.put(&quot;GF&quot;,&quot;Franz&#246;sisch-Guayana&quot;);\r\n        map.put(&quot;PF&quot;,&quot;Franz&#246;sisch-Polynesien&quot;);\r\n        map.put(&quot;TF&quot;,&quot;Franz&#246;sische S&#252;d- und Antarktisgebiete&quot;);\r\n        map.put(&quot;GA&quot;,&quot;Gabun&quot;);\r\n        map.put(&quot;GM&quot;,&quot;Gambia&quot;);\r\n        map.put(&quot;GE&quot;,&quot;Georgien&quot;);\r\n        map.put(&quot;GH&quot;,&quot;Ghana&quot;);\r\n        map.put(&quot;GI&quot;,&quot;Gibraltar&quot;);\r\n        map.put(&quot;GD&quot;,&quot;Grenada&quot;);\r\n        map.put(&quot;GR&quot;,&quot;Griechenland&quot;);\r\n        map.put(&quot;GL&quot;,&quot;Gr&#246;nland&quot;);\r\n        map.put(&quot;GP&quot;,&quot;Guadeloupe&quot;);\r\n        map.put(&quot;GU&quot;,&quot;Guam&quot;);\r\n        map.put(&quot;GT&quot;,&quot;Guatemala&quot;);\r\n        map.put(&quot;GG&quot;,&quot;Guernsey&quot;);\r\n        map.put(&quot;GN&quot;,&quot;Guinea&quot;);\r\n        map.put(&quot;GW&quot;,&quot;Guinea-Bissau&quot;);\r\n        map.put(&quot;GY&quot;,&quot;Guyana&quot;);\r\n        map.put(&quot;HT&quot;,&quot;Haiti&quot;);\r\n        map.put(&quot;HM&quot;,&quot;Heard und McDonaldinseln&quot;);\r\n        map.put(&quot;HN&quot;,&quot;Honduras&quot;);\r\n        map.put(&quot;HK&quot;,&quot;Hongkong&quot;);\r\n        map.put(&quot;IN&quot;,&quot;Indien&quot;);\r\n        map.put(&quot;ID&quot;,&quot;Indonesien&quot;);\r\n        map.put(&quot;IM&quot;,&quot;Insel Man&quot;);\r\n        map.put(&quot;IQ&quot;,&quot;Irak&quot;);\r\n        map.put(&quot;IR&quot;,&quot;Iran&quot;);\r\n        map.put(&quot;IE&quot;,&quot;Irland&quot;);\r\n        map.put(&quot;IS&quot;,&quot;Island&quot;);\r\n        map.put(&quot;IL&quot;,&quot;Israel&quot;);\r\n        map.put(&quot;IT&quot;,&quot;Italien&quot;);\r\n        map.put(&quot;JM&quot;,&quot;Jamaika&quot;);\r\n        map.put(&quot;JP&quot;,&quot;Japan&quot;);\r\n        map.put(&quot;YE&quot;,&quot;Jemen&quot;);\r\n        map.put(&quot;JE&quot;,&quot;Jersey&quot;);\r\n        map.put(&quot;JO&quot;,&quot;Jordanien&quot;);\r\n        map.put(&quot;VG&quot;,&quot;Jungferninseln (UK)&quot;);\r\n        map.put(&quot;VI&quot;,&quot;Jungferninseln (US)&quot;);\r\n        map.put(&quot;KY&quot;,&quot;Kaimaninseln&quot;);\r\n        map.put(&quot;KH&quot;,&quot;Kambodscha&quot;);\r\n        map.put(&quot;CM&quot;,&quot;Kamerun&quot;);\r\n        map.put(&quot;CA&quot;,&quot;Kanada&quot;);\r\n        map.put(&quot;CV&quot;,&quot;Kap Verde&quot;);\r\n        map.put(&quot;KZ&quot;,&quot;Kasachstan&quot;);\r\n        map.put(&quot;QA&quot;,&quot;Katar&quot;);\r\n        map.put(&quot;KE&quot;,&quot;Kenia&quot;);\r\n        map.put(&quot;KG&quot;,&quot;Kirgisistan&quot;);\r\n        map.put(&quot;KI&quot;,&quot;Kiribati&quot;);\r\n        map.put(&quot;CC&quot;,&quot;Kokosinseln&quot;);\r\n        map.put(&quot;CO&quot;,&quot;Kolumbien&quot;);\r\n        map.put(&quot;KM&quot;,&quot;Komoren&quot;);\r\n        map.put(&quot;XK&quot;,&quot;Kosovo&quot;);\r\n        map.put(&quot;HR&quot;,&quot;Kroatien&quot;);\r\n        map.put(&quot;CU&quot;,&quot;Kuba&quot;);\r\n        map.put(&quot;KW&quot;,&quot;Kuwait&quot;);\r\n        map.put(&quot;LA&quot;,&quot;Laos&quot;);\r\n        map.put(&quot;LS&quot;,&quot;Lesotho&quot;);\r\n        map.put(&quot;LV&quot;,&quot;Lettland&quot;);\r\n        map.put(&quot;LB&quot;,&quot;Libanon&quot;);\r\n        map.put(&quot;LR&quot;,&quot;Liberia&quot;);\r\n        map.put(&quot;LY&quot;,&quot;Libyen&quot;);\r\n        map.put(&quot;LI&quot;,&quot;Liechtenstein&quot;);\r\n        map.put(&quot;LT&quot;,&quot;Litauen&quot;);\r\n        map.put(&quot;LU&quot;,&quot;Luxemburg&quot;);\r\n        map.put(&quot;MO&quot;,&quot;Macau&quot;);\r\n        map.put(&quot;MG&quot;,&quot;Madagaskar&quot;);\r\n        map.put(&quot;MW&quot;,&quot;Malawi&quot;);\r\n        map.put(&quot;MY&quot;,&quot;Malaysia&quot;);\r\n        map.put(&quot;MV&quot;,&quot;Malediven&quot;);\r\n        map.put(&quot;ML&quot;,&quot;Mali&quot;);\r\n        map.put(&quot;MT&quot;,&quot;Malta&quot;);\r\n        map.put(&quot;MA&quot;,&quot;Marokko&quot;);\r\n        map.put(&quot;MH&quot;,&quot;Marshallinseln&quot;);\r\n        map.put(&quot;MQ&quot;,&quot;Martinique&quot;);\r\n        map.put(&quot;MR&quot;,&quot;Mauretanien&quot;);\r\n        map.put(&quot;MU&quot;,&quot;Mauritius&quot;);\r\n        map.put(&quot;YT&quot;,&quot;Mayotte&quot;);\r\n        map.put(&quot;MX&quot;,&quot;Mexiko&quot;);\r\n        map.put(&quot;FM&quot;,&quot;Mikronesien&quot;);\r\n        map.put(&quot;MD&quot;,&quot;Moldawien&quot;);\r\n        map.put(&quot;MC&quot;,&quot;Monaco&quot;);\r\n        map.put(&quot;MN&quot;,&quot;Mongolei&quot;);\r\n        map.put(&quot;ME&quot;,&quot;Montenegro&quot;);\r\n        map.put(&quot;MS&quot;,&quot;Montserrat&quot;);\r\n        map.put(&quot;MZ&quot;,&quot;Mosambik&quot;);\r\n        map.put(&quot;MM&quot;,&quot;Myanmar&quot;);\r\n        map.put(&quot;NA&quot;,&quot;Namibia&quot;);\r\n        map.put(&quot;NR&quot;,&quot;Nauru&quot;);\r\n        map.put(&quot;NP&quot;,&quot;Nepal&quot;);\r\n        map.put(&quot;NC&quot;,&quot;Neukaledonien&quot;);\r\n        map.put(&quot;NZ&quot;,&quot;Neuseeland&quot;);\r\n        map.put(&quot;NI&quot;,&quot;Nicaragua&quot;);\r\n        map.put(&quot;NL&quot;,&quot;Niederlande&quot;);\r\n        map.put(&quot;NE&quot;,&quot;Niger&quot;);\r\n        map.put(&quot;NG&quot;,&quot;Nigeria&quot;);\r\n        map.put(&quot;NU&quot;,&quot;Niue&quot;);\r\n        map.put(&quot;KP&quot;,&quot;Nordkorea&quot;);\r\n        map.put(&quot;MP&quot;,&quot;N&#246;rdliche Marianen&quot;);\r\n        map.put(&quot;MK&quot;,&quot;Nordmazedonien&quot;);\r\n        map.put(&quot;NF&quot;,&quot;Norfolkinsel&quot;);\r\n        map.put(&quot;NO&quot;,&quot;Norwegen&quot;);\r\n        map.put(&quot;OM&quot;,&quot;Oman&quot;);\r\n        map.put(&quot;AT&quot;,&quot;&#214;sterreich&quot;);\r\n        map.put(&quot;TL&quot;,&quot;Osttimor&quot;);\r\n        map.put(&quot;PK&quot;,&quot;Pakistan&quot;);\r\n        map.put(&quot;PS&quot;,&quot;Pal&#228;stina&quot;);\r\n        map.put(&quot;PW&quot;,&quot;Palau&quot;);\r\n        map.put(&quot;PA&quot;,&quot;Panama&quot;);\r\n        map.put(&quot;PG&quot;,&quot;Papua-Neuguinea&quot;);\r\n        map.put(&quot;PY&quot;,&quot;Paraguay&quot;);\r\n        map.put(&quot;PE&quot;,&quot;Peru&quot;);\r\n        map.put(&quot;PH&quot;,&quot;Philippinen&quot;);\r\n        map.put(&quot;PN&quot;,&quot;Pitcairninseln&quot;);\r\n        map.put(&quot;PL&quot;,&quot;Polen&quot;);\r\n        map.put(&quot;PT&quot;,&quot;Portugal&quot;);\r\n        map.put(&quot;PR&quot;,&quot;Puerto Rico&quot;);\r\n        map.put(&quot;CG&quot;,&quot;Republik Kongo&quot;);\r\n        map.put(&quot;RE&quot;,&quot;R&#233;union&quot;);\r\n        map.put(&quot;RW&quot;,&quot;Ruanda&quot;);\r\n        map.put(&quot;RO&quot;,&quot;Rum&#228;nien&quot;);\r\n        map.put(&quot;RU&quot;,&quot;Russland&quot;);\r\n        map.put(&quot;MF&quot;,&quot;Saint Martin&quot;);\r\n        map.put(&quot;SB&quot;,&quot;Salomonen&quot;);\r\n        map.put(&quot;ZM&quot;,&quot;Sambia&quot;);\r\n        map.put(&quot;WS&quot;,&quot;Samoa&quot;);\r\n        map.put(&quot;SM&quot;,&quot;San Marino&quot;);\r\n        map.put(&quot;BL&quot;,&quot;Sankt Bartholom&#228;us&quot;);\r\n        map.put(&quot;ST&quot;,&quot;S&#227;o Tom&#233; und Pr&#237;ncipe&quot;);\r\n        map.put(&quot;SA&quot;,&quot;Saudi-Arabien&quot;);\r\n        map.put(&quot;SE&quot;,&quot;Schweden&quot;);\r\n        map.put(&quot;CH&quot;,&quot;Schweiz&quot;);\r\n        map.put(&quot;SN&quot;,&quot;Senegal&quot;);\r\n        map.put(&quot;RS&quot;,&quot;Serbien&quot;);\r\n        map.put(&quot;SC&quot;,&quot;Seychellen&quot;);\r\n        map.put(&quot;SL&quot;,&quot;Sierra Leone&quot;);\r\n        map.put(&quot;ZW&quot;,&quot;Simbabwe&quot;);\r\n        map.put(&quot;SG&quot;,&quot;Singapur&quot;);\r\n        map.put(&quot;SX&quot;,&quot;Sint Maarten&quot;);\r\n        map.put(&quot;SK&quot;,&quot;Slowakei&quot;);\r\n        map.put(&quot;SI&quot;,&quot;Slowenien&quot;);\r\n        map.put(&quot;SO&quot;,&quot;Somalia&quot;);\r\n        map.put(&quot;ES&quot;,&quot;Spanien&quot;);\r\n        map.put(&quot;LK&quot;,&quot;Sri Lanka&quot;);\r\n        map.put(&quot;SH&quot;,&quot;St. Helena&quot;);\r\n        map.put(&quot;KN&quot;,&quot;St. Kitts und Nevis&quot;);\r\n        map.put(&quot;LC&quot;,&quot;St. Lucia&quot;);\r\n        map.put(&quot;PM&quot;,&quot;St. Pierre und Miquelon&quot;);\r\n        map.put(&quot;VC&quot;,&quot;St. Vincent und die Grenadinen&quot;);\r\n        map.put(&quot;ZA&quot;,&quot;S&#252;dafrika&quot;);\r\n        map.put(&quot;SD&quot;,&quot;Sudan&quot;);\r\n        map.put(&quot;GS&quot;,&quot;S&#252;dgeorgien und die S&#252;dlichen Sandwichinseln&quot;);\r\n        map.put(&quot;KR&quot;,&quot;S&#252;dkorea&quot;);\r\n        map.put(&quot;SS&quot;,&quot;S&#252;dsudan&quot;);\r\n        map.put(&quot;SR&quot;,&quot;Suriname&quot;);\r\n        map.put(&quot;SJ&quot;,&quot;Svalbard und Jan Mayen&quot;);\r\n        map.put(&quot;SY&quot;,&quot;Syrien&quot;);\r\n        map.put(&quot;TJ&quot;,&quot;Tadschikistan&quot;);\r\n        map.put(&quot;TW&quot;,&quot;Taiwan&quot;);\r\n        map.put(&quot;TZ&quot;,&quot;Tansania&quot;);\r\n        map.put(&quot;TH&quot;,&quot;Thailand&quot;);\r\n        map.put(&quot;TG&quot;,&quot;Togo&quot;);\r\n        map.put(&quot;TK&quot;,&quot;Tokelau&quot;);\r\n        map.put(&quot;TO&quot;,&quot;Tonga&quot;);\r\n        map.put(&quot;TT&quot;,&quot;Trinidad und Tobago&quot;);\r\n        map.put(&quot;TD&quot;,&quot;Tschad&quot;);\r\n        map.put(&quot;CZ&quot;,&quot;Tschechien&quot;);\r\n        map.put(&quot;TN&quot;,&quot;Tunesien&quot;);\r\n        map.put(&quot;TR&quot;,&quot;T&#252;rkei&quot;);\r\n        map.put(&quot;TM&quot;,&quot;Turkmenistan&quot;);\r\n        map.put(&quot;TC&quot;,&quot;Turks und Caicosinseln&quot;);\r\n        map.put(&quot;TV&quot;,&quot;Tuvalu&quot;);\r\n        map.put(&quot;UG&quot;,&quot;Uganda&quot;);\r\n        map.put(&quot;UA&quot;,&quot;Ukraine&quot;);\r\n        map.put(&quot;HU&quot;,&quot;Ungarn&quot;);\r\n        map.put(&quot;UY&quot;,&quot;Uruguay&quot;);\r\n        map.put(&quot;UZ&quot;,&quot;Usbekistan&quot;);\r\n        map.put(&quot;VU&quot;,&quot;Vanuatu&quot;);\r\n        map.put(&quot;VA&quot;,&quot;Vatikanstadt&quot;);\r\n        map.put(&quot;VE&quot;,&quot;Venezuela&quot;);\r\n        map.put(&quot;AE&quot;,&quot;Vereinigte Arabische Emirate&quot;);\r\n        map.put(&quot;US&quot;,&quot;Vereinigte Staaten von Amerika&quot;);\r\n        map.put(&quot;GB&quot;,&quot;Vereinigtes K&#246;nigreich&quot;);\r\n        map.put(&quot;VN&quot;,&quot;Vietnam&quot;);\r\n        map.put(&quot;WF&quot;,&quot;Wallis und Futuna&quot;);\r\n        map.put(&quot;CX&quot;,&quot;Weihnachtsinsel&quot;);\r\n        map.put(&quot;EH&quot;,&quot;Westsahara&quot;);\r\n        map.put(&quot;CF&quot;,&quot;Zentralafrikanische Republik&quot;);\r\n        map.put(&quot;CY&quot;,&quot;Zypern&quot;);\r\n    }\r\n\r\n    }\r\n","title":"ISO2 country code from country name","body":"<p>For those, who need it in German:</p>\n<pre><code>package at.ciit.apf.common.util;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CountryUtil {\nprivate static Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n\nstatic {\n    initCountries();\n}\n\npublic static String getCountryFromCountryCode(String countryCode){\n    if (countryCode==null) return &quot;&quot;;\n    String result = map.get(countryCode.toUpperCase());\n    if (result==null) result = &quot;&quot;;\n    return result;\n}\n\nprivate static void initCountries() {\n    map.put(&quot;AF&quot;,&quot;Afghanistan&quot;);\n    map.put(&quot;EG&quot;,&quot;Ägypten&quot;);\n    map.put(&quot;AX&quot;,&quot;Ålandinseln&quot;);\n    map.put(&quot;AL&quot;,&quot;Albanien&quot;);\n    map.put(&quot;DZ&quot;,&quot;Algerien&quot;);\n    map.put(&quot;AS&quot;,&quot;Amerikanisch Samoa&quot;);\n    map.put(&quot;AD&quot;,&quot;Andorra&quot;);\n    map.put(&quot;AO&quot;,&quot;Angola&quot;);\n    map.put(&quot;AI&quot;,&quot;Anguilla&quot;);\n    map.put(&quot;AQ&quot;,&quot;Antarktis&quot;);\n    map.put(&quot;AG&quot;,&quot;Antigua und Barbuda&quot;);\n    map.put(&quot;GQ&quot;,&quot;Äquatorialguinea&quot;);\n    map.put(&quot;AR&quot;,&quot;Argentinien&quot;);\n    map.put(&quot;AM&quot;,&quot;Armenien&quot;);\n    map.put(&quot;AW&quot;,&quot;Aruba&quot;);\n    map.put(&quot;AZ&quot;,&quot;Aserbaidschan&quot;);\n    map.put(&quot;ET&quot;,&quot;Äthiopien&quot;);\n    map.put(&quot;AU&quot;,&quot;Australien&quot;);\n    map.put(&quot;BS&quot;,&quot;Bahamas&quot;);\n    map.put(&quot;BH&quot;,&quot;Bahrain&quot;);\n    map.put(&quot;BD&quot;,&quot;Bangladesch&quot;);\n    map.put(&quot;BB&quot;,&quot;Barbados&quot;);\n    map.put(&quot;BY&quot;,&quot;Belarus&quot;);\n    map.put(&quot;BE&quot;,&quot;Belgien&quot;);\n    map.put(&quot;BZ&quot;,&quot;Belize&quot;);\n    map.put(&quot;BJ&quot;,&quot;Benin&quot;);\n    map.put(&quot;BM&quot;,&quot;Bermuda&quot;);\n    map.put(&quot;BT&quot;,&quot;Bhutan&quot;);\n    map.put(&quot;BO&quot;,&quot;Bolivien&quot;);\n    map.put(&quot;BQ&quot;,&quot;Bonaire, Sint Eustatius und Saba&quot;);\n    map.put(&quot;BA&quot;,&quot;Bosnien und Herzegowina&quot;);\n    map.put(&quot;BW&quot;,&quot;Botswana&quot;);\n    map.put(&quot;BV&quot;,&quot;Bouvetinsel&quot;);\n    map.put(&quot;BR&quot;,&quot;Brasilien&quot;);\n    map.put(&quot;IO&quot;,&quot;Britisches Territorium im Indischen Ozean&quot;);\n    map.put(&quot;BN&quot;,&quot;Brunei&quot;);\n    map.put(&quot;BG&quot;,&quot;Bulgarien&quot;);\n    map.put(&quot;BF&quot;,&quot;Burkina Faso&quot;);\n    map.put(&quot;BI&quot;,&quot;Burundi&quot;);\n    map.put(&quot;CL&quot;,&quot;Chile&quot;);\n    map.put(&quot;CN&quot;,&quot;China&quot;);\n    map.put(&quot;CK&quot;,&quot;Cookinseln&quot;);\n    map.put(&quot;CR&quot;,&quot;Costa Rica&quot;);\n    map.put(&quot;CW&quot;,&quot;Curaçao&quot;);\n    map.put(&quot;DK&quot;,&quot;Dänemark&quot;);\n    map.put(&quot;CD&quot;,&quot;Demokratische Republik Kongo&quot;);\n    map.put(&quot;DE&quot;,&quot;Deutschland&quot;);\n    map.put(&quot;DM&quot;,&quot;Dominica&quot;);\n    map.put(&quot;DO&quot;,&quot;Dominikanische Republik&quot;);\n    map.put(&quot;DJ&quot;,&quot;Dschibuti&quot;);\n    map.put(&quot;EC&quot;,&quot;Ecuador&quot;);\n    map.put(&quot;SV&quot;,&quot;El Salvador&quot;);\n    map.put(&quot;CI&quot;,&quot;Elfenbeinküste&quot;);\n    map.put(&quot;ER&quot;,&quot;Eritrea&quot;);\n    map.put(&quot;EE&quot;,&quot;Estland&quot;);\n    map.put(&quot;SZ&quot;,&quot;Eswatini&quot;);\n    map.put(&quot;FK&quot;,&quot;Falklandinseln&quot;);\n    map.put(&quot;FO&quot;,&quot;Färöer-Inseln&quot;);\n    map.put(&quot;FJ&quot;,&quot;Fidschi&quot;);\n    map.put(&quot;FI&quot;,&quot;Finnland&quot;);\n    map.put(&quot;FR&quot;,&quot;Frankreich&quot;);\n    map.put(&quot;GF&quot;,&quot;Französisch-Guayana&quot;);\n    map.put(&quot;PF&quot;,&quot;Französisch-Polynesien&quot;);\n    map.put(&quot;TF&quot;,&quot;Französische Süd- und Antarktisgebiete&quot;);\n    map.put(&quot;GA&quot;,&quot;Gabun&quot;);\n    map.put(&quot;GM&quot;,&quot;Gambia&quot;);\n    map.put(&quot;GE&quot;,&quot;Georgien&quot;);\n    map.put(&quot;GH&quot;,&quot;Ghana&quot;);\n    map.put(&quot;GI&quot;,&quot;Gibraltar&quot;);\n    map.put(&quot;GD&quot;,&quot;Grenada&quot;);\n    map.put(&quot;GR&quot;,&quot;Griechenland&quot;);\n    map.put(&quot;GL&quot;,&quot;Grönland&quot;);\n    map.put(&quot;GP&quot;,&quot;Guadeloupe&quot;);\n    map.put(&quot;GU&quot;,&quot;Guam&quot;);\n    map.put(&quot;GT&quot;,&quot;Guatemala&quot;);\n    map.put(&quot;GG&quot;,&quot;Guernsey&quot;);\n    map.put(&quot;GN&quot;,&quot;Guinea&quot;);\n    map.put(&quot;GW&quot;,&quot;Guinea-Bissau&quot;);\n    map.put(&quot;GY&quot;,&quot;Guyana&quot;);\n    map.put(&quot;HT&quot;,&quot;Haiti&quot;);\n    map.put(&quot;HM&quot;,&quot;Heard und McDonaldinseln&quot;);\n    map.put(&quot;HN&quot;,&quot;Honduras&quot;);\n    map.put(&quot;HK&quot;,&quot;Hongkong&quot;);\n    map.put(&quot;IN&quot;,&quot;Indien&quot;);\n    map.put(&quot;ID&quot;,&quot;Indonesien&quot;);\n    map.put(&quot;IM&quot;,&quot;Insel Man&quot;);\n    map.put(&quot;IQ&quot;,&quot;Irak&quot;);\n    map.put(&quot;IR&quot;,&quot;Iran&quot;);\n    map.put(&quot;IE&quot;,&quot;Irland&quot;);\n    map.put(&quot;IS&quot;,&quot;Island&quot;);\n    map.put(&quot;IL&quot;,&quot;Israel&quot;);\n    map.put(&quot;IT&quot;,&quot;Italien&quot;);\n    map.put(&quot;JM&quot;,&quot;Jamaika&quot;);\n    map.put(&quot;JP&quot;,&quot;Japan&quot;);\n    map.put(&quot;YE&quot;,&quot;Jemen&quot;);\n    map.put(&quot;JE&quot;,&quot;Jersey&quot;);\n    map.put(&quot;JO&quot;,&quot;Jordanien&quot;);\n    map.put(&quot;VG&quot;,&quot;Jungferninseln (UK)&quot;);\n    map.put(&quot;VI&quot;,&quot;Jungferninseln (US)&quot;);\n    map.put(&quot;KY&quot;,&quot;Kaimaninseln&quot;);\n    map.put(&quot;KH&quot;,&quot;Kambodscha&quot;);\n    map.put(&quot;CM&quot;,&quot;Kamerun&quot;);\n    map.put(&quot;CA&quot;,&quot;Kanada&quot;);\n    map.put(&quot;CV&quot;,&quot;Kap Verde&quot;);\n    map.put(&quot;KZ&quot;,&quot;Kasachstan&quot;);\n    map.put(&quot;QA&quot;,&quot;Katar&quot;);\n    map.put(&quot;KE&quot;,&quot;Kenia&quot;);\n    map.put(&quot;KG&quot;,&quot;Kirgisistan&quot;);\n    map.put(&quot;KI&quot;,&quot;Kiribati&quot;);\n    map.put(&quot;CC&quot;,&quot;Kokosinseln&quot;);\n    map.put(&quot;CO&quot;,&quot;Kolumbien&quot;);\n    map.put(&quot;KM&quot;,&quot;Komoren&quot;);\n    map.put(&quot;XK&quot;,&quot;Kosovo&quot;);\n    map.put(&quot;HR&quot;,&quot;Kroatien&quot;);\n    map.put(&quot;CU&quot;,&quot;Kuba&quot;);\n    map.put(&quot;KW&quot;,&quot;Kuwait&quot;);\n    map.put(&quot;LA&quot;,&quot;Laos&quot;);\n    map.put(&quot;LS&quot;,&quot;Lesotho&quot;);\n    map.put(&quot;LV&quot;,&quot;Lettland&quot;);\n    map.put(&quot;LB&quot;,&quot;Libanon&quot;);\n    map.put(&quot;LR&quot;,&quot;Liberia&quot;);\n    map.put(&quot;LY&quot;,&quot;Libyen&quot;);\n    map.put(&quot;LI&quot;,&quot;Liechtenstein&quot;);\n    map.put(&quot;LT&quot;,&quot;Litauen&quot;);\n    map.put(&quot;LU&quot;,&quot;Luxemburg&quot;);\n    map.put(&quot;MO&quot;,&quot;Macau&quot;);\n    map.put(&quot;MG&quot;,&quot;Madagaskar&quot;);\n    map.put(&quot;MW&quot;,&quot;Malawi&quot;);\n    map.put(&quot;MY&quot;,&quot;Malaysia&quot;);\n    map.put(&quot;MV&quot;,&quot;Malediven&quot;);\n    map.put(&quot;ML&quot;,&quot;Mali&quot;);\n    map.put(&quot;MT&quot;,&quot;Malta&quot;);\n    map.put(&quot;MA&quot;,&quot;Marokko&quot;);\n    map.put(&quot;MH&quot;,&quot;Marshallinseln&quot;);\n    map.put(&quot;MQ&quot;,&quot;Martinique&quot;);\n    map.put(&quot;MR&quot;,&quot;Mauretanien&quot;);\n    map.put(&quot;MU&quot;,&quot;Mauritius&quot;);\n    map.put(&quot;YT&quot;,&quot;Mayotte&quot;);\n    map.put(&quot;MX&quot;,&quot;Mexiko&quot;);\n    map.put(&quot;FM&quot;,&quot;Mikronesien&quot;);\n    map.put(&quot;MD&quot;,&quot;Moldawien&quot;);\n    map.put(&quot;MC&quot;,&quot;Monaco&quot;);\n    map.put(&quot;MN&quot;,&quot;Mongolei&quot;);\n    map.put(&quot;ME&quot;,&quot;Montenegro&quot;);\n    map.put(&quot;MS&quot;,&quot;Montserrat&quot;);\n    map.put(&quot;MZ&quot;,&quot;Mosambik&quot;);\n    map.put(&quot;MM&quot;,&quot;Myanmar&quot;);\n    map.put(&quot;NA&quot;,&quot;Namibia&quot;);\n    map.put(&quot;NR&quot;,&quot;Nauru&quot;);\n    map.put(&quot;NP&quot;,&quot;Nepal&quot;);\n    map.put(&quot;NC&quot;,&quot;Neukaledonien&quot;);\n    map.put(&quot;NZ&quot;,&quot;Neuseeland&quot;);\n    map.put(&quot;NI&quot;,&quot;Nicaragua&quot;);\n    map.put(&quot;NL&quot;,&quot;Niederlande&quot;);\n    map.put(&quot;NE&quot;,&quot;Niger&quot;);\n    map.put(&quot;NG&quot;,&quot;Nigeria&quot;);\n    map.put(&quot;NU&quot;,&quot;Niue&quot;);\n    map.put(&quot;KP&quot;,&quot;Nordkorea&quot;);\n    map.put(&quot;MP&quot;,&quot;Nördliche Marianen&quot;);\n    map.put(&quot;MK&quot;,&quot;Nordmazedonien&quot;);\n    map.put(&quot;NF&quot;,&quot;Norfolkinsel&quot;);\n    map.put(&quot;NO&quot;,&quot;Norwegen&quot;);\n    map.put(&quot;OM&quot;,&quot;Oman&quot;);\n    map.put(&quot;AT&quot;,&quot;Österreich&quot;);\n    map.put(&quot;TL&quot;,&quot;Osttimor&quot;);\n    map.put(&quot;PK&quot;,&quot;Pakistan&quot;);\n    map.put(&quot;PS&quot;,&quot;Palästina&quot;);\n    map.put(&quot;PW&quot;,&quot;Palau&quot;);\n    map.put(&quot;PA&quot;,&quot;Panama&quot;);\n    map.put(&quot;PG&quot;,&quot;Papua-Neuguinea&quot;);\n    map.put(&quot;PY&quot;,&quot;Paraguay&quot;);\n    map.put(&quot;PE&quot;,&quot;Peru&quot;);\n    map.put(&quot;PH&quot;,&quot;Philippinen&quot;);\n    map.put(&quot;PN&quot;,&quot;Pitcairninseln&quot;);\n    map.put(&quot;PL&quot;,&quot;Polen&quot;);\n    map.put(&quot;PT&quot;,&quot;Portugal&quot;);\n    map.put(&quot;PR&quot;,&quot;Puerto Rico&quot;);\n    map.put(&quot;CG&quot;,&quot;Republik Kongo&quot;);\n    map.put(&quot;RE&quot;,&quot;Réunion&quot;);\n    map.put(&quot;RW&quot;,&quot;Ruanda&quot;);\n    map.put(&quot;RO&quot;,&quot;Rumänien&quot;);\n    map.put(&quot;RU&quot;,&quot;Russland&quot;);\n    map.put(&quot;MF&quot;,&quot;Saint Martin&quot;);\n    map.put(&quot;SB&quot;,&quot;Salomonen&quot;);\n    map.put(&quot;ZM&quot;,&quot;Sambia&quot;);\n    map.put(&quot;WS&quot;,&quot;Samoa&quot;);\n    map.put(&quot;SM&quot;,&quot;San Marino&quot;);\n    map.put(&quot;BL&quot;,&quot;Sankt Bartholomäus&quot;);\n    map.put(&quot;ST&quot;,&quot;São Tomé und Príncipe&quot;);\n    map.put(&quot;SA&quot;,&quot;Saudi-Arabien&quot;);\n    map.put(&quot;SE&quot;,&quot;Schweden&quot;);\n    map.put(&quot;CH&quot;,&quot;Schweiz&quot;);\n    map.put(&quot;SN&quot;,&quot;Senegal&quot;);\n    map.put(&quot;RS&quot;,&quot;Serbien&quot;);\n    map.put(&quot;SC&quot;,&quot;Seychellen&quot;);\n    map.put(&quot;SL&quot;,&quot;Sierra Leone&quot;);\n    map.put(&quot;ZW&quot;,&quot;Simbabwe&quot;);\n    map.put(&quot;SG&quot;,&quot;Singapur&quot;);\n    map.put(&quot;SX&quot;,&quot;Sint Maarten&quot;);\n    map.put(&quot;SK&quot;,&quot;Slowakei&quot;);\n    map.put(&quot;SI&quot;,&quot;Slowenien&quot;);\n    map.put(&quot;SO&quot;,&quot;Somalia&quot;);\n    map.put(&quot;ES&quot;,&quot;Spanien&quot;);\n    map.put(&quot;LK&quot;,&quot;Sri Lanka&quot;);\n    map.put(&quot;SH&quot;,&quot;St. Helena&quot;);\n    map.put(&quot;KN&quot;,&quot;St. Kitts und Nevis&quot;);\n    map.put(&quot;LC&quot;,&quot;St. Lucia&quot;);\n    map.put(&quot;PM&quot;,&quot;St. Pierre und Miquelon&quot;);\n    map.put(&quot;VC&quot;,&quot;St. Vincent und die Grenadinen&quot;);\n    map.put(&quot;ZA&quot;,&quot;Südafrika&quot;);\n    map.put(&quot;SD&quot;,&quot;Sudan&quot;);\n    map.put(&quot;GS&quot;,&quot;Südgeorgien und die Südlichen Sandwichinseln&quot;);\n    map.put(&quot;KR&quot;,&quot;Südkorea&quot;);\n    map.put(&quot;SS&quot;,&quot;Südsudan&quot;);\n    map.put(&quot;SR&quot;,&quot;Suriname&quot;);\n    map.put(&quot;SJ&quot;,&quot;Svalbard und Jan Mayen&quot;);\n    map.put(&quot;SY&quot;,&quot;Syrien&quot;);\n    map.put(&quot;TJ&quot;,&quot;Tadschikistan&quot;);\n    map.put(&quot;TW&quot;,&quot;Taiwan&quot;);\n    map.put(&quot;TZ&quot;,&quot;Tansania&quot;);\n    map.put(&quot;TH&quot;,&quot;Thailand&quot;);\n    map.put(&quot;TG&quot;,&quot;Togo&quot;);\n    map.put(&quot;TK&quot;,&quot;Tokelau&quot;);\n    map.put(&quot;TO&quot;,&quot;Tonga&quot;);\n    map.put(&quot;TT&quot;,&quot;Trinidad und Tobago&quot;);\n    map.put(&quot;TD&quot;,&quot;Tschad&quot;);\n    map.put(&quot;CZ&quot;,&quot;Tschechien&quot;);\n    map.put(&quot;TN&quot;,&quot;Tunesien&quot;);\n    map.put(&quot;TR&quot;,&quot;Türkei&quot;);\n    map.put(&quot;TM&quot;,&quot;Turkmenistan&quot;);\n    map.put(&quot;TC&quot;,&quot;Turks und Caicosinseln&quot;);\n    map.put(&quot;TV&quot;,&quot;Tuvalu&quot;);\n    map.put(&quot;UG&quot;,&quot;Uganda&quot;);\n    map.put(&quot;UA&quot;,&quot;Ukraine&quot;);\n    map.put(&quot;HU&quot;,&quot;Ungarn&quot;);\n    map.put(&quot;UY&quot;,&quot;Uruguay&quot;);\n    map.put(&quot;UZ&quot;,&quot;Usbekistan&quot;);\n    map.put(&quot;VU&quot;,&quot;Vanuatu&quot;);\n    map.put(&quot;VA&quot;,&quot;Vatikanstadt&quot;);\n    map.put(&quot;VE&quot;,&quot;Venezuela&quot;);\n    map.put(&quot;AE&quot;,&quot;Vereinigte Arabische Emirate&quot;);\n    map.put(&quot;US&quot;,&quot;Vereinigte Staaten von Amerika&quot;);\n    map.put(&quot;GB&quot;,&quot;Vereinigtes Königreich&quot;);\n    map.put(&quot;VN&quot;,&quot;Vietnam&quot;);\n    map.put(&quot;WF&quot;,&quot;Wallis und Futuna&quot;);\n    map.put(&quot;CX&quot;,&quot;Weihnachtsinsel&quot;);\n    map.put(&quot;EH&quot;,&quot;Westsahara&quot;);\n    map.put(&quot;CF&quot;,&quot;Zentralafrikanische Republik&quot;);\n    map.put(&quot;CY&quot;,&quot;Zypern&quot;);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316252,"reputation":1218,"user_id":632331,"display_name":"radzimir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633500192,"creation_date":1633500192,"answer_id":69460550,"question_id":14155049,"body_markdown":"This is how to create sorted map containing english country name as key and ISO2 code as value:\r\n\r\n    static Map&lt;String, String&gt; countriesMap = Arrays.stream( Locale.getISOCountries() ).collect(\r\n                Collectors.toMap( (String code)-&gt; new Locale( &quot;&quot;, code ).getDisplayCountry(Locale.ENGLISH),\r\n                        Function.identity(),(o1, o2) -&gt; o1, TreeMap::new ));\r\n\r\nYou can initiate it as statc fieled to avoid recalculation for every use.","title":"ISO2 country code from country name","body":"<p>This is how to create sorted map containing english country name as key and ISO2 code as value:</p>\n<pre><code>static Map&lt;String, String&gt; countriesMap = Arrays.stream( Locale.getISOCountries() ).collect(\n            Collectors.toMap( (String code)-&gt; new Locale( &quot;&quot;, code ).getDisplayCountry(Locale.ENGLISH),\n                    Function.identity(),(o1, o2) -&gt; o1, TreeMap::new ));\n</code></pre>\n<p>You can initiate it as statc fieled to avoid recalculation for every use.</p>\n"},{"tags":[],"owner":{"account_id":342834,"reputation":98,"user_id":674192,"display_name":"CastMart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688769300,"creation_date":1688769300,"answer_id":76640547,"question_id":14155049,"body_markdown":"You can use [JCountry][1] which is an open source library containing the ISO 3166-1 codes, and it&#39;s corresponding country name translations to different languages. It is a wrapper for the debian iso-codes info. It also contains the iso codes for languages (iso 639-2) and the corresponding language name translations.\r\n\r\nBasically you can get a hash map of &lt;&quot;country Name&quot; to &quot;country info&quot;&gt; and look for it.\r\n\r\nYou can do it the other way around, by looking for a country info by using the alpha2 or alpha3 code. This library also has translations to country names but de default is english (also for the map suggested before).\r\n\r\nHere is the repo in case you want to dig more: https://github.com/castmart/jcountry\r\n        \r\n    JCountry jcountry = JCountry.getInstance();\r\n    CountryDB countryDB = jcountry.getCountriesDB();\r\n    // Get the countries DB hash maps &lt;String, Country&gt;\r\n    var dbByAlpha2 = countryDB.getCountriesMapByAlpha2();\r\n    var dbByAlpha3 = countryDB.getCountriesMapByAlpha3();\r\n    var dbByName = countryDB.getCountriesMapByName();\r\n    \r\n    // Get Translations by language based locale \r\n    Optional&lt;ResourceBundle&gt; bundle = countryDB.getCountriesTranslations(Locale.GERMAN);\r\n    \r\n    // MX -&gt; Mexiko\r\n    var translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;MX&quot;).getName());\r\n\r\n    // Languages DB\r\n    LanguageDB languageDB = new LanguageDBImpl(true);\r\n    var dbByAlpha2 = languageDB.getLanguagesMapByAlpha2();\r\n\r\n    // Get Translations by language based locale \r\n    Optional&lt;ResourceBundle&gt; bundle = languageDB.getLanguagesTranslations(Locale.GERMAN);\r\n    \r\n    // Spanisch (Kastilisch)\r\n    var translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;es&quot;).getName());\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/io.github.castmart/jcountry/0.0.2/overview","title":"ISO2 country code from country name","body":"<p>You can use <a href=\"https://central.sonatype.com/artifact/io.github.castmart/jcountry/0.0.2/overview\" rel=\"nofollow noreferrer\">JCountry</a> which is an open source library containing the ISO 3166-1 codes, and it's corresponding country name translations to different languages. It is a wrapper for the debian iso-codes info. It also contains the iso codes for languages (iso 639-2) and the corresponding language name translations.</p>\n<p>Basically you can get a hash map of &lt;&quot;country Name&quot; to &quot;country info&quot;&gt; and look for it.</p>\n<p>You can do it the other way around, by looking for a country info by using the alpha2 or alpha3 code. This library also has translations to country names but de default is english (also for the map suggested before).</p>\n<p>Here is the repo in case you want to dig more: <a href=\"https://github.com/castmart/jcountry\" rel=\"nofollow noreferrer\">https://github.com/castmart/jcountry</a></p>\n<pre><code>JCountry jcountry = JCountry.getInstance();\nCountryDB countryDB = jcountry.getCountriesDB();\n// Get the countries DB hash maps &lt;String, Country&gt;\nvar dbByAlpha2 = countryDB.getCountriesMapByAlpha2();\nvar dbByAlpha3 = countryDB.getCountriesMapByAlpha3();\nvar dbByName = countryDB.getCountriesMapByName();\n\n// Get Translations by language based locale \nOptional&lt;ResourceBundle&gt; bundle = countryDB.getCountriesTranslations(Locale.GERMAN);\n\n// MX -&gt; Mexiko\nvar translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;MX&quot;).getName());\n\n// Languages DB\nLanguageDB languageDB = new LanguageDBImpl(true);\nvar dbByAlpha2 = languageDB.getLanguagesMapByAlpha2();\n\n// Get Translations by language based locale \nOptional&lt;ResourceBundle&gt; bundle = languageDB.getLanguagesTranslations(Locale.GERMAN);\n\n// Spanisch (Kastilisch)\nvar translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;es&quot;).getName());\n</code></pre>\n"}],"owner":{"account_id":1080151,"reputation":1326,"user_id":1077350,"accept_rate":60,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91508,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"answer_count":12,"score":53,"last_activity_date":1688769300,"creation_date":1357294209,"question_id":14155049,"body_markdown":"Is there an easy way in Java to get the ISO2 code from a given country name, for example &quot;CH&quot; when given &quot;Switzerland&quot;?\r\n\r\nThe only solution I can think of at the moment is to save all the country codes and names in an array and iterate over it. Any other (easier) solutions?","title":"ISO2 country code from country name","body":"<p>Is there an easy way in Java to get the ISO2 code from a given country name, for example \"CH\" when given \"Switzerland\"?</p>\n\n<p>The only solution I can think of at the moment is to save all the country codes and names in an array and iterate over it. Any other (easier) solutions?</p>\n"},{"tags":["java","selenium-webdriver","xpath","webdriverwait","browser-automation"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1688682638,"post_id":76632666,"comment_id":135110633,"body_markdown":"It&#39;s generally a bad idea to tell us that the problem is urgent. We&#39;re more likely to help you if we think you&#39;re going to take the time to study our response and understand it properly before you rush it into production. It&#39;s also inadvisable to ask people to write code for you. We&#39;re here to answer your questions, not to do your job.","body":"It&#39;s generally a bad idea to tell us that the problem is urgent. We&#39;re more likely to help you if we think you&#39;re going to take the time to study our response and understand it properly before you rush it into production. It&#39;s also inadvisable to ask people to write code for you. We&#39;re here to answer your questions, not to do your job."},{"owner":{"account_id":28907903,"reputation":1,"user_id":22141574,"display_name":"Robin Hossain"},"score":0,"creation_date":1688683026,"post_id":76632666,"comment_id":135110665,"body_markdown":"Sorry that I forgot to mention about this that I have been struggling with this for 3 straight days, now I&#39;m out of option this is why I&#39;m seeking help in here, but looks like many of you come up with advises than help, and I never asked someone to do my job in here, but writing xpath for this would make my things clearer.","body":"Sorry that I forgot to mention about this that I have been struggling with this for 3 straight days, now I&#39;m out of option this is why I&#39;m seeking help in here, but looks like many of you come up with advises than help, and I never asked someone to do my job in here, but writing xpath for this would make my things clearer."}],"answers":[{"comments":[{"owner":{"account_id":28907903,"reputation":1,"user_id":22141574,"display_name":"Robin Hossain"},"score":0,"creation_date":1688682646,"post_id":76632832,"comment_id":135110634,"body_markdown":"Thank you for the suggestion but its still not working","body":"Thank you for the suggestion but its still not working"}],"tags":[],"owner":{"account_id":18264024,"reputation":50,"user_id":13296195,"display_name":"Frangu Mădălin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688681832,"creation_date":1688681832,"answer_id":76632832,"question_id":76632666,"body_markdown":"You can use chrome developer tools to get the xpath\r\nRight click website, inspect element, use the little arrow in the left corner of the developer tools windows to click on the element you want to find out the xpath for.\r\n\r\nNow right click the html tag in the dev tools and under copy you have the option to copy the xpath.\r\nIn this case I was able to get \r\n//*[@id=&quot;responsive_page_template_content&quot;]/div/div/div/div[1]/div/div[3]/div[6]/div\r\n\r\nHope this helps\r\n\r\n","title":"How to identify and click on dynamic elements using Selenium and Java","body":"<p>You can use chrome developer tools to get the xpath\nRight click website, inspect element, use the little arrow in the left corner of the developer tools windows to click on the element you want to find out the xpath for.</p>\n<p>Now right click the html tag in the dev tools and under copy you have the option to copy the xpath.\nIn this case I was able to get\n//*[@id=&quot;responsive_page_template_content&quot;]/div/div/div/div[1]/div/div[3]/div[6]/div</p>\n<p>Hope this helps</p>\n"},{"comments":[{"owner":{"account_id":28907903,"reputation":1,"user_id":22141574,"display_name":"Robin Hossain"},"score":1,"creation_date":1688768101,"post_id":76640460,"comment_id":135122949,"body_markdown":"Hey! Thank you very much! it solved my problem!","body":"Hey! Thank you very much! it solved my problem!"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1688768773,"post_id":76640460,"comment_id":135123005,"body_markdown":"@RobinHossain Glad to be able to help you. [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"@RobinHossain Glad to be able to help you. <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688767500,"creation_date":1688767500,"answer_id":76640460,"question_id":76632666,"body_markdown":"The element is a dynamic element. So to click on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _xpath_ and `normalize-space()`:\r\n\r\n\t  driver.get(&quot;https://store.steampowered.com/news/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(new By.ByXPath(&quot;//div[normalize-space()=&#39;Options and Filters&#39;]&quot;))).click();\r\n           \t\r\n- Using _xpath_ and `contains()`:\r\n\r\n\t  driver.get(&quot;https://store.steampowered.com/news/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(new By.ByXPath(&quot;//div[starts-with(@class, &#39;eventcalendar_FilterSettings&#39;)]//div[contains(., &#39;Options and Filters&#39;)]&quot;))).click();\r\n\t  \r\n- Browser snapshot:\r\n\r\n![steampowered](https://i.stack.imgur.com/Af9Yb.png)\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nReference\r\n---------\r\nYou can find a detailed discussion on [NoSuchElementException](https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233) in:\r\n\r\n- [NoSuchElementException, Selenium unable to locate element](https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940)","title":"How to identify and click on dynamic elements using Selenium and Java","body":"<p>The element is a dynamic element. So to click on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <code>normalize-space()</code>:</p>\n<pre><code>driver.get(&quot;https://store.steampowered.com/news/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(new By.ByXPath(&quot;//div[normalize-space()='Options and Filters']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>contains()</code>:</p>\n<pre><code>driver.get(&quot;https://store.steampowered.com/news/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(new By.ByXPath(&quot;//div[starts-with(@class, 'eventcalendar_FilterSettings')]//div[contains(., 'Options and Filters')]&quot;))).click();\n</code></pre>\n</li>\n<li><p>Browser snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/Af9Yb.png\" alt=\"steampowered\" /></p>\n<hr />\n<h2>Reference</h2>\n<p>You can find a detailed discussion on <a href=\"https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233\">NoSuchElementException</a> in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940\">NoSuchElementException, Selenium unable to locate element</a></li>\n</ul>\n"}],"owner":{"account_id":28907903,"reputation":1,"user_id":22141574,"display_name":"Robin Hossain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688769117,"creation_date":1688679476,"question_id":76632666,"body_markdown":"I&#39;ve tried several xpaths but non could be used to pass my test. I&#39;m a new comer in the automation world and I&#39;m struggling with this particular problem.\r\n\r\nI&#39;m trying to locate the element with text *OPTIONS AND FILTERS*. If you check this website https://store.steampowered.com/news/ you&#39;ll find a side bar and underneath you&#39;ll see the *OPTIONS AND FILTERS* button which I need to click and untick all the options from *SHOW THESE TYPES OF POSTS* maybe I can do the unticks but before that I need to locate the *OPTION AND FILTERS* button and click which I&#39;m not being able to. I&#39;m getting\r\n```\r\norg.openqa.selenium.NoSuchElementException:no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;(//div[normalize-space()=&#39;Your Upcoming Events&#39;])[1]&quot;}\r\n  (Session info: chrome=114.0.5735.199)\r\n```\r\n\r\nAlso I&#39;ve tried explicit waits but no expected result.\r\n\r\nI tried many xpaths but couldn&#39;t find one which could deliver the right action, as in click the *OPTIONS AND FILTERS* button.\r\n\r\nFrom the problem I&#39;m facing, I can understand that I need to use Axes xpath but I&#39;m not being able to locate them there are too many elements.","title":"How to identify and click on dynamic elements using Selenium and Java","body":"<p>I've tried several xpaths but non could be used to pass my test. I'm a new comer in the automation world and I'm struggling with this particular problem.</p>\n<p>I'm trying to locate the element with text <em>OPTIONS AND FILTERS</em>. If you check this website <a href=\"https://store.steampowered.com/news/\" rel=\"nofollow noreferrer\">https://store.steampowered.com/news/</a> you'll find a side bar and underneath you'll see the <em>OPTIONS AND FILTERS</em> button which I need to click and untick all the options from <em>SHOW THESE TYPES OF POSTS</em> maybe I can do the unticks but before that I need to locate the <em>OPTION AND FILTERS</em> button and click which I'm not being able to. I'm getting</p>\n<pre><code>org.openqa.selenium.NoSuchElementException:no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;(//div[normalize-space()='Your Upcoming Events'])[1]&quot;}\n  (Session info: chrome=114.0.5735.199)\n</code></pre>\n<p>Also I've tried explicit waits but no expected result.</p>\n<p>I tried many xpaths but couldn't find one which could deliver the right action, as in click the <em>OPTIONS AND FILTERS</em> button.</p>\n<p>From the problem I'm facing, I can understand that I need to use Axes xpath but I'm not being able to locate them there are too many elements.</p>\n"},{"tags":["java","internationalization","country-codes","iso-3166"],"comments":[{"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"score":4,"creation_date":1364230281,"post_id":139867,"comment_id":22156738,"body_markdown":"Note that ISO 3166-1-alpha-2 for Great Britain is GB not UK as in your question.","body":"Note that ISO 3166-1-alpha-2 for Great Britain is GB not UK as in your question."},{"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"score":1,"creation_date":1423735543,"post_id":139867,"comment_id":45272602,"body_markdown":"@Ken yes you can but then you have to maintain that list and keep it in sync with wikipedia. The problem grows...","body":"@Ken yes you can but then you have to maintain that list and keep it in sync with wikipedia. The problem grows..."}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":10,"creation_date":1266602944,"post_id":140235,"comment_id":2263634,"body_markdown":"This information is hardcoded. You would need to update JRE regulary to keep updated :)","body":"This information is hardcoded. You would need to update JRE regulary to keep updated :)"},{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":1,"creation_date":1330448652,"post_id":140235,"comment_id":12007400,"body_markdown":"In Java 7 there are 247 countries, still less than in the official standard (which is 249).","body":"In Java 7 there are 247 countries, still less than in the official standard (which is 249)."},{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":3,"creation_date":1330448972,"post_id":140235,"comment_id":12007545,"body_markdown":"The ones missing are: SOUTH SUDAN (SS) and SINT MAARTEN (DUTCH PART) (SX)","body":"The ones missing are: SOUTH SUDAN (SS) and SINT MAARTEN (DUTCH PART) (SX)"},{"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"score":0,"creation_date":1357747205,"post_id":140235,"comment_id":19758414,"body_markdown":"`Java 1.6.0_33-b05` includes 248, only missing out `SS` now. This is simply because `SS` is the most recent (2011) country to be added and Java 6 source has not been updated.","body":"<code>Java 1.6.0_33-b05</code> includes 248, only missing out <code>SS</code> now. This is simply because <code>SS</code> is the most recent (2011) country to be added and Java 6 source has not been updated."},{"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"score":1,"creation_date":1406036621,"post_id":140235,"comment_id":38661194,"body_markdown":"The OP is asking for &quot;a freely available java 1.5 package&quot;: how an answer requesting Java6 or Java7 applies to that? Downvoted.","body":"The OP is asking for &quot;a freely available java 1.5 package&quot;: how an answer requesting Java6 or Java7 applies to that? Downvoted."},{"owner":{"account_id":7494789,"reputation":698,"user_id":5695421,"accept_rate":25,"display_name":"dk7"},"score":0,"creation_date":1517149214,"post_id":140235,"comment_id":83967464,"body_markdown":"On java version: **1.8.0_152** there are 250 country codes available","body":"On java version: <b>1.8.0_152</b> there are 250 country codes available"},{"owner":{"account_id":12011776,"reputation":1185,"user_id":8788182,"display_name":"sigma1510"},"score":0,"creation_date":1636039767,"post_id":140235,"comment_id":123456467,"body_markdown":"Note that if you are planning on using the display names of this library, they are not all up to ISO3166 standard: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072","body":"Note that if you are planning on using the display names of this library, they are not all up to ISO3166 standard: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072</a>"}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":7,"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1330447213,"creation_date":1222443041,"answer_id":140235,"question_id":139867,"body_markdown":"This code gets 242 countries in Sun Java 6:\r\n\r\n    String[] countryCodes = Locale.getISOCountries();\r\n\r\nThough [the ISO website][1] claims there are 249 *ISO 3166-1-alpha-2 code elements*, though the [javadoc][2] links to the same information.\r\n\r\n\r\n  [1]: http://www.iso.org/iso/country_codes/iso_3166_code_lists/country_names_and_code_elements.htm\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Locale.html","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>This code gets 242 countries in Sun Java 6:</p>\n\n<pre><code>String[] countryCodes = Locale.getISOCountries();\n</code></pre>\n\n<p>Though <a href=\"http://www.iso.org/iso/country_codes/iso_3166_code_lists/country_names_and_code_elements.htm\" rel=\"noreferrer\">the ISO website</a> claims there are 249 <em>ISO 3166-1-alpha-2 code elements</em>, though the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Locale.html\" rel=\"noreferrer\">javadoc</a> links to the same information.</p>\n"},{"comments":[{"owner":{"account_id":13614,"reputation":11325,"user_id":27478,"accept_rate":74,"display_name":"gerdemb"},"score":0,"creation_date":1273669498,"post_id":2298525,"comment_id":2858593,"body_markdown":"This gives you a list of languages, not countries.","body":"This gives you a list of languages, not countries."}],"tags":[],"owner":{"account_id":594466,"reputation":49,"user_id":277209,"display_name":"Christophe Desguez"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1266602471,"creation_date":1266602471,"answer_id":2298525,"question_id":139867,"body_markdown":"There is an easy way to generate this enum with the language name.\r\nExecute this code to generate the list of enum fields to paste :\r\n\r\n     /**\r\n      * This is the code used to generate the enum content\r\n      */\r\n     public static void main(String[] args) {\r\n      String[] codes = java.util.Locale.getISOLanguages();\r\n      for (String isoCode: codes) {\r\n       Locale locale = new Locale(isoCode);\r\n       System.out.println(isoCode.toUpperCase() + &quot;(\\&quot;&quot; + locale.getDisplayLanguage(locale) + &quot;\\&quot;),&quot;);\r\n      }\r\n     }\r\n\r\n","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>There is an easy way to generate this enum with the language name.\nExecute this code to generate the list of enum fields to paste :</p>\n\n<pre><code> /**\n  * This is the code used to generate the enum content\n  */\n public static void main(String[] args) {\n  String[] codes = java.util.Locale.getISOLanguages();\n  for (String isoCode: codes) {\n   Locale locale = new Locale(isoCode);\n   System.out.println(isoCode.toUpperCase() + \"(\\\"\" + locale.getDisplayLanguage(locale) + \"\\\"),\");\n  }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1324296905,"post_id":3782185,"comment_id":10611211,"body_markdown":"added one line in print to enable intellitxt","body":"added one line in print to enable intellitxt"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1444749210,"post_id":3782185,"comment_id":54027447,"body_markdown":"@David it generates the body of an enum","body":"@David it generates the body of an enum"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":1,"creation_date":1481187791,"post_id":3782185,"comment_id":69278149,"body_markdown":"Nice generation code, but you need to remove the special characters. For example C&#212;TE_D&#39;IVOIRE cannot be used as an enum :P.","body":"Nice generation code, but you need to remove the special characters. For example C&#212;TE_D&#39;IVOIRE cannot be used as an enum :P."},{"owner":{"account_id":12011776,"reputation":1185,"user_id":8788182,"display_name":"sigma1510"},"score":0,"creation_date":1636039861,"post_id":3782185,"comment_id":123456507,"body_markdown":"Note that the names of this library are not up to ISO3166 standard: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072","body":"Note that the names of this library are not up to ISO3166 standard: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072</a>"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":4,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1324296887,"creation_date":1285272707,"answer_id":3782185,"question_id":139867,"body_markdown":"Here&#39;s how I generated an enum with country code + country name:\r\n\r\n\r\n    package countryenum;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class CountryEnumGenerator {\r\n        public static void main(String[] args) {\r\n            String[] countryCodes = Locale.getISOCountries();\r\n            List&lt;Country&gt; list = new ArrayList&lt;Country&gt;(countryCodes.length);\r\n    \r\n            for (String cc : countryCodes) {\r\n                list.add(new Country(cc.toUpperCase(), new Locale(&quot;&quot;, cc).getDisplayCountry()));\r\n            }\r\n    \r\n            Collections.sort(list);\r\n    \r\n            for (Country c : list) {\r\n                System.out.println(&quot;/**&quot; + c.getName() + &quot;*/&quot;);\r\n                System.out.println(c.getCode() + &quot;(\\&quot;&quot; + c.getName() + &quot;\\&quot;),&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n    class Country implements Comparable&lt;Country&gt; {\r\n        private String code;\r\n        private String name;\r\n    \r\n        public Country(String code, String name) {\r\n            super();\r\n            this.code = code;\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int compareTo(Country o) {\r\n            return this.name.compareTo(o.name);\r\n        }\r\n    }","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>Here's how I generated an enum with country code + country name:</p>\n\n<pre><code>package countryenum;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class CountryEnumGenerator {\n    public static void main(String[] args) {\n        String[] countryCodes = Locale.getISOCountries();\n        List&lt;Country&gt; list = new ArrayList&lt;Country&gt;(countryCodes.length);\n\n        for (String cc : countryCodes) {\n            list.add(new Country(cc.toUpperCase(), new Locale(\"\", cc).getDisplayCountry()));\n        }\n\n        Collections.sort(list);\n\n        for (Country c : list) {\n            System.out.println(\"/**\" + c.getName() + \"*/\");\n            System.out.println(c.getCode() + \"(\\\"\" + c.getName() + \"\\\"),\");\n        }\n\n    }\n}\n\nclass Country implements Comparable&lt;Country&gt; {\n    private String code;\n    private String name;\n\n    public Country(String code, String name) {\n        super();\n        this.code = code;\n        this.name = name;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n\n    public String getName() {\n        return name;\n    }\n\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n    @Override\n    public int compareTo(Country o) {\n        return this.name.compareTo(o.name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1001067,"reputation":1000,"user_id":1015901,"accept_rate":75,"display_name":"bruno.braga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322192513,"creation_date":1322192513,"answer_id":8264635,"question_id":139867,"body_markdown":"This still does not answer the question. I was also looking for a kind of enumerator for this, and did not find anything. Some examples using hashtable here, but represent the same as the built-in get\r\n\r\nI would go for a different approach. So I created a script in python to automatically generate the list in Java:\r\n\r\n    #!/usr/bin/python\r\n    f = open(&quot;data.txt&quot;, &#39;r&#39;)\r\n    data = []\r\n    cc = {}\r\n\r\n    for l in f:\r\n        t = l.split(&#39;\\t&#39;)\r\n        cc = { &#39;code&#39;: str(t[0]).strip(), \r\n               &#39;name&#39;: str(t[1]).strip()\r\n        }\r\n        data.append(cc)\r\n    f.close()\r\n\r\n    for c in data:\r\n        print &quot;&quot;&quot;\r\n    /**\r\n     * Defines the &lt;a href=&quot;http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2&quot;&gt;ISO_3166-1_alpha-2&lt;/a&gt; \r\n     * for &lt;b&gt;&lt;i&gt;%(name)s&lt;/i&gt;&lt;/b&gt;.\r\n     * &lt;p&gt;\r\n     * This constant holds the value of &lt;b&gt;{@value}&lt;/b&gt;.\r\n     *\r\n     * @since 1.0\r\n     *\r\n     */\r\n     public static final String %(code)s = \\&quot;%(code)s\\&quot;;&quot;&quot;&quot; % c\r\n\r\n\r\nwhere the data.txt file is a simple copy&amp;paste from Wikipedia table (just remove all extra lines, making sure you have a country code and country name per line).\r\n\r\nThen just place this into your static class:\r\n\r\n\t/**\r\n\t * Holds &lt;a href=&quot;http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2&quot;&gt;ISO_3166-1_alpha-2&lt;/a&gt;\r\n\t * constant values for all countries. \r\n\t * \r\n\t * @since 1.0\r\n\t * \r\n\t * &lt;/p&gt;\r\n\t */\r\n    public class CountryCode {\r\n\r\n        /**\r\n         * Constructor defined as &lt;code&gt;private&lt;/code&gt; purposefully to ensure this \r\n         * class is only used to access its static properties and/or methods.  \r\n         */\r\n        private CountryCode() { }\r\n\r\n\t    /**\r\n\t     * Defines the &lt;a href=&quot;http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2&quot;&gt;ISO_3166-1_alpha-2&lt;/a&gt; \r\n\t     * for &lt;b&gt;&lt;i&gt;Andorra&lt;/i&gt;&lt;/b&gt;.\r\n\t     * &lt;p&gt;\r\n\t     * This constant holds the value of &lt;b&gt;{@value}&lt;/b&gt;.\r\n\t     *\r\n\t     * @since 1.0\r\n\t     *\r\n\t     */\r\n\t     public static final String AD = &quot;AD&quot;;\r\n\r\n             //\r\n             // and the list goes on! ...\r\n             //\r\n    }\r\n        ","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>This still does not answer the question. I was also looking for a kind of enumerator for this, and did not find anything. Some examples using hashtable here, but represent the same as the built-in get</p>\n\n<p>I would go for a different approach. So I created a script in python to automatically generate the list in Java:</p>\n\n<pre><code>#!/usr/bin/python\nf = open(\"data.txt\", 'r')\ndata = []\ncc = {}\n\nfor l in f:\n    t = l.split('\\t')\n    cc = { 'code': str(t[0]).strip(), \n           'name': str(t[1]).strip()\n    }\n    data.append(cc)\nf.close()\n\nfor c in data:\n    print \"\"\"\n/**\n * Defines the &lt;a href=\"http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\"&gt;ISO_3166-1_alpha-2&lt;/a&gt; \n * for &lt;b&gt;&lt;i&gt;%(name)s&lt;/i&gt;&lt;/b&gt;.\n * &lt;p&gt;\n * This constant holds the value of &lt;b&gt;{@value}&lt;/b&gt;.\n *\n * @since 1.0\n *\n */\n public static final String %(code)s = \\\"%(code)s\\\";\"\"\" % c\n</code></pre>\n\n<p>where the data.txt file is a simple copy&amp;paste from Wikipedia table (just remove all extra lines, making sure you have a country code and country name per line).</p>\n\n<p>Then just place this into your static class:</p>\n\n<pre><code>/**\n * Holds &lt;a href=\"http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\"&gt;ISO_3166-1_alpha-2&lt;/a&gt;\n * constant values for all countries. \n * \n * @since 1.0\n * \n * &lt;/p&gt;\n */\npublic class CountryCode {\n\n    /**\n     * Constructor defined as &lt;code&gt;private&lt;/code&gt; purposefully to ensure this \n     * class is only used to access its static properties and/or methods.  \n     */\n    private CountryCode() { }\n\n    /**\n     * Defines the &lt;a href=\"http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\"&gt;ISO_3166-1_alpha-2&lt;/a&gt; \n     * for &lt;b&gt;&lt;i&gt;Andorra&lt;/i&gt;&lt;/b&gt;.\n     * &lt;p&gt;\n     * This constant holds the value of &lt;b&gt;{@value}&lt;/b&gt;.\n     *\n     * @since 1.0\n     *\n     */\n     public static final String AD = \"AD\";\n\n         //\n         // and the list goes on! ...\n         //\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"score":0,"creation_date":1345569774,"post_id":11084479,"comment_id":16105491,"body_markdown":"Hi Takahiko thanks for that! I just added three missing countries, sorry I was in a hurry and I just forked the repo, you&#39;ll find the updates here:\nhttps://github.com/bbossola/CountryCode","body":"Hi Takahiko thanks for that! I just added three missing countries, sorry I was in a hurry and I just forked the repo, you&#39;ll find the updates here: <a href=\"https://github.com/bbossola/CountryCode\" rel=\"nofollow noreferrer\">github.com/bbossola/CountryCode</a>"},{"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"score":0,"creation_date":1345714542,"post_id":11084479,"comment_id":16152152,"body_markdown":"Hi Bruno! Thank you for finding the missing entries (AL, AN and GN). I referred to your forked repository and manually copied them to my repository. Thank you!","body":"Hi Bruno! Thank you for finding the missing entries (AL, AN and GN). I referred to your forked repository and manually copied them to my repository. Thank you!"},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":1,"creation_date":1504766129,"post_id":11084479,"comment_id":79140348,"body_markdown":"In case you are doing banking stuff, there is an Apache-2-licensed library called &quot;[iban4j](https://github.com/arturmkrtchyan/iban4j/)&quot; (namespace `org.iban4j`) to handle IBAN and BIC codes and it also has a CountryCode enum: [CountryCode](https://github.com/arturmkrtchyan/iban4j/blob/master/src/main/java/org/iban4j/CountryCode.java)","body":"In case you are doing banking stuff, there is an Apache-2-licensed library called &quot;<a href=\"https://github.com/arturmkrtchyan/iban4j/\" rel=\"nofollow noreferrer\">iban4j</a>&quot; (namespace <code>org.iban4j</code>) to handle IBAN and BIC codes and it also has a CountryCode enum: <a href=\"https://github.com/arturmkrtchyan/iban4j/blob/master/src/main/java/org/iban4j/CountryCode.java\" rel=\"nofollow noreferrer\">CountryCode</a>"}],"tags":[],"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"comment_count":3,"down_vote_count":0,"up_vote_count":126,"is_accepted":false,"score":126,"last_activity_date":1644576678,"creation_date":1340028016,"answer_id":11084479,"question_id":139867,"body_markdown":"Now an implementation of country code ([ISO 3166-1](http://en.wikipedia.org/wiki/ISO_3166-1) [alpha-2](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)/[alpha-3](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-3)/[numeric](http://en.wikipedia.org/wiki/ISO_3166-1_numeric)) list as Java enum is available at GitHub under Apache License version 2.0.\r\n\r\n**Example:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    CountryCode cc = CountryCode.getByCode(&quot;JP&quot;);\r\n    \r\n    System.out.println(&quot;Country name = &quot; + cc.getName());                // &quot;Japan&quot;\r\n    System.out.println(&quot;ISO 3166-1 alpha-2 code = &quot; + cc.getAlpha2());   // &quot;JP&quot;\r\n    System.out.println(&quot;ISO 3166-1 alpha-3 code = &quot; + cc.getAlpha3());   // &quot;JPN&quot;\r\n    System.out.println(&quot;ISO 3166-1 numeric code = &quot; + cc.getNumeric());  // 392\r\n\r\n\r\n\r\n----------\r\n**Last Edit** 2016-Jun-09\r\n\r\nCountryCode enum was packaged into com.neovisionaries.i18n with other Java enums, LanguageCode ([ISO 639-1](http://en.wikipedia.org/wiki/ISO_639-1)), LanguageAlpha3Code ([ISO 639-2](http://en.wikipedia.org/wiki/ISO_639-2)), LocaleCode, ScriptCode ([ISO 15924](http://en.wikipedia.org/wiki/ISO_15924)) and CurrencyCode ([ISO 4217](http://en.wikipedia.org/wiki/ISO_4217)) and registered into the Maven Central Repository.\r\n\r\n**Maven**\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.neovisionaries&lt;/groupId&gt;\r\n      &lt;artifactId&gt;nv-i18n&lt;/artifactId&gt;\r\n      &lt;version&gt;1.29&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**Gradle**\r\n\r\n    dependencies {\r\n      compile &#39;com.neovisionaries:nv-i18n:1.29&#39;\r\n    }\r\n\r\n\r\n**GitHub**\r\n\r\nhttps://github.com/TakahikoKawasaki/nv-i18n\r\n\r\n\r\n**Javadoc**\r\n\r\nhttps://takahikokawasaki.github.io/nv-i18n/\r\n\r\n**OSGi**\r\n\r\n    Bundle-SymbolicName: com.neovisionaries.i18n\r\n    Export-Package: com.neovisionaries.i18n;version=&quot;1.28.0&quot;\r\n","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>Now an implementation of country code (<a href=\"http://en.wikipedia.org/wiki/ISO_3166-1\" rel=\"noreferrer\">ISO 3166-1</a> <a href=\"http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\" rel=\"noreferrer\">alpha-2</a>/<a href=\"http://en.wikipedia.org/wiki/ISO_3166-1_alpha-3\" rel=\"noreferrer\">alpha-3</a>/<a href=\"http://en.wikipedia.org/wiki/ISO_3166-1_numeric\" rel=\"noreferrer\">numeric</a>) list as Java enum is available at GitHub under Apache License version 2.0.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>CountryCode cc = CountryCode.getByCode(&quot;JP&quot;);\n\nSystem.out.println(&quot;Country name = &quot; + cc.getName());                // &quot;Japan&quot;\nSystem.out.println(&quot;ISO 3166-1 alpha-2 code = &quot; + cc.getAlpha2());   // &quot;JP&quot;\nSystem.out.println(&quot;ISO 3166-1 alpha-3 code = &quot; + cc.getAlpha3());   // &quot;JPN&quot;\nSystem.out.println(&quot;ISO 3166-1 numeric code = &quot; + cc.getNumeric());  // 392\n</code></pre>\n<hr />\n<p><strong>Last Edit</strong> 2016-Jun-09</p>\n<p>CountryCode enum was packaged into com.neovisionaries.i18n with other Java enums, LanguageCode (<a href=\"http://en.wikipedia.org/wiki/ISO_639-1\" rel=\"noreferrer\">ISO 639-1</a>), LanguageAlpha3Code (<a href=\"http://en.wikipedia.org/wiki/ISO_639-2\" rel=\"noreferrer\">ISO 639-2</a>), LocaleCode, ScriptCode (<a href=\"http://en.wikipedia.org/wiki/ISO_15924\" rel=\"noreferrer\">ISO 15924</a>) and CurrencyCode (<a href=\"http://en.wikipedia.org/wiki/ISO_4217\" rel=\"noreferrer\">ISO 4217</a>) and registered into the Maven Central Repository.</p>\n<p><strong>Maven</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.neovisionaries&lt;/groupId&gt;\n  &lt;artifactId&gt;nv-i18n&lt;/artifactId&gt;\n  &lt;version&gt;1.29&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Gradle</strong></p>\n<pre><code>dependencies {\n  compile 'com.neovisionaries:nv-i18n:1.29'\n}\n</code></pre>\n<p><strong>GitHub</strong></p>\n<p><a href=\"https://github.com/TakahikoKawasaki/nv-i18n\" rel=\"noreferrer\">https://github.com/TakahikoKawasaki/nv-i18n</a></p>\n<p><strong>Javadoc</strong></p>\n<p><a href=\"https://takahikokawasaki.github.io/nv-i18n/\" rel=\"noreferrer\">https://takahikokawasaki.github.io/nv-i18n/</a></p>\n<p><strong>OSGi</strong></p>\n<pre><code>Bundle-SymbolicName: com.neovisionaries.i18n\nExport-Package: com.neovisionaries.i18n;version=&quot;1.28.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1381218984,"creation_date":1381218984,"answer_id":19242155,"question_id":139867,"body_markdown":"I didn&#39;t know about this question till I had just recently open-sourced my Java enum for exactly this purpose! Amazing coincidence!\r\n\r\nI put the whole source code on my blog with BSD caluse 3 license so I don&#39;t think anyone would have any beefs about it.\r\n\r\nCan be found here.\r\nhttps://subversivebytes.wordpress.com/2013/10/07/java-iso-3166-java-enum/\r\n\r\nHope it is useful and eases development pains.\r\n","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>I didn't know about this question till I had just recently open-sourced my Java enum for exactly this purpose! Amazing coincidence!</p>\n\n<p>I put the whole source code on my blog with BSD caluse 3 license so I don't think anyone would have any beefs about it.</p>\n\n<p>Can be found here.\n<a href=\"https://subversivebytes.wordpress.com/2013/10/07/java-iso-3166-java-enum/\" rel=\"nofollow\">https://subversivebytes.wordpress.com/2013/10/07/java-iso-3166-java-enum/</a></p>\n\n<p>Hope it is useful and eases development pains.</p>\n"},{"comments":[{"owner":{"account_id":12011776,"reputation":1185,"user_id":8788182,"display_name":"sigma1510"},"score":0,"creation_date":1636039915,"post_id":19428277,"comment_id":123456527,"body_markdown":"Note that the display countries are not all up to the ISO3166 standard: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072","body":"Note that the display countries are not all up to the ISO3166 standard: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8245072</a>"}],"tags":[],"owner":{"account_id":1184600,"reputation":240,"user_id":1158832,"display_name":"sskular"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1383733627,"creation_date":1382016994,"answer_id":19428277,"question_id":139867,"body_markdown":"If you are already going to rely on Java locale, then I suggest using a simple HashMap instead of creating new classes for countries etc.\r\n\r\nHere&#39;s how I would use it if I were to rely on the Java Localization only:\r\n\r\n    private HashMap&lt;String, String&gt; countries = new HashMap&lt;String, String&gt;();\r\n    String[] countryCodes = Locale.getISOCountries();\r\n\r\n    for (String cc : countryCodes) {\r\n        // country name , country code map\r\n        countries.put(new Locale(&quot;&quot;, cc).getDisplayCountry(), cc.toUpperCase());\r\n    }\r\n\r\n\r\nAfter you fill the map, you can get the ISO code from the country name whenever you need it.\r\nOr you can make it a ISO code to Country name map as well, just modify the &#39;put&#39; method accordingly.","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>If you are already going to rely on Java locale, then I suggest using a simple HashMap instead of creating new classes for countries etc.</p>\n\n<p>Here's how I would use it if I were to rely on the Java Localization only:</p>\n\n<pre><code>private HashMap&lt;String, String&gt; countries = new HashMap&lt;String, String&gt;();\nString[] countryCodes = Locale.getISOCountries();\n\nfor (String cc : countryCodes) {\n    // country name , country code map\n    countries.put(new Locale(\"\", cc).getDisplayCountry(), cc.toUpperCase());\n}\n</code></pre>\n\n<p>After you fill the map, you can get the ISO code from the country name whenever you need it.\nOr you can make it a ISO code to Country name map as well, just modify the 'put' method accordingly.</p>\n"},{"tags":[],"owner":{"account_id":16553,"reputation":17293,"user_id":36191,"accept_rate":64,"display_name":"Ben Dowling"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409882498,"creation_date":1409882498,"answer_id":25677643,"question_id":139867,"body_markdown":"Not a java enum, but a JSON version of this is available at http://country.io/names.json","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>Not a java enum, but a JSON version of this is available at <a href=\"http://country.io/names.json\" rel=\"nofollow\">http://country.io/names.json</a></p>\n"},{"tags":[],"owner":{"account_id":320977,"reputation":198,"user_id":3984100,"display_name":"abdielou"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446053598,"creation_date":1446044246,"answer_id":33394455,"question_id":139867,"body_markdown":"If anyone is already using the Amazon AWS SDK it includes `com.amazonaws.services.route53domains.model.CountryCode`. I know this is not ideal but it&#39;s an alternative if you already use the AWS SDK. For most cases I would use Takahiko&#39;s `nv-i18n` since, as he mentions, it implements ISO 3166-1.","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>If anyone is already using the Amazon AWS SDK it includes <code>com.amazonaws.services.route53domains.model.CountryCode</code>. I know this is not ideal but it's an alternative if you already use the AWS SDK. For most cases I would use Takahiko's <code>nv-i18n</code> since, as he mentions, it implements ISO 3166-1.</p>\n"},{"tags":[],"owner":{"account_id":8088644,"reputation":1066,"user_id":6095334,"display_name":"Hervian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505903462,"creation_date":1505903462,"answer_id":46319693,"question_id":139867,"body_markdown":"I have created an enum, which you address by the english country name. See [country-util][1].  \r\nOn each enum you can call `getLocale()` to get the Java Locale.  \r\n\r\nFrom the Locale you can get all the information you are used to, fx the ISO-3166-1 two letter country code.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public enum Country{\r\n\r\n\t    ANDORRA(new Locale(&quot;AD&quot;)),\r\n\t    AFGHANISTAN(new Locale(&quot;AF&quot;)),\r\n\t    ANTIGUA_AND_BARBUDA(new Locale(&quot;AG&quot;)),\r\n\t    ANGUILLA(new Locale(&quot;AI&quot;)),\r\n        //etc\r\n\t    ZAMBIA(new Locale(&quot;ZM&quot;)),\r\n\t    ZIMBABWE(new Locale(&quot;ZW&quot;));\r\n\r\n\t    private Locale locale;\r\n\r\n\t    private Country(Locale locale){\r\n\t    \tthis.locale = locale;\r\n\t    }\r\n\r\n\t    public Locale getLocale(){\r\n\t    \treturn locale;\r\n\t    }\r\n\r\nPro:  \r\n\r\n -  Light weight\r\n -  Maps to Java Locales\r\n -  Addressable by full country name \r\n -  Enum values are not hardcoded, but generated by a call to Locale.getISOCountries(). That is: Simply recompile the project against the newest java version to get any changes made to the list of countries reflected in the enum.\r\n\r\nCon:  \r\n\r\n -  Not in Maven repository\r\n -  Most likely simpler / less expressive than the other solutions, which I don&#39;t know.\r\n -  Created for my own needs / not as such maintained. - You should probably clone the repo.\r\n\r\n\r\n  [1]: https://github.com/Hervian/country-util","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>I have created an enum, which you address by the english country name. See <a href=\"https://github.com/Hervian/country-util\" rel=\"nofollow noreferrer\">country-util</a>.<br>\nOn each enum you can call <code>getLocale()</code> to get the Java Locale.  </p>\n\n<p>From the Locale you can get all the information you are used to, fx the ISO-3166-1 two letter country code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum Country{\n\n    ANDORRA(new Locale(\"AD\")),\n    AFGHANISTAN(new Locale(\"AF\")),\n    ANTIGUA_AND_BARBUDA(new Locale(\"AG\")),\n    ANGUILLA(new Locale(\"AI\")),\n    //etc\n    ZAMBIA(new Locale(\"ZM\")),\n    ZIMBABWE(new Locale(\"ZW\"));\n\n    private Locale locale;\n\n    private Country(Locale locale){\n        this.locale = locale;\n    }\n\n    public Locale getLocale(){\n        return locale;\n    }\n</code></pre>\n\n<p>Pro:  </p>\n\n<ul>\n<li>Light weight</li>\n<li>Maps to Java Locales</li>\n<li>Addressable by full country name </li>\n<li>Enum values are not hardcoded, but generated by a call to Locale.getISOCountries(). That is: Simply recompile the project against the newest java version to get any changes made to the list of countries reflected in the enum.</li>\n</ul>\n\n<p>Con:  </p>\n\n<ul>\n<li>Not in Maven repository</li>\n<li>Most likely simpler / less expressive than the other solutions, which I don't know.</li>\n<li>Created for my own needs / not as such maintained. - You should probably clone the repo.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583259913,"creation_date":1583259913,"answer_id":60513422,"question_id":139867,"body_markdown":"AWS Java SDK has [CountryCode][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/route53domains/model/CountryCode.html","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>AWS Java SDK has <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/route53domains/model/CountryCode.html\" rel=\"nofollow noreferrer\">CountryCode</a>.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1647876353,"creation_date":1647876353,"answer_id":71560055,"question_id":139867,"body_markdown":"There is standard [`java.util.Locale.IsoCountryCode`][1] since Java 9.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.IsoCountryCode.html","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>There is standard <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.IsoCountryCode.html\" rel=\"nofollow noreferrer\"><code>java.util.Locale.IsoCountryCode</code></a> since Java 9.</p>\n"},{"tags":[],"owner":{"account_id":466219,"reputation":1230,"user_id":870834,"accept_rate":90,"display_name":"ADJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657702868,"creation_date":1657702868,"answer_id":72963576,"question_id":139867,"body_markdown":"I found the IsoCountry list [here][1], it has 2 and 3 char country codes\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/LocaleISOData.java#l226","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>I found the IsoCountry list <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/LocaleISOData.java#l226\" rel=\"nofollow noreferrer\">here</a>, it has 2 and 3 char country codes</p>\n"},{"tags":[],"owner":{"account_id":20450614,"reputation":31,"user_id":15005465,"display_name":"Rafemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677061777,"creation_date":1677061777,"answer_id":75531390,"question_id":139867,"body_markdown":"To obtain the current device locale in Alpha-3 ISO (XXX) format:\r\n\r\n    fun getCurrentCountryCode(): String? {\r\n        val tm = context.getSystemService(AppCompatActivity.TELEPHONY_SERVICE) as TelephonyManager\r\n        val countryCodeValue = tm.networkCountryIso\r\n\r\n        val locale: Locale? = Locale.getAvailableLocales().firstOrNull {\r\n            it.country.lowercase() == countryCodeValue.lowercase()\r\n        }\r\n\r\n        return locale?.isO3Country\r\n    }\r\n\r\nTo obtain the current device language locale (xx-XX) format:\r\n\r\n    fun getCurrentLocale(): String? {\r\n        return try {\r\n            val locale = context.resources.configuration.locales[0]\r\n            return &quot;${locale.language}-${locale.country}&quot;\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n            null\r\n        }\r\n    }","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>To obtain the current device locale in Alpha-3 ISO (XXX) format:</p>\n<pre><code>fun getCurrentCountryCode(): String? {\n    val tm = context.getSystemService(AppCompatActivity.TELEPHONY_SERVICE) as TelephonyManager\n    val countryCodeValue = tm.networkCountryIso\n\n    val locale: Locale? = Locale.getAvailableLocales().firstOrNull {\n        it.country.lowercase() == countryCodeValue.lowercase()\n    }\n\n    return locale?.isO3Country\n}\n</code></pre>\n<p>To obtain the current device language locale (xx-XX) format:</p>\n<pre><code>fun getCurrentLocale(): String? {\n    return try {\n        val locale = context.resources.configuration.locales[0]\n        return &quot;${locale.language}-${locale.country}&quot;\n    } catch (e: Exception) {\n        e.printStackTrace()\n        null\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":342834,"reputation":98,"user_id":674192,"display_name":"CastMart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688768832,"creation_date":1688767457,"answer_id":76640457,"question_id":139867,"body_markdown":"[JCountry][1] is an open source library containing the ISO 3166-1 codes, and it&#39;s corresponding country name translations to different languages. It is a wrapper for the debian iso-codes info. It also contains the iso codes for languages (iso 639-2) and the corresponding language name translations.\r\n\r\n    // Maven\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.castmart&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcountry&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is the repo: https://github.com/castmart/jcountry\r\n        \r\n    JCountry jcountry = JCountry.getInstance();\r\n    CountryDB countryDB = jcountry.getCountriesDB();\r\n    // Get the countries DB hash maps &lt;String, Country&gt;\r\n    var dbByAlpha2 = countryDB.getCountriesMapByAlpha2();\r\n    var dbByAlpha3 = countryDB.getCountriesMapByAlpha3();\r\n    var dbByName = countryDB.getCountriesMapByName();\r\n    \r\n    // Get Translations by language based locale \r\n    Optional&lt;ResourceBundle&gt; bundle = countryDB.getCountriesTranslations(Locale.GERMAN);\r\n    \r\n    // MX -&gt; Mexiko\r\n    var translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;MX&quot;).getName());\r\n\r\n    // Languages DB\r\n    LanguageDB languageDB = new LanguageDBImpl(true);\r\n    var dbByAlpha2 = languageDB.getLanguagesMapByAlpha2();\r\n\r\n    // Get Translations by language based locale \r\n    Optional&lt;ResourceBundle&gt; bundle = languageDB.getLanguagesTranslations(Locale.GERMAN);\r\n    \r\n    // Spanisch (Kastilisch)\r\n    var translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;es&quot;).getName());\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/io.github.castmart/jcountry/0.0.2/overview","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p><a href=\"https://central.sonatype.com/artifact/io.github.castmart/jcountry/0.0.2/overview\" rel=\"nofollow noreferrer\">JCountry</a> is an open source library containing the ISO 3166-1 codes, and it's corresponding country name translations to different languages. It is a wrapper for the debian iso-codes info. It also contains the iso codes for languages (iso 639-2) and the corresponding language name translations.</p>\n<pre><code>// Maven\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.castmart&lt;/groupId&gt;\n    &lt;artifactId&gt;jcountry&lt;/artifactId&gt;\n    &lt;version&gt;0.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the repo: <a href=\"https://github.com/castmart/jcountry\" rel=\"nofollow noreferrer\">https://github.com/castmart/jcountry</a></p>\n<pre><code>JCountry jcountry = JCountry.getInstance();\nCountryDB countryDB = jcountry.getCountriesDB();\n// Get the countries DB hash maps &lt;String, Country&gt;\nvar dbByAlpha2 = countryDB.getCountriesMapByAlpha2();\nvar dbByAlpha3 = countryDB.getCountriesMapByAlpha3();\nvar dbByName = countryDB.getCountriesMapByName();\n\n// Get Translations by language based locale \nOptional&lt;ResourceBundle&gt; bundle = countryDB.getCountriesTranslations(Locale.GERMAN);\n\n// MX -&gt; Mexiko\nvar translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;MX&quot;).getName());\n\n// Languages DB\nLanguageDB languageDB = new LanguageDBImpl(true);\nvar dbByAlpha2 = languageDB.getLanguagesMapByAlpha2();\n\n// Get Translations by language based locale \nOptional&lt;ResourceBundle&gt; bundle = languageDB.getLanguagesTranslations(Locale.GERMAN);\n\n// Spanisch (Kastilisch)\nvar translatedCountryName = bundle.get().getString(dbByAlpha2.get(&quot;es&quot;).getName());\n</code></pre>\n"}],"owner":{"account_id":7252,"reputation":971,"user_id":12531,"display_name":"Jason Jenkins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110671,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"answer_count":15,"score":97,"last_activity_date":1688768832,"creation_date":1222439194,"question_id":139867,"body_markdown":"Does anyone know of a freely available java 1.5 package that provides a list of ISO 3166-1 country codes as a enum or EnumMap?  Specifically I need the &quot;ISO 3166-1-alpha-2 code elements&quot;, i.e. the 2 character country code like &quot;us&quot;, &quot;uk&quot;, &quot;de&quot;, etc.  Creating one is simple enough (although tedious), but if there&#39;s a standard one already out there in apache land or the like it would save a little time.","title":"Is there an open source java enum of ISO 3166-1 country codes","body":"<p>Does anyone know of a freely available java 1.5 package that provides a list of ISO 3166-1 country codes as a enum or EnumMap?  Specifically I need the \"ISO 3166-1-alpha-2 code elements\", i.e. the 2 character country code like \"us\", \"uk\", \"de\", etc.  Creating one is simple enough (although tedious), but if there's a standard one already out there in apache land or the like it would save a little time.</p>\n"},{"tags":["java","integer","bit-manipulation","byte","short"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1663388659,"post_id":73752125,"comment_id":130233447,"body_markdown":"Welcome to Stack Overflow. I can&#39;t understand the question. You say that this is about converting a short to an int, but the code shows packing two bytes into a short. Please read [ask] and [mre] and make it possible to understand the problem, by showing a) code that someone else can copy and paste, without changing anything, in order to see a problem directly; b) exactly what you think should happen when running that code (and why); c) exactly what does happen instead (copy and paste the terminal output)","body":"Welcome to Stack Overflow. I can&#39;t understand the question. You say that this is about converting a short to an int, but the code shows packing two bytes into a short. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and make it possible to understand the problem, by showing a) code that someone else can copy and paste, without changing anything, in order to see a problem directly; b) exactly what you think should happen when running that code (and why); c) exactly what does happen instead (copy and paste the terminal output)"},{"owner":{"account_id":26361024,"reputation":41,"user_id":20017214,"display_name":"BREgitLEEhub2222"},"score":0,"creation_date":1663390082,"post_id":73752125,"comment_id":130233546,"body_markdown":"I edited my post. Sry. Is this more understandable?","body":"I edited my post. Sry. Is this more understandable?"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1663416606,"post_id":73752125,"comment_id":130237362,"body_markdown":"Oh. In that case, please see https://stackoverflow.com/questions/4266756/can-we-make-unsigned-byte-in-java.","body":"Oh. In that case, please see <a href=\"https://stackoverflow.com/questions/4266756/can-we-make-unsigned-byte-in-java\" title=\"can we make unsigned byte in java\">stackoverflow.com/questions/4266756/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688768610,"creation_date":1663392065,"answer_id":73752330,"question_id":73752125,"body_markdown":"This can be done pretty easily with some bit magic.\r\n\r\nI&#39;m sure you&#39;re aware that  a `short` is 16 bits (2 bytes) and an `int` is 32 bits (4 bytes). So, between an integer and a short, there is a two-byte difference. Now, for positive numbers, copying the value of a `short` to an `int` *is* effectively copying the binary data, however, as you&#39;ve pointed out, this is not the case for negative numbers.\r\n\r\nNow let&#39;s look at how negative numbers are represented in binary. It&#39;s a bit confusing, so I&#39;ll try to keep it simple. Modern systems use what&#39;s called the [two&#39;s compliment](https://en.wikipedia.org/wiki/Two%27s_complement) to store negative numbers. Basically all this means is that the very first bit in the set of bytes representing the number determines whether or not it&#39;s negative. For mathematical purposes, the rest of the bits are also inverted and offset 1 bit to the right (since you can&#39;t have negative 0). For example, `2` as a short would be represented as `0000 0000 0000 0010`, while `-2` would be represented as `1111 1111 1111 1110`. Now, since the bytes are inverted in a negative number, this means that `-2` in `int` form is the same but with 2 more bytes (16 bits) at the beginning that are all set to `1`. \r\n\r\nSo, in order to combat this, all we need to do is change the extra `1`s to `0`s. This can be done by simply using the [bitwise and operator](https://learn.microsoft.com/en-us/cpp/cpp/bitwise-and-operator-amp?view=msvc-170). This operator goes through each bit and checks if the bits at each position in each operand are a `1` or a `0`. If they&#39;re both `1`, the bit is flipped to a `0`. If not, nothing happens.\r\n\r\nNow, with this knowledge, all we need to do is create another integer where the first two bytes are all `1`. This is fairly simple to do using [hexidecimal literals](https://www.tutorialspoint.com/hexadecimal-integer-literal-in-java). Since they are an integer by default, we simply need to use this to get four bytes of `1`s. With a single byte, if you were to set every bit to `1`, the max value you can get is 255. 255 in hex is `0xFF`, so 2 bytes would be `0xFFFF`. Pretty simple, now you just need to apply it.\r\n\r\nHere is an example that does exactly that:\r\n```java\r\nshort a = -2;\r\nint b = a &amp; 0xFFFF;\r\n```\r\n---\r\nYou could also use [`Short.toUnsignedInt()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Short.html#toUnsignedInt-short-), but where&#39;s the fun in that? &#128521;","title":"How do I convert a short to an int without turning it into a negative in java","body":"<p>This can be done pretty easily with some bit magic.</p>\n<p>I'm sure you're aware that  a <code>short</code> is 16 bits (2 bytes) and an <code>int</code> is 32 bits (4 bytes). So, between an integer and a short, there is a two-byte difference. Now, for positive numbers, copying the value of a <code>short</code> to an <code>int</code> <em>is</em> effectively copying the binary data, however, as you've pointed out, this is not the case for negative numbers.</p>\n<p>Now let's look at how negative numbers are represented in binary. It's a bit confusing, so I'll try to keep it simple. Modern systems use what's called the <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's compliment</a> to store negative numbers. Basically all this means is that the very first bit in the set of bytes representing the number determines whether or not it's negative. For mathematical purposes, the rest of the bits are also inverted and offset 1 bit to the right (since you can't have negative 0). For example, <code>2</code> as a short would be represented as <code>0000 0000 0000 0010</code>, while <code>-2</code> would be represented as <code>1111 1111 1111 1110</code>. Now, since the bytes are inverted in a negative number, this means that <code>-2</code> in <code>int</code> form is the same but with 2 more bytes (16 bits) at the beginning that are all set to <code>1</code>.</p>\n<p>So, in order to combat this, all we need to do is change the extra <code>1</code>s to <code>0</code>s. This can be done by simply using the <a href=\"https://learn.microsoft.com/en-us/cpp/cpp/bitwise-and-operator-amp?view=msvc-170\" rel=\"nofollow noreferrer\">bitwise and operator</a>. This operator goes through each bit and checks if the bits at each position in each operand are a <code>1</code> or a <code>0</code>. If they're both <code>1</code>, the bit is flipped to a <code>0</code>. If not, nothing happens.</p>\n<p>Now, with this knowledge, all we need to do is create another integer where the first two bytes are all <code>1</code>. This is fairly simple to do using <a href=\"https://www.tutorialspoint.com/hexadecimal-integer-literal-in-java\" rel=\"nofollow noreferrer\">hexidecimal literals</a>. Since they are an integer by default, we simply need to use this to get four bytes of <code>1</code>s. With a single byte, if you were to set every bit to <code>1</code>, the max value you can get is 255. 255 in hex is <code>0xFF</code>, so 2 bytes would be <code>0xFFFF</code>. Pretty simple, now you just need to apply it.</p>\n<p>Here is an example that does exactly that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>short a = -2;\nint b = a &amp; 0xFFFF;\n</code></pre>\n<hr />\n<p>You could also use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Short.html#toUnsignedInt-short-\" rel=\"nofollow noreferrer\"><code>Short.toUnsignedInt()</code></a>, but where's the fun in that? 😉</p>\n"}],"owner":{"account_id":26361024,"reputation":41,"user_id":20017214,"display_name":"BREgitLEEhub2222"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688768610,"creation_date":1663388541,"question_id":73752125,"body_markdown":"I am working on a file reader and came into a problem when trying to read a short. In short (punintended), java is converting a two bytes I&#39;m using to make the short into an int to do bitwise operations and is converting it in a way to keep the same value. I need to convert the byte into an int in a way that would preserve its value so the bits stayed the same.\r\n\r\nexample of what&#39;s happening:\r\n\r\n```java\r\nbyte number = -1; //-1\r\nint otherNumber = 1;\r\nnumber | otherNumber; // -1\r\n```\r\n\r\nexample of what I want: \r\n```java\r\nbyte number = -1; //-1\r\nint otherNumber = 1;\r\nnumber | otherNumber; // 129\r\n```","title":"How do I convert a short to an int without turning it into a negative in java","body":"<p>I am working on a file reader and came into a problem when trying to read a short. In short (punintended), java is converting a two bytes I'm using to make the short into an int to do bitwise operations and is converting it in a way to keep the same value. I need to convert the byte into an int in a way that would preserve its value so the bits stayed the same.</p>\n<p>example of what's happening:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte number = -1; //-1\nint otherNumber = 1;\nnumber | otherNumber; // -1\n</code></pre>\n<p>example of what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte number = -1; //-1\nint otherNumber = 1;\nnumber | otherNumber; // 129\n</code></pre>\n"},{"tags":["java","c++","tiff","codec","specifications"],"comments":[{"owner":{"account_id":439210,"reputation":1743,"user_id":827992,"accept_rate":96,"display_name":"user827992"},"score":0,"creation_date":1345010383,"post_id":11964677,"comment_id":15946017,"body_markdown":"for what i know TIFF is just a container for the real images, also why not using a library http://www.libtiff.org/ ?","body":"for what i know TIFF is just a container for the real images, also why not using a library <a href=\"http://www.libtiff.org/\" rel=\"nofollow noreferrer\">libtiff.org</a> ?"},{"owner":{"account_id":1440097,"reputation":1106,"user_id":1439882,"display_name":"rad"},"score":0,"creation_date":1345010480,"post_id":11964677,"comment_id":15946039,"body_markdown":"what is your input? you just need to use a short int (or any data type which is 2 bytes) for every pixel.","body":"what is your input? you just need to use a short int (or any data type which is 2 bytes) for every pixel."},{"owner":{"account_id":1750700,"reputation":3,"user_id":1599839,"display_name":"user1599839"},"score":0,"creation_date":1345010779,"post_id":11964677,"comment_id":15946097,"body_markdown":"But how can I get sure, that the 2 bytes (for one pixel) are not interpreted as two pixels (one byte per pixel)?","body":"But how can I get sure, that the 2 bytes (for one pixel) are not interpreted as two pixels (one byte per pixel)?"},{"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"score":0,"creation_date":1345010978,"post_id":11964677,"comment_id":15946132,"body_markdown":"TIFF has a [BitsPerSample tag](http://www.awaresystems.be/imaging/tiff/tifftags/bitspersample.html) to specify (big surprise) the number of bits per sample.","body":"TIFF has a <a href=\"http://www.awaresystems.be/imaging/tiff/tifftags/bitspersample.html\" rel=\"nofollow noreferrer\">BitsPerSample tag</a> to specify (big surprise) the number of bits per sample."}],"answers":[{"tags":[],"owner":{"account_id":104474,"reputation":42579,"user_id":279313,"accept_rate":91,"display_name":"Alex F"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1345021101,"creation_date":1345021101,"answer_id":11966527,"question_id":11964677,"body_markdown":"libtiff supports 16 bpp images. Such images, produced by libtiff, are recognized by another programs, such as ImageJ - you can use it for testing.\r\nlibtiff library is available here http://www.libtiff.org/ and can be used in C/C++ programs.","title":"tiff specification for 16-bit grayscale","body":"<p>libtiff supports 16 bpp images. Such images, produced by libtiff, are recognized by another programs, such as ImageJ - you can use it for testing.\nlibtiff library is available here <a href=\"http://www.libtiff.org/\" rel=\"nofollow\">http://www.libtiff.org/</a> and can be used in C/C++ programs.</p>\n"},{"tags":[],"owner":{"account_id":28427105,"reputation":1,"user_id":21748306,"display_name":"Victor Grinberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688768471,"creation_date":1688768471,"answer_id":76640509,"question_id":11964677,"body_markdown":"Note that LibTIFF is:\r\n 1. NOT at *libtiff.org*.  It&#39;s at **https://gitlab.com/libtiff/libtiff** .  Someone stole their website back over 20 years ago (imagine that), and *libtiff.org* contains but an old version!\r\n\r\n 2. Has buffer overflow issues, so be careful when reading TIFF files of unknown provenance with it!\r\n\r\n 3. Has been reported to be slow when writing multi-frame images.  Apparently time to write a frame grows proportionally with the frame number.  Google *TinyTIFF* for one existing solution, or spin your own.","title":"tiff specification for 16-bit grayscale","body":"<p>Note that LibTIFF is:</p>\n<ol>\n<li><p>NOT at <em>libtiff.org</em>.  It's at <strong><a href=\"https://gitlab.com/libtiff/libtiff\" rel=\"nofollow noreferrer\">https://gitlab.com/libtiff/libtiff</a></strong> .  Someone stole their website back over 20 years ago (imagine that), and <em>libtiff.org</em> contains but an old version!</p>\n</li>\n<li><p>Has buffer overflow issues, so be careful when reading TIFF files of unknown provenance with it!</p>\n</li>\n<li><p>Has been reported to be slow when writing multi-frame images.  Apparently time to write a frame grows proportionally with the frame number.  Google <em>TinyTIFF</em> for one existing solution, or spin your own.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1750700,"reputation":3,"user_id":1599839,"display_name":"user1599839"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11966527,"answer_count":2,"score":0,"last_activity_date":1688768471,"creation_date":1345009962,"question_id":11964677,"body_markdown":"for an xray-application I need a 16-bit grayscale tiff image.\r\nHowever, reading through the tiff specification (Revision 6.0, Final — June 3, 1992), I just found, that 4 and 8 bit are specified for grayscale images (c.f. Section 4). \r\n\r\nIs there a newer specification and where can I get it? Or can someone please explain me the 16-bit grayscale specification, such that I can code it (in C/C++ and Java)? \r\nIs it just setting `BitsPerSample = 16` or must I do something else?\r\n\r\nThanks","title":"tiff specification for 16-bit grayscale","body":"<p>for an xray-application I need a 16-bit grayscale tiff image.\nHowever, reading through the tiff specification (Revision 6.0, Final — June 3, 1992), I just found, that 4 and 8 bit are specified for grayscale images (c.f. Section 4). </p>\n\n<p>Is there a newer specification and where can I get it? Or can someone please explain me the 16-bit grayscale specification, such that I can code it (in C/C++ and Java)? \nIs it just setting <code>BitsPerSample = 16</code> or must I do something else?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","tomcat","vaadin24"],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688767854,"creation_date":1688767854,"question_id":76640484,"body_markdown":"Do I need a production &quot;license&quot; from Vaadin to deploy my Vaadin -Spring Boot war to local Tomcat?\r\n\r\nWhen I run `mvn -P production` it automatically tries to connect to a Vaadin server.\r\n\r\nSome questions\r\na) Was I wrong in my interpretation of Vaadin being an open source framework \r\nb) If I eventually have to deploy my war on cloud, are there Vaadin costs apart from the cloud provider? \r\n   \r\n\r\n      Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/vkare]]\r\n                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n                ... 37 more \r\n        Caused by: java.lang.IllegalStateException: Failed to determine project directory for dev mode. Directory &#39;/Users/srinimurthy/JavaProject/sampleapp/target&#39; does not look like a Maven or Gradle project. Ensure that you have run the prepare-frontend Maven goal, which generates &#39;flow-build-info.json&#39;, prior to deploying your application\r\n                at com.vaadin.flow.server.AbstractConfiguration.getProjectFolder(AbstractConfiguration.java:215)\r\n                \r\n\r\n","title":"Vaadin deployment on local Tomcat","body":"<p>Do I need a production &quot;license&quot; from Vaadin to deploy my Vaadin -Spring Boot war to local Tomcat?</p>\n<p>When I run <code>mvn -P production</code> it automatically tries to connect to a Vaadin server.</p>\n<p>Some questions\na) Was I wrong in my interpretation of Vaadin being an open source framework\nb) If I eventually have to deploy my war on cloud, are there Vaadin costs apart from the cloud provider?</p>\n<pre><code>  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/vkare]]\n            at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n            ... 37 more \n    Caused by: java.lang.IllegalStateException: Failed to determine project directory for dev mode. Directory '/Users/srinimurthy/JavaProject/sampleapp/target' does not look like a Maven or Gradle project. Ensure that you have run the prepare-frontend Maven goal, which generates 'flow-build-info.json', prior to deploying your application\n            at com.vaadin.flow.server.AbstractConfiguration.getProjectFolder(AbstractConfiguration.java:215)\n            \n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"comments":[{"owner":{"account_id":13795396,"reputation":37,"user_id":9956737,"display_name":"nikolas"},"score":0,"creation_date":1688999088,"post_id":76637819,"comment_id":135147167,"body_markdown":"receive this error : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/octet-stream&#39; not supported]","body":"receive this error : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/octet-stream&#39; not supported]"}],"tags":[],"owner":{"account_id":17870224,"reputation":36,"user_id":12981693,"display_name":"Max Kozlov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688739903,"creation_date":1688739903,"answer_id":76637819,"question_id":76635591,"body_markdown":"if you want to upload a file using `MultipartFile`, then additional parameters must be loaded as part of the request, as if it were a request from an html form.\r\n\r\n**For example**\r\n\r\n```\r\ncurl --location --request POST &#39;http://localhost:8080/upload/image&#39; \\\r\n--header &#39;Authorization: token {token}&#39; \\\r\n \\\r\n--form &#39;file=@&quot;/Users/maksimkozlov/Pictures/363_max.jpg&quot;&#39; \\\r\n--form &#39;artifactType=&quot;image&quot;&#39;\r\n```\r\n\r\nFor my example, the method signature would look like this:\r\n\r\n```java\r\nResponseEntity validateAndCreate(\r\n   @RequestParam(required = true) String artifactType, \r\n   @RequestParam(&quot;file&quot;) MultipartFile file\r\n);\r\n```\r\n\r\nYou can also create DTO class that will have fields with given values.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class ArtifactFile {\r\n\r\n   private String artifactType;\r\n   private MultipartFile file;\r\n\r\n   // getters and setters\r\n\r\n}\r\n```\r\n\r\nIn such a case, you can modify the controller method signature as follows\r\n\r\n```java\r\nResponseEntity validateAndCreate(\r\n   @ModelAttribute ArtifactFile artifactFile\r\n);\r\n```\r\n\r\nAnother file upload option is shown in the following example.\r\n\r\n```\r\ncurl --location --request POST &#39;http://localhost:8080/upload/image&#39; \\\r\n--header &#39;Authorization: token {token}&#39; \\\r\n--header &#39;Content-Type: image/jpeg&#39; \\\r\n--data-binary &#39;@/Users/maksimkozlov/Pictures/049_max.jpg&#39;\r\n```\r\n\r\nIn this case, the signature of the controller method will look like this\r\n\r\n```java\r\nResponseEntity validateAndCreate(\r\n   HttpServletRequest httpServletRequest\r\n);\r\n```\r\n\r\nHttpServletRequest has several methods that will allow you to upload a file to the server:\r\n\r\n - getInputStream() to get the input byte stream\r\n - getContentLength() to get the upload file size\r\n\r\nIn this case, you can always pass additional information about the file through the request headers.\r\n","title":"java spring boot api-rest multipart and data transfer, the best method?","body":"<p>if you want to upload a file using <code>MultipartFile</code>, then additional parameters must be loaded as part of the request, as if it were a request from an html form.</p>\n<p><strong>For example</strong></p>\n<pre><code>curl --location --request POST 'http://localhost:8080/upload/image' \\\n--header 'Authorization: token {token}' \\\n \\\n--form 'file=@&quot;/Users/maksimkozlov/Pictures/363_max.jpg&quot;' \\\n--form 'artifactType=&quot;image&quot;'\n</code></pre>\n<p>For my example, the method signature would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity validateAndCreate(\n   @RequestParam(required = true) String artifactType, \n   @RequestParam(&quot;file&quot;) MultipartFile file\n);\n</code></pre>\n<p>You can also create DTO class that will have fields with given values.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArtifactFile {\n\n   private String artifactType;\n   private MultipartFile file;\n\n   // getters and setters\n\n}\n</code></pre>\n<p>In such a case, you can modify the controller method signature as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity validateAndCreate(\n   @ModelAttribute ArtifactFile artifactFile\n);\n</code></pre>\n<p>Another file upload option is shown in the following example.</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/upload/image' \\\n--header 'Authorization: token {token}' \\\n--header 'Content-Type: image/jpeg' \\\n--data-binary '@/Users/maksimkozlov/Pictures/049_max.jpg'\n</code></pre>\n<p>In this case, the signature of the controller method will look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity validateAndCreate(\n   HttpServletRequest httpServletRequest\n);\n</code></pre>\n<p>HttpServletRequest has several methods that will allow you to upload a file to the server:</p>\n<ul>\n<li>getInputStream() to get the input byte stream</li>\n<li>getContentLength() to get the upload file size</li>\n</ul>\n<p>In this case, you can always pass additional information about the file through the request headers.</p>\n"},{"tags":[],"owner":{"account_id":20253394,"reputation":1,"user_id":14853803,"display_name":"venkata mallapu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688767670,"creation_date":1688767239,"answer_id":76640442,"question_id":76635591,"body_markdown":"    ResponseEntity(validateAndCreate(@RequestPart(required = false) MultipartFile file, @RequestPart @Valid ValidationCreationDTO requestBody, HttpServletRequest request) \r\n    \r\nchange or add (required = flag) flag based on your usecase and @Valid annotation might not be necessary for you. But it&#39;s a good standard to have bean level validations(proper). As it provides a simple first level of protection before the your request reaches the Service","title":"java spring boot api-rest multipart and data transfer, the best method?","body":"<pre><code>ResponseEntity(validateAndCreate(@RequestPart(required = false) MultipartFile file, @RequestPart @Valid ValidationCreationDTO requestBody, HttpServletRequest request) \n</code></pre>\n<p>change or add (required = flag) flag based on your usecase and @Valid annotation might not be necessary for you. But it's a good standard to have bean level validations(proper). As it provides a simple first level of protection before the your request reaches the Service</p>\n"}],"owner":{"account_id":13795396,"reputation":37,"user_id":9956737,"display_name":"nikolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688767670,"creation_date":1688721484,"question_id":76635591,"body_markdown":"what is the best method to transfer a file and a class in multipart in spring boot 2.x.x?\r\n\r\nI&#39;m using this type with some problems , Class fields all get to null\r\n\r\n```\r\nResponseEntity validateAndCreate(@RequestBody(required = true) ValidationCreationDTO requestBody, @RequestPart(&quot;file&quot;) MultipartFile file, HttpServletRequest request);\r\n```\r\n\r\n\r\nI expect the method to transfer the file and the valued class","title":"java spring boot api-rest multipart and data transfer, the best method?","body":"<p>what is the best method to transfer a file and a class in multipart in spring boot 2.x.x?</p>\n<p>I'm using this type with some problems , Class fields all get to null</p>\n<pre><code>ResponseEntity validateAndCreate(@RequestBody(required = true) ValidationCreationDTO requestBody, @RequestPart(&quot;file&quot;) MultipartFile file, HttpServletRequest request);\n</code></pre>\n<p>I expect the method to transfer the file and the valued class</p>\n"},{"tags":["java","visual-studio-code","warnings"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683947099,"post_id":76240654,"comment_id":134448709,"body_markdown":"Does this answer your question? [Passing argument to Java compiler in vscode](https://stackoverflow.com/questions/70550418/passing-argument-to-java-compiler-in-vscode)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70550418/passing-argument-to-java-compiler-in-vscode\">Passing argument to Java compiler in vscode</a>"},{"owner":{"account_id":13986990,"reputation":13,"user_id":10101859,"display_name":"Kenny"},"score":0,"creation_date":1684172025,"post_id":76240654,"comment_id":134475186,"body_markdown":"Hey @aled, no it does not. The arguments that VSCode allows you to supply modify runtime arguments (java) not compile arguments (javac). That post doesn&#39;t help resolve my question of being able to see these additional warnings.","body":"Hey @aled, no it does not. The arguments that VSCode allows you to supply modify runtime arguments (java) not compile arguments (javac). That post doesn&#39;t help resolve my question of being able to see these additional warnings."}],"answers":[{"comments":[{"owner":{"account_id":13986990,"reputation":13,"user_id":10101859,"display_name":"Kenny"},"score":0,"creation_date":1684168105,"post_id":76251185,"comment_id":134474350,"body_markdown":"Hey @JialeDu, thanks for your answer. I tried this and this works to quickly see these warnings in the terminal which I like. Are you saying then that there is no way of seeing these warnings reported within the context of the editor? This is basically a fancy way of compiling the code myself, which I already have a script to do.","body":"Hey @JialeDu, thanks for your answer. I tried this and this works to quickly see these warnings in the terminal which I like. Are you saying then that there is no way of seeing these warnings reported within the context of the editor? This is basically a fancy way of compiling the code myself, which I already have a script to do."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1684200500,"post_id":76251185,"comment_id":134479365,"body_markdown":"It looks like this is currently. If you want to see the warning on the editor page, maybe you need to install some additional extensions. Or you can report it as a feature request on [github](https://github.com/redhat-developer/vscode-java/issues/new).","body":"It looks like this is currently. If you want to see the warning on the editor page, maybe you need to install some additional extensions. Or you can report it as a feature request on <a href=\"https://github.com/redhat-developer/vscode-java/issues/new\" rel=\"nofollow noreferrer\">github</a>."},{"owner":{"account_id":13986990,"reputation":13,"user_id":10101859,"display_name":"Kenny"},"score":0,"creation_date":1684253538,"post_id":76251185,"comment_id":134489944,"body_markdown":"Thanks for the link to their GitHub, I think I will open a feature request for this. Though your answer doesn&#39;t really solve my problem, given the feature doesn&#39;t seem to exist, I&#39;ll give you the accepted answer.","body":"Thanks for the link to their GitHub, I think I will open a feature request for this. Though your answer doesn&#39;t really solve my problem, given the feature doesn&#39;t seem to exist, I&#39;ll give you the accepted answer."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1684286393,"post_id":76251185,"comment_id":134494972,"body_markdown":"Thank you for your mark. If you submit an issue, do not forget to paste the link here so that people later can know.","body":"Thank you for your mark. If you submit an issue, do not forget to paste the link here so that people later can know."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684129796,"creation_date":1684129796,"answer_id":76251185,"question_id":76240654,"body_markdown":"Install the [***Code Runner***][1] extension, and then you have two ways to modify the command\r\n\r\n\r\n 1. Search `code-runner.executorMap` on the Seting panel, click `Edit in settings.json`\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n 2. Modify in the opening *settings.json*\r\n    ```\r\n    \t\t&quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\r\n    ```\r\n    for\r\n    ```\r\n\t\t    &quot;java&quot;: &quot;cd $dir &amp;&amp; javac -Xlint $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\r\n    ```\r\n\r\n    [![enter image description here][3]][3]\r\n\r\n 3. Right -click `Run Code (Ctrl+Alt+N)`, or the upper right triangle button select `Run Code`\r\n\r\n    [![enter image description here][4]][4]\r\n\r\n---\r\n\r\n 1. Add the following configuration to *settings.json*\r\n\r\n    ```\r\n    \t&quot;code-runner.customCommand&quot;: &quot;cd $dir &amp;&amp; javac -Xlint $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\r\n    ```    \r\n\r\n 2. Use the following method to execute the script\r\n\r\n    &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; --&gt; `Run Custom Command (Ctrl+Alt+K)`\r\n\r\n    [![enter image description here][5]][5]\r\n\r\n---\r\n\r\nYou can add the following settings to make **Code Runner** output in the **TERMINAL** instead of the **OUTPUT** panel\r\n\r\n```\r\n\t&quot;code-runner.runInTerminal&quot;: true,\r\n```\r\n\r\n---\r\n\r\n*Under normal circumstances, we still recommend that you use the [Extension Pack for Java][6] to obtain more functions and better experiences.*\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [2]: https://i.stack.imgur.com/A92Nj.png\r\n  [3]: https://i.stack.imgur.com/pCCk4.png\r\n  [4]: https://i.stack.imgur.com/V7y3T.png\r\n  [5]: https://i.stack.imgur.com/yM92i.png\r\n  [6]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack","title":"Enable -Xlint for VSCode Java Compiling","body":"<p>Install the <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\"><em><strong>Code Runner</strong></em></a> extension, and then you have two ways to modify the command</p>\n<ol>\n<li><p>Search <code>code-runner.executorMap</code> on the Seting panel, click <code>Edit in settings.json</code></p>\n<p><a href=\"https://i.stack.imgur.com/A92Nj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A92Nj.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Modify in the opening <em>settings.json</em></p>\n<pre><code>        &quot;java&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\n</code></pre>\n<p>for</p>\n<pre><code>        &quot;java&quot;: &quot;cd $dir &amp;&amp; javac -Xlint $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pCCk4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pCCk4.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Right -click <code>Run Code (Ctrl+Alt+N)</code>, or the upper right triangle button select <code>Run Code</code></p>\n<p><a href=\"https://i.stack.imgur.com/V7y3T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V7y3T.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<hr />\n<ol>\n<li><p>Add the following configuration to <em>settings.json</em></p>\n<pre><code>    &quot;code-runner.customCommand&quot;: &quot;cd $dir &amp;&amp; javac -Xlint $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\n</code></pre>\n</li>\n<li><p>Use the following method to execute the script</p>\n<p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> --&gt; <code>Run Custom Command (Ctrl+Alt+K)</code></p>\n<p><a href=\"https://i.stack.imgur.com/yM92i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yM92i.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<hr />\n<p>You can add the following settings to make <strong>Code Runner</strong> output in the <strong>TERMINAL</strong> instead of the <strong>OUTPUT</strong> panel</p>\n<pre><code>    &quot;code-runner.runInTerminal&quot;: true,\n</code></pre>\n<hr />\n<p><em>Under normal circumstances, we still recommend that you use the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a> to obtain more functions and better experiences.</em></p>\n"},{"comments":[{"owner":{"account_id":13986990,"reputation":13,"user_id":10101859,"display_name":"Kenny"},"score":1,"creation_date":1685745461,"post_id":76379158,"comment_id":134709459,"body_markdown":"Awesome! This is what I was looking for. Thank you! I&#39;ve changed the accepted answer. I would upvote you too but I don&#39;t have 15 reputation yet.","body":"Awesome! This is what I was looking for. Thank you! I&#39;ve changed the accepted answer. I would upvote you too but I don&#39;t have 15 reputation yet."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685600395,"creation_date":1685600395,"answer_id":76379158,"question_id":76240654,"body_markdown":"**[SonarLint][1]** may be what you need.\r\n\r\n &gt; [SonarLint][1] is an easy-to-use extension that helps you find and fix bugs and security issues as you code. The extension runs in the background and, just like a spell checker, highlights source code issues that pose a quality or security concern. The extension not only tells you what the issue is but also provides in-context guidance on why it&#39;s harmful and how to fix it, with examples. The extension supports over [500+ Java rules][2] and includes several [Quick Fixes][3] to automatically fix certain quality issues\r\n\r\n - *https://code.visualstudio.com/docs/java/java-linting#_sonarlint*\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode\r\n  [2]: https://rules.sonarsource.com/java\r\n  [3]: https://rules.sonarsource.com/java/quickfix\r\n  [4]: https://i.stack.imgur.com/FoZ7k.png","title":"Enable -Xlint for VSCode Java Compiling","body":"<p><strong><a href=\"https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode\" rel=\"nofollow noreferrer\">SonarLint</a></strong> may be what you need.</p>\n<blockquote>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode\" rel=\"nofollow noreferrer\">SonarLint</a> is an easy-to-use extension that helps you find and fix bugs and security issues as you code. The extension runs in the background and, just like a spell checker, highlights source code issues that pose a quality or security concern. The extension not only tells you what the issue is but also provides in-context guidance on why it's harmful and how to fix it, with examples. The extension supports over <a href=\"https://rules.sonarsource.com/java\" rel=\"nofollow noreferrer\">500+ Java rules</a> and includes several <a href=\"https://rules.sonarsource.com/java/quickfix\" rel=\"nofollow noreferrer\">Quick Fixes</a> to automatically fix certain quality issues</p>\n</blockquote>\n<ul>\n<li><em><a href=\"https://code.visualstudio.com/docs/java/java-linting#_sonarlint\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-linting#_sonarlint</a></em></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/FoZ7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FoZ7k.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13986990,"reputation":13,"user_id":10101859,"display_name":"Kenny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76379158,"answer_count":2,"score":1,"last_activity_date":1688767118,"creation_date":1683939459,"question_id":76240654,"body_markdown":"The Java extensions for VSCode do an excellent job of catching most warnings, but recently I came across several warnings in my project that VSCode was not reporting but which I found through compiling using the `-Xlint` flag.\r\n\r\nTake this SSCCE for example:\r\n\r\n```java\r\npublic class Test\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        int x = 3;\r\n        int y = (int)x;\r\n\r\n        System.out.println(y);\r\n    }\r\n}\r\n```\r\n\r\nThis code runs perfectly fine with no warnings in VSCode, but if you compile it with `javac -Xlint Test.java`, you will get this:\r\n```\r\nTest.java:6: warning: [cast] redundant cast to int\r\n        int y = (int)x;\r\n                ^      \r\n1 warning\r\n```\r\n\r\nWhat I would like is a way of having these warnings get reported in VSCode just like other warnings (where they are highlighted with yellow squiggles that you can mouse over). I have tried, unsuccessfully, to see if there was a way of changing the default javac compiler arguments but have not found the configuration option (if it exists).\r\n\r\nAnd the above warning is just a single example of things VSCode does not appear to report. I have found other warnings through using the `-Xlint` flag as well, such as fields that should be marked transient that are not.\r\n\r\n**Edit:** I have opened a feature request for RedHat&#39;s VSCode Java extension [here][1].\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/3108","title":"Enable -Xlint for VSCode Java Compiling","body":"<p>The Java extensions for VSCode do an excellent job of catching most warnings, but recently I came across several warnings in my project that VSCode was not reporting but which I found through compiling using the <code>-Xlint</code> flag.</p>\n<p>Take this SSCCE for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test\n{\n    public static void main(String[] args)\n    {\n        int x = 3;\n        int y = (int)x;\n\n        System.out.println(y);\n    }\n}\n</code></pre>\n<p>This code runs perfectly fine with no warnings in VSCode, but if you compile it with <code>javac -Xlint Test.java</code>, you will get this:</p>\n<pre><code>Test.java:6: warning: [cast] redundant cast to int\n        int y = (int)x;\n                ^      \n1 warning\n</code></pre>\n<p>What I would like is a way of having these warnings get reported in VSCode just like other warnings (where they are highlighted with yellow squiggles that you can mouse over). I have tried, unsuccessfully, to see if there was a way of changing the default javac compiler arguments but have not found the configuration option (if it exists).</p>\n<p>And the above warning is just a single example of things VSCode does not appear to report. I have found other warnings through using the <code>-Xlint</code> flag as well, such as fields that should be marked transient that are not.</p>\n<p><strong>Edit:</strong> I have opened a feature request for RedHat's VSCode Java extension <a href=\"https://github.com/redhat-developer/vscode-java/issues/3108\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","multithreading","swing","fonts","blocking"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688676725,"post_id":76632306,"comment_id":135109837,"body_markdown":"It doesn&#39;t make sense to make Swing calls, such as `item = new JMenuItem(s);` from within a background thread.","body":"It doesn&#39;t make sense to make Swing calls, such as <code>item = new JMenuItem(s);</code> from within a background thread."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1688677357,"post_id":76632306,"comment_id":135109930,"body_markdown":"I would create a `List&lt;Font&gt;` so that the Font is created once and only once.","body":"I would create a <code>List&lt;Font&gt;</code> so that the Font is created once and only once."},{"owner":{"account_id":22592194,"reputation":25,"user_id":16775139,"display_name":"TisLeo"},"score":0,"creation_date":1688682348,"post_id":76632306,"comment_id":135110609,"body_markdown":"@HovercraftFullOfEels good thinking, but users can also change the font style and font size. If I do this, when a user clicks a font menu item, the current style and size will get reset. I&#39;ll update my question to reflect this.","body":"@HovercraftFullOfEels good thinking, but users can also change the font style and font size. If I do this, when a user clicks a font menu item, the current style and size will get reset. I&#39;ll update my question to reflect this."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1688684807,"post_id":76632306,"comment_id":135110846,"body_markdown":"See also the assorted `deriveFont()` methods of `Font` and `StyledEditorKit`, seen [here](https://stackoverflow.com/a/8534162/230513).","body":"See also the assorted <code>deriveFont()</code> methods of <code>Font</code> and <code>StyledEditorKit</code>, seen <a href=\"https://stackoverflow.com/a/8534162/230513\">here</a>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688684998,"post_id":76632306,"comment_id":135110860,"body_markdown":"Load the fonts via a SwingWorker - it won’t fix the loading time, it just won’t block the ui","body":"Load the fonts via a SwingWorker - it won’t fix the loading time, it just won’t block the ui"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688687257,"post_id":76632306,"comment_id":135111036,"body_markdown":"*The problem is that the UI blocks for a second or two when the user hovers over the menu whilst its loading the font.* - not understanding that statement. The menu and its menu items would normally be created when all the other components are created. There should be no need to &quot;load the Font&quot;, only display the menu items. Post an [mre] demonstrating your problem. Also, as a sidenote, there is no need to create a unique ActionListener for each menu item. You can create a generic listener that simply gets the Font name of the selected item and then creates the Font.","body":"<i>The problem is that the UI blocks for a second or two when the user hovers over the menu whilst its loading the font.</i> - not understanding that statement. The menu and its menu items would normally be created when all the other components are created. There should be no need to &quot;load the Font&quot;, only display the menu items. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating your problem. Also, as a sidenote, there is no need to create a unique ActionListener for each menu item. You can create a generic listener that simply gets the Font name of the selected item and then creates the Font."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688687585,"post_id":76632306,"comment_id":135111067,"body_markdown":"Based on my (simple) testing, it takes 3 seconds to create a list of fonts using `new Font(s, Font.PLAIN, 14)`","body":"Based on my (simple) testing, it takes 3 seconds to create a list of fonts using <code>new Font(s, Font.PLAIN, 14)</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688690957,"post_id":76632306,"comment_id":135111301,"body_markdown":"So, I&#39;ve done a very quick test and I can build the entire font menu (192 items) without any delay under MacOS 13.4.1/Java 17","body":"So, I&#39;ve done a very quick test and I can build the entire font menu (192 items) without any delay under MacOS 13.4.1/Java 17"},{"owner":{"account_id":22592194,"reputation":25,"user_id":16775139,"display_name":"TisLeo"},"score":0,"creation_date":1688734816,"post_id":76632306,"comment_id":135117456,"body_markdown":"@MadProgrammer yep, as stated it&#39;s quick on macOS but not on Windows, not 100% sure why. By load the fonts by a SwingWorker, do you mean another swing worker on top of the one I already have?","body":"@MadProgrammer yep, as stated it&#39;s quick on macOS but not on Windows, not 100% sure why. By load the fonts by a SwingWorker, do you mean another swing worker on top of the one I already have?"},{"owner":{"account_id":22592194,"reputation":25,"user_id":16775139,"display_name":"TisLeo"},"score":0,"creation_date":1688735146,"post_id":76632306,"comment_id":135117517,"body_markdown":"@camickr I want each menu item to be displayed in its respective font, so for e.g. the item with the name &quot;Arial&quot; would have the Arial font, like how MS Word does, which means I need to load each font. Also, thanks for the sidenote, it makes sense to have a single external listener; I&#39;ll take this into account if/when I can figure this font-loading shenanigan out.","body":"@camickr I want each menu item to be displayed in its respective font, so for e.g. the item with the name &quot;Arial&quot; would have the Arial font, like how MS Word does, which means I need to load each font. Also, thanks for the sidenote, it makes sense to have a single external listener; I&#39;ll take this into account if/when I can figure this font-loading shenanigan out."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688757161,"post_id":76632306,"comment_id":135121596,"body_markdown":"Yes I understand, but the point is that the menu and menu items are built and the Font is assigned to the menu item when the GUI is created, NOT when the user hovers over the menu. You still haven&#39;t posted your [mre] so we don&#39;t know exactly what you are doing. I don&#39;t see a big delay when using Windows. If you post your MRE with just the frame and menu bar, then we can test to see if we experience the same behavour or we can comment on your approach. There should be no need to use a SwingWorker since the entire GUI needs to be created on the EDT. There is no need to extend JMenu.","body":"Yes I understand, but the point is that the menu and menu items are built and the Font is assigned to the menu item when the GUI is created, NOT when the user hovers over the menu. You still haven&#39;t posted your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we don&#39;t know exactly what you are doing. I don&#39;t see a big delay when using Windows. If you post your MRE with just the frame and menu bar, then we can test to see if we experience the same behavour or we can comment on your approach. There should be no need to use a SwingWorker since the entire GUI needs to be created on the EDT. There is no need to extend JMenu."},{"owner":{"account_id":22592194,"reputation":25,"user_id":16775139,"display_name":"TisLeo"},"score":0,"creation_date":1688761069,"post_id":76632306,"comment_id":135122125,"body_markdown":"@camickr I&#39;ve replaced the code with a minimal reproducible example and also a GIF of what it looks like.","body":"@camickr I&#39;ve replaced the code with a minimal reproducible example and also a GIF of what it looks like."}],"owner":{"account_id":22592194,"reputation":25,"user_id":16775139,"display_name":"TisLeo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688767112,"creation_date":1688675001,"question_id":76632306,"body_markdown":"I have a `JMenuBar` for my Swing app which helps the user carry out some common tasks. One of the `JMenu`s in the menu bar is a &quot;Font&quot; menu, which loads all of the system&#39;s available fonts and lets the user change the font on a `JTextArea`. For each font, a separate `JMenuItem` is added to the `JMenu` whose font is respective to its name. I load the font in a `SwingWorker`&#39;s `doInBackground` method and then `publish` each item.\r\n\r\nThe class might help you understand: **Edit: here&#39;s the minimum reproducible example:**\r\n&lt;!-- language: java --&gt;\r\n```java\r\npublic class MRE extends JFrame {\r\n\r\n    public MRE() {\r\n        setLayout(new BorderLayout());\r\n        setSize(500, 500);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        JMenuBar menu = new JMenuBar();\r\n        JMenu view = new JMenu(&quot;View&quot;);\r\n        JMenu font = new JMenu(&quot;Font&quot;);\r\n        JTextArea area = new JTextArea();\r\n        final String[] fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\r\n\r\n        new SwingWorker&lt;Void, JMenuItem&gt;() {\r\n            @Override\r\n            protected Void doInBackground() {\r\n                JMenuItem item;\r\n                for (String font : fonts) {\r\n                    item = new JMenuItem(font);\r\n                    Font f = new Font(font, Font.PLAIN, 14);\r\n                    item.setFont(f);\r\n                    item.addActionListener(new Listener(f, area));\r\n                    publish(item);\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void process(List&lt;JMenuItem&gt; chunks) {\r\n                for (JMenuItem item : chunks) {\r\n                    font.add(item);\r\n                }\r\n            }\r\n        }.execute();\r\n\r\n        view.add(font);\r\n        menu.add(view);\r\n        add(menu, BorderLayout.NORTH);\r\n        add(area, BorderLayout.CENTER);\r\n    }\r\n\r\n    private record Listener(Font f, JTextArea area) implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            area.setFont(f);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new MRE().setVisible(true));\r\n    }\r\n}\r\n```\r\nThe problem is that the UI blocks for a second or two when the user hovers over the menu whilst it&#39;s loading the font. \r\n\r\n**Edit: here&#39;s what it looks like on my Windows laptop. It is slow to load the first time, but all times after that it loads almost instantly:**\r\n[![JMenu lagging when loading items][1]][1]\r\n\r\nI suspect the problem is due to this reason:\r\n`&quot;multiple invocations to the publish method might occur before the process method is executed. For performance purposes all these invocations are coalesced into one invocation with concatenated arguments.&quot;` -- this is part of the Javadoc for the `publish()` method inside the `SwingWorker` class; it states that, because there are many `publish()` calls in a short amount of time, they are chained together, thus the UI blocks because it&#39;s loading everything at once.\r\n\r\nI&#39;ve even tried loading each `JMenuItem` with its respective font into a `List` inside a static block, and then inside the constructor, I loop over the list and add the item, but this also blocks.\r\n\r\nFor both versions, removing the `item.setFont(...)` makes the menu open almost instantly, like it should &lt;s&gt;(hence why I abstracted the action listener to a comment because it does not noticeably affect performance)&lt;/s&gt;.\r\n\r\n&lt;s&gt;**Edit:**\r\nI added the action listener logic. As per `@Hovercraft Full Of Eels`&#39;s comment, a `List&lt;Font&gt;` could&#39;ve worked, but users can also change the font style and size, so I cannot preload the fonts because these elements will be reset (unfortunately, `Font` does not have setters for the style and size). `LiveAppStore` is a class with some synchronized live data which is shared across a few files. `MySyntaxTextArea` is a subclass of `JTextArea` with a singleton implementation. &lt;/s&gt;\r\n\r\nIf it makes a difference, I&#39;d like to note that I am writing and testing this program on my Windows laptop. On my Macbook Pro with the M1 Pro chip, the menu *does* load almost instantly but, of course, I cannot assume everyone has a very fast and efficient laptop. Some of my peers on Windows -- even with very high-spec computers -- notice the slight lag.\r\n\r\nI want to ask if there&#39;s a way to overcome this, thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s80GW.gif","title":"How to fix UI blocking when loading many items in a JMenu","body":"<p>I have a <code>JMenuBar</code> for my Swing app which helps the user carry out some common tasks. One of the <code>JMenu</code>s in the menu bar is a &quot;Font&quot; menu, which loads all of the system's available fonts and lets the user change the font on a <code>JTextArea</code>. For each font, a separate <code>JMenuItem</code> is added to the <code>JMenu</code> whose font is respective to its name. I load the font in a <code>SwingWorker</code>'s <code>doInBackground</code> method and then <code>publish</code> each item.</p>\n<p>The class might help you understand: <strong>Edit: here's the minimum reproducible example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MRE extends JFrame {\n\n    public MRE() {\n        setLayout(new BorderLayout());\n        setSize(500, 500);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JMenuBar menu = new JMenuBar();\n        JMenu view = new JMenu(&quot;View&quot;);\n        JMenu font = new JMenu(&quot;Font&quot;);\n        JTextArea area = new JTextArea();\n        final String[] fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAvailableFontFamilyNames();\n\n        new SwingWorker&lt;Void, JMenuItem&gt;() {\n            @Override\n            protected Void doInBackground() {\n                JMenuItem item;\n                for (String font : fonts) {\n                    item = new JMenuItem(font);\n                    Font f = new Font(font, Font.PLAIN, 14);\n                    item.setFont(f);\n                    item.addActionListener(new Listener(f, area));\n                    publish(item);\n                }\n                return null;\n            }\n\n            @Override\n            protected void process(List&lt;JMenuItem&gt; chunks) {\n                for (JMenuItem item : chunks) {\n                    font.add(item);\n                }\n            }\n        }.execute();\n\n        view.add(font);\n        menu.add(view);\n        add(menu, BorderLayout.NORTH);\n        add(area, BorderLayout.CENTER);\n    }\n\n    private record Listener(Font f, JTextArea area) implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            area.setFont(f);\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new MRE().setVisible(true));\n    }\n}\n</code></pre>\n<p>The problem is that the UI blocks for a second or two when the user hovers over the menu whilst it's loading the font.</p>\n<p><strong>Edit: here's what it looks like on my Windows laptop. It is slow to load the first time, but all times after that it loads almost instantly:</strong>\n<a href=\"https://i.stack.imgur.com/s80GW.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s80GW.gif\" alt=\"JMenu lagging when loading items\" /></a></p>\n<p>I suspect the problem is due to this reason:\n<code>&quot;multiple invocations to the publish method might occur before the process method is executed. For performance purposes all these invocations are coalesced into one invocation with concatenated arguments.&quot;</code> -- this is part of the Javadoc for the <code>publish()</code> method inside the <code>SwingWorker</code> class; it states that, because there are many <code>publish()</code> calls in a short amount of time, they are chained together, thus the UI blocks because it's loading everything at once.</p>\n<p>I've even tried loading each <code>JMenuItem</code> with its respective font into a <code>List</code> inside a static block, and then inside the constructor, I loop over the list and add the item, but this also blocks.</p>\n<p>For both versions, removing the <code>item.setFont(...)</code> makes the menu open almost instantly, like it should <s>(hence why I abstracted the action listener to a comment because it does not noticeably affect performance)</s>.</p>\n<p><s><strong>Edit:</strong>\nI added the action listener logic. As per <code>@Hovercraft Full Of Eels</code>'s comment, a <code>List&lt;Font&gt;</code> could've worked, but users can also change the font style and size, so I cannot preload the fonts because these elements will be reset (unfortunately, <code>Font</code> does not have setters for the style and size). <code>LiveAppStore</code> is a class with some synchronized live data which is shared across a few files. <code>MySyntaxTextArea</code> is a subclass of <code>JTextArea</code> with a singleton implementation. </s></p>\n<p>If it makes a difference, I'd like to note that I am writing and testing this program on my Windows laptop. On my Macbook Pro with the M1 Pro chip, the menu <em>does</em> load almost instantly but, of course, I cannot assume everyone has a very fast and efficient laptop. Some of my peers on Windows -- even with very high-spec computers -- notice the slight lag.</p>\n<p>I want to ask if there's a way to overcome this, thanks in advance.</p>\n"},{"tags":["java","kotlin","intellij-idea","profiler"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1688653868,"post_id":76625544,"comment_id":135105533,"body_markdown":"Please report at https://youtrack.jetbrains.com/newIssue?project=IDEA with a sample project to reproduce and the logs (Help | Collect Logs and Diagnostic Data). https://youtrack.jetbrains.com/issue/IDEA-300167/Cannot-open-profiling-report may be related.","body":"Please report at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with a sample project to reproduce and the logs (Help | Collect Logs and Diagnostic Data). <a href=\"https://youtrack.jetbrains.com/issue/IDEA-300167/Cannot-open-profiling-report\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-300167/&hellip;</a> may be related."},{"owner":{"account_id":21200376,"reputation":111,"user_id":15591155,"display_name":"salat _"},"score":4,"creation_date":1688976172,"post_id":76625544,"comment_id":135141980,"body_markdown":"I have the same problem, hope jetbrains will solve this","body":"I have the same problem, hope jetbrains will solve this"}],"owner":{"account_id":476802,"reputation":8150,"user_id":887894,"accept_rate":56,"display_name":"Anonsage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1688766728,"creation_date":1688618470,"question_id":76625544,"body_markdown":"Any ideas how to set up a Kotlin project that that we can use a profiler? I don&#39;t really care which profiler is used (though looking for both memory and CPU profiling).\r\n\r\nI&#39;ve tried changing JVM versions and updating Kotlin to the latest version. I would update IntelliJ to 2023.1, but it doesn&#39;t support my current Kotlin version. I&#39;ve checked the IntelliJ [page related to their profilers](https://kotlinlang.org/docs/gradle-configure-project.html#gradle-java-toolchains-support), but didn&#39;t find it helpful.\r\n- Also, tried adding `-XX:+UnlockCommercialFeatures`, but it gets stuck on &#39;Starting Gradle Daemon...&#39;\r\n\r\n\r\nScreenshot of error when trying to use IntelliJ Profiler: \r\n[![IntelliJ IDEA Profiler error: Failed to generate a profiler dump: check that the JVM supports profiling][1]][1]\r\n\r\nScreenshot of error when trying to Async Profiler:\r\n[![IntelliJ IDEA Async Profiler error: Invalid file format: No readable chunks in recording][2]][2]\r\n\r\n\r\nDetails:\r\n- IntelliJ IDEA 2022.2.5 Ultimate Edition\r\n- In build.gradle.kts:\r\n    - `plugins { kotlin(&quot;jvm&quot;) version &quot;1.8.22&quot; }`\r\n    - `kotlin { jvmToolchain(17) }` (Update: I can get it to work without this)\r\n- openjdk-17.0.2\r\n- Windows 10\r\n\r\n\r\nUPDATE:\r\nThe above issues occur when trying to start a profiler on a unit test. But, if I start the unit test first, then attach the profiler... it&#39;s working... :shrug:\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iJVXZ.png\r\n  [2]: https://i.stack.imgur.com/pufyK.png","title":"IntelliJ IDEA Profiler error: Failed to generate a profiler dump: check that the JVM supports profiling","body":"<p>Any ideas how to set up a Kotlin project that that we can use a profiler? I don't really care which profiler is used (though looking for both memory and CPU profiling).</p>\n<p>I've tried changing JVM versions and updating Kotlin to the latest version. I would update IntelliJ to 2023.1, but it doesn't support my current Kotlin version. I've checked the IntelliJ <a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#gradle-java-toolchains-support\" rel=\"noreferrer\">page related to their profilers</a>, but didn't find it helpful.</p>\n<ul>\n<li>Also, tried adding <code>-XX:+UnlockCommercialFeatures</code>, but it gets stuck on 'Starting Gradle Daemon...'</li>\n</ul>\n<p>Screenshot of error when trying to use IntelliJ Profiler:\n<a href=\"https://i.stack.imgur.com/iJVXZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iJVXZ.png\" alt=\"IntelliJ IDEA Profiler error: Failed to generate a profiler dump: check that the JVM supports profiling\" /></a></p>\n<p>Screenshot of error when trying to Async Profiler:\n<a href=\"https://i.stack.imgur.com/pufyK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pufyK.png\" alt=\"IntelliJ IDEA Async Profiler error: Invalid file format: No readable chunks in recording\" /></a></p>\n<p>Details:</p>\n<ul>\n<li>IntelliJ IDEA 2022.2.5 Ultimate Edition</li>\n<li>In build.gradle.kts:\n<ul>\n<li><code>plugins { kotlin(&quot;jvm&quot;) version &quot;1.8.22&quot; }</code></li>\n<li><code>kotlin { jvmToolchain(17) }</code> (Update: I can get it to work without this)</li>\n</ul>\n</li>\n<li>openjdk-17.0.2</li>\n<li>Windows 10</li>\n</ul>\n<p>UPDATE:\nThe above issues occur when trying to start a profiler on a unit test. But, if I start the unit test first, then attach the profiler... it's working... :shrug:</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1688767508,"post_id":76640390,"comment_id":135122887,"body_markdown":"yeah...annotations are not at the AI level yet, they don&#39;t magically do what you want them to. If you want this annotation to do something you will need to write the code that searches for this annotation and sets the corresponding value. In SpringBoot there is a somewhat similar annotation present that you might like - `@Value(&quot;someValue&quot;)` - see more [here](https://www.baeldung.com/spring-value-annotation). Using Spring [SpEL](https://www.baeldung.com/spring-expression-language) you can do pretty cool things with it.","body":"yeah...annotations are not at the AI level yet, they don&#39;t magically do what you want them to. If you want this annotation to do something you will need to write the code that searches for this annotation and sets the corresponding value. In SpringBoot there is a somewhat similar annotation present that you might like - <code>@Value(&quot;someValue&quot;)</code> - see more <a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"nofollow noreferrer\">here</a>. Using Spring <a href=\"https://www.baeldung.com/spring-expression-language\" rel=\"nofollow noreferrer\">SpEL</a> you can do pretty cool things with it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688767674,"post_id":76640390,"comment_id":135122905,"body_markdown":"What code have you written to find the annotation, cause the setter to be intercepted, and modify the value? Please add that to your question.","body":"What code have you written to find the annotation, cause the setter to be intercepted, and modify the value? Please add that to your question."},{"owner":{"account_id":8543079,"reputation":11,"user_id":6402448,"display_name":"Nitinram Velraaj"},"score":0,"creation_date":1689120468,"post_id":76640390,"comment_id":135167426,"body_markdown":"I just learned that there needs to be code that checks for the annotation and performs the edit. I initially incorrectly assumed that the String value() default &quot;someValue&quot;; \nadds the value to the field if Target is set toElementType.FIELD\n\nExtracting the fields of the class and iterating through them to check if the field has the annotation and then modifying it made it work.","body":"I just learned that there needs to be code that checks for the annotation and performs the edit. I initially incorrectly assumed that the String value() default &quot;someValue&quot;;  adds the value to the field if Target is set toElementType.FIELD  Extracting the fields of the class and iterating through them to check if the field has the annotation and then modifying it made it work."}],"owner":{"account_id":8543079,"reputation":11,"user_id":6402448,"display_name":"Nitinram Velraaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688766406,"creation_date":1688766406,"question_id":76640390,"body_markdown":"I want to create a custom java annotation that can act on String data types in data classes and modify their values when they are set. So for instance lets say I have\r\n\r\n    @Getter\r\n    @Setter\r\n    public class User {\r\n        @Modify\r\n        private String userName;\r\n    }\r\n\r\nThe expectation is that when userName is set I want the userName&#39;s value to be modified as userName+&quot;someValue&quot;\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface Modify {\r\n       String value() default &quot;someValue&quot;;\r\n    }\r\n\r\nWhen I create a new User object and set the userName value using a setter, its not getting modified. ","title":"Custom annotation to modify string data type not working","body":"<p>I want to create a custom java annotation that can act on String data types in data classes and modify their values when they are set. So for instance lets say I have</p>\n<pre><code>@Getter\n@Setter\npublic class User {\n    @Modify\n    private String userName;\n}\n</code></pre>\n<p>The expectation is that when userName is set I want the userName's value to be modified as userName+&quot;someValue&quot;</p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Modify {\n   String value() default &quot;someValue&quot;;\n}\n</code></pre>\n<p>When I create a new User object and set the userName value using a setter, its not getting modified.</p>\n"},{"tags":["java","spring","hibernate","jpa","serialization"],"answers":[{"comments":[{"owner":{"account_id":7634448,"reputation":605,"user_id":5788396,"display_name":"funfried"},"score":0,"creation_date":1510660991,"post_id":47284773,"comment_id":81520546,"body_markdown":"Ok, you’re right, but you need to ensure you can deserialize and serialize your entities which in this case wasn’t done for sure. I think it’s a lot easier when using separate DTOs, also you might have different object structures on the REST interface than as the entities","body":"Ok, you’re right, but you need to ensure you can deserialize and serialize your entities which in this case wasn’t done for sure. I think it’s a lot easier when using separate DTOs, also you might have different object structures on the REST interface than as the entities"}],"tags":[],"owner":{"account_id":7634448,"reputation":605,"user_id":5788396,"display_name":"funfried"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510659283,"creation_date":1510659283,"answer_id":47284773,"question_id":47284548,"body_markdown":"You can’t simply transfer database entities over a REST interface, you have to create DTOs and transfer them instead of your entities.","title":"could not deserialize] with root cause java.io.EOFException: null","body":"<p>You can’t simply transfer database entities over a REST interface, you have to create DTOs and transfer them instead of your entities.</p>\n"},{"comments":[{"owner":{"account_id":3755839,"reputation":221,"user_id":3122225,"accept_rate":70,"display_name":"madrick"},"score":1,"creation_date":1558670755,"post_id":47295799,"comment_id":99184616,"body_markdown":"@EduardoKrakhecke what did you do to solve this issue? I&#39;m facing the same one.","body":"@EduardoKrakhecke what did you do to solve this issue? I&#39;m facing the same one."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1510696168,"creation_date":1510696168,"answer_id":47295799,"question_id":47284548,"body_markdown":"Looks like you&#39;re trying to deserialize an empty stream.","title":"could not deserialize] with root cause java.io.EOFException: null","body":"<p>Looks like you're trying to deserialize an empty stream.</p>\n"},{"tags":[],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587596212,"creation_date":1587596212,"answer_id":61376478,"question_id":47284548,"body_markdown":"For me, the cause was using `@Column` instead of `@JoinColumn` on an association. Was able to find out by turning on logging for the queries being run:\r\n```\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.springframework.transaction=DEBUG\r\nlogging.level.org.hibernate=DEBUG\r\nlogging.level.org.hibernate.SQL=debug\r\nlogging.level.org.hibernate.type.descriptor.sql=trace\r\n```\r\ntbh, not sure which of those properties are actually needed, but I found them on some other SO question and just turn them all on when debugging. In the logs I saw a line for each of the columns that were fetched and the last one logged before the exception I was getting was the column value for the association where I had the wrong annotation.","title":"could not deserialize] with root cause java.io.EOFException: null","body":"<p>For me, the cause was using <code>@Column</code> instead of <code>@JoinColumn</code> on an association. Was able to find out by turning on logging for the queries being run:</p>\n\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.springframework.transaction=DEBUG\nlogging.level.org.hibernate=DEBUG\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=trace\n</code></pre>\n\n<p>tbh, not sure which of those properties are actually needed, but I found them on some other SO question and just turn them all on when debugging. In the logs I saw a line for each of the columns that were fetched and the last one logged before the exception I was getting was the column value for the association where I had the wrong annotation.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689093462,"post_id":76640373,"comment_id":135163264,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76640373/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9348381,"reputation":1,"user_id":6938921,"display_name":"SERGIO HIDALGO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688766005,"creation_date":1688766005,"answer_id":76640373,"question_id":47284548,"body_markdown":"for me the associated error &quot;invalid stream header: C3020D1B&quot; was due to the numeric data type, solved by changing to Long data type XD, couple of hours invested !!!\r\n","title":"could not deserialize] with root cause java.io.EOFException: null","body":"<p>for me the associated error &quot;invalid stream header: C3020D1B&quot; was due to the numeric data type, solved by changing to Long data type XD, couple of hours invested !!!</p>\n"}],"owner":{"account_id":7456415,"reputation":375,"user_id":5669550,"accept_rate":56,"display_name":"Eduardo Krakhecke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3846,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47295799,"answer_count":4,"score":2,"last_activity_date":1688766005,"creation_date":1510658699,"question_id":47284548,"body_markdown":"I have seen some questions on this subject but I have not got any valid solution for my case \r\n\r\n\r\nI&#39;m having an exception with jason serialization I have the following classes \r\n\r\nwhen I do a GET Pacientes I have an exception of the serialization privilege type \r\n\r\n    2017-11-14 08:54:35.039  INFO 8724 --- [nio-8080-exec-1] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command : org.hibernate.type.SerializationException: could not deserialize\r\n    2017-11-14 08:54:35.047 ERROR 8724 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize] with root cause\r\n    \r\n        java.io.EOFException: null\r\n        \tat java.io.ObjectInputStream$PeekInputStream.readFully(Unknown Source) ~[na:1.8.0_144]\r\n        \tat java.io.ObjectInputStream$BlockDataInputStream.readShort(Unknown Source) ~[na:1.8.0_144]\r\n        \tat java.io.ObjectInputStream.readStreamHeader(Unknown Source) ~[na:1.8.0_144]\r\n        \tat java.io.ObjectInputStream.&lt;init&gt;(Unknown Source) ~[na:1.8.0_144]\r\n        \tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n        \tat org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n        \tat org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\r\nI&#39;m using framwork Spring boot with spring data jpa\r\n\r\nclass Paciente \r\n\r\n\r\n    import java.io.Serializable;\r\n    import java.math.BigInteger;\r\n    import javax.persistence.Basic;\r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    import digifred.model.global.Entidades;\r\n    import digifred.model.global.IdentidadesGenero;\r\n    import digifred.model.global.OrientacoesSexuais;\r\n    import digifred.model.global.Pessoas;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;pacientes&quot;, schema = &quot;sau&quot;)\r\n    public class Pacientes implements Serializable  {\r\n    \r\n    \r\n     \r\n    \tprivate static final long serialVersionUID = 5776384003601026304L;\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;idPaciente&quot;)\r\n        private Long idPaciente;\r\n        \r\n    \r\n        @JoinColumn(name=&quot;id_entidade&quot;)\r\n    \t@ManyToOne(cascade = CascadeType.ALL)\r\n        private Entidades entidade;\r\n        \r\n    \r\n        @Basic(optional = false)\r\n        @JoinColumn(name=&quot;idPessoa&quot;)\r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        private Pessoas pessoa;\r\n        \r\n        \r\n        @Column(name = &quot;idResponsavel_familiar&quot;)\r\n        private BigInteger responsavelFamiliar;\r\n        \r\n        \r\n        @Column(name = &quot;nomeResponsavel&quot;)\r\n        private String nomeResponsavel;\r\n        \r\n        \r\n        @Column(name = &quot;cpfResponsavel&quot;)\r\n        private String cpfResponsavel;\r\n        \r\n        \r\n        @Column(name = &quot;cnsResponsavel&quot;)\r\n        private String cnsResponsavel;\r\n        \r\n        \r\n        @Column(name = &quot;flagAlergico&quot;)\r\n        private Integer flagAlergico;\r\n        \r\n        \r\n        @Column(name = &quot;observacoesAlergias&quot;)\r\n        private String observacoesAlergias;\r\n        \r\n        \r\n        @Column(name = &quot;microarea&quot;)\r\n        private String microarea;\r\n        \r\n        \r\n        @Column(name = &quot;idDomicilio&quot;)\r\n        private Long idDomicilio;\r\n        \r\n    \r\n        @JoinColumn(name=&quot;idOrientacaoSexual&quot;)\r\n        @ManyToOne\r\n        private OrientacoesSexuais orientacaoSexual;\r\n        \r\n    \r\n        @JoinColumn(name=&quot;idIdentidadeGenero&quot;, insertable=false, updatable=false)\r\n        @ManyToOne\r\n        private IdentidadesGenero identidadeGenero;\r\n        \r\n        \r\n        @Basic(optional = false)\r\n        @Column(name = &quot;flag_ativo&quot;)\r\n        private int flagAtivo;\r\n        \r\n        \r\n        @JoinColumn(name=&quot;idArea&quot;)\r\n        @ManyToOne\r\n        private Areas area;\r\n        \r\n        \r\n        @JoinColumn(name=&quot;idFamilia&quot;)\r\n        @ManyToOne\r\n        private Familias familia;\r\n    \r\n        public Pacientes() {\r\n        }\r\n        \r\n        \r\n     getters and setters\r\n    }\r\n\r\n    \r\n  \r\n   \r\n\r\n  \r\n\r\n","title":"could not deserialize] with root cause java.io.EOFException: null","body":"<p>I have seen some questions on this subject but I have not got any valid solution for my case </p>\n\n<p>I'm having an exception with jason serialization I have the following classes </p>\n\n<p>when I do a GET Pacientes I have an exception of the serialization privilege type </p>\n\n<pre><code>2017-11-14 08:54:35.039  INFO 8724 --- [nio-8080-exec-1] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command : org.hibernate.type.SerializationException: could not deserialize\n2017-11-14 08:54:35.047 ERROR 8724 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize] with root cause\n\n    java.io.EOFException: null\n        at java.io.ObjectInputStream$PeekInputStream.readFully(Unknown Source) ~[na:1.8.0_144]\n        at java.io.ObjectInputStream$BlockDataInputStream.readShort(Unknown Source) ~[na:1.8.0_144]\n        at java.io.ObjectInputStream.readStreamHeader(Unknown Source) ~[na:1.8.0_144]\n        at java.io.ObjectInputStream.&lt;init&gt;(Unknown Source) ~[na:1.8.0_144]\n        at org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:309) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n        at org.hibernate.internal.util.SerializationHelper$CustomObjectInputStream.&lt;init&gt;(SerializationHelper.java:299) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n        at org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:218) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n</code></pre>\n\n<p>I'm using framwork Spring boot with spring data jpa</p>\n\n<p>class Paciente </p>\n\n<pre><code>import java.io.Serializable;\nimport java.math.BigInteger;\nimport javax.persistence.Basic;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\nimport digifred.model.global.Entidades;\nimport digifred.model.global.IdentidadesGenero;\nimport digifred.model.global.OrientacoesSexuais;\nimport digifred.model.global.Pessoas;\n\n\n@Entity\n@Table(name = \"pacientes\", schema = \"sau\")\npublic class Pacientes implements Serializable  {\n\n\n\n    private static final long serialVersionUID = 5776384003601026304L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"idPaciente\")\n    private Long idPaciente;\n\n\n    @JoinColumn(name=\"id_entidade\")\n    @ManyToOne(cascade = CascadeType.ALL)\n    private Entidades entidade;\n\n\n    @Basic(optional = false)\n    @JoinColumn(name=\"idPessoa\")\n    @ManyToOne(cascade = CascadeType.ALL)\n    private Pessoas pessoa;\n\n\n    @Column(name = \"idResponsavel_familiar\")\n    private BigInteger responsavelFamiliar;\n\n\n    @Column(name = \"nomeResponsavel\")\n    private String nomeResponsavel;\n\n\n    @Column(name = \"cpfResponsavel\")\n    private String cpfResponsavel;\n\n\n    @Column(name = \"cnsResponsavel\")\n    private String cnsResponsavel;\n\n\n    @Column(name = \"flagAlergico\")\n    private Integer flagAlergico;\n\n\n    @Column(name = \"observacoesAlergias\")\n    private String observacoesAlergias;\n\n\n    @Column(name = \"microarea\")\n    private String microarea;\n\n\n    @Column(name = \"idDomicilio\")\n    private Long idDomicilio;\n\n\n    @JoinColumn(name=\"idOrientacaoSexual\")\n    @ManyToOne\n    private OrientacoesSexuais orientacaoSexual;\n\n\n    @JoinColumn(name=\"idIdentidadeGenero\", insertable=false, updatable=false)\n    @ManyToOne\n    private IdentidadesGenero identidadeGenero;\n\n\n    @Basic(optional = false)\n    @Column(name = \"flag_ativo\")\n    private int flagAtivo;\n\n\n    @JoinColumn(name=\"idArea\")\n    @ManyToOne\n    private Areas area;\n\n\n    @JoinColumn(name=\"idFamilia\")\n    @ManyToOne\n    private Familias familia;\n\n    public Pacientes() {\n    }\n\n\n getters and setters\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":28281132,"reputation":3,"user_id":21622764,"display_name":"Sanjay Mardi"},"score":0,"creation_date":1688729395,"post_id":76634714,"comment_id":135116320,"body_markdown":"I am trying to print the entire salary column of the table.","body":"I am trying to print the entire salary column of the table."}],"answers":[{"comments":[{"owner":{"account_id":28281132,"reputation":3,"user_id":21622764,"display_name":"Sanjay Mardi"},"score":0,"creation_date":1688727242,"post_id":76635721,"comment_id":135115892,"body_markdown":"I am trying to print the entire salary column not just a specific value of the column. Write something that can solve my problem.","body":"I am trying to print the entire salary column not just a specific value of the column. Write something that can solve my problem."},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1688732341,"post_id":76635721,"comment_id":135116947,"body_markdown":"You can use updated code snippet I provided above.","body":"You can use updated code snippet I provided above."}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688732282,"creation_date":1688722480,"answer_id":76635721,"question_id":76634714,"body_markdown":"I&#39;m not sure what is the problem here.\r\n\r\nThis block of code works for me on raw Selenium\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://datatables.net/examples/basic_init/test.html&quot;);\r\n\r\n     driver.findElements(new By.ByCssSelector(&quot;[id=example] tr[class]&quot;)).forEach(row -&gt;\r\n        {\r\n            String result = row.findElements(new By.ByTagName(&quot;td&quot;)).get(5).getText();\r\n            System.out.println(result);\r\n        });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nwhere expectedRow - is the index of row with Salary and 5 - index of Salary column.\r\n\r\nFor sure this can be wrapped in separate method and there can be automatic column index search by getting index of th which contains aria-label &quot;Salary&quot;, but you can do it by our own if you need it :)","title":"Printing All values from specific Colum &quot;Salary&quot;","body":"<p>I'm not sure what is the problem here.</p>\n<p>This block of code works for me on raw Selenium</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>WebDriver driver = new ChromeDriver();\ndriver.get(\"https://datatables.net/examples/basic_init/test.html\");\n\n driver.findElements(new By.ByCssSelector(\"[id=example] tr[class]\")).forEach(row -&gt;\n    {\n        String result = row.findElements(new By.ByTagName(\"td\")).get(5).getText();\n        System.out.println(result);\n    });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>where expectedRow - is the index of row with Salary and 5 - index of Salary column.</p>\n<p>For sure this can be wrapped in separate method and there can be automatic column index search by getting index of th which contains aria-label &quot;Salary&quot;, but you can do it by our own if you need it :)</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688764965,"creation_date":1688764965,"answer_id":76640305,"question_id":76634714,"body_markdown":"The _Salary_ is within the 6&lt;sup&gt;th&lt;/sup&gt; descendant i.e. the last `&lt;td&gt;` of it&#39;s parent `&lt;tr&gt;`\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo print the text from the _Salary_ column you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the [`visibilityOfAllElementsLocatedBy()`](https://stackoverflow.com/questions/65677878/webdriver-with-java-not-able-to-get-all-the-text-using-webdriver/65686528#65686528) and you can use _Java8_ [`stream()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) and [`map()`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html) and you can use either of the following [Locator Strategies](https://stackoverflow.com/a/48376890/7429447):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  driver.get(&quot;https://datatables.net/examples/basic_init/test.html&quot;);\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;table#example tbody tr td:nth-child(6)&quot;))).stream().map(element -&gt; element.getText()).collect(Collectors.toList()));\r\n\r\n\t\r\n- Using _xpath_:\r\n\r\n\t  driver.get(&quot;https://datatables.net/examples/basic_init/test.html&quot;);\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//table[@id=&#39;example&#39;]//tbody//tr//td[last()]&quot;))).stream().map(element -&gt; element.getText()).collect(Collectors.toList()));\r\n\t\t\r\n- Console output:\r\n\r\n\t  [$162,700, $1,200,000, $86,000, $132,000, $206,850, $372,000, $163,500, $106,450, $145,600, $433,060]","title":"Printing All values from specific Colum &quot;Salary&quot;","body":"<p>The <em>Salary</em> is within the 6<sup>th</sup> descendant i.e. the last <code>&lt;td&gt;</code> of it's parent <code>&lt;tr&gt;</code></p>\n<hr />\n<h2>Solution</h2>\n<p>To print the text from the <em>Salary</em> column you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/questions/65677878/webdriver-with-java-not-able-to-get-all-the-text-using-webdriver/65686528#65686528\"><code>visibilityOfAllElementsLocatedBy()</code></a> and you can use <em>Java8</em> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>stream()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>map()</code></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48376890/7429447\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>driver.get(&quot;https://datatables.net/examples/basic_init/test.html&quot;);\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;table#example tbody tr td:nth-child(6)&quot;))).stream().map(element -&gt; element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>driver.get(&quot;https://datatables.net/examples/basic_init/test.html&quot;);\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//table[@id='example']//tbody//tr//td[last()]&quot;))).stream().map(element -&gt; element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n<li><p>Console output:</p>\n<pre><code>[$162,700, $1,200,000, $86,000, $132,000, $206,850, $372,000, $163,500, $106,450, $145,600, $433,060]\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":28281132,"reputation":3,"user_id":21622764,"display_name":"Sanjay Mardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1688764965,"creation_date":1688714310,"question_id":76634714,"body_markdown":"I am trying to print a Webtable-specific column that is Salary and am notable to figure out how to do that please help.\r\n\r\n \r\n``` package Webapp;\r\n\r\nimport java.util.List;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\npublic class Table {\r\npublic static void main(String[] args) {\r\nWebDriver driver = new FirefoxDriver();\r\n\r\ndriver.get(&quot;https://datatables.net/examples/basic_init/test.html&quot;);\t\r\nWebElement table =driver.findElement((By.xpath(&quot;//*[@id=\\&quot;example\\&quot;]/tbody/tr[1]/td[6]&quot;)));\r\nThread.sleep(10000);\r\nfor (WebElement td: table){\r\n\tSystem.out.println(td.getText());\r\n}  \r\n\r\n    driver.quit();\t\r\n} \r\n\r\n  }\r\n}\r\n ```","title":"Printing All values from specific Colum &quot;Salary&quot;","body":"<p>I am trying to print a Webtable-specific column that is Salary and am notable to figure out how to do that please help.</p>\n<pre><code>\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class Table {\npublic static void main(String[] args) {\nWebDriver driver = new FirefoxDriver();\n\ndriver.get(&quot;https://datatables.net/examples/basic_init/test.html&quot;); \nWebElement table =driver.findElement((By.xpath(&quot;//*[@id=\\&quot;example\\&quot;]/tbody/tr[1]/td[6]&quot;)));\nThread.sleep(10000);\nfor (WebElement td: table){\n    System.out.println(td.getText());\n}  \n\n    driver.quit();  \n} \n\n  }\n}\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":12514905,"reputation":2245,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688764651,"post_id":76640245,"comment_id":135122593,"body_markdown":"From the Javadoc: `Throws: IllegalArgumentException - if from &gt; to`.","body":"From the Javadoc: <code>Throws: IllegalArgumentException - if from &gt; to</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688767860,"post_id":76640245,"comment_id":135122927,"body_markdown":"@newQOpenGLWidget Yes, but note the stack trace shows the error is coming from the compiler, not the OP&#39;s code.","body":"@newQOpenGLWidget Yes, but note the stack trace shows the error is coming from the compiler, not the OP&#39;s code."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688768097,"post_id":76640245,"comment_id":135122948,"body_markdown":"@TateyRG Your command is wrong. The `src/rangel/erlan/ui/UI.java` means you&#39;re using the [&quot;launch single source file programs&quot;](https://openjdk.org/jeps/330) feature added in Java 11. And that means that file is being compiled into memory and then executed. Why that would lead to the error you&#39;re seeing, I&#39;m not sure. But try to use the correct `java` command to see if that gets rid of the error. That means using the _fully qualified class name_ instead of the source file path: `rangel.erlan.ui.UI`. That will use the already-compiled code from your previous invocation of `javac`.","body":"@TateyRG Your command is wrong. The <code>src&#47;rangel&#47;erlan&#47;ui&#47;UI.java</code> means you&#39;re using the <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">&quot;launch single source file programs&quot;</a> feature added in Java 11. And that means that file is being compiled into memory and then executed. Why that would lead to the error you&#39;re seeing, I&#39;m not sure. But try to use the correct <code>java</code> command to see if that gets rid of the error. That means using the <i>fully qualified class name</i> instead of the source file path: <code>rangel.erlan.ui.UI</code>. That will use the already-compiled code from your previous invocation of <code>javac</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1688769167,"post_id":76640245,"comment_id":135123041,"body_markdown":"Make sure you can get `HelloFX` running in your environment, following the instructions at [openjfx.io](https://openjfx.io/openjfx-docs/#install-javafx).  After that, adopt the process for your code (or use the more sophisticated options at openjfx.io that detail maven/gradle build tool use and/or IDE use).","body":"Make sure you can get <code>HelloFX</code> running in your environment, following the instructions at <a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">openjfx.io</a>.  After that, adopt the process for your code (or use the more sophisticated options at openjfx.io that detail maven/gradle build tool use and/or IDE use)."},{"owner":{"account_id":17930764,"reputation":11,"user_id":13028257,"display_name":"TateyRG"},"score":0,"creation_date":1688779234,"post_id":76640245,"comment_id":135123858,"body_markdown":"@jewelsea, the `HelloFX` works fine. But applying the `HelloFX` code on mine I get this error:\n```\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: rangel.erlan.ui.UI\n```\nThis is after compiling and running the .class file created inside `src/rangel/erlan/ui/`","body":"@jewelsea, the <code>HelloFX</code> works fine. But applying the <code>HelloFX</code> code on mine I get this error: ``` Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: rangel.erlan.ui.UI ``` This is after compiling and running the .class file created inside <code>src&#47;rangel&#47;erlan&#47;ui&#47;</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688782739,"post_id":76640245,"comment_id":135124045,"body_markdown":"Rather than doing this all manually on the command line, I strongly suggest using a build tool (Maven or Gradle) to handle compiling, running, etc. your project, plus an IDE to help with development. That said, if the class file ended up under `src/rangel/erlan/ui`, then did you change `-cp bin` to `-cp src`? Or you could put the class files in `bin` with `-d bin`.","body":"Rather than doing this all manually on the command line, I strongly suggest using a build tool (Maven or Gradle) to handle compiling, running, etc. your project, plus an IDE to help with development. That said, if the class file ended up under <code>src&#47;rangel&#47;erlan&#47;ui</code>, then did you change <code>-cp bin</code> to <code>-cp src</code>? Or you could put the class files in <code>bin</code> with <code>-d bin</code>."},{"owner":{"account_id":17930764,"reputation":11,"user_id":13028257,"display_name":"TateyRG"},"score":0,"creation_date":1688919079,"post_id":76640245,"comment_id":135135966,"body_markdown":"I wanted to do this manually to avoid installing an IDE and  thought that it would be easy to compile and run myself. As a temporary solution I just installed IntelliJ and it seems to be working fine.\nHowever, I won&#39;t give up. Not sure what the IDE is doing that Im not.","body":"I wanted to do this manually to avoid installing an IDE and  thought that it would be easy to compile and run myself. As a temporary solution I just installed IntelliJ and it seems to be working fine. However, I won&#39;t give up. Not sure what the IDE is doing that Im not."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689074247,"post_id":76640245,"comment_id":135158628,"body_markdown":"Java on the command line is not particularly user-friendly. That&#39;s one of the reasons build tools (e.g., Maven, Gradle, etc.) are so popular in the Java ecosystem (another major reason is dependency management, plus all the other build related things build tools can do, such as testing, code analyzers, formatting, etc.). IDEs can do a lot of those things too, but build tools are more &quot;general&quot;/&quot;IDE-independent&quot;. In short, I would _not_ recommend developing in Java without a build tool or an IDE (the latter especially for code completion, quick documentation, refactoring support, etc.).","body":"Java on the command line is not particularly user-friendly. That&#39;s one of the reasons build tools (e.g., Maven, Gradle, etc.) are so popular in the Java ecosystem (another major reason is dependency management, plus all the other build related things build tools can do, such as testing, code analyzers, formatting, etc.). IDEs can do a lot of those things too, but build tools are more &quot;general&quot;/&quot;IDE-independent&quot;. In short, I would <i>not</i> recommend developing in Java without a build tool or an IDE (the latter especially for code completion, quick documentation, refactoring support, etc.)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689074254,"post_id":76640245,"comment_id":135158630,"body_markdown":"Though for relatively simple Java projects, forgoing a build tool should be okay.","body":"Though for relatively simple Java projects, forgoing a build tool should be okay."}],"owner":{"account_id":17930764,"reputation":11,"user_id":13028257,"display_name":"TateyRG"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688764065,"creation_date":1688764065,"question_id":76640245,"body_markdown":"I am trying to build a simple window with JavaFX using SceneBuilder. My fxml file is pretty simple\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;rangel.erlan.ui.ControladorUsuarios&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Text layoutX=&quot;250.0&quot; layoutY=&quot;205.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;This is just a test&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nMain (UI.java).\r\n\r\n```\r\npackage rangel.erlan.ui;\r\n\r\nimport java.io.IOException;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class UI extends Application {\r\n\r\n  public static void main(String[] args) {\r\n    launch(args);\r\n  }\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) throws IOException {\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;Usuarios.fxml&quot;));\r\n    primaryStage.setTitle(&quot;Formulario de Ingreso de Usuarios&quot;);\r\n    primaryStage.setScene(new Scene(root, 625, 450));\r\n    primaryStage.show();\r\n  }\r\n}\r\n```\r\n\r\nThe compilation process is successful. I use the following command to run the application:\r\n\r\n`java --module-path /usr/lib/jvm/java-20-openjdk/lib/javafx_modules/ --add-modules javafx.controls,javafx.fxml -cp bin src/rangel/erlan/ui/UI.java`\r\n\r\nBut this is the error I get from that:\r\n\r\n```\r\nException in Application start method\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -2\r\n        at java.base/java.util.Arrays.copyOfRange(Arrays.java:3782)\r\n        at java.base/java.util.Arrays.copyOfRange(Arrays.java:3742)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:447)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:205)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n```\r\n\r\nI am using Arch Linux and the latest OpenJFX, with which I had issues when running the application due to the javafx lib path. I solve it by creating a new directory containing all the javafx modules that I need. After that, the only error I am getting is the `Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -2`.\r\nEverything is supposed to be working correctly but not sure what this issues is and not sure how to solve it.","title":"JavaFX error: Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -2","body":"<p>I am trying to build a simple window with JavaFX using SceneBuilder. My fxml file is pretty simple</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;rangel.erlan.ui.ControladorUsuarios&quot;&gt;\n   &lt;children&gt;\n      &lt;Text layoutX=&quot;250.0&quot; layoutY=&quot;205.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;This is just a test&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Main (UI.java).</p>\n<pre><code>package rangel.erlan.ui;\n\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class UI extends Application {\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  @Override\n  public void start(Stage primaryStage) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;Usuarios.fxml&quot;));\n    primaryStage.setTitle(&quot;Formulario de Ingreso de Usuarios&quot;);\n    primaryStage.setScene(new Scene(root, 625, 450));\n    primaryStage.show();\n  }\n}\n</code></pre>\n<p>The compilation process is successful. I use the following command to run the application:</p>\n<p><code>java --module-path /usr/lib/jvm/java-20-openjdk/lib/javafx_modules/ --add-modules javafx.controls,javafx.fxml -cp bin src/rangel/erlan/ui/UI.java</code></p>\n<p>But this is the error I get from that:</p>\n<pre><code>Exception in Application start method\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -2\n        at java.base/java.util.Arrays.copyOfRange(Arrays.java:3782)\n        at java.base/java.util.Arrays.copyOfRange(Arrays.java:3742)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:447)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:205)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n<p>I am using Arch Linux and the latest OpenJFX, with which I had issues when running the application due to the javafx lib path. I solve it by creating a new directory containing all the javafx modules that I need. After that, the only error I am getting is the <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -2</code>.\nEverything is supposed to be working correctly but not sure what this issues is and not sure how to solve it.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"score":0,"creation_date":1686764511,"post_id":76476209,"comment_id":134845439,"body_markdown":".findFirst() may be what you&#39;re looking for.","body":".findFirst() may be what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686764957,"creation_date":1686764957,"answer_id":76476307,"question_id":76476209,"body_markdown":"Use \r\n\r\n- `findFirst` to get one `ABC` instance, it returns an `Optional&lt;ABC&gt;`\r\n- `orElseThrow` to get the real `ABC` or raise an exception is no match\r\n- `getText` once to get its text\r\n\r\n&lt;!-- --&gt;\r\n\r\n\r\n    String result = list.stream().filter(p -&gt; p.getId() == n).findFirst().orElseThrow().getText();\r\n","title":"How to get an element of an object from a linkedlist using streams in Java","body":"<p>Use</p>\n<ul>\n<li><code>findFirst</code> to get one <code>ABC</code> instance, it returns an <code>Optional&lt;ABC&gt;</code></li>\n<li><code>orElseThrow</code> to get the real <code>ABC</code> or raise an exception is no match</li>\n<li><code>getText</code> once to get its text</li>\n</ul>\n\n<pre><code>String result = list.stream().filter(p -&gt; p.getId() == n).findFirst().orElseThrow().getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686765029,"creation_date":1686765029,"answer_id":76476315,"question_id":76476209,"body_markdown":"use `findFirst()` and be aware return type is an **Optional** instance.\r\n\r\n     String result = list.stream()\r\n                       .filter(p -&gt; p.getId() == n)\r\n                       .map(ABC::getText)\r\n                       .findFirst()\r\n                       .orElse(null);","title":"How to get an element of an object from a linkedlist using streams in Java","body":"<p>use <code>findFirst()</code> and be aware return type is an <strong>Optional</strong> instance.</p>\n<pre><code> String result = list.stream()\n                   .filter(p -&gt; p.getId() == n)\n                   .map(ABC::getText)\n                   .findFirst()\n                   .orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686765774,"creation_date":1686765774,"answer_id":76476394,"question_id":76476209,"body_markdown":"You can use _[Stream#findFirst](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#findFirst())_, with the _[Optional#orElse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html#orElse(T))_.\r\n\r\n```java\r\nSystem.out.println(\r\n    list.stream().filter(abc -&gt; abc.id == n)\r\n                 .map(abc -&gt; abc.text)\r\n                 .findFirst()\r\n                 .orElse(null));\r\n```\r\n\r\nOutput, where _n_ is 3.\r\n\r\n```none\r\nRabbit\r\n```","title":"How to get an element of an object from a linkedlist using streams in Java","body":"<p>You can use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#findFirst()\" rel=\"nofollow noreferrer\">Stream#findFirst</a></em>, with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\">Optional#orElse</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n    list.stream().filter(abc -&gt; abc.id == n)\n                 .map(abc -&gt; abc.text)\n                 .findFirst()\n                 .orElse(null));\n</code></pre>\n<p>Output, where <em>n</em> is 3.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Rabbit\n</code></pre>\n"}],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76476307,"answer_count":3,"score":0,"last_activity_date":1688763277,"creation_date":1686764187,"question_id":76476209,"body_markdown":"Consider a class ABC\r\n\r\n    class ABC{\r\n      int id;\r\n      String text;\r\n      getter &amp; setter methods..\r\n    }\r\n\r\nA list of instances of ABC is collected in a linked list.\r\n\r\n    Linkedlist&lt;ABC&gt;\r\n\r\nNow, I have an input int n. Based on the input n, I need to check list of ABC instances where I can get a match `(n == d)`\r\n\r\nBased on the match, I will have to retrieve the corresponding String text from the same instance of ABC.\r\n\r\nFor example:\r\n\r\n    Linkedlist&lt;ABC&gt; list = new Linkedlist&lt;&gt;();\r\n    list.add(new ABC(1,&quot;Eagle&quot;);\r\n    list.add(new ABC(2,&quot;Tiger&quot;);\r\n    list.add(new ABC(3,&quot;Rabbit&quot;);\r\n\r\nif the input n = 3,\r\nthen I need to get the below result:\r\n&quot;Rabbit&quot;\r\n\r\nI tried to use streams as below:\r\n\r\n    list.stream().filter(p -&gt; p.getId() == n).map(ABC:: getText);\r\n\r\nBut I want only String as an answer from the above line. \r\n","title":"How to get an element of an object from a linkedlist using streams in Java","body":"<p>Consider a class ABC</p>\n<pre><code>class ABC{\n  int id;\n  String text;\n  getter &amp; setter methods..\n}\n</code></pre>\n<p>A list of instances of ABC is collected in a linked list.</p>\n<pre><code>Linkedlist&lt;ABC&gt;\n</code></pre>\n<p>Now, I have an input int n. Based on the input n, I need to check list of ABC instances where I can get a match <code>(n == d)</code></p>\n<p>Based on the match, I will have to retrieve the corresponding String text from the same instance of ABC.</p>\n<p>For example:</p>\n<pre><code>Linkedlist&lt;ABC&gt; list = new Linkedlist&lt;&gt;();\nlist.add(new ABC(1,&quot;Eagle&quot;);\nlist.add(new ABC(2,&quot;Tiger&quot;);\nlist.add(new ABC(3,&quot;Rabbit&quot;);\n</code></pre>\n<p>if the input n = 3,\nthen I need to get the below result:\n&quot;Rabbit&quot;</p>\n<p>I tried to use streams as below:</p>\n<pre><code>list.stream().filter(p -&gt; p.getId() == n).map(ABC:: getText);\n</code></pre>\n<p>But I want only String as an answer from the above line.</p>\n"},{"tags":["java","maven","build","wsimport"],"comments":[{"owner":{"account_id":7640648,"reputation":1958,"user_id":5792859,"accept_rate":50,"display_name":"mibrahim.iti"},"score":0,"creation_date":1488237494,"post_id":42497373,"comment_id":72134276,"body_markdown":"can u try to add this repository https://mvnrepository.com/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin in pom.xml file ?","body":"can u try to add this repository <a href=\"https://mvnrepository.com/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.jvnet.jax-ws-commons/&hellip;</a> in pom.xml file ?"},{"owner":{"account_id":7640648,"reputation":1958,"user_id":5792859,"accept_rate":50,"display_name":"mibrahim.iti"},"score":0,"creation_date":1488238174,"post_id":42497373,"comment_id":72134493,"body_markdown":"i just added the plugin to my test pom.xml file, i think the problem come from files your using not in maven plugin itslef.","body":"i just added the plugin to my test pom.xml file, i think the problem come from files your using not in maven plugin itslef."},{"owner":{"account_id":5145435,"reputation":4720,"user_id":4121573,"accept_rate":100,"display_name":"Adonis"},"score":0,"creation_date":1488239543,"post_id":42497373,"comment_id":72134948,"body_markdown":"In your settings.xml, do you have any dependency management with a value of ${tools.jar} ?","body":"In your settings.xml, do you have any dependency management with a value of ${tools.jar} ?"},{"owner":{"account_id":13983587,"reputation":862,"user_id":10099219,"display_name":"Haripriya"},"score":0,"creation_date":1547098348,"post_id":42497373,"comment_id":95076698,"body_markdown":"@RanPaul, have you got any solution? I am facing exactly same issue.","body":"@RanPaul, have you got any solution? I am facing exactly same issue."},{"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"score":0,"creation_date":1547244988,"post_id":42497373,"comment_id":95140478,"body_markdown":"@PriyankaW I fiixed it using Gradle instead of Maven","body":"@PriyankaW I fiixed it using Gradle instead of Maven"},{"owner":{"account_id":13983587,"reputation":862,"user_id":10099219,"display_name":"Haripriya"},"score":1,"creation_date":1547717238,"post_id":42497373,"comment_id":95290271,"body_markdown":"@RanPaul thanks for update. I am looking for maven based solution.","body":"@RanPaul thanks for update. I am looking for maven based solution."}],"answers":[{"tags":[],"owner":{"account_id":8561961,"reputation":140,"user_id":6415729,"display_name":"Alpha"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1575539718,"creation_date":1575539718,"answer_id":59192427,"question_id":42497373,"body_markdown":"I fixed this error by simply downgrading the JDK version I was using. \r\nRight-click on your project &gt; Properties &gt; Build &gt; Compile &gt; Java Platform &gt; Set it to JDK 1.8.","title":"maven Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport","body":"<p>I fixed this error by simply downgrading the JDK version I was using. \nRight-click on your project > Properties > Build > Compile > Java Platform > Set it to JDK 1.8.</p>\n"},{"tags":[],"owner":{"account_id":11398864,"reputation":532,"user_id":9516742,"display_name":"Dinithi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678771057,"creation_date":1619097684,"answer_id":67214137,"question_id":42497373,"body_markdown":"Sometimes it will happen because of a class not found exception.\r\n\r\n1. click wsgen error and then you can see more details\r\n2. check from which point the build failed\r\n3. Check the class in sei tag (in pom.xml) refers to the correct service. it should point the correct path from the source(src).\r\n\r\n This solved my issue.","title":"maven Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport","body":"<p>Sometimes it will happen because of a class not found exception.</p>\n<ol>\n<li>click wsgen error and then you can see more details</li>\n<li>check from which point the build failed</li>\n<li>Check the class in sei tag (in pom.xml) refers to the correct service. it should point the correct path from the source(src).</li>\n</ol>\n<p>This solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":7289822,"reputation":190,"user_id":5556665,"display_name":"Milan Oparnica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688763191,"creation_date":1688763191,"answer_id":76640181,"question_id":42497373,"body_markdown":"If you&#39;re targeting JDK 17 then you can just replace\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                ...\r\nwith\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n                ...\r\n\r\nReload the POM and recompile.\r\n\r\nI&#39;m looking for a way to update the NetBeans 18 \r\n\r\n&gt; New file &gt; Web Service &gt; Web Service Client\r\n\r\n template so I don&#39;t have to mangle the pom.xml manually.","title":"maven Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport","body":"<p>If you're targeting JDK 17 then you can just replace</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            ...\n</code></pre>\n<p>with</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            ...\n</code></pre>\n<p>Reload the POM and recompile.</p>\n<p>I'm looking for a way to update the NetBeans 18</p>\n<blockquote>\n<p>New file &gt; Web Service &gt; Web Service Client</p>\n</blockquote>\n<p>template so I don't have to mangle the pom.xml manually.</p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24957,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1688763191,"creation_date":1488236478,"question_id":42497373,"body_markdown":"Below is my pom.xml for to do wsimport\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t  &lt;groupId&gt;com.dat&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;digsig&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t  &lt;name&gt;digsig&lt;/name&gt;\r\n\t  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t  &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t  &lt;/properties&gt;\r\n\r\n\t  &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t  &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-xjc --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t  &lt;/dependencies&gt;\r\n\t  &lt;build&gt;    \r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t  &lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t  &lt;goal&gt;copy&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t  &lt;outputDirectory&gt;${project.build.directory}/endorsed&lt;/outputDirectory&gt;\r\n\t\t\t\t  &lt;silent&gt;true&lt;/silent&gt;\r\n\t\t\t\t  &lt;artifactItems&gt;\r\n\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t\t\t  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t\t\t  &lt;version&gt;2.2.7&lt;/version&gt;\r\n\t\t\t\t\t  &lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t  &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t\t\t\t  &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t\t\t\t  &lt;version&gt;2.2.9&lt;/version&gt;\r\n\t\t\t\t\t  &lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t  &lt;/artifactItems&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t  &lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\t\t  &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t  &lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t  &lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;!-- Following configuration will pass all XML files from ${basedir}/src/bindings to wsimport. --&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t  &lt;bindingDirectory&gt;${basedir}/src&lt;/bindingDirectory&gt;\r\n\t\t\t\t  &lt;vmArgs&gt;\r\n\t\t\t\t\t&lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\r\n\t\t\t\t  &lt;/vmArgs&gt;\r\n\t\t\t\t  &lt;wsdlUrls&gt;\r\n\t\t\t\t\t&lt;wsdlUrl&gt;http://webservice.server/Services/InvoiceService.asmx?WSDL&lt;/wsdlUrl&gt;\r\n\t\t\t\t  &lt;/wsdlUrls&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t  &lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\r\n\t  &lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\nBuild is failing with below error\r\n\r\n\t[DEBUG] Importing foreign packages into class realm plugin&gt;org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3\r\n\t[DEBUG]   Imported:  &lt; maven.api\r\n\t[DEBUG] Populating class realm plugin&gt;org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3\r\n\t[DEBUG]   Included: org.jvnet.jax-ws-commons:jaxws-maven-plugin:jar:2.3\r\n\t[DEBUG]   Included: com.sun.xml.ws:jaxws-tools:jar:2.2.8\r\n\t[DEBUG]   Included: org.jvnet.jaxb2_commons:jaxb2-basics:jar:0.6.4\r\n\t[DEBUG]   Included: org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.6.4\r\n\t[DEBUG]   Included: org.jvnet.jaxb2_commons:jaxb2-basics-tools:jar:0.6.4\r\n\t[DEBUG]   Included: commons-beanutils:commons-beanutils:jar:1.7.0\r\n\t[DEBUG]   Included: commons-lang:commons-lang:jar:2.2\r\n\t[DEBUG]   Included: commons-logging:commons-logging:jar:1.1.1\r\n\t[DEBUG]   Included: com.google.code.javaparser:javaparser:jar:1.0.8\r\n\t[DEBUG]   Included: backport-util-concurrent:backport-util-concurrent:jar:3.1\r\n\t[DEBUG]   Included: org.codehaus.plexus:plexus-interpolation:jar:1.11\r\n\t[DEBUG]   Included: junit:junit:jar:3.8.1\r\n\t[DEBUG]   Included: org.codehaus.plexus:plexus-component-annotations:jar:1.5.5\r\n\t[DEBUG]   Included: org.sonatype.sisu:sisu-inject-bean:jar:2.3.0\r\n\t[DEBUG]   Included: org.sonatype.sisu:sisu-guice:jar:no_aop:3.1.0\r\n\t[DEBUG]   Included: org.sonatype.sisu:sisu-guava:jar:0.9.9\r\n\t[DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:3.0.10\r\n\t[DEBUG] Configuring mojo org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport from plugin realm ClassRealm[plugin&gt;org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3, parent: sun.misc.Launcher$AppClassLoader@55f96302]\r\n\t[DEBUG] Configuring mojo &#39;org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport&#39; with basic configurator --&gt;\r\n\t[DEBUG]   (f) bindingDirectory = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\r\n\t[DEBUG]   (f) destDir = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\classes\r\n\t[DEBUG]   (f) encoding = UTF-8\r\n\t[DEBUG]   (f) extension = false\r\n\t[DEBUG]   (f) genJWS = false\r\n\t[DEBUG]   (f) implDestDir = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\\main\\java\r\n\t[DEBUG]   (f) keep = true\r\n\t[DEBUG]   (f) localRepository =       id: local\r\n\t\t  url: file:///c:/tools/maven/repository/\r\n\t   layout: default\r\n\tsnapshots: [enabled =&gt; true, update =&gt; always]\r\n\t releases: [enabled =&gt; true, update =&gt; always]\r\n\r\n\t[DEBUG]   (f) pluginArtifactMap = {org.jvnet.jax-ws-commons:jaxws-maven-plugin=org.jvnet.jax-ws-commons:jaxws-maven-plugin:maven-plugin:2.3:, com.sun.xml.ws:jaxws-tools=com.sun.xml.ws:jaxws-tools:jar:2.2.8:compile, org.jvnet.jaxb2_commons:jaxb2-basics=org.jvnet.jaxb2_commons:jaxb2-basics:jar:0.6.4:compile, org.jvnet.jaxb2_commons:jaxb2-basics-runtime=org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.6.4:compile, org.jvnet.jaxb2_commons:jaxb2-basics-tools=org.jvnet.jaxb2_commons:jaxb2-basics-tools:jar:0.6.4:compile, commons-beanutils:commons-beanutils=commons-beanutils:commons-beanutils:jar:1.7.0:compile, commons-lang:commons-lang=commons-lang:commons-lang:jar:2.2:compile, commons-logging:commons-logging=commons-logging:commons-logging:jar:1.1.1:compile, com.google.code.javaparser:javaparser=com.google.code.javaparser:javaparser:jar:1.0.8:compile, org.apache.maven:maven-project=org.apache.maven:maven-project:jar:2.2.1:compile, org.apache.maven:maven-settings=org.apache.maven:maven-settings:jar:2.2.1:compile, org.apache.maven:maven-profile=org.apache.maven:maven-profile:jar:2.2.1:compile, org.apache.maven:maven-model=org.apache.maven:maven-model:jar:2.2.1:compile, org.apache.maven:maven-artifact-manager=org.apache.maven:maven-artifact-manager:jar:2.2.1:compile, org.apache.maven:maven-repository-metadata=org.apache.maven:maven-repository-metadata:jar:2.2.1:compile, backport-util-concurrent:backport-util-concurrent=backport-util-concurrent:backport-util-concurrent:jar:3.1:compile, org.apache.maven:maven-plugin-registry=org.apache.maven:maven-plugin-registry:jar:2.2.1:compile, org.codehaus.plexus:plexus-interpolation=org.codehaus.plexus:plexus-interpolation:jar:1.11:compile, org.apache.maven:maven-artifact=org.apache.maven:maven-artifact:jar:2.2.1:compile, org.codehaus.plexus:plexus-container-default=org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9-stable-1:compile, junit:junit=junit:junit:jar:3.8.1:compile, classworlds:classworlds=classworlds:classworlds:jar:1.1-alpha-2:compile, org.apache.maven:maven-plugin-api=org.apache.maven:maven-plugin-api:jar:3.0.5:compile, org.sonatype.sisu:sisu-inject-plexus=org.sonatype.sisu:sisu-inject-plexus:jar:2.3.0:compile, org.codehaus.plexus:plexus-component-annotations=org.codehaus.plexus:plexus-component-annotations:jar:1.5.5:compile, org.codehaus.plexus:plexus-classworlds=org.codehaus.plexus:plexus-classworlds:jar:2.4:compile, org.sonatype.sisu:sisu-inject-bean=org.sonatype.sisu:sisu-inject-bean:jar:2.3.0:compile, org.sonatype.sisu:sisu-guice=org.sonatype.sisu:sisu-guice:jar:no_aop:3.1.0:compile, org.sonatype.sisu:sisu-guava=org.sonatype.sisu:sisu-guava:jar:0.9.9:compile, org.codehaus.plexus:plexus-utils=org.codehaus.plexus:plexus-utils:jar:3.0.10:compile}\r\n\t[DEBUG]   (f) quiet = false\r\n\t[DEBUG]   (f) remoteRepositories = [      id: nexus\r\n\t\t  url: http://passport-nexus/nexus/content/groups/public\r\n\t   layout: default\r\n\tsnapshots: [enabled =&gt; false, update =&gt; daily]\r\n\t releases: [enabled =&gt; true, update =&gt; never]\r\n\t]\r\n\t[DEBUG]   (f) settings = org.apache.maven.execution.SettingsAdapter@78e89bfe\r\n\t[DEBUG]   (f) sourceDestDir = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport\r\n\t[DEBUG]   (f) staleFile = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\jaxws\\stale\r\n\t[DEBUG]   (f) verbose = false\r\n\t[DEBUG]   (f) vmArgs = [-Djavax.xml.accessExternalSchema=all]\r\n\t[DEBUG]   (f) wsdlDirectory = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\\wsdl\r\n\t[DEBUG]   (f) wsdlUrls = [http://webservice.server/Services/InvoiceService.asmx?WSDL]\r\n\t[DEBUG]   (f) xadditionalHeaders = false\r\n\t[DEBUG]   (f) xdebug = false\r\n\t[DEBUG]   (f) xdisableAuthenticator = false\r\n\t[DEBUG]   (f) xdisableSSLHostnameVerification = false\r\n\t[DEBUG]   (f) xnoAddressingDataBinding = false\r\n\t[DEBUG]   (f) xnocompile = true\r\n\t[DEBUG]   (f) xuseBaseResourceAndURLToLoadWSDL = false\r\n\t[DEBUG]   (f) project = MavenProject: com.dat:digsig:0.0.1-SNAPSHOT @ D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\pom.xml\r\n\t[DEBUG] -- end configuration --\r\n\t[DEBUG] The wsdl Directory is D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\\wsdl\r\n\t[DEBUG] The binding Directory is D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\r\n\t[INFO] Processing: http://webservice.server/Services/InvoiceService.asmx?WSDL\r\n\t[DEBUG] adding src root: D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport\r\n\t[DEBUG] The binding Directory is D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\r\n\t[DEBUG] jaxws:wsimport args: [-keep, -s, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport, -d, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\classes, -encoding, UTF-8, -Xnocompile]\r\n\t[INFO] jaxws:wsimport args: [-keep, -s, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport, -d, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\classes, -encoding, UTF-8, -Xnocompile, &quot;http://webservice.server/Services/InvoiceService.asmx?WSDL&quot;]\r\n\t[DEBUG] dummy:dummy:jar:1.0 (selected for null)\r\n\t[WARNING] Failed to build parent project for com.sun.xml.ws:project:pom:2.2.8\r\n\t[WARNING] Failed to build parent project for com.sun.xml.ws:bundles:pom:2.2.8\r\n\t[WARNING] Failed to build parent project for com.sun.xml.ws:jaxws-tools:pom:2.2.8\r\n\t[WARNING] Invalid POM for com.sun.xml.ws:jaxws-tools:jar:2.2.8, transitive dependencies (if any) will not be available, enable debug logging for more details: Some problems were encountered while processing the POMs:\r\n\t[ERROR] &#39;dependencyManagement.dependencies.dependency.systemPath&#39; for com.sun:tools:jar must specify an absolute path but is ${tools.jar} @ com.sun.xml.ws:jaxws-ri-bom:2.2.8, c:\\tools\\maven\\repository\\com\\sun\\xml\\ws\\jaxws-ri-bom\\2.2.8\\jaxws-ri-bom-2.2.8.pom, line 395, column 29\r\n\r\n\t[DEBUG]   com.sun.xml.ws:jaxws-tools:jar:2.2.8:compile (selected for compile)\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] BUILD FAILURE\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Total time: 4.747 s\r\n\t[INFO] Finished at: 2017-02-27T16:47:38-06:00\r\n\t[INFO] Final Memory: 12M/364M\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (default) on project digsig: Execution default of goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport failed: String index out of range: -1 -&gt; [Help 1]\r\n\torg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (default) on project digsig: Execution default of goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport failed: String index out of range: -1\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n\t\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n\t\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n\t\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n\t\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n\t\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n\t\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n\t\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\t\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\t\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\tCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport failed: String index out of range: -1\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:145)\r\n\t\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n\t\t... 20 more\r\n\tCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\t\tat java.lang.AbstractStringBuilder.substring(Unknown Source)\r\n\t\tat java.lang.StringBuilder.substring(Unknown Source)\r\n\t\tat org.jvnet.jax_ws_commons.jaxws.AbstractJaxwsMojo.getCP(AbstractJaxwsMojo.java:484)\r\n\t\tat org.jvnet.jax_ws_commons.jaxws.AbstractJaxwsMojo.exec(AbstractJaxwsMojo.java:359)\r\n\t\tat org.jvnet.jax_ws_commons.jaxws.WsImportMojo.processWsdlViaUrls(WsImportMojo.java:342)\r\n\t\tat org.jvnet.jax_ws_commons.jaxws.WsImportMojo.execute(WsImportMojo.java:282)\r\n\t\tat org.jvnet.jax_ws_commons.jaxws.MainWsImportMojo.execute(MainWsImportMojo.java:50)\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n\t\t... 21 more\r\n\t[ERROR] \r\n\t[ERROR] \r\n\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\ncan someone help me to fix this issue?","title":"maven Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport","body":"<p>Below is my pom.xml for to do wsimport</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.dat&lt;/groupId&gt;\n  &lt;artifactId&gt;digsig&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;digsig&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-xjc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;2.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n      &lt;version&gt;2.2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;    \n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}/endorsed&lt;/outputDirectory&gt;\n              &lt;silent&gt;true&lt;/silent&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                  &lt;version&gt;2.2.7&lt;/version&gt;\n                  &lt;type&gt;jar&lt;/type&gt;\n                &lt;/artifactItem&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n                  &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n                  &lt;version&gt;2.2.9&lt;/version&gt;\n                  &lt;type&gt;jar&lt;/type&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;!-- Following configuration will pass all XML files from ${basedir}/src/bindings to wsimport. --&gt;\n            &lt;configuration&gt;\n              &lt;bindingDirectory&gt;${basedir}/src&lt;/bindingDirectory&gt;\n              &lt;vmArgs&gt;\n                &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\n              &lt;/vmArgs&gt;\n              &lt;wsdlUrls&gt;\n                &lt;wsdlUrl&gt;http://webservice.server/Services/InvoiceService.asmx?WSDL&lt;/wsdlUrl&gt;\n              &lt;/wsdlUrls&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Build is failing with below error</p>\n\n<pre><code>[DEBUG] Importing foreign packages into class realm plugin&gt;org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3\n[DEBUG]   Imported:  &lt; maven.api\n[DEBUG] Populating class realm plugin&gt;org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3\n[DEBUG]   Included: org.jvnet.jax-ws-commons:jaxws-maven-plugin:jar:2.3\n[DEBUG]   Included: com.sun.xml.ws:jaxws-tools:jar:2.2.8\n[DEBUG]   Included: org.jvnet.jaxb2_commons:jaxb2-basics:jar:0.6.4\n[DEBUG]   Included: org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.6.4\n[DEBUG]   Included: org.jvnet.jaxb2_commons:jaxb2-basics-tools:jar:0.6.4\n[DEBUG]   Included: commons-beanutils:commons-beanutils:jar:1.7.0\n[DEBUG]   Included: commons-lang:commons-lang:jar:2.2\n[DEBUG]   Included: commons-logging:commons-logging:jar:1.1.1\n[DEBUG]   Included: com.google.code.javaparser:javaparser:jar:1.0.8\n[DEBUG]   Included: backport-util-concurrent:backport-util-concurrent:jar:3.1\n[DEBUG]   Included: org.codehaus.plexus:plexus-interpolation:jar:1.11\n[DEBUG]   Included: junit:junit:jar:3.8.1\n[DEBUG]   Included: org.codehaus.plexus:plexus-component-annotations:jar:1.5.5\n[DEBUG]   Included: org.sonatype.sisu:sisu-inject-bean:jar:2.3.0\n[DEBUG]   Included: org.sonatype.sisu:sisu-guice:jar:no_aop:3.1.0\n[DEBUG]   Included: org.sonatype.sisu:sisu-guava:jar:0.9.9\n[DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:3.0.10\n[DEBUG] Configuring mojo org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport from plugin realm ClassRealm[plugin&gt;org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3, parent: sun.misc.Launcher$AppClassLoader@55f96302]\n[DEBUG] Configuring mojo 'org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport' with basic configurator --&gt;\n[DEBUG]   (f) bindingDirectory = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\n[DEBUG]   (f) destDir = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\classes\n[DEBUG]   (f) encoding = UTF-8\n[DEBUG]   (f) extension = false\n[DEBUG]   (f) genJWS = false\n[DEBUG]   (f) implDestDir = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\\main\\java\n[DEBUG]   (f) keep = true\n[DEBUG]   (f) localRepository =       id: local\n      url: file:///c:/tools/maven/repository/\n   layout: default\nsnapshots: [enabled =&gt; true, update =&gt; always]\n releases: [enabled =&gt; true, update =&gt; always]\n\n[DEBUG]   (f) pluginArtifactMap = {org.jvnet.jax-ws-commons:jaxws-maven-plugin=org.jvnet.jax-ws-commons:jaxws-maven-plugin:maven-plugin:2.3:, com.sun.xml.ws:jaxws-tools=com.sun.xml.ws:jaxws-tools:jar:2.2.8:compile, org.jvnet.jaxb2_commons:jaxb2-basics=org.jvnet.jaxb2_commons:jaxb2-basics:jar:0.6.4:compile, org.jvnet.jaxb2_commons:jaxb2-basics-runtime=org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.6.4:compile, org.jvnet.jaxb2_commons:jaxb2-basics-tools=org.jvnet.jaxb2_commons:jaxb2-basics-tools:jar:0.6.4:compile, commons-beanutils:commons-beanutils=commons-beanutils:commons-beanutils:jar:1.7.0:compile, commons-lang:commons-lang=commons-lang:commons-lang:jar:2.2:compile, commons-logging:commons-logging=commons-logging:commons-logging:jar:1.1.1:compile, com.google.code.javaparser:javaparser=com.google.code.javaparser:javaparser:jar:1.0.8:compile, org.apache.maven:maven-project=org.apache.maven:maven-project:jar:2.2.1:compile, org.apache.maven:maven-settings=org.apache.maven:maven-settings:jar:2.2.1:compile, org.apache.maven:maven-profile=org.apache.maven:maven-profile:jar:2.2.1:compile, org.apache.maven:maven-model=org.apache.maven:maven-model:jar:2.2.1:compile, org.apache.maven:maven-artifact-manager=org.apache.maven:maven-artifact-manager:jar:2.2.1:compile, org.apache.maven:maven-repository-metadata=org.apache.maven:maven-repository-metadata:jar:2.2.1:compile, backport-util-concurrent:backport-util-concurrent=backport-util-concurrent:backport-util-concurrent:jar:3.1:compile, org.apache.maven:maven-plugin-registry=org.apache.maven:maven-plugin-registry:jar:2.2.1:compile, org.codehaus.plexus:plexus-interpolation=org.codehaus.plexus:plexus-interpolation:jar:1.11:compile, org.apache.maven:maven-artifact=org.apache.maven:maven-artifact:jar:2.2.1:compile, org.codehaus.plexus:plexus-container-default=org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9-stable-1:compile, junit:junit=junit:junit:jar:3.8.1:compile, classworlds:classworlds=classworlds:classworlds:jar:1.1-alpha-2:compile, org.apache.maven:maven-plugin-api=org.apache.maven:maven-plugin-api:jar:3.0.5:compile, org.sonatype.sisu:sisu-inject-plexus=org.sonatype.sisu:sisu-inject-plexus:jar:2.3.0:compile, org.codehaus.plexus:plexus-component-annotations=org.codehaus.plexus:plexus-component-annotations:jar:1.5.5:compile, org.codehaus.plexus:plexus-classworlds=org.codehaus.plexus:plexus-classworlds:jar:2.4:compile, org.sonatype.sisu:sisu-inject-bean=org.sonatype.sisu:sisu-inject-bean:jar:2.3.0:compile, org.sonatype.sisu:sisu-guice=org.sonatype.sisu:sisu-guice:jar:no_aop:3.1.0:compile, org.sonatype.sisu:sisu-guava=org.sonatype.sisu:sisu-guava:jar:0.9.9:compile, org.codehaus.plexus:plexus-utils=org.codehaus.plexus:plexus-utils:jar:3.0.10:compile}\n[DEBUG]   (f) quiet = false\n[DEBUG]   (f) remoteRepositories = [      id: nexus\n      url: http://passport-nexus/nexus/content/groups/public\n   layout: default\nsnapshots: [enabled =&gt; false, update =&gt; daily]\n releases: [enabled =&gt; true, update =&gt; never]\n]\n[DEBUG]   (f) settings = org.apache.maven.execution.SettingsAdapter@78e89bfe\n[DEBUG]   (f) sourceDestDir = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport\n[DEBUG]   (f) staleFile = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\jaxws\\stale\n[DEBUG]   (f) verbose = false\n[DEBUG]   (f) vmArgs = [-Djavax.xml.accessExternalSchema=all]\n[DEBUG]   (f) wsdlDirectory = D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\\wsdl\n[DEBUG]   (f) wsdlUrls = [http://webservice.server/Services/InvoiceService.asmx?WSDL]\n[DEBUG]   (f) xadditionalHeaders = false\n[DEBUG]   (f) xdebug = false\n[DEBUG]   (f) xdisableAuthenticator = false\n[DEBUG]   (f) xdisableSSLHostnameVerification = false\n[DEBUG]   (f) xnoAddressingDataBinding = false\n[DEBUG]   (f) xnocompile = true\n[DEBUG]   (f) xuseBaseResourceAndURLToLoadWSDL = false\n[DEBUG]   (f) project = MavenProject: com.dat:digsig:0.0.1-SNAPSHOT @ D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\pom.xml\n[DEBUG] -- end configuration --\n[DEBUG] The wsdl Directory is D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\\wsdl\n[DEBUG] The binding Directory is D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\n[INFO] Processing: http://webservice.server/Services/InvoiceService.asmx?WSDL\n[DEBUG] adding src root: D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport\n[DEBUG] The binding Directory is D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\src\n[DEBUG] jaxws:wsimport args: [-keep, -s, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport, -d, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\classes, -encoding, UTF-8, -Xnocompile]\n[INFO] jaxws:wsimport args: [-keep, -s, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\generated-sources\\wsimport, -d, D:\\Dev\\Eclipse_Workspace\\Neon\\WebService_Demo\\digsig\\target\\classes, -encoding, UTF-8, -Xnocompile, \"http://webservice.server/Services/InvoiceService.asmx?WSDL\"]\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[WARNING] Failed to build parent project for com.sun.xml.ws:project:pom:2.2.8\n[WARNING] Failed to build parent project for com.sun.xml.ws:bundles:pom:2.2.8\n[WARNING] Failed to build parent project for com.sun.xml.ws:jaxws-tools:pom:2.2.8\n[WARNING] Invalid POM for com.sun.xml.ws:jaxws-tools:jar:2.2.8, transitive dependencies (if any) will not be available, enable debug logging for more details: Some problems were encountered while processing the POMs:\n[ERROR] 'dependencyManagement.dependencies.dependency.systemPath' for com.sun:tools:jar must specify an absolute path but is ${tools.jar} @ com.sun.xml.ws:jaxws-ri-bom:2.2.8, c:\\tools\\maven\\repository\\com\\sun\\xml\\ws\\jaxws-ri-bom\\2.2.8\\jaxws-ri-bom-2.2.8.pom, line 395, column 29\n\n[DEBUG]   com.sun.xml.ws:jaxws-tools:jar:2.2.8:compile (selected for compile)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.747 s\n[INFO] Finished at: 2017-02-27T16:47:38-06:00\n[INFO] Final Memory: 12M/364M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (default) on project digsig: Execution default of goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport failed: String index out of range: -1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport (default) on project digsig: Execution default of goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport failed: String index out of range: -1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.3:wsimport failed: String index out of range: -1\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:145)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\n    at java.lang.AbstractStringBuilder.substring(Unknown Source)\n    at java.lang.StringBuilder.substring(Unknown Source)\n    at org.jvnet.jax_ws_commons.jaxws.AbstractJaxwsMojo.getCP(AbstractJaxwsMojo.java:484)\n    at org.jvnet.jax_ws_commons.jaxws.AbstractJaxwsMojo.exec(AbstractJaxwsMojo.java:359)\n    at org.jvnet.jax_ws_commons.jaxws.WsImportMojo.processWsdlViaUrls(WsImportMojo.java:342)\n    at org.jvnet.jax_ws_commons.jaxws.WsImportMojo.execute(WsImportMojo.java:282)\n    at org.jvnet.jax_ws_commons.jaxws.MainWsImportMojo.execute(MainWsImportMojo.java:50)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    ... 21 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n\n<p>can someone help me to fix this issue?</p>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"comments":[{"owner":{"account_id":4005154,"reputation":106,"user_id":3299989,"display_name":"MattWolc24"},"score":0,"creation_date":1688763459,"post_id":76640168,"comment_id":135122440,"body_markdown":"There&#39;s no way I can set up justifications manually? I thought they ways I&#39;d tried would work, but I&#39;m not sure why they haven&#39;t.","body":"There&#39;s no way I can set up justifications manually? I thought they ways I&#39;d tried would work, but I&#39;m not sure why they haven&#39;t."},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1688763594,"post_id":76640168,"comment_id":135122456,"body_markdown":"Constraint justifications only work with incremental score calculation, where the score is computed bit by bit. In easy score calculation, the score is computed all in one big chunk. The only way how you could do constraint justifications is completely hand-rolled. When you receive the solution, analyze entities and their values and produce whatever information you need. But there isn&#39;t - and can not be - support for this in the easy calculator. It has no concept of a constraint.","body":"Constraint justifications only work with incremental score calculation, where the score is computed bit by bit. In easy score calculation, the score is computed all in one big chunk. The only way how you could do constraint justifications is completely hand-rolled. When you receive the solution, analyze entities and their values and produce whatever information you need. But there isn&#39;t - and can not be - support for this in the easy calculator. It has no concept of a constraint."},{"owner":{"account_id":4005154,"reputation":106,"user_id":3299989,"display_name":"MattWolc24"},"score":0,"creation_date":1688763678,"post_id":76640168,"comment_id":135122468,"body_markdown":"Ok thanks for the help","body":"Ok thanks for the help"}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688763015,"creation_date":1688763015,"answer_id":76640168,"question_id":76639287,"body_markdown":"There is no way to do what you&#39;re asking, out of the box. The reason why `EasyScoreCalculator` is &quot;easy&quot; is that it sacrifices some features for the sake of simplicity of implementation.\r\n\r\nIf you need constraint justifications, you need to look into Constraint Streams. `IncrementalScoreCalculator` technically also supports justifications, but as a beginner, I believe you&#39;ll have a much better time with Constraint Streams.\r\n","title":"How to list reasons for point deductions with EasyScoreCalculator?","body":"<p>There is no way to do what you're asking, out of the box. The reason why <code>EasyScoreCalculator</code> is &quot;easy&quot; is that it sacrifices some features for the sake of simplicity of implementation.</p>\n<p>If you need constraint justifications, you need to look into Constraint Streams. <code>IncrementalScoreCalculator</code> technically also supports justifications, but as a beginner, I believe you'll have a much better time with Constraint Streams.</p>\n"}],"owner":{"account_id":4005154,"reputation":106,"user_id":3299989,"display_name":"MattWolc24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76640168,"answer_count":1,"score":0,"last_activity_date":1688763015,"creation_date":1688753258,"question_id":76639287,"body_markdown":"In my EasyScoreCalculator code, whenever it deducts points from the soft score because of logic I set up, I want it to record some sort of message for me to view with the solution to help explain the score (&quot;Deducted X points because Job Y is directly after Job X&quot;).\r\n\r\nI&#39;ve tried multiple ways of doing this, but none have seemed to work. If Lesson.java is my planning entity, I&#39;ve tried creating a property in that class for EasyScoreCalculator to record the reason in (`myLesson.addScoreExplanation(&quot;Deducted X points because Y&quot;)`). The EasyScoreCalculator clears the scoreExplanations of each Lesson when it evaluates a new solution. I&#39;ve also tried just recording these messages in my main class with `public static List&lt;String&gt; scoreExplanations`. As well as a couple others, I&#39;ve found that in the result I see messages that seem to belong to other solutions (not the optimal one). I&#39;m not very sure what to do about this. Any advice?\r\n\r\nKeep in mind, I&#39;m very new to OptaPlanner, and this functionality probably exists somewhere.  Thank you.","title":"How to list reasons for point deductions with EasyScoreCalculator?","body":"<p>In my EasyScoreCalculator code, whenever it deducts points from the soft score because of logic I set up, I want it to record some sort of message for me to view with the solution to help explain the score (&quot;Deducted X points because Job Y is directly after Job X&quot;).</p>\n<p>I've tried multiple ways of doing this, but none have seemed to work. If Lesson.java is my planning entity, I've tried creating a property in that class for EasyScoreCalculator to record the reason in (<code>myLesson.addScoreExplanation(&quot;Deducted X points because Y&quot;)</code>). The EasyScoreCalculator clears the scoreExplanations of each Lesson when it evaluates a new solution. I've also tried just recording these messages in my main class with <code>public static List&lt;String&gt; scoreExplanations</code>. As well as a couple others, I've found that in the result I see messages that seem to belong to other solutions (not the optimal one). I'm not very sure what to do about this. Any advice?</p>\n<p>Keep in mind, I'm very new to OptaPlanner, and this functionality probably exists somewhere.  Thank you.</p>\n"},{"tags":["java","logging","configuration"],"answers":[{"comments":[{"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"score":0,"creation_date":1411439407,"post_id":25982686,"comment_id":40692638,"body_markdown":"Thanks for the additional information, but this is not quite what I am looking for. I am already using LogManager.readConfiguration(InputStream) to read the configuration from a file I have, which I have specified in the InputStream. My question is what is the order that I am supposed to do the following 3 things (getLogger, addHandler, readConfigurations) assuming it has to do with the order and isn&#39;t something else?","body":"Thanks for the additional information, but this is not quite what I am looking for. I am already using LogManager.readConfiguration(InputStream) to read the configuration from a file I have, which I have specified in the InputStream. My question is what is the order that I am supposed to do the following 3 things (getLogger, addHandler, readConfigurations) assuming it has to do with the order and isn&#39;t something else?"},{"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"score":0,"creation_date":1411529724,"post_id":25982686,"comment_id":40732676,"body_markdown":"The logger still seems to use the default configs. I read  the configurations from a file I have, then I got the Logger, then I added the FileHandler to the Logger, but the Logger still logged in xml instead of using the simple formatter as specified in the config file.","body":"The logger still seems to use the default configs. I read  the configurations from a file I have, then I got the Logger, then I added the FileHandler to the Logger, but the Logger still logged in xml instead of using the simple formatter as specified in the config file."},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1411562074,"post_id":25982686,"comment_id":40748334,"body_markdown":"@dalawh you either haven read the configuration or something is calling LogManager.reset.  Call LogManager.getProperty to verify that your settings were loaded before you create your file handler.","body":"@dalawh you either haven read the configuration or something is calling LogManager.reset.  Call LogManager.getProperty to verify that your settings were loaded before you create your file handler."},{"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"score":0,"creation_date":1411618202,"post_id":25982686,"comment_id":40773187,"body_markdown":"I used getProperty in 3 different areas and it kept returning null. I included the code in the original question. Is something wrong with my configuration file?","body":"I used getProperty in 3 different areas and it kept returning null. I included the code in the original question. Is something wrong with my configuration file?"},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1411652293,"post_id":25982686,"comment_id":40790693,"body_markdown":"Those keys are not defined in the file.  Look for &quot;java.util.logging.FileHandler.formatter&quot; since that is what you are looking for in the output file.","body":"Those keys are not defined in the file.  Look for &quot;java.util.logging.FileHandler.formatter&quot; since that is what you are looking for in the output file."},{"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"score":0,"creation_date":1411676481,"post_id":25982686,"comment_id":40804582,"body_markdown":"My understanding of the Logger is not as good as yours, so bare with me. I am don&#39;t quite understand. From your previous explanations, I thought you meant that once the LogManager reads from the configuration file, all loggers/handlers created hence forth that is define in the config file will use those configs. Am I mistaken? If I am not mistaken, shouldn&#39;t the new FileHandler that I created after it read the configurations use the configs defined in the configuration file? I did define the limit, count, append formatter, and level. This is a mouthful; I hope everything makes sense.","body":"My understanding of the Logger is not as good as yours, so bare with me. I am don&#39;t quite understand. From your previous explanations, I thought you meant that once the LogManager reads from the configuration file, all loggers/handlers created hence forth that is define in the config file will use those configs. Am I mistaken? If I am not mistaken, shouldn&#39;t the new FileHandler that I created after it read the configurations use the configs defined in the configuration file? I did define the limit, count, append formatter, and level. This is a mouthful; I hope everything makes sense."},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1411734737,"post_id":25982686,"comment_id":40826492,"body_markdown":"Right but in this case LogManager.reset can undo your settings.  Don&#39;t get hung up on that.  Read the related link at the top of my answer.  It is really the same issue as this one so use the example code in that answer and start testing.  Write code to prove everything you think you have done.  Read my edits to the answer.","body":"Right but in this case LogManager.reset can undo your settings.  Don&#39;t get hung up on that.  Read the related link at the top of my answer.  It is really the same issue as this one so use the example code in that answer and start testing.  Write code to prove everything you think you have done.  Read my edits to the answer."},{"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"score":0,"creation_date":1411752198,"post_id":25982686,"comment_id":40836877,"body_markdown":"Your troubleshooting method is the same as mines except yours prints to the console. I used the debugger to step through it instead and as I have mentioned, I get null when I use LogManager.getProperty. I also get no exceptions. I will respond to the articles you provided momentarily.","body":"Your troubleshooting method is the same as mines except yours prints to the console. I used the debugger to step through it instead and as I have mentioned, I get null when I use LogManager.getProperty. I also get no exceptions. I will respond to the articles you provided momentarily."},{"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"score":0,"creation_date":1411752443,"post_id":25982686,"comment_id":40837011,"body_markdown":"In response to https://bugs.openjdk.java.net/browse/JDK-8033661, I want to use per-logger handlers, that way when I change one property, it doesn&#39;t affect all of them, and I would rather not use the API calls, otherwise, I will have to restart the application every time and it will not be possible if the user doesn&#39;t have the application&#39;s source code. I might be forced to use the JVM startup method. In response to https://bugs.openjdk.java.net/browse/JDK-5035854, doesn&#39;t that just say that their are bugs that have not been fixed? If that is the case, it&#39;s a shame.","body":"In response to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8033661\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8033661</a>, I want to use per-logger handlers, that way when I change one property, it doesn&#39;t affect all of them, and I would rather not use the API calls, otherwise, I will have to restart the application every time and it will not be possible if the user doesn&#39;t have the application&#39;s source code. I might be forced to use the JVM startup method. In response to <a href=\"https://bugs.openjdk.java.net/browse/JDK-5035854\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-5035854</a>, doesn&#39;t that just say that their are bugs that have not been fixed? If that is the case, it&#39;s a shame."},{"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"score":0,"creation_date":1412461226,"post_id":25982686,"comment_id":41080197,"body_markdown":"The configurations are being read in correctly, but when FileHandler is created, it doesn&#39;t use the values in the config file.","body":"The configurations are being read in correctly, but when FileHandler is created, it doesn&#39;t use the values in the config file."},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1412609609,"post_id":25982686,"comment_id":41120874,"body_markdown":"How did you prove that?  If that is true then you are running into the bugs I pointed out or something is calling reset between the readConfiguration and new FileHandler().  Merge new code sample into your project instead of loading from a file. See if that works.","body":"How did you prove that?  If that is true then you are running into the bugs I pointed out or something is calling reset between the readConfiguration and new FileHandler().  Merge new code sample into your project instead of loading from a file. See if that works."}],"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":11,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688762831,"creation_date":1411418013,"answer_id":25982686,"question_id":25964698,"body_markdown":"Related to this is: [configure Logger via global config file][1].\r\n\r\nA call to LogManager.readConfiguration will determine what logger.getLogger will return.  If you define a handler in your properties file you will not have to add the handler later.\r\nIf you want to add a handler using code then the solution you are looking for is:\r\n\r\n 1. LogManager.readConfiguration\r\n 2. Logger.getLogger and [store a strong reference to it][2]\r\n 3. Create new handler\r\n 4. Logger.addHandler\r\n\r\nIf you define `java.util.logging.config.file` as a system property in your startup script you don&#39;t have to write any code.\r\n\r\n`-Djava.util.logging.config.file=&quot;path to file&quot;`\r\n\r\nFor more information read the [LogManager][3] class level documentation.\r\n\r\n\r\nIf you can&#39;t define that property on startup then you can resort to the [LogManager.readConfiguration(InputStream)][4] method to perform the setup.  You don&#39;t have to call any other methods unless you run into [JDK-8033661 readConfiguration does not cleanly reinitialize the logging system][5] or\r\n[JDK-5035854 LogManager.readConfiguration does not properly modify existing loggers][6].\r\n\r\nIf neither of those options work you can resort to just getting a logger and calling the configuration methods as needed.\r\n\r\nTo troubleshoot your issue add the following:\r\n\r\n    String configFilename = &quot;C:\\\\Users\\\\dalawh\\\\Documents\\\\config.properties&quot;;\r\n    System.out.println(new File(configFilename).length());\r\n\tLogManager manager = LogManager.getLogManager();\r\n    LogManager.getLogManager().readConfiguration(new FileInputStream(configFilename));\r\n\tString property = manager.getProperty(&quot;java.util.logging.FileHandler.formatter&quot;); //DEBUGGING\r\n    System.out.println(property);\r\n\r\n 1. If java.util.logging.SimpleFormatter is printed then you know you have configured the LogManager.\r\n 2. If nothing is printed then an exception was thrown then you must have set an empty value in your properties file.\r\n 3. If null is printed then your config file is incorrect or something reset the LogManager.\r\n\r\n\r\nHere is a simple test to prove that the log manager works.\r\n\r\n    public class LogManagerTest {\r\n\r\n        public static void main(String[] arg) throws IOException {\r\n            read(LogManager.getLogManager(), create());\r\n            FileHandler h = new FileHandler();\r\n            h.close();\r\n            System.out.println(h.getFormatter());\r\n        }\r\n\r\n        private static Properties create() {\r\n            Properties props = new Properties();\r\n            props.setProperty(&quot;java.util.logging.FileHandler.formatter&quot;, \r\n                    &quot;java.util.logging.SimpleFormatter&quot;);\r\n            return props;\r\n        }\r\n\r\n        private static void read(LogManager manager, Properties props) throws IOException {\r\n            final ByteArrayOutputStream out = new ByteArrayOutputStream(512);\r\n            props.store(out, &quot;No comment&quot;);\r\n            manager.readConfiguration(new ByteArrayInputStream(out.toByteArray()));\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24909522/configure-logger-via-global-config-file\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-6274920\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/logging/LogManager.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/logging/LogManager.html#readConfiguration-java.io.InputStream-\r\n  [5]: https://bugs.openjdk.java.net/browse/JDK-8033661\r\n  [6]: https://bugs.openjdk.java.net/browse/JDK-5035854","title":"How to get Logger to use configurations from LogManager.readConfigurations?","body":"<p>Related to this is: <a href=\"https://stackoverflow.com/questions/24909522/configure-logger-via-global-config-file\">configure Logger via global config file</a>.</p>\n<p>A call to LogManager.readConfiguration will determine what logger.getLogger will return.  If you define a handler in your properties file you will not have to add the handler later.\nIf you want to add a handler using code then the solution you are looking for is:</p>\n<ol>\n<li>LogManager.readConfiguration</li>\n<li>Logger.getLogger and <a href=\"https://bugs.openjdk.java.net/browse/JDK-6274920\" rel=\"nofollow noreferrer\">store a strong reference to it</a></li>\n<li>Create new handler</li>\n<li>Logger.addHandler</li>\n</ol>\n<p>If you define <code>java.util.logging.config.file</code> as a system property in your startup script you don't have to write any code.</p>\n<p><code>-Djava.util.logging.config.file=&quot;path to file&quot;</code></p>\n<p>For more information read the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/logging/LogManager.html\" rel=\"nofollow noreferrer\">LogManager</a> class level documentation.</p>\n<p>If you can't define that property on startup then you can resort to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/logging/LogManager.html#readConfiguration-java.io.InputStream-\" rel=\"nofollow noreferrer\">LogManager.readConfiguration(InputStream)</a> method to perform the setup.  You don't have to call any other methods unless you run into <a href=\"https://bugs.openjdk.java.net/browse/JDK-8033661\" rel=\"nofollow noreferrer\">JDK-8033661 readConfiguration does not cleanly reinitialize the logging system</a> or\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-5035854\" rel=\"nofollow noreferrer\">JDK-5035854 LogManager.readConfiguration does not properly modify existing loggers</a>.</p>\n<p>If neither of those options work you can resort to just getting a logger and calling the configuration methods as needed.</p>\n<p>To troubleshoot your issue add the following:</p>\n<pre><code>String configFilename = &quot;C:\\\\Users\\\\dalawh\\\\Documents\\\\config.properties&quot;;\nSystem.out.println(new File(configFilename).length());\nLogManager manager = LogManager.getLogManager();\nLogManager.getLogManager().readConfiguration(new FileInputStream(configFilename));\nString property = manager.getProperty(&quot;java.util.logging.FileHandler.formatter&quot;); //DEBUGGING\nSystem.out.println(property);\n</code></pre>\n<ol>\n<li>If java.util.logging.SimpleFormatter is printed then you know you have configured the LogManager.</li>\n<li>If nothing is printed then an exception was thrown then you must have set an empty value in your properties file.</li>\n<li>If null is printed then your config file is incorrect or something reset the LogManager.</li>\n</ol>\n<p>Here is a simple test to prove that the log manager works.</p>\n<pre><code>public class LogManagerTest {\n\n    public static void main(String[] arg) throws IOException {\n        read(LogManager.getLogManager(), create());\n        FileHandler h = new FileHandler();\n        h.close();\n        System.out.println(h.getFormatter());\n    }\n\n    private static Properties create() {\n        Properties props = new Properties();\n        props.setProperty(&quot;java.util.logging.FileHandler.formatter&quot;, \n                &quot;java.util.logging.SimpleFormatter&quot;);\n        return props;\n    }\n\n    private static void read(LogManager manager, Properties props) throws IOException {\n        final ByteArrayOutputStream out = new ByteArrayOutputStream(512);\n        props.store(out, &quot;No comment&quot;);\n        manager.readConfiguration(new ByteArrayInputStream(out.toByteArray()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1947214,"reputation":894,"user_id":1752067,"accept_rate":20,"display_name":"dalawh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13502,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688762831,"creation_date":1411339995,"question_id":25964698,"body_markdown":"I want my Logger with a FileHandler to use the settings defined in my config file. Do I have to use Logger.getLogger or Logger.addHandler(new FileHandler()) after I have used LogManager.readConfiguration(InputStream) or is there more to it? In other words, what is the order that I am supposed to do the following 3 things (getLogger, addHandler, readConfigurations) assuming it has to do with the order and isn&#39;t something else?\r\n\r\nI wasn&#39;t able to find many examples of this and the ones I found had the LogManager.readConfiguration after Logger.getLogger, but that doesn&#39;t seem to work.\r\n\r\nHere is the config file:\r\n\r\n    handlers = java.util.logging.FileHandler\r\n\r\n    .level = ALL\r\n\r\n    # Default\r\n    java.util.logging.FileHandler.limit = 10000000\r\n    java.util.logging.FileHandler.count = 10\r\n    java.util.logging.FileHandler.append = true\r\n    java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\n    java.util.logging.FileHandler.level = FINE\r\n\r\nEDIT: Here is the part of the code relating to the configuration.\r\n\r\n    String configFilename = &quot;C:\\\\Users\\\\dalawh\\\\Documents\\\\config.properties&quot;;\r\n\tLogManager manager = LogManager.getLogManager();\r\n\tString property = manager.getProperty(this.getClass().getPackage().getName()); //DEBUGGING\r\n\tLogManager.getLogManager().readConfiguration(new FileInputStream(configFilename));\r\n\tString property2 = manager.getProperty(this.getClass().getPackage().getName()); //DEBUGGING\r\n\t\t\r\n\tLogger logger = java.util.logging.Logger.getLogger(this.getClass().getPackage().getName());\r\n\tString property3 = manager.getProperty(this.getClass().getPackage().getName()); //DEBUGGING\r\n\tString filename = &quot;C:\\\\Users\\\\dalawh\\\\Documents\\\\log.log&quot;;\r\n\tthis.fileHandler = new FileHandler(filename);\r\n\tthis.logger.addHandler(this.fileHandler);","title":"How to get Logger to use configurations from LogManager.readConfigurations?","body":"<p>I want my Logger with a FileHandler to use the settings defined in my config file. Do I have to use Logger.getLogger or Logger.addHandler(new FileHandler()) after I have used LogManager.readConfiguration(InputStream) or is there more to it? In other words, what is the order that I am supposed to do the following 3 things (getLogger, addHandler, readConfigurations) assuming it has to do with the order and isn't something else?</p>\n\n<p>I wasn't able to find many examples of this and the ones I found had the LogManager.readConfiguration after Logger.getLogger, but that doesn't seem to work.</p>\n\n<p>Here is the config file:</p>\n\n<pre><code>handlers = java.util.logging.FileHandler\n\n.level = ALL\n\n# Default\njava.util.logging.FileHandler.limit = 10000000\njava.util.logging.FileHandler.count = 10\njava.util.logging.FileHandler.append = true\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.FileHandler.level = FINE\n</code></pre>\n\n<p>EDIT: Here is the part of the code relating to the configuration.</p>\n\n<pre><code>String configFilename = \"C:\\\\Users\\\\dalawh\\\\Documents\\\\config.properties\";\nLogManager manager = LogManager.getLogManager();\nString property = manager.getProperty(this.getClass().getPackage().getName()); //DEBUGGING\nLogManager.getLogManager().readConfiguration(new FileInputStream(configFilename));\nString property2 = manager.getProperty(this.getClass().getPackage().getName()); //DEBUGGING\n\nLogger logger = java.util.logging.Logger.getLogger(this.getClass().getPackage().getName());\nString property3 = manager.getProperty(this.getClass().getPackage().getName()); //DEBUGGING\nString filename = \"C:\\\\Users\\\\dalawh\\\\Documents\\\\log.log\";\nthis.fileHandler = new FileHandler(filename);\nthis.logger.addHandler(this.fileHandler);\n</code></pre>\n"},{"tags":["java","web-applications","jersey"],"owner":{"account_id":5835327,"reputation":968,"user_id":4598583,"accept_rate":57,"display_name":"Graham Leggett"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688762624,"creation_date":1688762624,"question_id":76640130,"body_markdown":"When things go wrong with a jersey web application, you hit endpoints that you believe exist, and those endpoints return 404 Not Found.\r\n\r\nThe code 404 Not Found means that what one believes is so, and what is actually so, do not match.\r\n\r\nDoes a mechanism exist in jersey to dump the effective configuration during startup, so that jersey tells us what it&#39;s configuration is, as opposed to us guessing wrong and being constantly told &quot;that&#39;s not it, guess again&quot;?\r\n","title":"How do I dump the configuration of a jersey web application?","body":"<p>When things go wrong with a jersey web application, you hit endpoints that you believe exist, and those endpoints return 404 Not Found.</p>\n<p>The code 404 Not Found means that what one believes is so, and what is actually so, do not match.</p>\n<p>Does a mechanism exist in jersey to dump the effective configuration during startup, so that jersey tells us what it's configuration is, as opposed to us guessing wrong and being constantly told &quot;that's not it, guess again&quot;?</p>\n"},{"tags":["java","exception","reflection","classloader","invocation"],"comments":[{"owner":{"account_id":12481753,"reputation":3,"user_id":9086254,"display_name":"Igor Adamovich"},"score":0,"creation_date":1688767570,"post_id":76638471,"comment_id":135122895,"body_markdown":"Thanks for your observation. Main problem still not solved yet, but I&#39;ve corrected problem description in this topic. I confused error messages. I&#39;ve checked the message to be sure and you were right I got error message with dots, that is exactly the same you posted.","body":"Thanks for your observation. Main problem still not solved yet, but I&#39;ve corrected problem description in this topic. I confused error messages. I&#39;ve checked the message to be sure and you were right I got error message with dots, that is exactly the same you posted."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1688775772,"post_id":76638471,"comment_id":135123589,"body_markdown":"`javac` can inline constant fields at compile time. If `MyMainClass` only uses `static final` fields from `AnotherMyClass`, it may never trigger a load of that class. See https://stackoverflow.com/q/3524150/29470. What makes you think that the JAR containing `AnotherMyClass` should be visible to `cl`? It hasn’t been provided directly in the list of URLs. Should it be visible to the parent classloader?","body":"<code>javac</code> can inline constant fields at compile time. If <code>MyMainClass</code> only uses <code>static final</code> fields from <code>AnotherMyClass</code>, it may never trigger a load of that class. See <a href=\"https://stackoverflow.com/q/3524150/29470\">stackoverflow.com/q/3524150/29470</a>. What makes you think that the JAR containing <code>AnotherMyClass</code> should be visible to <code>cl</code>? It hasn’t been provided directly in the list of URLs. Should it be visible to the parent classloader?"},{"owner":{"account_id":12481753,"reputation":3,"user_id":9086254,"display_name":"Igor Adamovich"},"score":0,"creation_date":1688807224,"post_id":76638471,"comment_id":135125674,"body_markdown":"`AnotherMyClass` has only static fields and methods. There are no instances of this class.\nAbout visibility i can&#39;t say anything. I only know that static class was used during execution of `method.invoke`.\nAnd the question may be: how to make that static field visible?","body":"<code>AnotherMyClass</code> has only static fields and methods. There are no instances of this class. About visibility i can&#39;t say anything. I only know that static class was used during execution of <code>method.invoke</code>. And the question may be: how to make that static field visible?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1688808800,"post_id":76638471,"comment_id":135125824,"body_markdown":"“I only know that static class was used during execution of method.invoke.” How do you know that? Please be specific about how it’s used. If that class is not in `program.jar` then how do you believe it would be on the classpath? If it’s available to the parent classloader, you should be able to reference it directly, without using reflection.","body":"“I only know that static class was used during execution of method.invoke.” How do you know that? Please be specific about how it’s used. If that class is not in <code>program.jar</code> then how do you believe it would be on the classpath? If it’s available to the parent classloader, you should be able to reference it directly, without using reflection."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1688809530,"post_id":76638471,"comment_id":135125880,"body_markdown":"You could also try starting Java with the `-verbose:class` option to verify that `AnotherMyClass` is actually loaded.","body":"You could also try starting Java with the <code>-verbose:class</code> option to verify that <code>AnotherMyClass</code> is actually loaded."},{"owner":{"account_id":12481753,"reputation":3,"user_id":9086254,"display_name":"Igor Adamovich"},"score":0,"creation_date":1688841686,"post_id":76638471,"comment_id":135129336,"body_markdown":"I started application with ``-verbose:class`` and i can&#39;t find any trace of ``com.anotherproject.AnotherClass``. But i placed println with an indicator string in ``AnotherClass.getStaticField()`` method (String like &quot;Got AnotherClass&quot;) and i see that string on my screen. This test doesn&#39;t access ``AnotherClass`` with reflection because it would get an exception.","body":"I started application with <code>-verbose:class</code> and i can&#39;t find any trace of <code>com.anotherproject.AnotherClass</code>. But i placed println with an indicator string in <code>AnotherClass.getStaticField()</code> method (String like &quot;Got AnotherClass&quot;) and i see that string on my screen. This test doesn&#39;t access <code>AnotherClass</code> with reflection because it would get an exception."},{"owner":{"account_id":12481753,"reputation":3,"user_id":9086254,"display_name":"Igor Adamovich"},"score":0,"creation_date":1688842686,"post_id":76638471,"comment_id":135129460,"body_markdown":"&quot;If it’s available to the parent classloader&quot;. I have one main program that launches another child program. And first parent program possibly can access mentioned ``anotherProgram.jar`` file in it&#39;s own class path (but currently doesn&#39;t). I am launching child program with ``method.invoke``. That child program uses ``anotherProgram.jar`` to store some data in it&#39;s static field. I want to transport that data to parent program. Parent program in compile time doesn&#39;t know what child program will be launched but it can guarantee that static field in ``anotherProgram.jar`` will be used as storage.","body":"&quot;If it’s available to the parent classloader&quot;. I have one main program that launches another child program. And first parent program possibly can access mentioned <code>anotherProgram.jar</code> file in it&#39;s own class path (but currently doesn&#39;t). I am launching child program with <code>method.invoke</code>. That child program uses <code>anotherProgram.jar</code> to store some data in it&#39;s static field. I want to transport that data to parent program. Parent program in compile time doesn&#39;t know what child program will be launched but it can guarantee that static field in <code>anotherProgram.jar</code> will be used as storage."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688974029,"post_id":76638471,"comment_id":135141511,"body_markdown":"You still didn’t explain how “`MyMainClass`” of “`program.jar`” is able to access “`AnotherClass`” of “`anotherProgram.jar`” despite not specified to the `URLClassLoader`.","body":"You still didn’t explain how “<code>MyMainClass</code>” of “<code>program.jar</code>” is able to access “<code>AnotherClass</code>” of “<code>anotherProgram.jar</code>” despite not specified to the <code>URLClassLoader</code>."},{"owner":{"account_id":12481753,"reputation":3,"user_id":9086254,"display_name":"Igor Adamovich"},"score":0,"creation_date":1688976312,"post_id":76638471,"comment_id":135142011,"body_markdown":"&quot;You still didn’t explain how ``MyMainClass`` of ``program.jar`` is able to access ``AnotherClass``&quot;. When ``program.jar`` was compiled and built, ``anotherProgram.jar`` was in the dependency list (as maven artifact) of ``program.jar`` and class ``com.anotherproject.AnotherClass`` was in the import part of ``com.myProject.MyMainClass``. I&#39;ve made small investigation to acquire answer to your question and now I can defenetly say that ``anotherProgram.jar`` is placed inside of ``program.jar``. One jar file inside main jar arhive.","body":"&quot;You still didn’t explain how <code>MyMainClass</code> of <code>program.jar</code> is able to access <code>AnotherClass</code>&quot;. When <code>program.jar</code> was compiled and built, <code>anotherProgram.jar</code> was in the dependency list (as maven artifact) of <code>program.jar</code> and class <code>com.anotherproject.AnotherClass</code> was in the import part of <code>com.myProject.MyMainClass</code>. I&#39;ve made small investigation to acquire answer to your question and now I can defenetly say that <code>anotherProgram.jar</code> is placed inside of <code>program.jar</code>. One jar file inside main jar arhive."}],"owner":{"account_id":12481753,"reputation":3,"user_id":9086254,"display_name":"Igor Adamovich"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688762406,"creation_date":1688745295,"question_id":76638471,"body_markdown":"I want to extract static field from another program.\r\nThat program is launched through java reflection and URLClassLoader:\r\n```\r\nprivate static final String ProgramClassName = &quot;com.myproject.MyMainClass&quot;; \r\nprivate static final String ProgramLocation = &quot;/home/user/program/22.3.0/launcher/target/program.jar&quot;;\r\nprivate static final String[] ProgramArguments ={&quot;&quot;}; \r\n\r\n&lt;...&gt;\r\n\r\nURL[] urls = new URL[]{ new URL(&quot;jar:file:&quot; + ProgramLocation +&quot;!/&quot;)};\r\nURLClassLoader cl = URLClassLoader.newInstance(urls, getClass().getClassLoader());\r\nClass&lt;?&gt; classToLoad = Class.forName (ProgramClassName , true, cl);\r\nMethod method = classToLoad.getDeclaredMethod (&quot;main&quot;, String[].class);\r\nObject instance = classToLoad.newInstance ();\r\nObject result = method.invoke (instance, (Object)ProgramArguments);\r\n```\r\n\r\nClass `com.myProject.MyMainClass` uses a static field of another class `AnotherMyClass` placed in different JAR.\r\n\r\n\r\nThat JAR is loaded properly. I know it because program returns correct result (that is based on `AnotherMyClass`). But when i try to access `AnotherMyClass` field i get exception:\r\n\r\n```\r\nClass&lt;?&gt; anotherClass = Class.forName (AnoterhClassName, true, cl);\r\n```\r\n\r\n```\r\njava.lang.ClassNotFoundException: com.anotherproject.AnotherClass\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n\tat java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n```\r\nHow could i load exactly that instance of class that was used by `method.invoke (instance, (Object)ProgramArguments);` call?\r\nOr maybe there is another way to launch another program and extract static field as result?\r\n","title":"Java ClassLoader: Get static field declared in a JAR 1. JAR1 used by another JAR 2","body":"<p>I want to extract static field from another program.\nThat program is launched through java reflection and URLClassLoader:</p>\n<pre><code>private static final String ProgramClassName = &quot;com.myproject.MyMainClass&quot;; \nprivate static final String ProgramLocation = &quot;/home/user/program/22.3.0/launcher/target/program.jar&quot;;\nprivate static final String[] ProgramArguments ={&quot;&quot;}; \n\n&lt;...&gt;\n\nURL[] urls = new URL[]{ new URL(&quot;jar:file:&quot; + ProgramLocation +&quot;!/&quot;)};\nURLClassLoader cl = URLClassLoader.newInstance(urls, getClass().getClassLoader());\nClass&lt;?&gt; classToLoad = Class.forName (ProgramClassName , true, cl);\nMethod method = classToLoad.getDeclaredMethod (&quot;main&quot;, String[].class);\nObject instance = classToLoad.newInstance ();\nObject result = method.invoke (instance, (Object)ProgramArguments);\n</code></pre>\n<p>Class <code>com.myProject.MyMainClass</code> uses a static field of another class <code>AnotherMyClass</code> placed in different JAR.</p>\n<p>That JAR is loaded properly. I know it because program returns correct result (that is based on <code>AnotherMyClass</code>). But when i try to access <code>AnotherMyClass</code> field i get exception:</p>\n<pre><code>Class&lt;?&gt; anotherClass = Class.forName (AnoterhClassName, true, cl);\n</code></pre>\n<pre><code>java.lang.ClassNotFoundException: com.anotherproject.AnotherClass\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n</code></pre>\n<p>How could i load exactly that instance of class that was used by <code>method.invoke (instance, (Object)ProgramArguments);</code> call?\nOr maybe there is another way to launch another program and extract static field as result?</p>\n"},{"tags":["java","delete-file"],"comments":[{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":2,"creation_date":1484572919,"post_id":41677318,"comment_id":70551882,"body_markdown":"There is a closing bracket at the end without a matching opening bracket, and the indentation is weird. Is there some if statement missing from the code?","body":"There is a closing bracket at the end without a matching opening bracket, and the indentation is weird. Is there some if statement missing from the code?"},{"owner":{"account_id":45769,"reputation":1012,"user_id":135051,"display_name":"phss"},"score":0,"creation_date":1484572996,"post_id":41677318,"comment_id":70551917,"body_markdown":"Could you provide a sample of the output?","body":"Could you provide a sample of the output?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1484573339,"post_id":41677318,"comment_id":70552120,"body_markdown":"Why not try calling `files[i].delete()`, and see what exception is thrown.","body":"Why not try calling <code>files[i].delete()</code>, and see what exception is thrown."},{"owner":{"account_id":7869604,"reputation":453,"user_id":5947369,"display_name":"Curious"},"score":1,"creation_date":1484573363,"post_id":41677318,"comment_id":70552133,"body_markdown":"Try using the jdk File.delete method instead of deleteQuietly. I&#39;m hoping it would throw some sort of exception. It would be much easier to debug if there is an error to solve.","body":"Try using the jdk File.delete method instead of deleteQuietly. I&#39;m hoping it would throw some sort of exception. It would be much easier to debug if there is an error to solve."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1484573590,"post_id":41677318,"comment_id":70552272,"body_markdown":"Seconded, `FileUtils.deleteQuietly()` &quot;Deletes a file, never throwing an exception.&quot; quoting their javadoc, so debugging with this method won&#39;t be possible.","body":"Seconded, <code>FileUtils.deleteQuietly()</code> &quot;Deletes a file, never throwing an exception.&quot; quoting their javadoc, so debugging with this method won&#39;t be possible."},{"owner":{"account_id":9994594,"reputation":415,"user_id":7392578,"display_name":"Thomas Hedden"},"score":0,"creation_date":1484573634,"post_id":41677318,"comment_id":70552296,"body_markdown":"There are two different issues: why the files aren&#39;t being deleted and why there is no error. Concerning the former, it would be interesting to see a long directory (&quot;ls -l&quot;) listing to show the file permissions before the code is run, and to know what user is running the code.","body":"There are two different issues: why the files aren&#39;t being deleted and why there is no error. Concerning the former, it would be interesting to see a long directory (&quot;ls -l&quot;) listing to show the file permissions before the code is run, and to know what user is running the code."},{"owner":{"account_id":7564047,"reputation":491,"user_id":5740380,"accept_rate":12,"display_name":"vitaliy4us"},"score":0,"creation_date":1484574032,"post_id":41677318,"comment_id":70552524,"body_markdown":"This is my output: \n********** files found: 5\n.\\img\\1.abc delete result = true\n.\\img\\1.acd delete result = true\n.\\img\\1.adc delete result = true\n.\\img\\1.jpg delete result = false\n.\\img\\1.png delete result = false","body":"This is my output:  ********** files found: 5 .\\img\\1.abc delete result = true .\\img\\1.acd delete result = true .\\img\\1.adc delete result = true .\\img\\1.jpg delete result = false .\\img\\1.png delete result = false"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1527491893,"post_id":41677318,"comment_id":88132479,"body_markdown":"[What does your step debugger tell you?](http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems). Your question can be answered very quickly and easily with your step-debugger. You should always try and solve your problems with a step debugger before coming to StackOverflow, because your code appears to work as designed.","body":"<a href=\"http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What does your step debugger tell you?</a>. Your question can be answered very quickly and easily with your step-debugger. You should always try and solve your problems with a step debugger before coming to StackOverflow, because your code appears to work as designed."}],"answers":[{"tags":[],"owner":{"account_id":3337686,"reputation":1182,"user_id":2804761,"display_name":"hoat4"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484577009,"creation_date":1484575804,"answer_id":41678310,"question_id":41677318,"body_markdown":"Try this:\r\n\r\n    java.nio.file.Files.delete(files[i].toPath());\r\n\r\nAnd see what exception will be thrown. ","title":"How to delete file properly?","body":"<p>Try this:</p>\n\n<pre><code>java.nio.file.Files.delete(files[i].toPath());\n</code></pre>\n\n<p>And see what exception will be thrown. </p>\n"},{"tags":[],"owner":{"account_id":9439596,"reputation":526,"user_id":7020538,"display_name":"Abhijith S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527490290,"creation_date":1527490290,"answer_id":50560636,"question_id":41677318,"body_markdown":"This code is working for me:\r\n\r\n    File dir = new File(&quot;/home/abhijith/.img&quot;);\r\n            FileFilter fileFilter = new WildcardFileFilter(&quot;abc&quot;+&quot;.*&quot;);\r\n            File[] files = dir.listFiles(fileFilter);\r\n            System.out.println(&quot;files found: &quot; + files.length);\r\n            for (int i = 0; i &lt; files.length; i++) {\r\n                boolean success = org.apache.commons.io.FileUtils.deleteQuietly(files[i]);\r\n                System.out.println(files[i] + &quot; delete result = &quot; + success);\r\n            }\r\n\r\n\r\nHere is the output:\r\n\r\n    files found: 1\r\n    /home/abhijith/.img/abc.jpg delete result = true","title":"How to delete file properly?","body":"<p>This code is working for me:</p>\n\n<pre><code>File dir = new File(\"/home/abhijith/.img\");\n        FileFilter fileFilter = new WildcardFileFilter(\"abc\"+\".*\");\n        File[] files = dir.listFiles(fileFilter);\n        System.out.println(\"files found: \" + files.length);\n        for (int i = 0; i &lt; files.length; i++) {\n            boolean success = org.apache.commons.io.FileUtils.deleteQuietly(files[i]);\n            System.out.println(files[i] + \" delete result = \" + success);\n        }\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>files found: 1\n/home/abhijith/.img/abc.jpg delete result = true\n</code></pre>\n"}],"owner":{"account_id":7564047,"reputation":491,"user_id":5740380,"accept_rate":12,"display_name":"vitaliy4us"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":2,"score":5,"last_activity_date":1688762166,"creation_date":1484572670,"question_id":41677318,"body_markdown":"I have a problem while deleting files from img directory using org.apache.commons.io.FileUtils. I am using this code:\r\n\r\n    File dir = new File(&quot;.\\\\img&quot;);\r\n\t\tFileFilter fileFilter = new WildcardFileFilter(userId + &quot;.*&quot;);\r\n\t\tFile[] files = dir.listFiles(fileFilter);\r\n\t\tSystem.out.println(&quot;files found: &quot; + files.length);\r\n\t\tfor (int i = 0; i &lt; files.length; i++) {\r\n\t\t\tboolean success = FileUtils.deleteQuietly(files[i]);\r\n\t\t\tSystem.out.println(files[i] + &quot; delete result = &quot; + success);\r\n\t\t}\r\n    }\r\nActually the code is using for replacing image files existed in img directory with the new one. I need to delete all previously existed files which names are n.*, with the new file e.g. n.png. If I am trying to delete image files, I get false value for the variable success and the files are not deleted. But not image files e.g. *.abc; *.acd; *.acdc etc. are deleted succesfully. What is the case of this issue?","title":"How to delete file properly?","body":"<p>I have a problem while deleting files from img directory using org.apache.commons.io.FileUtils. I am using this code:</p>\n\n<pre><code>File dir = new File(\".\\\\img\");\n    FileFilter fileFilter = new WildcardFileFilter(userId + \".*\");\n    File[] files = dir.listFiles(fileFilter);\n    System.out.println(\"files found: \" + files.length);\n    for (int i = 0; i &lt; files.length; i++) {\n        boolean success = FileUtils.deleteQuietly(files[i]);\n        System.out.println(files[i] + \" delete result = \" + success);\n    }\n}\n</code></pre>\n\n<p>Actually the code is using for replacing image files existed in img directory with the new one. I need to delete all previously existed files which names are n.*, with the new file e.g. n.png. If I am trying to delete image files, I get false value for the variable success and the files are not deleted. But not image files e.g. *.abc; *.acd; *.acdc etc. are deleted succesfully. What is the case of this issue?</p>\n"},{"tags":["java","c++","qt"],"comments":[{"owner":{"account_id":23319990,"reputation":2700,"user_id":17398063,"display_name":"BoP"},"score":0,"creation_date":1688757078,"post_id":76639600,"comment_id":135121585,"body_markdown":"https://doc.qt.io/QtDigitalAdvertising/examples.html","body":"<a href=\"https://doc.qt.io/QtDigitalAdvertising/examples.html\" rel=\"nofollow noreferrer\">doc.qt.io/QtDigitalAdvertising/examples.html</a>"},{"owner":{"account_id":28941687,"reputation":11,"user_id":22168127,"display_name":"Cristian Popan"},"score":0,"creation_date":1688759325,"post_id":76639600,"comment_id":135121863,"body_markdown":"@Bop I can&#39;t install qt digital advetising in the installer for any version of qt.","body":"@Bop I can&#39;t install qt digital advetising in the installer for any version of qt."}],"owner":{"account_id":28941687,"reputation":11,"user_id":22168127,"display_name":"Cristian Popan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688762119,"creation_date":1688756671,"question_id":76639600,"body_markdown":"So I&#39;m developing an android app using Qt with Cmake and I want to add ads using admob.I found a github project about an implementation of ads using admob : https://github.com/yevgeniy-logachev/QtAdMob/tree/52a358369a4fc13f6908f1f223a17d1ee8899cab .The project use an older version of qt so I updated the files to respect the new libs(From QAndroidJniObject-&gt;QJniObject,etc.).I implemented &#39;com.google.android.gms:play-services-ads:22.2.0&#39; in the build.gradle and I modified the .xml file how the instruction from git showed me + I added the app unit id from admob.I created a link to the java file as well.So the problem is when I try to run it on emulator I get this application output:\r\n```\r\nD EGL_emulation: eglMakeCurrent: 0xec37ed40: ver 2 0 (tinfo 0xec39ea90)\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.InitializeAdBanner()V&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:12.861  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.SetAdBannerUnitId(Ljava/lang/String;)V&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:12.863  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.AddAdTestDevice(Ljava/lang/String;)V&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:12.865  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.ShowAdBanner()V&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:12.866  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.LoadAdInterstitialWithUnitId(Ljava/lang/String;)V&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:12.867  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerWidth()I&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:13.140  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerHeight()I&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:13.142  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.SetAdBannerPosition(II)V&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:13.143  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerWidth()I&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:13.152  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerHeight()I&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n07-07 21:59:13.153  8320  8349 W libuntitled_x86.so:\r\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.SetAdBannerPosition(II)V&quot;\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\r\nW libuntitled_x86.so: \tat org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\r\nW libuntitled_x86.so: \tat java.lang.Thread.run(Thread.java:919)\r\n\r\n\r\n```\r\nI think the implementation for xml file and build.gradle to be ok.Xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;org.qtproject.example&quot; android:installLocation=&quot;auto&quot; android:versionCode=&quot;-- %%INSERT_VERSION_CODE%% --&quot; android:versionName=&quot;-- %%INSERT_VERSION_NAME%% --&quot;&gt;\r\n    &lt;!-- %%INSERT_PERMISSIONS --&gt;\r\n    &lt;!-- %%INSERT_FEATURES --&gt;\r\n    &lt;supports-screens android:anyDensity=&quot;true&quot; android:largeScreens=&quot;true&quot; android:normalScreens=&quot;true&quot; android:smallScreens=&quot;true&quot;/&gt;\r\n    &lt;application android:name=&quot;org.qtproject.qt.android.bindings.QtApplication&quot; android:hardwareAccelerated=&quot;true&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:requestLegacyExternalStorage=&quot;true&quot; android:allowNativeHeapPointerTagging=&quot;false&quot; android:allowBackup=&quot;true&quot; android:fullBackupOnly=&quot;false&quot;&gt;\r\n        &lt;activity android:name=&quot;org.dreamdev.QtAdMob.QtAdMobActivity&quot; android:configChanges=&quot;orientation|uiMode|screenLayout|screenSize|smallestScreenSize|layoutDirection|locale|fontScale|keyboard|keyboardHidden|navigation|mcc|mnc|density&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:launchMode=&quot;singleTop&quot; android:screenOrientation=&quot;unspecified&quot; android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;-- %%INSERT_APP_LIB_NAME%% --&quot;/&gt;\r\n            &lt;meta-data android:name=&quot;android.app.arguments&quot; android:value=&quot;-- %%INSERT_APP_ARGUMENTS%% --&quot;/&gt;\r\n            &lt;meta-data android:name=&quot;android.app.extract_android_style&quot; android:value=&quot;minimal&quot;/&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.google.android.gms.ads.AdActivity&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot; android:theme=&quot;@android:style/Theme.Translucent&quot;&gt;\r\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;QtAdMob&quot;/&gt;\r\n&lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-9947680780884532~3377759498&quot;/&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n&lt;/manifest&gt;\r\n```\r\nAs well for build.gradle :\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.1&#39;\r\n    }\r\n}\r\n\r\nrepositories {\r\n    google()\r\n    mavenCentral()\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;, &#39;*.aar&#39;])\r\n    implementation &#39;com.google.android.gms:play-services-ads:22.2.0&#39;\r\n}\r\n\r\nandroid {\r\n    /*******************************************************\r\n     * The following variables:\r\n     * - androidBuildToolsVersion,\r\n     * - androidCompileSdkVersion\r\n     * - qtAndroidDir - holds the path to qt android files\r\n     *                   needed to build any Qt application\r\n     *                   on Android.\r\n     *\r\n     * are defined in gradle.properties file. This file is\r\n     * updated by QtCreator and androiddeployqt tools.\r\n     * Changing them manually might break the compilation!\r\n     *******************************************************/\r\n\r\n    compileSdkVersion androidCompileSdkVersion\r\n    buildToolsVersion androidBuildToolsVersion\r\n    ndkVersion androidNdkVersion\r\n\r\n    // Extract native libraries from the APK\r\n    packagingOptions.jniLibs.useLegacyPackaging true\r\n\r\n    sourceSets {\r\n        main {\r\n            manifest.srcFile &#39;AndroidManifest.xml&#39;\r\n            java.srcDirs = [qtAndroidDir + &#39;/src&#39;, &#39;src&#39;, &#39;java&#39;]\r\n            aidl.srcDirs = [qtAndroidDir + &#39;/src&#39;, &#39;src&#39;, &#39;aidl&#39;]\r\n            res.srcDirs = [qtAndroidDir + &#39;/res&#39;, &#39;res&#39;]\r\n            resources.srcDirs = [&#39;resources&#39;]\r\n            renderscript.srcDirs = [&#39;src&#39;]\r\n            assets.srcDirs = [&#39;assets&#39;]\r\n            jniLibs.srcDirs = [&#39;libs&#39;]\r\n       }\r\n    }\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.incremental = true\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n\r\n    // Do not compress Qt binary resources file\r\n    aaptOptions {\r\n        noCompress &#39;rcc&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        resConfig &quot;en&quot;\r\n        minSdkVersion qtMinSdkVersion\r\n        targetSdkVersion qtTargetSdkVersion\r\n        ndk.abiFilters = qtTargetAbiList.split(&quot;,&quot;)\r\n    }\r\n}\r\n\r\n```\r\nThis is the implementation for Cmake:\r\n```\r\ncmake_minimum_required(VERSION 3.5)\r\n\r\nproject(untitled VERSION 0.1 LANGUAGES CXX)\r\n\r\nset(CMAKE_AUTOUIC ON)\r\nset(CMAKE_AUTOMOC ON)\r\nset(CMAKE_AUTORCC ON)\r\n\r\nset(CMAKE_CXX_STANDARD 17)\r\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\r\nset(ANDROID_PACKAGE_SOURCE_DIR ${PROJECT_SOURCE_DIR}/android CACHE INTERNAL &quot;&quot;)\r\n\r\nfind_package(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Widgets)\r\nfind_package(Qt${QT_VERSION_MAJOR} REQUIRED COMPONENTS Widgets)\r\n\r\nset(ANDROID_SOURCES_DIR ${PROJECT_SOURCE_DIR}/android/src)\r\nfile(GLOB_RECURSE ANDROID_JAVA_SOURCES &quot;${ANDROID_SOURCES_DIR}/*.java&quot;)\r\n\r\nadd_library(AndroidSources OBJECT ${ANDROID_JAVA_SOURCES})\r\ntarget_include_directories(AndroidSources PRIVATE ${ANDROID_SOURCES_DIR})\r\n\r\nset(PROJECT_SOURCES\r\n    main.cpp\r\n    mainwindow.cpp\r\n    mainwindow.h\r\n    mainwindow.ui\r\n    QtAdMobBannerAndroid.cpp\r\n    QtAdMobBannerDummy.cpp\r\n    QtAdMobInterstitialAndroid.cpp\r\n    QtAdMobInterstitialDummy.cpp\r\n    QtAdmobBanner.cpp\r\n    QtAdmobInterstitial.cpp\r\n    QtAdMobBannerIos.mm\r\n    QtAdMobInterstitialIos.mm\r\n    IQtAdMobBanner.h\r\n    QtAdMobBannerAndroid.h\r\n    QtAdMobBannerIos.h\r\n    QtAdMobBannerDummy.h\r\n    QtAdMobBanner.h\r\n    IQtAdMobInterstitial.h\r\n    QtAdMobInterstitial.h\r\n    QtAdMobInterstitialIos.h\r\n    QtAdMobInterstitialAndroid.h\r\n    QtAdMobInterstitialDummy.h\r\n)\r\n\r\nif(${QT_VERSION_MAJOR} GREATER_EQUAL 6)\r\n    qt_add_executable(untitled\r\n        MANUAL_FINALIZATION\r\n        ${PROJECT_SOURCES}\r\n    )\r\nelse()\r\n    if(ANDROID)\r\n        add_library(untitled SHARED\r\n            ${PROJECT_SOURCES}\r\n        )\r\n        set(ANDROID_PACKAGE_SOURCE_DIR &quot;${CMAKE_CURRENT_SOURCE_DIR}/android&quot;)\r\n    else()\r\n        add_executable(untitled\r\n            ${PROJECT_SOURCES}\r\n        )\r\n    endif()\r\nendif()\r\n\r\ntarget_link_libraries(untitled PRIVATE\r\n    Qt${QT_VERSION_MAJOR}::Widgets\r\n    AndroidSources\r\n)\r\n\r\nset_target_properties(untitled PROPERTIES\r\n    MACOSX_BUNDLE_GUI_IDENTIFIER my.example.com\r\n    MACOSX_BUNDLE_BUNDLE_VERSION ${PROJECT_VERSION}\r\n    MACOSX_BUNDLE_SHORT_VERSION_STRING ${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}\r\n    MACOSX_BUNDLE TRUE\r\n    WIN32_EXECUTABLE TRUE\r\n)\r\n\r\ninstall(TARGETS untitled\r\n    BUNDLE DESTINATION .\r\n    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}\r\n    RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}\r\n)\r\n\r\nif(QT_VERSION_MAJOR EQUAL 6)\r\n    qt_finalize_executable(untitled)\r\nendif()\r\n\r\n```\r\nAnd the java code is the same as the code in the project from Git.\r\n\r\nI found out the problem and is because the code from java is not used but I don&#39;t know why.","title":"I want to be able to display ads using this implementation for an android app created with Qt cmake","body":"<p>So I'm developing an android app using Qt with Cmake and I want to add ads using admob.I found a github project about an implementation of ads using admob : <a href=\"https://github.com/yevgeniy-logachev/QtAdMob/tree/52a358369a4fc13f6908f1f223a17d1ee8899cab\" rel=\"nofollow noreferrer\">https://github.com/yevgeniy-logachev/QtAdMob/tree/52a358369a4fc13f6908f1f223a17d1ee8899cab</a> .The project use an older version of qt so I updated the files to respect the new libs(From QAndroidJniObject-&gt;QJniObject,etc.).I implemented 'com.google.android.gms:play-services-ads:22.2.0' in the build.gradle and I modified the .xml file how the instruction from git showed me + I added the app unit id from admob.I created a link to the java file as well.So the problem is when I try to run it on emulator I get this application output:</p>\n<pre><code>D EGL_emulation: eglMakeCurrent: 0xec37ed40: ver 2 0 (tinfo 0xec39ea90)\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.InitializeAdBanner()V&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:12.861  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.SetAdBannerUnitId(Ljava/lang/String;)V&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:12.863  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.AddAdTestDevice(Ljava/lang/String;)V&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:12.865  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.ShowAdBanner()V&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:12.866  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.LoadAdInterstitialWithUnitId(Ljava/lang/String;)V&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:12.867  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerWidth()I&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:13.140  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerHeight()I&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:13.142  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.SetAdBannerPosition(II)V&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:13.143  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerWidth()I&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:13.152  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.GetAdBannerHeight()I&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n07-07 21:59:13.153  8320  8349 W libuntitled_x86.so:\nW libuntitled_x86.so: java.lang.NoSuchMethodError: no non-static method &quot;Lorg/qtproject/qt/android/bindings/QtActivity;.SetAdBannerPosition(II)V&quot;\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative.startQtApplication(Native Method)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtNative$7.run(QtNative.java:442)\nW libuntitled_x86.so:   at org.qtproject.qt.android.QtThread$1.run(QtThread.java:25)\nW libuntitled_x86.so:   at java.lang.Thread.run(Thread.java:919)\n\n\n</code></pre>\n<p>I think the implementation for xml file and build.gradle to be ok.Xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;org.qtproject.example&quot; android:installLocation=&quot;auto&quot; android:versionCode=&quot;-- %%INSERT_VERSION_CODE%% --&quot; android:versionName=&quot;-- %%INSERT_VERSION_NAME%% --&quot;&gt;\n    &lt;!-- %%INSERT_PERMISSIONS --&gt;\n    &lt;!-- %%INSERT_FEATURES --&gt;\n    &lt;supports-screens android:anyDensity=&quot;true&quot; android:largeScreens=&quot;true&quot; android:normalScreens=&quot;true&quot; android:smallScreens=&quot;true&quot;/&gt;\n    &lt;application android:name=&quot;org.qtproject.qt.android.bindings.QtApplication&quot; android:hardwareAccelerated=&quot;true&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:requestLegacyExternalStorage=&quot;true&quot; android:allowNativeHeapPointerTagging=&quot;false&quot; android:allowBackup=&quot;true&quot; android:fullBackupOnly=&quot;false&quot;&gt;\n        &lt;activity android:name=&quot;org.dreamdev.QtAdMob.QtAdMobActivity&quot; android:configChanges=&quot;orientation|uiMode|screenLayout|screenSize|smallestScreenSize|layoutDirection|locale|fontScale|keyboard|keyboardHidden|navigation|mcc|mnc|density&quot; android:label=&quot;-- %%INSERT_APP_NAME%% --&quot; android:launchMode=&quot;singleTop&quot; android:screenOrientation=&quot;unspecified&quot; android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;-- %%INSERT_APP_LIB_NAME%% --&quot;/&gt;\n            &lt;meta-data android:name=&quot;android.app.arguments&quot; android:value=&quot;-- %%INSERT_APP_ARGUMENTS%% --&quot;/&gt;\n            &lt;meta-data android:name=&quot;android.app.extract_android_style&quot; android:value=&quot;minimal&quot;/&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;com.google.android.gms.ads.AdActivity&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot; android:theme=&quot;@android:style/Theme.Translucent&quot;&gt;\n            &lt;meta-data android:name=&quot;android.app.lib_name&quot; android:value=&quot;QtAdMob&quot;/&gt;\n&lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;ca-app-pub-9947680780884532~3377759498&quot;/&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>As well for build.gradle :</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.1'\n    }\n}\n\nrepositories {\n    google()\n    mavenCentral()\n}\n\napply plugin: 'com.android.application'\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])\n    implementation 'com.google.android.gms:play-services-ads:22.2.0'\n}\n\nandroid {\n    /*******************************************************\n     * The following variables:\n     * - androidBuildToolsVersion,\n     * - androidCompileSdkVersion\n     * - qtAndroidDir - holds the path to qt android files\n     *                   needed to build any Qt application\n     *                   on Android.\n     *\n     * are defined in gradle.properties file. This file is\n     * updated by QtCreator and androiddeployqt tools.\n     * Changing them manually might break the compilation!\n     *******************************************************/\n\n    compileSdkVersion androidCompileSdkVersion\n    buildToolsVersion androidBuildToolsVersion\n    ndkVersion androidNdkVersion\n\n    // Extract native libraries from the APK\n    packagingOptions.jniLibs.useLegacyPackaging true\n\n    sourceSets {\n        main {\n            manifest.srcFile 'AndroidManifest.xml'\n            java.srcDirs = [qtAndroidDir + '/src', 'src', 'java']\n            aidl.srcDirs = [qtAndroidDir + '/src', 'src', 'aidl']\n            res.srcDirs = [qtAndroidDir + '/res', 'res']\n            resources.srcDirs = ['resources']\n            renderscript.srcDirs = ['src']\n            assets.srcDirs = ['assets']\n            jniLibs.srcDirs = ['libs']\n       }\n    }\n\n    tasks.withType(JavaCompile) {\n        options.incremental = true\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    // Do not compress Qt binary resources file\n    aaptOptions {\n        noCompress 'rcc'\n    }\n\n    defaultConfig {\n        resConfig &quot;en&quot;\n        minSdkVersion qtMinSdkVersion\n        targetSdkVersion qtTargetSdkVersion\n        ndk.abiFilters = qtTargetAbiList.split(&quot;,&quot;)\n    }\n}\n\n</code></pre>\n<p>This is the implementation for Cmake:</p>\n<pre><code>cmake_minimum_required(VERSION 3.5)\n\nproject(untitled VERSION 0.1 LANGUAGES CXX)\n\nset(CMAKE_AUTOUIC ON)\nset(CMAKE_AUTOMOC ON)\nset(CMAKE_AUTORCC ON)\n\nset(CMAKE_CXX_STANDARD 17)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\nset(ANDROID_PACKAGE_SOURCE_DIR ${PROJECT_SOURCE_DIR}/android CACHE INTERNAL &quot;&quot;)\n\nfind_package(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Widgets)\nfind_package(Qt${QT_VERSION_MAJOR} REQUIRED COMPONENTS Widgets)\n\nset(ANDROID_SOURCES_DIR ${PROJECT_SOURCE_DIR}/android/src)\nfile(GLOB_RECURSE ANDROID_JAVA_SOURCES &quot;${ANDROID_SOURCES_DIR}/*.java&quot;)\n\nadd_library(AndroidSources OBJECT ${ANDROID_JAVA_SOURCES})\ntarget_include_directories(AndroidSources PRIVATE ${ANDROID_SOURCES_DIR})\n\nset(PROJECT_SOURCES\n    main.cpp\n    mainwindow.cpp\n    mainwindow.h\n    mainwindow.ui\n    QtAdMobBannerAndroid.cpp\n    QtAdMobBannerDummy.cpp\n    QtAdMobInterstitialAndroid.cpp\n    QtAdMobInterstitialDummy.cpp\n    QtAdmobBanner.cpp\n    QtAdmobInterstitial.cpp\n    QtAdMobBannerIos.mm\n    QtAdMobInterstitialIos.mm\n    IQtAdMobBanner.h\n    QtAdMobBannerAndroid.h\n    QtAdMobBannerIos.h\n    QtAdMobBannerDummy.h\n    QtAdMobBanner.h\n    IQtAdMobInterstitial.h\n    QtAdMobInterstitial.h\n    QtAdMobInterstitialIos.h\n    QtAdMobInterstitialAndroid.h\n    QtAdMobInterstitialDummy.h\n)\n\nif(${QT_VERSION_MAJOR} GREATER_EQUAL 6)\n    qt_add_executable(untitled\n        MANUAL_FINALIZATION\n        ${PROJECT_SOURCES}\n    )\nelse()\n    if(ANDROID)\n        add_library(untitled SHARED\n            ${PROJECT_SOURCES}\n        )\n        set(ANDROID_PACKAGE_SOURCE_DIR &quot;${CMAKE_CURRENT_SOURCE_DIR}/android&quot;)\n    else()\n        add_executable(untitled\n            ${PROJECT_SOURCES}\n        )\n    endif()\nendif()\n\ntarget_link_libraries(untitled PRIVATE\n    Qt${QT_VERSION_MAJOR}::Widgets\n    AndroidSources\n)\n\nset_target_properties(untitled PROPERTIES\n    MACOSX_BUNDLE_GUI_IDENTIFIER my.example.com\n    MACOSX_BUNDLE_BUNDLE_VERSION ${PROJECT_VERSION}\n    MACOSX_BUNDLE_SHORT_VERSION_STRING ${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}\n    MACOSX_BUNDLE TRUE\n    WIN32_EXECUTABLE TRUE\n)\n\ninstall(TARGETS untitled\n    BUNDLE DESTINATION .\n    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}\n    RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}\n)\n\nif(QT_VERSION_MAJOR EQUAL 6)\n    qt_finalize_executable(untitled)\nendif()\n\n</code></pre>\n<p>And the java code is the same as the code in the project from Git.</p>\n<p>I found out the problem and is because the code from java is not used but I don't know why.</p>\n"},{"tags":["java","jakarta-mail","connection-timeout"],"answers":[{"comments":[{"owner":{"account_id":1590496,"reputation":1304,"user_id":1473907,"accept_rate":73,"display_name":"mcacorner"},"score":0,"creation_date":1661341487,"post_id":62705296,"comment_id":129748000,"body_markdown":"Nice explanation :-)\nWhile using mail.smtp.writetimeout : This timeout is implemented by using a java.util.concurrent.ScheduledExecutorService per connection that schedules a thread to close the socket if the timeout expires. Thus, the overhead of using this timeout is one thread per connection. \nhttps://javaee.github.io/javamail/docs/api/index.html?com/sun/mail/smtp/package-summary.html","body":"Nice explanation :-) While using mail.smtp.writetimeout : This timeout is implemented by using a java.util.concurrent.ScheduledExecutorService per connection that schedules a thread to close the socket if the timeout expires. Thus, the overhead of using this timeout is one thread per connection.  <a href=\"https://javaee.github.io/javamail/docs/api/index.html?com/sun/mail/smtp/package-summary.html\" rel=\"nofollow noreferrer\">javaee.github.io/javamail/docs/api/index.html?com/sun/mail/s&zwnj;&#8203;mtp/&hellip;</a>"},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":1,"creation_date":1661351405,"post_id":62705296,"comment_id":129752351,"body_markdown":"@mcacorner Even the [one thread per connection](https://github.com/eclipse-ee4j/angus-mail/pull/22) might change.  I&#39;ll have to update the answer around that as we progress.","body":"@mcacorner Even the <a href=\"https://github.com/eclipse-ee4j/angus-mail/pull/22\" rel=\"nofollow noreferrer\">one thread per connection</a> might change.  I&#39;ll have to update the answer around that as we progress."},{"owner":{"account_id":6090171,"reputation":817,"user_id":4752738,"accept_rate":50,"display_name":"idan ahal"},"score":0,"creation_date":1688463047,"post_id":62705296,"comment_id":135074268,"body_markdown":"Doesn&#39;t he need to use &quot;mail.smtps.connectiontimeout&quot; and not &quot;mail.smtp.connectiontimeout&quot; because he configured &quot;pros.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);&quot;","body":"Doesn&#39;t he need to use &quot;mail.smtps.connectiontimeout&quot; and not &quot;mail.smtp.connectiontimeout&quot; because he configured &quot;pros.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);&quot;"},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":1,"creation_date":1688762351,"post_id":62705296,"comment_id":135122295,"body_markdown":"@idanahal Most likely yes.  I tend to just add both smtp and smtps with the same timeout values.  Note my closing sentences in my answer.  I guess I buried the lead.","body":"@idanahal Most likely yes.  I tend to just add both smtp and smtps with the same timeout values.  Note my closing sentences in my answer.  I guess I buried the lead."}],"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1688762099,"creation_date":1593725271,"answer_id":62705296,"question_id":62698967,"body_markdown":"The properties [`mail.smtp.connectiontimeout` and `mail.smtps.connectiontimeout`][1] only apply while establishing the connection.  It is not related to any timeouts during transport.\r\n\r\nThe properties [`mail.smtp.timeout` and `mail.smtps.timeout`][2] are related to the time blocked waiting for a read.  This is related to reading SMTP response codes.\r\n\r\nThe properties [`mail.smtp.writetimeout` and `mail.smtps.writetimeout`][3] are related to writing chunks of data which can vary in size.\r\n\r\nNone of these timeouts represent a deadline for a single transaction of sending a mime message.  What is happening is that there is no single action (connect, read, write) that is exceeding the 3000ms.  \r\n\r\nFor example, connect could take 1000ms, followed by say 30 requests (write) and response parsing (reads) that take 100ms, and set of say 3 writes to send the message that take 1000ms each due to the speed of the network and size of the message.  That is 1000 + (30 * 100) + (3 * 1000) = 7000ms total time but no single action exceeded the timeouts.\r\n\r\nIn a test environment\r\n\r\n 1. Set all timeouts to 3000.\r\n 2. Set `connectimeout` to 1 and test.  You should see the connection fail.\r\n 3. Restart the test by setting it back to 3000 and set `timeout` to 1.  You should see the reads fail.\r\n 4. Restart the test by setting it back to 3000 and set `writetimeout` to 1.  You should see the transport fail.\r\n\r\nIf the test doesn&#39;t act this way you either haven&#39;t set the properties correctly (typo or smtp vs. smtps).  Or you are really lucky to have such low latency.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#connect(java.net.SocketAddress,%20int)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout(int)\r\n  [3]: https://github.com/eclipse-ee4j/mail/blob/master/mail/src/main/java/com/sun/mail/util/WriteTimeoutSocket.java","title":"JavaMail connection timeout is not working as per properties","body":"<p>The properties <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#connect(java.net.SocketAddress,%20int)\" rel=\"nofollow noreferrer\"><code>mail.smtp.connectiontimeout</code> and <code>mail.smtps.connectiontimeout</code></a> only apply while establishing the connection.  It is not related to any timeouts during transport.</p>\n<p>The properties <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#setSoTimeout(int)\" rel=\"nofollow noreferrer\"><code>mail.smtp.timeout</code> and <code>mail.smtps.timeout</code></a> are related to the time blocked waiting for a read.  This is related to reading SMTP response codes.</p>\n<p>The properties <a href=\"https://github.com/eclipse-ee4j/mail/blob/master/mail/src/main/java/com/sun/mail/util/WriteTimeoutSocket.java\" rel=\"nofollow noreferrer\"><code>mail.smtp.writetimeout</code> and <code>mail.smtps.writetimeout</code></a> are related to writing chunks of data which can vary in size.</p>\n<p>None of these timeouts represent a deadline for a single transaction of sending a mime message.  What is happening is that there is no single action (connect, read, write) that is exceeding the 3000ms.</p>\n<p>For example, connect could take 1000ms, followed by say 30 requests (write) and response parsing (reads) that take 100ms, and set of say 3 writes to send the message that take 1000ms each due to the speed of the network and size of the message.  That is 1000 + (30 * 100) + (3 * 1000) = 7000ms total time but no single action exceeded the timeouts.</p>\n<p>In a test environment</p>\n<ol>\n<li>Set all timeouts to 3000.</li>\n<li>Set <code>connectimeout</code> to 1 and test.  You should see the connection fail.</li>\n<li>Restart the test by setting it back to 3000 and set <code>timeout</code> to 1.  You should see the reads fail.</li>\n<li>Restart the test by setting it back to 3000 and set <code>writetimeout</code> to 1.  You should see the transport fail.</li>\n</ol>\n<p>If the test doesn't act this way you either haven't set the properties correctly (typo or smtp vs. smtps).  Or you are really lucky to have such low latency.</p>\n"}],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62705296,"answer_count":1,"score":2,"last_activity_date":1688762099,"creation_date":1593700998,"question_id":62698967,"body_markdown":"Javax mail version used 1.6.2\r\n\r\nmanually setting JavaMailSender\r\n\r\nTimeout thing I tried with mail.smtp.timeout &amp; mail.smtps.timeout.  \r\nAnd, I tried with both String &amp; Integer value 3000.\r\n\r\n    \tString timeOut = &quot;3000&quot;;\r\n\t\tProperties pros = new Properties();\r\n\t\tpros.put(&quot;mail.smtp.timeout&quot;, timeOut);\r\n\t\tpros.put(&quot;mail.smtp.connectiontimeout&quot;, timeOut);\r\n\t\tpros.put(&quot;mail.smtp.writetimeout&quot;, timeOut);\r\n\r\n\t\tpros.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tpros.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n\r\n\t\tjmailSender.setJavaMailProperties(pros);\r\n\r\n\t\treturn jmailSender;\r\n\r\nIt&#39;s taking around 7 seconds without any fail.\r\nSince by default is infinite, so most probably it is not setting somehow \r\n\r\nAre any properties missing or something else?","title":"JavaMail connection timeout is not working as per properties","body":"<p>Javax mail version used 1.6.2</p>\n<p>manually setting JavaMailSender</p>\n<p>Timeout thing I tried with mail.smtp.timeout &amp; mail.smtps.timeout.<br />\nAnd, I tried with both String &amp; Integer value 3000.</p>\n<pre><code>    String timeOut = &quot;3000&quot;;\n    Properties pros = new Properties();\n    pros.put(&quot;mail.smtp.timeout&quot;, timeOut);\n    pros.put(&quot;mail.smtp.connectiontimeout&quot;, timeOut);\n    pros.put(&quot;mail.smtp.writetimeout&quot;, timeOut);\n\n    pros.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    pros.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n\n    jmailSender.setJavaMailProperties(pros);\n\n    return jmailSender;\n</code></pre>\n<p>It's taking around 7 seconds without any fail.\nSince by default is infinite, so most probably it is not setting somehow</p>\n<p>Are any properties missing or something else?</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":14338249,"reputation":3125,"user_id":10357086,"display_name":"Dev4Life"},"score":0,"creation_date":1691384065,"post_id":76639995,"comment_id":135478844,"body_markdown":"Question doesn&#39;t provide enough information. Where&#39;s the `See all` Button click?","body":"Question doesn&#39;t provide enough information. Where&#39;s the <code>See all</code> Button click?"}],"owner":{"account_id":15594000,"reputation":1,"user_id":11250088,"display_name":"Assad Iqbal Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688760927,"creation_date":1688760927,"question_id":76639995,"body_markdown":"I am facing issue from one week and i need help.\r\n\r\nI am creating a food delivery app in which on menu page i mentioned categories and add a textview (SeeAll) to see more categories. I am using Recycler view but when i click on SeeAll text than app instead of showing me all categories page got back to the signin page.\r\n\r\n[When click on SeeAll it goes back to signin page](https://i.stack.imgur.com/ztp42.gif)\r\n\r\n\r\nAllCategoryActivity.class\r\n```\r\npackage com.example.quickgrocer;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.quickgrocer.adapter.AllCategoryAdapter;\r\nimport com.example.quickgrocer.model.AllCategoryModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class AllCategoryActivity extends AppCompatActivity {\r\n\r\n    RecyclerView AllCategoryRecycler;\r\n    AllCategoryAdapter allCategoryAdapter;\r\n    List&lt;AllCategoryModel&gt; allCategoryModelList;\r\n\r\n    ImageButton back;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_all_category);\r\n\r\n        back = (ImageButton) findViewById(R.id.back);\r\n\r\n\r\n        back.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(AllCategoryActivity.this, Menu.class));\r\n            }\r\n        });\r\n\r\n        AllCategoryRecycler = (RecyclerView) findViewById(R.id.all_category);\r\n\r\n        // adding data to model\r\n        allCategoryModelList = new ArrayList&lt;&gt;();\r\n        allCategoryModelList.add(new AllCategoryModel(1, R.drawable.ic_home_fruits));\r\n        allCategoryModelList.add(new AllCategoryModel(2, R.drawable.ic_veggies));\r\n        allCategoryModelList.add(new AllCategoryModel(3, R.drawable.ic_meat));\r\n        allCategoryModelList.add(new AllCategoryModel(4, R.drawable.ic_fish));\r\n        allCategoryModelList.add(new AllCategoryModel(5, R.drawable.ic_spices));\r\n        allCategoryModelList.add(new AllCategoryModel(6, R.drawable.ic_egg));\r\n        allCategoryModelList.add(new AllCategoryModel(7, R.drawable.ic_drink));\r\n        allCategoryModelList.add(new AllCategoryModel(8, R.drawable.ic_cookies));\r\n        allCategoryModelList.add(new AllCategoryModel(9, R.drawable.ic_juce));\r\n\r\n        setCategoryRecycler(allCategoryModelList);\r\n\r\n    }\r\n\r\n    private void setCategoryRecycler(List&lt;AllCategoryModel&gt; allCategoryModelList) {\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);\r\n        AllCategoryRecycler.setLayoutManager(layoutManager);\r\n        allCategoryAdapter = new AllCategoryAdapter(this,allCategoryModelList);\r\n        AllCategoryRecycler.setAdapter(allCategoryAdapter);\r\n    }\r\n\r\n\r\n \r\n\r\n\r\n}\r\n```\r\n\r\nAllCategoryModel\r\n\r\n```\r\npackage com.example.quickgrocer.model;\r\n\r\npublic class AllCategoryModel {\r\n\r\n\r\n\r\n    Integer id;\r\n    Integer imageurl;\r\n\r\n    public AllCategoryModel(Integer id, Integer imageurl) {\r\n        this.id = id;\r\n        this.imageurl = imageurl;\r\n    }\r\n\r\n    public Integer getId() {return id;}\r\n\r\n    public void setId(Integer id) {this.id = id;}\r\n\r\n    public Integer getImageurl() {return imageurl;}\r\n\r\n    public void setImageurl(Integer imageurl) {this.imageurl = imageurl;}\r\n\r\n}\r\n\r\n```\r\n\r\nAllCategoryAdapter\r\n\r\n\r\n```\r\npackage com.example.quickgrocer.adapter;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.quickgrocer.R;\r\nimport com.example.quickgrocer.model.AllCategoryModel;\r\n\r\nimport java.util.List;\r\n\r\npublic class  AllCategoryAdapter extends RecyclerView.Adapter&lt;AllCategoryAdapter.AllCategoryViewHolder&gt; {\r\n\r\n    Context context;\r\n    private final List&lt;AllCategoryModel&gt; categoryList;\r\n\r\n    public AllCategoryAdapter(Context context, List&lt;AllCategoryModel&gt; categoryList) {\r\n        this.context = context;\r\n        this.categoryList = categoryList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public AllCategoryViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(context).inflate(R.layout.all_category_row_items, parent, false);\r\n        return new AllCategoryAdapter.AllCategoryViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull AllCategoryViewHolder holder, int position) {\r\n\r\n        holder.itemImage.setImageResource(categoryList.get(position).getImageurl());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categoryList.size();\r\n    }\r\n\r\n    public class AllCategoryViewHolder extends RecyclerView.ViewHolder{\r\n\r\n\r\n        ImageView itemImage;\r\n\r\n        public AllCategoryViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            itemImage = (ImageView)itemView.findViewById(R.id.item_img);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nactivity_all_category.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.AllCategoryActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?android:attr/actionBarSize&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/back&quot;\r\n        android:background=&quot;#ffffff&quot;\r\n        android:layout_width=&quot;50dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:src=&quot;@drawable/baseline_arrow_back_24&quot;\r\n        android:contentDescription=&quot;TODO&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Select a category&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:layout_marginLeft=&quot;100dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:fontFamily=&quot;@font/quicksand&quot;\r\n        android:textColor=&quot;@android:color/background_dark&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/all_category&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;32dp&quot; /&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nall_category_row_items.xml\r\n\r\n\r\n```\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:backgroundTint=&quot;#ffffff&quot;\r\n    android:layout_margin=&quot;5dp&quot;\r\n    app:cardCornerRadius=&quot;8dp&quot;\r\n    android:background=&quot;#ffffff&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/item_img&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/ic_cookies&quot;\r\n        android:contentDescription=&quot;Item Img&quot; /&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\n\r\n\r\nI tried all possible ways but still facing issue.","title":"I am Using Recycler View but when i click on See all than app got back to previous activity instead of showing AllCategoryActivity","body":"<p>I am facing issue from one week and i need help.</p>\n<p>I am creating a food delivery app in which on menu page i mentioned categories and add a textview (SeeAll) to see more categories. I am using Recycler view but when i click on SeeAll text than app instead of showing me all categories page got back to the signin page.</p>\n<p><a href=\"https://i.stack.imgur.com/ztp42.gif\" rel=\"nofollow noreferrer\">When click on SeeAll it goes back to signin page</a></p>\n<p>AllCategoryActivity.class</p>\n<pre><code>package com.example.quickgrocer;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageButton;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.quickgrocer.adapter.AllCategoryAdapter;\nimport com.example.quickgrocer.model.AllCategoryModel;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AllCategoryActivity extends AppCompatActivity {\n\n    RecyclerView AllCategoryRecycler;\n    AllCategoryAdapter allCategoryAdapter;\n    List&lt;AllCategoryModel&gt; allCategoryModelList;\n\n    ImageButton back;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_all_category);\n\n        back = (ImageButton) findViewById(R.id.back);\n\n\n        back.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(AllCategoryActivity.this, Menu.class));\n            }\n        });\n\n        AllCategoryRecycler = (RecyclerView) findViewById(R.id.all_category);\n\n        // adding data to model\n        allCategoryModelList = new ArrayList&lt;&gt;();\n        allCategoryModelList.add(new AllCategoryModel(1, R.drawable.ic_home_fruits));\n        allCategoryModelList.add(new AllCategoryModel(2, R.drawable.ic_veggies));\n        allCategoryModelList.add(new AllCategoryModel(3, R.drawable.ic_meat));\n        allCategoryModelList.add(new AllCategoryModel(4, R.drawable.ic_fish));\n        allCategoryModelList.add(new AllCategoryModel(5, R.drawable.ic_spices));\n        allCategoryModelList.add(new AllCategoryModel(6, R.drawable.ic_egg));\n        allCategoryModelList.add(new AllCategoryModel(7, R.drawable.ic_drink));\n        allCategoryModelList.add(new AllCategoryModel(8, R.drawable.ic_cookies));\n        allCategoryModelList.add(new AllCategoryModel(9, R.drawable.ic_juce));\n\n        setCategoryRecycler(allCategoryModelList);\n\n    }\n\n    private void setCategoryRecycler(List&lt;AllCategoryModel&gt; allCategoryModelList) {\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);\n        AllCategoryRecycler.setLayoutManager(layoutManager);\n        allCategoryAdapter = new AllCategoryAdapter(this,allCategoryModelList);\n        AllCategoryRecycler.setAdapter(allCategoryAdapter);\n    }\n\n\n \n\n\n}\n</code></pre>\n<p>AllCategoryModel</p>\n<pre><code>package com.example.quickgrocer.model;\n\npublic class AllCategoryModel {\n\n\n\n    Integer id;\n    Integer imageurl;\n\n    public AllCategoryModel(Integer id, Integer imageurl) {\n        this.id = id;\n        this.imageurl = imageurl;\n    }\n\n    public Integer getId() {return id;}\n\n    public void setId(Integer id) {this.id = id;}\n\n    public Integer getImageurl() {return imageurl;}\n\n    public void setImageurl(Integer imageurl) {this.imageurl = imageurl;}\n\n}\n\n</code></pre>\n<p>AllCategoryAdapter</p>\n<pre><code>package com.example.quickgrocer.adapter;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.quickgrocer.R;\nimport com.example.quickgrocer.model.AllCategoryModel;\n\nimport java.util.List;\n\npublic class  AllCategoryAdapter extends RecyclerView.Adapter&lt;AllCategoryAdapter.AllCategoryViewHolder&gt; {\n\n    Context context;\n    private final List&lt;AllCategoryModel&gt; categoryList;\n\n    public AllCategoryAdapter(Context context, List&lt;AllCategoryModel&gt; categoryList) {\n        this.context = context;\n        this.categoryList = categoryList;\n    }\n\n    @NonNull\n    @Override\n    public AllCategoryViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(context).inflate(R.layout.all_category_row_items, parent, false);\n        return new AllCategoryAdapter.AllCategoryViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull AllCategoryViewHolder holder, int position) {\n\n        holder.itemImage.setImageResource(categoryList.get(position).getImageurl());\n    }\n\n    @Override\n    public int getItemCount() {\n        return categoryList.size();\n    }\n\n    public class AllCategoryViewHolder extends RecyclerView.ViewHolder{\n\n\n        ImageView itemImage;\n\n        public AllCategoryViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            itemImage = (ImageView)itemView.findViewById(R.id.item_img);\n\n        }\n    }\n\n}\n</code></pre>\n<p>activity_all_category.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.AllCategoryActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?android:attr/actionBarSize&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:layout_margin=&quot;5dp&quot;&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/back&quot;\n        android:background=&quot;#ffffff&quot;\n        android:layout_width=&quot;50dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:src=&quot;@drawable/baseline_arrow_back_24&quot;\n        android:contentDescription=&quot;TODO&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Select a category&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:layout_marginLeft=&quot;100dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:fontFamily=&quot;@font/quicksand&quot;\n        android:textColor=&quot;@android:color/background_dark&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/all_category&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;32dp&quot; /&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>all_category_row_items.xml</p>\n<pre><code>&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:backgroundTint=&quot;#ffffff&quot;\n    android:layout_margin=&quot;5dp&quot;\n    app:cardCornerRadius=&quot;8dp&quot;\n    android:background=&quot;#ffffff&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/item_img&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_cookies&quot;\n        android:contentDescription=&quot;Item Img&quot; /&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>I tried all possible ways but still facing issue.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1688738665,"post_id":76637400,"comment_id":135118277,"body_markdown":"There is too little code for us to be able to help. Please edit the question to show a [minimal, complete and verifiable example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"There is too little code for us to be able to help. Please edit the question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, complete and verifiable example</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1688740664,"post_id":76637400,"comment_id":135118680,"body_markdown":"basically, handling the (second) operation (e.g. `+`): do the previous calculation (first`+ `), move the result to the first input field )or variable - we cannot see the code), clear the second input field, remember the operation for when the next operation or equals is pressed","body":"basically, handling the (second) operation (e.g. <code>+</code>): do the previous calculation (first<code>+ </code>), move the result to the first input field )or variable - we cannot see the code), clear the second input field, remember the operation for when the next operation or equals is pressed"}],"answers":[{"comments":[{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688743472,"post_id":76637784,"comment_id":135119230,"body_markdown":"How would I apply the java snippet to my code? (hmm)","body":"How would I apply the java snippet to my code? (hmm)"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1688744209,"post_id":76637784,"comment_id":135119394,"body_markdown":"@user22190533 I explained what the Java code looks like already. You just need to add it t your code. Take a look at the JavaScript implementation to understand the flow of the logic.","body":"@user22190533 I explained what the Java code looks like already. You just need to add it t your code. Take a look at the JavaScript implementation to understand the flow of the logic."},{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688747936,"post_id":76637784,"comment_id":135120138,"body_markdown":"Can&#39;t get it to work.\n\nThis part has type mismatch: cannot convert from double to String\n\n```\n case &quot;+&quot; : return left+right;\n```","body":"Can&#39;t get it to work.  This part has type mismatch: cannot convert from double to String  ```  case &quot;+&quot; : return left+right; ```"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1688750724,"post_id":76637784,"comment_id":135120653,"body_markdown":"@user22190533 Sorry, I updated the Java snippet. I forget to convert the double result of the arithmetic back into a String.","body":"@user22190533 Sorry, I updated the Java snippet. I forget to convert the double result of the arithmetic back into a String."},{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688751684,"post_id":76637784,"comment_id":135120818,"body_markdown":"I added the buffer code inside the operator keypress logic, and launch the program. When I press the + sign, alot of errors appear","body":"I added the buffer code inside the operator keypress logic, and launch the program. When I press the + sign, alot of errors appear"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1688754745,"post_id":76637784,"comment_id":135121264,"body_markdown":"@user22190533 you will have to post your Swing application code (in its entirety). Also, are you using an IDE? Have you ran the debugger? Are you calling non-static methods inside of instance methods?","body":"@user22190533 you will have to post your Swing application code (in its entirety). Also, are you using an IDE? Have you ran the debugger? Are you calling non-static methods inside of instance methods?"},{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688756137,"post_id":76637784,"comment_id":135121470,"body_markdown":"Added the entire code above  (using Eclipse)","body":"Added the entire code above  (using Eclipse)"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1688760934,"post_id":76637784,"comment_id":135122106,"body_markdown":"@user22190533 added working code that fixes the null-pointer. Please use the Eclipse debugger and place breakpoints around the erroneous lines that the stack trace complains about.","body":"@user22190533 added working code that fixes the null-pointer. Please use the Eclipse debugger and place breakpoints around the erroneous lines that the stack trace complains about."},{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688806214,"post_id":76637784,"comment_id":135125577,"body_markdown":"Thanks dude...there&#39;s still an error if I press the + sign and then the = sign, but I&#39;m sure there&#39;s a way to fix it...","body":"Thanks dude...there&#39;s still an error if I press the + sign and then the = sign, but I&#39;m sure there&#39;s a way to fix it..."},{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688818654,"post_id":76637784,"comment_id":135126749,"body_markdown":"I put an if statement in the operator keypress logic and also in the = logic, to popup a dialog box to say Stiring is empty, but pop up appears on first click only. Upon repeated clicking, the empty string stack traces appears....","body":"I put an if statement in the operator keypress logic and also in the = logic, to popup a dialog box to say Stiring is empty, but pop up appears on first click only. Upon repeated clicking, the empty string stack traces appears...."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":10,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688760735,"creation_date":1688739655,"answer_id":76637784,"question_id":76637400,"body_markdown":"You will need two variables:\r\n\r\n1. A buffer (`String`) to store the previous input\r\n2. The current operator (`String` or `enum`) (aka mode)\r\n\r\nThat&#39;s it.\r\n\r\nYou will need to update these variables, along with the buffer display and the current input value.\r\n\r\nThere are three button types:\r\n\r\n1. Command (Clear, change sign, percentage, and equals)\r\n2. Operator (+, -, *, /)\r\n3. Digit (includes the decimal)\r\n\r\nNow for your inquiry, you will need to detect if the buffer is not empty when you go to apply another operator:\r\n\r\n```java\r\n// Required variables\r\nString buffer, operator;\r\n\r\n// Inside operator keypress logic\r\nif (buffer != &quot;&quot;) {\r\n    double left = Double.parseDouble(buffer);\r\n    double right = Double.parseDouble(textField.getText());\r\n    buffer = compute(operator, left, right);\r\n} else {\r\n    buffer = textField.getText();\r\n}\r\ntextField.setText(&quot;&quot;); // Clear (buffer will display prev and operator)\r\n\r\n\r\n// A pure function, defined anywhere\r\npublic static String compute(String operator, double left, double right) {\r\n    switch (operator) {\r\n        case &quot;+&quot; : return Double.toString(left + right);\r\n        case &quot;-&quot; : return Double.toString(left - right);\r\n        case &quot;*&quot; : return Double.toString(left * right);\r\n        case &quot;/&quot; : return Double.toString(left / right);\r\n        default  : return &quot;ERR&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe code below is a basic algorithm that can be applied to your Java Swing application with just two variables.\r\n\r\n---\r\n\r\n# Demonstration\r\n\r\nHere is a basic example in JavaScript that describes the flow of a simple calculator.\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let buffer, operator;\r\n\r\n    const compute = (operator, left, right) =&gt; {\r\n      switch (operator) {\r\n        case &#39;+&#39;: return left + right;\r\n        case &#39;-&#39;: return left - right;\r\n        case &#39;*&#39;: return left * right;\r\n        case &#39;/&#39;: return left / right;\r\n        default:  return &#39;ERR&#39;;\r\n      }\r\n    }\r\n\r\n    const handleClick = (e) =&gt; {\r\n      const calculator = e.target.closest(&#39;.calculator&#39;);\r\n      const dispBuffer = calculator.querySelector(&#39;.display &gt; .buffer&#39;);\r\n      const dispInput = calculator.querySelector(&#39;.display &gt; input&#39;);\r\n      \r\n      switch (e.target.dataset.type) {\r\n        case &#39;digit&#39;:\r\n          dispInput.value += e.target.dataset.value;\r\n          break;\r\n        case &#39;operator&#39;:\r\n          buffer = operator ? compute(operator, +buffer, +dispInput.value) : dispInput.value;\r\n          operator = e.target.dataset.value;\r\n          dispInput.value = &#39;&#39;;\r\n          dispBuffer.textContent = `${buffer} ${operator}`;\r\n          break;\r\n        case &#39;command&#39;:\r\n          switch (e.target.dataset.value) {\r\n            case &#39;AC&#39;:\r\n              dispInput.value = &#39;&#39;;\r\n              operator = &#39;&#39;;\r\n              buffer = &#39;&#39;;\r\n              dispBuffer.textContent = &#39;&#39;;\r\n              break;\r\n            case &#39;+/-&#39;:\r\n              dispInput.value = +dispInput.value * -1;\r\n              break;\r\n            case &#39;%&#39;:\r\n              dispInput.value = buffer ? +dispInput.value / 100 : 0;\r\n              break;\r\n            case &#39;=&#39;:\r\n              dispInput.value = compute(operator, +buffer, +dispInput.value);\r\n              operator = &#39;&#39;;\r\n              buffer = &#39;&#39;;\r\n              dispBuffer.textContent = &#39;&#39;;\r\n              break;\r\n          }\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.querySelector(&#39;.keyboard&#39;).addEventListener(&#39;click&#39;, handleClick);\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    *, *::before, *::after {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    html, body {\r\n      width: 100%;\r\n      height: 100%;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n\r\n    body {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background: #222;\r\n    }\r\n\r\n    .calculator {\r\n      display: flex;\r\n      flex-direction: column;\r\n      border: thin solid #DDD;\r\n      padding: 0.5rem;\r\n      gap: 0.5rem;\r\n      background: #444;\r\n    }\r\n\r\n    .display {\r\n      display: flex;\r\n      flex-direction: column;\r\n      background: #000;\r\n    }\r\n\r\n    .display .buffer {\r\n      min-height: 1rem;\r\n      text-align: right;\r\n      color: #FFF;\r\n      font-family: monospace;\r\n      font-size: smaller;\r\n    }\r\n\r\n    .display &gt; input {\r\n      text-align: right;\r\n      background: transparent;\r\n      color: #FFF;\r\n      border: none;\r\n    }\r\n\r\n    .keyboard {\r\n      display: grid;\r\n      grid-template-columns: repeat(4, auto);\r\n      gap: 0.25rem;\r\n    }\r\n\r\n    .keyboard button {\r\n      cursor: pointer;\r\n      font-family: monospace;\r\n    }\r\n\r\n    .grid-span-2 {\r\n      grid-column: span 2;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;calculator&quot;&gt;\r\n      &lt;div class=&quot;display&quot;&gt;\r\n        &lt;div class=&quot;buffer&quot;&gt;&lt;/div&gt;\r\n        &lt;input type=&quot;text&quot; value=&quot;&quot; placeholder=&quot;0&quot; readonly /&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;keyboard&quot;&gt;\r\n        &lt;button data-type=&quot;command&quot; data-value=&quot;AC&quot;&gt;AC&lt;/button&gt;\r\n        &lt;button data-type=&quot;command&quot; data-value=&quot;+/-&quot;&gt;+/-&lt;/button&gt;\r\n        &lt;button data-type=&quot;command&quot; data-value=&quot;%&quot;&gt;%&lt;/button&gt;\r\n        &lt;button data-type=&quot;operator&quot; data-value=&quot;/&quot;&gt;/&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;7&quot;&gt;7&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;8&quot;&gt;8&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;9&quot;&gt;9&lt;/button&gt;\r\n        &lt;button data-type=&quot;operator&quot; data-value=&quot;*&quot;&gt;*&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;4&quot;&gt;4&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;5&quot;&gt;5&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;6&quot;&gt;6&lt;/button&gt;\r\n        &lt;button data-type=&quot;operator&quot; data-value=&quot;-&quot;&gt;-&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;1&quot;&gt;1&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;2&quot;&gt;2&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;3&quot;&gt;3&lt;/button&gt;\r\n        &lt;button data-type=&quot;operator&quot; data-value=&quot;+&quot;&gt;+&lt;/button&gt;\r\n        &lt;button class=&quot;grid-span-2&quot; data-type=&quot;digit&quot; data-value=&quot;0&quot;&gt;0&lt;/button&gt;\r\n        &lt;button data-type=&quot;digit&quot; data-value=&quot;.&quot;&gt;.&lt;/button&gt;\r\n        &lt;button data-type=&quot;command&quot; data-value=&quot;=&quot;&gt;=&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n---\r\n\r\n# Update\r\n\r\nHere is the fixed code. You need to be aware of `NullPointerException` stack traces. A debugger would have told you that the `operator` was null, because you never set it when clicking the addition button.\r\n\r\nUse an `Optional.ofNullable(operator).orElse(&quot;&quot;)` to access it, create a convenience getter that guarantees the operator will always be a non-null string. Or never set it to null and always an empty string when resetting. You have many options.\r\n\r\nBelow, I just added a simple `null`-check around the `switch` statement.\r\n\r\n```java\r\nimport java.awt.EventQueue;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JButton;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.GroupLayout;\r\nimport javax.swing.GroupLayout.Alignment;\r\nimport javax.swing.LayoutStyle.ComponentPlacement;\r\nimport java.awt.Font;\r\n\r\npublic class Calc {\r\n\r\n    private JFrame frame;\r\n    String buffer, operator;\r\n    private JTextField textField;\r\n\r\n    /**\r\n     * Launch the application.\r\n     */\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    Calc window = new Calc();\r\n                    window.frame.setVisible(true);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create the application.\r\n     */\r\n    public Calc() {\r\n        initialize();\r\n    }\r\n\r\n    /**\r\n     * Initialize the contents of the frame.\r\n     */\r\n    private void initialize() {\r\n        frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(500, 200);\r\n\r\n        JButton btnOne = new JButton(&quot;1&quot;);\r\n        btnOne.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\r\n        btnOne.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                String digit = ((JButton) e.getSource()).getText(); // Get button text (&quot;1&quot;));\r\n                textField.setText(textField.getText() + digit);\r\n            }\r\n        });\r\n\r\n        textField = new JTextField();\r\n        textField.setColumns(10);\r\n\r\n        JButton btnAdd = new JButton(&quot;+&quot;);\r\n        btnAdd.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\r\n        btnAdd.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (buffer != null &amp;&amp; buffer != &quot;&quot;) {\r\n                    double left = Double.parseDouble(buffer);\r\n                    double right = Double.parseDouble(textField.getText());\r\n                    buffer = compute(operator, left, right);\r\n                } else {\r\n                    buffer = textField.getText();\r\n                }\r\n                operator = ((JButton) e.getSource()).getText(); // Get button text (&quot;+&quot;)\r\n                textField.setText(&quot;&quot;);\r\n\r\n            }\r\n        });\r\n\r\n        JButton btnEquals = new JButton(&quot;=&quot;);\r\n        btnEquals.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent arg0) {\r\n                double left = Double.parseDouble(buffer);\r\n                double right = Double.parseDouble(textField.getText());\r\n                textField.setText(compute(operator, left, right));\r\n                operator = null;\r\n                buffer = null;\r\n            }\r\n        });\r\n\r\n        GroupLayout groupLayout = new GroupLayout(frame.getContentPane());\r\n        groupLayout.setHorizontalGroup(\r\n                groupLayout.createParallelGroup(Alignment.LEADING)\r\n                        .addGroup(groupLayout.createSequentialGroup()\r\n                                .addGap(4)\r\n                                .addGroup(groupLayout.createParallelGroup(Alignment.LEADING)\r\n                                        .addGroup(groupLayout.createSequentialGroup()\r\n                                                .addComponent(btnOne)\r\n                                                .addPreferredGap(ComponentPlacement.UNRELATED)\r\n                                                .addComponent(textField, GroupLayout.PREFERRED_SIZE, 338,\r\n                                                        GroupLayout.PREFERRED_SIZE))\r\n                                        .addComponent(btnAdd)\r\n                                        .addComponent(btnEquals))\r\n                                .addGap(21)));\r\n        groupLayout.setVerticalGroup(\r\n                groupLayout.createParallelGroup(Alignment.LEADING)\r\n                        .addGroup(groupLayout.createSequentialGroup()\r\n                                .addGap(5)\r\n                                .addGroup(groupLayout.createParallelGroup(Alignment.BASELINE)\r\n                                        .addComponent(btnOne)\r\n                                        .addComponent(textField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE,\r\n                                                GroupLayout.PREFERRED_SIZE))\r\n                                .addGap(5)\r\n                                .addComponent(btnAdd)\r\n                                .addGap(5)\r\n                                .addComponent(btnEquals)));\r\n        frame.getContentPane().setLayout(groupLayout);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static String compute(String operator, double left, double right) {\r\n        if (operator != null) {\r\n            switch (operator) {\r\n                case &quot;+&quot;:\r\n                    return Double.toString(left + right);\r\n                default:\r\n                    return &quot;ERR&quot;; // Unsupported operator\r\n            }\r\n        }\r\n        return &quot;ERR&quot;; // Operator was null\r\n    }\r\n\r\n}\r\n```\r\n","title":"How do I do this calculation (1+1+1) in a Java GUI Calculator","body":"<p>You will need two variables:</p>\n<ol>\n<li>A buffer (<code>String</code>) to store the previous input</li>\n<li>The current operator (<code>String</code> or <code>enum</code>) (aka mode)</li>\n</ol>\n<p>That's it.</p>\n<p>You will need to update these variables, along with the buffer display and the current input value.</p>\n<p>There are three button types:</p>\n<ol>\n<li>Command (Clear, change sign, percentage, and equals)</li>\n<li>Operator (+, -, *, /)</li>\n<li>Digit (includes the decimal)</li>\n</ol>\n<p>Now for your inquiry, you will need to detect if the buffer is not empty when you go to apply another operator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Required variables\nString buffer, operator;\n\n// Inside operator keypress logic\nif (buffer != &quot;&quot;) {\n    double left = Double.parseDouble(buffer);\n    double right = Double.parseDouble(textField.getText());\n    buffer = compute(operator, left, right);\n} else {\n    buffer = textField.getText();\n}\ntextField.setText(&quot;&quot;); // Clear (buffer will display prev and operator)\n\n\n// A pure function, defined anywhere\npublic static String compute(String operator, double left, double right) {\n    switch (operator) {\n        case &quot;+&quot; : return Double.toString(left + right);\n        case &quot;-&quot; : return Double.toString(left - right);\n        case &quot;*&quot; : return Double.toString(left * right);\n        case &quot;/&quot; : return Double.toString(left / right);\n        default  : return &quot;ERR&quot;;\n    }\n}\n</code></pre>\n<p>The code below is a basic algorithm that can be applied to your Java Swing application with just two variables.</p>\n<hr />\n<h1>Demonstration</h1>\n<p>Here is a basic example in JavaScript that describes the flow of a simple calculator.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let buffer, operator;\n\nconst compute = (operator, left, right) =&gt; {\n  switch (operator) {\n    case '+': return left + right;\n    case '-': return left - right;\n    case '*': return left * right;\n    case '/': return left / right;\n    default:  return 'ERR';\n  }\n}\n\nconst handleClick = (e) =&gt; {\n  const calculator = e.target.closest('.calculator');\n  const dispBuffer = calculator.querySelector('.display &gt; .buffer');\n  const dispInput = calculator.querySelector('.display &gt; input');\n  \n  switch (e.target.dataset.type) {\n    case 'digit':\n      dispInput.value += e.target.dataset.value;\n      break;\n    case 'operator':\n      buffer = operator ? compute(operator, +buffer, +dispInput.value) : dispInput.value;\n      operator = e.target.dataset.value;\n      dispInput.value = '';\n      dispBuffer.textContent = `${buffer} ${operator}`;\n      break;\n    case 'command':\n      switch (e.target.dataset.value) {\n        case 'AC':\n          dispInput.value = '';\n          operator = '';\n          buffer = '';\n          dispBuffer.textContent = '';\n          break;\n        case '+/-':\n          dispInput.value = +dispInput.value * -1;\n          break;\n        case '%':\n          dispInput.value = buffer ? +dispInput.value / 100 : 0;\n          break;\n        case '=':\n          dispInput.value = compute(operator, +buffer, +dispInput.value);\n          operator = '';\n          buffer = '';\n          dispBuffer.textContent = '';\n          break;\n      }\n      break;\n  }\n};\n\ndocument.querySelector('.keyboard').addEventListener('click', handleClick);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>*, *::before, *::after {\n  box-sizing: border-box;\n}\n\nhtml, body {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: #222;\n}\n\n.calculator {\n  display: flex;\n  flex-direction: column;\n  border: thin solid #DDD;\n  padding: 0.5rem;\n  gap: 0.5rem;\n  background: #444;\n}\n\n.display {\n  display: flex;\n  flex-direction: column;\n  background: #000;\n}\n\n.display .buffer {\n  min-height: 1rem;\n  text-align: right;\n  color: #FFF;\n  font-family: monospace;\n  font-size: smaller;\n}\n\n.display &gt; input {\n  text-align: right;\n  background: transparent;\n  color: #FFF;\n  border: none;\n}\n\n.keyboard {\n  display: grid;\n  grid-template-columns: repeat(4, auto);\n  gap: 0.25rem;\n}\n\n.keyboard button {\n  cursor: pointer;\n  font-family: monospace;\n}\n\n.grid-span-2 {\n  grid-column: span 2;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"calculator\"&gt;\n  &lt;div class=\"display\"&gt;\n    &lt;div class=\"buffer\"&gt;&lt;/div&gt;\n    &lt;input type=\"text\" value=\"\" placeholder=\"0\" readonly /&gt;\n  &lt;/div&gt;\n  &lt;div class=\"keyboard\"&gt;\n    &lt;button data-type=\"command\" data-value=\"AC\"&gt;AC&lt;/button&gt;\n    &lt;button data-type=\"command\" data-value=\"+/-\"&gt;+/-&lt;/button&gt;\n    &lt;button data-type=\"command\" data-value=\"%\"&gt;%&lt;/button&gt;\n    &lt;button data-type=\"operator\" data-value=\"/\"&gt;/&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"7\"&gt;7&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"8\"&gt;8&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"9\"&gt;9&lt;/button&gt;\n    &lt;button data-type=\"operator\" data-value=\"*\"&gt;*&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"4\"&gt;4&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"5\"&gt;5&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"6\"&gt;6&lt;/button&gt;\n    &lt;button data-type=\"operator\" data-value=\"-\"&gt;-&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"1\"&gt;1&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"2\"&gt;2&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\"3\"&gt;3&lt;/button&gt;\n    &lt;button data-type=\"operator\" data-value=\"+\"&gt;+&lt;/button&gt;\n    &lt;button class=\"grid-span-2\" data-type=\"digit\" data-value=\"0\"&gt;0&lt;/button&gt;\n    &lt;button data-type=\"digit\" data-value=\".\"&gt;.&lt;/button&gt;\n    &lt;button data-type=\"command\" data-value=\"=\"&gt;=&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<h1>Update</h1>\n<p>Here is the fixed code. You need to be aware of <code>NullPointerException</code> stack traces. A debugger would have told you that the <code>operator</code> was null, because you never set it when clicking the addition button.</p>\n<p>Use an <code>Optional.ofNullable(operator).orElse(&quot;&quot;)</code> to access it, create a convenience getter that guarantees the operator will always be a non-null string. Or never set it to null and always an empty string when resetting. You have many options.</p>\n<p>Below, I just added a simple <code>null</code>-check around the <code>switch</code> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport javax.swing.JButton;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JTextField;\nimport javax.swing.GroupLayout;\nimport javax.swing.GroupLayout.Alignment;\nimport javax.swing.LayoutStyle.ComponentPlacement;\nimport java.awt.Font;\n\npublic class Calc {\n\n    private JFrame frame;\n    String buffer, operator;\n    private JTextField textField;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Calc window = new Calc();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public Calc() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500, 200);\n\n        JButton btnOne = new JButton(&quot;1&quot;);\n        btnOne.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\n        btnOne.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                String digit = ((JButton) e.getSource()).getText(); // Get button text (&quot;1&quot;));\n                textField.setText(textField.getText() + digit);\n            }\n        });\n\n        textField = new JTextField();\n        textField.setColumns(10);\n\n        JButton btnAdd = new JButton(&quot;+&quot;);\n        btnAdd.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\n        btnAdd.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if (buffer != null &amp;&amp; buffer != &quot;&quot;) {\n                    double left = Double.parseDouble(buffer);\n                    double right = Double.parseDouble(textField.getText());\n                    buffer = compute(operator, left, right);\n                } else {\n                    buffer = textField.getText();\n                }\n                operator = ((JButton) e.getSource()).getText(); // Get button text (&quot;+&quot;)\n                textField.setText(&quot;&quot;);\n\n            }\n        });\n\n        JButton btnEquals = new JButton(&quot;=&quot;);\n        btnEquals.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                double left = Double.parseDouble(buffer);\n                double right = Double.parseDouble(textField.getText());\n                textField.setText(compute(operator, left, right));\n                operator = null;\n                buffer = null;\n            }\n        });\n\n        GroupLayout groupLayout = new GroupLayout(frame.getContentPane());\n        groupLayout.setHorizontalGroup(\n                groupLayout.createParallelGroup(Alignment.LEADING)\n                        .addGroup(groupLayout.createSequentialGroup()\n                                .addGap(4)\n                                .addGroup(groupLayout.createParallelGroup(Alignment.LEADING)\n                                        .addGroup(groupLayout.createSequentialGroup()\n                                                .addComponent(btnOne)\n                                                .addPreferredGap(ComponentPlacement.UNRELATED)\n                                                .addComponent(textField, GroupLayout.PREFERRED_SIZE, 338,\n                                                        GroupLayout.PREFERRED_SIZE))\n                                        .addComponent(btnAdd)\n                                        .addComponent(btnEquals))\n                                .addGap(21)));\n        groupLayout.setVerticalGroup(\n                groupLayout.createParallelGroup(Alignment.LEADING)\n                        .addGroup(groupLayout.createSequentialGroup()\n                                .addGap(5)\n                                .addGroup(groupLayout.createParallelGroup(Alignment.BASELINE)\n                                        .addComponent(btnOne)\n                                        .addComponent(textField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE,\n                                                GroupLayout.PREFERRED_SIZE))\n                                .addGap(5)\n                                .addComponent(btnAdd)\n                                .addGap(5)\n                                .addComponent(btnEquals)));\n        frame.getContentPane().setLayout(groupLayout);\n        frame.setVisible(true);\n    }\n\n    public static String compute(String operator, double left, double right) {\n        if (operator != null) {\n            switch (operator) {\n                case &quot;+&quot;:\n                    return Double.toString(left + right);\n                default:\n                    return &quot;ERR&quot;; // Unsupported operator\n            }\n        }\n        return &quot;ERR&quot;; // Operator was null\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1688760735,"creation_date":1688736317,"question_id":76637400,"body_markdown":"I have written some code in a calculator made from a Java GUI, however I can&#39;t seem to get multiple amount of numbers added (like 1+1+1) to get the correct answer. If I add 1+1+1 in my calculator, I get 2. How can I store in memory 1+1, then add 1 to get 3?\r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\nimport java.awt.EventQueue;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JButton;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.GroupLayout;\r\nimport javax.swing.GroupLayout.Alignment;\r\nimport javax.swing.LayoutStyle.ComponentPlacement;\r\nimport java.awt.Font;\r\n\r\npublic class Calc {\r\n\r\n\tprivate JFrame frame;\r\n\tString buffer, operator;\r\n\tprivate JTextField textField;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tCalc window = new Calc();\r\n\t\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tpublic Calc() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\tframe = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(500,200);\r\n\t\t\r\n\t\tJButton btnOne = new JButton(&quot;1&quot;);\r\n\t\tbtnOne.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\r\n\t\tbtnOne.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\ttextField.setText(Double.toString(1.0));\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\ttextField = new JTextField();\r\n\t\ttextField.setColumns(10);\r\n\t\t\r\n\t\tJButton btnAdd = new JButton(&quot;+&quot;);\r\n\t\tbtnAdd.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\r\n\t\tbtnAdd.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\tif (buffer != &quot;&quot;) {\r\n\t\t\t\t    double left = Double.parseDouble(buffer);\r\n\t\t\t\t    double right = Double.parseDouble(textField.getText());\r\n\t\t\t\t    buffer = compute(operator, left, right);\r\n\t\t\t\t} else {\r\n\t\t\t\t    buffer = textField.getText();\r\n\t\t\t\t}\r\n\t\t\t\ttextField.setText(&quot;&quot;);\r\n\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tJButton btnEquals = new JButton(&quot;=&quot;);\r\n\t\tGroupLayout groupLayout = new GroupLayout(frame.getContentPane());\r\n\t\tgroupLayout.setHorizontalGroup(\r\n\t\t\tgroupLayout.createParallelGroup(Alignment.LEADING)\r\n\t\t\t\t.addGroup(groupLayout.createSequentialGroup()\r\n\t\t\t\t\t.addGap(4)\r\n\t\t\t\t\t.addGroup(groupLayout.createParallelGroup(Alignment.LEADING)\r\n\t\t\t\t\t\t.addGroup(groupLayout.createSequentialGroup()\r\n\t\t\t\t\t\t\t.addComponent(btnOne)\r\n\t\t\t\t\t\t\t.addPreferredGap(ComponentPlacement.UNRELATED)\r\n\t\t\t\t\t\t\t.addComponent(textField, GroupLayout.PREFERRED_SIZE, 338, GroupLayout.PREFERRED_SIZE))\r\n\t\t\t\t\t\t.addComponent(btnAdd)\r\n\t\t\t\t\t\t.addComponent(btnEquals))\r\n\t\t\t\t\t.addGap(21))\r\n\t\t);\r\n\t\tgroupLayout.setVerticalGroup(\r\n\t\t\tgroupLayout.createParallelGroup(Alignment.LEADING)\r\n\t\t\t\t.addGroup(groupLayout.createSequentialGroup()\r\n\t\t\t\t\t.addGap(5)\r\n\t\t\t\t\t.addGroup(groupLayout.createParallelGroup(Alignment.BASELINE)\r\n\t\t\t\t\t\t.addComponent(btnOne)\r\n\t\t\t\t\t\t.addComponent(textField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\r\n\t\t\t\t\t.addGap(5)\r\n\t\t\t\t\t.addComponent(btnAdd)\r\n\t\t\t\t\t.addGap(5)\r\n\t\t\t\t\t.addComponent(btnEquals))\r\n\t\t);\r\n\t\tframe.getContentPane().setLayout(groupLayout);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic static String compute(String operator, double left, double right) {\r\n\t    switch (operator) {\r\n\t        case &quot;+&quot; : return Double.toString(left+right);\r\n\t\tdefault  : return &quot;ERR&quot;;\r\n\t    }\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nHave pasted whole code, but what I coded only adds two numbers, fairly obvious why, because only two numbers (double first and second) are added.\r\n\r\nI would like it to add more numbers, before equals is pressed.\r\n\r\nAppreciate any help.","title":"How do I do this calculation (1+1+1) in a Java GUI Calculator","body":"<p>I have written some code in a calculator made from a Java GUI, however I can't seem to get multiple amount of numbers added (like 1+1+1) to get the correct answer. If I add 1+1+1 in my calculator, I get 2. How can I store in memory 1+1, then add 1 to get 3?</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport javax.swing.JButton;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JTextField;\nimport javax.swing.GroupLayout;\nimport javax.swing.GroupLayout.Alignment;\nimport javax.swing.LayoutStyle.ComponentPlacement;\nimport java.awt.Font;\n\npublic class Calc {\n\n    private JFrame frame;\n    String buffer, operator;\n    private JTextField textField;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Calc window = new Calc();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public Calc() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500,200);\n        \n        JButton btnOne = new JButton(&quot;1&quot;);\n        btnOne.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\n        btnOne.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                textField.setText(Double.toString(1.0));\n            }\n        });\n        \n        textField = new JTextField();\n        textField.setColumns(10);\n        \n        JButton btnAdd = new JButton(&quot;+&quot;);\n        btnAdd.setFont(new Font(&quot;Helvetica&quot;, Font.PLAIN, 13));\n        btnAdd.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                if (buffer != &quot;&quot;) {\n                    double left = Double.parseDouble(buffer);\n                    double right = Double.parseDouble(textField.getText());\n                    buffer = compute(operator, left, right);\n                } else {\n                    buffer = textField.getText();\n                }\n                textField.setText(&quot;&quot;);\n        \n            }\n        });\n        \n        JButton btnEquals = new JButton(&quot;=&quot;);\n        GroupLayout groupLayout = new GroupLayout(frame.getContentPane());\n        groupLayout.setHorizontalGroup(\n            groupLayout.createParallelGroup(Alignment.LEADING)\n                .addGroup(groupLayout.createSequentialGroup()\n                    .addGap(4)\n                    .addGroup(groupLayout.createParallelGroup(Alignment.LEADING)\n                        .addGroup(groupLayout.createSequentialGroup()\n                            .addComponent(btnOne)\n                            .addPreferredGap(ComponentPlacement.UNRELATED)\n                            .addComponent(textField, GroupLayout.PREFERRED_SIZE, 338, GroupLayout.PREFERRED_SIZE))\n                        .addComponent(btnAdd)\n                        .addComponent(btnEquals))\n                    .addGap(21))\n        );\n        groupLayout.setVerticalGroup(\n            groupLayout.createParallelGroup(Alignment.LEADING)\n                .addGroup(groupLayout.createSequentialGroup()\n                    .addGap(5)\n                    .addGroup(groupLayout.createParallelGroup(Alignment.BASELINE)\n                        .addComponent(btnOne)\n                        .addComponent(textField, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))\n                    .addGap(5)\n                    .addComponent(btnAdd)\n                    .addGap(5)\n                    .addComponent(btnEquals))\n        );\n        frame.getContentPane().setLayout(groupLayout);\n        frame.setVisible(true);\n    }\n    \n    public static String compute(String operator, double left, double right) {\n        switch (operator) {\n            case &quot;+&quot; : return Double.toString(left+right);\n        default  : return &quot;ERR&quot;;\n        }\n    }\n\n}\n\n</code></pre>\n<p>Have pasted whole code, but what I coded only adds two numbers, fairly obvious why, because only two numbers (double first and second) are added.</p>\n<p>I would like it to add more numbers, before equals is pressed.</p>\n<p>Appreciate any help.</p>\n"},{"tags":["java","annotations","javadoc"],"answers":[{"comments":[{"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"score":0,"creation_date":1261147089,"post_id":1928531,"comment_id":1836387,"body_markdown":"This will work, and is a clever solution, but it&#39;s a problem in that you&#39;re misusing the deprecation annotation, so you&#39;re code doesn&#39;t match what it &quot;means&quot;. At the very least I&#39;d comment the methods and clearly explain why I was doing something this odd. Tools (e.g. eclipse) will flag a warning for use of deprecated methods (although you could mark those warnings to be ignored).","body":"This will work, and is a clever solution, but it&#39;s a problem in that you&#39;re misusing the deprecation annotation, so you&#39;re code doesn&#39;t match what it &quot;means&quot;. At the very least I&#39;d comment the methods and clearly explain why I was doing something this odd. Tools (e.g. eclipse) will flag a warning for use of deprecated methods (although you could mark those warnings to be ignored)."},{"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"score":0,"creation_date":1261147499,"post_id":1928531,"comment_id":1836430,"body_markdown":"I&#39;m not advocating the use of this tactic -- clearly there&#39;s a larger issue here and the effects of marking something @deprecated can be extremely undesirable, but it satisfies the OP&#39;s needs.  The thread I linked to on the Java forums suggests exactly as you do that the method should be clearly commented to avoid confusion.","body":"I&#39;m not advocating the use of this tactic -- clearly there&#39;s a larger issue here and the effects of marking something @deprecated can be extremely undesirable, but it satisfies the OP&#39;s needs.  The thread I linked to on the Java forums suggests exactly as you do that the method should be clearly commented to avoid confusion."}],"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1261147642,"creation_date":1261146729,"answer_id":1928531,"question_id":1928467,"body_markdown":"Yes...but not in a good way (having methods that are public that aren&#39;t really &quot;public&quot; isn&#39;t a great design practice).\r\n\r\nYou could follow the suggestion given in [this thread][1] and mark the method using `@deprecated` then when you run javadoc use option `-nodeprecated`.\r\n\r\nEdit: As others have noted, this is *not* a desirable course of action.  This will solve your problem, but you really need to rethink why it is you want to hide the method -- given a compiled version of your code someone will still be able to see your function; hiding it in the documentation does not in fact hide the method.  I really mean to stress here that the qualifiers `private`, `public` and `protected` have meaning which you should consider and utilize effectively. *There is no such thing as a &quot;hidden&quot; `public` method*.\r\n\r\n\r\n[1]:http://forums.sun.com/thread.jspa?forumID=41&amp;threadID=502474","title":"Annotation to disable JavaDocs","body":"<p>Yes...but not in a good way (having methods that are public that aren't really \"public\" isn't a great design practice).</p>\n\n<p>You could follow the suggestion given in <a href=\"http://forums.sun.com/thread.jspa?forumID=41&amp;threadID=502474\" rel=\"noreferrer\">this thread</a> and mark the method using <code>@deprecated</code> then when you run javadoc use option <code>-nodeprecated</code>.</p>\n\n<p>Edit: As others have noted, this is <em>not</em> a desirable course of action.  This will solve your problem, but you really need to rethink why it is you want to hide the method -- given a compiled version of your code someone will still be able to see your function; hiding it in the documentation does not in fact hide the method.  I really mean to stress here that the qualifiers <code>private</code>, <code>public</code> and <code>protected</code> have meaning which you should consider and utilize effectively. <em>There is no such thing as a \"hidden\" <code>public</code> method</em>.</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1261146857,"creation_date":1261146857,"answer_id":1928545,"question_id":1928467,"body_markdown":"The only reason I could think of that you&#39;d want to do this would be to &quot;hide&quot; the method in some sense, if only in terms of documentation. If you did that you&#39;d be designing the documentation to be &quot;broken&quot; in the sense that documentation becomes broken when it goes out of date and no longer accurately reflects what the class does. Since the method is still part of the public API you&#39;re not really hiding it anyway. \r\n\r\nIf you want a method to be unused outside of the class or a few users, make it private, or package. If this is inconvenient and it must be public, I&#39;d just document very clearly the limitations on its use, possibly with a naming convention (for example, python does this, there are  entity names surrounded by underscores, that you can see but are meant to be more part of the class implementation than the public api)","title":"Annotation to disable JavaDocs","body":"<p>The only reason I could think of that you'd want to do this would be to \"hide\" the method in some sense, if only in terms of documentation. If you did that you'd be designing the documentation to be \"broken\" in the sense that documentation becomes broken when it goes out of date and no longer accurately reflects what the class does. Since the method is still part of the public API you're not really hiding it anyway. </p>\n\n<p>If you want a method to be unused outside of the class or a few users, make it private, or package. If this is inconvenient and it must be public, I'd just document very clearly the limitations on its use, possibly with a naming convention (for example, python does this, there are  entity names surrounded by underscores, that you can see but are meant to be more part of the class implementation than the public api)</p>\n"},{"comments":[{"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"score":2,"creation_date":1261294892,"post_id":1928559,"comment_id":1844257,"body_markdown":"Good to hear there&#39;s a feature request -- at least I&#39;m not the only dummy asking for this :-)","body":"Good to hear there&#39;s a feature request -- at least I&#39;m not the only dummy asking for this :-)"}],"tags":[],"owner":{"account_id":82655,"reputation":6401,"user_id":232235,"display_name":"Eli Acherkan"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1261146962,"creation_date":1261146962,"answer_id":1928559,"question_id":1928467,"body_markdown":"Not if you&#39;re using Sun&#39;s JavaDocs tool.\r\n\r\nThey have [a feature request][1] for it, but it&#39;s been in low priority since 1997.\r\n\r\nYou can write a custom doclet to overcome this, or use a 3rd-party tool (DocFlex or such).\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4058216","title":"Annotation to disable JavaDocs","body":"<p>Not if you're using Sun's JavaDocs tool.</p>\n<p>They have <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4058216\" rel=\"nofollow noreferrer\">a feature request</a> for it, but it's been in low priority since 1997.</p>\n<p>You can write a custom doclet to overcome this, or use a 3rd-party tool (DocFlex or such).</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1261148347,"creation_date":1261148347,"answer_id":1928701,"question_id":1928467,"body_markdown":"    /**\r\n     *  Don&#39;t use this method &lt;br&gt;\r\n     *  &lt;i&gt;or all your data will be lost.&lt;/i&gt;\r\n     */\r\n    public void foo(){\r\n        //...\r\n    }\r\n\r\nwell, use a better explanation why the user should not use this method...  \r\nRemember that it&#39;s not hard to find any (public) method using a decompiler or Reflection.","title":"Annotation to disable JavaDocs","body":"<pre><code>/**\n *  Don't use this method &lt;br&gt;\n *  &lt;i&gt;or all your data will be lost.&lt;/i&gt;\n */\npublic void foo(){\n    //...\n}\n</code></pre>\n\n<p>well, use a better explanation why the user should not use this method...<br>\nRemember that it's not hard to find any (public) method using a decompiler or Reflection.</p>\n"},{"tags":[],"owner":{"account_id":286835,"reputation":612,"user_id":586318,"display_name":"Werner Keil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688757621,"creation_date":1688757621,"answer_id":76639694,"question_id":1928467,"body_markdown":"You can use a comment\r\n\r\n        /*\r\n         * (non-Javadoc)\r\n         * \r\n         * @see DescriptionSupplier\r\n         */\r\nto ignore such methods.","title":"Annotation to disable JavaDocs","body":"<p>You can use a comment</p>\n<pre><code>    /*\n     * (non-Javadoc)\n     * \n     * @see DescriptionSupplier\n     */\n</code></pre>\n<p>to ignore such methods.</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688760627,"creation_date":1688760221,"answer_id":76639928,"question_id":1928467,"body_markdown":"I actually did something similar to this in a project i own called [Jackcess][1].  The API contains methods of varying degrees of complexity, and I wanted an easy way of indicating that in the javadoc.  I pieced together some functionality that seems to work reasonably well using some comment conventions and a maven plugin.\r\n\r\nIn the code, I have a simple pattern i use in the javadoc (example from [here][2]):\r\n\r\n      /**\r\n       * @return the current database password, or {@code null} if none set.\r\n       * @usage _general_method_\r\n       */\r\n      public String getDatabasePassword() throws IOException;\r\n\r\nYou can use &quot;general&quot;, &quot;intermediate&quot;, or &quot;advanced&quot; combined with &quot;class&quot;, &quot;method&quot; or &quot;field&quot;.\r\n\r\nA pom plugin replaces that with the relevant javadoc using the `replacer` plugin after building the javadoc, example [here][3].\r\n\r\nThe end result looks like [this][4] or [this][5].  (I have some [custom css][6] added to the javadoc to add the coloring).\r\n\r\n----------\r\n\r\n[![example for general use][7]][7]\r\n\r\n----------\r\n\r\n[![example for advanced use][8]][8]\r\n\r\n----------\r\n\r\n  [1]: https://jackcess.sourceforge.io/\r\n  [2]: https://sourceforge.net/p/jackcess/code/HEAD/tree/jackcess/trunk/src/main/java/com/healthmarketscience/jackcess/Database.java#l347\r\n  [3]: https://sourceforge.net/p/jackcess/code/HEAD/tree/jackcess/trunk/pom.xml#l212\r\n  [4]: https://jackcess.sourceforge.io/apidocs/com/healthmarketscience/jackcess/Database.html#getDatabasePassword--\r\n  [5]: https://jackcess.sourceforge.io/apidocs/com/healthmarketscience/jackcess/impl/DatabaseImpl.html#getFormat--\r\n  [6]: https://sourceforge.net/p/jackcess/code/HEAD/tree/jackcess/trunk/src/site/javadoc/stylesheet.css#l596\r\n  [7]: https://i.stack.imgur.com/S4cqP.png\r\n  [8]: https://i.stack.imgur.com/3BAwP.png","title":"Annotation to disable JavaDocs","body":"<p>I actually did something similar to this in a project i own called <a href=\"https://jackcess.sourceforge.io/\" rel=\"nofollow noreferrer\">Jackcess</a>.  The API contains methods of varying degrees of complexity, and I wanted an easy way of indicating that in the javadoc.  I pieced together some functionality that seems to work reasonably well using some comment conventions and a maven plugin.</p>\n<p>In the code, I have a simple pattern i use in the javadoc (example from <a href=\"https://sourceforge.net/p/jackcess/code/HEAD/tree/jackcess/trunk/src/main/java/com/healthmarketscience/jackcess/Database.java#l347\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>  /**\n   * @return the current database password, or {@code null} if none set.\n   * @usage _general_method_\n   */\n  public String getDatabasePassword() throws IOException;\n</code></pre>\n<p>You can use &quot;general&quot;, &quot;intermediate&quot;, or &quot;advanced&quot; combined with &quot;class&quot;, &quot;method&quot; or &quot;field&quot;.</p>\n<p>A pom plugin replaces that with the relevant javadoc using the <code>replacer</code> plugin after building the javadoc, example <a href=\"https://sourceforge.net/p/jackcess/code/HEAD/tree/jackcess/trunk/pom.xml#l212\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The end result looks like <a href=\"https://jackcess.sourceforge.io/apidocs/com/healthmarketscience/jackcess/Database.html#getDatabasePassword--\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://jackcess.sourceforge.io/apidocs/com/healthmarketscience/jackcess/impl/DatabaseImpl.html#getFormat--\" rel=\"nofollow noreferrer\">this</a>.  (I have some <a href=\"https://sourceforge.net/p/jackcess/code/HEAD/tree/jackcess/trunk/src/site/javadoc/stylesheet.css#l596\" rel=\"nofollow noreferrer\">custom css</a> added to the javadoc to add the coloring).</p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/S4cqP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S4cqP.png\" alt=\"example for general use\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/3BAwP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BAwP.png\" alt=\"example for advanced use\" /></a></p>\n<hr />\n"}],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3400,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1928559,"answer_count":6,"score":7,"last_activity_date":1688760627,"creation_date":1261146049,"question_id":1928467,"body_markdown":"Is there an annotation to declare that a certain method will not be included in the JavaDocs even though it is public? \r\n\r\nSomething like:\r\n\r\n    @nojavadocs\r\n    public void foo(){\r\n    //...\r\n    }\r\n\r\n\r\n----------\r\nP.S. I understand the point here about API, but the methods are simply &quot;unsupported.&quot; They work (and must be public for access from other packages), but we do not want to bother documenting them and answering questions about how to use them when their functionality is not relevant to supported usage scenarios. Good design might mean moving them to another class, but they logically refer to the data in the class.","title":"Annotation to disable JavaDocs","body":"<p>Is there an annotation to declare that a certain method will not be included in the JavaDocs even though it is public? </p>\n\n<p>Something like:</p>\n\n<pre><code>@nojavadocs\npublic void foo(){\n//...\n}\n</code></pre>\n\n<hr>\n\n<p>P.S. I understand the point here about API, but the methods are simply \"unsupported.\" They work (and must be public for access from other packages), but we do not want to bother documenting them and answering questions about how to use them when their functionality is not relevant to supported usage scenarios. Good design might mean moving them to another class, but they logically refer to the data in the class.</p>\n"},{"tags":["java","spring","spring-boot","keycloak","openid-connect"],"answers":[{"comments":[{"owner":{"account_id":28960458,"reputation":21,"user_id":22183038,"display_name":"Sonu Soni"},"score":0,"creation_date":1688643077,"post_id":76626150,"comment_id":135102932,"body_markdown":"I have tried to this approach but it is not invalidate the token @Kafarson","body":"I have tried to this approach but it is not invalidate the token @Kafarson"}],"tags":[],"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688629297,"creation_date":1688626048,"answer_id":76626150,"question_id":76626060,"body_markdown":"I know this &#39;solution&#39; is a hack but may help you as workaround.\r\n\r\nYou can persist token, and is_activate flag to database.\r\nWhen you logout user then you can change flag of particular token, if token is inactive, user shouldnt&#39; get access to API. \r\n\r\nPS: in keycloak API once I found .invalidate(token) method: \r\n\r\n        Keycloak keycloak = KeycloakBuilder.builder()\r\n                .realm(realm)\r\n                .serverUrl(serverURL)\r\n                ...\r\n                .build();\r\n\r\n        keycloak.tokenManager()\r\n                .invalidate(token);","title":"using keycloak refresh token i am able to logout but my access token is not invalidating","body":"<p>I know this 'solution' is a hack but may help you as workaround.</p>\n<p>You can persist token, and is_activate flag to database.\nWhen you logout user then you can change flag of particular token, if token is inactive, user shouldnt' get access to API.</p>\n<p>PS: in keycloak API once I found .invalidate(token) method:</p>\n<pre><code>    Keycloak keycloak = KeycloakBuilder.builder()\n            .realm(realm)\n            .serverUrl(serverURL)\n            ...\n            .build();\n\n    keycloak.tokenManager()\n            .invalidate(token);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2734022,"reputation":1689,"user_id":2357085,"display_name":"w08r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688629405,"creation_date":1688629405,"answer_id":76626568,"question_id":76626060,"body_markdown":"This is the essence of large amount of the criticism around use of JWTs.  See articles like &quot;[Stop using JWT for sessions](http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/)&quot;, its sequel, and a bunch of other guidance.  You need a session db, as [Kafarson hinted at](https://stackoverflow.com/a/76626150/2357085), or you live with the frustrating need to rely on timeout which is a pretty big issue for your security posture.","title":"using keycloak refresh token i am able to logout but my access token is not invalidating","body":"<p>This is the essence of large amount of the criticism around use of JWTs.  See articles like &quot;<a href=\"http://cryto.net/%7Ejoepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\" rel=\"nofollow noreferrer\">Stop using JWT for sessions</a>&quot;, its sequel, and a bunch of other guidance.  You need a session db, as <a href=\"https://stackoverflow.com/a/76626150/2357085\">Kafarson hinted at</a>, or you live with the frustrating need to rely on timeout which is a pretty big issue for your security posture.</p>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1688757869,"post_id":76636943,"comment_id":135121669,"body_markdown":"I would add that the JWT tokens remaining valid after logout should not be a problem: the OAuth2 client should delete tokens it stores during logout process. If you cannot trust OAuth2 clients to actually delete tokens (or if you think this tokens have leaked to other clients than those you trust to do this deletion), then you have a much serious security concern than JWTs life-span.","body":"I would add that the JWT tokens remaining valid after logout should not be a problem: the OAuth2 client should delete tokens it stores during logout process. If you cannot trust OAuth2 clients to actually delete tokens (or if you think this tokens have leaked to other clients than those you trust to do this deletion), then you have a much serious security concern than JWTs life-span."},{"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"score":0,"creation_date":1688760216,"post_id":76636943,"comment_id":135122001,"body_markdown":"Good point - and I added it to my answer :)","body":"Good point - and I added it to my answer :)"}],"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688760163,"creation_date":1688732472,"answer_id":76636943,"question_id":76626060,"body_markdown":"JWT access tokens are stateless and do not become invalidated when a user logs out. An API will continue to accept them.\r\n\r\nYou can revoke a refresh token at any time, including upon logout. The next time a party attempts to use the refresh token to get an access token, it will fail.\r\n\r\nThe two usual, and simplest, best practices, assuming you are writing a web client, are as follows:\r\n\r\n- Keep access tokens short lived, eg 15 minutes, so that they are not valid for long after logout\r\n\r\n- Use a secure cookie layer in the web app, according to [best practices](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-browser-based-apps), which also helps to ensure that all back end access is immediately denied upon logout\r\n\r\n- The client is trusted to discard all tokens upon logout (as pointed out by ch4mp in the comments below)\r\n\r\n**ADVANCED CONTROL**\r\n\r\nIt is also possible to use access tokens in a reference token format. Such tokens require introspection at the authorization server, and can immediately detect revocation events.\r\n\r\nIntrospection is typically done in an API gateway, which then caches results for future requests with the same token.\r\n\r\nAfter a revocation event, the authorization server can notify the API gateway, which can remove tokens for that client + user combination from its cache.","title":"using keycloak refresh token i am able to logout but my access token is not invalidating","body":"<p>JWT access tokens are stateless and do not become invalidated when a user logs out. An API will continue to accept them.</p>\n<p>You can revoke a refresh token at any time, including upon logout. The next time a party attempts to use the refresh token to get an access token, it will fail.</p>\n<p>The two usual, and simplest, best practices, assuming you are writing a web client, are as follows:</p>\n<ul>\n<li><p>Keep access tokens short lived, eg 15 minutes, so that they are not valid for long after logout</p>\n</li>\n<li><p>Use a secure cookie layer in the web app, according to <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-browser-based-apps\" rel=\"nofollow noreferrer\">best practices</a>, which also helps to ensure that all back end access is immediately denied upon logout</p>\n</li>\n<li><p>The client is trusted to discard all tokens upon logout (as pointed out by ch4mp in the comments below)</p>\n</li>\n</ul>\n<p><strong>ADVANCED CONTROL</strong></p>\n<p>It is also possible to use access tokens in a reference token format. Such tokens require introspection at the authorization server, and can immediately detect revocation events.</p>\n<p>Introspection is typically done in an API gateway, which then caches results for future requests with the same token.</p>\n<p>After a revocation event, the authorization server can notify the API gateway, which can remove tokens for that client + user combination from its cache.</p>\n"}],"owner":{"account_id":28960458,"reputation":21,"user_id":22183038,"display_name":"Sonu Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688760163,"creation_date":1688624984,"question_id":76626060,"body_markdown":"**Below is my source code**\r\n\r\n\r\n   \r\n\r\n        @PostMapping(value = &quot;/logout&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n            public ResponseDTO usingRefreshTokenLogout(@RequestBody LogoutRequestDTO logoutRequestDTO) throws ServletException {\r\n                log.info(&quot;going to logout user&quot;);\r\n                return keycloakService.logoutFromSSO(logoutRequestDTO);\r\n            }\r\n    \r\n        @Override\r\n        public ResponseDTO logoutFromSSO(LogoutRequestDTO logoutRequestDTO) throws ServletException {\r\n            logoutRequestDTO.setClient_id(clientId);\r\n            logoutRequestDTO.setClient_secret(clientSecret);\r\n            ResponseEntity&lt;String&gt; response =  loginClient.logout(logoutRequestDTO);\r\n            if(response.getStatusCode() == HttpStatus.NO_CONTENT) {\r\n                log.info(&quot;response : {}&quot;, response.getBody());\r\n                return new SuccessResponseDTO(&quot;Logout request successful&quot;);\r\n            }else {\r\n                log.info(&quot;response : {}&quot;, response.getBody());\r\n                return new SuccessResponseDTO(&quot;Logout request failed with status code: &quot; +  \r\n                response.getStatusCode());\r\n            }\r\n        }\r\n    \r\n        import com.tcg.admin.dto.LogoutRequestDTO;\r\n        import feign.Headers;\r\n        import org.springframework.cloud.openfeign.FeignClient;\r\n        import org.springframework.http.MediaType;\r\n        import org.springframework.http.ResponseEntity;\r\n        import org.springframework.web.bind.annotation.PostMapping;\r\n        import org.springframework.web.bind.annotation.RequestBody;\r\n    \r\n        @FeignClient(name = &quot;sessionFeignClient&quot;, url = &quot;${client.post.base.url}&quot;)\r\n        public interface LoginClient {\r\n    \r\n        @PostMapping(value = &quot;/logout&quot;,\r\n                consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n        ResponseEntity&lt;String&gt; logout(@RequestBody LogoutRequestDTO logoutRequestDTO);\r\n      }\r\n    \r\n      \r\n    \r\n         @Getter\r\n            @Setter\r\n            @AllArgsConstructor\r\n            @NoArgsConstructor\r\n            @Builder\r\n            public class LogoutRequestDTO {\r\n                private String refresh_token;\r\n                private String client_id;\r\n                private String client_secret;\r\n            }\r\n\r\n\r\nand below is my logout url \r\n\r\nhttp://base-url/realms/my-realm-name/protocol/openid-connect/logout\r\n\r\nI am trying to implement logout functionality. using refresh token then i am able to logout but after logout my access token is not invalidating. and using that access token i can access other resource. and if i go through according to keycloak docs. https://www.keycloak.org/docs/latest/securing_apps/index.html#logout then i am getting in the postman response for logout confirmation. if someone help me for resolving this issue. \r\n**and my keycloak version is 15.0.2**\r\n\r\nand thanks in advance   ","title":"using keycloak refresh token i am able to logout but my access token is not invalidating","body":"<p><strong>Below is my source code</strong></p>\n<pre><code>    @PostMapping(value = &quot;/logout&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n        public ResponseDTO usingRefreshTokenLogout(@RequestBody LogoutRequestDTO logoutRequestDTO) throws ServletException {\n            log.info(&quot;going to logout user&quot;);\n            return keycloakService.logoutFromSSO(logoutRequestDTO);\n        }\n\n    @Override\n    public ResponseDTO logoutFromSSO(LogoutRequestDTO logoutRequestDTO) throws ServletException {\n        logoutRequestDTO.setClient_id(clientId);\n        logoutRequestDTO.setClient_secret(clientSecret);\n        ResponseEntity&lt;String&gt; response =  loginClient.logout(logoutRequestDTO);\n        if(response.getStatusCode() == HttpStatus.NO_CONTENT) {\n            log.info(&quot;response : {}&quot;, response.getBody());\n            return new SuccessResponseDTO(&quot;Logout request successful&quot;);\n        }else {\n            log.info(&quot;response : {}&quot;, response.getBody());\n            return new SuccessResponseDTO(&quot;Logout request failed with status code: &quot; +  \n            response.getStatusCode());\n        }\n    }\n\n    import com.tcg.admin.dto.LogoutRequestDTO;\n    import feign.Headers;\n    import org.springframework.cloud.openfeign.FeignClient;\n    import org.springframework.http.MediaType;\n    import org.springframework.http.ResponseEntity;\n    import org.springframework.web.bind.annotation.PostMapping;\n    import org.springframework.web.bind.annotation.RequestBody;\n\n    @FeignClient(name = &quot;sessionFeignClient&quot;, url = &quot;${client.post.base.url}&quot;)\n    public interface LoginClient {\n\n    @PostMapping(value = &quot;/logout&quot;,\n            consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n    ResponseEntity&lt;String&gt; logout(@RequestBody LogoutRequestDTO logoutRequestDTO);\n  }\n\n  \n\n     @Getter\n        @Setter\n        @AllArgsConstructor\n        @NoArgsConstructor\n        @Builder\n        public class LogoutRequestDTO {\n            private String refresh_token;\n            private String client_id;\n            private String client_secret;\n        }\n</code></pre>\n<p>and below is my logout url</p>\n<p>http://base-url/realms/my-realm-name/protocol/openid-connect/logout</p>\n<p>I am trying to implement logout functionality. using refresh token then i am able to logout but after logout my access token is not invalidating. and using that access token i can access other resource. and if i go through according to keycloak docs. <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#logout\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/securing_apps/index.html#logout</a> then i am getting in the postman response for logout confirmation. if someone help me for resolving this issue.\n<strong>and my keycloak version is 15.0.2</strong></p>\n<p>and thanks in advance</p>\n"},{"tags":["java","graphics","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495016554,"creation_date":1495016554,"answer_id":44022157,"question_id":44021384,"body_markdown":"You&#39;re using the `XYSeries(String)` constructor wich sorts the values by x. You will see it if you would add this after filling your series:\r\n\r\n    for (Object i : series.getItems()) {\r\n        System.out.println(i);\r\n    }\r\n\r\nSo the only thing you need to change is the initialization of `series`:\r\n\r\n    XYSeries series = new XYSeries(&quot;my graphic&quot;, false);","title":"JFreeChart - can&#39;t draw graphics like in excel","body":"<p>You're using the <code>XYSeries(String)</code> constructor wich sorts the values by x. You will see it if you would add this after filling your series:</p>\n\n<pre><code>for (Object i : series.getItems()) {\n    System.out.println(i);\n}\n</code></pre>\n\n<p>So the only thing you need to change is the initialization of <code>series</code>:</p>\n\n<pre><code>XYSeries series = new XYSeries(\"my graphic\", false);\n</code></pre>\n"}],"owner":{"account_id":9108790,"reputation":11,"user_id":6778307,"display_name":"Bellkross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688758941,"creation_date":1495014680,"question_id":44021384,"body_markdown":"I have a problem with draw graphics in JFreeChart, I need to draw a graphic like as in this pic.   \r\n\r\n[![excel graphic][1]][1]\r\n\r\nBut in java am getting a graphic like this \r\n\r\n[![graphic in java][2]][2]\r\n\r\nis there any possible way to solve this.\r\n\r\n**My java code:**\r\n\r\n``` java\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.PlotOrientation;\r\n    import org.jfree.data.xy.XYDataset;\r\n    import org.jfree.data.xy.XYSeries;\r\n    import org.jfree.data.xy.XYSeriesCollection;\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class MyGraph {\r\n        private static double A=20, R0=-40;\r\n    \r\n        public static void main(String[] args) {\r\n            XYSeries series = new XYSeries(&quot;my graphic&quot;);\r\n    \r\n            for (double fi = 0,step = 0.05; fi &lt; 2*Math.PI; fi+=step) addCoordinate(series,fi);\r\n    \r\n            XYDataset xyDataset = new XYSeriesCollection(series);\r\n            JFreeChart chart = ChartFactory\r\n                    .createXYLineChart(&quot;my graphic 14&quot;, &quot;x&quot;, &quot;y&quot;,\r\n                            xyDataset,\r\n                            PlotOrientation.VERTICAL,\r\n                            true, true, true);\r\n            JFrame frame =\r\n                    new JFrame(&quot;MinimalStaticChart&quot;);\r\n            frame.getContentPane()\r\n                    .add(new ChartPanel(chart));\r\n            frame.setSize(400,300);\r\n            frame.setVisible(true);\r\n        }\r\n        private static void addCoordinate(XYSeries series,double fi){\r\n            double ro = Math.cos(fi)-0.5;\r\n            series.add(ro*Math.cos(fi),ro*Math.sin(fi));\r\n            System.out.printf(&quot;fi = %f   ro = %f   x = %f   y = %f\\n&quot;, fi , ro, ro*Math.cos(fi), ro*Math.sin(fi));\r\n        }\r\n    }\r\n```\r\n\r\nHow you can see in images, form and coordinates the same, but JFreeChart draw graphics not like in excel, how can I draw my Graphic like in excel with java, which methods should I use? (If you can - give examples, please)\r\n\r\n  [1]: https://i.stack.imgur.com/nNZN5.jpg\r\n  [2]: https://i.stack.imgur.com/nRqpQ.jpg","title":"JFreeChart - can&#39;t draw graphics like in excel","body":"<p>I have a problem with draw graphics in JFreeChart, I need to draw a graphic like as in this pic.</p>\n<p><a href=\"https://i.stack.imgur.com/nNZN5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNZN5.jpg\" alt=\"excel graphic\" /></a></p>\n<p>But in java am getting a graphic like this</p>\n<p><a href=\"https://i.stack.imgur.com/nRqpQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nRqpQ.jpg\" alt=\"graphic in java\" /></a></p>\n<p>is there any possible way to solve this.</p>\n<p><strong>My java code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    import org.jfree.chart.ChartFactory;\n    import org.jfree.chart.ChartPanel;\n    import org.jfree.chart.JFreeChart;\n    import org.jfree.chart.plot.PlotOrientation;\n    import org.jfree.data.xy.XYDataset;\n    import org.jfree.data.xy.XYSeries;\n    import org.jfree.data.xy.XYSeriesCollection;\n    \n    import javax.swing.*;\n    \n    public class MyGraph {\n        private static double A=20, R0=-40;\n    \n        public static void main(String[] args) {\n            XYSeries series = new XYSeries(&quot;my graphic&quot;);\n    \n            for (double fi = 0,step = 0.05; fi &lt; 2*Math.PI; fi+=step) addCoordinate(series,fi);\n    \n            XYDataset xyDataset = new XYSeriesCollection(series);\n            JFreeChart chart = ChartFactory\n                    .createXYLineChart(&quot;my graphic 14&quot;, &quot;x&quot;, &quot;y&quot;,\n                            xyDataset,\n                            PlotOrientation.VERTICAL,\n                            true, true, true);\n            JFrame frame =\n                    new JFrame(&quot;MinimalStaticChart&quot;);\n            frame.getContentPane()\n                    .add(new ChartPanel(chart));\n            frame.setSize(400,300);\n            frame.setVisible(true);\n        }\n        private static void addCoordinate(XYSeries series,double fi){\n            double ro = Math.cos(fi)-0.5;\n            series.add(ro*Math.cos(fi),ro*Math.sin(fi));\n            System.out.printf(&quot;fi = %f   ro = %f   x = %f   y = %f\\n&quot;, fi , ro, ro*Math.cos(fi), ro*Math.sin(fi));\n        }\n    }\n</code></pre>\n<p>How you can see in images, form and coordinates the same, but JFreeChart draw graphics not like in excel, how can I draw my Graphic like in excel with java, which methods should I use? (If you can - give examples, please)</p>\n"},{"tags":["java","spring","controller"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688757823,"creation_date":1688757823,"answer_id":76639705,"question_id":76639630,"body_markdown":"You may consider creating a common wrapper class to encapsulate both normal and error responses, allowing the response structure to stay consistent, regardless of success or failure, like:\r\n```java\r\npublic class ApiResponse&lt;T&gt; {\r\n    private T data;\r\n    private List&lt;String&gt; errors;\r\n\r\n    public ApiResponse(T data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public ApiResponse(List&lt;String&gt; errors) {\r\n        this.errors = errors;\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\nSo you would always get a response with either a data field or an errors field (or potentially both, if you desire), and the HTTP status code would still indicate the success or failure of the request.","title":"How to return a list of errors from a Spring controller that currently returns an incompatible class?","body":"<p>You may consider creating a common wrapper class to encapsulate both normal and error responses, allowing the response structure to stay consistent, regardless of success or failure, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiResponse&lt;T&gt; {\n    private T data;\n    private List&lt;String&gt; errors;\n\n    public ApiResponse(T data) {\n        this.data = data;\n    }\n\n    public ApiResponse(List&lt;String&gt; errors) {\n        this.errors = errors;\n    }\n\n    // ...\n}\n</code></pre>\n<p>So you would always get a response with either a data field or an errors field (or potentially both, if you desire), and the HTTP status code would still indicate the success or failure of the request.</p>\n"},{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1688758646,"post_id":76639772,"comment_id":135121755,"body_markdown":"I&#39;m not a fan of using exceptions for control logic.  Your suggestion works, but it would drive me crazy to have to find the advice to figure out what happened.  I think aspects are overused.","body":"I&#39;m not a fan of using exceptions for control logic.  Your suggestion works, but it would drive me crazy to have to find the advice to figure out what happened.  I think aspects are overused."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1688759065,"post_id":76639772,"comment_id":135121821,"body_markdown":"@duffymo when in Rome :)  ControllerAdvice is the mechanism that Spring provides for MVC exception handling, and if you&#39;re using spring-web, you&#39;re already using it whether you know it or not.  I prefer this route because it places all the exception logic in one place and it&#39;s very easy to see exactly where the error originated from.","body":"@duffymo when in Rome :)  ControllerAdvice is the mechanism that Spring provides for MVC exception handling, and if you&#39;re using spring-web, you&#39;re already using it whether you know it or not.  I prefer this route because it places all the exception logic in one place and it&#39;s very easy to see exactly where the error originated from."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1688769534,"post_id":76639772,"comment_id":135123080,"body_markdown":"I usually handle all the exceptions in the controller using try/catch/finally.  No exceptions leave my controllers.  I love Spring and Spring Boot.  I&#39;m sure they know more about design and implementation than I do.  But that wouldn&#39;t be my choice.","body":"I usually handle all the exceptions in the controller using try/catch/finally.  No exceptions leave my controllers.  I love Spring and Spring Boot.  I&#39;m sure they know more about design and implementation than I do.  But that wouldn&#39;t be my choice."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1688796488,"post_id":76639772,"comment_id":135124800,"body_markdown":"I like to have fewer code paths, and once you know how spring&#39;s magic works, it&#39;s super easy to maintain.","body":"I like to have fewer code paths, and once you know how spring&#39;s magic works, it&#39;s super easy to maintain."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1688797683,"post_id":76639772,"comment_id":135124858,"body_markdown":"I believe the case you&#39;re describing, though, is resolved with the first portion of the answer.","body":"I believe the case you&#39;re describing, though, is resolved with the first portion of the answer."}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688758708,"creation_date":1688758528,"answer_id":76639772,"question_id":76639630,"body_markdown":"I would handle this one of two ways.\r\n\r\nThe first way is that I would just return a wildcard ResponseEntity from the controller, then you can return either ResponseEntity of ProgramDetails or ApiError, like this:\r\n\r\n    public ResponseEntity&lt;?&gt; doSomething() {\r\n       if (no_error) {\r\n         return ResponseEntity.of(Optional.of(programDetails));\r\n       else {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ApiError());\r\n       }\r\n    }\r\n\r\nThe cleaner approach is to use ControllerAdvice and throw the exception from your controller method.\r\n\r\nYour controller would look like this:\r\n\r\n    public ResponseEntity&lt;ProgramDetails&gt; doSomething() {\r\n       if (no_error) {\r\n         return ResponseEntity.of(Optional.of(programDetails));\r\n       else {\r\n          throw new ApiException();\r\n       }\r\n    }\r\n\r\nThis would be an advice class to handle this:\r\n\r\n    @ControllerAdvice\r\n    public class ErrorHandler {\r\n      @ExceptionHandler\r\n      public ResponseEntity&lt;ApiError&gt; handleGlobalException(ApiException e) {\r\n         return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ApiError(e.getMessage()));\r\n\r\n      }\r\n    }\r\n\r\nThis advice method will fire anytime one of your controllers throws ApiException, but you can configure it for any exception or exceptions you want to catch.  From there, the advice handles the response entirely and will return the ResponseEntity with your wrapped error class.","title":"How to return a list of errors from a Spring controller that currently returns an incompatible class?","body":"<p>I would handle this one of two ways.</p>\n<p>The first way is that I would just return a wildcard ResponseEntity from the controller, then you can return either ResponseEntity of ProgramDetails or ApiError, like this:</p>\n<pre><code>public ResponseEntity&lt;?&gt; doSomething() {\n   if (no_error) {\n     return ResponseEntity.of(Optional.of(programDetails));\n   else {\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ApiError());\n   }\n}\n</code></pre>\n<p>The cleaner approach is to use ControllerAdvice and throw the exception from your controller method.</p>\n<p>Your controller would look like this:</p>\n<pre><code>public ResponseEntity&lt;ProgramDetails&gt; doSomething() {\n   if (no_error) {\n     return ResponseEntity.of(Optional.of(programDetails));\n   else {\n      throw new ApiException();\n   }\n}\n</code></pre>\n<p>This would be an advice class to handle this:</p>\n<pre><code>@ControllerAdvice\npublic class ErrorHandler {\n  @ExceptionHandler\n  public ResponseEntity&lt;ApiError&gt; handleGlobalException(ApiException e) {\n     return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ApiError(e.getMessage()));\n\n  }\n}\n</code></pre>\n<p>This advice method will fire anytime one of your controllers throws ApiException, but you can configure it for any exception or exceptions you want to catch.  From there, the advice handles the response entirely and will return the ResponseEntity with your wrapped error class.</p>\n"}],"owner":{"account_id":14237326,"reputation":23,"user_id":11940316,"display_name":"LPTG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76639772,"answer_count":2,"score":0,"last_activity_date":1688758708,"creation_date":1688756977,"question_id":76639630,"body_markdown":"I have a POST method that returns type ResponseEntity&lt;ProgramDetails&gt; where ProgramDetails is structured like:\r\n\r\n```\r\nProgramDetails {\r\n    Program program;\r\n    ProgramInfo programInfo;\r\n}\r\n```\r\n\r\nOn a successful save this controller returns ProgramDetails. However, when there is an error I would like to return a list of errors:\r\n\r\n```\r\nApiError {\r\n    List&lt;String&gt; errors;\r\n}\r\n```\r\n\r\nTo have the flexibility to send either I have created an interface ProgramDetailsResponse and have made ProgramDetails and ApiError interfaced with ProgramDetailsResponse.\r\n\r\nIs there a better way to implement this or is it considered bad practice to use an interface this way?","title":"How to return a list of errors from a Spring controller that currently returns an incompatible class?","body":"<p>I have a POST method that returns type ResponseEntity where ProgramDetails is structured like:</p>\n<pre><code>ProgramDetails {\n    Program program;\n    ProgramInfo programInfo;\n}\n</code></pre>\n<p>On a successful save this controller returns ProgramDetails. However, when there is an error I would like to return a list of errors:</p>\n<pre><code>ApiError {\n    List&lt;String&gt; errors;\n}\n</code></pre>\n<p>To have the flexibility to send either I have created an interface ProgramDetailsResponse and have made ProgramDetails and ApiError interfaced with ProgramDetailsResponse.</p>\n<p>Is there a better way to implement this or is it considered bad practice to use an interface this way?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","querydsl"],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688758535,"creation_date":1688755431,"question_id":76639484,"body_markdown":"I&#39;m trying to remove hardcoded SQL statements out of my repositories and convert them to Query DSL.\r\n\r\nThe most were pretty easy to convert, but this one is too much for my level of knowledge.\r\n\r\n`ObjectStatus` is of type enum and can be `ENABLED` or `DISABLED`.\r\n\r\n---\r\n\r\n**Original:**\r\n\r\n\r\n```\r\n@Query(\r\n\t&quot;SELECT DISTINCT cat &quot; +\r\n\t&quot;FROM PriceInfo pi &quot; +\r\n\t&quot;LEFT JOIN pi.article.categories cat &quot; +\r\n\t&quot;WHERE &quot; +\r\n\t\t&quot;cat.parent.id = :parentId &quot; +\r\n\t\t&quot;AND &quot; +\r\n\t\t&quot;pi.article.objectStatus = :articleObjectStatus &quot; +\r\n\t\t&quot;AND &quot; +\r\n\t\t&quot;cat.objectStatus = :categoryObjectStatus&quot;\r\n)\r\nList&lt;Category&gt; findCategories(\r\n\t@Param(&quot;parentId&quot;)             Integer      parentId,\r\n\t@Param(&quot;articleObjectStatus&quot;)  ObjectStatus articleObjectStatus,\r\n\t@Param(&quot;categoryObjectStatus&quot;) ObjectStatus categoryObjectStatus\r\n);\r\n```\r\n\r\n---\r\n\r\nTrying to convert it to Query DSL, but don&#39;t know how.\r\n\r\nBelow is my latest attempt, but also I tried with many kind of joins - not working too.\r\n\r\n---\r\n\r\n**Not working:**\r\n\r\n```\r\npublic List&lt;Category&gt; findCategories(\r\n\tfinal Integer      parentId,\r\n\tfinal ObjectStatus articleObjectStatus,\r\n\tfinal ObjectStatus categoryObjectStatus\r\n) {\r\n\tfinal QPriceInfo pi  = QPriceInfo.priceInfo;\r\n\tfinal QCategory  cat = pi.article.categories.any();\r\n\tfinal JPAQuery&lt;Category&gt; q =\r\n    \tnew JPAQueryFactory(this.entityManager)\r\n\t\t\t.select(cat)\r\n\t\t\t.distinct()\r\n\t\t\t.from(pi)\r\n\t\t\t.leftJoin(pi.article.categories)\r\n\t\t\t.where(\r\n\t\t\t\tcat.parent.id.eq(parentId)\r\n\t\t\t\t.and(pi.article.objectStatus.eq(articleObjectStatus))\r\n\t\t\t\t.and(cat.objectStatus.eq(categoryObjectStatus))\r\n\t\t\t);\r\n\t// System.out.println(q);\r\n\treturn q.fetch();\r\n}\r\n```\r\n","title":"Converting Hibernate SQL to QueryDSL","body":"<p>I'm trying to remove hardcoded SQL statements out of my repositories and convert them to Query DSL.</p>\n<p>The most were pretty easy to convert, but this one is too much for my level of knowledge.</p>\n<p><code>ObjectStatus</code> is of type enum and can be <code>ENABLED</code> or <code>DISABLED</code>.</p>\n<hr />\n<p><strong>Original:</strong></p>\n<pre><code>@Query(\n    &quot;SELECT DISTINCT cat &quot; +\n    &quot;FROM PriceInfo pi &quot; +\n    &quot;LEFT JOIN pi.article.categories cat &quot; +\n    &quot;WHERE &quot; +\n        &quot;cat.parent.id = :parentId &quot; +\n        &quot;AND &quot; +\n        &quot;pi.article.objectStatus = :articleObjectStatus &quot; +\n        &quot;AND &quot; +\n        &quot;cat.objectStatus = :categoryObjectStatus&quot;\n)\nList&lt;Category&gt; findCategories(\n    @Param(&quot;parentId&quot;)             Integer      parentId,\n    @Param(&quot;articleObjectStatus&quot;)  ObjectStatus articleObjectStatus,\n    @Param(&quot;categoryObjectStatus&quot;) ObjectStatus categoryObjectStatus\n);\n</code></pre>\n<hr />\n<p>Trying to convert it to Query DSL, but don't know how.</p>\n<p>Below is my latest attempt, but also I tried with many kind of joins - not working too.</p>\n<hr />\n<p><strong>Not working:</strong></p>\n<pre><code>public List&lt;Category&gt; findCategories(\n    final Integer      parentId,\n    final ObjectStatus articleObjectStatus,\n    final ObjectStatus categoryObjectStatus\n) {\n    final QPriceInfo pi  = QPriceInfo.priceInfo;\n    final QCategory  cat = pi.article.categories.any();\n    final JPAQuery&lt;Category&gt; q =\n        new JPAQueryFactory(this.entityManager)\n            .select(cat)\n            .distinct()\n            .from(pi)\n            .leftJoin(pi.article.categories)\n            .where(\n                cat.parent.id.eq(parentId)\n                .and(pi.article.objectStatus.eq(articleObjectStatus))\n                .and(cat.objectStatus.eq(categoryObjectStatus))\n            );\n    // System.out.println(q);\n    return q.fetch();\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688624492,"post_id":76622525,"comment_id":135099029,"body_markdown":"Hello, please add no-args constructor to the entity class. Use Lombok @NoArgsConstructor annotation. This is needed for Hibernate to correctly map the results of the query to the entity object.","body":"Hello, please add no-args constructor to the entity class. Use Lombok @NoArgsConstructor annotation. This is needed for Hibernate to correctly map the results of the query to the entity object."},{"owner":{"account_id":14260655,"reputation":1,"user_id":10301570,"display_name":"Faiz Ahmad Khan"},"score":0,"creation_date":1688655225,"post_id":76622525,"comment_id":135105864,"body_markdown":"Good Evening everyone, Thank you for your responses but I resolved my issue with STS v4 and Spring 2.7.13 will also check it with Spring v3.1.1. But, I am happy that I am getting help from the best brains in the world. Thank you for your support and for considering my issue worth resolving it means a lot to me. This is the first time I have asked a question on Stack Overflow.","body":"Good Evening everyone, Thank you for your responses but I resolved my issue with STS v4 and Spring 2.7.13 will also check it with Spring v3.1.1. But, I am happy that I am getting help from the best brains in the world. Thank you for your support and for considering my issue worth resolving it means a lot to me. This is the first time I have asked a question on Stack Overflow."}],"answers":[{"comments":[{"owner":{"account_id":14260655,"reputation":1,"user_id":10301570,"display_name":"Faiz Ahmad Khan"},"score":0,"creation_date":1688584605,"post_id":76622877,"comment_id":135094829,"body_markdown":"Hi Md Saif! thank you for your response. I have checked all the points you have mentioned, but everything seems fine.  The name attribute I am giving from Postman in JSON is not saving in the DB but only the key which is autogenerated gets saved. Even I use save&amp;flush also, but the result is the same data not saving in DB and [{}] empty curly braces in Postman. Don&#39;t know what I am doing wrong that&#39;s why I posted the question on Stack Overflow. Please help me with this issue. Thanks!","body":"Hi Md Saif! thank you for your response. I have checked all the points you have mentioned, but everything seems fine.  The name attribute I am giving from Postman in JSON is not saving in the DB but only the key which is autogenerated gets saved. Even I use save&amp;flush also, but the result is the same data not saving in DB and [{}] empty curly braces in Postman. Don&#39;t know what I am doing wrong that&#39;s why I posted the question on Stack Overflow. Please help me with this issue. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688700591,"post_id":76622877,"comment_id":135112012,"body_markdown":"Welcome to Stack Overflow! \n\nYour answer appears likely to have been written (entirely or partially) by AI (e.g., ChatGPT). A heads-up that [posting AI-generated content is not allowed here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it.\n\nWe do hope you&#39;ll continue to be a part of our community and contribute with *your own*, quality posts in the future. Thanks!","body":"Welcome to Stack Overflow!   Your answer appears likely to have been written (entirely or partially) by AI (e.g., ChatGPT). A heads-up that <a href=\"//meta.stackoverflow.com/q/421831\">posting AI-generated content is not allowed here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it.  We do hope you&#39;ll continue to be a part of our community and contribute with <i>your own</i>, quality posts in the future. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688700594,"post_id":76622877,"comment_id":135112013,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly."},{"owner":{"account_id":14260655,"reputation":1,"user_id":10301570,"display_name":"Faiz Ahmad Khan"},"score":0,"creation_date":1688749053,"post_id":76622877,"comment_id":135120358,"body_markdown":"Good Evening @NotTheDr01ds sir, I am not using any AI Tool to generate this comment I swear. And, never will, I can assure you that. Don&#39;t worry I am still dependent on myself and my own decision, not some AI Tool to guide me. Because humans are always the best thinkers. And, you are here before me, you are my seniors and I respect you all. So I can never use AI to disrespect you all. You guys are the best brains in all over the world from whom I can learn a lot. Thank You!","body":"Good Evening @NotTheDr01ds sir, I am not using any AI Tool to generate this comment I swear. And, never will, I can assure you that. Don&#39;t worry I am still dependent on myself and my own decision, not some AI Tool to guide me. Because humans are always the best thinkers. And, you are here before me, you are my seniors and I respect you all. So I can never use AI to disrespect you all. You guys are the best brains in all over the world from whom I can learn a lot. Thank You!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688750094,"post_id":76622877,"comment_id":135120542,"body_markdown":"@FaizAhmadKhan Apologies for any confusion - I am referring to *this answer* (which you didn&#39;t write) as being likely AI.  I see that *your* answer below is genuine, and I upvoted it yesterday.  I also replied back to the person who commented on it to try to point out *their* mistake in misunderstanding your question.  Don&#39;t worry - I see that you are genuine!","body":"@FaizAhmadKhan Apologies for any confusion - I am referring to <i>this answer</i> (which you didn&#39;t write) as being likely AI.  I see that <i>your</i> answer below is genuine, and I upvoted it yesterday.  I also replied back to the person who commented on it to try to point out <i>their</i> mistake in misunderstanding your question.  Don&#39;t worry - I see that you are genuine!"}],"tags":[],"owner":{"account_id":28957643,"reputation":19,"user_id":22180860,"display_name":"Md Saif"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1688579478,"creation_date":1688579478,"answer_id":76622877,"question_id":76622525,"body_markdown":"Here are a few things you can check to troubleshoot the issue:\r\n\r\n1. Database Connectivity:\r\n   - Ensure that your MySQL server is up and running.\r\n   - Verify that the database (`codedecode`) exists and is accessible with the provided credentials (`root/root`).\r\n   - Check the `emp` table in the `codedecode` database and ensure it contains data.\r\n\r\n2. Entity Mapping:\r\n   - Verify that the `Employee` entity class (`com.codedecode.demo.entity.Employee`) is correctly mapped to the `emp` table in the database.\r\n   - Check that the column names in the entity match the column names in the database table (`id`, `name`).\r\n   - Ensure that the `@Entity`, `@Table`, and `@Data` annotations are imported from the correct packages (`jakarta.persistence.*` and `lombok.*`).\r\n\r\n3. Repository Configuration:\r\n   - Confirm that the `EmployeeCrudRepo` interface (`com.codedecode.demo.repos.EmployeeCrudRepo`) is correctly extending `JpaRepository`.\r\n   - Check that the repository interface is scanned by Spring by ensuring it is in a package covered by component scanning or explicitly configured as a repository.\r\n\r\n4. Application Configuration:\r\n   - Make sure that the `application.properties` file is located in the correct directory (`src/main/resources`) and is being picked up by the application.\r\n   - Check that the MySQL JDBC driver (`mysql-connector-java`) is being resolved correctly by Maven and included in the classpath.\r\n   - Verify that the `spring.datasource.url`, `spring.datasource.username`, and `spring.datasource.password` properties are correctly configured to connect to your MySQL server.\r\n\r\n5. Logging and Debugging:\r\n   - Enable debug logging in your Spring Boot application by adding the following line to `application.properties`:\r\n     ```\r\n     logging.level.org.springframework=DEBUG\r\n     ```\r\n   - Review the logs during application startup to ensure that the database connection is being established and the entities are being mapped correctly.\r\n   - Check for any error messages or warnings related to database connectivity, entity mapping, or repository configuration.\r\n\r\nBy reviewing these aspects, you should be able to identify the issue causing the empty JSON response. Additionally, examining the application logs and any error messages can provide valuable insights into the problem.","title":"How do I solve postman and browser clients both giving empty curly braces in array [{}] in JSON on HTTP Methods Problem?","body":"<p>Here are a few things you can check to troubleshoot the issue:</p>\n<ol>\n<li><p>Database Connectivity:</p>\n<ul>\n<li>Ensure that your MySQL server is up and running.</li>\n<li>Verify that the database (<code>codedecode</code>) exists and is accessible with the provided credentials (<code>root/root</code>).</li>\n<li>Check the <code>emp</code> table in the <code>codedecode</code> database and ensure it contains data.</li>\n</ul>\n</li>\n<li><p>Entity Mapping:</p>\n<ul>\n<li>Verify that the <code>Employee</code> entity class (<code>com.codedecode.demo.entity.Employee</code>) is correctly mapped to the <code>emp</code> table in the database.</li>\n<li>Check that the column names in the entity match the column names in the database table (<code>id</code>, <code>name</code>).</li>\n<li>Ensure that the <code>@Entity</code>, <code>@Table</code>, and <code>@Data</code> annotations are imported from the correct packages (<code>jakarta.persistence.*</code> and <code>lombok.*</code>).</li>\n</ul>\n</li>\n<li><p>Repository Configuration:</p>\n<ul>\n<li>Confirm that the <code>EmployeeCrudRepo</code> interface (<code>com.codedecode.demo.repos.EmployeeCrudRepo</code>) is correctly extending <code>JpaRepository</code>.</li>\n<li>Check that the repository interface is scanned by Spring by ensuring it is in a package covered by component scanning or explicitly configured as a repository.</li>\n</ul>\n</li>\n<li><p>Application Configuration:</p>\n<ul>\n<li>Make sure that the <code>application.properties</code> file is located in the correct directory (<code>src/main/resources</code>) and is being picked up by the application.</li>\n<li>Check that the MySQL JDBC driver (<code>mysql-connector-java</code>) is being resolved correctly by Maven and included in the classpath.</li>\n<li>Verify that the <code>spring.datasource.url</code>, <code>spring.datasource.username</code>, and <code>spring.datasource.password</code> properties are correctly configured to connect to your MySQL server.</li>\n</ul>\n</li>\n<li><p>Logging and Debugging:</p>\n<ul>\n<li>Enable debug logging in your Spring Boot application by adding the following line to <code>application.properties</code>:\n<pre><code>logging.level.org.springframework=DEBUG\n</code></pre>\n</li>\n<li>Review the logs during application startup to ensure that the database connection is being established and the entities are being mapped correctly.</li>\n<li>Check for any error messages or warnings related to database connectivity, entity mapping, or repository configuration.</li>\n</ul>\n</li>\n</ol>\n<p>By reviewing these aspects, you should be able to identify the issue causing the empty JSON response. Additionally, examining the application logs and any error messages can provide valuable insights into the problem.</p>\n"}],"owner":{"account_id":14260655,"reputation":1,"user_id":10301570,"display_name":"Faiz Ahmad Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688758334,"creation_date":1688576507,"question_id":76622525,"body_markdown":"When I am trying to access data from my MySQL DB codedecode using HTTP Get Method either on browser client or postman client there is empty curly braces in array [{}] is shown. But, I have data into my database. I have attached all my code including the dependencies of my Pom.xml and and my application props for my project.\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n&lt;groupId&gt;com.codedecode&lt;/groupId&gt;\r\n&lt;artifactId&gt;CodeDecodeCRUD&lt;/artifactId&gt;\r\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&lt;name&gt;CodeDecodeCRUD&lt;/name&gt;\r\n&lt;description&gt;Demo project for Spring Boot and Hibernate&lt;/description&gt;\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t    &lt;configuration&gt;\r\n\t        &lt;excludes&gt;\r\n\t\t    &lt;exclude&gt;\r\n\t\t        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t    &lt;/exclude&gt;\r\n\t\t&lt;/excludes&gt;\r\n\t    &lt;/configuration&gt;\r\n\t &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n**Spring Container**\r\n```\r\npackage com.codedecode.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class CodeDecodeCrudApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(CodeDecodeCrudApplication.class, args);\r\n    }\r\n}\r\n```\r\n**Employee Rest Controller**\r\n```\r\npackage com.codedecode.demo.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.codedecode.demo.entity.Employee;\r\nimport com.codedecode.demo.repos.EmployeeCrudRepo;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/code&quot;)\r\npublic class EmployeeController {\r\n\r\n    @Autowired\r\n    EmployeeCrudRepo empCrud;\r\n\t\r\n    @GetMapping(&quot;/getall&quot;)\r\n    public List&lt;Employee&gt; getAllEmployees() {\r\n        System.out.println(&quot;getting all employees&quot;);\r\n\treturn empCrud.findAll();\r\n    }\t\r\n}\r\n```\r\n**Employee Entity**\r\n```\r\npackage com.codedecode.demo.entity;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Table(name = &quot;emp&quot;)\r\n@Data\r\npublic class Employee {\r\n\t\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\t\r\n    private String name;\r\n}\r\n```\r\n**Employee CRUD Repository**\r\n```\r\npackage com.codedecode.demo.repos;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.codedecode.demo.entity.Employee;\r\n\r\n@Repository\r\npublic interface EmployeeCrudRepo extends JpaRepository&lt;Employee, Long&gt;{\t\r\n\t\r\n}\r\n```\r\n**application.properties**\r\n```\r\n#server.port=9090\r\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/codedecode?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.hibernate.ddl-auto=create\r\n#spring.jpa.show-sql=true\r\n#spring.jpa.properties.hibernate.format_sql=true\r\n```\r\n\r\n\r\nI am using, MySQL v8.0.33, Spring v3.1.1, Java v17, STS v4, lombok v1.18.28\r\n\r\nI tried checking the cofiguration of my MySQL DB, but everything working fine. Tables are created when the server runs.\r\n\r\nI tried rechecking my code and all the dependencies but unable to find any issue.\r\n\r\n","title":"How do I solve postman and browser clients both giving empty curly braces in array [{}] in JSON on HTTP Methods Problem?","body":"<p>When I am trying to access data from my MySQL DB codedecode using HTTP Get Method either on browser client or postman client there is empty curly braces in array [{}] is shown. But, I have data into my database. I have attached all my code including the dependencies of my Pom.xml and and my application props for my project.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.codedecode&lt;/groupId&gt;\n&lt;artifactId&gt;CodeDecodeCRUD&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;CodeDecodeCRUD&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot and Hibernate&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;excludes&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;/configuration&gt;\n     &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Spring Container</strong></p>\n<pre><code>package com.codedecode.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CodeDecodeCrudApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CodeDecodeCrudApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Employee Rest Controller</strong></p>\n<pre><code>package com.codedecode.demo.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.codedecode.demo.entity.Employee;\nimport com.codedecode.demo.repos.EmployeeCrudRepo;\n\n@RestController\n@RequestMapping(&quot;/code&quot;)\npublic class EmployeeController {\n\n    @Autowired\n    EmployeeCrudRepo empCrud;\n    \n    @GetMapping(&quot;/getall&quot;)\n    public List&lt;Employee&gt; getAllEmployees() {\n        System.out.println(&quot;getting all employees&quot;);\n    return empCrud.findAll();\n    }   \n}\n</code></pre>\n<p><strong>Employee Entity</strong></p>\n<pre><code>package com.codedecode.demo.entity;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Table(name = &quot;emp&quot;)\n@Data\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    private String name;\n}\n</code></pre>\n<p><strong>Employee CRUD Repository</strong></p>\n<pre><code>package com.codedecode.demo.repos;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.codedecode.demo.entity.Employee;\n\n@Repository\npublic interface EmployeeCrudRepo extends JpaRepository&lt;Employee, Long&gt;{    \n    \n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>#server.port=9090\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/codedecode?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=create\n#spring.jpa.show-sql=true\n#spring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>I am using, MySQL v8.0.33, Spring v3.1.1, Java v17, STS v4, lombok v1.18.28</p>\n<p>I tried checking the cofiguration of my MySQL DB, but everything working fine. Tables are created when the server runs.</p>\n<p>I tried rechecking my code and all the dependencies but unable to find any issue.</p>\n"},{"tags":["java","autoboxing"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1546935661,"post_id":54087689,"comment_id":95007882,"body_markdown":"Strictly speaking, `Boolean.TRUE`is not the &quot;result of a boxing conversion&quot;.","body":"Strictly speaking, <code>Boolean.TRUE</code>is not the &quot;result of a boxing conversion&quot;."},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1546935887,"post_id":54087689,"comment_id":95007978,"body_markdown":"Ok, there is no *auto*-boxing. This part of the JLS is about auto-boxing","body":"Ok, there is no <i>auto</i>-boxing. This part of the JLS is about auto-boxing"},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1546936233,"post_id":54087689,"comment_id":95008136,"body_markdown":"Well, &quot;in case of a reflection&quot; is not covered by that part of the JLS you&#39;re quoting. That part is a continuity about variable conversion when you have a value of a type that you assign to another type using the language normally. Reflection is not a part of that.","body":"Well, &quot;in case of a reflection&quot; is not covered by that part of the JLS you&#39;re quoting. That part is a continuity about variable conversion when you have a value of a type that you assign to another type using the language normally. Reflection is not a part of that."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1546936773,"post_id":54087689,"comment_id":95008361,"body_markdown":"The JLS mandates boxing conversions for a conversion from `boolean` to `Boolean`. In the case of reflection, the conversion is however from `boolean` to `Object`. The code behind `Method.invoke()` may therefore call `new Boolean(b)` to convert from `boolean` to `Object` without violating the letters of the JLS.","body":"The JLS mandates boxing conversions for a conversion from <code>boolean</code> to <code>Boolean</code>. In the case of reflection, the conversion is however from <code>boolean</code> to <code>Object</code>. The code behind <code>Method.invoke()</code> may therefore call <code>new Boolean(b)</code> to convert from <code>boolean</code> to <code>Object</code> without violating the letters of the JLS."}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1546937297,"post_id":54087832,"comment_id":95008604,"body_markdown":"Just to add a suggestion of the reason why it might be so: [the reflection API](https://www.javaworld.com/article/2077015/java-se/take-an-in-depth-look-at-the-java-reflection-api.html) was added in 1.1; [`Boolean.valueOf`](https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html#valueOf-boolean-) was added in 1.4. Perhaps the pre-valueOf behavior was retained for backwards compatibility.","body":"Just to add a suggestion of the reason why it might be so: <a href=\"https://www.javaworld.com/article/2077015/java-se/take-an-in-depth-look-at-the-java-reflection-api.html\" rel=\"nofollow noreferrer\">the reflection API</a> was added in 1.1; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html#valueOf-boolean-\" rel=\"nofollow noreferrer\"><code>Boolean.valueOf</code></a> was added in 1.4. Perhaps the pre-valueOf behavior was retained for backwards compatibility."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1590501567,"post_id":54087832,"comment_id":109698910,"body_markdown":"@AndyTurner You are on the right track, there was no `valueOf` method for `Boolean` prior to 1.4 (for the other types it took even longer) and even then, there was no formal definition of boxing conversions, which where only introduced the next version. But I don’t think that the reason for keeping the behavior ever was backward compatibility but rather “No-one took the time to change it”. But since JDK&#160;9, [it has changed](https://stackoverflow.com/a/62023182/2711488); you just need to perform more than one invocation to encounter the changed behavior, depending on the JRE configuration.","body":"@AndyTurner You are on the right track, there was no <code>valueOf</code> method for <code>Boolean</code> prior to 1.4 (for the other types it took even longer) and even then, there was no formal definition of boxing conversions, which where only introduced the next version. But I don’t think that the reason for keeping the behavior ever was backward compatibility but rather “No-one took the time to change it”. But since JDK 9, <a href=\"https://stackoverflow.com/a/62023182/2711488\">it has changed</a>; you just need to perform more than one invocation to encounter the changed behavior, depending on the JRE configuration."}],"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1546936745,"creation_date":1546935999,"answer_id":54087832,"question_id":54087689,"body_markdown":"[invoke](https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html#invoke(java.lang.Object,%20java.lang.Object...)) will **always** return a new `Object`. Any returned primitives are boxed.\r\n\r\n&gt;  ...if the [return] value has a primitive type, it is first appropriately wrapped in an object.\r\n\r\nYour issue is demonstrating the ambiguity of the term *appropriately*. i.e. during wrapping, it does **not** use [Boolean.valueOf(boolean)](https://docs.oracle.com/javase/7/docs/api/java/lang/Boolean.html#valueOf(boolean)).\r\n","title":"Why does autoboxing not use valueOf() when invoking via reflection?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html#invoke(java.lang.Object,%20java.lang.Object...)\" rel=\"noreferrer\">invoke</a> will <strong>always</strong> return a new <code>Object</code>. Any returned primitives are boxed.</p>\n\n<blockquote>\n  <p>...if the [return] value has a primitive type, it is first appropriately wrapped in an object.</p>\n</blockquote>\n\n<p>Your issue is demonstrating the ambiguity of the term <em>appropriately</em>. i.e. during wrapping, it does <strong>not</strong> use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Boolean.html#valueOf(boolean)\" rel=\"noreferrer\">Boolean.valueOf(boolean)</a>.</p>\n"},{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1546961425,"post_id":54088139,"comment_id":95022220,"body_markdown":"&quot;most likely some existing code that was incorrectly relying on the existing behavior&quot; Wouldn&#39;t that have to be incredibly specific? The only code I can think of that would satisfy that statement would be `myReturn.booleanValue() &amp;&amp; myReturn != Return.TRUE`, which is something that no one in their right mind would ever write. I&#39;m not saying you&#39;re right or wrong, but if you are right then they&#39;ve intentionally made every Java user&#39;s code minutely worse for **years** for the sake of a few idiots relying on implementation details.","body":"&quot;most likely some existing code that was incorrectly relying on the existing behavior&quot; Wouldn&#39;t that have to be incredibly specific? The only code I can think of that would satisfy that statement would be <code>myReturn.booleanValue() &amp;&amp; myReturn != Return.TRUE</code>, which is something that no one in their right mind would ever write. I&#39;m not saying you&#39;re right or wrong, but if you are right then they&#39;ve intentionally made every Java user&#39;s code minutely worse for <b>years</b> for the sake of a few idiots relying on implementation details."},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1546963147,"post_id":54088139,"comment_id":95023250,"body_markdown":"@Michael Meh, I never worked for Sun nor did I work on an official Java release. But they tend to take preserving backwards compatibility *seriously*. The only reason why they would accept deriving for it, is if it is unavoidable, or not doing so has a great cost. This is nowhere near a noticeable cost.","body":"@Michael Meh, I never worked for Sun nor did I work on an official Java release. But they tend to take preserving backwards compatibility <i>seriously</i>. The only reason why they would accept deriving for it, is if it is unavoidable, or not doing so has a great cost. This is nowhere near a noticeable cost."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1546963774,"post_id":54088139,"comment_id":95023635,"body_markdown":"&quot;The only reason why they would accept deriving for it, is if it is unavoidable, or not doing so has a great cost&quot; The introduction of `var` was avoidable, and not including would not have been a great cost. They&#39;ve relaxed their view on backwards compatibility in recent years. It was becoming a detriment to the language.","body":"&quot;The only reason why they would accept deriving for it, is if it is unavoidable, or not doing so has a great cost&quot; The introduction of <code>var</code> was avoidable, and not including would not have been a great cost. They&#39;ve relaxed their view on backwards compatibility in recent years. It was becoming a detriment to the language."},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1546963834,"post_id":54088139,"comment_id":95023676,"body_markdown":"@Michael The Introduction of var was the work of Oracle. There was quite a change. Not saying it&#39;s for the better nor worse, but the policy just isn&#39;t the same at all.","body":"@Michael The Introduction of var was the work of Oracle. There was quite a change. Not saying it&#39;s for the better nor worse, but the policy just isn&#39;t the same at all."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1546963941,"post_id":54088139,"comment_id":95023728,"body_markdown":"Yeah and Oracle acquired Java almost a decade ago. Why do you think Sun&#39;s policies are relevant?","body":"Yeah and Oracle acquired Java almost a decade ago. Why do you think Sun&#39;s policies are relevant?"},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1546964189,"post_id":54088139,"comment_id":95023881,"body_markdown":"@Michael I think they are relevant because they covered auto-inbox, which is the subject at the origin of the question here.","body":"@Michael I think they are relevant because they covered auto-inbox, which is the subject at the origin of the question here."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1590499940,"post_id":54088139,"comment_id":109697937,"body_markdown":"@Michael in most cases, the reason why something doesn’t get changed is a) no-one opened an RFE for it or b) no-one had the time to do it (yet). You wouldn’t believe, how little resources the JDK development has, compared to the size of this project. In fact, the behavior of Reflection [has already changed in that regard](https://stackoverflow.com/a/62023182/2711488) but you won’t notice on the first invocation (and the question’s test does only one).","body":"@Michael in most cases, the reason why something doesn’t get changed is a) no-one opened an RFE for it or b) no-one had the time to do it (yet). You wouldn’t believe, how little resources the JDK development has, compared to the size of this project. In fact, the behavior of Reflection <a href=\"https://stackoverflow.com/a/62023182/2711488\">has already changed in that regard</a> but you won’t notice on the first invocation (and the question’s test does only one)."}],"tags":[],"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546937296,"creation_date":1546937296,"answer_id":54088139,"question_id":54087689,"body_markdown":"1.\r\n\r\nThe specific\r\n\r\n&gt; in case of method called via reflection\r\n\r\nis not covered by that part of the JLS you&#39;re quoting. That part you&#39;re quoting is about *type conversion* when you have a value of a type that you pass as another type. Here you&#39;re thinking of converting boolean to Boolean.\r\n\r\nBut type conversion means doing something like that:\r\n\r\n    Boolean b = true;\r\n\r\nor\r\n\r\n    boolean b = true;\r\n    Boolean b2 = b;\r\n\r\nReflection is not a mechanism that applies type conversion.\r\n\r\nWhen, by necessity, a reflective method call wraps a boolean return value into a Boolean object, it is not involved in the part of the JLS you quoted.\r\n\r\nThis explains why the JLS is not being violated here.\r\n\r\n2. \r\n\r\n\r\nAs to why the reflection isn&#39;t choosing to be consistent with this behavior anyway:\r\n\r\nThat is because in older versions of Java, reflection existed before generics. And generics are the reason why autoboxing suddenly became convenient, and autoboxing is the reason why it seemed smart to not duplicate the &quot;common&quot; values of wrapped primitives.\r\n\r\nAll of this was defined after reflection already existed for a while, and was already behaving in a specific way. That means that there was already existing Java code that was using reflection, and most likely some existing code that was incorrectly relying on the existing behavior. Changing the existing behavior would have broken existing code, which was therefore avoided.","title":"Why does autoboxing not use valueOf() when invoking via reflection?","body":"<p>1.</p>\n\n<p>The specific</p>\n\n<blockquote>\n  <p>in case of method called via reflection</p>\n</blockquote>\n\n<p>is not covered by that part of the JLS you're quoting. That part you're quoting is about <em>type conversion</em> when you have a value of a type that you pass as another type. Here you're thinking of converting boolean to Boolean.</p>\n\n<p>But type conversion means doing something like that:</p>\n\n<pre><code>Boolean b = true;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>boolean b = true;\nBoolean b2 = b;\n</code></pre>\n\n<p>Reflection is not a mechanism that applies type conversion.</p>\n\n<p>When, by necessity, a reflective method call wraps a boolean return value into a Boolean object, it is not involved in the part of the JLS you quoted.</p>\n\n<p>This explains why the JLS is not being violated here.</p>\n\n<ol start=\"2\">\n2. \n</ol>\n\n<p>As to why the reflection isn't choosing to be consistent with this behavior anyway:</p>\n\n<p>That is because in older versions of Java, reflection existed before generics. And generics are the reason why autoboxing suddenly became convenient, and autoboxing is the reason why it seemed smart to not duplicate the \"common\" values of wrapped primitives.</p>\n\n<p>All of this was defined after reflection already existed for a while, and was already behaving in a specific way. That means that there was already existing Java code that was using reflection, and most likely some existing code that was incorrectly relying on the existing behavior. Changing the existing behavior would have broken existing code, which was therefore avoided.</p>\n"},{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1546960932,"post_id":54091646,"comment_id":95021898,"body_markdown":"You&#39;ve missed the point of the question. Let me rephrase it for you, and hopefully you&#39;ll see why your answer doesn&#39;t answer the question: Why does calling the method via reflection autobox the return by using Boolean&#39;s constructor (i.e. creates a new object) while calling the method normally autoboxes using `Boolean.valueOf` (i.e. returns `Boolean.TRUE`)","body":"You&#39;ve missed the point of the question. Let me rephrase it for you, and hopefully you&#39;ll see why your answer doesn&#39;t answer the question: Why does calling the method via reflection autobox the return by using Boolean&#39;s constructor (i.e. creates a new object) while calling the method normally autoboxes using <code>Boolean.valueOf</code> (i.e. returns <code>Boolean.TRUE</code>)"}],"tags":[],"owner":{"account_id":1791757,"reputation":22226,"user_id":1631967,"display_name":"aminography"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546951470,"creation_date":1546949794,"answer_id":54091646,"question_id":54087689,"body_markdown":"As you can see in `java.lang.reflect.Method` class, the `invoke` method has a signature as following:\r\n\r\n     public Object invoke(Object obj, Object... args) { ... }\r\n\r\nwhich returns an object as result.\r\n\r\nFurthermore, `Boolean.TRUE` is defined as:\r\n\r\n    public static final Boolean TRUE = new Boolean(true);\r\n\r\nwhich is a boxed object of `true` value.\r\n\r\nBy evaluating `trueResult == Boolean.TRUE` in your code, you are checking that whether the reference of `trueResult` and `Boolean.TRUE` are equal or not. Because `==` evaluates equality of values and in case of references, it means that are two references pointed to one `Object` in memory?\r\n\r\nIt is obvious that these two objects are not the same (they are two separate objects and instantiated in different parts of memory), so the result of `trueResult == Boolean.TRUE` is `false`.","title":"Why does autoboxing not use valueOf() when invoking via reflection?","body":"<p>As you can see in <code>java.lang.reflect.Method</code> class, the <code>invoke</code> method has a signature as following:</p>\n\n<pre><code> public Object invoke(Object obj, Object... args) { ... }\n</code></pre>\n\n<p>which returns an object as result.</p>\n\n<p>Furthermore, <code>Boolean.TRUE</code> is defined as:</p>\n\n<pre><code>public static final Boolean TRUE = new Boolean(true);\n</code></pre>\n\n<p>which is a boxed object of <code>true</code> value.</p>\n\n<p>By evaluating <code>trueResult == Boolean.TRUE</code> in your code, you are checking that whether the reference of <code>trueResult</code> and <code>Boolean.TRUE</code> are equal or not. Because <code>==</code> evaluates equality of values and in case of references, it means that are two references pointed to one <code>Object</code> in memory?</p>\n\n<p>It is obvious that these two objects are not the same (they are two separate objects and instantiated in different parts of memory), so the result of <code>trueResult == Boolean.TRUE</code> is <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688758071,"creation_date":1590499456,"answer_id":62023182,"question_id":54087689,"body_markdown":"The cited part has been rewritten multiple times, as discussed in https://stackoverflow.com/q/59555374/2711488\r\n\r\nYou’ve cited the version use up to [Java&#160;7]:\r\n\r\n&gt; If the value *p* being boxed is `true`, `false`, a `byte`, a `char` in the range `\\u0000` to `\\u007f`, or an `int` or `short` number between `-128` and `127`, then let `r1` and `r2` be the results of any two boxing conversions of `p`. It is always the case that `r1 == r2`.\r\n\r\nNote that it forgot to mention `long`.\r\n\r\nIn [Java&#160;8], the specification says:\r\n\r\n&gt; If the value `p` being boxed is an integer literal of type `int` between `-128` and `127` inclusive (&#167;3.10.1), or the boolean literal `true` or `false` (&#167;3.10.3), or a character literal between `&#39;\\u0000&#39;` and `&#39;\\u007f&#39;` inclusive (&#167;3.10.4), then let `a` and `b` be the results of any two boxing conversions of `p`. It is always the case that `a == b`.\r\n\r\nWhich applies to *literals* only.\r\n\r\nSince [Java&#160;9], the specification says\r\n\r\n&gt; If the value `p` being boxed is the result of evaluating a constant expression ([&#167;15.28]) of type `boolean`, `char`, `short`, `int`, or `long`, and the result is `true`, `false`, a character in the range `&#39;\\u0000&#39;` and `&#39;\\u007f&#39;` inclusive, or an integer in the range `-128` to `127` inclusive, then let `a` and `b` be the results of any two boxing conversions of `p`. It is always the case that `a == b`.\r\n\r\nThis now refers to constant expressions, includes `long` and forgot about `byte` (has been re‑added in version 14). While this is not insisting on a literal value, a reflective method invocation is not a constant expression, so it doesn’t apply.\r\n\r\nEven when we use the old specification’s wording, it’s not clear whether the code implementing the reflective method invocation bears a *boxing conversion*. The original code stems from a time when boxing conversions did not exist, so it performed an explicit instantiation of wrapper objects and as long as the code contains explicit instantiations, there will be no boxing conversion.\r\n\r\n---\r\n\r\nIn short, the object identity of wrapper instances returned by reflective operations is unspecified.\r\n\r\n---\r\n\r\nLooking at it from the implementors point of view, the code handling the first reflective invocation is native code, which is much harder to change than Java code. But since JDK&#160;1.3, these native method accessors get replaced by generated bytecode when the number of invocations crosses a threshold. Since repeated invocations are the performance critical ones, it’s important to look at these generated accessors. Since JDK&#160;9, these generated accessors use the equivalent of boxing conversions.\r\n\r\nSo running the following adapted test code:\r\n\r\n    import java.lang.reflect.Method;\r\n\r\n    public class Test\r\n    {\r\n        public static boolean testTrue() {\r\n            return true;\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            int threshold = Boolean.getBoolean(&quot;sun.reflect.noInflation&quot;)? 0:\r\n                    Integer.getInteger(&quot;sun.reflect.inflationThreshold&quot;, 15);\r\n\r\n            System.out.printf(&quot;should use bytecode after %d invocations%n&quot;, threshold);\r\n\r\n            Method m = Test.class.getMethod(&quot;testTrue&quot;);\r\n\r\n            for(int i = 0; i &lt; threshold + 10; i++) {\r\n                Object trueResult = m.invoke(null);\r\n                System.out.printf(&quot;%-2d: %b%n&quot;, i, trueResult == Boolean.TRUE);\r\n            }\r\n        }\r\n    }\r\nwill print under Java&#160;9 and newer:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    should use bytecode after 15 invocations\r\n    0 : false\r\n    1 : false\r\n    2 : false\r\n    3 : false\r\n    4 : false\r\n    5 : false\r\n    6 : false\r\n    7 : false\r\n    8 : false\r\n    9 : false\r\n    10: false\r\n    11: false\r\n    12: false\r\n    13: false\r\n    14: false\r\n    15: false\r\n    16: true\r\n    17: true\r\n    18: true\r\n    19: true\r\n    20: true\r\n    21: true\r\n    22: true\r\n    23: true\r\n    24: true\r\n\r\nNote that you can play around with the JVM options `-Dsun.reflect.inflationThreshold=number`, to alter the threshold, and `-Dsun.reflect.noInflation=true`, to let Reflection use bytecode immediately.\r\n\r\n---\r\nUpdate: starting with JDK&#160;18, the values are always boxed using `valueOf(…)`\r\n\r\n[Java&#160;7]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7-300\r\n[Java&#160;8]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7-300\r\n[Java&#160;9]: https://docs.oracle.com/javase/specs/jls/se9/html/jls-5.html#jls-5.1.7-300\r\n[&#167;15.28]: https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.28 (&#167;15.28. Constant Expressions, in JLS&#160;9)","title":"Why does autoboxing not use valueOf() when invoking via reflection?","body":"<p>The cited part has been rewritten multiple times, as discussed in <a href=\"https://stackoverflow.com/q/59555374/2711488\">Is caching of boxed Byte objects not required by Java 13 SE spec?</a></p>\n<p>You’ve cited the version use up to <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7-300\" rel=\"nofollow noreferrer\">Java 7</a>:</p>\n<blockquote>\n<p>If the value <em>p</em> being boxed is <code>true</code>, <code>false</code>, a <code>byte</code>, a <code>char</code> in the range <code>\\u0000</code> to <code>\\u007f</code>, or an <code>int</code> or <code>short</code> number between <code>-128</code> and <code>127</code>, then let <code>r1</code> and <code>r2</code> be the results of any two boxing conversions of <code>p</code>. It is always the case that <code>r1 == r2</code>.</p>\n</blockquote>\n<p>Note that it forgot to mention <code>long</code>.</p>\n<p>In <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7-300\" rel=\"nofollow noreferrer\">Java 8</a>, the specification says:</p>\n<blockquote>\n<p>If the value <code>p</code> being boxed is an integer literal of type <code>int</code> between <code>-128</code> and <code>127</code> inclusive (§3.10.1), or the boolean literal <code>true</code> or <code>false</code> (§3.10.3), or a character literal between <code>'\\u0000'</code> and <code>'\\u007f'</code> inclusive (§3.10.4), then let <code>a</code> and <code>b</code> be the results of any two boxing conversions of <code>p</code>. It is always the case that <code>a == b</code>.</p>\n</blockquote>\n<p>Which applies to <em>literals</em> only.</p>\n<p>Since <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-5.html#jls-5.1.7-300\" rel=\"nofollow noreferrer\">Java 9</a>, the specification says</p>\n<blockquote>\n<p>If the value <code>p</code> being boxed is the result of evaluating a constant expression (<a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\" title=\"§15.28. Constant Expressions, in JLS 9\">§15.28</a>) of type <code>boolean</code>, <code>char</code>, <code>short</code>, <code>int</code>, or <code>long</code>, and the result is <code>true</code>, <code>false</code>, a character in the range <code>'\\u0000'</code> and <code>'\\u007f'</code> inclusive, or an integer in the range <code>-128</code> to <code>127</code> inclusive, then let <code>a</code> and <code>b</code> be the results of any two boxing conversions of <code>p</code>. It is always the case that <code>a == b</code>.</p>\n</blockquote>\n<p>This now refers to constant expressions, includes <code>long</code> and forgot about <code>byte</code> (has been re‑added in version 14). While this is not insisting on a literal value, a reflective method invocation is not a constant expression, so it doesn’t apply.</p>\n<p>Even when we use the old specification’s wording, it’s not clear whether the code implementing the reflective method invocation bears a <em>boxing conversion</em>. The original code stems from a time when boxing conversions did not exist, so it performed an explicit instantiation of wrapper objects and as long as the code contains explicit instantiations, there will be no boxing conversion.</p>\n<hr />\n<p>In short, the object identity of wrapper instances returned by reflective operations is unspecified.</p>\n<hr />\n<p>Looking at it from the implementors point of view, the code handling the first reflective invocation is native code, which is much harder to change than Java code. But since JDK 1.3, these native method accessors get replaced by generated bytecode when the number of invocations crosses a threshold. Since repeated invocations are the performance critical ones, it’s important to look at these generated accessors. Since JDK 9, these generated accessors use the equivalent of boxing conversions.</p>\n<p>So running the following adapted test code:</p>\n<pre><code>import java.lang.reflect.Method;\n\npublic class Test\n{\n    public static boolean testTrue() {\n        return true;\n    }\n\n    public static void main(String[] args) throws Exception {\n        int threshold = Boolean.getBoolean(&quot;sun.reflect.noInflation&quot;)? 0:\n                Integer.getInteger(&quot;sun.reflect.inflationThreshold&quot;, 15);\n\n        System.out.printf(&quot;should use bytecode after %d invocations%n&quot;, threshold);\n\n        Method m = Test.class.getMethod(&quot;testTrue&quot;);\n\n        for(int i = 0; i &lt; threshold + 10; i++) {\n            Object trueResult = m.invoke(null);\n            System.out.printf(&quot;%-2d: %b%n&quot;, i, trueResult == Boolean.TRUE);\n        }\n    }\n}\n</code></pre>\n<p>will print under Java 9 and newer:</p>\n<pre class=\"lang-none prettyprint-override\"><code>should use bytecode after 15 invocations\n0 : false\n1 : false\n2 : false\n3 : false\n4 : false\n5 : false\n6 : false\n7 : false\n8 : false\n9 : false\n10: false\n11: false\n12: false\n13: false\n14: false\n15: false\n16: true\n17: true\n18: true\n19: true\n20: true\n21: true\n22: true\n23: true\n24: true\n</code></pre>\n<p>Note that you can play around with the JVM options <code>-Dsun.reflect.inflationThreshold=number</code>, to alter the threshold, and <code>-Dsun.reflect.noInflation=true</code>, to let Reflection use bytecode immediately.</p>\n<hr />\n<p>Update: starting with JDK 18, the values are always boxed using <code>valueOf(…)</code></p>\n"}],"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1055,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":54087832,"answer_count":4,"score":20,"last_activity_date":1688758071,"creation_date":1546935436,"question_id":54087689,"body_markdown":"To my understanding following code should print `&quot;true&quot;`, but when I run it it prints `&quot;false&quot;`.\r\n\r\n    public class Test {\r\n    \tpublic static boolean testTrue() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tObject trueResult = Test.class.getMethod(&quot;testTrue&quot;).invoke(null);\r\n            System.out.println(trueResult == Boolean.TRUE);\r\n    \t}\r\n    }\r\n\r\nAccording to [JLS &#167;5.1.7. Boxing Conversion][1]:\r\n\r\n&gt; If the value `p` being boxed is `true`, `false`, a `byte`, or a `char` in the range `\\u0000` to `\\u007f`, or an `int` or `short` number between `-128` and `127` (inclusive), then let &lt;code&gt;r&lt;sub&gt;1&lt;/sub&gt;&lt;/code&gt; and &lt;code&gt;r&lt;sub&gt;2&lt;/sub&gt;&lt;/code&gt; be the results of any two boxing conversions of `p`. It is always the case that &lt;code&gt;r&lt;sub&gt;1&lt;/sub&gt; == r&lt;sub&gt;2&lt;/sub&gt;&lt;/code&gt;. \r\n\r\nHowever in case of method called via reflection boxed value is always created via `new PrimitiveWrapper()`. \r\n\r\nPlease help me understand this.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7","title":"Why does autoboxing not use valueOf() when invoking via reflection?","body":"<p>To my understanding following code should print <code>\"true\"</code>, but when I run it it prints <code>\"false\"</code>.</p>\n\n<pre><code>public class Test {\n    public static boolean testTrue() {\n        return true;\n    }\n\n    public static void main(String[] args) throws Exception {\n        Object trueResult = Test.class.getMethod(\"testTrue\").invoke(null);\n        System.out.println(trueResult == Boolean.TRUE);\n    }\n}\n</code></pre>\n\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">JLS §5.1.7. Boxing Conversion</a>:</p>\n\n<blockquote>\n  <p>If the value <code>p</code> being boxed is <code>true</code>, <code>false</code>, a <code>byte</code>, or a <code>char</code> in the range <code>\\u0000</code> to <code>\\u007f</code>, or an <code>int</code> or <code>short</code> number between <code>-128</code> and <code>127</code> (inclusive), then let <code>r<sub>1</sub></code> and <code>r<sub>2</sub></code> be the results of any two boxing conversions of <code>p</code>. It is always the case that <code>r<sub>1</sub> == r<sub>2</sub></code>. </p>\n</blockquote>\n\n<p>However in case of method called via reflection boxed value is always created via <code>new PrimitiveWrapper()</code>. </p>\n\n<p>Please help me understand this.</p>\n"},{"tags":["java","data-structures","grails","groovy","hashmap"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":3,"creation_date":1688758271,"post_id":76639708,"comment_id":135121715,"body_markdown":"Consider `Collections.synchronizedMap(new HashMap&lt;&gt;());` - permits null values and serializable","body":"Consider <code>Collections.synchronizedMap(new HashMap&lt;&gt;());</code> - permits null values and serializable"}],"owner":{"account_id":28972449,"reputation":1,"user_id":22192420,"display_name":"Siddharth Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688757843,"creation_date":1688757843,"question_id":76639708,"body_markdown":"I was using a groovy lazymap inside a hashmap in my code but I ran into issues with load balancing, so I started using hazelcast map, but since groovy lazymap is not serializable, I couldn&#39;t continue to use it. I am looking for a map data structure that is thread safe, serializable, we should be able to add null values into it and should be able to cast it to list due to some execution flow constraints. Is there any such data structure or work around for this\r\n\r\nI tried using concurrent hashmap but that doesn&#39;t allow null values, I tried synchronised hashmap but that does not get casted to a list","title":"Thread safe, serializable map that allows null as values and should be able to cast it into list in java","body":"<p>I was using a groovy lazymap inside a hashmap in my code but I ran into issues with load balancing, so I started using hazelcast map, but since groovy lazymap is not serializable, I couldn't continue to use it. I am looking for a map data structure that is thread safe, serializable, we should be able to add null values into it and should be able to cast it to list due to some execution flow constraints. Is there any such data structure or work around for this</p>\n<p>I tried using concurrent hashmap but that doesn't allow null values, I tried synchronised hashmap but that does not get casted to a list</p>\n"},{"tags":["java","multithreading","dictionary","server","scheduled-tasks"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688753140,"post_id":76639234,"comment_id":135121031,"body_markdown":"What shall happen if a user tries to create multiple requests, before his first request has been finished (or even before it has been started)? And you must not use a pure `HashMap` here, it is not thread-safe, but this application is definitely a multithreaded application, otherwise multiple requests could not be registered concurrently.","body":"What shall happen if a user tries to create multiple requests, before his first request has been finished (or even before it has been started)? And you must not use a pure <code>HashMap</code> here, it is not thread-safe, but this application is definitely a multithreaded application, otherwise multiple requests could not be registered concurrently."},{"owner":{"account_id":9308308,"reputation":103,"user_id":7660925,"display_name":"Behroozfar"},"score":0,"creation_date":1688753673,"post_id":76639234,"comment_id":135121093,"body_markdown":"@cyberbrain I edited the question and used unique instance of the some Request class instead of User. Thanks for that note. And what should i use instead of using HashMap? Suggest please. Can you write a better alternative?","body":"@cyberbrain I edited the question and used unique instance of the some Request class instead of User. Thanks for that note. And what should i use instead of using HashMap? Suggest please. Can you write a better alternative?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688757350,"post_id":76639234,"comment_id":135121618,"body_markdown":"If `scheduledFutures` is being used by multiple threads, then use an implementation of [`ConcurrentMap`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentMap.html) or, if it makes more sense, add your own synchronization around the reads/writes of the map.","body":"If <code>scheduledFutures</code> is being used by multiple threads, then use an implementation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentMap</code></a> or, if it makes more sense, add your own synchronization around the reads/writes of the map."}],"answers":[{"comments":[{"owner":{"account_id":9308308,"reputation":103,"user_id":7660925,"display_name":"Behroozfar"},"score":0,"creation_date":1688830449,"post_id":76639681,"comment_id":135128119,"body_markdown":"Can i declare scheduledFutures variable as static for using it in main() method and some anonymous inner classes? is it right way or we have better option?","body":"Can i declare scheduledFutures variable as static for using it in main() method and some anonymous inner classes? is it right way or we have better option?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688909349,"post_id":76639681,"comment_id":135134754,"body_markdown":"You could declare it `static` and use it in `main()` but I would recommend that instead of this, you instanciate a class (e.g. `OurServer`)  in main and have it as member there.Try to minimize your `static` stuff as much as possible to improve testability. (For that you also could use dependency injection from Spring or Google Guice or any other framework for inversion of control)","body":"You could declare it <code>static</code> and use it in <code>main()</code> but I would recommend that instead of this, you instanciate a class (e.g. <code>OurServer</code>)  in main and have it as member there.Try to minimize your <code>static</code> stuff as much as possible to improve testability. (For that you also could use dependency injection from Spring or Google Guice or any other framework for inversion of control)"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688757518,"creation_date":1688757518,"answer_id":76639681,"question_id":76639234,"body_markdown":"You can do several improvements:\r\n\r\n1. Extract your `Runnable` into an inner class for better readability (you can use a record with a recent Java version).\r\n2. Use an implementation of `java.util.ConcurrentMap` - Java provides `java.util.concurrent.ConcurrentHashMap` and `java.util.concurrent.ConcurrentSkipListMap`, for your application both should be sufficient.\r\n3. You forgot to remove cancelled requests from your map.\r\n4. You did not try to remove the requests from the executor to prevent even the start.\r\n5. You have to take care that the request for cancellation is not being processed as long as you did not add the result of the call to `executor.schedule` to the map - otherwise the cancellation will be lost. I used the `computeIfAbsent` and `computeIfPresent` to add and remove the entries to the map, those are atomic.\r\n6. Small optimization: I added a custom thread factory that will create &quot;daemon threads&quot;. This means that the threads will not prevent your program from exiting. This is just to show you how to do it, in case you need it.\r\n\r\n``` lang-java\r\npackage examples.stackoverflow.q76639234;\r\n\r\nimport java.util.Map;\r\nimport java.util.concurrent.*;\r\n\r\npublic class OurServer {\r\n  private final ScheduledExecutorService executor = Executors.newScheduledThreadPool(100, new OurThreadFactory());\r\n  private final ConcurrentMap&lt;Request, ScheduledFuture&lt;?&gt;&gt; scheduledFutures = new ConcurrentHashMap&lt;&gt;();\r\n\r\n  public void createTaskRequest(Request req) {\r\n    scheduledFutures.computeIfAbsent(req, request -&gt; {\r\n      OurTaskRunnable command = new OurTaskRunnable(request, scheduledFutures);\r\n      return executor.schedule(command, 10, TimeUnit.SECONDS);\r\n    });\r\n  }\r\n\r\n  public void cancelTaskRequest(Request req) {\r\n    scheduledFutures.computeIfPresent(req, (r, future) -&gt; {\r\n      future.cancel(true);\r\n      return null; // this removes the value from the map\r\n    });\r\n\r\n  }\r\n\r\n  private record OurTaskRunnable(Request request, Map&lt;Request, ?&gt; schedulerMap) implements Runnable {\r\n\r\n    @Override\r\n    public void run() {\r\n      //doSomeTasks\r\n      schedulerMap.remove(request);\r\n    }\r\n  }\r\n\r\n  private static class OurThreadFactory implements ThreadFactory {\r\n    private final ThreadFactory delegate = Executors.defaultThreadFactory();\r\n\r\n    @Override\r\n    public Thread newThread(Runnable r) {\r\n      Thread thread = delegate.newThread(r);\r\n      thread.setDaemon(true);\r\n      return thread;\r\n    }\r\n  }\r\n}\r\n```","title":"Managing multiple ScheduledFuture instance in Java","body":"<p>You can do several improvements:</p>\n<ol>\n<li>Extract your <code>Runnable</code> into an inner class for better readability (you can use a record with a recent Java version).</li>\n<li>Use an implementation of <code>java.util.ConcurrentMap</code> - Java provides <code>java.util.concurrent.ConcurrentHashMap</code> and <code>java.util.concurrent.ConcurrentSkipListMap</code>, for your application both should be sufficient.</li>\n<li>You forgot to remove cancelled requests from your map.</li>\n<li>You did not try to remove the requests from the executor to prevent even the start.</li>\n<li>You have to take care that the request for cancellation is not being processed as long as you did not add the result of the call to <code>executor.schedule</code> to the map - otherwise the cancellation will be lost. I used the <code>computeIfAbsent</code> and <code>computeIfPresent</code> to add and remove the entries to the map, those are atomic.</li>\n<li>Small optimization: I added a custom thread factory that will create &quot;daemon threads&quot;. This means that the threads will not prevent your program from exiting. This is just to show you how to do it, in case you need it.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package examples.stackoverflow.q76639234;\n\nimport java.util.Map;\nimport java.util.concurrent.*;\n\npublic class OurServer {\n  private final ScheduledExecutorService executor = Executors.newScheduledThreadPool(100, new OurThreadFactory());\n  private final ConcurrentMap&lt;Request, ScheduledFuture&lt;?&gt;&gt; scheduledFutures = new ConcurrentHashMap&lt;&gt;();\n\n  public void createTaskRequest(Request req) {\n    scheduledFutures.computeIfAbsent(req, request -&gt; {\n      OurTaskRunnable command = new OurTaskRunnable(request, scheduledFutures);\n      return executor.schedule(command, 10, TimeUnit.SECONDS);\n    });\n  }\n\n  public void cancelTaskRequest(Request req) {\n    scheduledFutures.computeIfPresent(req, (r, future) -&gt; {\n      future.cancel(true);\n      return null; // this removes the value from the map\n    });\n\n  }\n\n  private record OurTaskRunnable(Request request, Map&lt;Request, ?&gt; schedulerMap) implements Runnable {\n\n    @Override\n    public void run() {\n      //doSomeTasks\n      schedulerMap.remove(request);\n    }\n  }\n\n  private static class OurThreadFactory implements ThreadFactory {\n    private final ThreadFactory delegate = Executors.defaultThreadFactory();\n\n    @Override\n    public Thread newThread(Runnable r) {\n      Thread thread = delegate.newThread(r);\n      thread.setDaemon(true);\n      return thread;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9308308,"reputation":103,"user_id":7660925,"display_name":"Behroozfar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76639681,"answer_count":1,"score":0,"last_activity_date":1688757518,"creation_date":1688752815,"question_id":76639234,"body_markdown":"Consider the following scenario:\r\nYou want to write a Java program that many users can interact with at the same time.\r\nWhen a user registers a request, the application must create a task for him, which will be done, for example, ten seconds later. But the user can cancel the task any time before it starts.\r\nThe question is, what is the best way to implement this scenario?\r\n\r\nConsider the following code snippet and optimize it if possible.\r\n\r\n```\r\npublic class OurServer {\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(100);\r\n    Map&lt;User, ScheduledFuture&lt;?&gt;&gt; scheduledFutures = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {}\r\n\r\n    public void createTaskRequest (Request req) {\r\n        ScheduledFuture&lt;?&gt; sf = executor.schedule(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                //doSomeTasks\r\n                scheduledFutures.remove(req);\r\n            }\r\n        }, 10, TimeUnit.SECONDS);\r\n        scheduledFutures.put(req,sf);\r\n    }\r\n\r\n    public void cancelTaskRequest (Request req) {\r\n        scheduledFutures.get(req).cancel(true);\r\n    }\r\n}\r\n```\r\n\r\nIs this way of using Map and ScheduledFuture classes correct? any better alternatives?","title":"Managing multiple ScheduledFuture instance in Java","body":"<p>Consider the following scenario:\nYou want to write a Java program that many users can interact with at the same time.\nWhen a user registers a request, the application must create a task for him, which will be done, for example, ten seconds later. But the user can cancel the task any time before it starts.\nThe question is, what is the best way to implement this scenario?</p>\n<p>Consider the following code snippet and optimize it if possible.</p>\n<pre><code>public class OurServer {\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(100);\n    Map&lt;User, ScheduledFuture&lt;?&gt;&gt; scheduledFutures = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {}\n\n    public void createTaskRequest (Request req) {\n        ScheduledFuture&lt;?&gt; sf = executor.schedule(new Runnable() {\n            @Override\n            public void run() {\n                //doSomeTasks\n                scheduledFutures.remove(req);\n            }\n        }, 10, TimeUnit.SECONDS);\n        scheduledFutures.put(req,sf);\n    }\n\n    public void cancelTaskRequest (Request req) {\n        scheduledFutures.get(req).cancel(true);\n    }\n}\n</code></pre>\n<p>Is this way of using Map and ScheduledFuture classes correct? any better alternatives?</p>\n"},{"tags":["java","android-studio","fragment","fragmentpageradapter"],"answers":[{"comments":[{"owner":{"account_id":28965588,"reputation":1,"user_id":22187121,"display_name":"Mustafa"},"score":0,"creation_date":1688745308,"post_id":76632335,"comment_id":135119621,"body_markdown":"It says &quot;FragmentStatePagerAdapter is deprecated&quot; too.\nWhat should I do?","body":"It says &quot;FragmentStatePagerAdapter is deprecated&quot; too. What should I do?"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1689199383,"post_id":76632335,"comment_id":135181362,"body_markdown":"Md. Kabir Hassan - Welcome back to Stack Overflow. It looks like it&#39;s been a while since you&#39;ve posted and may not be aware of the current policies since most or all seven of your recent answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting of AI-generated content is banned here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it. We do hope you&#39;ll stick around and continue to be a valuable part of our community by posting *your own* quality content. Thanks!","body":"Md. Kabir Hassan - Welcome back to Stack Overflow. It looks like it&#39;s been a while since you&#39;ve posted and may not be aware of the current policies since most or all seven of your recent answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting of AI-generated content is banned here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it. We do hope you&#39;ll stick around and continue to be a valuable part of our community by posting <i>your own</i> quality content. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1689199389,"post_id":76632335,"comment_id":135181363,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues."}],"tags":[],"owner":{"account_id":18992970,"reputation":81,"user_id":13861797,"display_name":"Md. Kabir Hassan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688675257,"creation_date":1688675257,"answer_id":76632335,"question_id":76632183,"body_markdown":"The **FragmentPagerAdapter** class in Android is indeed deprecated as of AndroidX library version **1.2.0**. It is recommended to use **FragmentStatePagerAdapter** or **FragmentPagerAdapter2** instead.\r\n\r\n 1. Replace **FragmentPagerAdapter** with **FragmentStatePagerAdapter**:\r\n\r\n    public static class ViewPagerAdapter extends FragmentStatePagerAdapter {\r\n\r\n 2. Update the constructor of ViewPagerAdapter to call the appropriate\r\n    superclass constructor:\r\n\r\n    public ViewPagerAdapter(@NonNull FragmentManager fm) {\r\n        super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n    }\r\n\r\nThese changes will ensure that you are using the recommended replacement for **FragmentPagerAdapter** and resolve the deprecation problem.","title":"FragmentPagerAdapter is deprecated problem","body":"<p>The <strong>FragmentPagerAdapter</strong> class in Android is indeed deprecated as of AndroidX library version <strong>1.2.0</strong>. It is recommended to use <strong>FragmentStatePagerAdapter</strong> or <strong>FragmentPagerAdapter2</strong> instead.</p>\n<ol>\n<li><p>Replace <strong>FragmentPagerAdapter</strong> with <strong>FragmentStatePagerAdapter</strong>:</p>\n<p>public static class ViewPagerAdapter extends FragmentStatePagerAdapter {</p>\n</li>\n<li><p>Update the constructor of ViewPagerAdapter to call the appropriate\nsuperclass constructor:</p>\n<p>public ViewPagerAdapter(@NonNull FragmentManager fm) {\nsuper(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n}</p>\n</li>\n</ol>\n<p>These changes will ensure that you are using the recommended replacement for <strong>FragmentPagerAdapter</strong> and resolve the deprecation problem.</p>\n"}],"owner":{"account_id":28965588,"reputation":1,"user_id":22187121,"display_name":"Mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688756613,"creation_date":1688673492,"question_id":76632183,"body_markdown":"Android Studio says fragment pager adapter is deprecated. \r\nHow can I remove this error? [here is the screenshot](https://i.stack.imgur.com/lPedx.png)\r\n\r\n    public static class ViewPagerAdapter extends FragmentPagerAdapter {\r\n        private ArrayList&lt;Fragment&gt; fragments;\r\n        private ArrayList&lt;String&gt; titles;\r\n        \r\n        public ViewPagerAdapter(@NonNull FragmentManager fm) {\r\n            super(fm);\r\n        }\r\n","title":"FragmentPagerAdapter is deprecated problem","body":"<p>Android Studio says fragment pager adapter is deprecated.\nHow can I remove this error? <a href=\"https://i.stack.imgur.com/lPedx.png\" rel=\"nofollow noreferrer\">here is the screenshot</a></p>\n<pre><code>public static class ViewPagerAdapter extends FragmentPagerAdapter {\n    private ArrayList&lt;Fragment&gt; fragments;\n    private ArrayList&lt;String&gt; titles;\n    \n    public ViewPagerAdapter(@NonNull FragmentManager fm) {\n        super(fm);\n    }\n</code></pre>\n"},{"tags":["java","spring","security"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1688748760,"post_id":76638774,"comment_id":135120296,"body_markdown":"Please include code, not images of code: see [Why not upload images of code errors when asking a question](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors). Edit the question and include code fragments.","body":"Please include code, not images of code: see <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why not upload images of code errors when asking a question</a>. Edit the question and include code fragments."},{"owner":{"account_id":28971512,"reputation":1,"user_id":22191705,"display_name":"qwertyclaim"},"score":0,"creation_date":1688756050,"post_id":76638774,"comment_id":135121459,"body_markdown":"Thank you for your comment! I&#39;ll be more careful!","body":"Thank you for your comment! I&#39;ll be more careful!"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1688760970,"post_id":76638774,"comment_id":135122113,"body_markdown":"as explained [here](https://stackoverflow.com/questions/53140629/spring-security-loginpage-vs-loginprocessingurl) `loginProcessingUrl()` *tells Spring Security to process the submitted credentials when sent the specified path and, by default, redirect user back to the page user came from. It will not pass the request to Spring MVC and your controller.* Most likely, if you just remove that line, it will work fine","body":"as explained <a href=\"https://stackoverflow.com/questions/53140629/spring-security-loginpage-vs-loginprocessingurl\">here</a> <code>loginProcessingUrl()</code> <i>tells Spring Security to process the submitted credentials when sent the specified path and, by default, redirect user back to the page user came from. It will not pass the request to Spring MVC and your controller.</i> Most likely, if you just remove that line, it will work fine"},{"owner":{"account_id":28971512,"reputation":1,"user_id":22191705,"display_name":"qwertyclaim"},"score":0,"creation_date":1688786827,"post_id":76638774,"comment_id":135124306,"body_markdown":"Thanks for your comment. I changed my ConfigSecurity class. I removed &quot;loginProcessingUrl()&quot; but the problem described above persists. What do you think about view? Action = &quot;/process_login&quot;. Maybe this&#39;s the problem too? If you think so what can I do that the problem left?","body":"Thanks for your comment. I changed my ConfigSecurity class. I removed &quot;loginProcessingUrl()&quot; but the problem described above persists. What do you think about view? Action = &quot;/process_login&quot;. Maybe this&#39;s the problem too? If you think so what can I do that the problem left?"}],"owner":{"account_id":28971512,"reputation":1,"user_id":22191705,"display_name":"qwertyclaim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688756587,"creation_date":1688747992,"question_id":76638774,"body_markdown":"How do you do! I started learning Spring Security. I read some articles and I managed to do Spring MVC application. I need to implement custom form login and I did it but when I try to authorize I can&#39;t see needed view.\r\n\r\nThis is the security config class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\r\n                    .formLogin((form) -&gt;\r\n                            form.loginPage(&quot;/auth/login&quot;)\r\n                                    .loginProcessingUrl(&quot;/process_login&quot;)\r\n                                    .defaultSuccessUrl(&quot;/hello&quot;, true)\r\n                                    .failureUrl(&quot;/auth/login?error&quot;)\r\n                                    .permitAll());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder encoder() {\r\n            return NoOpPasswordEncoder.getInstance();\r\n        }\r\n    }\r\n\r\nThis is my view where I can authorize:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Log in&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;form name=&quot;f&quot; method=&quot;post&quot; action=&quot;/process_login&quot;&gt;\r\n      &lt;label for=&quot;username&quot;&gt;Введите имя пользователя&lt;/label&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot;/&gt;\r\n      &lt;br/&gt;\r\n      &lt;label for=&quot;password&quot;&gt;Введите имя пользователя&lt;/label&gt;\r\n      &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot;/&gt;\r\n      &lt;br/&gt;\r\n      &lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\r\n    \r\n      &lt;div th:if=&quot;${param.error}&quot; style=&quot;color:royalblue&quot;&gt;\r\n          Неверный имя пользователя или логин\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nThis is my controller which return authorized form:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/auth&quot;)\r\n    public class AuthController {\r\n    \r\n        @GetMapping(&quot;/login&quot;)\r\n        public String getLoginPage() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nThis is my controller which return greeting:\r\n\r\n    @Controller\r\n    public class HelloController {\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String getGreetings() {\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\n\r\nWhen I start my application I get my custom form. I type data from DB and I expect to see view &quot;greeting&quot; but I still see my custom form without any errors. This is cyclicity. I can type another combinations login and password but I won&#39;t see any errors.\r\nP.S.: when I tried to authorize I get login and password for the user from my DB. I tried to enter the wrong username and password but I didn&#39;t see any information about errors.\r\nI&#39;m so sorry about my English skills but I can&#39;t to describe my problem better.","title":"Cyclicity in my program when I try to authorize (Spring Security)","body":"<p>How do you do! I started learning Spring Security. I read some articles and I managed to do Spring MVC application. I need to implement custom form login and I did it but when I try to authorize I can't see needed view.</p>\n<p>This is the security config class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\n                .formLogin((form) -&gt;\n                        form.loginPage(&quot;/auth/login&quot;)\n                                .loginProcessingUrl(&quot;/process_login&quot;)\n                                .defaultSuccessUrl(&quot;/hello&quot;, true)\n                                .failureUrl(&quot;/auth/login?error&quot;)\n                                .permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n}\n</code></pre>\n<p>This is my view where I can authorize:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Log in&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;form name=&quot;f&quot; method=&quot;post&quot; action=&quot;/process_login&quot;&gt;\n  &lt;label for=&quot;username&quot;&gt;Введите имя пользователя&lt;/label&gt;\n  &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot;/&gt;\n  &lt;br/&gt;\n  &lt;label for=&quot;password&quot;&gt;Введите имя пользователя&lt;/label&gt;\n  &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot;/&gt;\n  &lt;br/&gt;\n  &lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\n\n  &lt;div th:if=&quot;${param.error}&quot; style=&quot;color:royalblue&quot;&gt;\n      Неверный имя пользователя или логин\n  &lt;/div&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is my controller which return authorized form:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n\n    @GetMapping(&quot;/login&quot;)\n    public String getLoginPage() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>This is my controller which return greeting:</p>\n<pre><code>@Controller\npublic class HelloController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String getGreetings() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>When I start my application I get my custom form. I type data from DB and I expect to see view &quot;greeting&quot; but I still see my custom form without any errors. This is cyclicity. I can type another combinations login and password but I won't see any errors.\nP.S.: when I tried to authorize I get login and password for the user from my DB. I tried to enter the wrong username and password but I didn't see any information about errors.\nI'm so sorry about my English skills but I can't to describe my problem better.</p>\n"},{"tags":["java","spring","spring-mvc","gradle","thymeleaf"],"comments":[{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":1,"creation_date":1501873146,"post_id":45513227,"comment_id":77988758,"body_markdown":"It shouldn&#39;t be necessary to create a custom resource handler, because Spring Boot MVC serves static resources by default. What annotations do you have on your main application class? Some annotations disable autoconfiguration of static resources. [This post](https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot) from the Spring team might provide some useful info.","body":"It shouldn&#39;t be necessary to create a custom resource handler, because Spring Boot MVC serves static resources by default. What annotations do you have on your main application class? Some annotations disable autoconfiguration of static resources. <a href=\"https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot\" rel=\"nofollow noreferrer\">This post</a> from the Spring team might provide some useful info."},{"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"score":0,"creation_date":1501874285,"post_id":45513227,"comment_id":77989326,"body_markdown":"my main application class has the `@SpringBootApplication` and `@ComponentScan` anotation","body":"my main application class has the <code>@SpringBootApplication</code> and <code>@ComponentScan</code> anotation"},{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":1,"creation_date":1501875218,"post_id":45513227,"comment_id":77989801,"body_markdown":"I can&#39;t address the gradle question because I only use maven. Just to be clear, you are putting your static files in directory `your_app_folder/src/main/resources/static`, right?","body":"I can&#39;t address the gradle question because I only use maven. Just to be clear, you are putting your static files in directory <code>your_app_folder&#47;src&#47;main&#47;resources&#47;static</code>, right?"},{"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"score":0,"creation_date":1501878347,"post_id":45513227,"comment_id":77991256,"body_markdown":"i tried it but this lead to the same error. so i put it into `src/main/static`","body":"i tried it but this lead to the same error. so i put it into <code>src&#47;main&#47;static</code>"},{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":1,"creation_date":1501969728,"post_id":45513227,"comment_id":78013600,"body_markdown":"Does your application.properties file have a `server.servlet-path` setting? Are there any thymeleaf properties defined in application.properties? If so, please post them. I suspect we are overlooking something obvious. In fact, please post any configuration classes too.","body":"Does your application.properties file have a <code>server.servlet-path</code> setting? Are there any thymeleaf properties defined in application.properties? If so, please post them. I suspect we are overlooking something obvious. In fact, please post any configuration classes too."},{"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"score":0,"creation_date":1501970833,"post_id":45513227,"comment_id":78013825,"body_markdown":"No I don&#39;t have any settings or additional properties I really appreciate your help. But its midnight over here. I will upload my whole project to GitHub tomorrow. So you can have a look at it then.","body":"No I don&#39;t have any settings or additional properties I really appreciate your help. But its midnight over here. I will upload my whole project to GitHub tomorrow. So you can have a look at it then."},{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":0,"creation_date":1501972611,"post_id":45513227,"comment_id":78014170,"body_markdown":"Sounds like a plan.","body":"Sounds like a plan."}],"answers":[{"comments":[{"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"score":0,"creation_date":1501878478,"post_id":45514300,"comment_id":77991317,"body_markdown":"i know that it should be like that. but it leads to the same error.","body":"i know that it should be like that. but it leads to the same error."},{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":1,"creation_date":1501890394,"post_id":45514300,"comment_id":77995020,"body_markdown":"Are you using Spring Security? If so, how is it set up? I ask because HTTP status code 405 &quot;Method not allowed&quot; sounds more like a privileges problem than a case of Spring not finding the static resource.","body":"Are you using Spring Security? If so, how is it set up? I ask because HTTP status code 405 &quot;Method not allowed&quot; sounds more like a privileges problem than a case of Spring not finding the static resource."},{"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"score":0,"creation_date":1501915449,"post_id":45514300,"comment_id":77998985,"body_markdown":"No I am not using spring security.","body":"No I am not using spring security."},{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":1,"creation_date":1501920760,"post_id":45514300,"comment_id":78000132,"body_markdown":"If your image is at `your_app/src/main/resources/static/img/png-test.png`, the path in the img tag should be `src=&quot;/img/png-test.png&quot;`.","body":"If your image is at <code>your_app&#47;src&#47;main&#47;resources&#47;static&#47;img&#47;png-test.png</code>, the path in the img tag should be <code>src=&quot;&#47;img&#47;png-test.png&quot;</code>."},{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":1,"creation_date":1501949642,"post_id":45514300,"comment_id":78007944,"body_markdown":"Does any class have the @EnableWebMvc annotation? If so, remove it: the annotation disables some of Spring Boot&#39;s autoconfiguration behavior, as described [here](https://techblog.bozho.net/spring-boot-enablewebmvc-common-use-cases/).","body":"Does any class have the @EnableWebMvc annotation? If so, remove it: the annotation disables some of Spring Boot&#39;s autoconfiguration behavior, as described <a href=\"https://techblog.bozho.net/spring-boot-enablewebmvc-common-use-cases/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"score":0,"creation_date":1501968826,"post_id":45514300,"comment_id":78013413,"body_markdown":"No not anymore.","body":"No not anymore."},{"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"score":0,"creation_date":1502021701,"post_id":45514300,"comment_id":78023773,"body_markdown":"i edited the questions. i think the method not allowed makes more sense now.","body":"i edited the questions. i think the method not allowed makes more sense now."},{"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"score":0,"creation_date":1502030609,"post_id":45514300,"comment_id":78026272,"body_markdown":"I saw the update. The errors occur on a POST to / ? I don&#39;t follow. Please provide enough code to replicate the error or describe the specific chain of events that leads to the error.","body":"I saw the update. The errors occur on a POST to / ? I don&#39;t follow. Please provide enough code to replicate the error or describe the specific chain of events that leads to the error."}],"tags":[],"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501875474,"creation_date":1501875474,"answer_id":45514300,"question_id":45513227,"body_markdown":"By default, Spring Boot will serve static resources from either `your_app_dir/srce/main/resources/static` or `your_app_dir/srce/main/resources/public`. If you are putting your static resources elsewhere, move the static resources into one of these directories and you should be good to go.","title":"spring thymeleaf static content HTTP 405","body":"<p>By default, Spring Boot will serve static resources from either <code>your_app_dir/srce/main/resources/static</code> or <code>your_app_dir/srce/main/resources/public</code>. If you are putting your static resources elsewhere, move the static resources into one of these directories and you should be good to go.</p>\n"},{"comments":[{"owner":{"account_id":6135525,"reputation":327,"user_id":4784521,"display_name":"Peter YuChen waNgamer"},"score":0,"creation_date":1550140952,"post_id":45533458,"comment_id":96164833,"body_markdown":"Thank you for your help. It sounds like a joke but in my project, a &quot;name&quot; instead of &quot;value&quot; mistake somewhat disabled the static resources mapping.","body":"Thank you for your help. It sounds like a joke but in my project, a &quot;name&quot; instead of &quot;value&quot; mistake somewhat disabled the static resources mapping."}],"tags":[],"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1502032688,"creation_date":1502032688,"answer_id":45533458,"question_id":45513227,"body_markdown":"I just noticed that i was just stupid. \r\ni wrote \r\n\r\n`@RequestMapping(name = &quot;/&quot;, method = RequestMethod.POST)`\r\n\r\ninstead of \r\n\r\n`@RequestMapping(value = &quot;/&quot;, method = RequestMethod.POST)`\r\n\r\nover a function in my controller. which mapped this function to `/**` So my requests to any static content was routed to this function which only accepted the `POST` method. \r\n\r\nBut still a big thnx to @Kirby \r\n ","title":"spring thymeleaf static content HTTP 405","body":"<p>I just noticed that i was just stupid. \ni wrote </p>\n\n<p><code>@RequestMapping(name = \"/\", method = RequestMethod.POST)</code></p>\n\n<p>instead of </p>\n\n<p><code>@RequestMapping(value = \"/\", method = RequestMethod.POST)</code></p>\n\n<p>over a function in my controller. which mapped this function to <code>/**</code> So my requests to any static content was routed to this function which only accepted the <code>POST</code> method. </p>\n\n<p>But still a big thnx to @Kirby </p>\n"}],"owner":{"account_id":4980096,"reputation":506,"user_id":4005346,"accept_rate":100,"display_name":"minzchickenflavor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45533458,"answer_count":2,"score":1,"last_activity_date":1688755857,"creation_date":1501870784,"question_id":45513227,"body_markdown":"I am working with spring boot an thymeleaf and try to get an image from the application.\r\n\r\n       &lt;img th:src=&quot;@{/static/img/png-test.png}&quot;/&gt;\r\n\r\n\r\nthis is my tag in my template file. which gets rendered to\r\n\r\n    &lt;img src=&quot;/static/img/png-test.png&quot;&gt;\r\n\r\nI already tried to add my own ResourceHandler\r\n\r\n      @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\r\n    }\r\n\r\nwhich seems to work because on startup I get the following message\r\n\r\n    2017-08-04 20:16:02.926  INFO 15234 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n\r\n\r\nbut there is no image showing up inside the browser. instead I get the following error in the browser console\r\n\r\n&gt;GET http://localhost:8080/static/img/png-test.png 405 ()\r\n\r\nSpring logs the following\r\n\r\n    2017-08-04 19:59:20.265  WARN 14705 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : Request method &#39;GET&#39; not supported\r\n\r\n\r\nEDIT: \r\nCould it be a problem that i added this to my `build.gradle` file\r\n\r\n\r\n    jar {\r\n        from(&#39;src/main/&#39;) {\r\n            include &#39;static/&#39;\r\n    \r\n        }\r\n    }\r\n\r\n\r\nbecause otherwise gradle never put the static folder into the jar\r\n\r\n\r\nEDIT:\r\nI found out what is needed to reproduce the failure\r\n\r\nI have a function inside my controller which looks like this\r\n\r\n\r\n    @RequestMapping(name = &quot;/&quot;, method = RequestMethod.POST)\r\n    public String func(@RequestParam(name = &quot;var1&quot;) String var1, @RequestParam(name = &quot;var2&quot;) String var2){\r\n        return &quot;templatename&quot;;\r\n    }\r\n\r\n\r\nWhen I uncomment the function I am able to receive static content.\r\nat least method not allowed makes sense now. because it is expecting a POST.\r\n\r\nSo how can I fix this without having to remap the function? ","title":"spring thymeleaf static content HTTP 405","body":"<p>I am working with spring boot an thymeleaf and try to get an image from the application.</p>\n<pre><code>   &lt;img th:src=&quot;@{/static/img/png-test.png}&quot;/&gt;\n</code></pre>\n<p>this is my tag in my template file. which gets rendered to</p>\n<pre><code>&lt;img src=&quot;/static/img/png-test.png&quot;&gt;\n</code></pre>\n<p>I already tried to add my own ResourceHandler</p>\n<pre><code>  @Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\n}\n</code></pre>\n<p>which seems to work because on startup I get the following message</p>\n<pre><code>2017-08-04 20:16:02.926  INFO 15234 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n</code></pre>\n<p>but there is no image showing up inside the browser. instead I get the following error in the browser console</p>\n<blockquote>\n<p>GET http://localhost:8080/static/img/png-test.png 405 ()</p>\n</blockquote>\n<p>Spring logs the following</p>\n<pre><code>2017-08-04 19:59:20.265  WARN 14705 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : Request method 'GET' not supported\n</code></pre>\n<p>EDIT:\nCould it be a problem that i added this to my <code>build.gradle</code> file</p>\n<pre><code>jar {\n    from('src/main/') {\n        include 'static/'\n\n    }\n}\n</code></pre>\n<p>because otherwise gradle never put the static folder into the jar</p>\n<p>EDIT:\nI found out what is needed to reproduce the failure</p>\n<p>I have a function inside my controller which looks like this</p>\n<pre><code>@RequestMapping(name = &quot;/&quot;, method = RequestMethod.POST)\npublic String func(@RequestParam(name = &quot;var1&quot;) String var1, @RequestParam(name = &quot;var2&quot;) String var2){\n    return &quot;templatename&quot;;\n}\n</code></pre>\n<p>When I uncomment the function I am able to receive static content.\nat least method not allowed makes sense now. because it is expecting a POST.</p>\n<p>So how can I fix this without having to remap the function?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1688755001,"post_id":76639372,"comment_id":135121303,"body_markdown":"synchronizing on `lock` but calling `wait()` (and `notify()`) on `this`, which is NOT `lock`. [JavaDoc]9https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#wait()): &quot;*This method should only be called by a thread that is the owner of this object&#39;s monitor. A thread becomes the owner of the object&#39;s monitor in one of three ways:  * By executing a synchronized instance method of that object. * By executing the body of a synchronized statement that synchronizes on the object. * For objects of type Class, by executing a static synchronized method of that class.*&quot;","body":"synchronizing on <code>lock</code> but calling <code>wait()</code> (and <code>notify()</code>) on <code>this</code>, which is NOT <code>lock</code>. [JavaDoc]9https://docs.oracle.com/en/java/javase/20/docs/api&zwnj;&#8203;/java.base/java/lang&zwnj;&#8203;/Object.html#wait())&zwnj;&#8203;: &quot;<i>This method should only be called by a thread that is the owner of this object&#39;s monitor. A thread becomes the owner of the object&#39;s monitor in one of three ways:  * By executing a synchronized instance method of that object. * By executing the body of a synchronized statement that synchronizes on the object. * For objects of type Class, by executing a static synchronized method of that class.</i>&quot;"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688755865,"post_id":76639372,"comment_id":135121427,"body_markdown":"Please use [code format](https://stackoverflow.com/editing-help#code) not only for code but also errors and logs.","body":"Please use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> not only for code but also errors and logs."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1688757574,"post_id":76639372,"comment_id":135121639,"body_markdown":"Also, initializing your `lock` with a string constant is a bad choice. Since string constants are shared at runtime all other synchronized blocks that happen to synchronize on the same string constant &quot;lock&quot; will synchronize on that same lock. You should use `final Object lock = new Object();` to declare and initialize your lock object.","body":"Also, initializing your <code>lock</code> with a string constant is a bad choice. Since string constants are shared at runtime all other synchronized blocks that happen to synchronize on the same string constant &quot;lock&quot; will synchronize on that same lock. You should use <code>final Object lock = new Object();</code> to declare and initialize your lock object."}],"owner":{"account_id":28712118,"reputation":21,"user_id":21987433,"display_name":"sumanth paramkusam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688755834,"creation_date":1688753994,"question_id":76639372,"body_markdown":"```\r\nclass EvenOddPrint {\r\n  public Object lock = &quot;lock&quot;;\r\n  public boolean isEven = true;\r\n  public void evenNumber() \r\n  {\r\n   for(int i = 0; i &lt;= 20; i++) \r\n     {\r\n      synchronized (lock)\r\n      {\r\n        while (!isEven) {\r\n          try {\r\n            wait();\r\n          } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n        if (i % 2 == 0) {\r\n          System.out.println(&quot;Even Thread and my even number is  &quot; + i);\r\n          isEven = false;\r\n          notify();\r\n        }\r\n      }\r\n    }\r\n}\r\n\r\n  public void oddNumber() {\r\n    boolean str = false;\r\n    for (int i = 0; i &lt;= 20; i++) {\r\n      synchronized (lock) {\r\n        while (isEven) {\r\n          try {\r\n            wait();\r\n          } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n\r\n        if (i % 2 != 0) {\r\n          System.out.println(&quot;Odd thread and my Odd number is &quot; + i);\r\n          isEven = true;\r\n          notify();\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\npublic class ThreadExercisesClass {\r\n  public static void main(String args[]) throws InterruptedException {\r\n    EvenOddPrint e = new EvenOddPrint();\r\n    Thread t1 = new Thread(() -&gt; e.evenNumber());\r\n    Thread t2 = new Thread(() -&gt; e.oddNumber());\r\n    t1.start();\r\n    t2.start();\r\n  }\r\n}\r\n```\r\n\r\nI’m trying to print 1 Even and 1 odd number from 0 to 20 using 2 threads, One for Even other for Odd and I need it alternatively, So I tried implementing below code.\r\n1.It worked properly if I use 1. synchronized(this), 2. synchronized(lock) that when lock = new Object()\r\n2.It didn’t work when lock is some String as shown below and giving IllegalMonitorException, I couldn’t understand it properly, Can someone explain it?\r\n\r\n**output:** \r\n```\r\nEven Thread and my even number is 0\r\nOdd thread and my Odd number is 1\r\nException in thread &quot;Thread-0&quot; java.lang**.IllegalMonitorStateException**: **current thread is not owner**\r\nException in thread &quot;Thread-1&quot; java.lang.IllegalMonitorStateException: current thread is not owner\r\n```","title":"Can anyone help in understanding why my Code is giving IllegalMonitorException()?","body":"<pre><code>class EvenOddPrint {\n  public Object lock = &quot;lock&quot;;\n  public boolean isEven = true;\n  public void evenNumber() \n  {\n   for(int i = 0; i &lt;= 20; i++) \n     {\n      synchronized (lock)\n      {\n        while (!isEven) {\n          try {\n            wait();\n          } catch (InterruptedException e) {\n            e.printStackTrace();\n          }\n        }\n        if (i % 2 == 0) {\n          System.out.println(&quot;Even Thread and my even number is  &quot; + i);\n          isEven = false;\n          notify();\n        }\n      }\n    }\n}\n\n  public void oddNumber() {\n    boolean str = false;\n    for (int i = 0; i &lt;= 20; i++) {\n      synchronized (lock) {\n        while (isEven) {\n          try {\n            wait();\n          } catch (InterruptedException e) {\n            e.printStackTrace();\n          }\n        }\n\n        if (i % 2 != 0) {\n          System.out.println(&quot;Odd thread and my Odd number is &quot; + i);\n          isEven = true;\n          notify();\n        }\n      }\n    }\n  }\n}\n\npublic class ThreadExercisesClass {\n  public static void main(String args[]) throws InterruptedException {\n    EvenOddPrint e = new EvenOddPrint();\n    Thread t1 = new Thread(() -&gt; e.evenNumber());\n    Thread t2 = new Thread(() -&gt; e.oddNumber());\n    t1.start();\n    t2.start();\n  }\n}\n</code></pre>\n<p>I’m trying to print 1 Even and 1 odd number from 0 to 20 using 2 threads, One for Even other for Odd and I need it alternatively, So I tried implementing below code.\n1.It worked properly if I use 1. synchronized(this), 2. synchronized(lock) that when lock = new Object()\n2.It didn’t work when lock is some String as shown below and giving IllegalMonitorException, I couldn’t understand it properly, Can someone explain it?</p>\n<p><strong>output:</strong></p>\n<pre><code>Even Thread and my even number is 0\nOdd thread and my Odd number is 1\nException in thread &quot;Thread-0&quot; java.lang**.IllegalMonitorStateException**: **current thread is not owner**\nException in thread &quot;Thread-1&quot; java.lang.IllegalMonitorStateException: current thread is not owner\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":4849026,"reputation":51,"user_id":3911863,"display_name":"Shyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688755116,"creation_date":1688754538,"question_id":76639412,"body_markdown":"When I initially started migrating from Spring MVC to Spring Boot 2 I was facing issue related freemarker JspTagLib\r\nThat got solved by doing some workaround.\r\n\r\n```\r\n&lt;#assign security=JspTaglibs[&quot;http://www.springframework.org/security/tags&quot;]/&gt;\r\n\r\n&lt;@security.authorize access=&quot;isAuthenticated()&quot;&gt;\r\n    &lt;@security.authentication property=&quot;principal.username&quot;/&gt;\r\n&lt;/@security.authorize&gt;\r\n\r\n```\r\nReferred: https://vorba.ch/2018/spring-boot-freemarker-security-jsp-taglib.html \r\n\r\nAbove code is working fine Spring Boot 2\r\n\r\nNow I am upgrading Spring Boot 3 then its not working.\r\nThing which I have added for working in Spring Boot 2, In Boot 3 class field(TaglibFactory) removed.\r\n```\r\nfreeMarkerConfigurer.getTaglibFactory().setClasspathTlds(…);\r\n``` \r\n\r\nCould you please help here?\r\n","title":"Freemarker JSPTaglib issue while upgrading to Spring Boot 3 and java 17","body":"<p>When I initially started migrating from Spring MVC to Spring Boot 2 I was facing issue related freemarker JspTagLib\nThat got solved by doing some workaround.</p>\n<pre><code>&lt;#assign security=JspTaglibs[&quot;http://www.springframework.org/security/tags&quot;]/&gt;\n\n&lt;@security.authorize access=&quot;isAuthenticated()&quot;&gt;\n    &lt;@security.authentication property=&quot;principal.username&quot;/&gt;\n&lt;/@security.authorize&gt;\n\n</code></pre>\n<p>Referred: <a href=\"https://vorba.ch/2018/spring-boot-freemarker-security-jsp-taglib.html\" rel=\"nofollow noreferrer\">https://vorba.ch/2018/spring-boot-freemarker-security-jsp-taglib.html</a></p>\n<p>Above code is working fine Spring Boot 2</p>\n<p>Now I am upgrading Spring Boot 3 then its not working.\nThing which I have added for working in Spring Boot 2, In Boot 3 class field(TaglibFactory) removed.</p>\n<pre><code>freeMarkerConfigurer.getTaglibFactory().setClasspathTlds(…);\n</code></pre>\n<p>Could you please help here?</p>\n"},{"tags":["java","html","jsp","servlets"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1688755945,"post_id":76639308,"comment_id":135121441,"body_markdown":"Simply put DocTab.jsp in WEB-INF to prevent it from being opened directly without that the MainServlet is invoked and then change iframe&#39;s URL to point MainServlet instead of DocTab.jsp. See abovelinked duplicate.","body":"Simply put DocTab.jsp in WEB-INF to prevent it from being opened directly without that the MainServlet is invoked and then change iframe&#39;s URL to point MainServlet instead of DocTab.jsp. See abovelinked duplicate."},{"owner":{"account_id":10163658,"reputation":13,"user_id":9753394,"display_name":"user9753394"},"score":0,"creation_date":1688758288,"post_id":76639308,"comment_id":135121720,"body_markdown":"its worked, but another problem is that DocTab.jsp include a modal `&lt;iframe id=&quot;revise-docs-iframe&quot; src=&quot;ReviseDocs.jsp&quot;&gt;&lt;/iframe&gt;` when i put in WEB-INF, ReviseDocs.jsp is not accessible. i put ReviseDocs.jsp to WEB-INF too but does not work again.","body":"its worked, but another problem is that DocTab.jsp include a modal <code>&lt;iframe id=&quot;revise-docs-iframe&quot; src=&quot;ReviseDocs.jsp&quot;&gt;&lt;&#47;iframe&gt;</code> when i put in WEB-INF, ReviseDocs.jsp is not accessible. i put ReviseDocs.jsp to WEB-INF too but does not work again."},{"owner":{"account_id":10163658,"reputation":13,"user_id":9753394,"display_name":"user9753394"},"score":0,"creation_date":1688759081,"post_id":76639308,"comment_id":135121825,"body_markdown":"i change src of iframe as `&lt;iframe id=&quot;revise-docs-iframe&quot; src=&quot;${pageContext.request.contextPath}/ReviseDocs.jsp&quot;&gt;&lt;/iframe&gt;` and its worked. thank you","body":"i change src of iframe as <code>&lt;iframe id=&quot;revise-docs-iframe&quot; src=&quot;${pageContext.request.contextPath}&#47;ReviseDocs.jsp&quot;&gt;&lt;&#47;if&zwnj;&#8203;rame&gt;</code> and its worked. thank you"}],"owner":{"account_id":10163658,"reputation":13,"user_id":9753394,"display_name":"user9753394"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688755783,"answer_count":0,"score":0,"last_activity_date":1688755015,"creation_date":1688753411,"question_id":76639308,"body_markdown":"I have a simple `login.jsp` and `loginservlet` that check users, if username is correct then open `Main.jsp` page.\r\n`login.jsp` is my default page when run my webapp.\r\n`Main.jsp` has 2 tabs, the second tab use `DocTab.jsp` as **iframe**.\r\n`DocTab.jsp` has a table that fill by a list from `MainServlet`.\r\n\r\nWhen I use `http://localhost:8080/MyWebApp/MainServlet` the `DocTab.jsp` is displayed and table is filled, but when I run webapp after username and password checking in `login.jsp` the `Main.jsp` is running but second tab (DocTab.jsp) displayed by this **error:**\r\n\r\n&gt; org.apache.jasper.JasperException: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.size()&quot; because &quot;dataList&quot; is null\r\n\r\n[![error][1]][1]\r\n\r\n**login.jsp**\r\n\r\n```\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;Login&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form action=&quot;LoginServlet&quot; method=&quot;post&quot;&gt;\r\n        Username: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;\r\n        Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n```\r\n\r\n**loginServlet**\r\n```\r\n    package com.example.simplewebapp;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    @WebServlet(&quot;/LoginServlet&quot;)\r\n    public class LoginServlet extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            String username = request.getParameter(&quot;username&quot;);\r\n            String password = request.getParameter(&quot;password&quot;);\r\n            if(username.equals(&quot;1&quot;) &amp;&amp; password.equals(&quot;1&quot;)) {\r\n                response.sendRedirect(&quot;Main.jsp&quot;);\r\n            } else {\r\n                response.sendRedirect(&quot;login.jsp&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n**Main.jsp**\r\n\r\n```\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;Main&lt;/title&gt;\r\n    \r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Welcome to the Main Page!&lt;/h1&gt;\r\n    &lt;ul&gt;\r\n        &lt;li&gt;&lt;a href=&quot;#tab1&quot;&gt;Tab 1&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li&gt;&lt;a href=&quot;#tab2&quot;&gt;Document Tab&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    \r\n    &lt;div id=&quot;tab1&quot;&gt;\r\n        &lt;p&gt;Content for Tab 1.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;div id=&quot;tab2&quot;&gt;\r\n        &lt;iframe src=&quot;DocTab.jsp&quot;&gt;&lt;/iframe&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n```\r\n\r\n**MainServlet**\r\n\r\n```\r\n    package com.example.simplewebapp;\r\n    \r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.*;\r\n    import jakarta.servlet.annotation.*;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @WebServlet(&quot;/MainServlet&quot;)\r\n    public class MainServlet extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            List&lt;String&gt; dataList = new ArrayList&lt;String&gt;();\r\n            dataList.add(&quot;Data 1&quot;);\r\n            dataList.add(&quot;Data 2&quot;);\r\n            dataList.add(&quot;Data 3&quot;);\r\n            dataList.add(&quot;Data 4&quot;);\r\n            dataList.add(&quot;Data 5&quot;);\r\n    \r\n            request.setAttribute(&quot;dataList&quot;, dataList);\r\n            request.getRequestDispatcher(&quot;DocTab.jsp&quot;).forward(request, response);\r\n        }\r\n    }\r\n```\r\n\r\n**DocTab.jsp**\r\n\r\n```\r\n    &lt;%@ page import=&quot;java.util.List&quot; %&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n        &lt;title&gt;Document Tab&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;table border=1 &gt;\r\n        &lt;tr&gt;&lt;th&gt;Column 1&lt;/th&gt;&lt;th&gt;Column 2&lt;/th&gt;&lt;/tr&gt;\r\n    \r\n        &lt;% List&lt;String&gt; dataList = (List&lt;String&gt;) request.getAttribute(&quot;dataList&quot;);\r\n            for(int i=0; i&lt;dataList.size(); i++) { %&gt;\r\n    \r\n        &lt;tr&gt;&lt;td&gt;&lt;%=dataList.get(i)%&gt;&lt;/td&gt;&lt;td&gt;Row &lt;%=i+1%&gt;, Column 2&lt;/td&gt;&lt;/tr&gt;\r\n    \r\n        &lt;% } %&gt;\r\n    \r\n    &lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JksAU.png","title":"Can not fill table inside tab that is displayed as ifram within another JSP","body":"<p>I have a simple <code>login.jsp</code> and <code>loginservlet</code> that check users, if username is correct then open <code>Main.jsp</code> page.\n<code>login.jsp</code> is my default page when run my webapp.\n<code>Main.jsp</code> has 2 tabs, the second tab use <code>DocTab.jsp</code> as <strong>iframe</strong>.\n<code>DocTab.jsp</code> has a table that fill by a list from <code>MainServlet</code>.</p>\n<p>When I use <code>http://localhost:8080/MyWebApp/MainServlet</code> the <code>DocTab.jsp</code> is displayed and table is filled, but when I run webapp after username and password checking in <code>login.jsp</code> the <code>Main.jsp</code> is running but second tab (DocTab.jsp) displayed by this <strong>error:</strong></p>\n<blockquote>\n<p>org.apache.jasper.JasperException: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.size()&quot; because &quot;dataList&quot; is null</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/JksAU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JksAU.png\" alt=\"error\" /></a></p>\n<p><strong>login.jsp</strong></p>\n<pre><code>    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n        &lt;title&gt;Login&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;form action=&quot;LoginServlet&quot; method=&quot;post&quot;&gt;\n        Username: &lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;\n        Password: &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\n    &lt;/form&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n<p><strong>loginServlet</strong></p>\n<pre><code>    package com.example.simplewebapp;\n    import jakarta.servlet.ServletException;\n    import jakarta.servlet.annotation.WebServlet;\n    import jakarta.servlet.http.HttpServlet;\n    import jakarta.servlet.http.HttpServletRequest;\n    import jakarta.servlet.http.HttpServletResponse;\n    import java.io.IOException;\n    @WebServlet(&quot;/LoginServlet&quot;)\n    public class LoginServlet extends HttpServlet {\n        private static final long serialVersionUID = 1L;\n    \n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            String username = request.getParameter(&quot;username&quot;);\n            String password = request.getParameter(&quot;password&quot;);\n            if(username.equals(&quot;1&quot;) &amp;&amp; password.equals(&quot;1&quot;)) {\n                response.sendRedirect(&quot;Main.jsp&quot;);\n            } else {\n                response.sendRedirect(&quot;login.jsp&quot;);\n            }\n        }\n    }\n</code></pre>\n<p><strong>Main.jsp</strong></p>\n<pre><code>    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n        &lt;title&gt;Main&lt;/title&gt;\n    \n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;h1&gt;Welcome to the Main Page!&lt;/h1&gt;\n    &lt;ul&gt;\n        &lt;li&gt;&lt;a href=&quot;#tab1&quot;&gt;Tab 1&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=&quot;#tab2&quot;&gt;Document Tab&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n    \n    &lt;div id=&quot;tab1&quot;&gt;\n        &lt;p&gt;Content for Tab 1.&lt;/p&gt;\n    &lt;/div&gt;\n    \n    &lt;div id=&quot;tab2&quot;&gt;\n        &lt;iframe src=&quot;DocTab.jsp&quot;&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n    \n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n<p><strong>MainServlet</strong></p>\n<pre><code>    package com.example.simplewebapp;\n    \n    import jakarta.servlet.*;\n    import jakarta.servlet.http.*;\n    import jakarta.servlet.annotation.*;\n    import java.io.IOException;\n    import java.util.ArrayList;\n    import java.util.List;\n    \n    @WebServlet(&quot;/MainServlet&quot;)\n    public class MainServlet extends HttpServlet {\n        private static final long serialVersionUID = 1L;\n    \n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            List&lt;String&gt; dataList = new ArrayList&lt;String&gt;();\n            dataList.add(&quot;Data 1&quot;);\n            dataList.add(&quot;Data 2&quot;);\n            dataList.add(&quot;Data 3&quot;);\n            dataList.add(&quot;Data 4&quot;);\n            dataList.add(&quot;Data 5&quot;);\n    \n            request.setAttribute(&quot;dataList&quot;, dataList);\n            request.getRequestDispatcher(&quot;DocTab.jsp&quot;).forward(request, response);\n        }\n    }\n</code></pre>\n<p><strong>DocTab.jsp</strong></p>\n<pre><code>    &lt;%@ page import=&quot;java.util.List&quot; %&gt;\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n        &lt;title&gt;Document Tab&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    \n    &lt;table border=1 &gt;\n        &lt;tr&gt;&lt;th&gt;Column 1&lt;/th&gt;&lt;th&gt;Column 2&lt;/th&gt;&lt;/tr&gt;\n    \n        &lt;% List&lt;String&gt; dataList = (List&lt;String&gt;) request.getAttribute(&quot;dataList&quot;);\n            for(int i=0; i&lt;dataList.size(); i++) { %&gt;\n    \n        &lt;tr&gt;&lt;td&gt;&lt;%=dataList.get(i)%&gt;&lt;/td&gt;&lt;td&gt;Row &lt;%=i+1%&gt;, Column 2&lt;/td&gt;&lt;/tr&gt;\n    \n        &lt;% } %&gt;\n    \n    &lt;/table&gt;\n    \n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-juno"],"comments":[{"owner":{"account_id":5432976,"reputation":1857,"user_id":4323229,"accept_rate":69,"display_name":"Keval"},"score":0,"creation_date":1430839622,"post_id":30057054,"comment_id":48229031,"body_markdown":"see this : http://stackoverflow.com/questions/3811012/can-not-compile-enums-in-eclipse","body":"see this : <a href=\"http://stackoverflow.com/questions/3811012/can-not-compile-enums-in-eclipse\" title=\"can not compile enums in eclipse\">stackoverflow.com/questions/3811012/&hellip;</a>"},{"owner":{"account_id":28542,"reputation":160910,"user_id":76337,"accept_rate":70,"display_name":"John Saunders"},"score":0,"creation_date":1430845317,"post_id":30057054,"comment_id":48232829,"body_markdown":"Unlike forum sites, we don&#39;t use &quot;Thanks&quot;, or &quot;Any help appreciated&quot;, or signatures on [so]. See &quot;[Should &#39;Hi&#39;, &#39;thanks,&#39; taglines, and salutations be removed from posts?](http://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts). BTW, it&#39;s &quot;Thanks in advance&quot;, not &quot;Thanks in advanced&quot;.","body":"Unlike forum sites, we don&#39;t use &quot;Thanks&quot;, or &quot;Any help appreciated&quot;, or signatures on <a href=\"https://stackoverflow.com\">Stack Overflow</a>. See &quot;<a href=\"http://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts\">Should &#39;Hi&#39;, &#39;thanks,&#39; taglines, and salutations be removed from posts?</a>. BTW, it&#39;s &quot;Thanks in advance&quot;, not &quot;Thanks in advanced&quot;."}],"answers":[{"comments":[{"owner":{"account_id":367739,"reputation":1068,"user_id":714104,"accept_rate":20,"display_name":"Dominik"},"score":1,"creation_date":1619300804,"post_id":65385788,"comment_id":118865076,"body_markdown":"I just had the same problem, and in my case I had to clean the project using Project-&gt;Clean.","body":"I just had the same problem, and in my case I had to clean the project using Project-&gt;Clean."}],"tags":[],"owner":{"account_id":20203092,"reputation":61,"user_id":14818279,"display_name":"Tom Osterfeld"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1608506479,"creation_date":1608506479,"answer_id":65385788,"question_id":30057054,"body_markdown":"I had the same issue and I just restarted my IDE and it worked","title":"The type java.lang.Enum cannot be resolved - Getting error after importing Java project in Eclipse","body":"<p>I had the same issue and I just restarted my IDE and it worked</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":5,"creation_date":1622813172,"post_id":67837600,"comment_id":119906480,"body_markdown":"Classes in package `java.lang` are always imported automatically and therefore do not need to be explicitly imported. Hence no need to add `import java.lang.Enum`.","body":"Classes in package <code>java.lang</code> are always imported automatically and therefore do not need to be explicitly imported. Hence no need to add <code>import java.lang.Enum</code>."}],"tags":[],"owner":{"account_id":21833673,"reputation":1,"user_id":16128287,"display_name":"Kirthiga S"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622811221,"creation_date":1622811221,"answer_id":67837600,"question_id":30057054,"body_markdown":"Import this java.lang.Enum. It works for me.","title":"The type java.lang.Enum cannot be resolved - Getting error after importing Java project in Eclipse","body":"<p>Import this java.lang.Enum. It works for me.</p>\n"},{"tags":[],"owner":{"account_id":11760731,"reputation":346,"user_id":8606859,"display_name":"Nikki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639415879,"creation_date":1639415879,"answer_id":70338514,"question_id":30057054,"body_markdown":"If you are using Eclipse, try running Project -&gt; Clean","title":"The type java.lang.Enum cannot be resolved - Getting error after importing Java project in Eclipse","body":"<p>If you are using Eclipse, try running Project -&gt; Clean</p>\n"},{"tags":[],"owner":{"account_id":27669532,"reputation":11,"user_id":21120666,"display_name":"Darknight"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675193012,"creation_date":1675193012,"answer_id":75302180,"question_id":30057054,"body_markdown":"Upgrading JDK package fixes the issue, after installing new JDK make sure you update your environment variables to new JDK installed path","title":"The type java.lang.Enum cannot be resolved - Getting error after importing Java project in Eclipse","body":"<p>Upgrading JDK package fixes the issue, after installing new JDK make sure you update your environment variables to new JDK installed path</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688981131,"post_id":76639446,"comment_id":135143069,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76639446/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7189489,"reputation":55,"user_id":5490365,"display_name":"Rob Brown"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688754965,"creation_date":1688754965,"answer_id":76639446,"question_id":30057054,"body_markdown":"This is happening more often for me after upgrading to the latest eclipse. Project clean does not resolve errors by itself, however after cleaning add/remove a space and resave the file does work.","title":"The type java.lang.Enum cannot be resolved - Getting error after importing Java project in Eclipse","body":"<p>This is happening more often for me after upgrading to the latest eclipse. Project clean does not resolve errors by itself, however after cleaning add/remove a space and resave the file does work.</p>\n"}],"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9667,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1688754965,"creation_date":1430839251,"question_id":30057054,"body_markdown":"I am getting the following error after importing Java project (Non Maven) in Eclipse:\r\n\r\n    The type java.lang.Enum cannot be resolved. It is indirectly referenced from required .class files\r\n\r\nI have couple of Java classes in my project and I am getting this compilation error in the first line of this below class (In the package declaration line)\r\n\r\n    package com.test.utils;\r\n    \r\n    public enum Currency {\r\n    \tPENNY, NICKLE, DIME, QUARTER\r\n    };\r\n\r\nI checked my project&#39;s Java Build Path and in the Libraries tab all the jars and JRE System Library are present. Below is the .classpath content \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;classpath&gt;\r\n        \t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n        \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;\r\n        \t&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/***.jar&quot;/&gt; \r\n        \t&lt;!-- list of jars --&gt;\r\n        \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n       &lt;/classpath&gt;\r\n\r\nI am using eclipse JUNO\r\n\r\n    Eclipse Java EE IDE for Web Developers.\r\n    Version: Juno Service Release 2\r\n    Build id: 20130225-0426 \r\n\r\nand Java version is **jdk 1.6.0_29** and the **Compiler compliance level is 1.6** in eclipse.\r\n\r\n**I tried the following to resolve this issue** \r\n\t \r\n 1. Clean the project &amp; build the project\r\n 2. Delete and reimport the project and then again did the step 1\r\n 3. Restart eclipse from the &quot;File&quot; menu and again did the step 1\r\n\r\nBut none of the above worked. \r\n\r\nPlease tell me how can I get rid of this compilation error. ","title":"The type java.lang.Enum cannot be resolved - Getting error after importing Java project in Eclipse","body":"<p>I am getting the following error after importing Java project (Non Maven) in Eclipse:</p>\n\n<pre><code>The type java.lang.Enum cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n\n<p>I have couple of Java classes in my project and I am getting this compilation error in the first line of this below class (In the package declaration line)</p>\n\n<pre><code>package com.test.utils;\n\npublic enum Currency {\n    PENNY, NICKLE, DIME, QUARTER\n};\n</code></pre>\n\n<p>I checked my project's Java Build Path and in the Libraries tab all the jars and JRE System Library are present. Below is the .classpath content </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;classpath&gt;\n        &lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n        &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER\"/&gt;\n        &lt;classpathentry kind=\"lib\" path=\"lib/***.jar\"/&gt; \n        &lt;!-- list of jars --&gt;\n        &lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n   &lt;/classpath&gt;\n</code></pre>\n\n<p>I am using eclipse JUNO</p>\n\n<pre><code>Eclipse Java EE IDE for Web Developers.\nVersion: Juno Service Release 2\nBuild id: 20130225-0426 \n</code></pre>\n\n<p>and Java version is <strong>jdk 1.6.0_29</strong> and the <strong>Compiler compliance level is 1.6</strong> in eclipse.</p>\n\n<p><strong>I tried the following to resolve this issue</strong> </p>\n\n<ol>\n<li>Clean the project &amp; build the project</li>\n<li>Delete and reimport the project and then again did the step 1</li>\n<li>Restart eclipse from the \"File\" menu and again did the step 1</li>\n</ol>\n\n<p>But none of the above worked. </p>\n\n<p>Please tell me how can I get rid of this compilation error. </p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":7256091,"reputation":51,"user_id":5534685,"display_name":"Brian Schalme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688746240,"creation_date":1688746240,"answer_id":76638571,"question_id":76637245,"body_markdown":"What I&#39;ve seen work reasonably well is to extract an interface from your controller class, and put all the OpenAPI annotations in the interface. Your controller class implements this interface, so all the OpenAPI annotations come along for the ride.\r\n\r\nGranted, this just moves the clutter of OpenAPI annotations around, but it does improve the readability of your concrete controller class.","title":"Generating Swagger API documentation with functional &quot;Try it out&quot; feature without excessive annotations","body":"<p>What I've seen work reasonably well is to extract an interface from your controller class, and put all the OpenAPI annotations in the interface. Your controller class implements this interface, so all the OpenAPI annotations come along for the ride.</p>\n<p>Granted, this just moves the clutter of OpenAPI annotations around, but it does improve the readability of your concrete controller class.</p>\n"}],"owner":{"account_id":11135162,"reputation":63,"user_id":8173903,"display_name":"Wesley Alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688754834,"creation_date":1688735109,"question_id":76637245,"body_markdown":"I have a RESTful API written in Java + Spring Boot and I need to generate the documentation for it, with Swagger&#39;s &quot;Try it out&quot; feature working. However, I hate having to pollute my code with Swagger annotations, because I think they compromise the readability of the code too much, in addition to making the code ugly.\r\n\r\nOnce the documentation is generated through the annotations, it is possible to export the `openapi.yml` file. I&#39;ve tried doing that and then using that file as the source for the documentation and removing the code annotations, but when I do that the &quot;Try it out&quot; stops working.\r\n\r\nTherefore, I would like to know if there is a way to generate API documentation with Swagger, with the &quot;Try it out&quot; working, but without having to flood my code with annotations.\r\n\r\n*I&#39;m using [springdoc-openapi][1], by the way.*\r\n\r\n\r\n  [1]: https://springdoc.org/","title":"Generating Swagger API documentation with functional &quot;Try it out&quot; feature without excessive annotations","body":"<p>I have a RESTful API written in Java + Spring Boot and I need to generate the documentation for it, with Swagger's &quot;Try it out&quot; feature working. However, I hate having to pollute my code with Swagger annotations, because I think they compromise the readability of the code too much, in addition to making the code ugly.</p>\n<p>Once the documentation is generated through the annotations, it is possible to export the <code>openapi.yml</code> file. I've tried doing that and then using that file as the source for the documentation and removing the code annotations, but when I do that the &quot;Try it out&quot; stops working.</p>\n<p>Therefore, I would like to know if there is a way to generate API documentation with Swagger, with the &quot;Try it out&quot; working, but without having to flood my code with annotations.</p>\n<p><em>I'm using <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">springdoc-openapi</a>, by the way.</em></p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"owner":{"account_id":24006216,"reputation":1,"user_id":17990354,"display_name":"muhammed namjas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688753459,"creation_date":1688740292,"question_id":76637867,"body_markdown":"I have configured some topics in both producer and consumer side. kafka operations is working fine. But after some weeks nearly 6 or 7 weeks the message is pushing by the producer and am able to do see that messages in kafka logs. \r\n\r\nMy consumer is not able to accept that. To solve this issue i need to change the topics in both producer and consumer sides. Without doing this not able to solve this issue.\r\n\r\nalso i have added these may properties as well\r\n```\r\nspring.kafka.listener.missing-topics-fatal=false\r\n\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\n\r\nspring.kafka.listener.ack-mode=manual\r\n\r\nspring.kafka.consumer.enable-auto-commit=false\r\n\r\nspring.kafka.consumer.properties.spring.json.trusted.packages=\\*\r\n```\r\ni have tried by changing the kafka configurations\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerCreditNotApproval {\r\n\t@KafkaListener(topics = &quot;${rom.manualTask.creditNot.approval.kafka.topic}&quot;, groupId = &quot;${rom.manualTask.kafka.groupId}&quot;)\r\n\tpublic void listen(String message,Acknowledgment acknowledgment) {\r\n\t\tlogger.info(&quot;Received Message...: &quot; + message);\r\n\t\tlogger.info(&quot;Kafka Ip!!!!!!!!!!!&quot;+kafkaIp);\r\n\t\tacknowledgment.acknowledge();\r\n\t\tlogger.info(&quot;@creditNot.approval.kafka!!!!!!!!!!!!!!!!!!&quot;);\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tString transactionId = null;\r\n\t\tMap&lt;String, Object&gt; readValue = null;\r\n\t\ttry {\r\n\t\t\treadValue = mapper.readValue(message, Map.class);\r\n\t\t\ttransactionId = String.valueOf(readValue.get(&quot;requestKey&quot;));\r\n\t\t\tlogger.info(&quot;Map data: &quot; + readValue);\r\n\t\t\tservice.processTransaction(transactionId, readValue);\r\n\t\t} catch (JsonMappingException e) {\r\n\t\t\tlogger.error(&quot;JsonMappingException occured:&quot;, e);\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\tlogger.error(&quot;JsonProcessingException occured:&quot;, e);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Exception occured:&quot;, e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nwithout changing the topics in both","title":"kafka Consumer is not accepting the message in the kafka server","body":"<p>I have configured some topics in both producer and consumer side. kafka operations is working fine. But after some weeks nearly 6 or 7 weeks the message is pushing by the producer and am able to do see that messages in kafka logs.</p>\n<p>My consumer is not able to accept that. To solve this issue i need to change the topics in both producer and consumer sides. Without doing this not able to solve this issue.</p>\n<p>also i have added these may properties as well</p>\n<pre><code>spring.kafka.listener.missing-topics-fatal=false\n\nspring.kafka.consumer.auto-offset-reset=earliest\n\nspring.kafka.listener.ack-mode=manual\n\nspring.kafka.consumer.enable-auto-commit=false\n\nspring.kafka.consumer.properties.spring.json.trusted.packages=\\*\n</code></pre>\n<p>i have tried by changing the kafka configurations</p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerCreditNotApproval {\n    @KafkaListener(topics = &quot;${rom.manualTask.creditNot.approval.kafka.topic}&quot;, groupId = &quot;${rom.manualTask.kafka.groupId}&quot;)\n    public void listen(String message,Acknowledgment acknowledgment) {\n        logger.info(&quot;Received Message...: &quot; + message);\n        logger.info(&quot;Kafka Ip!!!!!!!!!!!&quot;+kafkaIp);\n        acknowledgment.acknowledge();\n        logger.info(&quot;@creditNot.approval.kafka!!!!!!!!!!!!!!!!!!&quot;);\n        ObjectMapper mapper = new ObjectMapper();\n        String transactionId = null;\n        Map&lt;String, Object&gt; readValue = null;\n        try {\n            readValue = mapper.readValue(message, Map.class);\n            transactionId = String.valueOf(readValue.get(&quot;requestKey&quot;));\n            logger.info(&quot;Map data: &quot; + readValue);\n            service.processTransaction(transactionId, readValue);\n        } catch (JsonMappingException e) {\n            logger.error(&quot;JsonMappingException occured:&quot;, e);\n        } catch (JsonProcessingException e) {\n            logger.error(&quot;JsonProcessingException occured:&quot;, e);\n        } catch (Exception e) {\n            logger.error(&quot;Exception occured:&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>without changing the topics in both</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":28964679,"reputation":1,"user_id":22186426,"display_name":"robr"},"score":0,"creation_date":1689017745,"post_id":76639280,"comment_id":135151078,"body_markdown":"To answer your initial question &quot;What issues do you have uploading and object....&quot;  \nThe error I am getting with the client.putObject (S3Client) is: Unable to execute HTTP request : Host name &#39;ace-photos-dev.s3.amazonaws.com&#39; does not match the certificate subject provided by the peer (CN=*.s3.amazonaws.com) .","body":"To answer your initial question &quot;What issues do you have uploading and object....&quot;   The error I am getting with the client.putObject (S3Client) is: Unable to execute HTTP request : Host name &#39;ace-photos-dev.s3.amazonaws.com&#39; does not match the certificate subject provided by the peer (CN=*.s3.amazonaws.com) ."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1689021068,"post_id":76639280,"comment_id":135151624,"body_markdown":"Do you use the POM file here - https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3. And the above code and still get this error.","body":"Do you use the POM file here - <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>. And the above code and still get this error."}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688753172,"creation_date":1688753172,"answer_id":76639280,"question_id":76639199,"body_markdown":"What issues do you have uploading an object using https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html? \r\n\r\n*Using a product API is typically recommended over using a 3rd party API starting with support. The AWS SDK team will offer support and will not if you are using this 3rd party API.* \r\n\r\nIf you setup your POM dependencies and setup your creds properly, the Java code works to upload an object. If you do not know how to setup the AWS SDK For Java V2, refer to this topic: [Set up the AWS SDK for Java 2.x][1].\r\n\r\nFull example to upload an object to an S3 bucket.\r\n\r\n    //snippet-sourcedescription:[PutObject.java demonstrates how to upload an object to an Amazon Simple Storage Service (Amazon S3) bucket.]\r\n    //snippet-keyword:[AWS SDK for Java v2]\r\n    //snippet-service:[Amazon S3]\r\n    \r\n    /*\r\n       Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n       SPDX-License-Identifier: Apache-2.0\r\n    */\r\n    package com.example.s3;\r\n    \r\n    // snippet-start:[s3.java2.s3_object_upload.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.sync.RequestBody;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3Client;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    import java.io.File;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    // snippet-end:[s3.java2.s3_object_upload.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class PutObject {\r\n    \r\n        public static void main(String[] args) {\r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;  bucketName - The Amazon S3 bucket to upload an object into.\\n&quot; +\r\n                &quot;  objectKey - The object to upload (for example, book.pdf).\\n&quot; +\r\n                &quot;  objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\r\n    \r\n            if (args.length != 3) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n            }\r\n    \r\n            String bucketName = args[0];\r\n            String objectKey = args[1];\r\n            String objectPath = args[2];\r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            S3Client s3 = S3Client.builder()\r\n                .region(region)\r\n                .credentialsProvider(credentialsProvider)\r\n                .build();\r\n    \r\n            putS3Object(s3, bucketName, objectKey, objectPath);\r\n            s3.close();\r\n        }\r\n    \r\n        // snippet-start:[s3.java2.s3_object_upload.main]\r\n        // This example uses RequestBody.fromFile to avoid loading the whole file into memory.\r\n        public static void putS3Object(S3Client s3, String bucketName, String objectKey, String objectPath) {\r\n            try {\r\n                Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\r\n                metadata.put(&quot;x-amz-meta-myVal&quot;, &quot;test&quot;);\r\n                PutObjectRequest putOb = PutObjectRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .key(objectKey)\r\n                    .metadata(metadata)\r\n                    .build();\r\n    \r\n                s3.putObject(putOb, RequestBody.fromFile(new File(objectPath)));\r\n                System.out.println(&quot;Successfully placed &quot; + objectKey +&quot; into bucket &quot;+bucketName);\r\n    \r\n            } catch (S3Exception e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n       // snippet-end:[s3.java2.s3_object_upload.main]\r\n    }\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html","title":"I am looking for io.awspring.cloud.s3.S3Resource as referred to in Spring Cloud AWS documentation","body":"<p>What issues do you have uploading an object using <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html</a>?</p>\n<p><em>Using a product API is typically recommended over using a 3rd party API starting with support. The AWS SDK team will offer support and will not if you are using this 3rd party API.</em></p>\n<p>If you setup your POM dependencies and setup your creds properly, the Java code works to upload an object. If you do not know how to setup the AWS SDK For Java V2, refer to this topic: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/setup.html\" rel=\"nofollow noreferrer\">Set up the AWS SDK for Java 2.x</a>.</p>\n<p>Full example to upload an object to an S3 bucket.</p>\n<pre><code>//snippet-sourcedescription:[PutObject.java demonstrates how to upload an object to an Amazon Simple Storage Service (Amazon S3) bucket.]\n//snippet-keyword:[AWS SDK for Java v2]\n//snippet-service:[Amazon S3]\n\n/*\n   Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n   SPDX-License-Identifier: Apache-2.0\n*/\npackage com.example.s3;\n\n// snippet-start:[s3.java2.s3_object_upload.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.sync.RequestBody;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\nimport java.io.File;\nimport java.util.HashMap;\nimport java.util.Map;\n// snippet-end:[s3.java2.s3_object_upload.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class PutObject {\n\n    public static void main(String[] args) {\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;  bucketName - The Amazon S3 bucket to upload an object into.\\n&quot; +\n            &quot;  objectKey - The object to upload (for example, book.pdf).\\n&quot; +\n            &quot;  objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\n\n        if (args.length != 3) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n\n        String bucketName = args[0];\n        String objectKey = args[1];\n        String objectPath = args[2];\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        S3Client s3 = S3Client.builder()\n            .region(region)\n            .credentialsProvider(credentialsProvider)\n            .build();\n\n        putS3Object(s3, bucketName, objectKey, objectPath);\n        s3.close();\n    }\n\n    // snippet-start:[s3.java2.s3_object_upload.main]\n    // This example uses RequestBody.fromFile to avoid loading the whole file into memory.\n    public static void putS3Object(S3Client s3, String bucketName, String objectKey, String objectPath) {\n        try {\n            Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\n            metadata.put(&quot;x-amz-meta-myVal&quot;, &quot;test&quot;);\n            PutObjectRequest putOb = PutObjectRequest.builder()\n                .bucket(bucketName)\n                .key(objectKey)\n                .metadata(metadata)\n                .build();\n\n            s3.putObject(putOb, RequestBody.fromFile(new File(objectPath)));\n            System.out.println(&quot;Successfully placed &quot; + objectKey +&quot; into bucket &quot;+bucketName);\n\n        } catch (S3Exception e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n    }\n   // snippet-end:[s3.java2.s3_object_upload.main]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28964679,"reputation":1,"user_id":22186426,"display_name":"robr"},"score":0,"creation_date":1689007076,"post_id":76639288,"comment_id":135149132,"body_markdown":"The error I am getting with the client.putObject (S3Client) is: Unable to execute HTTP request\n: Host name &#39;ace-photos-dev.s3.amazonaws.com&#39; does not match\n the certificate subject provided by the peer (CN=*.s3.amazonaws.com)","body":"The error I am getting with the client.putObject (S3Client) is: Unable to execute HTTP request : Host name &#39;ace-photos-dev.s3.amazonaws.com&#39; does not match  the certificate subject provided by the peer (CN=*.s3.amazonaws.com)"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1689008299,"post_id":76639288,"comment_id":135149345,"body_markdown":"That&#39;s a new error? You are past your initial error?","body":"That&#39;s a new error? You are past your initial error?"},{"owner":{"account_id":28964679,"reputation":1,"user_id":22186426,"display_name":"robr"},"score":0,"creation_date":1689016960,"post_id":76639288,"comment_id":135150926,"body_markdown":"I apologize for the confusion.  I am new to stack overflow.  I meant to post today&#39;s comment to the other answer in this thread","body":"I apologize for the confusion.  I am new to stack overflow.  I meant to post today&#39;s comment to the other answer in this thread"}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688753262,"creation_date":1688753262,"answer_id":76639288,"question_id":76639199,"body_markdown":"[Here][1] is the source code for `S3Resource` in the Spring Cloud project on GitHub.\r\n\r\n&gt; I am am unable to locate the package containing `io.awspring.cloud.s3.S3Resource`\r\n\r\nI&#39;m not sure what you are asking for exactly. The Java package is obviously `io.awspring.cloud.s3`. So make sure you are importing `io.awspring.cloud.s3.S3Resource` and not some other class named `S3Resource`. \r\n\r\nIf you are asking about the _library_ that contains this class, it looks like it is on Maven [here][2], but I recommend using the appropriate Maven or Gradle BOM detailed [here][3].\r\n\r\n\r\n  [1]: https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-s3-parent/spring-cloud-aws-s3/src/main/java/io/awspring/cloud/s3/S3Resource.java\r\n  [2]: https://mvnrepository.com/artifact/io.awspring.cloud/spring-cloud-aws-s3\r\n  [3]: https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html","title":"I am looking for io.awspring.cloud.s3.S3Resource as referred to in Spring Cloud AWS documentation","body":"<p><a href=\"https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-s3-parent/spring-cloud-aws-s3/src/main/java/io/awspring/cloud/s3/S3Resource.java\" rel=\"nofollow noreferrer\">Here</a> is the source code for <code>S3Resource</code> in the Spring Cloud project on GitHub.</p>\n<blockquote>\n<p>I am am unable to locate the package containing <code>io.awspring.cloud.s3.S3Resource</code></p>\n</blockquote>\n<p>I'm not sure what you are asking for exactly. The Java package is obviously <code>io.awspring.cloud.s3</code>. So make sure you are importing <code>io.awspring.cloud.s3.S3Resource</code> and not some other class named <code>S3Resource</code>.</p>\n<p>If you are asking about the <em>library</em> that contains this class, it looks like it is on Maven <a href=\"https://mvnrepository.com/artifact/io.awspring.cloud/spring-cloud-aws-s3\" rel=\"nofollow noreferrer\">here</a>, but I recommend using the appropriate Maven or Gradle BOM detailed <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":28964679,"reputation":1,"user_id":22186426,"display_name":"robr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688753262,"creation_date":1688752367,"question_id":76639199,"body_markdown":"I am trying to write code to upload images to an S3 bucket.  I am having issues with the S3Client and am interested in using the S3REsource construct to upload the file.\r\n\r\nIn Spring Cloud AWS documentation at \r\n    https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-M1/reference/html/index.html#spring-\r\n    cloud-aws-s3 \r\nthere is a section (4.4. S3 Objects as Spring Resources).\r\n\r\nThe documentation states &quot;To work with the (Spring) Resource as a S3 resource, cast it to       \r\n\r\n    io.awspring.cloud.s3.S3Resource. \r\n\r\nUsing S3Resource directly lets you set the S3 object metadata.&quot;\r\n\r\nI am am unable to locate the package containing \r\n\r\n    io.awspring.cloud.s3.S3Resource.  Can someone please direct me to it.  I am using Maven so \r\n\r\nthe dependency definition would be wonderful to have. \r\n\r\n\r\n\r\nThis code fails with a class cast Exception because the Spring Resource being returned does not implement the S3REsource interface.  The S3Resource I am using is:\r\n\r\n    software.amazon.awssdk.services.s3.internal.resource.S3Resource.  Another benefit of  \r\n    io.awspring.cloud.s3.S3Resource is that it it is purportedly castable to \r\n    org.springframework.core.io.WritableResource:\r\n\r\n    S3Resource resource = null;\r\n    try {\r\n    ResourceLoader resourceLoader = new DefaultResourceLoader();\r\n    resource = (S3Resource) resourceLoader.getResource(MessageFormat.format(awsResourceFormat,         \r\n    } catch (Exception e) {\r\n    e.printStackTrace();\r\n    }","title":"I am looking for io.awspring.cloud.s3.S3Resource as referred to in Spring Cloud AWS documentation","body":"<p>I am trying to write code to upload images to an S3 bucket.  I am having issues with the S3Client and am interested in using the S3REsource construct to upload the file.</p>\n<p>In Spring Cloud AWS documentation at\n<a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-M1/reference/html/index.html#spring-\" rel=\"nofollow noreferrer\">https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-M1/reference/html/index.html#spring-</a>\ncloud-aws-s3\nthere is a section (4.4. S3 Objects as Spring Resources).</p>\n<p>The documentation states &quot;To work with the (Spring) Resource as a S3 resource, cast it to</p>\n<pre><code>io.awspring.cloud.s3.S3Resource. \n</code></pre>\n<p>Using S3Resource directly lets you set the S3 object metadata.&quot;</p>\n<p>I am am unable to locate the package containing</p>\n<pre><code>io.awspring.cloud.s3.S3Resource.  Can someone please direct me to it.  I am using Maven so \n</code></pre>\n<p>the dependency definition would be wonderful to have.</p>\n<p>This code fails with a class cast Exception because the Spring Resource being returned does not implement the S3REsource interface.  The S3Resource I am using is:</p>\n<pre><code>software.amazon.awssdk.services.s3.internal.resource.S3Resource.  Another benefit of  \nio.awspring.cloud.s3.S3Resource is that it it is purportedly castable to \norg.springframework.core.io.WritableResource:\n\nS3Resource resource = null;\ntry {\nResourceLoader resourceLoader = new DefaultResourceLoader();\nresource = (S3Resource) resourceLoader.getResource(MessageFormat.format(awsResourceFormat,         \n} catch (Exception e) {\ne.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","import"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1688748246,"post_id":76638740,"comment_id":135120191,"body_markdown":"Intellij is doing that because you have called your class with the same name as annotation. So in order to avoid ambiguity you have to fully qualify the import. Just rename your class","body":"Intellij is doing that because you have called your class with the same name as annotation. So in order to avoid ambiguity you have to fully qualify the import. Just rename your class"},{"owner":{"account_id":28971522,"reputation":13,"user_id":22191713,"display_name":"Skryze"},"score":0,"creation_date":1688748631,"post_id":76638740,"comment_id":135120264,"body_markdown":"Ah damn, didn&#39;t pay attention to that. And I searched like a madman for a solution. Thank you very much, that was the answer.","body":"Ah damn, didn&#39;t pay attention to that. And I searched like a madman for a solution. Thank you very much, that was the answer."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688752729,"creation_date":1688752729,"answer_id":76639228,"question_id":76638740,"body_markdown":"To have a proper answer (originally in comment from @JAsgarov):\r\n\r\nIntelliJ is doing that because you have named your class with the same name as annotation (just a different package). So in order to avoid ambiguity you have to fully qualify the import.\r\n\r\nJust rename your class and the annotation can be imported and used with only its name:\r\n\r\n``` lang-java\r\npackage com.mystuff.inventur.rest;\r\n\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class InventurController {\r\n\r\n}\r\n```\r\n","title":"IntelliJ Spring Boot project creates inline-imports for Spring-Annotations on new .java-files","body":"<p>To have a proper answer (originally in comment from @JAsgarov):</p>\n<p>IntelliJ is doing that because you have named your class with the same name as annotation (just a different package). So in order to avoid ambiguity you have to fully qualify the import.</p>\n<p>Just rename your class and the annotation can be imported and used with only its name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mystuff.inventur.rest;\n\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class InventurController {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6513463,"reputation":101,"user_id":5040014,"display_name":"Vikas P R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688753061,"creation_date":1688753061,"answer_id":76639262,"question_id":76638740,"body_markdown":"As your class name and the Spring annotation name are same, it needs inline imports. \r\n\r\n    package com.mystuff.inventur.rest;\r\n\r\n    import org.springframework.web.bind.annotation.RestController\r\n        @RestController public class MyRestController {\r\n        \r\n        }","title":"IntelliJ Spring Boot project creates inline-imports for Spring-Annotations on new .java-files","body":"<p>As your class name and the Spring annotation name are same, it needs inline imports.</p>\n<pre><code>package com.mystuff.inventur.rest;\n\nimport org.springframework.web.bind.annotation.RestController\n    @RestController public class MyRestController {\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":28971522,"reputation":13,"user_id":22191713,"display_name":"Skryze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76639228,"answer_count":2,"score":1,"last_activity_date":1688753061,"creation_date":1688747645,"question_id":76638740,"body_markdown":"Cheers, \r\n\r\nI am trying to learn some SpringBoot and wanted to code a simple web server. While trying to create RestController class and annotating it in a new .java File, IntelliJ decided to create an inline import for reasons only god knows.\r\n\r\nNot working imports:\r\n``` lang-java\r\npackage com.mystuff.inventur.rest;\r\n\r\n@org.springframework.web.bind.annotation.RestController\r\npublic class RestController {\r\n\r\n}\r\n```\r\n\r\nI&#39;d like IntelliJ to create import statements instead of doing these funky inline package calls. Classic java classes however IntelliJ imports normally. Manually writing the @RestController and trying to import it doesn&#39;t work either since IntelliJ doesn&#39;t seem to recognize it. \r\n\r\nThough the .java file created by the Spring Initializr seems to work perfectly fine when it comes to Spring Annotations.\r\n\r\nWorking Imports:\r\n``` lang-java\r\npackage com.mystuff.inventur;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class InventurApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(InventurApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nThese are my IntelliJ-java-import-settings:\r\n![java imports config](https://i.stack.imgur.com/awS3u.png)\r\n\r\n![java autoimport config](https://i.stack.imgur.com/kJWJ3.png)\r\n\r\nAlready tried to check and uncheck the 3 checkboxes in the general section of the import tab regarding the java code settings. \r\n\r\nAnyone encountered this problem yet and has a solution? \r\nThanks in advance. ","title":"IntelliJ Spring Boot project creates inline-imports for Spring-Annotations on new .java-files","body":"<p>Cheers,</p>\n<p>I am trying to learn some SpringBoot and wanted to code a simple web server. While trying to create RestController class and annotating it in a new .java File, IntelliJ decided to create an inline import for reasons only god knows.</p>\n<p>Not working imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mystuff.inventur.rest;\n\n@org.springframework.web.bind.annotation.RestController\npublic class RestController {\n\n}\n</code></pre>\n<p>I'd like IntelliJ to create import statements instead of doing these funky inline package calls. Classic java classes however IntelliJ imports normally. Manually writing the @RestController and trying to import it doesn't work either since IntelliJ doesn't seem to recognize it.</p>\n<p>Though the .java file created by the Spring Initializr seems to work perfectly fine when it comes to Spring Annotations.</p>\n<p>Working Imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mystuff.inventur;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class InventurApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(InventurApplication.class, args);\n    }\n}\n</code></pre>\n<p>These are my IntelliJ-java-import-settings:\n<img src=\"https://i.stack.imgur.com/awS3u.png\" alt=\"java imports config\" /></p>\n<p><img src=\"https://i.stack.imgur.com/kJWJ3.png\" alt=\"java autoimport config\" /></p>\n<p>Already tried to check and uncheck the 3 checkboxes in the general section of the import tab regarding the java code settings.</p>\n<p>Anyone encountered this problem yet and has a solution?\nThanks in advance.</p>\n"},{"tags":["java","swing","bufferedimage","imageicon","netbeans-platform"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688752308,"post_id":76639162,"comment_id":135120904,"body_markdown":"[Load them as resources](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)\nThe above will show you how to arrange the packages","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Load them as resources</a> The above will show you how to arrange the packages"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688755875,"post_id":76639162,"comment_id":135121430,"body_markdown":"To avoid making any changes in your code you can simply create a package called `Images` at the root and put your images in there","body":"To avoid making any changes in your code you can simply create a package called <code>Images</code> at the root and put your images in there"}],"answers":[{"tags":[],"owner":{"account_id":28967892,"reputation":26,"user_id":22188849,"display_name":"thevalidator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688753028,"creation_date":1688753028,"answer_id":76639258,"question_id":76639162,"body_markdown":"Try to create the `resources` folder (src/main/resources) and put there your folder `Image` with the image file, I think this is the main problem. If it doesn&#39;t help try to use Toolkit.getDefaultToolkit().getImage(getClass().getResource(&quot;/Images/Background_Image.jpg&quot;)) to get the image","title":"Reading images imported into NetBeans","body":"<p>Try to create the <code>resources</code> folder (src/main/resources) and put there your folder <code>Image</code> with the image file, I think this is the main problem. If it doesn't help try to use Toolkit.getDefaultToolkit().getImage(getClass().getResource(&quot;/Images/Background_Image.jpg&quot;)) to get the image</p>\n"}],"owner":{"account_id":28971920,"reputation":1,"user_id":22192016,"display_name":"Hye_Yo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688753028,"creation_date":1688752061,"question_id":76639162,"body_markdown":"I have imported images into my NetBeans project:\r\n![project file tree](https://i.stack.imgur.com/CEhG8.png)\r\n\r\nI&#39;m trying to read the image path and want to display them on JLabels using the `scaleImage()` method. \r\n\r\nMy code:\r\n``` lang-java\r\npublic Home() {\r\n    initComponents();\r\n    scaleImage(img1, &quot;/Images/Background_Image.jpg&quot;);\r\n}\r\n\r\npublic void scaleImage(JLabel label, String imagePath) {\r\n    ImageIcon icon = new ImageIcon(getClass().getResource(imagePath));\r\n    Image img = icon.getImage();\r\n    Image imgScale = img.getScaledInstance(label.getWidth(), label.getHeight(), Image.SCALE_SMOOTH);\r\n    ImageIcon scaledIcon = new ImageIcon(imgScale);\r\n    label.setIcon(scaledIcon);        \r\n}\r\n```\r\n\r\nHowever, i keep getting errors `java.lang.NullPointerException`\r\n\r\nI tried another way, but still prompting errors `java.lang.IllegalArgumentException: input == null!`:\r\n\r\n``` lang-java\r\npublic void scaleImage(JLabel label, String imagePath) {\r\n    try {\r\n        BufferedImage image = ImageIO.read(Home.class.getResource(imagePath));\r\n        Image imgScale = image.getScaledInstance(label.getWidth(), label.getHeight(), Image.SCALE_SMOOTH);\r\n        ImageIcon scaledIcon = new ImageIcon(imgScale);\r\n        label.setIcon(scaledIcon);\r\n    } catch (IOException e) {\r\n        // Handle any exception that may occur during image loading\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nAny better idea? Thanx","title":"Reading images imported into NetBeans","body":"<p>I have imported images into my NetBeans project:\n<img src=\"https://i.stack.imgur.com/CEhG8.png\" alt=\"project file tree\" /></p>\n<p>I'm trying to read the image path and want to display them on JLabels using the <code>scaleImage()</code> method.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Home() {\n    initComponents();\n    scaleImage(img1, &quot;/Images/Background_Image.jpg&quot;);\n}\n\npublic void scaleImage(JLabel label, String imagePath) {\n    ImageIcon icon = new ImageIcon(getClass().getResource(imagePath));\n    Image img = icon.getImage();\n    Image imgScale = img.getScaledInstance(label.getWidth(), label.getHeight(), Image.SCALE_SMOOTH);\n    ImageIcon scaledIcon = new ImageIcon(imgScale);\n    label.setIcon(scaledIcon);        \n}\n</code></pre>\n<p>However, i keep getting errors <code>java.lang.NullPointerException</code></p>\n<p>I tried another way, but still prompting errors <code>java.lang.IllegalArgumentException: input == null!</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void scaleImage(JLabel label, String imagePath) {\n    try {\n        BufferedImage image = ImageIO.read(Home.class.getResource(imagePath));\n        Image imgScale = image.getScaledInstance(label.getWidth(), label.getHeight(), Image.SCALE_SMOOTH);\n        ImageIcon scaledIcon = new ImageIcon(imgScale);\n        label.setIcon(scaledIcon);\n    } catch (IOException e) {\n        // Handle any exception that may occur during image loading\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Any better idea? Thanx</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688708751,"post_id":76631212,"comment_id":135112681,"body_markdown":"I would start by removing the `jakarta.servlet-api`, `akarta.persistence-api` and `spring-data-jpa` dependencies. Those are already pulled in by their respective starters (`spring-boot-starter-web` and `spring-boot-starter-data-jpa`, the latter you would need to add) leaving them in will hurt you when you start to upgrade. Also the `spring-test` dependency isn&#39;t needed, already pulled in by `spring-boot-starter-test`. That might not solve it so could you add your `@SpringBootApplication` annotated class to the question.","body":"I would start by removing the <code>jakarta.servlet-api</code>, <code>akarta.persistence-api</code> and <code>spring-data-jpa</code> dependencies. Those are already pulled in by their respective starters (<code>spring-boot-starter-web</code> and <code>spring-boot-starter-data-jpa</code>, the latter you would need to add) leaving them in will hurt you when you start to upgrade. Also the <code>spring-test</code> dependency isn&#39;t needed, already pulled in by <code>spring-boot-starter-test</code>. That might not solve it so could you add your <code>@SpringBootApplication</code> annotated class to the question."}],"answers":[{"tags":[],"owner":{"account_id":26545002,"reputation":1,"user_id":20175194,"display_name":"asus tuf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688752968,"creation_date":1688752968,"answer_id":76639247,"question_id":76631212,"body_markdown":"I solved the problem.the problem is that when I deleted the @Autowired anatation in my userService file, my application started working\r\n\r\n\r\n    \r\n\r\n","title":"Error: Consider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration","body":"<p>I solved the problem.the problem is that when I deleted the @Autowired anatation in my userService file, my application started working</p>\n"}],"owner":{"account_id":26545002,"reputation":1,"user_id":20175194,"display_name":"asus tuf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688752968,"creation_date":1688664237,"question_id":76631212,"body_markdown":"I am getting below error when executing my application. It says to create a bean of type HttpSecurity, &quot;Consider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration&quot;\r\n\r\nPlease let me know if I need to provide any other details.\r\n\r\nerror\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method managementSecurityFilterChain in org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration required a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration.\r\n\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.deprem-ping&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;deprem-ping&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;deprem-ping&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;jersey.version&gt;3.0.0-M6&lt;/jersey.version&gt;\r\n\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;23.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;additionalProperties&gt;\r\n\t\t\t\t\t\t\t\t&lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\r\n\t\t\t\t\t\t\t\t&lt;encoding.reporting&gt;${project.reporting.outputEncoding}&lt;/encoding.reporting&gt;\r\n\t\t\t\t\t\t\t\t&lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;\r\n\t\t\t\t\t\t\t\t&lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;\r\n\t\t\t\t\t\t\t&lt;/additionalProperties&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nSecurityConfig.java\r\n\r\n```\r\npackage com.depremping.depremping.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\n\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport java.util.Objects;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@Order(1)\r\npublic class SecurityConfig {\r\n\r\n    @Value(&quot;${principalRequestHeader:X-API-Key}&quot;)\r\n    private String principalRequestHeader;\r\n\r\n    @Value(&quot;${principalRequestValue:109353c6-6432-4acf-8e77-ef842f64a664}&quot;)\r\n    private String principalRequestValue;\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\r\n        filter.setAuthenticationManager(\r\n                authentication -&gt; {\r\n                    String principal = (String) authentication.getPrincipal();\r\n                    if (!Objects.equals(principalRequestValue, principal)) {\r\n                        throw new BadCredentialsException(\r\n                                &quot;The API key was not found or not the expected value.&quot;);\r\n                    }\r\n                    authentication.setAuthenticated(true);\r\n                    return authentication;\r\n                });\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(filter)\r\n                .authorizeHttpRequests(requests -&gt; requests\r\n                        .requestMatchers(&quot;/**&quot;)\r\n                        .authenticated()\r\n                );\r\n\r\n\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried to fix the details in the error and then I tried to use this method instead of requestMatchers \r\n```\r\n.authorizeHttpRequests(requests -&gt; requests\r\n                        .requestMatchers(&quot;/**&quot;)\r\n                        .authenticated()\r\n                );\r\n```\r\n\r\n","title":"Error: Consider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration","body":"<p>I am getting below error when executing my application. It says to create a bean of type HttpSecurity, &quot;Consider defining a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' in your configuration&quot;</p>\n<p>Please let me know if I need to provide any other details.</p>\n<p>error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method managementSecurityFilterChain in org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration required a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' in your configuration.\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.deprem-ping&lt;/groupId&gt;\n    &lt;artifactId&gt;deprem-ping&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;deprem-ping&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;jersey.version&gt;3.0.0-M6&lt;/jersey.version&gt;\n\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;additionalProperties&gt;\n                                &lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\n                                &lt;encoding.reporting&gt;${project.reporting.outputEncoding}&lt;/encoding.reporting&gt;\n                                &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;\n                                &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;\n                            &lt;/additionalProperties&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>SecurityConfig.java</p>\n<pre><code>package com.depremping.depremping.security;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.BadCredentialsException;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport java.util.Objects;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class SecurityConfig {\n\n    @Value(&quot;${principalRequestHeader:X-API-Key}&quot;)\n    private String principalRequestHeader;\n\n    @Value(&quot;${principalRequestValue:109353c6-6432-4acf-8e77-ef842f64a664}&quot;)\n    private String principalRequestValue;\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\n        filter.setAuthenticationManager(\n                authentication -&gt; {\n                    String principal = (String) authentication.getPrincipal();\n                    if (!Objects.equals(principalRequestValue, principal)) {\n                        throw new BadCredentialsException(\n                                &quot;The API key was not found or not the expected value.&quot;);\n                    }\n                    authentication.setAuthenticated(true);\n                    return authentication;\n                });\n        http\n                .csrf()\n                .disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilter(filter)\n                .authorizeHttpRequests(requests -&gt; requests\n                        .requestMatchers(&quot;/**&quot;)\n                        .authenticated()\n                );\n\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I tried to fix the details in the error and then I tried to use this method instead of requestMatchers</p>\n<pre><code>.authorizeHttpRequests(requests -&gt; requests\n                        .requestMatchers(&quot;/**&quot;)\n                        .authenticated()\n                );\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","github-actions"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688722450,"post_id":76633974,"comment_id":135114950,"body_markdown":"You do have a test and it is failing. The test class: me.siyum.trackerie.TrackerieApplicationTests Just delete it if not needed.","body":"You do have a test and it is failing. The test class: me.siyum.trackerie.TrackerieApplicationTests Just delete it if not needed."}],"answers":[{"tags":[],"owner":{"account_id":26429220,"reputation":344,"user_id":20075659,"display_name":"Siyum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688752567,"creation_date":1688752567,"answer_id":76639216,"question_id":76633974,"body_markdown":"It was fixed after removing following dependency.\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSeems like in the test scope it trying to test, but as there is no test cases it failing(Only my assumption, please experts correct this)","title":"IllegalState Failed to load ApplicationContext | Spring Boot","body":"<p>It was fixed after removing following dependency.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Seems like in the test scope it trying to test, but as there is no test cases it failing(Only my assumption, please experts correct this)</p>\n"}],"owner":{"account_id":26429220,"reputation":344,"user_id":20075659,"display_name":"Siyum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688752567,"creation_date":1688704491,"question_id":76633974,"body_markdown":"I was trying to deploy a Spring Boot app to EC2 instance using terraform. In my github workflow I mentioned it as here.\r\n\r\n    jobs:\r\n      build:\r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n          - name: Checkout code\r\n            uses: actions/checkout@v2\r\n    \r\n          - name: Set up Java\r\n            uses: actions/setup-java@v2\r\n            with:\r\n              java-version: &#39;17&#39;\r\n              distribution: &#39;adopt&#39;\r\n    \r\n          - name: Build Maven project\r\n            run: mvn clean package\r\n\r\nThis one is failing on the Build Maven project step.\r\n\r\nI am getting following error. \r\n\r\n&gt; [INFO]  [INFO] Results: [INFO]  Error:  Errors:  Error:   \r\n&gt; TrackerieApplicationTests.contextLoads &#187; IllegalState Failed to load\r\n&gt; ApplicationContext for [WebMergedContextConfiguration@4dd2ef54\r\n&gt; testClass = me.siyum.trackerie.TrackerieApplicationTests, locations =\r\n&gt; [], classes = [me.siyum.trackerie.TrackerieApplication],\r\n&gt; contextInitializerClasses = [], activeProfiles = [],\r\n&gt; propertySourceLocations = [], propertySourceProperties =\r\n&gt; [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;],\r\n&gt; contextCustomizers =\r\n&gt; [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@25641d39,\r\n&gt; org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@18df8434,\r\n&gt; org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0,\r\n&gt; org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3c77d488,\r\n&gt; org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f,\r\n&gt; org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0,\r\n&gt; org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5d0bf09b,\r\n&gt; org.springframework.boot.test.context.SpringBootTestAnnotation@33a0aaa9],\r\n&gt; resourceBasePath = &quot;src/main/webapp&quot;, contextLoader =\r\n&gt; org.springframework.boot.test.context.SpringBootContextLoader, parent\r\n&gt; = null] [INFO]  Error:  Tests run: 1, Failures: 0, Errors: 1, Skipped: 0 [INFO]  [INFO]\r\n&gt; ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO]\r\n&gt; ------------------------------------------------------------------------ [INFO] Total time:  15.067 s [INFO] Finished at: 2023-07-07T04:19:40Z\r\n&gt; [INFO]\r\n&gt; ------------------------------------------------------------------------ Error:  Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-surefire-plugin:3.0.0:test\r\n&gt; (default-test) on project Trackerie:  Error:   Error:  Please refer to\r\n&gt; /home/runner/work/Trackerie-BE/Trackerie-BE/target/surefire-reports\r\n&gt; for the individual test results. Error:  Please refer to dump files\r\n&gt; (if any exist) [date].dump, [date]-jvmRun[N].dump and\r\n&gt; [date].dumpstream. Error:  -&gt; [Help 1] Error:   Error:  To see the\r\n&gt; full stack trace of the errors, re-run Maven with the -e switch.\r\n&gt; Error:  Re-run Maven using the -X switch to enable full debug logging.\r\n&gt; Error:   Error:  For more information about the errors and possible\r\n&gt; solutions, please read the following articles: Error:  [Help 1]\r\n&gt; http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n&gt; Error: Process completed with exit code 1.\r\n\r\nI do not write any test codes here, Just the code. Here is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;me.siyum&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Trackerie&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;Trackerie&lt;/name&gt;\r\n        &lt;description&gt;Trackerie&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.33&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"IllegalState Failed to load ApplicationContext | Spring Boot","body":"<p>I was trying to deploy a Spring Boot app to EC2 instance using terraform. In my github workflow I mentioned it as here.</p>\n<pre><code>jobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n\n      - name: Set up Java\n        uses: actions/setup-java@v2\n        with:\n          java-version: '17'\n          distribution: 'adopt'\n\n      - name: Build Maven project\n        run: mvn clean package\n</code></pre>\n<p>This one is failing on the Build Maven project step.</p>\n<p>I am getting following error.</p>\n<blockquote>\n<p>[INFO]  [INFO] Results: [INFO]  Error:  Errors:  Error:<br />\nTrackerieApplicationTests.contextLoads » IllegalState Failed to load\nApplicationContext for [WebMergedContextConfiguration@4dd2ef54\ntestClass = me.siyum.trackerie.TrackerieApplicationTests, locations =\n[], classes = [me.siyum.trackerie.TrackerieApplication],\ncontextInitializerClasses = [], activeProfiles = [],\npropertySourceLocations = [], propertySourceProperties =\n[&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;],\ncontextCustomizers =\n[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@25641d39,\norg.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@18df8434,\norg.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0,\norg.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3c77d488,\norg.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f,\norg.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0,\norg.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5d0bf09b,\norg.springframework.boot.test.context.SpringBootTestAnnotation@33a0aaa9],\nresourceBasePath = &quot;src/main/webapp&quot;, contextLoader =\norg.springframework.boot.test.context.SpringBootContextLoader, parent\n= null] [INFO]  Error:  Tests run: 1, Failures: 0, Errors: 1, Skipped: 0 [INFO]  [INFO]\n------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO]\n------------------------------------------------------------------------ [INFO] Total time:  15.067 s [INFO] Finished at: 2023-07-07T04:19:40Z\n[INFO]\n------------------------------------------------------------------------ Error:  Failed to execute goal\norg.apache.maven.plugins:maven-surefire-plugin:3.0.0:test\n(default-test) on project Trackerie:  Error:   Error:  Please refer to\n/home/runner/work/Trackerie-BE/Trackerie-BE/target/surefire-reports\nfor the individual test results. Error:  Please refer to dump files\n(if any exist) [date].dump, [date]-jvmRun[N].dump and\n[date].dumpstream. Error:  -&gt; [Help 1] Error:   Error:  To see the\nfull stack trace of the errors, re-run Maven with the -e switch.\nError:  Re-run Maven using the -X switch to enable full debug logging.\nError:   Error:  For more information about the errors and possible\nsolutions, please read the following articles: Error:  [Help 1]\n<a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</a>\nError: Process completed with exit code 1.</p>\n</blockquote>\n<p>I do not write any test codes here, Just the code. Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;me.siyum&lt;/groupId&gt;\n    &lt;artifactId&gt;Trackerie&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Trackerie&lt;/name&gt;\n    &lt;description&gt;Trackerie&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","file"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688457649,"post_id":76610015,"comment_id":135073122,"body_markdown":"Android version of used device? Dont ask for usual READ and WRITE permissions on an Android 13 device. And if those files are not created by your app those permissions are useless and you have to use SAF.","body":"Android version of used device? Dont ask for usual READ and WRITE permissions on an Android 13 device. And if those files are not created by your app those permissions are useless and you have to use SAF."},{"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"score":0,"creation_date":1688488327,"post_id":76610015,"comment_id":135079686,"body_markdown":"@blackapps the Android version is 13.","body":"@blackapps the Android version is 13."},{"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"score":0,"creation_date":1688591523,"post_id":76610015,"comment_id":135095881,"body_markdown":"@blackapps I tried using SAF with which I can select the directory using the file picker intent activity. I get the Uri like &quot;content://com.android.externalstorage.documents/tree/primary%3ADocuments%2MyData&quot; but I cannot figure out how to open the list of files from the URI of the directory. I had tried to create a File obj from the uri but got an &quot;invalid uri&quot; error. Any solution?","body":"@blackapps I tried using SAF with which I can select the directory using the file picker intent activity. I get the Uri like &quot;content://com.android.externalstorage.documents/tree/primar&zwnj;&#8203;y%3ADocuments%2MyDat&zwnj;&#8203;a&quot; but I cannot figure out how to open the list of files from the URI of the directory. I had tried to create a File obj from the uri but got an &quot;invalid uri&quot; error. Any solution?"}],"answers":[{"comments":[{"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"score":0,"creation_date":1688589913,"post_id":76621162,"comment_id":135095629,"body_markdown":"I have declared the permissions in the manifest. I have implemented the function onRequestPermissionsResult which tells me that I got permission denied which I could not understand why.","body":"I have declared the permissions in the manifest. I have implemented the function onRequestPermissionsResult which tells me that I got permission denied which I could not understand why."},{"owner":{"account_id":2574911,"reputation":322,"user_id":2232834,"display_name":"Osoro"},"score":0,"creation_date":1688659928,"post_id":76621162,"comment_id":135106876,"body_markdown":"Might you have followed what I posted, if not, please note that what you are doing will not work. Could it be that you never understood my explanation?","body":"Might you have followed what I posted, if not, please note that what you are doing will not work. Could it be that you never understood my explanation?"},{"owner":{"account_id":2574911,"reputation":322,"user_id":2232834,"display_name":"Osoro"},"score":0,"creation_date":1688660929,"post_id":76621162,"comment_id":135107068,"body_markdown":"1. First things first, you are requesting for the permissions ERRONEOUSLY   2. Whatever you do afterwards will not work.","body":"1. First things first, you are requesting for the permissions ERRONEOUSLY   2. Whatever you do afterwards will not work."}],"tags":[],"owner":{"account_id":2574911,"reputation":322,"user_id":2232834,"display_name":"Osoro"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688752517,"creation_date":1688565985,"answer_id":76621162,"question_id":76610015,"body_markdown":"You might need to look at how permissions are requested. With the launch of Android 6.0 Marshmallow, Google introduced a new [runtime permission model][1], where users are not prompted for permissions during installation but rather when a program is running.You will still need the permissions declared in your Manifest file.\r\n\r\nThe following is an example of how you can achieve the same using Java.\r\n\r\n&lt;br&gt;1. Have a function to check if your App has the permissions you require.\r\n\r\n\r\n        public static boolean hasPermissions(Context context, String... permissions) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n2 Have a variable that holds the permissions you require.\r\n\r\n       String[] PERMISSIONS = { Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n            Manifest.permission.READ_EXTERNAL_STORAGE};\r\n\r\n\r\n3 In your onCreate function, you can invoke the function as follows.\r\n\r\n         if (!hasPermissions(this, PERMISSIONS)) {\r\n            ActivityCompat.requestPermissions(this, PERMISSIONS, 1);\r\n        } \r\n\r\n \r\nI think this should work in your case, later on you can consider refactoring the code such that you can easily maintain/reuse. \r\n\r\nRegards\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting","title":"Android: Getting PERMISSION_DENIED on requesting Read and Write Permissions","body":"<p>You might need to look at how permissions are requested. With the launch of Android 6.0 Marshmallow, Google introduced a new <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">runtime permission model</a>, where users are not prompted for permissions during installation but rather when a program is running.You will still need the permissions declared in your Manifest file.</p>\n<p>The following is an example of how you can achieve the same using Java.</p>\n<p><br>1. Have a function to check if your App has the permissions you require.</p>\n<pre><code>    public static boolean hasPermissions(Context context, String... permissions) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>2 Have a variable that holds the permissions you require.</p>\n<pre><code>   String[] PERMISSIONS = { Manifest.permission.WRITE_EXTERNAL_STORAGE,\n        Manifest.permission.READ_EXTERNAL_STORAGE};\n</code></pre>\n<p>3 In your onCreate function, you can invoke the function as follows.</p>\n<pre><code>     if (!hasPermissions(this, PERMISSIONS)) {\n        ActivityCompat.requestPermissions(this, PERMISSIONS, 1);\n    } \n</code></pre>\n<p>I think this should work in your case, later on you can consider refactoring the code such that you can easily maintain/reuse.</p>\n<p>Regards</p>\n"},{"comments":[{"owner":{"account_id":2574911,"reputation":322,"user_id":2232834,"display_name":"Osoro"},"score":0,"creation_date":1688660838,"post_id":76629717,"comment_id":135107051,"body_markdown":"First things first, the way you are requesting for permissions is wrong. Whatever you do afterwards will obviously not work.","body":"First things first, the way you are requesting for permissions is wrong. Whatever you do afterwards will obviously not work."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688661455,"post_id":76629717,"comment_id":135107159,"body_markdown":"Dont call directory.listFiles() twice as it is pretty slow.","body":"Dont call directory.listFiles() twice as it is pretty slow."},{"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"score":0,"creation_date":1688864648,"post_id":76629717,"comment_id":135131129,"body_markdown":"@blackapps I will remove the log from my application code. It was just for debugging.","body":"@blackapps I will remove the log from my application code. It was just for debugging."}],"tags":[],"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688652567,"creation_date":1688652567,"answer_id":76629717,"question_id":76610015,"body_markdown":"I could not fix the permission issue but then I used ACTION_OPEN_DOCUMENT_TREE intent to solve my problem\r\n```java\r\n\r\npublic void openDirectory(Uri uriToLoad) {\r\n        // Choose a directory using the system&#39;s file picker.\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n\r\n        // Optionally, specify a URI for the directory that should be opened in\r\n        // the system file picker when it loads.\r\n        intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\r\n\r\n        startActivityForResult(intent, DOCUMENTS_REQUEST_CODE);\r\n    }\r\n\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (requestCode == DOCUMENTS_REQUEST_CODE\r\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n\r\n            if (data != null) {\r\n                Uri directoryUri = data.getData();\r\n                ContentResolver contentResolver = getContentResolver();\r\n\r\n                Gson gson = new Gson();\r\n\r\n                DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\r\n                assert directory != null;\r\n                Log.i(&quot;directory files length&quot;, String.valueOf(directory.listFiles().length));\r\n                for (DocumentFile documentFile : directory.listFiles()) {\r\n                    Log.i(&quot;documentFile name &quot;, documentFile.getName());\r\n                    try {\r\n                        InputStream inputStream = contentResolver.openInputStream(documentFile.getUri());\r\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n                        // logic to read data\r\n\r\n                    } catch (JSONException | IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n```\r\n\r\n","title":"Android: Getting PERMISSION_DENIED on requesting Read and Write Permissions","body":"<p>I could not fix the permission issue but then I used ACTION_OPEN_DOCUMENT_TREE intent to solve my problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic void openDirectory(Uri uriToLoad) {\n        // Choose a directory using the system's file picker.\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n\n        // Optionally, specify a URI for the directory that should be opened in\n        // the system file picker when it loads.\n        intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\n\n        startActivityForResult(intent, DOCUMENTS_REQUEST_CODE);\n    }\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (requestCode == DOCUMENTS_REQUEST_CODE\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\n\n            if (data != null) {\n                Uri directoryUri = data.getData();\n                ContentResolver contentResolver = getContentResolver();\n\n                Gson gson = new Gson();\n\n                DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\n                assert directory != null;\n                Log.i(&quot;directory files length&quot;, String.valueOf(directory.listFiles().length));\n                for (DocumentFile documentFile : directory.listFiles()) {\n                    Log.i(&quot;documentFile name &quot;, documentFile.getName());\n                    try {\n                        InputStream inputStream = contentResolver.openInputStream(documentFile.getUri());\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n\n                        // logic to read data\n\n                    } catch (JSONException | IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n</code></pre>\n"}],"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688752517,"creation_date":1688453683,"question_id":76610015,"body_markdown":"I am new to Android development and currently working on an app that requires accessing JSON data from text files located in the device&#39;s &quot;Documents&quot; directory. To enable this functionality, I have added the necessary permissions for reading and writing files.\r\n\r\nIn my main activity, I have implemented the onCreate method where I request the required permissions from the user. However, during testing, I encountered an issue where I could only list the directories within the &quot;Documents&quot; directory, but not the actual files contained within them.\r\n\r\nTo investigate the problem, I implemented the onRequestPermissionsResult method and found that the grantResults array returned a value of -1, indicating that the permission request was denied (PERMISSION_DENIED).\r\n\r\nI am currently working on resolving this issue to ensure that the app has proper access to both directories and files within the &quot;Documents&quot; directory.\r\n\r\n\r\nHere&#39;s my code inside onCreate()\r\n```java\r\n\r\nif (ActivityCompat.checkSelfPermission(getApplicationContext(),\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ActivityCompat.checkSelfPermission(getApplicationContext(),\r\n                        Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            ActivityCompat.requestPermissions( this,\r\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                    3);\r\n        } else {\r\n            tryFile();\r\n        }\r\n\r\n```\r\nThe function where I access the storage\r\n```java\r\nprivate void tryFile() {\r\n        File directory = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), MyData&quot;);\r\n        // /storage/emulated/0/Documents/MyData/\r\n        File[] files = directory.listFiles();\r\n        Log.i(&quot;LOAD FILES:&quot;, directory.getAbsolutePath());\r\n        Log.i(&quot;FILE ACCESS: &quot;, &quot;no. of files: &quot;.concat(String.valueOf(files.length)));\r\n\r\n        File file = new File(&quot;/storage/emulated/0/MyData/test.txt&quot;);\r\n        try {\r\n            Log.i(&quot;LOAD FILES:&quot;, &quot;file name: &quot;. concat(file.getName()));\r\n            FileInputStream inputStream = new FileInputStream(file);\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n            String line;\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            while ((line = reader.readLine()) != null) {\r\n                stringBuilder.append(line).append(&#39;\\n&#39;);\r\n            }\r\n            String fileContents = stringBuilder.toString();\r\n            // Get the json object the retrieve the data            \r\n\r\n\r\n        } catch (IOException | JSONException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nThe function onRequestPermissionsResult\r\n```java\r\n@Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == 3) {\r\n            if (grantResults.length &gt; 0\r\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                tryFile();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nHere&#39;s my manifest code\r\n```xml\r\n&lt;uses-sdk\r\n        android:minSdkVersion=&quot;30&quot;\r\n        android:targetSdkVersion=&quot;32&quot;/&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;32&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;32&quot; /&gt;\r\n``` \r\n\r\nAdditionally, I made a peculiar observation while testing the app on my device(Android 13) using Android Studio. I created a new text file from my app in the directory where other files are present. Surprisingly, I could only see the newly created file and not the previously existing files within the directory. Strangely, when I uninstalled the app and reinstalled it through Android Studio, the file I had created in the previous session was no longer visible. This behavior raised further questions and prompted me to investigate the underlying cause.\r\n\r\nPlease guide me to what&#39;s the correct way to read all text files from a directory. I don&#39;t want to store the json data in the app private storage.","title":"Android: Getting PERMISSION_DENIED on requesting Read and Write Permissions","body":"<p>I am new to Android development and currently working on an app that requires accessing JSON data from text files located in the device's &quot;Documents&quot; directory. To enable this functionality, I have added the necessary permissions for reading and writing files.</p>\n<p>In my main activity, I have implemented the onCreate method where I request the required permissions from the user. However, during testing, I encountered an issue where I could only list the directories within the &quot;Documents&quot; directory, but not the actual files contained within them.</p>\n<p>To investigate the problem, I implemented the onRequestPermissionsResult method and found that the grantResults array returned a value of -1, indicating that the permission request was denied (PERMISSION_DENIED).</p>\n<p>I am currently working on resolving this issue to ensure that the app has proper access to both directories and files within the &quot;Documents&quot; directory.</p>\n<p>Here's my code inside onCreate()</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif (ActivityCompat.checkSelfPermission(getApplicationContext(),\n                Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ActivityCompat.checkSelfPermission(getApplicationContext(),\n                        Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n            ActivityCompat.requestPermissions( this,\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE},\n                    3);\n        } else {\n            tryFile();\n        }\n\n</code></pre>\n<p>The function where I access the storage</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void tryFile() {\n        File directory = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), MyData&quot;);\n        // /storage/emulated/0/Documents/MyData/\n        File[] files = directory.listFiles();\n        Log.i(&quot;LOAD FILES:&quot;, directory.getAbsolutePath());\n        Log.i(&quot;FILE ACCESS: &quot;, &quot;no. of files: &quot;.concat(String.valueOf(files.length)));\n\n        File file = new File(&quot;/storage/emulated/0/MyData/test.txt&quot;);\n        try {\n            Log.i(&quot;LOAD FILES:&quot;, &quot;file name: &quot;. concat(file.getName()));\n            FileInputStream inputStream = new FileInputStream(file);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n\n            String line;\n            StringBuilder stringBuilder = new StringBuilder();\n            while ((line = reader.readLine()) != null) {\n                stringBuilder.append(line).append('\\n');\n            }\n            String fileContents = stringBuilder.toString();\n            // Get the json object the retrieve the data            \n\n\n        } catch (IOException | JSONException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>The function onRequestPermissionsResult</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == 3) {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                tryFile();\n            }\n        }\n    }\n</code></pre>\n<p>Here's my manifest code</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-sdk\n        android:minSdkVersion=&quot;30&quot;\n        android:targetSdkVersion=&quot;32&quot;/&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;32&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;32&quot; /&gt;\n</code></pre>\n<p>Additionally, I made a peculiar observation while testing the app on my device(Android 13) using Android Studio. I created a new text file from my app in the directory where other files are present. Surprisingly, I could only see the newly created file and not the previously existing files within the directory. Strangely, when I uninstalled the app and reinstalled it through Android Studio, the file I had created in the previous session was no longer visible. This behavior raised further questions and prompted me to investigate the underlying cause.</p>\n<p>Please guide me to what's the correct way to read all text files from a directory. I don't want to store the json data in the app private storage.</p>\n"},{"tags":["java","maven","maven-site-plugin"],"owner":{"account_id":13800776,"reputation":744,"user_id":9960809,"display_name":"Skenvy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688752437,"creation_date":1688752437,"question_id":76639209,"body_markdown":"I am using the `maven-site-plugin` (version `3.12.1`) to create the site + javadoc reports for a project. I can create the static site with `mvn site:site`, and browse the individual pages just fine, and see they are all built as I would expect, but I also use `mvn site:run` to verify it as it would be served. When I run `mvn site:run`, I can view all the other generated reports (inlduding the xref, test xref, javadoc and checkstyle) but the &quot;test javadoc&quot; report returns an error that culminates in `error: package org.junit does not exist`\r\n```txt\r\njavax.servlet.ServletException: org.apache.maven.doxia.siterenderer.RendererException: Error generating maven-javadoc-plugin:3.5.0:test-aggregate-no-fork report\r\n\tat org.apache.maven.plugins.site.run.DoxiaFilter.doFilter(DoxiaFilter.java:172)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.maven.doxia.siterenderer.RendererException: Error generating maven-javadoc-plugin:3.5.0:test-aggregate-no-fork report\r\n\tat org.apache.maven.plugins.site.render.ReportDocumentRenderer.renderDocument(ReportDocumentRenderer.java:241)\r\n\tat org.apache.maven.plugins.site.run.DoxiaFilter.doFilter(DoxiaFilter.java:150)\r\n\t... 32 more\r\nCaused by: org.apache.maven.reporting.MavenReportException: \r\nExit code: 1\r\n/mnt/c/Workspaces/GitHub_Skenvy/Collatz/java/src/test/java/io/github/skenvy/CollatzTest.java:9: error: package org.junit does not exist\r\nimport static org.junit.Assert.assertArrayEquals;\r\n                       ^\r\n```\r\nThe docs for both [`site:site`](https://maven.apache.org/plugins/maven-site-plugin/site-mojo.html) and [`site:run`](https://maven.apache.org/plugins/maven-site-plugin/run-mojo.html) suggest they both have the same operating attributes, namely\r\n&gt; Executes only as a reportSet (reporting goal).\r\n\r\n&gt; Requires dependency resolution of artifacts in scope: `test`.\r\n\r\nWhy does `site:run` fail to be aware of the JUnit dependency in the test scope when the `site:site` goal is aware of it;\r\n```xml\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\nI&#39;ve had a look at https://stackoverflow.com/questions/12403497/maven-error-package-org-junit-does-not-exist and https://stackoverflow.com/questions/5845990/maven-3-and-junit-4-compilation-problem-package-org-junit-does-not-exist but neither helped.\r\n\r\nMy `&lt;reporting&gt;`\r\n```xml\r\n  &lt;reporting&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;checkstyle&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/reporting&gt;\r\n```\r\n\r\nI&#39;m not sure what else from the pom is relevant; I&#39;ll update with anything necessary -- I&#39;m not familiar enough with it to definitely know something _isn&#39;t_ relevant, so: this is present in [this commit of my project](https://github.com/Skenvy/Collatz/tree/bb1b350981ae7bbdbe412e4ec736961448660a42) and can be reporoduced by running `mvn site:run` from within the java directory.","title":"Maven&#39;s site plugin&#39;s `site:run` goal; server errors when loading the &quot;Test Javadoc&quot; report on &quot;package &lt;x&gt; does not exist&quot;","body":"<p>I am using the <code>maven-site-plugin</code> (version <code>3.12.1</code>) to create the site + javadoc reports for a project. I can create the static site with <code>mvn site:site</code>, and browse the individual pages just fine, and see they are all built as I would expect, but I also use <code>mvn site:run</code> to verify it as it would be served. When I run <code>mvn site:run</code>, I can view all the other generated reports (inlduding the xref, test xref, javadoc and checkstyle) but the &quot;test javadoc&quot; report returns an error that culminates in <code>error: package org.junit does not exist</code></p>\n<pre><code>javax.servlet.ServletException: org.apache.maven.doxia.siterenderer.RendererException: Error generating maven-javadoc-plugin:3.5.0:test-aggregate-no-fork report\n    at org.apache.maven.plugins.site.run.DoxiaFilter.doFilter(DoxiaFilter.java:172)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.Server.handle(Server.java:516)\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.maven.doxia.siterenderer.RendererException: Error generating maven-javadoc-plugin:3.5.0:test-aggregate-no-fork report\n    at org.apache.maven.plugins.site.render.ReportDocumentRenderer.renderDocument(ReportDocumentRenderer.java:241)\n    at org.apache.maven.plugins.site.run.DoxiaFilter.doFilter(DoxiaFilter.java:150)\n    ... 32 more\nCaused by: org.apache.maven.reporting.MavenReportException: \nExit code: 1\n/mnt/c/Workspaces/GitHub_Skenvy/Collatz/java/src/test/java/io/github/skenvy/CollatzTest.java:9: error: package org.junit does not exist\nimport static org.junit.Assert.assertArrayEquals;\n                       ^\n</code></pre>\n<p>The docs for both <a href=\"https://maven.apache.org/plugins/maven-site-plugin/site-mojo.html\" rel=\"nofollow noreferrer\"><code>site:site</code></a> and <a href=\"https://maven.apache.org/plugins/maven-site-plugin/run-mojo.html\" rel=\"nofollow noreferrer\"><code>site:run</code></a> suggest they both have the same operating attributes, namely</p>\n<blockquote>\n<p>Executes only as a reportSet (reporting goal).</p>\n</blockquote>\n<blockquote>\n<p>Requires dependency resolution of artifacts in scope: <code>test</code>.</p>\n</blockquote>\n<p>Why does <code>site:run</code> fail to be aware of the JUnit dependency in the test scope when the <code>site:site</code> goal is aware of it;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>I've had a look at <a href=\"https://stackoverflow.com/questions/12403497/maven-error-package-org-junit-does-not-exist\">maven error: package org.junit does not exist</a> and <a href=\"https://stackoverflow.com/questions/5845990/maven-3-and-junit-4-compilation-problem-package-org-junit-does-not-exist\">Maven 3 and JUnit 4 compilation problem: package org.junit does not exist</a> but neither helped.</p>\n<p>My <code>&lt;reporting&gt;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;reporting&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n        &lt;reportSets&gt;\n          &lt;reportSet&gt;\n            &lt;reports&gt;\n              &lt;report&gt;checkstyle&lt;/report&gt;\n            &lt;/reports&gt;\n          &lt;/reportSet&gt;\n        &lt;/reportSets&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/reporting&gt;\n</code></pre>\n<p>I'm not sure what else from the pom is relevant; I'll update with anything necessary -- I'm not familiar enough with it to definitely know something <em>isn't</em> relevant, so: this is present in <a href=\"https://github.com/Skenvy/Collatz/tree/bb1b350981ae7bbdbe412e4ec736961448660a42\" rel=\"nofollow noreferrer\">this commit of my project</a> and can be reporoduced by running <code>mvn site:run</code> from within the java directory.</p>\n"},{"tags":["java","spring","spring-boot","nginx","redirect"],"owner":{"account_id":28967892,"reputation":26,"user_id":22188849,"display_name":"thevalidator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688752092,"creation_date":1688716737,"question_id":76635002,"body_markdown":"I have the Spring boot 3 application **&quot;my-cool-app&quot;**. It uses Spring security and Thymeleaf. When I test it on my local machine I go to `localhost:8080/my-cool-app/` and everything works fine. Then I deployed it as **my-cool-app.war** file on my server with the external Tomcat 10 installed. The server has several domains and I use Nginx to route the trafic to the correct destination, so all trafic for the **&quot;mycoolapp.com&quot;** domain is routing to the `localhost:8080/my-cool-app/`. \r\nWhen I type in the browser&#39;s address field links like `mycoolapp.com/registration` It works good, but if I click the link on the page for the registration form or the page the redirects me then the URL becomes like `mycoolapp.com/my-cool-app/registration` and I get redirect loop. It adds to the URL adding the app name. I don&#39;t know how to change this behaivour\r\n\r\n**Nginx config:**\r\n\r\n```\r\n#upstream tomcat {\r\n#  server 127.0.0.1:8080 fail_timeout=0;\r\n#}\r\n\r\nserver {\r\n\r\n   #root /var/www/mycoolapp.com/public;\r\n   #index index.html index.htm;\r\n\r\n   server_name mycoolapp.com www.mycoolapp.com;\r\n\r\n   location / {\r\n       #try_files $uri $uri/ =404;\r\n  #proxy_pass http://localhost:8080/my-cool-app/;\r\n  #proxy_set_header  X-Real-IP  $remote_addr;\r\n\r\n  include proxy_params;\r\n  proxy_pass http://tomcat/my-cool-app/;\r\n   }\r\n\r\n    #listen [::]:443 ssl; # managed by Certbot\r\n    #listen 443 ssl; # managed by Certbot\r\n    #ssl_certificate /etc/letsencrypt/live/mycoolapp.com/fullchain.pem; # managed by Certbot\r\n    #ssl_certificate_key /etc/letsencrypt/live/mycoolapp.com/privkey.pem; # managed by Certbot\r\n    #include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\r\n    #ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\r\n\r\n    listen 443 ssl; # managed by Certbot\r\n    ssl_certificate /etc/letsencrypt/live/mycoolapp.com/fullchain.pem; # managed by Certbot\r\n    ssl_certificate_key /etc/letsencrypt/live/mycoolapp.com/privkey.pem; # managed by Certbot\r\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\r\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\r\n}\r\n\r\nserver {\r\n    if ($host = www.mycoolapp.com) {\r\n        return 301 https://$host$request_uri;\r\n    } # managed by Certbot\r\n\r\n\r\n    if ($host = mycoolapp.com) {\r\n        return 301 https://$host$request_uri;\r\n    } # managed by Certbot\r\n\r\n   listen 80;\r\n   listen [::]:80;\r\n\r\n   server_name mycoolapp.com www.mycoolapp.com;\r\n    return 404; # managed by Certbot\r\n}\r\n\r\nserver {\r\n    if ($host = mycoolapp.com) {\r\n        return 301 https://$host$request_uri;\r\n    } # managed by Certbot\r\n\r\n   server_name mycoolapp.com www.mycoolapp.com;\r\n    listen 80;\r\n    return 404; # managed by Certbot\r\n}\r\n```\r\n\r\n\r\n**Controller**\r\n\r\n```\r\npublic class HelloController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String test(Model model) {\r\n        if (isAuthenticated()) {\r\n            return &quot;redirect:home&quot;;\r\n        }\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String login(Model model) {\r\n        if (isAuthenticated()) {\r\n            return &quot;redirect:home&quot;;\r\n        }\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/registration&quot;)\r\n    public String register(Model model) {\r\n        if (isAuthenticated()) {\r\n            return &quot;redirect:home&quot;;\r\n        }\r\n        return &quot;registration&quot;;\r\n    }\r\n    \r\n    @GetMapping(&quot;/create-account&quot;)\r\n    public String checkInviteCode(Model model, @RequestParam(name=&quot;code&quot;, required = true) String code) {\r\n        if (isAuthenticated()) {\r\n            return &quot;redirect:home&quot;;\r\n        }\r\n        if (code.equals(&quot;hello&quot;)) {\r\n            return &quot;registration-form&quot;;\r\n        }        \r\n        return &quot;redirect:registration?error&quot;;\r\n    }\r\n    \r\n    @PostMapping(&quot;/create-account&quot;)\r\n    public String createAccount(Model model, UserDTO dto) {\r\n        if (isAuthenticated()) {\r\n            return &quot;redirect:home&quot;;\r\n        }\r\n        model.addAttribute(&quot;error&quot;, true);\r\n        model.addAttribute(&quot;dto&quot;, dto);\r\n                \r\n        return &quot;registration-form&quot;;\r\n    }\r\n    \r\n    @GetMapping(&quot;/error&quot;)\r\n    public String error(Model model) {\r\n        return &quot;error&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/home&quot;)\r\n    public String helloWorld() {\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n    private boolean isAuthenticated() {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        if (authentication == null || AnonymousAuthenticationToken.class.\r\n                isAssignableFrom(authentication.getClass())) {\r\n            return false;\r\n        }\r\n        return authentication.isAuthenticated();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI tried to use an absolute URL with redirect like `https://mycoolapp.com/registration?error`, but without success. It still adds the app name in the redirect URL link. How can I configure my app for correct redirecting in my case? \r\n\r\nps. I don&#39;t want use Nginx to redirect the trafic for `mycoolapp.com/my-cool-app/**` to `mycoolapp.com/`, need to do it with my application","title":"How to configure correct Spring boot redirection with Nginx?","body":"<p>I have the Spring boot 3 application <strong>&quot;my-cool-app&quot;</strong>. It uses Spring security and Thymeleaf. When I test it on my local machine I go to <code>localhost:8080/my-cool-app/</code> and everything works fine. Then I deployed it as <strong>my-cool-app.war</strong> file on my server with the external Tomcat 10 installed. The server has several domains and I use Nginx to route the trafic to the correct destination, so all trafic for the <strong>&quot;mycoolapp.com&quot;</strong> domain is routing to the <code>localhost:8080/my-cool-app/</code>.\nWhen I type in the browser's address field links like <code>mycoolapp.com/registration</code> It works good, but if I click the link on the page for the registration form or the page the redirects me then the URL becomes like <code>mycoolapp.com/my-cool-app/registration</code> and I get redirect loop. It adds to the URL adding the app name. I don't know how to change this behaivour</p>\n<p><strong>Nginx config:</strong></p>\n<pre><code>#upstream tomcat {\n#  server 127.0.0.1:8080 fail_timeout=0;\n#}\n\nserver {\n\n   #root /var/www/mycoolapp.com/public;\n   #index index.html index.htm;\n\n   server_name mycoolapp.com www.mycoolapp.com;\n\n   location / {\n       #try_files $uri $uri/ =404;\n  #proxy_pass http://localhost:8080/my-cool-app/;\n  #proxy_set_header  X-Real-IP  $remote_addr;\n\n  include proxy_params;\n  proxy_pass http://tomcat/my-cool-app/;\n   }\n\n    #listen [::]:443 ssl; # managed by Certbot\n    #listen 443 ssl; # managed by Certbot\n    #ssl_certificate /etc/letsencrypt/live/mycoolapp.com/fullchain.pem; # managed by Certbot\n    #ssl_certificate_key /etc/letsencrypt/live/mycoolapp.com/privkey.pem; # managed by Certbot\n    #include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\n    #ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\n\n    listen 443 ssl; # managed by Certbot\n    ssl_certificate /etc/letsencrypt/live/mycoolapp.com/fullchain.pem; # managed by Certbot\n    ssl_certificate_key /etc/letsencrypt/live/mycoolapp.com/privkey.pem; # managed by Certbot\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\n}\n\nserver {\n    if ($host = www.mycoolapp.com) {\n        return 301 https://$host$request_uri;\n    } # managed by Certbot\n\n\n    if ($host = mycoolapp.com) {\n        return 301 https://$host$request_uri;\n    } # managed by Certbot\n\n   listen 80;\n   listen [::]:80;\n\n   server_name mycoolapp.com www.mycoolapp.com;\n    return 404; # managed by Certbot\n}\n\nserver {\n    if ($host = mycoolapp.com) {\n        return 301 https://$host$request_uri;\n    } # managed by Certbot\n\n   server_name mycoolapp.com www.mycoolapp.com;\n    listen 80;\n    return 404; # managed by Certbot\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>public class HelloController {\n\n    @GetMapping(&quot;/&quot;)\n    public String test(Model model) {\n        if (isAuthenticated()) {\n            return &quot;redirect:home&quot;;\n        }\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/login&quot;)\n    public String login(Model model) {\n        if (isAuthenticated()) {\n            return &quot;redirect:home&quot;;\n        }\n        return &quot;login&quot;;\n    }\n\n    @GetMapping(&quot;/registration&quot;)\n    public String register(Model model) {\n        if (isAuthenticated()) {\n            return &quot;redirect:home&quot;;\n        }\n        return &quot;registration&quot;;\n    }\n    \n    @GetMapping(&quot;/create-account&quot;)\n    public String checkInviteCode(Model model, @RequestParam(name=&quot;code&quot;, required = true) String code) {\n        if (isAuthenticated()) {\n            return &quot;redirect:home&quot;;\n        }\n        if (code.equals(&quot;hello&quot;)) {\n            return &quot;registration-form&quot;;\n        }        \n        return &quot;redirect:registration?error&quot;;\n    }\n    \n    @PostMapping(&quot;/create-account&quot;)\n    public String createAccount(Model model, UserDTO dto) {\n        if (isAuthenticated()) {\n            return &quot;redirect:home&quot;;\n        }\n        model.addAttribute(&quot;error&quot;, true);\n        model.addAttribute(&quot;dto&quot;, dto);\n                \n        return &quot;registration-form&quot;;\n    }\n    \n    @GetMapping(&quot;/error&quot;)\n    public String error(Model model) {\n        return &quot;error&quot;;\n    }\n\n    @GetMapping(&quot;/home&quot;)\n    public String helloWorld() {\n        return &quot;home&quot;;\n    }\n\n    private boolean isAuthenticated() {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        if (authentication == null || AnonymousAuthenticationToken.class.\n                isAssignableFrom(authentication.getClass())) {\n            return false;\n        }\n        return authentication.isAuthenticated();\n    }\n\n}\n</code></pre>\n<p>I tried to use an absolute URL with redirect like <code>https://mycoolapp.com/registration?error</code>, but without success. It still adds the app name in the redirect URL link. How can I configure my app for correct redirecting in my case?</p>\n<p>ps. I don't want use Nginx to redirect the trafic for <code>mycoolapp.com/my-cool-app/**</code> to <code>mycoolapp.com/</code>, need to do it with my application</p>\n"},{"tags":["java"],"owner":{"account_id":27060708,"reputation":1,"user_id":20612762,"display_name":"JITHENDRA SAI RAMESH MATTA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688750673,"creation_date":1688750673,"question_id":76639042,"body_markdown":"[enter image description here](https://i.stack.imgur.com/stEU4.png)\r\ni am unable to solve this\r\n\r\ngive me any solution\r\nContext Path:/CourierEP\r\nServlet Path:/home.xhtml\r\nPath Info:null\r\nQuery String:null\r\nStack Trace:\r\njavax.servlet.ServletException: Unable to make field private static final java.lang.reflect.Method jdk.proxy26.$Proxy98.m0 accessible: module jdk.proxy26 does not &quot;opens jdk.proxy26&quot; to unnamed module @248a783b\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:725)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\r\n\tat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n\tat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n\tat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy26.$Proxy98.m0 accessible: module jdk.proxy26 does not &quot;opens jdk.proxy26&quot; to unnamed module @248a783b\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation$1.doCompute(EJBProxyInformation.java:101)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation$1.computeValue(EJBProxyInformation.java:72)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation$1.computeValue(EJBProxyInformation.java:66)\r\n\tat java.base/java.lang.ClassValue.getFromHashMap(ClassValue.java:228)\r\n\tat java.base/java.lang.ClassValue.getFromBackup(ClassValue.java:210)\r\n\tat java.base/java.lang.ClassValue.get(ClassValue.java:116)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation.forViewType(EJBProxyInformation.java:242)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBLocator.getProxyInformation(EJBLocator.java:375)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBLocator.getProxyConstructor(EJBLocator.java:370)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBLocator.createProxyInstance(EJBLocator.java:387)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBClient.createProxy(EJBClient.java:161)\r\n\tat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBClient.createProxy(EJBClient.java:156)\r\n\tat org.jboss.as.ejb3@7.3.0.GA-redhat-00004//org.jboss.as.ejb3.remote.RemoteViewManagedReferenceFactory.getReference(RemoteViewManagedReferenceFactory.java:105)\r\n\tat org.jboss.as.weld.common@7.3.0.GA-redhat-00004//org.jboss.as.weld.services.bootstrap.ManagedReferenceFactoryToResourceReferenceFactoryAdapter.createResource(ManagedReferenceFactoryToResourceReferenceFactoryAdapter.java:46)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.AbstractResourceInjection.getResourceReference(AbstractResourceInjection.java:49)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.AbstractResourceInjection.injectResourceReference(AbstractResourceInjection.java:63)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.util.Beans.injectEEFields(Beans.java:309)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.producer.ResourceInjector$1.proceed(ResourceInjector.java:68)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:71)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:117)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:161)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.util.bean.IsolatedForwardingBean.create(IsolatedForwardingBean.java:45)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.ViewScopeContextManager.createBean(ViewScopeContextManager.java:122)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.ViewScopeContext.get(ViewScopeContext.java:114)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.contexts.PassivatingContextWrapper$AbstractPassivatingContextWrapper.get(PassivatingContextWrapper.java:84)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:694)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.AbstractWeldELResolver.lookup(AbstractWeldELResolver.java:107)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.AbstractWeldELResolver.getValue(AbstractWeldELResolver.java:90)\r\n\tat org.jboss.as.jsf-injection//org.jboss.as.jsf.injection.weld.ForwardingELResolver.getValue(ForwardingELResolver.java:46)\r\n\tat javax.el.api@2.0.0.Final-redhat-00001//javax.el.CompositeELResolver.getValue(CompositeELResolver.java:136)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:156)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:184)\r\n\tat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.parser.AstIdentifier.getValue(AstIdentifier.java:92)\r\n\tat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.parser.AstValue.getBase(AstValue.java:126)\r\n\tat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.parser.AstValue.getValue(AstValue.java:175)\r\n\tat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:202)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\r\n\tat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:73)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:170)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:157)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIOutput.getValue(UIOutput.java:140)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIInput.getValue(UIInput.java:287)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.renderkit.html_basic.HtmlBasicInputRenderer.getValue(HtmlBasicInputRenderer.java:181)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.getCurrentValue(HtmlBasicRenderer.java:328)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeEnd(HtmlBasicRenderer.java:143)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:595)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponent.encodeAll(UIComponent.java:1654)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.render.Renderer.encodeChildren(Renderer.java:152)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:566)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponent.encodeAll(UIComponent.java:1647)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:468)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:170)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:102)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)\r\n\tat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:199)\r\n\tat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:708)\r\n\t... 49 more","title":"javax.servlet.ServletException: Unable to make field private static final java.lang.reflect.Me","body":"<p><a href=\"https://i.stack.imgur.com/stEU4.png\" rel=\"nofollow noreferrer\">enter image description here</a>\ni am unable to solve this</p>\n<p>give me any solution\nContext Path:/CourierEP\nServlet Path:/home.xhtml\nPath Info:null\nQuery String:null\nStack Trace:\njavax.servlet.ServletException: Unable to make field private static final java.lang.reflect.Method jdk.proxy26.$Proxy98.m0 accessible: module jdk.proxy26 does not &quot;opens jdk.proxy26&quot; to unnamed module @248a783b\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:725)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.webapp.FacesServlet.service(FacesServlet.java:451)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\nat io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\nat org.wildfly.extension.undertow@7.3.0.GA-redhat-00004//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\nat io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\nat io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\nat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\nat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.lang.reflect.Method jdk.proxy26.$Proxy98.m0 accessible: module jdk.proxy26 does not &quot;opens jdk.proxy26&quot; to unnamed module @248a783b\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\nat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation$1.doCompute(EJBProxyInformation.java:101)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation$1.computeValue(EJBProxyInformation.java:72)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation$1.computeValue(EJBProxyInformation.java:66)\nat java.base/java.lang.ClassValue.getFromHashMap(ClassValue.java:228)\nat java.base/java.lang.ClassValue.getFromBackup(ClassValue.java:210)\nat java.base/java.lang.ClassValue.get(ClassValue.java:116)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBProxyInformation.forViewType(EJBProxyInformation.java:242)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBLocator.getProxyInformation(EJBLocator.java:375)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBLocator.getProxyConstructor(EJBLocator.java:370)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBLocator.createProxyInstance(EJBLocator.java:387)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBClient.createProxy(EJBClient.java:161)\nat org.jboss.ejb-client@4.0.27.Final-redhat-00001//org.jboss.ejb.client.EJBClient.createProxy(EJBClient.java:156)\nat org.jboss.as.ejb3@7.3.0.GA-redhat-00004//org.jboss.as.ejb3.remote.RemoteViewManagedReferenceFactory.getReference(RemoteViewManagedReferenceFactory.java:105)\nat org.jboss.as.weld.common@7.3.0.GA-redhat-00004//org.jboss.as.weld.services.bootstrap.ManagedReferenceFactoryToResourceReferenceFactoryAdapter.createResource(ManagedReferenceFactoryToResourceReferenceFactoryAdapter.java:46)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.AbstractResourceInjection.getResourceReference(AbstractResourceInjection.java:49)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.AbstractResourceInjection.injectResourceReference(AbstractResourceInjection.java:63)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.util.Beans.injectEEFields(Beans.java:309)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.producer.ResourceInjector$1.proceed(ResourceInjector.java:68)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:71)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:117)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:161)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.util.bean.IsolatedForwardingBean.create(IsolatedForwardingBean.java:45)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.ViewScopeContextManager.createBean(ViewScopeContextManager.java:122)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.ViewScopeContext.get(ViewScopeContext.java:114)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.contexts.PassivatingContextWrapper$AbstractPassivatingContextWrapper.get(PassivatingContextWrapper.java:84)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:694)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.AbstractWeldELResolver.lookup(AbstractWeldELResolver.java:107)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.AbstractWeldELResolver.getValue(AbstractWeldELResolver.java:90)\nat org.jboss.as.jsf-injection//org.jboss.as.jsf.injection.weld.ForwardingELResolver.getValue(ForwardingELResolver.java:46)\nat javax.el.api@2.0.0.Final-redhat-00001//javax.el.CompositeELResolver.getValue(CompositeELResolver.java:136)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:156)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:184)\nat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.parser.AstIdentifier.getValue(AstIdentifier.java:92)\nat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.parser.AstValue.getBase(AstValue.java:126)\nat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.parser.AstValue.getValue(AstValue.java:175)\nat org.glassfish.jakarta.el@3.0.2.redhat-00001//com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:202)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\nat org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.module.web.el.WeldValueExpression.getValue(WeldValueExpression.java:50)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:73)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:170)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:157)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIOutput.getValue(UIOutput.java:140)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIInput.getValue(UIInput.java:287)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.renderkit.html_basic.HtmlBasicInputRenderer.getValue(HtmlBasicInputRenderer.java:181)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.getCurrentValue(HtmlBasicRenderer.java:328)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeEnd(HtmlBasicRenderer.java:143)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:595)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponent.encodeAll(UIComponent.java:1654)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.render.Renderer.encodeChildren(Renderer.java:152)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:566)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponent.encodeAll(UIComponent.java:1647)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.component.UIComponent.encodeAll(UIComponent.java:1650)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:468)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:170)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:132)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:102)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.lifecycle.Phase.doPhase(Phase.java:76)\nat com.sun.jsf-impl@2.3.9.SP05-redhat-00001//com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:199)\nat javax.faces.api@3.0.0.SP01-redhat-00001//javax.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:708)\n... 49 more</p>\n"},{"tags":["java","swing","jtable"],"answers":[{"comments":[{"owner":{"account_id":121177,"reputation":18547,"user_id":314073,"accept_rate":88,"display_name":"Xorty"},"score":0,"creation_date":1277673475,"post_id":3128910,"comment_id":3213482,"body_markdown":"well that&#39;s for cells not headers.","body":"well that&#39;s for cells not headers."}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549285729,"creation_date":1277673090,"answer_id":3128910,"question_id":3128883,"body_markdown":"Maybe this helps, I haven&#39;t tested it though:  \r\n\r\n    class RotatedTableCellRenderer extends JLabel implements TableCellRenderer {  \r\n        protected int m_degreesRotation = -90;  \r\n       \r\n        public RotatedTableCellRenderer(int degrees) {  \r\n            m_degreesRotation = degrees;  \r\n        }  \r\n       \r\n        public Component getTableCellRendererComponent(JTable table, Object value,   \r\n            boolean isSelected, boolean hasFocus, int row, int column) {  \r\n                \r\n            try {  \r\n                this.setText(value.toString());  \r\n            } catch(NullPointerException ne) {  \r\n                    this.setText(&quot;Nullvalue&quot;);  \r\n            }  \r\n\r\n            return this;  \r\n        }  \r\n       \r\n        public void paint(Graphics g) {  \r\n            Graphics2D g2 = (Graphics2D)g;  \r\n            g2.setClip(0,0,500,500);  \r\n            g2.setColor(new Color(60,179,113));  \r\n            g2.setFont(new Font(&quot;Arial&quot;,Font.BOLD,12));  \r\n            AffineTransform at = new AffineTransform();  \r\n            at.setToTranslation(this.getWidth(), this.getHeight());  \r\n            g2.transform(at);  \r\n            double radianAngle = ( ((double)m_degreesRotation) / ((double)180) ) * Math.PI;  \r\n            at.setToRotation(radianAngle);  \r\n            g2.transform(at);  \r\n            g2.drawString(this.getText(), 0.0f, 0.0f);  \r\n        }  \r\n    }  \r\n\r\n\r\nThis is not my own, taken from [here][1]\r\n\r\n\r\n  [1]: http://www.coderanch.com/t/346914/GUI/java/JTableHeader","title":"Vertical headers in JTable?","body":"<p>Maybe this helps, I haven't tested it though:  </p>\n\n<pre><code>class RotatedTableCellRenderer extends JLabel implements TableCellRenderer {  \n    protected int m_degreesRotation = -90;  \n\n    public RotatedTableCellRenderer(int degrees) {  \n        m_degreesRotation = degrees;  \n    }  \n\n    public Component getTableCellRendererComponent(JTable table, Object value,   \n        boolean isSelected, boolean hasFocus, int row, int column) {  \n\n        try {  \n            this.setText(value.toString());  \n        } catch(NullPointerException ne) {  \n                this.setText(\"Nullvalue\");  \n        }  \n\n        return this;  \n    }  \n\n    public void paint(Graphics g) {  \n        Graphics2D g2 = (Graphics2D)g;  \n        g2.setClip(0,0,500,500);  \n        g2.setColor(new Color(60,179,113));  \n        g2.setFont(new Font(\"Arial\",Font.BOLD,12));  \n        AffineTransform at = new AffineTransform();  \n        at.setToTranslation(this.getWidth(), this.getHeight());  \n        g2.transform(at);  \n        double radianAngle = ( ((double)m_degreesRotation) / ((double)180) ) * Math.PI;  \n        at.setToRotation(radianAngle);  \n        g2.transform(at);  \n        g2.drawString(this.getText(), 0.0f, 0.0f);  \n    }  \n}  \n</code></pre>\n\n<p>This is not my own, taken from <a href=\"http://www.coderanch.com/t/346914/GUI/java/JTableHeader\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":121177,"reputation":18547,"user_id":314073,"accept_rate":88,"display_name":"Xorty"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1277673274,"creation_date":1277673274,"answer_id":3128920,"question_id":3128883,"body_markdown":"This is little tricky. At first, you need to cast JTable headers to JLabels. It&#39;s just like\r\n\r\n     ((JLabel)table.getTableHeader()\r\n\r\nThen **rotate** JLabels. It&#39;s already answered [here on StackOverflow][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/620929/rotate-a-swing-jlabel","title":"Vertical headers in JTable?","body":"<p>This is little tricky. At first, you need to cast JTable headers to JLabels. It's just like</p>\n\n<pre><code> ((JLabel)table.getTableHeader()\n</code></pre>\n\n<p>Then <strong>rotate</strong> JLabels. It's already answered <a href=\"https://stackoverflow.com/questions/620929/rotate-a-swing-jlabel\">here on StackOverflow</a></p>\n"},{"comments":[{"owner":{"account_id":1581,"reputation":9633,"user_id":2118,"accept_rate":73,"display_name":"AnnanFay"},"score":0,"creation_date":1332960933,"post_id":3129071,"comment_id":12650995,"body_markdown":"One problem with this is that this doesn&#39;t respect os themes :(","body":"One problem with this is that this doesn&#39;t respect os themes :("}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1277676443,"creation_date":1277676443,"answer_id":3129071,"question_id":3128883,"body_markdown":"Check out Darryl&#39;s [Vertical Table Header Cell Renderer][1].\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2009/03/06/vertical-table-header-cell-renderer/","title":"Vertical headers in JTable?","body":"<p>Check out Darryl's <a href=\"http://tips4java.wordpress.com/2009/03/06/vertical-table-header-cell-renderer/\" rel=\"noreferrer\">Vertical Table Header Cell Renderer</a>.</p>\n"},{"tags":[],"owner":{"account_id":25428339,"reputation":39,"user_id":19233194,"display_name":"Rohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688750657,"creation_date":1688750657,"answer_id":76639041,"question_id":3128883,"body_markdown":"Hope this would helps!!\r\n\r\n    public VerticalTableHeaderCellRenderer() {\r\n            setHorizontalAlignment(LEFT);\r\n            setHorizontalTextPosition(CENTER);\r\n            setVerticalAlignment(CENTER);\r\n            setVerticalTextPosition(TOP);\r\n            setUI(new VerticalLabelUI());        \r\n        }\r\n\r\n    TableCellRenderer headerRenderer = new VerticalTableHeaderCellRenderer();\r\n    int colCount = j.getColumnCount();  //J is JTable object\r\n    for(int i =1; i&lt;colCount; i++){\r\n                 j.getColumnModel().getColumn(i).setHeaderRenderer(headerRenderer);\r\n            }\r\n\r\n","title":"Vertical headers in JTable?","body":"<p>Hope this would helps!!</p>\n<pre><code>public VerticalTableHeaderCellRenderer() {\n        setHorizontalAlignment(LEFT);\n        setHorizontalTextPosition(CENTER);\n        setVerticalAlignment(CENTER);\n        setVerticalTextPosition(TOP);\n        setUI(new VerticalLabelUI());        \n    }\n\nTableCellRenderer headerRenderer = new VerticalTableHeaderCellRenderer();\nint colCount = j.getColumnCount();  //J is JTable object\nfor(int i =1; i&lt;colCount; i++){\n             j.getColumnModel().getColumn(i).setHeaderRenderer(headerRenderer);\n        }\n</code></pre>\n"}],"owner":{"account_id":54298,"reputation":5533,"user_id":162414,"accept_rate":81,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10044,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":3129071,"answer_count":4,"score":11,"last_activity_date":1688750657,"creation_date":1277672372,"question_id":3128883,"body_markdown":"Is there a way to rotate 90&#186; the column headers of a JTable?","title":"Vertical headers in JTable?","body":"<p>Is there a way to rotate 90º the column headers of a JTable?</p>\n"},{"tags":["java","android","webview","android-webview","jsoup"],"comments":[{"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"score":0,"creation_date":1688858115,"post_id":76639007,"comment_id":135130746,"body_markdown":"No way you can do this with Jsoup. Jsoup doesn&#39;t execute JavaScript and this page seems to rely on JS.","body":"No way you can do this with Jsoup. Jsoup doesn&#39;t execute JavaScript and this page seems to rely on JS."},{"owner":{"account_id":26035935,"reputation":51,"user_id":19741383,"display_name":"Malik Farooq"},"score":1,"creation_date":1688991718,"post_id":76639007,"comment_id":135145249,"body_markdown":"yes you are right i did with an other way like WebView providing like \nmWebView.getSettings().setJavaScriptEnabled(true);\nview.loadUrl(&quot;javascript:document.getElementsByClassName(&#39;footer&#39;)[0].style.display=&#39;none&#39;;&quot;);","body":"yes you are right i did with an other way like WebView providing like  mWebView.getSettings().setJavaScriptEnabled(true); view.loadUrl(&quot;javascript:document.getElementsByClassName(&#39;fo&zwnj;&#8203;oter&#39;)[0].style.disp&zwnj;&#8203;lay=&#39;none&#39;;&quot;);"}],"owner":{"account_id":26035935,"reputation":51,"user_id":19741383,"display_name":"Malik Farooq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688750396,"creation_date":1688750396,"question_id":76639007,"body_markdown":"Unable to load Whatsapp  web URL using  android Jsoup library and here I am using this code.\r\n\r\n```\r\n\r\n    webView = findViewById(R.id.webview);\r\n    WebSettings webSettings = webView.getSettings();\r\n    webSettings.setJavaScriptEnabled(true);\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                String url = &quot;https://web.whatsapp.com&quot;;\r\n                Document doc = Jsoup.connect(url)\r\n                        .header(&quot;User-Agent&quot;, USER_AGENT)  // Add your User-Agent here\r\n                        .get();\r\n                final String htmlData = doc.html();\r\n\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        webView.loadData(htmlData, &quot;text/html&quot;, &quot;utf-8&quot;);\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.d(&quot;Exception&quot;, &quot;run: &quot;+e.getMessage());\r\n            }\r\n        }\r\n    }).start();\r\n}\r\n```\r\n\r\nbasically I need to change Whatsapp web UI by using Jsoup because jsoup providing some build in function to hide the divs in the webview","title":"Whatsapp web in webview by using Jsoup","body":"<p>Unable to load Whatsapp  web URL using  android Jsoup library and here I am using this code.</p>\n<pre><code>\n    webView = findViewById(R.id.webview);\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                String url = &quot;https://web.whatsapp.com&quot;;\n                Document doc = Jsoup.connect(url)\n                        .header(&quot;User-Agent&quot;, USER_AGENT)  // Add your User-Agent here\n                        .get();\n                final String htmlData = doc.html();\n\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        webView.loadData(htmlData, &quot;text/html&quot;, &quot;utf-8&quot;);\n                    }\n                });\n            } catch (Exception e) {\n                e.printStackTrace();\n                Log.d(&quot;Exception&quot;, &quot;run: &quot;+e.getMessage());\n            }\n        }\n    }).start();\n}\n</code></pre>\n<p>basically I need to change Whatsapp web UI by using Jsoup because jsoup providing some build in function to hide the divs in the webview</p>\n"},{"tags":["java","android","apk","proguard","dexguard"],"comments":[{"owner":{"account_id":2147347,"reputation":2879,"user_id":1904696,"accept_rate":56,"display_name":"Meenal"},"score":0,"creation_date":1688751381,"post_id":76638939,"comment_id":135120779,"body_markdown":"As per the link you shared for closest one, you need to use older version of firebase..try with that","body":"As per the link you shared for closest one, you need to use older version of firebase..try with that"},{"owner":{"account_id":16452219,"reputation":552,"user_id":11885361,"display_name":"hanan"},"score":0,"creation_date":1688756898,"post_id":76638939,"comment_id":135121565,"body_markdown":"@Meenal well I don&#39;t have access source code right now what can I do about this?","body":"@Meenal well I don&#39;t have access source code right now what can I do about this?"},{"owner":{"account_id":2147347,"reputation":2879,"user_id":1904696,"accept_rate":56,"display_name":"Meenal"},"score":0,"creation_date":1688853326,"post_id":76638939,"comment_id":135130388,"body_markdown":"you need to change the version of firebase in gradle","body":"you need to change the version of firebase in gradle"},{"owner":{"account_id":16452219,"reputation":552,"user_id":11885361,"display_name":"hanan"},"score":0,"creation_date":1689099720,"post_id":76638939,"comment_id":135164403,"body_markdown":"@meenal, I don&#39;t have access the source code unfortunately now","body":"@meenal, I don&#39;t have access the source code unfortunately now"}],"owner":{"account_id":16452219,"reputation":552,"user_id":11885361,"display_name":"hanan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688749612,"creation_date":1688749612,"question_id":76638939,"body_markdown":"my android application works fine on real devices. but when I install it on emulators like `genymotion` it installs fine. but when I run/tab it, it stops working and in the `logcat` this log is written\r\n\r\n```\r\njava.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.ArrayIndexOutOfBoundsException: length=55172583; index=-1\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6988)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6528)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6445)\r\n        at android.app.ActivityThread.access$1300(ActivityThread.java:219)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1859)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: length=55172583; index=-1\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:2016)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2092)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2066)\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(:58)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6983)\r\n        ... 10 more\r\n```\r\nno idea, why this is happening in the emulators. additionally I have tried to search on `google` if it was faced by others. the [closest one][1] was found on this site `Stackoverflow` but no luck as well as the user posted that the problem was `proguard` or `dexguard` but I have no idea how to solve this. could you please guide me on this? what is wrong here? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75047130/java-lang-runtimeexception-unable-to-get-provider-com-google-firebase-provider","title":"Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.ArrayIndexOutOfBoundsException","body":"<p>my android application works fine on real devices. but when I install it on emulators like <code>genymotion</code> it installs fine. but when I run/tab it, it stops working and in the <code>logcat</code> this log is written</p>\n<pre><code>java.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.ArrayIndexOutOfBoundsException: length=55172583; index=-1\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6988)\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6528)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6445)\n        at android.app.ActivityThread.access$1300(ActivityThread.java:219)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1859)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: length=55172583; index=-1\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:2016)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2092)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2066)\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(:58)\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6983)\n        ... 10 more\n</code></pre>\n<p>no idea, why this is happening in the emulators. additionally I have tried to search on <code>google</code> if it was faced by others. the <a href=\"https://stackoverflow.com/questions/75047130/java-lang-runtimeexception-unable-to-get-provider-com-google-firebase-provider\">closest one</a> was found on this site <code>Stackoverflow</code> but no luck as well as the user posted that the problem was <code>proguard</code> or <code>dexguard</code> but I have no idea how to solve this. could you please guide me on this? what is wrong here?</p>\n"},{"tags":["java","netbeans","pdfbox","noclassdeffounderror"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1688749234,"post_id":76638461,"comment_id":135120391,"body_markdown":"Which jar file did you use? Did you verify the checksum?","body":"Which jar file did you use? Did you verify the checksum?"}],"owner":{"account_id":2890104,"reputation":7,"user_id":2479098,"display_name":"cjingeorgia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688749284,"creation_date":1688745177,"question_id":76638461,"body_markdown":"The below code throws &quot;NoClassDefFound&quot; error at PDDocument document\r\n```\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\n\r\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\r\n\r\n\r\n   // Specify the input PDF file\r\n        String inputPDF = &quot;C:\\\\Users\\\\Chris-Whpr\\\\Documents\\\\input.pdf&quot;;\r\n       \r\n        // Specify the output PDF file\r\n        String outputPDF = &quot;output.pdf&quot;;\r\n\r\n        try {\r\n            // Load the existing PDF document\r\n            PDDocument document = PDDocument.load(new File(inputPDF));\r\n```\r\n\r\n\r\nThe PDFBox jar has been added to my library correctly and imports without error.\r\n\r\nI tried closing/opening Netbeans but no dice.","title":"NoClassDefFound Error but the class is there? Netbeans","body":"<p>The below code throws &quot;NoClassDefFound&quot; error at PDDocument document</p>\n<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\n\n\n   // Specify the input PDF file\n        String inputPDF = &quot;C:\\\\Users\\\\Chris-Whpr\\\\Documents\\\\input.pdf&quot;;\n       \n        // Specify the output PDF file\n        String outputPDF = &quot;output.pdf&quot;;\n\n        try {\n            // Load the existing PDF document\n            PDDocument document = PDDocument.load(new File(inputPDF));\n</code></pre>\n<p>The PDFBox jar has been added to my library correctly and imports without error.</p>\n<p>I tried closing/opening Netbeans but no dice.</p>\n"},{"tags":["java","java-11","javac"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1688749608,"post_id":76638893,"comment_id":135120452,"body_markdown":"Are you looking for something like https://stackoverflow.com/questions/40850926/nameof-equivalent-in-java?","body":"Are you looking for something like <a href=\"https://stackoverflow.com/questions/40850926/nameof-equivalent-in-java\" title=\"nameof equivalent in java\">stackoverflow.com/questions/40850926/nameof-equivalent-in-ja&zwnj;&#8203;va</a>?"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1688751396,"post_id":76638893,"comment_id":135120781,"body_markdown":"To transform class files you can use [https://asm.ow2.io/](https://asm.ow2.io/) or wait for the [Class-File API](https://openjdk.org/jeps/8280389) to reach preview status.","body":"To transform class files you can use <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">https://asm.ow2.io/</a> or wait for the <a href=\"https://openjdk.org/jeps/8280389\" rel=\"nofollow noreferrer\">Class-File API</a> to reach preview status."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688758053,"post_id":76638893,"comment_id":135121692,"body_markdown":"The `java.compiler` / `jdk.compiler` modules don&#39;t provide an API to do this. What you want to do is similar to what Lombok does, and that library does this by &quot;hacking&quot; into the internals of javac and ECJ (each compiler requires a different implementation, if you want to support each of them). Maybe you can extend Lombok (not sure). At the very least, you can see how Lombok is implemented: https://github.com/projectlombok/lombok","body":"The <code>java.compiler</code> / <code>jdk.compiler</code> modules don&#39;t provide an API to do this. What you want to do is similar to what Lombok does, and that library does this by &quot;hacking&quot; into the internals of javac and ECJ (each compiler requires a different implementation, if you want to support each of them). Maybe you can extend Lombok (not sure). At the very least, you can see how Lombok is implemented: <a href=\"https://github.com/projectlombok/lombok\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok</a>"}],"owner":{"account_id":277592,"reputation":593,"user_id":571682,"accept_rate":67,"display_name":"lelmarir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688749100,"creation_date":1688749100,"question_id":76638893,"body_markdown":"I have an interface like this\r\n\r\n    @MyAnnotation\r\n    public interface Foo {\r\n    \tpublic String methodA();\r\n        public String methodB();\r\n    }\r\n\r\nI&#39;d like, **at compilation time**, to add some constant filed to this interface **without modifying the source code**\r\n\r\n    @MyAnnotation\r\n    public interface Foo {\r\n\t\tstatic final String METHOD_A = &quot;methodA&quot;;\r\n\t\tstatic final String METHOD_B = &quot;methodB&quot;;\r\n\r\n    \tString methodA();\r\n        String methodB();\r\n    }\r\n\r\nso in the code I can use `Foo.METHOD_A` event though the constant is not defined (like Lombok)\r\n\r\nI&#39;ve foude some examples using AnnotationProcessors (https://gist.github.com/pietrocaselani/8624554 or https://github.com/sockeqwe/annotationprocessing101) but they seem to use `com.sun.tools.javac` that is for java8 and i dont seem to find an alternative for java11\r\n","title":"Add constant field to interface during compilation","body":"<p>I have an interface like this</p>\n<pre><code>@MyAnnotation\npublic interface Foo {\n    public String methodA();\n    public String methodB();\n}\n</code></pre>\n<p>I'd like, <strong>at compilation time</strong>, to add some constant filed to this interface <strong>without modifying the source code</strong></p>\n<pre><code>@MyAnnotation\npublic interface Foo {\n    static final String METHOD_A = &quot;methodA&quot;;\n    static final String METHOD_B = &quot;methodB&quot;;\n\n    String methodA();\n    String methodB();\n}\n</code></pre>\n<p>so in the code I can use <code>Foo.METHOD_A</code> event though the constant is not defined (like Lombok)</p>\n<p>I've foude some examples using AnnotationProcessors (<a href=\"https://gist.github.com/pietrocaselani/8624554\" rel=\"nofollow noreferrer\">https://gist.github.com/pietrocaselani/8624554</a> or <a href=\"https://github.com/sockeqwe/annotationprocessing101\" rel=\"nofollow noreferrer\">https://github.com/sockeqwe/annotationprocessing101</a>) but they seem to use <code>com.sun.tools.javac</code> that is for java8 and i dont seem to find an alternative for java11</p>\n"},{"tags":["java","mongodb","spring-boot","reactive","spring-data-r2dbc"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1652517976,"post_id":72238613,"comment_id":127629191,"body_markdown":"It should work if you are using Mongo 4.x or later.","body":"It should work if you are using Mongo 4.x or later."},{"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"score":0,"creation_date":1652518187,"post_id":72238613,"comment_id":127629226,"body_markdown":"I use MongoDB v5.0.8. And it does not work.","body":"I use MongoDB v5.0.8. And it does not work."},{"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"score":0,"creation_date":1652518271,"post_id":72238613,"comment_id":127629241,"body_markdown":"Why it is closed? The question https://stackoverflow.com/questions/55087184/does-spring-transactional-work-with-mongodb is about regular mongoDB and mine is for reactive. It is another issue.","body":"Why it is closed? The question <a href=\"https://stackoverflow.com/questions/55087184/does-spring-transactional-work-with-mongodb\" title=\"does spring transactional work with mongodb\">stackoverflow.com/questions/55087184/&hellip;</a> is about regular mongoDB and mine is for reactive. It is another issue."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1652518828,"post_id":72238613,"comment_id":127629328,"body_markdown":"AFAIK it is the same annotation in both cases.","body":"AFAIK it is the same annotation in both cases."}],"answers":[{"tags":[],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685270126,"creation_date":1652534535,"answer_id":72240623,"question_id":72238613,"body_markdown":"It seems like that Spring Data for reactive MongoDB requires to set explicitly a special bean `transactionManager`. As soon as I have added this bean to my  configuration for the reactive MongoDB, the `@Transactional` annotation started working. So the example method posted in my question does not add a new row to the database anymore if an error occurs inside the method. \r\n\r\nHere is my configuration with `transactionManager` bean: \r\n\r\n    @Configuration\r\n    @EnableReactiveMongoRepositories\r\n    @AllArgsConstructor\r\n    public class ReactiveMongoConfiguration extends AbstractReactiveMongoConfiguration {\r\n    \r\n      private final MongoProperties mongoProperties;\r\n    \r\n      @Override\r\n      public MongoClient reactiveMongoClient() {\r\n        return MongoClients.create();\r\n      }\r\n    \r\n      @Override\r\n      protected String getDatabaseName() {\r\n        return mongoProperties.getDatabase();\r\n      }\r\n    \r\n      @Bean\r\n      ReactiveMongoTransactionManager transactionManager(ReactiveMongoDatabaseFactory reactiveMongoDatabaseFactory) {\r\n        return new ReactiveMongoTransactionManager(reactiveMongoDatabaseFactory);\r\n      }\r\n\r\nP.S.\r\nIt turns out the defining of `transactionManager` bean is not enough to enable transactions in reactive MongoDB. The very server of MongoDB should be also configured with `replication`. I followed these [steps][1] and it worked for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67341026/4003272","title":"WebFlux Spring Boot @Transactional with reactive MongoDB","body":"<p>It seems like that Spring Data for reactive MongoDB requires to set explicitly a special bean <code>transactionManager</code>. As soon as I have added this bean to my  configuration for the reactive MongoDB, the <code>@Transactional</code> annotation started working. So the example method posted in my question does not add a new row to the database anymore if an error occurs inside the method.</p>\n<p>Here is my configuration with <code>transactionManager</code> bean:</p>\n<pre><code>@Configuration\n@EnableReactiveMongoRepositories\n@AllArgsConstructor\npublic class ReactiveMongoConfiguration extends AbstractReactiveMongoConfiguration {\n\n  private final MongoProperties mongoProperties;\n\n  @Override\n  public MongoClient reactiveMongoClient() {\n    return MongoClients.create();\n  }\n\n  @Override\n  protected String getDatabaseName() {\n    return mongoProperties.getDatabase();\n  }\n\n  @Bean\n  ReactiveMongoTransactionManager transactionManager(ReactiveMongoDatabaseFactory reactiveMongoDatabaseFactory) {\n    return new ReactiveMongoTransactionManager(reactiveMongoDatabaseFactory);\n  }\n</code></pre>\n<p>P.S.\nIt turns out the defining of <code>transactionManager</code> bean is not enough to enable transactions in reactive MongoDB. The very server of MongoDB should be also configured with <code>replication</code>. I followed these <a href=\"https://stackoverflow.com/a/67341026/4003272\">steps</a> and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":28971743,"reputation":1,"user_id":22191878,"display_name":"George Sorotos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688749088,"creation_date":1688749088,"answer_id":76638892,"question_id":72238613,"body_markdown":"I used the above configuration for the `TransactionManager` but then my app was failing with error\r\n\r\n    Command failed with error 13 (Unauthorized): &#39;command find requires authentication&#39; on server localhost:27017\r\n\r\nIt seems that the MongoClient needed username, databaseName and password to work as expected.\r\n\r\n    @Configuration\r\n    @EnableReactiveMongoRepositories\r\n    @AllArgsConstructor\r\n    public class MongoRepositoryConfiguration extends AbstractReactiveMongoConfiguration {\r\n    \r\n        private final MongoProperties mongoProperties;\r\n    \r\n        @Override\r\n        public MongoClient reactiveMongoClient() {\r\n            //Create a mongo client with credentials\r\n            MongoCredential credential = MongoCredential.createCredential(mongoProperties.getUsername(), mongoProperties.getDatabase(), mongoProperties.getPassword());\r\n            return MongoClients.create(\r\n                    MongoClientSettings.builder()\r\n                            .credential(credential)\r\n                            .build()\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        protected String getDatabaseName() {\r\n            return mongoProperties.getDatabase();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        ReactiveMongoTransactionManager transactionManager(ReactiveMongoDatabaseFactory reactiveMongoDatabaseFactory) {\r\n            return new ReactiveMongoTransactionManager(reactiveMongoDatabaseFactory);\r\n        }\r\n    \r\n    }\r\n\r\n ","title":"WebFlux Spring Boot @Transactional with reactive MongoDB","body":"<p>I used the above configuration for the <code>TransactionManager</code> but then my app was failing with error</p>\n<pre><code>Command failed with error 13 (Unauthorized): 'command find requires authentication' on server localhost:27017\n</code></pre>\n<p>It seems that the MongoClient needed username, databaseName and password to work as expected.</p>\n<pre><code>@Configuration\n@EnableReactiveMongoRepositories\n@AllArgsConstructor\npublic class MongoRepositoryConfiguration extends AbstractReactiveMongoConfiguration {\n\n    private final MongoProperties mongoProperties;\n\n    @Override\n    public MongoClient reactiveMongoClient() {\n        //Create a mongo client with credentials\n        MongoCredential credential = MongoCredential.createCredential(mongoProperties.getUsername(), mongoProperties.getDatabase(), mongoProperties.getPassword());\n        return MongoClients.create(\n                MongoClientSettings.builder()\n                        .credential(credential)\n                        .build()\n        );\n    }\n\n    @Override\n    protected String getDatabaseName() {\n        return mongoProperties.getDatabase();\n    }\n\n\n    @Bean\n    ReactiveMongoTransactionManager transactionManager(ReactiveMongoDatabaseFactory reactiveMongoDatabaseFactory) {\n        return new ReactiveMongoTransactionManager(reactiveMongoDatabaseFactory);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2372,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72240623,"answer_count":2,"score":3,"last_activity_date":1688749088,"creation_date":1652517711,"question_id":72238613,"body_markdown":"Does WebFlux Spring Boot `@Transactional` annotation work with reactive MongoDB?\r\n\r\nI use WebFlux Spring Boot with reactive MongoDB like:\r\n\r\n```\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.7&#39;\r\n    ...\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb-reactive&#39;\r\n    ...\r\n```\r\n\r\nI marked one of my method `@Transactional` to test. But it seems the annotation does not work for me. If an error occurs inside this method, then it still adds a row to my mongoDB database.\r\n\r\n```\r\n      import org.springframework.transaction.annotation.Transactional;\r\n\r\n      ...\r\n\r\n      @Transactional\r\n      public Mono&lt;Chat&gt; createChat(Chat chat) {\r\n        return chatRepository\r\n            .save(chat)\r\n            .map(\r\n                c-&gt; {\r\n                  if (true) {\r\n                    throw new RuntimeException();\r\n                  }\r\n                  return c;\r\n                });\r\n      }\r\n```\r\n\r\nDo I miss something or Spring Boot `@Transactional` annotation does not work with reactive MongoDB?\r\n\r\nI use MongoDB v5.0.8","title":"WebFlux Spring Boot @Transactional with reactive MongoDB","body":"<p>Does WebFlux Spring Boot <code>@Transactional</code> annotation work with reactive MongoDB?</p>\n<p>I use WebFlux Spring Boot with reactive MongoDB like:</p>\n<pre><code>    id 'org.springframework.boot' version '2.6.7'\n    ...\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb-reactive'\n    ...\n</code></pre>\n<p>I marked one of my method <code>@Transactional</code> to test. But it seems the annotation does not work for me. If an error occurs inside this method, then it still adds a row to my mongoDB database.</p>\n<pre><code>      import org.springframework.transaction.annotation.Transactional;\n\n      ...\n\n      @Transactional\n      public Mono&lt;Chat&gt; createChat(Chat chat) {\n        return chatRepository\n            .save(chat)\n            .map(\n                c-&gt; {\n                  if (true) {\n                    throw new RuntimeException();\n                  }\n                  return c;\n                });\n      }\n</code></pre>\n<p>Do I miss something or Spring Boot <code>@Transactional</code> annotation does not work with reactive MongoDB?</p>\n<p>I use MongoDB v5.0.8</p>\n"},{"tags":["java","sql","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1688573700,"post_id":76622040,"comment_id":135092709,"body_markdown":"Is there perhaps something in the start log?","body":"Is there perhaps something in the start log?"},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1688605070,"post_id":76622040,"comment_id":135097247,"body_markdown":"@Twistleton updated the question with the details. Thanks","body":"@Twistleton updated the question with the details. Thanks"},{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":2,"creation_date":1688629402,"post_id":76622040,"comment_id":135099943,"body_markdown":"You just need to add one space between `ddl-auto:update`. And try to rerun your code after changing `ddl-auto: create` after successfull run, you  have to set again `ddl-auto: update`.","body":"You just need to add one space between <code>ddl-auto:update</code>. And try to rerun your code after changing <code>ddl-auto: create</code> after successfull run, you  have to set again <code>ddl-auto: update</code>."}],"answers":[{"tags":[],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688748506,"creation_date":1688748506,"answer_id":76638834,"question_id":76622040,"body_markdown":"Adding a space to ddl-auto: update worked. I also noticed that the ddl-auto command text changed to yellow after the change like others, so something to look for when we write commands in yml file.","title":"SQLError : Table does not exist","body":"<p>Adding a space to ddl-auto: update worked. I also noticed that the ddl-auto command text changed to yellow after the change like others, so something to look for when we write commands in yml file.</p>\n"}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76638834,"answer_count":1,"score":0,"last_activity_date":1688748506,"creation_date":1688572561,"question_id":76622040,"body_markdown":"I have created a basic SpringBoot application to create a table in SQL database\r\n\r\n```\r\n@SpringBootApplication\r\npublic class UserServiceApplication implements CommandLineRunner {\r\n\r\n   @Autowired\r\n   JdbcTemplate jdbcTemplate;\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(UserServiceApplication.class, args);\r\n   }\r\n\r\n   @Override\r\n   public void run(String... args) throws Exception {\r\n      String sql = &quot;INSERT INTO micro_users (fullname, email, password) values (?, ? ,?)&quot;;\r\n      int result = jdbcTemplate.update(sql, &quot;MyName&quot;, &quot;hell@gmail.com&quot;,  &quot;2021&quot;);\r\n      System.out.println(&quot;result &quot; + result);\r\n   }\r\n}\r\n```\r\n\r\nThis is what I have in my application.properties \r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/microservices\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n```\r\n\r\nThis is what I have added in application.yml\r\n\r\n```\r\nserver:\r\n  port: 8081\r\n\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/microservices\r\n    username: root\r\n    password: root\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  application:\r\n    name: service\r\n  main:\r\n      allow-bean-definition-overriding: true\r\n      lazy-initialization: true\r\n\r\n\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto:update\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\n```\r\n\r\n**I am not able to access my database. What can I be doing incorrectly.** \r\n\r\nI did create a local database with the below connection details :\r\n\r\n```\r\nName: Local instance\r\nHost: localhost\r\nPort: 3306\r\nLogin user: root\r\nCurrent user: root@localhost\r\nVersion: 8.0.33\r\n```\r\n\r\nThe error I receive is :\r\n```\r\nT10:37:09.815-05:00  INFO 12812 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-07-05T10:37:10.102-05:00  INFO 12812 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n2023-07-05T10:37:10.115-05:00  WARN 12812 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-07-05T10:37:10.130-05:00  INFO 12812 --- [           main] c.b.user.service.UserServiceApplication  : Started UserServiceApplication in 3.897 seconds (process running for 4.33)\r\n2023-07-05T10:37:10.182-05:00  INFO 12812 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\nCaused by: java.sql.SQLSyntaxErrorException: Table &#39;microservices.micro_users&#39; doesn&#39;t exist\r\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n```","title":"SQLError : Table does not exist","body":"<p>I have created a basic SpringBoot application to create a table in SQL database</p>\n<pre><code>@SpringBootApplication\npublic class UserServiceApplication implements CommandLineRunner {\n\n   @Autowired\n   JdbcTemplate jdbcTemplate;\n\n   public static void main(String[] args) {\n      SpringApplication.run(UserServiceApplication.class, args);\n   }\n\n   @Override\n   public void run(String... args) throws Exception {\n      String sql = &quot;INSERT INTO micro_users (fullname, email, password) values (?, ? ,?)&quot;;\n      int result = jdbcTemplate.update(sql, &quot;MyName&quot;, &quot;hell@gmail.com&quot;,  &quot;2021&quot;);\n      System.out.println(&quot;result &quot; + result);\n   }\n}\n</code></pre>\n<p>This is what I have in my application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/microservices\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n<p>This is what I have added in application.yml</p>\n<pre><code>server:\n  port: 8081\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/microservices\n    username: root\n    password: root\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  application:\n    name: service\n  main:\n      allow-bean-definition-overriding: true\n      lazy-initialization: true\n\n\n  jpa:\n    hibernate:\n      ddl-auto:update\n    show-sql: true\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<p><strong>I am not able to access my database. What can I be doing incorrectly.</strong></p>\n<p>I did create a local database with the below connection details :</p>\n<pre><code>Name: Local instance\nHost: localhost\nPort: 3306\nLogin user: root\nCurrent user: root@localhost\nVersion: 8.0.33\n</code></pre>\n<p>The error I receive is :</p>\n<pre><code>T10:37:09.815-05:00  INFO 12812 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-07-05T10:37:10.102-05:00  INFO 12812 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''\n2023-07-05T10:37:10.115-05:00  WARN 12812 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-07-05T10:37:10.130-05:00  INFO 12812 --- [           main] c.b.user.service.UserServiceApplication  : Started UserServiceApplication in 3.897 seconds (process running for 4.33)\n2023-07-05T10:37:10.182-05:00  INFO 12812 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \nCaused by: java.sql.SQLSyntaxErrorException: Table 'microservices.micro_users' doesn't exist\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n</code></pre>\n"},{"tags":["python","java","docker","python-3.10","torchserve"],"owner":{"account_id":28789088,"reputation":19,"user_id":22048875,"display_name":"gggggggggggggggg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688748392,"creation_date":1688748392,"question_id":76638828,"body_markdown":"I am using BASE_IMAGE=ubuntu:22.04 which comes with python3.10.\r\n\r\nThen I proceed to install all my required dependencies, and am able to start the application and listen to the port 8080 correctly.\r\n\r\nThe Pytorch Server starts the initialization phase correctly and I can see that in my logs. However, It fails on inference. I Believe it never reaches the inference Method because I never see the logs. \r\n\r\nHowever - when I make an inference request, I see the following error:\r\n```\r\nxyz-stdout MODEL_LOG - ----- INITIALIZE -----\r\nxyz org.pytorch.serve.wlm.WorkerThread - sent a reply, jobdone: true\r\nxyz org.pytorch.serve.wlm.WorkerThread - sent a reply, jobdone: true\r\nxyz org.pytorch.serve.wlm.WorkerThread - Backend response time: 1980\r\nxyz org.pytorch.serve.wlm.WorkerThread - Backend response time: 1980\r\nxyz org.pytorch.serve.wlm.WorkerThread - xyz State change WORKER_STARTED -&gt; WORKER_MODEL_LOADED\r\nxyz org.pytorch.serve.wlm.WorkerThread - xyz State change WORKER_STARTED -&gt; WORKER_MODEL_LOADED\r\nxyz TS_METRICS - WorkerLoadTime.Milliseconds:2962.0|#WorkerName:xyz,Level:Host|#hostname:a9cb56cd2a24,timestamp:1688661575\r\nxyz TS_METRICS - WorkerThreadTime.Milliseconds:60.0|#Level:Host|#hostname:a9cb56cd2a24,timestamp:1688661575\r\npool-2-thread-2 ACCESS_LOG - /172.17.0.1:44710 &quot;GET /ping HTTP/1.1&quot; 200 32\r\npool-2-thread-2 TS_METRICS - Requests2XX.Count:1.0|#Level:Host|#hostname:a9cb56cd2a24,timestamp:1688661594\r\nepollEventLoopGroup-3-2 TS_METRICS - ts_inference_requests_total.Count:1.0|#model_name:model_xyz,model_version:default|#hostname:a9cb56cd2a24,timestamp:1688661607\r\nxyz org.pytorch.serve.wlm.WorkerThread - Flushing req.cmd PREDICT to backend at: 1688661607935\r\nxyz org.pytorch.serve.wlm.WorkerThread - Flushing req.cmd PREDICT to backend at: 1688661607935\r\nxyz-stdout MODEL_LOG - \r\nxyz-stdout MODEL_LOG - Backend received inference at: 1688661607\r\nxyz-stdout MODEL_LOG - Invoking custom service failed.\r\nxyz-stdout MODEL_LOG - Traceback (most recent call last):\r\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/service.py&quot;, line 134, in predict\r\nxyz-stdout MODEL_LOG -     ret = self._entry_point(input_batch, self.context)\r\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/base.py&quot;, line 26, in handle\r\nxyz-stdout MODEL_LOG -     data = self.parse_input(data)\r\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 21, in parse_input\r\nxyz-stdout MODEL_LOG -     lengths, batch = self._batch_from_json(data)\r\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 32, in _batch_from_json\r\nxyz-stdout MODEL_LOG -     mini_batches = [self._from_json(data_row) for data_row in data_rows]\r\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 32, in &lt;listcomp&gt;\r\nxyz-stdout MODEL_LOG -     mini_batches = [self._from_json(data_row) for data_row in data_rows]\r\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 41, in _from_json\r\nxyz-stdout MODEL_LOG -     rows = (data.get(&quot;data&quot;) or data.get(&quot;body&quot;) or data)[&quot;instances&quot;]\r\nxyz-stdout MODEL_LOG - TypeError: list indices must be integers or slices, not str\r\n```","title":"Weird Python Error Occurring Inside of Torch Serving Library","body":"<p>I am using BASE_IMAGE=ubuntu:22.04 which comes with python3.10.</p>\n<p>Then I proceed to install all my required dependencies, and am able to start the application and listen to the port 8080 correctly.</p>\n<p>The Pytorch Server starts the initialization phase correctly and I can see that in my logs. However, It fails on inference. I Believe it never reaches the inference Method because I never see the logs.</p>\n<p>However - when I make an inference request, I see the following error:</p>\n<pre><code>xyz-stdout MODEL_LOG - ----- INITIALIZE -----\nxyz org.pytorch.serve.wlm.WorkerThread - sent a reply, jobdone: true\nxyz org.pytorch.serve.wlm.WorkerThread - sent a reply, jobdone: true\nxyz org.pytorch.serve.wlm.WorkerThread - Backend response time: 1980\nxyz org.pytorch.serve.wlm.WorkerThread - Backend response time: 1980\nxyz org.pytorch.serve.wlm.WorkerThread - xyz State change WORKER_STARTED -&gt; WORKER_MODEL_LOADED\nxyz org.pytorch.serve.wlm.WorkerThread - xyz State change WORKER_STARTED -&gt; WORKER_MODEL_LOADED\nxyz TS_METRICS - WorkerLoadTime.Milliseconds:2962.0|#WorkerName:xyz,Level:Host|#hostname:a9cb56cd2a24,timestamp:1688661575\nxyz TS_METRICS - WorkerThreadTime.Milliseconds:60.0|#Level:Host|#hostname:a9cb56cd2a24,timestamp:1688661575\npool-2-thread-2 ACCESS_LOG - /172.17.0.1:44710 &quot;GET /ping HTTP/1.1&quot; 200 32\npool-2-thread-2 TS_METRICS - Requests2XX.Count:1.0|#Level:Host|#hostname:a9cb56cd2a24,timestamp:1688661594\nepollEventLoopGroup-3-2 TS_METRICS - ts_inference_requests_total.Count:1.0|#model_name:model_xyz,model_version:default|#hostname:a9cb56cd2a24,timestamp:1688661607\nxyz org.pytorch.serve.wlm.WorkerThread - Flushing req.cmd PREDICT to backend at: 1688661607935\nxyz org.pytorch.serve.wlm.WorkerThread - Flushing req.cmd PREDICT to backend at: 1688661607935\nxyz-stdout MODEL_LOG - \nxyz-stdout MODEL_LOG - Backend received inference at: 1688661607\nxyz-stdout MODEL_LOG - Invoking custom service failed.\nxyz-stdout MODEL_LOG - Traceback (most recent call last):\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/service.py&quot;, line 134, in predict\nxyz-stdout MODEL_LOG -     ret = self._entry_point(input_batch, self.context)\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/base.py&quot;, line 26, in handle\nxyz-stdout MODEL_LOG -     data = self.parse_input(data)\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 21, in parse_input\nxyz-stdout MODEL_LOG -     lengths, batch = self._batch_from_json(data)\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 32, in _batch_from_json\nxyz-stdout MODEL_LOG -     mini_batches = [self._from_json(data_row) for data_row in data_rows]\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 32, in &lt;listcomp&gt;\nxyz-stdout MODEL_LOG -     mini_batches = [self._from_json(data_row) for data_row in data_rows]\nxyz-stdout MODEL_LOG -   File &quot;/home/venv/lib/python3.10/site-packages/ts/torch_handler/request_envelope/json.py&quot;, line 41, in _from_json\nxyz-stdout MODEL_LOG -     rows = (data.get(&quot;data&quot;) or data.get(&quot;body&quot;) or data)[&quot;instances&quot;]\nxyz-stdout MODEL_LOG - TypeError: list indices must be integers or slices, not str\n</code></pre>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1688745730,"post_id":76636741,"comment_id":135119712,"body_markdown":"Your example seems to suggest you have other endpoints (not shown) that you are trying to protect differently, is that correct? Otherwise, you should just have `http.authorizeHttpRequests(authorize -&gt; authorize.anyRequest().authenticated())`. Perhaps you may be confusing authentication with authorization?","body":"Your example seems to suggest you have other endpoints (not shown) that you are trying to protect differently, is that correct? Otherwise, you should just have <code>http.authorizeHttpRequests(authorize -&gt; authorize.anyRequest().authenticated())</code>. Perhaps you may be confusing authentication with authorization?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1688746674,"post_id":76636741,"comment_id":135119882,"body_markdown":"It&#39;s very possible I&#39;m confusing things, it&#39;s pretty much trial and error on my side &#128532; Yes I have other endpoints, but only with those `hasRole` and `hasAuthority` on their own, and it&#39;s working as expected except for this &quot;either&quot; scenario.","body":"It&#39;s very possible I&#39;m confusing things, it&#39;s pretty much trial and error on my side 😔 Yes I have other endpoints, but only with those <code>hasRole</code> and <code>hasAuthority</code> on their own, and it&#39;s working as expected except for this &quot;either&quot; scenario."}],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688748379,"creation_date":1688748379,"answer_id":76638826,"question_id":76636741,"body_markdown":"If you want to protect a particular URL (or set of URLs) with an &quot;or&quot; rule, you can use `AuthorizationManagers.anyOf`.\r\n\r\n```java\r\nimport static org.springframework.security.authorization.AuthorityAuthorizationManager.hasAuthority;\r\nimport static org.springframework.security.authorization.AuthorityAuthorizationManager.hasRole;\r\nimport static org.springframework.security.authorization.AuthorizationManagers.anyOf;\r\n...\r\n\r\nhttp\r\n    // ...\r\n    .authorizeHttpRequests((authorize) -&gt; authorize\r\n        .requestMatchers(&quot;/actuator/**&quot;).access(anyOf(\r\n            hasAuthority(&quot;SCOPE_read_actuator&quot;),\r\n            hasRole(&quot;developer&quot;)\r\n        ))\r\n        // ...\r\n    );\r\n```\r\n\r\nSee the [Authorize HTTP Requests][1] page in the docs for more info.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html","title":"How to allow both resource server and client login for an endpoint?","body":"<p>If you want to protect a particular URL (or set of URLs) with an &quot;or&quot; rule, you can use <code>AuthorizationManagers.anyOf</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.security.authorization.AuthorityAuthorizationManager.hasAuthority;\nimport static org.springframework.security.authorization.AuthorityAuthorizationManager.hasRole;\nimport static org.springframework.security.authorization.AuthorizationManagers.anyOf;\n...\n\nhttp\n    // ...\n    .authorizeHttpRequests((authorize) -&gt; authorize\n        .requestMatchers(&quot;/actuator/**&quot;).access(anyOf(\n            hasAuthority(&quot;SCOPE_read_actuator&quot;),\n            hasRole(&quot;developer&quot;)\n        ))\n        // ...\n    );\n</code></pre>\n<p>See the <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">Authorize HTTP Requests</a> page in the docs for more info.</p>\n"}],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76638826,"answer_count":1,"score":-1,"last_activity_date":1688748379,"creation_date":1688730664,"question_id":76636741,"body_markdown":"I&#39;m trying to set up security filter chains in a way that both client (session-based user login) and resource_server (key/secret) authentication allow access to a subset of my paths. This is Spring Security 6.\r\n\r\nLet&#39;s say I want &quot;/actuator/**&quot; to be accessible for either resource_server or client.\r\n\r\nWhat I tried was\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain authorizeInternal(final HttpSecurity http) throws Exception {\r\n  http.oauth2Login(withDefaults());\r\n  http.oauth2ResourceServer(withDefaults());\r\n\r\n  http.authorizeHttpRequests(req -&gt; req\r\n\r\n    // resource server\r\n    .requestMatchers(&quot;/actuator/**&quot;)\r\n    .hasAuthority(&quot;SCOPE_read_actuator&quot;)\r\n\r\n    // logged in user\r\n    .requestMatchers(&quot;/actuator/**&quot;)\r\n    .hasRole(&quot;developer&quot;)\r\n  );\r\n}\r\n```\r\n\r\nThis will prevent both methods from access, which I understand but don&#39;t see an alternative.\r\n\r\nI also tried around with multiple `SecurityFilterChain`s but ended up with pretty much the same problem.\r\n\r\nI&#39;m also thinking I could use `.access(&quot;/actuator/**&quot;, authManager)`, but it looks like I&#39;d need to implement something like an `OrAuthenticationManager` that checks both my managers&#39; decision.\r\n\r\nAm I overlooking an easier way?","title":"How to allow both resource server and client login for an endpoint?","body":"<p>I'm trying to set up security filter chains in a way that both client (session-based user login) and resource_server (key/secret) authentication allow access to a subset of my paths. This is Spring Security 6.</p>\n<p>Let's say I want &quot;/actuator/**&quot; to be accessible for either resource_server or client.</p>\n<p>What I tried was</p>\n<pre><code>@Bean\npublic SecurityFilterChain authorizeInternal(final HttpSecurity http) throws Exception {\n  http.oauth2Login(withDefaults());\n  http.oauth2ResourceServer(withDefaults());\n\n  http.authorizeHttpRequests(req -&gt; req\n\n    // resource server\n    .requestMatchers(&quot;/actuator/**&quot;)\n    .hasAuthority(&quot;SCOPE_read_actuator&quot;)\n\n    // logged in user\n    .requestMatchers(&quot;/actuator/**&quot;)\n    .hasRole(&quot;developer&quot;)\n  );\n}\n</code></pre>\n<p>This will prevent both methods from access, which I understand but don't see an alternative.</p>\n<p>I also tried around with multiple <code>SecurityFilterChain</code>s but ended up with pretty much the same problem.</p>\n<p>I'm also thinking I could use <code>.access(&quot;/actuator/**&quot;, authManager)</code>, but it looks like I'd need to implement something like an <code>OrAuthenticationManager</code> that checks both my managers' decision.</p>\n<p>Am I overlooking an easier way?</p>\n"},{"tags":["java","variables","jsp","jstl","scriptlet"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":2,"creation_date":1423570183,"post_id":28430441,"comment_id":45192940,"body_markdown":"Why are you mixing JSTL and Scriptlets? Use either of them precisely the former. (Use of Scriplets is discouraged for over a decade). JSTL variables , on the other hand are attributes of some kind (page context by default). If you want to access Scriplets variables in JSTL, you will need to put them into some attributes with a scope like `pageContext.setAttribute(&quot;datepicker&quot;);`, `request.setAttribute(&quot;datepicker&quot;);` (session or servlet context depending upon the need) and access them in JSTL as attributes with the scope which they have been associated with.","body":"Why are you mixing JSTL and Scriptlets? Use either of them precisely the former. (Use of Scriplets is discouraged for over a decade). JSTL variables , on the other hand are attributes of some kind (page context by default). If you want to access Scriplets variables in JSTL, you will need to put them into some attributes with a scope like <code>pageContext.setAttribute(&quot;datepicker&quot;);</code>, <code>request.setAttribute(&quot;datepicker&quot;);</code> (session or servlet context depending upon the need) and access them in JSTL as attributes with the scope which they have been associated with."}],"answers":[{"comments":[{"owner":{"account_id":5183268,"reputation":132,"user_id":4148298,"accept_rate":60,"display_name":"MES"},"score":0,"creation_date":1423568638,"post_id":28430570,"comment_id":45192127,"body_markdown":",Actually when I tried to print str value  as                                             **&lt;c:out value=&quot;value from calender is ${str}&quot;&gt;&lt;/c:out&gt;** nothing is being shown .It means values from jsp page is not being passed into this jsp page.","body":",Actually when I tried to print str value  as                                             <b>&lt;c:out value=&quot;value from calender is ${str}&quot;&gt;&lt;/c:out&gt;</b> nothing is being shown .It means values from jsp page is not being passed into this jsp page."},{"owner":{"account_id":5183268,"reputation":132,"user_id":4148298,"accept_rate":60,"display_name":"MES"},"score":0,"creation_date":1423568790,"post_id":28430570,"comment_id":45192210,"body_markdown":"sorry date  is printing,but list is being empty.","body":"sorry date  is printing,but list is being empty."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1423568859,"post_id":28430570,"comment_id":45192248,"body_markdown":"What has been printed if `&lt;c:out value=&quot;value from calender is ${param.datepicker}&quot;/&gt;`?","body":"What has been printed if <code>&lt;c:out value=&quot;value from calender is ${param.datepicker}&quot;&#47;&gt;</code>?"},{"owner":{"account_id":5183268,"reputation":132,"user_id":4148298,"accept_rate":60,"display_name":"MES"},"score":0,"creation_date":1423569270,"post_id":28430570,"comment_id":45192435,"body_markdown":"it prints the date which I have chosen for eg-value from calender is 10/10/2014 .  Actually its showing an error that **Conversion failed when converting date and/or time from character string.**    As the date selected from calender is of date type and I put it into a string variable.This may be a cause for empty string.Please correct me.","body":"it prints the date which I have chosen for eg-value from calender is 10/10/2014 .  Actually its showing an error that <b>Conversion failed when converting date and/or time from character string.</b>    As the date selected from calender is of date type and I put it into a string variable.This may be a cause for empty string.Please correct me."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1423569474,"post_id":28430570,"comment_id":45192534,"body_markdown":"This code doesn&#39;t convert a string to `Date`, but your method may be, post the code of the method impl.","body":"This code doesn&#39;t convert a string to <code>Date</code>, but your method may be, post the code of the method impl."},{"owner":{"account_id":5183268,"reputation":132,"user_id":4148298,"accept_rate":60,"display_name":"MES"},"score":0,"creation_date":1423569663,"post_id":28430570,"comment_id":45192653,"body_markdown":"yup,how to do that. Moreover in my sql query I have supplied the date and time as **b.logtime between&#39;+date+f+&#39; and &#39;+date+t+&#39;&quot;** where date is coming from jsp whcih I have selected from calender and f and t are strings such as **String f=&quot;00:00:00&quot;;\n\t\t          String t=&quot;23:59:59&quot;;**.","body":"yup,how to do that. Moreover in my sql query I have supplied the date and time as <b>b.logtime between&#39;+date+f+&#39; and &#39;+date+t+&#39;&quot;</b> where date is coming from jsp whcih I have selected from calender and f and t are strings such as <b>String f=&quot;00:00:00&quot;; \t\t          String t=&quot;23:59:59&quot;;</b>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1423570059,"post_id":28430570,"comment_id":45192874,"body_markdown":"in your sql you can use date function to convert a string to date, or you can parse `Date` and use it in SQL as parameter, but it&#39;s off-topic. What ever the choice you use is up to you.","body":"in your sql you can use date function to convert a string to date, or you can parse <code>Date</code> and use it in SQL as parameter, but it&#39;s off-topic. What ever the choice you use is up to you."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453148823,"creation_date":1423567831,"answer_id":28430570,"question_id":28430441,"body_markdown":"In JSTL is not possible to use scriptlet variable in expression. Also you don&#39;t need to use scriptlet. \r\n\r\nYou need to import the bean class you create in JSP\r\n\r\n&lt;!-- language-all: lang-jsp --&gt;\r\n\r\n    &lt;%@ page import=&quot;com.beans.Ref_log_current&quot; %&gt;\r\n\r\nYou can access parameters like this\r\n\r\n    &lt;jsp:useBean id=&quot;ref&quot; class=&quot;com.beans.Ref_log_current&quot; scope=&quot;page&quot;/&gt;\r\n    &lt;c:out value=&quot;${ref.refarray_vac1(param.datepicker)}&quot;/&gt;","title":"How to use variable defined in a scriptlet in the same jsp page","body":"<p>In JSTL is not possible to use scriptlet variable in expression. Also you don't need to use scriptlet. </p>\n\n<p>You need to import the bean class you create in JSP</p>\n\n\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page import=\"com.beans.Ref_log_current\" %&gt;\n</code></pre>\n\n<p>You can access parameters like this</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;jsp:useBean id=\"ref\" class=\"com.beans.Ref_log_current\" scope=\"page\"/&gt;\n&lt;c:out value=\"${ref.refarray_vac1(param.datepicker)}\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5183268,"reputation":132,"user_id":4148298,"accept_rate":60,"display_name":"MES"},"score":0,"creation_date":1423568417,"post_id":28430671,"comment_id":45192019,"body_markdown":"I already did that.I have to pass this str as an argument in a method as mentioned in question.","body":"I already did that.I have to pass this str as an argument in a method as mentioned in question."}],"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423568140,"creation_date":1423568140,"answer_id":28430671,"question_id":28430441,"body_markdown":"JSTL has only access to scoped variable, not directly to scriplet ones. But you can easily create a page variable that way :\r\n\r\n    &lt;%\r\n      Ref_log_current obj = new Ref_log_current();\r\n      String str= request.getParameter(&quot;datepicker&quot;);\r\n      pageContext.setAttribute(&quot;str&quot;, str); // store str in page scope under name str\r\n    %&gt;\r\n\r\nYou can then safely access `${str}` in the JSP file.","title":"How to use variable defined in a scriptlet in the same jsp page","body":"<p>JSTL has only access to scoped variable, not directly to scriplet ones. But you can easily create a page variable that way :</p>\n\n<pre><code>&lt;%\n  Ref_log_current obj = new Ref_log_current();\n  String str= request.getParameter(\"datepicker\");\n  pageContext.setAttribute(\"str\", str); // store str in page scope under name str\n%&gt;\n</code></pre>\n\n<p>You can then safely access <code>${str}</code> in the JSP file.</p>\n"}],"owner":{"account_id":5183268,"reputation":132,"user_id":4148298,"accept_rate":60,"display_name":"MES"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6154,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1688751460,"answer_count":2,"score":1,"last_activity_date":1688747485,"creation_date":1423567442,"question_id":28430441,"body_markdown":"I have a JSP page named `User_Ref.jsp` whcih has a datepicker. When I click on submit on that page, it is redirected to another JSP page named `ref_time_current.jsp`. In this JSP page I have used a scriptlet to hold the value which was selected by user from the calendar, i.e. datepicker. The scriptlet is \r\n\r\n    &lt;%\r\n      Ref_log_current obj = new Ref_log_current();\r\n      String str= request.getParameter(&quot;datepicker&quot;);\r\n     ref.refarray_vac1(str);\r\n    %&gt;\r\n\r\nNow I want to use this `str` variable defined in scriptlet in this way in same JSP page\r\n```\r\n&lt;c:out value=&quot;${ref.refarray_vac1(str)}&quot;&gt;&lt;/c:out&gt;\r\n```\r\nBut When I execute this\r\n`refarray_vac1(String Date)` method which return list is showing an empty list. I think I&#39;m using the `str` variable in wrong way. Please correct me.","title":"How to use variable defined in a scriptlet in the same jsp page","body":"<p>I have a JSP page named <code>User_Ref.jsp</code> whcih has a datepicker. When I click on submit on that page, it is redirected to another JSP page named <code>ref_time_current.jsp</code>. In this JSP page I have used a scriptlet to hold the value which was selected by user from the calendar, i.e. datepicker. The scriptlet is</p>\n<pre><code>&lt;%\n  Ref_log_current obj = new Ref_log_current();\n  String str= request.getParameter(&quot;datepicker&quot;);\n ref.refarray_vac1(str);\n%&gt;\n</code></pre>\n<p>Now I want to use this <code>str</code> variable defined in scriptlet in this way in same JSP page</p>\n<pre><code>&lt;c:out value=&quot;${ref.refarray_vac1(str)}&quot;&gt;&lt;/c:out&gt;\n</code></pre>\n<p>But When I execute this\n<code>refarray_vac1(String Date)</code> method which return list is showing an empty list. I think I'm using the <code>str</code> variable in wrong way. Please correct me.</p>\n"},{"tags":["java","collections","spring-data","iterable"],"comments":[{"owner":{"account_id":25188,"reputation":965,"user_id":64579,"accept_rate":67,"display_name":"Sebastian Ganslandt"},"score":4,"creation_date":1308600752,"post_id":6416706,"comment_id":7526967,"body_markdown":"Any utiliy method for performing the operation is bound to iterate of the collection anyway, so you can&#39;t expect any performance gain. But if you&#39;re just looking for syntactic sugar I would go for Guava or perhaps Apache Collections.","body":"Any utiliy method for performing the operation is bound to iterate of the collection anyway, so you can&#39;t expect any performance gain. But if you&#39;re just looking for syntactic sugar I would go for Guava or perhaps Apache Collections."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1308601914,"post_id":6416706,"comment_id":7527349,"body_markdown":"&quot;*is bound to iterate of the collection anyway*&quot;, -- no, it&#39;s not. See my answer for details.","body":"&quot;<i>is bound to iterate of the collection anyway</i>&quot;, -- no, it&#39;s not. See my answer for details."},{"owner":{"account_id":874324,"reputation":105,"user_id":2003379,"display_name":"Kevin Van Dyck"},"score":5,"creation_date":1518968264,"post_id":6416706,"comment_id":84710211,"body_markdown":"in your specific usecase, you could just extend CrudRepository with your own interface with methods that return Collection&lt;T&gt; / List&lt;T&gt; / Set&lt;T&gt; (as needed) instead of Iterable&lt;T&gt;","body":"in your specific usecase, you could just extend CrudRepository with your own interface with methods that return Collection&lt;T&gt; / List&lt;T&gt; / Set&lt;T&gt; (as needed) instead of Iterable&lt;T&gt;"}],"answers":[{"comments":[{"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"score":1,"creation_date":1399723737,"post_id":6416788,"comment_id":36189956,"body_markdown":"Tada.. https://github.com/soluvas/soluvas-framework/commit/34b22c3f20b9d55f061d2ef8c539efb995af15d6 :)","body":"Tada.. <a href=\"https://github.com/soluvas/soluvas-framework/commit/34b22c3f20b9d55f061d2ef8c539efb995af15d6\" rel=\"nofollow noreferrer\">github.com/soluvas/soluvas-framework/commit/&hellip;</a> :)"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1308601775,"creation_date":1308600260,"answer_id":6416788,"question_id":6416706,"body_markdown":"As soon as you call `contains`, `containsAll`, `equals`, `hashCode`, `remove`, `retainAll`, `size` or `toArray`, you&#39;d have to traverse the elements anyway.\r\n\r\nIf you&#39;re occasionally only calling methods such as `isEmpty` or `clear` I suppose you&#39;d be better of by creating the collection lazily. You could for instance have a backing `ArrayList` for storing previously iterated elements.\r\n\r\nI don&#39;t know of any such class in any library, but it should be a fairly simple exercise to write up.","title":"Easy way to convert Iterable to Collection","body":"<p>As soon as you call <code>contains</code>, <code>containsAll</code>, <code>equals</code>, <code>hashCode</code>, <code>remove</code>, <code>retainAll</code>, <code>size</code> or <code>toArray</code>, you'd have to traverse the elements anyway.</p>\n\n<p>If you're occasionally only calling methods such as <code>isEmpty</code> or <code>clear</code> I suppose you'd be better of by creating the collection lazily. You could for instance have a backing <code>ArrayList</code> for storing previously iterated elements.</p>\n\n<p>I don't know of any such class in any library, but it should be a fairly simple exercise to write up.</p>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1308600816,"post_id":6416800,"comment_id":7526990,"body_markdown":"Does it iterate through all elements directly? I.e., is `Lists.newArrayList(Iterable).clear()` a linear or constant time operation?","body":"Does it iterate through all elements directly? I.e., is <code>Lists.newArrayList(Iterable).clear()</code> a linear or constant time operation?"},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":2,"creation_date":1308601427,"post_id":6416800,"comment_id":7527177,"body_markdown":"@aioobe: It creates a copy of the iterable. It wasn&#39;t specified that a view was desired, and given that most of the methods on `Collection` either can&#39;t be implemented for a view of an `Iterable` or won&#39;t be efficient, it doesn&#39;t make much sense to me to do that.","body":"@aioobe: It creates a copy of the iterable. It wasn&#39;t specified that a view was desired, and given that most of the methods on <code>Collection</code> either can&#39;t be implemented for a view of an <code>Iterable</code> or won&#39;t be efficient, it doesn&#39;t make much sense to me to do that."},{"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"score":0,"creation_date":1399722795,"post_id":6416800,"comment_id":36189683,"body_markdown":"@ColinD what if I want a view ? Actually, what I want is a Collection view that is the result of appending a source Collection with another element. I can use `Iterables.concat()` but that gives an `Iterable`, not a `Collection` :(","body":"@ColinD what if I want a view ? Actually, what I want is a Collection view that is the result of appending a source Collection with another element. I can use <code>Iterables.concat()</code> but that gives an <code>Iterable</code>, not a <code>Collection</code> :("}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":3,"down_vote_count":7,"up_vote_count":413,"is_accepted":true,"score":406,"last_activity_date":1464777563,"creation_date":1308600318,"answer_id":6416800,"question_id":6416706,"body_markdown":"With [Guava][1] you can use [Lists.newArrayList(Iterable)][2] or [Sets.newHashSet(Iterable)][3], among other similar methods. This will of course copy all the elements in to memory. If that isn&#39;t acceptable, I think your code that works with these ought to take `Iterable` rather than `Collection`. Guava also happens to provide convenient methods for doing things you can do on a `Collection` using an `Iterable` (such as `Iterables.isEmpty(Iterable)` or `Iterables.contains(Iterable, Object)`), but the performance implications are more obvious.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/Lists.html#newArrayList%28java.lang.Iterable%29\r\n  [3]: https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/Sets.html#newHashSet%28java.lang.Iterable%29","title":"Easy way to convert Iterable to Collection","body":"<p>With <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> you can use <a href=\"https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/Lists.html#newArrayList%28java.lang.Iterable%29\" rel=\"noreferrer\">Lists.newArrayList(Iterable)</a> or <a href=\"https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/Sets.html#newHashSet%28java.lang.Iterable%29\" rel=\"noreferrer\">Sets.newHashSet(Iterable)</a>, among other similar methods. This will of course copy all the elements in to memory. If that isn't acceptable, I think your code that works with these ought to take <code>Iterable</code> rather than <code>Collection</code>. Guava also happens to provide convenient methods for doing things you can do on a <code>Collection</code> using an <code>Iterable</code> (such as <code>Iterables.isEmpty(Iterable)</code> or <code>Iterables.contains(Iterable, Object)</code>), but the performance implications are more obvious.</p>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1308600859,"post_id":6416828,"comment_id":7527000,"body_markdown":"Does it iterate through all elements directly? I.e., is `Lists.newArrayList(someIterable).clear()` a linear or constant time operation?","body":"Does it iterate through all elements directly? I.e., is <code>Lists.newArrayList(someIterable).clear()</code> a linear or constant time operation?"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1308601114,"post_id":6416828,"comment_id":7527078,"body_markdown":"I added source code of `addAll`, as the name implies, it copies the iterator values one after another; it creates a copy rather than a view.","body":"I added source code of <code>addAll</code>, as the name implies, it copies the iterator values one after another; it creates a copy rather than a view."},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":0,"creation_date":1451795129,"post_id":6416828,"comment_id":56891599,"body_markdown":"What a pity that there&#39;s no method in `CollectionUtils` to skip the creation of the collection in an extra line.","body":"What a pity that there&#39;s no method in <code>CollectionUtils</code> to skip the creation of the collection in an extra line."},{"owner":{"account_id":1770214,"reputation":6814,"user_id":1615183,"accept_rate":65,"display_name":"Hola Soy Edu Feliz Navidad"},"score":0,"creation_date":1571908131,"post_id":6416828,"comment_id":103398092,"body_markdown":"Broken Link ☝️☝️","body":"Broken Link ☝️☝️"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1448914921,"creation_date":1308600449,"answer_id":6416828,"question_id":6416706,"body_markdown":"From [CollectionUtils](http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html):\r\n\r\n    List&lt;T&gt; targetCollection = new ArrayList&lt;T&gt;();\r\n    CollectionUtils.addAll(targetCollection, iterable.iterator())\r\n\r\nHere are the full sources of this utility method:\r\n\r\n    public static &lt;T&gt; void addAll(Collection&lt;T&gt; collection, Iterator&lt;T&gt; iterator) {\r\n        while (iterator.hasNext()) {\r\n            collection.add(iterator.next());\r\n        }\r\n    }\r\n","title":"Easy way to convert Iterable to Collection","body":"<p>From <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html\" rel=\"noreferrer\">CollectionUtils</a>:</p>\n\n<pre><code>List&lt;T&gt; targetCollection = new ArrayList&lt;T&gt;();\nCollectionUtils.addAll(targetCollection, iterable.iterator())\n</code></pre>\n\n<p>Here are the full sources of this utility method:</p>\n\n<pre><code>public static &lt;T&gt; void addAll(Collection&lt;T&gt; collection, Iterator&lt;T&gt; iterator) {\n    while (iterator.hasNext()) {\n        collection.add(iterator.next());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":34,"creation_date":1308601521,"post_id":6416921,"comment_id":7527215,"body_markdown":"+1 If going from `Iterable` to `Collection` is the only concern, I&#39;d prefer this approach over importing a large 3rd party collections-library.","body":"+1 If going from <code>Iterable</code> to <code>Collection</code> is the only concern, I&#39;d prefer this approach over importing a large 3rd party collections-library."},{"owner":{"account_id":66745,"reputation":1853,"user_id":195663,"accept_rate":79,"display_name":"Coder Guy"},"score":2,"creation_date":1446580876,"post_id":6416921,"comment_id":54799513,"body_markdown":"4 lines of function code is much more preferable over 2 MB of compiled library code for which 99% of it goes unused.  There&#39;s another cost: licensing complications.  The Apache 2.0 license is flexible, but not without some tedious mandates.  Ideally we would see _some_ of these common patterns integrated directly into the Java runtime libraries.","body":"4 lines of function code is much more preferable over 2 MB of compiled library code for which 99% of it goes unused.  There&#39;s another cost: licensing complications.  The Apache 2.0 license is flexible, but not without some tedious mandates.  Ideally we would see <i>some</i> of these common patterns integrated directly into the Java runtime libraries."},{"owner":{"account_id":66745,"reputation":1853,"user_id":195663,"accept_rate":79,"display_name":"Coder Guy"},"score":2,"creation_date":1446581540,"post_id":6416921,"comment_id":54799921,"body_markdown":"One more point, since you&#39;re using an ArrayList anyhow, why not simply go with the covariant List type instead?  This allows you to satisfy more contracts without down-casting or recomposing and Java has no support for lower type bounds anyway.","body":"One more point, since you&#39;re using an ArrayList anyhow, why not simply go with the covariant List type instead?  This allows you to satisfy more contracts without down-casting or recomposing and Java has no support for lower type bounds anyway."},{"owner":{"account_id":151346,"reputation":15394,"user_id":1219414,"accept_rate":86,"display_name":"Juan"},"score":0,"creation_date":1449388541,"post_id":6416921,"comment_id":55979911,"body_markdown":"@JonathanNeufeld or why not just go ahead and return an ArrayList&lt;T&gt;?","body":"@JonathanNeufeld or why not just go ahead and return an ArrayList&lt;T&gt;?"},{"owner":{"account_id":66745,"reputation":1853,"user_id":195663,"accept_rate":79,"display_name":"Coder Guy"},"score":5,"creation_date":1449478652,"post_id":6416921,"comment_id":56007286,"body_markdown":"@Juan Because that isn&#39;t very [SOLID](https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29).  An ArrayList exposes implementation details that are most likely unnecessary (YAGNI), which violates the single responsibility and dependency inversion principles.  I would leave it at List because it does expose a little more than Collection does while remaining completely SOLID.  If you&#39;re worried about the JVM performance impact of opcode INVOKEINTERFACE over INVOKEVIRTUAL, plenty of benchmarks will reveal that it&#39;s not worth losing sleep over.","body":"@Juan Because that isn&#39;t very <a href=\"https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\" rel=\"nofollow noreferrer\">SOLID</a>.  An ArrayList exposes implementation details that are most likely unnecessary (YAGNI), which violates the single responsibility and dependency inversion principles.  I would leave it at List because it does expose a little more than Collection does while remaining completely SOLID.  If you&#39;re worried about the JVM performance impact of opcode INVOKEINTERFACE over INVOKEVIRTUAL, plenty of benchmarks will reveal that it&#39;s not worth losing sleep over."},{"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"score":0,"creation_date":1542287080,"post_id":6416921,"comment_id":93520207,"body_markdown":"Why not `LinkedList`? `ArrayList` is inefficient if the size of an array isn&#39;t defined. `LinkedList` add method complexity is O(1) whereas`ArrayList` add method complexity is O(N) in the worst scenario. `ArrayList` in order to grow copies all the previous array and makes new `ArrayList` with doubled size.","body":"Why not <code>LinkedList</code>? <code>ArrayList</code> is inefficient if the size of an array isn&#39;t defined. <code>LinkedList</code> add method complexity is O(1) whereas<code>ArrayList</code> add method complexity is O(N) in the worst scenario. <code>ArrayList</code> in order to grow copies all the previous array and makes new <code>ArrayList</code> with doubled size."}],"tags":[],"owner":{"account_id":331003,"reputation":3741,"user_id":655424,"display_name":"Atreys"},"comment_count":6,"down_vote_count":2,"up_vote_count":103,"is_accepted":false,"score":101,"last_activity_date":1356621403,"creation_date":1308600895,"answer_id":6416921,"question_id":6416706,"body_markdown":"You may write your own utility method for this as well:\r\n\r\n    public static &lt;E&gt; Collection&lt;E&gt; makeCollection(Iterable&lt;E&gt; iter) {\r\n        Collection&lt;E&gt; list = new ArrayList&lt;E&gt;();\r\n        for (E item : iter) {\r\n            list.add(item);\r\n        }\r\n        return list;\r\n    }","title":"Easy way to convert Iterable to Collection","body":"<p>You may write your own utility method for this as well:</p>\n\n<pre><code>public static &lt;E&gt; Collection&lt;E&gt; makeCollection(Iterable&lt;E&gt; iter) {\n    Collection&lt;E&gt; list = new ArrayList&lt;E&gt;();\n    for (E item : iter) {\n        list.add(item);\n    }\n    return list;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74485,"reputation":1369,"user_id":214004,"accept_rate":75,"display_name":"David"},"score":1,"creation_date":1399381000,"post_id":12191363,"comment_id":36029634,"body_markdown":"Has anyone ever actually come across an Iterable that iterates over something infinite (like the natural numbers example given in the answer), in practice / real code? I would think that such an Iterable would cause pain and woes in a lot of places... :)","body":"Has anyone ever actually come across an Iterable that iterates over something infinite (like the natural numbers example given in the answer), in practice / real code? I would think that such an Iterable would cause pain and woes in a lot of places... :)"},{"owner":{"account_id":990097,"reputation":555,"user_id":1007661,"display_name":"radicaledward101"},"score":2,"creation_date":1425049662,"post_id":12191363,"comment_id":45814908,"body_markdown":"@David Although I can&#39;t specifically point to an infinite Iterator in any of my production code, I can think of cases where they might occur. A video game might have a skill that creates items in the cyclical pattern that the above answer suggests.\n\nWhile I haven&#39;t encountered any infinite iterators, I have definitely encountered iterators where memory is a real concern. I have iterators over the files on disk. If I have a full 1TB disk and 4GB of ram, I could easily run out of memory converting my iterator to a Collection.","body":"@David Although I can&#39;t specifically point to an infinite Iterator in any of my production code, I can think of cases where they might occur. A video game might have a skill that creates items in the cyclical pattern that the above answer suggests.  While I haven&#39;t encountered any infinite iterators, I have definitely encountered iterators where memory is a real concern. I have iterators over the files on disk. If I have a full 1TB disk and 4GB of ram, I could easily run out of memory converting my iterator to a Collection."}],"tags":[],"owner":{"account_id":1795733,"reputation":141,"user_id":1635168,"display_name":"Alexander Shopov"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1360267886,"creation_date":1346309441,"answer_id":12191363,"question_id":6416706,"body_markdown":"While at it, do not forget that all collections are finite, while Iterable has no promises whatsoever. If something is Iterable you can get an Iterator and that is it.\r\n\r\n    for (piece : sthIterable){\r\n    ..........\r\n    }\r\n\r\nwill be expanded to:\r\n\r\n    Iterator it = sthIterable.iterator();\r\n    while (it.hasNext()){\r\n        piece = it.next();\r\n    ..........\r\n    }\r\n\r\nit.hasNext() is not required to ever return false. Thus in the general case you cannot expect to be able to convert every Iterable to a Collection. For example you can iterate over all positive natural numbers, iterate over something with cycles in it that produces the same results over and over again, etc.\r\n\r\nOtherwise: Atrey&#39;s answer is quite fine.","title":"Easy way to convert Iterable to Collection","body":"<p>While at it, do not forget that all collections are finite, while Iterable has no promises whatsoever. If something is Iterable you can get an Iterator and that is it.</p>\n\n<pre><code>for (piece : sthIterable){\n..........\n}\n</code></pre>\n\n<p>will be expanded to:</p>\n\n<pre><code>Iterator it = sthIterable.iterator();\nwhile (it.hasNext()){\n    piece = it.next();\n..........\n}\n</code></pre>\n\n<p>it.hasNext() is not required to ever return false. Thus in the general case you cannot expect to be able to convert every Iterable to a Collection. For example you can iterate over all positive natural numbers, iterate over something with cycles in it that produces the same results over and over again, etc.</p>\n\n<p>Otherwise: Atrey's answer is quite fine.</p>\n"},{"tags":[],"owner":{"account_id":2391265,"reputation":97,"user_id":2091069,"display_name":"al0"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361362537,"creation_date":1361362537,"answer_id":14979639,"question_id":6416706,"body_markdown":"Two remarks\r\n\r\n1. There is no need to convert Iterable to Collection to use foreach\r\n    loop - Iterable may be used in such loop directly, there is no\r\n    syntactical difference, so I hardly understand why the original question was asked at all.\r\n2. Suggested way to convert Iterable to Collection is unsafe (the same relates to CollectionUtils)  - there is no guarantee that subsequent calls to the next() method return different object instances. Moreover, this concern is not pure theoretical. E.g. Iterable implementation used to pass values to a reduce method of Hadoop Reducer always returns the same value instance, just with different field values. So if you apply makeCollection from above (or CollectionUtils.addAll(Iterator)) you will end up with a collection with all identical elements. ","title":"Easy way to convert Iterable to Collection","body":"<p>Two remarks</p>\n\n<ol>\n<li>There is no need to convert Iterable to Collection to use foreach\nloop - Iterable may be used in such loop directly, there is no\nsyntactical difference, so I hardly understand why the original question was asked at all.</li>\n<li>Suggested way to convert Iterable to Collection is unsafe (the same relates to CollectionUtils)  - there is no guarantee that subsequent calls to the next() method return different object instances. Moreover, this concern is not pure theoretical. E.g. Iterable implementation used to pass values to a reduce method of Hadoop Reducer always returns the same value instance, just with different field values. So if you apply makeCollection from above (or CollectionUtils.addAll(Iterator)) you will end up with a collection with all identical elements. </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"score":5,"creation_date":1512643992,"post_id":16263734,"comment_id":82345841,"body_markdown":"Since 4.1 there is also `IterableUtils.toList(Iterable)`, which is a convenience method and uses `IteratorUtils` under the hood, but also is null-safe (unlike `IteratorUtils.toList`).","body":"Since 4.1 there is also <code>IterableUtils.toList(Iterable)</code>, which is a convenience method and uses <code>IteratorUtils</code> under the hood, but also is null-safe (unlike <code>IteratorUtils.toList</code>)."}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":2,"up_vote_count":55,"is_accepted":false,"score":53,"last_activity_date":1499677956,"creation_date":1367158345,"answer_id":16263734,"question_id":6416706,"body_markdown":"[`IteratorUtils`](http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/IteratorUtils.html) from `commons-collections` may help (although they don&#39;t support generics in the latest stable version 3.2.1):\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Collection&lt;Type&gt; list = IteratorUtils.toList(iterable.iterator());\r\n\r\nVersion 4.0 (which is in SNAPSHOT at this moment) supports generics and you can get rid of the `@SuppressWarnings`.\r\n\r\nUpdate: Check [`IterableAsList`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/IterableAsList.html) from [Cactoos](http://www.cactoos.org).","title":"Easy way to convert Iterable to Collection","body":"<p><a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/IteratorUtils.html\" rel=\"noreferrer\"><code>IteratorUtils</code></a> from <code>commons-collections</code> may help (although they don't support generics in the latest stable version 3.2.1):</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nCollection&lt;Type&gt; list = IteratorUtils.toList(iterable.iterator());\n</code></pre>\n\n<p>Version 4.0 (which is in SNAPSHOT at this moment) supports generics and you can get rid of the <code>@SuppressWarnings</code>.</p>\n\n<p>Update: Check <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/IterableAsList.html\" rel=\"noreferrer\"><code>IterableAsList</code></a> from <a href=\"http://www.cactoos.org\" rel=\"noreferrer\">Cactoos</a>.</p>\n"},{"comments":[{"owner":{"account_id":41830,"reputation":1442,"user_id":121678,"accept_rate":42,"display_name":"stanlick"},"score":3,"creation_date":1448032105,"post_id":17168403,"comment_id":55424742,"body_markdown":"I would promote using the generic CrudRepository to avoid binding your code to a concrete implementation.","body":"I would promote using the generic CrudRepository to avoid binding your code to a concrete implementation."}],"tags":[],"owner":{"account_id":1467104,"reputation":14024,"user_id":1379657,"accept_rate":83,"display_name":"Ludwig Magnusson"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1371557048,"creation_date":1371557048,"answer_id":17168403,"question_id":6416706,"body_markdown":"This is not an answer to your question but I believe it is the solution to your problem. The interface `org.springframework.data.repository.CrudRepository` does indeed have methods that return `java.lang.Iterable` but you should not use this interface. Instead use sub interfaces, in your case `org.springframework.data.mongodb.repository.MongoRepository`. This interface has methods that return objects of type `java.util.List`.","title":"Easy way to convert Iterable to Collection","body":"<p>This is not an answer to your question but I believe it is the solution to your problem. The interface <code>org.springframework.data.repository.CrudRepository</code> does indeed have methods that return <code>java.lang.Iterable</code> but you should not use this interface. Instead use sub interfaces, in your case <code>org.springframework.data.mongodb.repository.MongoRepository</code>. This interface has methods that return objects of type <code>java.util.List</code>.</p>\n"},{"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":12,"creation_date":1530211118,"post_id":19460404,"comment_id":89167048,"body_markdown":"Should be noted that it&#39;s from Guava too.","body":"Should be noted that it&#39;s from Guava too."},{"owner":{"account_id":3274061,"reputation":2691,"user_id":2756760,"accept_rate":51,"display_name":"du-it"},"score":0,"creation_date":1565088602,"post_id":19460404,"comment_id":101233240,"body_markdown":"Or from org.apache.commons.collections4. Then it&#39;s FluentIterable.of(myIterable).toList()","body":"Or from org.apache.commons.collections4. Then it&#39;s FluentIterable.of(myIterable).toList()"}],"tags":[],"owner":{"account_id":106890,"reputation":2408,"user_id":284511,"display_name":"fringd"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1382137881,"creation_date":1382137881,"answer_id":19460404,"question_id":6416706,"body_markdown":"I use `FluentIterable.from(myIterable).toList()` a lot.","title":"Easy way to convert Iterable to Collection","body":"<p>I use <code>FluentIterable.from(myIterable).toList()</code> a lot.</p>\n"},{"tags":[],"owner":{"display_name":"user1019830"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1398348337,"creation_date":1398348337,"answer_id":23271272,"question_id":6416706,"body_markdown":"In Java 8 you can do this to add all elements from an `Iterable` to `Collection` and return it:\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; iterableToCollection(Iterable&lt;T&gt; iterable) {\r\n      Collection&lt;T&gt; collection = new ArrayList&lt;&gt;();\r\n      iterable.forEach(collection::add);\r\n      return collection;\r\n    }\r\nInspired by @Afreys answer.","title":"Easy way to convert Iterable to Collection","body":"<p>In Java 8 you can do this to add all elements from an <code>Iterable</code> to <code>Collection</code> and return it:</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; iterableToCollection(Iterable&lt;T&gt; iterable) {\n  Collection&lt;T&gt; collection = new ArrayList&lt;&gt;();\n  iterable.forEach(collection::add);\n  return collection;\n}\n</code></pre>\n\n<p>Inspired by @Afreys answer.</p>\n"},{"comments":[{"owner":{"account_id":1232348,"reputation":3075,"user_id":1233661,"accept_rate":67,"display_name":"Alex Burdusel"},"score":1,"creation_date":1472219948,"post_id":23996861,"comment_id":65678478,"body_markdown":"this approach is way too slow compared to `IteratorUtils` from `commons-collections`","body":"this approach is way too slow compared to <code>IteratorUtils</code> from <code>commons-collections</code>"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":3,"creation_date":1472222680,"post_id":23996861,"comment_id":65680325,"body_markdown":"How much slower? `IteratorUtils.toList()` uses the iterator in a pre Java 5 fashion to add the elements one by one to a newly created list. Simple and possibly fastest, but adds 734 kB to your binary and you could do this on your own if you found this method to be the best.","body":"How much slower? <code>IteratorUtils.toList()</code> uses the iterator in a pre Java 5 fashion to add the elements one by one to a newly created list. Simple and possibly fastest, but adds 734 kB to your binary and you could do this on your own if you found this method to be the best."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":10,"creation_date":1472223951,"post_id":23996861,"comment_id":65681190,"body_markdown":"I&#39;ve done a primitive benchmark concluding that sometimes the first is faster, sometimes the second is faster. Show us your benchmark.","body":"I&#39;ve done a primitive benchmark concluding that sometimes the first is faster, sometimes the second is faster. Show us your benchmark."},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":3,"creation_date":1572028428,"post_id":23996861,"comment_id":103446528,"body_markdown":"this prob could be new accepted answer - It&#39;s nice to avoid excess libs (like Guava).","body":"this prob could be new accepted answer - It&#39;s nice to avoid excess libs (like Guava)."}],"tags":[],"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"comment_count":4,"down_vote_count":0,"up_vote_count":113,"is_accepted":false,"score":113,"last_activity_date":1660920492,"creation_date":1401719140,"answer_id":23996861,"question_id":6416706,"body_markdown":"Concise solution with Java 8 using [`java.util.stream`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html):\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; toList(final Iterable&lt;T&gt; iterable) {\r\n        return StreamSupport.stream(iterable.spliterator(), false)\r\n                            .collect(Collectors.toList());\r\n    }\r\n\r\nSince Java 16, you can use [`Stream.toList()`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#toList()):\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; toList(final Iterable&lt;T&gt; iterable) {\r\n        return StreamSupport.stream(iterable.spliterator(), false)\r\n                            .toList();\r\n    }","title":"Easy way to convert Iterable to Collection","body":"<p>Concise solution with Java 8 using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\"><code>java.util.stream</code></a>:</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; toList(final Iterable&lt;T&gt; iterable) {\n    return StreamSupport.stream(iterable.spliterator(), false)\n                        .collect(Collectors.toList());\n}\n</code></pre>\n<p>Since Java 16, you can use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"noreferrer\"><code>Stream.toList()</code></a>:</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; toList(final Iterable&lt;T&gt; iterable) {\n    return StreamSupport.stream(iterable.spliterator(), false)\n                        .toList();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":1,"creation_date":1442278838,"post_id":25660838,"comment_id":53007091,"body_markdown":"Your year-old answer is the basis of a new question http://stackoverflow.com/questions/32570534/are-there-any-java-standard-classes-that-implement-iterable-without-implementing attracting lots of views and comments.","body":"Your year-old answer is the basis of a new question <a href=\"http://stackoverflow.com/questions/32570534/are-there-any-java-standard-classes-that-implement-iterable-without-implementing\" title=\"are there any java standard classes that implement iterable without implementing\">stackoverflow.com/questions/32570534/&hellip;</a> attracting lots of views and comments."}],"tags":[],"owner":{"account_id":372123,"reputation":1074,"user_id":721000,"accept_rate":58,"display_name":"Aaron Roller"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1409819713,"creation_date":1409819713,"answer_id":25660838,"question_id":6416706,"body_markdown":"I use my custom utility to cast an existing Collection if available.\r\n\r\n**Main:**\r\n \r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; toCollection(Iterable&lt;T&gt; iterable) {\r\n\t\tif (iterable instanceof Collection) {\r\n\t\t\treturn (Collection&lt;T&gt;) iterable;\r\n\t\t} else {\r\n\t\t\treturn Lists.newArrayList(iterable);\r\n\t\t}\r\n\t}\r\n\r\nIdeally the above would use ImmutableList, but ImmutableCollection does not allow nulls which may provide undesirable results.\r\n\r\n**Tests:**\r\n   \r\n    @Test\r\n\tpublic void testToCollectionAlreadyCollection() {\r\n\t\tArrayList&lt;String&gt; list = Lists.newArrayList(FIRST, MIDDLE, LAST);\r\n\t\tassertSame(&quot;no need to change, just cast&quot;, list, toCollection(list));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testIterableToCollection() {\r\n\t\tfinal ArrayList&lt;String&gt; expected = Lists.newArrayList(FIRST, null, MIDDLE, LAST);\r\n\r\n\t\tCollection&lt;String&gt; collection = toCollection(new Iterable&lt;String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic Iterator&lt;String&gt; iterator() {\r\n\t\t\t\treturn expected.iterator();\r\n\t\t\t}\r\n\t\t});\r\n\t\tassertNotSame(&quot;a new list must have been created&quot;, expected, collection);\r\n\t\tassertTrue(expected + &quot; != &quot; + collection, CollectionUtils.isEqualCollection(expected, collection));\r\n\t}\r\n\r\nI implement similar utilities for all subtypes of Collections (Set,List,etc). I&#39;d think these would already be part of Guava, but I haven&#39;t found it.","title":"Easy way to convert Iterable to Collection","body":"<p>I use my custom utility to cast an existing Collection if available.</p>\n\n<p><strong>Main:</strong></p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; toCollection(Iterable&lt;T&gt; iterable) {\n    if (iterable instanceof Collection) {\n        return (Collection&lt;T&gt;) iterable;\n    } else {\n        return Lists.newArrayList(iterable);\n    }\n}\n</code></pre>\n\n<p>Ideally the above would use ImmutableList, but ImmutableCollection does not allow nulls which may provide undesirable results.</p>\n\n<p><strong>Tests:</strong></p>\n\n<pre><code>@Test\npublic void testToCollectionAlreadyCollection() {\n    ArrayList&lt;String&gt; list = Lists.newArrayList(FIRST, MIDDLE, LAST);\n    assertSame(\"no need to change, just cast\", list, toCollection(list));\n}\n\n@Test\npublic void testIterableToCollection() {\n    final ArrayList&lt;String&gt; expected = Lists.newArrayList(FIRST, null, MIDDLE, LAST);\n\n    Collection&lt;String&gt; collection = toCollection(new Iterable&lt;String&gt;() {\n        @Override\n        public Iterator&lt;String&gt; iterator() {\n            return expected.iterator();\n        }\n    });\n    assertNotSame(\"a new list must have been created\", expected, collection);\n    assertTrue(expected + \" != \" + collection, CollectionUtils.isEqualCollection(expected, collection));\n}\n</code></pre>\n\n<p>I implement similar utilities for all subtypes of Collections (Set,List,etc). I'd think these would already be part of Guava, but I haven't found it.</p>\n"},{"comments":[{"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"score":101,"creation_date":1443517813,"post_id":30474348,"comment_id":53514805,"body_markdown":"Or `iterable.forEach(target::add);`","body":"Or <code>iterable.forEach(target::add);</code>"}],"tags":[],"owner":{"account_id":1632148,"reputation":11369,"user_id":1506477,"accept_rate":100,"display_name":"Thamme Gowda"},"comment_count":1,"down_vote_count":1,"up_vote_count":416,"is_accepted":false,"score":415,"last_activity_date":1587089696,"creation_date":1432706746,"answer_id":30474348,"question_id":6416706,"body_markdown":"In JDK 8+, without using any additional libs:\r\n\r\n    Iterator&lt;T&gt; source = ...;\r\n    List&lt;T&gt; target = new ArrayList&lt;&gt;();\r\n    source.forEachRemaining(target::add);\r\n\r\n\r\nEdit: The above one is for `Iterator`. If you are dealing with `Iterable`, \r\n\r\n\r\n    iterable.forEach(target::add);","title":"Easy way to convert Iterable to Collection","body":"<p>In JDK 8+, without using any additional libs:</p>\n\n<pre><code>Iterator&lt;T&gt; source = ...;\nList&lt;T&gt; target = new ArrayList&lt;&gt;();\nsource.forEachRemaining(target::add);\n</code></pre>\n\n<p>Edit: The above one is for <code>Iterator</code>. If you are dealing with <code>Iterable</code>, </p>\n\n<pre><code>iterable.forEach(target::add);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":385056,"reputation":36653,"user_id":741970,"accept_rate":61,"display_name":"Dmitry Minkovsky"},"score":28,"creation_date":1481296738,"post_id":33142968,"comment_id":69334059,"body_markdown":"is there some way to get jquery involved perhaps?","body":"is there some way to get jquery involved perhaps?"},{"owner":{"account_id":399131,"reputation":16399,"user_id":2296787,"accept_rate":79,"display_name":"MBH"},"score":3,"creation_date":1502975812,"post_id":33142968,"comment_id":78430093,"body_markdown":"it crashes if there is null item in RxJava. isnt it ?","body":"it crashes if there is null item in RxJava. isnt it ?"},{"owner":{"account_id":1699636,"reputation":4007,"user_id":1560102,"accept_rate":75,"display_name":"DariusL"},"score":0,"creation_date":1503131118,"post_id":33142968,"comment_id":78496914,"body_markdown":"I believe RxJava2 does not allow null items, should be fine in RxJava.","body":"I believe RxJava2 does not allow null items, should be fine in RxJava."}],"tags":[],"owner":{"account_id":1699636,"reputation":4007,"user_id":1560102,"accept_rate":75,"display_name":"DariusL"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1444895872,"creation_date":1444895872,"answer_id":33142968,"question_id":6416706,"body_markdown":"Since RxJava is a hammer and this kinda looks like a nail, you can do\r\n\r\n    Observable.from(iterable).toList().toBlocking().single();","title":"Easy way to convert Iterable to Collection","body":"<p>Since RxJava is a hammer and this kinda looks like a nail, you can do</p>\n\n<pre><code>Observable.from(iterable).toList().toBlocking().single();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3292614,"reputation":6081,"user_id":2770572,"accept_rate":73,"display_name":"michaelsnowden"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1470639270,"creation_date":1470639270,"answer_id":38822908,"question_id":6416706,"body_markdown":"Here&#39;s an SSCCE for a great way to do this in Java 8\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.LinkedList;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class IterableToCollection {\r\n        public interface CollectionFactory &lt;T, U extends Collection&lt;T&gt;&gt; {\r\n            U createCollection();\r\n        }\r\n    \r\n        public static &lt;T, U extends Collection&lt;T&gt;&gt; U collect(Iterable&lt;T&gt; iterable, CollectionFactory&lt;T, U&gt; factory) {\r\n            U collection = factory.createCollection();\r\n            iterable.forEach(collection::add);\r\n            return collection;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Iterable&lt;Integer&gt; iterable = IntStream.range(0, 5).boxed().collect(Collectors.toList());\r\n            ArrayList&lt;Integer&gt; arrayList = collect(iterable, ArrayList::new);\r\n            HashSet&lt;Integer&gt; hashSet = collect(iterable, HashSet::new);\r\n            LinkedList&lt;Integer&gt; linkedList = collect(iterable, LinkedList::new);\r\n        }\r\n    }","title":"Easy way to convert Iterable to Collection","body":"<p>Here's an SSCCE for a great way to do this in Java 8</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class IterableToCollection {\n    public interface CollectionFactory &lt;T, U extends Collection&lt;T&gt;&gt; {\n        U createCollection();\n    }\n\n    public static &lt;T, U extends Collection&lt;T&gt;&gt; U collect(Iterable&lt;T&gt; iterable, CollectionFactory&lt;T, U&gt; factory) {\n        U collection = factory.createCollection();\n        iterable.forEach(collection::add);\n        return collection;\n    }\n\n    public static void main(String[] args) {\n        Iterable&lt;Integer&gt; iterable = IntStream.range(0, 5).boxed().collect(Collectors.toList());\n        ArrayList&lt;Integer&gt; arrayList = collect(iterable, ArrayList::new);\n        HashSet&lt;Integer&gt; hashSet = collect(iterable, HashSet::new);\n        LinkedList&lt;Integer&gt; linkedList = collect(iterable, LinkedList::new);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497980149,"creation_date":1497980149,"answer_id":44659632,"question_id":6416706,"body_markdown":"Try `StickyList` from [Cactoos](http://www.cactoos.org):\r\n\r\n    List&lt;String&gt; list = new StickyList&lt;&gt;(iterable);","title":"Easy way to convert Iterable to Collection","body":"<p>Try <code>StickyList</code> from <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>List&lt;String&gt; list = new StickyList&lt;&gt;(iterable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579643610,"creation_date":1579236342,"answer_id":59781326,"question_id":6416706,"body_markdown":"You can use [Eclipse Collections][1] factories:\r\n\r\n    Iterable&lt;String&gt; iterable = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    \r\n    MutableList&lt;String&gt; list = Lists.mutable.withAll(iterable);\r\n    MutableSet&lt;String&gt; set = Sets.mutable.withAll(iterable);\r\n    MutableSortedSet&lt;String&gt; sortedSet = SortedSets.mutable.withAll(iterable);\r\n    MutableBag&lt;String&gt; bag = Bags.mutable.withAll(iterable);\r\n    MutableSortedBag&lt;String&gt; sortedBag = SortedBags.mutable.withAll(iterable);\r\n\r\nYou can also convert the `Iterable` to a `LazyIterable` and use the converter methods or any of the other available APIs available.\r\n\r\n    Iterable&lt;String&gt; iterable = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    LazyIterable&lt;String&gt; lazy = LazyIterate.adapt(iterable);\r\n    \r\n    MutableList&lt;String&gt; list = lazy.toList();\r\n    MutableSet&lt;String&gt; set = lazy.toSet();\r\n    MutableSortedSet&lt;String&gt; sortedSet = lazy.toSortedSet();\r\n    MutableBag&lt;String&gt; bag = lazy.toBag();\r\n    MutableSortedBag&lt;String&gt; sortedBag = lazy.toSortedBag();\r\n\r\nAll of the above `Mutable` types extend `java.util.Collection`.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n","title":"Easy way to convert Iterable to Collection","body":"<p>You can use <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> factories:</p>\n\n<pre><code>Iterable&lt;String&gt; iterable = Arrays.asList(\"1\", \"2\", \"3\");\n\nMutableList&lt;String&gt; list = Lists.mutable.withAll(iterable);\nMutableSet&lt;String&gt; set = Sets.mutable.withAll(iterable);\nMutableSortedSet&lt;String&gt; sortedSet = SortedSets.mutable.withAll(iterable);\nMutableBag&lt;String&gt; bag = Bags.mutable.withAll(iterable);\nMutableSortedBag&lt;String&gt; sortedBag = SortedBags.mutable.withAll(iterable);\n</code></pre>\n\n<p>You can also convert the <code>Iterable</code> to a <code>LazyIterable</code> and use the converter methods or any of the other available APIs available.</p>\n\n<pre><code>Iterable&lt;String&gt; iterable = Arrays.asList(\"1\", \"2\", \"3\");\nLazyIterable&lt;String&gt; lazy = LazyIterate.adapt(iterable);\n\nMutableList&lt;String&gt; list = lazy.toList();\nMutableSet&lt;String&gt; set = lazy.toSet();\nMutableSortedSet&lt;String&gt; sortedSet = lazy.toSortedSet();\nMutableBag&lt;String&gt; bag = lazy.toBag();\nMutableSortedBag&lt;String&gt; sortedBag = lazy.toSortedBag();\n</code></pre>\n\n<p>All of the above <code>Mutable</code> types extend <code>java.util.Collection</code>.</p>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1590812093,"creation_date":1590812093,"answer_id":62097748,"question_id":6416706,"body_markdown":"I came across a similar situation while trying to fetch a `List` of `Project`s, rather than the default `Iterable&lt;T&gt; findAll()` declared in `CrudRepository` interface. So, in my `ProjectRepository` interface (which extends from `CrudRepository`), I simply declared the `findAll()` method to return a `List&lt;Project&gt;` instead of `Iterable&lt;Project&gt;`.\r\n\r\n    package com.example.projectmanagement.dao;\r\n    \r\n    import com.example.projectmanagement.entities.Project;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import java.util.List;\r\n    \r\n    public interface ProjectRepository extends CrudRepository&lt;Project, Long&gt; {\r\n    \r\n        @Override\r\n        List&lt;Project&gt; findAll();\r\n    }\r\n\r\nThis is the simplest solution, I think, without requiring conversion logic or usage of external libraries.","title":"Easy way to convert Iterable to Collection","body":"<p>I came across a similar situation while trying to fetch a <code>List</code> of <code>Project</code>s, rather than the default <code>Iterable&lt;T&gt; findAll()</code> declared in <code>CrudRepository</code> interface. So, in my <code>ProjectRepository</code> interface (which extends from <code>CrudRepository</code>), I simply declared the <code>findAll()</code> method to return a <code>List&lt;Project&gt;</code> instead of <code>Iterable&lt;Project&gt;</code>.</p>\n\n<pre><code>package com.example.projectmanagement.dao;\n\nimport com.example.projectmanagement.entities.Project;\nimport org.springframework.data.repository.CrudRepository;\nimport java.util.List;\n\npublic interface ProjectRepository extends CrudRepository&lt;Project, Long&gt; {\n\n    @Override\n    List&lt;Project&gt; findAll();\n}\n</code></pre>\n\n<p>This is the simplest solution, I think, without requiring conversion logic or usage of external libraries.</p>\n"},{"tags":[],"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614007888,"creation_date":1614007888,"answer_id":66318656,"question_id":6416706,"body_markdown":"Kinda late to the party, but I created a very elegant Java 8 solution that allows converting an Iterable of T to any Collection of T, without any libraries:\r\n\r\n    public static &lt;T, C extends Collection&lt;T&gt;&gt; C toCollection(Iterable&lt;T&gt; iterable, Supplier&lt;C&gt; baseSupplier) \r\n\t{\r\n\t\tC collection = baseSupplier.get();\r\n\t\t\r\n\t\titerable.forEach(collection::add);\r\n\t\t\r\n\t\treturn collection;\r\n\t}\r\n\r\nUsage Example:\r\n\r\n    Iterable&lt;String&gt; iterable = ...;\r\n    List&lt;String&gt; list = toCollection(iterable, ArrayList::new);","title":"Easy way to convert Iterable to Collection","body":"<p>Kinda late to the party, but I created a very elegant Java 8 solution that allows converting an Iterable of T to any Collection of T, without any libraries:</p>\n<pre><code>public static &lt;T, C extends Collection&lt;T&gt;&gt; C toCollection(Iterable&lt;T&gt; iterable, Supplier&lt;C&gt; baseSupplier) \n{\n    C collection = baseSupplier.get();\n    \n    iterable.forEach(collection::add);\n    \n    return collection;\n}\n</code></pre>\n<p>Usage Example:</p>\n<pre><code>Iterable&lt;String&gt; iterable = ...;\nList&lt;String&gt; list = toCollection(iterable, ArrayList::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5811477,"reputation":1484,"user_id":4582374,"accept_rate":80,"display_name":"l33tHax0r"},"score":0,"creation_date":1643758826,"post_id":67413334,"comment_id":125423988,"body_markdown":"You had me at JPA ;)","body":"You had me at JPA ;)"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1620284792,"creation_date":1620284792,"answer_id":67413334,"question_id":6416706,"body_markdown":"When you get your `Iterable` from Spring Data you have a couple of additional alternatives.\r\n\r\n 1. You can override the method that returns the `Iterable` in the repository with a version that returns a `List`, `Set` or [`Streamable`][1]. This way Spring Data is doing the conversion for you.\r\n 2. You may do so in a super interface of your repositories so you don&#39;t have to repeat the override in all your repository interfaces.\r\n\r\n 2. If you happen to use Spring Data JPA this is already done for you in `JpaRepository`\r\n\r\n 3. You may do the conversion using the just mentioned `Streamable` yourself:\r\n\r\n    ```java\r\n    Iterable&lt;X&gt; iterable = repo.findAll();\r\n    List&lt;X&gt; list = Streamable.of(iterable).toList();\r\n    ```\r\n\r\nAnd since you mention being upset, maybe a little background for the decision to use `Iterable` help as well.\r\n\r\n1. It is expected that it is actually fairly rare to actually require a `Collection` so in many cases it shouldn&#39;t make a difference.\r\n2. Using the overriding mechanics one can return different types which wouldn&#39;t be possible with a more specific return type like `Collection`. \r\nThis would make it impossible to return a `Streamable` which is intended for cases where a store may decide to return a result before all elements have been fetched. \r\n3. `Streamable` would actually be a flexible return type, since it offers easy conversions to `List`, `Set`, `Stream` and is itself an `Iterable`. But this would require you to use a Spring Data specific type in your application which many users wouldn&#39;t like.\r\n\r\n\r\nThere is a [section about this in the reference documentation][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/Streamable.html\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods","title":"Easy way to convert Iterable to Collection","body":"<p>When you get your <code>Iterable</code> from Spring Data you have a couple of additional alternatives.</p>\n<ol>\n<li><p>You can override the method that returns the <code>Iterable</code> in the repository with a version that returns a <code>List</code>, <code>Set</code> or <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/Streamable.html\" rel=\"noreferrer\"><code>Streamable</code></a>. This way Spring Data is doing the conversion for you.</p>\n</li>\n<li><p>You may do so in a super interface of your repositories so you don't have to repeat the override in all your repository interfaces.</p>\n</li>\n<li><p>If you happen to use Spring Data JPA this is already done for you in <code>JpaRepository</code></p>\n</li>\n<li><p>You may do the conversion using the just mentioned <code>Streamable</code> yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterable&lt;X&gt; iterable = repo.findAll();\nList&lt;X&gt; list = Streamable.of(iterable).toList();\n</code></pre>\n</li>\n</ol>\n<p>And since you mention being upset, maybe a little background for the decision to use <code>Iterable</code> help as well.</p>\n<ol>\n<li>It is expected that it is actually fairly rare to actually require a <code>Collection</code> so in many cases it shouldn't make a difference.</li>\n<li>Using the overriding mechanics one can return different types which wouldn't be possible with a more specific return type like <code>Collection</code>.\nThis would make it impossible to return a <code>Streamable</code> which is intended for cases where a store may decide to return a result before all elements have been fetched.</li>\n<li><code>Streamable</code> would actually be a flexible return type, since it offers easy conversions to <code>List</code>, <code>Set</code>, <code>Stream</code> and is itself an <code>Iterable</code>. But this would require you to use a Spring Data specific type in your application which many users wouldn't like.</li>\n</ol>\n<p>There is a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"noreferrer\">section about this in the reference documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674315401,"creation_date":1674315401,"answer_id":75194500,"question_id":6416706,"body_markdown":"If you could update to **Spring Data 3**, this has been addressed there. There is a new interface `ListCrudRepository` which do exactly what you want.\r\n\r\nHere is the interface from https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0:\r\n\r\n\r\n    public interface ListCrudRepository&lt;T, ID&gt; extends CrudRepository&lt;T, ID&gt; {\r\n    \t&lt;S extends T&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities);\r\n    \tList&lt;T&gt; findAll();\r\n    \tList&lt;T&gt; findAllById(Iterable&lt;ID&gt; ids);\r\n    }\r\n\r\nNote in version 3 you must implement two interfaces\r\n\r\nSo in version 2:\r\n\r\n    public interface PersonRepository&lt;Person, Long&gt; extends \r\n       PagingAndSortingRepository&lt;Person, Long&gt; {}\r\n\r\nIn version 3 should be changed to:\r\n\r\n    public interface PersonRepository&lt;Person, Long&gt; extends\r\n        PagingAndSortingRepository&lt;Person, Long&gt;,ListCrudRepository&lt;Person, Long&gt; {}\r\n\r\nOther changes are mentioned in https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0","title":"Easy way to convert Iterable to Collection","body":"<p>If you could update to <strong>Spring Data 3</strong>, this has been addressed there. There is a new interface <code>ListCrudRepository</code> which do exactly what you want.</p>\n<p>Here is the interface from <a href=\"https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0</a>:</p>\n<pre><code>public interface ListCrudRepository&lt;T, ID&gt; extends CrudRepository&lt;T, ID&gt; {\n    &lt;S extends T&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities);\n    List&lt;T&gt; findAll();\n    List&lt;T&gt; findAllById(Iterable&lt;ID&gt; ids);\n}\n</code></pre>\n<p>Note in version 3 you must implement two interfaces</p>\n<p>So in version 2:</p>\n<pre><code>public interface PersonRepository&lt;Person, Long&gt; extends \n   PagingAndSortingRepository&lt;Person, Long&gt; {}\n</code></pre>\n<p>In version 3 should be changed to:</p>\n<pre><code>public interface PersonRepository&lt;Person, Long&gt; extends\n    PagingAndSortingRepository&lt;Person, Long&gt;,ListCrudRepository&lt;Person, Long&gt; {}\n</code></pre>\n<p>Other changes are mentioned in <a href=\"https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/22/announcing-listcrudrepository-friends-for-spring-data-3-0</a></p>\n"}],"owner":{"account_id":38541,"reputation":12659,"user_id":110677,"accept_rate":83,"display_name":"Ula Krukar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413124,"favorite_count":0,"down_vote_count":0,"up_vote_count":492,"accepted_answer_id":6416800,"answer_count":21,"score":492,"last_activity_date":1688747470,"creation_date":1308599804,"question_id":6416706,"body_markdown":"In my application I use 3rd party library (`Spring Data for MongoDB` to be exact).\r\n\r\nMethods of this library return `Iterable&lt;T&gt;`, while the rest of my code expects `Collection&lt;T&gt;`.\r\n\r\nIs there any utility method somewhere that will let me quickly convert one to the other? I would like to avoid creating a bunch of `foreach` loops in my code for such a simple thing.\r\n","title":"Easy way to convert Iterable to Collection","body":"<p>In my application I use 3rd party library (<code>Spring Data for MongoDB</code> to be exact).</p>\n<p>Methods of this library return <code>Iterable&lt;T&gt;</code>, while the rest of my code expects <code>Collection&lt;T&gt;</code>.</p>\n<p>Is there any utility method somewhere that will let me quickly convert one to the other? I would like to avoid creating a bunch of <code>foreach</code> loops in my code for such a simple thing.</p>\n"},{"tags":["java","spring","spring-boot","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":13001928,"reputation":46,"user_id":9397755,"display_name":"Jennifer Reif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688747323,"creation_date":1688747323,"answer_id":76638703,"question_id":76590320,"body_markdown":"In the FollowRelationshipConverter class, you are combining trying to convert to Map.class or MapValue.class. I believe it should be consistent - either one or the other. In getConvertibleTypes(), it is trying to convert with MapValue. In convertToNeo4jValue(), it is trying to convert to Map.","title":"No Convertor found Neo4j Spring boot SDN 6","body":"<p>In the FollowRelationshipConverter class, you are combining trying to convert to Map.class or MapValue.class. I believe it should be consistent - either one or the other. In getConvertibleTypes(), it is trying to convert with MapValue. In convertToNeo4jValue(), it is trying to convert to Map.</p>\n"}],"owner":{"account_id":3542880,"reputation":31,"user_id":2959517,"display_name":"kishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688747323,"creation_date":1688138952,"question_id":76590320,"body_markdown":"**I have created convertors and register via Neo4jConversions, but the problem is write convertor is working fine but while reading from neo4j its throwing the error i.e, No Convertor found**\r\n\r\n    package com.helpingduck.userservice.config.neo4j;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.helpingduck.userservice.model.neo4j.FollowRelationship;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.neo4j.driver.Value;\r\n    import org.neo4j.driver.Values;\r\n    import org.neo4j.driver.internal.value.MapValue;\r\n    import org.neo4j.driver.internal.value.ValueAdapter;\r\n    import org.springframework.core.convert.TypeDescriptor;\r\n    import org.springframework.core.convert.converter.GenericConverter;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class FollowRelationshipConverter implements GenericConverter {\r\n    \r\n      private final ObjectMapper objectMapper;\r\n    \r\n      @Override\r\n      public Set&lt;ConvertiblePair&gt; getConvertibleTypes() {\r\n        Set&lt;ConvertiblePair&gt; convertiblePairs = new HashSet&lt;&gt;();\r\n        convertiblePairs.add(new ConvertiblePair(MapValue.class, FollowRelationship.class));\r\n        convertiblePairs.add(new ConvertiblePair(FollowRelationship.class, Value.class));\r\n        return convertiblePairs;\r\n      }\r\n    \r\n      @Override\r\n      public Object convert(Object source, TypeDescriptor sourceType, TypeDescriptor targetType) {\r\n        if (FollowRelationship.class.isAssignableFrom(sourceType.getType())) {\r\n          // convert to Neo4j Driver Value\r\n          return convertToNeo4jValue(source);\r\n        } else {\r\n          // convert to MyCustomType\r\n          return convertToMyCustomType(source);\r\n        }\r\n      }\r\n    \r\n      private FollowRelationship convertToMyCustomType(Object source) {\r\n        MapValue value = (MapValue) source;\r\n        Map&lt;String, Object&gt; map = value.asMap();\r\n        return objectMapper.convertValue(map, FollowRelationship.class);\r\n      }\r\n    \r\n      private Value convertToNeo4jValue(Object source) {\r\n        FollowRelationship followRelationship = (FollowRelationship) source;\r\n        return Values.value(objectMapper.convertValue(followRelationship, Map.class));\r\n      }\r\n    }\r\n\r\n**My Relationship Class:**\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class BaseRelationship {\r\n    \r\n      private String elementId;\r\n    \r\n      private String type;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @SuperBuilder(toBuilder = true)\r\n    public class FollowRelationship extends BaseRelationship {\r\n      private String details;\r\n    }\r\n\r\n**Query:**\r\n\r\n    @Query(\r\n          &quot;MATCH (follower:User {user_ref: $followerUserRef}) MATCH (following:User {user_ref:&quot;\r\n              + &quot; $followingUserRef}) MERGE (follower)-[r:FOLLOWS]-&gt;(following) set r +=&quot;\r\n              + &quot; $followRelationship RETURN apoc.map.merge({elementId: elementId(r), type:&quot;\r\n              + &quot; type(r)},properties(r)) as result&quot;)\r\n      Optional&lt;FollowRelationship&gt; follow(\r\n          @Param(&quot;followerUserRef&quot;) String followerUserRef,\r\n          @Param(&quot;followingUserRef&quot;) String followingUserRef,\r\n          @Param(&quot;followRelationship&quot;) FollowRelationship followRelationship);\r\n\r\n&gt; Conversion from FollowRelationship.class to Value.Class is working\r\n&gt; fine\r\n\r\n&gt; Conversion from MapValue.Class to FollowRelationship.class is throwing the below error\r\n\r\n**Exception:**\r\n\r\n    threw exception [Request processing failed; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.neo4j.driver.internal.value.MapValue] to type [com.helpingduck.userservice.model.neo4j.FollowRelationship]] with root cause\r\n    \r\n    org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.neo4j.driver.internal.value.MapValue] to type [com.helpingduck.userservice.model.neo4j.FollowRelationship]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322) ~[spring-core-5.3.28.jar:5.3.28]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:195) ~[spring-core-5.3.28.jar:5.3.28]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175) ~[spring-core-5.3.28.jar:5.3.28]\r\n    \tat org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:61) ~[spring-data-neo4j-6.3.13.jar:6.3.13]\r\n    \tat org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34) ~[spring-data-neo4j-6.3.13.jar:6.3.13]\r\n    \tat org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.one(DefaultNeo4jClient.java:456) ~[spring-data-neo4j-6.3.13.jar:6.3.13]\r\n    \tat java.base/java.util.Optional.flatMap(Optional.java:294) ~[na:na]\r\n\r\n","title":"No Convertor found Neo4j Spring boot SDN 6","body":"<p><strong>I have created convertors and register via Neo4jConversions, but the problem is write convertor is working fine but while reading from neo4j its throwing the error i.e, No Convertor found</strong></p>\n<pre><code>package com.helpingduck.userservice.config.neo4j;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.helpingduck.userservice.model.neo4j.FollowRelationship;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport lombok.RequiredArgsConstructor;\nimport org.neo4j.driver.Value;\nimport org.neo4j.driver.Values;\nimport org.neo4j.driver.internal.value.MapValue;\nimport org.neo4j.driver.internal.value.ValueAdapter;\nimport org.springframework.core.convert.TypeDescriptor;\nimport org.springframework.core.convert.converter.GenericConverter;\nimport org.springframework.stereotype.Component;\n\n@Component\n@RequiredArgsConstructor\npublic class FollowRelationshipConverter implements GenericConverter {\n\n  private final ObjectMapper objectMapper;\n\n  @Override\n  public Set&lt;ConvertiblePair&gt; getConvertibleTypes() {\n    Set&lt;ConvertiblePair&gt; convertiblePairs = new HashSet&lt;&gt;();\n    convertiblePairs.add(new ConvertiblePair(MapValue.class, FollowRelationship.class));\n    convertiblePairs.add(new ConvertiblePair(FollowRelationship.class, Value.class));\n    return convertiblePairs;\n  }\n\n  @Override\n  public Object convert(Object source, TypeDescriptor sourceType, TypeDescriptor targetType) {\n    if (FollowRelationship.class.isAssignableFrom(sourceType.getType())) {\n      // convert to Neo4j Driver Value\n      return convertToNeo4jValue(source);\n    } else {\n      // convert to MyCustomType\n      return convertToMyCustomType(source);\n    }\n  }\n\n  private FollowRelationship convertToMyCustomType(Object source) {\n    MapValue value = (MapValue) source;\n    Map&lt;String, Object&gt; map = value.asMap();\n    return objectMapper.convertValue(map, FollowRelationship.class);\n  }\n\n  private Value convertToNeo4jValue(Object source) {\n    FollowRelationship followRelationship = (FollowRelationship) source;\n    return Values.value(objectMapper.convertValue(followRelationship, Map.class));\n  }\n}\n</code></pre>\n<p><strong>My Relationship Class:</strong></p>\n<pre><code>@SuperBuilder(toBuilder = true)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class BaseRelationship {\n\n  private String elementId;\n\n  private String type;\n}\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@SuperBuilder(toBuilder = true)\npublic class FollowRelationship extends BaseRelationship {\n  private String details;\n}\n</code></pre>\n<p><strong>Query:</strong></p>\n<pre><code>@Query(\n      &quot;MATCH (follower:User {user_ref: $followerUserRef}) MATCH (following:User {user_ref:&quot;\n          + &quot; $followingUserRef}) MERGE (follower)-[r:FOLLOWS]-&gt;(following) set r +=&quot;\n          + &quot; $followRelationship RETURN apoc.map.merge({elementId: elementId(r), type:&quot;\n          + &quot; type(r)},properties(r)) as result&quot;)\n  Optional&lt;FollowRelationship&gt; follow(\n      @Param(&quot;followerUserRef&quot;) String followerUserRef,\n      @Param(&quot;followingUserRef&quot;) String followingUserRef,\n      @Param(&quot;followRelationship&quot;) FollowRelationship followRelationship);\n</code></pre>\n<blockquote>\n<p>Conversion from FollowRelationship.class to Value.Class is working\nfine</p>\n</blockquote>\n<blockquote>\n<p>Conversion from MapValue.Class to FollowRelationship.class is throwing the below error</p>\n</blockquote>\n<p><strong>Exception:</strong></p>\n<pre><code>threw exception [Request processing failed; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.neo4j.driver.internal.value.MapValue] to type [com.helpingduck.userservice.model.neo4j.FollowRelationship]] with root cause\n\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.neo4j.driver.internal.value.MapValue] to type [com.helpingduck.userservice.model.neo4j.FollowRelationship]\n    at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322) ~[spring-core-5.3.28.jar:5.3.28]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:195) ~[spring-core-5.3.28.jar:5.3.28]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175) ~[spring-core-5.3.28.jar:5.3.28]\n    at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:61) ~[spring-data-neo4j-6.3.13.jar:6.3.13]\n    at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34) ~[spring-data-neo4j-6.3.13.jar:6.3.13]\n    at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.one(DefaultNeo4jClient.java:456) ~[spring-data-neo4j-6.3.13.jar:6.3.13]\n    at java.base/java.util.Optional.flatMap(Optional.java:294) ~[na:na]\n</code></pre>\n"},{"tags":["java","quarkus","quarkus-hibernate-orm"],"owner":{"account_id":140310,"reputation":599,"user_id":346534,"display_name":"stephan f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688747170,"creation_date":1688747170,"question_id":76638682,"body_markdown":"I&#39;m running a @QuarkusTest using @QuarkusTestResource(H2DatabaseTestResource.class) with a load script. If the load script fails (bad sql or otherwise), the test is still run. It doesn&#39;t make any sense to run the test if the test data wasn&#39;t properly created. How do I get the test to abort/fail if the load fails? Here&#39;s the exception the load throws:\r\n```\r\nHibernate: insert into task (id, task_type, status, options, created_by) values (9, &#39;DELETE&#39;, &#39;NEW&#39;, &#39;{}&#39; format json, &#39;h2 quarkus test&#39;)\r\n18:14:45 INFO  [o.h.t.s.i.e.Generation] (JPA Startup Thread: &lt;default&gt;) HHH000476: Executing script &#39;file:/Users/me/git/myservice/target/test-classes/import.sql&#39;\r\nHibernate: insert into task (id, task_type, status, created_by) values (1, 42, &#39;DELETE&#39;, &#39;NEW&#39;, &#39;{}&#39; format json, null, &#39;&#39;)\r\nHibernate: insert into event (id, task_id, created_at, event_type, message) values (777, 888, now(), &#39;&#39;, &#39;&#39;)\r\n18:14:45 WARN  [o.h.t.s.i.ExceptionHan] (JPA Startup Thread: &lt;default&gt;) GenerationTarget encountered exception accepting command : Error executing DDL &quot;insert into task (id, task_type, status, created_by) values (8, 42, &#39;DEL&#39;, &#39;NEW&#39;, &#39;{}&#39; format json, &#39;&#39;)&quot; via JDBC [Constraint violation: &quot;CONSTRAINT_272: &quot;\r\nCheck constraint violation: &quot;CONSTRAINT_272: &quot;;]: org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;insert into task (id, task_type, status, subsystems, created_by) values (88, 42, &#39;DEL&#39;, &#39;NEW&#39;, &#39;{}&#39; format json, &#39;&#39;)&quot; via JDBC [Constraint violation: &quot;CONSTRAINT_272: &quot;\r\nCheck constraint violation: &quot;CONSTRAINT_272: &quot;;]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92)\r\n\tat org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:235)\r\n\tat org.hibernate.tool.schema.internal.Helper.applyScript(Helper.java:257)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportFiles(SchemaCreatorImpl.java:650)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:569)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:184)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1421)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\r\n\tat io.quarkus.hibernate.orm.runtime.observers.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:21)\r\n\tat org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:291)\r\n\tat io.quarkus.hibernate.orm.runtime.boot.FastBootEntityManagerFactoryBuilder.build(FastBootEntityManagerFactoryBuilder.java:84)\r\n\tat io.quarkus.hibernate.orm.runtime.FastBootHibernatePersistenceProvider.createEntityManagerFactory(FastBootHibernatePersistenceProvider.java:74)\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat io.quarkus.hibernate.orm.runtime.JPAConfig$LazyPersistenceUnit.get(JPAConfig.java:156)\r\n\tat io.quarkus.hibernate.orm.runtime.JPAConfig$1.run(JPAConfig.java:64)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Constraint violation: &quot;CONSTRAINT_272: &quot;\r\nCheck constraint violation: &quot;CONSTRAINT_272: &quot;; SQL statement:\r\ninsert into task (id, task_type, status, created_by) values (8888, 42, &#39;DEL&#39;, &#39;NEW&#39;, &#39;{}&#39; format json, &#39;MyTest&#39;) [23513-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.constraint.ConstraintCheck.checkRow(ConstraintCheck.java:110)\r\n\tat org.h2.table.Table.fireConstraints(Table.java:1172)\r\n\tat org.h2.table.Table.fireBeforeRow(Table.java:1163)\r\n\tat org.h2.command.dml.Insert.insertRows(Insert.java:171)\r\n\tat org.h2.command.dml.Insert.update(Insert.java:135)\r\n\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\r\n\tat io.agroal.pool.wrapper.StatementWrapper.execute(StatementWrapper.java:235)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78)\r\n\t... 21 more","title":"Failing quarkus.hibernate-orm.sql-load-script doesn&#39;t fail test but should","body":"<p>I'm running a @QuarkusTest using @QuarkusTestResource(H2DatabaseTestResource.class) with a load script. If the load script fails (bad sql or otherwise), the test is still run. It doesn't make any sense to run the test if the test data wasn't properly created. How do I get the test to abort/fail if the load fails? Here's the exception the load throws:</p>\n<pre><code>Hibernate: insert into task (id, task_type, status, options, created_by) values (9, 'DELETE', 'NEW', '{}' format json, 'h2 quarkus test')\n18:14:45 INFO  [o.h.t.s.i.e.Generation] (JPA Startup Thread: &lt;default&gt;) HHH000476: Executing script 'file:/Users/me/git/myservice/target/test-classes/import.sql'\nHibernate: insert into task (id, task_type, status, created_by) values (1, 42, 'DELETE', 'NEW', '{}' format json, null, '')\nHibernate: insert into event (id, task_id, created_at, event_type, message) values (777, 888, now(), '', '')\n18:14:45 WARN  [o.h.t.s.i.ExceptionHan] (JPA Startup Thread: &lt;default&gt;) GenerationTarget encountered exception accepting command : Error executing DDL &quot;insert into task (id, task_type, status, created_by) values (8, 42, 'DEL', 'NEW', '{}' format json, '')&quot; via JDBC [Constraint violation: &quot;CONSTRAINT_272: &quot;\nCheck constraint violation: &quot;CONSTRAINT_272: &quot;;]: org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;insert into task (id, task_type, status, subsystems, created_by) values (88, 42, 'DEL', 'NEW', '{}' format json, '')&quot; via JDBC [Constraint violation: &quot;CONSTRAINT_272: &quot;\nCheck constraint violation: &quot;CONSTRAINT_272: &quot;;]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92)\n    at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:235)\n    at org.hibernate.tool.schema.internal.Helper.applyScript(Helper.java:257)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportFiles(SchemaCreatorImpl.java:650)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applyImportSources(SchemaCreatorImpl.java:569)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:184)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:142)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:118)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\n    at java.base/java.util.HashMap.forEach(HashMap.java:1421)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\n    at io.quarkus.hibernate.orm.runtime.observers.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:21)\n    at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:291)\n    at io.quarkus.hibernate.orm.runtime.boot.FastBootEntityManagerFactoryBuilder.build(FastBootEntityManagerFactoryBuilder.java:84)\n    at io.quarkus.hibernate.orm.runtime.FastBootHibernatePersistenceProvider.createEntityManagerFactory(FastBootHibernatePersistenceProvider.java:74)\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at io.quarkus.hibernate.orm.runtime.JPAConfig$LazyPersistenceUnit.get(JPAConfig.java:156)\n    at io.quarkus.hibernate.orm.runtime.JPAConfig$1.run(JPAConfig.java:64)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Constraint violation: &quot;CONSTRAINT_272: &quot;\nCheck constraint violation: &quot;CONSTRAINT_272: &quot;; SQL statement:\ninsert into task (id, task_type, status, created_by) values (8888, 42, 'DEL', 'NEW', '{}' format json, 'MyTest') [23513-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.constraint.ConstraintCheck.checkRow(ConstraintCheck.java:110)\n    at org.h2.table.Table.fireConstraints(Table.java:1172)\n    at org.h2.table.Table.fireBeforeRow(Table.java:1163)\n    at org.h2.command.dml.Insert.insertRows(Insert.java:171)\n    at org.h2.command.dml.Insert.update(Insert.java:135)\n    at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\n    at io.agroal.pool.wrapper.StatementWrapper.execute(StatementWrapper.java:235)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78)\n    ... 21 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-stream"],"answers":[{"comments":[{"owner":{"account_id":1370361,"reputation":4141,"user_id":1305745,"accept_rate":89,"display_name":"cavpollo"},"score":22,"creation_date":1526954546,"post_id":48264995,"comment_id":87930895,"body_markdown":"Also:\n`import org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration;\n@SpringBootTest(classes = {ServletWebServerFactoryAutoConfiguration.class, ... })`","body":"Also: <code>import org.springframework.boot.autoconfigure.web.servlet.ServletWe&zwnj;&#8203;bServerFactoryAutoCo&zwnj;&#8203;nfiguration; @SpringBootTest(classes = {ServletWebServerFactoryAutoConfiguration.class, ... })</code>"},{"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"score":0,"creation_date":1554789580,"post_id":48264995,"comment_id":97869263,"body_markdown":"what is WebSocketSourceIntegrationTests exactly here?","body":"what is WebSocketSourceIntegrationTests exactly here?"},{"owner":{"account_id":6722144,"reputation":809,"user_id":5181711,"display_name":"Andres Cespedes Morales"},"score":0,"creation_date":1558080645,"post_id":48264995,"comment_id":98989992,"body_markdown":"@bharal WebSocketSourceIntegrationTests is the name of the class posted in the description/question.","body":"@bharal WebSocketSourceIntegrationTests is the name of the class posted in the description/question."},{"owner":{"account_id":149798,"reputation":303,"user_id":3652241,"accept_rate":75,"display_name":"Programmer Trond"},"score":4,"creation_date":1576062712,"post_id":48264995,"comment_id":104774617,"body_markdown":"For me, this happened when I had `@Configuration` instead of `@TestConfiguration` in my test config class (listed under &quot;classes&quot; in the `@SpringBootTest` annotation)","body":"For me, this happened when I had <code>@Configuration</code> instead of <code>@TestConfiguration</code> in my test config class (listed under &quot;classes&quot; in the <code>@SpringBootTest</code> annotation)"},{"owner":{"account_id":463169,"reputation":3819,"user_id":865900,"accept_rate":88,"display_name":"Blacklight"},"score":1,"creation_date":1612957300,"post_id":48264995,"comment_id":116926658,"body_markdown":"Simply adding the `@TestConfiguration` annotated config class (and nothing else) solved it for me, thanks!","body":"Simply adding the <code>@TestConfiguration</code> annotated config class (and nothing else) solved it for me, thanks!"},{"owner":{"account_id":5394632,"reputation":178,"user_id":4296219,"display_name":"jvmusin"},"score":0,"creation_date":1616178742,"post_id":48264995,"comment_id":117931108,"body_markdown":"Thanks a lot! Adding `@EnableAutoConfiguration` on a test class helped me!","body":"Thanks a lot! Adding <code>@EnableAutoConfiguration</code> on a test class helped me!"}],"tags":[],"owner":{"account_id":6722144,"reputation":809,"user_id":5181711,"display_name":"Andres Cespedes Morales"},"comment_count":6,"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1516026489,"creation_date":1516026489,"answer_id":48264995,"question_id":48264118,"body_markdown":"This message says: \r\n*You need to configure at least 1 ServletWebServerFactory bean in the ApplicationContext*, so if you already have spring-boot-starter-tomcat y**ou need to either autoconfigure that bean or to do it manually**.\r\n\r\nSo, in the test there are only 2 configuration classes to load the applicationContext, these are = { WebsocketSourceConfiguration.class, WebSocketSourceIntegrationTests.class }, then at least in one of these classes there should be a @Bean method returning an instance of the desired ServletWebServerFactory.\r\n\r\n*** SOLUTION ***\r\n\r\nMake sure to load all the beans within your configuration class \r\n\r\n\r\n    WebsocketSourceConfiguration {\r\n      @Bean \r\n      ServletWebServerFactory servletWebServerFactory(){\r\n      return new TomcatServletWebServerFactory();\r\n      }\r\n    }\r\n\r\n\r\nOR also enable the AutoConfiguration to do a classpath scanning and auto-configuration of those beans.\r\n\r\n    @EnableAutoConfiguration\r\n    WebsocketSourceConfiguration\r\n\r\nCan be done also at the Integration Test class.\r\n\r\n\r\n    @EnableAutoConfiguration\r\n    WebSocketSourceIntegrationTests\r\n\r\nFor more information check the **SpringBootTest** annotation documentation \r\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\r\n\r\n\r\n","title":"Spring boot Test fails saying, Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>This message says: \n<em>You need to configure at least 1 ServletWebServerFactory bean in the ApplicationContext</em>, so if you already have spring-boot-starter-tomcat y<strong>ou need to either autoconfigure that bean or to do it manually</strong>.</p>\n\n<p>So, in the test there are only 2 configuration classes to load the applicationContext, these are = { WebsocketSourceConfiguration.class, WebSocketSourceIntegrationTests.class }, then at least in one of these classes there should be a @Bean method returning an instance of the desired ServletWebServerFactory.</p>\n\n<p><strong>* SOLUTION *</strong></p>\n\n<p>Make sure to load all the beans within your configuration class </p>\n\n<pre><code>WebsocketSourceConfiguration {\n  @Bean \n  ServletWebServerFactory servletWebServerFactory(){\n  return new TomcatServletWebServerFactory();\n  }\n}\n</code></pre>\n\n<p>OR also enable the AutoConfiguration to do a classpath scanning and auto-configuration of those beans.</p>\n\n<pre><code>@EnableAutoConfiguration\nWebsocketSourceConfiguration\n</code></pre>\n\n<p>Can be done also at the Integration Test class.</p>\n\n<pre><code>@EnableAutoConfiguration\nWebSocketSourceIntegrationTests\n</code></pre>\n\n<p>For more information check the <strong>SpringBootTest</strong> annotation documentation \n<a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html</a></p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543470041,"creation_date":1543470041,"answer_id":53532540,"question_id":48264118,"body_markdown":"in **2.0.5.RELEASE** i faced a similar issue when I had the following.\r\n\r\n    package radon;\r\n    ..\r\n    @SpringBootApplication\r\n    public class Initializer {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Config.class, args);\r\n    \t}\r\n    }\r\n    \r\n    package radon.app.config;\r\n    @Configuration\r\n    @ComponentScan({ &quot;radon.app&quot; })\r\n    public class Config {\r\n    \t..\r\n    }\r\n\r\nChanging the package of Initializer from `radon` to `radon.app` fixed the issue.","title":"Spring boot Test fails saying, Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>in <strong>2.0.5.RELEASE</strong> i faced a similar issue when I had the following.</p>\n\n<pre><code>package radon;\n..\n@SpringBootApplication\npublic class Initializer {\n    public static void main(String[] args) {\n        SpringApplication.run(Config.class, args);\n    }\n}\n\npackage radon.app.config;\n@Configuration\n@ComponentScan({ \"radon.app\" })\npublic class Config {\n    ..\n}\n</code></pre>\n\n<p>Changing the package of Initializer from <code>radon</code> to <code>radon.app</code> fixed the issue.</p>\n"},{"comments":[{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":1,"creation_date":1551943039,"post_id":55037807,"comment_id":96827362,"body_markdown":"Use correct spelling, punctuation, and grammar to the best of your ability.","body":"Use correct spelling, punctuation, and grammar to the best of your ability."}],"tags":[],"owner":{"account_id":1314279,"reputation":11,"user_id":1261556,"display_name":"Sanjay Nayak"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551949835,"creation_date":1551941942,"answer_id":55037807,"question_id":48264118,"body_markdown":"this is because `spring` is not able to load the properties file at `runtime`, i was using `spring` profiles and wasn&#39;t providing the (program or vm) argument at `runtime( java -jar application.jar)` , adding vm argument of profile resolved the issue for me.\r\n\r\n    java -jar -Dspring.profiles.active=dev application.jar\r\n\r\nor using program argument \r\n\r\n    java -jar application.jar --spring.profiles.active=prod --spring.config.location=c:\\config\r\n\r\n\r\n","title":"Spring boot Test fails saying, Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>this is because <code>spring</code> is not able to load the properties file at <code>runtime</code>, i was using <code>spring</code> profiles and wasn't providing the (program or vm) argument at <code>runtime( java -jar application.jar)</code> , adding vm argument of profile resolved the issue for me.</p>\n\n<pre><code>java -jar -Dspring.profiles.active=dev application.jar\n</code></pre>\n\n<p>or using program argument </p>\n\n<pre><code>java -jar application.jar --spring.profiles.active=prod --spring.config.location=c:\\config\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":1,"creation_date":1579624397,"post_id":58405509,"comment_id":105824909,"body_markdown":"Same issue even after trying this","body":"Same issue even after trying this"},{"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"score":0,"creation_date":1688746831,"post_id":58405509,"comment_id":135119919,"body_markdown":"https://stackoverflow.com/a/50232382/6831257\ncheck this answer","body":"<a href=\"https://stackoverflow.com/a/50232382/6831257\">stackoverflow.com/a/50232382/6831257</a> check this answer"}],"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1688746936,"creation_date":1571197919,"answer_id":58405509,"question_id":48264118,"body_markdown":"### For web applications, extends `*SpringBootServletInitializer*` in main class.\r\n\r\n    @SpringBootApplication\r\n    public class YourAppliationName extends SpringBootServletInitializer{\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(YourAppliationName.class, args);\r\n        }\r\n    }\r\n\r\nIf not working check this answer:\r\nhttps://stackoverflow.com/a/50232382/6831257","title":"Spring boot Test fails saying, Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<h3>For web applications, extends <code>*SpringBootServletInitializer*</code> in main class.</h3>\n<pre><code>@SpringBootApplication\npublic class YourAppliationName extends SpringBootServletInitializer{\n    public static void main(String[] args) {\n        SpringApplication.run(YourAppliationName.class, args);\n    }\n}\n</code></pre>\n<p>If not working check this answer:\n<a href=\"https://stackoverflow.com/a/50232382/6831257\">https://stackoverflow.com/a/50232382/6831257</a></p>\n"}],"owner":{"account_id":1512566,"reputation":1594,"user_id":1414288,"accept_rate":67,"display_name":"Devas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92348,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":48264995,"answer_count":4,"score":42,"last_activity_date":1688746936,"creation_date":1516023402,"question_id":48264118,"body_markdown":"Test Class:-\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { WebsocketSourceConfiguration.class,\r\n    \t\tWebSocketSourceIntegrationTests.class }, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, properties = {\r\n    \t\t\t\t&quot;websocket.path=/some_websocket_path&quot;, &quot;websocket.allowedOrigins=*&quot;,\r\n    \t\t\t\t&quot;spring.cloud.stream.default-binder=kafka&quot; })\r\n    public class WebSocketSourceIntegrationTests {\r\n    \r\n    \tprivate String port = &quot;8080&quot;;\r\n    \r\n    \t@Test\r\n    \tpublic void testWebSocketStreamSource() throws IOException, InterruptedException {\r\n    \t\tStandardWebSocketClient webSocketClient = new StandardWebSocketClient();\r\n    \t\tClientWebSocketContainer clientWebSocketContainer = new ClientWebSocketContainer(webSocketClient,\r\n    \t\t\t\t&quot;ws://localhost:&quot; + port + &quot;/some_websocket_path&quot;);\r\n    \t\tclientWebSocketContainer.start();\r\n    \t\tWebSocketSession session = clientWebSocketContainer.getSession(null);\r\n    \t\tsession.sendMessage(new TextMessage(&quot;foo&quot;));\r\n    \t\tSystem.out.println(&quot;Done****************************************************&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nI have seen same issue [here][1] but nothing helped me. May I know what I&#39;m missing ?\r\n\r\nI have `spring-boot-starter-tomcat` as compile time dependency in the dependency Hierarchy.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46463908/unable-to-start-servletwebserverapplicationcontext-due-to-missing-servletwebserv","title":"Spring boot Test fails saying, Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean","body":"<p>Test Class:-</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { WebsocketSourceConfiguration.class,\n        WebSocketSourceIntegrationTests.class }, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, properties = {\n                \"websocket.path=/some_websocket_path\", \"websocket.allowedOrigins=*\",\n                \"spring.cloud.stream.default-binder=kafka\" })\npublic class WebSocketSourceIntegrationTests {\n\n    private String port = \"8080\";\n\n    @Test\n    public void testWebSocketStreamSource() throws IOException, InterruptedException {\n        StandardWebSocketClient webSocketClient = new StandardWebSocketClient();\n        ClientWebSocketContainer clientWebSocketContainer = new ClientWebSocketContainer(webSocketClient,\n                \"ws://localhost:\" + port + \"/some_websocket_path\");\n        clientWebSocketContainer.start();\n        WebSocketSession session = clientWebSocketContainer.getSession(null);\n        session.sendMessage(new TextMessage(\"foo\"));\n        System.out.println(\"Done****************************************************\");\n    }\n\n}\n</code></pre>\n\n<p>I have seen same issue <a href=\"https://stackoverflow.com/questions/46463908/unable-to-start-servletwebserverapplicationcontext-due-to-missing-servletwebserv\">here</a> but nothing helped me. May I know what I'm missing ?</p>\n\n<p>I have <code>spring-boot-starter-tomcat</code> as compile time dependency in the dependency Hierarchy.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1688746956,"post_id":76638577,"comment_id":135119946,"body_markdown":"Mocking a database is how you unit test around that interface.  &quot;I was trying to mock things and it&#39;s just a mess and just doesn&#39;t work&quot; isn&#39;t an out for that problem.","body":"Mocking a database is how you unit test around that interface.  &quot;I was trying to mock things and it&#39;s just a mess and just doesn&#39;t work&quot; isn&#39;t an out for that problem."},{"owner":{"account_id":26009284,"reputation":95,"user_id":19718614,"display_name":"asdasf"},"score":0,"creation_date":1688747375,"post_id":76638577,"comment_id":135120026,"body_markdown":"@possum the issue is that it&#39;s not mocking. Still trying to connect with the DynamoDbClient.create()","body":"@possum the issue is that it&#39;s not mocking. Still trying to connect with the DynamoDbClient.create()"}],"owner":{"account_id":26009284,"reputation":95,"user_id":19718614,"display_name":"asdasf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688746293,"creation_date":1688746293,"question_id":76638577,"body_markdown":"Basically I want to run the test case that Spring Boot app starts. I need this!\r\n\r\n    @SpringBootTest\r\n     class ApplicationTest {\r\n     \r\n\r\n    @Test\r\n    void contextLoads() {\r\n\r\n    }\r\n    }\r\n\r\nShould be straight forward like this the problem is that **it tries to connect to the database on `DynamoDbClient.create()`** and I don&#39;t want to do that. I just want to test that the spring boot app starts (I don&#39;t want to connect to anything)\r\n\r\nMy service tries to make a connection to the database in the `initialize()`\r\n\r\n    public class MyService {\r\n    \r\n        private final DynamoService&lt;User&gt; dynamoService;\r\n    \r\n     \r\n        @PostConstruct\r\n        private void initialize() {\r\n            dynamoService = DynamoService.getInstance(); // THIS IS THE ISSUE\r\n        }\r\n\r\n\r\n   \r\n\r\n     public class DynamoService&lt;T&gt; {\r\n        private static DynamoService&lt;?&gt; instance;\r\n        @Getter\r\n        private final DynamoDbClient dynamoDbClient;\r\n    \r\n        private DynamoService() {\r\n            this.dynamoDbClient = DynamoDbClient.create(); // THIS IS THE ISSUE\r\n        }\r\n    \r\n        public static synchronized &lt;T&gt; DynamoService&lt;T&gt; getInstance() {\r\n            if (instance == null) {\r\n                instance = new DynamoService&lt;&gt;();\r\n            }\r\n            return (DynamoService&lt;T&gt;) instance;\r\n        }\r\n\r\nI was trying to mock things and it&#39;s just a mess and just doesn&#39;t work. I have no idea what to do\r\n\r\n        @SpringBootTest\r\n    class ApplicationTest {\r\n        @Mock\r\n        private DynamoDbClient dynamoDbClientMock = mock(DynamoDbClient.class);\r\n    \r\n        private DynamoService&lt;?&gt; dynamoService;\r\n    \r\n        @InjectMocks\r\n        private MyService myService;\r\n    \r\n        @BeforeEach\r\n        void setup() {\r\n            MockitoAnnotations.openMocks(this);\r\n            when(DynamoDbClient.create()).thenReturn(mock(DynamoDbClient.class));\r\n            dynamoService = new DynamoService&lt;&gt;(dynamoDbClientMock);\r\n        }\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n    \r\n        }\r\n    }\r\n\r\n\r\nAny help?","title":"How to unit test without connecting to the database","body":"<p>Basically I want to run the test case that Spring Boot app starts. I need this!</p>\n<pre><code>@SpringBootTest\n class ApplicationTest {\n \n\n@Test\nvoid contextLoads() {\n\n}\n}\n</code></pre>\n<p>Should be straight forward like this the problem is that <strong>it tries to connect to the database on <code>DynamoDbClient.create()</code></strong> and I don't want to do that. I just want to test that the spring boot app starts (I don't want to connect to anything)</p>\n<p>My service tries to make a connection to the database in the <code>initialize()</code></p>\n<pre><code>public class MyService {\n\n    private final DynamoService&lt;User&gt; dynamoService;\n\n \n    @PostConstruct\n    private void initialize() {\n        dynamoService = DynamoService.getInstance(); // THIS IS THE ISSUE\n    }\n\n\n\n\n public class DynamoService&lt;T&gt; {\n    private static DynamoService&lt;?&gt; instance;\n    @Getter\n    private final DynamoDbClient dynamoDbClient;\n\n    private DynamoService() {\n        this.dynamoDbClient = DynamoDbClient.create(); // THIS IS THE ISSUE\n    }\n\n    public static synchronized &lt;T&gt; DynamoService&lt;T&gt; getInstance() {\n        if (instance == null) {\n            instance = new DynamoService&lt;&gt;();\n        }\n        return (DynamoService&lt;T&gt;) instance;\n    }\n</code></pre>\n<p>I was trying to mock things and it's just a mess and just doesn't work. I have no idea what to do</p>\n<pre><code>    @SpringBootTest\nclass ApplicationTest {\n    @Mock\n    private DynamoDbClient dynamoDbClientMock = mock(DynamoDbClient.class);\n\n    private DynamoService&lt;?&gt; dynamoService;\n\n    @InjectMocks\n    private MyService myService;\n\n    @BeforeEach\n    void setup() {\n        MockitoAnnotations.openMocks(this);\n        when(DynamoDbClient.create()).thenReturn(mock(DynamoDbClient.class));\n        dynamoService = new DynamoService&lt;&gt;(dynamoDbClientMock);\n    }\n\n    @Test\n    void contextLoads() {\n\n    }\n}\n</code></pre>\n<p>Any help?</p>\n"},{"tags":["java","windows-services","exe4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688746195,"creation_date":1688746195,"answer_id":76638566,"question_id":76626621,"body_markdown":"Windows services run under a system account by default. With the /install command line parameter, there is no way to specify a different user (unlike with install4j where the &quot;Install a service&quot; action allows you to specify a different user).\r\n\r\nWith exe4j, you would have to change the user manually in the service properties dialog.","title":"Make one of windows service process as user [exe4j]","body":"<p>Windows services run under a system account by default. With the /install command line parameter, there is no way to specify a different user (unlike with install4j where the &quot;Install a service&quot; action allows you to specify a different user).</p>\n<p>With exe4j, you would have to change the user manually in the service properties dialog.</p>\n"}],"owner":{"account_id":20833860,"reputation":31,"user_id":15302511,"display_name":"ahad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76638566,"answer_count":1,"score":1,"last_activity_date":1688746195,"creation_date":1688629817,"question_id":76626621,"body_markdown":"While you are working with vncserver, you can *Install* it or *run*.\r\nIf you **Install** it, the service would be installed and after starting the service, two processes would be appear: one is system and the other is process. \r\nIf you **run** it, the you don&#39;t need to install the service and both process are user.\r\n\r\n\r\nNow I&#39;ve made a java program and make it service with exe4j.\r\nAfter installing and starting my service, two process would be appear like the vnc but both are **system**.\r\nIs there any way to run one another on user?\r\nShould I Change my code?","title":"Make one of windows service process as user [exe4j]","body":"<p>While you are working with vncserver, you can <em>Install</em> it or <em>run</em>.\nIf you <strong>Install</strong> it, the service would be installed and after starting the service, two processes would be appear: one is system and the other is process.\nIf you <strong>run</strong> it, the you don't need to install the service and both process are user.</p>\n<p>Now I've made a java program and make it service with exe4j.\nAfter installing and starting my service, two process would be appear like the vnc but both are <strong>system</strong>.\nIs there any way to run one another on user?\nShould I Change my code?</p>\n"},{"tags":["java","objectmapper","dozer"],"owner":{"account_id":28971419,"reputation":1,"user_id":22191630,"display_name":"Vandi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688746178,"creation_date":1688746178,"question_id":76638562,"body_markdown":"I am using a Pojo genrator to generate Java classes from a yaml file and those classes are used as the object classes. But when I run the script it keeps getting this exception.\r\n\r\njava.lang.AssertionError: (E2E_Scenarios - Baseline USA) No read or write method found for field (EMPTY) in class (class com.primerica.testautomation.api.common.structure.newmodel.MilitaryPayGrades)\r\nCaught by &gt; Failure processing dataset row: partialProspect, partialProspect, PartialProspect, E2E_Scenarios:testcase-1:PartialProspect:0\r\n\tat com.github.dozermapper.core.propertydescriptor.GetterSetterPropertyDescriptor.determinePropertyType(GetterSetterPropertyDescriptor.java:320) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.github.dozermapper.core.propertydescriptor.GetterSetterPropertyDescriptor.getPropertyType(GetterSetterPropertyDescriptor.java:78) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.github.dozermapper.core.fieldmap.FieldMap.getDestFieldType(FieldMap.java:120) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.github.dozermapper.core.util.MappingUtils.applyGlobalCopyByReference(MappingUtils.java:211) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.github.dozermapper.core.loader.MappingsParser.processMappings(MappingsParser.java:169) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.github.dozermapper.core.loader.CustomMappingsLoader.load(CustomMappingsLoader.java:61) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.github.dozermapper.core.DozerBeanMapperBuilder.loadCustomMappings(DozerBeanMapperBuilder.java:741) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.github.dozermapper.core.DozerBeanMapperBuilder.build(DozerBeanMapperBuilder.java:588) ~[dozer-core-6.5.2.jar:6.5.2]\r\n\tat com.primerica.testautomation.api.request.DataMapping.buildMapper(DataMapping.java:179) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\r\n\tat com.primerica.testautomation.api.request.DataMapping.map(DataMapping.java:828) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\r\n\tat com.primerica.testautomation.api.request.DataMapping.map(DataMapping.java:846) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\r\n\tat com.primerica.testautomation.api.datasets.Dataset.applyDatasetRow(Dataset.java:615) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\r\n\tat com.primerica.testautomation.api.datasets.SelfServeModernizationDataset.applyDatasetRow(SelfServeModernizationDataset.java:1053) ~[classes/:?]\r\n\tat com.primerica.testautomation.api.datasets.Dataset.applyDatasetSection(Dataset.java:728) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\r\n\tat com.primerica.testautomation.api.steps.ProjectStepBase.applySection(ProjectStepBase.java:103) ~[classes/:?]\r\n\tat com.primerica.testautomation.api.steps.ProjectSteps.processGivenSection(ProjectSteps.java:194) ~[classes/:?]\r\n\tat ✽.I fill out the Partial Prospect section(workspace/iba/selfserve/qa-prem-bff-api-iba/target/classes/features/mainframe/PA_IBA_BASE.feature:9) ~[?:?]\r\n[INFO]&lt;main&gt; (CoreHooks:215) - Failed Dataset Cases List &gt; SelfServeModernizationDataset:E2E_Scenarios:1\r\n\r\n\r\nI have updated the MapperFeature from OjectMapper to JSonMapper but nothing seems to be working.","title":"No read or write method found for field (EMPTY) in class","body":"<p>I am using a Pojo genrator to generate Java classes from a yaml file and those classes are used as the object classes. But when I run the script it keeps getting this exception.</p>\n<p>java.lang.AssertionError: (E2E_Scenarios - Baseline USA) No read or write method found for field (EMPTY) in class (class com.primerica.testautomation.api.common.structure.newmodel.MilitaryPayGrades)\nCaught by &gt; Failure processing dataset row: partialProspect, partialProspect, PartialProspect, E2E_Scenarios:testcase-1:PartialProspect:0\nat com.github.dozermapper.core.propertydescriptor.GetterSetterPropertyDescriptor.determinePropertyType(GetterSetterPropertyDescriptor.java:320) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.github.dozermapper.core.propertydescriptor.GetterSetterPropertyDescriptor.getPropertyType(GetterSetterPropertyDescriptor.java:78) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.github.dozermapper.core.fieldmap.FieldMap.getDestFieldType(FieldMap.java:120) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.github.dozermapper.core.util.MappingUtils.applyGlobalCopyByReference(MappingUtils.java:211) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.github.dozermapper.core.loader.MappingsParser.processMappings(MappingsParser.java:169) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.github.dozermapper.core.loader.CustomMappingsLoader.load(CustomMappingsLoader.java:61) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.github.dozermapper.core.DozerBeanMapperBuilder.loadCustomMappings(DozerBeanMapperBuilder.java:741) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.github.dozermapper.core.DozerBeanMapperBuilder.build(DozerBeanMapperBuilder.java:588) ~[dozer-core-6.5.2.jar:6.5.2]\nat com.primerica.testautomation.api.request.DataMapping.buildMapper(DataMapping.java:179) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\nat com.primerica.testautomation.api.request.DataMapping.map(DataMapping.java:828) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\nat com.primerica.testautomation.api.request.DataMapping.map(DataMapping.java:846) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\nat com.primerica.testautomation.api.datasets.Dataset.applyDatasetRow(Dataset.java:615) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\nat com.primerica.testautomation.api.datasets.SelfServeModernizationDataset.applyDatasetRow(SelfServeModernizationDataset.java:1053) ~[classes/:?]\nat com.primerica.testautomation.api.datasets.Dataset.applyDatasetSection(Dataset.java:728) ~[qa-az-api-core-2.3.3-SNAPSHOT.jar:?]\nat com.primerica.testautomation.api.steps.ProjectStepBase.applySection(ProjectStepBase.java:103) ~[classes/:?]\nat com.primerica.testautomation.api.steps.ProjectSteps.processGivenSection(ProjectSteps.java:194) ~[classes/:?]\nat ✽.I fill out the Partial Prospect section(workspace/iba/selfserve/qa-prem-bff-api-iba/target/classes/features/mainframe/PA_IBA_BASE.feature:9) ~[?:?]\n[INFO] (CoreHooks:215) - Failed Dataset Cases List &gt; SelfServeModernizationDataset:E2E_Scenarios:1</p>\n<p>I have updated the MapperFeature from OjectMapper to JSonMapper but nothing seems to be working.</p>\n"},{"tags":["java","powershell"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688751554,"post_id":76638285,"comment_id":135120804,"body_markdown":"*java.lang.IllegalStateException: HTTP factory has not been set* we&#39;d probably need to see the full stack trace to evaluate that","body":"<i>java.lang.IllegalStateException: HTTP factory has not been set</i> we&#39;d probably need to see the full stack trace to evaluate that"},{"owner":{"account_id":1883557,"reputation":316,"user_id":1791306,"display_name":"Plamen"},"score":0,"creation_date":1688765156,"post_id":76638285,"comment_id":135122661,"body_markdown":"[Here](https://github.com/pl71/java-start/blob/main/stack-trace) is the output. This is when trying to start [JOSM](https://github.com/JOSM/josm) from PowerShell using 1st script.","body":"<a href=\"https://github.com/pl71/java-start/blob/main/stack-trace\" rel=\"nofollow noreferrer\">Here</a> is the output. This is when trying to start <a href=\"https://github.com/JOSM/josm\" rel=\"nofollow noreferrer\">JOSM</a> from PowerShell using 1st script."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688765586,"post_id":76638285,"comment_id":135122703,"body_markdown":"Well you&#39;re not trying to start JOSM are you - you&#39;re trying to start your own jar. And that jar is missing the JOSM jar(s) from its classpath, so you will need to add it/them","body":"Well you&#39;re not trying to start JOSM are you - you&#39;re trying to start your own jar. And that jar is missing the JOSM jar(s) from its classpath, so you will need to add it/them"},{"owner":{"account_id":1883557,"reputation":316,"user_id":1791306,"display_name":"Plamen"},"score":0,"creation_date":1688803080,"post_id":76638285,"comment_id":135125318,"body_markdown":"@g00se No, I&#39;ve tried to start exactly JOSM from [here](https://github.com/Gubaer/josm-scripting-plugin/tree/97-esmodules-on-win10-2/testing/windows). But noticed a difference in starting approaches (-cp vs -jar). So it was a little weird to me.","body":"@g00se No, I&#39;ve tried to start exactly JOSM from <a href=\"https://github.com/Gubaer/josm-scripting-plugin/tree/97-esmodules-on-win10-2/testing/windows\" rel=\"nofollow noreferrer\">here</a>. But noticed a difference in starting approaches (-cp vs -jar). So it was a little weird to me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688803978,"post_id":76638285,"comment_id":135125395,"body_markdown":"Ok. The broad issue of `-cp` versus `-jar` has been explained in the answer. I&#39;m not sure where you are now but if things are still not working I suggest you turn `Start-Process` into `Write-File` temporarily and post the contents of the file in your question formatted as code","body":"Ok. The broad issue of <code>-cp</code> versus <code>-jar</code> has been explained in the answer. I&#39;m not sure where you are now but if things are still not working I suggest you turn <code>Start-Process</code> into <code>Write-File</code> temporarily and post the contents of the file in your question formatted as code"}],"answers":[{"comments":[{"owner":{"account_id":1883557,"reputation":316,"user_id":1791306,"display_name":"Plamen"},"score":0,"creation_date":1688749023,"post_id":76638559,"comment_id":135120346,"body_markdown":"There are no `Class-Path` entries in the manifest file. CLASSPATH environmental variable is not set in the system either (if relevant at all).","body":"There are no <code>Class-Path</code> entries in the manifest file. CLASSPATH environmental variable is not set in the system either (if relevant at all)."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688746163,"creation_date":1688746163,"answer_id":76638559,"question_id":76638285,"body_markdown":"When using `-jar`, the class-path used to start the app is defined as follows:\r\n\r\n* Take the jar and include it - that part is obvious.\r\n* Read the jar manifest&#39;s `Class-Path` entry. (It&#39;s separated by spaces). Resolve each item relative to the folder that contains the jar you are running, and add them all to the classpath.\r\n\r\nIn contrast, using `-cp`, you get _that_ as class-path.\r\n\r\nThe difference, therefore, is the manifest `Class-Path` entry, which is used when using `-jar` (and in fact, is the only thing being used; `-jar` and `-cp` cannot be used together), and not used at all when using the `-cp` flag (the manifest is ignored when you do that).\r\n\r\nCheck the manifest for `Class-Path` entries.","title":"Different ways for starting Java app from Windows 10 Power Shell are not equal","body":"<p>When using <code>-jar</code>, the class-path used to start the app is defined as follows:</p>\n<ul>\n<li>Take the jar and include it - that part is obvious.</li>\n<li>Read the jar manifest's <code>Class-Path</code> entry. (It's separated by spaces). Resolve each item relative to the folder that contains the jar you are running, and add them all to the classpath.</li>\n</ul>\n<p>In contrast, using <code>-cp</code>, you get <em>that</em> as class-path.</p>\n<p>The difference, therefore, is the manifest <code>Class-Path</code> entry, which is used when using <code>-jar</code> (and in fact, is the only thing being used; <code>-jar</code> and <code>-cp</code> cannot be used together), and not used at all when using the <code>-cp</code> flag (the manifest is ignored when you do that).</p>\n<p>Check the manifest for <code>Class-Path</code> entries.</p>\n"}],"owner":{"account_id":1883557,"reputation":316,"user_id":1791306,"display_name":"Plamen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688746163,"creation_date":1688743779,"question_id":76638285,"body_markdown":"I want to start a Java app (namely a jar file) from Windows 10 Power Shell.\r\n\r\nI have two scripts:\r\n\r\n    Start-Process `\r\n    -FilePath &quot;.\\jdk-17.0.7+7\\bin\\java.exe&quot; `\r\n    -ArgumentList &quot;-classpath myfile.jar MainApplication&quot; \r\n\r\nand \r\n\r\n    Start-Process `\r\n    -FilePath &quot;.\\jdk-17.0.7+7\\bin\\java.exe&quot; `\r\n    -ArgumentList &quot;-jar myfile.jar&quot; \r\n\r\nin MAINFEST.MF I have:\r\n\r\n    Main-class: MainApplication\r\n\r\nSo, the first script starts but throws an exception somewhere in the code.\r\n\r\n    2023-07-07 18:15:02.397 SEVERE: java.lang.IllegalStateException: HTTP factory has not been set\r\n    java.lang.IllegalStateException: HTTP factory has not been set\r\n\r\nAnd the question here is why the second script starts the application without such an exception.\r\nYes, there are some warnings, but not like this, and the Java application is started.\r\n\r\nAnd this is happening with Java 17 only.\r\nSo the next script (using Java 11) doesn&#39;t throw mentioned exception either.\r\n\r\n    Start-Process `\r\n    -FilePath &quot;.\\jdk-11.0.19+7\\bin\\java.exe&quot; `\r\n    -ArgumentList &quot;-classpath myfile.jar MainApplication&quot; \r\n\r\n\r\nI expected both starting methods to be equal but in fact, they differ somewhere. Where?","title":"Different ways for starting Java app from Windows 10 Power Shell are not equal","body":"<p>I want to start a Java app (namely a jar file) from Windows 10 Power Shell.</p>\n<p>I have two scripts:</p>\n<pre><code>Start-Process `\n-FilePath &quot;.\\jdk-17.0.7+7\\bin\\java.exe&quot; `\n-ArgumentList &quot;-classpath myfile.jar MainApplication&quot; \n</code></pre>\n<p>and</p>\n<pre><code>Start-Process `\n-FilePath &quot;.\\jdk-17.0.7+7\\bin\\java.exe&quot; `\n-ArgumentList &quot;-jar myfile.jar&quot; \n</code></pre>\n<p>in MAINFEST.MF I have:</p>\n<pre><code>Main-class: MainApplication\n</code></pre>\n<p>So, the first script starts but throws an exception somewhere in the code.</p>\n<pre><code>2023-07-07 18:15:02.397 SEVERE: java.lang.IllegalStateException: HTTP factory has not been set\njava.lang.IllegalStateException: HTTP factory has not been set\n</code></pre>\n<p>And the question here is why the second script starts the application without such an exception.\nYes, there are some warnings, but not like this, and the Java application is started.</p>\n<p>And this is happening with Java 17 only.\nSo the next script (using Java 11) doesn't throw mentioned exception either.</p>\n<pre><code>Start-Process `\n-FilePath &quot;.\\jdk-11.0.19+7\\bin\\java.exe&quot; `\n-ArgumentList &quot;-classpath myfile.jar MainApplication&quot; \n</code></pre>\n<p>I expected both starting methods to be equal but in fact, they differ somewhere. Where?</p>\n"},{"tags":["java","inheritance","polymorphism"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1688744631,"post_id":76638303,"comment_id":135119495,"body_markdown":"You could introduce an abstract superclass like `Food` and then have both your classes extend it, `Meat extends Food` / `Bread extends Food` and then have your method accept any object of type `Food`. Or alternatively create some interface like `Consumable` that both classes implement and use that in the same way.","body":"You could introduce an abstract superclass like <code>Food</code> and then have both your classes extend it, <code>Meat extends Food</code> / <code>Bread extends Food</code> and then have your method accept any object of type <code>Food</code>. Or alternatively create some interface like <code>Consumable</code> that both classes implement and use that in the same way."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1688762293,"post_id":76638303,"comment_id":135122285,"body_markdown":"One thing you should know is that overloads are resolved at compile time, based on the type known to the compiler. So a call like `consume.consumeWith(object);` cannot take advantage of the run time type.","body":"One thing you should know is that overloads are resolved at compile time, based on the type known to the compiler. So a call like <code>consume.consumeWith(object);</code> cannot take advantage of the run time type."}],"answers":[{"comments":[{"owner":{"account_id":14054889,"reputation":1,"user_id":10152551,"display_name":"Joseph McTigue"},"score":0,"creation_date":1689017190,"post_id":76638410,"comment_id":135150980,"body_markdown":"Thank you @Chaosfire, I&#39;ll read that page right now. :)","body":"Thank you @Chaosfire, I&#39;ll read that page right now. :)"}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688746110,"creation_date":1688744802,"answer_id":76638410,"question_id":76638303,"body_markdown":"Define common interface (or abstract class), and have your classes implement it. Let&#39;s say:\r\n```\r\npublic interface Enjoyable {\r\n\r\n  String enjoyWith();\r\n}\r\n```\r\n```\r\npublic class Bread implements Enjoyable {\r\n\r\n  @Override\r\n  public String enjoyWith() {\r\n    //do stuff\r\n  }\r\n}\r\n```\r\n```\r\npublic class Meat implements Enjoyable {\r\n\r\n  @Override\r\n  public String enjoyWith() {\r\n    //do stuff\r\n  }\r\n}\r\n```\r\nChange method to work with the abstraction(`Enjoyable`):\r\n```\r\npublic class Consume {\r\n\r\n    public String consumeWith(Enjoyable enjoyable) {\r\n        return enjoyable.enjoyWith();\r\n    }\r\n}\r\n```\r\n`consumeWith()` now works with **any** class implementing `Enjoyable`.\r\n\r\nI would suggest to read this question - [What does it mean to &quot;program to an interface&quot;?][1], it has some great answers on the topic.\r\n\r\n  [1]: https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"Is there a way in Java to be able to call a method with one of two possible model class types without overloading it?","body":"<p>Define common interface (or abstract class), and have your classes implement it. Let's say:</p>\n<pre><code>public interface Enjoyable {\n\n  String enjoyWith();\n}\n</code></pre>\n<pre><code>public class Bread implements Enjoyable {\n\n  @Override\n  public String enjoyWith() {\n    //do stuff\n  }\n}\n</code></pre>\n<pre><code>public class Meat implements Enjoyable {\n\n  @Override\n  public String enjoyWith() {\n    //do stuff\n  }\n}\n</code></pre>\n<p>Change method to work with the abstraction(<code>Enjoyable</code>):</p>\n<pre><code>public class Consume {\n\n    public String consumeWith(Enjoyable enjoyable) {\n        return enjoyable.enjoyWith();\n    }\n}\n</code></pre>\n<p><code>consumeWith()</code> now works with <strong>any</strong> class implementing <code>Enjoyable</code>.</p>\n<p>I would suggest to read this question - <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a>, it has some great answers on the topic.</p>\n"}],"owner":{"account_id":14054889,"reputation":1,"user_id":10152551,"display_name":"Joseph McTigue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688746110,"creation_date":1688743910,"question_id":76638303,"body_markdown":"Consider the following:\r\n```\r\npublic class MainStarter {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Bread bread = new Bread();\r\n        String breadType = &quot;rye bread&quot;;\r\n        String[] consumeBreadWith = {&quot;butter&quot;,&quot;meat&quot;,&quot;peanut butter&quot;};\r\n        bread.setBreadType(breadType);\r\n        bread.setConsumeWith(consumeBreadWith);\r\n\r\n        consumeFood(bread);\r\n\r\n        Meat meat = new Meat();\r\n        String meatType = &quot;roast beef&quot;;\r\n        String[] consumeMeatWith = {&quot;pepper&quot;,&quot;potatoes&quot;,&quot;green beans&quot;};\r\n        meat.setMeatType(meatType);\r\n        meat.setConsumeWith(consumeMeatWith);\r\n\r\n        consumeFood(meat);\r\n    }\r\n    // This is where I&#39;m trying to figure out if I can reuse this method without having to overload it.\r\n    public static void consumeFood(Object object) {\r\n\r\n        Consume consume = new Consume();\r\n        String result = consume.consumeWith(object);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\n```\r\npublic class Consume {\r\n\r\n    public String consumeWith(Bread bread) {\r\n        return bread.enjoyWith();\r\n    }\r\n\r\n    public String consumeWith(Meat meat) {\r\n        return meat.enjoyWith();\r\n    }\r\n}\r\n```\r\n```\r\npublic class Bread {\r\n\r\n    private String breadType;\r\n    private String[] sideDishes;\r\n\r\n    public void setBreadType(String breadType) {\r\n        this.breadType = breadType;\r\n    }\r\n\r\n    public String getBreadType() {\r\n        return breadType;\r\n    }\r\n\r\n    public void setConsumeWith(String[] sideDishes) {\r\n        this.sideDishes = sideDishes;\r\n    }\r\n\r\n    public String[] getConsumeWith() {\r\n        return sideDishes;\r\n    }\r\n\r\n    public String enjoyWith() {\r\n        String filter1 = Arrays.toString(getConsumeWith()).replace(&quot;[&quot;, &quot;&quot;);\r\n        String filter2 = filter1.replace(&quot;]&quot;, &quot;&quot;);\r\n        String[] stringArray = filter2.split(&quot;,&quot;);\r\n        int length = stringArray.length;\r\n        int num = 1;\r\n        String sides = &quot;&quot;;\r\n        for (String element : stringArray) {\r\n            if ( length == num ) {\r\n                sides = sides + &quot; or &quot;+ element;\r\n            } else {\r\n                sides = sides + element + &quot;,&quot;;\r\n            }\r\n            num++;\r\n        }\r\n        return &quot;Enjoy &quot;+getBreadType()+&quot; with &quot;+ sides +&quot;.&quot;;\r\n    }\r\n}\r\n```\r\n```\r\npublic class Meat {\r\n\r\n    private String meatType;\r\n    private String[] sideDishes;\r\n\r\n    public void setMeatType(String meatType) {\r\n        this.meatType = meatType;\r\n    }\r\n\r\n    public String getMeatType() {\r\n        return meatType;\r\n    }\r\n\r\n    public void setConsumeWith(String[] sideDishes) {\r\n        this.sideDishes = sideDishes;\r\n    }\r\n\r\n    public String[] getConsumeWith() {\r\n        return sideDishes;\r\n    }\r\n\r\n    public String enjoyWith() {\r\n        String filter1 = Arrays.toString(getConsumeWith()).replace(&quot;[&quot;, &quot;&quot;);\r\n        String filter2 = filter1.replace(&quot;]&quot;, &quot;&quot;);\r\n        String[] stringArray = filter2.split(&quot;,&quot;);\r\n        int length = stringArray.length;\r\n        int num = 1;\r\n        String sides = &quot;&quot;;\r\n        for (String element : stringArray) {\r\n            if ( length == num ) {\r\n                sides = sides + &quot; or &quot;+ element;\r\n            } else {\r\n                sides = sides + element + &quot;,&quot;;\r\n            }\r\n            num++;\r\n        }\r\n        return &quot;Enjoy &quot;+getMeatType()+&quot; with &quot;+ sides +&quot;.&quot;;\r\n    }\r\n}\r\n```\r\nI am hoping to reuse the &quot;consumeFood&quot; method of the main class and not have to overload it or find out what the Java best practice is.  I eventually would like to add more model objects to the menu as well and this would cut down my code considerably if it could work.  Thank you in advance for any respectful help you could offer.  (I&#39;m working in Java 17)","title":"Is there a way in Java to be able to call a method with one of two possible model class types without overloading it?","body":"<p>Consider the following:</p>\n<pre><code>public class MainStarter {\n\n    public static void main(String[] args) {\n\n        Bread bread = new Bread();\n        String breadType = &quot;rye bread&quot;;\n        String[] consumeBreadWith = {&quot;butter&quot;,&quot;meat&quot;,&quot;peanut butter&quot;};\n        bread.setBreadType(breadType);\n        bread.setConsumeWith(consumeBreadWith);\n\n        consumeFood(bread);\n\n        Meat meat = new Meat();\n        String meatType = &quot;roast beef&quot;;\n        String[] consumeMeatWith = {&quot;pepper&quot;,&quot;potatoes&quot;,&quot;green beans&quot;};\n        meat.setMeatType(meatType);\n        meat.setConsumeWith(consumeMeatWith);\n\n        consumeFood(meat);\n    }\n    // This is where I'm trying to figure out if I can reuse this method without having to overload it.\n    public static void consumeFood(Object object) {\n\n        Consume consume = new Consume();\n        String result = consume.consumeWith(object);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<pre><code>public class Consume {\n\n    public String consumeWith(Bread bread) {\n        return bread.enjoyWith();\n    }\n\n    public String consumeWith(Meat meat) {\n        return meat.enjoyWith();\n    }\n}\n</code></pre>\n<pre><code>public class Bread {\n\n    private String breadType;\n    private String[] sideDishes;\n\n    public void setBreadType(String breadType) {\n        this.breadType = breadType;\n    }\n\n    public String getBreadType() {\n        return breadType;\n    }\n\n    public void setConsumeWith(String[] sideDishes) {\n        this.sideDishes = sideDishes;\n    }\n\n    public String[] getConsumeWith() {\n        return sideDishes;\n    }\n\n    public String enjoyWith() {\n        String filter1 = Arrays.toString(getConsumeWith()).replace(&quot;[&quot;, &quot;&quot;);\n        String filter2 = filter1.replace(&quot;]&quot;, &quot;&quot;);\n        String[] stringArray = filter2.split(&quot;,&quot;);\n        int length = stringArray.length;\n        int num = 1;\n        String sides = &quot;&quot;;\n        for (String element : stringArray) {\n            if ( length == num ) {\n                sides = sides + &quot; or &quot;+ element;\n            } else {\n                sides = sides + element + &quot;,&quot;;\n            }\n            num++;\n        }\n        return &quot;Enjoy &quot;+getBreadType()+&quot; with &quot;+ sides +&quot;.&quot;;\n    }\n}\n</code></pre>\n<pre><code>public class Meat {\n\n    private String meatType;\n    private String[] sideDishes;\n\n    public void setMeatType(String meatType) {\n        this.meatType = meatType;\n    }\n\n    public String getMeatType() {\n        return meatType;\n    }\n\n    public void setConsumeWith(String[] sideDishes) {\n        this.sideDishes = sideDishes;\n    }\n\n    public String[] getConsumeWith() {\n        return sideDishes;\n    }\n\n    public String enjoyWith() {\n        String filter1 = Arrays.toString(getConsumeWith()).replace(&quot;[&quot;, &quot;&quot;);\n        String filter2 = filter1.replace(&quot;]&quot;, &quot;&quot;);\n        String[] stringArray = filter2.split(&quot;,&quot;);\n        int length = stringArray.length;\n        int num = 1;\n        String sides = &quot;&quot;;\n        for (String element : stringArray) {\n            if ( length == num ) {\n                sides = sides + &quot; or &quot;+ element;\n            } else {\n                sides = sides + element + &quot;,&quot;;\n            }\n            num++;\n        }\n        return &quot;Enjoy &quot;+getMeatType()+&quot; with &quot;+ sides +&quot;.&quot;;\n    }\n}\n</code></pre>\n<p>I am hoping to reuse the &quot;consumeFood&quot; method of the main class and not have to overload it or find out what the Java best practice is.  I eventually would like to add more model objects to the menu as well and this would cut down my code considerably if it could work.  Thank you in advance for any respectful help you could offer.  (I'm working in Java 17)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688746070,"creation_date":1688746070,"answer_id":76638546,"question_id":76638515,"body_markdown":"Looks like you grabbed the POI source ZIP file by mistake.\r\n\r\nI think you want the binary poi-bin-5.2.3-20220909.zip instead.\r\n\r\nhttps://archive.apache.org/dist/poi/release/bin/\r\n\r\nA better idea would be to let [Maven][1] manage your dependencies.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.poi/poi","title":"Apache library didnt include any jar files?","body":"<p>Looks like you grabbed the POI source ZIP file by mistake.</p>\n<p>I think you want the binary poi-bin-5.2.3-20220909.zip instead.</p>\n<p><a href=\"https://archive.apache.org/dist/poi/release/bin/\" rel=\"nofollow noreferrer\">https://archive.apache.org/dist/poi/release/bin/</a></p>\n<p>A better idea would be to let <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi\" rel=\"nofollow noreferrer\">Maven</a> manage your dependencies.</p>\n"}],"owner":{"account_id":26773096,"reputation":3,"user_id":20369155,"display_name":"merkkupilot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76638546,"answer_count":1,"score":0,"last_activity_date":1688746070,"creation_date":1688745775,"question_id":76638515,"body_markdown":"Could some of you explain why apache library didn&#39;t include any jar files. Did I mess something up, or am I missing something I should know. I&#39;ve download libraries in the past and it has always worked properly. \r\n\r\nI downloaded the library from apache&#39;s official website -&gt;\r\n\r\nhttps://www.apache.org/dyn/closer.lua/poi/release/src/poi-src-5.2.3-20220909.zip\r\n\r\nThanks in advance","title":"Apache library didnt include any jar files?","body":"<p>Could some of you explain why apache library didn't include any jar files. Did I mess something up, or am I missing something I should know. I've download libraries in the past and it has always worked properly.</p>\n<p>I downloaded the library from apache's official website -&gt;</p>\n<p><a href=\"https://www.apache.org/dyn/closer.lua/poi/release/src/poi-src-5.2.3-20220909.zip\" rel=\"nofollow noreferrer\">https://www.apache.org/dyn/closer.lua/poi/release/src/poi-src-5.2.3-20220909.zip</a></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","swing","graph","graphics"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1501960557,"post_id":45525536,"comment_id":78011154,"body_markdown":"Suggestions: 1) try to use a M-V-C structure for your program, 2) distill your code into a valid [mcve] and post that code here so that we can compile and run it, experience the problem first and and thus fully understand it. Yes this is asking  a **lot** of extra effort from you, but it makes your question **much** easier to answer, and so help **you** in the long run.","body":"Suggestions: 1) try to use a M-V-C structure for your program, 2) distill your code into a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and post that code here so that we can compile and run it, experience the problem first and and thus fully understand it. Yes this is asking  a <b>lot</b> of extra effort from you, but it makes your question <b>much</b> easier to answer, and so help <b>you</b> in the long run."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501961484,"creation_date":1501961484,"answer_id":45525706,"question_id":45525536,"body_markdown":"I can&#39;t give a chapter and verse answer, not without your [MCVE](https://stackoverflow.com/help/mcve), but I can give you a large suggestion. Note that selecting empty and and blocked cells is logically a very different thing from selecting starting and ending cells, and so your code should do these things in very different ways. What I would do, is in the mouse listener, check which button is pressed. If the left button (the standard button), toggle the cells blocked / empty state (but only if it&#39;s not already a start or end cell). If the right mouse button is pressed (or alt-mouse if there is no mouse button), then display a pop-up menu to allow the user to select the cell as the start or end cell. The code for selecting start or end would be separate from the empty/block toggle code, would first iterate through the model, clearing the former start or end cell, and then setting it. \r\n\r\nIf you want a better more complete solution, again, please post your valid [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) code here with your question (not in a link).\r\n\r\nLuck.","title":"Changing colors of grid cells by clicking on them","body":"<p>I can't give a chapter and verse answer, not without your <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, but I can give you a large suggestion. Note that selecting empty and and blocked cells is logically a very different thing from selecting starting and ending cells, and so your code should do these things in very different ways. What I would do, is in the mouse listener, check which button is pressed. If the left button (the standard button), toggle the cells blocked / empty state (but only if it's not already a start or end cell). If the right mouse button is pressed (or alt-mouse if there is no mouse button), then display a pop-up menu to allow the user to select the cell as the start or end cell. The code for selecting start or end would be separate from the empty/block toggle code, would first iterate through the model, clearing the former start or end cell, and then setting it. </p>\n\n<p>If you want a better more complete solution, again, please post your valid <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> code here with your question (not in a link).</p>\n\n<p>Luck.</p>\n"}],"owner":{"account_id":11490661,"reputation":1,"user_id":8421746,"display_name":"Blue Phoenix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688745759,"creation_date":1501960414,"question_id":45525536,"body_markdown":"I am working on program which is drawing a grid of cells. Each cell has specified color and one of four states:\r\n\r\n 1. \r\n        STARTCELL //marked by yellow color\r\n 2. \r\n        ENDCELL //marked by red color \r\n 3. \r\n        EMPTYCELL //marked by white color\r\n 4. \r\n        BLOCKEDCELL // marked by black color\r\n\r\nAt the beginning there are one yellow cell, and one red cell and the rest of them are white.\r\n\r\nI wanted to be able to change the colors and states of cells by clicking on them and after some research I found the solution:\r\n\r\n    @Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tfor (Cell item : gridCells) {\r\n\t\t\tif (item.getCellShape().contains(e.getPoint())&amp;&amp; item.getCellState()==CellState.EMPTYCELL) {\r\n\t\t\t\titem.setCellColor(mouseColor);\r\n\t\t\t\tif(mouseColor==startCellColor){\r\n\t\t\t\t\titem.setCellState(CellState.STARTCELL);\r\n\t\t\t\t}else if(mouseColor==endCellColor){\r\n\t\t\t\t\titem.setCellState(CellState.ENDCELL);\r\n\t\t\t\t}else{\r\n\t\t\t\t\titem.setCellState(CellState.BLOCKEDCELL);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\trepaint();\r\n\t}\r\n\r\nThe only problem is there should be only one `STARTCELL`\r\nand one `ENDCELL`at the time and I can&#39;t find a way to properly change states of non clicked cells.\r\n\r\nI tried many times and ended up with this:\r\n\r\n    \t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tfor (Cell item : gridCells) {\r\n\t\t\tif (item.getCellShape().contains(e.getPoint())&amp;&amp; item.getCellState()==CellState.EMPTYCELL) {\r\n\t\t\t\titem.setCellColor(mouseColor);\r\n\t\t\t\tif(mouseColor==startCellColor){\r\n\t\t\t\t\t\tgridCells.get(numberOfStartCell-1).setCellColor(cellColor);\r\n\t\t\t\t\t\tgridCells.get(numberOfStartCell-1).setCellState(CellState.EMPTYCELL);\r\n\t\t\t\t\t\tnumberOfStartCell=item.getNumberOfCell();\r\n\t\t\t\t\t\titem.setCellState(CellState.STARTCELL);\r\n\t\t\t\t}else if(mouseColor==endCellColor){\r\n\t\t\t\t\titem.setCellState(CellState.ENDCELL);\r\n\t\t\t\t}else{\r\n\t\t\t\t\titem.setCellState(CellState.BLOCKEDCELL);\r\n\t\t\t\t}\r\n\t\t\t\tareaTest.setText(Integer.toString(numberOfStartCell));\r\n\t\t\t}\r\n\t\t}\r\n\t\trepaint();\r\n\t}\r\n\r\nUnfortunately it doesn&#39;t work correctly. After the first click the color of the new cell changes to yellow the old one became white, and value of variable `numberOfStartCell` also changes. But after the second click and so on the only part which changes is `numberOfStartCell`.\r\n\r\nHere is MCV:\r\nNothing to explain in first two classes I guess.\r\n\r\n`Class Main`\r\n\r\n    import java.awt.EventQueue;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new MyFrame();\r\n                }\r\n            });\r\n         }\r\n    }\r\n\r\n`Class MyFrame`\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.Toolkit;\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class MyFrame extends JFrame {\r\n\t \r\n\t   int width  = 750;\r\n       int height = 750;\r\n       MyPanel panel;\r\n\t\r\n       public MyFrame() {\r\n            super(&quot;Przeszukiwanie&quot;);\r\n            setSize(width,height);\r\n            setResizable(false);\r\n\r\n            Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n            double screenWidth = screenSize.getWidth();\r\n            double ScreenHeight = screenSize.getHeight();\r\n            int x = ((int)screenWidth-width)/2;\r\n            int y = ((int)ScreenHeight-height)/2;\r\n\r\n            setLocation(x,y);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setVisible(true);\r\n            panel=new MyPanel();\r\n            add(panel);\r\n            pack();\r\n        }\r\n    }\r\n\r\n`Class MyPanel` takes care of event handling and GUI.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JTextField;\r\n\r\n    public class MyPanel extends JPanel implements ActionListener{\r\n\r\n\t    private JButton createButton;\r\n\r\n\t    private ButtonGroup cellColorGroup;\r\n\t    private JRadioButton startingNode;\r\n\t    private JRadioButton endingNode;\r\n\t    private JRadioButton obstacleNode;\r\n\r\n\t    private JTextField rows;\r\n\t    private JTextField columns;\r\n\r\n\t    private JLabel labelRows;\r\n\t    private JLabel labelColumns;\r\n\r\n\t    private String strRowsField;\r\n\t    private String strColumnsField;\r\n\r\n\t    private JPanel panelButtons;\r\n\t    private GridPanel panelGrid;\r\n\t    private JPanel panelSettings;\r\n\r\n\t    public MyPanel(){\r\n\r\n\t\t    setPreferredSize(new Dimension(700, 600));\r\n\t\t    setLayout(new BorderLayout());\r\n\r\n\t\t    strRowsField=&quot;10&quot;;\r\n\t\t    strColumnsField=&quot;10&quot;;\r\n\r\n\t\t    panelButtons=new JPanel();\r\n\t\t    panelSettings=new JPanel();\r\n\t\t    panelGrid=new GridPanel(Integer.parseInt(strColumnsField),Integer.parseInt(strRowsField));\r\n\r\n\t\t    panelSettings.setLayout(new GridLayout(6,2));\r\n\r\n\t\t    createButton= new JButton(&quot;Create&quot;);\r\n\r\n\t\t    cellColorGroup=new ButtonGroup();\r\n\t\t    startingNode=new JRadioButton(&quot;Strating Node&quot;);\r\n\t\t    endingNode=new JRadioButton(&quot;Ending Node&quot;);\r\n\t\t    obstacleNode=new JRadioButton(&quot;Remove/Add Obstacle&quot;, true);\r\n\r\n\t\t    cellColorGroup.add(startingNode);\r\n\t\t    cellColorGroup.add(endingNode);\r\n\t\t    cellColorGroup.add(obstacleNode);\r\n\r\n\t\t    createButton.addActionListener(this);\r\n\t\t    startingNode.addActionListener(this);\r\n\t\t    endingNode.addActionListener(this);\r\n\t\t    obstacleNode.addActionListener(this);\r\n\r\n\t\t    columns=new JTextField(strColumnsField,2);\r\n\t\t    rows=new JTextField(strRowsField,2);\r\n\t\t    labelRows=new JLabel(&quot;Number of rows&quot;);\r\n\t\t    labelColumns= new JLabel(&quot;Number of columns&quot;);\r\n\r\n\t\t    panelButtons.add(createButton);\r\n\r\n\t\t    panelSettings.add(labelColumns);\r\n\t\t    panelSettings.add(columns);\r\n\t\t    panelSettings.add(labelRows);\r\n\t\t    panelSettings.add(rows);\r\n\t\t    panelSettings.add(startingNode);\r\n\t\t    panelSettings.add(endingNode);\r\n\t\t    panelSettings.add(obstacleNode);\r\n\r\n\t\t    add(panelButtons,BorderLayout.SOUTH);\r\n\t\t    add(panelGrid,BorderLayout.WEST);\r\n\t\t    add(panelSettings,BorderLayout.EAST);\r\n\r\n\t    }\r\n\t    @Override\r\n\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    if (e.getSource() == createButton) {\r\n\t\t\t    panelGrid.setcNodes(Integer.parseInt(columns.getText()));\r\n\t\t\t    panelGrid.setrNodes(Integer.parseInt(rows.getText()));\r\n\t\t\t    panelGrid.getGridCells().clear();\r\n\t\t\t    panelGrid.repaint();\r\n\t\t    }else if(e.getSource() == startingNode){\r\n\t\t\t     panelGrid.setMouseColor(panelGrid.getStartCellColor());\r\n\r\n\t\t    }else if(e.getSource() == endingNode){\r\n\t\t\t    panelGrid.setMouseColor(panelGrid.getEndCellColor());\r\n\r\n\t\t    }else if(e.getSource() == obstacleNode){\r\n\t\t\t     panelGrid.setMouseColor(panelGrid.getObstacleCellColor());\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n\r\n`Class GridPanel` takes care of drawing nodes, edges and cells.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.geom.Line2D;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.util.ArrayList;\r\n\r\n    import javax.swing.JPanel;\r\n\r\n    public class GridPanel extends JPanel implements MouseListener, MouseMotionListener {\r\n\r\n\t    private int cNodes;//Number of nodes across\r\n\t    private int rNodes;//Number of nodes along\r\n\t    private int nodeX;//X coordinate of the first node\r\n\t    private int nodeY;//Y coordinate of the first node\r\n\t    private int width=330;\r\n\t    private int height=330;\r\n\t    private int circleX;//Center of circle X\r\n\t    private int circleY;//Center of circle Y\r\n\t    private Color cellColor;\r\n\t    private Color startCellColor;\r\n\t    private Color endCellColor;\r\n\t    private Color obstacleCellColor;\r\n\t    private Color mouseColor;\r\n\t    private int numberOfStartCell;\r\n\r\n\t    private ArrayList&lt;Cell&gt; gridCells;\r\n\t    public GridPanel(int cNodes, int rNodes){\r\n\r\n\t\t    setPreferredSize(new Dimension(width,height));\r\n\r\n\t\t    this.cNodes=cNodes;\r\n\t\t    this.rNodes=rNodes;\r\n\r\n\t\t    if(cNodes&gt;rNodes){\r\n\t\t\t    nodeX=width/(cNodes+1);//Calculation of the x coordinate value of the first node\r\n\t\t\t    nodeY=height/(cNodes+1);//Calculation of the y coordinate value of the first node\r\n\t\t    }else{\r\n\t\t\t    nodeX=width/(rNodes+1);\r\n\t\t\t    nodeY=height/(rNodes+1);\r\n\t\t    }\r\n\r\n\t\t    circleX=nodeX;\r\n\t\t    circleY=nodeY;\r\n\r\n\t\t    cellColor=Color.WHITE;\r\n\t\t    startCellColor=Color.YELLOW;\r\n\t\t    endCellColor=Color.RED;\r\n\t\t    obstacleCellColor=Color.BLACK;\r\n\r\n\t\t    gridCells=new ArrayList&lt;Cell&gt;();\r\n\r\n\t\t    addMouseListener(this);\r\n\t\t    addMouseMotionListener(this);\r\n\r\n\t    }\r\n\r\n\t    @Override\r\n\t    protected void paintComponent(Graphics g) {\r\n\t\t    super.paintComponent(g);\r\n\t\t    Graphics2D g2d = (Graphics2D) g;\r\n\t\t    drawCells(g2d);\r\n\r\n\t     }\r\n\t\t\r\n\t    public void drawCells(Graphics2D g2d){\r\n\t\t    int number=0;\r\n\t\t    int c=0;\r\n\t\t    for(int i=0; i&lt;rNodes; i++){\r\n\t\t\t    for(int j=0; j&lt;cNodes; j++){\r\n\t\t\t\t    number++;\r\n\t\t\t\t    if(i==0 &amp;&amp; j==cNodes-1){\r\n\t\t\t\t\t     gridCells.add(new Cell(circleX,circleY,nodeX,endCellColor,new Rectangle2D.Double(circleX-(nodeX/2),circleY-(nodeX/2),nodeX,nodeX),CellState.ENDCELL,number));\r\n\r\n\t\t\t\t    }\r\n\t\t\t\t     else if(i==rNodes-1 &amp;&amp; j==0){\r\n\t\t\t\t\t     gridCells.add(new Cell(circleX,circleY,nodeX,startCellColor,new Rectangle2D.Double(circleX-(nodeX/2),circleY-(nodeX/2),nodeX,nodeX),CellState.STARTCELL,number));\r\n\t\t\t\t\tnumberOfStartCell=number;\r\n\t\t\t\t    }\r\n\t\t\t\t     else {\r\n\t\t\t\t\t     gridCells.add(new Cell(circleX,circleY,nodeX,cellColor,new Rectangle2D.Double(circleX-(nodeX/2),circleY-(nodeX/2),nodeX,nodeX),CellState.EMPTYCELL,number));\r\n\t\t\t\t    }\r\n\t\t\t\t    g2d.setPaint(gridCells.get(c).getCellColor());\r\n\t\t\t\t    g2d.fill(gridCells.get(c).getCellShape());\r\n\t\t\t\t    g2d.setPaint(Color.BLACK);\r\n\t\t\t\t    g2d.draw(gridCells.get(c).getCellShape());\r\n\t\t\t\t    if(j&lt;(cNodes-1)){\r\n\t\t\t\t\t    circleX+=nodeX;\r\n\t\t\t\t    }\r\n\t\t\t\t    c++;\r\n\t\t\t    }\r\n\t\t\t    circleX=nodeX;\r\n\t\t\t    if(i&lt;(rNodes-1)){\r\n\t\t\t\t    circleY+=nodeY;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    circleX=nodeX;\r\n\t\t    circleY=nodeY;\r\n\t    }\r\n\r\n\t    public void setMouseColor(Color mouseColor) {\r\n\t\t    this.mouseColor = mouseColor;\r\n\t    }\r\n\r\n\t    public void setcNodes(int cNodes) {\r\n\t\t    this.cNodes = cNodes;\r\n\t    }\r\n\r\n\t    public void setrNodes(int rNodes) {\r\n\t\t    this.rNodes = rNodes;\r\n\t    }\t\r\n\r\n\t    public Color getObstacleCellColor() {\r\n\t\t    return obstacleCellColor;\r\n\t    }\r\n\r\n\t    public Color getStartCellColor() {\r\n\t\t    return startCellColor;\r\n\t    }\r\n\r\n\t    public Color getEndCellColor() {\r\n\t\t    return endCellColor;\r\n\t    }\r\n\r\n\t    public ArrayList&lt;Cell&gt; getGridCells() {\r\n\t\t    return gridCells;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void mouseDragged(MouseEvent arg0) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void mouseMoved(MouseEvent arg0) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void mouseClicked(MouseEvent e) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t\t    for (Cell item : gridCells) {\r\n\t\t\t    if (item.getCellShape().contains(e.getPoint())&amp;&amp; item.getCellState()==CellState.EMPTYCELL) {\r\n\t\t\t\t    item.setCellColor(mouseColor);\r\n\t\t\t\t    if(mouseColor==startCellColor){\r\n\t\t\t\t\t\t    gridCells.get(numberOfStartCell-1).setCellColor(cellColor);\r\n\t\t\t\t\t\t    gridCells.get(numberOfStartCell-1).setCellState(CellState.EMPTYCELL);\r\n\t\t\t\t\t\t    numberOfStartCell=item.getNumberOfCell();\r\n\t\t\t\t\t\t    item.setCellState(CellState.STARTCELL);\r\n\t\t\t\t    }else if(mouseColor==endCellColor){\r\n\t\t\t\t\t    item.setCellState(CellState.ENDCELL);\r\n\t\t\t\t    }else{\r\n\t\t\t\t\t    item.setCellState(CellState.BLOCKEDCELL);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    repaint();\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void mouseEntered(MouseEvent arg0) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void mouseExited(MouseEvent arg0) {\r\n\t\t     // TODO Auto-generated method stub\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void mousePressed(MouseEvent arg0) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void mouseReleased(MouseEvent arg0) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t    }\r\n    }\r\n\r\n\r\n`Class Cell` has information about cells (state, color, number..).\r\n\r\n        import java.awt.Color;\r\n        import java.awt.Rectangle;\r\n        import java.awt.Shape;\r\n        import java.awt.geom.AffineTransform;\r\n        import java.awt.geom.PathIterator;\r\n        import java.awt.geom.Point2D;\r\n        import java.awt.geom.Rectangle2D;\r\n    \r\n        public class Cell implements Shape{\r\n    \t\r\n    \t    private int centerX;\r\n    \t    private int centerY;\r\n    \t    private double side;\r\n    \t    private Color cellColor;\r\n    \t    private double x;\r\n    \t    private double y;\r\n    \t    private Shape cellShape;\r\n    \t    private CellState cellState;\r\n    \t    private int numberOfCell;\r\n    \t\r\n    \t    public Cell(int centerX, int centerY, int side, Color cellColor,Shape cellShape, CellState cellState,int numberOfCell){\r\n    \t\t    super();\r\n    \t\t    this.centerX=centerX;\r\n    \t\t    this.centerY=centerY;\r\n    \t\t    this.side=side;\r\n    \t\t    this.cellColor=cellColor;\r\n    \t\t    this.cellShape=cellShape;\r\n    \t\t    this.cellState=cellState;\r\n    \t\t    this.numberOfCell=numberOfCell;\r\n    \t    }\r\n    \tpublic Shape getCellShape() {\r\n    \t\treturn cellShape;\r\n    \t}\r\n    \r\n    \tpublic int getNumberOfCell() {\r\n    \t\treturn numberOfCell;\r\n    \t}\r\n    \r\n    \tpublic Color getCellColor() {\r\n    \t\treturn cellColor;\r\n    \t}\r\n    \r\n    \tpublic void setCellColor(Color cellColor) {\r\n    \t\tthis.cellColor = cellColor;\r\n    \t}\r\n    \r\n    \tpublic void setCellShape(Shape cellShape) {\r\n    \t\tthis.cellShape = cellShape;\r\n    \t}\r\n    \t\r\n    \tpublic double getSide() {\r\n    \t\treturn side;\r\n    \t}\r\n    \tpublic double getX() {\r\n    \t\treturn x;\r\n    \t}\r\n    \tpublic double getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    \tpublic CellState getCellState() {\r\n    \t\treturn cellState;\r\n    \t}\r\n    \r\n    \tpublic void setCellState(CellState cellState) {\r\n    \t\tthis.cellState = cellState;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean contains(Point2D p) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean contains(Rectangle2D r) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean contains(double x, double y) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean contains(double x, double y, double w, double h) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic Rectangle getBounds() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t@Override\r\n    \tpublic Rectangle2D getBounds2D() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t@Override\r\n    \tpublic PathIterator getPathIterator(AffineTransform at) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t@Override\r\n    \tpublic PathIterator getPathIterator(AffineTransform at, double flatness) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean intersects(Rectangle2D r) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean intersects(double x, double y, double w, double h) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n`Class CellState`\r\n\r\n    public enum CellState {\r\n    \r\n    \tSTARTCELL,ENDCELL,EMPTYCELL,BLOCKEDCELL;\r\n    }\r\n\r\n","title":"Changing colors of grid cells by clicking on them","body":"<p>I am working on program which is drawing a grid of cells. Each cell has specified color and one of four states:</p>\n<p>1.\nSTARTCELL //marked by yellow color\n2.\nENDCELL //marked by red color\n3.\nEMPTYCELL //marked by white color\n4.\nBLOCKEDCELL // marked by black color</p>\n<p>At the beginning there are one yellow cell, and one red cell and the rest of them are white.</p>\n<p>I wanted to be able to change the colors and states of cells by clicking on them and after some research I found the solution:</p>\n<pre><code>@Override\npublic void mouseClicked(MouseEvent e) {\n    // TODO Auto-generated method stub\n    for (Cell item : gridCells) {\n        if (item.getCellShape().contains(e.getPoint())&amp;&amp; item.getCellState()==CellState.EMPTYCELL) {\n            item.setCellColor(mouseColor);\n            if(mouseColor==startCellColor){\n                item.setCellState(CellState.STARTCELL);\n            }else if(mouseColor==endCellColor){\n                item.setCellState(CellState.ENDCELL);\n            }else{\n                item.setCellState(CellState.BLOCKEDCELL);\n            }\n        }\n    }\n    repaint();\n}\n</code></pre>\n<p>The only problem is there should be only one <code>STARTCELL</code>\nand one <code>ENDCELL</code>at the time and I can't find a way to properly change states of non clicked cells.</p>\n<p>I tried many times and ended up with this:</p>\n<pre><code>    @Override\npublic void mouseClicked(MouseEvent e) {\n    // TODO Auto-generated method stub\n    for (Cell item : gridCells) {\n        if (item.getCellShape().contains(e.getPoint())&amp;&amp; item.getCellState()==CellState.EMPTYCELL) {\n            item.setCellColor(mouseColor);\n            if(mouseColor==startCellColor){\n                    gridCells.get(numberOfStartCell-1).setCellColor(cellColor);\n                    gridCells.get(numberOfStartCell-1).setCellState(CellState.EMPTYCELL);\n                    numberOfStartCell=item.getNumberOfCell();\n                    item.setCellState(CellState.STARTCELL);\n            }else if(mouseColor==endCellColor){\n                item.setCellState(CellState.ENDCELL);\n            }else{\n                item.setCellState(CellState.BLOCKEDCELL);\n            }\n            areaTest.setText(Integer.toString(numberOfStartCell));\n        }\n    }\n    repaint();\n}\n</code></pre>\n<p>Unfortunately it doesn't work correctly. After the first click the color of the new cell changes to yellow the old one became white, and value of variable <code>numberOfStartCell</code> also changes. But after the second click and so on the only part which changes is <code>numberOfStartCell</code>.</p>\n<p>Here is MCV:\nNothing to explain in first two classes I guess.</p>\n<p><code>Class Main</code></p>\n<pre><code>import java.awt.EventQueue;\n\npublic class Main {\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new MyFrame();\n            }\n        });\n     }\n}\n</code></pre>\n<p><code>Class MyFrame</code></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Toolkit;\n\nimport javax.swing.JFrame;\n\npublic class MyFrame extends JFrame {\n \n   int width  = 750;\n   int height = 750;\n   MyPanel panel;\n\n   public MyFrame() {\n        super(&quot;Przeszukiwanie&quot;);\n        setSize(width,height);\n        setResizable(false);\n\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        double screenWidth = screenSize.getWidth();\n        double ScreenHeight = screenSize.getHeight();\n        int x = ((int)screenWidth-width)/2;\n        int y = ((int)ScreenHeight-height)/2;\n\n        setLocation(x,y);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n        panel=new MyPanel();\n        add(panel);\n        pack();\n    }\n}\n</code></pre>\n<p><code>Class MyPanel</code> takes care of event handling and GUI.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JTextField;\n\npublic class MyPanel extends JPanel implements ActionListener{\n\n    private JButton createButton;\n\n    private ButtonGroup cellColorGroup;\n    private JRadioButton startingNode;\n    private JRadioButton endingNode;\n    private JRadioButton obstacleNode;\n\n    private JTextField rows;\n    private JTextField columns;\n\n    private JLabel labelRows;\n    private JLabel labelColumns;\n\n    private String strRowsField;\n    private String strColumnsField;\n\n    private JPanel panelButtons;\n    private GridPanel panelGrid;\n    private JPanel panelSettings;\n\n    public MyPanel(){\n\n        setPreferredSize(new Dimension(700, 600));\n        setLayout(new BorderLayout());\n\n        strRowsField=&quot;10&quot;;\n        strColumnsField=&quot;10&quot;;\n\n        panelButtons=new JPanel();\n        panelSettings=new JPanel();\n        panelGrid=new GridPanel(Integer.parseInt(strColumnsField),Integer.parseInt(strRowsField));\n\n        panelSettings.setLayout(new GridLayout(6,2));\n\n        createButton= new JButton(&quot;Create&quot;);\n\n        cellColorGroup=new ButtonGroup();\n        startingNode=new JRadioButton(&quot;Strating Node&quot;);\n        endingNode=new JRadioButton(&quot;Ending Node&quot;);\n        obstacleNode=new JRadioButton(&quot;Remove/Add Obstacle&quot;, true);\n\n        cellColorGroup.add(startingNode);\n        cellColorGroup.add(endingNode);\n        cellColorGroup.add(obstacleNode);\n\n        createButton.addActionListener(this);\n        startingNode.addActionListener(this);\n        endingNode.addActionListener(this);\n        obstacleNode.addActionListener(this);\n\n        columns=new JTextField(strColumnsField,2);\n        rows=new JTextField(strRowsField,2);\n        labelRows=new JLabel(&quot;Number of rows&quot;);\n        labelColumns= new JLabel(&quot;Number of columns&quot;);\n\n        panelButtons.add(createButton);\n\n        panelSettings.add(labelColumns);\n        panelSettings.add(columns);\n        panelSettings.add(labelRows);\n        panelSettings.add(rows);\n        panelSettings.add(startingNode);\n        panelSettings.add(endingNode);\n        panelSettings.add(obstacleNode);\n\n        add(panelButtons,BorderLayout.SOUTH);\n        add(panelGrid,BorderLayout.WEST);\n        add(panelSettings,BorderLayout.EAST);\n\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == createButton) {\n            panelGrid.setcNodes(Integer.parseInt(columns.getText()));\n            panelGrid.setrNodes(Integer.parseInt(rows.getText()));\n            panelGrid.getGridCells().clear();\n            panelGrid.repaint();\n        }else if(e.getSource() == startingNode){\n             panelGrid.setMouseColor(panelGrid.getStartCellColor());\n\n        }else if(e.getSource() == endingNode){\n            panelGrid.setMouseColor(panelGrid.getEndCellColor());\n\n        }else if(e.getSource() == obstacleNode){\n             panelGrid.setMouseColor(panelGrid.getObstacleCellColor());\n        }\n    }\n}\n</code></pre>\n<p><code>Class GridPanel</code> takes care of drawing nodes, edges and cells.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.geom.Line2D;\nimport java.awt.geom.Rectangle2D;\nimport java.util.ArrayList;\n\nimport javax.swing.JPanel;\n\npublic class GridPanel extends JPanel implements MouseListener, MouseMotionListener {\n\n    private int cNodes;//Number of nodes across\n    private int rNodes;//Number of nodes along\n    private int nodeX;//X coordinate of the first node\n    private int nodeY;//Y coordinate of the first node\n    private int width=330;\n    private int height=330;\n    private int circleX;//Center of circle X\n    private int circleY;//Center of circle Y\n    private Color cellColor;\n    private Color startCellColor;\n    private Color endCellColor;\n    private Color obstacleCellColor;\n    private Color mouseColor;\n    private int numberOfStartCell;\n\n    private ArrayList&lt;Cell&gt; gridCells;\n    public GridPanel(int cNodes, int rNodes){\n\n        setPreferredSize(new Dimension(width,height));\n\n        this.cNodes=cNodes;\n        this.rNodes=rNodes;\n\n        if(cNodes&gt;rNodes){\n            nodeX=width/(cNodes+1);//Calculation of the x coordinate value of the first node\n            nodeY=height/(cNodes+1);//Calculation of the y coordinate value of the first node\n        }else{\n            nodeX=width/(rNodes+1);\n            nodeY=height/(rNodes+1);\n        }\n\n        circleX=nodeX;\n        circleY=nodeY;\n\n        cellColor=Color.WHITE;\n        startCellColor=Color.YELLOW;\n        endCellColor=Color.RED;\n        obstacleCellColor=Color.BLACK;\n\n        gridCells=new ArrayList&lt;Cell&gt;();\n\n        addMouseListener(this);\n        addMouseMotionListener(this);\n\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        drawCells(g2d);\n\n     }\n    \n    public void drawCells(Graphics2D g2d){\n        int number=0;\n        int c=0;\n        for(int i=0; i&lt;rNodes; i++){\n            for(int j=0; j&lt;cNodes; j++){\n                number++;\n                if(i==0 &amp;&amp; j==cNodes-1){\n                     gridCells.add(new Cell(circleX,circleY,nodeX,endCellColor,new Rectangle2D.Double(circleX-(nodeX/2),circleY-(nodeX/2),nodeX,nodeX),CellState.ENDCELL,number));\n\n                }\n                 else if(i==rNodes-1 &amp;&amp; j==0){\n                     gridCells.add(new Cell(circleX,circleY,nodeX,startCellColor,new Rectangle2D.Double(circleX-(nodeX/2),circleY-(nodeX/2),nodeX,nodeX),CellState.STARTCELL,number));\n                numberOfStartCell=number;\n                }\n                 else {\n                     gridCells.add(new Cell(circleX,circleY,nodeX,cellColor,new Rectangle2D.Double(circleX-(nodeX/2),circleY-(nodeX/2),nodeX,nodeX),CellState.EMPTYCELL,number));\n                }\n                g2d.setPaint(gridCells.get(c).getCellColor());\n                g2d.fill(gridCells.get(c).getCellShape());\n                g2d.setPaint(Color.BLACK);\n                g2d.draw(gridCells.get(c).getCellShape());\n                if(j&lt;(cNodes-1)){\n                    circleX+=nodeX;\n                }\n                c++;\n            }\n            circleX=nodeX;\n            if(i&lt;(rNodes-1)){\n                circleY+=nodeY;\n            }\n        }\n        circleX=nodeX;\n        circleY=nodeY;\n    }\n\n    public void setMouseColor(Color mouseColor) {\n        this.mouseColor = mouseColor;\n    }\n\n    public void setcNodes(int cNodes) {\n        this.cNodes = cNodes;\n    }\n\n    public void setrNodes(int rNodes) {\n        this.rNodes = rNodes;\n    }   \n\n    public Color getObstacleCellColor() {\n        return obstacleCellColor;\n    }\n\n    public Color getStartCellColor() {\n        return startCellColor;\n    }\n\n    public Color getEndCellColor() {\n        return endCellColor;\n    }\n\n    public ArrayList&lt;Cell&gt; getGridCells() {\n        return gridCells;\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        // TODO Auto-generated method stub\n        for (Cell item : gridCells) {\n            if (item.getCellShape().contains(e.getPoint())&amp;&amp; item.getCellState()==CellState.EMPTYCELL) {\n                item.setCellColor(mouseColor);\n                if(mouseColor==startCellColor){\n                        gridCells.get(numberOfStartCell-1).setCellColor(cellColor);\n                        gridCells.get(numberOfStartCell-1).setCellState(CellState.EMPTYCELL);\n                        numberOfStartCell=item.getNumberOfCell();\n                        item.setCellState(CellState.STARTCELL);\n                }else if(mouseColor==endCellColor){\n                    item.setCellState(CellState.ENDCELL);\n                }else{\n                    item.setCellState(CellState.BLOCKEDCELL);\n                }\n            }\n        }\n        repaint();\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void mouseExited(MouseEvent arg0) {\n         // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void mousePressed(MouseEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n}\n</code></pre>\n<p><code>Class Cell</code> has information about cells (state, color, number..).</p>\n<pre><code>    import java.awt.Color;\n    import java.awt.Rectangle;\n    import java.awt.Shape;\n    import java.awt.geom.AffineTransform;\n    import java.awt.geom.PathIterator;\n    import java.awt.geom.Point2D;\n    import java.awt.geom.Rectangle2D;\n\n    public class Cell implements Shape{\n    \n        private int centerX;\n        private int centerY;\n        private double side;\n        private Color cellColor;\n        private double x;\n        private double y;\n        private Shape cellShape;\n        private CellState cellState;\n        private int numberOfCell;\n    \n        public Cell(int centerX, int centerY, int side, Color cellColor,Shape cellShape, CellState cellState,int numberOfCell){\n            super();\n            this.centerX=centerX;\n            this.centerY=centerY;\n            this.side=side;\n            this.cellColor=cellColor;\n            this.cellShape=cellShape;\n            this.cellState=cellState;\n            this.numberOfCell=numberOfCell;\n        }\n    public Shape getCellShape() {\n        return cellShape;\n    }\n\n    public int getNumberOfCell() {\n        return numberOfCell;\n    }\n\n    public Color getCellColor() {\n        return cellColor;\n    }\n\n    public void setCellColor(Color cellColor) {\n        this.cellColor = cellColor;\n    }\n\n    public void setCellShape(Shape cellShape) {\n        this.cellShape = cellShape;\n    }\n    \n    public double getSide() {\n        return side;\n    }\n    public double getX() {\n        return x;\n    }\n    public double getY() {\n        return y;\n    }\n    public CellState getCellState() {\n        return cellState;\n    }\n\n    public void setCellState(CellState cellState) {\n        this.cellState = cellState;\n    }\n\n    @Override\n    public boolean contains(Point2D p) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    @Override\n    public boolean contains(Rectangle2D r) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    @Override\n    public boolean contains(double x, double y) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    @Override\n    public boolean contains(double x, double y, double w, double h) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    @Override\n    public Rectangle getBounds() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n    @Override\n    public Rectangle2D getBounds2D() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n    @Override\n    public PathIterator getPathIterator(AffineTransform at) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n    @Override\n    public PathIterator getPathIterator(AffineTransform at, double flatness) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n    @Override\n    public boolean intersects(Rectangle2D r) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    @Override\n    public boolean intersects(double x, double y, double w, double h) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n}\n</code></pre>\n<p><code>Class CellState</code></p>\n<pre><code>public enum CellState {\n\n    STARTCELL,ENDCELL,EMPTYCELL,BLOCKEDCELL;\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7845,"page":323,"page_size":100}
