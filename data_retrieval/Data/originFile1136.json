{"items":[{"tags":["java","android","android-fragments","navigation-drawer","android-menu"],"answers":[{"tags":[],"owner":{"account_id":10041863,"reputation":1,"user_id":7424433,"display_name":"Manpreet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659520597,"creation_date":1659520597,"answer_id":73219703,"question_id":73219461,"body_markdown":"Can set manually -\r\n\r\n    `drawerToggle.setToolbarNavigationClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    mDrawer.openDrawer(GravityCompat.START);\r\n                }\r\n         });`\r\n\r\nor can try this \r\n`mDrawerToggle.syncState();`\r\n\r\n","title":"Different action menu items for each fragment with same navigation drawer in Android","body":"<p>Can set manually -</p>\n<pre><code>`drawerToggle.setToolbarNavigationClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                mDrawer.openDrawer(GravityCompat.START);\n            }\n     });`\n</code></pre>\n<p>or can try this\n<code>mDrawerToggle.syncState();</code></p>\n"},{"tags":[],"owner":{"account_id":10012930,"reputation":181,"user_id":7405227,"display_name":"BigBoiVladica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659556752,"creation_date":1659556752,"answer_id":73227144,"question_id":73219461,"body_markdown":" - MainActivity changes:\r\n\r\nAll you have to do is change ***onOptionsItemSelected*** in MainActivity from\r\n\r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            return true;\r\n        }\r\n\r\nand change it to\r\n\r\n    @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n           return super.onOptionsItemSelected(item);  //important\r\n        }\r\n\r\n\r\nAs far as the ***onCreateOptionsMenu*** method in MainActivity, you can leave it empty with just \r\n\r\n    return true\r\n\r\n - Fragment changes\r\n\r\n\r\nFor fragment (each fragment can have separate action menu items) you need to implement 3 methods \r\n\r\n - ***onCreateView***\r\n - ***onCreateOptionsMenu***\r\n - ***onOptionsItemSelected***\r\n\r\nExample:\r\n\r\n    @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.fragment_payment_type_data_stats, parent, false);\r\n            setHasOptionsMenu(true);  //important\r\n            return v;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\r\n            menu.clear();\r\n            //each frag can have different menu\r\n            inflater.inflate(R.menu.menu_payment_type_stats, menu);\r\n            super.onCreateOptionsMenu(menu, inflater);\r\n        }\r\n    \r\n        @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n    \r\n            switch (item.getItemId()) {\r\n                case R.id.action_today:\r\n                    getDataForToday();\r\n                    break;\r\n                case R.id.action_yesterday:\r\n                    getDataForPeriod(calendarDates.yesterdayDate(), calendarDates.yesterdayDate());\r\n                    break;\r\n                case R.id.action_past_seven:\r\n                    getDataForPeriod(calendarDates.pastSeventhDate(), calendarDates.todayDate());\r\n                    break;\r\n                case R.id.action_past_thirty:\r\n                    getDataForPeriod(calendarDates.pastThirtiethDate(), calendarDates.todayDate());\r\n                    break;\r\n                case R.id.action_custom_date:\r\n                    openDatePickerDialog(sdf);\r\n                    break;\r\n            }\r\n            return false;\r\n        }","title":"Different action menu items for each fragment with same navigation drawer in Android","body":"<ul>\n<li>MainActivity changes:</li>\n</ul>\n<p>All you have to do is change <em><strong>onOptionsItemSelected</strong></em> in MainActivity from</p>\n<pre><code>    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        return true;\n    }\n</code></pre>\n<p>and change it to</p>\n<pre><code>@Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n       return super.onOptionsItemSelected(item);  //important\n    }\n</code></pre>\n<p>As far as the <em><strong>onCreateOptionsMenu</strong></em> method in MainActivity, you can leave it empty with just</p>\n<pre><code>return true\n</code></pre>\n<ul>\n<li>Fragment changes</li>\n</ul>\n<p>For fragment (each fragment can have separate action menu items) you need to implement 3 methods</p>\n<ul>\n<li><em><strong>onCreateView</strong></em></li>\n<li><em><strong>onCreateOptionsMenu</strong></em></li>\n<li><em><strong>onOptionsItemSelected</strong></em></li>\n</ul>\n<p>Example:</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.fragment_payment_type_data_stats, parent, false);\n        setHasOptionsMenu(true);  //important\n        return v;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\n        menu.clear();\n        //each frag can have different menu\n        inflater.inflate(R.menu.menu_payment_type_stats, menu);\n        super.onCreateOptionsMenu(menu, inflater);\n    }\n\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        switch (item.getItemId()) {\n            case R.id.action_today:\n                getDataForToday();\n                break;\n            case R.id.action_yesterday:\n                getDataForPeriod(calendarDates.yesterdayDate(), calendarDates.yesterdayDate());\n                break;\n            case R.id.action_past_seven:\n                getDataForPeriod(calendarDates.pastSeventhDate(), calendarDates.todayDate());\n                break;\n            case R.id.action_past_thirty:\n                getDataForPeriod(calendarDates.pastThirtiethDate(), calendarDates.todayDate());\n                break;\n            case R.id.action_custom_date:\n                openDatePickerDialog(sdf);\n                break;\n        }\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":10012930,"reputation":181,"user_id":7405227,"display_name":"BigBoiVladica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73227144,"answer_count":2,"score":1,"last_activity_date":1659556752,"creation_date":1659519473,"question_id":73219461,"body_markdown":"I have a Main activity that hosts a navigation drawer and multiple fragments. Each fragment has its own set of menu items.\r\n\r\nNow the problem starts when I add the **onOptionsItemSelected** method, the navigation Drawer won&#39;t open. And when I don&#39;t add the **onOptionsItemSelected** method, navigation Drawer opens but then menu items are not working.\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.fragment_payment_type_data_stats, parent, false);\r\n        setHasOptionsMenu(true);\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\r\n        menu.clear();\r\n        inflater.inflate(R.menu.menu_payment_type_stats, menu);\r\n        Objects.requireNonNull(((MainActivity) Objects.requireNonNull(getActivity())).getSupportActionBar()).setTitle(&quot;title&quot;);\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.action_today:\r\n                getDataForToday();\r\n                break;\r\n            case R.id.action_past_seven:\r\n                getDataForPeriod(calendarDates.pastSeventhDate(), calendarDates.todayDate());\r\n                break;\r\n            case R.id.action_custom_date:\r\n                openDatePickerDialog(sdf);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\nIf you have any suggestions for fixing this problem, please share.\r\n","title":"Different action menu items for each fragment with same navigation drawer in Android","body":"<p>I have a Main activity that hosts a navigation drawer and multiple fragments. Each fragment has its own set of menu items.</p>\n<p>Now the problem starts when I add the <strong>onOptionsItemSelected</strong> method, the navigation Drawer won't open. And when I don't add the <strong>onOptionsItemSelected</strong> method, navigation Drawer opens but then menu items are not working.</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\n    View v = inflater.inflate(R.layout.fragment_payment_type_data_stats, parent, false);\n    setHasOptionsMenu(true);\n    return v;\n}\n\n@Override\npublic void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\n    menu.clear();\n    inflater.inflate(R.menu.menu_payment_type_stats, menu);\n    Objects.requireNonNull(((MainActivity) Objects.requireNonNull(getActivity())).getSupportActionBar()).setTitle(&quot;title&quot;);\n    super.onCreateOptionsMenu(menu, inflater);\n}\n\n@SuppressLint(&quot;NonConstantResourceId&quot;)\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.action_today:\n            getDataForToday();\n            break;\n        case R.id.action_past_seven:\n            getDataForPeriod(calendarDates.pastSeventhDate(), calendarDates.todayDate());\n            break;\n        case R.id.action_custom_date:\n            openDatePickerDialog(sdf);\n            break;\n    }\n    return true;\n}\n</code></pre>\n<p>If you have any suggestions for fixing this problem, please share.</p>\n"},{"tags":["java","mysql","sql","jpa"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1659557894,"post_id":73226357,"comment_id":129325662,"body_markdown":"Do you try to build a query with a dynamic number of parameters?","body":"Do you try to build a query with a dynamic number of parameters?"},{"owner":{"account_id":24349700,"reputation":35,"user_id":18285700,"display_name":"spinnning"},"score":0,"creation_date":1659558582,"post_id":73226357,"comment_id":129325919,"body_markdown":"Yeah, because for example if an end date is given I need a `where year(date) &lt; :enddate` otherwise i dont need this where.","body":"Yeah, because for example if an end date is given I need a <code>where year(date) &lt; :enddate</code> otherwise i dont need this where."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1659563987,"post_id":73226357,"comment_id":129327353,"body_markdown":"Then, follow the answer from Phillip Schneider. The &quot;WHERE&quot; is needed just once, the predicates are usually combined with an `AND`.","body":"Then, follow the answer from Phillip Schneider. The &quot;WHERE&quot; is needed just once, the predicates are usually combined with an <code>AND</code>."}],"answers":[{"tags":[],"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659553853,"creation_date":1659553853,"answer_id":73226624,"question_id":73226357,"body_markdown":"That&#39;s not possible because of possible SQL-Injection.\r\n\r\nUse a if statement instead:\r\n\r\nif (Parameter is set) add where to SQL Statement and Parameter.","title":"Add where clause to setParameter JPA","body":"<p>That's not possible because of possible SQL-Injection.</p>\n<p>Use a if statement instead:</p>\n<p>if (Parameter is set) add where to SQL Statement and Parameter.</p>\n"}],"owner":{"account_id":24349700,"reputation":35,"user_id":18285700,"display_name":"spinnning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659556534,"creation_date":1659552392,"question_id":73226357,"body_markdown":"At the moment I only know that you can do this in JPA \r\n```sql\r\nSELECT art_bezeichnung FROM table WHERE art_nr = :parameter\r\n```\r\n```java\r\n.setParameter(&quot;parameter&quot;, &quot;H03&quot;)\r\n```\r\nBut can you also add a whole where clause via a parameter\r\n```sql\r\nSELECT art_bezeichnung FROM table :parameter\r\n```\r\n```java\r\n.setParameter(&quot;parameter&quot;, &quot;WHERE art_nr = H03&quot;)\r\n```\r\nI searched the Internet for it, but couldn&#180;t find a clear answer.","title":"Add where clause to setParameter JPA","body":"<p>At the moment I only know that you can do this in JPA</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT art_bezeichnung FROM table WHERE art_nr = :parameter\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>.setParameter(&quot;parameter&quot;, &quot;H03&quot;)\n</code></pre>\n<p>But can you also add a whole where clause via a parameter</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT art_bezeichnung FROM table :parameter\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>.setParameter(&quot;parameter&quot;, &quot;WHERE art_nr = H03&quot;)\n</code></pre>\n<p>I searched the Internet for it, but couldnÂ´t find a clear answer.</p>\n"},{"tags":["java","spring","security","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"score":0,"creation_date":1434353771,"post_id":30835674,"comment_id":49723351,"body_markdown":"The problem is definitley with your java config ... Please post the complete security configuration","body":"The problem is definitley with your java config ... Please post the complete security configuration"},{"owner":{"account_id":1205912,"reputation":1236,"user_id":1175583,"accept_rate":43,"display_name":"Altair7852"},"score":0,"creation_date":1434412891,"post_id":30835674,"comment_id":49756887,"body_markdown":"@ArunM: I hope it is the case and I am missing something. I updated with all the Java Configuration classes I have.","body":"@ArunM: I hope it is the case and I am missing something. I updated with all the Java Configuration classes I have."},{"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"score":0,"creation_date":1434521421,"post_id":30835674,"comment_id":49807587,"body_markdown":"This is really a mystery. I simply cant replicate your problem. I am using pretty much the same configuration.","body":"This is really a mystery. I simply cant replicate your problem. I am using pretty much the same configuration."},{"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"score":3,"creation_date":1434521541,"post_id":30835674,"comment_id":49807650,"body_markdown":"https://github.com/ntarunmenon/Hello-World/tree/master/springsecuritythymeleaf . .My code is here","body":"<a href=\"https://github.com/ntarunmenon/Hello-World/tree/master/springsecuritythymeleaf\" rel=\"nofollow noreferrer\">github.com/ntarunmenon/Hello-World/tree/master/&hellip;</a> . .My code is here"},{"owner":{"account_id":1205912,"reputation":1236,"user_id":1175583,"accept_rate":43,"display_name":"Altair7852"},"score":8,"creation_date":1434769732,"post_id":30835674,"comment_id":49933629,"body_markdown":"@ArunM: your project gave me an idea: I do not need to call auth.userDetailsService(userDetailsService); in SecurityConfiguration.configure(), which will prevent creation of internal DaoAuthenticationProvider! My UserIpAuthenticationProvider  can get instance of UserDetailsService via injection.","body":"@ArunM: your project gave me an idea: I do not need to call auth.userDetailsService(userDetailsService); in SecurityConfiguration.configure(), which will prevent creation of internal DaoAuthenticationProvider! My UserIpAuthenticationProvider  can get instance of UserDetailsService via injection."}],"answers":[{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573140946,"creation_date":1573140946,"answer_id":58752116,"question_id":30835674,"body_markdown":"Defining your own DaoAuthenticationProvider\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        return new UserIpAuthenticationProvider();\r\n    }\r\n\r\nshould replace the Spring Boot default instance (not that the bean type is DaoAuthenticationProvider and **not** UserIpAuthenticationProvider)","title":"Spring Security, Boot: replace default DaoAuthenticationProvider","body":"<p>Defining your own DaoAuthenticationProvider</p>\n\n<pre><code>@Bean\npublic DaoAuthenticationProvider daoAuthenticationProvider() {\n    return new UserIpAuthenticationProvider();\n}\n</code></pre>\n\n<p>should replace the Spring Boot default instance (not that the bean type is DaoAuthenticationProvider and <strong>not</strong> UserIpAuthenticationProvider)</p>\n"},{"tags":[],"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615482815,"creation_date":1615482815,"answer_id":66587303,"question_id":30835674,"body_markdown":"The comments on the question contained the answer:\r\n\r\n&gt; @ArunM: your project gave me an idea: I do not need to call auth.userDetailsService(userDetailsService); in SecurityConfiguration.configure(), which will prevent creation of internal DaoAuthenticationProvider! My UserIpAuthenticationProvider can get instance of UserDetailsService via injection. \r\n\r\nThe `AuthenticationManagerBuilder.userDetailsService` method does not only set the default `UserDetailsService` but also applies a `DaoAuthenticationConfigurer` which registers the `DaoAuthenticationProvider`.\r\n\r\nIf you want a customized `DaoAuthenticationProvider`, pass the `UserDetailsService` to the provider in the constructor or inject it. And to prevent the default `DaoAuthenticationProvider` from being registered, don&#39;t call `AuthenticationManagerBuilder.userDetailsService`.\r\n\r\nThis is also mentioned in this [Spring Security issue](https://github.com/spring-projects/spring-security/issues/4149).","title":"Spring Security, Boot: replace default DaoAuthenticationProvider","body":"<p>The comments on the question contained the answer:</p>\n<blockquote>\n<p>@ArunM: your project gave me an idea: I do not need to call auth.userDetailsService(userDetailsService); in SecurityConfiguration.configure(), which will prevent creation of internal DaoAuthenticationProvider! My UserIpAuthenticationProvider can get instance of UserDetailsService via injection.</p>\n</blockquote>\n<p>The <code>AuthenticationManagerBuilder.userDetailsService</code> method does not only set the default <code>UserDetailsService</code> but also applies a <code>DaoAuthenticationConfigurer</code> which registers the <code>DaoAuthenticationProvider</code>.</p>\n<p>If you want a customized <code>DaoAuthenticationProvider</code>, pass the <code>UserDetailsService</code> to the provider in the constructor or inject it. And to prevent the default <code>DaoAuthenticationProvider</code> from being registered, don't call <code>AuthenticationManagerBuilder.userDetailsService</code>.</p>\n<p>This is also mentioned in this <a href=\"https://github.com/spring-projects/spring-security/issues/4149\" rel=\"nofollow noreferrer\">Spring Security issue</a>.</p>\n"}],"owner":{"account_id":1205912,"reputation":1236,"user_id":1175583,"accept_rate":43,"display_name":"Altair7852"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7440,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1659556416,"creation_date":1434325175,"question_id":30835674,"body_markdown":"I am trying to add user ip verification during login process. If ip address of the user is not in the database the application should reject the authentication. \r\n\r\n**The problem:** Given the setup below it turns out that auth.authenticationProvider() is not replacing the default DaoAuthenticationProvider, but adds UserIpAuthenticationProvider as a first AuthenticationProvider in the list. \r\n\r\nIn the case when username/password combination is incorrect the framework ends up calling UserDetailsService.loadUserByUsername() twice, once from UserIpAuthenticationProvider, another time from internal DaoAuthenticationProvider which throws the final BadCredentialsException(). \r\n\r\n**The question:** is there any setting that can be set in Spring Boot so that Spring Security does not add it&#39;s own internal instance DaoAuthenticationProvider, but only use my UserIpAuthenticationProvider, which already has all the necessary functionality (perhaps by somehow replacing AuthenticationManagerBuilder to be able to override userDetailsService() method?).\r\n\r\n    public &lt;T extends UserDetailsService&gt; DaoAuthenticationConfigurer&lt;AuthenticationManagerBuilder,T&gt; userDetailsService(\r\n            T userDetailsService) throws Exception {\r\n        this.defaultUserDetailsService = userDetailsService;\r\n        return apply(new DaoAuthenticationConfigurer&lt;AuthenticationManagerBuilder,T&gt;(userDetailsService));\r\n    }\r\n\r\n**Configuration:** In my understanding, UserDetailsService is supposed to provide all the necessary details about the user so that AuthenticationProvider can make a decision whether the authentication was successful or not.\r\n\r\nSince all the necessary information is loaded from the database, it seems natural to extend DaoAuthenticationProvider and add an additional verification in overriden additionalAuthenticationChecks() method (white-listed IP list is in the database, so they are loaded as part of the user object in IpAwareUser).\r\n\r\n\r\n    @Named\r\n    @Component\r\n    class UserIpAuthenticationProvider  extends DaoAuthenticationProvider {\r\n        @Inject\r\n        public UserIpAuthenticationProvider(UserDetailsService userDetailsService)\r\n        {\r\n            ...\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n        protected void additionalAuthenticationChecks(UserDetails userDetails,\r\n                                                      UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {\r\n            super.additionalAuthenticationChecks(userDetails, authentication);\r\n    \r\n            WebAuthenticationDetails details = (WebAuthenticationDetails) authentication.getDetails();\r\n            IpAwareUser ipAwareUser = (IpAwareUser) userDetails;\r\n            if (!ipAwareUser.isAllowedIp(details.getRemoteAddress()))\r\n            {\r\n                throw new DisabledException(&quot;Login restricted from ip: &quot; + details.getRemoteAddress());\r\n            }\r\n        }\r\n    }\r\n\r\nThis is injected into SecurityConfiguration:\r\n\r\n \r\n\r\n       \r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.addFilter(authenticationFilter);\r\n    \r\n            http.authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;/javascript/**&quot;, &quot;/css/**&quot;).permitAll()\r\n                    .antMatchers(&quot;...&quot;).access(&quot;...&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and().formLogin().loginPage(&quot;/&quot;).permitAll()\r\n                    .and().logout().invalidateHttpSession(true).deleteCookies(&quot;JSESSIONID&quot;).permitAll()\r\n                    .and().csrf().disable()\r\n            ;\r\n        }\r\n    \r\n        @Inject\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Inject\r\n        private UserIpAuthenticationProvider userIpAuthenticationProvider;\r\n    \r\n    \r\n        @Inject\r\n        private JsonUsernamePasswordAuthenticationFilter authenticationFilter;\r\n    \r\n        @Bean\r\n        public JsonUsernamePasswordAuthenticationFilter authenticationFilter() {\r\n            return new JsonUsernamePasswordAuthenticationFilter();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(userIpAuthenticationProvider);\r\n            auth.userDetailsService(userDetailsService);\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationSuccessHandler authenticationSuccessHandler() throws Exception {\r\n            return new JsonAuthenticationSuccessHandler();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationFailureHandler authenticationFailureHandler() throws Exception {\r\n            return new JsonAuthenticationFailureHandler();\r\n        }\r\n    }\r\n\r\nand application configuration:\r\n    \r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(basePackageClasses = {SecurityConfiguration.class, DataController.class, DaoService.class})\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application;\r\n        }\r\n    }\r\n\r\n\r\n\r\nAny guidance on this will be much appreciated.","title":"Spring Security, Boot: replace default DaoAuthenticationProvider","body":"<p>I am trying to add user ip verification during login process. If ip address of the user is not in the database the application should reject the authentication. </p>\n\n<p><strong>The problem:</strong> Given the setup below it turns out that auth.authenticationProvider() is not replacing the default DaoAuthenticationProvider, but adds UserIpAuthenticationProvider as a first AuthenticationProvider in the list. </p>\n\n<p>In the case when username/password combination is incorrect the framework ends up calling UserDetailsService.loadUserByUsername() twice, once from UserIpAuthenticationProvider, another time from internal DaoAuthenticationProvider which throws the final BadCredentialsException(). </p>\n\n<p><strong>The question:</strong> is there any setting that can be set in Spring Boot so that Spring Security does not add it's own internal instance DaoAuthenticationProvider, but only use my UserIpAuthenticationProvider, which already has all the necessary functionality (perhaps by somehow replacing AuthenticationManagerBuilder to be able to override userDetailsService() method?).</p>\n\n<pre><code>public &lt;T extends UserDetailsService&gt; DaoAuthenticationConfigurer&lt;AuthenticationManagerBuilder,T&gt; userDetailsService(\n        T userDetailsService) throws Exception {\n    this.defaultUserDetailsService = userDetailsService;\n    return apply(new DaoAuthenticationConfigurer&lt;AuthenticationManagerBuilder,T&gt;(userDetailsService));\n}\n</code></pre>\n\n<p><strong>Configuration:</strong> In my understanding, UserDetailsService is supposed to provide all the necessary details about the user so that AuthenticationProvider can make a decision whether the authentication was successful or not.</p>\n\n<p>Since all the necessary information is loaded from the database, it seems natural to extend DaoAuthenticationProvider and add an additional verification in overriden additionalAuthenticationChecks() method (white-listed IP list is in the database, so they are loaded as part of the user object in IpAwareUser).</p>\n\n<pre><code>@Named\n@Component\nclass UserIpAuthenticationProvider  extends DaoAuthenticationProvider {\n    @Inject\n    public UserIpAuthenticationProvider(UserDetailsService userDetailsService)\n    {\n        ...\n    }\n\n    @SuppressWarnings(\"deprecation\")\n    protected void additionalAuthenticationChecks(UserDetails userDetails,\n                                                  UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {\n        super.additionalAuthenticationChecks(userDetails, authentication);\n\n        WebAuthenticationDetails details = (WebAuthenticationDetails) authentication.getDetails();\n        IpAwareUser ipAwareUser = (IpAwareUser) userDetails;\n        if (!ipAwareUser.isAllowedIp(details.getRemoteAddress()))\n        {\n            throw new DisabledException(\"Login restricted from ip: \" + details.getRemoteAddress());\n        }\n    }\n}\n</code></pre>\n\n<p>This is injected into SecurityConfiguration:</p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.addFilter(authenticationFilter);\n\n        http.authorizeRequests()\n                .antMatchers(\"/\", \"/javascript/**\", \"/css/**\").permitAll()\n                .antMatchers(\"...\").access(\"...\")\n                .anyRequest().authenticated()\n                .and().formLogin().loginPage(\"/\").permitAll()\n                .and().logout().invalidateHttpSession(true).deleteCookies(\"JSESSIONID\").permitAll()\n                .and().csrf().disable()\n        ;\n    }\n\n    @Inject\n    private UserDetailsService userDetailsService;\n\n    @Inject\n    private UserIpAuthenticationProvider userIpAuthenticationProvider;\n\n\n    @Inject\n    private JsonUsernamePasswordAuthenticationFilter authenticationFilter;\n\n    @Bean\n    public JsonUsernamePasswordAuthenticationFilter authenticationFilter() {\n        return new JsonUsernamePasswordAuthenticationFilter();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(userIpAuthenticationProvider);\n        auth.userDetailsService(userDetailsService);\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public AuthenticationSuccessHandler authenticationSuccessHandler() throws Exception {\n        return new JsonAuthenticationSuccessHandler();\n    }\n\n    @Bean\n    public AuthenticationFailureHandler authenticationFailureHandler() throws Exception {\n        return new JsonAuthenticationFailureHandler();\n    }\n}\n</code></pre>\n\n<p>and application configuration:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan(basePackageClasses = {SecurityConfiguration.class, DataController.class, DaoService.class})\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application;\n    }\n}\n</code></pre>\n\n<p>Any guidance on this will be much appreciated.</p>\n"},{"tags":["java","eval","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1659124624,"post_id":73162312,"comment_id":129227032,"body_markdown":"Don&#39;t use `eval`. It&#39;s bad practice. Also you&#39;ve neglected to include what version of Drools we&#39;re talking about here.","body":"Don&#39;t use <code>eval</code>. It&#39;s bad practice. Also you&#39;ve neglected to include what version of Drools we&#39;re talking about here."}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659555653,"creation_date":1659555653,"answer_id":73226964,"question_id":73162312,"body_markdown":"Avoid using `eval`.\r\n\r\nAssign the function call&#39;s result to a Double and do the comparison there. Something like...\r\n\r\n```\r\nDouble( this &gt; 0.0 ) from func().orElse(1.0)\r\n```\r\n\r\nDrools support for Java built-ins and newer functionality (Java 8+) has been hit-or-miss in DRL in my experience, especially with older Drools. If this all doesn&#39;t work, your best bet might be to write a method that will wrap the `func().orElse(...)` and resolve to a simple Double and use that instead.","title":"Is there a way to use Optional.orElse in eval?","body":"<p>Avoid using <code>eval</code>.</p>\n<p>Assign the function call's result to a Double and do the comparison there. Something like...</p>\n<pre><code>Double( this &gt; 0.0 ) from func().orElse(1.0)\n</code></pre>\n<p>Drools support for Java built-ins and newer functionality (Java 8+) has been hit-or-miss in DRL in my experience, especially with older Drools. If this all doesn't work, your best bet might be to write a method that will wrap the <code>func().orElse(...)</code> and resolve to a simple Double and use that instead.</p>\n"}],"owner":{"account_id":10831978,"reputation":23,"user_id":7966040,"display_name":"katrinawyh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659555653,"creation_date":1659075263,"question_id":73162312,"body_markdown":"I have a function that returns `Optional` that I want to use in drools eval, e.g.\r\n```\r\nrule &quot;some rule&quot;\r\n  when\r\n    eval(func().orElse(1.0) &gt; 0.0)\r\n  then\r\n    ....\r\nend\r\n```\r\nwhere `func()` has return type being `Optional&lt;Double&gt;`. The above is giving me compile error because of `orElse`. Is there any workaround? Thanks!\r\n","title":"Is there a way to use Optional.orElse in eval?","body":"<p>I have a function that returns <code>Optional</code> that I want to use in drools eval, e.g.</p>\n<pre><code>rule &quot;some rule&quot;\n  when\n    eval(func().orElse(1.0) &gt; 0.0)\n  then\n    ....\nend\n</code></pre>\n<p>where <code>func()</code> has return type being <code>Optional&lt;Double&gt;</code>. The above is giving me compile error because of <code>orElse</code>. Is there any workaround? Thanks!</p>\n"},{"tags":["java","algorithm","collision-detection"],"answers":[{"tags":[],"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435138886,"creation_date":1435137663,"answer_id":31022629,"question_id":31022269,"body_markdown":"You have to check both the intersection along the x-axis and along the y-axis. If any of them is missing, there is no collision between rectangles.\r\n\r\nCode for 1-D:\r\n\r\n    boolean overlaps(double point1, double length1, double point2, double length2)\r\n    {\r\n        double highestStartPoint = Math.max(point1, point2);\r\n        double lowestEndPoint = Math.min(point1 + length1, point2 + length2);\r\n\r\n        return highestStartPoint &lt; lowestEndPoint;\r\n    }\r\n\r\nYou have to call it for both x and y:\r\n\r\n    boolean collision(double x1, double x2, double y1, double y2, double width1, double width2, double height1, double height2)\r\n    {\r\n        return overlaps(x1, width1, x2, width2) &amp;&amp; overlaps (y1, height1, y2, height2);\r\n    }\r\n\r\n","title":"Collision detection between two rectangles in java","body":"<p>You have to check both the intersection along the x-axis and along the y-axis. If any of them is missing, there is no collision between rectangles.</p>\n\n<p>Code for 1-D:</p>\n\n<pre><code>boolean overlaps(double point1, double length1, double point2, double length2)\n{\n    double highestStartPoint = Math.max(point1, point2);\n    double lowestEndPoint = Math.min(point1 + length1, point2 + length2);\n\n    return highestStartPoint &lt; lowestEndPoint;\n}\n</code></pre>\n\n<p>You have to call it for both x and y:</p>\n\n<pre><code>boolean collision(double x1, double x2, double y1, double y2, double width1, double width2, double height1, double height2)\n{\n    return overlaps(x1, width1, x2, width2) &amp;&amp; overlaps (y1, height1, y2, height2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2887305,"reputation":8065,"user_id":2495795,"accept_rate":87,"display_name":"BufBills"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435172496,"creation_date":1435172496,"answer_id":31034842,"question_id":31022269,"body_markdown":"1. Calculate 4 points of first rectangle. Note them as pointA, pointB, pointC, pointD.\r\n2. calculate 4 points of second rectangle. Note them as pointE, F, G H.\r\n\r\n3. Iterate point E,F,G,H\r\n   (1) if any of these is within area that A,B,C,D enclosed. return collision.\r\n   (2) otherwise no collision.\r\n\r\nFor 3.(1) algorithm.  you need something like this.\r\n\r\nXe &gt;= Xa &amp;&amp; Xc &lt;= Xb. &amp;&amp; Yc &gt;= Yc &amp;&amp; Ye &lt;=Yc","title":"Collision detection between two rectangles in java","body":"<ol>\n<li>Calculate 4 points of first rectangle. Note them as pointA, pointB, pointC, pointD.</li>\n<li><p>calculate 4 points of second rectangle. Note them as pointE, F, G H.</p></li>\n<li><p>Iterate point E,F,G,H\n(1) if any of these is within area that A,B,C,D enclosed. return collision.\n(2) otherwise no collision.</p></li>\n</ol>\n\n<p>For 3.(1) algorithm.  you need something like this.</p>\n\n<p>Xe >= Xa &amp;&amp; Xc &lt;= Xb. &amp;&amp; Yc >= Yc &amp;&amp; Ye &lt;=Yc</p>\n"},{"tags":[],"owner":{"account_id":3554912,"reputation":3026,"user_id":2968894,"accept_rate":87,"display_name":"Pruthvi Raj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1435173090,"creation_date":1435173090,"answer_id":31035006,"question_id":31022269,"body_markdown":"In java , to detect if two when two rectangles collide, you can use `intersects()` method \r\n\r\nSample Code:\r\n\r\n    Rectangle r1 = new Rectangle(x1,y1,x2,y2);\r\n    Rectangle r2 = new Rectangle(x1,y1,x2,y2);\r\n    if(r1.intersects(r2))\r\n    {\r\n    \t//what to happen when collision occurs goes here\r\n    }","title":"Collision detection between two rectangles in java","body":"<p>In java , to detect if two when two rectangles collide, you can use <code>intersects()</code> method </p>\n\n<p>Sample Code:</p>\n\n<pre><code>Rectangle r1 = new Rectangle(x1,y1,x2,y2);\nRectangle r2 = new Rectangle(x1,y1,x2,y2);\nif(r1.intersects(r2))\n{\n    //what to happen when collision occurs goes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2887305,"reputation":8065,"user_id":2495795,"accept_rate":87,"display_name":"BufBills"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1435174128,"creation_date":1435174128,"answer_id":31035335,"question_id":31022269,"body_markdown":"    if (RectA.X1 &lt; RectB.X2 &amp;&amp; RectA.X2 &gt; RectB.X1 &amp;&amp;\r\n        RectA.Y1 &lt; RectB.Y2 &amp;&amp; RectA.Y2 &gt; RectB.Y1) \r\n\r\nSay you have Rect A, and Rect B. Proof is by contradiction. Any one of four conditions guarantees that no overlap can exist:\r\n\r\n    Cond1. If A&#39;s left edge is to the right of the B&#39;s right edge, - then A is Totally to right Of B\r\n    Cond2. If A&#39;s right edge is to the left of the B&#39;s left edge, - then A is Totally to left Of B\r\n    Cond3. If A&#39;s top edge is below B&#39;s bottom edge, - then A is Totally below B\r\n    Cond4. If A&#39;s bottom edge is above B&#39;s top edge, - then A is Totally above B\r\n    So condition for Non-Overlap is\r\n\r\n    Cond1 Or Cond2 Or Cond3 Or Cond4\r\n\r\nTherefore, a sufficient condition for Overlap is the opposite (De Morgan)\r\n\r\nNot Cond1 And Not Cond2 And Not Cond3 And Not Cond4\r\nThis is equivalent to:\r\n\r\n    A&#39;s Left Edge to left of B&#39;s right edge, and\r\n    A&#39;s right edge to right of B&#39;s left edge, and\r\n    A&#39;s top above B&#39;s bottom, and\r\n    A&#39;s bottom below B&#39;s Top\r\n\r\nNote 1: It is fairly obvious this same principle can be extended to any number of dimensions.\r\nNote 2: It should also be fairly obvious to count overlaps of just one pixel, change the &lt; and/or the &gt; on that boundary to a &lt;= or a &gt;=.\r\n\r\n\r\n\r\nIf you are having a hard time visualizing why it works, I made an example page at **silentmatt.com/intersection.html** where you can drag rectangles around and see the comparisons.","title":"Collision detection between two rectangles in java","body":"<pre><code>if (RectA.X1 &lt; RectB.X2 &amp;&amp; RectA.X2 &gt; RectB.X1 &amp;&amp;\n    RectA.Y1 &lt; RectB.Y2 &amp;&amp; RectA.Y2 &gt; RectB.Y1) \n</code></pre>\n\n<p>Say you have Rect A, and Rect B. Proof is by contradiction. Any one of four conditions guarantees that no overlap can exist:</p>\n\n<pre><code>Cond1. If A's left edge is to the right of the B's right edge, - then A is Totally to right Of B\nCond2. If A's right edge is to the left of the B's left edge, - then A is Totally to left Of B\nCond3. If A's top edge is below B's bottom edge, - then A is Totally below B\nCond4. If A's bottom edge is above B's top edge, - then A is Totally above B\nSo condition for Non-Overlap is\n\nCond1 Or Cond2 Or Cond3 Or Cond4\n</code></pre>\n\n<p>Therefore, a sufficient condition for Overlap is the opposite (De Morgan)</p>\n\n<p>Not Cond1 And Not Cond2 And Not Cond3 And Not Cond4\nThis is equivalent to:</p>\n\n<pre><code>A's Left Edge to left of B's right edge, and\nA's right edge to right of B's left edge, and\nA's top above B's bottom, and\nA's bottom below B's Top\n</code></pre>\n\n<p>Note 1: It is fairly obvious this same principle can be extended to any number of dimensions.\nNote 2: It should also be fairly obvious to count overlaps of just one pixel, change the &lt; and/or the > on that boundary to a &lt;= or a >=.</p>\n\n<p>If you are having a hard time visualizing why it works, I made an example page at <strong>silentmatt.com/intersection.html</strong> where you can drag rectangles around and see the comparisons.</p>\n"},{"tags":[],"owner":{"account_id":6715440,"reputation":851,"user_id":5177407,"accept_rate":0,"display_name":"Denis Petrov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519821254,"creation_date":1519820455,"answer_id":49029463,"question_id":31022269,"body_markdown":"    bool isIntersect(\r\n      int Ax, int Ay, int Aw, int Ah,\r\n      int Bx, int By, int Bw, int Bh)\r\n    {\r\n      return\r\n        Bx + Bw &gt; Ax &amp;&amp;\r\n        By + Bh &gt; Ay &amp;&amp;\r\n        Ax + Aw &gt; Bx &amp;&amp;\r\n        Ay + Ah &gt; By;\r\n    }","title":"Collision detection between two rectangles in java","body":"<pre><code>bool isIntersect(\n  int Ax, int Ay, int Aw, int Ah,\n  int Bx, int By, int Bw, int Bh)\n{\n  return\n    Bx + Bw &gt; Ax &amp;&amp;\n    By + Bh &gt; Ay &amp;&amp;\n    Ax + Aw &gt; Bx &amp;&amp;\n    Ay + Ah &gt; By;\n}\n</code></pre>\n"}],"owner":{"account_id":4873422,"reputation":1181,"user_id":3929213,"accept_rate":64,"display_name":"mikelplhts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28774,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":31035335,"answer_count":5,"score":10,"last_activity_date":1659555586,"creation_date":1435136734,"question_id":31022269,"body_markdown":"I have two rectangles, the red rectangle (can move) and the blue rectangle.\r\nBoth have: x, y, width, height.\r\n\r\nHow can I say in a programming language such as Java when there is a collision between the blue and the red rectangle?\r\n\r\n![Example of collision][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/03qIb.png","title":"Collision detection between two rectangles in java","body":"<p>I have two rectangles, the red rectangle (can move) and the blue rectangle.\nBoth have: x, y, width, height.</p>\n\n<p>How can I say in a programming language such as Java when there is a collision between the blue and the red rectangle?</p>\n\n<p><img src=\"https://i.stack.imgur.com/03qIb.png\" alt=\"Example of collision\"></p>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1659473030,"post_id":73213105,"comment_id":129302276,"body_markdown":"You may be interested in the [Dutch national flag problem](https://en.wikipedia.org/wiki/Dutch_national_flag_problem), which describes a partitioning algorithm where all elements equal to the pivot end up together between the left and right partitions.","body":"You may be interested in the <a href=\"https://en.wikipedia.org/wiki/Dutch_national_flag_problem\" rel=\"nofollow noreferrer\">Dutch national flag problem</a>, which describes a partitioning algorithm where all elements equal to the pivot end up together between the left and right partitions."},{"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"score":0,"creation_date":1659551502,"post_id":73213105,"comment_id":129323675,"body_markdown":"@user3386109 ok but I want first to solve it properly using 2-way quicksort","body":"@user3386109 ok but I want first to solve it properly using 2-way quicksort"}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659555252,"creation_date":1659473553,"answer_id":73213671,"question_id":73213105,"body_markdown":"You just have to leave the partition at the right place.  So don&#39;t include it in your partitioning, then swap it in to your known correct place at the end.\r\n\r\n    private static int partition(int[] arr, int lo, int hi) {\r\n        int p = arr[lo];\r\n        int i = lo;\r\n        int j = hi + 1;\r\n\r\n        while (true) {\r\n            while (arr[--j] &gt; p) ;\r\n            while (i &lt; j &amp;&amp; arr[++i] &lt; p) ;\r\n            if (i &gt;= j) {\r\n                // arr[j] &lt;= p, and arr[lo] is still p.\r\n                swap(arr, lo, j);\r\n                return j;\r\n            }\r\n            swap(arr, i, j);\r\n        }\r\n    }\r\n\r\nNote that your second version had an extra comparison in every iteration of the loop.  That should matter more than the relative costs of `&lt;` vs `&lt;=`.  (Which I doubt are significantly different.)","title":"How can I make this quick sort partition balanced and not include pivot the next loop?","body":"<p>You just have to leave the partition at the right place.  So don't include it in your partitioning, then swap it in to your known correct place at the end.</p>\n<pre><code>private static int partition(int[] arr, int lo, int hi) {\n    int p = arr[lo];\n    int i = lo;\n    int j = hi + 1;\n\n    while (true) {\n        while (arr[--j] &gt; p) ;\n        while (i &lt; j &amp;&amp; arr[++i] &lt; p) ;\n        if (i &gt;= j) {\n            // arr[j] &lt;= p, and arr[lo] is still p.\n            swap(arr, lo, j);\n            return j;\n        }\n        swap(arr, i, j);\n    }\n}\n</code></pre>\n<p>Note that your second version had an extra comparison in every iteration of the loop.  That should matter more than the relative costs of <code>&lt;</code> vs <code>&lt;=</code>.  (Which I doubt are significantly different.)</p>\n"}],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659555252,"creation_date":1659470267,"question_id":73213105,"body_markdown":"I implemented the quick sort partition method using two ways :\r\n\r\nThe first is the classic Hoare partition scheme. It&#39;s efficient (two partitions are balanced, as we always use `&lt;` or `&gt;` instead of `&lt;=`) but it does not return the pivot directly :\r\n\r\n    private static int partition(int[] arr, int lo, int hi) {\r\n        int p = arr[lo];\r\n        int i = lo - 1;\r\n        int j = hi + 1;\r\n        while (true) {\r\n            while (arr[--j] &gt; p) ;\r\n            while (arr[++i] &lt; p) ;\r\n            if (i &gt;= j) {\r\n                return j;\r\n            }\r\n            swap(arr, i, j);\r\n        }\r\n    }\r\n\r\nThe second one is an easier to understand version as it returns directly the pivot, and the pivot does not come into two partitions. But I cannot figure it out how to remove the `&lt;=` in this line `while (i &lt; j &amp;&amp; arr[i] &lt;= p) {` :\r\n\r\n    private static int partition(int[] arr, int lo, int hi) {\r\n        int p = arr[lo];\r\n        int i = lo;\r\n        int j = hi;\r\n        while (true) {\r\n            while (i &lt; j &amp;&amp; arr[j] &gt; p) {\r\n                j--;\r\n            }\r\n            while (i &lt; j &amp;&amp; arr[i] &lt;= p) {\r\n                i++;\r\n            }\r\n            if (i &gt;= j) {\r\n                break;\r\n            } else {\r\n                swap(arr, i, j);\r\n            }\r\n        }\r\n        swap(arr, lo, i);\r\n        return i;\r\n    }\r\n\r\nSo is it possible to have a two-way partition method that is at the same time efficient (without any equal sign) AND the pivot will not be included into partitions the next loop ?","title":"How can I make this quick sort partition balanced and not include pivot the next loop?","body":"<p>I implemented the quick sort partition method using two ways :</p>\n<p>The first is the classic Hoare partition scheme. It's efficient (two partitions are balanced, as we always use <code>&lt;</code> or <code>&gt;</code> instead of <code>&lt;=</code>) but it does not return the pivot directly :</p>\n<pre><code>private static int partition(int[] arr, int lo, int hi) {\n    int p = arr[lo];\n    int i = lo - 1;\n    int j = hi + 1;\n    while (true) {\n        while (arr[--j] &gt; p) ;\n        while (arr[++i] &lt; p) ;\n        if (i &gt;= j) {\n            return j;\n        }\n        swap(arr, i, j);\n    }\n}\n</code></pre>\n<p>The second one is an easier to understand version as it returns directly the pivot, and the pivot does not come into two partitions. But I cannot figure it out how to remove the <code>&lt;=</code> in this line <code>while (i &lt; j &amp;&amp; arr[i] &lt;= p) {</code> :</p>\n<pre><code>private static int partition(int[] arr, int lo, int hi) {\n    int p = arr[lo];\n    int i = lo;\n    int j = hi;\n    while (true) {\n        while (i &lt; j &amp;&amp; arr[j] &gt; p) {\n            j--;\n        }\n        while (i &lt; j &amp;&amp; arr[i] &lt;= p) {\n            i++;\n        }\n        if (i &gt;= j) {\n            break;\n        } else {\n            swap(arr, i, j);\n        }\n    }\n    swap(arr, lo, i);\n    return i;\n}\n</code></pre>\n<p>So is it possible to have a two-way partition method that is at the same time efficient (without any equal sign) AND the pivot will not be included into partitions the next loop ?</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659554868,"creation_date":1659554868,"answer_id":73226805,"question_id":73226245,"body_markdown":"You can do this with\r\n\r\n```java\r\nenv.disableOperatorChaining();\r\n```\r\n\r\nHowever, you should expect this to degrade performance, perhaps significantly. See https://stackoverflow.com/q/62933685/2000823 for more about this.\r\n","title":"How to have one operator per vertex in Apache Flink?","body":"<p>You can do this with</p>\n<pre class=\"lang-java prettyprint-override\"><code>env.disableOperatorChaining();\n</code></pre>\n<p>However, you should expect this to degrade performance, perhaps significantly. See <a href=\"https://stackoverflow.com/q/62933685/2000823\">Flink disableOperatorChaining Performance impact</a> for more about this.</p>\n"}],"owner":{"account_id":12495977,"reputation":99,"user_id":9095975,"display_name":"Gledi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73226805,"answer_count":1,"score":1,"last_activity_date":1659554868,"creation_date":1659551759,"question_id":73226245,"body_markdown":"I have a streaming job that I am running in Apache Flink.\r\n\r\nIt consists of the following operators:\r\n\r\n 1. Source Function (generates data)\r\n 2. Filter Function (filters out some data)\r\n 3. GroupBy and aggregate (groups data based on a key and then runs an aggregation function over them)\r\n 4. Another filter function\r\n 5. File Sink (saves output to file)\r\n\r\nHowever, when I sumbit the job I get the following graph.\r\n[![Query Graph - Flink UI][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYKy1.png\r\n\r\nAs you can see for example the 3rd and 4th steps are merged together.\r\nMy question is, since I want to measure the throughput and latency of each step, is there a way to split each operator on its own vertex? In this example: Have a node for the groupBy-Aggregation and another one for the filter function (endsWith). \r\n\r\nThanks in advance! :)","title":"How to have one operator per vertex in Apache Flink?","body":"<p>I have a streaming job that I am running in Apache Flink.</p>\n<p>It consists of the following operators:</p>\n<ol>\n<li>Source Function (generates data)</li>\n<li>Filter Function (filters out some data)</li>\n<li>GroupBy and aggregate (groups data based on a key and then runs an aggregation function over them)</li>\n<li>Another filter function</li>\n<li>File Sink (saves output to file)</li>\n</ol>\n<p>However, when I sumbit the job I get the following graph.\n<a href=\"https://i.stack.imgur.com/tYKy1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYKy1.png\" alt=\"Query Graph - Flink UI\" /></a></p>\n<p>As you can see for example the 3rd and 4th steps are merged together.\nMy question is, since I want to measure the throughput and latency of each step, is there a way to split each operator on its own vertex? In this example: Have a node for the groupBy-Aggregation and another one for the filter function (endsWith).</p>\n<p>Thanks in advance! :)</p>\n"},{"tags":["java","date","localdate","temporal"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659552664,"post_id":73226160,"comment_id":129324035,"body_markdown":"Edit your question and show the entire stack trace of the exception.  Then tell us which line the exception occurred at.","body":"Edit your question and show the entire stack trace of the exception.  Then tell us which line the exception occurred at."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659555839,"post_id":73226160,"comment_id":129325008,"body_markdown":"While the question is clear enough since the code presented cannot work correctly, I also cannot see how it could throw the exact exception you are mentioning. Probably you played around with versions of your code and ended up presenting one version of the code and the exception from a different version. A clear [mre] with the exact exception observed from the code presented would still be nice.","body":"While the question is clear enough since the code presented cannot work correctly, I also cannot see how it could throw the exact exception you are mentioning. Probably you played around with versions of your code and ended up presenting one version of the code and the exception from a different version. A clear <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the exact exception observed from the code presented would still be nice."}],"answers":[{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659552576,"creation_date":1659552576,"answer_id":73226388,"question_id":73226160,"body_markdown":"I think the best thing you can do is to see if you can get `LocalDate` for the code \r\n`Date lastServiced = service.getDateOfService();` which means returning `LocalDate` from method `service.getDateOfService();`\r\n\r\nSometimes it is probably not in your control.\r\nTherefore you can try the next best solution, which is to convert Util.Date to a LocalDate.\r\nYou can use the below code for that.\r\n\r\n    LocalDate lastServiceLocalDate = lastServiced.toInstant()\r\n                    .atZone(ZoneId.systemDefault())\r\n                    .toLocalDate();\r\n\r\nNow you have both `LocalDate` so you can use the below code to get days between\r\n\r\n    long daysBetween = DAYS.between(lastServiceLocalDate, today);\r\n\r\n\r\n","title":"ClassCastException: java.util.Date cannot be cast to java.time.temporal.Temporal","body":"<p>I think the best thing you can do is to see if you can get <code>LocalDate</code> for the code\n<code>Date lastServiced = service.getDateOfService();</code> which means returning <code>LocalDate</code> from method <code>service.getDateOfService();</code></p>\n<p>Sometimes it is probably not in your control.\nTherefore you can try the next best solution, which is to convert Util.Date to a LocalDate.\nYou can use the below code for that.</p>\n<pre><code>LocalDate lastServiceLocalDate = lastServiced.toInstant()\n                .atZone(ZoneId.systemDefault())\n                .toLocalDate();\n</code></pre>\n<p>Now you have both <code>LocalDate</code> so you can use the below code to get days between</p>\n<pre><code>long daysBetween = DAYS.between(lastServiceLocalDate, today);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10824992,"reputation":21,"user_id":7961149,"display_name":"Rony Emrul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659554523,"creation_date":1659553606,"answer_id":73226578,"question_id":73226160,"body_markdown":"The `Duration.between()` takes two `Temporal` objects and returns days between as a `long`. Unfortunately, `Date` is not a `Temporal` type object. \r\n\r\nTherefore, you need to convert `Date` into `LocalDate`. I think following code will work.\r\n\r\n```\r\nServiceJpaController serController = new ServiceJpaController(emf);\r\n    List&lt;Service&gt; serviceList = serController.findServiceEntities();\r\n    LocalDate today = LocalDate.now();\r\n    System.out.println(&quot;Today date: &quot;+ today); \r\n    for(Service service:serviceList){\r\n        Date lastServiced = service.getDateOfService();\r\n        System.out.println(&quot;Serviced date: &quot;+ lastServiced);\r\n        long daysBetween = \r\n                Duration.between(       \r\n                    lastServiced\r\n                        .toInstant()\r\n                        .atZone(ZoneId.systemDefault())\r\n                        .toLocalDate(), \r\n                    today\r\n                )\r\n                .toDays();\r\n        if(daysBetween &gt;= 90){\r\n            jTxtAreaServiceDate.append(service.toString());\r\n        }}\r\n```","title":"ClassCastException: java.util.Date cannot be cast to java.time.temporal.Temporal","body":"<p>The <code>Duration.between()</code> takes two <code>Temporal</code> objects and returns days between as a <code>long</code>. Unfortunately, <code>Date</code> is not a <code>Temporal</code> type object.</p>\n<p>Therefore, you need to convert <code>Date</code> into <code>LocalDate</code>. I think following code will work.</p>\n<pre><code>ServiceJpaController serController = new ServiceJpaController(emf);\n    List&lt;Service&gt; serviceList = serController.findServiceEntities();\n    LocalDate today = LocalDate.now();\n    System.out.println(&quot;Today date: &quot;+ today); \n    for(Service service:serviceList){\n        Date lastServiced = service.getDateOfService();\n        System.out.println(&quot;Serviced date: &quot;+ lastServiced);\n        long daysBetween = \n                Duration.between(       \n                    lastServiced\n                        .toInstant()\n                        .atZone(ZoneId.systemDefault())\n                        .toLocalDate(), \n                    today\n                )\n                .toDays();\n        if(daysBetween &gt;= 90){\n            jTxtAreaServiceDate.append(service.toString());\n        }}\n</code></pre>\n"}],"owner":{"account_id":12439751,"reputation":31,"user_id":9058554,"display_name":"Dan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1943,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73226388,"answer_count":2,"score":0,"last_activity_date":1659554523,"creation_date":1659551298,"question_id":73226160,"body_markdown":"I am trying to work out the number of days between two dates. I am getting an error when I run the code: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: java.util.Date cannot be cast to java.time.temporal.Temporal\r\n\r\nHere is my code:\r\n\r\n    ServiceJpaController serController = new ServiceJpaController(emf);\r\n        List&lt;Service&gt; serviceList = serController.findServiceEntities();\r\n        LocalDate today = LocalDate.now();\r\n        System.out.println(&quot;Today date: &quot;+ today); \r\n        for(Service service:serviceList){\r\n            Date lastServiced = service.getDateOfService();\r\n            System.out.println(&quot;Serviced date: &quot;+ lastServiced); \r\n            long daysBetween = Duration.between(lastServiced.toInstant(), today).toDays();\r\n            if(daysBetween &gt;= 90){\r\n                jTxtAreaServiceDate.append(service.toString());\r\n            }}\r\n\r\nThe print statements were added just to check if the variables contained the dates, which they do.\r\nThe output window showed:\r\n\r\n    Today date: 2022-08-03\r\n    \r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: java.util.Date cannot be cast to java.time.temporal.Temporal\r\n    \r\n    Serviced date: Sun May 08 00:00:00 BST 2022\r\n\r\nI&#39;ve had a look for a solution but so far have been unable to find anything. If anyone could explain what the error means and how I could go about solving my problem I would be most grateful.\r\n\r\n","title":"ClassCastException: java.util.Date cannot be cast to java.time.temporal.Temporal","body":"<p>I am trying to work out the number of days between two dates. I am getting an error when I run the code: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: java.util.Date cannot be cast to java.time.temporal.Temporal</p>\n<p>Here is my code:</p>\n<pre><code>ServiceJpaController serController = new ServiceJpaController(emf);\n    List&lt;Service&gt; serviceList = serController.findServiceEntities();\n    LocalDate today = LocalDate.now();\n    System.out.println(&quot;Today date: &quot;+ today); \n    for(Service service:serviceList){\n        Date lastServiced = service.getDateOfService();\n        System.out.println(&quot;Serviced date: &quot;+ lastServiced); \n        long daysBetween = Duration.between(lastServiced.toInstant(), today).toDays();\n        if(daysBetween &gt;= 90){\n            jTxtAreaServiceDate.append(service.toString());\n        }}\n</code></pre>\n<p>The print statements were added just to check if the variables contained the dates, which they do.\nThe output window showed:</p>\n<pre><code>Today date: 2022-08-03\n\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: java.util.Date cannot be cast to java.time.temporal.Temporal\n\nServiced date: Sun May 08 00:00:00 BST 2022\n</code></pre>\n<p>I've had a look for a solution but so far have been unable to find anything. If anyone could explain what the error means and how I could go about solving my problem I would be most grateful.</p>\n"},{"tags":["java","spring","spring-boot","spring-async"],"answers":[{"tags":[],"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659554134,"creation_date":1659554134,"answer_id":73226669,"question_id":73222608,"body_markdown":"`executorService.schedule` returns a `ScheduledFuture` which provides a `cancel` method to cancel its execution. `cancel` takes a single boolean parameter `mayInterruptIfRunning` which, when set to `false`, will only cancel the execution if the task has not started yet. See also [the docs][1].\r\n\r\nUsing this you could do something like this:\r\n```\r\nprivate ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n\r\nprivate ScheduledFuture&lt;?&gt; future;\r\n\r\npublic void sendDelayed(String info) {\r\n    // When there is a task that has not been started yet, stop it:\r\n    if (future != null) {\r\n        boolean cancelled = future.cancel(false);\r\n        if (cancelled) {\r\n            logger.debug(&quot;Task has been cancelled before execution&quot;);\r\n        } else {\r\n            logger.debug(&quot;Task is already running or has been completed&quot;);\r\n        }\r\n    }\r\n\r\n    // Old task has been cancelled or already started - schedule a new task\r\n    future = executorService.schedule(Classname::someTask, 60, TimeUnit.SECONDS);\r\n}\r\n```\r\n\r\nYou may have to take care of avoiding race conditions regarding concurrent access to the `future` field though.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#cancel(boolean)","title":"How to delay a scheduled task with Spring?","body":"<p><code>executorService.schedule</code> returns a <code>ScheduledFuture</code> which provides a <code>cancel</code> method to cancel its execution. <code>cancel</code> takes a single boolean parameter <code>mayInterruptIfRunning</code> which, when set to <code>false</code>, will only cancel the execution if the task has not started yet. See also <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#cancel(boolean)\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n<p>Using this you could do something like this:</p>\n<pre><code>private ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n\nprivate ScheduledFuture&lt;?&gt; future;\n\npublic void sendDelayed(String info) {\n    // When there is a task that has not been started yet, stop it:\n    if (future != null) {\n        boolean cancelled = future.cancel(false);\n        if (cancelled) {\n            logger.debug(&quot;Task has been cancelled before execution&quot;);\n        } else {\n            logger.debug(&quot;Task is already running or has been completed&quot;);\n        }\n    }\n\n    // Old task has been cancelled or already started - schedule a new task\n    future = executorService.schedule(Classname::someTask, 60, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>You may have to take care of avoiding race conditions regarding concurrent access to the <code>future</code> field though.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73226669,"answer_count":1,"score":1,"last_activity_date":1659554134,"creation_date":1659533375,"question_id":73222608,"body_markdown":"I&#39;d like to create a method that delays the execution on method invocation by 60s.\r\n\r\nProblem: if the method is called within that 60s, I want it to be delayed again by 60s from last point of invocation. If then not called within 60s, the execution may continue.\r\n\r\nI started as follows, but of course this is only a one-time delay:\r\n\r\n    public void sendDelayed(String info) {\r\n       //TODO create a task is delayed by +60s for each method invocation \r\n       ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n       executorService.schedule(Classname::someTask, 60, TimeUnit.SECONDS);\r\n    }\r\n\r\nHow could I further delay the execution on each invocation?","title":"How to delay a scheduled task with Spring?","body":"<p>I'd like to create a method that delays the execution on method invocation by 60s.</p>\n<p>Problem: if the method is called within that 60s, I want it to be delayed again by 60s from last point of invocation. If then not called within 60s, the execution may continue.</p>\n<p>I started as follows, but of course this is only a one-time delay:</p>\n<pre><code>public void sendDelayed(String info) {\n   //TODO create a task is delayed by +60s for each method invocation \n   ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n   executorService.schedule(Classname::someTask, 60, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>How could I further delay the execution on each invocation?</p>\n"},{"tags":["java","amazon-web-services","architecture","rmi","aws-auto-scaling"],"answers":[{"tags":[],"owner":{"account_id":2851782,"reputation":9016,"user_id":2448829,"display_name":"Rob Conklin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659554095,"creation_date":1659554095,"answer_id":73226662,"question_id":73202775,"body_markdown":"Get rid of your response thread altogether.  Have the client poll the cache for the full response statelessly so that you don&#39;t need state maintained in the middleware (tomcat).  Stick your responses in ElastiCache or Redis from the backend, and when they show up the client will find them.  \r\n\r\nIf you want to avoid the poll all the way from the client, you can do long-waits in the middleware, but still, make them stateless and have them poll the cache on a timer, but really you are just making another choke-point, you are better off fully stateless.","title":"Handling Java RMI in AWS ASG","body":"<p>Get rid of your response thread altogether.  Have the client poll the cache for the full response statelessly so that you don't need state maintained in the middleware (tomcat).  Stick your responses in ElastiCache or Redis from the backend, and when they show up the client will find them.</p>\n<p>If you want to avoid the poll all the way from the client, you can do long-waits in the middleware, but still, make them stateless and have them poll the cache on a timer, but really you are just making another choke-point, you are better off fully stateless.</p>\n"}],"owner":{"account_id":3251392,"reputation":2738,"user_id":2741526,"accept_rate":0,"display_name":"Dheerendra Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659554095,"creation_date":1659421005,"question_id":73202775,"body_markdown":"We have 2 services front end api service and a backend service. In order to get high tps we are using async calls. \r\n\r\n 1. End user http call lands on one of the tomcat servers in frontend\r\n 2. The frontend calls backend in Async with the context of the server ip and puts the request thread to sleep\r\n 3. Once backend finishes the job it makes a callback to frontend using rmi with the server ip it got in context\r\n4. In the callback the original http thread is invoked.\r\n5. The invoked http request thread consumes the prepared data from cache and completes the response.\r\n\r\nThis was fine till we were in physical DC as we used to not scale or de-scale. With AWS ASG the server ip might not exist by the time backend service tries to make a callback. Due to this the request at the user end needs to get retried.\r\n\r\nWe want to get out of RMI here and still remain async.\r\nWould like to get any solutions for this","title":"Handling Java RMI in AWS ASG","body":"<p>We have 2 services front end api service and a backend service. In order to get high tps we are using async calls.</p>\n<ol>\n<li>End user http call lands on one of the tomcat servers in frontend</li>\n<li>The frontend calls backend in Async with the context of the server ip and puts the request thread to sleep</li>\n<li>Once backend finishes the job it makes a callback to frontend using rmi with the server ip it got in context</li>\n<li>In the callback the original http thread is invoked.</li>\n<li>The invoked http request thread consumes the prepared data from cache and completes the response.</li>\n</ol>\n<p>This was fine till we were in physical DC as we used to not scale or de-scale. With AWS ASG the server ip might not exist by the time backend service tries to make a callback. Due to this the request at the user end needs to get retried.</p>\n<p>We want to get out of RMI here and still remain async.\nWould like to get any solutions for this</p>\n"},{"tags":["java","intellij-idea","code-coverage","jacoco"],"answers":[{"tags":[],"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1492633056,"creation_date":1492633056,"answer_id":43505318,"question_id":43500774,"body_markdown":"Have you looked at this document\r\n: https://www.jetbrains.com/help/idea/2017.1/code-coverage.html\r\n\r\nThey describe how to do such a task.","title":"JaCoCo with IntelliJ","body":"<p>Have you looked at this document\n: <a href=\"https://www.jetbrains.com/help/idea/2017.1/code-coverage.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2017.1/code-coverage.html</a></p>\n\n<p>They describe how to do such a task.</p>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1501744707,"creation_date":1501744707,"answer_id":45477394,"question_id":43500774,"body_markdown":"You don&#39;t need to do anything, if you have a recent version of IntelliJ.\r\nJust select to use JaCoCo as the coverage tool in the run configuration for your test suite or project and it will use its built-in JaCoCo version.","title":"JaCoCo with IntelliJ","body":"<p>You don't need to do anything, if you have a recent version of IntelliJ.\nJust select to use JaCoCo as the coverage tool in the run configuration for your test suite or project and it will use its built-in JaCoCo version.</p>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582438933,"creation_date":1562851156,"answer_id":56990191,"question_id":43500774,"body_markdown":"Intellij shows code coverage in the IDE. There is no need to install any extra plugins\r\n\r\n\r\nwhen you right click on a Test.java file to run the unit test then there will be 3 options\r\n\r\n    Run &quot;Test&quot;\r\n    Debug &quot;Test&quot;\r\n    Run &quot;Test&quot; with **coverage**\r\n\r\nSecondly, if you also want the branch coverage details then,\r\n\r\nafter running the test(as mentioned above) once, then then go to `edit configuration -&gt; at left side under Junit select the respective Test.java file -&gt; select Code Coverage tab in the main window -&gt; select Tracing radio button and tick the Track per test coverage checkbox`","title":"JaCoCo with IntelliJ","body":"<p>Intellij shows code coverage in the IDE. There is no need to install any extra plugins</p>\n\n<p>when you right click on a Test.java file to run the unit test then there will be 3 options</p>\n\n<pre><code>Run \"Test\"\nDebug \"Test\"\nRun \"Test\" with **coverage**\n</code></pre>\n\n<p>Secondly, if you also want the branch coverage details then,</p>\n\n<p>after running the test(as mentioned above) once, then then go to <code>edit configuration -&gt; at left side under Junit select the respective Test.java file -&gt; select Code Coverage tab in the main window -&gt; select Tracing radio button and tick the Track per test coverage checkbox</code></p>\n"},{"tags":[],"owner":{"account_id":2368273,"reputation":516,"user_id":2073526,"display_name":"Stevers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584834914,"creation_date":1584834914,"answer_id":60794555,"question_id":43500774,"body_markdown":"1. You have to open your Run Configuration\r\n\r\n     1A. (top right by default) `Tests in &lt;project package&gt;`\r\n\r\n     1B. If you can&#39;t find it, you can go to the `Run` menu at the top, then click the `Run &gt; ...` option.  This will show you your configurations.\r\n\r\n2. click `Edit Configurations`. Find your `Tests in &lt;project package&gt;` configuration.\r\n\r\n3. Find Second tab from the left is `Code Coverage`. Choose Coverage Runner: `Jacoco`.\r\n\r\n4. `Apply`. `OK`. \r\n\r\n5. Run tests again :).\r\n\r\n","title":"JaCoCo with IntelliJ","body":"<ol>\n<li><p>You have to open your Run Configuration</p>\n\n<p>1A. (top right by default) <code>Tests in &lt;project package&gt;</code></p>\n\n<p>1B. If you can't find it, you can go to the <code>Run</code> menu at the top, then click the <code>Run &gt; ...</code> option.  This will show you your configurations.</p></li>\n<li><p>click <code>Edit Configurations</code>. Find your <code>Tests in &lt;project package&gt;</code> configuration.</p></li>\n<li><p>Find Second tab from the left is <code>Code Coverage</code>. Choose Coverage Runner: <code>Jacoco</code>.</p></li>\n<li><p><code>Apply</code>. <code>OK</code>. </p></li>\n<li><p>Run tests again :).</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4385157,"reputation":849,"user_id":3575560,"display_name":"solimant"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1588319147,"creation_date":1588319147,"answer_id":61538644,"question_id":43500774,"body_markdown":"To elaborate on [jwenting][0]&#39;s answer, go to **Run** &gt; **Edit Configurations...**, and on the **Code Coverage** tab of your _Run Configuration_, select **JaCoCo** from the **Choose coverage runner** dropdown.\r\n\r\n[![Run Configuration Screenshot][1]][1]\r\n\r\n[0]: https://stackoverflow.com/users/279236/jwenting\r\n[1]: https://i.stack.imgur.com/a83jH.png","title":"JaCoCo with IntelliJ","body":"<p>To elaborate on <a href=\"https://stackoverflow.com/users/279236/jwenting\">jwenting</a>'s answer, go to <strong>Run</strong> > <strong>Edit Configurations...</strong>, and on the <strong>Code Coverage</strong> tab of your <em>Run Configuration</em>, select <strong>JaCoCo</strong> from the <strong>Choose coverage runner</strong> dropdown.</p>\n\n<p><a href=\"https://i.stack.imgur.com/a83jH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/a83jH.png\" alt=\"Run Configuration Screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":10160189,"reputation":301,"user_id":9761598,"display_name":"Ron HD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637181865,"creation_date":1637181865,"answer_id":70011303,"question_id":43500774,"body_markdown":"With IntelliJ 2021.2.1 (and possibly prior to that), Jetbrains switched the default to a bundled code coverage runner they provide. But it does not provide branch coverage, as JaCoCo does. JaCoCo is not listed in Plugins, but it was available as an alternative for me (perhaps because it&#39;s in the Maven POM).\r\n\r\nThe solution above using Run -&gt; Edit Configurations will change a single run configuration (e.g. for a single JUnit test class). To change it for all new ones, after going to Run -&gt; Edit Configurations, click **Edit Configuration Templates** on the lower left, and change the coverage runner there.","title":"JaCoCo with IntelliJ","body":"<p>With IntelliJ 2021.2.1 (and possibly prior to that), Jetbrains switched the default to a bundled code coverage runner they provide. But it does not provide branch coverage, as JaCoCo does. JaCoCo is not listed in Plugins, but it was available as an alternative for me (perhaps because it's in the Maven POM).</p>\n<p>The solution above using Run -&gt; Edit Configurations will change a single run configuration (e.g. for a single JUnit test class). To change it for all new ones, after going to Run -&gt; Edit Configurations, click <strong>Edit Configuration Templates</strong> on the lower left, and change the coverage runner there.</p>\n"},{"tags":[],"owner":{"account_id":19358745,"reputation":386,"user_id":14898689,"display_name":"henry sneed"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1659553954,"creation_date":1650297426,"answer_id":71914106,"question_id":43500774,"body_markdown":"Thank you to all of the preceding answers. The following may be helpful for anyone using later versions of Intellij:\r\n\r\n## Community 2022.1 &amp; Community 2022.2\r\n\r\n**Run** â **Edit Configurations** â **Modify Options** â **Specify alternate coverage runner**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B2PHR.png\r\n  [2]: https://i.stack.imgur.com/OZUri.png\r\n  [3]: https://i.stack.imgur.com/Idus1.png\r\n\r\nand finally **Apply** â **OK**","title":"JaCoCo with IntelliJ","body":"<p>Thank you to all of the preceding answers. The following may be helpful for anyone using later versions of Intellij:</p>\n<h2>Community 2022.1 &amp; Community 2022.2</h2>\n<p><strong>Run</strong> â <strong>Edit Configurations</strong> â <strong>Modify Options</strong> â <strong>Specify alternate coverage runner</strong></p>\n<p><a href=\"https://i.stack.imgur.com/B2PHR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/B2PHR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OZUri.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OZUri.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Idus1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Idus1.png\" alt=\"enter image description here\" /></a></p>\n<p>and finally <strong>Apply</strong> â <strong>OK</strong></p>\n"},{"tags":[],"owner":{"account_id":18188316,"reputation":11,"user_id":13234587,"display_name":"David Mu&#241;oz Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652270334,"creation_date":1652270334,"answer_id":72200681,"question_id":43500774,"body_markdown":"To apply JaCoCo to all future coverage runs, you can modify the Junit template and next coverage runs use this coverage.\r\n\r\n1. Go to `Run/Debug Configurations`\r\n2. Click `Edit Configuration templates...`\r\n3. In `Build and run`, click `Modify Options` and select `Code Coverage/Specific alternative coverage runner`\r\n4. A new `Code Coverage` appear. Select `JaCoCo`\r\n5. Click `OK` or `Apply` button","title":"JaCoCo with IntelliJ","body":"<p>To apply JaCoCo to all future coverage runs, you can modify the Junit template and next coverage runs use this coverage.</p>\n<ol>\n<li>Go to <code>Run/Debug Configurations</code></li>\n<li>Click <code>Edit Configuration templates...</code></li>\n<li>In <code>Build and run</code>, click <code>Modify Options</code> and select <code>Code Coverage/Specific alternative coverage runner</code></li>\n<li>A new <code>Code Coverage</code> appear. Select <code>JaCoCo</code></li>\n<li>Click <code>OK</code> or <code>Apply</code> button</li>\n</ol>\n"}],"owner":{"account_id":1816320,"reputation":427,"user_id":1651332,"accept_rate":50,"display_name":"Ixbitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64031,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":8,"score":27,"last_activity_date":1659553954,"creation_date":1492617829,"question_id":43500774,"body_markdown":"So this question might not be really specific, but i&#39;m asking it anyway.\r\n\r\nI&#39;m trying to use JaCoCo with IntelliJ to gather coverage reports on unit tests. However, i don&#39;t have any experience whatsoever to set this up. \r\n\r\nIn Netbeans you just have to install the JaCoCo plugin and select to test with coverage. How does this work in IntelliJ?\r\n\r\nI have googeled for quite a while without success. If someone has a good tutorial to set this up, i&#39;d really appreciate it!\r\n","title":"JaCoCo with IntelliJ","body":"<p>So this question might not be really specific, but i'm asking it anyway.</p>\n\n<p>I'm trying to use JaCoCo with IntelliJ to gather coverage reports on unit tests. However, i don't have any experience whatsoever to set this up. </p>\n\n<p>In Netbeans you just have to install the JaCoCo plugin and select to test with coverage. How does this work in IntelliJ?</p>\n\n<p>I have googeled for quite a while without success. If someone has a good tutorial to set this up, i'd really appreciate it!</p>\n"},{"tags":["java","spring-boot","jms","amazon-sqs","spring-jms"],"comments":[{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1659516386,"post_id":73218491,"comment_id":129311013,"body_markdown":"Maybe https://stackoverflow.com/questions/72222616/high-cpu-usage-from-the-spring-defaultmessagelistenercontainer-thread\nor https://stackoverflow.com/questions/63604061/spring-message-listener-connection-refresh\nhelp you","body":"Maybe <a href=\"https://stackoverflow.com/questions/72222616/high-cpu-usage-from-the-spring-defaultmessagelistenercontainer-thread\" title=\"high cpu usage from the spring defaultmessagelistenercontainer thread\">stackoverflow.com/questions/72222616/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/63604061/spring-message-listener-connection-refresh\" title=\"spring message listener connection refresh\">stackoverflow.com/questions/63604061/&hellip;</a> help you"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1659552870,"post_id":73218491,"comment_id":129324102,"body_markdown":"Why *wouldn&#39;t* the CPU spike when messages are being dispatched and consumed quickly? That work isn&#39;t free.","body":"Why <i>wouldn&#39;t</i> the CPU spike when messages are being dispatched and consumed quickly? That work isn&#39;t free."},{"owner":{"account_id":25965197,"reputation":1,"user_id":19681222,"display_name":"Mickael Barbin"},"score":0,"creation_date":1659597773,"post_id":73218491,"comment_id":129333425,"body_markdown":"@JustinBertram doesn&#39;t seems logical to me, I have the same number of concurrent listener in both case. The queue is unstacked fastly because the listener use less time to compute each message when our business process is KO","body":"@JustinBertram doesn&#39;t seems logical to me, I have the same number of concurrent listener in both case. The queue is unstacked fastly because the listener use less time to compute each message when our business process is KO"},{"owner":{"account_id":25965197,"reputation":1,"user_id":19681222,"display_name":"Mickael Barbin"},"score":0,"creation_date":1659598139,"post_id":73218491,"comment_id":129333546,"body_markdown":"@FaramarzAfzali thanks for the links, I already tried to update some of the given properties  with no luck so far.\nI will retest it later on just to be sure","body":"@FaramarzAfzali thanks for the links, I already tried to update some of the given properties  with no luck so far. I will retest it later on just to be sure"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1659628579,"post_id":73218491,"comment_id":129345154,"body_markdown":"It seems plausible to me that the SQS client and any pre-delivery message processing tasks used by your Spring `@JmsListener` are taking up additional CPU time as the consumption rate increases. As noted previously, that work isn&#39;t free. You should gather thread-dumps from your application when the CPU spikes to see what the application is actually doing during that time.","body":"It seems plausible to me that the SQS client and any pre-delivery message processing tasks used by your Spring <code>@JmsListener</code> are taking up additional CPU time as the consumption rate increases. As noted previously, that work isn&#39;t free. You should gather thread-dumps from your application when the CPU spikes to see what the application is actually doing during that time."},{"owner":{"account_id":25965197,"reputation":1,"user_id":19681222,"display_name":"Mickael Barbin"},"score":0,"creation_date":1660034567,"post_id":73218491,"comment_id":129431264,"body_markdown":"@JustinBertram yes it&#39;s seems to be exactly that. \nWe solved it by adding a rateLimiter into the JMSListener in order to limit the consumption rate when our service B goes down.","body":"@JustinBertram yes it&#39;s seems to be exactly that.  We solved it by adding a rateLimiter into the JMSListener in order to limit the consumption rate when our service B goes down."}],"owner":{"account_id":25965197,"reputation":1,"user_id":19681222,"display_name":"Mickael Barbin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659553373,"creation_date":1659514969,"question_id":73218491,"body_markdown":"We have the following use case:\r\n\r\n- System process feeds an SQS queue with a large number of message (about 140 000)\r\n- Java Spring Boot micro-service `A` handles messages from SQS queue\r\n- Micro-service `A` calls micro-service `B` on each message and then does business processes\r\n\r\nWhen everything works fine each message is processed in about 1000ms, but when micro-service `B` is down the message is processed in about 10ms because we have no other processes to do. When that happens micro-service `A` unstack the queue very quickly, but the CPU usage of the EC2 instance spike to 100%.\r\n\r\nTo test it we have run our process, shutdown the micro-service `B` during about 30min and then restart micro-service `B`. We took screenshots of CPU usage, response time, and throughput during this test.\r\n\r\nWe have set up the concurrent number of message processed to 4 in the `DefaultJmsListenerContainerFactory` and use the Spring Boot `@JmsListener` annotation to handle SQS messages.\r\n\r\nMessages are mapped through a jackson message converter.\r\n\r\nI attached below some images helping understand our issue and the use case.\r\n\r\n - A NewRelic screenshot showing elapsed time and throughput of the listener:\r\n[![][1]][1]\r\n - an AWS screenshot of the CPU usage on the EC2 instance:\r\n[![][2]][2]\r\n - an SQS screenshot of the number of message in the queue (to show it&#39;s unstacking quickly):\r\n[![][3]][3]\r\n - a diagram to explain the test and use case:\r\n[![][4]][4]\r\n\r\nAny idea why the CPU spike to 100% when message are handled very quickly? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RSSfN.png\r\n  [2]: https://i.stack.imgur.com/E8sFd.png\r\n  [3]: https://i.stack.imgur.com/Of2tv.png\r\n  [4]: https://i.stack.imgur.com/Ky00x.png","title":"Spring Boot listener high CPU consumption on high throughput","body":"<p>We have the following use case:</p>\n<ul>\n<li>System process feeds an SQS queue with a large number of message (about 140 000)</li>\n<li>Java Spring Boot micro-service <code>A</code> handles messages from SQS queue</li>\n<li>Micro-service <code>A</code> calls micro-service <code>B</code> on each message and then does business processes</li>\n</ul>\n<p>When everything works fine each message is processed in about 1000ms, but when micro-service <code>B</code> is down the message is processed in about 10ms because we have no other processes to do. When that happens micro-service <code>A</code> unstack the queue very quickly, but the CPU usage of the EC2 instance spike to 100%.</p>\n<p>To test it we have run our process, shutdown the micro-service <code>B</code> during about 30min and then restart micro-service <code>B</code>. We took screenshots of CPU usage, response time, and throughput during this test.</p>\n<p>We have set up the concurrent number of message processed to 4 in the <code>DefaultJmsListenerContainerFactory</code> and use the Spring Boot <code>@JmsListener</code> annotation to handle SQS messages.</p>\n<p>Messages are mapped through a jackson message converter.</p>\n<p>I attached below some images helping understand our issue and the use case.</p>\n<ul>\n<li>A NewRelic screenshot showing elapsed time and throughput of the listener:\n<a href=\"https://i.stack.imgur.com/RSSfN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RSSfN.png\" alt=\"\" /></a></li>\n<li>an AWS screenshot of the CPU usage on the EC2 instance:\n<a href=\"https://i.stack.imgur.com/E8sFd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E8sFd.png\" alt=\"\" /></a></li>\n<li>an SQS screenshot of the number of message in the queue (to show it's unstacking quickly):\n<a href=\"https://i.stack.imgur.com/Of2tv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Of2tv.png\" alt=\"\" /></a></li>\n<li>a diagram to explain the test and use case:\n<a href=\"https://i.stack.imgur.com/Ky00x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ky00x.png\" alt=\"\" /></a></li>\n</ul>\n<p>Any idea why the CPU spike to 100% when message are handled very quickly?</p>\n"},{"tags":["java","spring","configuration","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1659477339,"post_id":73214153,"comment_id":129303376,"body_markdown":"spring.config.import and bootstrap are mutually exclusive. Pick one or the other","body":"spring.config.import and bootstrap are mutually exclusive. Pick one or the other"},{"owner":{"account_id":24010991,"reputation":1,"user_id":17994585,"display_name":"DaveySC"},"score":0,"creation_date":1659479269,"post_id":73214153,"comment_id":129303835,"body_markdown":"@spencergibb I&#39;ve used this configuration: spring.cloud.config.uri: http://configserver:8071 instead spring.config.import but it still doesn&#39;t work","body":"@spencergibb I&#39;ve used this configuration: spring.cloud.config.uri: <a href=\"http://configserver:8071\" rel=\"nofollow noreferrer\">configserver:8071</a> instead spring.config.import but it still doesn&#39;t work"}],"owner":{"account_id":24010991,"reputation":1,"user_id":17994585,"display_name":"DaveySC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659552987,"creation_date":1659477024,"question_id":73214153,"body_markdown":"I&#39;m creating a configuration server using spring cloud and when I&#39;m trying to get my configuration info from git using `http://localhost:8071/licensing-service/dev` it works perfectly.\r\n\r\nBut when I specify the active profile `dev` in my configuration-client application \r\nit sends request on `http://localhost:8071/licensing-service/default` where as it should be sending request on `http://localhost:8071/licensing-service/dev`.\r\n\r\nHere is the debug info from configuration-client:\r\n\r\n    2022-08-03 01:44:11.999  INFO 11828 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at : http://localhost:8071\r\n        2022-08-03 01:44:12.000 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8071/licensing-service/default\r\n        2022-08-03 01:44:12.003 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\r\n        2022-08-03 01:44:12.677 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : Response 200 OK\r\n        2022-08-03 01:44:12.678 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.config.environment.Environment]\r\n        2022-08-03 01:44:12.679  INFO 11828 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=licensing-service, profiles=[default], label=null, version=a846a28be97b432d11b0ec2a9476fa3c933ac5fc, state=null\r\n        2022-08-03 01:44:12.680  INFO 11828 --- [           main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name=&#39;bootstrapProperties-configClient&#39;}, BootstrapPropertySource {name=&#39;bootstrapProperties-https://github.com/DaveySC/config.git/file:C:\\Users\\hrisa\\AppData\\Local\\Temp\\config-repo-12695370095836324476\\licensing-service.yaml&#39;}]\r\n        2022-08-03 01:44:12.687  INFO 11828 --- [           main] c.e.l.LicensingServiceApplication        : The following 1 profile is active: &quot;dev&quot;\r\n        2022-08-03 01:44:12.687 DEBUG 11828 --- [           main] o.s.boot.SpringApplication               : Loading source class com.example.licensingsevice.LicensingServiceApplication,class org.springframework.cloud.bootstrap.BootstrapApplicationListener$BootstrapMarkerConfiguration\r\n        2022-08-03 01:44:12.708  INFO 11828 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8071\r\n        2022-08-03 01:44:12.708  INFO 11828 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=licensing-service, profiles=[dev], label=null, version=a846a28be97b432d11b0ec2a9476fa3c933ac5fc, state=null\r\n        2022-08-03 01:44:12.709 DEBUG 11828 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50d3bf39\r\n        2022-08-03 01:44:13.482  INFO 11828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n        2022-08-03 01:44:13.495 DEBUG 11828 --- [           main] o.s.b.a.AutoConfigurationPackages        : @EnableAutoConfiguration was declared on a class in the package &#39;com.example.licensingsevice&#39;. Automatic @Repository and @Entity scanning is enabled.\r\n        2022-08-03 01:44:13.538  INFO 11828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 1 JPA repository interfaces.\r\n        2022-08-03 01:44:13.750  INFO 11828 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ed5de582-c803-356a-a378-fc5af6eb571e\r\n        2022-08-03 01:44:14.113 DEBUG 11828 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\hrisa\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.2\\spring-boot-2.7.2.jar\r\n        2022-08-03 01:44:14.113 DEBUG 11828 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\hrisa\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.2\\spring-boot-2.7.2.jar\r\n        2022-08-03 01:44:14.113 DEBUG 11828 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.\r\n        2022-08-03 01:44:14.133  INFO 11828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n        2022-08-03 01:44:14.141  INFO 11828 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n        2022-08-03 01:44:14.142  INFO 11828 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n        2022-08-03 01:44:14.295  INFO 11828 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n        2022-08-03 01:44:14.295 DEBUG 11828 --- [           main] w.s.c.ServletWebServerApplicationContext : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]\r\n        2022-08-03 01:44:14.295  INFO 11828 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1586 ms\r\n        2022-08-03 01:44:14.390 ERROR 11828 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;webMvcMetricsFilter&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;simpleMeterRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourcePoolMetadataMeterBinder&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourcePoolMetadataMeterBinder&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n        2022-08-03 01:44:14.410  INFO 11828 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n        2022-08-03 01:44:14.419  WARN 11828 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n        2022-08-03 01:44:14.443 DEBUG 11828 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is the main class of this server, pom and bootstrap.yml\r\n\r\n    package com.example.configurationserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.config.server.EnableConfigServer;\r\n    import org.springframework.cloud.context.config.annotation.RefreshScope;\r\n    \r\n    \r\n        @SpringBootApplication\r\n        @EnableConfigServer\r\n        @RefreshScope\r\n        public class ConfigurationServerApplication {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(ConfigurationServerApplication.class, args);\r\n        \t}\r\n        \r\n        }\r\n\r\n pom.xml\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;configuration-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;configuration-server&lt;/name&gt;\r\n    \t&lt;description&gt;configuration-server&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nbootstrap.yml\r\n\r\n    spring:\r\n      application:\r\n        name: configuration-server\r\n      profiles:\r\n        active: git\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              default-label: main\r\n              uri: https://github.com/DaveySC/config.git\r\n      boot:\r\n        admin:\r\n          client:\r\n            url: http://localhost:8080\r\n    \r\n    server:\r\n      port: 8071\r\n    \r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &quot;*&quot;\r\nHere are the client files: &lt;br&gt;\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;licensing-service&lt;/name&gt;\r\n        &lt;description&gt;licensing-sevice&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\nbootstrap.yml\r\n\r\n    spring:\r\n      application:\r\n        name: licensing-service\r\n      config:\r\n        import: optional:configserver:http://localhost:8071\r\n      profiles:\r\n        active: dev\r\n    debug: true\r\n\r\nAnd here is the exception i get:\r\n\r\n    description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles dev are currently active).\r\n\r\n\r\nWhat should i do to make my app send request on the url that depends on the active profile client app?","title":"The spring configuration client ignores active profile when sending request to configuration service","body":"<p>I'm creating a configuration server using spring cloud and when I'm trying to get my configuration info from git using <code>http://localhost:8071/licensing-service/dev</code> it works perfectly.</p>\n<p>But when I specify the active profile <code>dev</code> in my configuration-client application\nit sends request on <code>http://localhost:8071/licensing-service/default</code> where as it should be sending request on <code>http://localhost:8071/licensing-service/dev</code>.</p>\n<p>Here is the debug info from configuration-client:</p>\n<pre><code>2022-08-03 01:44:11.999  INFO 11828 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at : http://localhost:8071\n    2022-08-03 01:44:12.000 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8071/licensing-service/default\n    2022-08-03 01:44:12.003 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\n    2022-08-03 01:44:12.677 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : Response 200 OK\n    2022-08-03 01:44:12.678 DEBUG 11828 --- [           main] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.config.environment.Environment]\n    2022-08-03 01:44:12.679  INFO 11828 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=licensing-service, profiles=[default], label=null, version=a846a28be97b432d11b0ec2a9476fa3c933ac5fc, state=null\n    2022-08-03 01:44:12.680  INFO 11828 --- [           main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/DaveySC/config.git/file:C:\\Users\\hrisa\\AppData\\Local\\Temp\\config-repo-12695370095836324476\\licensing-service.yaml'}]\n    2022-08-03 01:44:12.687  INFO 11828 --- [           main] c.e.l.LicensingServiceApplication        : The following 1 profile is active: &quot;dev&quot;\n    2022-08-03 01:44:12.687 DEBUG 11828 --- [           main] o.s.boot.SpringApplication               : Loading source class com.example.licensingsevice.LicensingServiceApplication,class org.springframework.cloud.bootstrap.BootstrapApplicationListener$BootstrapMarkerConfiguration\n    2022-08-03 01:44:12.708  INFO 11828 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8071\n    2022-08-03 01:44:12.708  INFO 11828 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=licensing-service, profiles=[dev], label=null, version=a846a28be97b432d11b0ec2a9476fa3c933ac5fc, state=null\n    2022-08-03 01:44:12.709 DEBUG 11828 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@50d3bf39\n    2022-08-03 01:44:13.482  INFO 11828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n    2022-08-03 01:44:13.495 DEBUG 11828 --- [           main] o.s.b.a.AutoConfigurationPackages        : @EnableAutoConfiguration was declared on a class in the package 'com.example.licensingsevice'. Automatic @Repository and @Entity scanning is enabled.\n    2022-08-03 01:44:13.538  INFO 11828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 1 JPA repository interfaces.\n    2022-08-03 01:44:13.750  INFO 11828 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=ed5de582-c803-356a-a378-fc5af6eb571e\n    2022-08-03 01:44:14.113 DEBUG 11828 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\hrisa\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.2\\spring-boot-2.7.2.jar\n    2022-08-03 01:44:14.113 DEBUG 11828 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : Code archive: C:\\Users\\hrisa\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.2\\spring-boot-2.7.2.jar\n    2022-08-03 01:44:14.113 DEBUG 11828 --- [           main] .s.b.w.e.t.TomcatServletWebServerFactory : None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.\n    2022-08-03 01:44:14.133  INFO 11828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n    2022-08-03 01:44:14.141  INFO 11828 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n    2022-08-03 01:44:14.142  INFO 11828 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n    2022-08-03 01:44:14.295  INFO 11828 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2022-08-03 01:44:14.295 DEBUG 11828 --- [           main] w.s.c.ServletWebServerApplicationContext : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]\n    2022-08-03 01:44:14.295  INFO 11828 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1586 ms\n    2022-08-03 01:44:14.390 ERROR 11828 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcePoolMetadataMeterBinder' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourcePoolMetadataMeterBinder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    2022-08-03 01:44:14.410  INFO 11828 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n    2022-08-03 01:44:14.419  WARN 11828 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    2022-08-03 01:44:14.443 DEBUG 11828 --- [           main] ConditionEvaluationReportLoggingListener : \n</code></pre>\n<p>Here is the main class of this server, pom and bootstrap.yml</p>\n<pre><code>package com.example.configurationserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.config.server.EnableConfigServer;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\n\n\n    @SpringBootApplication\n    @EnableConfigServer\n    @RefreshScope\n    public class ConfigurationServerApplication {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(ConfigurationServerApplication.class, args);\n        }\n    \n    }\n</code></pre>\n<p>pom.xml</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;configuration-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;configuration-server&lt;/name&gt;\n    &lt;description&gt;configuration-server&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>bootstrap.yml</p>\n<pre><code>spring:\n  application:\n    name: configuration-server\n  profiles:\n    active: git\n  cloud:\n    config:\n      server:\n        git:\n          default-label: main\n          uri: https://github.com/DaveySC/config.git\n  boot:\n    admin:\n      client:\n        url: http://localhost:8080\n\nserver:\n  port: 8071\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n</code></pre>\n<p>Here are the client files: <br>\npom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;licensing-service&lt;/name&gt;\n    &lt;description&gt;licensing-sevice&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>bootstrap.yml</p>\n<pre><code>spring:\n  application:\n    name: licensing-service\n  config:\n    import: optional:configserver:http://localhost:8071\n  profiles:\n    active: dev\ndebug: true\n</code></pre>\n<p>And here is the exception i get:</p>\n<pre><code>description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (the profiles dev are currently active).\n</code></pre>\n<p>What should i do to make my app send request on the url that depends on the active profile client app?</p>\n"},{"tags":["java","multithreading","audio","udp","voip"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659358807,"post_id":73192524,"comment_id":129268858,"body_markdown":"Declare `l` as a double instead of a long.  `l / audioData.length` is integer math, because both sides are exact values (as opposed to floating-point values).  Although you are assigning the result of that operation to a double, the operation itself truncates its result before the assignment is made.","body":"Declare <code>l</code> as a double instead of a long.  <code>l &#47; audioData.length</code> is integer math, because both sides are exact values (as opposed to floating-point values).  Although you are assigning the result of that operation to a double, the operation itself truncates its result before the assignment is made."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1659370514,"post_id":73192524,"comment_id":129273412,"body_markdown":"VGR&#39;s suggestion is valid, but if it does not solve your problem, try this: `if(voiceLevel &gt;= this.voiceActivationLevel) this.sender.sendData(this.sample); else this.sender.sendData(EMPTY);` Of course I am not suggesting that you transmit empty packets, but if it does solve the problem, then you know where to look for a fix.","body":"VGR&#39;s suggestion is valid, but if it does not solve your problem, try this: <code>if(voiceLevel &gt;= this.voiceActivationLevel) this.sender.sendData(this.sample); else this.sender.sendData(EMPTY);</code> Of course I am not suggesting that you transmit empty packets, but if it does solve the problem, then you know where to look for a fix."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1659370651,"post_id":73192524,"comment_id":129273458,"body_markdown":"Also, your volume level checking function looks very expensive. Have you tried invoking the function but then sending the data regardless of the outcome of the function? If the problem persists, then you know that it is the poor performance of that function which is causing the problem.","body":"Also, your volume level checking function looks very expensive. Have you tried invoking the function but then sending the data regardless of the outcome of the function? If the problem persists, then you know that it is the poor performance of that function which is causing the problem."},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1659418233,"post_id":73192524,"comment_id":129283487,"body_markdown":"You have multithreading here - as you correctly indicated - so anything can  garble  your data. You don&#39;t have a single actor and without the data locked it&#39;s up for grabs! If you want to store your data  at your own storage and then send it be my guest. And plus TargetLine does not guarantee anything READ the Docs.","body":"You have multithreading here - as you correctly indicated - so anything can  garble  your data. You don&#39;t have a single actor and without the data locked it&#39;s up for grabs! If you want to store your data  at your own storage and then send it be my guest. And plus TargetLine does not guarantee anything READ the Docs."},{"owner":{"account_id":25859279,"reputation":9,"user_id":19591985,"display_name":"Boltus"},"score":0,"creation_date":1659459004,"post_id":73192524,"comment_id":129298045,"body_markdown":"Thank you all for the advice so far.\nUnfortunately, VGR and Nakis&#39; approaches did not solve the problem\nAccording to gpasch, I checked the docs for java sound api more.\nAnd here seems the problem: https://docs.oracle.com/javase/10/troubleshoot/java-sound.htm#JSTGD490\n\nI thin overrun and underrun conditions are involved in this. As soon as the speakers Dataline is not receiving anymore data, some kind of over- or underrun happens, corrupting the data as described in the article. So I need to find a solution for that.","body":"Thank you all for the advice so far. Unfortunately, VGR and Nakis&#39; approaches did not solve the problem According to gpasch, I checked the docs for java sound api more. And here seems the problem: <a href=\"https://docs.oracle.com/javase/10/troubleshoot/java-sound.htm#JSTGD490\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/troubleshoot/java-sound.htm#JSTGD4&zwnj;&#8203;90</a>  I thin overrun and underrun conditions are involved in this. As soon as the speakers Dataline is not receiving anymore data, some kind of over- or underrun happens, corrupting the data as described in the article. So I need to find a solution for that."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659552578,"creation_date":1659477455,"answer_id":73214217,"question_id":73192524,"body_markdown":"I would consider buffering the volume-checking. For example, I wrote a line that takes input from a live microphone&#39;s `TargetDataLine`, converts to PCM and passes the data on to an input track of an audio mixing tool. The key to getting this to work in my situation was providing an intermediate, concurrent-safe FIFO queue. I used a `ConcurrentLinkedQueue&lt;Float[]&gt;` with the float[] arrays holding signed, normalized float &quot;packets&quot; of PCM.\r\n\r\nA more experienced coder than myself used to continuously harp on the following general principle in working with audio: avoid locks. I haven&#39;t read through the code you provided thoroughly enough to know if this is arising in your case, but seeing the keyword `synchronized` in the `playSound` method reminds me of his advice.\r\n\r\nThe only blocking when working with audio, I think, should be that which is built into the blocking queues employed by `TargetDataLine` or `SourceDataLine` read and write methods. I blindly pass on this advice and encourage you to inspect your code for blocking and find alternatives in any situation in your code where a block might occur.","title":"Java Sound transmission over UDP - Sound errors when implementing input level checking method","body":"<p>I would consider buffering the volume-checking. For example, I wrote a line that takes input from a live microphone's <code>TargetDataLine</code>, converts to PCM and passes the data on to an input track of an audio mixing tool. The key to getting this to work in my situation was providing an intermediate, concurrent-safe FIFO queue. I used a <code>ConcurrentLinkedQueue&lt;Float[]&gt;</code> with the float[] arrays holding signed, normalized float &quot;packets&quot; of PCM.</p>\n<p>A more experienced coder than myself used to continuously harp on the following general principle in working with audio: avoid locks. I haven't read through the code you provided thoroughly enough to know if this is arising in your case, but seeing the keyword <code>synchronized</code> in the <code>playSound</code> method reminds me of his advice.</p>\n<p>The only blocking when working with audio, I think, should be that which is built into the blocking queues employed by <code>TargetDataLine</code> or <code>SourceDataLine</code> read and write methods. I blindly pass on this advice and encourage you to inspect your code for blocking and find alternatives in any situation in your code where a block might occur.</p>\n"}],"owner":{"account_id":25859279,"reputation":9,"user_id":19591985,"display_name":"Boltus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659552578,"creation_date":1659350501,"question_id":73192524,"body_markdown":"i&#39;m writing a program for simple voice transmission via udp. This works fine, until I implement a method to check the average volume level of a sample-to-be-sent.\r\n\r\nHere I have included the Audio class and the Receiver class and cut out some unimportant stuff.\r\n\r\n```\r\npublic class Audio extends Thread\r\n{\r\n    private AudioFormat defaultAudioFormat = null;\r\n    private TargetDataLine inputLine = null;\r\n    private byte[] sample = new byte[1024];\r\n    private SourceDataLine speakers = null;\r\n    private int voiceActivationLevel = 35;\r\n    private SourceDataLine speakers = null;\r\n    private boolean running = true;\r\n    private VOIPSocket sender = null;\r\n    \r\n    public Audio(int voiceActivationLevel, VOIPSocket socket) throws LineUnavailableException\r\n    {\r\n        this.voiceActivationLevel = voiceActivationLevel;\r\n        this.defaultAudioFormat = new AudioFormat(8000f, 16, 1, true, true);\r\n        \r\n        DataLine.Info info = new DataLine.Info(TargetDataLine.class, this.defaultAudioFormat);\r\n        this.inputLine = (TargetDataLine) AudioSystem.getLine(info);\r\n        this.inputLine.open(defaultAudioFormat);\r\n        this.sender = socket;\r\n        \r\n        DataLine.Info dataLineInfo = new DataLine.Info(SourceDataLine.class, this.defaultAudioFormat);\r\n        this.speakers = (SourceDataLine) AudioSystem.getLine(dataLineInfo);\r\n        this.speakers.open();\r\n        this.speakers.start();\r\n    }\r\n    \r\n    public void run()\r\n    {\r\n    \tDataLine.Info = new DataLine.Info(TargetDataLine.class, this.defaultAudioFormat);\r\n    \tthis.inputLine.start();\r\n    \twhile(running)\r\n    \t{\r\n    \t\tif(AudioSystem.isLineSupported(info))\r\n    \t\t{\r\n    \t\t\tint data = inputLine.read(this.sample, 0, sample.length);\r\n    \t\t\tint voiceLevel = calculateVolumeLevel(this.sample);\r\n    \t\t\tif(voiceLevel &gt;= this.voiceActivationLevel)\r\n    \t\t\t    this.sender.sendData(this.sample); //\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    public int calculateVolumeLevel(byte[] audioData)\r\n    {\r\n        long l = 0;\r\n        for(int i = 0; i &lt; audioData.length; i++)\r\n            l = l + audioData [i];\r\n        double avg = l / audioData.length;\r\n        double sum = 0d;\r\n        \r\n        for(int j = 0; j &lt; audioData.length; j++)\r\n            sum += Math.pow(audioData[j] - avg, 2d);\r\n        \r\n        double averageMeanSquare = sum / audioData.length;\r\n        return (int)(Math.pow(averageMeanSquare, 0.5d) + 0.5);\r\n    }\r\n    \r\n    public void playSound(byte[] data)\r\n    {\r\n        synchronized(this.speakers)\r\n            this.speakers.write(data, 0, data.length);\r\n    }\r\n}\r\n```\r\n\r\nNote that calculateVolumeLevel does NOT modify voiceData, just returns an average volume level as integer.\r\n\r\n```\r\npublic class Receiver extends Thread\r\n{\r\n    private VOIPSocket socket = null; //Just a simple class with some helper functions for the socket, not important for this\r\n    private byte[] buffer = new byte[4096];\r\n    private boolean isRunning = true;\r\n    private Audio audio = null;\r\n    \r\n    public Receiver(VOIPSocket socket, Audio audio) throws SocketException\r\n    {\r\n        this.socket = socket;\r\n        this.audio = audio;\r\n    }\r\n    \r\n    public void run()\r\n    {\r\n        DatagramPacket packet = new DatagramPacket(this.buffer, this.buffer.length);\r\n        while(isRunning)\r\n        {\r\n            if(!socket.getSocket.isClosed())\r\n            {\r\n                socket.getSocket.receive(packet);\r\n                byte data = packet.getData();\r\n                this.audio.playSound(data);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs soon as I include the check for the volume level, the sound is stuttering, repeating over and over and other mistakes, until I flush or drain the speakers-dataline.\r\n\r\nThe data transmission via UDP is working correctly and needs no further investigation in my opinion.\r\n\r\nMy read is, that as soon as I implement check for the voice volume, the byte-data somehow is corrupted or important parts of sample[] are not transmitted. This somehow puts errors on the speakers-dataline.\r\n\r\nI don&#39;t know how to solve this. Any ideas?\r\n\r\nedit:\r\n\r\nAccording to https://docs.oracle.com/javase/10/troubleshoot/java-sound.htm#JSTGD490, some over- or underrun condition comes in I guess.\r\nIf I dont have the volume check enabled, a continuous data stream is provided for the speakers-dataline. If it is enabled, this stream of course is interrupted most of the time, leading to corrupted data in either the input dataline or the speakers-dataline (or both).\r\nThis can be solved by flushing and closing the datalines, then opening them again. This unfortunately is not a suitable solution, as flushing can sometimes take up to 1 second, where no data can be played, which is not acceptable, as I would need to flush very often (like every time, there is silence).\r\n\r\nAny ideas on this?","title":"Java Sound transmission over UDP - Sound errors when implementing input level checking method","body":"<p>i'm writing a program for simple voice transmission via udp. This works fine, until I implement a method to check the average volume level of a sample-to-be-sent.</p>\n<p>Here I have included the Audio class and the Receiver class and cut out some unimportant stuff.</p>\n<pre><code>public class Audio extends Thread\n{\n    private AudioFormat defaultAudioFormat = null;\n    private TargetDataLine inputLine = null;\n    private byte[] sample = new byte[1024];\n    private SourceDataLine speakers = null;\n    private int voiceActivationLevel = 35;\n    private SourceDataLine speakers = null;\n    private boolean running = true;\n    private VOIPSocket sender = null;\n    \n    public Audio(int voiceActivationLevel, VOIPSocket socket) throws LineUnavailableException\n    {\n        this.voiceActivationLevel = voiceActivationLevel;\n        this.defaultAudioFormat = new AudioFormat(8000f, 16, 1, true, true);\n        \n        DataLine.Info info = new DataLine.Info(TargetDataLine.class, this.defaultAudioFormat);\n        this.inputLine = (TargetDataLine) AudioSystem.getLine(info);\n        this.inputLine.open(defaultAudioFormat);\n        this.sender = socket;\n        \n        DataLine.Info dataLineInfo = new DataLine.Info(SourceDataLine.class, this.defaultAudioFormat);\n        this.speakers = (SourceDataLine) AudioSystem.getLine(dataLineInfo);\n        this.speakers.open();\n        this.speakers.start();\n    }\n    \n    public void run()\n    {\n        DataLine.Info = new DataLine.Info(TargetDataLine.class, this.defaultAudioFormat);\n        this.inputLine.start();\n        while(running)\n        {\n            if(AudioSystem.isLineSupported(info))\n            {\n                int data = inputLine.read(this.sample, 0, sample.length);\n                int voiceLevel = calculateVolumeLevel(this.sample);\n                if(voiceLevel &gt;= this.voiceActivationLevel)\n                    this.sender.sendData(this.sample); //\n            }\n        }\n    }\n    \n    public int calculateVolumeLevel(byte[] audioData)\n    {\n        long l = 0;\n        for(int i = 0; i &lt; audioData.length; i++)\n            l = l + audioData [i];\n        double avg = l / audioData.length;\n        double sum = 0d;\n        \n        for(int j = 0; j &lt; audioData.length; j++)\n            sum += Math.pow(audioData[j] - avg, 2d);\n        \n        double averageMeanSquare = sum / audioData.length;\n        return (int)(Math.pow(averageMeanSquare, 0.5d) + 0.5);\n    }\n    \n    public void playSound(byte[] data)\n    {\n        synchronized(this.speakers)\n            this.speakers.write(data, 0, data.length);\n    }\n}\n</code></pre>\n<p>Note that calculateVolumeLevel does NOT modify voiceData, just returns an average volume level as integer.</p>\n<pre><code>public class Receiver extends Thread\n{\n    private VOIPSocket socket = null; //Just a simple class with some helper functions for the socket, not important for this\n    private byte[] buffer = new byte[4096];\n    private boolean isRunning = true;\n    private Audio audio = null;\n    \n    public Receiver(VOIPSocket socket, Audio audio) throws SocketException\n    {\n        this.socket = socket;\n        this.audio = audio;\n    }\n    \n    public void run()\n    {\n        DatagramPacket packet = new DatagramPacket(this.buffer, this.buffer.length);\n        while(isRunning)\n        {\n            if(!socket.getSocket.isClosed())\n            {\n                socket.getSocket.receive(packet);\n                byte data = packet.getData();\n                this.audio.playSound(data);\n            }\n        }\n    }\n}\n</code></pre>\n<p>As soon as I include the check for the volume level, the sound is stuttering, repeating over and over and other mistakes, until I flush or drain the speakers-dataline.</p>\n<p>The data transmission via UDP is working correctly and needs no further investigation in my opinion.</p>\n<p>My read is, that as soon as I implement check for the voice volume, the byte-data somehow is corrupted or important parts of sample[] are not transmitted. This somehow puts errors on the speakers-dataline.</p>\n<p>I don't know how to solve this. Any ideas?</p>\n<p>edit:</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/10/troubleshoot/java-sound.htm#JSTGD490\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/troubleshoot/java-sound.htm#JSTGD490</a>, some over- or underrun condition comes in I guess.\nIf I dont have the volume check enabled, a continuous data stream is provided for the speakers-dataline. If it is enabled, this stream of course is interrupted most of the time, leading to corrupted data in either the input dataline or the speakers-dataline (or both).\nThis can be solved by flushing and closing the datalines, then opening them again. This unfortunately is not a suitable solution, as flushing can sometimes take up to 1 second, where no data can be played, which is not acceptable, as I would need to flush very often (like every time, there is silence).</p>\n<p>Any ideas on this?</p>\n"},{"tags":["java","maven","slf4j","webcam-capture"],"comments":[{"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"score":0,"creation_date":1659551357,"post_id":73226092,"comment_id":129323627,"body_markdown":"why are you using alpha version instead of a stable version like 1.7.36? It would be helpful to others if you post error log, pom file and logback configurations","body":"why are you using alpha version instead of a stable version like 1.7.36? It would be helpful to others if you post error log, pom file and logback configurations"},{"owner":{"account_id":14222191,"reputation":314,"user_id":10274083,"display_name":"fallingriptide"},"score":0,"creation_date":1659552418,"post_id":73226092,"comment_id":129323959,"body_markdown":"Thanks, I added more info as well as used the stable version. Now have a different error message","body":"Thanks, I added more info as well as used the stable version. Now have a different error message"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659552009,"creation_date":1659552009,"answer_id":73226292,"question_id":73226092,"body_markdown":"Slf4j-simple is in scope âtestâ meaning it is available to test classes only. \r\n\r\nRemove that line and it should work as you expect. ","title":"WebcamException error when using webcam-capture","body":"<p>Slf4j-simple is in scope âtestâ meaning it is available to test classes only.</p>\n<p>Remove that line and it should work as you expect.</p>\n"}],"owner":{"account_id":14222191,"reputation":314,"user_id":10274083,"display_name":"fallingriptide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659552387,"creation_date":1659550931,"question_id":73226092,"body_markdown":"I am trying to use the webcam-capture Java library, but I keep getting an WebcamException error.\r\n\r\nThis is what I have in my pom.xml:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.sarxos&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webcam-capture&lt;/artifactId&gt;\r\n            &lt;version&gt;0.3.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThe sample code I am running\r\n\r\n```\r\n        Webcam webcam = Webcam.getDefault();\r\n        webcam.open();\r\n        ImageIO.write(webcam.getImage(), &quot;PNG&quot;, new File(&quot;file_path&quot;));\r\n```\r\nThe error message:\r\n\r\n```\r\n[main] INFO com.github.sarxos.webcam.Webcam - WebcamDefaultDriver capture driver will be used\r\nException in thread &quot;main&quot; com.github.sarxos.webcam.WebcamException: java.util.concurrent.ExecutionException: com.github.sarxos.webcam.WebcamException: Cannot execute task\r\n\tat com.github.sarxos.webcam.WebcamDiscoveryService.getWebcams(WebcamDiscoveryService.java:124)\r\n\tat com.github.sarxos.webcam.Webcam.getWebcams(Webcam.java:893)\r\n\tat com.github.sarxos.webcam.Webcam.getDefault(Webcam.java:956)\r\n\tat com.github.sarxos.webcam.Webcam.getDefault(Webcam.java:933)\r\n\tat com.github.sarxos.webcam.Webcam.getDefault(Webcam.java:911)\r\n\tat com.datacollection.Main.main(Main.java:47)\r\nCaused by: java.util.concurrent.ExecutionException: com.github.sarxos.webcam.WebcamException: Cannot execute task\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat com.github.sarxos.webcam.WebcamDiscoveryService.getWebcams(WebcamDiscoveryService.java:116)\r\n\t... 5 more\r\nCaused by: com.github.sarxos.webcam.WebcamException: Cannot execute task\r\n\tat com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.process(WebcamProcessor.java:72)\r\n\tat com.github.sarxos.webcam.WebcamProcessor.process(WebcamProcessor.java:140)\r\n\tat com.github.sarxos.webcam.WebcamTask.process(WebcamTask.java:46)\r\n\tat com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$GetDevicesTask.getDevices(WebcamDefaultDriver.java:79)\r\n\tat com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver.getDevices(WebcamDefaultDriver.java:124)\r\n\tat com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:36)\r\n\tat com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:26)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.UnsatisfiedLinkError: com.github.sarxos.webcam.ds.buildin.natives.OpenIMAJGrabber.getVideoDevices()Lorg/bridj/Pointer;\r\n\tat com.github.sarxos.webcam.ds.buildin.natives.OpenIMAJGrabber.getVideoDevices(Native Method)\r\n\tat com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$GetDevicesTask.handle(WebcamDefaultDriver.java:93)\r\n\tat com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.run(WebcamProcessor.java:81)\r\n\t... 3 more\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\nAny help would be appreciated!","title":"WebcamException error when using webcam-capture","body":"<p>I am trying to use the webcam-capture Java library, but I keep getting an WebcamException error.</p>\n<p>This is what I have in my pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.sarxos&lt;/groupId&gt;\n            &lt;artifactId&gt;webcam-capture&lt;/artifactId&gt;\n            &lt;version&gt;0.3.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.36&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.36&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The sample code I am running</p>\n<pre><code>        Webcam webcam = Webcam.getDefault();\n        webcam.open();\n        ImageIO.write(webcam.getImage(), &quot;PNG&quot;, new File(&quot;file_path&quot;));\n</code></pre>\n<p>The error message:</p>\n<pre><code>[main] INFO com.github.sarxos.webcam.Webcam - WebcamDefaultDriver capture driver will be used\nException in thread &quot;main&quot; com.github.sarxos.webcam.WebcamException: java.util.concurrent.ExecutionException: com.github.sarxos.webcam.WebcamException: Cannot execute task\n    at com.github.sarxos.webcam.WebcamDiscoveryService.getWebcams(WebcamDiscoveryService.java:124)\n    at com.github.sarxos.webcam.Webcam.getWebcams(Webcam.java:893)\n    at com.github.sarxos.webcam.Webcam.getDefault(Webcam.java:956)\n    at com.github.sarxos.webcam.Webcam.getDefault(Webcam.java:933)\n    at com.github.sarxos.webcam.Webcam.getDefault(Webcam.java:911)\n    at com.datacollection.Main.main(Main.java:47)\nCaused by: java.util.concurrent.ExecutionException: com.github.sarxos.webcam.WebcamException: Cannot execute task\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at com.github.sarxos.webcam.WebcamDiscoveryService.getWebcams(WebcamDiscoveryService.java:116)\n    ... 5 more\nCaused by: com.github.sarxos.webcam.WebcamException: Cannot execute task\n    at com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.process(WebcamProcessor.java:72)\n    at com.github.sarxos.webcam.WebcamProcessor.process(WebcamProcessor.java:140)\n    at com.github.sarxos.webcam.WebcamTask.process(WebcamTask.java:46)\n    at com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$GetDevicesTask.getDevices(WebcamDefaultDriver.java:79)\n    at com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver.getDevices(WebcamDefaultDriver.java:124)\n    at com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:36)\n    at com.github.sarxos.webcam.WebcamDiscoveryService$WebcamsDiscovery.call(WebcamDiscoveryService.java:26)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.UnsatisfiedLinkError: com.github.sarxos.webcam.ds.buildin.natives.OpenIMAJGrabber.getVideoDevices()Lorg/bridj/Pointer;\n    at com.github.sarxos.webcam.ds.buildin.natives.OpenIMAJGrabber.getVideoDevices(Native Method)\n    at com.github.sarxos.webcam.ds.buildin.WebcamDefaultDriver$GetDevicesTask.handle(WebcamDefaultDriver.java:93)\n    at com.github.sarxos.webcam.WebcamProcessor$AtomicProcessor.run(WebcamProcessor.java:81)\n    ... 3 more\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","spring","spring-mvc","web-applications"],"comments":[{"owner":{"account_id":8186304,"reputation":707,"user_id":6162023,"display_name":"Sofo Gial"},"score":1,"creation_date":1546429908,"post_id":54005723,"comment_id":94848269,"body_markdown":"What do you mean by &quot;when I go to the following URL&quot;? Do you visit the aforementioned URL on the browser? Do you submit a form, where the action points to this URL? Do you attempt to hit the endpoint through Postman/CURL?","body":"What do you mean by &quot;when I go to the following URL&quot;? Do you visit the aforementioned URL on the browser? Do you submit a form, where the action points to this URL? Do you attempt to hit the endpoint through Postman/CURL?"},{"owner":{"account_id":14022240,"reputation":194,"user_id":10128199,"display_name":"Mob_Abominator"},"score":0,"creation_date":1546430018,"post_id":54005723,"comment_id":94848321,"body_markdown":"that&#39;s the url which gets triggered when the form is submitted","body":"that&#39;s the url which gets triggered when the form is submitted"},{"owner":{"account_id":8186304,"reputation":707,"user_id":6162023,"display_name":"Sofo Gial"},"score":0,"creation_date":1546431555,"post_id":54005723,"comment_id":94848947,"body_markdown":"Can you manually invoke the code you want by using Postman or curl? You can use the debugger to check if the code is invoked.","body":"Can you manually invoke the code you want by using Postman or curl? You can use the debugger to check if the code is invoked."},{"owner":{"account_id":14022240,"reputation":194,"user_id":10128199,"display_name":"Mob_Abominator"},"score":0,"creation_date":1546431638,"post_id":54005723,"comment_id":94848986,"body_markdown":"How to do that ? can you explain in more brief ?","body":"How to do that ? can you explain in more brief ?"}],"answers":[{"tags":[],"owner":{"account_id":3878082,"reputation":756,"user_id":3211463,"accept_rate":50,"display_name":"Lakshya Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546435335,"creation_date":1546435335,"answer_id":54007156,"question_id":54005723,"body_markdown":"The issue is with the annotation ```@Controller``` inside your code. change it to ```@RestController``` and it should start working.\r\nHere is the Sample code which I have created and it works well :\r\n\r\n    package com.sample;\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    @RestController\r\n    public class Sample {\r\n    @RequestMapping(value=&quot;/registration&quot;,method = RequestMethod.GET)\r\n    public String addRegistrationPage() {\r\n        return &quot;registrationpage&quot;;\r\n    }\r\n    @RequestMapping(value=&quot;/uregistration&quot;,method = RequestMethod.POST)\r\n    public String addURegistrationPage(@RequestBody String u) {\r\n\r\n        boolean b = true;\r\n        if (b)\r\n            return &quot;success&quot;;\r\n        else\r\n            return &quot;registra&quot;;\r\n    }\r\n\r\n    }\r\n","title":"How to fix &quot;org.springframework.web.HttpRequestMethodNotSupportedException : Request method &#39;POST&#39; not supported ?&quot;","body":"<p>The issue is with the annotation <code>@Controller</code> inside your code. change it to <code>@RestController</code> and it should start working.\nHere is the Sample code which I have created and it works well :</p>\n\n<pre><code>package com.sample;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class Sample {\n@RequestMapping(value=\"/registration\",method = RequestMethod.GET)\npublic String addRegistrationPage() {\n    return \"registrationpage\";\n}\n@RequestMapping(value=\"/uregistration\",method = RequestMethod.POST)\npublic String addURegistrationPage(@RequestBody String u) {\n\n    boolean b = true;\n    if (b)\n        return \"success\";\n    else\n        return \"registra\";\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4295560,"reputation":2627,"user_id":3510725,"display_name":"Minar Mahmud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546445291,"creation_date":1546445291,"answer_id":54009532,"question_id":54005723,"body_markdown":"As your `GET` handler mapping is `/registration`, change your `POST` handler mapping to same value:\r\n\r\n    @RequestMapping(value = &quot;/registration&quot;, method = RequestMethod.POST)\r\n\r\n","title":"How to fix &quot;org.springframework.web.HttpRequestMethodNotSupportedException : Request method &#39;POST&#39; not supported ?&quot;","body":"<p>As your <code>GET</code> handler mapping is <code>/registration</code>, change your <code>POST</code> handler mapping to same value:</p>\n\n<pre><code>@RequestMapping(value = \"/registration\", method = RequestMethod.POST)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7525035,"reputation":2156,"user_id":5715546,"accept_rate":75,"display_name":"eyoeldefare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555131996,"creation_date":1555131996,"answer_id":55662218,"question_id":54005723,"body_markdown":"I solved mine by simply adding csrf configurations as mentioned in spring documentation when making an ajax request to the server. Remember that csrf is enabled by default in spring and you have to either disable it (bad) or enable it. \r\nLink is here \r\n\r\n&gt; https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html\r\n\r\nSo I added `\r\n&lt;meta name=&quot;_csrf&quot; th:content=&quot;${_csrf.token}&quot; /&gt;\r\n&lt;meta name=&quot;_csrf_header&quot; th:content=&quot;${_csrf.headerName}&quot; /&gt;`\r\n\r\n    &lt;script type=&quot;application/x-javascript&quot;&gt;\r\n       (function () {\r\n           var token = $(&quot;meta[name=&#39;_csrf&#39;]&quot;).attr(&quot;content&quot;);\r\n           var header = $(&quot;meta[name=&#39;_csrf_header&#39;]&quot;).attr(&quot;content&quot;);\r\n           $(document).ajaxSend(function(e, xhr, options) {\r\n              xhr.setRequestHeader(header, token);\r\n           });\r\n       });\r\n    &lt;/script&gt;\r\n\r\nto my html head and inside the form I am submitting, I included this little hidden input and mine worked for me. Hope it helps ya.\r\n\r\n    &lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot;\r\n\t\t\t\t\t\t\tth:value=&quot;${_csrf.token}&quot; /&gt;\r\n\r\n","title":"How to fix &quot;org.springframework.web.HttpRequestMethodNotSupportedException : Request method &#39;POST&#39; not supported ?&quot;","body":"<p>I solved mine by simply adding csrf configurations as mentioned in spring documentation when making an ajax request to the server. Remember that csrf is enabled by default in spring and you have to either disable it (bad) or enable it. \nLink is here </p>\n\n<blockquote>\n  <p><a href=\"https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html</a></p>\n</blockquote>\n\n<p>So I added <code>\n&lt;meta name=\"_csrf\" th:content=\"${_csrf.token}\" /&gt;\n&lt;meta name=\"_csrf_header\" th:content=\"${_csrf.headerName}\" /&gt;</code></p>\n\n<pre><code>&lt;script type=\"application/x-javascript\"&gt;\n   (function () {\n       var token = $(\"meta[name='_csrf']\").attr(\"content\");\n       var header = $(\"meta[name='_csrf_header']\").attr(\"content\");\n       $(document).ajaxSend(function(e, xhr, options) {\n          xhr.setRequestHeader(header, token);\n       });\n   });\n&lt;/script&gt;\n</code></pre>\n\n<p>to my html head and inside the form I am submitting, I included this little hidden input and mine worked for me. Hope it helps ya.</p>\n\n<pre><code>&lt;input type=\"hidden\" th:name=\"${_csrf.parameterName}\"\n                        th:value=\"${_csrf.token}\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12321002,"reputation":1,"user_id":8990312,"display_name":"Daniel Guinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656506029,"creation_date":1656119928,"answer_id":72750686,"question_id":54005723,"body_markdown":"Searching for the same error you got here, I had the same error and in my case I was making a mistake I didn&#39;t put the `@PostMapping` annotation in my method.\r\n\r\n        @PostMapping\r\n\t\tpublic ResponseEntity&lt;CategoryDTO&gt; insert (@RequestBody CategoryDTO dto){\r\n\t\t\tdto = service.insert(dto);\r\n\t\t\tURI uri = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(dto.getId()).toUri();\r\n\t\t\treturn ResponseEntity.created(uri).body(dto);\r\n\t\t}","title":"How to fix &quot;org.springframework.web.HttpRequestMethodNotSupportedException : Request method &#39;POST&#39; not supported ?&quot;","body":"<p>Searching for the same error you got here, I had the same error and in my case I was making a mistake I didn't put the <code>@PostMapping</code> annotation in my method.</p>\n<pre><code>    @PostMapping\n    public ResponseEntity&lt;CategoryDTO&gt; insert (@RequestBody CategoryDTO dto){\n        dto = service.insert(dto);\n        URI uri = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(dto.getId()).toUri();\n        return ResponseEntity.created(uri).body(dto);\n    }\n</code></pre>\n"}],"owner":{"account_id":14022240,"reputation":194,"user_id":10128199,"display_name":"Mob_Abominator"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1659551924,"creation_date":1546429374,"question_id":54005723,"body_markdown":"So I&#39;m getting an warning as\r\n\r\n     WARN  [org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver] (default task-2) Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported] \r\nwhen I go to the following URL `http://localhost:8080/ProjectFE/uregistration`\r\n and the website shows  \r\n\r\n&gt; HTTP 405 Method not allowed \r\n\r\nhere is my controller code:\r\n\r\n    package controller;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    import model.daoimpl.UserinfoDaoImpl;\r\n    import model.dao.IUserinfoDAO;\r\n    import model.entity.Userinfo;\r\n    \r\n    @Controller\r\n    public class RegistrationController {\r\n    \t@RequestMapping(value=&quot;/registration&quot;,method = RequestMethod.GET)\r\n    \tpublic String addRegistrationPage() {\r\n    \t\treturn &quot;registrationpage&quot;;\r\n    \t}\r\n    \t@RequestMapping(value=&quot;/uregistration&quot;,method = RequestMethod.POST)\r\n    \tpublic String addURegistrationPage(@ModelAttribute(&quot;User&quot;)Userinfo u) {\r\n    \t\tIUserinfoDAO iu = new UserinfoDaoImpl();\r\n    \t\tboolean b = iu.insertInfo(u);\r\n    \t\tif(b)\r\n    \t\t\treturn &quot;success&quot;;\r\n    \t\telse\r\n    \t\t    return &quot;registrationpage&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nSo what should I do ? Also if any other code is required please comment I&#39;ll edit the post,\r\nThankyou.\r\n\r\n\r\n","title":"How to fix &quot;org.springframework.web.HttpRequestMethodNotSupportedException : Request method &#39;POST&#39; not supported ?&quot;","body":"<p>So I'm getting an warning as</p>\n\n<pre><code> WARN  [org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver] (default task-2) Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported] \n</code></pre>\n\n<p>when I go to the following URL <code>http://localhost:8080/ProjectFE/uregistration</code>\n and the website shows  </p>\n\n<blockquote>\n  <p>HTTP 405 Method not allowed </p>\n</blockquote>\n\n<p>here is my controller code:</p>\n\n<pre><code>package controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport model.daoimpl.UserinfoDaoImpl;\nimport model.dao.IUserinfoDAO;\nimport model.entity.Userinfo;\n\n@Controller\npublic class RegistrationController {\n    @RequestMapping(value=\"/registration\",method = RequestMethod.GET)\n    public String addRegistrationPage() {\n        return \"registrationpage\";\n    }\n    @RequestMapping(value=\"/uregistration\",method = RequestMethod.POST)\n    public String addURegistrationPage(@ModelAttribute(\"User\")Userinfo u) {\n        IUserinfoDAO iu = new UserinfoDaoImpl();\n        boolean b = iu.insertInfo(u);\n        if(b)\n            return \"success\";\n        else\n            return \"registrationpage\";\n    }\n\n}\n</code></pre>\n\n<p>So what should I do ? Also if any other code is required please comment I'll edit the post,\nThankyou.</p>\n"},{"tags":["java","stack-overflow","sandbox"],"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":0,"creation_date":1659559973,"post_id":51143741,"comment_id":129326327,"body_markdown":"I know this was a long time ago, but I&#39;m looking at exactly the same tutorial. Do you happen to know which versions of the JVM you were seeing this behavior in? I&#39;m seeing the StackOverflowError in a couple versions of Java8, as well as in Java11.","body":"I know this was a long time ago, but I&#39;m looking at exactly the same tutorial. Do you happen to know which versions of the JVM you were seeing this behavior in? I&#39;m seeing the StackOverflowError in a couple versions of Java8, as well as in Java11."},{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1659603154,"post_id":51143741,"comment_id":129335239,"body_markdown":"@JoshuaTaylor I am sorry this was a long time ago and can&#39;t recall the java version used at the time. I should&#39;ve mentioned it in the issue. Good luck!","body":"@JoshuaTaylor I am sorry this was a long time ago and can&#39;t recall the java version used at the time. I should&#39;ve mentioned it in the issue. Good luck!"}],"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659551740,"creation_date":1530565635,"question_id":51143741,"body_markdown":"I am following this [tutorial, Sandboxing plugins in Java][1] on how to achieve sandboxing when plugins are used.\r\n\r\nThis is my main class where I load the class from the Jar file and run the interface function:\r\n\r\n    import java.io.File;\r\n    import java.net.URL;\r\n    import java.security.Policy;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            Policy.setPolicy(new SandboxSecurityPolicy());\r\n            System.setSecurityManager(new SecurityManager());\r\n    \r\n    \r\n            try {\r\n                File file = new File(&quot;JarDummy.jar&quot;);\r\n                URL urlJar = file.toURI().toURL();\r\n    \r\n                ClassLoader pluginLoader = new PluginClassLoader(urlJar);\r\n    \r\n                Class&lt;?&gt; pluginClass = pluginLoader.loadClass(&quot;ZEngine&quot;);\r\n                IEngine plugin = (IEngine) pluginClass.newInstance();\r\n    \r\n                plugin.build(&quot;file.txt&quot;);\r\n    \r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThis is my interface:\r\n\r\n\r\n    public interface IEngine {\r\n    \r\n        void build(String filename);\r\n    }\r\n\r\n\r\nThis is my plugin class loader:\r\n\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n\r\n    public class PluginClassLoader extends URLClassLoader {\r\n        public PluginClassLoader(URL jarFileUrl) {\r\n            super(new URL[] {jarFileUrl});\r\n        }\r\n    }\r\n\r\n\r\nAnd this is my policy where different permissions are given if the class is loaded from the plugin:\r\n\r\n    import sun.plugin.security.PluginClassLoader;\r\n    import java.security.AllPermission;\r\n    import java.security.PermissionCollection;\r\n    import java.security.Permissions;\r\n    import java.security.Policy;\r\n    import java.security.ProtectionDomain;\r\n    \r\n    public class SandboxSecurityPolicy extends Policy {\r\n    \r\n        @Override\r\n        public PermissionCollection getPermissions(ProtectionDomain domain) {\r\n            if (isPlugin(domain)) {\r\n                return pluginPermissions();\r\n            }\r\n            else {\r\n                return applicationPermissions();\r\n            }\r\n        }\r\n    \r\n        private boolean isPlugin(ProtectionDomain domain) {\r\n            return domain.getClassLoader() instanceof PluginClassLoader;\r\n        }\r\n    \r\n        private PermissionCollection pluginPermissions() {\r\n            Permissions permissions = new Permissions(); // No permissions\r\n            return permissions;\r\n        }\r\n    \r\n        private PermissionCollection applicationPermissions() {\r\n            Permissions permissions = new Permissions();\r\n            permissions.add(new AllPermission());\r\n            return permissions;\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhen I run the main class and code executes the `plugin.build()`, I am getting a stackoverflow exception with the following trace:\r\n\r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844\r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844\r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat sun.nio.cs.UTF_8.updatePositions(UTF_8.java:77)\r\n    \tat sun.nio.cs.UTF_8.access$200(UTF_8.java:57)\r\n    \tat sun.nio.cs.UTF_8$Encoder.encodeArrayLoop(UTF_8.java:636)\r\n    \tat sun.nio.cs.UTF_8$Encoder.encodeLoop(UTF_8.java:691)\r\n    \tat java.nio.charset.CharsetEncoder.encode(CharsetEncoder.java:579)\r\n    \tat sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:271)\r\n    \tat sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\r\n    \tat java.io.OutputStreamWriter.write(OutputStreamWriter.java:207)\r\n    \tat java.io.BufferedWriter.flushBuffer(BufferedWriter.java:129)\r\n    \tat java.io.PrintStream.write(PrintStream.java:526)\r\n    \tat java.io.PrintStream.print(PrintStream.java:669)\r\n    \tat java.io.PrintStream.println(PrintStream.java:806)\r\n    \tat SandboxSecurityPolicy.getPermissions(SandboxSecurityPolicy.java:12)\r\n    \tat java.security.Policy.implies(Policy.java:721)\r\n    \tat java.security.ProtectionDomain.implies(ProtectionDomain.java:285)\r\n    \tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:450)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:884)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:318)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat SandboxSecurityPolicy.isPlugin(SandboxSecurityPolicy.java:23)\r\n    \tat SandboxSecurityPolicy.getPermissions(SandboxSecurityPolicy.java:13)\r\n\r\nI am not sure why that `instanceOf` is creating a recursion leading to this overflow. I appreciate your help. Thanks!\r\n\r\nUPDATE: I ran the same code on a different machine, it worked fine. It seems like a JDK bug.\r\n\r\n  [1]: https://blog.jayway.com/2014/06/13/sandboxing-plugins-in-java/","title":"Java Sandboxing Security Policy","body":"<p>I am following this <a href=\"https://blog.jayway.com/2014/06/13/sandboxing-plugins-in-java/\" rel=\"nofollow noreferrer\">tutorial, Sandboxing plugins in Java</a> on how to achieve sandboxing when plugins are used.</p>\n<p>This is my main class where I load the class from the Jar file and run the interface function:</p>\n<pre><code>import java.io.File;\nimport java.net.URL;\nimport java.security.Policy;\n\npublic class Main {\n\n    public static void main(String[] args){\n\n        Policy.setPolicy(new SandboxSecurityPolicy());\n        System.setSecurityManager(new SecurityManager());\n\n\n        try {\n            File file = new File(&quot;JarDummy.jar&quot;);\n            URL urlJar = file.toURI().toURL();\n\n            ClassLoader pluginLoader = new PluginClassLoader(urlJar);\n\n            Class&lt;?&gt; pluginClass = pluginLoader.loadClass(&quot;ZEngine&quot;);\n            IEngine plugin = (IEngine) pluginClass.newInstance();\n\n            plugin.build(&quot;file.txt&quot;);\n\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n\n}\n</code></pre>\n<p>This is my interface:</p>\n<pre><code>public interface IEngine {\n\n    void build(String filename);\n}\n</code></pre>\n<p>This is my plugin class loader:</p>\n<pre><code>import java.net.URL;\nimport java.net.URLClassLoader;\n\npublic class PluginClassLoader extends URLClassLoader {\n    public PluginClassLoader(URL jarFileUrl) {\n        super(new URL[] {jarFileUrl});\n    }\n}\n</code></pre>\n<p>And this is my policy where different permissions are given if the class is loaded from the plugin:</p>\n<pre><code>import sun.plugin.security.PluginClassLoader;\nimport java.security.AllPermission;\nimport java.security.PermissionCollection;\nimport java.security.Permissions;\nimport java.security.Policy;\nimport java.security.ProtectionDomain;\n\npublic class SandboxSecurityPolicy extends Policy {\n\n    @Override\n    public PermissionCollection getPermissions(ProtectionDomain domain) {\n        if (isPlugin(domain)) {\n            return pluginPermissions();\n        }\n        else {\n            return applicationPermissions();\n        }\n    }\n\n    private boolean isPlugin(ProtectionDomain domain) {\n        return domain.getClassLoader() instanceof PluginClassLoader;\n    }\n\n    private PermissionCollection pluginPermissions() {\n        Permissions permissions = new Permissions(); // No permissions\n        return permissions;\n    }\n\n    private PermissionCollection applicationPermissions() {\n        Permissions permissions = new Permissions();\n        permissions.add(new AllPermission());\n        return permissions;\n    }\n}\n</code></pre>\n<p>When I run the main class and code executes the <code>plugin.build()</code>, I am getting a stackoverflow exception with the following trace:</p>\n<pre><code>*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844\n*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844\n*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844\nException in thread &quot;main&quot; java.lang.StackOverflowError\n    at sun.nio.cs.UTF_8.updatePositions(UTF_8.java:77)\n    at sun.nio.cs.UTF_8.access$200(UTF_8.java:57)\n    at sun.nio.cs.UTF_8$Encoder.encodeArrayLoop(UTF_8.java:636)\n    at sun.nio.cs.UTF_8$Encoder.encodeLoop(UTF_8.java:691)\n    at java.nio.charset.CharsetEncoder.encode(CharsetEncoder.java:579)\n    at sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:271)\n    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\n    at java.io.OutputStreamWriter.write(OutputStreamWriter.java:207)\n    at java.io.BufferedWriter.flushBuffer(BufferedWriter.java:129)\n    at java.io.PrintStream.write(PrintStream.java:526)\n    at java.io.PrintStream.print(PrintStream.java:669)\n    at java.io.PrintStream.println(PrintStream.java:806)\n    at SandboxSecurityPolicy.getPermissions(SandboxSecurityPolicy.java:12)\n    at java.security.Policy.implies(Policy.java:721)\n    at java.security.ProtectionDomain.implies(ProtectionDomain.java:285)\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:450)\n    at java.security.AccessController.checkPermission(AccessController.java:884)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:318)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at SandboxSecurityPolicy.isPlugin(SandboxSecurityPolicy.java:23)\n    at SandboxSecurityPolicy.getPermissions(SandboxSecurityPolicy.java:13)\n</code></pre>\n<p>I am not sure why that <code>instanceOf</code> is creating a recursion leading to this overflow. I appreciate your help. Thanks!</p>\n<p>UPDATE: I ran the same code on a different machine, it worked fine. It seems like a JDK bug.</p>\n"},{"tags":["java","list","arraylist","shuffle"],"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1366027184,"post_id":16014579,"comment_id":22840630,"body_markdown":"The [Knuth shuffle](http://en.wikipedia.org/wiki/Knuth_shuffle#The_modern_algorithm) is pretty easy to implement.","body":"The <a href=\"http://en.wikipedia.org/wiki/Knuth_shuffle#The_modern_algorithm\" rel=\"nofollow noreferrer\">Knuth shuffle</a> is pretty easy to implement."},{"owner":{"account_id":183316,"reputation":2501,"user_id":418609,"accept_rate":86,"display_name":"adrianp"},"score":2,"creation_date":1366027540,"post_id":16014579,"comment_id":22840850,"body_markdown":"@Dukeling being pedantic probably, but it&#39;s actually called the *Fisher-Yates* algorithm.","body":"@Dukeling being pedantic probably, but it&#39;s actually called the <i>Fisher-Yates</i> algorithm."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1366027641,"post_id":16014579,"comment_id":22840919,"body_markdown":"@adrianp Being pedantic, it&#39;s [&quot;**also** known as the Knuth shuffle&quot;](http://en.wikipedia.org/wiki/Knuth_shuffle). Knuth is easier to remember (for me anyway).","body":"@adrianp Being pedantic, it&#39;s <a href=\"http://en.wikipedia.org/wiki/Knuth_shuffle\" rel=\"nofollow noreferrer\">&quot;<b>also</b> known as the Knuth shuffle&quot;</a>. Knuth is easier to remember (for me anyway)."},{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":1,"creation_date":1366029477,"post_id":16014579,"comment_id":22841966,"body_markdown":"Why would you shuffle without build in classes? Homework?","body":"Why would you shuffle without build in classes? Homework?"},{"owner":{"account_id":2635716,"reputation":51,"user_id":2280464,"accept_rate":12,"display_name":"GreatBambino"},"score":0,"creation_date":1366030437,"post_id":16014579,"comment_id":22842604,"body_markdown":"homework instructions say not to use built-in List classes","body":"homework instructions say not to use built-in List classes"}],"answers":[{"tags":[],"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366027572,"creation_date":1366027572,"answer_id":16014748,"question_id":16014579,"body_markdown":"You can use following code. \r\n\r\n&gt;      public static void shuffleList(List&lt;Integer&gt; a) {\r\n&gt;         int n = a.size();\r\n&gt;         Random random = new Random();\r\n&gt;         random.nextInt();\r\n&gt;         for (int i = 0; i &lt; n; i++) {\r\n&gt;           int change = i + random.nextInt(n - i);\r\n&gt;           swap(a, i, change);\r\n&gt;         }\r\n&gt;       }\r\n&gt;     \r\n&gt;       private static void swap(List&lt;Integer&gt; a, int i, int change) {\r\n&gt;         int helper = a.get(i);\r\n&gt;         a.set(i, a.get(change));\r\n&gt;         a.set(change, helper);\r\n&gt;       }\r\n\r\n\r\nPlease note this has been copied from following link \r\n\r\nhttp://www.vogella.com/articles/JavaAlgorithmsShuffle/article.html\r\n\r\nHope it helps ","title":"How to shuffle an ArrayList without collections","body":"<p>You can use following code. </p>\n\n<blockquote>\n<pre><code> public static void shuffleList(List&lt;Integer&gt; a) {\n    int n = a.size();\n    Random random = new Random();\n    random.nextInt();\n    for (int i = 0; i &lt; n; i++) {\n      int change = i + random.nextInt(n - i);\n      swap(a, i, change);\n    }\n  }\n\n  private static void swap(List&lt;Integer&gt; a, int i, int change) {\n    int helper = a.get(i);\n    a.set(i, a.get(change));\n    a.set(change, helper);\n  }\n</code></pre>\n</blockquote>\n\n<p>Please note this has been copied from following link </p>\n\n<p><a href=\"http://www.vogella.com/articles/JavaAlgorithmsShuffle/article.html\" rel=\"noreferrer\">http://www.vogella.com/articles/JavaAlgorithmsShuffle/article.html</a></p>\n\n<p>Hope it helps </p>\n"},{"tags":[],"owner":{"account_id":1167301,"reputation":1833,"user_id":1145281,"display_name":"Alepac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366034479,"creation_date":1366034479,"answer_id":16017183,"question_id":16014579,"body_markdown":"If you can shuffle your class (probably because is not a list: then you can populate a list, shuffle that list and finnally add the suffled data inside your class:\r\n\r\n\t    final List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\r\n\t\t\t\t\r\n\r\n\t    //fills ArrayList with tokens\r\n\t    for(int i = 1; i &lt;= numTokens; i++) {\r\n\t        tempList.add(i);\t        \r\n\t        \r\n\t    }\r\n\t    \r\n\t    Collections.shuffle(tempList);\r\n\t    \r\n\t    for(Integer i: tempList) {\r\n\t    \tal.add(i);\r\n\t    }","title":"How to shuffle an ArrayList without collections","body":"<p>If you can shuffle your class (probably because is not a list: then you can populate a list, shuffle that list and finnally add the suffled data inside your class:</p>\n\n<pre><code>    final List&lt;Integer&gt; tempList = new ArrayList&lt;Integer&gt;();\n\n\n    //fills ArrayList with tokens\n    for(int i = 1; i &lt;= numTokens; i++) {\n        tempList.add(i);            \n\n    }\n\n    Collections.shuffle(tempList);\n\n    for(Integer i: tempList) {\n        al.add(i);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2641346,"reputation":130,"user_id":2284907,"accept_rate":75,"display_name":"wsalame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474058089,"creation_date":1452800183,"answer_id":34798179,"question_id":16014579,"body_markdown":"Based on @Jabir answer\r\n\r\nFor swapping any type of object (not just Integer)\r\n\r\n    public static &lt;T&gt; void shuffleList(List&lt;T&gt; a) {\r\n        int n = a.size();\r\n        for (int i = 0; i &lt; n; i++) {\r\n          int change = i + Random.nextInt(n - i);\r\n          swap(a, i, change);\r\n        }\r\n      }\r\n    \r\n      private static &lt;T&gt; void swap(List&lt;T&gt; a, int i, int change) {\r\n        T helper = a.get(i);\r\n        a.set(i, a.get(change));\r\n        a.set(change, helper);\r\n      }","title":"How to shuffle an ArrayList without collections","body":"<p>Based on @Jabir answer</p>\n\n<p>For swapping any type of object (not just Integer)</p>\n\n<pre><code>public static &lt;T&gt; void shuffleList(List&lt;T&gt; a) {\n    int n = a.size();\n    for (int i = 0; i &lt; n; i++) {\n      int change = i + Random.nextInt(n - i);\n      swap(a, i, change);\n    }\n  }\n\n  private static &lt;T&gt; void swap(List&lt;T&gt; a, int i, int change) {\n    T helper = a.get(i);\n    a.set(i, a.get(change));\n    a.set(change, helper);\n  }\n</code></pre>\n"}],"owner":{"account_id":2635716,"reputation":51,"user_id":2280464,"accept_rate":12,"display_name":"GreatBambino"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7703,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1659551667,"creation_date":1366027051,"question_id":16014579,"body_markdown":"I have an Array List of &quot;tokens.&quot;, each which contains an integer. I need to rearrange them randomly without using built-in collection classes. Any suggestions?\r\n\r\n    TopSpinArray&lt;Integer&gt; list = new TopSpinArray&lt;Integer&gt;(numTokens, spinSize);\r\n        \r\n    for(int i = 1; i &lt;= numTokens; i++)\r\n        list.add(i);","title":"How to shuffle an ArrayList without collections","body":"<p>I have an Array List of &quot;tokens.&quot;, each which contains an integer. I need to rearrange them randomly without using built-in collection classes. Any suggestions?</p>\n<pre><code>TopSpinArray&lt;Integer&gt; list = new TopSpinArray&lt;Integer&gt;(numTokens, spinSize);\n    \nfor(int i = 1; i &lt;= numTokens; i++)\n    list.add(i);\n</code></pre>\n"},{"tags":["java","okhttp","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659551278,"creation_date":1659551278,"answer_id":73226155,"question_id":73125453,"body_markdown":" Resolved as it does not need the line to add header for Content-Type MULTIPART_FORM_DATA:\r\n\r\n     .addHeader(&quot;Content-Type&quot;, ContentType.MULTIPART_FORM_DATA.toString())","title":"CloseableHttpClient with BasicAuth creds returning 400 error. With same BasicAuth creds OkHttp3 client works well","body":"<p>Resolved as it does not need the line to add header for Content-Type MULTIPART_FORM_DATA:</p>\n<pre><code> .addHeader(&quot;Content-Type&quot;, ContentType.MULTIPART_FORM_DATA.toString())\n</code></pre>\n"}],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659551278,"creation_date":1658846572,"question_id":73125453,"body_markdown":"I have the sample code snippet. It is returning 400 error. With same BasicAuth creds using OkHttp3 client works well. What is missing here? \r\n\r\n    ```\r\n        String BASIC_AUTHORIZAION = &quot;Basic *********&quot;; // masked\r\n        \r\n        String reportRequest = &quot;{***}&quot;; //json string\r\n   \r\n        CloseableHttpClient client = HttpClientBuilder.create().build();\r\n\r\n        FormBodyPart bodyPart = FormBodyPartBuilder\r\n            .create()\r\n            .setName(&quot;ReportRequest&quot;)\r\n            .setBody(new StringBody(reportRequest, ContentType.APPLICATION_JSON))\r\n            .build();\r\n\r\n        HttpEntity requestEntity = MultipartEntityBuilder\r\n            .create()\r\n            .addPart(bodyPart)\r\n            .addTextBody(&quot;type&quot;, ContentType.APPLICATION_JSON.toString())\r\n            .build();\r\n\r\n        HttpUriRequest httpPost = RequestBuilder\r\n            .post(MPG_MESSAGE_STATUS_REPORT_URL)\r\n            .addHeader(&quot;Content-Type&quot;, ContentType.MULTIPART_FORM_DATA.toString())\r\n            .addHeader(&quot;Authorization&quot;, BASIC_AUTHORIZAION)\r\n            .setEntity(requestEntity)\r\n            .build();\r\n\r\n        HttpResponse response = client.execute(httpPost);\r\n```","title":"CloseableHttpClient with BasicAuth creds returning 400 error. With same BasicAuth creds OkHttp3 client works well","body":"<p>I have the sample code snippet. It is returning 400 error. With same BasicAuth creds using OkHttp3 client works well. What is missing here?</p>\n<pre><code>```\n    String BASIC_AUTHORIZAION = &quot;Basic *********&quot;; // masked\n    \n    String reportRequest = &quot;{***}&quot;; //json string\n\n    CloseableHttpClient client = HttpClientBuilder.create().build();\n\n    FormBodyPart bodyPart = FormBodyPartBuilder\n        .create()\n        .setName(&quot;ReportRequest&quot;)\n        .setBody(new StringBody(reportRequest, ContentType.APPLICATION_JSON))\n        .build();\n\n    HttpEntity requestEntity = MultipartEntityBuilder\n        .create()\n        .addPart(bodyPart)\n        .addTextBody(&quot;type&quot;, ContentType.APPLICATION_JSON.toString())\n        .build();\n\n    HttpUriRequest httpPost = RequestBuilder\n        .post(MPG_MESSAGE_STATUS_REPORT_URL)\n        .addHeader(&quot;Content-Type&quot;, ContentType.MULTIPART_FORM_DATA.toString())\n        .addHeader(&quot;Authorization&quot;, BASIC_AUTHORIZAION)\n        .setEntity(requestEntity)\n        .build();\n\n    HttpResponse response = client.execute(httpPost);\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1659543009,"post_id":73224428,"comment_id":129320684,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":21417788,"reputation":187,"user_id":15776754,"display_name":"spring00"},"score":1,"creation_date":1659545782,"post_id":73224428,"comment_id":129321629,"body_markdown":"I think somewhere you need to decrement the numBurg  otherwise the while loop will go infinite(as long as &gt;0).\nSupposing x as your current burger check if is equal to numBurg and make\ntime ++;\nq.add(x --);\nnumBurg -- ;","body":"I think somewhere you need to decrement the numBurg  otherwise the while loop will go infinite(as long as &gt;0). Supposing x as your current burger check if is equal to numBurg and make time ++; q.add(x --); numBurg -- ;"},{"owner":{"account_id":22906161,"reputation":1,"user_id":17044209,"display_name":"Ajmer Thethy"},"score":0,"creation_date":1659546183,"post_id":73224428,"comment_id":129321766,"body_markdown":"@spring00  Ok. But i am still to believe that while the position we are calculating for is placed at the tail of the queue, i still have to compute the time for the next person in the head and on and on until person p goes to zero? How would I do that?","body":"@spring00  Ok. But i am still to believe that while the position we are calculating for is placed at the tail of the queue, i still have to compute the time for the next person in the head and on and on until person p goes to zero? How would I do that?"},{"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1659549203,"post_id":73224428,"comment_id":129322867,"body_markdown":"It would be great if you could put a bit more love and effort into the formatting of your question. There is superfluous space in the code. Not all code is inside the code formatting. As mentioned, improve the title.","body":"It would be great if you could put a bit more love and effort into the formatting of your question. There is superfluous space in the code. Not all code is inside the code formatting. As mentioned, improve the title."}],"answers":[{"tags":[],"owner":{"account_id":13755852,"reputation":1,"user_id":9926825,"display_name":"Chaitanya Arepalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659548312,"creation_date":1659548217,"answer_id":73225569,"question_id":73224428,"body_markdown":"You need not use queue for this, and also in your solution it seems that you are not reducing numBurg(which makes the queue run infinitely) and also you need to keep track of index of numBurg. Then I guess it would work. Below is my solution\r\n\r\n    int time = 0;\r\n    int p_value = burgers[p];\r\n    for(int i=0;i&lt;burgers.length;i++){\r\n      if(burgers[p] &gt; p_value) time+=p_value;\r\n      else time+=burgers[p];\r\n      if(i == p) p_value-=1;\r\n    }\r\n    return time;\r\n\r\nExplanation: you need to reduce burgers[p] value from all the elements in array until you reach p but after that you can stop so the prior elements will have only p-1 reduced in them as we can stop after we reach p. and also if someone needs less burgers they will only participate until they reach 0. This would be O(n) with no extra space solution.\r\n\r\n\r\n ","title":"Using Queue Data Structure to solve problem","body":"<p>You need not use queue for this, and also in your solution it seems that you are not reducing numBurg(which makes the queue run infinitely) and also you need to keep track of index of numBurg. Then I guess it would work. Below is my solution</p>\n<pre><code>int time = 0;\nint p_value = burgers[p];\nfor(int i=0;i&lt;burgers.length;i++){\n  if(burgers[p] &gt; p_value) time+=p_value;\n  else time+=burgers[p];\n  if(i == p) p_value-=1;\n}\nreturn time;\n</code></pre>\n<p>Explanation: you need to reduce burgers[p] value from all the elements in array until you reach p but after that you can stop so the prior elements will have only p-1 reduced in them as we can stop after we reach p. and also if someone needs less burgers they will only participate until they reach 0. This would be O(n) with no extra space solution.</p>\n"},{"tags":[],"owner":{"account_id":21417788,"reputation":187,"user_id":15776754,"display_name":"spring00"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659549379,"creation_date":1659549379,"answer_id":73225802,"question_id":73224428,"body_markdown":"      public int calcTimeReqToBuyBurgers(int[] burgers, int p)\r\n       {\r\n     Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();\r\n\r\n       for (int burger : burgers){\r\n          q.add(burger);}\r\n       int time = 0;\r\n       int i = 0;\r\n\r\n    int numBurg = burgers[p];\r\n    while(numBurg &gt; 0) {\r\n        int curr = q.remove();\r\n        if(curr == 1){time  ++;}\r\n        if(curr &gt; 1){\r\n            q.add(curr);\r\n            time ++;\r\n        }\r\n        if(curr == numBurg){\r\n            q.add(curr -- );\r\n            numBurg --;\r\n            time ++;\r\n        }\r\n\r\n     }\r\n\r\n     return time;\r\n     } \r\n\r\n    public static void main(String[] args) {\r\n    A4Q2  ex = new A4Q2 ();\r\n    int [] burgers= new int [] {3,2,4,1};\r\n    int time=ex.calcTimeReqToBuyBurgers(burgers,1);\r\n    System.out.println(&quot;time &quot;+time);\r\n    \r\n\r\n    }\r\n\r\n ","title":"Using Queue Data Structure to solve problem","body":"<pre><code>  public int calcTimeReqToBuyBurgers(int[] burgers, int p)\n   {\n Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();\n\n   for (int burger : burgers){\n      q.add(burger);}\n   int time = 0;\n   int i = 0;\n\nint numBurg = burgers[p];\nwhile(numBurg &gt; 0) {\n    int curr = q.remove();\n    if(curr == 1){time  ++;}\n    if(curr &gt; 1){\n        q.add(curr);\n        time ++;\n    }\n    if(curr == numBurg){\n        q.add(curr -- );\n        numBurg --;\n        time ++;\n    }\n\n }\n\n return time;\n } \n\npublic static void main(String[] args) {\nA4Q2  ex = new A4Q2 ();\nint [] burgers= new int [] {3,2,4,1};\nint time=ex.calcTimeReqToBuyBurgers(burgers,1);\nSystem.out.println(&quot;time &quot;+time);\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":22906161,"reputation":1,"user_id":17044209,"display_name":"Ajmer Thethy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659551257,"creation_date":1659542705,"question_id":73224428,"body_markdown":"My code involves me to calculate the amount of time required for a person in a certain position in a queue to buy burgers with the index of the burgers array showing an integer of the amount of burgers a person ordered. Each time a person at the head buys a burger they are taken to the tail and have one burger removed and 1 time value added. I have to find the amount of time it takes for the person at what position I inputted to find the time to buy all of their burgers. \r\n\r\nHere is my code:\r\n\r\n    import java.util.Queue;\r\n    \r\n    public class A4Q2 {\r\n        \r\n    \r\n        public int calcTimeReqToBuyBurgers(int[] burgers, int p)\r\n        {\r\n            Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();\r\n    \r\n            q.addAll(burgers);\r\n    \r\n            int time = 0;\r\n            int i = 0;\r\n    \r\n            numBurg = burgers[p];\r\n    \r\n            while(numBurg &gt; 0) {\r\n                int x = q.remove();\r\n                x--;\r\n                if(x != 0) {\r\n                    q.add(x);\r\n                }\r\n                time +=1;\r\n    \r\n                \r\n    \r\n            }\r\n    \r\n            \r\n          \r\n            return time;\r\n        } \r\n    \r\n        public static void main(String[] args) {\r\n            A4Q2 ex = new A4Q2();\r\n            \r\n    \r\n        }\r\n    }\r\n\r\nI do not know where to go from here or if I am even doing this right. I know my question might look a little messy but I am still new to this website. Can someone help me?","title":"Using Queue Data Structure to solve problem","body":"<p>My code involves me to calculate the amount of time required for a person in a certain position in a queue to buy burgers with the index of the burgers array showing an integer of the amount of burgers a person ordered. Each time a person at the head buys a burger they are taken to the tail and have one burger removed and 1 time value added. I have to find the amount of time it takes for the person at what position I inputted to find the time to buy all of their burgers.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Queue;\n\npublic class A4Q2 {\n    \n\n    public int calcTimeReqToBuyBurgers(int[] burgers, int p)\n    {\n        Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();\n\n        q.addAll(burgers);\n\n        int time = 0;\n        int i = 0;\n\n        numBurg = burgers[p];\n\n        while(numBurg &gt; 0) {\n            int x = q.remove();\n            x--;\n            if(x != 0) {\n                q.add(x);\n            }\n            time +=1;\n\n            \n\n        }\n\n        \n      \n        return time;\n    } \n\n    public static void main(String[] args) {\n        A4Q2 ex = new A4Q2();\n        \n\n    }\n}\n</code></pre>\n<p>I do not know where to go from here or if I am even doing this right. I know my question might look a little messy but I am still new to this website. Can someone help me?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":3,"creation_date":1659548864,"post_id":73225445,"comment_id":129322752,"body_markdown":"Please share your **attempt** to address the problem and specify the issues you&#39;ve encountered.","body":"Please share your <b>attempt</b> to address the problem and specify the issues you&#39;ve encountered."}],"answers":[{"tags":[],"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659547912,"creation_date":1659547912,"answer_id":73225520,"question_id":73225445,"body_markdown":"DISCLAIMER: This isn&#39;t the efficient way with streams or something fancy that you could do in just a couple lines, but it is a simple easy-to-follow way. Why not just do something simple like this? Iterate over the list length and sum that column via the index:\r\n``` \r\nList&lt;List&lt;BigDecimal&gt;&gt; matrix = &lt;&lt;your matrix here&gt;&gt;\r\nList&lt;BigDecimal&gt; columnSum= new List&lt;BigDecimal&gt;;\r\n// For each column\r\nfor(int i = 0; i &lt; matrix.get(0).size()-1; i++){\r\n      int sum = 0;\r\n      for(List&lt;BigDecimal&gt; row : matrix){\r\n            sum += row.get(i);\r\n      }\r\n      columnSum.add(BigDecimal(sum));\r\n}\r\n```\r\n","title":"Vertical sum using java stream api","body":"<p>DISCLAIMER: This isn't the efficient way with streams or something fancy that you could do in just a couple lines, but it is a simple easy-to-follow way. Why not just do something simple like this? Iterate over the list length and sum that column via the index:</p>\n<pre><code>List&lt;List&lt;BigDecimal&gt;&gt; matrix = &lt;&lt;your matrix here&gt;&gt;\nList&lt;BigDecimal&gt; columnSum= new List&lt;BigDecimal&gt;;\n// For each column\nfor(int i = 0; i &lt; matrix.get(0).size()-1; i++){\n      int sum = 0;\n      for(List&lt;BigDecimal&gt; row : matrix){\n            sum += row.get(i);\n      }\n      columnSum.add(BigDecimal(sum));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16254852,"reputation":81,"user_id":11737731,"display_name":"Darshak Kachchhi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659551004,"creation_date":1659551004,"answer_id":73226107,"question_id":73225445,"body_markdown":"One way to transform the 2D list is to map to an object and by collecting that list we can find the transpose of the 2D list as below:\r\n\r\n    List&lt;List&lt;BigDecimal&gt;&gt; result = IntStream.range(0, list.get(0).size())\r\n    \t\t\t\t\t\t.mapToObj(i -&gt; list.stream().map(l -&gt; l.get(i)).collect(Collectors.toList()))\r\n    \t\t\t\t\t\t.collect(Collectors.toList());\r\n\r\nAnd Without transposing, you can directly find the sum of the list using reduce function below:\r\n\r\n    List&lt;BigDecimal&gt; result = IntStream.range(0, list.get(0).size())\r\n    \t\t\t\t\t\t.mapToObj(i -&gt; list.stream().map(l -&gt; l.get(i)).reduce(BigDecimal.ZERO, BigDecimal::add))\r\n    \t\t\t\t\t\t.collect(Collectors.toList());","title":"Vertical sum using java stream api","body":"<p>One way to transform the 2D list is to map to an object and by collecting that list we can find the transpose of the 2D list as below:</p>\n<pre><code>List&lt;List&lt;BigDecimal&gt;&gt; result = IntStream.range(0, list.get(0).size())\n                        .mapToObj(i -&gt; list.stream().map(l -&gt; l.get(i)).collect(Collectors.toList()))\n                        .collect(Collectors.toList());\n</code></pre>\n<p>And Without transposing, you can directly find the sum of the list using reduce function below:</p>\n<pre><code>List&lt;BigDecimal&gt; result = IntStream.range(0, list.get(0).size())\n                        .mapToObj(i -&gt; list.stream().map(l -&gt; l.get(i)).reduce(BigDecimal.ZERO, BigDecimal::add))\n                        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":10999814,"reputation":597,"user_id":8498513,"display_name":"donquih0te"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1659551004,"creation_date":1659547493,"question_id":73225445,"body_markdown":"Imagine that I have a matrix of integer elements `List&lt;List&lt;BigDecimal&gt;&gt;`:\r\n\r\n```\r\n-------------\r\n| 1 | 2 | 3 |\r\n-------------\r\n| 2 | 3 | 4 |\r\n-------------\r\n| 3 | 4 | 5 |\r\n-------------\r\n| 4 | 5 | 6 |\r\n-------------\r\n```\r\n\r\nI want to vertically sum the elements of a matrix and get a `List&lt;BigDecimal&gt;` &lt;br&gt;\r\n`[10, 14, 18]`\r\n\r\nI suppose first I have to transpose the matrix and then it&#39;s easy to get the sum of the elements. But how to perfectly transpose a matrix using stream api??","title":"Vertical sum using java stream api","body":"<p>Imagine that I have a matrix of integer elements <code>List&lt;List&lt;BigDecimal&gt;&gt;</code>:</p>\n<pre><code>-------------\n| 1 | 2 | 3 |\n-------------\n| 2 | 3 | 4 |\n-------------\n| 3 | 4 | 5 |\n-------------\n| 4 | 5 | 6 |\n-------------\n</code></pre>\n<p>I want to vertically sum the elements of a matrix and get a <code>List&lt;BigDecimal&gt;</code> <br>\n<code>[10, 14, 18]</code></p>\n<p>I suppose first I have to transpose the matrix and then it's easy to get the sum of the elements. But how to perfectly transpose a matrix using stream api??</p>\n"},{"tags":["java","footer","openpdf"],"answers":[{"tags":[],"owner":{"account_id":21337285,"reputation":72,"user_id":15708327,"display_name":"WARUTS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653694543,"creation_date":1653240885,"answer_id":72339902,"question_id":61938500,"body_markdown":"You need to know the page size and calculate from there.\r\n\r\nYou can use\r\n~~~\r\nshowTextAligned(ELEMENT.ALIGN_BOTTOM)\r\n~~~","title":"OpenPDF: Table not located in footer","body":"<p>You need to know the page size and calculate from there.</p>\n<p>You can use</p>\n<pre><code>showTextAligned(ELEMENT.ALIGN_BOTTOM)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464328,"reputation":219,"user_id":2147769,"accept_rate":80,"display_name":"Kasper Helsted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659550704,"creation_date":1659550704,"answer_id":73226046,"question_id":61938500,"body_markdown":"This was a bug with OpenPDF, which should have been fixed now.\r\nhttps://github.com/LibrePDF/OpenPDF/issues/373","title":"OpenPDF: Table not located in footer","body":"<p>This was a bug with OpenPDF, which should have been fixed now.\n<a href=\"https://github.com/LibrePDF/OpenPDF/issues/373\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF/issues/373</a></p>\n"}],"owner":{"account_id":2464328,"reputation":219,"user_id":2147769,"accept_rate":80,"display_name":"Kasper Helsted"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73226046,"answer_count":2,"score":3,"last_activity_date":1659550704,"creation_date":1590076408,"question_id":61938500,"body_markdown":"When I add a table to the footer of the page, the footer resizes to the right size, however, the table does not stay within this footer, however it locates itself at the top of the page.\r\n\r\nI have created a test scenario to illustrate what I mean.\r\n\r\n```\r\npublic class TestClass {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Document document = new Document(PageSize.A4);\r\n\r\n            PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(&quot;fail.pdf&quot;));\r\n\r\n            PdfPTable table = new PdfPTable(2);\r\n            table.setWidthPercentage(100);\r\n            table.addCell(new PdfPCell(new Paragraph(&quot;CONTENT&quot;)));\r\n            table.addCell(new PdfPCell(new Paragraph(&quot;CONTENT&quot;)));\r\n\r\n            Paragraph footerParagraph = new Paragraph();\r\n            footerParagraph.add(table);\r\n            HeaderFooter footer = new HeaderFooter(footerParagraph, false);\r\n            footer.setAlignment(Element.ALIGN_CENTER);\r\n\r\n            document.setFooter(footer);\r\n\r\n            document.open();\r\n\r\n            document.add(new Paragraph(&quot;Hello World&quot;));\r\n            document.close();\r\n        } catch (Exception ex) {\r\n            System.out.println(ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this example the the footer has the correct size for the table:\r\n[![Empty footer where the table should be ][1]][1]\r\n\r\n\r\nHowever as mentioned the table is not located at the bottom, but at the top:\r\n[![The table is located at the top of the page, on top of the other content][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wd1zE.png\r\n  [2]: https://i.stack.imgur.com/3NDLM.png","title":"OpenPDF: Table not located in footer","body":"<p>When I add a table to the footer of the page, the footer resizes to the right size, however, the table does not stay within this footer, however it locates itself at the top of the page.</p>\n\n<p>I have created a test scenario to illustrate what I mean.</p>\n\n<pre><code>public class TestClass {\n    public static void main(String[] args) {\n        try {\n            Document document = new Document(PageSize.A4);\n\n            PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(\"fail.pdf\"));\n\n            PdfPTable table = new PdfPTable(2);\n            table.setWidthPercentage(100);\n            table.addCell(new PdfPCell(new Paragraph(\"CONTENT\")));\n            table.addCell(new PdfPCell(new Paragraph(\"CONTENT\")));\n\n            Paragraph footerParagraph = new Paragraph();\n            footerParagraph.add(table);\n            HeaderFooter footer = new HeaderFooter(footerParagraph, false);\n            footer.setAlignment(Element.ALIGN_CENTER);\n\n            document.setFooter(footer);\n\n            document.open();\n\n            document.add(new Paragraph(\"Hello World\"));\n            document.close();\n        } catch (Exception ex) {\n            System.out.println(ex);\n        }\n    }\n}\n</code></pre>\n\n<p>In this example the the footer has the correct size for the table:\n<a href=\"https://i.stack.imgur.com/Wd1zE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wd1zE.png\" alt=\"Empty footer where the table should be \"></a></p>\n\n<p>However as mentioned the table is not located at the bottom, but at the top:\n<a href=\"https://i.stack.imgur.com/3NDLM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3NDLM.png\" alt=\"The table is located at the top of the page, on top of the other content\"></a></p>\n"},{"tags":["java","google-cloud-platform","mqtt","iot","paho"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1659558350,"post_id":73226044,"comment_id":129325828,"body_markdown":"Add some code so that we can see what you are doing.","body":"Add some code so that we can see what you are doing."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1659558362,"post_id":73226044,"comment_id":129325834,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"score":0,"creation_date":1665887011,"post_id":73226044,"comment_id":130803122,"body_markdown":"I think u need to send QoS 0, so that it doesnt try again and you&#39;ll get the error on timeout","body":"I think u need to send QoS 0, so that it doesnt try again and you&#39;ll get the error on timeout"}],"owner":{"account_id":5316681,"reputation":1,"user_id":10242910,"display_name":"Jacob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659550702,"creation_date":1659550702,"question_id":73226044,"body_markdown":"I am sending an attach message to Google Cloud IoT Core with QoS 1 (as required by Google docs). However, I am finding that if the device has not been bound to the gateway, then the program times out until the client disconnects from the broker. \r\n\r\nThe eclipse paho client.publish method is blocking, so the program will never continue and the attach logic is done when the program starts.\r\n\r\nI have tried using future/executor service to set a timeout on the client.publish method but paho throws an interrupted exception and re-sends the message. How can I set a timeout on this method in the correct way (so I can receive the error and the program can continue)?\r\n\r\nThanks.","title":"Interrupt Eclipse Paho MQTT publish method (Google Cloud) safely?","body":"<p>I am sending an attach message to Google Cloud IoT Core with QoS 1 (as required by Google docs). However, I am finding that if the device has not been bound to the gateway, then the program times out until the client disconnects from the broker.</p>\n<p>The eclipse paho client.publish method is blocking, so the program will never continue and the attach logic is done when the program starts.</p>\n<p>I have tried using future/executor service to set a timeout on the client.publish method but paho throws an interrupted exception and re-sends the message. How can I set a timeout on this method in the correct way (so I can receive the error and the program can continue)?</p>\n<p>Thanks.</p>\n"},{"tags":["java","linked-list","stack"],"comments":[{"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"score":2,"creation_date":1366303915,"post_id":16088811,"comment_id":22969143,"body_markdown":"you can always traverse a list up to its tail. though it would be least efficient not to keep the reference to last node.","body":"you can always traverse a list up to its tail. though it would be least efficient not to keep the reference to last node."},{"owner":{"account_id":2582078,"reputation":326,"user_id":2238534,"display_name":"Guillermo Ren&#233; Ram&#237;rez"},"score":0,"creation_date":1366304049,"post_id":16088811,"comment_id":22969217,"body_markdown":"That&#39;s called a queue. And yeah, just traverse the list every time.","body":"That&#39;s called a queue. And yeah, just traverse the list every time."},{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1366304123,"post_id":16088811,"comment_id":22969259,"body_markdown":"I think you are confused about what the head is and what the tail is","body":"I think you are confused about what the head is and what the tail is"}],"answers":[{"tags":[],"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366304182,"creation_date":1366304182,"answer_id":16088940,"question_id":16088811,"body_markdown":"You *could* do this but it would be pretty inefficient because you have to go through the entire list every time you want to do something. There really isn&#39;t any reason why you would want to keep a reference to the head while all the operations are performed at the tail.\r\n\r\nBut here&#39;s how I would do it anyway:\r\n\r\n    class Entry&lt;E&gt; {\r\n        E object;\r\n        Entry&lt;E&gt; next;\r\n        public Entry(E obj) {\r\n            object = obj;\r\n        }\r\n    }\r\n    \r\n    class StackList&lt;E&gt; {\r\n        Entry&lt;E&gt; head;\r\n        public void push(E element) {\r\n            if (head == null) {\r\n                // first\r\n                head = new Entry&lt;E&gt;(element);\r\n                return;\r\n            }\r\n            Entry&lt;E&gt; node = head;\r\n            while (node != null &amp;&amp; node.next != null) {\r\n                node = node.next;\r\n            }\r\n            // node is now the tail\r\n            Entry&lt;E&gt; newEntry = new Entry&lt;E&gt;(element);\r\n            node.next = newEntry;\r\n        }\r\n        public E pop() {\r\n            if (head == null) {\r\n                // empty\r\n                return null;\r\n            }\r\n            Entry&lt;E&gt; node = head, previousNode = null;\r\n            while (node.next != null) {\r\n                previousNode = node;\r\n                node = node.next;\r\n            }\r\n            // node is now the tail\r\n            // previousNode is the next-to-last\r\n            if (previousNode != null) {\r\n                previousNode.next = null;\r\n            } else {\r\n                // there was only one thing\r\n                head = null;\r\n            }\r\n            return node.object;\r\n        }\r\n    }","title":"Stack operations using Linked LIst in Java","body":"<p>You <em>could</em> do this but it would be pretty inefficient because you have to go through the entire list every time you want to do something. There really isn't any reason why you would want to keep a reference to the head while all the operations are performed at the tail.</p>\n\n<p>But here's how I would do it anyway:</p>\n\n<pre><code>class Entry&lt;E&gt; {\n    E object;\n    Entry&lt;E&gt; next;\n    public Entry(E obj) {\n        object = obj;\n    }\n}\n\nclass StackList&lt;E&gt; {\n    Entry&lt;E&gt; head;\n    public void push(E element) {\n        if (head == null) {\n            // first\n            head = new Entry&lt;E&gt;(element);\n            return;\n        }\n        Entry&lt;E&gt; node = head;\n        while (node != null &amp;&amp; node.next != null) {\n            node = node.next;\n        }\n        // node is now the tail\n        Entry&lt;E&gt; newEntry = new Entry&lt;E&gt;(element);\n        node.next = newEntry;\n    }\n    public E pop() {\n        if (head == null) {\n            // empty\n            return null;\n        }\n        Entry&lt;E&gt; node = head, previousNode = null;\n        while (node.next != null) {\n            previousNode = node;\n            node = node.next;\n        }\n        // node is now the tail\n        // previousNode is the next-to-last\n        if (previousNode != null) {\n            previousNode.next = null;\n        } else {\n            // there was only one thing\n            head = null;\n        }\n        return node.object;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2635716,"reputation":51,"user_id":2280464,"accept_rate":12,"display_name":"GreatBambino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1659550681,"creation_date":1366303784,"question_id":16088811,"body_markdown":"I need to write a class that implements a stack using a linked list.  The twist is that it should perform the push and pop operations from the tail of the list instead of the head, without maintaining a reference to the listâs tail node.\r\n\r\nHow can I achieve this without keeping a reference to the tail node?","title":"Stack operations using Linked LIst in Java","body":"<p>I need to write a class that implements a stack using a linked list.  The twist is that it should perform the push and pop operations from the tail of the list instead of the head, without maintaining a reference to the listâs tail node.</p>\n<p>How can I achieve this without keeping a reference to the tail node?</p>\n"},{"tags":["java","bazel","bazel-rules","bazel-java"],"answers":[{"tags":[],"owner":{"account_id":2421862,"reputation":1343,"user_id":5157998,"accept_rate":59,"display_name":"rishi007bansod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659550616,"creation_date":1659550616,"answer_id":73226029,"question_id":73224671,"body_markdown":"Setting bazel toolchain and updating `.bazelrc` file with below contents solved my issue ----&gt;\r\n\r\n```\r\n$ cat ~/.bazelrc\r\nstartup --server_javabase=/build/toolchain/lin64/jdk-1.8.0_201\r\n\r\nstartup --host_jvm_args=-Xms2G\r\nstartup --host_jvm_args=-Xmx2G\r\n\r\nbuild --remote_http_cache=http://127.0.0.1:9090\r\nbuild --remote_upload_local_results=true\r\nbuild --remote_timeout=15\r\n``` ","title":"Java Bazel Build Error : java/toolchains/bootclasspath_classes/DumpPlatformClassPath.class [for host] failed: not all outputs were created or valid","body":"<p>Setting bazel toolchain and updating <code>.bazelrc</code> file with below contents solved my issue ----&gt;</p>\n<pre><code>$ cat ~/.bazelrc\nstartup --server_javabase=/build/toolchain/lin64/jdk-1.8.0_201\n\nstartup --host_jvm_args=-Xms2G\nstartup --host_jvm_args=-Xmx2G\n\nbuild --remote_http_cache=http://127.0.0.1:9090\nbuild --remote_upload_local_results=true\nbuild --remote_timeout=15\n</code></pre>\n"}],"owner":{"account_id":2421862,"reputation":1343,"user_id":5157998,"accept_rate":59,"display_name":"rishi007bansod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73226029,"answer_count":1,"score":0,"last_activity_date":1659550616,"creation_date":1659543805,"question_id":73224671,"body_markdown":"Getting following error while building java bazel project --&gt;\r\n```\r\n$ bazel build :all\r\nINFO: Invocation ID: f3087fe5-67a5-4b0f-a3a8-a61b3bbfa869\r\nWARNING: /home/ess/.cache/bazel/_bazel_ess/4fc692f493f73198611cffef8bfaa09d/external/cayman_zlib/BUILD.bazel:77:11: in linkstatic attribute of cc_library rule @cayman_zlib//:zlib: setting &#39;linkstatic=1&#39; is recommended if there are no object files\r\nINFO: Analyzed 23 targets (0 packages loaded, 0 targets configured).\r\nINFO: Found 23 targets...\r\nERROR: /home/ess/.cache/bazel/_bazel_ess/4fc692f493f73198611cffef8bfaa09d/external/prj_build/java/toolchains/BUILD:13:14: output &#39;external/prj_build/java/toolchains/bootclasspath_classes/DumpPlatformClassPath.class&#39; was not created\r\nERROR: /home/ess/.cache/bazel/_bazel_ess/4fc692f493f73198611cffef8bfaa09d/external/prj_build/java/toolchains/BUILD:13:14: Action external/prj_build/java/toolchains/bootclasspath_classes/DumpPlatformClassPath.class [for host] failed: not all outputs were created or valid\r\nINFO: Elapsed time: 0.794s, Critical Path: 0.43s\r\nINFO: 3 processes: 1 remote cache hit, 2 internal.\r\nFAILED: Build did NOT complete successfully\r\n\r\n```\r\nhow can I resolve this bazel build issue?\r\nBazel version I am using is `4.0.0`","title":"Java Bazel Build Error : java/toolchains/bootclasspath_classes/DumpPlatformClassPath.class [for host] failed: not all outputs were created or valid","body":"<p>Getting following error while building java bazel project --&gt;</p>\n<pre><code>$ bazel build :all\nINFO: Invocation ID: f3087fe5-67a5-4b0f-a3a8-a61b3bbfa869\nWARNING: /home/ess/.cache/bazel/_bazel_ess/4fc692f493f73198611cffef8bfaa09d/external/cayman_zlib/BUILD.bazel:77:11: in linkstatic attribute of cc_library rule @cayman_zlib//:zlib: setting 'linkstatic=1' is recommended if there are no object files\nINFO: Analyzed 23 targets (0 packages loaded, 0 targets configured).\nINFO: Found 23 targets...\nERROR: /home/ess/.cache/bazel/_bazel_ess/4fc692f493f73198611cffef8bfaa09d/external/prj_build/java/toolchains/BUILD:13:14: output 'external/prj_build/java/toolchains/bootclasspath_classes/DumpPlatformClassPath.class' was not created\nERROR: /home/ess/.cache/bazel/_bazel_ess/4fc692f493f73198611cffef8bfaa09d/external/prj_build/java/toolchains/BUILD:13:14: Action external/prj_build/java/toolchains/bootclasspath_classes/DumpPlatformClassPath.class [for host] failed: not all outputs were created or valid\nINFO: Elapsed time: 0.794s, Critical Path: 0.43s\nINFO: 3 processes: 1 remote cache hit, 2 internal.\nFAILED: Build did NOT complete successfully\n\n</code></pre>\n<p>how can I resolve this bazel build issue?\nBazel version I am using is <code>4.0.0</code></p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1659302600,"post_id":73186935,"comment_id":129256840,"body_markdown":"[The Oracle tutorial page on Prepared Statements](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html) might have some useful information for you.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">The Oracle tutorial page on Prepared Statements</a> might have some useful information for you."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1659302860,"post_id":73186935,"comment_id":129256888,"body_markdown":"Just an observation: where you have `&quot;VALUES (title, ...`, I assume that should be `&quot;VALUES (&#39;title&#39;, ...` and so on. The values needs to be in single quotes if you are hard-coding them all in the SQL statement. (Also, [edit] your question to show the full error message.)","body":"Just an observation: where you have <code>&quot;VALUES (title, ...</code>, I assume that should be <code>&quot;VALUES (&#39;title&#39;, ...</code> and so on. The values needs to be in single quotes if you are hard-coding them all in the SQL statement. (Also, <a href=\"https://stackoverflow.com/posts/73186935/edit\">edit</a> your question to show the full error message.)"},{"owner":{"account_id":11706021,"reputation":45,"user_id":8569575,"display_name":"Itzik"},"score":0,"creation_date":1659305250,"post_id":73186935,"comment_id":129257285,"body_markdown":"@andrewJames. Thank you. \nI edited the question and I realised that the &quot;if&quot; statement is not responding. I did that by asking System.out.println. and got no reply. Can you see what is wrong with my if statement (registrationForm) please?","body":"@andrewJames. Thank you.  I edited the question and I realised that the &quot;if&quot; statement is not responding. I did that by asking System.out.println. and got no reply. Can you see what is wrong with my if statement (registrationForm) please?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659306986,"post_id":73186935,"comment_id":129257513,"body_markdown":"The code in your question still shows an invalid SQL statement (as per my previous comment) - one that should throw a `SQLException` with an error message. I don&#39;t know why you are not apparently seeing any error message for that.","body":"The code in your question still shows an invalid SQL statement (as per my previous comment) - one that should throw a <code>SQLException</code> with an error message. I don&#39;t know why you are not apparently seeing any error message for that."},{"owner":{"account_id":11706021,"reputation":45,"user_id":8569575,"display_name":"Itzik"},"score":0,"creation_date":1659308290,"post_id":73186935,"comment_id":129257671,"body_markdown":"I am using Eclipse as the IDE and I fixed the if statement for system print. I also intentionally misspelled one of the columns in the Model class and got a message that they cannot find the column. When I fixed t, I have gotten no messages but at the end of the day, it just doesn&#39;t record anything @andrewJames","body":"I am using Eclipse as the IDE and I fixed the if statement for system print. I also intentionally misspelled one of the columns in the Model class and got a message that they cannot find the column. When I fixed t, I have gotten no messages but at the end of the day, it just doesn&#39;t record anything @andrewJames"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659308513,"post_id":73186935,"comment_id":129257708,"body_markdown":"OK, but show us the code you are actually running. What do you mean by &quot;it doesn&#39;t record anything&quot;? Are you saying the INSERT does not insert any data into the table? If so, how do you know that?","body":"OK, but show us the code you are actually running. What do you mean by &quot;it doesn&#39;t record anything&quot;? Are you saying the INSERT does not insert any data into the table? If so, how do you know that?"}],"answers":[{"tags":[],"owner":{"account_id":11706021,"reputation":45,"user_id":8569575,"display_name":"Itzik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659549863,"creation_date":1659549863,"answer_id":73225892,"question_id":73186935,"body_markdown":"I redone the if Statement below. I first needed to initialise `prepareStatment` which I named `pst`. Please see code below\r\n\r\n    public void actionPerformed(java.awt.event.ActionEvent e1) {\r\n\t\tif (e1.getSource() == regButton) {\r\n\t\t\tregInput.dispose();  \r\n\t\t\tConnection con = Model.connect();\r\n\t\t\t\r\n\t\t\tString query = &quot;insert into registrationAtm values(?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\r\n\t\t\t\r\n\r\n\t\t\ttry {\r\n\t\t\t\tpst = con.prepareStatement(query);\r\n\t\t\t\tpst.setString(2,((String) title.getSelectedItem().toString()));\r\n\t\t\t\tpst.setString(3, firstNameT.getText());\r\n\t\t\t\tpst.setString(4, lastNameT.getText());\r\n\t\t\t\tpst.setString(5, addT.getText());\r\n\t\t\t\tpst.setString(6, cityT.getText());\r\n\t\t\t\tpst.setString(7, postcodeT.getText());\r\n\t\t\t\tpst.setInt(8, Integer.parseInt((String) dates.getSelectedItem().toString()));\r\n\t\t\t\tpst.setString(9, (String) months.getSelectedItem());\r\n\t\t\t\tpst.setInt(10, Integer.parseInt((String) years.getSelectedItem().toString()));\r\n\t\t\t\tpst.setString(11, emailT.getText());\r\n\t\t\t\tpst.setString(12, passwordT.getText());\r\n\t\t\t\t\r\n\t\t\t\tpst.execute();\r\n\t\t\t\t\r\n\t\t\t\tString query2 = &quot;insert into detailsAtm values (?,?)&quot;; \r\n\t\t\t\tpst2 = con.prepareStatement(query2);\r\n\t\t\t\tpst2.setString(2, companyText.getText());\r\n\t\t\t\tpst2.setString(3, communityText.getText());\r\n\t\t\t\tpst2.execute();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\t} else if (e1.getSource() == cancelButton) {\r\n\t\t\tSystem.out.print(&quot;Cancel&quot;);\r\n\r\n\t\t}\r\n\t}","title":"Sqlite connected but information not transmitted","body":"<p>I redone the if Statement below. I first needed to initialise <code>prepareStatment</code> which I named <code>pst</code>. Please see code below</p>\n<pre><code>public void actionPerformed(java.awt.event.ActionEvent e1) {\n    if (e1.getSource() == regButton) {\n        regInput.dispose();  \n        Connection con = Model.connect();\n        \n        String query = &quot;insert into registrationAtm values(?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\n        \n\n        try {\n            pst = con.prepareStatement(query);\n            pst.setString(2,((String) title.getSelectedItem().toString()));\n            pst.setString(3, firstNameT.getText());\n            pst.setString(4, lastNameT.getText());\n            pst.setString(5, addT.getText());\n            pst.setString(6, cityT.getText());\n            pst.setString(7, postcodeT.getText());\n            pst.setInt(8, Integer.parseInt((String) dates.getSelectedItem().toString()));\n            pst.setString(9, (String) months.getSelectedItem());\n            pst.setInt(10, Integer.parseInt((String) years.getSelectedItem().toString()));\n            pst.setString(11, emailT.getText());\n            pst.setString(12, passwordT.getText());\n            \n            pst.execute();\n            \n            String query2 = &quot;insert into detailsAtm values (?,?)&quot;; \n            pst2 = con.prepareStatement(query2);\n            pst2.setString(2, companyText.getText());\n            pst2.setString(3, communityText.getText());\n            pst2.execute();\n            \n            \n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    } else if (e1.getSource() == cancelButton) {\n        System.out.print(&quot;Cancel&quot;);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11706021,"reputation":45,"user_id":8569575,"display_name":"Itzik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659549863,"creation_date":1659302049,"question_id":73186935,"body_markdown":"I am a student and please try to help me and not brush me off. I hope that my code is understandable, I am trying to follow best practice. \r\n\r\n&quot;Edit&quot; I changed what @Andrew suggested regarding the missing &#39;. There are no error messages. The information is just not submitting \r\n\r\nI am creating a registration form in java and connected it to my SQLITE database. (Got the message connection made). I have a couple of classes (files in java) and I will list below the &quot;RegistrationForm class&quot; that is creating the form and in which I added the &#39;getSelected&#39; and named the String to match the SQL. \r\nIn the &quot;Model class&quot; I added the SQLITE connection and the columns field with the values. \r\n\r\n    `public class Model {\r\n    \tString []pesonalInfo;\r\n    \tpublic static void connect() {\r\n    \tConnection conn = null;\r\n    \t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tString url = &quot;jdbc:sqlite:C:\\\\Users\\\\myfek\\\\OneDrive\\\\Personal\\\\Gateshead &quot;\r\n    \t\t\t\t\t+ &quot;College\\\\Project3\\\\ProjectATM.db&quot;;\r\n    \t\t\tconn = DriverManager.getConnection(url);\r\n    \t\t\tSystem.out.println(&quot;connection made&quot;);\r\n    \t\t\tStatement st = conn.createStatement();\r\n    \t\t\tString querie1= &quot;INSERT INTO &#39;personalInfo&#39;&quot; + &quot;(personal_title ,personal_first_name, &quot;\r\n    \t\t\t\t\t+ &quot;personal_last_name,firstLAdd, secondLAdd, city, postcode, application_Company,&quot;\r\n    \t\t\t\t\t+ &quot; application_Community, phone, date, month, year, email, password) &quot;\r\n    \t\t\t\t\t+ &quot;VALUES (title, firstNameT, lastNameT, address1A, address2A, &#39;cityA&#39;, &#39;postCodeA&#39;,&quot;\r\n    \t\t\t\t\t+ &quot;&#39;areaCompany&#39;, &#39;areaCommunity&#39;, &#39;phoneA&#39;, &#39;dates&#39;, &#39;months&#39;, &#39;years&#39;, &#39;emailA&#39;, &#39;passwordT&#39;)&quot;;\r\n    \t\t\tst.execute(querie1);\r\n    \t\t\tconn.close();\r\n    \t\t\t\r\n    \t\t } catch (SQLException e) {  \r\n    \t            System.out.println(e.getMessage());  \r\n    \t        } finally {  \r\n    \t            try {  \r\n    \t                if (conn != null) {  \r\n    \t                    conn.close();  \r\n    \t                }  \r\n    \t            } catch (SQLException ex) {  \r\n    \t                System.out.println(ex.getMessage());  \r\n    \t            }  \r\n    \t        }\r\n    \t\t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic void regButtonactionPerformed(ActionEvent e) {\r\n    \t\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tconnect();\r\n        }\r\n    \r\n    \t\t\r\n    \r\n    \t}\r\n    `\r\n\r\n \r\n\r\n    public class RegistrationForm extends LogReg implements ActionListener{\r\n    \r\n    \tJFrame regInput = new JFrame();\r\n    \tJLabel dob, titleL, companyL ;\r\n    \t//private JButton regButton, cancelButton;\r\n    \tJTextField  firstNameT, lastNameT, areaCompany, areaCommunity, address1A, address2A, cityA,\r\n    \tpostCodeA, emailA, phoneA, passwordT;\r\n    \t\r\n    \r\n    \tString[] titleToChoose = { &quot;Mr&quot;, &quot;Mrs.&quot;, &quot;Ms.&quot;, &quot;Master&quot;, &quot;Doctor&quot; };\r\n    \tJComboBox &lt;String&gt; title= new JComboBox&lt;&gt;(titleToChoose);\r\n    \t\r\n    \tString [] date = {\r\n    \t\t\t&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;,&quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;,\r\n                &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;,&quot;16&quot;, &quot;17&quot;, &quot;18&quot;, &quot;19&quot;, &quot;20&quot;,\r\n                &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;24&quot;, &quot;25&quot;,&quot;26&quot;, &quot;27&quot;, &quot;28&quot;, &quot;29&quot;, &quot;30&quot;,&quot;31&quot;\r\n    \t};\r\n    \tJComboBox &lt;String&gt; dates= new JComboBox&lt;&gt;(date);\r\n    \tString month[]= {\r\n    \t\t\t&quot;Jan&quot;, &quot;feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;July&quot;,\r\n    \t\t\t&quot;Aug&quot;,&quot;Sup&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;\r\n    \t};\r\n    \tJComboBox&lt;String&gt; months =  new JComboBox&lt;&gt;(month);\r\n    \tString year[] = {\r\n    \t\t\t&quot;1970&quot;, &quot;1971&quot;, &quot;1972&quot;, &quot;1973&quot;, &quot;1974&quot;, &quot;1975&quot;, &quot;1976&quot;, &quot;1977&quot;, &quot;1978&quot;, &quot;1979&quot;,\r\n    \t\t\t&quot;1980&quot;, &quot;1981&quot;, &quot;1982&quot;, &quot;1983&quot;, &quot;1984&quot;, &quot;1985&quot;, &quot;1986&quot;, &quot;1987&quot;, &quot;1988&quot;, &quot;1989&quot;,\r\n    \t\t\t&quot;1990&quot;, &quot;1991&quot;, &quot;1992&quot;, &quot;1993&quot;, &quot;1994&quot;, &quot;1995&quot;, &quot;1996&quot;, &quot;1997&quot;, &quot;1998&quot;, &quot;1999&quot;,\r\n    \t\t\t&quot;2000&quot;, &quot;2001&quot;, &quot;2002&quot;, &quot;2003&quot;, &quot;2004&quot;, &quot;2005&quot;, &quot;2006&quot;, &quot;2007&quot;, &quot;2008&quot;, &quot;2009&quot;\r\n    \t};\r\n    \tJComboBox&lt;String&gt; years = new JComboBox&lt;&gt;(year);\r\n    \tJButton regButton, cancelButton;\r\n    \r\n    \tpublic RegistrationForm(){\r\n    \t\tJFrame regInput = new JFrame();\r\n    \t\tregInput.setTitle(&quot;Registration Form&quot;);\r\n    \t\tregInput.setLocation(200,10);\r\n    \r\n    \t\ttitleL = new JLabel(&quot;Please enter your name&quot;);\r\n    \t\ttitleL.setSize(200,25);\r\n    \t\ttitleL.setLocation(80, 30);\r\n    \t\t\r\n    \t\ttitle.setSize(85,25);\r\n    \t\ttitle.setLocation(110, 50);\r\n    \t\ttitle.setSelectedIndex(0);\r\n    \r\n    \t\tfirstNameT = new JTextField(&quot;First Name&quot;);\r\n    \t\tfirstNameT.setSize(200, 30);\r\n    \t\tfirstNameT.setLocation(200, 50);\r\n    \r\n    \t\tlastNameT= new JTextField(&quot;Last Name&quot;);\r\n    \t\tlastNameT.setSize(200, 30);\r\n    \t\tlastNameT.setLocation(400, 50);\r\n    \t\t\r\n    \t\tcompanyL= new JLabel(&quot;Please write below your organisation&quot;);\r\n    \t\tcompanyL.setSize(500, 30);\r\n    \t\tcompanyL.setLocation(90, 80);\r\n    \t\t\r\n    \t\tareaCompany = new JTextField(&quot;if Company&quot;);\r\n    \t\tareaCompany.setSize(400, 30);\r\n    \t\tareaCompany.setLocation(90, 110);\r\n    \t\t\r\n    \t\tareaCommunity= new JTextField(&quot;If Community&quot;);\r\n    \t\tareaCommunity.setSize(400,30);\r\n    \t\tareaCommunity.setLocation(90, 140);\r\n    \r\n    \t\taddress1A= new JTextField(&quot;First line of address&quot;);\r\n    \t\taddress1A.setSize(300, 30);\r\n    \t\taddress1A.setLocation(90, 180);\r\n    \r\n    \t\taddress2A = new JTextField(&quot;Second line of address&quot;);\r\n    \t\taddress2A.setSize(350, 30);\r\n    \t\taddress2A.setLocation(90, 220);\r\n    \r\n    \t\tcityA = new JTextField(&quot;City&quot;);\r\n    \t\tcityA.setSize(250, 30);\r\n    \t\tcityA.setLocation(90,250 );\r\n    \r\n    \t\tpostCodeA = new JTextField(&quot;PostCode&quot;);\r\n    \t\tpostCodeA.setSize(250, 30);\r\n    \t\tpostCodeA.setLocation(350, 250);\r\n    \t\temailA= new JTextField(&quot;Email address&quot;);\r\n    \t\temailA.setSize(250, 30);\r\n    \t\temailA.setLocation(90, 300);\r\n    \t\tpasswordT = new JTextField(&quot;please enter your passowrd&quot;);\r\n    \t\tpasswordT.setSize(250, 30);\r\n    \t\tpasswordT.setLocation(400, 300);\r\n    \t\tphoneA= new JTextField(&quot;Phone number&quot;);\r\n    \t\tphoneA.setSize(200, 30);\r\n    \t\tphoneA.setLocation(90, 340);\r\n    \t\tdob = new JLabel(&quot;D.O.B.&quot;);\r\n    \t\tdob.setFont(new Font(&quot;Ariel&quot;,Font.PLAIN,15));\r\n    \t\tdob.setSize(100, 30);\r\n    \t\tdob.setLocation(100, 390);\r\n    \r\n    \t\tdates.setSize(100, 20);\r\n    \t\tdates.setLocation(180, 390);\r\n    \t\tdates.setSelectedIndex(0);\r\n    \r\n    \t\tmonths.setSize(100, 20);\r\n    \t\tmonths.setLocation(250, 390);\r\n    \t\tmonths.setSelectedIndex(1);\r\n    \r\n    \t\tyears.setSize(100, 20);\r\n    \t\tyears.setLocation(350, 390);\r\n    \t\tyears.setSelectedIndex(30);\r\n    \t\tregButton = new JButton(&quot;Register&quot;);\r\n    \t\tregButton.setText(&quot;Register&quot;);\r\n    \t\t//regButton.setBounds(100, 300, 120, 150);\r\n    \t\t//regButton.setBounds(0, 0, 600, 400);\r\n    \t\tregButton.setSize(300, 40);\r\n    \t\tregButton.setFont((new Font(&quot;Tahoma&quot;, Font.BOLD,20)));\r\n    \t\tregButton.setLocation(200, 450);\r\n    \t\tcancelButton = new JButton(&quot;Cancel&quot;);\r\n    \t\tcancelButton.setSize(300, 40);\r\n    \t\tcancelButton.setFont((new Font(&quot;Tahoma&quot;, Font.BOLD,20)));\r\n    \t\tcancelButton.setLocation(525,450);\r\n    \t\tregInput.getContentPane();\r\n    \t\tregInput.add(titleL);\r\n    \t\tregInput.add(title);\r\n    \t\tregInput.add(firstNameT);\r\n    \t\tregInput.add(lastNameT);\r\n    \t\tregInput.add(areaCommunity);\r\n    \t\tregInput.add(areaCompany);\r\n    \t\tregInput.add(companyL);\r\n    \t\tregInput.add(address1A);\r\n    \t\tregInput.add(address2A);\r\n    \t\tregInput.add(cityA);\r\n    \t\tregInput.add(postCodeA);\r\n    \t\tregInput.add(phoneA);\r\n    \t\tregInput.add(emailA);\r\n    \t\tregInput.add(passwordT);\r\n    \t\tregInput.add(dob);\r\n    \t\tregInput.add(dates);\r\n    \t\tregInput.add(months);\r\n    \t\tregInput.add(years);\r\n    \t\tregInput.add(regButton);\r\n    \t\tregInput.add(cancelButton);\r\n    \t\tregInput.setBounds(300, 90, 900, 600);\r\n    \t\tregInput.setLayout(null);\r\n    \t\tregInput.setResizable(false);\r\n    \t\tregInput.setVisible(true);\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tnew RegistrationForm();\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tif (e.getSource()==registerButton) {\r\n    \t\t\t//regInput.setVisible(true);\r\n    \t\t\tString personal_title = (String) title.getSelectedItem();\r\n    \t\t\tString personal_first_name = firstNameT.getSelectedText();\r\n    \t\t\tString personal_last_name = lastNameT.getSelectedText();\r\n    \t\t\tString firstLAdd = address1A.getSelectedText();\r\n    \t\t\tString secondLAdd= address2A.getSelectedText();\r\n    \t\t\tString city = cityA.getSelectedText();\r\n    \t\t\tString postcode = postCodeA.getSelectedText();\r\n    \t\t\tString application_Company = areaCompany.getSelectedText(); \r\n    \t\t\tString application_Community = areaCommunity.getSelectedText();\r\n    \t\t\tString phone = phoneA.getSelectedText(); \r\n    \t\t\tString date= (String) dates.getSelectedItem();\r\n    \t\t\tString month = (String) months.getSelectedItem();\r\n    \t\t\tString year = (String) years.getSelectedItem(); \r\n    \t\t\tString email = emailA.getSelectedText();\r\n    \t\t\tString password = passwordT.getSelectedText(); \r\n    \t\t\t//connect(); I tried this\r\n    \t\t\t\r\n    \r\n    \t\t}else if(e.getSource()==loginButton) {\r\n    \t\t\tSystem.out.println(&quot;Login&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sqlite connected but information not transmitted","body":"<p>I am a student and please try to help me and not brush me off. I hope that my code is understandable, I am trying to follow best practice.</p>\n<p>&quot;Edit&quot; I changed what @Andrew suggested regarding the missing '. There are no error messages. The information is just not submitting</p>\n<p>I am creating a registration form in java and connected it to my SQLITE database. (Got the message connection made). I have a couple of classes (files in java) and I will list below the &quot;RegistrationForm class&quot; that is creating the form and in which I added the 'getSelected' and named the String to match the SQL.\nIn the &quot;Model class&quot; I added the SQLITE connection and the columns field with the values.</p>\n<pre><code>`public class Model {\n    String []pesonalInfo;\n    public static void connect() {\n    Connection conn = null;\n    \n        try {\n            \n            String url = &quot;jdbc:sqlite:C:\\\\Users\\\\myfek\\\\OneDrive\\\\Personal\\\\Gateshead &quot;\n                    + &quot;College\\\\Project3\\\\ProjectATM.db&quot;;\n            conn = DriverManager.getConnection(url);\n            System.out.println(&quot;connection made&quot;);\n            Statement st = conn.createStatement();\n            String querie1= &quot;INSERT INTO 'personalInfo'&quot; + &quot;(personal_title ,personal_first_name, &quot;\n                    + &quot;personal_last_name,firstLAdd, secondLAdd, city, postcode, application_Company,&quot;\n                    + &quot; application_Community, phone, date, month, year, email, password) &quot;\n                    + &quot;VALUES (title, firstNameT, lastNameT, address1A, address2A, 'cityA', 'postCodeA',&quot;\n                    + &quot;'areaCompany', 'areaCommunity', 'phoneA', 'dates', 'months', 'years', 'emailA', 'passwordT')&quot;;\n            st.execute(querie1);\n            conn.close();\n            \n         } catch (SQLException e) {  \n                System.out.println(e.getMessage());  \n            } finally {  \n                try {  \n                    if (conn != null) {  \n                        conn.close();  \n                    }  \n                } catch (SQLException ex) {  \n                    System.out.println(ex.getMessage());  \n                }  \n            }\n        }\n    \n    \n    \n    public void regButtonactionPerformed(ActionEvent e) {\n    \n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        connect();\n    }\n\n        \n\n    }\n`\n\n\n\npublic class RegistrationForm extends LogReg implements ActionListener{\n\n    JFrame regInput = new JFrame();\n    JLabel dob, titleL, companyL ;\n    //private JButton regButton, cancelButton;\n    JTextField  firstNameT, lastNameT, areaCompany, areaCommunity, address1A, address2A, cityA,\n    postCodeA, emailA, phoneA, passwordT;\n    \n\n    String[] titleToChoose = { &quot;Mr&quot;, &quot;Mrs.&quot;, &quot;Ms.&quot;, &quot;Master&quot;, &quot;Doctor&quot; };\n    JComboBox &lt;String&gt; title= new JComboBox&lt;&gt;(titleToChoose);\n    \n    String [] date = {\n            &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;,&quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;,\n            &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;,&quot;16&quot;, &quot;17&quot;, &quot;18&quot;, &quot;19&quot;, &quot;20&quot;,\n            &quot;21&quot;, &quot;22&quot;, &quot;23&quot;, &quot;24&quot;, &quot;25&quot;,&quot;26&quot;, &quot;27&quot;, &quot;28&quot;, &quot;29&quot;, &quot;30&quot;,&quot;31&quot;\n    };\n    JComboBox &lt;String&gt; dates= new JComboBox&lt;&gt;(date);\n    String month[]= {\n            &quot;Jan&quot;, &quot;feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;July&quot;,\n            &quot;Aug&quot;,&quot;Sup&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;\n    };\n    JComboBox&lt;String&gt; months =  new JComboBox&lt;&gt;(month);\n    String year[] = {\n            &quot;1970&quot;, &quot;1971&quot;, &quot;1972&quot;, &quot;1973&quot;, &quot;1974&quot;, &quot;1975&quot;, &quot;1976&quot;, &quot;1977&quot;, &quot;1978&quot;, &quot;1979&quot;,\n            &quot;1980&quot;, &quot;1981&quot;, &quot;1982&quot;, &quot;1983&quot;, &quot;1984&quot;, &quot;1985&quot;, &quot;1986&quot;, &quot;1987&quot;, &quot;1988&quot;, &quot;1989&quot;,\n            &quot;1990&quot;, &quot;1991&quot;, &quot;1992&quot;, &quot;1993&quot;, &quot;1994&quot;, &quot;1995&quot;, &quot;1996&quot;, &quot;1997&quot;, &quot;1998&quot;, &quot;1999&quot;,\n            &quot;2000&quot;, &quot;2001&quot;, &quot;2002&quot;, &quot;2003&quot;, &quot;2004&quot;, &quot;2005&quot;, &quot;2006&quot;, &quot;2007&quot;, &quot;2008&quot;, &quot;2009&quot;\n    };\n    JComboBox&lt;String&gt; years = new JComboBox&lt;&gt;(year);\n    JButton regButton, cancelButton;\n\n    public RegistrationForm(){\n        JFrame regInput = new JFrame();\n        regInput.setTitle(&quot;Registration Form&quot;);\n        regInput.setLocation(200,10);\n\n        titleL = new JLabel(&quot;Please enter your name&quot;);\n        titleL.setSize(200,25);\n        titleL.setLocation(80, 30);\n        \n        title.setSize(85,25);\n        title.setLocation(110, 50);\n        title.setSelectedIndex(0);\n\n        firstNameT = new JTextField(&quot;First Name&quot;);\n        firstNameT.setSize(200, 30);\n        firstNameT.setLocation(200, 50);\n\n        lastNameT= new JTextField(&quot;Last Name&quot;);\n        lastNameT.setSize(200, 30);\n        lastNameT.setLocation(400, 50);\n        \n        companyL= new JLabel(&quot;Please write below your organisation&quot;);\n        companyL.setSize(500, 30);\n        companyL.setLocation(90, 80);\n        \n        areaCompany = new JTextField(&quot;if Company&quot;);\n        areaCompany.setSize(400, 30);\n        areaCompany.setLocation(90, 110);\n        \n        areaCommunity= new JTextField(&quot;If Community&quot;);\n        areaCommunity.setSize(400,30);\n        areaCommunity.setLocation(90, 140);\n\n        address1A= new JTextField(&quot;First line of address&quot;);\n        address1A.setSize(300, 30);\n        address1A.setLocation(90, 180);\n\n        address2A = new JTextField(&quot;Second line of address&quot;);\n        address2A.setSize(350, 30);\n        address2A.setLocation(90, 220);\n\n        cityA = new JTextField(&quot;City&quot;);\n        cityA.setSize(250, 30);\n        cityA.setLocation(90,250 );\n\n        postCodeA = new JTextField(&quot;PostCode&quot;);\n        postCodeA.setSize(250, 30);\n        postCodeA.setLocation(350, 250);\n        emailA= new JTextField(&quot;Email address&quot;);\n        emailA.setSize(250, 30);\n        emailA.setLocation(90, 300);\n        passwordT = new JTextField(&quot;please enter your passowrd&quot;);\n        passwordT.setSize(250, 30);\n        passwordT.setLocation(400, 300);\n        phoneA= new JTextField(&quot;Phone number&quot;);\n        phoneA.setSize(200, 30);\n        phoneA.setLocation(90, 340);\n        dob = new JLabel(&quot;D.O.B.&quot;);\n        dob.setFont(new Font(&quot;Ariel&quot;,Font.PLAIN,15));\n        dob.setSize(100, 30);\n        dob.setLocation(100, 390);\n\n        dates.setSize(100, 20);\n        dates.setLocation(180, 390);\n        dates.setSelectedIndex(0);\n\n        months.setSize(100, 20);\n        months.setLocation(250, 390);\n        months.setSelectedIndex(1);\n\n        years.setSize(100, 20);\n        years.setLocation(350, 390);\n        years.setSelectedIndex(30);\n        regButton = new JButton(&quot;Register&quot;);\n        regButton.setText(&quot;Register&quot;);\n        //regButton.setBounds(100, 300, 120, 150);\n        //regButton.setBounds(0, 0, 600, 400);\n        regButton.setSize(300, 40);\n        regButton.setFont((new Font(&quot;Tahoma&quot;, Font.BOLD,20)));\n        regButton.setLocation(200, 450);\n        cancelButton = new JButton(&quot;Cancel&quot;);\n        cancelButton.setSize(300, 40);\n        cancelButton.setFont((new Font(&quot;Tahoma&quot;, Font.BOLD,20)));\n        cancelButton.setLocation(525,450);\n        regInput.getContentPane();\n        regInput.add(titleL);\n        regInput.add(title);\n        regInput.add(firstNameT);\n        regInput.add(lastNameT);\n        regInput.add(areaCommunity);\n        regInput.add(areaCompany);\n        regInput.add(companyL);\n        regInput.add(address1A);\n        regInput.add(address2A);\n        regInput.add(cityA);\n        regInput.add(postCodeA);\n        regInput.add(phoneA);\n        regInput.add(emailA);\n        regInput.add(passwordT);\n        regInput.add(dob);\n        regInput.add(dates);\n        regInput.add(months);\n        regInput.add(years);\n        regInput.add(regButton);\n        regInput.add(cancelButton);\n        regInput.setBounds(300, 90, 900, 600);\n        regInput.setLayout(null);\n        regInput.setResizable(false);\n        regInput.setVisible(true);\n        \n\n    }\n\n\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        new RegistrationForm();\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if (e.getSource()==registerButton) {\n            //regInput.setVisible(true);\n            String personal_title = (String) title.getSelectedItem();\n            String personal_first_name = firstNameT.getSelectedText();\n            String personal_last_name = lastNameT.getSelectedText();\n            String firstLAdd = address1A.getSelectedText();\n            String secondLAdd= address2A.getSelectedText();\n            String city = cityA.getSelectedText();\n            String postcode = postCodeA.getSelectedText();\n            String application_Company = areaCompany.getSelectedText(); \n            String application_Community = areaCommunity.getSelectedText();\n            String phone = phoneA.getSelectedText(); \n            String date= (String) dates.getSelectedItem();\n            String month = (String) months.getSelectedItem();\n            String year = (String) years.getSelectedItem(); \n            String email = emailA.getSelectedText();\n            String password = passwordT.getSelectedText(); \n            //connect(); I tried this\n            \n\n        }else if(e.getSource()==loginButton) {\n            System.out.println(&quot;Login&quot;);\n            }\n        }\n        \n\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-ses","aws-java-sdk"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1658363983,"post_id":73059306,"comment_id":129035750,"body_markdown":"I will test this method and report back. In my original answer (that i removed) - i showed listEmailIdentities.","body":"I will test this method and report back. In my original answer (that i removed) - i showed listEmailIdentities."},{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":0,"creation_date":1658364267,"post_id":73059306,"comment_id":129035776,"body_markdown":"Sounds good, thank you much appreciated. FYI, I did add in .credentialsProvider(ProfileCredentialsProvider.create()) and setup env variables per the java guide still got the same error.","body":"Sounds good, thank you much appreciated. FYI, I did add in .credentialsProvider(ProfileCredentialsProvider.create()) and setup env variables per the java guide still got the same error."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1658364789,"post_id":73059306,"comment_id":129035837,"body_markdown":"I will see if i can reproduce. I will let you know tomorrow. I will code this method 1st thing in the morning.","body":"I will see if i can reproduce. I will let you know tomorrow. I will code this method 1st thing in the morning."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1658366571,"post_id":73059306,"comment_id":129036108,"body_markdown":"See my new response.","body":"See my new response."},{"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"score":1,"creation_date":1658662193,"post_id":73059306,"comment_id":129101991,"body_markdown":"I have created an issue ticket here https://github.com/aws/aws-sdk-java/issues/2812","body":"I have created an issue ticket here <a href=\"https://github.com/aws/aws-sdk-java/issues/2812\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java/issues/2812</a>"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658366556,"creation_date":1658363090,"answer_id":73059423,"question_id":73059306,"body_markdown":"I was able to reproduce your issue. I created a list and added a contact. Both worked. However, when i executed **listContacts**, I got this error: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis looks like a bug. To address this, open a Github issue on the SDK Java Github here: \r\n\r\nhttps://github.com/aws/aws-sdk-java\r\n\r\n  [1]: https://i.stack.imgur.com/9bPlv.png","title":"How to fix AWS 403 error &quot;Check your AWS Secret Access Key and signing method&quot; when calling SES listcontacts","body":"<p>I was able to reproduce your issue. I created a list and added a contact. Both worked. However, when i executed <strong>listContacts</strong>, I got this error:</p>\n<p><a href=\"https://i.stack.imgur.com/9bPlv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9bPlv.png\" alt=\"enter image description here\" /></a></p>\n<p>This looks like a bug. To address this, open a Github issue on the SDK Java Github here:</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java</a></p>\n"},{"tags":[],"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659549825,"creation_date":1659549825,"answer_id":73225887,"question_id":73059306,"body_markdown":"This is confirmed as a bug in the AWS SDK. To get around this you can use the async client like so\r\n\r\n     SesV2AsyncClient client = SesV2AsyncClient.builder()\r\n                        .region(Region.US_EAST_1)\r\n                        .build())\r\n            TopicFilter topicFilter = TopicFilter.builder().topicName(TOPIC_SITE_UPDATES).useDefaultIfPreferenceUnavailable(true).build();\r\n            ListContactsFilter listContactsFilter = ListContactsFilter.builder().topicFilter(topicFilter).filteredStatus(SubscriptionStatus.OPT_IN).build();\r\n            ListContactsRequest listContactsRequest = ListContactsRequest.builder()\r\n                    .contactListName(CONTACT_LIST).filter(listContactsFilter).build();\r\n\r\n            CompletableFuture&lt;ListContactsResponse&gt; listContactsResponseCompletableFuture = client.listContacts(listContactsRequest);\r\n            ListContactsResponse listContactsResponse = listContactsResponseCompletableFuture.get();","title":"How to fix AWS 403 error &quot;Check your AWS Secret Access Key and signing method&quot; when calling SES listcontacts","body":"<p>This is confirmed as a bug in the AWS SDK. To get around this you can use the async client like so</p>\n<pre><code> SesV2AsyncClient client = SesV2AsyncClient.builder()\n                    .region(Region.US_EAST_1)\n                    .build())\n        TopicFilter topicFilter = TopicFilter.builder().topicName(TOPIC_SITE_UPDATES).useDefaultIfPreferenceUnavailable(true).build();\n        ListContactsFilter listContactsFilter = ListContactsFilter.builder().topicFilter(topicFilter).filteredStatus(SubscriptionStatus.OPT_IN).build();\n        ListContactsRequest listContactsRequest = ListContactsRequest.builder()\n                .contactListName(CONTACT_LIST).filter(listContactsFilter).build();\n\n        CompletableFuture&lt;ListContactsResponse&gt; listContactsResponseCompletableFuture = client.listContacts(listContactsRequest);\n        ListContactsResponse listContactsResponse = listContactsResponseCompletableFuture.get();\n</code></pre>\n"}],"owner":{"account_id":4836407,"reputation":684,"user_id":3902947,"accept_rate":92,"display_name":"After_Sunset"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659549825,"creation_date":1658361505,"question_id":73059306,"body_markdown":"I have been stuck for about the past 6 hours at this point I&#39;m thinking the only reasonable explanations are that this is a AWS SDK bug or the error message is wrong. \r\n\r\nI am using SESv2 class from the AWS SDK in a JAVA SpringBoot app and attempting to manage various details of my SES (Simple Email Service) account.\r\n\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.sesv2.SesV2Client;\r\n    import software.amazon.awssdk.services.sesv2.model.*;\r\n\r\nI have created an IAM user, created security credentials, set them up using multiple different methods as described here [guid to credentials environment][1] I&#39;ve given full access to SES to this IAM role user. I then wrote some code and I was able to do all of the following, \r\n\r\n - Create a contact list\r\n - Delete a contact list\r\n - Create contact\r\n - Create a Topic in a contact list\r\n - Send an email\r\n\r\nHowever, for some unknown reason when I go to test a function I wrote to get a list of contacts so I can test sending an email to multiple contacts I get the following 403 error message,\r\n&gt; The request signature we calculated does not match the signature you\r\n&gt; provided. Check your AWS Secret Access Key and signing method. Consult\r\n&gt; the service documentation for details.\r\n\r\nI&#39;ve verified the credentials are correct. I have created a new set of credentials and made the old set inactive. No dice, all the functions listed above still work however the `listContacts` in the `SesV2Client` class still fails with the same error. As you can see below I even bypassed the env variables  and just hardcoded the key and secret to pull out all the stops, still fails. In the function that fails, I&#39;ve gone over and over the values im passing in they are valid and exist 100% because as I said I can make the other calls in the list above to verify the topics and contact list exists.\r\n\r\n    private List&lt;Contact&gt; listContactsForSiteUpdatesMailingList() {\r\n    try (SesV2Client client = SesV2Client.builder()\r\n                .region(Region.US_EAST_1)\r\n                .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\r\n                .build()){\r\n\r\n            TopicFilter topicFilter = TopicFilter.builder().topicName(TOPIC_SITE_UPDATES).useDefaultIfPreferenceUnavailable(true).build();\r\n            ListContactsFilter listContactsFilter = ListContactsFilter.builder().topicFilter(topicFilter).filteredStatus(SubscriptionStatus.OPT_IN).build();\r\n            ListContactsRequest listContactsRequest = ListContactsRequest.builder()\r\n                    .contactListName(CONTACT_LIST).filter(listContactsFilter).build();\r\n\r\n            ListContactsResponse listContactsResponse = client.listContacts(listContactsRequest);\r\n\r\n            return listContactsResponse.contacts();\r\n\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;The email was not sent. Error message: &quot;\r\n                    + ex.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\nWhats going on here and how can I get to the bottom of this error?\r\n\r\nEDIT:\r\nLooking at AWS Console Users&gt;Access Management and then looking at the user a created I can even verify that there was &quot;programmatic access&quot; [![enter image description here][2]][2]\r\n\r\nAn example of accessing a ContactList with no issues[![enter image description here][3]][3]\r\n\r\nEDIT 2: My SES account is currently sandboxed. I just wanted to mention the question is this possibly happening because of that? Grasping at straws here.\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-php/v3/developer-guide/guide_credentials_environment.html\r\n  [2]: https://i.stack.imgur.com/UJcKs.png\r\n  [3]: https://i.stack.imgur.com/UFJAR.png","title":"How to fix AWS 403 error &quot;Check your AWS Secret Access Key and signing method&quot; when calling SES listcontacts","body":"<p>I have been stuck for about the past 6 hours at this point I'm thinking the only reasonable explanations are that this is a AWS SDK bug or the error message is wrong.</p>\n<p>I am using SESv2 class from the AWS SDK in a JAVA SpringBoot app and attempting to manage various details of my SES (Simple Email Service) account.</p>\n<pre><code>import software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.sesv2.SesV2Client;\nimport software.amazon.awssdk.services.sesv2.model.*;\n</code></pre>\n<p>I have created an IAM user, created security credentials, set them up using multiple different methods as described here <a href=\"https://docs.aws.amazon.com/sdk-for-php/v3/developer-guide/guide_credentials_environment.html\" rel=\"nofollow noreferrer\">guid to credentials environment</a> I've given full access to SES to this IAM role user. I then wrote some code and I was able to do all of the following,</p>\n<ul>\n<li>Create a contact list</li>\n<li>Delete a contact list</li>\n<li>Create contact</li>\n<li>Create a Topic in a contact list</li>\n<li>Send an email</li>\n</ul>\n<p>However, for some unknown reason when I go to test a function I wrote to get a list of contacts so I can test sending an email to multiple contacts I get the following 403 error message,</p>\n<blockquote>\n<p>The request signature we calculated does not match the signature you\nprovided. Check your AWS Secret Access Key and signing method. Consult\nthe service documentation for details.</p>\n</blockquote>\n<p>I've verified the credentials are correct. I have created a new set of credentials and made the old set inactive. No dice, all the functions listed above still work however the <code>listContacts</code> in the <code>SesV2Client</code> class still fails with the same error. As you can see below I even bypassed the env variables  and just hardcoded the key and secret to pull out all the stops, still fails. In the function that fails, I've gone over and over the values im passing in they are valid and exist 100% because as I said I can make the other calls in the list above to verify the topics and contact list exists.</p>\n<pre><code>private List&lt;Contact&gt; listContactsForSiteUpdatesMailingList() {\ntry (SesV2Client client = SesV2Client.builder()\n            .region(Region.US_EAST_1)\n            .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n            .build()){\n\n        TopicFilter topicFilter = TopicFilter.builder().topicName(TOPIC_SITE_UPDATES).useDefaultIfPreferenceUnavailable(true).build();\n        ListContactsFilter listContactsFilter = ListContactsFilter.builder().topicFilter(topicFilter).filteredStatus(SubscriptionStatus.OPT_IN).build();\n        ListContactsRequest listContactsRequest = ListContactsRequest.builder()\n                .contactListName(CONTACT_LIST).filter(listContactsFilter).build();\n\n        ListContactsResponse listContactsResponse = client.listContacts(listContactsRequest);\n\n        return listContactsResponse.contacts();\n\n    } catch (Exception ex) {\n        System.out.println(&quot;The email was not sent. Error message: &quot;\n                + ex.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>Whats going on here and how can I get to the bottom of this error?</p>\n<p>EDIT:\nLooking at AWS Console Users&gt;Access Management and then looking at the user a created I can even verify that there was &quot;programmatic access&quot; <a href=\"https://i.stack.imgur.com/UJcKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UJcKs.png\" alt=\"enter image description here\" /></a></p>\n<p>An example of accessing a ContactList with no issues<a href=\"https://i.stack.imgur.com/UFJAR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UFJAR.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT 2: My SES account is currently sandboxed. I just wanted to mention the question is this possibly happening because of that? Grasping at straws here.</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl","spring-integration-http"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1659368136,"post_id":73176437,"comment_id":129272551,"body_markdown":"You don&#39;t show what is your &quot;custom exception handler framework&quot;. Instead you show not related Scatter-Gather configuration. Please, learn how to ask here on Stack Overflow properly: https://stackoverflow.com/help/how-to-ask.","body":"You don&#39;t show what is your &quot;custom exception handler framework&quot;. Instead you show not related Scatter-Gather configuration. Please, learn how to ask here on Stack Overflow properly: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1659368465,"post_id":73176437,"comment_id":129272685,"body_markdown":"Sorry if I asked stupid question. I showed the configuration because I was seeing that in all other cases my exception handler can handle any exception but inside scatter-gather it&#39;s not able to do that. So I thought there could be some changes that I need to make to the scatter-gather pattern.","body":"Sorry if I asked stupid question. I showed the configuration because I was seeing that in all other cases my exception handler can handle any exception but inside scatter-gather it&#39;s not able to do that. So I thought there could be some changes that I need to make to the scatter-gather pattern."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1659370830,"post_id":73176437,"comment_id":129273499,"body_markdown":"Please, share your error handler anyway and how it is connected to that your scatter-gather configuration to have the whole picture in the question.","body":"Please, share your error handler anyway and how it is connected to that your scatter-gather configuration to have the whole picture in the question."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659549106,"creation_date":1659368441,"answer_id":73196266,"question_id":73176437,"body_markdown":"When you do an async hand-off like with your `flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))`, you cannot re-throw exceptions from that thread: the control is lost. You can have an `errorChannel` header populated for this flow, so an async `ErrorHandler` on the task executor is going to publish the `ErrorMessage` properly to that channel for some logic. From there you can return so-called *compensation message* for waiting gateway - gatherer in your case. What is very important is to preserve request headers. Otherwise it won&#39;t be able to correlated request with reply.\r\n\r\n\r\n**UPDATE**\r\n\r\nYour understanding of async error handling is a bit not correct.\r\n\r\nThe `ExecutorChannel` wraps a provided `Executor` into an `ErrorHandlingTaskExecutor`, which has the logic like this:\r\n\r\n\tpublic void execute(final Runnable task) {\r\n\t\tthis.executor.execute(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\ttask.run();\r\n\t\t\t}\r\n\t\t\tcatch (Throwable t) { //NOSONAR\r\n\t\t\t\tErrorHandlingTaskExecutor.this.errorHandler.handleError(t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nSo, as you see that `errorHandler` is called inside the task, where re-throwing an exception from there will just end-user in void, according to your `ThreadPoolExecutor`: \r\n\r\n    protected void afterExecute(Runnable r, Throwable t) { }\r\n\r\nThat&#39;s why we talk about a **compensation** message instead of re-throwing some custom exception. That compensation message, though, could be a new `ErrorMessage`, but it has to preserve headers from request. something like this:\r\n\r\n\t\t@ServiceActivator(inputChannel = &quot;scatterGatherErrorChannel&quot;)\r\n\t\tpublic Message&lt;?&gt; processAsyncScatterError(MessagingException payload) {\r\n\t\t\treturn MessageBuilder.withPayload(payload.getCause())\r\n\t\t\t\t\t.copyHeaders(payload.getFailedMessage().getHeaders())\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\r\nThis message is going to be returned to the scatter-gather as a reply. Probably you are not interested in this, so you can bypass a reply for scatter-gather and propagate your custom error directly to the origin gateway&#39;s error channel. Something like this:\r\n\r\n\t\t@ServiceActivator(inputChannel = &quot;scatterGatherErrorChannel&quot;)\r\n\t\tpublic Message&lt;?&gt; processAsyncScatterError(MessagingException payload) {\r\n\t\t\tMessageHeaders requestHeaders = payload.getFailedMessage().getHeaders();\r\n\t\t\treturn MessageBuilder.withPayload(payload.getCause())\r\n\t\t\t\t\t.copyHeaders(requestHeaders)\r\n\t\t\t\t\t.setHeader(MessageHeaders.REPLY_CHANNEL, requestHeaders.get(&quot;originalErrorChannel&quot;))\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\r\nThat `originalErrorChannel` comes really from the request message to the scatter-gather and is waited by the origin gateway.","title":"How to catch exception and throw my own exception inside ExpressionEvaluatingRequestHandlerAdvice and handle it through my own exception handler?","body":"<p>When you do an async hand-off like with your <code>flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))</code>, you cannot re-throw exceptions from that thread: the control is lost. You can have an <code>errorChannel</code> header populated for this flow, so an async <code>ErrorHandler</code> on the task executor is going to publish the <code>ErrorMessage</code> properly to that channel for some logic. From there you can return so-called <em>compensation message</em> for waiting gateway - gatherer in your case. What is very important is to preserve request headers. Otherwise it won't be able to correlated request with reply.</p>\n<p><strong>UPDATE</strong></p>\n<p>Your understanding of async error handling is a bit not correct.</p>\n<p>The <code>ExecutorChannel</code> wraps a provided <code>Executor</code> into an <code>ErrorHandlingTaskExecutor</code>, which has the logic like this:</p>\n<pre><code>public void execute(final Runnable task) {\n    this.executor.execute(() -&gt; {\n        try {\n            task.run();\n        }\n        catch (Throwable t) { //NOSONAR\n            ErrorHandlingTaskExecutor.this.errorHandler.handleError(t);\n        }\n    });\n}\n</code></pre>\n<p>So, as you see that <code>errorHandler</code> is called inside the task, where re-throwing an exception from there will just end-user in void, according to your <code>ThreadPoolExecutor</code>:</p>\n<pre><code>protected void afterExecute(Runnable r, Throwable t) { }\n</code></pre>\n<p>That's why we talk about a <strong>compensation</strong> message instead of re-throwing some custom exception. That compensation message, though, could be a new <code>ErrorMessage</code>, but it has to preserve headers from request. something like this:</p>\n<pre><code>    @ServiceActivator(inputChannel = &quot;scatterGatherErrorChannel&quot;)\n    public Message&lt;?&gt; processAsyncScatterError(MessagingException payload) {\n        return MessageBuilder.withPayload(payload.getCause())\n                .copyHeaders(payload.getFailedMessage().getHeaders())\n                .build();\n    }\n</code></pre>\n<p>This message is going to be returned to the scatter-gather as a reply. Probably you are not interested in this, so you can bypass a reply for scatter-gather and propagate your custom error directly to the origin gateway's error channel. Something like this:</p>\n<pre><code>    @ServiceActivator(inputChannel = &quot;scatterGatherErrorChannel&quot;)\n    public Message&lt;?&gt; processAsyncScatterError(MessagingException payload) {\n        MessageHeaders requestHeaders = payload.getFailedMessage().getHeaders();\n        return MessageBuilder.withPayload(payload.getCause())\n                .copyHeaders(requestHeaders)\n                .setHeader(MessageHeaders.REPLY_CHANNEL, requestHeaders.get(&quot;originalErrorChannel&quot;))\n                .build();\n    }\n</code></pre>\n<p>That <code>originalErrorChannel</code> comes really from the request message to the scatter-gather and is waited by the origin gateway.</p>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73196266,"answer_count":1,"score":0,"last_activity_date":1659549106,"creation_date":1659191357,"question_id":73176437,"body_markdown":"I&#39;m using Spring integration and scatter gather pattern in my project. Here I&#39;ve applied the Rest Template timeout and also I&#39;m using `ExpressionEvaluatingRequestHandlerAdvice()` to catch timeout exception. But I want to catch that exception in failure flow and want to throw my own custom exception and I have my own exception handler in place to handle that exception so that I can show proper error message to the user. But here the exception is being thrown but my custom exception handler is not able to handle that exception so user is not getting my custom msg back.\r\n\r\n//configuration\r\n\r\n     @Bean\r\n      public IntegrationFlow mainFlow() {\r\n        return flow -&gt;\r\n            flow.split()\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .scatterGather(\r\n                    scatterer -&gt;\r\n                        scatterer\r\n                            .applySequence(true)\r\n                            .recipientFlow(flow1())\r\n                            .recipientFlow(flow2()),\r\n                    gatherer -&gt;\r\n                        gatherer\r\n                            .releaseLockBeforeSend(true)\r\n                            .releaseStrategy(group -&gt; group.size() == 1))\r\n                .aggregate()\r\n                .to(anotherFlow());\r\n      }\r\n    \r\n    @Bean\r\n      public IntegrationFlow flow2() {\r\n        return flow -&gt; {\r\n            flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    Http.outboundGateway(\r\n                            &quot;http://localhost:4444/test&quot;, dummyService.restTemplate())\r\n                        .httpMethod(HttpMethod.POST)\r\n                        .expectedResponseType(String.class),\r\n                    c -&gt; c.advice(expressionAdvice()));\r\n        };\r\n      }\r\n    \r\n     @Bean\r\n      public Advice expressionAdvice() {\r\n        ExpressionEvaluatingRequestHandlerAdvice advice =\r\n            new ExpressionEvaluatingRequestHandlerAdvice();\r\n        advice.setSuccessChannelName(&quot;success.input&quot;);\r\n        advice.setOnSuccessExpressionString(&quot;payload + &#39; was successful&#39;&quot;);\r\n        advice.setFailureChannelName(&quot;failure.input&quot;);\r\n        advice.setOnFailureExpressionString(&quot;&#39;Failed &#39; + #exception.cause.message&quot;);\r\n        advice.setReturnFailureExpressionResult(true);\r\n        advice.setTrapException(true);\r\n        return advice;\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow success() {\r\n        return f -&gt; f.handle(System.out::println);\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow failure() {\r\n        return f -&gt;\r\n            f.handle(\r\n                    (p, h) -&gt; {\r\n                      if (p.toString().contains(&quot;Read timed out&quot;))\r\n                        throw new MyCustomException(ErrorCode.TIMEOUT_ERROR.getErrorData());\r\n                      else throw new MyCustomException(ErrorCode.SERVICE_ERROR.getErrorData());\r\n                    });\r\n      }\r\n\r\n//DummyService class\r\n\r\n    @Configuration\r\n    public class DummyService {\r\n    \r\n      private final int TIMEOUT = (int) TimeUnit.SECONDS.toMillis(6);\r\n    \r\n      @Bean\r\n      public RestTemplate restTemplate()\r\n           {\r\n    \r\n        HttpComponentsClientHttpRequestFactory requestFactory =\r\n            new HttpComponentsClientHttpRequestFactory();\r\n    \r\n        requestFactory.setHttpClient(httpClient);\r\n        requestFactory.setConnectTimeout(TIMEOUT);\r\n        requestFactory.setReadTimeout(TIMEOUT);\r\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n        return restTemplate;\r\n      }\r\n    }\r\n\r\nHere I&#39;m trying to throw new exception in failure() flow but exception is being thrown properly but my custom exception handler framework is not able to catch that exception. In all other cases it&#39;s able to catch but inside the spring integration configuration class it&#39;s not working.\r\n","title":"How to catch exception and throw my own exception inside ExpressionEvaluatingRequestHandlerAdvice and handle it through my own exception handler?","body":"<p>I'm using Spring integration and scatter gather pattern in my project. Here I've applied the Rest Template timeout and also I'm using <code>ExpressionEvaluatingRequestHandlerAdvice()</code> to catch timeout exception. But I want to catch that exception in failure flow and want to throw my own custom exception and I have my own exception handler in place to handle that exception so that I can show proper error message to the user. But here the exception is being thrown but my custom exception handler is not able to handle that exception so user is not getting my custom msg back.</p>\n<p>//configuration</p>\n<pre><code> @Bean\n  public IntegrationFlow mainFlow() {\n    return flow -&gt;\n        flow.split()\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .scatterGather(\n                scatterer -&gt;\n                    scatterer\n                        .applySequence(true)\n                        .recipientFlow(flow1())\n                        .recipientFlow(flow2()),\n                gatherer -&gt;\n                    gatherer\n                        .releaseLockBeforeSend(true)\n                        .releaseStrategy(group -&gt; group.size() == 1))\n            .aggregate()\n            .to(anotherFlow());\n  }\n\n@Bean\n  public IntegrationFlow flow2() {\n    return flow -&gt; {\n        flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                Http.outboundGateway(\n                        &quot;http://localhost:4444/test&quot;, dummyService.restTemplate())\n                    .httpMethod(HttpMethod.POST)\n                    .expectedResponseType(String.class),\n                c -&gt; c.advice(expressionAdvice()));\n    };\n  }\n\n @Bean\n  public Advice expressionAdvice() {\n    ExpressionEvaluatingRequestHandlerAdvice advice =\n        new ExpressionEvaluatingRequestHandlerAdvice();\n    advice.setSuccessChannelName(&quot;success.input&quot;);\n    advice.setOnSuccessExpressionString(&quot;payload + ' was successful'&quot;);\n    advice.setFailureChannelName(&quot;failure.input&quot;);\n    advice.setOnFailureExpressionString(&quot;'Failed ' + #exception.cause.message&quot;);\n    advice.setReturnFailureExpressionResult(true);\n    advice.setTrapException(true);\n    return advice;\n  }\n\n  @Bean\n  public IntegrationFlow success() {\n    return f -&gt; f.handle(System.out::println);\n  }\n\n  @Bean\n  public IntegrationFlow failure() {\n    return f -&gt;\n        f.handle(\n                (p, h) -&gt; {\n                  if (p.toString().contains(&quot;Read timed out&quot;))\n                    throw new MyCustomException(ErrorCode.TIMEOUT_ERROR.getErrorData());\n                  else throw new MyCustomException(ErrorCode.SERVICE_ERROR.getErrorData());\n                });\n  }\n</code></pre>\n<p>//DummyService class</p>\n<pre><code>@Configuration\npublic class DummyService {\n\n  private final int TIMEOUT = (int) TimeUnit.SECONDS.toMillis(6);\n\n  @Bean\n  public RestTemplate restTemplate()\n       {\n\n    HttpComponentsClientHttpRequestFactory requestFactory =\n        new HttpComponentsClientHttpRequestFactory();\n\n    requestFactory.setHttpClient(httpClient);\n    requestFactory.setConnectTimeout(TIMEOUT);\n    requestFactory.setReadTimeout(TIMEOUT);\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\n    return restTemplate;\n  }\n}\n</code></pre>\n<p>Here I'm trying to throw new exception in failure() flow but exception is being thrown properly but my custom exception handler framework is not able to catch that exception. In all other cases it's able to catch but inside the spring integration configuration class it's not working.</p>\n"},{"tags":["java","protocol-buffers","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659548956,"creation_date":1659548956,"answer_id":73225726,"question_id":73123481,"body_markdown":"`Value` is a JSON-like data structure. It cannot handle arbitrary Java objects.","title":"How to set a Java Object in Google Protobuf Value","body":"<p><code>Value</code> is a JSON-like data structure. It cannot handle arbitrary Java objects.</p>\n"}],"owner":{"account_id":18916298,"reputation":11,"user_id":13801290,"display_name":"AJAY SINGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659548956,"creation_date":1658838908,"question_id":73123481,"body_markdown":"I am writing a client that consumes a service(I don&#39;t own the service) via GRPC. At run time I get n number of variables/Objects and I don&#39;t know the type of these variables/Objects in advance. I have to send all these values to the GRPC service. I see we can set Strings/Boolean/Double etc in Google protobuf value. Is there a way I can set a custom object to Value. Here is the sample code\r\n\r\n```\r\nValue v = null;\r\nStruct s = null;\r\nMap&lt;String, Value&gt; valueMap = new HashMap&lt;String, Value&gt;();\r\nfor (UpdateSession_Object varList : myRequest.getUpdate_session_list()) {\r\n\t\t\t\tif (varList.getSession_var_value() instanceof String) {\r\n\t                v = Value.newBuilder().setStringValue(varList.getSession_var_value().toString()).build();\r\n                    valueMap.put(varList.getSession_var_name(), v);\r\n\t\t\t\t} else if (varList.getSession_var_value() instanceof Double) {\r\n\t\t\t\t\tv = Value.newBuilder().setNumberValue((Double) varList.getSession_var_value()).build();\r\n\t\t\t\t\tvalueMap.put(varList.getSession_var_name(), v);\r\n\t\t\t\t} else if (varList.getSession_var_value() instanceof Object) {\r\n\t\t\t\t\t**// How do i set the object to Value**\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\ts = Struct.newBuilder().putAllFields(valueMap).build();\r\n ```\r\nIs there a way I can set the Custom object to Value so that I can send all the incoming variables correctly to GRPC call.\r\n\r\n","title":"How to set a Java Object in Google Protobuf Value","body":"<p>I am writing a client that consumes a service(I don't own the service) via GRPC. At run time I get n number of variables/Objects and I don't know the type of these variables/Objects in advance. I have to send all these values to the GRPC service. I see we can set Strings/Boolean/Double etc in Google protobuf value. Is there a way I can set a custom object to Value. Here is the sample code</p>\n<pre><code>Value v = null;\nStruct s = null;\nMap&lt;String, Value&gt; valueMap = new HashMap&lt;String, Value&gt;();\nfor (UpdateSession_Object varList : myRequest.getUpdate_session_list()) {\n                if (varList.getSession_var_value() instanceof String) {\n                    v = Value.newBuilder().setStringValue(varList.getSession_var_value().toString()).build();\n                    valueMap.put(varList.getSession_var_name(), v);\n                } else if (varList.getSession_var_value() instanceof Double) {\n                    v = Value.newBuilder().setNumberValue((Double) varList.getSession_var_value()).build();\n                    valueMap.put(varList.getSession_var_name(), v);\n                } else if (varList.getSession_var_value() instanceof Object) {\n                    **// How do i set the object to Value**\n                }\n\n            }\n            s = Struct.newBuilder().putAllFields(valueMap).build();\n</code></pre>\n<p>Is there a way I can set the Custom object to Value so that I can send all the incoming variables correctly to GRPC call.</p>\n"},{"tags":["javascript","java","android","webview","peerjs"],"owner":{"account_id":23683815,"reputation":21,"user_id":17709040,"display_name":"FOUR BITS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659548780,"creation_date":1654420537,"question_id":72506097,"body_markdown":"I&#39;ve been trying to make a simple WebRTC app using Firebase Database and PeerJs that can switch cameras. I found one [tutorial][1] and it works properly, but I want to switch the camera between front and back which is not included in the tutorial.\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest\r\n    ...\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot;/&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\r\n\r\n    ...\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\nCallActivity.java\r\n```\r\nimport static android.view.View.GONE;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.webkit.PermissionRequest;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class CallActivity extends AppCompatActivity {\r\n    private static final String TAG = CallActivity.class.getSimpleName();\r\n\r\n    private final String CAMERA_FRONT = &quot;user&quot;;\r\n    private final String CAMERA_BACK = &quot;environment&quot;; // Tried to use it on navigator.mediaDevices.getUserMedia({video: {facingMode: camera}}) but it didn&#39;t work.\r\n\r\n    private RelativeLayout layoutIncoming, layoutCall, layoutCallControl;\r\n    private Button buttonReject, buttonAccept, buttonCall, buttonAudio, buttonVideo, buttonCamera;\r\n    private EditText editTextCallName;\r\n    private TextView textViewIncoming;\r\n\r\n    private WebView webView;\r\n\r\n    private String name;\r\n    private String callerName;\r\n    private boolean isPeerConnected = false;\r\n\r\n    private DatabaseReference usersRef = FirebaseDatabase.getInstance(&quot;link_to_firebase_database&quot;).getReference(&quot;users&quot;);\r\n\r\n    private boolean videoEnabled = true;\r\n    private boolean audioEnabled = true;\r\n    private String camera = CAMERA_FRONT;\r\n\r\n    private String uniqueID;\r\n\r\n    //== Overridden ==//\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_call);\r\n\r\n        layoutIncoming = findViewById(R.id.activity_call_layoutIncoming);\r\n        layoutCall = findViewById(R.id.activity_call_layoutCall);\r\n        layoutCallControl = findViewById(R.id.activity_call_layoutCallControl);\r\n\r\n        buttonAccept = findViewById(R.id.activity_call_buttonAccept);\r\n        buttonReject = findViewById(R.id.activity_call_buttonReject);\r\n        buttonCall = findViewById(R.id.activity_call_buttonCall);\r\n        buttonVideo = findViewById(R.id.activity_call_buttonVideo);\r\n        buttonAudio = findViewById(R.id.activity_call_buttonAudio);\r\n        buttonCamera = findViewById(R.id.activity_call_buttonCamera);\r\n\r\n        editTextCallName = findViewById(R.id.activity_call_editTextCallName);\r\n        textViewIncoming = findViewById(R.id.activity_call_textViewIncoming);\r\n\r\n        webView = findViewById(R.id.activity_call_webView);\r\n\r\n        if (getIntent().hasExtra(&quot;name&quot;)) {\r\n            name = getIntent().getStringExtra(&quot;name&quot;);\r\n        }\r\n\r\n        buttonCall.setOnClickListener(view -&gt; {\r\n            callerName = editTextCallName.getText().toString().trim();\r\n            if (!callerName.isEmpty()) sendCallRequest();\r\n        });\r\n\r\n        buttonVideo.setOnClickListener(view -&gt; {\r\n            videoEnabled = !videoEnabled;\r\n            callJsFunction(&quot;javascript:toggleVideo(\\&quot;&quot; + videoEnabled + &quot;\\&quot;)&quot;);\r\n\r\n            if (videoEnabled)\r\n                buttonVideo.setText(&quot;Video Off&quot;);\r\n            else\r\n                buttonVideo.setText(&quot;Video On&quot;);\r\n        });\r\n\r\n        buttonAudio.setOnClickListener(view -&gt; {\r\n            audioEnabled = !audioEnabled;\r\n            callJsFunction(&quot;javascript:toggleAudio(\\&quot;&quot; + audioEnabled + &quot;\\&quot;)&quot;);\r\n\r\n            if (audioEnabled)\r\n                buttonAudio.setText(&quot;Mute&quot;);\r\n            else\r\n                buttonAudio.setText(&quot;Unmute&quot;);\r\n        });\r\n\r\n        buttonCamera.setOnClickListener(view -&gt; {\r\n            if (camera.equals(CAMERA_FRONT)) camera = CAMERA_BACK;\r\n            else camera = CAMERA_FRONT;\r\n\r\n            switchCamera();\r\n        });\r\n\r\n        setupWebView();\r\n    }\r\n\r\n    //== Public ==//\r\n\r\n    public void onPeerConnected() {\r\n        isPeerConnected = true;\r\n    }\r\n\r\n    //== Private ==//\r\n\r\n    private void setupWebView() {\r\n        WebChromeClient client = new WebChromeClient() {\r\n            @Override\r\n            public void onPermissionRequest(PermissionRequest request) {\r\n                runOnUiThread(() -&gt; request.grant(request.getResources()));\r\n            }\r\n        };\r\n\r\n        webView.setWebChromeClient(client);\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\r\n        webView.addJavascriptInterface(new JsInterface(this), &quot;Android&quot;);\r\n\r\n        loadVideoCall();\r\n    }\r\n\r\n    private void loadVideoCall() {\r\n        String filePath = &quot;file:///android_asset/call.html&quot;;\r\n        webView.loadUrl(filePath);\r\n\r\n        WebViewClient client = new WebViewClient() {\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                initializePeer();\r\n            }\r\n        };\r\n\r\n        webView.setWebViewClient(client);\r\n    }\r\n\r\n    private void initializePeer() {\r\n        uniqueID = getUniqueID();\r\n\r\n        callJsFunction(&quot;javascript:init(\\&quot;&quot; + uniqueID + &quot;\\&quot;)&quot;);\r\n\r\n        usersRef.child(name).child(&quot;incoming&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                Log.d(TAG, &quot;Received incoming call!!!&quot;);\r\n                onCallRequest(snapshot.getValue(String.class));\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void sendCallRequest() {\r\n        if (!isPeerConnected) {\r\n            Toast.makeText(this, &quot;You&#39;re not connected to internet. Please try again.&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        usersRef.child(callerName).child(&quot;incoming&quot;).setValue(name);\r\n        usersRef.child(callerName).child(&quot;isAvailable&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                boolean isAvailable = snapshot.getValue() != null? snapshot.getValue(boolean.class): false;\r\n\r\n                if (isAvailable) {\r\n                    listenForConnectionID();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void onCallRequest(String caller) {\r\n        if (caller == null) return;\r\n\r\n        String incomingMessage = caller + &quot; is calling...&quot;;\r\n        textViewIncoming.setText(incomingMessage);\r\n\r\n        buttonAccept.setOnClickListener(view -&gt; {\r\n            usersRef.child(name).child(&quot;connectionID&quot;).setValue(uniqueID);\r\n            usersRef.child(name).child(&quot;isAvailable&quot;).setValue(true);\r\n\r\n            layoutIncoming.setVisibility(GONE);\r\n            switchToCallControls();\r\n        });\r\n\r\n        buttonReject.setOnClickListener(view -&gt; {\r\n            usersRef.child(name).child(&quot;incoming&quot;).setValue(null);\r\n            layoutIncoming.setVisibility(GONE);\r\n        });\r\n\r\n        layoutIncoming.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    private void listenForConnectionID() {\r\n        usersRef.child(callerName).child(&quot;connectionID&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.getValue() == null) return;\r\n\r\n                switchToCallControls();\r\n                callJsFunction(&quot;javascript:startCall(\\&quot;&quot; + snapshot.getValue(String.class) + &quot;\\&quot;)&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void switchToCallControls() {\r\n        layoutCall.setVisibility(GONE);\r\n        layoutCallControl.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    private void switchCamera() {\r\n        Log.d(TAG, &quot;switchCamera: &quot; + camera);\r\n\r\n        callJsFunction(&quot;javascript:switchCamera(\\&quot;&quot; + camera + &quot;\\&quot;)&quot;);\r\n    }\r\n\r\n    private void callJsFunction(String functionString) {\r\n        webView.post(() -&gt; webView.evaluateJavascript(functionString, value -&gt; Log.d(TAG, value)));\r\n    }\r\n\r\n    private String getUniqueID() {\r\n        return UUID.randomUUID().toString();\r\n    }\r\n}\r\n```\r\n\r\ncall.html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n\r\n        &lt;link href=&quot;./style.css&quot; rel=&quot;stylesheet&quot;/&gt;\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n        &lt;script src=&quot;./peerjs.js&quot;&gt;&lt;/script&gt;\r\n\r\n        &lt;video class=&quot;secondaryVideo&quot; autoplay id=&quot;remoteVideo&quot;&gt;&lt;/video&gt;\r\n        &lt;video class=&quot;primaryVideo&quot; autoplay muted id=&quot;localVideo&quot;&gt;&lt;/video&gt;\r\n\r\n        &lt;script src=&quot;./call.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\ncall.js\r\n```\r\nlet localVideo = document.getElementById(&quot;localVideo&quot;)\r\nlet remoteVideo = document.getElementById(&quot;remoteVideo&quot;)\r\n\r\nlocalVideo.style.opacity = 0\r\nremoteVideo.style.opacity = 0\r\n\r\nlet peer\r\n\r\nfunction init(userID) {\r\n    peer = new Peer(userID)\r\n\r\n    peer.on(&#39;open&#39;, () =&gt; {\r\n        Android.onPeerConnected();\r\n    })\r\n\r\n    listen()\r\n}\r\n\r\nlet localStream\r\n\r\nfunction listen() {\r\n    peer.on(&#39;call&#39;, (call) =&gt; {\r\n        navigator.mediaDevices.getUserMedia({\r\n            video: true,\r\n            audio: true\r\n        }).then(function(mediaStream) {\r\n            localStream = mediaStream\r\n\r\n            localVideo.srcObject = localStream\r\n            localVideo.style.opacity = 1\r\n\r\n            call.answer(localStream)\r\n\r\n            call.on(&#39;stream&#39;, (remoteStream) =&gt; {\r\n                remoteVideo.srcObject = remoteStream\r\n                remoteVideo.style.opacity = 1\r\n\r\n                // Swap classes of localVideo and remoteVideo\r\n\r\n                localVideo.className = &quot;secondaryVideo&quot;\r\n                remoteVideo.className = &quot;primaryVideo&quot;\r\n            })\r\n        })\r\n    })\r\n}\r\n\r\nfunction startCall(otherUserID) {\r\n    navigator.mediaDevices.getUserMedia({\r\n        video: true,\r\n        audio: true\r\n    }).then(function(mediaStream) {\r\n        localStream = mediaStream\r\n\r\n        localVideo.srcObject = localStream\r\n        localVideo.style.opacity = 1\r\n\r\n        const call = peer.call(otherUserID, localStream)\r\n\r\n        call.on(&#39;stream&#39;, (remoteStream) =&gt; {\r\n            remoteVideo.srcObject = remoteStream\r\n            remoteVideo.style.opacity = 1\r\n\r\n            // Swap classes of localVideo and remoteVideo\r\n\r\n            localVideo.className = &quot;secondaryVideo&quot;\r\n            remoteVideo.className = &quot;primaryVideo&quot;\r\n        })\r\n    })\r\n}\r\n\r\nfunction toggleVideo(b) {\r\n    if (b == &quot;true&quot;) {\r\n        localStream.getVideoTracks()[0].enabled = true\r\n    } else {\r\n        localStream.getVideoTracks()[0].enabled = false\r\n    }\r\n}\r\n\r\nfunction toggleAudio(b) {\r\n    if (b == &quot;true&quot;) {\r\n        localStream.getAudioTracks()[0].enabled = true\r\n    } else {\r\n        localStream.getAudioTracks()[0].enabled = false\r\n    }\r\n}\r\n\r\nlet camIndex = 0\r\n\r\nfunction switchCamera() {\r\n    navigator.mediaDevices.enumerateDevices().then(function(devices) {\r\n        var cameras = []\r\n\r\n        devices.forEach(function(device) {\r\n            &#39;videoinput&#39; === device.kind &amp;&amp; cameras.push(device.deviceId)\r\n        })\r\n\r\n        console.log(cameras.length)\r\n\r\n        if (camIndex == cameras.length - 1) {\r\n            camIndex = 0\r\n        } else {\r\n            camIndex = camIndex + 1\r\n        }\r\n\r\n        var constraints = {\r\n            video: {deviceId: {exact: cameras[camIndex]}},\r\n            audio: true\r\n        }\r\n\r\n        navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream) {\r\n            localStream = mediaStream\r\n\r\n            localVideo.srcObject = localStream\r\n\r\n            console.log(&quot;camera switched to camIndex &quot; + camIndex) // Only triggered when camIndex = 0\r\n        })\r\n    })\r\n}\r\n```\r\n\r\nI assume that camIndex = 1 is a back camera but it gives this error message in the logcat\r\n```\r\nD/CallActivity: switchCamera: environment\r\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\r\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\r\nD/CallActivity: null\r\nI/chromium: [INFO:CONSOLE(97)] &quot;2&quot;, source: file:///android_asset/call.js (97)\r\nE/libc: Access denied finding property &quot;persist.vendor.camera.privapp.list&quot;\r\nW/ThreadPoolSingl: type=1400 audit(0.0:35101): avc: denied { read } for name=&quot;u:object_r:vendor_camera_prop:s0&quot; dev=&quot;tmpfs&quot; ino=19669 scontext=u:r:untrusted_app:s0:c161,c256,c512,c768 tcontext=u:object_r:vendor_camera_prop:s0 tclass=file permissive=0\r\nE/cr_VideoCapture: cameraDevice encountered an error\r\nI/chromium: [INFO:CONSOLE(0)] &quot;Uncaught (in promise) NotReadableError: Could not start video source&quot;, source: file:///android_asset/call.html (0)\r\nD/CallActivity: switchCamera: user\r\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\r\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\r\nD/CallActivity: null\r\nI/chromium: [INFO:CONSOLE(97)] &quot;2&quot;, source: file:///android_asset/call.js (97)\r\nD/: PlayerBase::stop() from IPlayer\r\nD/AudioTrack: stop(398): called with 62088 frames delivered\r\nI/chromium: [INFO:CONSOLE(115)] &quot;camera switched to camIndex 0&quot;, source: file:///android_asset/call.js (115)\r\nW/.testapp_webrt: Attempt to remove non-JNI local reference, dumping thread\r\nW/AudioManager: Use of stream types is deprecated for operations other than volume control\r\nW/AudioManager: See the documentation of requestAudioFocus() for what to use instead with android.media.AudioAttributes to qualify your playback use case\r\n```\r\n\r\n  [1]: https://youtu.be/LkB9F-lGBrI","title":"Can&#39;t switch to back camera in Android WebView using PeerJs","body":"<p>I've been trying to make a simple WebRTC app using Firebase Database and PeerJs that can switch cameras. I found one <a href=\"https://youtu.be/LkB9F-lGBrI\" rel=\"nofollow noreferrer\">tutorial</a> and it works properly, but I want to switch the camera between front and back which is not included in the tutorial.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest\n    ...\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot;/&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\n\n    ...\n\n&lt;/manifest&gt;\n</code></pre>\n<p>CallActivity.java</p>\n<pre><code>import static android.view.View.GONE;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.webkit.PermissionRequest;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.UUID;\n\npublic class CallActivity extends AppCompatActivity {\n    private static final String TAG = CallActivity.class.getSimpleName();\n\n    private final String CAMERA_FRONT = &quot;user&quot;;\n    private final String CAMERA_BACK = &quot;environment&quot;; // Tried to use it on navigator.mediaDevices.getUserMedia({video: {facingMode: camera}}) but it didn't work.\n\n    private RelativeLayout layoutIncoming, layoutCall, layoutCallControl;\n    private Button buttonReject, buttonAccept, buttonCall, buttonAudio, buttonVideo, buttonCamera;\n    private EditText editTextCallName;\n    private TextView textViewIncoming;\n\n    private WebView webView;\n\n    private String name;\n    private String callerName;\n    private boolean isPeerConnected = false;\n\n    private DatabaseReference usersRef = FirebaseDatabase.getInstance(&quot;link_to_firebase_database&quot;).getReference(&quot;users&quot;);\n\n    private boolean videoEnabled = true;\n    private boolean audioEnabled = true;\n    private String camera = CAMERA_FRONT;\n\n    private String uniqueID;\n\n    //== Overridden ==//\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_call);\n\n        layoutIncoming = findViewById(R.id.activity_call_layoutIncoming);\n        layoutCall = findViewById(R.id.activity_call_layoutCall);\n        layoutCallControl = findViewById(R.id.activity_call_layoutCallControl);\n\n        buttonAccept = findViewById(R.id.activity_call_buttonAccept);\n        buttonReject = findViewById(R.id.activity_call_buttonReject);\n        buttonCall = findViewById(R.id.activity_call_buttonCall);\n        buttonVideo = findViewById(R.id.activity_call_buttonVideo);\n        buttonAudio = findViewById(R.id.activity_call_buttonAudio);\n        buttonCamera = findViewById(R.id.activity_call_buttonCamera);\n\n        editTextCallName = findViewById(R.id.activity_call_editTextCallName);\n        textViewIncoming = findViewById(R.id.activity_call_textViewIncoming);\n\n        webView = findViewById(R.id.activity_call_webView);\n\n        if (getIntent().hasExtra(&quot;name&quot;)) {\n            name = getIntent().getStringExtra(&quot;name&quot;);\n        }\n\n        buttonCall.setOnClickListener(view -&gt; {\n            callerName = editTextCallName.getText().toString().trim();\n            if (!callerName.isEmpty()) sendCallRequest();\n        });\n\n        buttonVideo.setOnClickListener(view -&gt; {\n            videoEnabled = !videoEnabled;\n            callJsFunction(&quot;javascript:toggleVideo(\\&quot;&quot; + videoEnabled + &quot;\\&quot;)&quot;);\n\n            if (videoEnabled)\n                buttonVideo.setText(&quot;Video Off&quot;);\n            else\n                buttonVideo.setText(&quot;Video On&quot;);\n        });\n\n        buttonAudio.setOnClickListener(view -&gt; {\n            audioEnabled = !audioEnabled;\n            callJsFunction(&quot;javascript:toggleAudio(\\&quot;&quot; + audioEnabled + &quot;\\&quot;)&quot;);\n\n            if (audioEnabled)\n                buttonAudio.setText(&quot;Mute&quot;);\n            else\n                buttonAudio.setText(&quot;Unmute&quot;);\n        });\n\n        buttonCamera.setOnClickListener(view -&gt; {\n            if (camera.equals(CAMERA_FRONT)) camera = CAMERA_BACK;\n            else camera = CAMERA_FRONT;\n\n            switchCamera();\n        });\n\n        setupWebView();\n    }\n\n    //== Public ==//\n\n    public void onPeerConnected() {\n        isPeerConnected = true;\n    }\n\n    //== Private ==//\n\n    private void setupWebView() {\n        WebChromeClient client = new WebChromeClient() {\n            @Override\n            public void onPermissionRequest(PermissionRequest request) {\n                runOnUiThread(() -&gt; request.grant(request.getResources()));\n            }\n        };\n\n        webView.setWebChromeClient(client);\n\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\n        webView.addJavascriptInterface(new JsInterface(this), &quot;Android&quot;);\n\n        loadVideoCall();\n    }\n\n    private void loadVideoCall() {\n        String filePath = &quot;file:///android_asset/call.html&quot;;\n        webView.loadUrl(filePath);\n\n        WebViewClient client = new WebViewClient() {\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                initializePeer();\n            }\n        };\n\n        webView.setWebViewClient(client);\n    }\n\n    private void initializePeer() {\n        uniqueID = getUniqueID();\n\n        callJsFunction(&quot;javascript:init(\\&quot;&quot; + uniqueID + &quot;\\&quot;)&quot;);\n\n        usersRef.child(name).child(&quot;incoming&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                Log.d(TAG, &quot;Received incoming call!!!&quot;);\n                onCallRequest(snapshot.getValue(String.class));\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void sendCallRequest() {\n        if (!isPeerConnected) {\n            Toast.makeText(this, &quot;You're not connected to internet. Please try again.&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        usersRef.child(callerName).child(&quot;incoming&quot;).setValue(name);\n        usersRef.child(callerName).child(&quot;isAvailable&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                boolean isAvailable = snapshot.getValue() != null? snapshot.getValue(boolean.class): false;\n\n                if (isAvailable) {\n                    listenForConnectionID();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void onCallRequest(String caller) {\n        if (caller == null) return;\n\n        String incomingMessage = caller + &quot; is calling...&quot;;\n        textViewIncoming.setText(incomingMessage);\n\n        buttonAccept.setOnClickListener(view -&gt; {\n            usersRef.child(name).child(&quot;connectionID&quot;).setValue(uniqueID);\n            usersRef.child(name).child(&quot;isAvailable&quot;).setValue(true);\n\n            layoutIncoming.setVisibility(GONE);\n            switchToCallControls();\n        });\n\n        buttonReject.setOnClickListener(view -&gt; {\n            usersRef.child(name).child(&quot;incoming&quot;).setValue(null);\n            layoutIncoming.setVisibility(GONE);\n        });\n\n        layoutIncoming.setVisibility(View.VISIBLE);\n    }\n\n    private void listenForConnectionID() {\n        usersRef.child(callerName).child(&quot;connectionID&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.getValue() == null) return;\n\n                switchToCallControls();\n                callJsFunction(&quot;javascript:startCall(\\&quot;&quot; + snapshot.getValue(String.class) + &quot;\\&quot;)&quot;);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void switchToCallControls() {\n        layoutCall.setVisibility(GONE);\n        layoutCallControl.setVisibility(View.VISIBLE);\n    }\n\n    private void switchCamera() {\n        Log.d(TAG, &quot;switchCamera: &quot; + camera);\n\n        callJsFunction(&quot;javascript:switchCamera(\\&quot;&quot; + camera + &quot;\\&quot;)&quot;);\n    }\n\n    private void callJsFunction(String functionString) {\n        webView.post(() -&gt; webView.evaluateJavascript(functionString, value -&gt; Log.d(TAG, value)));\n    }\n\n    private String getUniqueID() {\n        return UUID.randomUUID().toString();\n    }\n}\n</code></pre>\n<p>call.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n    &lt;head&gt;\n\n        &lt;link href=&quot;./style.css&quot; rel=&quot;stylesheet&quot;/&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;script src=&quot;./peerjs.js&quot;&gt;&lt;/script&gt;\n\n        &lt;video class=&quot;secondaryVideo&quot; autoplay id=&quot;remoteVideo&quot;&gt;&lt;/video&gt;\n        &lt;video class=&quot;primaryVideo&quot; autoplay muted id=&quot;localVideo&quot;&gt;&lt;/video&gt;\n\n        &lt;script src=&quot;./call.js&quot;&gt;&lt;/script&gt;\n\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>call.js</p>\n<pre><code>let localVideo = document.getElementById(&quot;localVideo&quot;)\nlet remoteVideo = document.getElementById(&quot;remoteVideo&quot;)\n\nlocalVideo.style.opacity = 0\nremoteVideo.style.opacity = 0\n\nlet peer\n\nfunction init(userID) {\n    peer = new Peer(userID)\n\n    peer.on('open', () =&gt; {\n        Android.onPeerConnected();\n    })\n\n    listen()\n}\n\nlet localStream\n\nfunction listen() {\n    peer.on('call', (call) =&gt; {\n        navigator.mediaDevices.getUserMedia({\n            video: true,\n            audio: true\n        }).then(function(mediaStream) {\n            localStream = mediaStream\n\n            localVideo.srcObject = localStream\n            localVideo.style.opacity = 1\n\n            call.answer(localStream)\n\n            call.on('stream', (remoteStream) =&gt; {\n                remoteVideo.srcObject = remoteStream\n                remoteVideo.style.opacity = 1\n\n                // Swap classes of localVideo and remoteVideo\n\n                localVideo.className = &quot;secondaryVideo&quot;\n                remoteVideo.className = &quot;primaryVideo&quot;\n            })\n        })\n    })\n}\n\nfunction startCall(otherUserID) {\n    navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n    }).then(function(mediaStream) {\n        localStream = mediaStream\n\n        localVideo.srcObject = localStream\n        localVideo.style.opacity = 1\n\n        const call = peer.call(otherUserID, localStream)\n\n        call.on('stream', (remoteStream) =&gt; {\n            remoteVideo.srcObject = remoteStream\n            remoteVideo.style.opacity = 1\n\n            // Swap classes of localVideo and remoteVideo\n\n            localVideo.className = &quot;secondaryVideo&quot;\n            remoteVideo.className = &quot;primaryVideo&quot;\n        })\n    })\n}\n\nfunction toggleVideo(b) {\n    if (b == &quot;true&quot;) {\n        localStream.getVideoTracks()[0].enabled = true\n    } else {\n        localStream.getVideoTracks()[0].enabled = false\n    }\n}\n\nfunction toggleAudio(b) {\n    if (b == &quot;true&quot;) {\n        localStream.getAudioTracks()[0].enabled = true\n    } else {\n        localStream.getAudioTracks()[0].enabled = false\n    }\n}\n\nlet camIndex = 0\n\nfunction switchCamera() {\n    navigator.mediaDevices.enumerateDevices().then(function(devices) {\n        var cameras = []\n\n        devices.forEach(function(device) {\n            'videoinput' === device.kind &amp;&amp; cameras.push(device.deviceId)\n        })\n\n        console.log(cameras.length)\n\n        if (camIndex == cameras.length - 1) {\n            camIndex = 0\n        } else {\n            camIndex = camIndex + 1\n        }\n\n        var constraints = {\n            video: {deviceId: {exact: cameras[camIndex]}},\n            audio: true\n        }\n\n        navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream) {\n            localStream = mediaStream\n\n            localVideo.srcObject = localStream\n\n            console.log(&quot;camera switched to camIndex &quot; + camIndex) // Only triggered when camIndex = 0\n        })\n    })\n}\n</code></pre>\n<p>I assume that camIndex = 1 is a back camera but it gives this error message in the logcat</p>\n<pre><code>D/CallActivity: switchCamera: environment\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\nD/CallActivity: null\nI/chromium: [INFO:CONSOLE(97)] &quot;2&quot;, source: file:///android_asset/call.js (97)\nE/libc: Access denied finding property &quot;persist.vendor.camera.privapp.list&quot;\nW/ThreadPoolSingl: type=1400 audit(0.0:35101): avc: denied { read } for name=&quot;u:object_r:vendor_camera_prop:s0&quot; dev=&quot;tmpfs&quot; ino=19669 scontext=u:r:untrusted_app:s0:c161,c256,c512,c768 tcontext=u:object_r:vendor_camera_prop:s0 tclass=file permissive=0\nE/cr_VideoCapture: cameraDevice encountered an error\nI/chromium: [INFO:CONSOLE(0)] &quot;Uncaught (in promise) NotReadableError: Could not start video source&quot;, source: file:///android_asset/call.html (0)\nD/CallActivity: switchCamera: user\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\nE/chromium: [ERROR:web_contents_delegate.cc(218)] WebContentsDelegate::CheckMediaAccessPermission: Not supported.\nD/CallActivity: null\nI/chromium: [INFO:CONSOLE(97)] &quot;2&quot;, source: file:///android_asset/call.js (97)\nD/: PlayerBase::stop() from IPlayer\nD/AudioTrack: stop(398): called with 62088 frames delivered\nI/chromium: [INFO:CONSOLE(115)] &quot;camera switched to camIndex 0&quot;, source: file:///android_asset/call.js (115)\nW/.testapp_webrt: Attempt to remove non-JNI local reference, dumping thread\nW/AudioManager: Use of stream types is deprecated for operations other than volume control\nW/AudioManager: See the documentation of requestAudioFocus() for what to use instead with android.media.AudioAttributes to qualify your playback use case\n</code></pre>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":7978299,"reputation":1614,"user_id":6020698,"accept_rate":100,"display_name":"Jernej K"},"score":0,"creation_date":1659528397,"post_id":73219068,"comment_id":129315480,"body_markdown":"Attach current documentation, even if it didn&#39;t was useful","body":"Attach current documentation, even if it didn&#39;t was useful"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659538732,"post_id":73219068,"comment_id":129319270,"body_markdown":"Is there a specific reason not to use Confluent Schema Registry and their provided deserializers?","body":"Is there a specific reason not to use Confluent Schema Registry and their provided deserializers?"},{"owner":{"account_id":25494928,"reputation":311,"user_id":19289130,"display_name":"erKito"},"score":0,"creation_date":1660120687,"post_id":73219068,"comment_id":129455234,"body_markdown":"Yes, we are not using kafka brokers, but a kafka complient product: schema registry is not fully complatible with avro, yet (we find a lot of bugs)","body":"Yes, we are not using kafka brokers, but a kafka complient product: schema registry is not fully complatible with avro, yet (we find a lot of bugs)"}],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659525608,"creation_date":1659525608,"answer_id":73220832,"question_id":73219068,"body_markdown":"If you are using the Maven artefact for your project, you can use the following plugin in your pom.xml to auto-generate the avro classes from your .avsc.\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${avro.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;schema&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/resources/avro&lt;/sourceDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;stringType&gt;String&lt;/stringType&gt;\r\n\t\t\t\t\t\t\t&lt;fieldVisibility&gt;PRIVATE&lt;/fieldVisibility&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nI found this http://www.javawenti.com/?post=16104 as more meaningful sample, which you can try.\r\n\r\nhttps://stackoverflow.com/questions/8298308/how-to-encode-decode-kafka-messages-using-avro-binary-encoder\r\n\r\n\r\n","title":"Read an AVRO encoded byte array record","body":"<p>If you are using the Maven artefact for your project, you can use the following plugin in your pom.xml to auto-generate the avro classes from your .avsc.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${avro.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;schema&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/avro&lt;/sourceDirectory&gt;\n                        &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n                        &lt;stringType&gt;String&lt;/stringType&gt;\n                        &lt;fieldVisibility&gt;PRIVATE&lt;/fieldVisibility&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I found this <a href=\"http://www.javawenti.com/?post=16104\" rel=\"nofollow noreferrer\">http://www.javawenti.com/?post=16104</a> as more meaningful sample, which you can try.</p>\n<p><a href=\"https://stackoverflow.com/questions/8298308/how-to-encode-decode-kafka-messages-using-avro-binary-encoder\">How to encode/decode Kafka messages using Avro binary encoder?</a></p>\n"},{"tags":[],"owner":{"account_id":25494928,"reputation":311,"user_id":19289130,"display_name":"erKito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659536148,"creation_date":1659536148,"answer_id":73223118,"question_id":73219068,"body_markdown":"thank you ChristDist!\r\n\r\nI post the followe code as compact example to how use the genaration classes:\r\n\r\n\r\n    public class Main {\r\n    \r\n        public static String convertTime(long time) {\r\n            Date date = new Date(time);\r\n            Format format = new SimpleDateFormat(&quot;yyyy MM dd HH:mm:ss&quot;);\r\n            return format.format(date);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Properties props = new Properties();\r\n    \r\n            \r\n    \r\n            props.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG,\r\n                    &quot;your broker&quot;);\r\n            props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\r\n            props.put(SaslConfigs.SASL_MECHANISM, &quot;PLAIN&quot;);\r\n    \r\n            props.put(SaslConfigs.SASL_JAAS_CONFIG,\r\n                    &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;your-username\\&quot; password=\\&quot;your-password\\&quot;;&quot;);\r\n    \r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test-avro&quot;);\r\n    \r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                    StringDeserializer.class);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                    ByteArrayDeserializer.class);\r\n    \r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n    \r\n            String topic = &quot;messages-payments&quot;;\r\n            final Consumer&lt;String, byte[]&gt; consumer = new KafkaConsumer&lt;String, byte[]&gt;(props);\r\n            consumer.subscribe(Arrays.asList(topic));\r\n    \r\n            try {\r\n                for (int i = 0; i &lt; 1000; i++) {\r\n                    ConsumerRecords&lt;String, byte[]&gt; records = consumer.poll(10000);\r\n                    System.out.println(&quot;************************************************************************&quot;);\r\n                    System.out.println(&quot;!!!!!!!records length: &quot; + records.count());\r\n                    for (ConsumerRecord&lt;String, byte[]&gt; record : records) {\r\n                        System.out.printf(&quot;offset = %d, date = %s, key = %s, value = %s \\n&quot;, record.offset(),\r\n                                convertTime(record.timestamp()),\r\n                                record.key(),\r\n                                new String(record.value(), StandardCharsets.UTF_8));\r\n                        System.out.println(&quot;HEX:&quot; + new String(Hex.encode(record.value())));\r\n    \r\n                        DatumReader&lt;message&gt; reader = new SpecificDatumReader&lt;&gt;(message.class);\r\n                        try {\r\n                            Decoder decoder = DecoderFactory.get().binaryDecoder(record.value(), null);\r\n                            message m = reader.read(null, decoder);\r\n    \r\n                            System.out.println(\r\n                                    &quot;DECODED: &quot; + m.getId() + &quot; &quot; + m.getContentType() + &quot; &quot; + m.getFeatureLevelType());\r\n                        } catch (Exception e) {\r\n                            System.out.println(&quot;DECODER ERROR: &quot; + e.getMessage());\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            } finally {\r\n                System.out.println(\r\n                consumer.close();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Read an AVRO encoded byte array record","body":"<p>thank you ChristDist!</p>\n<p>I post the followe code as compact example to how use the genaration classes:</p>\n<pre><code>public class Main {\n\n    public static String convertTime(long time) {\n        Date date = new Date(time);\n        Format format = new SimpleDateFormat(&quot;yyyy MM dd HH:mm:ss&quot;);\n        return format.format(date);\n    }\n\n    public static void main(String[] args) {\n        Properties props = new Properties();\n\n        \n\n        props.put(CommonClientConfigs.BOOTSTRAP_SERVERS_CONFIG,\n                &quot;your broker&quot;);\n        props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\n        props.put(SaslConfigs.SASL_MECHANISM, &quot;PLAIN&quot;);\n\n        props.put(SaslConfigs.SASL_JAAS_CONFIG,\n                &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;your-username\\&quot; password=\\&quot;your-password\\&quot;;&quot;);\n\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test-avro&quot;);\n\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n                ByteArrayDeserializer.class);\n\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n\n        String topic = &quot;messages-payments&quot;;\n        final Consumer&lt;String, byte[]&gt; consumer = new KafkaConsumer&lt;String, byte[]&gt;(props);\n        consumer.subscribe(Arrays.asList(topic));\n\n        try {\n            for (int i = 0; i &lt; 1000; i++) {\n                ConsumerRecords&lt;String, byte[]&gt; records = consumer.poll(10000);\n                System.out.println(&quot;************************************************************************&quot;);\n                System.out.println(&quot;!!!!!!!records length: &quot; + records.count());\n                for (ConsumerRecord&lt;String, byte[]&gt; record : records) {\n                    System.out.printf(&quot;offset = %d, date = %s, key = %s, value = %s \\n&quot;, record.offset(),\n                            convertTime(record.timestamp()),\n                            record.key(),\n                            new String(record.value(), StandardCharsets.UTF_8));\n                    System.out.println(&quot;HEX:&quot; + new String(Hex.encode(record.value())));\n\n                    DatumReader&lt;message&gt; reader = new SpecificDatumReader&lt;&gt;(message.class);\n                    try {\n                        Decoder decoder = DecoderFactory.get().binaryDecoder(record.value(), null);\n                        message m = reader.read(null, decoder);\n\n                        System.out.println(\n                                &quot;DECODED: &quot; + m.getId() + &quot; &quot; + m.getContentType() + &quot; &quot; + m.getFeatureLevelType());\n                    } catch (Exception e) {\n                        System.out.println(&quot;DECODER ERROR: &quot; + e.getMessage());\n                        e.printStackTrace();\n                    }\n                }\n            }\n        } finally {\n            System.out.println(\n            consumer.close();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25494928,"reputation":311,"user_id":19289130,"display_name":"erKito"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73220832,"answer_count":2,"score":0,"last_activity_date":1659548654,"creation_date":1659517647,"question_id":73219068,"body_markdown":"How can I generate classes from avro json spec and use the generated classes to decode a message from kafka client? \r\n\r\nI&#39;ve found some partial example using data from file, but nothing working using kafka as source (without schema registry).\r\n\r\n","title":"Read an AVRO encoded byte array record","body":"<p>How can I generate classes from avro json spec and use the generated classes to decode a message from kafka client?</p>\n<p>I've found some partial example using data from file, but nothing working using kafka as source (without schema registry).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":2,"creation_date":1659547381,"post_id":73225359,"comment_id":129322226,"body_markdown":"just call `this.setGender(gender)` in the constructor rather than directly setting it.","body":"just call <code>this.setGender(gender)</code> in the constructor rather than directly setting it."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1659547449,"post_id":73225359,"comment_id":129322256,"body_markdown":"What is this &quot;overridden&quot; issue you speak of? For simple POJOs like this, I think using a setter is fine. I personally wouldn&#39;t even use a constructor with arguments and require use of the setter to set the field.","body":"What is this &quot;overridden&quot; issue you speak of? For simple POJOs like this, I think using a setter is fine. I personally wouldn&#39;t even use a constructor with arguments and require use of the setter to set the field."}],"answers":[{"tags":[],"owner":{"account_id":23256248,"reputation":81,"user_id":17343261,"display_name":"Java-Enthusiast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659547493,"creation_date":1659547493,"answer_id":73225444,"question_id":73225359,"body_markdown":"       public boolean validateGender(String p_gender){\r\n        if(p_gender.equals(&quot;Male&quot;) || p_gender.equals(&quot;Female&quot;)){\r\n           return true;\r\n        }\r\n        else{\r\n           return false;\r\n        }\r\n    \r\nSo, how about something like the above?\r\n\r\nThen, use that in both setGender(String gender) and the constructor that you&#39;re looking to perform the validation in?\r\n\r\n    public Person(String name, String gender){\r\n        this.name = name;\r\n        if(validateGender(gender)){\r\n           this.gender = gender;\r\n        }\r\n        else{\r\n           this.gender = &quot;undefined&quot;;\r\n        }\r\n    }\r\n","title":"Java constructor bypass setter validation","body":"<pre><code>   public boolean validateGender(String p_gender){\n    if(p_gender.equals(&quot;Male&quot;) || p_gender.equals(&quot;Female&quot;)){\n       return true;\n    }\n    else{\n       return false;\n    }\n</code></pre>\n<p>So, how about something like the above?</p>\n<p>Then, use that in both setGender(String gender) and the constructor that you're looking to perform the validation in?</p>\n<pre><code>public Person(String name, String gender){\n    this.name = name;\n    if(validateGender(gender)){\n       this.gender = gender;\n    }\n    else{\n       this.gender = &quot;undefined&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659547566,"creation_date":1659547566,"answer_id":73225458,"question_id":73225359,"body_markdown":"Calling the setter in the constructor should only be done if either the class or the setter is final. Otherwise a sub class may override it, and do other things that attempt to use fields that haven&#39;t been initialized yet.\r\n\r\nOne easy fix is to make the field final. You then only have to validate it in the constructor, because there is no need for a setter. Another possibility is to duplicate the validation. But then you&#39;re duplicating code, and your first instinct should be to refactor it into a utility method.\r\n\r\nWhich can lead to something like this (and I&#39;m swapping the operands to the `equals` calls to be `null`-safe):\r\n\r\n```\r\npublic class Person {\r\n    public Person(String name, String gender) {\r\n        this.name = name;\r\n        setValidGender(gender);\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        setValidGender(gender);\r\n    }\r\n\r\n    private void setValidGender(String gender) {\r\n        if (&quot;Male&quot;.equals(gender) || &quot;Female&quot;.equals(gender)) {\r\n            this.gender = gender;\r\n        } else {\r\n            this.gender = &quot;undefined&quot;;\r\n        }\r\n    }\r\n}\r\n```","title":"Java constructor bypass setter validation","body":"<p>Calling the setter in the constructor should only be done if either the class or the setter is final. Otherwise a sub class may override it, and do other things that attempt to use fields that haven't been initialized yet.</p>\n<p>One easy fix is to make the field final. You then only have to validate it in the constructor, because there is no need for a setter. Another possibility is to duplicate the validation. But then you're duplicating code, and your first instinct should be to refactor it into a utility method.</p>\n<p>Which can lead to something like this (and I'm swapping the operands to the <code>equals</code> calls to be <code>null</code>-safe):</p>\n<pre><code>public class Person {\n    public Person(String name, String gender) {\n        this.name = name;\n        setValidGender(gender);\n    }\n\n    public void setGender(String gender) {\n        setValidGender(gender);\n    }\n\n    private void setValidGender(String gender) {\n        if (&quot;Male&quot;.equals(gender) || &quot;Female&quot;.equals(gender)) {\n            this.gender = gender;\n        } else {\n            this.gender = &quot;undefined&quot;;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659548239,"creation_date":1659548239,"answer_id":73225576,"question_id":73225359,"body_markdown":"Use [the builder pattern](https://refactoring.guru/design-patterns/builder) and do the validation as a part of the builder.\r\n\r\nSo here&#39;s the deal.  Performing field validation *while* the object is being instantiated is dangerous because you want to avoid two things:\r\n\r\n - Invalid data is in a &quot;valid&quot; object (do not assume a default gender)\r\n - Object is half-instantiated (if you throw an exception during object construction, [weird things happen](https://stackoverflow.com/a/14256966/1079354)\r\n\r\nSo instead, use a separate object that builds it out for you, and does the validation in place.\r\n\r\n```\r\npublic PersonBuilder {\r\n    public Person person = new Person(); // blank person object\r\n    public static PersonBuilder getInstance() {\r\n        return new PersonBuilder();\r\n    }\r\n\r\n    public PersonBuilder withName(final String name) {\r\n        // do your validation here, and if it fails, you can blow up\r\n        person.setName(name);\r\n        return this;\r\n    }\r\n\r\n    public PersonBuilder withGender(final String gender) {\r\n        // do your validation here, and if it fails, you can blow up\r\n        person.setGender(gender);\r\n        return this;\r\n    }\r\n\r\n    public Person build() {\r\n        return person;\r\n    }\r\n\r\n}\r\n\r\n// Usage\r\n\r\nPerson person = PersonBuilder.getInstance().withName(&quot;Tom&quot;).withGender(&quot;Male&quot;).build();\r\n\r\n```\r\n","title":"Java constructor bypass setter validation","body":"<p>Use <a href=\"https://refactoring.guru/design-patterns/builder\" rel=\"nofollow noreferrer\">the builder pattern</a> and do the validation as a part of the builder.</p>\n<p>So here's the deal.  Performing field validation <em>while</em> the object is being instantiated is dangerous because you want to avoid two things:</p>\n<ul>\n<li>Invalid data is in a &quot;valid&quot; object (do not assume a default gender)</li>\n<li>Object is half-instantiated (if you throw an exception during object construction, <a href=\"https://stackoverflow.com/a/14256966/1079354\">weird things happen</a></li>\n</ul>\n<p>So instead, use a separate object that builds it out for you, and does the validation in place.</p>\n<pre><code>public PersonBuilder {\n    public Person person = new Person(); // blank person object\n    public static PersonBuilder getInstance() {\n        return new PersonBuilder();\n    }\n\n    public PersonBuilder withName(final String name) {\n        // do your validation here, and if it fails, you can blow up\n        person.setName(name);\n        return this;\n    }\n\n    public PersonBuilder withGender(final String gender) {\n        // do your validation here, and if it fails, you can blow up\n        person.setGender(gender);\n        return this;\n    }\n\n    public Person build() {\n        return person;\n    }\n\n}\n\n// Usage\n\nPerson person = PersonBuilder.getInstance().withName(&quot;Tom&quot;).withGender(&quot;Male&quot;).build();\n\n</code></pre>\n"}],"owner":{"account_id":17394838,"reputation":27,"user_id":12604694,"display_name":"giggity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659548239,"creation_date":1659547198,"question_id":73225359,"body_markdown":"When learning Java constructor and mutator, I found out that setter can be used to perform validation. But if we directly use constructor to create a new instance, wouldn&#39;t it bypass the validation in setter? Below is the sample code:\r\n\r\n```\r\npublic static void main(String[] args){\r\n    Person p1 = new Person(&quot;My Name&quot;, &quot;My Gender&quot;); //bypass setter validation\r\n    p1.setGender(&quot;Female&quot;); //validation is performed\r\n}\r\n\r\npublic class Person{\r\n    public Person(String name, String gender){\r\n        this.name = name;\r\n        this.gender = gender;\r\n    }\r\n\r\n    public void setGender(String gender){\r\n        if(gender.equals(&quot;Male&quot;) || gender.equals(&quot;Female&quot;)){\r\n            this.gender = gender;\r\n        }\r\n        else{\r\n            this.gender = &quot;undefined&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have seen some mentioned that you can call the setter in the constructor, but seems like it is not a good approach as a lot of forums mentioned that it will cause some &quot;overridden&quot; issue. If that&#39;s the case, is there anything I can do to make sure that the setter validation can be performed when I&#39;m calling my constructor?\r\n\r\nThanks in advance!","title":"Java constructor bypass setter validation","body":"<p>When learning Java constructor and mutator, I found out that setter can be used to perform validation. But if we directly use constructor to create a new instance, wouldn't it bypass the validation in setter? Below is the sample code:</p>\n<pre><code>public static void main(String[] args){\n    Person p1 = new Person(&quot;My Name&quot;, &quot;My Gender&quot;); //bypass setter validation\n    p1.setGender(&quot;Female&quot;); //validation is performed\n}\n\npublic class Person{\n    public Person(String name, String gender){\n        this.name = name;\n        this.gender = gender;\n    }\n\n    public void setGender(String gender){\n        if(gender.equals(&quot;Male&quot;) || gender.equals(&quot;Female&quot;)){\n            this.gender = gender;\n        }\n        else{\n            this.gender = &quot;undefined&quot;;\n        }\n    }\n}\n</code></pre>\n<p>I have seen some mentioned that you can call the setter in the constructor, but seems like it is not a good approach as a lot of forums mentioned that it will cause some &quot;overridden&quot; issue. If that's the case, is there anything I can do to make sure that the setter validation can be performed when I'm calling my constructor?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","jetty","embedded-jetty","jetty-9","connection-reset"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659558511,"post_id":73225548,"comment_id":129325894,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5404451,"reputation":144,"user_id":4315858,"display_name":"Arda G&#252;ney"},"score":0,"creation_date":1661258342,"post_id":73225548,"comment_id":129724688,"body_markdown":"I couldn&#39;t find a way either...","body":"I couldn&#39;t find a way either..."}],"owner":{"account_id":25969760,"reputation":11,"user_id":19685166,"display_name":"Martin Penaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659548043,"creation_date":1659548043,"question_id":73225548,"body_markdown":"Using embedded Jetty 9.4.x and QueuedThreadPool\r\n\r\nIn a scenario when there is way too few threads to handle Jetty tasks the QTP queue grows\r\n\r\nNew Connections have a timeout of 30secs and if in these 30secs the task is not picked from the Queue the connection is dropped. If this happens there is only a DEBUG msg thrown by JettyContainer.\r\n\r\nIs there any way to setup a warning LOG messages for alerting purposes? I was trying to explore different EventListeners eg. HttpChannel.Listener, unfortunately it does not have a method exposed for when the connection is dropped due to timeout. Are there any other options or any other listener that can give access to that event?\r\n\r\nThe reason why I want to set this up is that I have several servers behind load balancer and if one of these gets into some issues, there is no easy way to find out which of the servers drops the connections","title":"Jetty Connection-Reset Timeouts Alerting","body":"<p>Using embedded Jetty 9.4.x and QueuedThreadPool</p>\n<p>In a scenario when there is way too few threads to handle Jetty tasks the QTP queue grows</p>\n<p>New Connections have a timeout of 30secs and if in these 30secs the task is not picked from the Queue the connection is dropped. If this happens there is only a DEBUG msg thrown by JettyContainer.</p>\n<p>Is there any way to setup a warning LOG messages for alerting purposes? I was trying to explore different EventListeners eg. HttpChannel.Listener, unfortunately it does not have a method exposed for when the connection is dropped due to timeout. Are there any other options or any other listener that can give access to that event?</p>\n<p>The reason why I want to set this up is that I have several servers behind load balancer and if one of these gets into some issues, there is no easy way to find out which of the servers drops the connections</p>\n"},{"tags":["java","javac","annotation-processing"],"owner":{"account_id":5074427,"reputation":193,"user_id":4072268,"accept_rate":100,"display_name":"langtutheky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659547701,"creation_date":1659547701,"question_id":73225486,"body_markdown":"This is the official documentation for the [`-s`](https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html#processing) option in javac\r\n\r\n&gt; Specify the directory where to place generated source files. The directory must already exist; javac will not create it. If a class is part of a package, the compiler puts the source file in a subdirectory reflecting the package name, creating directories as needed. For example, if you specify -s C:\\mysrc and the class is called com.mypackage.MyClass, then the source file will be placed in C:\\mysrc\\com\\mypackage\\MyClass.java.\r\n\r\nHowever, I want to know the default directory if this flag is not set from an official documentation/sources.\r\n","title":"What is the default directory for generated source files from annotation processing in javac?","body":"<p>This is the official documentation for the <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html#processing\" rel=\"nofollow noreferrer\"><code>-s</code></a> option in javac</p>\n<blockquote>\n<p>Specify the directory where to place generated source files. The directory must already exist; javac will not create it. If a class is part of a package, the compiler puts the source file in a subdirectory reflecting the package name, creating directories as needed. For example, if you specify -s C:\\mysrc and the class is called com.mypackage.MyClass, then the source file will be placed in C:\\mysrc\\com\\mypackage\\MyClass.java.</p>\n</blockquote>\n<p>However, I want to know the default directory if this flag is not set from an official documentation/sources.</p>\n"},{"tags":["java","sql","datetime","date"],"comments":[{"owner":{"account_id":2260891,"reputation":419,"user_id":1991034,"display_name":"Lem"},"score":0,"creation_date":1383040791,"post_id":530012,"comment_id":29185534,"body_markdown":"You can find a similar issue here\r\n\r\nhttp://stackoverflow.com/questions/12131068/error-casting-java-util-date-into-java-sql-date","body":"You can find a similar issue here    <a href=\"http://stackoverflow.com/questions/12131068/error-casting-java-util-date-into-java-sql-date\" title=\"error casting java util date into java sql date\">stackoverflow.com/questions/12131068/&hellip;</a>"},{"owner":{"account_id":2361010,"reputation":1365,"user_id":2067690,"accept_rate":83,"display_name":"HumanInDisguise"},"score":0,"creation_date":1430228182,"post_id":530012,"comment_id":47963463,"body_markdown":"For me, it turned out I didn&#39;t needed to convert. There was a `import java.sql.*` in my code, overriding the java.util.date and thus causing trouble when assigning date values that were fine with the latter but not the first. HTH","body":"For me, it turned out I didn&#39;t needed to convert. There was a <code>import java.sql.*</code> in my code, overriding the java.util.date and thus causing trouble when assigning date values that were fine with the latter but not the first. HTH"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1443128283,"post_id":530012,"comment_id":53380527,"body_markdown":"@DavidAckerman Do you understand that a java.util.Date is a date *and* a time-of-day, but a java.sql.Date is only a date *without* a time-of-day? (Actually there is a time-of-day but that is ignored, a bad hack of a class design) In SQL, `DATE` means date-only.","body":"@DavidAckerman Do you understand that a java.util.Date is a date <i>and</i> a time-of-day, but a java.sql.Date is only a date <i>without</i> a time-of-day? (Actually there is a time-of-day but that is ignored, a bad hack of a class design) In SQL, <code>DATE</code> means date-only."},{"owner":{"account_id":1823,"reputation":12659,"user_id":2504,"accept_rate":100,"display_name":"David Ackerman"},"score":2,"creation_date":1480950379,"post_id":530012,"comment_id":69163780,"body_markdown":"I indeed wasn&#39;t aware of the nuances back in &#39;09, and since this question is so popular, I&#39;ve changed the accepted answer to one that is both more modern and complete. Thanks everyone for your input!","body":"I indeed wasn&#39;t aware of the nuances back in &#39;09, and since this question is so popular, I&#39;ve changed the accepted answer to one that is both more modern and complete. Thanks everyone for your input!"}],"answers":[{"tags":[],"owner":{"account_id":1823,"reputation":12659,"user_id":2504,"accept_rate":100,"display_name":"David Ackerman"},"down_vote_count":2,"up_vote_count":533,"is_accepted":false,"score":531,"last_activity_date":1234214320,"creation_date":1234214320,"answer_id":530022,"question_id":530012,"body_markdown":"Nevermind....\r\n\r\n    public class MainClass {\r\n    \r\n      public static void main(String[] args) {\r\n        java.util.Date utilDate = new java.util.Date();\r\n        java.sql.Date sqlDate = new java.sql.Date(utilDate.getTime());\r\n        System.out.println(&quot;utilDate:&quot; + utilDate);\r\n        System.out.println(&quot;sqlDate:&quot; + sqlDate);\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nexplains it.  The link is [http://www.java2s.com/Tutorial/Java/0040__Data-Type/ConvertfromajavautilDateObjecttoajavasqlDateObject.htm][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0040__Data-Type/ConvertfromajavautilDateObjecttoajavasqlDateObject.htm","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>Nevermind....</p>\n\n<pre><code>public class MainClass {\n\n  public static void main(String[] args) {\n    java.util.Date utilDate = new java.util.Date();\n    java.sql.Date sqlDate = new java.sql.Date(utilDate.getTime());\n    System.out.println(\"utilDate:\" + utilDate);\n    System.out.println(\"sqlDate:\" + sqlDate);\n\n  }\n\n}\n</code></pre>\n\n<p>explains it.  The link is <a href=\"http://www.java2s.com/Tutorial/Java/0040__Data-Type/ConvertfromajavautilDateObjecttoajavasqlDateObject.htm\" rel=\"noreferrer\">http://www.java2s.com/Tutorial/Java/0040__Data-Type/ConvertfromajavautilDateObjecttoajavasqlDateObject.htm</a></p>\n"},{"tags":[],"owner":{"account_id":226474,"reputation":3182,"user_id":487545,"accept_rate":82,"display_name":"mauretto"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1400740727,"creation_date":1288879424,"answer_id":4097430,"question_id":530012,"body_markdown":"With the other answer you may have troubles with the time info (compare the dates with unexpected results!)\r\n\r\nI suggest:\r\n\r\n    java.util.Calendar cal = Calendar.getInstance();\r\n    java.util.Date utilDate = new java.util.Date(); // your util date\r\n    cal.setTime(utilDate);\r\n    cal.set(Calendar.HOUR_OF_DAY, 0);\r\n    cal.set(Calendar.MINUTE, 0);\r\n    cal.set(Calendar.SECOND, 0);\r\n    cal.set(Calendar.MILLISECOND, 0);    \r\n    java.sql.Date sqlDate = new java.sql.Date(cal.getTime().getTime()); // your sql date\r\n    System.out.println(&quot;utilDate:&quot; + utilDate);\r\n    System.out.println(&quot;sqlDate:&quot; + sqlDate);","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>With the other answer you may have troubles with the time info (compare the dates with unexpected results!)</p>\n\n<p>I suggest:</p>\n\n<pre><code>java.util.Calendar cal = Calendar.getInstance();\njava.util.Date utilDate = new java.util.Date(); // your util date\ncal.setTime(utilDate);\ncal.set(Calendar.HOUR_OF_DAY, 0);\ncal.set(Calendar.MINUTE, 0);\ncal.set(Calendar.SECOND, 0);\ncal.set(Calendar.MILLISECOND, 0);    \njava.sql.Date sqlDate = new java.sql.Date(cal.getTime().getTime()); // your sql date\nSystem.out.println(\"utilDate:\" + utilDate);\nSystem.out.println(\"sqlDate:\" + sqlDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1599903,"reputation":11,"user_id":1481148,"display_name":"Benjamin Ndugga"},"down_vote_count":9,"up_vote_count":1,"is_accepted":false,"score":-8,"last_activity_date":1340660212,"creation_date":1340660212,"answer_id":11197724,"question_id":530012,"body_markdown":"If you are usgin Mysql a date column can be passed a String representation of this date\r\n\r\nso i using the DateFormatter Class to format it and then set it as a String in the sql statement or prepared statement\r\n\r\nhere is the code illustration:\r\n\r\n    \r\n    private String converUtilDateToSqlDate(java.util.Date utilDate) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        String sqlDate = sdf.format(utilDate);\r\n        return sqlDate;\r\n    }\r\n\r\n String date = converUtilDateToSqlDate(otherTransaction.getTransDate());\r\n\r\n \r\n   //then pass this date in you sql statement\r\n\r\n\r\n\r\n\r\n","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>If you are usgin Mysql a date column can be passed a String representation of this date</p>\n\n<p>so i using the DateFormatter Class to format it and then set it as a String in the sql statement or prepared statement</p>\n\n<p>here is the code illustration:</p>\n\n<pre><code>private String converUtilDateToSqlDate(java.util.Date utilDate) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    String sqlDate = sdf.format(utilDate);\n    return sqlDate;\n}\n</code></pre>\n\n<p>String date = converUtilDateToSqlDate(otherTransaction.getTransDate());</p>\n\n<p>//then pass this date in you sql statement</p>\n"},{"tags":[],"owner":{"account_id":2830995,"reputation":2425,"user_id":2432586,"accept_rate":69,"display_name":"Donovan Thomson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371199114,"creation_date":1371199114,"answer_id":17104417,"question_id":530012,"body_markdown":"Method for comparing 2 dates (util.date or sql.date)  \r\n\r\n     public static boolean isSameDay(Date a, Date b) {\r\n        Calendar calA = new GregorianCalendar();\r\n        calA.setTime(a);\r\n\r\n        Calendar calB = new GregorianCalendar();\r\n        calB.setTime(b);\r\n\r\n        final int yearA = calA.get(Calendar.YEAR);\r\n        final int monthA = calA.get(Calendar.MONTH);\r\n        final int dayA = calA.get(Calendar.DAY_OF_YEAR);\r\n\r\n        final int yearB = calB.get(Calendar.YEAR);\r\n        final int monthB = calB.get(Calendar.MONTH);\r\n        final int dayB = calB.get(Calendar.DAY_OF_YEAR);\r\n\r\n        return yearA == yearB &amp;&amp; monthA == monthB &amp;&amp; dayA == dayB;\r\n    }","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>Method for comparing 2 dates (util.date or sql.date)  </p>\n\n<pre><code> public static boolean isSameDay(Date a, Date b) {\n    Calendar calA = new GregorianCalendar();\n    calA.setTime(a);\n\n    Calendar calB = new GregorianCalendar();\n    calB.setTime(b);\n\n    final int yearA = calA.get(Calendar.YEAR);\n    final int monthA = calA.get(Calendar.MONTH);\n    final int dayA = calA.get(Calendar.DAY_OF_YEAR);\n\n    final int yearB = calB.get(Calendar.YEAR);\n    final int monthB = calB.get(Calendar.MONTH);\n    final int dayB = calB.get(Calendar.DAY_OF_YEAR);\n\n    return yearA == yearB &amp;&amp; monthA == monthB &amp;&amp; dayA == dayB;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3281906,"reputation":3459,"user_id":2762311,"accept_rate":74,"display_name":"Kishan Bheemajiyani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380019202,"creation_date":1380019202,"answer_id":18979351,"question_id":530012,"body_markdown":"\r\n\r\nHere the example of converting Util Date to Sql date and ya this is one example what i am using in my project might be helpful to you too.\r\n\r\n    java.util.Date utilStartDate = table_Login.getDob();(orwhat ever date your give form obj)\r\n    java.sql.Date sqlStartDate = new java.sql.Date(utilStartDate.getTime());(converting date)","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>Here the example of converting Util Date to Sql date and ya this is one example what i am using in my project might be helpful to you too.</p>\n\n<pre><code>java.util.Date utilStartDate = table_Login.getDob();(orwhat ever date your give form obj)\njava.sql.Date sqlStartDate = new java.sql.Date(utilStartDate.getTime());(converting date)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":301494,"reputation":2081,"user_id":2041542,"accept_rate":60,"display_name":"kapil das"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380890900,"creation_date":1380890900,"answer_id":19181593,"question_id":530012,"body_markdown":" \r\ntry with this \r\n\r\n    public static String toMysqlDateStr(Date date) {\r\n        String dateForMySql = &quot;&quot;;\r\n        if (date == null) {\r\n            dateForMySql = null;\r\n        } else {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            dateForMySql = sdf.format(date);\r\n        }\r\n\r\n        return dateForMySql;\r\n    }","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>try with this </p>\n\n<pre><code>public static String toMysqlDateStr(Date date) {\n    String dateForMySql = \"\";\n    if (date == null) {\n        dateForMySql = null;\n    } else {\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        dateForMySql = sdf.format(date);\n    }\n\n    return dateForMySql;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970488,"reputation":11,"user_id":2522632,"display_name":"UmeshA"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1386873612,"creation_date":1386872408,"answer_id":20551199,"question_id":530012,"body_markdown":"i am using the following code please try it out\r\n\r\n    DateFormat fm= new SimpleDateFormatter();\r\n\r\nspecify the format of the date you want\r\nfor example `&quot;DD-MM_YYYY&quot;` or `&#39;YYYY-mm-dd&#39;`  then use the java Date datatype as\r\n\r\n    fm.format(&quot;object of java.util.date&quot;);\r\n\r\nthen it will parse your date\r\n\r\n\r\n","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>i am using the following code please try it out</p>\n\n<pre><code>DateFormat fm= new SimpleDateFormatter();\n</code></pre>\n\n<p>specify the format of the date you want\nfor example <code>\"DD-MM_YYYY\"</code> or <code>'YYYY-mm-dd'</code>  then use the java Date datatype as</p>\n\n<pre><code>fm.format(\"object of java.util.date\");\n</code></pre>\n\n<p>then it will parse your date</p>\n"},{"tags":[],"owner":{"account_id":190901,"reputation":411,"user_id":431127,"display_name":"chetan"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1392738613,"creation_date":1391635368,"answer_id":21588812,"question_id":530012,"body_markdown":"This function will return a converted SQL date from java date object.\r\n\r\n    public java.sql.Date convertJavaDateToSqlDate(java.util.Date date) {\r\n        return new java.sql.Date(date.getTime());\r\n    }","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>This function will return a converted SQL date from java date object.</p>\n\n<pre><code>public java.sql.Date convertJavaDateToSqlDate(java.util.Date date) {\n    return new java.sql.Date(date.getTime());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2744245,"reputation":219,"user_id":2364991,"accept_rate":20,"display_name":"Tanmay kumar shaw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1419331762,"creation_date":1419331762,"answer_id":27618832,"question_id":530012,"body_markdown":"This function will return a converted SQL date from java date object.\r\n\r\n    public static java.sql.Date convertFromJAVADateToSQLDate(\r\n    \t\t\tjava.util.Date javaDate) {\r\n    \t\tjava.sql.Date sqlDate = null;\r\n    \t\tif (javaDate != null) {\r\n    \t\t\tsqlDate = new Date(javaDate.getTime());\r\n    \t\t}\r\n    \t\treturn sqlDate;\r\n    \t}","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>This function will return a converted SQL date from java date object.</p>\n\n<pre><code>public static java.sql.Date convertFromJAVADateToSQLDate(\n            java.util.Date javaDate) {\n        java.sql.Date sqlDate = null;\n        if (javaDate != null) {\n            sqlDate = new Date(javaDate.getTime());\n        }\n        return sqlDate;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2572861,"reputation":1555,"user_id":2231163,"accept_rate":100,"display_name":"Emmanuel Angelo.R"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1427954284,"creation_date":1427954284,"answer_id":29405968,"question_id":530012,"body_markdown":"You can use this method to convert util date to sql date,\r\n\r\n    DateUtilities.convertUtilDateToSql(java.util.Date)","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>You can use this method to convert util date to sql date,</p>\n\n<pre><code>DateUtilities.convertUtilDateToSql(java.util.Date)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1490980,"reputation":4670,"user_id":1398065,"accept_rate":86,"display_name":"shellbye"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1621931535,"creation_date":1436153797,"answer_id":31237429,"question_id":530012,"body_markdown":"Converting ```java.util.Date``` to ```java.sql.Date``` will lose hours, minutes and seconds. So if it is possible, I suggest you to use ```java.sql.Timestamp``` like this:\r\n\r\n    prepareStatement.setTimestamp(1, new Timestamp(utilDate.getTime()));\r\n\r\nFor more info, you can check [this question](https://stackoverflow.com/questions/2305973/java-util-date-vs-java-sql-date).\r\n","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>Converting <code>java.util.Date</code> to <code>java.sql.Date</code> will lose hours, minutes and seconds. So if it is possible, I suggest you to use <code>java.sql.Timestamp</code> like this:</p>\n<pre><code>prepareStatement.setTimestamp(1, new Timestamp(utilDate.getTime()));\n</code></pre>\n<p>For more info, you can check <a href=\"https://stackoverflow.com/questions/2305973/java-util-date-vs-java-sql-date\">this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":10,"up_vote_count":144,"is_accepted":true,"score":134,"last_activity_date":1659547402,"creation_date":1436158548,"answer_id":31238011,"question_id":530012,"body_markdown":"# tl;dr\r\n\r\n&gt;How to convert java.util.Date to java.sql.Date?\r\n\r\n**Donât.** \r\n\r\nBoth `Date` classes are outmoded. [Sun][1], [Oracle][2], and the [JCP][3] community gave up on those legacy date-time classes years ago with the unanimous adoption of [JSR 310][4] defining the *java.time* classes.\r\n\r\n - Use [*java.time*][5] classes instead of legacy `java.util.Date` &amp; `java.sql.Date` with JDBC 4.2 or later.\r\n - Convert to/from java.time if inter-operating with code not yet updated to java.time.\r\n\r\n| Legacy | Modern | Conversion |\r\n| --- | --- | --- |\r\n| `java.util.Date` | `java.time.Instant` | `java.util.Date.toInstant()`&lt;br /&gt;`java.util.Date.from( Instant )` |\r\n| `java.sql.Date` | `java.time.LocalDate` | `java.sql.Date.toLocalDate()`&lt;br /&gt;`java.sql.Date.valueOf( LocalDate )` |\r\n\r\nExample query with [`PreparedStatement`][6].\r\n\r\n    myPreparedStatement.setObject( \r\n        â¦ ,                                         // Specify the ordinal number of which argument in SQL statement.\r\n        myJavaUtilDate.toInstant()                  // Convert from legacy class `java.util.Date` (a moment in UTC) to a modern `java.time.Instant` (a moment in UTC).\r\n            .atZone( ZoneId.of( &quot;Africa/Tunis&quot; ) )  // Adjust from UTC to a particular time zone, to determine a date. Instantiating a `ZonedDateTime`.\r\n            .toLocalDate()                          // Extract a date-only `java.time.LocalDate` object from the date-time `ZonedDateTime` object.\r\n    )\r\n\r\nReplacements:\r\n\r\n - [`Instant`][7] instead of `java.util.Date`&lt;br /&gt;Both represent a moment in UTC. but now with nanoseconds instead of milliseconds.\r\n - [`LocalDate`][8] instead of `java.sql.Date`&lt;br /&gt;Both represent a date-only value without a time of day and without a time zone.\r\n\r\n\r\n\r\n# Details\r\n\r\n\r\nIf you are trying to work with date-only values (no time-of-day, no time zone), use the [`LocalDate`][9] class rather than [`java.util.Date`][10].\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in the SQL standard.][11]][11]\r\n\r\n# java.time\r\n\r\nIn Java 8 and later, the troublesome old date-time classes bundled with early versions of Java have been supplanted by the new [java.time package][12]. See [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). Much of the functionality has been back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to Android in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\nA [SQL data type][13] `DATE` is meant to be date-only, with no time-of-day and no time zone. Java never had precisely such a classâ  until [`java.time.LocalDate`][9] in Java 8. Let&#39;s create such a value by getting today&#39;s date according to a particular time zone (time zone is important in determining a date as a new day dawns earlier in Paris than in Montr&#233;al, for example).\r\n\r\n    LocalDate todayLocalDate = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );  // Use proper &quot;continent/region&quot; time zone names; never use 3-4 letter codes like &quot;EST&quot; or &quot;IST&quot;.\r\n\r\nAt this point, we may be done. If your [JDBC driver][14] complies with [JDBC 4.2 spec][15], you should be able to pass a `LocalDate` via [`setObject`][16] on a [`PreparedStatement`][17] to store into a SQL DATE field. \r\n\r\n    myPreparedStatement.setObject( 1 , localDate );\r\n\r\nLikewise, use [`ResultSet::getObject`][18] to fetch from a SQL DATE column to a Java `LocalDate` object. Specifying the class in the second argument makes your code [type-safe][19].\r\n\r\n    LocalDate localDate = ResultSet.getObject( 1 , LocalDate.class );\r\n\r\nIn other words, **this entire Question is irrelevant under JDBC 4.2** or later.\r\n\r\nIf your JDBC driver does not perform in this manner, you need to fall back to converting to the java.sql types.\r\n\r\n# Convert to java.sql.Date\r\n\r\nTo convert, use new methods added to the old date-time classes. We can call [`java.sql.Date.valueOf(â¦)`][20] to convert a `LocalDate`.\r\n\r\n    java.sql.Date sqlDate = java.sql.Date.valueOf( todayLocalDate );\r\n\r\nAnd going the other direction.\r\n\r\n    LocalDate localDate = sqlDate.toLocalDate();\r\n\r\n# Converting from `java.util.Date`\r\n\r\nWhile you should avoid using the old date-time classes, you may be forced to when working with existing code. If so, you can convert to/from java.time. \r\n\r\nGo through the `Instant` class, which represents a moment on the timeline in UTC. An `Instant` is similar in idea to a `java.util.Date`. But note that `Instant` has a resolution up to [nanoseconds][21] while `java.util.Date` has only [milliseconds][22] resolution.\r\n\r\nTo convert, use new methods added to the old classes. For example, [`java.util.Date.from( Instant )`](http://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-) and [`java.util.Date::toInstant`](http://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--).\r\n\r\n    Instant instant = myUtilDate.toInstant();\r\n\r\nTo determine a date, we need the context of a time zone. For any given moment, the date varies around the globe by time zone. Apply a [`ZoneId`][23] to get a [`ZonedDateTime`][24].\r\n\r\n    ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant ( instant , zoneId );\r\n    LocalDate localDate = zdt.toLocalDate();\r\n\r\n----------\r\nâ  The java.sql.Date class pretends to be date-only without a time-of-day but actually *does* a time-of-day, adjusted to a midnight time. Confusing? Yes, the old date-time classes are a mess.\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABPâ¦*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][25]][25]\r\n\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Sun_Microsystems\r\n  [2]: https://en.wikipedia.org/wiki/Oracle\r\n  [3]: https://en.wikipedia.org/wiki/Java_Community_Process\r\n  [4]: https://jcp.org/en/jsr/detail?id=310\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/sql/PreparedStatement.html\r\n  [7]: https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\r\n  [8]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [10]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [11]: https://i.stack.imgur.com/bXtIS.png\r\n  [12]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [13]: https://en.wikipedia.org/wiki/SQL#Data_types\r\n  [14]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [15]: https://www.jcp.org/en/jsr/detail?id=221\r\n  [16]: https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setObject-int-java.lang.Object-\r\n  [17]: https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\r\n  [18]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-int-java.lang.Class-\r\n  [19]: https://en.wikipedia.org/wiki/Type_safety\r\n  [20]: http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#valueOf-java.time.LocalDate-\r\n  [21]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [22]: https://en.wikipedia.org/wiki/Millisecond\r\n  [23]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [24]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [25]: https://i.stack.imgur.com/Sksw9.png","title":"How to convert java.util.Date to java.sql.Date?","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>How to convert java.util.Date to java.sql.Date?</p>\n</blockquote>\n<p><strong>Donât.</strong></p>\n<p>Both <code>Date</code> classes are outmoded. <a href=\"https://en.wikipedia.org/wiki/Sun_Microsystems\" rel=\"noreferrer\">Sun</a>, <a href=\"https://en.wikipedia.org/wiki/Oracle\" rel=\"noreferrer\">Oracle</a>, and the <a href=\"https://en.wikipedia.org/wiki/Java_Community_Process\" rel=\"noreferrer\">JCP</a> community gave up on those legacy date-time classes years ago with the unanimous adoption of <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a> defining the <em>java.time</em> classes.</p>\n<ul>\n<li>Use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> classes instead of legacy <code>java.util.Date</code> &amp; <code>java.sql.Date</code> with JDBC 4.2 or later.</li>\n<li>Convert to/from java.time if inter-operating with code not yet updated to java.time.</li>\n</ul>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Legacy</th>\n<th>Modern</th>\n<th>Conversion</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>java.util.Date</code></td>\n<td><code>java.time.Instant</code></td>\n<td><code>java.util.Date.toInstant()</code><br /><code>java.util.Date.from( Instant )</code></td>\n</tr>\n<tr>\n<td><code>java.sql.Date</code></td>\n<td><code>java.time.LocalDate</code></td>\n<td><code>java.sql.Date.toLocalDate()</code><br /><code>java.sql.Date.valueOf( LocalDate )</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Example query with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/sql/PreparedStatement.html\" rel=\"noreferrer\"><code>PreparedStatement</code></a>.</p>\n<pre><code>myPreparedStatement.setObject( \n    â¦ ,                                         // Specify the ordinal number of which argument in SQL statement.\n    myJavaUtilDate.toInstant()                  // Convert from legacy class `java.util.Date` (a moment in UTC) to a modern `java.time.Instant` (a moment in UTC).\n        .atZone( ZoneId.of( &quot;Africa/Tunis&quot; ) )  // Adjust from UTC to a particular time zone, to determine a date. Instantiating a `ZonedDateTime`.\n        .toLocalDate()                          // Extract a date-only `java.time.LocalDate` object from the date-time `ZonedDateTime` object.\n)\n</code></pre>\n<p>Replacements:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> instead of <code>java.util.Date</code><br />Both represent a moment in UTC. but now with nanoseconds instead of milliseconds.</li>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> instead of <code>java.sql.Date</code><br />Both represent a date-only value without a time of day and without a time zone.</li>\n</ul>\n<h1>Details</h1>\n<p>If you are trying to work with date-only values (no time-of-day, no time zone), use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class rather than <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/bXtIS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bXtIS.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in the SQL standard.\" /></a></p>\n<h1>java.time</h1>\n<p>In Java 8 and later, the troublesome old date-time classes bundled with early versions of Java have been supplanted by the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a>. See <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. Much of the functionality has been back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> and further adapted to Android in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a>.</p>\n<p>A <a href=\"https://en.wikipedia.org/wiki/SQL#Data_types\" rel=\"noreferrer\">SQL data type</a> <code>DATE</code> is meant to be date-only, with no time-of-day and no time zone. Java never had precisely such a classâ  until <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>java.time.LocalDate</code></a> in Java 8. Let's create such a value by getting today's date according to a particular time zone (time zone is important in determining a date as a new day dawns earlier in Paris than in MontrÃ©al, for example).</p>\n<pre><code>LocalDate todayLocalDate = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );  // Use proper &quot;continent/region&quot; time zone names; never use 3-4 letter codes like &quot;EST&quot; or &quot;IST&quot;.\n</code></pre>\n<p>At this point, we may be done. If your <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> complies with <a href=\"https://www.jcp.org/en/jsr/detail?id=221\" rel=\"noreferrer\">JDBC 4.2 spec</a>, you should be able to pass a <code>LocalDate</code> via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setObject-int-java.lang.Object-\" rel=\"noreferrer\"><code>setObject</code></a> on a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\" rel=\"noreferrer\"><code>PreparedStatement</code></a> to store into a SQL DATE field.</p>\n<pre><code>myPreparedStatement.setObject( 1 , localDate );\n</code></pre>\n<p>Likewise, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-int-java.lang.Class-\" rel=\"noreferrer\"><code>ResultSet::getObject</code></a> to fetch from a SQL DATE column to a Java <code>LocalDate</code> object. Specifying the class in the second argument makes your code <a href=\"https://en.wikipedia.org/wiki/Type_safety\" rel=\"noreferrer\">type-safe</a>.</p>\n<pre><code>LocalDate localDate = ResultSet.getObject( 1 , LocalDate.class );\n</code></pre>\n<p>In other words, <strong>this entire Question is irrelevant under JDBC 4.2</strong> or later.</p>\n<p>If your JDBC driver does not perform in this manner, you need to fall back to converting to the java.sql types.</p>\n<h1>Convert to java.sql.Date</h1>\n<p>To convert, use new methods added to the old date-time classes. We can call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#valueOf-java.time.LocalDate-\" rel=\"noreferrer\"><code>java.sql.Date.valueOf(â¦)</code></a> to convert a <code>LocalDate</code>.</p>\n<pre><code>java.sql.Date sqlDate = java.sql.Date.valueOf( todayLocalDate );\n</code></pre>\n<p>And going the other direction.</p>\n<pre><code>LocalDate localDate = sqlDate.toLocalDate();\n</code></pre>\n<h1>Converting from <code>java.util.Date</code></h1>\n<p>While you should avoid using the old date-time classes, you may be forced to when working with existing code. If so, you can convert to/from java.time.</p>\n<p>Go through the <code>Instant</code> class, which represents a moment on the timeline in UTC. An <code>Instant</code> is similar in idea to a <code>java.util.Date</code>. But note that <code>Instant</code> has a resolution up to <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> while <code>java.util.Date</code> has only <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a> resolution.</p>\n<p>To convert, use new methods added to the old classes. For example, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-\" rel=\"noreferrer\"><code>java.util.Date.from( Instant )</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"noreferrer\"><code>java.util.Date::toInstant</code></a>.</p>\n<pre><code>Instant instant = myUtilDate.toInstant();\n</code></pre>\n<p>To determine a date, we need the context of a time zone. For any given moment, the date varies around the globe by time zone. Apply a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>.</p>\n<pre><code>ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant ( instant , zoneId );\nLocalDate localDate = zdt.toLocalDate();\n</code></pre>\n<hr />\n<p>â  The java.sql.Date class pretends to be date-only without a time-of-day but actually <em>does</em> a time-of-day, adjusted to a midnight time. Confusing? Yes, the old date-time classes are a mess.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABPâ¦</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Sksw9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sksw9.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":7450125,"reputation":57,"user_id":5665201,"display_name":"hackfield"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1455634734,"creation_date":1455632934,"answer_id":35435182,"question_id":530012,"body_markdown":"Format your java.util.Date first. Then use the formatted date to get the date in java.sql.Date\r\n\r\n    java.util.Date utilDate = &quot;Your date&quot;\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\tfinal String stringDate= dateFormat.format(utilDate);\r\n    final java.sql.Date sqlDate=  java.sql.Date.valueOf(stringDate);","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>Format your java.util.Date first. Then use the formatted date to get the date in java.sql.Date</p>\n\n<pre><code>java.util.Date utilDate = \"Your date\"\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\nfinal String stringDate= dateFormat.format(utilDate);\nfinal java.sql.Date sqlDate=  java.sql.Date.valueOf(stringDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8012152,"reputation":1,"user_id":6043502,"display_name":"user6043502"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458754555,"creation_date":1457596116,"answer_id":35910504,"question_id":530012,"body_markdown":"I think the best way to convert is:\r\n\r\n    static java.sql.Timestamp SQLDateTime(Long utilDate) {\r\n        return new java.sql.Timestamp(utilDate);\r\n    }\r\n\r\n    Date date = new Date();\r\n    java.sql.Timestamp dt = SQLDateTime(date.getTime());\r\n\r\nIf you want to insert the `dt` variable into an SQL table you can do:\r\n\r\n    insert into table (expireAt) values (&#39;&quot;+dt+&quot;&#39;);\r\n","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>I think the best way to convert is:</p>\n\n<pre><code>static java.sql.Timestamp SQLDateTime(Long utilDate) {\n    return new java.sql.Timestamp(utilDate);\n}\n\nDate date = new Date();\njava.sql.Timestamp dt = SQLDateTime(date.getTime());\n</code></pre>\n\n<p>If you want to insert the <code>dt</code> variable into an SQL table you can do:</p>\n\n<pre><code>insert into table (expireAt) values ('\"+dt+\"');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8711464,"reputation":21,"user_id":6517507,"display_name":"PKSawmy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467015324,"creation_date":1467015324,"answer_id":38048908,"question_id":530012,"body_markdown":"I am a novice: after much running around this worked.  Thought might be useful\r\n\r\n\r\n         String bufDt =  bDOB.getText();  //data from form\r\n         DateFormat dF = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;); //data in form is in this format\r\n         Date bbdt = (Date)dF.parse(bufDt);  // string data is converted into java util date\r\n         DateFormat dsF = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); //converted date is reformatted for conversion to sql.date\r\n         String ndt = dsF.format(bbdt); // java util date is converted to compatible java sql date\r\n         java.sql.Date sqlDate=  java.sql.Date.valueOf(ndt);  // finally data from the form is convered to java sql. date for placing in database","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>I am a novice: after much running around this worked.  Thought might be useful</p>\n\n<pre><code>     String bufDt =  bDOB.getText();  //data from form\n     DateFormat dF = new SimpleDateFormat(\"dd-MM-yyyy\"); //data in form is in this format\n     Date bbdt = (Date)dF.parse(bufDt);  // string data is converted into java util date\n     DateFormat dsF = new SimpleDateFormat(\"yyyy-MM-dd\"); //converted date is reformatted for conversion to sql.date\n     String ndt = dsF.format(bbdt); // java util date is converted to compatible java sql date\n     java.sql.Date sqlDate=  java.sql.Date.valueOf(ndt);  // finally data from the form is convered to java sql. date for placing in database\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8341549,"reputation":52,"user_id":6266722,"accept_rate":40,"display_name":"PONRAJ"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1472213016,"creation_date":1472209245,"answer_id":39164744,"question_id":530012,"body_markdown":"I was trying the following coding that worked fine.\r\n\r\n&gt;   java.util.Date utilDate = new java.util.Date();&lt;br&gt; java.sql.Date\r\n&gt; sqlDate = new java.sql.Date(utilDate);","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>I was trying the following coding that worked fine.</p>\n\n<blockquote>\n  <p>java.util.Date utilDate = new java.util.Date();<br> java.sql.Date\n  sqlDate = new java.sql.Date(utilDate);</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8017543,"reputation":2493,"user_id":6047274,"display_name":"jack jay"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1473430833,"creation_date":1473430833,"answer_id":39413772,"question_id":530012,"body_markdown":"In my case of picking date from JXDatePicker (java calender) and getting it stored in database as SQL Date type, below works fine ..\r\n\r\n`java.sql.Date date = new java.sql.Date(pickedDate.getDate().getTime());`\r\n\r\nwhere pickedDate is object of JXDatePicker\r\n","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>In my case of picking date from JXDatePicker (java calender) and getting it stored in database as SQL Date type, below works fine ..</p>\n\n<p><code>java.sql.Date date = new java.sql.Date(pickedDate.getDate().getTime());</code></p>\n\n<p>where pickedDate is object of JXDatePicker</p>\n"}],"owner":{"account_id":1823,"reputation":12659,"user_id":2504,"accept_rate":100,"display_name":"David Ackerman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771420,"favorite_count":0,"down_vote_count":0,"up_vote_count":514,"accepted_answer_id":31238011,"answer_count":17,"score":514,"last_activity_date":1659547402,"creation_date":1234214178,"question_id":530012,"body_markdown":"I am trying to use a [`java.util.Date`][1] as input and then creating a query with it - so I need a [`java.sql.Date`][2].  \r\n\r\nI was surprised to find that it couldn&#39;t do the conversion implicitly or explicitly - but I don&#39;t even know how I would do this, as the Java API is still fairly new to me.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html","title":"How to convert java.util.Date to java.sql.Date?","body":"<p>I am trying to use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> as input and then creating a query with it - so I need a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Date.html\" rel=\"noreferrer\"><code>java.sql.Date</code></a>.  </p>\n\n<p>I was surprised to find that it couldn't do the conversion implicitly or explicitly - but I don't even know how I would do this, as the Java API is still fairly new to me.</p>\n"},{"tags":["java","trigonometry"],"answers":[{"tags":[],"owner":{"account_id":4152794,"reputation":233,"user_id":3404748,"accept_rate":64,"display_name":"John Conner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405270090,"creation_date":1405270090,"answer_id":24725007,"question_id":24723941,"body_markdown":"Alright figured it out :)\r\n\r\nI didn&#39;t even need rotate what I did was get the current degrees for that letter and add 90 to it...Apparently I was overcomplicating it\r\n\r\nHere is the working loop\r\n\r\n    // Place text in a circular pattern\r\n\tint i = 0;\r\n\tdouble degree = 360 / phrase.length();\r\n\tFont font = new Font(&quot;Times Roman&quot;, textSize);\r\n\tfor (double degrees = 0; i &lt; phrase.length(); i++, degrees += degree) {\r\n\t\tdouble pointX = circle.getCenterX() + circle.getRadius() *\r\n\t\t\tMath.cos(Math.toRadians(degrees));\r\n\t\tdouble pointY = circle.getCenterY() + circle.getRadius() *\r\n\t\t\tMath.sin(Math.toRadians(degrees));\r\n\t\tText letter = new Text(pointX, pointY, phrase.charAt(i) + &quot;&quot;);\r\n\t\tletter.setFont(font);\r\n\t\tletter.setRotate(degrees + 90);\r\n\t\tgetChildren().add(letter);\r\n\t}","title":"Need help revising a simple formula to make it universal","body":"<p>Alright figured it out :)</p>\n\n<p>I didn't even need rotate what I did was get the current degrees for that letter and add 90 to it...Apparently I was overcomplicating it</p>\n\n<p>Here is the working loop</p>\n\n<pre><code>// Place text in a circular pattern\nint i = 0;\ndouble degree = 360 / phrase.length();\nFont font = new Font(\"Times Roman\", textSize);\nfor (double degrees = 0; i &lt; phrase.length(); i++, degrees += degree) {\n    double pointX = circle.getCenterX() + circle.getRadius() *\n        Math.cos(Math.toRadians(degrees));\n    double pointY = circle.getCenterY() + circle.getRadius() *\n        Math.sin(Math.toRadians(degrees));\n    Text letter = new Text(pointX, pointY, phrase.charAt(i) + \"\");\n    letter.setFont(font);\n    letter.setRotate(degrees + 90);\n    getChildren().add(letter);\n}\n</code></pre>\n"}],"owner":{"account_id":4152794,"reputation":233,"user_id":3404748,"accept_rate":64,"display_name":"John Conner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659547017,"creation_date":1405263222,"question_id":24723941,"body_markdown":"I am trying to perform a calculation for my program that will allow me to have each letter rotated to face towards the center coordinates of a circle....\r\n\r\nThe number of characters I am working with is 16 but I want this algorithm to work with any number of letters wrapping around a circle of any size, the positions of the letters have already been set within a loop that places them in the correct positions.\r\n\r\n    The formula I have goes something like this\r\n    degree = 360 / phrase.length() -&gt; where phrase.length() is 16\r\n    rotate = 360 / (phrase.length() - degree\r\n    \r\n    This is where I set the rotation\r\n    degrees = degree\r\n    Letter.setRotate((degrees + rotate) - (205));\r\n    degrees = degrees + degree\r\n    the next letter is then set using the Letter.setRotate((degrees + rotate) - (205)\r\n    this goes on and on until each letter is printed and rotated\r\n\r\nUsing the above formula the letters print out facing the center, but what is a better way of doing this that will allow me to use this for an unknown phrase length?\r\n\r\nBelow is the loop that I have created so far, even without programming experience you may be able to understand most of it...at least equation portions\r\n\r\n\t// Place text in a circular pattern\r\n\tint i = 0;\r\n\tdouble degree = 360 / phrase.length(), rotate = 360 / (phrase.length() - degree);\r\n\tFont font = new Font(&quot;Times Roman&quot;, textSize);\r\n\tfor (double degrees = 0; i &lt; phrase.length(); i++, degrees += degree) {\r\n\t\tdouble pointX = circle.getCenterX() + circle.getRadius() *\r\n\t\t\tMath.cos(Math.toRadians(degrees));\r\n\t\tdouble pointY = circle.getCenterY() + circle.getRadius() *\r\n\t\t\tMath.sin(Math.toRadians(degrees));\r\n\t\tText letter = new Text(pointX, pointY, phrase.charAt(i) + &quot;&quot;);\r\n\t\tletter.setFont(font);\r\n\t\tletter.setRotate((degrees + rotate) - (205));\r\n\t\tgetChildren().add(letter);\r\n\t}\r\n","title":"Need help revising a simple formula to make it universal","body":"<p>I am trying to perform a calculation for my program that will allow me to have each letter rotated to face towards the center coordinates of a circle....</p>\n\n<p>The number of characters I am working with is 16 but I want this algorithm to work with any number of letters wrapping around a circle of any size, the positions of the letters have already been set within a loop that places them in the correct positions.</p>\n\n<pre><code>The formula I have goes something like this\ndegree = 360 / phrase.length() -&gt; where phrase.length() is 16\nrotate = 360 / (phrase.length() - degree\n\nThis is where I set the rotation\ndegrees = degree\nLetter.setRotate((degrees + rotate) - (205));\ndegrees = degrees + degree\nthe next letter is then set using the Letter.setRotate((degrees + rotate) - (205)\nthis goes on and on until each letter is printed and rotated\n</code></pre>\n\n<p>Using the above formula the letters print out facing the center, but what is a better way of doing this that will allow me to use this for an unknown phrase length?</p>\n\n<p>Below is the loop that I have created so far, even without programming experience you may be able to understand most of it...at least equation portions</p>\n\n<pre><code>// Place text in a circular pattern\nint i = 0;\ndouble degree = 360 / phrase.length(), rotate = 360 / (phrase.length() - degree);\nFont font = new Font(\"Times Roman\", textSize);\nfor (double degrees = 0; i &lt; phrase.length(); i++, degrees += degree) {\n    double pointX = circle.getCenterX() + circle.getRadius() *\n        Math.cos(Math.toRadians(degrees));\n    double pointY = circle.getCenterY() + circle.getRadius() *\n        Math.sin(Math.toRadians(degrees));\n    Text letter = new Text(pointX, pointY, phrase.charAt(i) + \"\");\n    letter.setFont(font);\n    letter.setRotate((degrees + rotate) - (205));\n    getChildren().add(letter);\n}\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":7630925,"reputation":618,"user_id":5786007,"accept_rate":80,"display_name":"Reece"},"score":1,"creation_date":1659401545,"post_id":73200832,"comment_id":129280986,"body_markdown":"Your case for a user entering `3` on the main menu calls a method called `selectStudents` - while your sub menu is in another method called `studentSubMenu`. You aren&#39;t actually invoking `studentSubMenu` anywhere in your menu.","body":"Your case for a user entering <code>3</code> on the main menu calls a method called <code>selectStudents</code> - while your sub menu is in another method called <code>studentSubMenu</code>. You aren&#39;t actually invoking <code>studentSubMenu</code> anywhere in your menu."}],"answers":[{"tags":[],"owner":{"account_id":7630925,"reputation":618,"user_id":5786007,"accept_rate":80,"display_name":"Reece"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659546823,"creation_date":1659402239,"answer_id":73200980,"question_id":73200832,"body_markdown":"Expanding on my comment:\r\n\r\nThe issue here is that the case you have written for handling the input of `3` in the `menu` method calls another method called `selectStudents`.\r\n\r\nThis is not the method containing your sub menu logic. That method you have named `studentSubMenu`. This means that if the desired behavior of a user entering `3` is them being shown the sub menu, this won&#39;t occur unless `studentSubMenu` is either called directly in the `else if (input == 3)` block, or by `selectStudents` itself.\r\n\r\nYour logic in `menu` could look something like:\r\n\r\n```Java\r\n} else if (input == 3) {\r\n    int student = selectStudents();\r\n    studentSubMenu(student);\r\n}\r\n```","title":"Adding a submenu to menu","body":"<p>Expanding on my comment:</p>\n<p>The issue here is that the case you have written for handling the input of <code>3</code> in the <code>menu</code> method calls another method called <code>selectStudents</code>.</p>\n<p>This is not the method containing your sub menu logic. That method you have named <code>studentSubMenu</code>. This means that if the desired behavior of a user entering <code>3</code> is them being shown the sub menu, this won't occur unless <code>studentSubMenu</code> is either called directly in the <code>else if (input == 3)</code> block, or by <code>selectStudents</code> itself.</p>\n<p>Your logic in <code>menu</code> could look something like:</p>\n<pre><code>} else if (input == 3) {\n    int student = selectStudents();\n    studentSubMenu(student);\n}\n</code></pre>\n"}],"owner":{"account_id":25704364,"reputation":3,"user_id":19463921,"display_name":"marii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659460683,"accepted_answer_id":73200980,"answer_count":1,"score":0,"last_activity_date":1659546823,"creation_date":1659400309,"question_id":73200832,"body_markdown":"I am having trouble getting my submenu to show up when I select input 3)Select Students in my main menu. \r\nAny help fixing this is greatly appreciated, Thank you!\r\n\r\n here is the main menu (shows up first when I run the code)\r\n\r\n     public void menu() throws ClassNotFoundException, IOException {\r\n        Scanner sc = new Scanner(System.in);\r\n        int input;\r\n        do {\r\n            System.out.println(&quot;1) Populate Students&quot;);\r\n            System.out.println(&quot;2) Load Students from file&quot;);\r\n            System.out.println(&quot;3) Select Students&quot;);\r\n            System.out.println(&quot;4) Show Students&quot;);\r\n            System.out.println(&quot;5) Save Students to file&quot;);\r\n            System.out.println(&quot;6) Exit&quot;);\r\n            input = Integer.parseInt(sc.next());\r\n            if (input == 1) \r\n            {\r\n                populateStudents();\r\n            } else if (input == 2) {\r\n                loadStudents();\r\n            } else if (input == 3) {\r\n                selectStudents();\r\n            } else if (input == 4) {\r\n                showStudents();\r\n            } else if (input == 5) {\r\n                saveStudents();\r\n            }\r\n        } while (input != 6);\r\n\r\n    }\r\n   \r\nThis is my sub menu code, I want to be able to select input 3 from the main menu and call this sub menu to then select from. \r\n```\r\n    public void studentSubMenu(int i) throws IOException, ClassNotFoundException\r\n    { \r\n        System.out.println(&quot;Student Menu, select an option&quot;);\r\n   int input = 0;\r\n \r\n   while(input != 5)\r\n   {\r\n            System.out.println(&quot;1) Calculate Average&quot;);\r\n            System.out.println(&quot;2) Calculate Weighted Average&quot;);\r\n            System.out.println(&quot;3) Determine Letter Grade&quot;);\r\n            System.out.println(&quot;4) Display Students info&quot;);\r\n            System.out.println(&quot;5) GO BACK&quot;);\r\n          Scanner sc = new Scanner(System.in);\r\n          input=sc.nextInt();\r\n        \r\n            if (input == 1) \r\n            {\r\n               myStudents[i].calcAvg();\r\n            } \r\n            if (input == 2) \r\n            {\r\n                 myStudents[i].calcAvg(.7, .3);\r\n            } \r\n            if (input == 3) \r\n            {\r\n                myStudents[i].calcLetterGrade();\r\n            } \r\n            if (input == 4) \r\n            {\r\n                 myStudents[i].displayStudent();\r\n            } else if (input == 5) {\r\n                menu();\r\n            }\r\n             \r\n         }                \r\n\r\n    ","title":"Adding a submenu to menu","body":"<p>I am having trouble getting my submenu to show up when I select input 3)Select Students in my main menu.\nAny help fixing this is greatly appreciated, Thank you!</p>\n<p>here is the main menu (shows up first when I run the code)</p>\n<pre><code> public void menu() throws ClassNotFoundException, IOException {\n    Scanner sc = new Scanner(System.in);\n    int input;\n    do {\n        System.out.println(&quot;1) Populate Students&quot;);\n        System.out.println(&quot;2) Load Students from file&quot;);\n        System.out.println(&quot;3) Select Students&quot;);\n        System.out.println(&quot;4) Show Students&quot;);\n        System.out.println(&quot;5) Save Students to file&quot;);\n        System.out.println(&quot;6) Exit&quot;);\n        input = Integer.parseInt(sc.next());\n        if (input == 1) \n        {\n            populateStudents();\n        } else if (input == 2) {\n            loadStudents();\n        } else if (input == 3) {\n            selectStudents();\n        } else if (input == 4) {\n            showStudents();\n        } else if (input == 5) {\n            saveStudents();\n        }\n    } while (input != 6);\n\n}\n</code></pre>\n<p>This is my sub menu code, I want to be able to select input 3 from the main menu and call this sub menu to then select from.</p>\n<pre><code>    public void studentSubMenu(int i) throws IOException, ClassNotFoundException\n    { \n        System.out.println(&quot;Student Menu, select an option&quot;);\n   int input = 0;\n \n   while(input != 5)\n   {\n            System.out.println(&quot;1) Calculate Average&quot;);\n            System.out.println(&quot;2) Calculate Weighted Average&quot;);\n            System.out.println(&quot;3) Determine Letter Grade&quot;);\n            System.out.println(&quot;4) Display Students info&quot;);\n            System.out.println(&quot;5) GO BACK&quot;);\n          Scanner sc = new Scanner(System.in);\n          input=sc.nextInt();\n        \n            if (input == 1) \n            {\n               myStudents[i].calcAvg();\n            } \n            if (input == 2) \n            {\n                 myStudents[i].calcAvg(.7, .3);\n            } \n            if (input == 3) \n            {\n                myStudents[i].calcLetterGrade();\n            } \n            if (input == 4) \n            {\n                 myStudents[i].displayStudent();\n            } else if (input == 5) {\n                menu();\n            }\n             \n         }                \n\n    \n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":21962515,"reputation":331,"user_id":16240219,"display_name":"Salman Shaikh"},"score":0,"creation_date":1659552648,"post_id":73224561,"comment_id":129324028,"body_markdown":"the only one thing is  whenever you click on button it submits a data,  so you need to disable the  button after clicking once","body":"the only one thing is  whenever you click on button it submits a data,  so you need to disable the  button after clicking once"},{"owner":{"account_id":21962515,"reputation":331,"user_id":16240219,"display_name":"Salman Shaikh"},"score":0,"creation_date":1659553021,"post_id":73224561,"comment_id":129324156,"body_markdown":"check this one https://stackoverflow.com/questions/9838838/disable-button-on-click","body":"check this one <a href=\"https://stackoverflow.com/questions/9838838/disable-button-on-click\" title=\"disable button on click\">stackoverflow.com/questions/9838838/disable-button-on-click</a>"},{"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan YÄ±ldÄ±z"},"score":0,"creation_date":1659573020,"post_id":73224561,"comment_id":129328926,"body_markdown":"@SalmanShaikh If I disable the button, how will the user send a message? When I press the send message button, it sends the data.","body":"@SalmanShaikh If I disable the button, how will the user send a message? When I press the send message button, it sends the data."},{"owner":{"account_id":21962515,"reputation":331,"user_id":16240219,"display_name":"Salman Shaikh"},"score":0,"creation_date":1659589276,"post_id":73224561,"comment_id":129331296,"body_markdown":"Disable button after clicking once","body":"Disable button after clicking once"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1659598163,"post_id":73224561,"comment_id":129333554,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan YÄ±ldÄ±z"},"score":0,"creation_date":1659621036,"post_id":73224561,"comment_id":129342016,"body_markdown":"@AlexMamo the code is working. It&#39;s just too costly.","body":"@AlexMamo the code is working. It&#39;s just too costly."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1659621195,"post_id":73224561,"comment_id":129342080,"body_markdown":"What do you mean too costly?","body":"What do you mean too costly?"},{"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan YÄ±ldÄ±z"},"score":0,"creation_date":1659621613,"post_id":73224561,"comment_id":129342255,"body_markdown":"@AlexMamo  Because every time I press the send message button, it sends data to firebase.","body":"@AlexMamo  Because every time I press the send message button, it sends data to firebase."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1659685800,"post_id":73224561,"comment_id":129357605,"body_markdown":"This is Realtime Database&#39;s billing mechanism. Maybe, you should try using [Cloud Firestore](https://firebase.google.com/docs/firestore).","body":"This is Realtime Database&#39;s billing mechanism. Maybe, you should try using <a href=\"https://firebase.google.com/docs/firestore\" rel=\"nofollow noreferrer\">Cloud Firestore</a>."}],"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan YÄ±ldÄ±z"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659546164,"creation_date":1659543302,"question_id":73224561,"body_markdown":"I have a mobile app where users can talk to each other. I am using firebase real time database in my application.  In the application, I keep and show the total number of people the users are talking to. My method is to send the uid of that user to the &quot;Contact&quot; table when each user presses the send message button in the chat. This method is very costly. Because every time I press the send message button, it sends data to firebase. Is there a better method?\r\n\r\n\r\n\r\n```\r\nContactRef = FirebaseDatabase.getInstance().getReference().child(&quot;Contact&quot;);\r\n\r\nprivate void SendMessage() {\r\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference();\r\n    final String messageText = messageÄ±nputtext.getText().toString();\r\n\r\n    if (TextUtils.isEmpty(messageText)){\r\n\r\n    }\r\n    else {\r\n        String messagesenderref =&quot;message/&quot; + messageSenderID + &quot;/&quot; + messageReceiverID;\r\n        String messagereceiverref =&quot;message/&quot; + messageReceiverID + &quot;/&quot; + messageSenderID;\r\n\r\n        DatabaseReference usermessagekeyref = Rootref.child(&quot;message&quot;)\r\n                .child(messageSenderID).child(messageReceiverID).push();\r\n        String messagepushid = usermessagekeyref.getKey();\r\n\r\n\r\n        Map messageTextBody = new HashMap();\r\n        messageTextBody.put(&quot;message&quot; , messageText);\r\n        messageTextBody.put(&quot;time&quot; , saveCurrentTime);\r\n        messageTextBody.put(&quot;date&quot; , saveCurrentDate);\r\n        messageTextBody.put(&quot;type&quot; , &quot;text&quot;);\r\n        messageTextBody.put(&quot;from&quot; , messageSenderID);\r\n\r\n\r\n        Map messageBodyDetails = new HashMap();\r\n        messageBodyDetails.put(messagesenderref + &quot;/&quot; + messagepushid , messageTextBody);\r\n        messageBodyDetails.put(messagereceiverref + &quot;/&quot; + messagepushid , messageTextBody);\r\n\r\n        Rootref.updateChildren(messageBodyDetails).addOnCompleteListener(new OnCompleteListener() {\r\n            @Override\r\n            public void onComplete(@NonNull Task task) {\r\n                if (task.isSuccessful()){\r\n\r\n                }\r\n                else {\r\n                    String message = task.getException().getMessage();\r\n                    Toast.makeText(context, &quot;Error :&quot; + message , Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        Map messageTextBody3 = new HashMap();\r\n        messageTextBody3.put(&quot;Contact&quot;, &quot;1&quot;);\r\n        ContactRef.child(messageSenderID).child(messageReceiverID).updateChildren(messageTextBody3).addOnCompleteListener(new OnCompleteListener() {\r\n            @Override\r\n            public void onComplete(@NonNull Task task) {\r\n                if (task.isSuccessful()){\r\n                }\r\n            }\r\n        });\r\n\r\n        ContactRef.child(messageReceiverID).child(messageSenderID).updateChildren(messageTextBody3).addOnCompleteListener(new OnCompleteListener() {\r\n            @Override\r\n            public void onComplete(@NonNull Task task) {\r\n                if (task.isSuccessful()){\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nContact list count:\r\n```\r\nContactRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n        countusercontact = (int) dataSnapshot.getChildrenCount();\r\n        contactcount.setText(Integer.toString(countusercontact ));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n    }\r\n});\r\n```\r\n\r\nDb:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JoySF.jpg","title":"How can I keep the total number of people the user is talking to?","body":"<p>I have a mobile app where users can talk to each other. I am using firebase real time database in my application.  In the application, I keep and show the total number of people the users are talking to. My method is to send the uid of that user to the &quot;Contact&quot; table when each user presses the send message button in the chat. This method is very costly. Because every time I press the send message button, it sends data to firebase. Is there a better method?</p>\n<pre><code>ContactRef = FirebaseDatabase.getInstance().getReference().child(&quot;Contact&quot;);\n\nprivate void SendMessage() {\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference();\n    final String messageText = messageÄ±nputtext.getText().toString();\n\n    if (TextUtils.isEmpty(messageText)){\n\n    }\n    else {\n        String messagesenderref =&quot;message/&quot; + messageSenderID + &quot;/&quot; + messageReceiverID;\n        String messagereceiverref =&quot;message/&quot; + messageReceiverID + &quot;/&quot; + messageSenderID;\n\n        DatabaseReference usermessagekeyref = Rootref.child(&quot;message&quot;)\n                .child(messageSenderID).child(messageReceiverID).push();\n        String messagepushid = usermessagekeyref.getKey();\n\n\n        Map messageTextBody = new HashMap();\n        messageTextBody.put(&quot;message&quot; , messageText);\n        messageTextBody.put(&quot;time&quot; , saveCurrentTime);\n        messageTextBody.put(&quot;date&quot; , saveCurrentDate);\n        messageTextBody.put(&quot;type&quot; , &quot;text&quot;);\n        messageTextBody.put(&quot;from&quot; , messageSenderID);\n\n\n        Map messageBodyDetails = new HashMap();\n        messageBodyDetails.put(messagesenderref + &quot;/&quot; + messagepushid , messageTextBody);\n        messageBodyDetails.put(messagereceiverref + &quot;/&quot; + messagepushid , messageTextBody);\n\n        Rootref.updateChildren(messageBodyDetails).addOnCompleteListener(new OnCompleteListener() {\n            @Override\n            public void onComplete(@NonNull Task task) {\n                if (task.isSuccessful()){\n\n                }\n                else {\n                    String message = task.getException().getMessage();\n                    Toast.makeText(context, &quot;Error :&quot; + message , Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n        Map messageTextBody3 = new HashMap();\n        messageTextBody3.put(&quot;Contact&quot;, &quot;1&quot;);\n        ContactRef.child(messageSenderID).child(messageReceiverID).updateChildren(messageTextBody3).addOnCompleteListener(new OnCompleteListener() {\n            @Override\n            public void onComplete(@NonNull Task task) {\n                if (task.isSuccessful()){\n                }\n            }\n        });\n\n        ContactRef.child(messageReceiverID).child(messageSenderID).updateChildren(messageTextBody3).addOnCompleteListener(new OnCompleteListener() {\n            @Override\n            public void onComplete(@NonNull Task task) {\n                if (task.isSuccessful()){\n                }\n            }\n        });\n</code></pre>\n<p>Contact list count:</p>\n<pre><code>ContactRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n        countusercontact = (int) dataSnapshot.getChildrenCount();\n        contactcount.setText(Integer.toString(countusercontact ));\n\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n\n    }\n});\n</code></pre>\n<p>Db:</p>\n<p><a href=\"https://i.stack.imgur.com/JoySF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JoySF.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","image","postgresql","image-processing","postgis"],"answers":[{"tags":[],"owner":{"account_id":1668782,"reputation":744,"user_id":1535658,"accept_rate":57,"display_name":"onesixtyfourth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395403580,"creation_date":1395403580,"answer_id":22558313,"question_id":22558273,"body_markdown":"[This thread][1] may help you but I think you could do this by finding the differences in colour in your image.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4287267/how-to-find-shapes-on-image","title":"java image white color extraction","body":"<p><a href=\"https://stackoverflow.com/questions/4287267/how-to-find-shapes-on-image\">This thread</a> may help you but I think you could do this by finding the differences in colour in your image.</p>\n"},{"tags":[],"owner":{"account_id":128865,"reputation":41645,"user_id":327026,"accept_rate":75,"display_name":"Mike T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659546122,"creation_date":1395617589,"answer_id":22598563,"question_id":22558273,"body_markdown":"You need to &quot;polygonise&quot; your raster data into vectors.\r\n\r\nOne such tool is from [GDAL][1], with a method originally in C++, but also has bindings to Java.\r\n\r\n * [Java bindings (search for &quot;Polygonize&quot;)][2]\r\n * [C API description of parameters for GDALPolygonize][3]\r\n\r\nSome further hints on using the Polygonize method is that you will need to classify values of your raster as &quot;NO DATA&quot; values, then polygonise the remaining data portion. The resulting polygon can be placed in most geospatial vector formats, including a PostGIS database.\r\n\r\n----------\r\n\r\nAnother solution is to load the image into PostGIS raster, then use either [`ST_Polygon`][4] or [`ST_DumpAsPolygons`][5] to do essentially the same task as GDALPolygonize, but with fewer options.\n\n [1]: https://gdal.org/gdal_polygonize.html\n [2]: https://gdal.org/java/org/gdal/gdal/gdal.html\n [3]: https://web.archive.org/web/20180716151832/http://www.gdal.org:80/gdal__alg_8h.html#a3f522a9035d3512b5d414fb4752671b1\n [4]: https://postgis.net/docs/RT_ST_Polygon.html\n [5]: https://postgis.net/docs/RT_ST_DumpAsPolygons.html","title":"java image white color extraction","body":"<p>You need to &quot;polygonise&quot; your raster data into vectors.</p>\n<p>One such tool is from <a href=\"https://gdal.org/gdal_polygonize.html\" rel=\"nofollow noreferrer\">GDAL</a>, with a method originally in C++, but also has bindings to Java.</p>\n<ul>\n<li><a href=\"https://gdal.org/java/org/gdal/gdal/gdal.html\" rel=\"nofollow noreferrer\">Java bindings (search for &quot;Polygonize&quot;)</a></li>\n<li><a href=\"https://web.archive.org/web/20180716151832/http://www.gdal.org:80/gdal__alg_8h.html#a3f522a9035d3512b5d414fb4752671b1\" rel=\"nofollow noreferrer\">C API description of parameters for GDALPolygonize</a></li>\n</ul>\n<p>Some further hints on using the Polygonize method is that you will need to classify values of your raster as &quot;NO DATA&quot; values, then polygonise the remaining data portion. The resulting polygon can be placed in most geospatial vector formats, including a PostGIS database.</p>\n<hr />\n<p>Another solution is to load the image into PostGIS raster, then use either <a href=\"https://postgis.net/docs/RT_ST_Polygon.html\" rel=\"nofollow noreferrer\"><code>ST_Polygon</code></a> or <a href=\"https://postgis.net/docs/RT_ST_DumpAsPolygons.html\" rel=\"nofollow noreferrer\"><code>ST_DumpAsPolygons</code></a> to do essentially the same task as GDALPolygonize, but with fewer options.</p>\n"}],"owner":{"account_id":1730329,"reputation":55,"user_id":1584072,"accept_rate":33,"display_name":"boho91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659546122,"creation_date":1395403448,"question_id":22558273,"body_markdown":"how to extract each image with white color into separate sections as shown below?![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/rmw7m.png\r\n\r\nfrom the picture above, there will be nine separate section after the extract\r\n\r\nI have tried several algorithms such as fillgrid but not exactly what I expected.\r\n\r\n**so that I could store every sections into a PostGIS database as polygon geometry**\r\n\r\nWhat algorithm can I use? \r\nor maybe there is a function in java or postgis library?","title":"java image white color extraction","body":"<p>how to extract each image with white color into separate sections as shown below?<img src=\"https://i.stack.imgur.com/rmw7m.png\" alt=\"enter image description here\"></p>\n\n<p>from the picture above, there will be nine separate section after the extract</p>\n\n<p>I have tried several algorithms such as fillgrid but not exactly what I expected.</p>\n\n<p><strong>so that I could store every sections into a PostGIS database as polygon geometry</strong></p>\n\n<p>What algorithm can I use? \nor maybe there is a function in java or postgis library?</p>\n"},{"tags":["java","javac","javac-compiler-plugin"],"owner":{"account_id":7530483,"reputation":131,"user_id":5718898,"accept_rate":60,"display_name":"Holo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659546102,"creation_date":1659546102,"question_id":73225150,"body_markdown":"Say I am writing annotation processor or compiler plugin, how can I get form `com.sun.source.tree.MethodTree`(/`JCTree.JCMethodDecl`) or `Symbol.MethodSymbol` to their &quot;super&quot; (if exists), e.g. if I try to compile\r\n\r\n```java\r\nclass A {\r\n     public void foo() {}\r\n}\r\nclass B extends A {\r\n     @Override public void foo() {}\r\n}\r\n``` \r\nI want to do something like:\r\n\r\n```java\r\npublic class printSuper extends ...\r\n        implements TaskListener {\r\n    ...\r\n    @Override\r\n    public void finished(TaskEvent taskEvt) {\r\n        if (taskEvt.getKind() != TaskEvent.Kind.ANALYZE) {\r\n            return;\r\n        }\r\n        taskEvt.getCompilationUnit().accept(new TreeScanner&lt;Void, Void&gt;() {\r\n            @Override\r\n            public Void visitMethod(MethodTree methodDecl, Void v) {\r\n                var zuper = magicToGetSuperDecl(methodDecl);\r\n                // for A.foo &gt; null/exception/some equivalent\r\n                // for B.foo &gt; A.foo\r\n            }\r\n        }, null);\r\n    }\r\n}\r\n```\r\n\r\nI tried to use the `TreePath` of `methodDecl`, but the best I got from there is the `javax.lang.model.element.Element` of the class of the method, I tried to use `trees.getPath(zuperElement)` I sometimes get `null`.\r\n\r\nAlso, from `trees.getPath(zuperElement).getLeaf()` I can get to list of methods the super class has, but I couldn&#39;t find a good way to get the specific method I from the super class.","title":"Get to super declaration using Java&#39;s compiler API","body":"<p>Say I am writing annotation processor or compiler plugin, how can I get form <code>com.sun.source.tree.MethodTree</code>(/<code>JCTree.JCMethodDecl</code>) or <code>Symbol.MethodSymbol</code> to their &quot;super&quot; (if exists), e.g. if I try to compile</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n     public void foo() {}\n}\nclass B extends A {\n     @Override public void foo() {}\n}\n</code></pre>\n<p>I want to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class printSuper extends ...\n        implements TaskListener {\n    ...\n    @Override\n    public void finished(TaskEvent taskEvt) {\n        if (taskEvt.getKind() != TaskEvent.Kind.ANALYZE) {\n            return;\n        }\n        taskEvt.getCompilationUnit().accept(new TreeScanner&lt;Void, Void&gt;() {\n            @Override\n            public Void visitMethod(MethodTree methodDecl, Void v) {\n                var zuper = magicToGetSuperDecl(methodDecl);\n                // for A.foo &gt; null/exception/some equivalent\n                // for B.foo &gt; A.foo\n            }\n        }, null);\n    }\n}\n</code></pre>\n<p>I tried to use the <code>TreePath</code> of <code>methodDecl</code>, but the best I got from there is the <code>javax.lang.model.element.Element</code> of the class of the method, I tried to use <code>trees.getPath(zuperElement)</code> I sometimes get <code>null</code>.</p>\n<p>Also, from <code>trees.getPath(zuperElement).getLeaf()</code> I can get to list of methods the super class has, but I couldn't find a good way to get the specific method I from the super class.</p>\n"},{"tags":["java","spring-boot","elasticsearch","jackson","geojson"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1659532850,"post_id":73221967,"comment_id":129317254,"body_markdown":"it doesn&#39;t seem like it&#39;s supported: https://github.com/spring-projects/spring-data-elasticsearch/issues/2045. A custom Jackson Deserializer could probably do the trick","body":"it doesn&#39;t seem like it&#39;s supported: <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/issues/2045\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-elasticsearch/issues/&zwnj;&#8203;&hellip;</a>. A custom Jackson Deserializer could probably do the trick"},{"owner":{"account_id":17695950,"reputation":325,"user_id":12846701,"display_name":"cicada_"},"score":0,"creation_date":1659536186,"post_id":73221967,"comment_id":129318287,"body_markdown":"@Val Actually I&#39;m using java high-level rest client with geolatte-geojson. I&#39;ve used debugger and found that it needs to be in {type: POLYGON, coordinates: []} format. Is there anyway to get this from WKT?","body":"@Val Actually I&#39;m using java high-level rest client with geolatte-geojson. I&#39;ve used debugger and found that it needs to be in {type: POLYGON, coordinates: []} format. Is there anyway to get this from WKT?"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1659536536,"post_id":73221967,"comment_id":129318435,"body_markdown":"There are probably a few libraries that do this: https://stackoverflow.com/questions/53957417/parse-geojson-file-with-java-topology-suite-or-geotools + https://javamana.com/2022/160/202206092314124785.html","body":"There are probably a few libraries that do this: <a href=\"https://stackoverflow.com/questions/53957417/parse-geojson-file-with-java-topology-suite-or-geotools\" title=\"parse geojson file with java topology suite or geotools\">stackoverflow.com/questions/53957417/&hellip;</a> + <a href=\"https://javamana.com/2022/160/202206092314124785.html\" rel=\"nofollow noreferrer\">javamana.com/2022/160/202206092314124785.html</a>"},{"owner":{"account_id":17695950,"reputation":325,"user_id":12846701,"display_name":"cicada_"},"score":0,"creation_date":1659542652,"post_id":73221967,"comment_id":129320555,"body_markdown":"Thanks will try using geo-tools, was just wondering if there is there any way to get data from elasticsearch in geojson format rather than WKT","body":"Thanks will try using geo-tools, was just wondering if there is there any way to get data from elasticsearch in geojson format rather than WKT"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1659542999,"post_id":73221967,"comment_id":129320681,"body_markdown":"From ES, you get whatever you index into your source documents. If you index WKT, you get WKT, if you index GeoJson, you get GeoJson","body":"From ES, you get whatever you index into your source documents. If you index WKT, you get WKT, if you index GeoJson, you get GeoJson"},{"owner":{"account_id":17695950,"reputation":325,"user_id":12846701,"display_name":"cicada_"},"score":0,"creation_date":1659544143,"post_id":73221967,"comment_id":129321080,"body_markdown":"Hi @Val, \nThank you ver much, that helped me. I mean all I had to do was to store as GeoJSON instead of WKT. I&#39;m just learning dealing with geoJSON data thanks for helping me out. You can post your comment as an answer I&#39;ll accept that :)","body":"Hi @Val,  Thank you ver much, that helped me. I mean all I had to do was to store as GeoJSON instead of WKT. I&#39;m just learning dealing with geoJSON data thanks for helping me out. You can post your comment as an answer I&#39;ll accept that :)"},{"owner":{"account_id":17695950,"reputation":325,"user_id":12846701,"display_name":"cicada_"},"score":0,"creation_date":1659544336,"post_id":73221967,"comment_id":129321154,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/247003/discussion-between-cicada-and-val).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/247003/discussion-between-cicada-and-val\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659545742,"creation_date":1659545742,"answer_id":73225066,"question_id":73221967,"body_markdown":"If you want to get GeoJson back, you should just send GeoJson into your source documents instead of WKT, that way it&#39;ll be much easier than doing conversions  from WKT to GeoJson on read.","title":"Deserialize geojson from elasticsearch response into POJO","body":"<p>If you want to get GeoJson back, you should just send GeoJson into your source documents instead of WKT, that way it'll be much easier than doing conversions  from WKT to GeoJson on read.</p>\n"}],"owner":{"account_id":17695950,"reputation":325,"user_id":12846701,"display_name":"cicada_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73225066,"answer_count":1,"score":0,"last_activity_date":1659545742,"creation_date":1659530586,"question_id":73221967,"body_markdown":"I&#39;m trying to deserialize the response of elasticsearch using jackson.\r\nEverything works fine until I add geometry.\r\n\r\n\r\nI&#39;m using [geolatte-geojson][1] to handle geometry.\r\n\r\n\r\nBut for some reason the deserialization of elasticsearch response is not going well, probably &#39;cause in WKT format.\r\n\r\nI&#39;ve created a bean for geolatteModule for deserialization:\r\n\r\n    @Bean\r\n    public GeolatteGeomModule geomModule() {\r\n        return new GeolatteGeomModule();\r\n    }\r\n\r\n\r\nHere&#39;s how geometry response of elasticsearch looks like:\r\n\r\n    POLYGON((-95.26605606079102 29.724060758766743,-95.26631355285645 29.70900307937485,-95.23798942565917 29.702218931464575,-95.22185325622557 29.704306410402122,-95.2236557006836 29.72592417587012,-95.25712966918945 29.727638489043596,-95.26605606079102 29.724060758766743))\r\n\r\n\r\nHere&#39;s how I&#39;m trying to deserialize the response of elasticsearch to POJO:\r\n\r\n    Document document = objectMapper.convertValue(hit.getSourceAsMap(), Document.class);\r\n\r\n\r\nSome additional points that might be helpful:\r\n&lt;br/&gt;I&#39;m also sending geometry object to DTO, when sending it as WKT I&#39;m getting the same error. But when sending it in geojson format it works fine.\r\n\r\n\r\nError that I&#39;m encountering:\r\n\r\n    java.lang.IllegalArgumentException: (was java.lang.NullPointerException) (through reference chain: com.kayrros.searchmanager.model.entity.Document[&quot;geometry&quot;])\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4393)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4324)\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.geolatte/geolatte-geojson/1.8.2","title":"Deserialize geojson from elasticsearch response into POJO","body":"<p>I'm trying to deserialize the response of elasticsearch using jackson.\nEverything works fine until I add geometry.</p>\n<p>I'm using <a href=\"https://mvnrepository.com/artifact/org.geolatte/geolatte-geojson/1.8.2\" rel=\"nofollow noreferrer\">geolatte-geojson</a> to handle geometry.</p>\n<p>But for some reason the deserialization of elasticsearch response is not going well, probably 'cause in WKT format.</p>\n<p>I've created a bean for geolatteModule for deserialization:</p>\n<pre><code>@Bean\npublic GeolatteGeomModule geomModule() {\n    return new GeolatteGeomModule();\n}\n</code></pre>\n<p>Here's how geometry response of elasticsearch looks like:</p>\n<pre><code>POLYGON((-95.26605606079102 29.724060758766743,-95.26631355285645 29.70900307937485,-95.23798942565917 29.702218931464575,-95.22185325622557 29.704306410402122,-95.2236557006836 29.72592417587012,-95.25712966918945 29.727638489043596,-95.26605606079102 29.724060758766743))\n</code></pre>\n<p>Here's how I'm trying to deserialize the response of elasticsearch to POJO:</p>\n<pre><code>Document document = objectMapper.convertValue(hit.getSourceAsMap(), Document.class);\n</code></pre>\n<p>Some additional points that might be helpful:\n<br/>I'm also sending geometry object to DTO, when sending it as WKT I'm getting the same error. But when sending it in geojson format it works fine.</p>\n<p>Error that I'm encountering:</p>\n<pre><code>java.lang.IllegalArgumentException: (was java.lang.NullPointerException) (through reference chain: com.kayrros.searchmanager.model.entity.Document[&quot;geometry&quot;])\nat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4393)\nat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4324)\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":3126424,"reputation":2086,"user_id":9684373,"display_name":"Prany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1526918518,"creation_date":1526918518,"answer_id":50452594,"question_id":50451815,"body_markdown":"Try chord method\r\n\r\n    String selectkeys= Keys.chord(Keys.CONTROL, Keys.SUBTRACT);","title":"Exception: Key Down / Up events only make sense for modifier keys","body":"<p>Try chord method</p>\n\n<pre><code>String selectkeys= Keys.chord(Keys.CONTROL, Keys.SUBTRACT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3719415,"reputation":87,"user_id":3094794,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551111651,"creation_date":1551111651,"answer_id":54870527,"question_id":50451815,"body_markdown":"Broadly speaking you can use:\r\n\r\n    Actions act = new Actions(driver);\r\n\tact.sendKeys(Keys.chord(Keys.CONTROL, &quot;t&quot;));\r\n\r\nExcept if you are using **Chrome Driver** there is **a bug** that does not allow to send some commands:\r\n\r\nThese won&#39;t work \r\n\r\n    act.sendKeys(Keys.chord(Keys.CONTROL, &quot;t&quot;));\r\n    act.sendKeys(Keys.chord(Keys.CONTROL, &quot;n&quot;));\r\n\r\nThis work:\r\n\r\n    // open in a new tab\r\n    driver.findElement(By.id(&quot;linkID&quot;)).sendKeys(Keys.chord(Keys.CONTROL, Keys.ENTER));\r\n\r\n\r\nAt some moment they could solve the bug and it will work again\r\nThe bug track: https://bugs.chromium.org/p/chromedriver/issues/detail?id=581","title":"Exception: Key Down / Up events only make sense for modifier keys","body":"<p>Broadly speaking you can use:</p>\n\n<pre><code>Actions act = new Actions(driver);\nact.sendKeys(Keys.chord(Keys.CONTROL, \"t\"));\n</code></pre>\n\n<p>Except if you are using <strong>Chrome Driver</strong> there is <strong>a bug</strong> that does not allow to send some commands:</p>\n\n<p>These won't work </p>\n\n<pre><code>act.sendKeys(Keys.chord(Keys.CONTROL, \"t\"));\nact.sendKeys(Keys.chord(Keys.CONTROL, \"n\"));\n</code></pre>\n\n<p>This work:</p>\n\n<pre><code>// open in a new tab\ndriver.findElement(By.id(\"linkID\")).sendKeys(Keys.chord(Keys.CONTROL, Keys.ENTER));\n</code></pre>\n\n<p>At some moment they could solve the bug and it will work again\nThe bug track: <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=581\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromedriver/issues/detail?id=581</a></p>\n"},{"tags":[],"owner":{"account_id":25919016,"reputation":1,"user_id":19641996,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659545026,"creation_date":1659024749,"answer_id":73155975,"question_id":50451815,"body_markdown":"`keyUp` and `keyDown` only allow the modifier keys as input parameters. All other keys will raise an `IllegalArgumentException`. Use `sendKeys()` from the `Actions` class to perform the operation for other keys. But if you want to press and hold a key, use the `Robot` class. ","title":"Exception: Key Down / Up events only make sense for modifier keys","body":"<p><code>keyUp</code> and <code>keyDown</code> only allow the modifier keys as input parameters. All other keys will raise an <code>IllegalArgumentException</code>. Use <code>sendKeys()</code> from the <code>Actions</code> class to perform the operation for other keys. But if you want to press and hold a key, use the <code>Robot</code> class.</p>\n"}],"owner":{"account_id":3447189,"reputation":3101,"user_id":2887713,"accept_rate":25,"display_name":"Steve Staple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50452594,"answer_count":3,"score":0,"last_activity_date":1659545026,"creation_date":1526915768,"question_id":50451815,"body_markdown":"I am working with Java Selenium, testing using the Firefox driver.\r\n\r\nI want to send Ctrl + - to my Firefox browser.\r\n\r\nThis is my code:\r\n\r\n        Common.myPrint(thisClass + &quot; *** zoomOut ***&quot;);\r\n\t\tActions actionObject = new Actions(driver);\r\n\t\ttry {\r\n\t\t\tactionObject.keyDown(Keys.CONTROL).sendKeys(Keys.CONTROL).keyUp(Keys.SUBTRACT).perform();\r\n\r\n\t\t\t// reset this counter - basis for request counter\r\n\r\n\t\t\tglobal.variables.dataTotalCount = 0;\r\n\r\n\t\t\treturn true;\r\n\t\t} catch (Exception e) {\r\n\t\t\tint errorCode = 1525182195;\r\n\t\t\tSystem.err.println(thisClass + &quot; error code: &quot; + errorCode + &quot; Exception: &quot; + e.getMessage());\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\r\ni am receiving this error message: Exception: Key Down / Up events only make sense for modifier keys.\r\n\r\nThat is all very well, but how can I send Ctrl &amp; - (to reduce font size)","title":"Exception: Key Down / Up events only make sense for modifier keys","body":"<p>I am working with Java Selenium, testing using the Firefox driver.</p>\n\n<p>I want to send Ctrl + - to my Firefox browser.</p>\n\n<p>This is my code:</p>\n\n<pre><code>    Common.myPrint(thisClass + \" *** zoomOut ***\");\n    Actions actionObject = new Actions(driver);\n    try {\n        actionObject.keyDown(Keys.CONTROL).sendKeys(Keys.CONTROL).keyUp(Keys.SUBTRACT).perform();\n\n        // reset this counter - basis for request counter\n\n        global.variables.dataTotalCount = 0;\n\n        return true;\n    } catch (Exception e) {\n        int errorCode = 1525182195;\n        System.err.println(thisClass + \" error code: \" + errorCode + \" Exception: \" + e.getMessage());\n        return false;\n    }\n</code></pre>\n\n<p>i am receiving this error message: Exception: Key Down / Up events only make sense for modifier keys.</p>\n\n<p>That is all very well, but how can I send Ctrl &amp; - (to reduce font size)</p>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":14352569,"reputation":703,"user_id":10367546,"display_name":"AleksW"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542711819,"creation_date":1542709920,"answer_id":53391037,"question_id":53390954,"body_markdown":"I think what you&#39;re looking for is here:\n\nhttps://www.jetbrains.com/help/idea/configuring-breakpoints.html\n\n&gt; To set a breakpoint the current one depends on, select it from the\n&gt; Disabled until selected breakpoint hit drop-down list. Once dependency\n&gt; has been set, the current breakpoint is disabled until selected one is\n&gt; hit. \n&gt;\n&gt; Choose Disable again radio button to disable the current\n&gt; breakpoint after selected breakpoint was hit.\n&gt; \n&gt; Choose Leave enable radio button to keep the current breakpoint\n&gt; enabled after selected breakpoint was hit.\n\nSo it looks like you will need to set one on the `SomeClass.doSomething()` Line, then wherever you need it in the `Utils.doSomething()` method","title":"Stop on breakpoint when class present in stacktrace","body":"<p>I think what you're looking for is here:</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/configuring-breakpoints.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/configuring-breakpoints.html</a></p>\n<blockquote>\n<p>To set a breakpoint the current one depends on, select it from the\nDisabled until selected breakpoint hit drop-down list. Once dependency\nhas been set, the current breakpoint is disabled until selected one is\nhit.</p>\n<p>Choose Disable again radio button to disable the current\nbreakpoint after selected breakpoint was hit.</p>\n<p>Choose Leave enable radio button to keep the current breakpoint\nenabled after selected breakpoint was hit.</p>\n</blockquote>\n<p>So it looks like you will need to set one on the <code>SomeClass.doSomething()</code> Line, then wherever you need it in the <code>Utils.doSomething()</code> method</p>\n"},{"tags":[],"owner":{"account_id":6703028,"reputation":492,"user_id":5168941,"display_name":"literg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1542783212,"creation_date":1542783212,"answer_id":53406684,"question_id":53390954,"body_markdown":"I have came up with adding such condition, it is not ideal but does the job\r\n\r\n    Arrays.asList((Thread.currentThread().getStackTrace())).stream()\r\n        .anyMatch(ste -&gt; ste.declaringClass.equals(&quot;debugging.SomeClass&quot;))","title":"Stop on breakpoint when class present in stacktrace","body":"<p>I have came up with adding such condition, it is not ideal but does the job</p>\n\n<pre><code>Arrays.asList((Thread.currentThread().getStackTrace())).stream()\n    .anyMatch(ste -&gt; ste.declaringClass.equals(\"debugging.SomeClass\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659544838,"creation_date":1659544437,"answer_id":73224785,"question_id":53390954,"body_markdown":"You can use a single breakpoint with a breakpoint filter, though [the documentation][1] could use some improvement.  You&#39;d want a &quot;Caller filter&quot; for this case, and I find the easiest way to create it is to debug until you&#39;re stopped at that breakpoint (perhaps `Force Run to Cursor`) and then use breakpoint intentions to add the filter:\r\n\r\n***With the debugger is stopped at the breakpoint***, make sure the cursor is on the line with the breakpoint if needed, and then use `opt-Enter` to get the inspections menu, which will now include options to Stop only if... or Do not stop if... using the immediate calling method and class in the stack.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can also enter Caller filters directly from the breakpoint popup when it&#39;s expanded, but I find the semantics confusing there (include vs exclude in a filter to stop or not stop).  The intentions make it very clear how to make the debugger stop/not stop in the given case.\r\n\r\nNote, I don&#39;t think Caller filters work for the general case in the question&#39;s title (when you need to search back further than one step in the stack), but it will work for examples like the one in the question.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/using-breakpoints.html\r\n  [2]: https://i.stack.imgur.com/LWyyA.png","title":"Stop on breakpoint when class present in stacktrace","body":"<p>You can use a single breakpoint with a breakpoint filter, though <a href=\"https://www.jetbrains.com/help/idea/using-breakpoints.html\" rel=\"nofollow noreferrer\">the documentation</a> could use some improvement.  You'd want a &quot;Caller filter&quot; for this case, and I find the easiest way to create it is to debug until you're stopped at that breakpoint (perhaps <code>Force Run to Cursor</code>) and then use breakpoint intentions to add the filter:</p>\n<p><em><strong>With the debugger is stopped at the breakpoint</strong></em>, make sure the cursor is on the line with the breakpoint if needed, and then use <code>opt-Enter</code> to get the inspections menu, which will now include options to Stop only if... or Do not stop if... using the immediate calling method and class in the stack.</p>\n<p><a href=\"https://i.stack.imgur.com/LWyyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWyyA.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also enter Caller filters directly from the breakpoint popup when it's expanded, but I find the semantics confusing there (include vs exclude in a filter to stop or not stop).  The intentions make it very clear how to make the debugger stop/not stop in the given case.</p>\n<p>Note, I don't think Caller filters work for the general case in the question's title (when you need to search back further than one step in the stack), but it will work for examples like the one in the question.</p>\n"}],"owner":{"account_id":6703028,"reputation":492,"user_id":5168941,"display_name":"literg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53406684,"answer_count":3,"score":5,"last_activity_date":1659544838,"creation_date":1542709672,"question_id":53390954,"body_markdown":"Is there a way in Intellij to create conditional breakpoint when specific class is present in the stacktrace? Alternatively when specific breakpoint was passed in this stacktrace.\r\n\r\nExample given:\r\nLet&#39;s imagine that we have some utility method `Utils.doSomething()` and I want to stop there only when this method was executed from `SomeClass.doSomething()`.\r\n\r\nI do know that there is &#39;Disable until breakpoint is hit&#39; but this makes code execution stop there anytime it is hit after the initial condition is met.\r\n\r\nExample:\r\n\r\n    class SomeClass {\r\n\t\tvoid doSomething() {\r\n\t\t\tint y = 1; // Breakpoint here\r\n\t\t\tUtils.doSomething();\r\n\t\t\tUtils.doSomething();\r\n\t\t}\r\n\r\n\t\tvoid doSomethingElse() {\r\n\t\t\tUtils.doSomething();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class Utils {\r\n\t\tstatic void doSomething() {\r\n\t\t\tint x = 1; // Breakpoint with condition here\r\n\t\t}\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tSomeClass someInstance = new SomeClass();\r\n\t\tsomeInstance.doSomething();\r\n\t\tsomeInstance.doSomethingElse();\r\n\t\tsomeInstance.doSomething();\r\n\t}\r\n\r\nBreakpoint on `int y = 1;`\r\n\r\nBreakpoint with condition on `int x = 1;`\r\n\r\nIt is stopping in `Utils.doSomething()` when executed first from `SomeClass.doSomething()` but it is not stopping when `Utils.doSomething()` is executed again on next line.\r\n\r\nIt is correctly not stopping when executed through `SomeClass.doSomethingElse()`\r\n","title":"Stop on breakpoint when class present in stacktrace","body":"<p>Is there a way in Intellij to create conditional breakpoint when specific class is present in the stacktrace? Alternatively when specific breakpoint was passed in this stacktrace.</p>\n\n<p>Example given:\nLet's imagine that we have some utility method <code>Utils.doSomething()</code> and I want to stop there only when this method was executed from <code>SomeClass.doSomething()</code>.</p>\n\n<p>I do know that there is 'Disable until breakpoint is hit' but this makes code execution stop there anytime it is hit after the initial condition is met.</p>\n\n<p>Example:</p>\n\n<pre><code>class SomeClass {\n    void doSomething() {\n        int y = 1; // Breakpoint here\n        Utils.doSomething();\n        Utils.doSomething();\n    }\n\n    void doSomethingElse() {\n        Utils.doSomething();\n    }\n}\n\nstatic class Utils {\n    static void doSomething() {\n        int x = 1; // Breakpoint with condition here\n    }\n}\n\n@Test\npublic void test() {\n    SomeClass someInstance = new SomeClass();\n    someInstance.doSomething();\n    someInstance.doSomethingElse();\n    someInstance.doSomething();\n}\n</code></pre>\n\n<p>Breakpoint on <code>int y = 1;</code></p>\n\n<p>Breakpoint with condition on <code>int x = 1;</code></p>\n\n<p>It is stopping in <code>Utils.doSomething()</code> when executed first from <code>SomeClass.doSomething()</code> but it is not stopping when <code>Utils.doSomething()</code> is executed again on next line.</p>\n\n<p>It is correctly not stopping when executed through <code>SomeClass.doSomethingElse()</code></p>\n"},{"tags":["java","spring-boot","exceptionhandler","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659544539,"creation_date":1659544180,"answer_id":73224745,"question_id":73224451,"body_markdown":"Just looked at your code &amp; issue is you have wrong annotation `@org.springframework.stereotype.Controller` for `Controller`. \r\n\r\nPlease note this is rest call &amp; hence you have to use `org.springframework.web.bind.annotation.RestController` for controller.\r\n\r\n\r\n\r\n    @org.springframework.web.bind.annotation.RestController\r\n    public class Controller {\r\n    \r\n        @GetMapping(value=&quot;/test&quot;)\r\n        public String testController(){\r\n    //        return &quot;Test me&quot;;\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        @ExceptionHandler(value=NullPointerException.class)\r\n        public String handleNPE(Exception e){\r\n            return &quot;Test NPE&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nOnce you change this &amp; execute \r\n\r\n    curl http://localhost:8080/test\r\n\r\nyou will get :\r\n\r\n&gt; Test NPE\r\n\r\n","title":"@ControllerAdvice or @ExceptionHandler both not working on gradle project","body":"<p>Just looked at your code &amp; issue is you have wrong annotation <code>@org.springframework.stereotype.Controller</code> for <code>Controller</code>.</p>\n<p>Please note this is rest call &amp; hence you have to use <code>org.springframework.web.bind.annotation.RestController</code> for controller.</p>\n<pre><code>@org.springframework.web.bind.annotation.RestController\npublic class Controller {\n\n    @GetMapping(value=&quot;/test&quot;)\n    public String testController(){\n//        return &quot;Test me&quot;;\n        throw new NullPointerException();\n    }\n\n    @ExceptionHandler(value=NullPointerException.class)\n    public String handleNPE(Exception e){\n        return &quot;Test NPE&quot;;\n    }\n\n}\n</code></pre>\n<p>Once you change this &amp; execute</p>\n<pre><code>curl http://localhost:8080/test\n</code></pre>\n<p>you will get :</p>\n<blockquote>\n<p>Test NPE</p>\n</blockquote>\n"}],"owner":{"account_id":11324657,"reputation":97,"user_id":8304007,"accept_rate":80,"display_name":"Akash Tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73224745,"answer_count":1,"score":1,"last_activity_date":1659544539,"creation_date":1659542767,"question_id":73224451,"body_markdown":"I have written a very simple gradle spring boot project. But non of my exception handling is working.\r\n\r\nTried handling at @Controller level and also at global via @ControllerAdvice, but both doesn&#39;t seems to work.\r\n\r\nCould it be because its a gradle project so its not working ?\r\n\r\n**Controller class**\r\n```\r\n@org.springframework.stereotype.Controller\r\npublic class Controller {\r\n\r\n    @GetMapping(value=&quot;/test&quot;)\r\n    public String testController(){\r\n//        return &quot;Test me&quot;;\r\n        throw new NullPointerException();\r\n    }\r\n\r\n    @ExceptionHandler(value=NullPointerException.class)\r\n    public String handleNPE(Exception e){\r\n        return &quot;Test NPE&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Controller Advice class**\r\n```\r\npackage MyController;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\n@ControllerAdvice\r\npublic class advice {\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public String handleNPE(Exception e){\r\n        return &quot;Caught by advisor&quot;;\r\n    }\r\n}\r\n\r\nAlso tried importing ControllerAdvice class explicitly but that doesn&#39;t help as well.\r\n```\r\n**build.gradle**\r\n```plugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.experimental.aot&#39; version &#39;0.12.1&#39;\r\n}\r\n```\r\n**Application class**\r\n```\r\npackage com.example.springdemo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Import;\r\n\r\n@SpringBootApplication\r\n@Import(MyController.advice.class)\r\npublic class SpringDemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringDemoApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n\r\n}```\r\n\r\n\r\ngithub repo - https://github.com/Akashtyagi/SpringBootProject","title":"@ControllerAdvice or @ExceptionHandler both not working on gradle project","body":"<p>I have written a very simple gradle spring boot project. But non of my exception handling is working.</p>\n<p>Tried handling at @Controller level and also at global via @ControllerAdvice, but both doesn't seems to work.</p>\n<p>Could it be because its a gradle project so its not working ?</p>\n<p><strong>Controller class</strong></p>\n<pre><code>@org.springframework.stereotype.Controller\npublic class Controller {\n\n    @GetMapping(value=&quot;/test&quot;)\n    public String testController(){\n//        return &quot;Test me&quot;;\n        throw new NullPointerException();\n    }\n\n    @ExceptionHandler(value=NullPointerException.class)\n    public String handleNPE(Exception e){\n        return &quot;Test NPE&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>Controller Advice class</strong></p>\n<pre><code>package MyController;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ControllerAdvice\npublic class advice {\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public String handleNPE(Exception e){\n        return &quot;Caught by advisor&quot;;\n    }\n}\n\nAlso tried importing ControllerAdvice class explicitly but that doesn't help as well.\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>    id 'org.springframework.boot' version '2.7.2'\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id 'java'\n    id 'org.springframework.experimental.aot' version '0.12.1'\n}\n</code></pre>\n<p><strong>Application class</strong></p>\n<pre><code>package com.example.springdemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Import;\n\n@SpringBootApplication\n@Import(MyController.advice.class)\npublic class SpringDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDemoApplication.class, args);\n    }\n\n}\n\n\n}```\n\n\ngithub repo - https://github.com/Akashtyagi/SpringBootProject\n</code></pre>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1366700076,"post_id":16155041,"comment_id":23097911,"body_markdown":"Can you post a whole public key example? That would help us figure out the format.","body":"Can you post a whole public key example? That would help us figure out the format."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659544436,"creation_date":1366832813,"answer_id":16200857,"question_id":16155041,"body_markdown":"First let&#39;s take a look at the header before the public exponent:\r\n\r\n```none\r\n06020000 00240000 2534131 00080000\r\n```\r\n\r\nUnfortunately I&#39;m not sure about the first two values. `52534131` is ASCII for &quot;RSA1&quot;, probably a label of some kind, and `00080000` is undoubtedly the key size, 0x0800 in 32 bit little endian, i.e. 2048.\r\n\r\n`010001` is the public exponent. It is a well known one, the fourth number of Fermat (a prime number with the first and last bit set to `1`, all zero&#39;s in between). This makes it a fast public key.\r\n\r\nThis makes:\r\n\r\n```none\r\n\r\n00 D1D13925EC404DA171AE1EA9EFCFCB98\r\n   49FA4678DB26D0EEDD36D440D5EC3781\r\n   A7EE3E05654EC6830B79E5E745F24A0C\r\n   35B21C0089D19254A7A12B65EA018116\r\n\r\n   482190B2D4DDADB2CD7B0B79F0E08DF9\r\n   7C4E4569D181BC3C34D350AEF821CCA0\r\n   819E4AA336449A4B022F75FC6C382C4B\r\n   A60CBBBA03461D2B6C7BF7CECE48D52A\r\n\r\n   6B186C57226297A09DD5D730ECA29C41\r\n   796C1C961AA7763D8F7D0094F310D29A\r\n   EA8D5F526B0B99FEC1841B5462A07564\r\n   8CADBB32C51A43EAC76E8D02B6449963\r\n\r\n   68890A762AEF80439B4CD92DA7D38417\r\n   601918B104B1DDEE846DF09E944B562A\r\n   0828285A6EB362D19E2BDD79DBCE6B86\r\n   D9F60D264C8EF4F4CCCAEB6B89F410AF\r\n\r\n```\r\n\r\nthe modulus, encoded as a big endian *signed* integer (hence the `00` in front of it.","title":"How to access a MS SQL Server public key in Java","body":"<p>First let's take a look at the header before the public exponent:</p>\n<pre class=\"lang-none prettyprint-override\"><code>06020000 00240000 2534131 00080000\n</code></pre>\n<p>Unfortunately I'm not sure about the first two values. <code>52534131</code> is ASCII for &quot;RSA1&quot;, probably a label of some kind, and <code>00080000</code> is undoubtedly the key size, 0x0800 in 32 bit little endian, i.e. 2048.</p>\n<p><code>010001</code> is the public exponent. It is a well known one, the fourth number of Fermat (a prime number with the first and last bit set to <code>1</code>, all zero's in between). This makes it a fast public key.</p>\n<p>This makes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>\n00 D1D13925EC404DA171AE1EA9EFCFCB98\n   49FA4678DB26D0EEDD36D440D5EC3781\n   A7EE3E05654EC6830B79E5E745F24A0C\n   35B21C0089D19254A7A12B65EA018116\n\n   482190B2D4DDADB2CD7B0B79F0E08DF9\n   7C4E4569D181BC3C34D350AEF821CCA0\n   819E4AA336449A4B022F75FC6C382C4B\n   A60CBBBA03461D2B6C7BF7CECE48D52A\n\n   6B186C57226297A09DD5D730ECA29C41\n   796C1C961AA7763D8F7D0094F310D29A\n   EA8D5F526B0B99FEC1841B5462A07564\n   8CADBB32C51A43EAC76E8D02B6449963\n\n   68890A762AEF80439B4CD92DA7D38417\n   601918B104B1DDEE846DF09E944B562A\n   0828285A6EB362D19E2BDD79DBCE6B86\n   D9F60D264C8EF4F4CCCAEB6B89F410AF\n\n</code></pre>\n<p>the modulus, encoded as a big endian <em>signed</em> integer (hence the <code>00</code> in front of it.</p>\n"}],"owner":{"account_id":1551167,"reputation":41,"user_id":1443512,"display_name":"CodingWithLegos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659544436,"creation_date":1366658457,"question_id":16155041,"body_markdown":"We are trying to encrypt a file using a RSA 2048 public key created directly in the MS SQL Server. These public keys can supposedly be queried with sys.asymmetric_keys view. We don&#39;t really have access to the database. The public keys are stored as VARBINARY(max) field. And look something like this:\r\n\r\n    0x0602000000240000525341310008000001000100D1D13925EC404DA171AE1EA9EFCFCB9849FA\r\n    4678DB26D0EEDD36D440D5EC3781A7EE3E05654EC6830B79E5E745F24A0C35B21C0089D19254A7\r\n    A12B65EA018116482190B2D4DDADB2CD7B0B79F0E08DF97C4E4569D181BC3C34D350AEF821CCA0\r\n    819E4AA336449A4B022F75FC6C382C4BA60CBBBA03461D2B6C7BF7CECE48D52A6B186C57226297\r\n    A09DD5D730ECA29C41796C1C961AA7763D8F7D0094F310D29AEA8D5F526B0B99FEC1841B5462A0\r\n    75648CADBB32C51A43EAC76E8D02B644996368890A762AEF80439B4CD92DA7D38417601918B104\r\n    B1DDEE846DF09E944B562A0828285A6EB362D19E2BDD79DBCE6B86D9F60D264C8EF4F4CCCAEB6B\r\n    89F410AF \r\n\r\nTHe length of this public key is 554 digits. It seems like it is a hexadecimal number. I have no clue how this key is encoded. I do know that we need a KeySpec to instantiate a Public Key.\r\n\r\n    PublicKey publicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic((KeySpec) new SomeKeySpec(bytes);\r\n\r\nI have no clue how create a Key Specification out of this. ","title":"How to access a MS SQL Server public key in Java","body":"<p>We are trying to encrypt a file using a RSA 2048 public key created directly in the MS SQL Server. These public keys can supposedly be queried with sys.asymmetric_keys view. We don't really have access to the database. The public keys are stored as VARBINARY(max) field. And look something like this:</p>\n\n<pre><code>0x0602000000240000525341310008000001000100D1D13925EC404DA171AE1EA9EFCFCB9849FA\n4678DB26D0EEDD36D440D5EC3781A7EE3E05654EC6830B79E5E745F24A0C35B21C0089D19254A7\nA12B65EA018116482190B2D4DDADB2CD7B0B79F0E08DF97C4E4569D181BC3C34D350AEF821CCA0\n819E4AA336449A4B022F75FC6C382C4BA60CBBBA03461D2B6C7BF7CECE48D52A6B186C57226297\nA09DD5D730ECA29C41796C1C961AA7763D8F7D0094F310D29AEA8D5F526B0B99FEC1841B5462A0\n75648CADBB32C51A43EAC76E8D02B644996368890A762AEF80439B4CD92DA7D38417601918B104\nB1DDEE846DF09E944B562A0828285A6EB362D19E2BDD79DBCE6B86D9F60D264C8EF4F4CCCAEB6B\n89F410AF \n</code></pre>\n\n<p>THe length of this public key is 554 digits. It seems like it is a hexadecimal number. I have no clue how this key is encoded. I do know that we need a KeySpec to instantiate a Public Key.</p>\n\n<pre><code>PublicKey publicKey = KeyFactory.getInstance(\"RSA\").generatePublic((KeySpec) new SomeKeySpec(bytes);\n</code></pre>\n\n<p>I have no clue how create a Key Specification out of this. </p>\n"},{"tags":["java","list","for-loop"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":2,"creation_date":1659530515,"post_id":73221841,"comment_id":129316334,"body_markdown":"Convert the JSON to a Java class (you&#39;ll get an object), then do your manipulations on it","body":"Convert the JSON to a Java class (you&#39;ll get an object), then do your manipulations on it"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1659530611,"post_id":73221841,"comment_id":129316378,"body_markdown":"@ArunSudhakaran It is a Java Class","body":"@ArunSudhakaran It is a Java Class"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":2,"creation_date":1659530660,"post_id":73221841,"comment_id":129316397,"body_markdown":"No brother, it is a JSON body","body":"No brother, it is a JSON body"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1659530695,"post_id":73221841,"comment_id":129316409,"body_markdown":"Does this answer your question? [How do you query object collections in Java (Criteria/SQL-like)?](https://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like\">How do you query object collections in Java (Criteria/SQL-like)?</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1659531007,"post_id":73221841,"comment_id":129316549,"body_markdown":"What you have shown above is JSON text - so basically a String - right?  So you are asking how you can extract individual fields from that String - yes?   If so, do NOT attempt to write your own parser, but instead use an established library like Jackson, that does the parsing and provides functions for data extraction - eg, see https://stackoverflow.com/a/29901800/681444","body":"What you have shown above is JSON text - so basically a String - right?  So you are asking how you can extract individual fields from that String - yes?   If so, do NOT attempt to write your own parser, but instead use an established library like Jackson, that does the parsing and provides functions for data extraction - eg, see <a href=\"https://stackoverflow.com/a/29901800/681444\">stackoverflow.com/a/29901800/681444</a>"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1659531115,"post_id":73221841,"comment_id":129316588,"body_markdown":"@racraman No that was just to explain the structure, I&#39;ve edited it so you can see the class now.","body":"@racraman No that was just to explain the structure, I&#39;ve edited it so you can see the class now."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1659531472,"post_id":73221841,"comment_id":129316736,"body_markdown":"Ah ok, thatâs much clearer.  One suggestion : never let your List be null.  If there are no Settings, let it be an empty list - the functionality remains the same, but you can confidently remove the `if != null` check.  You achieve this by setting the instance variable `private List&lt;Settings&gt; settings = new ArrayList&lt;&gt;();`, and also have the `setSettings` method (if you have one) pick up if `null` is being passed in.","body":"Ah ok, thatâs much clearer.  One suggestion : never let your List be null.  If there are no Settings, let it be an empty list - the functionality remains the same, but you can confidently remove the <code>if != null</code> check.  You achieve this by setting the instance variable <code>private List&lt;Settings&gt; settings = new ArrayList&lt;&gt;();</code>, and also have the <code>setSettings</code> method (if you have one) pick up if <code>null</code> is being passed in."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659531999,"post_id":73221841,"comment_id":129316932,"body_markdown":"So you need to extract two `boolean` values from the list of `MyClass` object? BTW way are you using wrapper type `Boolean`, is it imply that these properties might be `null`?","body":"So you need to extract two <code>boolean</code> values from the list of <code>MyClass</code> object? BTW way are you using wrapper type <code>Boolean</code>, is it imply that these properties might be <code>null</code>?"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1659532119,"post_id":73221841,"comment_id":129316970,"body_markdown":"Yes, exactly. But it should be specifically those two `boolean` values.","body":"Yes, exactly. But it should be specifically those two <code>boolean</code> values."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1659540878,"post_id":73221841,"comment_id":129319855,"body_markdown":"*I can only do it with countless nested if and for loops, and it is not pretty.*  I wouldn&#39;t say two for loops is countless.  And if you had  some unknown nesting level you would probably need to use recursion.  If the above worked for you, there is nothing wrong with the way you did it.","body":"<i>I can only do it with countless nested if and for loops, and it is not pretty.</i>  I wouldn&#39;t say two for loops is countless.  And if you had  some unknown nesting level you would probably need to use recursion.  If the above worked for you, there is nothing wrong with the way you did it."}],"answers":[{"tags":[],"owner":{"account_id":13272796,"reputation":1,"user_id":9583208,"display_name":"hazarrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659530717,"creation_date":1659530691,"answer_id":73221985,"question_id":73221841,"body_markdown":"Well to check if the object is nullable or not you can use the optional class then regarding of find the setting object you have an option to use Java Stream Filter to filter the result.","title":"How do I cleanly drill down through nested object in Java?","body":"<p>Well to check if the object is nullable or not you can use the optional class then regarding of find the setting object you have an option to use Java Stream Filter to filter the result.</p>\n"},{"tags":[],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659532835,"creation_date":1659532300,"answer_id":73222354,"question_id":73221841,"body_markdown":"I think, a more fitting datastructure would be the `Map`. I presume every `Features` exists only once?\r\n\r\n\r\n    public class MyClass {\r\n    \r\n    \tprivate Map&lt;String, Settings&gt; settings;\r\n    \r\n    \tpublic static class Settings {\r\n    \t\tprivate String name;\r\n    \t\tprivate Map&lt;String, Features&gt; features;\r\n    \t}\r\n    \r\n    \tpublic static class Features {\r\n    \t\tprivate String name;\r\n    \t\tprivate Boolean isActive;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyClass t = new MyClass();\r\n    \t\tBoolean logs = null, score = null;\r\n    \t\tSettings s = t.settings.get(&quot;reliability&quot;);\r\n    \t\tif (s != null) {\r\n    \t\t\tFeatures f;\r\n    \t\t\tif ((f = s.features.get(&quot;logs&quot;)) != null) // Is &quot;features&quot; null-save?\r\n    \t\t\t\tlogs = f.isActive;\r\n    \t\t\telse if ((f = s.features.get(&quot;score&quot;)) != null)\r\n    \t\t\t\tscore = f.isActive;\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Logs: &quot; + logs + &quot;, Score: &quot; + score);\r\n    \t}\r\n    }\r\n\r\n(Also it is very bad practice to use the nullable wrapperclass Boolean. You might wanna do something about that.)\r\n\r\nIf you have problems turning your existing lists into maps, use this method:\r\n\r\n\t\r\n\r\n    \r\n\r\n    \r\n\r\n    public static void main(String[] args) {\r\n\t\tMap&lt;String, Settings&gt; map = toMap(List.of(new Settings()), s -&gt; s.name);\r\n\t}\r\n\r\n\tstatic &lt;K, V&gt; Map&lt;K, V&gt; toMap(Collection&lt;V&gt; c, Function&lt;V, K&gt; func) {\r\n\t\treturn c.stream().collect(Collectors.toMap(func, v -&gt; v));\r\n\t}","title":"How do I cleanly drill down through nested object in Java?","body":"<p>I think, a more fitting datastructure would be the <code>Map</code>. I presume every <code>Features</code> exists only once?</p>\n<pre><code>public class MyClass {\n\n    private Map&lt;String, Settings&gt; settings;\n\n    public static class Settings {\n        private String name;\n        private Map&lt;String, Features&gt; features;\n    }\n\n    public static class Features {\n        private String name;\n        private Boolean isActive;\n    }\n\n    public static void main(String[] args) {\n        MyClass t = new MyClass();\n        Boolean logs = null, score = null;\n        Settings s = t.settings.get(&quot;reliability&quot;);\n        if (s != null) {\n            Features f;\n            if ((f = s.features.get(&quot;logs&quot;)) != null) // Is &quot;features&quot; null-save?\n                logs = f.isActive;\n            else if ((f = s.features.get(&quot;score&quot;)) != null)\n                score = f.isActive;\n        }\n        System.out.println(&quot;Logs: &quot; + logs + &quot;, Score: &quot; + score);\n    }\n}\n</code></pre>\n<p>(Also it is very bad practice to use the nullable wrapperclass Boolean. You might wanna do something about that.)</p>\n<p>If you have problems turning your existing lists into maps, use this method:</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Settings&gt; map = toMap(List.of(new Settings()), s -&gt; s.name);\n}\n\nstatic &lt;K, V&gt; Map&lt;K, V&gt; toMap(Collection&lt;V&gt; c, Function&lt;V, K&gt; func) {\n    return c.stream().collect(Collectors.toMap(func, v -&gt; v));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659534490,"creation_date":1659532876,"answer_id":73222509,"question_id":73221841,"body_markdown":"You can stream API to reduce the code\r\n\r\n    private static final String SETTINGS_NAME_FOR_CHECK = &quot;reliability&quot;; \r\n\tprivate static final List&lt;String&gt; FEATURES_NAME_FOR_CHECK = Arrays.asList(&quot;logs&quot;, &quot;score&quot;); \r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tMyClass myClass = new MyClass();\r\n\r\n\t\tif(myClass.getSettings() != null) {\r\n\r\n\t\t\tSettings correctSettings = myClass.getSettings().stream()\r\n\t\t\t\t\t.filter(setting -&gt; SETTINGS_NAME_FOR_CHECK.equals(setting.getName()))\r\n\t\t\t\t\t.findFirst().orElse(null);\r\n\r\n\t\t\tif(correctSettings.getFeatures() != null) {\r\n\t\t\t\tList&lt;Features&gt; features = correctSettings.getFeatures().stream()\r\n\t\t\t\t\t\t.filter(feature -&gt; (FEATURES_NAME_FOR_CHECK.contains(feature.getName()))).collect(Collectors.toList());\r\n\r\n\t\t\t\tSystem.out.println(features);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    \r\nOnce you get the `features` (which will be only having logs and shares), you can check for the boolean value.","title":"How do I cleanly drill down through nested object in Java?","body":"<p>You can stream API to reduce the code</p>\n<pre><code>private static final String SETTINGS_NAME_FOR_CHECK = &quot;reliability&quot;; \nprivate static final List&lt;String&gt; FEATURES_NAME_FOR_CHECK = Arrays.asList(&quot;logs&quot;, &quot;score&quot;); \n\npublic static void main(String[] args) {\n\n    MyClass myClass = new MyClass();\n\n    if(myClass.getSettings() != null) {\n\n        Settings correctSettings = myClass.getSettings().stream()\n                .filter(setting -&gt; SETTINGS_NAME_FOR_CHECK.equals(setting.getName()))\n                .findFirst().orElse(null);\n\n        if(correctSettings.getFeatures() != null) {\n            List&lt;Features&gt; features = correctSettings.getFeatures().stream()\n                    .filter(feature -&gt; (FEATURES_NAME_FOR_CHECK.contains(feature.getName()))).collect(Collectors.toList());\n\n            System.out.println(features);\n        }\n    }\n}\n</code></pre>\n<p>Once you get the <code>features</code> (which will be only having logs and shares), you can check for the boolean value.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659534141,"creation_date":1659533181,"answer_id":73222567,"question_id":73221841,"body_markdown":"Here is the possible solution with Streams.\r\n\r\nI assume that there would be no duplicated `Features` (i.e. having the same `name`) objects.\r\n\r\n*By the way, class names are usually singular nouns. Class `Features` is meant to represent a single object with a distinct name and a single property `isActive`. Therefore, the name `Feature` might` be more suitable.*\r\n\r\nThe method below expects an argument of type `MyClass`, settings name and *varargs* of names of target features. The result it produces is `Map` with feature names as keys and corresponding `isActive` properties as values.\r\n\r\n    public static Map&lt;String, Boolean&gt; getFeaturesByName(MyClass myClass,\r\n                                                         String settingName,\r\n                                                         String... featureNames) {\r\n        \r\n        if (myClass.getSettings() == null) return Collections.emptyMap();\r\n        \r\n        Set&lt;String&gt; featureSet = Set.of(featureNames);\r\n        \r\n        return myClass.getSettings().stream()\r\n            .filter(settings -&gt; settings.getName().equals(settingName))\r\n            .flatMap(settings -&gt; settings.getFeatures().stream())\r\n            .filter(features -&gt; featureSet.contains(features.getName()))\r\n            .collect(Collectors.toMap(\r\n                MyClass.Features::getName,\r\n                MyClass.Features::getActive\r\n            ));\r\n    }","title":"How do I cleanly drill down through nested object in Java?","body":"<p>Here is the possible solution with Streams.</p>\n<p>I assume that there would be no duplicated <code>Features</code> (i.e. having the same <code>name</code>) objects.</p>\n<p><em>By the way, class names are usually singular nouns. Class <code>Features</code> is meant to represent a single object with a distinct name and a single property <code>isActive</code>. Therefore, the name <code>Feature</code> might` be more suitable.</em></p>\n<p>The method below expects an argument of type <code>MyClass</code>, settings name and <em>varargs</em> of names of target features. The result it produces is <code>Map</code> with feature names as keys and corresponding <code>isActive</code> properties as values.</p>\n<pre><code>public static Map&lt;String, Boolean&gt; getFeaturesByName(MyClass myClass,\n                                                     String settingName,\n                                                     String... featureNames) {\n    \n    if (myClass.getSettings() == null) return Collections.emptyMap();\n    \n    Set&lt;String&gt; featureSet = Set.of(featureNames);\n    \n    return myClass.getSettings().stream()\n        .filter(settings -&gt; settings.getName().equals(settingName))\n        .flatMap(settings -&gt; settings.getFeatures().stream())\n        .filter(features -&gt; featureSet.contains(features.getName()))\n        .collect(Collectors.toMap(\n            MyClass.Features::getName,\n            MyClass.Features::getActive\n        ));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659541027,"creation_date":1659539039,"answer_id":73223704,"question_id":73221841,"body_markdown":"Delegate the &quot;drilling&quot; to your classes:\r\n\r\nadd to `MyClass`\r\n```\r\npublic boolean hasSettings() {\r\n    return settings != null &amp;&amp; !settings.isEmpty();\r\n}\r\n\r\npublic Settings getSetting(String name) {\r\n    return settings.stream()\r\n            .filter(s -&gt; s.hasName(name))\r\n            .findFirst()\r\n            .orElseThrow(() -&gt; new IllegalStateException(&quot;No settings with name &quot; + name));\r\n}\r\n```\r\n\r\nadd to `Settings`\r\n```\r\npublic boolean hasName(String name) {\r\n    return this.name.equals(name);\r\n}\r\n\r\npublic Features getFeature(String name) {\r\n    return features.stream()\r\n            .filter(f -&gt; f.hasName(name))\r\n            .findFirst()\r\n            .orElseThrow(() -&gt; new IllegalStateException(&quot;No feature with name &quot; + name));\r\n}\r\n```\r\n\r\nadd to `Features`\r\n```\r\npublic boolean hasName(String name) {\r\n    return this.name.equals(name);\r\n}\r\n```\r\n\r\nThen you can do \r\n```\r\nif (myClass.hasSettings()) {\r\n    Settings reliabilitySetting = myClass.getSetting(&quot;reliability&quot;);\r\n    logs = reliabilitySetting.getFeature(&quot;logs&quot;).isActive();\r\n    score = reliabilitySetting.getFeature(&quot;score&quot;).isActive();\r\n}\r\n```\r\n\r\n**NOTE:** You can return `Optional`s if you don&#39;t want to throw exceptions. ","title":"How do I cleanly drill down through nested object in Java?","body":"<p>Delegate the &quot;drilling&quot; to your classes:</p>\n<p>add to <code>MyClass</code></p>\n<pre><code>public boolean hasSettings() {\n    return settings != null &amp;&amp; !settings.isEmpty();\n}\n\npublic Settings getSetting(String name) {\n    return settings.stream()\n            .filter(s -&gt; s.hasName(name))\n            .findFirst()\n            .orElseThrow(() -&gt; new IllegalStateException(&quot;No settings with name &quot; + name));\n}\n</code></pre>\n<p>add to <code>Settings</code></p>\n<pre><code>public boolean hasName(String name) {\n    return this.name.equals(name);\n}\n\npublic Features getFeature(String name) {\n    return features.stream()\n            .filter(f -&gt; f.hasName(name))\n            .findFirst()\n            .orElseThrow(() -&gt; new IllegalStateException(&quot;No feature with name &quot; + name));\n}\n</code></pre>\n<p>add to <code>Features</code></p>\n<pre><code>public boolean hasName(String name) {\n    return this.name.equals(name);\n}\n</code></pre>\n<p>Then you can do</p>\n<pre><code>if (myClass.hasSettings()) {\n    Settings reliabilitySetting = myClass.getSetting(&quot;reliability&quot;);\n    logs = reliabilitySetting.getFeature(&quot;logs&quot;).isActive();\n    score = reliabilitySetting.getFeature(&quot;score&quot;).isActive();\n}\n</code></pre>\n<p><strong>NOTE:</strong> You can return <code>Optional</code>s if you don't want to throw exceptions.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659544165,"creation_date":1659544165,"answer_id":73224741,"question_id":73221841,"body_markdown":"To make your code cleaner you can move logic into support methods.  This also makes it more testable.  In your code you are inspecting an instance of MyClass to determine if it certain features which are identified by name.  You could write a method that does just that.  Your original code could be re-written as:\r\n\r\n    MyClass myClass = ...\r\n    boolean hasLogs = hasSettingFeature(myClass, &quot;reliability&quot;, &quot;logs&quot;);\r\n    boolean hasScore = hasSettingFeature(myClass, &quot;reliability&quot;, &quot;score&quot;);\r\n\r\nYou can iterate through the given instance within the support model.  You can do with this for-loops.\r\n\r\n    public boolean hasSettingFeature(MyClass myClass, String settingName, String featureName) {\r\n      if (null == myClass || null == myClass.getSettings()) {\r\n        return false;\r\n      }\r\n      for (Settings settings : myClass.getSettings()) {\r\n        if (settingName.equals(settings.getName()) {\r\n          for (Features features : settings.getFeatures()) {\r\n            if (featureName.equals(features.getName()) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\nYou may also use the Stream API to filter to determine the state:\r\n\r\n    public boolean hasSettingFeature(MyClass myClass, String settingName, String featureName) {\r\n      if (null == myClass || null == myClass.getSettings()) {\r\n        return false;\r\n      }\r\n      return myClass.getSettings().stream()\r\n          .filter(setting -&gt; settingName.equals(setting.getName()))\r\n          .flatMap(setting -&gt; setting.getFeatures())\r\n          .filter(features -&gt; featureName.equals(features.getName()))\r\n          .findAny()\r\n          .isPresent();\r\n    }    \r\n","title":"How do I cleanly drill down through nested object in Java?","body":"<p>To make your code cleaner you can move logic into support methods.  This also makes it more testable.  In your code you are inspecting an instance of MyClass to determine if it certain features which are identified by name.  You could write a method that does just that.  Your original code could be re-written as:</p>\n<pre><code>MyClass myClass = ...\nboolean hasLogs = hasSettingFeature(myClass, &quot;reliability&quot;, &quot;logs&quot;);\nboolean hasScore = hasSettingFeature(myClass, &quot;reliability&quot;, &quot;score&quot;);\n</code></pre>\n<p>You can iterate through the given instance within the support model.  You can do with this for-loops.</p>\n<pre><code>public boolean hasSettingFeature(MyClass myClass, String settingName, String featureName) {\n  if (null == myClass || null == myClass.getSettings()) {\n    return false;\n  }\n  for (Settings settings : myClass.getSettings()) {\n    if (settingName.equals(settings.getName()) {\n      for (Features features : settings.getFeatures()) {\n        if (featureName.equals(features.getName()) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n</code></pre>\n<p>You may also use the Stream API to filter to determine the state:</p>\n<pre><code>public boolean hasSettingFeature(MyClass myClass, String settingName, String featureName) {\n  if (null == myClass || null == myClass.getSettings()) {\n    return false;\n  }\n  return myClass.getSettings().stream()\n      .filter(setting -&gt; settingName.equals(setting.getName()))\n      .flatMap(setting -&gt; setting.getFeatures())\n      .filter(features -&gt; featureName.equals(features.getName()))\n      .findAny()\n      .isPresent();\n}    \n</code></pre>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73222567,"answer_count":6,"score":2,"last_activity_date":1659544165,"creation_date":1659530104,"question_id":73221841,"body_markdown":"I have the following Java class:\r\n\r\n    public class MyClass{\r\n\r\n        private List&lt;Settings&gt; settings;\r\n\r\n        public static class Settings {\r\n            private String name;\r\n            private List&lt;Features&gt; features;\r\n        }\r\n\r\n        public static class Features {\r\n            private String name;\r\n            private Boolean isActive;\r\n        }\r\n    }\r\n\r\nWhat I want to do is first check that `settings` is not null or empty. If not, then I want to find the `Settings` object that has the name &quot;reliability&quot;, and then find its `Features` objects that have the names &quot;logs&quot; and &quot;score&quot; and get the `isActive` from these two objects. \r\n\r\nThis is what I&#39;ve tried:\r\n\r\n    MyClass myClass = new MyClass ();\r\n    Boolean logs = false;\r\n    Boolean score = false;\r\n\r\n    if (myClass.getSettings != null) {\r\n        for (Settings setting: myClass.getSettings) {\r\n            if (setting.getName().equals(&quot;reliability&quot;)) {\r\n                for (Features features : setting.getFeatures) {\r\n                    if (features.getName().equals(&quot;logs&quot;)) {\r\n                        logs = features.getIsActive;\r\n                    } else if (features.getName().equals(&quot;score&quot;)) {\r\n                        score = features.getIsActive;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow do I do this in a clean way? I can only do it with countless nested if and for loops, and it is not pretty.\r\n","title":"How do I cleanly drill down through nested object in Java?","body":"<p>I have the following Java class:</p>\n<pre><code>public class MyClass{\n\n    private List&lt;Settings&gt; settings;\n\n    public static class Settings {\n        private String name;\n        private List&lt;Features&gt; features;\n    }\n\n    public static class Features {\n        private String name;\n        private Boolean isActive;\n    }\n}\n</code></pre>\n<p>What I want to do is first check that <code>settings</code> is not null or empty. If not, then I want to find the <code>Settings</code> object that has the name &quot;reliability&quot;, and then find its <code>Features</code> objects that have the names &quot;logs&quot; and &quot;score&quot; and get the <code>isActive</code> from these two objects.</p>\n<p>This is what I've tried:</p>\n<pre><code>MyClass myClass = new MyClass ();\nBoolean logs = false;\nBoolean score = false;\n\nif (myClass.getSettings != null) {\n    for (Settings setting: myClass.getSettings) {\n        if (setting.getName().equals(&quot;reliability&quot;)) {\n            for (Features features : setting.getFeatures) {\n                if (features.getName().equals(&quot;logs&quot;)) {\n                    logs = features.getIsActive;\n                } else if (features.getName().equals(&quot;score&quot;)) {\n                    score = features.getIsActive;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>How do I do this in a clean way? I can only do it with countless nested if and for loops, and it is not pretty.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9038248,"reputation":383,"user_id":6733339,"accept_rate":25,"display_name":"Waqar Vicky"},"score":0,"creation_date":1611484151,"post_id":61163550,"comment_id":116461119,"body_markdown":"Have you solved this issue?","body":"Have you solved this issue?"}],"answers":[{"tags":[],"owner":{"account_id":18229048,"reputation":69,"user_id":13268311,"display_name":"Tymur Pysarevych"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586692466,"creation_date":1586692466,"answer_id":61171012,"question_id":61163550,"body_markdown":"Don&#39;t forget that, if you change the locale with a running Activity, you will need to restart it for the changes to take effect.\r\nJust for a clear answer some code I use (changed for your context):\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(updateBaseContextLocale(base));\r\n    }\r\n\r\n    private Context updateBaseContextLocale(Context context) {\r\n        final String language = PrefManager.getLanguage(); // Your helper method to get saved language\r\n        final Locale locale = new Locale(language);\r\n        Locale.setDefault(locale);\r\n\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.N) {\r\n            return updateResourcesLocale(context, locale);\r\n        }\r\n\r\n        return updateResourcesLocaleLegacy(context, locale);\r\n    }\r\n\r\n    @TargetApi(Build.VERSION_CODES.N_MR1)\r\n    private Context updateResourcesLocale(Context context, Locale locale) {\r\n        Configuration configuration = new Configuration(context.getResources().getConfiguration())\r\n        configuration.setLocale(locale);\r\n        return context.createConfigurationContext(configuration);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    private Context updateResourcesLocaleLegacy(Context context, Locale locale) {\r\n        final Resources resources = context.getResources();\r\n        Configuration configuration = resources.getConfiguration();\r\n        configuration.locale = locale;\r\n        resources.updateConfiguration(configuration, resources.getDisplayMetrics());\r\n        return context;\r\n    }\r\n\r\nEvery time your activity starts the method *attachBaseContext(Context base)* gets called and updates your language.\r\n\r\nI hope I could help you. Cheers!","title":"changing locale not effect on font type","body":"<p>Don't forget that, if you change the locale with a running Activity, you will need to restart it for the changes to take effect.\nJust for a clear answer some code I use (changed for your context):</p>\n\n<pre><code>@Override\nprotected void attachBaseContext(Context base) {\n    super.attachBaseContext(updateBaseContextLocale(base));\n}\n\nprivate Context updateBaseContextLocale(Context context) {\n    final String language = PrefManager.getLanguage(); // Your helper method to get saved language\n    final Locale locale = new Locale(language);\n    Locale.setDefault(locale);\n\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.N) {\n        return updateResourcesLocale(context, locale);\n    }\n\n    return updateResourcesLocaleLegacy(context, locale);\n}\n\n@TargetApi(Build.VERSION_CODES.N_MR1)\nprivate Context updateResourcesLocale(Context context, Locale locale) {\n    Configuration configuration = new Configuration(context.getResources().getConfiguration())\n    configuration.setLocale(locale);\n    return context.createConfigurationContext(configuration);\n}\n\n@SuppressWarnings(\"deprecation\")\nprivate Context updateResourcesLocaleLegacy(Context context, Locale locale) {\n    final Resources resources = context.getResources();\n    Configuration configuration = resources.getConfiguration();\n    configuration.locale = locale;\n    resources.updateConfiguration(configuration, resources.getDisplayMetrics());\n    return context;\n}\n</code></pre>\n\n<p>Every time your activity starts the method <em>attachBaseContext(Context base)</em> gets called and updates your language.</p>\n\n<p>I hope I could help you. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":20837029,"reputation":627,"user_id":15304670,"display_name":"Mahmoud Aly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659544093,"creation_date":1659544093,"answer_id":73224727,"question_id":61163550,"body_markdown":"You just need to change locale and return context to ```attachBaseContext``` \r\n\r\n- This ```Kotlin``` method change locale\r\n```\r\n fun setLocale(context: Context, lang: String): Context {\r\n        val locale = Locale(lang)\r\n        Locale.setDefault(locale)\r\n        val config = context.resources.configuration\r\n        config.setLocale(locale)\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N)\r\n            return context.createConfigurationContext(config)\r\n        else\r\n            context.resources.updateConfiguration(config, context.resources.displayMetrics)\r\n        return context\r\n    }\r\n```\r\n\r\n- Now call ```setLocale```  in activity ```attachBaseContext``` to apply locale related resources when activity launches.\r\n```\r\n   override fun attachBaseContext(base: Context?) {\r\n        val locale = &quot;ar&quot; // you might read saved locale code from preferences\r\n        super.attachBaseContext(setLocale(base, locale))\r\n    }\r\n```\r\n\r\n- Or restart your activity if you want change locale on runtime.\r\n```\r\nstartActivity(getIntent())\r\nfinish()\r\n```","title":"changing locale not effect on font type","body":"<p>You just need to change locale and return context to <code>attachBaseContext</code></p>\n<ul>\n<li>This <code>Kotlin</code> method change locale</li>\n</ul>\n<pre><code> fun setLocale(context: Context, lang: String): Context {\n        val locale = Locale(lang)\n        Locale.setDefault(locale)\n        val config = context.resources.configuration\n        config.setLocale(locale)\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N)\n            return context.createConfigurationContext(config)\n        else\n            context.resources.updateConfiguration(config, context.resources.displayMetrics)\n        return context\n    }\n</code></pre>\n<ul>\n<li>Now call <code>setLocale</code>  in activity <code>attachBaseContext</code> to apply locale related resources when activity launches.</li>\n</ul>\n<pre><code>   override fun attachBaseContext(base: Context?) {\n        val locale = &quot;ar&quot; // you might read saved locale code from preferences\n        super.attachBaseContext(setLocale(base, locale))\n    }\n</code></pre>\n<ul>\n<li>Or restart your activity if you want change locale on runtime.</li>\n</ul>\n<pre><code>startActivity(getIntent())\nfinish()\n</code></pre>\n"}],"owner":{"account_id":8796686,"reputation":19,"user_id":6574373,"display_name":"Ali Delavari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659544093,"creation_date":1586638205,"question_id":61163550,"body_markdown":"I have two font directories (fa/en) for two type of languages.\r\nIn my app setting user can change the app language.\r\nI save its changes in preferences and start main activity.\r\nin main activity before super.oncreate in first line of oncreate method i change locale accornding to saved language in preferences.\r\nlanguage of app changes but font not changes !!!\r\nafter close and open app again .. changes in fonts are done.\r\n\r\nchange language with this code .\r\n\r\n        private void configAppLanguage(){\r\n            String lang = PrefManager.getLanguage();\r\n            Locale locale = new Locale(lang);\r\n            Locale.setDefault(locale);\r\n            Configuration config = new Configuration();\r\n            config.locale = locale;\r\n    \r\n            getBaseContext().getResources().updateConfiguration(config,\r\n                    getBaseContext().getResources().getDisplayMetrics());\r\n    \r\n        }\r\n\r\nstart main activity with this code .\r\n\r\n    Intent intent = new Intent(LanguageActivity.this, MainActivity.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    startActivity(intent);","title":"changing locale not effect on font type","body":"<p>I have two font directories (fa/en) for two type of languages.\nIn my app setting user can change the app language.\nI save its changes in preferences and start main activity.\nin main activity before super.oncreate in first line of oncreate method i change locale accornding to saved language in preferences.\nlanguage of app changes but font not changes !!!\nafter close and open app again .. changes in fonts are done.</p>\n\n<p>change language with this code .</p>\n\n<pre><code>    private void configAppLanguage(){\n        String lang = PrefManager.getLanguage();\n        Locale locale = new Locale(lang);\n        Locale.setDefault(locale);\n        Configuration config = new Configuration();\n        config.locale = locale;\n\n        getBaseContext().getResources().updateConfiguration(config,\n                getBaseContext().getResources().getDisplayMetrics());\n\n    }\n</code></pre>\n\n<p>start main activity with this code .</p>\n\n<pre><code>Intent intent = new Intent(LanguageActivity.this, MainActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(intent);\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":6549637,"reputation":660,"user_id":5088785,"display_name":"Daisy Day"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1533449311,"creation_date":1533449311,"answer_id":51691821,"question_id":51691744,"body_markdown":"You should use update here:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nThis will build the tables on startup if they&#39;re not already defined, otherwise it will leave them as they are. \r\n\r\nAlso when you do that, you might want to drop the line:\r\n\r\n    spring.jpa.generate-ddl=true\r\n\r\n\r\nFinally, the best way to do this is to have different sets of properties for different environments, either by passing them in as run time variables or ideally externalising them with something like spring config server. ","title":"Spring boot with H2 Database auto create","body":"<p>You should use update here:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n\n<p>This will build the tables on startup if they're not already defined, otherwise it will leave them as they are. </p>\n\n<p>Also when you do that, you might want to drop the line:</p>\n\n<pre><code>spring.jpa.generate-ddl=true\n</code></pre>\n\n<p>Finally, the best way to do this is to have different sets of properties for different environments, either by passing them in as run time variables or ideally externalising them with something like spring config server. </p>\n"},{"tags":[],"owner":{"account_id":11847741,"reputation":1026,"user_id":8669863,"display_name":"Vivek Pakmode"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1533487928,"creation_date":1533449404,"answer_id":51691833,"question_id":51691744,"body_markdown":"You can set spring.jpa.hibernate.ddl-auto explicitly and the standard Hibernate property values are **none, validate, update, create, and create-drop**\r\n\r\nSpring Boot chooses a default value for you based on whether it thinks your database is embedded. It defaults to create-drop if no schema manager has been detected or none in all other cases. An embedded database is detected by looking at the Connection type. hsqldb, h2, and derby are embedded, and others are not. Be careful when switching from in-memory to a ârealâ database that you do not make assumptions about the existence of the tables and data in the new platform. You either have to set ddl-auto explicitly or use one of the other mechanisms to initialize the database\r\n\r\nFollowing cases might applicable for you:\r\n\r\n**update:**\r\n\r\nThe update operation for example will attempt to add new columns, constraints, etc but will never remove a column or constraint that may have existed previously but no longer does as part of the object model from a prior run.\r\n\r\n**none:**\r\n\r\nIn production, it&#39;s often highly recommended you use none or simply don&#39;t specify this property. That is because it&#39;s common practice for DBAs to review migration scripts for database changes, particularly if your database is shared across multiple services and applications.\r\n\r\nIn addition, a file named **import.sql** in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop). This can be useful for demos and for testing if you are careful but is probably not something you want to be on the classpath in production. It is a Hibernate feature (and has nothing to do with Spring).","title":"Spring boot with H2 Database auto create","body":"<p>You can set spring.jpa.hibernate.ddl-auto explicitly and the standard Hibernate property values are <strong>none, validate, update, create, and create-drop</strong></p>\n\n<p>Spring Boot chooses a default value for you based on whether it thinks your database is embedded. It defaults to create-drop if no schema manager has been detected or none in all other cases. An embedded database is detected by looking at the Connection type. hsqldb, h2, and derby are embedded, and others are not. Be careful when switching from in-memory to a ârealâ database that you do not make assumptions about the existence of the tables and data in the new platform. You either have to set ddl-auto explicitly or use one of the other mechanisms to initialize the database</p>\n\n<p>Following cases might applicable for you:</p>\n\n<p><strong>update:</strong></p>\n\n<p>The update operation for example will attempt to add new columns, constraints, etc but will never remove a column or constraint that may have existed previously but no longer does as part of the object model from a prior run.</p>\n\n<p><strong>none:</strong></p>\n\n<p>In production, it's often highly recommended you use none or simply don't specify this property. That is because it's common practice for DBAs to review migration scripts for database changes, particularly if your database is shared across multiple services and applications.</p>\n\n<p>In addition, a file named <strong>import.sql</strong> in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop). This can be useful for demos and for testing if you are careful but is probably not something you want to be on the classpath in production. It is a Hibernate feature (and has nothing to do with Spring).</p>\n"},{"tags":[],"owner":{"account_id":20445430,"reputation":1,"user_id":15001355,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610572360,"creation_date":1610572360,"answer_id":65709862,"question_id":51691744,"body_markdown":"I was missing below line.\r\n\r\nspring.jpa.hibernate.ddl-auto=update","title":"Spring boot with H2 Database auto create","body":"<p>I was missing below line.</p>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n"},{"tags":[],"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632385679,"creation_date":1632385679,"answer_id":69296512,"question_id":51691744,"body_markdown":"To distinguish your dev code from productions, use Spring profiles. Then you can define whatever behavior you want for each environment.\r\n\r\nIt is also OK to define the general (production) behavior in `application.properties`, and override them (for `local` profile) `application-local.properties`. Spring has a sophisticated fallback mechanism for this.","title":"Spring boot with H2 Database auto create","body":"<p>To distinguish your dev code from productions, use Spring profiles. Then you can define whatever behavior you want for each environment.</p>\n<p>It is also OK to define the general (production) behavior in <code>application.properties</code>, and override them (for <code>local</code> profile) <code>application-local.properties</code>. Spring has a sophisticated fallback mechanism for this.</p>\n"},{"tags":[],"owner":{"account_id":19746036,"reputation":31,"user_id":14458451,"display_name":"&#214;zg&#252;r"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659543635,"creation_date":1659543604,"answer_id":73224627,"question_id":51691744,"body_markdown":"For .yaml, you can do that\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:h2:path\r\n        username: sa\r\n        password: \r\n        driverClassName: org.h2.Driver\r\n      jpa:\r\n        spring.jpa.database-platform: org.hibernate.dialect.H2Dialect\r\n        generate-ddl: true\r\n        hibernate.ddl-auto: update\r\n      h2:\r\n        console.enabled: true\r\n      ","title":"Spring boot with H2 Database auto create","body":"<p>For .yaml, you can do that</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:path\n    username: sa\n    password: \n    driverClassName: org.h2.Driver\n  jpa:\n    spring.jpa.database-platform: org.hibernate.dialect.H2Dialect\n    generate-ddl: true\n    hibernate.ddl-auto: update\n  h2:\n    console.enabled: true\n  \n</code></pre>\n"}],"owner":{"account_id":13017326,"reputation":109,"user_id":9408033,"display_name":"Matahari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40610,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1659543635,"creation_date":1533448333,"question_id":51691744,"body_markdown":"I am using embeded H2 in my java application via spring boot. Currently, it **creates(overrides)** my tables in the DB. But once I push it to production\r\nI do not want my tables to be wiped off and recreated, so I wont lose the previous datas in the tables. But I am not sure how to accomplish this. Not sure what to put on the line  `spring.jpa.hibernate.ddl-auto=create`. I tried validate and other options but did not work out. Here is my application.properties. Thanks\r\n\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.datasource.initialization-mode=always\r\n    spring.jpa.hibernate.naming.physical- \r\n    strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"Spring boot with H2 Database auto create","body":"<p>I am using embeded H2 in my java application via spring boot. Currently, it <strong>creates(overrides)</strong> my tables in the DB. But once I push it to production\nI do not want my tables to be wiped off and recreated, so I wont lose the previous datas in the tables. But I am not sure how to accomplish this. Not sure what to put on the line  <code>spring.jpa.hibernate.ddl-auto=create</code>. I tried validate and other options but did not work out. Here is my application.properties. Thanks</p>\n\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.initialization-mode=always\nspring.jpa.hibernate.naming.physical- \nstrategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":["java","matrix","3d","rotation","quaternions"],"comments":[{"owner":{"account_id":10431924,"reputation":1105,"user_id":7691497,"display_name":"Ben Steffan"},"score":0,"creation_date":1493229486,"post_id":43639649,"comment_id":74330951,"body_markdown":"What are `Pointf` and `Matrix4x4f`? What library are you using?","body":"What are <code>Pointf</code> and <code>Matrix4x4f</code>? What library are you using?"},{"owner":{"account_id":10431924,"reputation":1105,"user_id":7691497,"display_name":"Ben Steffan"},"score":0,"creation_date":1493231195,"post_id":43639649,"comment_id":74332043,"body_markdown":"Also, you cannot rotate point a to become point b, since they don&#39;t have the same distance from origin (point a&#39;s distance is `2`, while point b&#39;s distance is `sqrt(2^2 + 2^2) = 2.83`).","body":"Also, you cannot rotate point a to become point b, since they don&#39;t have the same distance from origin (point a&#39;s distance is <code>2</code>, while point b&#39;s distance is <code>sqrt(2^2 + 2^2) = 2.83</code>)."},{"owner":{"account_id":4202177,"reputation":31,"user_id":3442047,"display_name":"user3442047"},"score":0,"creation_date":1493234080,"post_id":43639649,"comment_id":74333731,"body_markdown":"Thanks I did not realize that (also `Pointf` and `Matrix4x4f` are arbitrary representations of a 3D Point Object and 4 by 4 Matrix Object respectfully)","body":"Thanks I did not realize that (also <code>Pointf</code> and <code>Matrix4x4f</code> are arbitrary representations of a 3D Point Object and 4 by 4 Matrix Object respectfully)"},{"owner":{"account_id":4034333,"reputation":1882,"user_id":3319361,"display_name":"minorlogic"},"score":0,"creation_date":1493281686,"post_id":43639649,"comment_id":74352420,"body_markdown":"http://stackoverflow.com/questions/1171849/finding-quaternion-representing-the-rotation-from-one-vector-to-another","body":"<a href=\"http://stackoverflow.com/questions/1171849/finding-quaternion-representing-the-rotation-from-one-vector-to-another\" title=\"finding quaternion representing the rotation from one vector to another\">stackoverflow.com/questions/1171849/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14461,"reputation":6473,"user_id":29771,"accept_rate":91,"display_name":"Glenn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659543626,"creation_date":1521606018,"answer_id":49398130,"question_id":43639649,"body_markdown":"I can explain an algorithm for finding the matrix of rotation, though I don&#39;t have code for it.  \r\n\r\nEvery rotation is around an axis.  I assume that you want an axis that goes through the origin O.  In that case, the rotation takes place in the plane defined by the three points O, A, and B.  As the rotation axis, you can use the vector which is the cross product of the two vectors OA and OB.  [Here][1] is  the formula.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLet&#39;s call the three components of this direction vector for the axis (u,v,w), for simplicity (and we&#39;ll assume its normalized).  Next find the angle theta between OA and OB, this is found by the [standard formula][3] for the angle between two vectors.\r\n\r\nFinally, the hard part is done for you at [this site][4], which [links][5] to the following 3D matrix of rotation about the origin, which will rotate A to B.  Java code for this matrix can be downloaded at this site.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nYou can check out some rotations interactively [here][7].\r\n\r\n\r\n  [1]: https://betterexplained.com/articles/cross-product/\r\n  [2]: https://i.stack.imgur.com/DPi38.png\r\n  [3]: http://onlinemschool.com/math/library/vector/angl/\r\n  [4]: https://sites.google.com/site/glennmurray/glenn-murray-ph-d/rotation-matrices-and-formulas\r\n  [5]: https://sites.google.com/site/glennmurray/glenn-murray-ph-d/rotation-matrices-and-formulas/rotation-about-an-arbitrary-axis-in-3-dimensions\r\n  [6]: https://i.stack.imgur.com/x4zWF.png\r\n  [7]: http://twist-and-shout.appspot.com/","title":"Can&#39;t Correctly rotate 3D Point A to B (on X, Y, Z axis)","body":"<p>I can explain an algorithm for finding the matrix of rotation, though I don't have code for it.</p>\n<p>Every rotation is around an axis.  I assume that you want an axis that goes through the origin O.  In that case, the rotation takes place in the plane defined by the three points O, A, and B.  As the rotation axis, you can use the vector which is the cross product of the two vectors OA and OB.  <a href=\"https://betterexplained.com/articles/cross-product/\" rel=\"nofollow noreferrer\">Here</a> is  the formula.</p>\n<p><a href=\"https://i.stack.imgur.com/DPi38.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DPi38.png\" alt=\"enter image description here\" /></a></p>\n<p>Let's call the three components of this direction vector for the axis (u,v,w), for simplicity (and we'll assume its normalized).  Next find the angle theta between OA and OB, this is found by the <a href=\"http://onlinemschool.com/math/library/vector/angl/\" rel=\"nofollow noreferrer\">standard formula</a> for the angle between two vectors.</p>\n<p>Finally, the hard part is done for you at <a href=\"https://sites.google.com/site/glennmurray/glenn-murray-ph-d/rotation-matrices-and-formulas\" rel=\"nofollow noreferrer\">this site</a>, which <a href=\"https://sites.google.com/site/glennmurray/glenn-murray-ph-d/rotation-matrices-and-formulas/rotation-about-an-arbitrary-axis-in-3-dimensions\" rel=\"nofollow noreferrer\">links</a> to the following 3D matrix of rotation about the origin, which will rotate A to B.  Java code for this matrix can be downloaded at this site.</p>\n<p><a href=\"https://i.stack.imgur.com/x4zWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x4zWF.png\" alt=\"enter image description here\" /></a></p>\n<p>You can check out some rotations interactively <a href=\"http://twist-and-shout.appspot.com/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":4202177,"reputation":31,"user_id":3442047,"display_name":"user3442047"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49398130,"answer_count":1,"score":1,"last_activity_date":1659543626,"creation_date":1493223597,"question_id":43639649,"body_markdown":"I has tirelessly been researching for three weeks now, each and every procedure for rotating a 3D Point &#39;A&#39; to 3D Point &#39;B&#39;, the following are the techniques I attempted with no success:\r\n\r\n - Rotation Matrix\r\n - Euler Angles to Rotation Matrix\r\n - Axis Angle to Rotation Matrix \r\n - Quaternion Coordinate Rotation\r\n - Trigonometry Multiple Axis Rotation\r\n\r\nI would like to perform a simultaneous 3d 3 axis (so, X, Y, Z) rotation in java (please know I don&#39;t particularly understand the mathematics behind it, I would prefer the answer to be in java code, with the example I displayed).\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    e.g. \r\n    Pointf a = new Pointf(0f, 2f, 0f);\r\n    Pointf b = new Pointf(2f, 0f, 2f);\r\n    \r\n    // ~~~ Start of Rotation Matrix ~~~\r\n    \r\n    // azimuth (Z Axis)\r\n    float azimuth = (float) Math.toRadians(90f);\r\n    // elevation (Y Axis)\r\n    float elevation = (float) Math.toRadians(0f);\r\n    // tilt (X Axis)\r\n    float tilt = (float) Math.toRadians(90f);\r\n    \r\n    /*\r\n    public static Matrix4x4f createRotationMatrix(double azimuth, double elevation, double tilt) {\r\n    \t\t// Assuming the angles are in radians.\r\n    \t\t//Precompute sines and cosines of Euler angles\r\n    \t\tdouble su = sin(tilt);\r\n    \t\tdouble cu = cos(tilt);\r\n    \t\tdouble sv = sin(elevation);\r\n    \t\tdouble cv = cos(elevation);\r\n    \t\tdouble sw = sin(azimuth);\r\n    \t\tdouble cw = cos(azimuth);\r\n    \r\n    \t\t//Create and populate RotationMatrix\r\n    \t\tMatrix4x4f A = Matrix4x4f.create();\r\n    \t\tA.values[0] = (float) (cv*cw);\r\n    \t\tA.values[1] = (float) ((su*sv*cw) - (cu*sw));\r\n    \t\tA.values[2] = (float) ((su*sw) + (cu*sv*cw));\r\n    \t\tA.values[4] = (float) (cv*sw);\r\n    \t\tA.values[5] = (float) ((cu*cw) + (su*sv*sw));\r\n    \t\tA.values[6] = (float) ((cu*sv*sw) - (su*cw));\r\n    \t\tA.values[8] = (float) -sv;\r\n    \t\tA.values[9] = (float) (su*cv);\r\n    \t\tA.values[10] = (float) (cu*cv);      \r\n    \r\n    \t\treturn A;\r\n    \t}\r\n    */\r\n    \r\n    // Multiplies the Z * Y * X Rotation Matrices to form &#39;Matrix4x4f m&#39; \r\n    Matrix4x4f m = Matrix4x4.createRotationMatrix(azimuth, elevation, tilt);\r\n    \r\n    // Multiple point &#39;a&#39; with Matrix4x4f &#39;m&#39; to get point &#39;b&#39;\r\n    m.transform(a); // Should return {2, 0, 2} same &#39;b&#39;, but returns {2, 0, 0}\r\n    \r\n    // ~~~ End of Rotation Matrix ~~~\r\n\r\nFYI. My main source of information was from the following:\r\n\r\nhttp://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToMatrix/index.htm\r\n\r\nThanks All  ","title":"Can&#39;t Correctly rotate 3D Point A to B (on X, Y, Z axis)","body":"<p>I has tirelessly been researching for three weeks now, each and every procedure for rotating a 3D Point 'A' to 3D Point 'B', the following are the techniques I attempted with no success:</p>\n\n<ul>\n<li>Rotation Matrix</li>\n<li>Euler Angles to Rotation Matrix</li>\n<li>Axis Angle to Rotation Matrix </li>\n<li>Quaternion Coordinate Rotation</li>\n<li>Trigonometry Multiple Axis Rotation</li>\n</ul>\n\n<p>I would like to perform a simultaneous 3d 3 axis (so, X, Y, Z) rotation in java (please know I don't particularly understand the mathematics behind it, I would prefer the answer to be in java code, with the example I displayed).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>e.g. \nPointf a = new Pointf(0f, 2f, 0f);\nPointf b = new Pointf(2f, 0f, 2f);\n\n// ~~~ Start of Rotation Matrix ~~~\n\n// azimuth (Z Axis)\nfloat azimuth = (float) Math.toRadians(90f);\n// elevation (Y Axis)\nfloat elevation = (float) Math.toRadians(0f);\n// tilt (X Axis)\nfloat tilt = (float) Math.toRadians(90f);\n\n/*\npublic static Matrix4x4f createRotationMatrix(double azimuth, double elevation, double tilt) {\n        // Assuming the angles are in radians.\n        //Precompute sines and cosines of Euler angles\n        double su = sin(tilt);\n        double cu = cos(tilt);\n        double sv = sin(elevation);\n        double cv = cos(elevation);\n        double sw = sin(azimuth);\n        double cw = cos(azimuth);\n\n        //Create and populate RotationMatrix\n        Matrix4x4f A = Matrix4x4f.create();\n        A.values[0] = (float) (cv*cw);\n        A.values[1] = (float) ((su*sv*cw) - (cu*sw));\n        A.values[2] = (float) ((su*sw) + (cu*sv*cw));\n        A.values[4] = (float) (cv*sw);\n        A.values[5] = (float) ((cu*cw) + (su*sv*sw));\n        A.values[6] = (float) ((cu*sv*sw) - (su*cw));\n        A.values[8] = (float) -sv;\n        A.values[9] = (float) (su*cv);\n        A.values[10] = (float) (cu*cv);      \n\n        return A;\n    }\n*/\n\n// Multiplies the Z * Y * X Rotation Matrices to form 'Matrix4x4f m' \nMatrix4x4f m = Matrix4x4.createRotationMatrix(azimuth, elevation, tilt);\n\n// Multiple point 'a' with Matrix4x4f 'm' to get point 'b'\nm.transform(a); // Should return {2, 0, 2} same 'b', but returns {2, 0, 0}\n\n// ~~~ End of Rotation Matrix ~~~\n</code></pre>\n\n<p>FYI. My main source of information was from the following:</p>\n\n<p><a href=\"http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToMatrix/index.htm\" rel=\"nofollow noreferrer\">http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToMatrix/index.htm</a></p>\n\n<p>Thanks All  </p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1872335,"reputation":48173,"user_id":1741671,"accept_rate":86,"display_name":"Ajay S"},"score":0,"creation_date":1500877975,"post_id":45272573,"comment_id":77510514,"body_markdown":"@piet.t It may be, but it is duplicate of Out Of Memory issue, OP can find lot of threads on SO on this","body":"@piet.t It may be, but it is duplicate of Out Of Memory issue, OP can find lot of threads on SO on this"},{"owner":{"account_id":1872335,"reputation":48173,"user_id":1741671,"accept_rate":86,"display_name":"Ajay S"},"score":0,"creation_date":1500878825,"post_id":45272573,"comment_id":77510943,"body_markdown":"@piet.t I see. I retracted my vote on this.","body":"@piet.t I see. I retracted my vote on this."}],"answers":[{"tags":[],"owner":{"account_id":5702266,"reputation":206,"user_id":4506881,"display_name":"Imran Ahmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500884514,"creation_date":1500884514,"answer_id":45275563,"question_id":45272573,"body_markdown":"I did the same thing using the below program and it is working fine:\r\n\r\n    public class ThreadExecutionTest {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tScheduledExecutorService executor=Executors.newScheduledThreadPool(2);\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tThreadExecutionTest test=new ThreadExecutionTest();\r\n\t\ttest.executeThread();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void executeThread() {\r\n\t\tRunnable task=()-&gt; System.out.println(&quot;executing thread &quot;+Thread.currentThread().getName() );\r\n\t\texecutor.scheduleAtFixedRate(task, 0, 1000, TimeUnit.MILLISECONDS);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n\r\nThe exception you are getting is OutofMemoryError as multiple thread are getting created after every second, so after sometime it&#39;s throwing this error.\r\nPlease check where you have declared &quot;val sPool = Executors.newScheduledThreadPool(2)!!&quot;, if this is declared inside method then remove it and declare it outside the method.(declare it in the class level). \r\n\r\n ","title":"java.lang.OutOfMemoryError: pthread_create (1040KB stack) failed: Try","body":"<p>I did the same thing using the below program and it is working fine:</p>\n\n<pre><code>public class ThreadExecutionTest {\n\n/**\n * @param args\n */\nScheduledExecutorService executor=Executors.newScheduledThreadPool(2);\n\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    ThreadExecutionTest test=new ThreadExecutionTest();\n    test.executeThread();\n\n}\n\npublic void executeThread() {\n    Runnable task=()-&gt; System.out.println(\"executing thread \"+Thread.currentThread().getName() );\n    executor.scheduleAtFixedRate(task, 0, 1000, TimeUnit.MILLISECONDS);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The exception you are getting is OutofMemoryError as multiple thread are getting created after every second, so after sometime it's throwing this error.\nPlease check where you have declared \"val sPool = Executors.newScheduledThreadPool(2)!!\", if this is declared inside method then remove it and declare it outside the method.(declare it in the class level). </p>\n"}],"owner":{"account_id":10471042,"reputation":57,"user_id":7718881,"display_name":"isicout"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3960,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659543344,"creation_date":1500870044,"question_id":45272573,"body_markdown":"when i invoke threadExecutor  method large  number \r\n\r\n\r\n\r\n      fun startAnimation(): Unit {\r\n\r\n        sPool.scheduleAtFixedRate(taskQu, 0, 1000, TimeUnit.MILLISECONDS)       \r\n    }\r\n\r\nit will cause this error prompt , `sPool` is java ThreadExecutors\r\n\r\n`val sPool = Executors.newScheduledThreadPool(2)!!`\r\n\r\n\r\nand `taskQu`is async timer task \r\n\r\n\r\n     val taskQu = object : TimerTask() {\r\n        override fun run() {\r\n\r\n            uihandler.obtainMessage().sendToTarget()\r\n\r\n        }\r\n    }\r\n\r\ni got this prompt\r\n\r\n\r\n\r\n    java.lang.OutOfMemoryError: pthread_create (1040KB stack) failed: Try again\r\n                                                                          at java.lang.Thread.nativeCreate(Native Method)\r\n                                                                          at java.lang.Thread.start(Thread.java:1063)\r\n                                                                          at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:921)\r\n                                                                          at java.util.concurrent.ThreadPoolExecutor.ensurePrestart(ThreadPoolExecutor.java:1556)\r\n                                                                          at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:310)\r\n                                                                          at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleAtFixedRate(ScheduledThreadPoolExecutor.java:567)\r\n\r\nso , where this problem about this issue  emerge?\r\n","title":"java.lang.OutOfMemoryError: pthread_create (1040KB stack) failed: Try","body":"<p>when i invoke threadExecutor  method large  number </p>\n\n<pre><code>  fun startAnimation(): Unit {\n\n    sPool.scheduleAtFixedRate(taskQu, 0, 1000, TimeUnit.MILLISECONDS)       \n}\n</code></pre>\n\n<p>it will cause this error prompt , <code>sPool</code> is java ThreadExecutors</p>\n\n<p><code>val sPool = Executors.newScheduledThreadPool(2)!!</code></p>\n\n<p>and <code>taskQu</code>is async timer task </p>\n\n<pre><code> val taskQu = object : TimerTask() {\n    override fun run() {\n\n        uihandler.obtainMessage().sendToTarget()\n\n    }\n}\n</code></pre>\n\n<p>i got this prompt</p>\n\n<pre><code>java.lang.OutOfMemoryError: pthread_create (1040KB stack) failed: Try again\n                                                                      at java.lang.Thread.nativeCreate(Native Method)\n                                                                      at java.lang.Thread.start(Thread.java:1063)\n                                                                      at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:921)\n                                                                      at java.util.concurrent.ThreadPoolExecutor.ensurePrestart(ThreadPoolExecutor.java:1556)\n                                                                      at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:310)\n                                                                      at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleAtFixedRate(ScheduledThreadPoolExecutor.java:567)\n</code></pre>\n\n<p>so , where this problem about this issue  emerge?</p>\n"},{"tags":["java","counter","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":8143755,"reputation":156,"user_id":6133008,"display_name":"Vitos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659542872,"creation_date":1659542872,"answer_id":73224467,"question_id":73153678,"body_markdown":"The right way to have metrics from your topology is to create Metrics consumer, which collects your programmatically defined stats from all Spouts and Bolts of your topology.\r\nTake look at the description in the [docs][1].\r\nYes, you need something to store your +1 data, like Redis, MySQL etc.\r\nIf you are not an experienced programmer take look at the great projects that use Storm like [StromCrawler][2]. This is a cool example of how to create own [metrics consumer for storing them in Mysql][3]\r\n\r\n\r\n  [1]: https://storm.apache.org/releases/current/Metrics.html\r\n  [2]: https://github.com/DigitalPebble/storm-crawler\r\n  [3]: https://github.com/DigitalPebble/storm-crawler/blob/master/external/sql/src/main/java/com/digitalpebble/stormcrawler/sql/metrics/MetricsConsumer.java","title":"Create counter in Storm Bolt","body":"<p>The right way to have metrics from your topology is to create Metrics consumer, which collects your programmatically defined stats from all Spouts and Bolts of your topology.\nTake look at the description in the <a href=\"https://storm.apache.org/releases/current/Metrics.html\" rel=\"nofollow noreferrer\">docs</a>.\nYes, you need something to store your +1 data, like Redis, MySQL etc.\nIf you are not an experienced programmer take look at the great projects that use Storm like <a href=\"https://github.com/DigitalPebble/storm-crawler\" rel=\"nofollow noreferrer\">StromCrawler</a>. This is a cool example of how to create own <a href=\"https://github.com/DigitalPebble/storm-crawler/blob/master/external/sql/src/main/java/com/digitalpebble/stormcrawler/sql/metrics/MetricsConsumer.java\" rel=\"nofollow noreferrer\">metrics consumer for storing them in Mysql</a></p>\n"}],"owner":{"account_id":15580857,"reputation":1,"user_id":19585183,"display_name":"Chris Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659542872,"creation_date":1659014409,"question_id":73153678,"body_markdown":"I tried to create a counter and count how many times I received the tuple in the bolt. But after doing this, :\r\n```\r\npublic class CounterBolt extends BaseRichBolt {\r\n    OutputCollector outputCollector;\r\n    int count;\r\n\r\n    @Override\r\n    public void prepare(Map&lt;String, Object&gt; topoConf, TopologyContext context, OutputCollector collector) {\r\n        outputCollector = collector;\r\n    }\r\n\r\n    @Override\r\n    public void execute(Tuple tuple) {\r\n        if (tuple.getSourceStreamId().equals(&quot;GotResult&quot;)) {\r\n            count++;\r\n        } else\r\n            System.out.println(count); //check count\r\n    }\r\n\r\n    @Override\r\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {}\r\n```\r\nI realise that `count` will become 0 because of new instance of `CounterBolt` is created every time in Storm topology.\r\n\r\nAn approach that I could think of is using an external storage to do this maybe using a database or message broker like Redis to store the counter. My Java knowledge is still not advanced level so is there any proper way to do this? ","title":"Create counter in Storm Bolt","body":"<p>I tried to create a counter and count how many times I received the tuple in the bolt. But after doing this, :</p>\n<pre><code>public class CounterBolt extends BaseRichBolt {\n    OutputCollector outputCollector;\n    int count;\n\n    @Override\n    public void prepare(Map&lt;String, Object&gt; topoConf, TopologyContext context, OutputCollector collector) {\n        outputCollector = collector;\n    }\n\n    @Override\n    public void execute(Tuple tuple) {\n        if (tuple.getSourceStreamId().equals(&quot;GotResult&quot;)) {\n            count++;\n        } else\n            System.out.println(count); //check count\n    }\n\n    @Override\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {}\n</code></pre>\n<p>I realise that <code>count</code> will become 0 because of new instance of <code>CounterBolt</code> is created every time in Storm topology.</p>\n<p>An approach that I could think of is using an external storage to do this maybe using a database or message broker like Redis to store the counter. My Java knowledge is still not advanced level so is there any proper way to do this?</p>\n"},{"tags":["java","hibernate","orm","second-level-cache"],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1659542608,"creation_date":1273769770,"answer_id":2828678,"question_id":2825436,"body_markdown":"Hibernate comes with three different caches: first level, second level and query cache.\r\n\r\nThe *first level cache* is the Hibernate Session and is used to track the state of entities during the current Session (or unit of work). This is a transaction-level cache.\r\n\r\nThe *second level cache* shares entity state across various Session. This is a SessionFactory-level cache.\r\n\r\nThe *query cache* is used to cache queries (and their parameters) and their results.\r\n\r\n\r\n\r\n### Recommended readings\r\n\r\n- [The Second Level Cache][5] in the documentation\r\n- [Hibernate: Truly Understanding the Second-Level and Query Caches][3]\r\n- [Understanding Caching in Hibernate â Part One : The Session Cache][2]\r\n- [Hibernate Caches][4]\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/performance.html#performance-cache\r\n  [2]: https://www.dynatrace.com/news/blog/\r\n  [3]: https://web.archive.org/web/20190719063218/https://www.javalobby.org/java/forums/t48846.html\r\n  [4]: https://acupof.blogspot.com/2008/01/background-hibernate-comes-with-three.html\r\n  [5]: https://docs.jboss.org/hibernate/core/3.3/reference/en/html/performance.html#performance-cache","title":"What is second level cache in hibernate?","body":"<p>Hibernate comes with three different caches: first level, second level and query cache.</p>\n<p>The <em>first level cache</em> is the Hibernate Session and is used to track the state of entities during the current Session (or unit of work). This is a transaction-level cache.</p>\n<p>The <em>second level cache</em> shares entity state across various Session. This is a SessionFactory-level cache.</p>\n<p>The <em>query cache</em> is used to cache queries (and their parameters) and their results.</p>\n<h3>Recommended readings</h3>\n<ul>\n<li><a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/performance.html#performance-cache\" rel=\"nofollow noreferrer\">The Second Level Cache</a> in the documentation</li>\n<li><a href=\"https://web.archive.org/web/20190719063218/https://www.javalobby.org/java/forums/t48846.html\" rel=\"nofollow noreferrer\">Hibernate: Truly Understanding the Second-Level and Query Caches</a></li>\n<li><a href=\"https://www.dynatrace.com/news/blog/\" rel=\"nofollow noreferrer\">Understanding Caching in Hibernate â Part One : The Session Cache</a></li>\n<li><a href=\"https://acupof.blogspot.com/2008/01/background-hibernate-comes-with-three.html\" rel=\"nofollow noreferrer\">Hibernate Caches</a></li>\n</ul>\n"}],"owner":{"account_id":612656,"reputation":281,"user_id":340086,"display_name":"paku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8050,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":1,"score":28,"last_activity_date":1659542608,"creation_date":1273740646,"question_id":2825436,"body_markdown":"What is second level cache in hibernate ?","title":"What is second level cache in hibernate?","body":"<p>What is second level cache in hibernate ?</p>\n"},{"tags":["java","spring","spring-boot","mockito","webrequest"],"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1659553956,"post_id":73224296,"comment_id":129324442,"body_markdown":"The preferred way of writing this is `when(webRequest.getDescription(false)).thenReturn(??)`, then your IDE&#39;s code hints (and the compiler) will tell you the type of the return value.","body":"The preferred way of writing this is <code>when(webRequest.getDescription(false)).thenReturn(??)</code>, then your IDE&#39;s code hints (and the compiler) will tell you the type of the return value."},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1659554059,"post_id":73224296,"comment_id":129324468,"body_markdown":"The documentation for `WebRequest.getDescription()` says that it returns a description and provides no further format requirements. It&#39;s a method to return a _human readable_ description of the request. You **shouldn&#39;t rely on its format** -- if you are testing that it is logged correctly or appears in an error message, then your mock should return an arbitrary string (a completely random one will do!) and check that it arrived wherever you wanted it to go.","body":"The documentation for <code>WebRequest.getDescription()</code> says that it returns a description and provides no further format requirements. It&#39;s a method to return a <i>human readable</i> description of the request. You <b>shouldn&#39;t rely on its format</b> -- if you are testing that it is logged correctly or appears in an error message, then your mock should return an arbitrary string (a completely random one will do!) and check that it arrived wherever you wanted it to go."}],"owner":{"account_id":8960804,"reputation":99,"user_id":6683538,"display_name":"src2012"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659542094,"creation_date":1659542094,"question_id":73224296,"body_markdown":"I&#39;m working with Spring Boot and Mockito in Java and need to know what the output of WebRequest&#39;s getDescription method looks like. I&#39;m trying to mock it as such:\r\n\r\n```\r\nWebRequest webRequest = mock(WebRequest.class);\r\ndoReturn(??).when(webRequest).getDescription(false); //What is the format of the return?\r\n...\r\n``` \r\nAny sample is fine, I just need something valid to output. Thank you!","title":"Mock WebRequest getDescription method","body":"<p>I'm working with Spring Boot and Mockito in Java and need to know what the output of WebRequest's getDescription method looks like. I'm trying to mock it as such:</p>\n<pre><code>WebRequest webRequest = mock(WebRequest.class);\ndoReturn(??).when(webRequest).getDescription(false); //What is the format of the return?\n...\n</code></pre>\n<p>Any sample is fine, I just need something valid to output. Thank you!</p>\n"},{"tags":["java","gradle","artifactory","android-gradle-7.0"],"answers":[{"tags":[],"owner":{"account_id":17106016,"reputation":460,"user_id":12378094,"display_name":"Yuvarajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659520275,"creation_date":1659520275,"answer_id":73219646,"question_id":73219369,"body_markdown":"From the error message, the issue appears to be with the class invocation. Adding the `apply plugin: &quot;com.jfrog.artifactory&quot;`[OR] turning the &#39;apply&#39; tag to `true` in the &quot;`com.jfrog.artifactory`&quot; section should help.","title":"Could not find method artifactory() [Gradle 7.+]","body":"<p>From the error message, the issue appears to be with the class invocation. Adding the <code>apply plugin: &quot;com.jfrog.artifactory&quot;</code>[OR] turning the 'apply' tag to <code>true</code> in the &quot;<code>com.jfrog.artifactory</code>&quot; section should help.</p>\n"}],"owner":{"account_id":6788459,"reputation":1126,"user_id":5226331,"accept_rate":85,"display_name":"iibrahimbakr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73219646,"answer_count":1,"score":1,"last_activity_date":1659541878,"creation_date":1659519003,"question_id":73219369,"body_markdown":"I am using Gradle 7.+ and we know its structure is different.\r\n\r\nNow how can setup `com.jfrog.artifactory` plugin on gradle 7.+?\r\n\r\nMy JFrog artifactory using legacy gradle installation !\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried to setup using gradle DSL &amp; legacy one, But I got the same issue `Could not find method artifactory()`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wRagA.png\r\n  [2]: https://i.stack.imgur.com/wgrlI.png\r\n\r\nAny Help?","title":"Could not find method artifactory() [Gradle 7.+]","body":"<p>I am using Gradle 7.+ and we know its structure is different.</p>\n<p>Now how can setup <code>com.jfrog.artifactory</code> plugin on gradle 7.+?</p>\n<p>My JFrog artifactory using legacy gradle installation !</p>\n<p><a href=\"https://i.stack.imgur.com/wRagA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRagA.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/wgrlI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgrlI.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to setup using gradle DSL &amp; legacy one, But I got the same issue <code>Could not find method artifactory()</code></p>\n<p>Any Help?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1659540568,"post_id":73223610,"comment_id":129319738,"body_markdown":"Incomplete code makes it difficult to help. Where `check` comes from? Where it is modified?","body":"Incomplete code makes it difficult to help. Where <code>check</code> comes from? Where it is modified?"},{"owner":{"account_id":2221445,"reputation":63,"user_id":1960719,"accept_rate":50,"display_name":"Taimoor"},"score":0,"creation_date":1659551763,"post_id":73223610,"comment_id":129323766,"body_markdown":"@Kozmotronik, Apologies. I have updated the code. Can you please have a look?","body":"@Kozmotronik, Apologies. I have updated the code. Can you please have a look?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1659553617,"post_id":73223610,"comment_id":129324339,"body_markdown":"Well, I can see that the author is used the `count` variable to control the visibility and value of textview. But what `check` is used for I didn&#39;t get it. I can also see that product adding to the card is controlled by `check` variable. But the number which `databaseAccess.addToCart()` method returns, plays an important role. Looks like it returns a state-like numbers about the operation. Can we see the `databaseAccess.addToCart()` method implementation?","body":"Well, I can see that the author is used the <code>count</code> variable to control the visibility and value of textview. But what <code>check</code> is used for I didn&#39;t get it. I can also see that product adding to the card is controlled by <code>check</code> variable. But the number which <code>databaseAccess.addToCart()</code> method returns, plays an important role. Looks like it returns a state-like numbers about the operation. Can we see the <code>databaseAccess.addToCart()</code> method implementation?"},{"owner":{"account_id":2221445,"reputation":63,"user_id":1960719,"accept_rate":50,"display_name":"Taimoor"},"score":0,"creation_date":1659554146,"post_id":73223610,"comment_id":129324499,"body_markdown":"```int check = databaseAccess.addToCart(product_id, product_weight, weight_unit_id, product_price, 1, product_stock);```\n\nthis is adding quantity 1 to the database. If I change the number 1 in above code to number 2, every item click will add 2 quantity of item in the cart. And I can not find databaseAccess.addToCart() in any other file.","body":"<code>int check = databaseAccess.addToCart(product_id, product_weight, weight_unit_id, product_price, 1, product_stock);</code>  this is adding quantity 1 to the database. If I change the number 1 in above code to number 2, every item click will add 2 quantity of item in the cart. And I can not find databaseAccess.addToCart() in any other file."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1659592692,"post_id":73223610,"comment_id":129331972,"body_markdown":"I see, this is tragic. Because that method is what we need to have a look since all saving operations is done in it. The value it returns is just a state indicating value. But what you want to do is to `addToCart` and then increase the quantity everytime the same item is clicked. Unfortunately all card operations are done in the `DatabaseAccess` class. So I won&#39;t be able to help in this case since I can&#39;t see its implementation.","body":"I see, this is tragic. Because that method is what we need to have a look since all saving operations is done in it. The value it returns is just a state indicating value. But what you want to do is to <code>addToCart</code> and then increase the quantity everytime the same item is clicked. Unfortunately all card operations are done in the <code>DatabaseAccess</code> class. So I won&#39;t be able to help in this case since I can&#39;t see its implementation."}],"owner":{"account_id":2221445,"reputation":63,"user_id":1960719,"accept_rate":50,"display_name":"Taimoor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659541584,"creation_date":1659538330,"question_id":73223610,"body_markdown":"I&#39;m trying to modify an app. Currently when an item is clicked it gets to the cart. But this click works only one time. If clicked second time it will show error as its programmed to do so. \r\n\r\nWhat I&#39;m trying to achieve is that Multiple clicks on an item should increase the quantity of item in the cart instead of giving error.  \r\n\r\n[![][1]][1]\r\n\r\n```\r\npackage com.app.smartpos.adapter;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Color;\r\nimport android.media.MediaPlayer;\r\nimport android.util.Base64;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.app.smartpos.R;\r\nimport com.app.smartpos.database.DatabaseAccess;\r\nimport com.app.smartpos.pos.PosActivity;\r\nimport com.app.smartpos.product.EditProductActivity;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport es.dmoral.toasty.Toasty;\r\n\r\npublic class PosProductAdapter extends RecyclerView.Adapter&lt;PosProductAdapter.MyViewHolder&gt; {\r\n\r\n\r\n    private List&lt;HashMap&lt;String, String&gt;&gt; productData;\r\n    private Context context;\r\n    MediaPlayer player;\r\n    public static int count;\r\n\r\n\r\n    public PosProductAdapter(Context context, List&lt;HashMap&lt;String, String&gt;&gt; productData) {\r\n        this.context = context;\r\n        this.productData = productData;\r\n        player = MediaPlayer.create(context, R.raw.delete_sound);\r\n\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public PosProductAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.pos_product_item, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final PosProductAdapter.MyViewHolder holder, int position) {\r\n\r\n        final DatabaseAccess databaseAccess = DatabaseAccess.getInstance(context);\r\n\r\n        databaseAccess.open();\r\n        String currency = databaseAccess.getCurrency();\r\n\r\n        final String product_id = productData.get(position).get(&quot;product_id&quot;);\r\n        String name = productData.get(position).get(&quot;product_name&quot;);\r\n        final String product_weight = productData.get(position).get(&quot;product_weight&quot;);\r\n        final String product_stock = productData.get(position).get(&quot;product_stock&quot;);\r\n        final String product_price = productData.get(position).get(&quot;product_sell_price&quot;);\r\n        final String weight_unit_id = productData.get(position).get(&quot;product_weight_unit_id&quot;);\r\n        String base64Image = productData.get(position).get(&quot;product_image&quot;);\r\n\r\n\r\n        databaseAccess.open();\r\n        final String weight_unit_name = databaseAccess.getWeightUnitName(weight_unit_id);\r\n\r\n        holder.txtProductName.setText(name);\r\n\r\n        //Low stock marked as RED color\r\n        int getStock=Integer.parseInt(product_stock);\r\n        if (getStock&gt;5) {\r\n            holder.txtStock.setText(context.getString(R.string.stock) + &quot; : &quot; + product_stock);\r\n        }\r\n        else\r\n        {\r\n            holder.txtStock.setText(context.getString(R.string.stock) + &quot; : &quot; + product_stock);\r\n            holder.txtStock.setTextColor(Color.RED);\r\n\r\n        }\r\n        holder.txtWeight.setText(product_weight + &quot; &quot; + weight_unit_name);\r\n        holder.txtPrice.setText(currency + product_price);\r\n\r\n\r\n        holder.cardProduct.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n\r\n                if (getStock&lt;=0)\r\n                {\r\n\r\n                    Toasty.warning(context, R.string.stock_is_low_please_update_stock, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n\r\n                    Log.d(&quot;w_id&quot;, weight_unit_id);\r\n                    databaseAccess.open();\r\n\r\n\r\n                    int check = databaseAccess.addToCart(product_id, product_weight, weight_unit_id, product_price, 1, product_stock);\r\n\r\n                    databaseAccess.open();\r\n                    int count=databaseAccess.getCartItemCount();\r\n                    if (count==0)\r\n                    {\r\n                        PosActivity.txtCount.setVisibility(View.INVISIBLE);\r\n                    }\r\n                    else\r\n                    {\r\n                        PosActivity. txtCount.setVisibility(View.VISIBLE);\r\n                        PosActivity.txtCount.setText(String.valueOf(count));\r\n                    }\r\n\r\n                    if (check == 1) {\r\n                        Toasty.success(context, R.string.product_added_to_cart, Toast.LENGTH_SHORT).show();\r\n                        player.start();\r\n                    } else if (check == 2) {\r\n\r\n                        Toasty.info(context, R.string.product_already_added_to_cart, Toast.LENGTH_SHORT).show();\r\n\r\n                    } else {\r\n                        Toasty.error(context, R.string.product_added_to_cart_failed_try_again, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n        if (base64Image != null) {\r\n            if (base64Image.length() &lt; 6) {\r\n                Log.d(&quot;64base&quot;, base64Image);\r\n                holder.product_image.setImageResource(R.drawable.image_placeholder);\r\n                holder.product_image.setScaleType(ImageView.ScaleType.FIT_CENTER);\r\n            } else {\r\n\r\n\r\n                byte[] bytes = Base64.decode(base64Image, Base64.DEFAULT);\r\n                holder.product_image.setImageBitmap(BitmapFactory.decodeByteArray(bytes, 0, bytes.length));\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return productData.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        CardView cardProduct;\r\n        TextView txtProductName,txtStock, txtWeight, txtPrice;\r\n\r\n        //Button btnAddToCart;\r\n        ImageView product_image;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            txtProductName = itemView.findViewById(R.id.txt_product_name);\r\n            txtWeight = itemView.findViewById(R.id.txt_weight);\r\n            txtPrice = itemView.findViewById(R.id.txt_price);\r\n            txtStock = itemView.findViewById(R.id.txt_stock);\r\n            product_image = itemView.findViewById(R.id.img_product);\r\n            cardProduct=itemView.findViewById(R.id.card_product);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nCurrently increase or decrease quantity option is only on the cart page. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N0l5r.png","title":"Click Item to Increase Quantity in Cart - Android POS App - Java","body":"<p>I'm trying to modify an app. Currently when an item is clicked it gets to the cart. But this click works only one time. If clicked second time it will show error as its programmed to do so.</p>\n<p>What I'm trying to achieve is that Multiple clicks on an item should increase the quantity of item in the cart instead of giving error.</p>\n<p><a href=\"https://i.stack.imgur.com/N0l5r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N0l5r.png\" alt=\"\" /></a></p>\n<pre><code>package com.app.smartpos.adapter;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Color;\nimport android.media.MediaPlayer;\nimport android.util.Base64;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.app.smartpos.R;\nimport com.app.smartpos.database.DatabaseAccess;\nimport com.app.smartpos.pos.PosActivity;\nimport com.app.smartpos.product.EditProductActivity;\n\nimport java.text.DecimalFormat;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport es.dmoral.toasty.Toasty;\n\npublic class PosProductAdapter extends RecyclerView.Adapter&lt;PosProductAdapter.MyViewHolder&gt; {\n\n\n    private List&lt;HashMap&lt;String, String&gt;&gt; productData;\n    private Context context;\n    MediaPlayer player;\n    public static int count;\n\n\n    public PosProductAdapter(Context context, List&lt;HashMap&lt;String, String&gt;&gt; productData) {\n        this.context = context;\n        this.productData = productData;\n        player = MediaPlayer.create(context, R.raw.delete_sound);\n\n    }\n\n\n    @NonNull\n    @Override\n    public PosProductAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.pos_product_item, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull final PosProductAdapter.MyViewHolder holder, int position) {\n\n        final DatabaseAccess databaseAccess = DatabaseAccess.getInstance(context);\n\n        databaseAccess.open();\n        String currency = databaseAccess.getCurrency();\n\n        final String product_id = productData.get(position).get(&quot;product_id&quot;);\n        String name = productData.get(position).get(&quot;product_name&quot;);\n        final String product_weight = productData.get(position).get(&quot;product_weight&quot;);\n        final String product_stock = productData.get(position).get(&quot;product_stock&quot;);\n        final String product_price = productData.get(position).get(&quot;product_sell_price&quot;);\n        final String weight_unit_id = productData.get(position).get(&quot;product_weight_unit_id&quot;);\n        String base64Image = productData.get(position).get(&quot;product_image&quot;);\n\n\n        databaseAccess.open();\n        final String weight_unit_name = databaseAccess.getWeightUnitName(weight_unit_id);\n\n        holder.txtProductName.setText(name);\n\n        //Low stock marked as RED color\n        int getStock=Integer.parseInt(product_stock);\n        if (getStock&gt;5) {\n            holder.txtStock.setText(context.getString(R.string.stock) + &quot; : &quot; + product_stock);\n        }\n        else\n        {\n            holder.txtStock.setText(context.getString(R.string.stock) + &quot; : &quot; + product_stock);\n            holder.txtStock.setTextColor(Color.RED);\n\n        }\n        holder.txtWeight.setText(product_weight + &quot; &quot; + weight_unit_name);\n        holder.txtPrice.setText(currency + product_price);\n\n\n        holder.cardProduct.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n\n\n                if (getStock&lt;=0)\n                {\n\n                    Toasty.warning(context, R.string.stock_is_low_please_update_stock, Toast.LENGTH_SHORT).show();\n                }\n                else {\n\n                    Log.d(&quot;w_id&quot;, weight_unit_id);\n                    databaseAccess.open();\n\n\n                    int check = databaseAccess.addToCart(product_id, product_weight, weight_unit_id, product_price, 1, product_stock);\n\n                    databaseAccess.open();\n                    int count=databaseAccess.getCartItemCount();\n                    if (count==0)\n                    {\n                        PosActivity.txtCount.setVisibility(View.INVISIBLE);\n                    }\n                    else\n                    {\n                        PosActivity. txtCount.setVisibility(View.VISIBLE);\n                        PosActivity.txtCount.setText(String.valueOf(count));\n                    }\n\n                    if (check == 1) {\n                        Toasty.success(context, R.string.product_added_to_cart, Toast.LENGTH_SHORT).show();\n                        player.start();\n                    } else if (check == 2) {\n\n                        Toasty.info(context, R.string.product_already_added_to_cart, Toast.LENGTH_SHORT).show();\n\n                    } else {\n                        Toasty.error(context, R.string.product_added_to_cart_failed_try_again, Toast.LENGTH_SHORT).show();\n\n                    }\n\n                }\n            }\n\n\n        });\n\n\n        if (base64Image != null) {\n            if (base64Image.length() &lt; 6) {\n                Log.d(&quot;64base&quot;, base64Image);\n                holder.product_image.setImageResource(R.drawable.image_placeholder);\n                holder.product_image.setScaleType(ImageView.ScaleType.FIT_CENTER);\n            } else {\n\n\n                byte[] bytes = Base64.decode(base64Image, Base64.DEFAULT);\n                holder.product_image.setImageBitmap(BitmapFactory.decodeByteArray(bytes, 0, bytes.length));\n\n            }\n        }\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return productData.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        CardView cardProduct;\n        TextView txtProductName,txtStock, txtWeight, txtPrice;\n\n        //Button btnAddToCart;\n        ImageView product_image;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            txtProductName = itemView.findViewById(R.id.txt_product_name);\n            txtWeight = itemView.findViewById(R.id.txt_weight);\n            txtPrice = itemView.findViewById(R.id.txt_price);\n            txtStock = itemView.findViewById(R.id.txt_stock);\n            product_image = itemView.findViewById(R.id.img_product);\n            cardProduct=itemView.findViewById(R.id.card_product);\n\n        }\n    }\n\n}\n\n</code></pre>\n<p>Currently increase or decrease quantity option is only on the cart page.</p>\n"},{"tags":["java","maven","code-formatting","maven-bom"],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659541555,"creation_date":1659536133,"question_id":73223112,"body_markdown":"I have a project `Project C` which has a dependency on the Maven&#39;s Bill of Materials (BOM) parent project `Project P`. The parent project `Project P` contains some of the code styles.\r\n\r\nI do not which to apply these code styles to my child project `Project C` due to which when I run the `mvn clean install` on the child project `Project C`, I get the error:\r\n\r\n```\r\n[ERROR] Failed to execute goal com.cosium.code:git-code-format-maven-plugin:3.4:validate-code-format (validate-code-format) on project project-c: Execution validate-code-format of goal com.cosium.code:git-code-format-maven-plugin:3.4:validate-code-format failed: \r\nAn API incompatibility was encountered while executing com.cosium.code:git-code-format-maven-plugin:3.4:validate-code-format: java.lang.IllegalAccessError: class com.google.googlejavaformat.java.JavaInput (in unnamed module @0x4a320414) \r\ncannot access class com.sun.tools.javac.parser.Tokens$TokenKind (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.parser to unnamed module @0x4a320414\r\n```\r\n\r\nI would like to turn off the checkstyle option in maven and would like to build the project. How to achieve this?\r\n\r\nI looked at some answers like:\r\n```\r\n&lt;skip&gt;${skipFormatCode}&lt;/skip&gt;\r\n```\r\n\r\nbut nothing seems to work and getting the same error. Please suggest some work-arounds to this issue.","title":"maven build fails due to validate-code-format, is there a way to skip the format validation?","body":"<p>I have a project <code>Project C</code> which has a dependency on the Maven's Bill of Materials (BOM) parent project <code>Project P</code>. The parent project <code>Project P</code> contains some of the code styles.</p>\n<p>I do not which to apply these code styles to my child project <code>Project C</code> due to which when I run the <code>mvn clean install</code> on the child project <code>Project C</code>, I get the error:</p>\n<pre><code>[ERROR] Failed to execute goal com.cosium.code:git-code-format-maven-plugin:3.4:validate-code-format (validate-code-format) on project project-c: Execution validate-code-format of goal com.cosium.code:git-code-format-maven-plugin:3.4:validate-code-format failed: \nAn API incompatibility was encountered while executing com.cosium.code:git-code-format-maven-plugin:3.4:validate-code-format: java.lang.IllegalAccessError: class com.google.googlejavaformat.java.JavaInput (in unnamed module @0x4a320414) \ncannot access class com.sun.tools.javac.parser.Tokens$TokenKind (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.parser to unnamed module @0x4a320414\n</code></pre>\n<p>I would like to turn off the checkstyle option in maven and would like to build the project. How to achieve this?</p>\n<p>I looked at some answers like:</p>\n<pre><code>&lt;skip&gt;${skipFormatCode}&lt;/skip&gt;\n</code></pre>\n<p>but nothing seems to work and getting the same error. Please suggest some work-arounds to this issue.</p>\n"},{"tags":["java","android","android-fragments","android-activity","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":25967690,"reputation":1,"user_id":19683421,"display_name":"agl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659541523,"creation_date":1659541523,"answer_id":73224171,"question_id":73222781,"body_markdown":"I solved this issue like this:\r\n\r\nI added this function to the main activity:\r\n\r\n    public void navigateToHpCalc()\r\n        {\r\n            View view = binding.navView.findViewById(R.id.nav_hpfragment);\r\n            view.callOnClick();\r\n        }\r\n\r\nI called this function in the fragment like this:\r\n\r\n    View.OnClickListener onGoToHpFragmentListener = new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    MainActivity fa = (MainActivity)getActivity();\r\n                    fa.navigateToHpCalc();\r\n                }\r\n            };\r\n\r\nFull code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private AppBarConfiguration mAppBarConfiguration;\r\n        private ActivityMainBinding binding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            setSupportActionBar(binding.appBarMain.toolbar);\r\n            binding.appBarMain.fab.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                            .setAction(&quot;Action&quot;, null).show();\r\n                }\r\n            });\r\n            DrawerLayout drawer = binding.drawerLayout;\r\n            NavigationView navigationView = binding.navView;\r\n            // Passing each menu ID as a set of Ids because each\r\n            // menu should be considered as top level destinations.\r\n            mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.nav_home, R.id.nav_hpfragment, R.id.nav_gallery, R.id.nav_slideshow)\r\n                    .setOpenableLayout(drawer)\r\n                    .build();\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n            NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n            NavigationUI.setupWithNavController(navigationView, navController);\r\n    \r\n    \r\n        }\r\n    \r\n        public void navigateToHpCalc()\r\n        {\r\n            View view = binding.navView.findViewById(R.id.nav_hpfragment);\r\n            view.callOnClick();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onSupportNavigateUp() {\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n            return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                    || super.onSupportNavigateUp();\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public class HomeFragment extends Fragment {\r\n    \r\n        private FragmentHomeBinding binding;\r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n        {\r\n            HomeViewModel homeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\r\n    \r\n            binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            final TextView textView = binding.textHome;\r\n            final Button btn = binding.btnGotoDensityAlt;\r\n    \r\n            homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n    \r\n    \r\n            View.OnClickListener onGoToHpFragmentListener = new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    MainActivity fa = (MainActivity)getActivity();\r\n                    fa.navigateToHpCalc();\r\n                }\r\n            };\r\n    \r\n            View.OnClickListener onGoToGallery = new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //Navigation.findNavController(root).navigate(R.id.action_nav_home_to_nav_gallery);\r\n                }\r\n            };\r\n            binding.btnGotoDensityAlt.setOnClickListener(onGoToHpFragmentListener);\r\n            binding.btnGoToGallery.setOnClickListener(onGoToGallery);\r\n    \r\n    \r\n            return root;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n    }\r\n\r\nI am stil not sure this is the best practice way to do it though.","title":"Android Navigation Drawer Activity call Click event from Fragment","body":"<p>I solved this issue like this:</p>\n<p>I added this function to the main activity:</p>\n<pre><code>public void navigateToHpCalc()\n    {\n        View view = binding.navView.findViewById(R.id.nav_hpfragment);\n        view.callOnClick();\n    }\n</code></pre>\n<p>I called this function in the fragment like this:</p>\n<pre><code>View.OnClickListener onGoToHpFragmentListener = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                MainActivity fa = (MainActivity)getActivity();\n                fa.navigateToHpCalc();\n            }\n        };\n</code></pre>\n<p>Full code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration mAppBarConfiguration;\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        setSupportActionBar(binding.appBarMain.toolbar);\n        binding.appBarMain.fab.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n        DrawerLayout drawer = binding.drawerLayout;\n        NavigationView navigationView = binding.navView;\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_hpfragment, R.id.nav_gallery, R.id.nav_slideshow)\n                .setOpenableLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n\n\n    }\n\n    public void navigateToHpCalc()\n    {\n        View view = binding.navView.findViewById(R.id.nav_hpfragment);\n        view.callOnClick();\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n    {\n        HomeViewModel homeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textHome;\n        final Button btn = binding.btnGotoDensityAlt;\n\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n\n\n        View.OnClickListener onGoToHpFragmentListener = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                MainActivity fa = (MainActivity)getActivity();\n                fa.navigateToHpCalc();\n            }\n        };\n\n        View.OnClickListener onGoToGallery = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //Navigation.findNavController(root).navigate(R.id.action_nav_home_to_nav_gallery);\n            }\n        };\n        binding.btnGotoDensityAlt.setOnClickListener(onGoToHpFragmentListener);\n        binding.btnGoToGallery.setOnClickListener(onGoToGallery);\n\n\n        return root;\n    }\n\n\n\n\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p>I am stil not sure this is the best practice way to do it though.</p>\n"}],"owner":{"account_id":25967690,"reputation":1,"user_id":19683421,"display_name":"agl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73224171,"answer_count":1,"score":0,"last_activity_date":1659541523,"creation_date":1659534343,"question_id":73222781,"body_markdown":"I created a Navigation Drawer Activity project in Android Studio and added some Fragments. Navigating through them works fine.\r\n\r\nNow in the main fragment, I want to add some buttons that will take the user to some of the fragments, where the user would otherwise need to navigate to through the drawer menu. In other words, when the user opens the app, he should have the option to navigate to some fragments without opening the drawer menu. But I can&#39;t get it to work. \r\n\r\nThe closest I have come so far is with the following code in the main activity. However, this only works once. When I navigate to other fragments and go back to the main fragment, it will not work anymore. Clicking on the button should do the same as if the user navigated through the drawer menu.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private AppBarConfiguration mAppBarConfiguration;\r\n        private ActivityMainBinding binding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            setSupportActionBar(binding.appBarMain.toolbar);\r\n            binding.appBarMain.fab.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                            .setAction(&quot;Action&quot;, null).show();\r\n                }\r\n            });\r\n            DrawerLayout drawer = binding.drawerLayout;\r\n            NavigationView navigationView = binding.navView;\r\n            // Passing each menu ID as a set of Ids because each\r\n            // menu should be considered as top level destinations.\r\n            mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.nav_home, R.id.nav_hpfragment, R.id.nav_gallery, R.id.nav_slideshow)\r\n                    .setOpenableLayout(drawer)\r\n                    .build();\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n            NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n            NavigationUI.setupWithNavController(navigationView, navController);\r\n    \r\n            Button btnTest = binding.getRoot().findViewById(R.id.btnGotoDensityAlt);\r\n            View.OnClickListener cl = new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    View x = navigationView.findViewById(R.id.nav_hpfragment);\r\n                    x.callOnClick();\r\n                }\r\n            };\r\n            btnTest.setOnClickListener(cl);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onSupportNavigateUp() {\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n            return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                    || super.onSupportNavigateUp();\r\n        }\r\n    }\r\n\r\nWhat is the correct way to do this?","title":"Android Navigation Drawer Activity call Click event from Fragment","body":"<p>I created a Navigation Drawer Activity project in Android Studio and added some Fragments. Navigating through them works fine.</p>\n<p>Now in the main fragment, I want to add some buttons that will take the user to some of the fragments, where the user would otherwise need to navigate to through the drawer menu. In other words, when the user opens the app, he should have the option to navigate to some fragments without opening the drawer menu. But I can't get it to work.</p>\n<p>The closest I have come so far is with the following code in the main activity. However, this only works once. When I navigate to other fragments and go back to the main fragment, it will not work anymore. Clicking on the button should do the same as if the user navigated through the drawer menu.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration mAppBarConfiguration;\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        setSupportActionBar(binding.appBarMain.toolbar);\n        binding.appBarMain.fab.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n        DrawerLayout drawer = binding.drawerLayout;\n        NavigationView navigationView = binding.navView;\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_hpfragment, R.id.nav_gallery, R.id.nav_slideshow)\n                .setOpenableLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n\n        Button btnTest = binding.getRoot().findViewById(R.id.btnGotoDensityAlt);\n        View.OnClickListener cl = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                View x = navigationView.findViewById(R.id.nav_hpfragment);\n                x.callOnClick();\n            }\n        };\n        btnTest.setOnClickListener(cl);\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n}\n</code></pre>\n<p>What is the correct way to do this?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":5881578,"reputation":884,"user_id":4630749,"accept_rate":45,"display_name":"Deepesh kumar Gupta"},"score":0,"creation_date":1659537083,"post_id":73223268,"comment_id":129318681,"body_markdown":"can I see the Movie class?","body":"can I see the Movie class?"},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1659537140,"post_id":73223268,"comment_id":129318705,"body_markdown":"The JSON is a  list of type `Movie`?","body":"The JSON is a  list of type <code>Movie</code>?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1659537216,"post_id":73223268,"comment_id":129318746,"body_markdown":"@Albert, you have list of `Movie` &amp;  you might need to define `items` in another class which can hold these list of `Movie`","body":"@Albert, you have list of <code>Movie</code> &amp;  you might need to define <code>items</code> in another class which can hold these list of <code>Movie</code>"},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1659537224,"post_id":73223268,"comment_id":129318752,"body_markdown":"Duplicate here: https://stackoverflow.com/questions/24305341/parsing-a-list-of-objects-with-jackson","body":"Duplicate here: <a href=\"https://stackoverflow.com/questions/24305341/parsing-a-list-of-objects-with-jackson\" title=\"parsing a list of objects with jackson\">stackoverflow.com/questions/24305341/&hellip;</a>"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1659537230,"post_id":73223268,"comment_id":129318755,"body_markdown":"Please [edit] the question to add the `Movie` class (instead of adding it to the comments) - it&#39;s very hard to read code from the comment section","body":"Please <a href=\"https://stackoverflow.com/posts/73223268/edit\">edit</a> the question to add the <code>Movie</code> class (instead of adding it to the comments) - it&#39;s very hard to read code from the comment section"},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1659537241,"post_id":73223268,"comment_id":129318760,"body_markdown":"You can parse out a list of them","body":"You can parse out a list of them"},{"owner":{"account_id":25968236,"reputation":1,"user_id":19683891,"display_name":"Albert"},"score":0,"creation_date":1659537532,"post_id":73223268,"comment_id":129318875,"body_markdown":"@DeepeshkumarGupta  I added the movie class in the question.","body":"@DeepeshkumarGupta  I added the movie class in the question."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1659537840,"post_id":73223268,"comment_id":129319019,"body_markdown":"@Albert Have you looked at the dupe?","body":"@Albert Have you looked at the dupe?"},{"owner":{"account_id":25968236,"reputation":1,"user_id":19683891,"display_name":"Albert"},"score":0,"creation_date":1659540372,"post_id":73223268,"comment_id":129319665,"body_markdown":"I tried the solution at the duplicated @DaveNewton, the error is the question","body":"I tried the solution at the duplicated @DaveNewton, the error is the question"},{"owner":{"account_id":25968236,"reputation":1,"user_id":19683891,"display_name":"Albert"},"score":0,"creation_date":1659540440,"post_id":73223268,"comment_id":129319689,"body_markdown":"@ShavkwithaHoon, I tried making another class, and I got a similar error.\nDo you have any tutorial to parse out a list of them?","body":"@ShavkwithaHoon, I tried making another class, and I got a similar error. Do you have any tutorial to parse out a list of them?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1659540528,"post_id":73223268,"comment_id":129319722,"body_markdown":"@Albert The list is at `items`, not at the root.","body":"@Albert The list is at <code>items</code>, not at the root."}],"owner":{"account_id":25968236,"reputation":1,"user_id":19683891,"display_name":"Albert"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659540452,"creation_date":1659536888,"question_id":73223268,"body_markdown":"I want to transform a json file to an array of objects with its information using jackson and Java. The Json File is\r\n\r\n    {&quot;items&quot;:[{&quot;id&quot;:&quot;tt0111161&quot;,&quot;rank&quot;:&quot;1&quot;,&quot;title&quot;:&quot;The Shawshank Redemption&quot;,&quot;fullTitle&quot;:&quot;The Shawshank Redemption (1994)&quot;,&quot;year&quot;:&quot;1994&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Frank Darabont (dir.), Tim Robbins, Morgan Freeman&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;2619254&quot;},{&quot;id&quot;:&quot;tt0068646&quot;,&quot;rank&quot;:&quot;2&quot;,&quot;title&quot;:&quot;The Godfather&quot;,&quot;fullTitle&quot;:&quot;The Godfather (1972)&quot;,&quot;year&quot;:&quot;1972&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Francis Ford Coppola (dir.), Marlon Brando, Al Pacino&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;1813829&quot;},....\r\n\r\n\r\nMy code is like this:\r\n\r\n    final var json= top150Json;\r\n    final var objectMapper = new ObjectMapper();\r\n    final var movies = objectMapper.readValue(json, new TypeReference&lt;Movie&gt;() {});\r\n\r\n\r\nThe movie Class is like this:\r\n\r\n    public class Movie {\r\n\r\n    private String id;\r\n    private int rank;\r\n    private String title;\r\n    private String fullTitle;\r\n    private int year;\r\n    private String image;\r\n    private String crew;\r\n    private int imDbRating;\r\n    private int imdDRatingCount;\r\n\r\n    public Movie() {\r\n        this.id=null;\r\n        this.rank= -1;\r\n        this.title=null;\r\n        this.fullTitle=null;\r\n        this.year = 0;\r\n        this.image =null;\r\n        this.crew=null;\r\n        this.imDbRating =0;\r\n        this.imdDRatingCount =-1;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getRank() {\r\n        return rank;\r\n    }\r\n\r\n    public void setRank(int rank) {\r\n        this.rank = rank;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getFullTitle() {\r\n        return fullTitle;\r\n    }\r\n\r\n    public void setFullTitle(String fullTitle) {\r\n        this.fullTitle = fullTitle;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getCrew() {\r\n        return crew;\r\n    }\r\n\r\n    public void setCrew(String crew) {\r\n        this.crew = crew;\r\n    }\r\n\r\n    public int getImDbRating() {\r\n        return imDbRating;\r\n    }\r\n\r\n    public void setImDbRating(int imDbRating) {\r\n        this.imDbRating = imDbRating;\r\n    }\r\n\r\n    public int getImdDRatingCount() {\r\n        return imdDRatingCount;\r\n    }\r\n\r\n    public void setImdDRatingCount(int imdDRatingCount) {\r\n        this.imdDRatingCount = imdDRatingCount;\r\n    }\r\n}\r\n\r\n\r\nI get several errors and I think I have to parse only movies from the JSON file, that are inside the items and get something like this: \r\n\r\n    {&quot;id&quot;:&quot;tt0111161&quot;,&quot;rank&quot;:&quot;1&quot;,&quot;title&quot;:&quot;The Shawshank Redemption&quot;,&quot;fullTitle&quot;:&quot;The Shawshank Redemption (1994)&quot;,&quot;year&quot;:&quot;1994&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Frank Darabont (dir.), Tim Robbins, Morgan Freeman&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;2619254&quot;},{&quot;id&quot;:&quot;tt0068646&quot;,&quot;rank&quot;:&quot;2&quot;,&quot;title&quot;:&quot;The Godfather&quot;,&quot;fullTitle&quot;:&quot;The Godfather (1972)&quot;,&quot;year&quot;:&quot;1972&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Francis Ford Coppola (dir.), Marlon Brando, Al Pacino&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;1813829&quot;},....\r\n\r\nSomeone know how to do it?\r\n\r\n\r\nthe errors I get are below:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;items&quot; (class Movie), not marked as ignorable (9 known properties: &quot;crew&quot;, &quot;title&quot;, &quot;fullTitle&quot;, &quot;id&quot;, &quot;rank&quot;, &quot;year&quot;, &quot;imdDRatingCount&quot;, &quot;imDbRating&quot;, &quot;image&quot;])\r\n     at [Source: (StringReader); line: 1, column: 11] (through reference chain: Movie[&quot;items&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:319)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:176)\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3612)\r\n    \tat Main.main(Main.java:26)\r\n\r\n\r\n\r\nI checked the duplicated problem and  tried \r\n\r\n     List&lt;Movie&gt; movies = new ObjectMapper().readValue(json, CollectionType.construct(List.class,SimpleType.construct(Movie.class)));\r\n\r\nand got the following error:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;Movie&gt;` from Object value (token `JsonToken.START_OBJECT`)\r\n     at [Source: (StringReader); line: 1, column: 1]\r\n    \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:392)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:252)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)","title":"Converting Json File to Java Objects","body":"<p>I want to transform a json file to an array of objects with its information using jackson and Java. The Json File is</p>\n<pre><code>{&quot;items&quot;:[{&quot;id&quot;:&quot;tt0111161&quot;,&quot;rank&quot;:&quot;1&quot;,&quot;title&quot;:&quot;The Shawshank Redemption&quot;,&quot;fullTitle&quot;:&quot;The Shawshank Redemption (1994)&quot;,&quot;year&quot;:&quot;1994&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Frank Darabont (dir.), Tim Robbins, Morgan Freeman&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;2619254&quot;},{&quot;id&quot;:&quot;tt0068646&quot;,&quot;rank&quot;:&quot;2&quot;,&quot;title&quot;:&quot;The Godfather&quot;,&quot;fullTitle&quot;:&quot;The Godfather (1972)&quot;,&quot;year&quot;:&quot;1972&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Francis Ford Coppola (dir.), Marlon Brando, Al Pacino&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;1813829&quot;},....\n</code></pre>\n<p>My code is like this:</p>\n<pre><code>final var json= top150Json;\nfinal var objectMapper = new ObjectMapper();\nfinal var movies = objectMapper.readValue(json, new TypeReference&lt;Movie&gt;() {});\n</code></pre>\n<p>The movie Class is like this:</p>\n<pre><code>public class Movie {\n\nprivate String id;\nprivate int rank;\nprivate String title;\nprivate String fullTitle;\nprivate int year;\nprivate String image;\nprivate String crew;\nprivate int imDbRating;\nprivate int imdDRatingCount;\n\npublic Movie() {\n    this.id=null;\n    this.rank= -1;\n    this.title=null;\n    this.fullTitle=null;\n    this.year = 0;\n    this.image =null;\n    this.crew=null;\n    this.imDbRating =0;\n    this.imdDRatingCount =-1;\n}\n\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic int getRank() {\n    return rank;\n}\n\npublic void setRank(int rank) {\n    this.rank = rank;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic String getFullTitle() {\n    return fullTitle;\n}\n\npublic void setFullTitle(String fullTitle) {\n    this.fullTitle = fullTitle;\n}\n\npublic int getYear() {\n    return year;\n}\n\npublic void setYear(int year) {\n    this.year = year;\n}\n\npublic String getImage() {\n    return image;\n}\n\npublic void setImage(String image) {\n    this.image = image;\n}\n\npublic String getCrew() {\n    return crew;\n}\n\npublic void setCrew(String crew) {\n    this.crew = crew;\n}\n\npublic int getImDbRating() {\n    return imDbRating;\n}\n\npublic void setImDbRating(int imDbRating) {\n    this.imDbRating = imDbRating;\n}\n\npublic int getImdDRatingCount() {\n    return imdDRatingCount;\n}\n\npublic void setImdDRatingCount(int imdDRatingCount) {\n    this.imdDRatingCount = imdDRatingCount;\n}\n</code></pre>\n<p>}</p>\n<p>I get several errors and I think I have to parse only movies from the JSON file, that are inside the items and get something like this:</p>\n<pre><code>{&quot;id&quot;:&quot;tt0111161&quot;,&quot;rank&quot;:&quot;1&quot;,&quot;title&quot;:&quot;The Shawshank Redemption&quot;,&quot;fullTitle&quot;:&quot;The Shawshank Redemption (1994)&quot;,&quot;year&quot;:&quot;1994&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Frank Darabont (dir.), Tim Robbins, Morgan Freeman&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;2619254&quot;},{&quot;id&quot;:&quot;tt0068646&quot;,&quot;rank&quot;:&quot;2&quot;,&quot;title&quot;:&quot;The Godfather&quot;,&quot;fullTitle&quot;:&quot;The Godfather (1972)&quot;,&quot;year&quot;:&quot;1972&quot;,&quot;image&quot;:&quot;https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_UX128_CR0,12,128,176_AL_.jpg&quot;,&quot;crew&quot;:&quot;Francis Ford Coppola (dir.), Marlon Brando, Al Pacino&quot;,&quot;imDbRating&quot;:&quot;9.2&quot;,&quot;imDbRatingCount&quot;:&quot;1813829&quot;},....\n</code></pre>\n<p>Someone know how to do it?</p>\n<p>the errors I get are below:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;items&quot; (class Movie), not marked as ignorable (9 known properties: &quot;crew&quot;, &quot;title&quot;, &quot;fullTitle&quot;, &quot;id&quot;, &quot;rank&quot;, &quot;year&quot;, &quot;imdDRatingCount&quot;, &quot;imDbRating&quot;, &quot;image&quot;])\n at [Source: (StringReader); line: 1, column: 11] (through reference chain: Movie[&quot;items&quot;])\n    at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:319)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:176)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3612)\n    at Main.main(Main.java:26)\n</code></pre>\n<p>I checked the duplicated problem and  tried</p>\n<pre><code> List&lt;Movie&gt; movies = new ObjectMapper().readValue(json, CollectionType.construct(List.class,SimpleType.construct(Movie.class)));\n</code></pre>\n<p>and got the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;Movie&gt;` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (StringReader); line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:392)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:252)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n</code></pre>\n"},{"tags":["java","animation","javafx","transition","hbox"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1659533388,"post_id":73222520,"comment_id":129317444,"body_markdown":"This is incomprehensible. Create and post a [mre]. Didn&#39;t you already ask this question?","body":"This is incomprehensible. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Didn&#39;t you already ask this question?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659535999,"post_id":73222520,"comment_id":129318206,"body_markdown":"It seems like you should be starting the next transition from the previous transitionâs `onFinished` handler, instead of trying to compute the entire process in a `SequentialTransition`. But the question really isnât clear enough (to me, at least) to be able to answer it.","body":"It seems like you should be starting the next transition from the previous transitionâs <code>onFinished</code> handler, instead of trying to compute the entire process in a <code>SequentialTransition</code>. But the question really isnât clear enough (to me, at least) to be able to answer it."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1659536364,"post_id":73222520,"comment_id":129318362,"body_markdown":"@James_D: I recall it, too. Slaw&#39;s comment [here](https://stackoverflow.com/q/73190823/230513) seemed dispositive: &quot;You have to pause/stop the animation, set the new values, and then play the animation again.&quot;","body":"@James_D: I recall it, too. Slaw&#39;s comment <a href=\"https://stackoverflow.com/q/73190823/230513\">here</a> seemed dispositive: &quot;You have to pause/stop the animation, set the new values, and then play the animation again.&quot;"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1659536407,"post_id":73222520,"comment_id":129318381,"body_markdown":"@James_D That question was closed, and I do not know how to open it (I am new to the site), so I created a new one, but slightly modified","body":"@James_D That question was closed, and I do not know how to open it (I am new to the site), so I created a new one, but slightly modified"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659536735,"post_id":73222520,"comment_id":129318523,"body_markdown":"If it was closed the first time, why do you think it will not be closed the second time? By deleting and reposting, you delete all the comments that were on the first version of the question. None of this really makes any sense anyway. On each transition, you delete one of the rectangles in the lower `HBox` with probability 1/2, so itâs perfectly feasible that there is nothing in that `HBox` after the first two transitions. What are the remaining three transitions supposed to do in that case?","body":"If it was closed the first time, why do you think it will not be closed the second time? By deleting and reposting, you delete all the comments that were on the first version of the question. None of this really makes any sense anyway. On each transition, you delete one of the rectangles in the lower <code>HBox</code> with probability 1/2, so itâs perfectly feasible that there is nothing in that <code>HBox</code> after the first two transitions. What are the remaining three transitions supposed to do in that case?"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1659537327,"post_id":73222520,"comment_id":129318795,"body_markdown":"@James_D I could easily solve this problem in my program. In any case, I have supplemented this code so that this does not occur. My problem is the dynamic calculation of the X coordinate (after the first removal of the rectangle, all other animations go badly).","body":"@James_D I could easily solve this problem in my program. In any case, I have supplemented this code so that this does not occur. My problem is the dynamic calculation of the X coordinate (after the first removal of the rectangle, all other animations go badly)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659538479,"post_id":73222520,"comment_id":129319228,"body_markdown":"But you haven&#39;t fixed the problem at all. `h1.getChildren().size()` is `3` every time you call it, and `h2.getChildren().size()` is `2` every time you call it, because nothing is removed until the `TranslateTransition`s finish. My point is it&#39;s completely unclear what you&#39;re trying to do here. As I said in a previous comment, you probably want to compute (and start) the next transition when the previous one finishes, instead of using a `SequentialTransition`.","body":"But you haven&#39;t fixed the problem at all. <code>h1.getChildren().size()</code> is <code>3</code> every time you call it, and <code>h2.getChildren().size()</code> is <code>2</code> every time you call it, because nothing is removed until the <code>TranslateTransition</code>s finish. My point is it&#39;s completely unclear what you&#39;re trying to do here. As I said in a previous comment, you probably want to compute (and start) the next transition when the previous one finishes, instead of using a <code>SequentialTransition</code>."},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1659540213,"post_id":73222520,"comment_id":129319599,"body_markdown":"@James_D Wouldn&#39;t such a program be slow. If we assume that the animation is complex, then the computer will stop every time, before each new animation, instead of somehow calculating everything at once. I&#39;m wondering if it&#39;s possible to calculate the coordinates for such a task right away?","body":"@James_D Wouldn&#39;t such a program be slow. If we assume that the animation is complex, then the computer will stop every time, before each new animation, instead of somehow calculating everything at once. I&#39;m wondering if it&#39;s possible to calculate the coordinates for such a task right away?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1659540286,"post_id":73222520,"comment_id":129319636,"body_markdown":"*&quot;If we assume that the animation is complex, then the computer will stop every time, before each new animation&quot;* What do you mean?","body":"<i>&quot;If we assume that the animation is complex, then the computer will stop every time, before each new animation&quot;</i> What do you mean?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659542052,"post_id":73222520,"comment_id":129320329,"body_markdown":"*&quot; I&#39;m wondering if it&#39;s possible to calculate the coordinates for such a task right away?&quot;*. In this example, possibly, though it would be complex. I think you would need to manage the layout yourself, so you can accurately calculate the position of the rectangles given an arbitrary layout. Then create the transitions in a loop, keeping track of the random values you create, so you can calculate the layout coordinates for each transition based on what happened in previous transitions. I don&#39;t know if you can do that in your real application or not; if it, e.g., depends on user input, then no.","body":"<i>&quot; I&#39;m wondering if it&#39;s possible to calculate the coordinates for such a task right away?&quot;</i>. In this example, possibly, though it would be complex. I think you would need to manage the layout yourself, so you can accurately calculate the position of the rectangles given an arbitrary layout. Then create the transitions in a loop, keeping track of the random values you create, so you can calculate the layout coordinates for each transition based on what happened in previous transitions. I don&#39;t know if you can do that in your real application or not; if it, e.g., depends on user input, then no."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659542625,"post_id":73222520,"comment_id":129320546,"body_markdown":"__DO NOT__ repost a question - instead, edit the previous https://stackoverflow.com/questions/73190823/how-can-i-dynamically-change-coordinates-for-animation to make it answerable","body":"<b>DO NOT</b> repost a question - instead, edit the previous <a href=\"https://stackoverflow.com/questions/73190823/how-can-i-dynamically-change-coordinates-for-animation\" title=\"how can i dynamically change coordinates for animation\">stackoverflow.com/questions/73190823/&hellip;</a> to make it answerable"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1659551984,"post_id":73222520,"comment_id":129323838,"body_markdown":"I just thought that since the animation is rendered at the end of the previous one, the computer will need time between animations to process. If the animation is complicated, then these pauses will be too long.\n@James_D","body":"I just thought that since the animation is rendered at the end of the previous one, the computer will need time between animations to process. If the animation is complicated, then these pauses will be too long. @James_D"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659552197,"post_id":73222520,"comment_id":129323893,"body_markdown":"How long do you expect it to take? Presumably you&#39;re not connecting to a database or parsing some huge file to compute the next transition? (If so, you can surely avoid that by doing the heavy work ahead of time, but still referencing the results to start the new transition.) Doesn&#39;t the code in the answer work?","body":"How long do you expect it to take? Presumably you&#39;re not connecting to a database or parsing some huge file to compute the next transition? (If so, you can surely avoid that by doing the heavy work ahead of time, but still referencing the results to start the new transition.) Doesn&#39;t the code in the answer work?"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":1,"creation_date":1659552605,"post_id":73222520,"comment_id":129324019,"body_markdown":"the code works, thanks! @James_D","body":"the code works, thanks! @James_D"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659540416,"creation_date":1659540416,"answer_id":73223906,"question_id":73222520,"body_markdown":"It&#39;s not at all clear what you&#39;re trying to do, but you probably want to compute the next transition when the previous one finishes, instead of trying to compute them all at once. \r\n\r\n    public class Main extends Application {\r\n    \r\n        private final Random rng = new Random();\r\n    \r\n        private Pane pane;\r\n        private HBox h1;\r\n        private HBox h2;\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            stage.setTitle(&quot;ÐÑÐ¾ÐºÐ°&quot;);\r\n            pane = new Pane();\r\n            stage.setScene(new Scene(pane,350,300));\r\n            h1 = new HBox();\r\n            h2 = new HBox();\r\n            h2.setAlignment(Pos.CENTER);\r\n            h2.setLayoutY(150);\r\n            h2.setPrefWidth(330);\r\n            pane.getChildren().addAll(h1, h2);\r\n            Rectangle r1 = new Rectangle(100, 100, Color.BLUE);\r\n            Rectangle r2 = new Rectangle(100, 100, Color.RED);\r\n            Rectangle r3 = new Rectangle(100, 100, Color.GREEN);\r\n            Rectangle r4 = new Rectangle(100, 100, Color.BLACK);\r\n            Rectangle r5 = new Rectangle(100, 100, Color.BROWN);\r\n            h1.setSpacing(10);\r\n            h2.setSpacing(10);\r\n            h1.getChildren().addAll(r1, r2, r3);\r\n            h2.getChildren().addAll(r4, r5);\r\n            doAnimation();\r\n            stage.show();\r\n        }\r\n    \r\n        private void doAnimation() {\r\n            pane.layout();\r\n            int j1= rng.nextInt(h1.getChildren().size());\r\n            int j2= rng.nextInt(h2.getChildren().size());\r\n            TranslateTransition translateTransition=new TranslateTransition();\r\n            double x=h2.getChildren().get(j2).getLayoutX()-\r\n                    h1.getChildren().get(j1).getLayoutX();\r\n            translateTransition.setByX(x);\r\n            double y=150;\r\n            translateTransition.setByY(y);\r\n            translateTransition.setAutoReverse(true);\r\n            translateTransition.setCycleCount(2);\r\n            translateTransition.setNode(h1.getChildren().get(j1));\r\n            translateTransition.setOnFinished(actionEvent -&gt; {\r\n                if(rng.nextBoolean()) {\r\n                    h2.getChildren().remove(j2);\r\n                }\r\n                if (h2.getChildren().size() &gt; 0) {\r\n                    doAnimation();\r\n                }\r\n            });\r\n            translateTransition.play();\r\n        }\r\n    }","title":"how to dynamically change values for a sequence of animations?","body":"<p>It's not at all clear what you're trying to do, but you probably want to compute the next transition when the previous one finishes, instead of trying to compute them all at once.</p>\n<pre><code>public class Main extends Application {\n\n    private final Random rng = new Random();\n\n    private Pane pane;\n    private HBox h1;\n    private HBox h2;\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;ÐÑÐ¾ÐºÐ°&quot;);\n        pane = new Pane();\n        stage.setScene(new Scene(pane,350,300));\n        h1 = new HBox();\n        h2 = new HBox();\n        h2.setAlignment(Pos.CENTER);\n        h2.setLayoutY(150);\n        h2.setPrefWidth(330);\n        pane.getChildren().addAll(h1, h2);\n        Rectangle r1 = new Rectangle(100, 100, Color.BLUE);\n        Rectangle r2 = new Rectangle(100, 100, Color.RED);\n        Rectangle r3 = new Rectangle(100, 100, Color.GREEN);\n        Rectangle r4 = new Rectangle(100, 100, Color.BLACK);\n        Rectangle r5 = new Rectangle(100, 100, Color.BROWN);\n        h1.setSpacing(10);\n        h2.setSpacing(10);\n        h1.getChildren().addAll(r1, r2, r3);\n        h2.getChildren().addAll(r4, r5);\n        doAnimation();\n        stage.show();\n    }\n\n    private void doAnimation() {\n        pane.layout();\n        int j1= rng.nextInt(h1.getChildren().size());\n        int j2= rng.nextInt(h2.getChildren().size());\n        TranslateTransition translateTransition=new TranslateTransition();\n        double x=h2.getChildren().get(j2).getLayoutX()-\n                h1.getChildren().get(j1).getLayoutX();\n        translateTransition.setByX(x);\n        double y=150;\n        translateTransition.setByY(y);\n        translateTransition.setAutoReverse(true);\n        translateTransition.setCycleCount(2);\n        translateTransition.setNode(h1.getChildren().get(j1));\n        translateTransition.setOnFinished(actionEvent -&gt; {\n            if(rng.nextBoolean()) {\n                h2.getChildren().remove(j2);\n            }\n            if (h2.getChildren().size() &gt; 0) {\n                doAnimation();\n            }\n        });\n        translateTransition.play();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73223906,"answer_count":1,"score":-3,"last_activity_date":1659540416,"creation_date":1659532921,"question_id":73222520,"body_markdown":"I&#39;m animating some pictures. Animations of each of them are performed sequentially. The pictures are in the hbox, the coordinates of which I track through layoutX. At\r\nthe end of each animation, I do a check. If the check is successful, then I delete some pictures. Moreover, the coordinates of others are shifted. Since transition was originally set in a loop (before all animations), animations (and recalculation of x) occur during animations, the result is bad.\r\nHow can I solve this problem?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are two hboxes (blue rectangles). They contain pictures (dark blue rectangles) that, when animated, beat a picture from another hbox. During the impact, some images may be deleted.\r\n```\r\nimport javafx.animation.SequentialTransition;\r\nimport javafx.animation.TranslateTransition;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\n\r\n\r\npublic class Main extends Application {\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;ÐÑÐ¾ÐºÐ°&quot;);\r\n        Pane pane = new Pane();\r\n        stage.setScene(new Scene(pane,350,300));\r\n        HBox h1 = new HBox();\r\n        HBox h2 = new HBox();\r\n        h2.setAlignment(Pos.CENTER);\r\n        h2.setLayoutY(150);\r\n        h2.setPrefWidth(330);\r\n        pane.getChildren().addAll(h1, h2);\r\n        Rectangle r1 = new Rectangle(100, 100, Color.BLUE);\r\n        Rectangle r2 = new Rectangle(100, 100, Color.RED);\r\n        Rectangle r3 = new Rectangle(100, 100, Color.GREEN);\r\n        Rectangle r4 = new Rectangle(100, 100, Color.BLACK);\r\n        Rectangle r5 = new Rectangle(100, 100, Color.BROWN);\r\n        h1.setSpacing(10);\r\n        h2.setSpacing(10);\r\n        h1.getChildren().addAll(r1, r2, r3);\r\n        h2.getChildren().addAll(r4, r5);\r\n        pane.layout();\r\n        SequentialTransition st=new SequentialTransition();\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int j1= (int) (Math.random()*h1.getChildren().size());\r\n            int j2= (int) (Math.random()*h2.getChildren().size());\r\n            TranslateTransition translateTransition=new TranslateTransition();\r\n            double x=h2.getChildren().get(j2).getLayoutX()- \r\n            h1.getChildren().get(j1).getLayoutX();\r\n            translateTransition.setByX(x);\r\n            double y=150;\r\n            translateTransition.setByY(y);\r\n            translateTransition.setAutoReverse(true);\r\n            translateTransition.setCycleCount(2);\r\n            translateTransition.setNode(h1.getChildren().get(j1));\r\n            translateTransition.setOnFinished(actionEvent -&gt; {\r\n                if(Math.random()&gt;0.5)h2.getChildren().remove(j2);\r\n            });\r\n            st.getChildren().add(translateTransition);\r\n            if(h1.getChildren().size()&lt;=0|h2.getChildren().size()&lt;=0)break;\r\n        }\r\n        st.setDelay(Duration.seconds(1));\r\n        st.play();\r\n        stage.show();\r\n    }\r\n}\r\n```\r\n\r\nIn this code, x is considered in a loop, and some images are deleted after, which is why the animation is incorrect. The problem is visible when the first object is removed (the &quot;blow&quot; trace goes to false coordinates).\r\n\r\n  [1]: https://i.stack.imgur.com/DYzB8.png","title":"how to dynamically change values for a sequence of animations?","body":"<p>I'm animating some pictures. Animations of each of them are performed sequentially. The pictures are in the hbox, the coordinates of which I track through layoutX. At\nthe end of each animation, I do a check. If the check is successful, then I delete some pictures. Moreover, the coordinates of others are shifted. Since transition was originally set in a loop (before all animations), animations (and recalculation of x) occur during animations, the result is bad.\nHow can I solve this problem?</p>\n<p><a href=\"https://i.stack.imgur.com/DYzB8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DYzB8.png\" alt=\"enter image description here\" /></a></p>\n<p>There are two hboxes (blue rectangles). They contain pictures (dark blue rectangles) that, when animated, beat a picture from another hbox. During the impact, some images may be deleted.</p>\n<pre><code>import javafx.animation.SequentialTransition;\nimport javafx.animation.TranslateTransition;\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\n\n\npublic class Main extends Application {\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;ÐÑÐ¾ÐºÐ°&quot;);\n        Pane pane = new Pane();\n        stage.setScene(new Scene(pane,350,300));\n        HBox h1 = new HBox();\n        HBox h2 = new HBox();\n        h2.setAlignment(Pos.CENTER);\n        h2.setLayoutY(150);\n        h2.setPrefWidth(330);\n        pane.getChildren().addAll(h1, h2);\n        Rectangle r1 = new Rectangle(100, 100, Color.BLUE);\n        Rectangle r2 = new Rectangle(100, 100, Color.RED);\n        Rectangle r3 = new Rectangle(100, 100, Color.GREEN);\n        Rectangle r4 = new Rectangle(100, 100, Color.BLACK);\n        Rectangle r5 = new Rectangle(100, 100, Color.BROWN);\n        h1.setSpacing(10);\n        h2.setSpacing(10);\n        h1.getChildren().addAll(r1, r2, r3);\n        h2.getChildren().addAll(r4, r5);\n        pane.layout();\n        SequentialTransition st=new SequentialTransition();\n        for (int i = 0; i &lt; 5; i++) {\n            int j1= (int) (Math.random()*h1.getChildren().size());\n            int j2= (int) (Math.random()*h2.getChildren().size());\n            TranslateTransition translateTransition=new TranslateTransition();\n            double x=h2.getChildren().get(j2).getLayoutX()- \n            h1.getChildren().get(j1).getLayoutX();\n            translateTransition.setByX(x);\n            double y=150;\n            translateTransition.setByY(y);\n            translateTransition.setAutoReverse(true);\n            translateTransition.setCycleCount(2);\n            translateTransition.setNode(h1.getChildren().get(j1));\n            translateTransition.setOnFinished(actionEvent -&gt; {\n                if(Math.random()&gt;0.5)h2.getChildren().remove(j2);\n            });\n            st.getChildren().add(translateTransition);\n            if(h1.getChildren().size()&lt;=0|h2.getChildren().size()&lt;=0)break;\n        }\n        st.setDelay(Duration.seconds(1));\n        st.play();\n        stage.show();\n    }\n}\n</code></pre>\n<p>In this code, x is considered in a loop, and some images are deleted after, which is why the animation is incorrect. The problem is visible when the first object is removed (the &quot;blow&quot; trace goes to false coordinates).</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659526773,"post_id":73220870,"comment_id":129314907,"body_markdown":"Sound like XY-problem. Why you&#39;re using these `int` and `float` variables to represent date-time information? You can use classes from `java.time` package, no need to reinvent them. See https://docs.oracle.com/javase/tutorial/datetime/overview/index.html","body":"Sound like XY-problem. Why you&#39;re using these <code>int</code> and <code>float</code> variables to represent date-time information? You can use classes from <code>java.time</code> package, no need to reinvent them. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/overview/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/datetime/overview/index.html</a>"},{"owner":{"account_id":23210605,"reputation":1,"user_id":17304126,"display_name":"WhiteSte"},"score":0,"creation_date":1659529126,"post_id":73220870,"comment_id":129315736,"body_markdown":"I need my custom parameters for internal computations","body":"I need my custom parameters for internal computations"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659529424,"post_id":73220870,"comment_id":129315857,"body_markdown":"It doesn&#39;t explain why can&#39;t you use [`LocalDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html) instead of your custom object. You can extract hours, minutes, day the year, etc. from it as `int`.","body":"It doesn&#39;t explain why can&#39;t you use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> instead of your custom object. You can extract hours, minutes, day the year, etc. from it as <code>int</code>."},{"owner":{"account_id":23210605,"reputation":1,"user_id":17304126,"display_name":"WhiteSte"},"score":0,"creation_date":1659530280,"post_id":73220870,"comment_id":129316238,"body_markdown":"I posted a particular case but these parameters have not to be always date time. Sometime they could be intended as theta and phi (azimuth and elevation angles)","body":"I posted a particular case but these parameters have not to be always date time. Sometime they could be intended as theta and phi (azimuth and elevation angles)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659530767,"post_id":73220870,"comment_id":129316443,"body_markdown":"So you need a uniform logic for an object containing two numeric fields. And the goal is to find an object with the first field that matches exactly and the second having the closest value? Are you sure you want it to be coupled to work only with the `Ray` class?","body":"So you need a uniform logic for an object containing two numeric fields. And the goal is to find an object with the first field that matches exactly and the second having the closest value? Are you sure you want it to be coupled to work only with the <code>Ray</code> class?"},{"owner":{"account_id":23210605,"reputation":1,"user_id":17304126,"display_name":"WhiteSte"},"score":0,"creation_date":1659531081,"post_id":73220870,"comment_id":129316576,"body_markdown":"Yes exactly! I have different kind of rays that may store different physics properties. In general these two parameters (like for example day of the year and time of the day) identify uniquely the orientation and the elevation of the ray (spheric coordinates) . With a continuous 2D slider I need to catch the exact ray given these two parameters. I&#39;m sorry if I explained badly in the first time","body":"Yes exactly! I have different kind of rays that may store different physics properties. In general these two parameters (like for example day of the year and time of the day) identify uniquely the orientation and the elevation of the ray (spheric coordinates) . With a continuous 2D slider I need to catch the exact ray given these two parameters. I&#39;m sorry if I explained badly in the first time"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659531260,"post_id":73220870,"comment_id":129316652,"body_markdown":"Also you have to take into account that you might lose precision with floating point numbers (`float` and `double`) https://stackoverflow.com/questions/322749/retain-precision-with-double-in-java . Hence, in some cases `ray.Param1 == nearestParam1`  might not work as expected. You can use `BigDecimal` or instead of precise compassion allow the values of `nearestParam1` to differ by let&#39;s say `0.0001` and they will still consider to be equal.","body":"Also you have to take into account that you might lose precision with floating point numbers (<code>float</code> and <code>double</code>) <a href=\"https://stackoverflow.com/questions/322749/retain-precision-with-double-in-java\" title=\"retain precision with double in java\">stackoverflow.com/questions/322749/&hellip;</a> . Hence, in some cases <code>ray.Param1 == nearestParam1</code>  might not work as expected. You can use <code>BigDecimal</code> or instead of precise compassion allow the values of <code>nearestParam1</code> to differ by let&#39;s say <code>0.0001</code> and they will still consider to be equal."}],"answers":[{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659529587,"creation_date":1659529587,"answer_id":73221718,"question_id":73220870,"body_markdown":"Rather than comparing each field separately, you can consolidate them into a single value and then find the closest one to your target date using Stream#min.\r\n\r\n```\r\npublic LocalDateTime toDateTime(int dayOfTheYear, double timeOfTheDay) {\r\n\tLocalDate first = LocalDate.of(2022,1,1);\r\n\treturn first.atStartOfDay()\r\n\t\t\t.plusDays(dayOfTheYear)\r\n\t\t\t.plusHours((int) timeOfTheDay)\r\n\t\t\t.plusMinutes((long) ((timeOfTheDay - Math.floor(timeOfTheDay)) * 60L));\r\n}\r\n\r\npublic Optional&lt;Ray&gt; findClosestRay(List&lt;Ray&gt; rays, int DayOfTheYear, float TimeOfTheDay) {\r\n\tLocalDateTime target = toDateTime(DayOfTheYear, TimeOfTheDay);\r\n\r\n\treturn rays.stream()\r\n\t\t\t.min(Comparator.comparing(ray -&gt; Duration.between(target, toDateTime(ray.DayOfTheYear, ray.TimeOfTheDay)).abs()));\r\n}\r\n```","title":"Find the closest object inside a list given two values","body":"<p>Rather than comparing each field separately, you can consolidate them into a single value and then find the closest one to your target date using Stream#min.</p>\n<pre><code>public LocalDateTime toDateTime(int dayOfTheYear, double timeOfTheDay) {\n    LocalDate first = LocalDate.of(2022,1,1);\n    return first.atStartOfDay()\n            .plusDays(dayOfTheYear)\n            .plusHours((int) timeOfTheDay)\n            .plusMinutes((long) ((timeOfTheDay - Math.floor(timeOfTheDay)) * 60L));\n}\n\npublic Optional&lt;Ray&gt; findClosestRay(List&lt;Ray&gt; rays, int DayOfTheYear, float TimeOfTheDay) {\n    LocalDateTime target = toDateTime(DayOfTheYear, TimeOfTheDay);\n\n    return rays.stream()\n            .min(Comparator.comparing(ray -&gt; Duration.between(target, toDateTime(ray.DayOfTheYear, ray.TimeOfTheDay)).abs()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23210605,"reputation":1,"user_id":17304126,"display_name":"WhiteSte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659540335,"creation_date":1659540335,"answer_id":73223890,"question_id":73220870,"body_markdown":"as  MikeFHay pointed out in the main post i didn&#39;t specified how to determine the single closest result over all rays combining minimization of param 1 and param 2.\r\n\r\nI found a solution that is quite working for my case, what do you think about that?\r\n\r\n    Comparator&lt;Ray&gt; comparator = Comparator.comparing(ray-&gt;abs(ray.param1-value1) + abs(ray.param2-value2) );\r\n    \r\n    Ray bestRay = rays.stream().min(comparator).get();","title":"Find the closest object inside a list given two values","body":"<p>as  MikeFHay pointed out in the main post i didn't specified how to determine the single closest result over all rays combining minimization of param 1 and param 2.</p>\n<p>I found a solution that is quite working for my case, what do you think about that?</p>\n<pre><code>Comparator&lt;Ray&gt; comparator = Comparator.comparing(ray-&gt;abs(ray.param1-value1) + abs(ray.param2-value2) );\n\nRay bestRay = rays.stream().min(comparator).get();\n</code></pre>\n"}],"owner":{"account_id":23210605,"reputation":1,"user_id":17304126,"display_name":"WhiteSte"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73223890,"answer_count":2,"score":-3,"last_activity_date":1659540335,"creation_date":1659525803,"question_id":73220870,"body_markdown":"I have an object that follows the structure below\r\n\r\n    class Ray{\r\n       float param1; \r\n       float param2; \r\n    }\r\n\r\nand then I have the following:  `List&lt;Ray&gt; rays`\r\n\r\nI have a 2D slider that gives a couple of values `{value1, value2}`\r\n\r\nThe problem is that the values inside the slider are continuous and they don&#39;t match exactly with the values of the class Ray, thus I cannot just make a filter using stream().\r\n\r\nI need to find the Ray that has both fields closest to value1 and value2.\r\n\r\nI&#39;m not really expert using streams().\r\n\r\nMy first idea is to iterate the List and find the nearest value (let&#39;s say nearestParam1) to value1, then iterate the list and find the nearest value (nearestParam2) to value2, then filter the list by nearestParam1 and finally filter the list by nearestParam2.\r\n\r\n    ... \r\n    List&lt;Ray&gt; rays;\r\n    float nearestParam1;\r\n    float value1;\r\n    float oldDistance=9999;\r\n    for (Ray ray : rays){\r\n     float newDistance = abs( ray.Param1 - value1);\r\n     if(newDistance &lt; oldDistance) {\r\n      oldDistance = newDistance;\r\n      nearestParam1 = ray.Param1;\r\n     }\r\n    }\r\n    \r\n    List&lt;Ray&gt; filteredRays = rays.stream().filter(ray -&gt; ray.Param1 == nearestParam1).toList();\r\n\r\nand then repeat again for the second field. I don&#39;t like this solution, can you find a cleaner and maybe faster solution? \r\n\r\nMy list has a really huge dimension and inside there are not equals object (1 field could match but not both at the same time)\r\n","title":"Find the closest object inside a list given two values","body":"<p>I have an object that follows the structure below</p>\n<pre><code>class Ray{\n   float param1; \n   float param2; \n}\n</code></pre>\n<p>and then I have the following:  <code>List&lt;Ray&gt; rays</code></p>\n<p>I have a 2D slider that gives a couple of values <code>{value1, value2}</code></p>\n<p>The problem is that the values inside the slider are continuous and they don't match exactly with the values of the class Ray, thus I cannot just make a filter using stream().</p>\n<p>I need to find the Ray that has both fields closest to value1 and value2.</p>\n<p>I'm not really expert using streams().</p>\n<p>My first idea is to iterate the List and find the nearest value (let's say nearestParam1) to value1, then iterate the list and find the nearest value (nearestParam2) to value2, then filter the list by nearestParam1 and finally filter the list by nearestParam2.</p>\n<pre><code>... \nList&lt;Ray&gt; rays;\nfloat nearestParam1;\nfloat value1;\nfloat oldDistance=9999;\nfor (Ray ray : rays){\n float newDistance = abs( ray.Param1 - value1);\n if(newDistance &lt; oldDistance) {\n  oldDistance = newDistance;\n  nearestParam1 = ray.Param1;\n }\n}\n\nList&lt;Ray&gt; filteredRays = rays.stream().filter(ray -&gt; ray.Param1 == nearestParam1).toList();\n</code></pre>\n<p>and then repeat again for the second field. I don't like this solution, can you find a cleaner and maybe faster solution?</p>\n<p>My list has a really huge dimension and inside there are not equals object (1 field could match but not both at the same time)</p>\n"},{"tags":["java","maven","build","maven-plugin","artifact"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659508865,"post_id":73217119,"comment_id":129308490,"body_markdown":"What is your actual goal? information about name, groupId, artifactId and version is already stored by `maven` in resulting jar - check `META-INF/maven/`. `reproducible build` guys have performed some research and got a conclusion about what information *must be* stored in artifact, if you do not store all information required - that is not `reproducible build`. Is your project based on spring-boot?","body":"What is your actual goal? information about name, groupId, artifactId and version is already stored by <code>maven</code> in resulting jar - check <code>META-INF&#47;maven&#47;</code>. <code>reproducible build</code> guys have performed some research and got a conclusion about what information <i>must be</i> stored in artifact, if you do not store all information required - that is not <code>reproducible build</code>. Is your project based on spring-boot?"},{"owner":{"account_id":25018750,"reputation":11,"user_id":18877631,"display_name":"Rajat Rao"},"score":0,"creation_date":1659509806,"post_id":73217119,"comment_id":129308771,"body_markdown":"hey @AndreyB.Panfilov thanks for responding.  \nusing maven-artifact-plugin i want the only above mentioned 4 properties to be generated during this goal of build info and not other information which is being generated as this is a frontend repo in which maven is used for building the zip file and used for deployment and this buildinfo file needs to be shown in public folder so it can be viewed from browser which version of build app is being using currently,which is working fine,but there are too many details which is being generated , i feel it is unnecessary and want it to be removed","body":"hey @AndreyB.Panfilov thanks for responding.   using maven-artifact-plugin i want the only above mentioned 4 properties to be generated during this goal of build info and not other information which is being generated as this is a frontend repo in which maven is used for building the zip file and used for deployment and this buildinfo file needs to be shown in public folder so it can be viewed from browser which version of build app is being using currently,which is working fine,but there are too many details which is being generated , i feel it is unnecessary and want it to be removed"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659540052,"creation_date":1659540052,"answer_id":73223832,"question_id":73217119,"body_markdown":"You may achieve something similar using `maven-resources-plugin` and optionally `copy-rename-maven-plugin` (if you need to get particular name of buildinfo file)\r\n\r\ncontents of .buildinfo:\r\n\r\n```\r\nname=${project.name}\r\ngroup-id=${project.groupId}\r\nartifact-id=${project.artifactId}\r\nversion=${project.version}\r\n```\r\n\r\nmaven configuration:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;build-info&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;.buildinfo&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.coderplus.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;copy-rename-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;copy-and-rename-file&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;rename&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;sourceFile&gt;${project.build.directory}/.buildinfo&lt;/sourceFile&gt;\r\n                &lt;destinationFile&gt;${project.build.directory}/${project.artifactId}-${project.version}.buildinfo&lt;/destinationFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Maven artifact plugin buildinfo remove unwanted buildinfo information","body":"<p>You may achieve something similar using <code>maven-resources-plugin</code> and optionally <code>copy-rename-maven-plugin</code> (if you need to get particular name of buildinfo file)</p>\n<p>contents of .buildinfo:</p>\n<pre><code>name=${project.name}\ngroup-id=${project.groupId}\nartifact-id=${project.artifactId}\nversion=${project.version}\n</code></pre>\n<p>maven configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;build-info&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n                        &lt;filtering&gt;true&lt;/filtering&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;.buildinfo&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n                &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;com.coderplus.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;copy-rename-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-and-rename-file&lt;/id&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;rename&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sourceFile&gt;${project.build.directory}/.buildinfo&lt;/sourceFile&gt;\n                &lt;destinationFile&gt;${project.build.directory}/${project.artifactId}-${project.version}.buildinfo&lt;/destinationFile&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":25018750,"reputation":11,"user_id":18877631,"display_name":"Rajat Rao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659540052,"creation_date":1659507875,"question_id":73217119,"body_markdown":"On using \r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-artifact-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\nI am able to get buildinfo file generated as following as per &lt;https://reproducible-builds.org/docs/jvm/&gt;\r\n\r\n    #### Work In Progress ####\r\n    buildinfo.version=1.0-SNAPSHOT\r\n    \r\n    name=name  \r\n    group-id=groupId  \r\n    artifact-id=artifact id   \r\n    version=version  \r\n    \r\n    **source information**  \r\n    no scm configured in pom.xml  \r\n    \r\n    **build instructions**  \r\n    build-tool=mvn\r\n    \r\n    **effective build environment information**  \r\n    java.version=11\r\n    java.vendor=Oracle corporation\r\n    os.name=Linux\r\n    \r\n    **Maven rebuild instructions and effective environment:**  \r\n    mvn.version=Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n    \r\n    \r\n    **output**  \r\n    outputs.0.filename=pom file name\r\n    outputs.0.length=&lt;1234\r\n    outputs.0.checksums.sha512=abcd\r\n\r\n\r\n**Apart from name,group-id,artifact-id and version, i don&#39;t want other properties to be generated in that file. how can i configure that using maven-artifact-plugin**  \r\n\r\nI have checked the doc &lt;https://maven.apache.org/plugins/maven-artifact-plugin/plugin-info.html&gt;, couldn&#39;t find example of removing unwanted information from getting generated in that file.\r\n \r\n","title":"Maven artifact plugin buildinfo remove unwanted buildinfo information","body":"<p>On using</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-artifact-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>I am able to get buildinfo file generated as following as per <a href=\"https://reproducible-builds.org/docs/jvm/\" rel=\"nofollow noreferrer\">https://reproducible-builds.org/docs/jvm/</a></p>\n<pre><code>#### Work In Progress ####\nbuildinfo.version=1.0-SNAPSHOT\n\nname=name  \ngroup-id=groupId  \nartifact-id=artifact id   \nversion=version  \n\n**source information**  \nno scm configured in pom.xml  \n\n**build instructions**  \nbuild-tool=mvn\n\n**effective build environment information**  \njava.version=11\njava.vendor=Oracle corporation\nos.name=Linux\n\n**Maven rebuild instructions and effective environment:**  \nmvn.version=Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\n\n\n**output**  \noutputs.0.filename=pom file name\noutputs.0.length=&lt;1234\noutputs.0.checksums.sha512=abcd\n</code></pre>\n<p><strong>Apart from name,group-id,artifact-id and version, i don't want other properties to be generated in that file. how can i configure that using maven-artifact-plugin</strong></p>\n<p>I have checked the doc <a href=\"https://maven.apache.org/plugins/maven-artifact-plugin/plugin-info.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-artifact-plugin/plugin-info.html</a>, couldn't find example of removing unwanted information from getting generated in that file.</p>\n"},{"tags":["java","php","android"],"comments":[{"owner":{"account_id":17005942,"reputation":254,"user_id":12302146,"display_name":"Huib"},"score":0,"creation_date":1659531160,"post_id":73221988,"comment_id":129316612,"body_markdown":"Would it be possible to add the layout xml to the question as well?","body":"Would it be possible to add the layout xml to the question as well?"}],"answers":[{"tags":[],"owner":{"account_id":8529308,"reputation":1447,"user_id":6393618,"display_name":"rya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659540020,"creation_date":1659538712,"answer_id":73223648,"question_id":73221988,"body_markdown":"It is because the LinearLayout of the card has match_parent as its layout_height and layout_width so it is taking up the whole space. Can you try to scroll the card up?\r\n\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;       &lt;-------- here\r\n        android:layout_height=&quot;match_parent&quot;&gt;.    &lt;-------- here\r\n\r\nThe layout_height should be wrap_content.","title":"why is my recycler view only showing 1 card","body":"<p>It is because the LinearLayout of the card has match_parent as its layout_height and layout_width so it is taking up the whole space. Can you try to scroll the card up?</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;       &lt;-------- here\n    android:layout_height=&quot;match_parent&quot;&gt;.    &lt;-------- here\n</code></pre>\n<p>The layout_height should be wrap_content.</p>\n"}],"owner":{"account_id":25967480,"reputation":11,"user_id":19683237,"display_name":"user19683237"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73223648,"answer_count":1,"score":0,"last_activity_date":1659540020,"creation_date":1659530709,"question_id":73221988,"body_markdown":"the app is used to sign up for events. Now I am unable to display more then one card in the recycler view even though there is data in the database.it only would display only the first row of data. I know this as I have deleted the first row and the app shows the new first row. \r\nThe php works as i have loaded the page and it gives me the data from the database.\r\n\r\nrecycler view activity\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n    private static final String URL = &quot;http://10.0.2.2/mad/activitydisplay.php&quot;;\r\n    RecyclerView recyclerView;\r\n    UserAdapter userAdapter;\r\n    List&lt;Users&gt; usersList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        recyclerView = findViewById(R.id.recylcerList);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        usersList=new ArrayList&lt;&gt;();\r\n\r\n        LoadAllUser();\r\n\r\n    }\r\n\r\n    private void LoadAllUser() {\r\n        JsonArrayRequest request =new JsonArrayRequest(URL, new Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray array) {\r\n                for (int i=0;i&lt;array.length();i++){\r\n                    try {\r\n                        JSONObject object=array.getJSONObject(i);\r\n                        String name=object.getString(&quot;eventname&quot;).trim();\r\n                        String type=object.getString(&quot;type&quot;).trim();\r\n                        String location=object.getString(&quot;location&quot;).trim();\r\n                        String time=object.getString(&quot;time&quot;).trim();\r\n                        String date=object.getString(&quot;date&quot;).trim();\r\n                        String maxparticipants=object.getString(&quot;maxparticipants&quot;).trim();\r\n\r\n                        Users user= new Users();\r\n                        user.setName(name);\r\n                        user.setType(type);\r\n                        user.setLocation(location);\r\n                        user.setTime(time);\r\n                        user.setDate(date);\r\n                        user.setMaxparticipants(maxparticipants);\r\n                        usersList.add(user);\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n                userAdapter=new UserAdapter(MainActivity2.this,usersList);\r\n                recyclerView.setAdapter(userAdapter);\r\n\r\n            }\r\n        },new Response.ErrorListener(){\r\n            @Override\r\n            public void onErrorResponse(VolleyError error){\r\n                Toast.makeText(MainActivity2.this, error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        RequestQueue requestQueue=Volley.newRequestQueue(MainActivity2.this);\r\n        requestQueue.add(request);\r\n    }\r\n}\r\n\r\n```\r\nrecycler view adpater\r\n```\r\npublic class UserAdapter extends RecyclerView.Adapter&lt;UserAdapter.UserHolder&gt;{\r\n    Context context;\r\n    List&lt;Users&gt; usersList;\r\n\r\n    public UserAdapter(Context context, List&lt;Users&gt; usersList) {\r\n        this.context = context;\r\n        this.usersList = usersList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View userLayout= LayoutInflater.from(parent.getContext()).inflate(R.layout.activity_list,parent,false);\r\n        return new UserHolder(userLayout);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UserHolder holder, int position) {\r\n        Users users=usersList.get(position);\r\n        holder.Name_id.setText(users.getName());\r\n        holder.Type_id.setText(users.getType());\r\n        holder.Location_id.setText(users.getLocation());\r\n        holder.Time_id.setText(users.getTime());\r\n        holder.Date_id.setText(users.getDate());\r\n        holder.Slots_id.setText(users.getMaxparticipants());\r\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, cardviewclick.class);\r\n                intent.putExtra(&quot;Name&quot;,holder.Name_id.getText());\r\n                intent.putExtra(&quot;Type&quot;,holder.Type_id.getText());\r\n                intent.putExtra(&quot;Location&quot;,holder.Location_id.getText());\r\n                intent.putExtra(&quot;Time&quot;,holder.Time_id.getText());\r\n                intent.putExtra(&quot;Date&quot;,holder.Date_id.getText());\r\n                intent.putExtra(&quot;Slots&quot;,holder.Slots_id.getText());\r\n\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return usersList.size();\r\n    }\r\n\r\n    public class UserHolder extends RecyclerView.ViewHolder{\r\n        TextView Name_id,Type_id,Location_id,Time_id,Date_id,Slots_id;\r\n        CardView cardView;\r\n\r\n        public UserHolder(@NonNull View itemView){\r\n            super(itemView);\r\n            Name_id=itemView.findViewById(R.id.textTitle);\r\n            Type_id=itemView.findViewById(R.id.textType);\r\n            Location_id=itemView.findViewById(R.id.textLocation);\r\n            Time_id=itemView.findViewById(R.id.textTime);\r\n            Date_id=itemView.findViewById(R.id.textDate);\r\n            Slots_id=itemView.findViewById(R.id.textSlots);\r\n            cardView=itemView.findViewById(R.id.card);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nactivitydisplay.php\r\n```\r\nconn = new mysqli($servername, $username, $password, $dbname);\r\n\r\n$stmt = $conn-&gt;prepare(&quot;SELECT eventname, type ,location,maxparticipants,time,date FROM activitytable&quot;);\r\n$stmt -&gt;execute();\r\n$stmt -&gt; bind_result($eventname, $type, $location,$maxparticipants,$time,$date);\r\n\r\n$data= array();\r\n\r\nwhile($stmt -&gt;fetch()){\r\n\r\n    $temp = array();\r\n\t\r\n\t$temp[&#39;eventname&#39;] = $eventname;\r\n\t$temp[&#39;type&#39;] = $type;\r\n\t$temp[&#39;location&#39;] = $location;\r\n\t$temp[&#39;maxparticipants&#39;] = $maxparticipants;\r\n\t$temp[&#39;time&#39;] = $time;\r\n\t$temp[&#39;date&#39;] = $date;\r\n\t\r\n\tarray_push($data,$temp);\r\n\t}\r\n\r\n\techo json_encode($data);\r\n?&gt;\r\n```\r\nedit 1:add xml code\r\n\r\nmain activity 2\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity2&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recylcerList&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\ncard xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/card&quot;\r\n        app:cardElevation=&quot;12dp&quot;\r\n        app:cardCornerRadius=&quot;16dp&quot;\r\n        android:layout_margin=&quot;16dp&quot;\r\n        android:backgroundTint=&quot;#efefef&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; &gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;16dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n                &lt;TextView\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Title:&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textTitle&quot;\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n                &lt;TextView\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Type:&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textType&quot;\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n                &lt;TextView\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Location:&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textLocation&quot;\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n                &lt;TextView\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Date:&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textDate&quot;\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n                &lt;TextView\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Time:&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textTime&quot;\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n                &lt;TextView\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Slots:&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textSlots&quot;\r\n                    style=&quot;bold&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;24dp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"why is my recycler view only showing 1 card","body":"<p>the app is used to sign up for events. Now I am unable to display more then one card in the recycler view even though there is data in the database.it only would display only the first row of data. I know this as I have deleted the first row and the app shows the new first row.\nThe php works as i have loaded the page and it gives me the data from the database.</p>\n<p>recycler view activity</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n    private static final String URL = &quot;http://10.0.2.2/mad/activitydisplay.php&quot;;\n    RecyclerView recyclerView;\n    UserAdapter userAdapter;\n    List&lt;Users&gt; usersList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        recyclerView = findViewById(R.id.recylcerList);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        usersList=new ArrayList&lt;&gt;();\n\n        LoadAllUser();\n\n    }\n\n    private void LoadAllUser() {\n        JsonArrayRequest request =new JsonArrayRequest(URL, new Response.Listener&lt;JSONArray&gt;() {\n            @Override\n            public void onResponse(JSONArray array) {\n                for (int i=0;i&lt;array.length();i++){\n                    try {\n                        JSONObject object=array.getJSONObject(i);\n                        String name=object.getString(&quot;eventname&quot;).trim();\n                        String type=object.getString(&quot;type&quot;).trim();\n                        String location=object.getString(&quot;location&quot;).trim();\n                        String time=object.getString(&quot;time&quot;).trim();\n                        String date=object.getString(&quot;date&quot;).trim();\n                        String maxparticipants=object.getString(&quot;maxparticipants&quot;).trim();\n\n                        Users user= new Users();\n                        user.setName(name);\n                        user.setType(type);\n                        user.setLocation(location);\n                        user.setTime(time);\n                        user.setDate(date);\n                        user.setMaxparticipants(maxparticipants);\n                        usersList.add(user);\n\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n                userAdapter=new UserAdapter(MainActivity2.this,usersList);\n                recyclerView.setAdapter(userAdapter);\n\n            }\n        },new Response.ErrorListener(){\n            @Override\n            public void onErrorResponse(VolleyError error){\n                Toast.makeText(MainActivity2.this, error.toString(), Toast.LENGTH_SHORT).show();\n            }\n        });\n        RequestQueue requestQueue=Volley.newRequestQueue(MainActivity2.this);\n        requestQueue.add(request);\n    }\n}\n\n</code></pre>\n<p>recycler view adpater</p>\n<pre><code>public class UserAdapter extends RecyclerView.Adapter&lt;UserAdapter.UserHolder&gt;{\n    Context context;\n    List&lt;Users&gt; usersList;\n\n    public UserAdapter(Context context, List&lt;Users&gt; usersList) {\n        this.context = context;\n        this.usersList = usersList;\n    }\n\n    @NonNull\n    @Override\n    public UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View userLayout= LayoutInflater.from(parent.getContext()).inflate(R.layout.activity_list,parent,false);\n        return new UserHolder(userLayout);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull UserHolder holder, int position) {\n        Users users=usersList.get(position);\n        holder.Name_id.setText(users.getName());\n        holder.Type_id.setText(users.getType());\n        holder.Location_id.setText(users.getLocation());\n        holder.Time_id.setText(users.getTime());\n        holder.Date_id.setText(users.getDate());\n        holder.Slots_id.setText(users.getMaxparticipants());\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, cardviewclick.class);\n                intent.putExtra(&quot;Name&quot;,holder.Name_id.getText());\n                intent.putExtra(&quot;Type&quot;,holder.Type_id.getText());\n                intent.putExtra(&quot;Location&quot;,holder.Location_id.getText());\n                intent.putExtra(&quot;Time&quot;,holder.Time_id.getText());\n                intent.putExtra(&quot;Date&quot;,holder.Date_id.getText());\n                intent.putExtra(&quot;Slots&quot;,holder.Slots_id.getText());\n\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return usersList.size();\n    }\n\n    public class UserHolder extends RecyclerView.ViewHolder{\n        TextView Name_id,Type_id,Location_id,Time_id,Date_id,Slots_id;\n        CardView cardView;\n\n        public UserHolder(@NonNull View itemView){\n            super(itemView);\n            Name_id=itemView.findViewById(R.id.textTitle);\n            Type_id=itemView.findViewById(R.id.textType);\n            Location_id=itemView.findViewById(R.id.textLocation);\n            Time_id=itemView.findViewById(R.id.textTime);\n            Date_id=itemView.findViewById(R.id.textDate);\n            Slots_id=itemView.findViewById(R.id.textSlots);\n            cardView=itemView.findViewById(R.id.card);\n        }\n    }\n\n}\n</code></pre>\n<p>activitydisplay.php</p>\n<pre><code>conn = new mysqli($servername, $username, $password, $dbname);\n\n$stmt = $conn-&gt;prepare(&quot;SELECT eventname, type ,location,maxparticipants,time,date FROM activitytable&quot;);\n$stmt -&gt;execute();\n$stmt -&gt; bind_result($eventname, $type, $location,$maxparticipants,$time,$date);\n\n$data= array();\n\nwhile($stmt -&gt;fetch()){\n\n    $temp = array();\n    \n    $temp['eventname'] = $eventname;\n    $temp['type'] = $type;\n    $temp['location'] = $location;\n    $temp['maxparticipants'] = $maxparticipants;\n    $temp['time'] = $time;\n    $temp['date'] = $date;\n    \n    array_push($data,$temp);\n    }\n\n    echo json_encode($data);\n?&gt;\n</code></pre>\n<p>edit 1:add xml code</p>\n<p>main activity 2</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recylcerList&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>card xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/card&quot;\n        app:cardElevation=&quot;12dp&quot;\n        app:cardCornerRadius=&quot;16dp&quot;\n        android:layout_margin=&quot;16dp&quot;\n        android:backgroundTint=&quot;#efefef&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; &gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;16dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot; &gt;\n\n                &lt;TextView\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Title:&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textTitle&quot;\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot; &gt;\n\n                &lt;TextView\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Type:&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textType&quot;\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot; &gt;\n\n                &lt;TextView\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Location:&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textLocation&quot;\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot; &gt;\n\n                &lt;TextView\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Date:&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textDate&quot;\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot; &gt;\n\n                &lt;TextView\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Time:&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textTime&quot;\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:orientation=&quot;horizontal&quot; &gt;\n\n                &lt;TextView\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Slots:&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textSlots&quot;\n                    style=&quot;bold&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24dp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659543163,"post_id":73223771,"comment_id":129320739,"body_markdown":"`names.forEach(this.names::add)` - you are forcing HBN to initialize `PersistentSet` when it is in process of initializing entity (issue another one sql query, process resultset, etc) - may be HBN do not expect that, may be mysql jdbc driver fails somewhere. How are you going to transform `names`?","body":"<code>names.forEach(this.names::add)</code> - you are forcing HBN to initialize <code>PersistentSet</code> when it is in process of initializing entity (issue another one sql query, process resultset, etc) - may be HBN do not expect that, may be mysql jdbc driver fails somewhere. How are you going to transform <code>names</code>?"},{"owner":{"account_id":10799918,"reputation":304,"user_id":7944277,"display_name":"Bernard"},"score":0,"creation_date":1659543505,"post_id":73223771,"comment_id":129320873,"body_markdown":"@AndreyB.Panfilov In my real case, it&#39;s `Set&lt;Permission&gt;` instead of `Set&lt;String&gt;` (to simplify the question), where `Permission` is a common interface for multiple enum classes. Since I cannot persist an interface type, I chose property-based access to convert the set to `Set&lt;PermissionEntry&gt;` where `PermissionEntry` is an Embeddable class storing the enum&#39;s declaring class and ordinal for persisting, and vice versa for loading. Is this an appropriate approach, or do you have any other ideas?","body":"@AndreyB.Panfilov In my real case, it&#39;s <code>Set&lt;Permission&gt;</code> instead of <code>Set&lt;String&gt;</code> (to simplify the question), where <code>Permission</code> is a common interface for multiple enum classes. Since I cannot persist an interface type, I chose property-based access to convert the set to <code>Set&lt;PermissionEntry&gt;</code> where <code>PermissionEntry</code> is an Embeddable class storing the enum&#39;s declaring class and ordinal for persisting, and vice versa for loading. Is this an appropriate approach, or do you have any other ideas?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1659545591,"post_id":73223771,"comment_id":129321585,"body_markdown":"have you considered `@Transient`: https://jdoodle.com/ia/tId ?","body":"have you considered <code>@Transient</code>: <a href=\"https://jdoodle.com/ia/tId\" rel=\"nofollow noreferrer\">jdoodle.com/ia/tId</a> ?"}],"owner":{"account_id":10799918,"reputation":304,"user_id":7944277,"display_name":"Bernard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659539760,"creation_date":1659539760,"question_id":73223771,"body_markdown":"When I do \r\n```java\r\nentityManager.find(Human.class, 1)\r\n```\r\n, the ```forEach``` or any read-only operation on `names` in the setter `setNames(Set&lt;String&gt;)` causes the error below. However, in both\r\n```java\r\nentityManager.getTransaction().begin();\r\nentityManager.find(Human.class, 1);\r\nentityManager.getTransaction().commit();\r\n```\r\n```java\r\nentityManager.find(Human.class, 1).forEach(System.out::println);\r\n//setNames(Set&lt;String&gt;) changed to this.names = names\r\n```\r\n, the error disappears, and 2 `select` statements are executed. Why is read-only operation disallowed in a JPA property setter?\r\n\r\nI am using property-based access to loop through the elements because I want to deserialize the set of String values before being added to the `Human` class. If this issue cannot be solved, could there be a replacement solution?\r\n```java\r\n@Entity\r\npublic class Human {\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate int id;\r\n\r\n\tprivate Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n\r\n\t@ElementCollection\r\n\t@Access(AccessType.PROPERTY)\r\n\tpublic Set&lt;String&gt; getNames() {\r\n\t\treturn names;\r\n\t}\r\n\r\n\r\n\tpublic void setNames(Set&lt;String&gt; names) {\r\n        names.forEach(this.names::add);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\norg.hibernate.sql.exec.ExecutionException: A problem occurred in the SQL executor : Error advancing (next) ResultSet position\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.makeExecutionException(JdbcValuesResultSetImpl.java:286)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.lambda$processNext$0(JdbcValuesResultSetImpl.java:96)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advance(JdbcValuesResultSetImpl.java:274)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:89)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:142)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:32)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:437)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:110)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:72)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4313)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4303)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:598)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:571)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:223)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:362)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:112)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1237)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1225)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:158)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:105)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:158)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.find(SessionImpl.java:2331)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.find(SessionImpl.java:2293)\r\n\tat codemetry.nettitalks/test.Test.join(Test.java:59)\r\n\tat codemetry.nettitalks/test.Test.main(Test.java:49)\r\nCaused by: org.hibernate.exception.GenericJDBCException: Error advancing (next) ResultSet position\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:61)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\r\n\t... 101 more\r\nCaused by: java.sql.SQLException: Operation not allowed after ResultSet closed\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n\tat com.mysql.cj.jdbc.result.ResultSetImpl.checkClosed(ResultSetImpl.java:485)\r\n\tat com.mysql.cj.jdbc.result.ResultSetImpl.next(ResultSetImpl.java:1802)\r\n\tat org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.lambda$processNext$0(JdbcValuesResultSetImpl.java:89)\r\n\t... 99 more\r\n\r\n```","title":"Iterating through PersistentSet in a JPA property setter while loading the Entity","body":"<p>When I do</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.find(Human.class, 1)\n</code></pre>\n<p>, the <code>forEach</code> or any read-only operation on <code>names</code> in the setter <code>setNames(Set&lt;String&gt;)</code> causes the error below. However, in both</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.getTransaction().begin();\nentityManager.find(Human.class, 1);\nentityManager.getTransaction().commit();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.find(Human.class, 1).forEach(System.out::println);\n//setNames(Set&lt;String&gt;) changed to this.names = names\n</code></pre>\n<p>, the error disappears, and 2 <code>select</code> statements are executed. Why is read-only operation disallowed in a JPA property setter?</p>\n<p>I am using property-based access to loop through the elements because I want to deserialize the set of String values before being added to the <code>Human</code> class. If this issue cannot be solved, could there be a replacement solution?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Human {\n\n    @Id\n    @GeneratedValue\n    private int id;\n\n    private Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\n    @ElementCollection\n    @Access(AccessType.PROPERTY)\n    public Set&lt;String&gt; getNames() {\n        return names;\n    }\n\n\n    public void setNames(Set&lt;String&gt; names) {\n        names.forEach(this.names::add);\n    }\n\n}\n</code></pre>\n<pre><code>org.hibernate.sql.exec.ExecutionException: A problem occurred in the SQL executor : Error advancing (next) ResultSet position\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.makeExecutionException(JdbcValuesResultSetImpl.java:286)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.lambda$processNext$0(JdbcValuesResultSetImpl.java:96)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advance(JdbcValuesResultSetImpl.java:274)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:89)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:142)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:32)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:437)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:110)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:72)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4313)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4303)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:598)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:571)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:223)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:362)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:112)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1237)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1225)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:158)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:105)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:158)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.find(SessionImpl.java:2331)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.internal.SessionImpl.find(SessionImpl.java:2293)\n    at codemetry.nettitalks/test.Test.join(Test.java:59)\n    at codemetry.nettitalks/test.Test.main(Test.java:49)\nCaused by: org.hibernate.exception.GenericJDBCException: Error advancing (next) ResultSet position\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:61)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\n    ... 101 more\nCaused by: java.sql.SQLException: Operation not allowed after ResultSet closed\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.checkClosed(ResultSetImpl.java:485)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.next(ResultSetImpl.java:1802)\n    at org.hibernate.orm.core@6.1.1.Final/org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.lambda$processNext$0(JdbcValuesResultSetImpl.java:89)\n    ... 99 more\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","liquibase","liquibase-hibernate"],"comments":[{"owner":{"account_id":296370,"reputation":3367,"user_id":601288,"accept_rate":89,"display_name":"M-Razavi"},"score":0,"creation_date":1538655927,"post_id":52645232,"comment_id":92225210,"body_markdown":"1- How did  you defined dev and prod profile in your application?\n2- Which build tools did you used? (Maven, Gradle ,...)\n3- What is the difference between change-log of dev and prod profile? Are there in separated path?","body":"1- How did  you defined dev and prod profile in your application? 2- Which build tools did you used? (Maven, Gradle ,...) 3- What is the difference between change-log of dev and prod profile? Are there in separated path?"},{"owner":{"account_id":11328582,"reputation":510,"user_id":8306732,"display_name":"Abzelhan"},"score":1,"creation_date":1538657183,"post_id":52645232,"comment_id":92226010,"body_markdown":"@M-Razavi, 1. We define profile in maven inside &lt;profile&gt; tag, and also in resource module we have separated packages named: dev, prod, test. In each package we have different application.properties file.\n2. Maven\n3. For prod we have reference values such as list of city and etc. For dev we also have reference values but also some predefined data that required for development environment and this data must not be loaded after we switch profile to prod in maven. \n3. All changelogs located in package that i show in screenshot, and i need to separate changelogs according to environment.","body":"@M-Razavi, 1. We define profile in maven inside &lt;profile&gt; tag, and also in resource module we have separated packages named: dev, prod, test. In each package we have different application.properties file. 2. Maven 3. For prod we have reference values such as list of city and etc. For dev we also have reference values but also some predefined data that required for development environment and this data must not be loaded after we switch profile to prod in maven.  3. All changelogs located in package that i show in screenshot, and i need to separate changelogs according to environment."}],"answers":[{"tags":[],"owner":{"account_id":296370,"reputation":3367,"user_id":601288,"accept_rate":89,"display_name":"M-Razavi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1659539496,"creation_date":1538657851,"answer_id":52647333,"question_id":52645232,"body_markdown":"**[Solution1:][1]**  \r\nYou need to define &#39;liquibase.contexts&#39; property into your yaml file. Something like below.\r\n\r\n    spring:\r\n      profiles: dev\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/dev\r\n        username: postgres\r\n        password: password\r\n        driver-class-name: org.postgresql.Driver\r\n    liquibase:\r\n       contexts: dev\r\n\r\nAfter adding this the below change set will only execute when your local profile is &#39;dev&#39; (i.e. spring-boot:run -Dspring.profiles.active=dev)\r\n\r\n    &lt;changeSet id=&quot;20161016_my_first_change2&quot; author=&quot;krudland&quot; context=&quot;dev&quot;&gt;\r\n        &lt;sql&gt;\r\n            insert into customer (firstname, lastname) values (&#39;Franklin&#39;,&#39;Ike&#39;);\r\n        &lt;/sql&gt;\r\n        &lt;rollback&gt;\r\n            delete from customer where firstname = &#39;Franklin&#39; and lastname = &#39;Ike&#39;;\r\n        &lt;/rollback&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n\r\n   \r\n  \r\n**[Solution2:][2]**  \r\nIf you don&#39;t want to use liquibase.context, You might can use maven  to filter recourses  :\r\nThe key was to use the maven *filter* element in conjunction with the *resource* element as explained in [Liquibase Documentation][3].\r\n\r\nAlso it&#39;s important to include the *resources* goal in the maven command:\r\n\r\n    mvn resources:resources liquibase:update -Plocal\r\n\r\nThis is the file hierarchy I used:\r\n\r\n\r\n    |-- pom.xml\r\n    `-- src\r\n        `-- main\r\n           |-- resources\r\n           |   `-- liquibase.properties\r\n           |   |-- changelog\r\n           |       `-- db-changelog-master.xml\r\n           |       `-- db-changelog-1.0.xml\r\n           |-- filters\r\n               |-- local\r\n               |   `-- db.properties\r\n               |-- dev\r\n               |   `-- db.properties\r\n\r\nThe db.properties file would look like the following:\r\n\r\n    database.driver = oracle.jdbc.driver.OracleDriver\r\n    database.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\r\n    database.username = user\r\n    database.password = password123\r\n    database.changelogfile = db.changelog-master.xml\r\n\r\nThe liquibase.properties file would look like the following:\r\n\r\n    changeLogFile: changelog/${database.changelogfile}\r\n    driver: ${database.driver}\r\n    url: ${database.url}\r\n    username: ${database.username}\r\n    password: ${database.password}\r\n    verbose: true\r\n\r\nThe POM file would look like the following:\r\n\r\n   \r\n\r\n    &lt;build&gt;\r\n          &lt;pluginManagement&gt;\r\n             &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;3.1.0&lt;/version&gt;\r\n                   &lt;configuration&gt;\r\n                      &lt;propertyFile&gt;target/classes/liquibase.properties&lt;/propertyFile&gt;\r\n                   &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n             &lt;/plugins&gt;\r\n          &lt;/pluginManagement&gt;\r\n       &lt;/build&gt;\r\n\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;src/main/filters/local/db.properties&lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;src/main/filters/dev/db.properties&lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44896267/601288\r\n  [2]: https://stackoverflow.com/a/22376004/601288\r\n  [3]: https://docs.liquibase.com/tools-integrations/maven/home.html","title":"How to divide Liquibase package structure for dev and prod environment in Spring Boot?","body":"<p><strong><a href=\"https://stackoverflow.com/a/44896267/601288\">Solution1:</a></strong><br />\nYou need to define 'liquibase.contexts' property into your yaml file. Something like below.</p>\n<pre><code>spring:\n  profiles: dev\n  datasource:\n    url: jdbc:postgresql://localhost:5432/dev\n    username: postgres\n    password: password\n    driver-class-name: org.postgresql.Driver\nliquibase:\n   contexts: dev\n</code></pre>\n<p>After adding this the below change set will only execute when your local profile is 'dev' (i.e. spring-boot:run -Dspring.profiles.active=dev)</p>\n<pre><code>&lt;changeSet id=&quot;20161016_my_first_change2&quot; author=&quot;krudland&quot; context=&quot;dev&quot;&gt;\n    &lt;sql&gt;\n        insert into customer (firstname, lastname) values ('Franklin','Ike');\n    &lt;/sql&gt;\n    &lt;rollback&gt;\n        delete from customer where firstname = 'Franklin' and lastname = 'Ike';\n    &lt;/rollback&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p><strong><a href=\"https://stackoverflow.com/a/22376004/601288\">Solution2:</a></strong><br />\nIf you don't want to use liquibase.context, You might can use maven  to filter recourses  :\nThe key was to use the maven <em>filter</em> element in conjunction with the <em>resource</em> element as explained in <a href=\"https://docs.liquibase.com/tools-integrations/maven/home.html\" rel=\"nofollow noreferrer\">Liquibase Documentation</a>.</p>\n<p>Also it's important to include the <em>resources</em> goal in the maven command:</p>\n<pre><code>mvn resources:resources liquibase:update -Plocal\n</code></pre>\n<p>This is the file hierarchy I used:</p>\n<pre><code>|-- pom.xml\n`-- src\n    `-- main\n       |-- resources\n       |   `-- liquibase.properties\n       |   |-- changelog\n       |       `-- db-changelog-master.xml\n       |       `-- db-changelog-1.0.xml\n       |-- filters\n           |-- local\n           |   `-- db.properties\n           |-- dev\n           |   `-- db.properties\n</code></pre>\n<p>The db.properties file would look like the following:</p>\n<pre><code>database.driver = oracle.jdbc.driver.OracleDriver\ndatabase.url = jdbc:oracle:thin:@&lt;host_name&gt;:&lt;port_number&gt;/instance\ndatabase.username = user\ndatabase.password = password123\ndatabase.changelogfile = db.changelog-master.xml\n</code></pre>\n<p>The liquibase.properties file would look like the following:</p>\n<pre><code>changeLogFile: changelog/${database.changelogfile}\ndriver: ${database.driver}\nurl: ${database.url}\nusername: ${database.username}\npassword: ${database.password}\nverbose: true\n</code></pre>\n<p>The POM file would look like the following:</p>\n<pre><code>&lt;build&gt;\n      &lt;pluginManagement&gt;\n         &lt;plugins&gt;\n            &lt;plugin&gt;\n               &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n               &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n               &lt;version&gt;3.1.0&lt;/version&gt;\n               &lt;configuration&gt;\n                  &lt;propertyFile&gt;target/classes/liquibase.properties&lt;/propertyFile&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n         &lt;/plugins&gt;\n      &lt;/pluginManagement&gt;\n   &lt;/build&gt;\n\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;src/main/filters/local/db.properties&lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;build&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;src/main/filters/dev/db.properties&lt;/filter&gt;\n            &lt;/filters&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592194752,"creation_date":1592194752,"answer_id":62381267,"question_id":52645232,"body_markdown":"As for me, I put dev, prod into different change set with different context.\r\n\r\nThere are stayed in the same file.\r\n\r\n    &lt;changeSet author=&quot;test&quot; id=&quot;API-111&quot; context=&quot;dev&quot;&gt;\r\n        &lt;sql&gt;\r\n            insert into api_key(id, value) values (1, &#39;dev_value&#39;);                   \r\n        &lt;/sql&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n    &lt;changeSet author=&quot;test&quot; id=&quot;API-111&quot; context=&quot;uat&quot;&gt;\r\n        &lt;sql&gt;\r\n            insert into api_key(id, value) values (1, &#39;uat_value&#39;);                   \r\n        &lt;/sql&gt;\r\n    &lt;/changeSet&gt;    \r\n\r\n    &lt;changeSet author=&quot;test&quot; id=&quot;API-111&quot; context=&quot;prod&quot;&gt;\r\n        &lt;sql&gt;\r\n            insert into api_key(id, value) values (1, &#39;prod_value&#39;);                   \r\n        &lt;/sql&gt;\r\n    &lt;/changeSet&gt;  ","title":"How to divide Liquibase package structure for dev and prod environment in Spring Boot?","body":"<p>As for me, I put dev, prod into different change set with different context.</p>\n\n<p>There are stayed in the same file.</p>\n\n<pre><code>&lt;changeSet author=\"test\" id=\"API-111\" context=\"dev\"&gt;\n    &lt;sql&gt;\n        insert into api_key(id, value) values (1, 'dev_value');                   \n    &lt;/sql&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet author=\"test\" id=\"API-111\" context=\"uat\"&gt;\n    &lt;sql&gt;\n        insert into api_key(id, value) values (1, 'uat_value');                   \n    &lt;/sql&gt;\n&lt;/changeSet&gt;    \n\n&lt;changeSet author=\"test\" id=\"API-111\" context=\"prod\"&gt;\n    &lt;sql&gt;\n        insert into api_key(id, value) values (1, 'prod_value');                   \n    &lt;/sql&gt;\n&lt;/changeSet&gt;  \n</code></pre>\n"}],"owner":{"account_id":11328582,"reputation":510,"user_id":8306732,"display_name":"Abzelhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9199,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":52647333,"answer_count":2,"score":10,"last_activity_date":1659539496,"creation_date":1538651331,"question_id":52645232,"body_markdown":"My package structure is looks like:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3tTcC.png\r\n\r\nIn **/db.changelog/db.changelod-master.xml** i include **/db.changelog/v1/db.changelog-1.0.xml** where i also include all changelogs from **/db.changelog/v1/changeset** package. \r\n\r\nIn my application, I have two profiles: **dev** and **prod**, and I need to divide the structure of packages according to &quot;Best Practises&quot; of Liquibase. Some changelogs can be in **prod** and **dev** environment.\r\n\r\n Also, I can use **context** attribute in **changeset** tag and explicitly set **dev** or **prod** value, but this workaround is not preferable.\r\n\r\nSimple usage looks like: i switch to **prod** profile and some tables will not be created or some inserts to Database will be skipped.\r\n\r\nCan you please help me refactor structure of packages according to Liquibase &quot;Best Practices??","title":"How to divide Liquibase package structure for dev and prod environment in Spring Boot?","body":"<p>My package structure is looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3tTcC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3tTcC.png\" alt=\"enter image description here\"></a></p>\n\n<p>In <strong>/db.changelog/db.changelod-master.xml</strong> i include <strong>/db.changelog/v1/db.changelog-1.0.xml</strong> where i also include all changelogs from <strong>/db.changelog/v1/changeset</strong> package. </p>\n\n<p>In my application, I have two profiles: <strong>dev</strong> and <strong>prod</strong>, and I need to divide the structure of packages according to \"Best Practises\" of Liquibase. Some changelogs can be in <strong>prod</strong> and <strong>dev</strong> environment.</p>\n\n<p>Also, I can use <strong>context</strong> attribute in <strong>changeset</strong> tag and explicitly set <strong>dev</strong> or <strong>prod</strong> value, but this workaround is not preferable.</p>\n\n<p>Simple usage looks like: i switch to <strong>prod</strong> profile and some tables will not be created or some inserts to Database will be skipped.</p>\n\n<p>Can you please help me refactor structure of packages according to Liquibase \"Best Practices??</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1556605113,"post_id":55901977,"comment_id":98484225,"body_markdown":"Can you share an example pdf signed like that for analysis?","body":"Can you share an example pdf signed like that for analysis?"},{"owner":{"account_id":11927910,"reputation":41,"user_id":8728664,"display_name":"Fabrizio Barone"},"score":0,"creation_date":1556608335,"post_id":55901977,"comment_id":98485604,"body_markdown":"sure : https://www.dropbox.com/sh/wxt7ksghv34it1y/AABYLHYr85OW1QBKYy6m5h6ra?dl=0 \n\ntmp.pdf is the initial pdf and signed the result","body":"sure : <a href=\"https://www.dropbox.com/sh/wxt7ksghv34it1y/AABYLHYr85OW1QBKYy6m5h6ra?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/wxt7ksghv34it1y/AABYLHYr85OW1QBKYy6m5h6ra?dl=&zwnj;&#8203;0</a>   tmp.pdf is the initial pdf and signed the result"},{"owner":{"account_id":11927910,"reputation":41,"user_id":8728664,"display_name":"Fabrizio Barone"},"score":0,"creation_date":1556805766,"post_id":55901977,"comment_id":98560262,"body_markdown":"I also updated the dropbox files with the original and the signed with only the 32byte messageDigest.","body":"I also updated the dropbox files with the original and the signed with only the 32byte messageDigest."},{"owner":{"account_id":11927910,"reputation":41,"user_id":8728664,"display_name":"Fabrizio Barone"},"score":0,"creation_date":1556897563,"post_id":55901977,"comment_id":98596685,"body_markdown":"Please read the update 1","body":"Please read the update 1"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1556900708,"post_id":55901977,"comment_id":98598345,"body_markdown":"I&#39;ll have a look next week when I&#39;m back in office.","body":"I&#39;ll have a look next week when I&#39;m back in office."},{"owner":{"account_id":11927910,"reputation":41,"user_id":8728664,"display_name":"Fabrizio Barone"},"score":0,"creation_date":1557002016,"post_id":55901977,"comment_id":98622117,"body_markdown":"Thanks really appreciates mkl !","body":"Thanks really appreciates mkl !"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1557309227,"post_id":55901977,"comment_id":98718242,"body_markdown":"*&quot;the working fix was that we need to generate the hash of the entire PKCS#7 package&quot;* - strictly speaking not the *entire* PKCS#7 container but a larger part of it, the &quot;signed/authenticated attributes&quot;.","body":"<i>&quot;the working fix was that we need to generate the hash of the entire PKCS#7 package&quot;</i> - strictly speaking not the <i>entire</i> PKCS#7 container but a larger part of it, the &quot;signed/authenticated attributes&quot;."},{"owner":{"account_id":13405951,"reputation":78,"user_id":9673988,"display_name":"Banzragch. B"},"score":0,"creation_date":1604569476,"post_id":55901977,"comment_id":114388371,"body_markdown":"@FabrizioBarone i have faced the problem is &quot;signature is invalid&quot;.After i attach the signature to pdf. Could you please share your full code  of WORKING SOLUTION ?","body":"@FabrizioBarone i have faced the problem is &quot;signature is invalid&quot;.After i attach the signature to pdf. Could you please share your full code  of WORKING SOLUTION ?"},{"owner":{"account_id":11927910,"reputation":41,"user_id":8728664,"display_name":"Fabrizio Barone"},"score":0,"creation_date":1604658925,"post_id":55901977,"comment_id":114420484,"body_markdown":"Sorry i don&#39;t have access anymore to the code. \n\nwith the help of MKL and a lot of ASN1 debugging i did it. \n\nyou can refer to &quot;Full Working Code updated&quot; section in this page","body":"Sorry i don&#39;t have access anymore to the code.   with the help of MKL and a lot of ASN1 debugging i did it.   you can refer to &quot;Full Working Code updated&quot; section in this page"},{"owner":{"account_id":342927,"reputation":2019,"user_id":674342,"accept_rate":59,"display_name":"Vijay"},"score":0,"creation_date":1686823501,"post_id":55901977,"comment_id":134853612,"body_markdown":"which version is this coder, i am not able to compile","body":"which version is this coder, i am not able to compile"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557308110,"creation_date":1557247590,"answer_id":56027151,"question_id":55901977,"body_markdown":"### Your current code\n\n*Your current code signs the entirely wrong hash.*\n\nYou sign `hash` which is calculated as\n\n    InputStream data = sap.getRangeStream();\n    byte hash[] = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA256&quot;));\n\nI.e. you directly sign the hash of the signed ranges of the document. This is wrong because you are building a PKCS#7 signature container with signed attributes, i.e. the hash of the signed ranges of the document must be the value of one of those signed attributes and you have to sign the hash of the signed attributes!\n\n### Your former code\n\n*Your former code signed the wrong bytes, too, but was nearer to the correct bytes.*\n\nYou used to sign `last32` which was calculated as\n\n    byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, ocsp, null, MakeSignature.CryptoStandard.CMS);\n    byte[] last32 = Arrays.copyOfRange(sh, sh.length - 32, sh.length);\n\nI.e. you correctly generated the signed attribute bytes (aka authenticated attribute bytes) with `hash` included as attribute value, but then you simply took the last 32 bytes thereof. This is wrong, you must sign the hash of the signed attribute bytes, not their final 32 bytes.\n\n### What should work\n\nYou should sign `signedAttributesHash`, the hash of the signed attribute bytes, i.e. \n\n    byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, ocsp, null, MakeSignature.CryptoStandard.CMS);\n    byte[] signedAttributesHash = DigestAlgorithms.digest(new ByteArrayInputStream(sh), externalDigest.getMessageDigest(&quot;SHA256&quot;));\n\n","title":"Insert a SignedHash into PDF for external signing process - WorkingSample","body":"<h3>Your current code</h3>\n<p><em>Your current code signs the entirely wrong hash.</em></p>\n<p>You sign <code>hash</code> which is calculated as</p>\n<pre><code>InputStream data = sap.getRangeStream();\nbyte hash[] = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA256&quot;));\n</code></pre>\n<p>I.e. you directly sign the hash of the signed ranges of the document. This is wrong because you are building a PKCS#7 signature container with signed attributes, i.e. the hash of the signed ranges of the document must be the value of one of those signed attributes and you have to sign the hash of the signed attributes!</p>\n<h3>Your former code</h3>\n<p><em>Your former code signed the wrong bytes, too, but was nearer to the correct bytes.</em></p>\n<p>You used to sign <code>last32</code> which was calculated as</p>\n<pre><code>byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, ocsp, null, MakeSignature.CryptoStandard.CMS);\nbyte[] last32 = Arrays.copyOfRange(sh, sh.length - 32, sh.length);\n</code></pre>\n<p>I.e. you correctly generated the signed attribute bytes (aka authenticated attribute bytes) with <code>hash</code> included as attribute value, but then you simply took the last 32 bytes thereof. This is wrong, you must sign the hash of the signed attribute bytes, not their final 32 bytes.</p>\n<h3>What should work</h3>\n<p>You should sign <code>signedAttributesHash</code>, the hash of the signed attribute bytes, i.e.</p>\n<pre><code>byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, ocsp, null, MakeSignature.CryptoStandard.CMS);\nbyte[] signedAttributesHash = DigestAlgorithms.digest(new ByteArrayInputStream(sh), externalDigest.getMessageDigest(&quot;SHA256&quot;));\n</code></pre>\n"}],"owner":{"account_id":11927910,"reputation":41,"user_id":8728664,"display_name":"Fabrizio Barone"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56027151,"answer_count":1,"score":2,"last_activity_date":1659539492,"creation_date":1556535711,"question_id":55901977,"body_markdown":"Following the eBook section 4.3.3  &quot;[Digital Signature for PDF document][1]&quot;\r\nI&#39;m trying to create a working example where : \r\n\r\n - the client has a PDF to sign and only a public Cert \r\n - the External HW (with private cert) takes an HASH and returns a SIGNED HASH \r\n\r\nI tried to do it, but the signature inside the PDF shows me that the file was modified after the signing process. \r\n\r\nThe following code takes the original PDF and a public certificate and create a temporary pdf with empty sign and return an HASH \r\n\r\nThis hash is sent externally to another remote application (where there is a corrispondent Private cert) and returns the signed hash, I read the signed hash and added it into the temporary pdf.\r\n\r\nFull Working Code updated: \r\n\r\n  \r\n\r\n    package com.Marloo;\r\n        \r\n    \r\n    import org.apache.commons.codec.Charsets;\r\n    import org.bouncycastle.util.encoders.Base64;\r\n    import com.itextpdf.text.DocumentException;\r\n    import com.itextpdf.text.Rectangle;\r\n    import com.itextpdf.text.pdf.*;\r\n    import com.itextpdf.text.pdf.security.*;\r\n    \r\n    import java.io.*;\r\n    import java.security.GeneralSecurityException;\r\n    import java.security.MessageDigest;\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.*;\r\n    \r\n    public class Test {\r\n    \r\n        public static final String CERT = &quot;src/main/resources/certificate.pem&quot;;\r\n        public static final String SRC = &quot;src/main/resources/tmp.pdf&quot;;\r\n        public static final String DEST = &quot;src/main/resources/signed.pdf&quot;;\r\n    \r\n        public static void main(String args[]) throws IOException {\r\n            getHash(SRC, CERT);\r\n        }\r\n    \r\n    \r\n    \r\n        public static void getHash(String doc, String cert) throws IOException {\r\n    \r\n            try {\r\n    \r\n                File initialFile = new File(cert);\r\n                InputStream is = new FileInputStream(initialFile);\r\n    \r\n                // We get the self-signed certificate from the client\r\n                CertificateFactory factory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                Certificate[] chain = new Certificate[1];\r\n                chain[0] = factory.generateCertificate(is);\r\n    \r\n                // we create a reader and a stamper\r\n                PdfReader reader = new PdfReader(doc);\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                PdfStamper stamper = PdfStamper.createSignature(reader, baos, &#39;\\0&#39;);\r\n    \r\n                // we create the signature appearance\r\n                PdfSignatureAppearance sap = stamper.getSignatureAppearance();\r\n                sap.setReason(&quot;TEST REASON&quot;);\r\n                sap.setLocation(&quot;TEST LOCATION&quot;);\r\n                //sap.setVisibleSignature(new Rectangle(36, 748, 144, 780), 1, &quot;sig&quot;); //visible\r\n                sap.setVisibleSignature(new Rectangle(36, 748, 36, 748), 1, &quot;sig&quot;); //invisible\r\n                sap.setCertificate(chain[0]);\r\n    \r\n                // we create the signature infrastructure\r\n                PdfSignature dic = new PdfSignature(PdfName.ADOBE_PPKLITE, PdfName.ADBE_PKCS7_DETACHED);\r\n                dic.setReason(sap.getReason());\r\n                dic.setLocation(sap.getLocation());\r\n                dic.setContact(sap.getContact());\r\n                dic.setDate(new PdfDate(sap.getSignDate()));\r\n                sap.setCryptoDictionary(dic);\r\n                HashMap&lt;PdfName, Integer&gt; exc = new HashMap&lt;PdfName, Integer&gt;();\r\n                exc.put(PdfName.CONTENTS, new Integer(8192 * 2 + 2));\r\n                sap.preClose(exc);\r\n                ExternalDigest externalDigest = new ExternalDigest() {\r\n                    public MessageDigest getMessageDigest(String hashAlgorithm)\r\n                            throws GeneralSecurityException {\r\n                        return DigestAlgorithms.getMessageDigest(hashAlgorithm, null);\r\n                    }\r\n                };\r\n                PdfPKCS7 sgn = new PdfPKCS7(null, chain, &quot;SHA256&quot;, null, externalDigest, false);\r\n                InputStream data = sap.getRangeStream();\r\n                byte hash[] = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA256&quot;));\r\n    \r\n    \r\n                // we get OCSP and CRL for the cert\r\n                OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\r\n                OcspClient ocspClient = new OcspClientBouncyCastle(ocspVerifier);\r\n                byte[] ocsp = null;\r\n                if (chain.length &gt;= 2 &amp;&amp; ocspClient != null) {\r\n                    ocsp = ocspClient.getEncoded((X509Certificate) chain[0], (X509Certificate) chain[1], null);\r\n                }\r\n    \r\n            byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, null, null, MakeSignature.CryptoStandard.CMS);\r\n            InputStream sh_is = new ByteArrayInputStream(sh);\r\n            byte[] signedAttributesHash = DigestAlgorithms.digest(sh_is, externalDigest.getMessageDigest(&quot;SHA256&quot;));\r\n\r\n\r\n            System.out.println(&quot;----------------------------------------------&quot;);\r\n            System.out.println(&quot;Hash to be sign:&quot;);\r\n            System.out.println( new String(Base64.encode(signedAttributesHash), Charsets.UTF_8));\r\n                System.out.println(&quot;----------------------------------------------&quot;);\r\n                System.out.println(&quot;Insert b64 signed hash [ENTER]&quot;);\r\n                System.out.println(&quot;----------------------------------------------&quot;);\r\n    \r\n                Scanner in = new Scanner(System.in);\r\n                String signedHashB64 = in.nextLine();\r\n                System.out.println( signedHashB64);\r\n    \r\n                ByteArrayOutputStream os = baos;\r\n    \r\n                byte[] signedHash = org.apache.commons.codec.binary.Base64.decodeBase64(signedHashB64.getBytes());\r\n    \r\n                // we complete the PDF signing process\r\n                sgn.setExternalDigest(signedHash, null, &quot;RSA&quot;);\r\n                Collection&lt;byte[]&gt; crlBytes = null;\r\n                TSAClientBouncyCastle tsaClient = new TSAClientBouncyCastle(&quot;http://timestamp.gdca.com.cn/tsa&quot;, null, null);\r\n    \r\n                byte[] encodedSig = sgn.getEncodedPKCS7(hash, tsaClient, ocsp, crlBytes, MakeSignature.CryptoStandard.CMS);\r\n                byte[] paddedSig = new byte[8192];\r\n                System.arraycopy(encodedSig, 0, paddedSig, 0, encodedSig.length);\r\n                PdfDictionary dic2 = new PdfDictionary();\r\n                dic2.put(PdfName.CONTENTS, new PdfString(paddedSig).setHexWriting(true));\r\n    \r\n                try {\r\n                    sap.close(dic2);\r\n                } catch (DocumentException e) {\r\n                    throw new IOException(e);\r\n                }\r\n    \r\n                FileOutputStream fos = new FileOutputStream(new File(DEST));\r\n                os.writeTo(fos);\r\n    \r\n                System.out.println(&quot;pdfsig &quot; + System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + DEST);\r\n                System.out.println(&quot;------------------End Of Life --------------------------&quot;);\r\n    \r\n                System.exit(0);\r\n    \r\n    \r\n            } catch (GeneralSecurityException e) {\r\n                throw new IOException(e);\r\n            } catch (DocumentException e) {\r\n                throw new IOException(e);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nHere some [![screenshot][2]][2]\r\n\r\n\r\nSome hint: \r\nin this incomplete [post][3] the author says: \r\n\r\n&gt; &quot;After much debugging, we finally found the problem.\r\n&gt; \r\n&gt; For some mysterious reason, the method that generates the hash of the\r\n&gt; document, was executed twice, invalidating the first hash (which we\r\n&gt; use to send to the service).\r\n&gt; \r\n&gt; After a refactoring work of the code, the original code worked\r\n&gt; correctly.\r\n&gt; \r\n&gt; Very thanks to all people that help me, especially mkl.&quot;\r\n\r\n\r\nbut no futher information was provided, \r\nalso the Time write on the stamper and the time from TSA is different on purpose. I think this wouldn&#39;t be the problem. \r\n\r\n\r\nSome hints ? \r\n\r\nThanks \r\n\r\nUpdate 1 \r\n-----------------------------------------------------\r\n(the previus code was updated) \r\n\r\nthe external services doesn&#39;t accept in input the whole Sign structure but only the 32byte hash \r\n \r\n[![screenshot2][4]][4]\r\n\r\nnow the sh var is never used ! \r\n\r\ni take the hash byte[], send to it but again Adobe Reader say that the file was modified. \r\n\r\nMaybe can i try with the &quot;invisible signature&quot; method. Or the &quot;visible stamper&quot; didn&#39;t make difference in the signature validation process ? \r\n\r\nOr Maybe i need to recreate a ANS.1 structure somehow with the signed byte and then sign the doc ? \r\n\r\nMaybe the time must be the same between the tsa and the sign ? \r\n\r\n[![Screenshot3][5]][5]\r\n\r\nAny kind of help would be appreciates. \r\n\r\nThanks \r\n\r\nUpdate 2 - WORKING SOLUTION !!!\r\n-----------------------------------------------------\r\n\r\nReally really really thanks to mkl for the answer ! \r\n\r\nthe working fix was that we need to generate the hash of the signed/authenticated attributes inside the PKCS#7 package !!! See the original code at the `signedAttributesHash` variable\r\n[![signed pdf image][6]][6]\r\n\r\n\r\n  [1]: https://jira.nuxeo.com/secure/attachment/49931/digitalsignatures20130304.pdf\r\n  [2]: https://i.stack.imgur.com/5t9Uu.png\r\n  [3]: https://stackoverflow.com/questions/28717704/sign-pdf-using-an-external-service-and-itext/55899277#55899277\r\n  [4]: https://i.stack.imgur.com/j9kxw.png\r\n  [5]: https://i.stack.imgur.com/PzEks.png\r\n  [6]: https://i.stack.imgur.com/cACeX.jpg","title":"Insert a SignedHash into PDF for external signing process - WorkingSample","body":"<p>Following the eBook section 4.3.3  \"<a href=\"https://jira.nuxeo.com/secure/attachment/49931/digitalsignatures20130304.pdf\" rel=\"nofollow noreferrer\">Digital Signature for PDF document</a>\"\nI'm trying to create a working example where : </p>\n\n<ul>\n<li>the client has a PDF to sign and only a public Cert </li>\n<li>the External HW (with private cert) takes an HASH and returns a SIGNED HASH </li>\n</ul>\n\n<p>I tried to do it, but the signature inside the PDF shows me that the file was modified after the signing process. </p>\n\n<p>The following code takes the original PDF and a public certificate and create a temporary pdf with empty sign and return an HASH </p>\n\n<p>This hash is sent externally to another remote application (where there is a corrispondent Private cert) and returns the signed hash, I read the signed hash and added it into the temporary pdf.</p>\n\n<p>Full Working Code updated: </p>\n\n<pre><code>package com.Marloo;\n\n\nimport org.apache.commons.codec.Charsets;\nimport org.bouncycastle.util.encoders.Base64;\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.Rectangle;\nimport com.itextpdf.text.pdf.*;\nimport com.itextpdf.text.pdf.security.*;\n\nimport java.io.*;\nimport java.security.GeneralSecurityException;\nimport java.security.MessageDigest;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.util.*;\n\npublic class Test {\n\n    public static final String CERT = \"src/main/resources/certificate.pem\";\n    public static final String SRC = \"src/main/resources/tmp.pdf\";\n    public static final String DEST = \"src/main/resources/signed.pdf\";\n\n    public static void main(String args[]) throws IOException {\n        getHash(SRC, CERT);\n    }\n\n\n\n    public static void getHash(String doc, String cert) throws IOException {\n\n        try {\n\n            File initialFile = new File(cert);\n            InputStream is = new FileInputStream(initialFile);\n\n            // We get the self-signed certificate from the client\n            CertificateFactory factory = CertificateFactory.getInstance(\"X.509\");\n            Certificate[] chain = new Certificate[1];\n            chain[0] = factory.generateCertificate(is);\n\n            // we create a reader and a stamper\n            PdfReader reader = new PdfReader(doc);\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            PdfStamper stamper = PdfStamper.createSignature(reader, baos, '\\0');\n\n            // we create the signature appearance\n            PdfSignatureAppearance sap = stamper.getSignatureAppearance();\n            sap.setReason(\"TEST REASON\");\n            sap.setLocation(\"TEST LOCATION\");\n            //sap.setVisibleSignature(new Rectangle(36, 748, 144, 780), 1, \"sig\"); //visible\n            sap.setVisibleSignature(new Rectangle(36, 748, 36, 748), 1, \"sig\"); //invisible\n            sap.setCertificate(chain[0]);\n\n            // we create the signature infrastructure\n            PdfSignature dic = new PdfSignature(PdfName.ADOBE_PPKLITE, PdfName.ADBE_PKCS7_DETACHED);\n            dic.setReason(sap.getReason());\n            dic.setLocation(sap.getLocation());\n            dic.setContact(sap.getContact());\n            dic.setDate(new PdfDate(sap.getSignDate()));\n            sap.setCryptoDictionary(dic);\n            HashMap&lt;PdfName, Integer&gt; exc = new HashMap&lt;PdfName, Integer&gt;();\n            exc.put(PdfName.CONTENTS, new Integer(8192 * 2 + 2));\n            sap.preClose(exc);\n            ExternalDigest externalDigest = new ExternalDigest() {\n                public MessageDigest getMessageDigest(String hashAlgorithm)\n                        throws GeneralSecurityException {\n                    return DigestAlgorithms.getMessageDigest(hashAlgorithm, null);\n                }\n            };\n            PdfPKCS7 sgn = new PdfPKCS7(null, chain, \"SHA256\", null, externalDigest, false);\n            InputStream data = sap.getRangeStream();\n            byte hash[] = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(\"SHA256\"));\n\n\n            // we get OCSP and CRL for the cert\n            OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\n            OcspClient ocspClient = new OcspClientBouncyCastle(ocspVerifier);\n            byte[] ocsp = null;\n            if (chain.length &gt;= 2 &amp;&amp; ocspClient != null) {\n                ocsp = ocspClient.getEncoded((X509Certificate) chain[0], (X509Certificate) chain[1], null);\n            }\n\n        byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, null, null, MakeSignature.CryptoStandard.CMS);\n        InputStream sh_is = new ByteArrayInputStream(sh);\n        byte[] signedAttributesHash = DigestAlgorithms.digest(sh_is, externalDigest.getMessageDigest(\"SHA256\"));\n\n\n        System.out.println(\"----------------------------------------------\");\n        System.out.println(\"Hash to be sign:\");\n        System.out.println( new String(Base64.encode(signedAttributesHash), Charsets.UTF_8));\n            System.out.println(\"----------------------------------------------\");\n            System.out.println(\"Insert b64 signed hash [ENTER]\");\n            System.out.println(\"----------------------------------------------\");\n\n            Scanner in = new Scanner(System.in);\n            String signedHashB64 = in.nextLine();\n            System.out.println( signedHashB64);\n\n            ByteArrayOutputStream os = baos;\n\n            byte[] signedHash = org.apache.commons.codec.binary.Base64.decodeBase64(signedHashB64.getBytes());\n\n            // we complete the PDF signing process\n            sgn.setExternalDigest(signedHash, null, \"RSA\");\n            Collection&lt;byte[]&gt; crlBytes = null;\n            TSAClientBouncyCastle tsaClient = new TSAClientBouncyCastle(\"http://timestamp.gdca.com.cn/tsa\", null, null);\n\n            byte[] encodedSig = sgn.getEncodedPKCS7(hash, tsaClient, ocsp, crlBytes, MakeSignature.CryptoStandard.CMS);\n            byte[] paddedSig = new byte[8192];\n            System.arraycopy(encodedSig, 0, paddedSig, 0, encodedSig.length);\n            PdfDictionary dic2 = new PdfDictionary();\n            dic2.put(PdfName.CONTENTS, new PdfString(paddedSig).setHexWriting(true));\n\n            try {\n                sap.close(dic2);\n            } catch (DocumentException e) {\n                throw new IOException(e);\n            }\n\n            FileOutputStream fos = new FileOutputStream(new File(DEST));\n            os.writeTo(fos);\n\n            System.out.println(\"pdfsig \" + System.getProperty(\"user.dir\") + \"/\" + DEST);\n            System.out.println(\"------------------End Of Life --------------------------\");\n\n            System.exit(0);\n\n\n        } catch (GeneralSecurityException e) {\n            throw new IOException(e);\n        } catch (DocumentException e) {\n            throw new IOException(e);\n        }\n\n    }\n\n\n}\n</code></pre>\n\n<p>Here some <a href=\"https://i.stack.imgur.com/5t9Uu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5t9Uu.png\" alt=\"screenshot\"></a></p>\n\n<p>Some hint: \nin this incomplete <a href=\"https://stackoverflow.com/questions/28717704/sign-pdf-using-an-external-service-and-itext/55899277#55899277\">post</a> the author says: </p>\n\n<blockquote>\n  <p>\"After much debugging, we finally found the problem.</p>\n  \n  <p>For some mysterious reason, the method that generates the hash of the\n  document, was executed twice, invalidating the first hash (which we\n  use to send to the service).</p>\n  \n  <p>After a refactoring work of the code, the original code worked\n  correctly.</p>\n  \n  <p>Very thanks to all people that help me, especially mkl.\"</p>\n</blockquote>\n\n<p>but no futher information was provided, \nalso the Time write on the stamper and the time from TSA is different on purpose. I think this wouldn't be the problem. </p>\n\n<p>Some hints ? </p>\n\n<p>Thanks </p>\n\n<h2>Update 1</h2>\n\n<p>(the previus code was updated) </p>\n\n<p>the external services doesn't accept in input the whole Sign structure but only the 32byte hash </p>\n\n<p><a href=\"https://i.stack.imgur.com/j9kxw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9kxw.png\" alt=\"screenshot2\"></a></p>\n\n<p>now the sh var is never used ! </p>\n\n<p>i take the hash byte[], send to it but again Adobe Reader say that the file was modified. </p>\n\n<p>Maybe can i try with the \"invisible signature\" method. Or the \"visible stamper\" didn't make difference in the signature validation process ? </p>\n\n<p>Or Maybe i need to recreate a ANS.1 structure somehow with the signed byte and then sign the doc ? </p>\n\n<p>Maybe the time must be the same between the tsa and the sign ? </p>\n\n<p><a href=\"https://i.stack.imgur.com/PzEks.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PzEks.png\" alt=\"Screenshot3\"></a></p>\n\n<p>Any kind of help would be appreciates. </p>\n\n<p>Thanks </p>\n\n<h2>Update 2 - WORKING SOLUTION !!!</h2>\n\n<p>Really really really thanks to mkl for the answer ! </p>\n\n<p>the working fix was that we need to generate the hash of the signed/authenticated attributes inside the PKCS#7 package !!! See the original code at the <code>signedAttributesHash</code> variable\n<a href=\"https://i.stack.imgur.com/cACeX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cACeX.jpg\" alt=\"signed pdf image\"></a></p>\n"},{"tags":["java","android","unit-testing","android-gradle-plugin","android-sourcesets"],"comments":[{"owner":{"account_id":3169149,"reputation":6095,"user_id":2678527,"accept_rate":43,"display_name":"Rana Ranvijay Singh"},"score":0,"creation_date":1490593473,"post_id":42922563,"comment_id":73162342,"body_markdown":"Hey man I have not used source set, but I was able to run flavour based test using this command pattern. (Without quotes) &quot;./gradlew test&lt;ProductFlavour&gt;&lt;BuildType&gt;UnitTest&quot;.","body":"Hey man I have not used source set, but I was able to run flavour based test using this command pattern. (Without quotes) &quot;./gradlew test&lt;ProductFlavour&gt;&lt;BuildType&gt;UnitTest&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3169149,"reputation":6095,"user_id":2678527,"accept_rate":43,"display_name":"Rana Ranvijay Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1490594114,"creation_date":1490594114,"answer_id":43038817,"question_id":42922563,"body_markdown":"If you have your **product flavour** and **build type** created like this.\r\n\r\n    buildTypes {\r\n            release {\r\n                ...\r\n            }\r\n    \r\n            debug {\r\n                debuggable true\r\n            }\r\n        }\r\n    \r\n        productFlavors {\r\n            develop {\r\n    \r\n            }\r\n    \r\n            production {\r\n    \r\n            }\r\n        }\r\n\r\nYou can run flavour based test using this command in your studio terminal.\r\n&lt;br/&gt;\r\n\r\n - For **develop** flavour and **debug** build : **./gradlew testDevelopDebugUnitTest**\r\n - For **develop** flavour and **release** build : **./gradlew testDevelopReleaseUnitTest**\r\n\r\n&lt;br/&gt;So the pattern goes like **test&lt;_Flavour_&gt;&lt;_BuildType_&gt;UnitTest**","title":"Run unit test for main and specific flavours android","body":"<p>If you have your <strong>product flavour</strong> and <strong>build type</strong> created like this.</p>\n\n<pre><code>buildTypes {\n        release {\n            ...\n        }\n\n        debug {\n            debuggable true\n        }\n    }\n\n    productFlavors {\n        develop {\n\n        }\n\n        production {\n\n        }\n    }\n</code></pre>\n\n<p>You can run flavour based test using this command in your studio terminal.\n<br/></p>\n\n<ul>\n<li>For <strong>develop</strong> flavour and <strong>debug</strong> build : <strong>./gradlew testDevelopDebugUnitTest</strong></li>\n<li>For <strong>develop</strong> flavour and <strong>release</strong> build : <strong>./gradlew testDevelopReleaseUnitTest</strong></li>\n</ul>\n\n<p><br/>So the pattern goes like <strong>test&lt;<em>Flavour</em>>&lt;<em>BuildType</em>>UnitTest</strong></p>\n"},{"tags":[],"owner":{"account_id":1607170,"reputation":7876,"user_id":1487025,"accept_rate":50,"display_name":"Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659539402,"creation_date":1659539402,"answer_id":73223740,"question_id":42922563,"body_markdown":"Running `./gradlew tasks` will show you list of all tasks you can run for all combinations of your build types and flavors.\r\nScroll down to find the tasks related to tests.","title":"Run unit test for main and specific flavours android","body":"<p>Running <code>./gradlew tasks</code> will show you list of all tasks you can run for all combinations of your build types and flavors.\nScroll down to find the tasks related to tests.</p>\n"}],"owner":{"account_id":1816267,"reputation":1804,"user_id":1651286,"accept_rate":50,"display_name":"Akhil Dad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3303,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43038817,"answer_count":2,"score":4,"last_activity_date":1659539402,"creation_date":1490087323,"question_id":42922563,"body_markdown":"I have 5 Flavors mapped to 2 source folders with some common code written in main folder, The b folder has some extra beans for which I have written unit test, now I want to run unit test like all the unit tests in main folders run with some specific unit test written for B app.\r\n\r\n1.Where should I place the folder specific unit test for B app. I have trued creating a folder test and placing those test in that folder and adding\r\n\r\n ` unitTest {\r\n            java.srcDir file(&#39;src/b/test&#39;)\r\n        }`\r\n\r\nin the source set of B app but not this is not working\r\n2.How should I place mapping for unit tests, these are not android tests, I already tired [this][1] and [this][2] but these seems to be for Android Test not for unit test.\r\n\r\n\r\n    productFlavors {\r\n            staging {\r\n                applicationIdSuffix = &quot;.test&quot;\r\n                resValue &quot;string&quot;, &quot;app_name&quot;, &quot;A Test&quot;\r\n                //other keys\r\n            }\r\n            prod {\r\n                resValue &quot;string&quot;, &quot;app_name&quot;, &quot;A&quot;\r\n                //other keys\r\n            }\r\n            dev {\r\n                applicationIdSuffix = &quot;.dev&quot;\r\n                resValue &quot;string&quot;, &quot;app_name&quot;, &quot;A Dev&quot;\r\n                //other keys\r\n            }\r\n    \r\n            BStaging {\r\n                applicationIdSuffix = &quot;.b.test&quot;\r\n                resValue &quot;string&quot;, &quot;app_name&quot;, &quot;B Test&quot;\r\n             //other keys\r\n            }\r\n    \r\n            BProd {\r\n                applicationIdSuffix = &quot;.b&quot;\r\n                resValue &quot;string&quot;, &quot;app_name&quot;, &quot;B&quot;\r\n          //other keys\r\n            }\r\n        }\r\n\r\n    sourceSets {\r\n            prod {\r\n                java.srcDirs = [&#39;src/a/java&#39;]\r\n                res.srcDirs = [&#39;src/a/res&#39;]\r\n                resources.srcDirs = [&#39;src/a/java&#39;]\r\n                manifest.srcFile &#39;src/a/AndroidManifest.xml&#39;\r\n            }\r\n            dev {\r\n                java.srcDirs = [&#39;src/a/java&#39;]\r\n                res.srcDirs = [&#39;src/a/res&#39;]\r\n                resources.srcDirs = [&#39;src/a/java&#39;]\r\n                manifest.srcFile &#39;src/a/AndroidManifest.xml&#39;\r\n            }\r\n            staging {\r\n                java.srcDirs = [&#39;src/a/java&#39;]\r\n                res.srcDirs = [&#39;src/a/res&#39;]\r\n                resources.srcDirs = [&#39;src/a/java&#39;]\r\n                manifest.srcFile &#39;src/a/AndroidManifest.xml&#39;\r\n            }\r\n            BStaging {\r\n                java.srcDirs = [&#39;src/b/java&#39;]\r\n                res.srcDirs = [&#39;src/b/res&#39;]\r\n                resources.srcDirs = [&#39;src/b/java&#39;]\r\n                manifest.srcFile &#39;src/b/AndroidManifest.xml&#39;\r\n            }\r\n            BProd {\r\n                java.srcDirs = [&#39;src/b/java&#39;]\r\n                res.srcDirs = [&#39;src/b/res&#39;]\r\n                resources.srcDirs = [&#39;src/b/java&#39;]\r\n                manifest.srcFile &#39;src/b/AndroidManifest.xml&#39;\r\n    \r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21673395/how-to-run-unit-tests-with-dependency-to-an-android-library-module\r\n  [2]: https://stackoverflow.com/questions/27154115/create-separate-test-module-project-in-android-studio","title":"Run unit test for main and specific flavours android","body":"<p>I have 5 Flavors mapped to 2 source folders with some common code written in main folder, The b folder has some extra beans for which I have written unit test, now I want to run unit test like all the unit tests in main folders run with some specific unit test written for B app.</p>\n\n<p>1.Where should I place the folder specific unit test for B app. I have trued creating a folder test and placing those test in that folder and adding</p>\n\n<p><code>unitTest {\n            java.srcDir file('src/b/test')\n        }</code></p>\n\n<p>in the source set of B app but not this is not working\n2.How should I place mapping for unit tests, these are not android tests, I already tired <a href=\"https://stackoverflow.com/questions/21673395/how-to-run-unit-tests-with-dependency-to-an-android-library-module\">this</a> and <a href=\"https://stackoverflow.com/questions/27154115/create-separate-test-module-project-in-android-studio\">this</a> but these seems to be for Android Test not for unit test.</p>\n\n<pre><code>productFlavors {\n        staging {\n            applicationIdSuffix = \".test\"\n            resValue \"string\", \"app_name\", \"A Test\"\n            //other keys\n        }\n        prod {\n            resValue \"string\", \"app_name\", \"A\"\n            //other keys\n        }\n        dev {\n            applicationIdSuffix = \".dev\"\n            resValue \"string\", \"app_name\", \"A Dev\"\n            //other keys\n        }\n\n        BStaging {\n            applicationIdSuffix = \".b.test\"\n            resValue \"string\", \"app_name\", \"B Test\"\n         //other keys\n        }\n\n        BProd {\n            applicationIdSuffix = \".b\"\n            resValue \"string\", \"app_name\", \"B\"\n      //other keys\n        }\n    }\n\nsourceSets {\n        prod {\n            java.srcDirs = ['src/a/java']\n            res.srcDirs = ['src/a/res']\n            resources.srcDirs = ['src/a/java']\n            manifest.srcFile 'src/a/AndroidManifest.xml'\n        }\n        dev {\n            java.srcDirs = ['src/a/java']\n            res.srcDirs = ['src/a/res']\n            resources.srcDirs = ['src/a/java']\n            manifest.srcFile 'src/a/AndroidManifest.xml'\n        }\n        staging {\n            java.srcDirs = ['src/a/java']\n            res.srcDirs = ['src/a/res']\n            resources.srcDirs = ['src/a/java']\n            manifest.srcFile 'src/a/AndroidManifest.xml'\n        }\n        BStaging {\n            java.srcDirs = ['src/b/java']\n            res.srcDirs = ['src/b/res']\n            resources.srcDirs = ['src/b/java']\n            manifest.srcFile 'src/b/AndroidManifest.xml'\n        }\n        BProd {\n            java.srcDirs = ['src/b/java']\n            res.srcDirs = ['src/b/res']\n            resources.srcDirs = ['src/b/java']\n            manifest.srcFile 'src/b/AndroidManifest.xml'\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","multithreading","libgdx"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1659536271,"post_id":73223018,"comment_id":129318327,"body_markdown":"I think the most obvious idea is that the calculations here are so simple, the overhead of running the thread eats up any possible savings in time.  This is obviously something that would be better to do in the main thread of execution.","body":"I think the most obvious idea is that the calculations here are so simple, the overhead of running the thread eats up any possible savings in time.  This is obviously something that would be better to do in the main thread of execution."},{"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"score":0,"creation_date":1659536495,"post_id":73223018,"comment_id":129318414,"body_markdown":"Yeah I thought of that too. The only reason I even use Threads is because while loops cause hangs in the render functions","body":"Yeah I thought of that too. The only reason I even use Threads is because while loops cause hangs in the render functions"}],"answers":[{"tags":[],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659538828,"creation_date":1659538828,"answer_id":73223666,"question_id":73223018,"body_markdown":"As said in the comment, there was no function for `isButtonJustUp()` which made it not be able to run sequentially. Therefore I made a Thread *so that* it was sequential which is not a good implementation of Threads. I&#39;ve come up with a solution:\r\n\r\n```\r\n        if(Gdx.input.isButtonPressed(RIGHT)) {\r\n            m += 100;\r\n        } else if(InputProcessor.isButtonJustUp() &amp;&amp; InputProcessor.getButtonLetGo() == RIGHT) {\r\n            planets.add(new Planet(10, m, mouseOnWorld2.x, mouseOnWorld2.y));\r\n            m=0;\r\n        }\r\n```\r\nI haven&#39;t made `isButtonJustUp()` yet but it is the best way rather than implementing an unnecessary Thread.\r\n","title":"Extra Thread decreases FPS in LibGDX Java","body":"<p>As said in the comment, there was no function for <code>isButtonJustUp()</code> which made it not be able to run sequentially. Therefore I made a Thread <em>so that</em> it was sequential which is not a good implementation of Threads. I've come up with a solution:</p>\n<pre><code>        if(Gdx.input.isButtonPressed(RIGHT)) {\n            m += 100;\n        } else if(InputProcessor.isButtonJustUp() &amp;&amp; InputProcessor.getButtonLetGo() == RIGHT) {\n            planets.add(new Planet(10, m, mouseOnWorld2.x, mouseOnWorld2.y));\n            m=0;\n        }\n</code></pre>\n<p>I haven't made <code>isButtonJustUp()</code> yet but it is the best way rather than implementing an unnecessary Thread.</p>\n"}],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73223666,"answer_count":1,"score":1,"last_activity_date":1659538828,"creation_date":1659535692,"question_id":73223018,"body_markdown":"I am using a Thread to do some calculations related to the app that need to be done simultaneously but this Thread causes the FPS to drop (logically) and I wanted to know how to resolve the issue as the Thread is not doing any heavy calculations at all. Here is the code where I implement the Thread and the Thread itself. \r\n```\r\n        incrementMass = new IncrementMass();\r\n        incrementMass.start();\r\n        // I added some extra functionality to the InputProcessor but I assume that is irrelevant\r\n        if(InputProcessor.isButtonUp() &amp;&amp; InputProcessor.getButtonLetGo() == RIGHT &amp;&amp; !isJustPressed) {\r\n            isJustPressed = true;\r\n            try {\r\n                incrementMass.join();\r\n            } catch(InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            planets.add(new Planet(10, m, mouseOnWorld2.x, mouseOnWorld2.y));\r\n        } else if(Gdx.input.isButtonJustPressed(RIGHT)) {\r\n            isJustPressed = false;\r\n            incrementMass.restart();\r\n        }\r\n\r\n```\r\nThe Thread:\r\n\r\n```\r\n\r\n/**\r\n * Thread to increment the mass in a while loop.\r\n */\r\npublic class IncrementMass extends Thread {\r\n    /**\r\n     * Increments the mass when started.\r\n     */\r\n    @Override\r\n    public void run() {\r\n        super.run();\r\n        while(Gdx.input.isButtonPressed(Input.Buttons.RIGHT)) {\r\n            MainScreen.m += 100;\r\n            System.out.println(MainScreen.m);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Resets the mass so the whole thing starts over (for the creation of a new planet)\r\n     */\r\n    public void restart() {\r\n        MainScreen.m = 100000;\r\n    }\r\n}\r\n\r\n```\r\nAll this is called in the render() function of my Screen by the way.\r\nI have one idea as to what is causing this: Every frame I create a new Thread which is not optimal but everything else I tried failed to actually perform my calculations correctly. It definitely solves the FPS problem to have the initiation of the Thread and the &#180;start()&#180; function in the constructor of my Screen but that for some reason messes with the incrementing of the mass and makes it a fixed value: the value I reset it to in &#180;restart()&#180;\r\nI&#39;ve been trying to solve this but I&#39;m baffled so here I am.","title":"Extra Thread decreases FPS in LibGDX Java","body":"<p>I am using a Thread to do some calculations related to the app that need to be done simultaneously but this Thread causes the FPS to drop (logically) and I wanted to know how to resolve the issue as the Thread is not doing any heavy calculations at all. Here is the code where I implement the Thread and the Thread itself.</p>\n<pre><code>        incrementMass = new IncrementMass();\n        incrementMass.start();\n        // I added some extra functionality to the InputProcessor but I assume that is irrelevant\n        if(InputProcessor.isButtonUp() &amp;&amp; InputProcessor.getButtonLetGo() == RIGHT &amp;&amp; !isJustPressed) {\n            isJustPressed = true;\n            try {\n                incrementMass.join();\n            } catch(InterruptedException e) {\n                e.printStackTrace();\n            }\n            planets.add(new Planet(10, m, mouseOnWorld2.x, mouseOnWorld2.y));\n        } else if(Gdx.input.isButtonJustPressed(RIGHT)) {\n            isJustPressed = false;\n            incrementMass.restart();\n        }\n\n</code></pre>\n<p>The Thread:</p>\n<pre><code>\n/**\n * Thread to increment the mass in a while loop.\n */\npublic class IncrementMass extends Thread {\n    /**\n     * Increments the mass when started.\n     */\n    @Override\n    public void run() {\n        super.run();\n        while(Gdx.input.isButtonPressed(Input.Buttons.RIGHT)) {\n            MainScreen.m += 100;\n            System.out.println(MainScreen.m);\n        }\n    }\n\n    /**\n     * Resets the mass so the whole thing starts over (for the creation of a new planet)\n     */\n    public void restart() {\n        MainScreen.m = 100000;\n    }\n}\n\n</code></pre>\n<p>All this is called in the render() function of my Screen by the way.\nI have one idea as to what is causing this: Every frame I create a new Thread which is not optimal but everything else I tried failed to actually perform my calculations correctly. It definitely solves the FPS problem to have the initiation of the Thread and the Â´start()Â´ function in the constructor of my Screen but that for some reason messes with the incrementing of the mass and makes it a fixed value: the value I reset it to in Â´restart()Â´\nI've been trying to solve this but I'm baffled so here I am.</p>\n"},{"tags":["java","spring-boot","rest","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659537731,"post_id":73223312,"comment_id":129318980,"body_markdown":"The fact that **the request body is almost the same** already means you need different classes imho. Or use an all encompassing object and use some form of routing key instead so you could differentiate on that.","body":"The fact that <b>the request body is almost the same</b> already means you need different classes imho. Or use an all encompassing object and use some form of routing key instead so you could differentiate on that."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659538776,"creation_date":1659538776,"answer_id":73223651,"question_id":73223312,"body_markdown":"You may consider to use different queues for different request types. All of them are going to be bound to the same direct exchange, but with their respective routing key. \r\n\r\nWhat you would need on the consumer side is just to add a new `@RabbitListener` for respective queue. And bind that queue to the exchange with its routing key. \r\n\r\nThat&#39;s actually a beauty of the AMQP protol by itself: the producer always publish to the same exchange with respective routing key. The consumer registers its interest for routing keys and binds a queue. The rest of routing logic is done on the AMQP broker. \r\n\r\nSee more info in docs: https://www.rabbitmq.com/tutorials/tutorial-four-spring-amqp.html\r\n","title":"How to process messages from Spring Boot @RabbitListener in different handlers?","body":"<p>You may consider to use different queues for different request types. All of them are going to be bound to the same direct exchange, but with their respective routing key.</p>\n<p>What you would need on the consumer side is just to add a new <code>@RabbitListener</code> for respective queue. And bind that queue to the exchange with its routing key.</p>\n<p>That's actually a beauty of the AMQP protol by itself: the producer always publish to the same exchange with respective routing key. The consumer registers its interest for routing keys and binds a queue. The rest of routing logic is done on the AMQP broker.</p>\n<p>See more info in docs: <a href=\"https://www.rabbitmq.com/tutorials/tutorial-four-spring-amqp.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-four-spring-amqp.html</a></p>\n"}],"owner":{"account_id":12822065,"reputation":17,"user_id":10250453,"display_name":"krown_loki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73223651,"answer_count":1,"score":0,"last_activity_date":1659538776,"creation_date":1659537102,"question_id":73223312,"body_markdown":"I&#39;m trying to use request/response pattern for Spring Boot using AMQP and Spring-web. I have client service that has @RestController and AsyncRabbit configuration with Direct Exchange, Routing key etc. and server that has simple listener for request queue.  \r\n**Client (something like rest gateway controller):**\r\n```\r\n@RestController\r\npublic class ClientController {\r\n    @GetMapping(&quot;/test1&quot;)\r\n    public String getRequest() {\r\n       ListenableFuture&lt;String&gt; listenableFuture = asyncRabbitTemplate.convertAndReceiveAsType(\r\n           directExchange.getName(),\r\n           routingKey,\r\n           testDto,\r\n           new ParameterizedTypeReference&lt;&gt;() {}\r\n       );\r\n\r\n       return listenableFuture.get(); // Here I receive response from server services\r\n    }\r\n\r\n    @GetMapping(&quot;/test2&quot;)\r\n    public String getRequest2() {\r\n       ListenableFuture&lt;String&gt; listenableFuture = asyncRabbitTemplate.convertAndReceiveAsType(\r\n           /* Same properties but I use another DTO object for request */\r\n       );\r\n\r\n       return listenableFuture.get()\r\n}\r\n```  \r\n**Server:**  \r\n```\r\n@RabbitListener(queues = &quot;#{queue.name}&quot;, concurrency = &quot;10&quot;)\r\n@Component\r\npublic class Consumer {\r\n    @RabbitHandler\r\n    public String receive(TestDto testDto) {\r\n        ...\r\n    }\r\n\r\n    @RabbitHandler\r\n    public String receive2(AnotherTestDto anotherTestDto) {\r\n        ...\r\n    }\r\n}\r\n```  \r\nHow should I implement Rabbit listener to process each REST request?  \r\nI found only two ways to do that:  \r\n1) Using @RabbitHandler as in the example above. But for each request method (GET, POST, etc.) I need unique DTO class to send message and process it in correct handler even if &quot;request body&quot; is almost same (number of request methods = number of DTO class to send). I&#39;m not sure that is right way.  \r\n2) Leave one Consumer and call desired method to process that depends on message body (trivial if-else):  \r\n```\r\n...\r\n@RabbitListener(queues = &quot;#{queue.name}&quot;)\r\npublic String receive(MessageDto messageDto) {\r\n    if (messageDto.requestType == &quot;get.method1&quot;) {\r\n        return serverService.processThat(messageDto);\r\n    } else if (messageDto.requestType == &quot;post.method2&quot;) {\r\n        return serverService.processAnother(messageDto);\r\n    } else if ...\r\n    ...\r\n}\r\n...\r\n```  \r\nBut add new if-else branch every time is not very convenient so I really out of ideas.","title":"How to process messages from Spring Boot @RabbitListener in different handlers?","body":"<p>I'm trying to use request/response pattern for Spring Boot using AMQP and Spring-web. I have client service that has @RestController and AsyncRabbit configuration with Direct Exchange, Routing key etc. and server that has simple listener for request queue.<br />\n<strong>Client (something like rest gateway controller):</strong></p>\n<pre><code>@RestController\npublic class ClientController {\n    @GetMapping(&quot;/test1&quot;)\n    public String getRequest() {\n       ListenableFuture&lt;String&gt; listenableFuture = asyncRabbitTemplate.convertAndReceiveAsType(\n           directExchange.getName(),\n           routingKey,\n           testDto,\n           new ParameterizedTypeReference&lt;&gt;() {}\n       );\n\n       return listenableFuture.get(); // Here I receive response from server services\n    }\n\n    @GetMapping(&quot;/test2&quot;)\n    public String getRequest2() {\n       ListenableFuture&lt;String&gt; listenableFuture = asyncRabbitTemplate.convertAndReceiveAsType(\n           /* Same properties but I use another DTO object for request */\n       );\n\n       return listenableFuture.get()\n}\n</code></pre>\n<p><strong>Server:</strong></p>\n<pre><code>@RabbitListener(queues = &quot;#{queue.name}&quot;, concurrency = &quot;10&quot;)\n@Component\npublic class Consumer {\n    @RabbitHandler\n    public String receive(TestDto testDto) {\n        ...\n    }\n\n    @RabbitHandler\n    public String receive2(AnotherTestDto anotherTestDto) {\n        ...\n    }\n}\n</code></pre>\n<p>How should I implement Rabbit listener to process each REST request?<br />\nI found only two ways to do that:</p>\n<ol>\n<li>Using @RabbitHandler as in the example above. But for each request method (GET, POST, etc.) I need unique DTO class to send message and process it in correct handler even if &quot;request body&quot; is almost same (number of request methods = number of DTO class to send). I'm not sure that is right way.</li>\n<li>Leave one Consumer and call desired method to process that depends on message body (trivial if-else):</li>\n</ol>\n<pre><code>...\n@RabbitListener(queues = &quot;#{queue.name}&quot;)\npublic String receive(MessageDto messageDto) {\n    if (messageDto.requestType == &quot;get.method1&quot;) {\n        return serverService.processThat(messageDto);\n    } else if (messageDto.requestType == &quot;post.method2&quot;) {\n        return serverService.processAnother(messageDto);\n    } else if ...\n    ...\n}\n...\n</code></pre>\n<p>But add new if-else branch every time is not very convenient so I really out of ideas.</p>\n"},{"tags":["java","memory-leaks","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1659517767,"post_id":73218714,"comment_id":129311515,"body_markdown":"Have you considered the possibility that the Java GC is simply not kicking in yet because there is enough free memory to keep allocating new tuples over and over again? Try running under `-verbose:gc` and/or limiting the memory size.","body":"Have you considered the possibility that the Java GC is simply not kicking in yet because there is enough free memory to keep allocating new tuples over and over again? Try running under <code>-verbose:gc</code> and/or limiting the memory size."},{"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Greenç»¿è²"},"score":0,"creation_date":1659520162,"post_id":73218714,"comment_id":129312413,"body_markdown":"Not yet. Thanks for the hint, @Botje. So, I set the memory size of the JVM to just the right size to do one round.","body":"Not yet. Thanks for the hint, @Botje. So, I set the memory size of the JVM to just the right size to do one round."},{"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Greenç»¿è²"},"score":0,"creation_date":1659521460,"post_id":73218714,"comment_id":129312932,"body_markdown":"I&#39;m using [VisualVM](https://visualvm.github.io) now to debug it and it shows a zig-zag pattern for the actually allocated heap size. I think above method of checking memory requirement isn&#39;t very appropriate for Java programs. Let&#39;s see how it develops over time.","body":"I&#39;m using <a href=\"https://visualvm.github.io\" rel=\"nofollow noreferrer\">VisualVM</a> now to debug it and it shows a zig-zag pattern for the actually allocated heap size. I think above method of checking memory requirement isn&#39;t very appropriate for Java programs. Let&#39;s see how it develops over time."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1659524560,"post_id":73218714,"comment_id":129314123,"body_markdown":"Yes, a zig-zag pattern is normal for a process that garbage collects","body":"Yes, a zig-zag pattern is normal for a process that garbage collects"}],"answers":[{"tags":[],"owner":{"account_id":475994,"reputation":7176,"user_id":886653,"accept_rate":75,"display_name":"Pavel Zdenek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659538766,"creation_date":1659538766,"answer_id":73223650,"question_id":73218714,"body_markdown":"@Botje correctly pointed out that you are technically not creating a memory leak, but calling any `New*` in a loop of arbitrary length is a red flag anyway. First, GC can&#39;t clean up after you until you return from JNI call back to JVM. So beware the size of Java `arr`, or split to multiple JNI calls on smaller chunks. Second, JNI has a limit on how many local references you can create in one native call. Simplified, how many times you can call `New*` without paired `DeleteLocalRef` or more modern `Push/PopLocalFrame`. The fact that a [default preallocation is 16 and limit 65535][1] should give you a hint, that JNI designers were quite sensitive about this feature.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/specs/jni/functions.html#ensurelocalcapacity","title":"Debugging an JNI memory leak","body":"<p>@Botje correctly pointed out that you are technically not creating a memory leak, but calling any <code>New*</code> in a loop of arbitrary length is a red flag anyway. First, GC can't clean up after you until you return from JNI call back to JVM. So beware the size of Java <code>arr</code>, or split to multiple JNI calls on smaller chunks. Second, JNI has a limit on how many local references you can create in one native call. Simplified, how many times you can call <code>New*</code> without paired <code>DeleteLocalRef</code> or more modern <code>Push/PopLocalFrame</code>. The fact that a <a href=\"https://docs.oracle.com/en/java/javase/16/docs/specs/jni/functions.html#ensurelocalcapacity\" rel=\"nofollow noreferrer\">default preallocation is 16 and limit 65535</a> should give you a hint, that JNI designers were quite sensitive about this feature.</p>\n"}],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Greenç»¿è²"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73223650,"answer_count":1,"score":0,"last_activity_date":1659538766,"creation_date":1659516007,"question_id":73218714,"body_markdown":"I wrote a small Java JNI program that does nothing but eternally creating an array of tuples `(arr[i], arr[i+1])` from an array `arr`. Meanwhile, I use `ps aux` to record the RSS memory usage every minute and I noticed a steady increase of about 11 KB each minute on average. The JNI code is as follows:\r\n\r\n```\r\n/*\r\n * Class:     com_example_Main\r\n * Method:    shift\r\n * Signature: ([Ljava/lang/String;)[Ljava/lang/String;\r\n */\r\nJNIEXPORT jobjectArray JNICALL Java_com_example_Main_shift(JNIEnv *env, jclass cls, jobjectArray s) {\r\n    jsize n = env-&gt;GetArrayLength(s);\r\n\r\n    auto ret = (jobjectArray) env-&gt;NewObjectArray(n, env-&gt;GetObjectClass(s), env-&gt;NewStringUTF(&quot;&quot;));\r\n    for (auto i = 0; i &lt; n; i++) {\r\n        auto js = (jstring) env-&gt;GetObjectArrayElement(s, i);\r\n        auto next_js = (jstring) env-&gt;GetObjectArrayElement(s, (i + 1) % n);\r\n        auto tuple = (jobjectArray) env-&gt;NewObjectArray(2, env-&gt;FindClass(&quot;java/lang/String&quot;), env-&gt;NewStringUTF(&quot;&quot;));\r\n        env-&gt;SetObjectArrayElement(tuple, 0, js);\r\n        env-&gt;SetObjectArrayElement(tuple, 1, next_js);\r\n        env-&gt;SetObjectArrayElement(ret, i, tuple);\r\n    }\r\n    return ret;\r\n}\r\n```\r\n\r\nAs far as I can see, there is no data that needed to be cleaned up here. So, I cannot really explain why the memory is changing over time at all.\r\n\r\nIn the Java main method, I create a long array with strings and then run above `shift` over and over:\r\n\r\n```\r\npublic class Main {\r\n    static {\r\n        System.load(&quot;/path/to/a.so&quot;);\r\n    }\r\n\r\n    private static native String[][] shift(String[] s);\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; input = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int j = 0; j &lt; 500; j++) {\r\n                sb.append(j);\r\n            }\r\n            input.add(sb.toString());\r\n        }\r\n        String[] arr = input.toArray(new String[0]);\r\n\r\n        for (int it = 0; true; it++) {\r\n            String[][] next = shift(arr);\r\n            arr = Arrays.stream(next)\r\n                    .map(a -&gt; a[0])\r\n                    .toArray(String[]::new);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also wrote another version of this application where I replace the C++ code by a `return s` and change the response type of `shift` to `String[]` accordingly and that application indeed doesn&#39;t increase in memory at all after the first few minutes. That suggests that a memory leak is hidden somewhere in the C++ code.\r\n\r\n`valgrind` isn&#39;t very helpful in this situation because it shows thousands of errors from the JVM, but none from my code.","title":"Debugging an JNI memory leak","body":"<p>I wrote a small Java JNI program that does nothing but eternally creating an array of tuples <code>(arr[i], arr[i+1])</code> from an array <code>arr</code>. Meanwhile, I use <code>ps aux</code> to record the RSS memory usage every minute and I noticed a steady increase of about 11 KB each minute on average. The JNI code is as follows:</p>\n<pre><code>/*\n * Class:     com_example_Main\n * Method:    shift\n * Signature: ([Ljava/lang/String;)[Ljava/lang/String;\n */\nJNIEXPORT jobjectArray JNICALL Java_com_example_Main_shift(JNIEnv *env, jclass cls, jobjectArray s) {\n    jsize n = env-&gt;GetArrayLength(s);\n\n    auto ret = (jobjectArray) env-&gt;NewObjectArray(n, env-&gt;GetObjectClass(s), env-&gt;NewStringUTF(&quot;&quot;));\n    for (auto i = 0; i &lt; n; i++) {\n        auto js = (jstring) env-&gt;GetObjectArrayElement(s, i);\n        auto next_js = (jstring) env-&gt;GetObjectArrayElement(s, (i + 1) % n);\n        auto tuple = (jobjectArray) env-&gt;NewObjectArray(2, env-&gt;FindClass(&quot;java/lang/String&quot;), env-&gt;NewStringUTF(&quot;&quot;));\n        env-&gt;SetObjectArrayElement(tuple, 0, js);\n        env-&gt;SetObjectArrayElement(tuple, 1, next_js);\n        env-&gt;SetObjectArrayElement(ret, i, tuple);\n    }\n    return ret;\n}\n</code></pre>\n<p>As far as I can see, there is no data that needed to be cleaned up here. So, I cannot really explain why the memory is changing over time at all.</p>\n<p>In the Java main method, I create a long array with strings and then run above <code>shift</code> over and over:</p>\n<pre><code>public class Main {\n    static {\n        System.load(&quot;/path/to/a.so&quot;);\n    }\n\n    private static native String[][] shift(String[] s);\n\n    public static void main(String[] args) {\n        List&lt;String&gt; input = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 1000; i++) {\n            StringBuilder sb = new StringBuilder();\n            for (int j = 0; j &lt; 500; j++) {\n                sb.append(j);\n            }\n            input.add(sb.toString());\n        }\n        String[] arr = input.toArray(new String[0]);\n\n        for (int it = 0; true; it++) {\n            String[][] next = shift(arr);\n            arr = Arrays.stream(next)\n                    .map(a -&gt; a[0])\n                    .toArray(String[]::new);\n        }\n    }\n}\n</code></pre>\n<p>I also wrote another version of this application where I replace the C++ code by a <code>return s</code> and change the response type of <code>shift</code> to <code>String[]</code> accordingly and that application indeed doesn't increase in memory at all after the first few minutes. That suggests that a memory leak is hidden somewhere in the C++ code.</p>\n<p><code>valgrind</code> isn't very helpful in this situation because it shows thousands of errors from the JVM, but none from my code.</p>\n"},{"tags":["java","spring","web-services","soap","wsdl"],"answers":[{"tags":[],"owner":{"account_id":4290579,"reputation":319,"user_id":3507073,"display_name":"BrownsFan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418748897,"creation_date":1418748897,"answer_id":27509827,"question_id":27291650,"body_markdown":"in SOAPUI, set the Strip Whitespaces toggle to true","title":"how to attach pdf as part of soap UI request using Mtom","body":"<p>in SOAPUI, set the Strip Whitespaces toggle to true</p>\n"},{"tags":[],"owner":{"account_id":8708088,"reputation":65,"user_id":6515307,"display_name":"Lesrac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659538705,"creation_date":1659538705,"answer_id":73223647,"question_id":27291650,"body_markdown":"In SOAP-UI I had to change the Request Property &quot;Disable multiparts&quot; to &quot;false&quot;. In the linked documentation in the original question, it is shown as set to &quot;true&quot;\r\n","title":"how to attach pdf as part of soap UI request using Mtom","body":"<p>In SOAP-UI I had to change the Request Property &quot;Disable multiparts&quot; to &quot;false&quot;. In the linked documentation in the original question, it is shown as set to &quot;true&quot;</p>\n"}],"owner":{"account_id":1323586,"reputation":173,"user_id":1268890,"accept_rate":36,"display_name":"vijayboli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659538705,"creation_date":1417688939,"question_id":27291650,"body_markdown":"I am using soap, as part of request i am attaching a pdf file. In SOPAUI i have attached pdf file using following link [SOAPUI DOC][1] and enabled mtom property to ture as per guidence.\r\n\r\nproblem is, it is not even hitting the server end point before itself i am getting error \r\n\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Draft//EN&quot;&gt;\r\n    &lt;HTML&gt;\r\n    &lt;HEAD&gt;\r\n    &lt;TITLE&gt;Error 500--Internal Server Error&lt;/TITLE&gt;\r\n    &lt;META NAME=&quot;GENERATOR&quot; CONTENT=&quot;WebLogic Server&quot;&gt;\r\n    &lt;/HEAD&gt;\r\n    &lt;BODY bgcolor=&quot;white&quot;&gt;\r\n    &lt;FONT FACE=Helvetica&gt;&lt;BR CLEAR=all&gt;\r\n    &lt;TABLE border=0 cellspacing=5&gt;&lt;TR&gt;&lt;TD&gt;&lt;BR CLEAR=all&gt;\r\n    &lt;FONT FACE=&quot;Helvetica&quot; COLOR=&quot;black&quot; SIZE=&quot;3&quot;&gt;&lt;H2&gt;Error 500--Internal Server Error&lt;/H2&gt;\r\n    &lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;\r\n    &lt;/TABLE&gt;\r\n    &lt;TABLE border=0 width=100% cellpadding=10&gt;&lt;TR&gt;&lt;TD VALIGN=top WIDTH=100% BGCOLOR=white&gt;&lt;FONT FACE=&quot;Courier New&quot;&gt;&lt;pre&gt;java.lang.ClassCastException: weblogic.xml.saaj.TextImpl cannot be cast to javax.xml.soap.SOAPElement\r\n    \tat weblogic.xml.saaj.SOAPMessageImpl.derefMTOMAttachments(SOAPMessageImpl.java:279)\r\n    \tat weblogic.xml.saaj.SOAPMessageImpl.constructMessage(SOAPMessageImpl.java:243)\r\n    \tat weblogic.xml.saaj.SOAPMessageImpl.&lt;init&gt;(SOAPMessageImpl.java:151)\r\n    \tat weblogic.xml.saaj.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:76)\r\n    \tat weblogic.xml.saaj.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:63)\r\n    \tat weblogic.xml.saaj.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:55)\r\n    \tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:182)\r\n    \tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:58)\r\n    \tat org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:90)\r\n    \tat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\r\n    \tat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:57)\r\n    \tat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:222)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n    \tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\r\n    \tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:183)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3717)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\r\n    \tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n    \tat weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\r\n    \tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\r\n    &lt;/pre&gt;&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;\r\n    &lt;/TABLE&gt;\r\n    \r\n    &lt;/BODY&gt;\r\n    &lt;/HTML&gt;\r\n\r\n\r\n  [1]: http://www.soapui.org/SOAP-and-WSDL/adding-headers-and-attachments.html","title":"how to attach pdf as part of soap UI request using Mtom","body":"<p>I am using soap, as part of request i am attaching a pdf file. In SOPAUI i have attached pdf file using following link <a href=\"http://www.soapui.org/SOAP-and-WSDL/adding-headers-and-attachments.html\" rel=\"nofollow\">SOAPUI DOC</a> and enabled mtom property to ture as per guidence.</p>\n\n<p>problem is, it is not even hitting the server end point before itself i am getting error </p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Draft//EN\"&gt;\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Error 500--Internal Server Error&lt;/TITLE&gt;\n&lt;META NAME=\"GENERATOR\" CONTENT=\"WebLogic Server\"&gt;\n&lt;/HEAD&gt;\n&lt;BODY bgcolor=\"white\"&gt;\n&lt;FONT FACE=Helvetica&gt;&lt;BR CLEAR=all&gt;\n&lt;TABLE border=0 cellspacing=5&gt;&lt;TR&gt;&lt;TD&gt;&lt;BR CLEAR=all&gt;\n&lt;FONT FACE=\"Helvetica\" COLOR=\"black\" SIZE=\"3\"&gt;&lt;H2&gt;Error 500--Internal Server Error&lt;/H2&gt;\n&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;\n&lt;/TABLE&gt;\n&lt;TABLE border=0 width=100% cellpadding=10&gt;&lt;TR&gt;&lt;TD VALIGN=top WIDTH=100% BGCOLOR=white&gt;&lt;FONT FACE=\"Courier New\"&gt;&lt;pre&gt;java.lang.ClassCastException: weblogic.xml.saaj.TextImpl cannot be cast to javax.xml.soap.SOAPElement\n    at weblogic.xml.saaj.SOAPMessageImpl.derefMTOMAttachments(SOAPMessageImpl.java:279)\n    at weblogic.xml.saaj.SOAPMessageImpl.constructMessage(SOAPMessageImpl.java:243)\n    at weblogic.xml.saaj.SOAPMessageImpl.&lt;init&gt;(SOAPMessageImpl.java:151)\n    at weblogic.xml.saaj.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:76)\n    at weblogic.xml.saaj.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:63)\n    at weblogic.xml.saaj.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:55)\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:182)\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:58)\n    at org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:90)\n    at org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\n    at org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:57)\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:222)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:183)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3717)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\n&lt;/pre&gt;&lt;/FONT&gt;&lt;/TD&gt;&lt;/TR&gt;\n&lt;/TABLE&gt;\n\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658492815,"post_id":73045692,"comment_id":129071164,"body_markdown":"Since you specifically refer to the JUnit 5 test annotation, you may just use JUnit 5âs [`Launcher`](https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/Launcher.html) to execute the tests. But if you really want to go low level, itâs [`ReflectionSupport`](https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html) might have the right methods for you.","body":"Since you specifically refer to the JUnit 5 test annotation, you may just use JUnit 5âs <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/Launcher.html\" rel=\"nofollow noreferrer\"><code>Launcher</code></a> to execute the tests. But if you really want to go low level, itâs <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html\" rel=\"nofollow noreferrer\"><code>ReflectionSupport</code></a> might have the right methods for you."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658494701,"post_id":73045692,"comment_id":129071772,"body_markdown":"Unfortunately JUnit&#39;s test runner seems to require that all tests be in a special `package` that you know the name of. And reflection also seems to require you know the name of the package (or packages) that contain tests. The tests can be in any package; packages whose names i do not know.","body":"Unfortunately JUnit&#39;s test runner seems to require that all tests be in a special <code>package</code> that you know the name of. And reflection also seems to require you know the name of the package (or packages) that contain tests. The tests can be in any package; packages whose names i do not know."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658495073,"post_id":73045692,"comment_id":129071920,"body_markdown":"There is the [**ServiceLoader**](https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html) class, but that requires creating a configuration file","body":"There is the <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><b>ServiceLoader</b></a> class, but that requires creating a configuration file"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658513384,"post_id":73045692,"comment_id":129078639,"body_markdown":"`ServiceLoader` is a nice thing when you use modules, as then, you donât use configuration files anymore; itâs part of the language. E.g. you declare `provides service.Type with implementation.Type;` in the module-info and the compiler will verify that all constraints are met. But it wouldnât help you with your specific case, as there is no service type (interface or abstract base class) extended by your test classes.","body":"<code>ServiceLoader</code> is a nice thing when you use modules, as then, you donât use configuration files anymore; itâs part of the language. E.g. you declare <code>provides service.Type with implementation.Type;</code> in the module-info and the compiler will verify that all constraints are met. But it wouldnât help you with your specific case, as there is no service type (interface or abstract base class) extended by your test classes."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658513628,"post_id":73045692,"comment_id":129078709,"body_markdown":"I donât see that the `ReflectionSupport` I have linked would require you to know the package, e.g. [this method](https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html#findAllClassesInClasspathRoot(java.net.URI,java.util.function.Predicate,java.util.function.Predicate)) only requires you to know the class path entry.","body":"I donât see that the <code>ReflectionSupport</code> I have linked would require you to know the package, e.g. <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html#findAllClassesInClasspathRoot(java.net.URI,java.util.function.Predicate,java.util.function.Predicate)\" rel=\"nofollow noreferrer\">this method</a> only requires you to know the class path entry."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658513703,"post_id":73045692,"comment_id":129078739,"body_markdown":"E.g., the following code scans the class path for a class containing a method annotated with `@Test`: `for(String cpEntry: System.getProperty(&quot;java.class.path&quot;).split(File.pathSeparator)) { for(var cl: ReflectionSupport.findAllClassesInClasspathRoot(Paths.get(cpEntry) .toUri(), cl -&gt; Arrays.stream(cl.getMethods()).anyMatch(m -&gt; m.isAnnotationPresent(Test.class)), str -&gt; true)) { System.out.println(cl); } }`","body":"E.g., the following code scans the class path for a class containing a method annotated with <code>@Test</code>: <code>for(String cpEntry: System.getProperty(&quot;java.class.path&quot;).split(File.pathSeparat&zwnj;&#8203;or)) { for(var cl: ReflectionSupport.findAllClassesInClasspathRoot(Paths.get(cp&zwnj;&#8203;Entry) .toUri(), cl -&gt; Arrays.stream(cl.getMethods()).anyMatch(m -&gt; m.isAnnotationPresent(Test.class)), str -&gt; true)) { System.out.println(cl); } }</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1658530210,"post_id":73045692,"comment_id":129082674,"body_markdown":"&quot;Give up on having automated unit, functional, and integration tests&quot; &lt;&lt; sounds like a bad idea. Some cynical side in me wants me to suggest you to just turn off all computers - computers that don&#39;t run can&#39;t be affected by any bugs.","body":"&quot;Give up on having automated unit, functional, and integration tests&quot; &lt;&lt; sounds like a bad idea. Some cynical side in me wants me to suggest you to just turn off all computers - computers that don&#39;t run can&#39;t be affected by any bugs."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658595918,"post_id":73045692,"comment_id":129092843,"body_markdown":"@JohannesKuhn Oh i absolutely agree with you; which was why i spent 4 business days trying to get automated testing to work - rather than doing, you know, the actual work i&#39;m supposed to be doing. It&#39;s ok though, when the code was originally written in 2003 it didn&#39;t have any automated tests.","body":"@JohannesKuhn Oh i absolutely agree with you; which was why i spent 4 business days trying to get automated testing to work - rather than doing, you know, the actual work i&#39;m supposed to be doing. It&#39;s ok though, when the code was originally written in 2003 it didn&#39;t have any automated tests."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1658598559,"post_id":73045692,"comment_id":129093427,"body_markdown":"Yeah, but other requirements are strange too: &quot;Enumerate all jar files on the local PC, use a custom class loader to load each one, then get a list of all packages in each one&quot; - I don&#39;t think it is possible to enumerate all assemblies in .NET. I&#39;m not sure about the requirement that Reflections need the package names.","body":"Yeah, but other requirements are strange too: &quot;Enumerate all jar files on the local PC, use a custom class loader to load each one, then get a list of all packages in each one&quot; - I don&#39;t think it is possible to enumerate all assemblies in .NET. I&#39;m not sure about the requirement that Reflections need the package names."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658601838,"post_id":73045692,"comment_id":129094119,"body_markdown":"@JohannesKuhn There may be a disconnect in terminology *(i may not be using the right Java-words)*. But you can see the example code above. Someone just needs to figure out a way for the application to call them. In .NET the solution is trivial (as you can see in the code above). In Java it is not possible (for technical reasons of how the JRE handles classes and when classes become available for reflecting. It&#39;s not as elegant, or functional as .NET). But if you can post some code that can find those methods, spread across unknown names of Java *&quot;packages&quot;*: **please** be my guest.","body":"@JohannesKuhn There may be a disconnect in terminology <i>(i may not be using the right Java-words)</i>. But you can see the example code above. Someone just needs to figure out a way for the application to call them. In .NET the solution is trivial (as you can see in the code above). In Java it is not possible (for technical reasons of how the JRE handles classes and when classes become available for reflecting. It&#39;s not as elegant, or functional as .NET). But if you can post some code that can find those methods, spread across unknown names of Java <i>&quot;packages&quot;</i>: <b>please</b> be my guest."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1658756389,"post_id":73045692,"comment_id":129123586,"body_markdown":"This is a small POC that I wrote: https://pastebin.com/Nu17sKWs - it finds the annotation as expected. I had to add the `Scanners.MethodsAnnotated` so it would work.","body":"This is a small POC that I wrote: <a href=\"https://pastebin.com/Nu17sKWs\" rel=\"nofollow noreferrer\">pastebin.com/Nu17sKWs</a> - it finds the annotation as expected. I had to add the <code>Scanners.MethodsAnnotated</code> so it would work."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658758439,"post_id":73045692,"comment_id":129124542,"body_markdown":"That code seems to be getting the path to a specific .jar file. (`../testmod/target/testmod-0.0.1-SNAPSHOT.jar`)  That falls apart when there are multiple jars whose names i you do not know.","body":"That code seems to be getting the path to a specific .jar file. (<code>..&#47;testmod&#47;target&#47;testmod-0.0.1-SNAPSHOT.jar</code>)  That falls apart when there are multiple jars whose names i you do not know."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1658759810,"post_id":73045692,"comment_id":129125102,"body_markdown":"Yeah, but you can simply scan the file system. You probably would have to do the same thing in .NET anyway. You may also use the current class path - although I did not look into how to do that with reflections.","body":"Yeah, but you can simply scan the file system. You probably would have to do the same thing in .NET anyway. You may also use the current class path - although I did not look into how to do that with reflections."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658761244,"post_id":73045692,"comment_id":129125812,"body_markdown":"@JohannesKuhn You don&#39;t have to do the name thing in .NET: you can see the entirety the 5-lines of .NET code that finds all methods.","body":"@JohannesKuhn You don&#39;t have to do the name thing in .NET: you can see the entirety the 5-lines of .NET code that finds all methods."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658762635,"post_id":73045692,"comment_id":129126416,"body_markdown":"Well, as your own comment already says, âEnumerate all assemblies *in the current application domain*â, so itâs not the magic tool that scans the entire hard drive. Replace âapplication domainâ with âclass pathâ and take the one-liner I posted in [this comment](https://stackoverflow.com/questions/73045692/how-to-call-all-methods-in-the-current-application-that-have-a-certain-annotati#comment129078739_73045692) two days ago. So, whatâs the problem?","body":"Well, as your own comment already says, âEnumerate all assemblies <i>in the current application domain</i>â, so itâs not the magic tool that scans the entire hard drive. Replace âapplication domainâ with âclass pathâ and take the one-liner I posted in <a href=\"https://stackoverflow.com/questions/73045692/how-to-call-all-methods-in-the-current-application-that-have-a-certain-annotati#comment129078739_73045692\">this comment</a> two days ago. So, whatâs the problem?"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658771959,"post_id":73045692,"comment_id":129129735,"body_markdown":"@Holgar [`class ReflectionSupport not found`](https://i.imgur.com/3R2HGcD.png) *(I fixed `var` being an invalid type, so that&#39;s not an issue anymore)*","body":"@Holgar <a href=\"https://i.imgur.com/3R2HGcD.png\" rel=\"nofollow noreferrer\"><code>class ReflectionSupport not found</code></a> <i>(I fixed <code>var</code> being an invalid type, so that&#39;s not an issue anymore)</i>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1658776837,"post_id":73045692,"comment_id":129131334,"body_markdown":"Did you add the relevant dependency?","body":"Did you add the relevant dependency?"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658777124,"post_id":73045692,"comment_id":129131434,"body_markdown":"Sure did; you can see in the linked screenshot.","body":"Sure did; you can see in the linked screenshot."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1658847349,"post_id":73045692,"comment_id":129150806,"body_markdown":"Ehm, you added JUnit? That is not reflections.","body":"Ehm, you added JUnit? That is not reflections."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658851270,"post_id":73045692,"comment_id":129152363,"body_markdown":"I did add JUnit, [because ReflectionSupport is part of JUnit, not Reflections](https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html).","body":"I did add JUnit, <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html\" rel=\"nofollow noreferrer\">because ReflectionSupport is part of JUnit, not Reflections</a>."}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658289897,"creation_date":1658289525,"answer_id":73045839,"question_id":73045692,"body_markdown":"Java and .Net are fundamentally different. The reason this task is not supported in the JVM out of the box is because of JVM&#39;s intrinsic lazy class loading; the JVM is not fully aware of every possible class on the classpath and loading all of them would be extraordinarily intensive CPU and Memory wise.\r\n\r\nEssentially: What you are asking for _is not possible_ without extensive writing of code that can scan avaialable classes on the classpath without loading them and examine their contents. You could implement this yourself, but it will be quite intensive. If you do wish to go that route, the answer you mentioned `How to find annotated methods in a given package?` is likely the easiest method, but will be non-optimal.\r\n\r\nAll is not lost though: I think the easiest way to accomplish the task you&#39;re wanting is to use a library like the following: https://github.com/ronmamo/reflections\r\n\r\nThe Reflections library is able to scan the classpath without actually performing a classload and is quite quick. I use this lib personally for writing frameworks and scanning for developer extensions on startup.\r\n\r\nExample:\r\n\r\n```\r\n// MethodsAnnotated with @GetMapping\r\nSet&lt;Method&gt; resources = reflections.get(MethodsAnnotated.with(GetMapping.class).as(Method.class));\r\n```","title":"How to call all methods in the current application that have a certain @Annotation?","body":"<p>Java and .Net are fundamentally different. The reason this task is not supported in the JVM out of the box is because of JVM's intrinsic lazy class loading; the JVM is not fully aware of every possible class on the classpath and loading all of them would be extraordinarily intensive CPU and Memory wise.</p>\n<p>Essentially: What you are asking for <em>is not possible</em> without extensive writing of code that can scan avaialable classes on the classpath without loading them and examine their contents. You could implement this yourself, but it will be quite intensive. If you do wish to go that route, the answer you mentioned <code>How to find annotated methods in a given package?</code> is likely the easiest method, but will be non-optimal.</p>\n<p>All is not lost though: I think the easiest way to accomplish the task you're wanting is to use a library like the following: <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">https://github.com/ronmamo/reflections</a></p>\n<p>The Reflections library is able to scan the classpath without actually performing a classload and is quite quick. I use this lib personally for writing frameworks and scanning for developer extensions on startup.</p>\n<p>Example:</p>\n<pre><code>// MethodsAnnotated with @GetMapping\nSet&lt;Method&gt; resources = reflections.get(MethodsAnnotated.with(GetMapping.class).as(Method.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659538464,"creation_date":1659537231,"answer_id":73223341,"question_id":73045692,"body_markdown":"Use [ClassGraph][1]. Unlike Reflections, it&#39;s (exceptionally) actively maintained and works in many more scenarios (e.g. Reflections will keel over if you try to use it with modules).\r\n\r\n    try (ScanResult scanResult = new ClassGraph()\r\n                                   .enableAllInfo()  // Scan classes, methods, fields, annotations\r\n                                   .scan()) {        // Start the scan\r\n          for (ClassInfo clazz : scanResult.getClassesWithMethodAnnotation(annotation)) {\r\n              //Just your run-of-the-mill reflection from here\r\n              Class&lt;?&gt; loaded = clazz.loadClass(); //SEE THE NOTE\r\n              //Assumes the default constructor exists. Do what&#39;s appropariate if it doesn&#39;t.\r\n              Object instance = loaded.getConstructor().newInstance(...);\r\n              //Use the usual clazz.getMethods() and filter by annotation, or use ClassInfo to get closer\r\n              Method annotatedMethod = ...;\r\n              annotatedMethod.invoke(instance);\r\n          }\r\n    }\r\n\r\n**NOTE:** ClassGraph tries its best to figure out what classloader to use when loading classes, but you can still end up in bizarre situations. So, if you know already the correct classloader to use, I&#39;d recommned going with the regular Java reflection here instead, e.g. `Class.forName(clazz.getName(), loader)`.\r\n\r\n  [1]: https://github.com/classgraph/classgraph","title":"How to call all methods in the current application that have a certain @Annotation?","body":"<p>Use <a href=\"https://github.com/classgraph/classgraph\" rel=\"nofollow noreferrer\">ClassGraph</a>. Unlike Reflections, it's (exceptionally) actively maintained and works in many more scenarios (e.g. Reflections will keel over if you try to use it with modules).</p>\n<pre><code>try (ScanResult scanResult = new ClassGraph()\n                               .enableAllInfo()  // Scan classes, methods, fields, annotations\n                               .scan()) {        // Start the scan\n      for (ClassInfo clazz : scanResult.getClassesWithMethodAnnotation(annotation)) {\n          //Just your run-of-the-mill reflection from here\n          Class&lt;?&gt; loaded = clazz.loadClass(); //SEE THE NOTE\n          //Assumes the default constructor exists. Do what's appropariate if it doesn't.\n          Object instance = loaded.getConstructor().newInstance(...);\n          //Use the usual clazz.getMethods() and filter by annotation, or use ClassInfo to get closer\n          Method annotatedMethod = ...;\n          annotatedMethod.invoke(instance);\n      }\n}\n</code></pre>\n<p><strong>NOTE:</strong> ClassGraph tries its best to figure out what classloader to use when loading classes, but you can still end up in bizarre situations. So, if you know already the correct classloader to use, I'd recommned going with the regular Java reflection here instead, e.g. <code>Class.forName(clazz.getName(), loader)</code>.</p>\n"}],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659538464,"creation_date":1658287965,"question_id":73045692,"body_markdown":"Lets say i have a method in some class in &lt;strike&gt;my application&#39;s package&lt;/strike&gt; NetBeans project:\r\n\r\n```\r\npackage wuzzle.woozle;\r\n\r\nimport org.contoso.frobber.grob.Whiztactular;\r\n\r\n@Whiztactular\r\npublic void testFizBuzz() {\r\n    if (1 != 0) \r\n       throw new Exception(&quot;Whiztactular failed&quot;);\r\n}\r\n```\r\n\r\n```\r\npackage frob;\r\n\r\nimport org.contoso.frobber.grob.Whiztactular;\r\n\r\n@Whiztactular\r\npublic void testfrobFizBuzz() {\r\n    if (1 != 0) \r\n       throw new Exception(&quot;Whiztactular failed&quot;);\r\n}\r\n```\r\n\r\n```\r\npackage grob;\r\n\r\nimport org.contoso.frobber.grob.Whiztactular;\r\n\r\n@Whiztactular\r\npublic void testGrobZoom() {\r\n    if (1 != 0) \r\n\r\n       throw new Exception(&quot;Whiztactular failed&quot;);\r\n}\r\n```\r\n\r\n```\r\npackage contoso.gurundy;\r\n\r\nimport org.contoso.frobber.grob.Whiztactular;\r\n\r\n@Whiztactular\r\npublic void testDingbatWoozle() {\r\n    if (1 != 0) \r\n       throw new Exception(&quot;Whiztactular failed&quot;);\r\n       throw new Exception(&quot;Whiztactular failed&quot;);\r\n}\r\n```\r\n\r\nI want to:\r\n\r\n- enumerate all classes/methods\r\n- find methods tagged with a specified `@Annotation`\r\n- construct the class\r\n- call the (parameterless) method\r\n\r\nHow can i do this in Java?\r\n\r\nIn .NET it&#39;s easy\r\n==================\r\n\r\nHere&#39;s how you do it in .NET (in pseudo-Java):\r\n\r\n```\r\n//Find all methods in all classes tagged with @Test annotation, \r\n//and add them to a list.\r\nList&lt;MethodInfo&gt; whiztactularMethods = new ArrayList&lt;&gt;();\r\n\r\n//Enumerate all assemblies in the current application domain\r\nfor (Assembly a : AppDomain.currentDomain.getAssemblies()) {\r\n   //Look at each type (i.e. class) in the assembly\r\n   for (Type t : a.getTypes()) {\r\n      //Look at all methods in the class. \r\n      for (MethodInfo m : t.getMethods(BindingFlags.Instance | BindingFlags.DeclaredOnly)) {\r\n         //If the method has our @Whiztactular annotation defined: add it\r\n         if (m.IsDefined(typeof(org.contoso.frobber.grob.Whiztactular), true)) \r\n            whiztactularMethods .add(m);\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nAnd now that we have a `List` of all methods with the `@Whiztactular` annotation, it&#39;s just a matter of calling them:\r\n\r\n```\r\n//Call every test method found above\r\nfor (MethodInfo m : whiztactularMethods) {\r\n   Object o = Activator.CreateInstance(m.DeclaringType); //Construct the test object\r\n   m.Invoke(o, null); //call the parameterless Whiztactular method\r\n}\r\n```\r\n\r\nWhat is the JRE equivalent of the above?\r\n\r\nIn Delphi it&#39;s easy to\r\n======================\r\n\r\nWhen a Delphi application starts, the initializer of each `unit` is called:\r\n\r\n```\r\ninitialization\r\n   WhiztactularRunner.registerWhiztactularClass(TWuzzleWoozle);\r\n```\r\n\r\nSo then i can have all my test code register itself.\r\n\r\nBut Java doesn&#39;t have `.java` file initialization; nor does it have `static constructors`.\r\n\r\nThe Journey\r\n===============\r\n\r\n&lt;kbd&gt;I want JUnit to run tests&lt;/kbd&gt;  \r\nâ  \r\n*JUnit requires tests to be in a special separate project*  \r\nâ  \r\n&lt;kbd&gt;Use reflection to find the test methods&lt;/kbd&gt;   \r\nâ  \r\n*Reflection requires you to know the name of the packages that all developers have put their tests in*    \r\nâ  \r\n&lt;kbd&gt;Use Reflections library&lt;/kbd&gt;  \r\nâ  \r\n*Reflections requires you to know the name of the packages that all developers have put their tests in*   \r\nâ  \r\n&lt;kbd&gt;Create my own Test Annotation, and use reflections to find all methods that are tagged with it&lt;/kbd&gt;   \r\nâ  \r\n*Reflections requires you to know the name of the packages that all developers have put their tests in*   \r\nâ  \r\n&lt;kbd&gt;Create my own TestCase annotation, and use reflections to find all classes that are tagged with it&lt;/kbd&gt;   \r\nâ  \r\n*Reflections requires you to know the name of the packages that all developers have put their tests in*   \r\nâ  \r\n&lt;kbd&gt;Create my own TestCase interface, and use reflections to find all classes that implement it&lt;/kbd&gt;   \r\nâ  \r\n*Reflections requires you to know the name of the packages that all developers have put their tests in*   \r\nâ  \r\n&lt;kbd&gt;Create my own TestCase class, and use reflections to find all classes that extend it&lt;/kbd&gt;   \r\nâ  \r\n*Reflections requires you to know the name of the packages that all developers have put their tests in*   \r\nâ  \r\n&lt;kbd&gt;Create a static list, and use a static class constructor to register the class with the my TestRunner&lt;/kbd&gt;  \r\nâ  \r\n*Java doesn&#39;t have static class constructors*  \r\nâ  \r\n&lt;kbd&gt;Create a static list, and use the package initializer to register the class with the my TestRunner&lt;/kbd&gt;  \r\nâ  \r\n*Java doesn&#39;t have package initializers*  \r\nâ  \r\n&lt;kbd&gt;Create a static list, and use the events to listen for when a package is loaded, and then register the package with my static list&lt;/kbd&gt;  \r\nâ  \r\n*Java doesn&#39;t have package load events*  \r\nâ  \r\n&lt;kbd&gt;Enumerate all packages&lt;/kbd&gt;  \r\nâ  \r\n*Reflection has no way to enumerate all packages*  \r\nâ  \r\n&lt;kbd&gt;Ask the class loader that loaded my current class for any other classes it has loaded&lt;/kbd&gt;  \r\nâ  \r\n*Class loader won&#39;t know about classes until someone has actually needed them, and you might not even be using the same class loader instance*  \r\nâ  \r\n&lt;kbd&gt;Enumerate all packages in the current class path&lt;/kbd&gt; **&amp;lArr; in progress**     \r\nâ   \r\n&lt;kbd&gt;Enumerate all jar files on the local PC, use a custom class loader to load each one, then get a list of all packages in each one&lt;/kbd&gt; **&amp;lArr; in progress**    \r\nâ  \r\n*Spent 4 days so far trying to solve this problem that was solvable in .NET with 5 lines of code, and in Delphi with 3 lines of code*   \r\nâ    \r\n&lt;kbd&gt;Investigate converting 409 jsp, and 498 java code files to ASP.net and C#&lt;/kbd&gt; **&amp;lArr; in progress**  \r\nâ  \r\n&lt;kbd&gt;Give up on having automated unit, functional, and integration tests&lt;/kbd&gt; **&amp;lArr; in progress**  \r\n\r\n\r\n\r\nResearch Effort\r\n================\r\n\r\n- [Get all methods with a particular annotation in a package](https://stackoverflow.com/questions/51763472/get-all-methods-with-a-particular-annotation-in-a-package) *(Question isn&#39;t about the current package. Accepted answer uses 3rd party library.)*\r\n- [Java seek a method with specific annotation and its annotation element](https://stackoverflow.com/questions/6593597/java-seek-a-method-with-specific-annotation-and-its-annotation-element) *(Question is about a specific class, rather than finding the classes)*\r\n- https://stackoverflow.com/questions/862106/how-to-find-annotated-methods-in-a-given-package\r\n- https://stackoverflow.com/questions/16996033/how-to-run-all-methods-with-a-given-annotation\r\n- https://stackoverflow.com/questions/27579783/getconstructor-with-no-parameters\r\n- [Call Methods at Runtime Using Java Reflection](https://www.baeldung.com/java-method-reflection)\r\n- [JavaDocs - Invoking Methods][1]\r\n- https://stackoverflow.com/questions/13541386/default-access-modifier-for-a-java-constructor/13541412#13541412\r\n- https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection\r\n- https://stackoverflow.com/questions/51763472/get-all-methods-with-a-particular-annotation-in-a-package *(explains what a package is)*\r\n\r\n- https://stackoverflow.com/questions/862106/how-to-find-annotated-methods-in-a-given-package *(explains what a package is)*\r\nAdditional research effort\r\n- https://stackoverflow.com/questions/44669112/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-even-though-i-have-the-r\r\n- Oracle: [Handling Initialization Status With Event Handlers][1]\r\n- https://stackoverflow.com/questions/18090497/how-to-register-a-java-class-if-the-static-initializer-isnt-called-till-the-cla\r\n--------------------------\r\n\r\n- https://stackoverflow.com/questions/8344337/dynamic-object-registration-in-java\r\n- https://stackoverflow.com/questions/27579783/getconstructor-with-no-parameters\r\n- https://stackoverflow.com/questions/72599733/load-jar-dynamically-and-register-classes-in-applicationcontext-at-runtime\r\n- https://stackoverflow.com/questions/44562146/is-it-possible-to-determine-descendants-solely-through-java-reflection-api?noredirect=1&amp;lq=1\r\n- [Call Methods at Runtime Using Java Reflection](https://www.baeldung.com/java-method-reflection)\r\n- [JavaDocs - Invoking Methods][1]\r\n- https://stackoverflow.com/questions/205573/at-runtime-find-all-classes-in-a-java-application-that-extend-a-base-class\r\n- https://stackoverflow.com/questions/13541386/default-access-modifier-for-a-java-constructor/13541412#13541412\r\n- https://stackoverflow.com/questions/435890/find-java-classes-implementing-an-interface\r\n- https://stackoverflow.com/questions/9991253/finding-all-classes-implementing-a-specific-interface\r\n- https://stackoverflow.com/questions/39558081/how-does-junit-find-tests\r\n- Book: [Unit Testing in Java](https://www.sciencedirect.com/book/9781558608689/unit-testing-in-java)\r\n- [2/28/1998: JUnit 1.0][2]\r\n- [JUnit Cookbook](https://www.eg.bucknell.edu/~cs475/F2000-S2001/hyde/JUnit/doc/cookbook.htm)\r\n- https://stackoverflow.com/questions/347248/how-can-i-get-a-list-of-all-the-implementations-of-an-interface-programmatically\r\n- https://stackoverflow.com/questions/28678026/how-can-i-get-all-class-files-in-a-specific-package-in-java\r\n- [Class Loaders in Java](https://www.baeldung.com/java-classloaders)\r\n- https://stackoverflow.com/questions/176527/how-can-i-enumerate-all-classes-in-a-package-and-add-them-to-a-list\r\n- https://stackoverflow.com/questions/13944633/java-reflection-get-list-of-packages\r\n- https://stackoverflow.com/questions/26500004/getting-the-list-of-packages-in-a-java-project\r\n- https://stackoverflow.com/questions/896867/tool-to-convert-java-to-c-sharp-code\r\n- https://stackoverflow.com/questions/29324655/package-initialization-in-java\r\n- https://stackoverflow.com/questions/38980648/how-to-write-a-package-level-static-initializer-in-kotlin\r\n- https://stackoverflow.com/questions/72795950/java-initialize-all-classes-in-package-without-knowing-names\r\n- https://github.com/classgraph/classgraph\r\n- https://stackoverflow.com/questions/3987428/what-is-an-initialization-block\r\n- https://stackoverflow.com/questions/29324655/package-initialization-in-java\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/reflect/member/methodInvocation.html\r\n  [2]: https://www.eg.bucknell.edu/~cs475/F2000-S2001/hyde/JUnit/README.html","title":"How to call all methods in the current application that have a certain @Annotation?","body":"<p>Lets say i have a method in some class in <strike>my application's package</strike> NetBeans project:</p>\n<pre><code>package wuzzle.woozle;\n\nimport org.contoso.frobber.grob.Whiztactular;\n\n@Whiztactular\npublic void testFizBuzz() {\n    if (1 != 0) \n       throw new Exception(&quot;Whiztactular failed&quot;);\n}\n</code></pre>\n<pre><code>package frob;\n\nimport org.contoso.frobber.grob.Whiztactular;\n\n@Whiztactular\npublic void testfrobFizBuzz() {\n    if (1 != 0) \n       throw new Exception(&quot;Whiztactular failed&quot;);\n}\n</code></pre>\n<pre><code>package grob;\n\nimport org.contoso.frobber.grob.Whiztactular;\n\n@Whiztactular\npublic void testGrobZoom() {\n    if (1 != 0) \n\n       throw new Exception(&quot;Whiztactular failed&quot;);\n}\n</code></pre>\n<pre><code>package contoso.gurundy;\n\nimport org.contoso.frobber.grob.Whiztactular;\n\n@Whiztactular\npublic void testDingbatWoozle() {\n    if (1 != 0) \n       throw new Exception(&quot;Whiztactular failed&quot;);\n       throw new Exception(&quot;Whiztactular failed&quot;);\n}\n</code></pre>\n<p>I want to:</p>\n<ul>\n<li>enumerate all classes/methods</li>\n<li>find methods tagged with a specified <code>@Annotation</code></li>\n<li>construct the class</li>\n<li>call the (parameterless) method</li>\n</ul>\n<p>How can i do this in Java?</p>\n<h1>In .NET it's easy</h1>\n<p>Here's how you do it in .NET (in pseudo-Java):</p>\n<pre><code>//Find all methods in all classes tagged with @Test annotation, \n//and add them to a list.\nList&lt;MethodInfo&gt; whiztactularMethods = new ArrayList&lt;&gt;();\n\n//Enumerate all assemblies in the current application domain\nfor (Assembly a : AppDomain.currentDomain.getAssemblies()) {\n   //Look at each type (i.e. class) in the assembly\n   for (Type t : a.getTypes()) {\n      //Look at all methods in the class. \n      for (MethodInfo m : t.getMethods(BindingFlags.Instance | BindingFlags.DeclaredOnly)) {\n         //If the method has our @Whiztactular annotation defined: add it\n         if (m.IsDefined(typeof(org.contoso.frobber.grob.Whiztactular), true)) \n            whiztactularMethods .add(m);\n      }\n   }\n}\n</code></pre>\n<p>And now that we have a <code>List</code> of all methods with the <code>@Whiztactular</code> annotation, it's just a matter of calling them:</p>\n<pre><code>//Call every test method found above\nfor (MethodInfo m : whiztactularMethods) {\n   Object o = Activator.CreateInstance(m.DeclaringType); //Construct the test object\n   m.Invoke(o, null); //call the parameterless Whiztactular method\n}\n</code></pre>\n<p>What is the JRE equivalent of the above?</p>\n<h1>In Delphi it's easy to</h1>\n<p>When a Delphi application starts, the initializer of each <code>unit</code> is called:</p>\n<pre><code>initialization\n   WhiztactularRunner.registerWhiztactularClass(TWuzzleWoozle);\n</code></pre>\n<p>So then i can have all my test code register itself.</p>\n<p>But Java doesn't have <code>.java</code> file initialization; nor does it have <code>static constructors</code>.</p>\n<h1>The Journey</h1>\n<p><kbd>I want JUnit to run tests</kbd><br />\nâ<br />\n<em>JUnit requires tests to be in a special separate project</em><br />\nâ<br />\n<kbd>Use reflection to find the test methods</kbd><br />\nâ<br />\n<em>Reflection requires you to know the name of the packages that all developers have put their tests in</em><br />\nâ<br />\n<kbd>Use Reflections library</kbd><br />\nâ<br />\n<em>Reflections requires you to know the name of the packages that all developers have put their tests in</em><br />\nâ<br />\n<kbd>Create my own Test Annotation, and use reflections to find all methods that are tagged with it</kbd><br />\nâ<br />\n<em>Reflections requires you to know the name of the packages that all developers have put their tests in</em><br />\nâ<br />\n<kbd>Create my own TestCase annotation, and use reflections to find all classes that are tagged with it</kbd><br />\nâ<br />\n<em>Reflections requires you to know the name of the packages that all developers have put their tests in</em><br />\nâ<br />\n<kbd>Create my own TestCase interface, and use reflections to find all classes that implement it</kbd><br />\nâ<br />\n<em>Reflections requires you to know the name of the packages that all developers have put their tests in</em><br />\nâ<br />\n<kbd>Create my own TestCase class, and use reflections to find all classes that extend it</kbd><br />\nâ<br />\n<em>Reflections requires you to know the name of the packages that all developers have put their tests in</em><br />\nâ<br />\n<kbd>Create a static list, and use a static class constructor to register the class with the my TestRunner</kbd><br />\nâ<br />\n<em>Java doesn't have static class constructors</em><br />\nâ<br />\n<kbd>Create a static list, and use the package initializer to register the class with the my TestRunner</kbd><br />\nâ<br />\n<em>Java doesn't have package initializers</em><br />\nâ<br />\n<kbd>Create a static list, and use the events to listen for when a package is loaded, and then register the package with my static list</kbd><br />\nâ<br />\n<em>Java doesn't have package load events</em><br />\nâ<br />\n<kbd>Enumerate all packages</kbd><br />\nâ<br />\n<em>Reflection has no way to enumerate all packages</em><br />\nâ<br />\n<kbd>Ask the class loader that loaded my current class for any other classes it has loaded</kbd><br />\nâ<br />\n<em>Class loader won't know about classes until someone has actually needed them, and you might not even be using the same class loader instance</em><br />\nâ<br />\n<kbd>Enumerate all packages in the current class path</kbd> <strong>â in progress</strong><br />\nâ<br />\n<kbd>Enumerate all jar files on the local PC, use a custom class loader to load each one, then get a list of all packages in each one</kbd> <strong>â in progress</strong><br />\nâ<br />\n<em>Spent 4 days so far trying to solve this problem that was solvable in .NET with 5 lines of code, and in Delphi with 3 lines of code</em><br />\nâ<br />\n<kbd>Investigate converting 409 jsp, and 498 java code files to ASP.net and C#</kbd> <strong>â in progress</strong><br />\nâ<br />\n<kbd>Give up on having automated unit, functional, and integration tests</kbd> <strong>â in progress</strong></p>\n<h1>Research Effort</h1>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/51763472/get-all-methods-with-a-particular-annotation-in-a-package\">Get all methods with a particular annotation in a package</a> <em>(Question isn't about the current package. Accepted answer uses 3rd party library.)</em></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/6593597/java-seek-a-method-with-specific-annotation-and-its-annotation-element\">Java seek a method with specific annotation and its annotation element</a> <em>(Question is about a specific class, rather than finding the classes)</em></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/862106/how-to-find-annotated-methods-in-a-given-package\">How to find annotated methods in a given package?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/16996033/how-to-run-all-methods-with-a-given-annotation\">How to run all methods with a given annotation?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/27579783/getconstructor-with-no-parameters\">getConstructor with no parameters</a></p>\n</li>\n<li><p><a href=\"https://www.baeldung.com/java-method-reflection\" rel=\"nofollow noreferrer\">Call Methods at Runtime Using Java Reflection</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/methodInvocation.html\" rel=\"nofollow noreferrer\">JavaDocs - Invoking Methods</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/13541386/default-access-modifier-for-a-java-constructor/13541412#13541412\">Default access modifier for a Java constructor</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection\">Can you find all classes in a package using reflection?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/51763472/get-all-methods-with-a-particular-annotation-in-a-package\">Get all methods with a particular annotation in a package</a> <em>(explains what a package is)</em></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/862106/how-to-find-annotated-methods-in-a-given-package\">How to find annotated methods in a given package?</a> <em>(explains what a package is)</em>\nAdditional research effort</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/44669112/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-even-though-i-have-the-r\">java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory even though I have the right dependencies</a></p>\n</li>\n<li><p>Oracle: <a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/methodInvocation.html\" rel=\"nofollow noreferrer\">Handling Initialization Status With Event Handlers</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/18090497/how-to-register-a-java-class-if-the-static-initializer-isnt-called-till-the-cla\">how to register a java class if the static initializer isn&#39;t called till the class is referenced</a></p>\n</li>\n</ul>\n<hr />\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8344337/dynamic-object-registration-in-java\">Dynamic object registration in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27579783/getconstructor-with-no-parameters\">getConstructor with no parameters</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72599733/load-jar-dynamically-and-register-classes-in-applicationcontext-at-runtime\">Load Jar dynamically and register class(es) in applicationContext at runtime</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44562146/is-it-possible-to-determine-descendants-solely-through-java-reflection-api?noredirect=1&amp;lq=1\">Is it possible to determine descendants solely through Java reflection API?</a></li>\n<li><a href=\"https://www.baeldung.com/java-method-reflection\" rel=\"nofollow noreferrer\">Call Methods at Runtime Using Java Reflection</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/methodInvocation.html\" rel=\"nofollow noreferrer\">JavaDocs - Invoking Methods</a></li>\n<li><a href=\"https://stackoverflow.com/questions/205573/at-runtime-find-all-classes-in-a-java-application-that-extend-a-base-class\">At runtime, find all classes in a Java application that extend a base class</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13541386/default-access-modifier-for-a-java-constructor/13541412#13541412\">Default access modifier for a Java constructor</a></li>\n<li><a href=\"https://stackoverflow.com/questions/435890/find-java-classes-implementing-an-interface\">Find Java classes implementing an interface</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9991253/finding-all-classes-implementing-a-specific-interface\">Finding all classes implementing a specific interface</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39558081/how-does-junit-find-tests\">How does JUnit find tests?</a></li>\n<li>Book: <a href=\"https://www.sciencedirect.com/book/9781558608689/unit-testing-in-java\" rel=\"nofollow noreferrer\">Unit Testing in Java</a></li>\n<li><a href=\"https://www.eg.bucknell.edu/%7Ecs475/F2000-S2001/hyde/JUnit/README.html\" rel=\"nofollow noreferrer\">2/28/1998: JUnit 1.0</a></li>\n<li><a href=\"https://www.eg.bucknell.edu/%7Ecs475/F2000-S2001/hyde/JUnit/doc/cookbook.htm\" rel=\"nofollow noreferrer\">JUnit Cookbook</a></li>\n<li><a href=\"https://stackoverflow.com/questions/347248/how-can-i-get-a-list-of-all-the-implementations-of-an-interface-programmatically\">How can I get a list of all the implementations of an interface programmatically in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28678026/how-can-i-get-all-class-files-in-a-specific-package-in-java\">How can I get all Class files in a specific package in Java?</a></li>\n<li><a href=\"https://www.baeldung.com/java-classloaders\" rel=\"nofollow noreferrer\">Class Loaders in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/176527/how-can-i-enumerate-all-classes-in-a-package-and-add-them-to-a-list\">How can I enumerate all classes in a package and add them to a List?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13944633/java-reflection-get-list-of-packages\">Java Reflection - Get List of Packages</a></li>\n<li><a href=\"https://stackoverflow.com/questions/26500004/getting-the-list-of-packages-in-a-java-project\">Getting the list of packages in a java project</a></li>\n<li><a href=\"https://stackoverflow.com/questions/896867/tool-to-convert-java-to-c-sharp-code\">Tool to convert java to c# code</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29324655/package-initialization-in-java\">Package Initialization in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/38980648/how-to-write-a-package-level-static-initializer-in-kotlin\">How to write a package-level static initializer in Kotlin?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72795950/java-initialize-all-classes-in-package-without-knowing-names\">https://stackoverflow.com/questions/72795950/java-initialize-all-classes-in-package-without-knowing-names</a></li>\n<li><a href=\"https://github.com/classgraph/classgraph\" rel=\"nofollow noreferrer\">https://github.com/classgraph/classgraph</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3987428/what-is-an-initialization-block\">What is an initialization block?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29324655/package-initialization-in-java\">Package Initialization in Java</a></li>\n</ul>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659542126,"post_id":73223465,"comment_id":129320360,"body_markdown":"Which specific library called &quot;JSON Simple&quot; are you using? And what version?","body":"Which specific library called &quot;JSON Simple&quot; are you using? And what version?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659542134,"post_id":73223465,"comment_id":129320364,"body_markdown":"You are using Spring Boot which provides Jackson out-of-the-box. I am wondering why you chose JSON Simple.  The advantage of using Jackson is it provides support for [streaming JSON objects](https://www.baeldung.com/jackson-streaming-api), so you can count how many objects you have processed and decide a threshold for when you want to write a chunk of them to a new file. I don&#39;t know if the JSON Simple library you are using (whichever one that is) can do that.","body":"You are using Spring Boot which provides Jackson out-of-the-box. I am wondering why you chose JSON Simple.  The advantage of using Jackson is it provides support for <a href=\"https://www.baeldung.com/jackson-streaming-api\" rel=\"nofollow noreferrer\">streaming JSON objects</a>, so you can count how many objects you have processed and decide a threshold for when you want to write a chunk of them to a new file. I don&#39;t know if the JSON Simple library you are using (whichever one that is) can do that."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1659557234,"post_id":73223465,"comment_id":129325450,"body_markdown":"Another thought: You could keep it very simple and use what you already have, but add some batch logic around the serializer, using a traditional `for` loop instead of your enhanced `for` loop: `for(int i = start; i &lt; end; i++)` - and logic to update `start` and `end` for the subset of each batch of `users.get(i)` objects. Whatever you do, you would have to estimate the file size to figure out a suitable batch number.","body":"Another thought: You could keep it very simple and use what you already have, but add some batch logic around the serializer, using a traditional <code>for</code> loop instead of your enhanced <code>for</code> loop: <code>for(int i = start; i &lt; end; i++)</code> - and logic to update <code>start</code> and <code>end</code> for the subset of each batch of <code>users.get(i)</code> objects. Whatever you do, you would have to estimate the file size to figure out a suitable batch number."}],"owner":{"account_id":13330824,"reputation":121,"user_id":9622182,"display_name":"Nabin Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659538400,"creation_date":1659537718,"question_id":73223465,"body_markdown":"with the below code, I am able to write list of users into single json file,But I want to separate files Based on size, i.e, when one of the json file size is 20kb, i want to create a new json file and write on that file. How this can be done? I am using json-simple for this.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class UserController {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n        \r\n        @GetMapping(&quot;/users&quot;)\r\n        public void getAllUsers() {\r\n            List&lt;User&gt; userList=userRepository.findAll();\r\n            if(!userList.isEmpty()) {\r\n                JSONArrray userArray=new JSONArrray();\r\n                JSONObject userObject=new JSONObject();\r\n                for(User user:userList) {\r\n                    userObject.put(&quot;id&quot;, user.getId());\r\n                    userObject.put(&quot;name&quot;, user.getName());\r\n                    userObject.put(&quot;email&quot;, user.getEmail());\r\n                    userObject.put(&quot;password&quot;, user.getPassword());\r\n                    userArray.add(userObject);\r\n                }\r\n                \r\n               try (FileWriter file = new FileWriter(&quot;/Users/nabinsingh34/Desktop/project/SpringBoot/user-management/src/main/resources/user-1.json&quot;)) {\r\n                    file.write(userArray.toJSONString());\r\n                    file.flush();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                System.out.println(&quot;No users found&quot;);\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I write Json data in multiple json files, using java","body":"<p>with the below code, I am able to write list of users into single json file,But I want to separate files Based on size, i.e, when one of the json file size is 20kb, i want to create a new json file and write on that file. How this can be done? I am using json-simple for this.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class UserController {\n    @Autowired\n    private UserRepository userRepository;\n    \n    @GetMapping(&quot;/users&quot;)\n    public void getAllUsers() {\n        List&lt;User&gt; userList=userRepository.findAll();\n        if(!userList.isEmpty()) {\n            JSONArrray userArray=new JSONArrray();\n            JSONObject userObject=new JSONObject();\n            for(User user:userList) {\n                userObject.put(&quot;id&quot;, user.getId());\n                userObject.put(&quot;name&quot;, user.getName());\n                userObject.put(&quot;email&quot;, user.getEmail());\n                userObject.put(&quot;password&quot;, user.getPassword());\n                userArray.add(userObject);\n            }\n            \n           try (FileWriter file = new FileWriter(&quot;/Users/nabinsingh34/Desktop/project/SpringBoot/user-management/src/main/resources/user-1.json&quot;)) {\n                file.write(userArray.toJSONString());\n                file.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            System.out.println(&quot;No users found&quot;);\n            \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","itext","digital-signature","verification"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659538368,"creation_date":1659538368,"answer_id":73223614,"question_id":73219962,"body_markdown":"&gt; Signatures.java:221: error: incompatible types:\r\n&gt; List&lt;VerificationException&gt; cannot be converted to Object[]   Object\r\n&gt; fails[] = CertificateVerification.verifyCertificates(pkc, ks, null,\r\n&gt; cal); 1 error\r\n\r\nYou&#39;re invoking the following method of iText5 class `CertificateVerification`\r\n\r\n    public static List&lt;VerificationException&gt; verifyCertificates(Certificate[] certs, KeyStore keystore,\r\n    \t\tCalendar calendar) {\r\n    \treturn verifyCertificates(certs, keystore, (Collection) null, calendar);\r\n    }\r\n\r\nChange `Object fails[]` to `List&lt;VerificationException&gt;`.","title":"iText signature verification issue","body":"<blockquote>\n<p>Signatures.java:221: error: incompatible types:\nList cannot be converted to Object[]   Object\nfails[] = CertificateVerification.verifyCertificates(pkc, ks, null,\ncal); 1 error</p>\n</blockquote>\n<p>You're invoking the following method of iText5 class <code>CertificateVerification</code></p>\n<pre><code>public static List&lt;VerificationException&gt; verifyCertificates(Certificate[] certs, KeyStore keystore,\n        Calendar calendar) {\n    return verifyCertificates(certs, keystore, (Collection) null, calendar);\n}\n</code></pre>\n<p>Change <code>Object fails[]</code> to <code>List&lt;VerificationException&gt;</code>.</p>\n"}],"owner":{"account_id":7566884,"reputation":19,"user_id":5742074,"display_name":"stockton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659538368,"creation_date":1659521591,"question_id":73219962,"body_markdown":"I&#39;m following the iText 5 signature verification example to build a sign/verify pdf with digital signature. However it return error when i compile the java as below error message:\r\n\r\n    Signatures.java:221: error: incompatible types: List&lt;VerificationException&gt; cannot be converted to Object[]\r\n      Object fails[] = CertificateVerification.verifyCertificates(pkc, ks, null, cal);\r\n    1 error\r\n\r\nhere my java code:\r\n\r\n    public void verifySignatures() throws GeneralSecurityException, IOException {\r\n            KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            ks.load(null, null);\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X509&quot;);\r\n            FileInputStream is1 = new FileInputStream(properties.getProperty(&quot;ROOTCERT&quot;));\r\n            X509Certificate cert1 = (X509Certificate) cf.generateCertificate(is1);\r\n            ks.setCertificateEntry(&quot;cacert&quot;, cert1);\r\n            FileInputStream is2 = new FileInputStream(&quot;12345678.cer&quot;);\r\n            X509Certificate cert2 = (X509Certificate) cf.generateCertificate(is2);\r\n            ks.setCertificateEntry(&quot;foobar&quot;, cert2);\r\n            \r\n            PrintWriter out = new PrintWriter(new FileOutputStream(VERIFICATION));\r\n            PdfReader reader = new PdfReader(SIGNED1);\r\n            AcroFields af = reader.getAcroFields();\r\n            ArrayList&lt;String&gt; names = af.getSignatureNames();\r\n            for (String name : names) {\r\n                out.println(&quot;Signature name: &quot; + name);\r\n                out.println(&quot;Signature covers whole document: &quot;+ af.signatureCoversWholeDocument(name));\r\n                out.println(&quot;Document revision: &quot;+ af.getRevision(name)+&quot; of &quot;+ af.getTotalRevisions());\r\n                PdfPKCS7 pk = af.verifySignature(name);\r\n                Calendar cal = pk.getSignDate();\r\n                Certificate[] pkc = pk.getCertificates();\r\n                out.println(&quot;Subject: &quot; + CertificateInfo.getSubjectFields(pk.getSigningCertificate()));\r\n                out.println(&quot;Revision modified: &quot; + !pk.verify());\r\n    \t\t\tObject fails[] = CertificateVerification.verifyCertificates(pkc, ks, null, cal);\r\n    \t\t\t\r\n                if (fails == null)\r\n                    out.println(&quot;Certificates verified against the KeyStore&quot;);\r\n                else\r\n                    out.println(&quot;Certificate failed: &quot; + fails[1]);    \r\n            }\r\n            out.flush();\r\n            out.close();\r\n        }\r\n\r\nwhat i&#39;m doing wrong? ","title":"iText signature verification issue","body":"<p>I'm following the iText 5 signature verification example to build a sign/verify pdf with digital signature. However it return error when i compile the java as below error message:</p>\n<pre><code>Signatures.java:221: error: incompatible types: List&lt;VerificationException&gt; cannot be converted to Object[]\n  Object fails[] = CertificateVerification.verifyCertificates(pkc, ks, null, cal);\n1 error\n</code></pre>\n<p>here my java code:</p>\n<pre><code>public void verifySignatures() throws GeneralSecurityException, IOException {\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(null, null);\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X509&quot;);\n        FileInputStream is1 = new FileInputStream(properties.getProperty(&quot;ROOTCERT&quot;));\n        X509Certificate cert1 = (X509Certificate) cf.generateCertificate(is1);\n        ks.setCertificateEntry(&quot;cacert&quot;, cert1);\n        FileInputStream is2 = new FileInputStream(&quot;12345678.cer&quot;);\n        X509Certificate cert2 = (X509Certificate) cf.generateCertificate(is2);\n        ks.setCertificateEntry(&quot;foobar&quot;, cert2);\n        \n        PrintWriter out = new PrintWriter(new FileOutputStream(VERIFICATION));\n        PdfReader reader = new PdfReader(SIGNED1);\n        AcroFields af = reader.getAcroFields();\n        ArrayList&lt;String&gt; names = af.getSignatureNames();\n        for (String name : names) {\n            out.println(&quot;Signature name: &quot; + name);\n            out.println(&quot;Signature covers whole document: &quot;+ af.signatureCoversWholeDocument(name));\n            out.println(&quot;Document revision: &quot;+ af.getRevision(name)+&quot; of &quot;+ af.getTotalRevisions());\n            PdfPKCS7 pk = af.verifySignature(name);\n            Calendar cal = pk.getSignDate();\n            Certificate[] pkc = pk.getCertificates();\n            out.println(&quot;Subject: &quot; + CertificateInfo.getSubjectFields(pk.getSigningCertificate()));\n            out.println(&quot;Revision modified: &quot; + !pk.verify());\n            Object fails[] = CertificateVerification.verifyCertificates(pkc, ks, null, cal);\n            \n            if (fails == null)\n                out.println(&quot;Certificates verified against the KeyStore&quot;);\n            else\n                out.println(&quot;Certificate failed: &quot; + fails[1]);    \n        }\n        out.flush();\n        out.close();\n    }\n</code></pre>\n<p>what i'm doing wrong?</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":3133962,"reputation":580,"user_id":2650905,"accept_rate":74,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516018340,"creation_date":1516018340,"answer_id":48262799,"question_id":17336654,"body_markdown":"May be it is too late to answer but anyway why not. You can get empty list if your pdf file has XFA structure.\r\n\r\n    PDDocument pdDoc = PDDocument.load(filename);\r\n    PDAcroForm pdform = pdDoc.getDocumentCatalog().getAcroForm();\r\n    List&lt;PDField&gt; field = pdform.getFields();\r\nUse these code lines to start working with pdf:\r\n\r\n    PDXFA xfa = pdform.getXFA();\r\n    Document xfaDocument = xfa.getDocument();\r\n    NodeList elements = xfaDocument.getElementsByTagName( &quot;SomeElement&quot; );","title":"Unable to read a PDF file using PDFBOX","body":"<p>May be it is too late to answer but anyway why not. You can get empty list if your pdf file has XFA structure.</p>\n\n<pre><code>PDDocument pdDoc = PDDocument.load(filename);\nPDAcroForm pdform = pdDoc.getDocumentCatalog().getAcroForm();\nList&lt;PDField&gt; field = pdform.getFields();\n</code></pre>\n\n<p>Use these code lines to start working with pdf:</p>\n\n<pre><code>PDXFA xfa = pdform.getXFA();\nDocument xfaDocument = xfa.getDocument();\nNodeList elements = xfaDocument.getElementsByTagName( \"SomeElement\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9682289,"reputation":21,"user_id":7183513,"display_name":"Sergio Garc&#237;a Gal&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659538201,"creation_date":1659538201,"answer_id":73223583,"question_id":17336654,"body_markdown":"While struggling with Alfresco&#39;s content search abilities, I&#39;ve had some trouble with pdfbox (used by Alfresco to extract text and metadata) reading PDF files written by old applications (like QuarkXPress) that use old Acrobat 4.0 format. This old format pdfbox seems to be unable to extract metadata or text from it, although the files were perfectly viewable with any PDF reader application.\r\n\r\nThe solution was having all old PFD files re-printed (saved as...) using a more modern PDF format (like 10.0 for instance). This can be done in a row using some bash scripting.\r\n\r\nI directly didn&#39;t try intermediate Acrobat versions among 4.0 and 10.0.","title":"Unable to read a PDF file using PDFBOX","body":"<p>While struggling with Alfresco's content search abilities, I've had some trouble with pdfbox (used by Alfresco to extract text and metadata) reading PDF files written by old applications (like QuarkXPress) that use old Acrobat 4.0 format. This old format pdfbox seems to be unable to extract metadata or text from it, although the files were perfectly viewable with any PDF reader application.</p>\n<p>The solution was having all old PFD files re-printed (saved as...) using a more modern PDF format (like 10.0 for instance). This can be done in a row using some bash scripting.</p>\n<p>I directly didn't try intermediate Acrobat versions among 4.0 and 10.0.</p>\n"}],"owner":{"account_id":2599236,"reputation":33,"user_id":2252136,"display_name":"Dheepikaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2522,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1659538201,"creation_date":1372316613,"question_id":17336654,"body_markdown":"I am trying to fill in a PDF form using JAVA, but when I tried to get the fields using the below code the list is empty.\r\n\r\n    PDDocument pdDoc = PDDocument.load(filename);\r\n    PDAcroForm pdform = pdDoc.getDocumentCatalog().getAcroForm();\r\n    List&lt;PDField&gt; field = pdform.getFields();\r\n\r\nThen I tried to read the file using PDFStripper \r\n\r\n    PDFTextStripper stripper = new PDFTextStripper();\r\n    System.out.println(stripper.getText(pdDoc));\r\n\r\nand the ouput was as follows\r\n\r\n&quot;Please wait... \r\n  \r\nIf this message is not eventually replaced by the proper contents of the document, your PDF \r\nviewer may not be able to display this type of document. \r\n  \r\nYou can upgrade to the latest version of Adobe Reader for Windows&#174;, Mac, or Linux&#174; by \r\nvisiting  http://www.adobe.com/go/reader_download. \r\n  \r\nFor more assistance with Adobe Reader visit  http://www.adobe.com/go/acrreader. \r\n  \r\nWindows is either a registered trademark or a trademark of Microsoft Corporation in the United States and/or other countries. Mac is a trademark \r\nof Apple Inc., registered in the United States and other countries. Linux is the registered trademark of Linus Torvalds in the U.S. and other \r\ncountries.&quot;\r\n\r\nBut I&#39;m able to open the file manually and fill the fields as well. I&#39;ve tried other tools like iText also. But again I wasn&#39;t able to get the fields.\r\nHow can I resolve this issue?","title":"Unable to read a PDF file using PDFBOX","body":"<p>I am trying to fill in a PDF form using JAVA, but when I tried to get the fields using the below code the list is empty.</p>\n\n<pre><code>PDDocument pdDoc = PDDocument.load(filename);\nPDAcroForm pdform = pdDoc.getDocumentCatalog().getAcroForm();\nList&lt;PDField&gt; field = pdform.getFields();\n</code></pre>\n\n<p>Then I tried to read the file using PDFStripper </p>\n\n<pre><code>PDFTextStripper stripper = new PDFTextStripper();\nSystem.out.println(stripper.getText(pdDoc));\n</code></pre>\n\n<p>and the ouput was as follows</p>\n\n<p>\"Please wait... </p>\n\n<p>If this message is not eventually replaced by the proper contents of the document, your PDF \nviewer may not be able to display this type of document. </p>\n\n<p>You can upgrade to the latest version of Adobe Reader for WindowsÂ®, Mac, or LinuxÂ® by \nvisiting  <a href=\"http://www.adobe.com/go/reader_download\" rel=\"nofollow\">http://www.adobe.com/go/reader_download</a>. </p>\n\n<p>For more assistance with Adobe Reader visit  <a href=\"http://www.adobe.com/go/acrreader\" rel=\"nofollow\">http://www.adobe.com/go/acrreader</a>. </p>\n\n<p>Windows is either a registered trademark or a trademark of Microsoft Corporation in the United States and/or other countries. Mac is a trademark \nof Apple Inc., registered in the United States and other countries. Linux is the registered trademark of Linus Torvalds in the U.S. and other \ncountries.\"</p>\n\n<p>But I'm able to open the file manually and fill the fields as well. I've tried other tools like iText also. But again I wasn't able to get the fields.\nHow can I resolve this issue?</p>\n"},{"tags":["java","string","list","dictionary","hash"],"answers":[{"tags":[],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659535142,"creation_date":1659535142,"answer_id":73222912,"question_id":73222577,"body_markdown":"I recommend writing a method with this struture:\r\n\r\n1. Create an ArrayList&lt;ArrayList&lt;String&gt;&gt;, which will hold the outcoming \r\nArrayLists containing the different values for common keys.\r\n\r\n2. Iterate over Arraylist containing the keys.\r\n\r\n3. Create an ArrayList that will get the 4 values.\r\n\r\n4. Check all 4 Hashmaps with the current key using HashMap.get(key).\r\nIf the outcome is null, you should add &quot;&quot; to your ArrayList, otherwise you\r\nenter the value to the ArrayList inside the loop.\r\n\r\nAfter it iterated through the ArrayList containing the keys. You should have an\r\nArrayList&lt;ArrayList&lt;String&gt;&gt; holding exactly as much ArrayList containing the values for similar keys, as you ArrayList of keys size.","title":"Go through multiple hashmaps of different sizes to extract values with common keys","body":"<p>I recommend writing a method with this struture:</p>\n<ol>\n<li><p>Create an ArrayList&lt;ArrayList&gt;, which will hold the outcoming\nArrayLists containing the different values for common keys.</p>\n</li>\n<li><p>Iterate over Arraylist containing the keys.</p>\n</li>\n<li><p>Create an ArrayList that will get the 4 values.</p>\n</li>\n<li><p>Check all 4 Hashmaps with the current key using HashMap.get(key).\nIf the outcome is null, you should add &quot;&quot; to your ArrayList, otherwise you\nenter the value to the ArrayList inside the loop.</p>\n</li>\n</ol>\n<p>After it iterated through the ArrayList containing the keys. You should have an\nArrayList&lt;ArrayList&gt; holding exactly as much ArrayList containing the values for similar keys, as you ArrayList of keys size.</p>\n"},{"tags":[],"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659537130,"creation_date":1659536679,"answer_id":73223219,"question_id":73222577,"body_markdown":"You can achieve this by transforming your maps into a stream of maps and extracting the values for a particular key.\r\n\r\n    List&lt;String&gt; values = Stream.of(gradeA,\r\n                                    gradeB,\r\n                                    gradeC,\r\n                                    gradeD)\r\n                                .map(map -&gt; map.getOrDefault(&quot;1&quot;, &quot;&quot;))\r\n                                .collect(Collectors.toList());\r\n\r\nTo reuse this, you&#39;ll have to create a function that handles the combining of the maps and a function that extracts values from that stream of maps.\r\n\r\nThe example should get you on your way.","title":"Go through multiple hashmaps of different sizes to extract values with common keys","body":"<p>You can achieve this by transforming your maps into a stream of maps and extracting the values for a particular key.</p>\n<pre><code>List&lt;String&gt; values = Stream.of(gradeA,\n                                gradeB,\n                                gradeC,\n                                gradeD)\n                            .map(map -&gt; map.getOrDefault(&quot;1&quot;, &quot;&quot;))\n                            .collect(Collectors.toList());\n</code></pre>\n<p>To reuse this, you'll have to create a function that handles the combining of the maps and a function that extracts values from that stream of maps.</p>\n<p>The example should get you on your way.</p>\n"}],"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659537779,"creation_date":1659533203,"question_id":73222577,"body_markdown":"So I essentially want to go through all the elements in the arraylist and match it with the keys of each hashmap and for the values of the common keys I want to make a new arraylist. \r\n\r\nEssentially if keygrades is on value 1, I want to check every hashmap with the key 1 and then extract all the values associated with that key and make a brand new arraylist with those values.\r\n\r\n    ArrayList &lt;String&gt; keygrades = new ArrayList&lt;&gt;();\r\n    HashMap &lt;String,String&gt; gradeA = new HashMap&lt;&gt;();\r\n    HashMap &lt;String,String&gt; gradeB = new HashMap&lt;&gt;();\r\n    HashMap &lt;String,String&gt; gradeC = new HashMap&lt;&gt;();\r\n    HashMap &lt;String,String&gt; gradeD = new HashMap&lt;&gt;();\r\n\r\nThis is what is in the hashmap:\r\n\r\n    keygrades = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]\r\n    gradeA = {11=134, 1=100, 3=110, 4=120, 15=142, 5=130}\r\n    gradeB = {2=102, 3=103, 6=108, 8=109}\r\n    gradeC = {3=104, 5=105, 6=111}\r\n    gradeD = {3=122, 4=123}\r\n\r\n\r\nFor example for key 1 I want a new arraylist which would be (100,&quot;&quot;,&quot;&quot;,&quot;&quot;) &quot;&quot;= empty string. For key 2 I want a new arraylist which would be (&quot;&quot;,102,&quot;&quot;,&quot;&quot;).It would continue going through hashmaps in order and inputting into new arraylist each time.","title":"Go through multiple hashmaps of different sizes to extract values with common keys","body":"<p>So I essentially want to go through all the elements in the arraylist and match it with the keys of each hashmap and for the values of the common keys I want to make a new arraylist.</p>\n<p>Essentially if keygrades is on value 1, I want to check every hashmap with the key 1 and then extract all the values associated with that key and make a brand new arraylist with those values.</p>\n<pre><code>ArrayList &lt;String&gt; keygrades = new ArrayList&lt;&gt;();\nHashMap &lt;String,String&gt; gradeA = new HashMap&lt;&gt;();\nHashMap &lt;String,String&gt; gradeB = new HashMap&lt;&gt;();\nHashMap &lt;String,String&gt; gradeC = new HashMap&lt;&gt;();\nHashMap &lt;String,String&gt; gradeD = new HashMap&lt;&gt;();\n</code></pre>\n<p>This is what is in the hashmap:</p>\n<pre><code>keygrades = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]\ngradeA = {11=134, 1=100, 3=110, 4=120, 15=142, 5=130}\ngradeB = {2=102, 3=103, 6=108, 8=109}\ngradeC = {3=104, 5=105, 6=111}\ngradeD = {3=122, 4=123}\n</code></pre>\n<p>For example for key 1 I want a new arraylist which would be (100,&quot;&quot;,&quot;&quot;,&quot;&quot;) &quot;&quot;= empty string. For key 2 I want a new arraylist which would be (&quot;&quot;,102,&quot;&quot;,&quot;&quot;).It would continue going through hashmaps in order and inputting into new arraylist each time.</p>\n"},{"tags":["java","android","android-intent"],"answers":[{"tags":[],"owner":{"account_id":15162192,"reputation":11,"user_id":10940889,"display_name":"Mahek Thaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650450734,"creation_date":1650450734,"answer_id":71938127,"question_id":71183056,"body_markdown":"This issue came since sdk 31 currently i am handling it with this condition in my project.\r\n\r\nKotlin solution\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT else PendingIntent.FLAG_UPDATE_CURRENT","title":"Intent from widget not taken into account since Android SDK 31","body":"<p>This issue came since sdk 31 currently i am handling it with this condition in my project.</p>\n<p>Kotlin solution</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT else PendingIntent.FLAG_UPDATE_CURRENT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12521338,"reputation":906,"user_id":9112590,"display_name":"Hadas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659537689,"creation_date":1659274978,"answer_id":73183813,"question_id":71183056,"body_markdown":"If your app targets Android 12 or higher, you must specify the mutability of each PendingIntent object that your app creates. To declare that a given PendingIntent object is mutable or immutable, use the PendingIntent.FLAG_MUTABLE or PendingIntent.FLAG_IMMUTABLE flag, respectively.\r\n\r\nYou&#39;ll need to declare if your `PendingIntent` is im/mutable in the `PendingIntent` passed to `setPendingIntentTemplate` and/or `setOnClickPendingIntent` (I think you need mutable).\r\n\r\nIn most cases, your app should create immutable PendingIntent objects:\r\n\r\n    val pendingIntent = PendingIntent.getActivity(applicationContext,\r\n            REQUEST_CODE, intent,\r\n            /* flags */ PendingIntent.FLAG_IMMUTABLE)\r\n\r\nIf a PendingIntent object is immutable, then other apps cannot modify the intent to adjust the result of invoking the intent.\r\nMutable PendingIntent is needed when:\r\n\r\n1. Supporting direct reply actions in notifications.\r\n2. Associating notifications with the Android Auto framework, using instances of CarAppExtender.\r\n3. Placing conversations in bubbles using instances of PendingIntent.\r\n4. Requesting device location information by calling requestLocationUpdates() or similar APIs. \r\n5. Scheduling alarms using AlarmManager.\r\n\r\nfor more info [docs][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/intents-filters#DeclareMutabilityPendingIntent","title":"Intent from widget not taken into account since Android SDK 31","body":"<p>If your app targets Android 12 or higher, you must specify the mutability of each PendingIntent object that your app creates. To declare that a given PendingIntent object is mutable or immutable, use the PendingIntent.FLAG_MUTABLE or PendingIntent.FLAG_IMMUTABLE flag, respectively.</p>\n<p>You'll need to declare if your <code>PendingIntent</code> is im/mutable in the <code>PendingIntent</code> passed to <code>setPendingIntentTemplate</code> and/or <code>setOnClickPendingIntent</code> (I think you need mutable).</p>\n<p>In most cases, your app should create immutable PendingIntent objects:</p>\n<pre><code>val pendingIntent = PendingIntent.getActivity(applicationContext,\n        REQUEST_CODE, intent,\n        /* flags */ PendingIntent.FLAG_IMMUTABLE)\n</code></pre>\n<p>If a PendingIntent object is immutable, then other apps cannot modify the intent to adjust the result of invoking the intent.\nMutable PendingIntent is needed when:</p>\n<ol>\n<li>Supporting direct reply actions in notifications.</li>\n<li>Associating notifications with the Android Auto framework, using instances of CarAppExtender.</li>\n<li>Placing conversations in bubbles using instances of PendingIntent.</li>\n<li>Requesting device location information by calling requestLocationUpdates() or similar APIs.</li>\n<li>Scheduling alarms using AlarmManager.</li>\n</ol>\n<p>for more info <a href=\"https://developer.android.com/guide/components/intents-filters#DeclareMutabilityPendingIntent\" rel=\"nofollow noreferrer\">docs</a></p>\n"}],"owner":{"account_id":1361461,"reputation":1592,"user_id":1298744,"accept_rate":71,"display_name":"Zelig63"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659537689,"creation_date":1645256246,"question_id":71183056,"body_markdown":"My app offers the possibility to launch it through as many widgets as wanted by the user. To determine which widget trigerred the launch, I use an extra parameter in the Intent associated to the widget. This parameter is the widget id provided by the `update` function of my `AppWidgetProvider`.\r\nAs long as I target SDK version up to 30, everything is fine. If I try to target to Android SDK 31 or 32, when I add a new widget, I get the following error :\r\n\r\njava.lang.IllegalArgumentException: vd63.utilitaires.memo: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\nI have tried to declare my Intent mutable, as Intents were until now, as far as I have read, mutable by default. But when I click on the widget, the app reappears but doesn&#39;t take into account the Intent passed to the widget.\r\nI tried to change the Intent to immutable, but without improvements.\r\n\r\nDoes anyone know the origin of this change in behaviour between Android SDK 31 and it&#39;s predecessors, and how to cope with it?\r\n\r\nEdit : targetting SDK 30 doesn&#39;t remove the problem when the app is running on a device whose OS is Android 12. Targetting SDK 32 is neither a problem when running on an Android 8 device.","title":"Intent from widget not taken into account since Android SDK 31","body":"<p>My app offers the possibility to launch it through as many widgets as wanted by the user. To determine which widget trigerred the launch, I use an extra parameter in the Intent associated to the widget. This parameter is the widget id provided by the <code>update</code> function of my <code>AppWidgetProvider</code>.\nAs long as I target SDK version up to 30, everything is fine. If I try to target to Android SDK 31 or 32, when I add a new widget, I get the following error :</p>\n<p>java.lang.IllegalArgumentException: vd63.utilitaires.memo: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.</p>\n<p>I have tried to declare my Intent mutable, as Intents were until now, as far as I have read, mutable by default. But when I click on the widget, the app reappears but doesn't take into account the Intent passed to the widget.\nI tried to change the Intent to immutable, but without improvements.</p>\n<p>Does anyone know the origin of this change in behaviour between Android SDK 31 and it's predecessors, and how to cope with it?</p>\n<p>Edit : targetting SDK 30 doesn't remove the problem when the app is running on a device whose OS is Android 12. Targetting SDK 32 is neither a problem when running on an Android 8 device.</p>\n"},{"tags":["java","angular","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":0,"creation_date":1659354407,"post_id":73191666,"comment_id":129267385,"body_markdown":"Please check my edited answer","body":"Please check my edited answer"},{"owner":{"account_id":4922689,"reputation":624,"user_id":3964849,"display_name":"Harish Barma"},"score":0,"creation_date":1659453099,"post_id":73191666,"comment_id":129295872,"body_markdown":"you need to pass Accept: application/JSON header to accept JSON response. the content-type header is more about telling the service that is the format of your request, not your desired response.","body":"you need to pass Accept: application/JSON header to accept JSON response. the content-type header is more about telling the service that is the format of your request, not your desired response."}],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659537631,"creation_date":1659346683,"answer_id":73191763,"question_id":73191666,"body_markdown":"When you work in Angular by default your endpoint expect JSON and not plain text. I think you have to return JSON Object\r\n\r\nPlease check if your class is annotated with:\r\n\r\n    @RestController()\r\n\r\nNow you need to change the @GetMapping. It should be:\r\n\r\n    @GetMapping(value = &quot;/employeeNameForOnboard/{employeeId}&quot;, produces = &quot;application/json&quot;)\r\n\r\nThen you should not return just String from the method `getEmployeeNameForOnboard` but you have to return :\r\n\r\n    ResponseEntity&lt;MyModel&gt;\r\n\r\nYour method should look something like:\r\n\r\n    @GetMapping(value = &quot;/employeeNameForOnboard/{employeeId}&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;MyModel&gt; getEmployeeNameForOnboard(@PathVariable String employeeId) {\r\n           String employeeName =  onboardSearchService.getEmployeeName(employeeId);\r\n           MyModel result = new MyModel(employeeName); \r\n           return ResponseEntity.ok(result);\r\n    }\r\n\r\nBy the way in Angular you also need to have class MyModel with the same properties so they can me mapped. The you use this class to work with the endpoint.\r\n\r\n\r\n-----------------------------------------------------\r\n\r\nThis is answer to your edit question.\r\n\r\nPlease change your Angular Service to:\r\n\r\n    const httpOptions = {\r\n       headers: new HttpHeaders({\r\n       &#39;Content-Type&#39;: &#39;text/plain&#39;, \r\n       &#39;Accept&#39;:&#39;application/json&#39;, // not &#39;text/plain&#39;,\r\n       Authorization:\r\n          &#39;Basic &#39; +\r\n           btoa(&#39;test:test&#39;),\r\n       }),\r\n    };","title":"Error when String value is passed to angular service","body":"<p>When you work in Angular by default your endpoint expect JSON and not plain text. I think you have to return JSON Object</p>\n<p>Please check if your class is annotated with:</p>\n<pre><code>@RestController()\n</code></pre>\n<p>Now you need to change the @GetMapping. It should be:</p>\n<pre><code>@GetMapping(value = &quot;/employeeNameForOnboard/{employeeId}&quot;, produces = &quot;application/json&quot;)\n</code></pre>\n<p>Then you should not return just String from the method <code>getEmployeeNameForOnboard</code> but you have to return :</p>\n<pre><code>ResponseEntity&lt;MyModel&gt;\n</code></pre>\n<p>Your method should look something like:</p>\n<pre><code>@GetMapping(value = &quot;/employeeNameForOnboard/{employeeId}&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;MyModel&gt; getEmployeeNameForOnboard(@PathVariable String employeeId) {\n       String employeeName =  onboardSearchService.getEmployeeName(employeeId);\n       MyModel result = new MyModel(employeeName); \n       return ResponseEntity.ok(result);\n}\n</code></pre>\n<p>By the way in Angular you also need to have class MyModel with the same properties so they can me mapped. The you use this class to work with the endpoint.</p>\n<hr />\n<p>This is answer to your edit question.</p>\n<p>Please change your Angular Service to:</p>\n<pre><code>const httpOptions = {\n   headers: new HttpHeaders({\n   'Content-Type': 'text/plain', \n   'Accept':'application/json', // not 'text/plain',\n   Authorization:\n      'Basic ' +\n       btoa('test:test'),\n   }),\n};\n</code></pre>\n"}],"owner":{"account_id":25946124,"reputation":1,"user_id":19664834,"display_name":"Srinidhi "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659537631,"creation_date":1659346247,"question_id":73191666,"body_markdown":"I have a Rest end point which returns the employee name as String.\r\n\r\n    @GetMapping(&quot;/employeeNameForOnboard/{employeeId}&quot;)\r\n\t    public String getEmployeeNameForOnboard(@PathVariable String employeeId) {\r\n\t\t\t   String employeeName =  onboardSearchService.getEmployeeName(employeeId);\r\n\t\t\t   return employeeName;\r\n\t    }\r\n\r\nMy Angular Service :\r\n\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        &#39;Content-Type&#39;: &#39;text/plain&#39;,\r\n        Authorization:\r\n          &#39;Basic &#39; +\r\n          btoa(&#39;test:test&#39;),\r\n      }),\r\n    };\r\n\r\n\r\n    getEmployeeName(employeeId: String) {\r\n        return this.httpClient.get&lt;any&gt;(\r\n      `    ${baseUrl}employeeNameForOnboard/${employeeId}`,\r\n          httpOptions\r\n       );\r\n     }\r\n\r\n\r\nError:\r\n\r\nObject { headers: {â¦}, status: 200, statusText: &quot;OK&quot;, url: &quot;http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;, ok: false, name: &quot;HttpErrorResponse&quot;, message: &quot;Http failure during parsing for http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;, error: {â¦} }\r\n\r\nerror: Object { error: SyntaxError, text: &quot;Ram, Ravishekar&quot; }\r\n\r\nerror: SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data\r\n\r\ntext: &quot;Ram, Ravishekar&quot;\r\n\r\n\r\nChanged the end point to this:\r\n\r\n\t@GetMapping(value = &quot;/employeeNameForOnboard/{employeeId}&quot;, produces = &quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getEmployeeNameForOnboard(@PathVariable String employeeId) {\r\n\t\t\tEmployeeDetailsTO employeeName =  onboardSearchService.getEmployeeName(employeeId);\r\n\t\t\treturn new ResponseEntity(employeeName,HttpStatus.OK);\r\n\t}\r\n\t\r\n\t\r\n\tpublic class EmployeeDetailsTO {\r\n\tprivate String emailId;\r\n\tprivate String name;\r\n\tpublic String getEmailId() {\r\n\t\treturn emailId;\r\n\t}\r\n\tpublic void setEmailId(String emailId) {\r\n\t\tthis.emailId = emailId;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic EmployeeDetailsTO(String emailId, String name) {\r\n\t\tthis.emailId = emailId;\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic EmployeeDetailsTO(){}\r\n\t\r\n\t}\r\n\r\n\r\n\t\r\n\t\r\n\r\nModel class in angular :\r\n\r\n\texport interface EmployeeDetails {\r\n\t\temailId: string;\r\n\t\tname: string;\t\r\n\t}\r\n\t\r\n\r\n\r\n\r\n\r\nGetting this error now on spring side:\r\n\r\norg.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation\r\n\t\r\n\t\r\n\t\r\nAnd Getting this error on angular side:\r\n\r\n\r\nObject { headers: {â¦}, status: 406, statusText: &quot;OK&quot;, url: &quot;http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;, ok: false, name: &quot;HttpErrorResponse&quot;, message: &quot;Http failure response for http://localhost:7025/employeeNameForOnboard/example@gmail.com: 406 OK&quot;, error: null }\r\nâ\r\nerror: null\r\nâ\r\nheaders: Object { normalizedNames: Map(0), lazyUpdate: null, lazyInit: lazyInit()\r\n }\r\nâ\r\nmessage: &quot;Http failure response for http://localhost:7025/employeeNameForOnboard/example@gmail.com: 406 OK&quot;\r\nâ\r\nname: &quot;HttpErrorResponse&quot;\r\nâ\r\nok: false\r\nâ\r\nstatus: 406\r\nâ\r\nstatusText: &quot;OK&quot;\r\nâ\r\nurl: &quot;http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;\r\n\r\n\r\n\r\n\r\n","title":"Error when String value is passed to angular service","body":"<p>I have a Rest end point which returns the employee name as String.</p>\n<pre><code>@GetMapping(&quot;/employeeNameForOnboard/{employeeId}&quot;)\n    public String getEmployeeNameForOnboard(@PathVariable String employeeId) {\n           String employeeName =  onboardSearchService.getEmployeeName(employeeId);\n           return employeeName;\n    }\n</code></pre>\n<p>My Angular Service :</p>\n<pre><code>const httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type': 'text/plain',\n    Authorization:\n      'Basic ' +\n      btoa('test:test'),\n  }),\n};\n\n\ngetEmployeeName(employeeId: String) {\n    return this.httpClient.get&lt;any&gt;(\n  `    ${baseUrl}employeeNameForOnboard/${employeeId}`,\n      httpOptions\n   );\n }\n</code></pre>\n<p>Error:</p>\n<p>Object { headers: {â¦}, status: 200, statusText: &quot;OK&quot;, url: &quot;http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;, ok: false, name: &quot;HttpErrorResponse&quot;, message: &quot;Http failure during parsing for http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;, error: {â¦} }</p>\n<p>error: Object { error: SyntaxError, text: &quot;Ram, Ravishekar&quot; }</p>\n<p>error: SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data</p>\n<p>text: &quot;Ram, Ravishekar&quot;</p>\n<p>Changed the end point to this:</p>\n<pre><code>@GetMapping(value = &quot;/employeeNameForOnboard/{employeeId}&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;?&gt; getEmployeeNameForOnboard(@PathVariable String employeeId) {\n        EmployeeDetailsTO employeeName =  onboardSearchService.getEmployeeName(employeeId);\n        return new ResponseEntity(employeeName,HttpStatus.OK);\n}\n\n\npublic class EmployeeDetailsTO {\nprivate String emailId;\nprivate String name;\npublic String getEmailId() {\n    return emailId;\n}\npublic void setEmailId(String emailId) {\n    this.emailId = emailId;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic EmployeeDetailsTO(String emailId, String name) {\n    this.emailId = emailId;\n    this.name = name;\n}\n\npublic EmployeeDetailsTO(){}\n\n}\n</code></pre>\n<p>Model class in angular :</p>\n<pre><code>export interface EmployeeDetails {\n    emailId: string;\n    name: string;   \n}\n</code></pre>\n<p>Getting this error now on spring side:</p>\n<p>org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation</p>\n<p>And Getting this error on angular side:</p>\n<p>Object { headers: {â¦}, status: 406, statusText: &quot;OK&quot;, url: &quot;http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;, ok: false, name: &quot;HttpErrorResponse&quot;, message: &quot;Http failure response for http://localhost:7025/employeeNameForOnboard/example@gmail.com: 406 OK&quot;, error: null }\nâ\nerror: null\nâ\nheaders: Object { normalizedNames: Map(0), lazyUpdate: null, lazyInit: lazyInit()\n}\nâ\nmessage: &quot;Http failure response for http://localhost:7025/employeeNameForOnboard/example@gmail.com: 406 OK&quot;\nâ\nname: &quot;HttpErrorResponse&quot;\nâ\nok: false\nâ\nstatus: 406\nâ\nstatusText: &quot;OK&quot;\nâ\nurl: &quot;http://localhost:7025/employeeNameForOnboard/example@gmail.com&quot;</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;Å¡ Petrovick&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659537482,"creation_date":1659531088,"answer_id":73222071,"question_id":73221641,"body_markdown":"Write a hard constraint that penalizes situations where there is a jobless employee in a vehicle - the solver will then work to minimize the total penalty. In the case of the model shown above, that constraint could look like this:\r\n\r\n    constraintFactory.forEach(Employee.class)\r\n        .ifNotExists(Job.class,\r\n            Joiners.equal(Function.identity(), Job::getEmployee)\r\n        .penalize(&quot;Jobless employee in a vehicle&quot;, \r\n            HardMediumSoftLongScore.ONE_HARD);\r\n\r\n`forEach(Employee.class)` makes sure you will only get initialized employees, therefore you are guaranteed they are in a vehicle. The `ifNotExists(...)` part is [conditional propagation][1].\r\n\r\nHowever, there is a problem with this model. Your `@PlanningVariable` will *always* assign employees to vehicles. If `null` is a valid option for employee vehicle, you need to make sure [your `@PlanningVariable` is `nullable`.][2].\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#constraintStreamsConditionalPropagation\r\n  [2]: https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#nullablePlanningVariable","title":"How to solve the problem - after the optimization, there is vehicles with employees who have no jobs appear?","body":"<p>Write a hard constraint that penalizes situations where there is a jobless employee in a vehicle - the solver will then work to minimize the total penalty. In the case of the model shown above, that constraint could look like this:</p>\n<pre><code>constraintFactory.forEach(Employee.class)\n    .ifNotExists(Job.class,\n        Joiners.equal(Function.identity(), Job::getEmployee)\n    .penalize(&quot;Jobless employee in a vehicle&quot;, \n        HardMediumSoftLongScore.ONE_HARD);\n</code></pre>\n<p><code>forEach(Employee.class)</code> makes sure you will only get initialized employees, therefore you are guaranteed they are in a vehicle. The <code>ifNotExists(...)</code> part is <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#constraintStreamsConditionalPropagation\" rel=\"nofollow noreferrer\">conditional propagation</a>.</p>\n<p>However, there is a problem with this model. Your <code>@PlanningVariable</code> will <em>always</em> assign employees to vehicles. If <code>null</code> is a valid option for employee vehicle, you need to make sure <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/planner-configuration/planner-configuration.html#nullablePlanningVariable\" rel=\"nofollow noreferrer\">your <code>@PlanningVariable</code> is <code>nullable</code>.</a>.</p>\n"}],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73222071,"answer_count":1,"score":-1,"last_activity_date":1659537482,"creation_date":1659529301,"question_id":73221641,"body_markdown":"1) need to place employees in cars\r\n2) need to allocate work to employees\r\n\r\nHere is the source code:\r\nModels:\r\n```java\r\n@PlanningEntity\r\npublic class Job {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n    \r\n    private String address;\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n    private Employee employee;\r\n\r\n    private String direction;\r\n\r\n}\r\n\r\n@PlanningEntity\r\npublic class Employee {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private String direction;\r\n\r\n    private Integer minJobCount;\r\n\r\n    private Integer maxJobCount;\r\n\r\n    @InverseRelationShadowVariable(sourceVariableName = &quot;employee&quot;)\r\n    private List&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = &quot;vehicleRange&quot;)\r\n    private Vehicle vehicle;\r\n}\r\n\r\n@AllArgsConstructor\r\npublic class Vehicle {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private Integer seatingCapacity;\r\n\r\n    @InverseRelationShadowVariable(sourceVariableName = &quot;vehicle&quot;)\r\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n\r\n}\r\n\r\n\r\n@PlanningSolution\r\npublic class Solution {\r\n\r\n    @PlanningEntityCollectionProperty\r\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n    private List&lt;Employee&gt; employees;\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Job&gt; jobs;\r\n\r\n    @ProblemFactCollectionProperty\r\n    @ValueRangeProvider(id = &quot;vehicleRange&quot;)\r\n    private List&lt;Vehicle&gt; vehicles;\r\n\r\n    @PlanningScore\r\n    private HardMediumSoftLongScore score;\r\n\r\n    public Plan(List&lt;Inspector&gt; inspectors, List&lt;Job&gt; jobs, List&lt;Vehicle&gt; vehicles) {\r\n        this.inspectors = inspectors;\r\n        this.applications = applications;\r\n        this.vehicles = vehicles;\r\n    }\r\n\r\n}\r\n```\r\n\r\nConstraints:\r\n```java\r\npublic class CustomConstraintProvider implements ConstraintProvider {\r\n\r\n    @Override\r\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n        return new Constraint[]{\r\n                minNumberConflict(constraintFactory),\r\n                maxNumberConflict(constraintFactory),\r\n                directionConflict(constraintFactory),\r\n                vehicleCapacity(constraintFactory),\r\n                vehicleMaxCapacity(constraintFactory)\r\n        };\r\n    }\r\n\r\n    private Constraint minNumberConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count())\r\n                .filter((employee, count) -&gt; employee.getMinNumber() &gt; count)\r\n                .penalize(&quot;MIN_INSPECTION_COUNT_CONFLICT&quot;,\r\n                        HardMediumSoftLongScore.ONE_MEDIUM, (employee, count) -&gt; employee.getMinNumber() - count);\r\n    }\r\n\r\n    private Constraint maxNumberConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count())\r\n                .filter((employee, count) -&gt; count &gt; employee.getMaxNumber())\r\n                .penalize(&quot;MAX_INSPECTION_COUNT_CONFLICT&quot;,\r\n                        HardMediumSoftLongScore.ONE_HARD, (employee, count) -&gt; count - employee.getMaxNumber());\r\n    }\r\n\r\n    private Constraint directionConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Job.class)\r\n                .filter(job -&gt; !job.getEmployee().getDirection()\r\n                        .equals(job.getAdministrativeDivision()))\r\n                .penalize(&quot;DIRECTION_CONFLICT&quot;, HardMediumSoftLongScore.ONE_HARD);\r\n    }\r\n\r\n    private Constraint vehicleMaxCapacity(ConstraintFactory factory) {\r\n        return factory.forEach(Vehicle.class)\r\n                .filter(vehicle -&gt; vehicle.getEmployees().size() &gt; vehicle.getSeatingCapacity())\r\n                .penalizeLong(&quot;TOTAL_CAPACITY_CONFLICT&quot;,\r\n                        HardMediumSoftLongScore.ONE_HARD, vehicle -&gt; vehicle.getEmployees().size() - vehicle.getSeatingCapacity());\r\n    }\r\n\r\n    private Constraint vehicleCapacity(ConstraintFactory factory) {\r\n        return factory.forEach(Vehicle.class)\r\n                .filter(vehicle -&gt; !vehicle.getEmployees().isEmpty())\r\n                .filter(vehicle -&gt; vehicle.getEmployees().size() &lt; vehicle.getSeatingCapacity())\r\n                .penalizeLong(&quot;OPTIMAL_EMPLOYEES_PLACEMENT_CONFLICT&quot;,\r\n                        HardMediumSoftLongScore.ONE_SOFT, vehicle -&gt; vehicle.getSeatingCapacity() - vehicle.getEmployees().size());\r\n    }\r\n\r\n}\r\n```\r\n\r\nInput parameters:\r\n* Vehicle with capacity: 17, 17, 2, 6, 2, 2\r\n* Employees number - 6\r\n* Jobs - 30\r\n\r\nResult:\r\n```\r\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â\r\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¼â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\r\nâ               Vehicle                 â            Vehicle capacity          â\r\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\r\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\r\nâ              NÉqliyayt: 6732350370761100881 - capacity: 2                    â\r\nâââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââ¤\r\nâ8930883530776265424                    âJob        {id=4150490238027319537}   â\r\nâ                                       âJob        {id=4707535022401407092}   â\r\nâ                                       âJob        {id=631702768559803139}    â\r\nâ                                       âJob        {id=4473385357049938675}   â\r\nâ                                       âJob        {id=7920716917533527363}   â\r\nâ                                       âJob        {id=2052525520996550776}   â\r\nâââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââ¤\r\nâ6474786395546274699                    â                                      â\r\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\r\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\r\nâ              Vehicle: 6598109476345237345 - capacity: 2                      â\r\nâââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââ¤\r\nâ8939243370145989526                    âJob        {id=9145445512850195611}   â\r\nâ                                       âJob        {id=1287792664485382814}   â\r\nâââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââ¤\r\nâ1162213509116611091                    âJob        {id=9185386477906185129}   â\r\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\r\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\r\nâ              Vehicle: 5217106628424059704 - capacity: 2                      â\r\nâââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââ¤\r\nâ7361941555795543986                    âJob        {id=8818040969169815329}   â\r\nâ                                       âJob        {id=4018994000382545633}   â\r\nâ                                       âJob        {id=3336748836211279270}   â\r\nâ                                       âJob        {id=448960811141515624}    â\r\nâ                                       âJob        {id=5269646864048277907}   â\r\nâââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââ¤\r\nâ7873415553511670835                    âJob        {id=5192891860283509924}   â\r\nâ                                       âJob        {id=6649801262843315756}   â\r\nâ                                       âJob        {id=850844391421461690}    â\r\nâ                                       âJob        {id=4090598636979374614}   â\r\nâ                                       âJob        {id=9214572757237514987}   â\r\nâ                                       âJob        {id=4231472489001798330}   â\r\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\r\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â\r\n```\r\n\r\nProblem: Employee with ID 6474786395546274699 must not be placed to the vehicle because he has no jobs","title":"How to solve the problem - after the optimization, there is vehicles with employees who have no jobs appear?","body":"<ol>\n<li>need to place employees in cars</li>\n<li>need to allocate work to employees</li>\n</ol>\n<p>Here is the source code:\nModels:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PlanningEntity\npublic class Job {\n\n    @PlanningId\n    private Long id;\n    \n    private String address;\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n    private Employee employee;\n\n    private String direction;\n\n}\n\n@PlanningEntity\npublic class Employee {\n\n    @PlanningId\n    private Long id;\n\n    private String name;\n\n    private String direction;\n\n    private Integer minJobCount;\n\n    private Integer maxJobCount;\n\n    @InverseRelationShadowVariable(sourceVariableName = &quot;employee&quot;)\n    private List&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;vehicleRange&quot;)\n    private Vehicle vehicle;\n}\n\n@AllArgsConstructor\npublic class Vehicle {\n\n    @PlanningId\n    private Long id;\n\n    private Integer seatingCapacity;\n\n    @InverseRelationShadowVariable(sourceVariableName = &quot;vehicle&quot;)\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n\n}\n\n\n@PlanningSolution\npublic class Solution {\n\n    @PlanningEntityCollectionProperty\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\n    private List&lt;Employee&gt; employees;\n\n    @PlanningEntityCollectionProperty\n    private List&lt;Job&gt; jobs;\n\n    @ProblemFactCollectionProperty\n    @ValueRangeProvider(id = &quot;vehicleRange&quot;)\n    private List&lt;Vehicle&gt; vehicles;\n\n    @PlanningScore\n    private HardMediumSoftLongScore score;\n\n    public Plan(List&lt;Inspector&gt; inspectors, List&lt;Job&gt; jobs, List&lt;Vehicle&gt; vehicles) {\n        this.inspectors = inspectors;\n        this.applications = applications;\n        this.vehicles = vehicles;\n    }\n\n}\n</code></pre>\n<p>Constraints:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomConstraintProvider implements ConstraintProvider {\n\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n        return new Constraint[]{\n                minNumberConflict(constraintFactory),\n                maxNumberConflict(constraintFactory),\n                directionConflict(constraintFactory),\n                vehicleCapacity(constraintFactory),\n                vehicleMaxCapacity(constraintFactory)\n        };\n    }\n\n    private Constraint minNumberConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count())\n                .filter((employee, count) -&gt; employee.getMinNumber() &gt; count)\n                .penalize(&quot;MIN_INSPECTION_COUNT_CONFLICT&quot;,\n                        HardMediumSoftLongScore.ONE_MEDIUM, (employee, count) -&gt; employee.getMinNumber() - count);\n    }\n\n    private Constraint maxNumberConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count())\n                .filter((employee, count) -&gt; count &gt; employee.getMaxNumber())\n                .penalize(&quot;MAX_INSPECTION_COUNT_CONFLICT&quot;,\n                        HardMediumSoftLongScore.ONE_HARD, (employee, count) -&gt; count - employee.getMaxNumber());\n    }\n\n    private Constraint directionConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Job.class)\n                .filter(job -&gt; !job.getEmployee().getDirection()\n                        .equals(job.getAdministrativeDivision()))\n                .penalize(&quot;DIRECTION_CONFLICT&quot;, HardMediumSoftLongScore.ONE_HARD);\n    }\n\n    private Constraint vehicleMaxCapacity(ConstraintFactory factory) {\n        return factory.forEach(Vehicle.class)\n                .filter(vehicle -&gt; vehicle.getEmployees().size() &gt; vehicle.getSeatingCapacity())\n                .penalizeLong(&quot;TOTAL_CAPACITY_CONFLICT&quot;,\n                        HardMediumSoftLongScore.ONE_HARD, vehicle -&gt; vehicle.getEmployees().size() - vehicle.getSeatingCapacity());\n    }\n\n    private Constraint vehicleCapacity(ConstraintFactory factory) {\n        return factory.forEach(Vehicle.class)\n                .filter(vehicle -&gt; !vehicle.getEmployees().isEmpty())\n                .filter(vehicle -&gt; vehicle.getEmployees().size() &lt; vehicle.getSeatingCapacity())\n                .penalizeLong(&quot;OPTIMAL_EMPLOYEES_PLACEMENT_CONFLICT&quot;,\n                        HardMediumSoftLongScore.ONE_SOFT, vehicle -&gt; vehicle.getSeatingCapacity() - vehicle.getEmployees().size());\n    }\n\n}\n</code></pre>\n<p>Input parameters:</p>\n<ul>\n<li>Vehicle with capacity: 17, 17, 2, 6, 2, 2</li>\n<li>Employees number - 6</li>\n<li>Jobs - 30</li>\n</ul>\n<p>Result:</p>\n<pre><code>ââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¼â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\nâ               Vehicle                 â            Vehicle capacity          â\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\nâ              NÉqliyayt: 6732350370761100881 - capacity: 2                    â\nâââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââ¤\nâ8930883530776265424                    âJob        {id=4150490238027319537}   â\nâ                                       âJob        {id=4707535022401407092}   â\nâ                                       âJob        {id=631702768559803139}    â\nâ                                       âJob        {id=4473385357049938675}   â\nâ                                       âJob        {id=7920716917533527363}   â\nâ                                       âJob        {id=2052525520996550776}   â\nâââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââ¤\nâ6474786395546274699                    â                                      â\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\nâ              Vehicle: 6598109476345237345 - capacity: 2                      â\nâââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââ¤\nâ8939243370145989526                    âJob        {id=9145445512850195611}   â\nâ                                       âJob        {id=1287792664485382814}   â\nâââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââ¤\nâ1162213509116611091                    âJob        {id=9185386477906185129}   â\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â¤\nâ              Vehicle: 5217106628424059704 - capacity: 2                      â\nâââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââ¤\nâ7361941555795543986                    âJob        {id=8818040969169815329}   â\nâ                                       âJob        {id=4018994000382545633}   â\nâ                                       âJob        {id=3336748836211279270}   â\nâ                                       âJob        {id=448960811141515624}    â\nâ                                       âJob        {id=5269646864048277907}   â\nâââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââ¤\nâ7873415553511670835                    âJob        {id=5192891860283509924}   â\nâ                                       âJob        {id=6649801262843315756}   â\nâ                                       âJob        {id=850844391421461690}    â\nâ                                       âJob        {id=4090598636979374614}   â\nâ                                       âJob        {id=9214572757237514987}   â\nâ                                       âJob        {id=4231472489001798330}   â\nââ¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¼â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¬â¤\nââ´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â´â\n</code></pre>\n<p>Problem: Employee with ID 6474786395546274699 must not be placed to the vehicle because he has no jobs</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","css-selectors"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659537453,"creation_date":1659537453,"answer_id":73223389,"question_id":73223246,"body_markdown":"To locate the element you can use either of the following [locator strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _css_selector_:\r\n\r\n\t  element = driver.find_element(By.CSS_SELECTOR, &quot;div[data-testid=&#39;xray-export-csv&#39;]&quot;)\r\n\r\n- Using _xpath_:\r\n \t\r\n\t  element = driver.find_element(By.XPATH, &quot;//div[@data-testid=&#39;xray-export-csv&#39;]&quot;)","title":"How to locate the icon of the extension that opened in new tab","body":"<p>To locate the element you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategies</a>:</p>\n<ul>\n<li><p>Using <em>css_selector</em>:</p>\n<pre><code>element = driver.find_element(By.CSS_SELECTOR, &quot;div[data-testid='xray-export-csv']&quot;)\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>element = driver.find_element(By.XPATH, &quot;//div[@data-testid='xray-export-csv']&quot;)\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":24100985,"reputation":23,"user_id":18072838,"display_name":"Ahmet Ozcelik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659537453,"creation_date":1659536802,"question_id":73223246,"body_markdown":"I m trying to find xpath of button:\r\n```\r\n&lt;div data-testid=&quot;xray-export-csv&quot; class=&quot;sc-dMfPxa dCFvBy&quot;&gt;&lt;svg width=&quot;24&quot; height=&quot;24&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 24 24&quot; class=&quot;sc-hXvPvl cOJGAW&quot;&gt;&lt;path d=&quot;M10.125 0h3.75C14.498 0 15 .502 15 1.125V9h4.11c.835 0 1.253 1.008.662 1.598l-7.13 7.135a.908.908 0 0 1-1.28 0l-7.139-7.135C3.633 10.008 4.05 9 4.884 9H9V1.125C9 .502 9.502 0 10.125 0ZM24 17.625v5.25c0 .623-.502 1.125-1.125 1.125H1.125A1.122 1.122 0 0 1 0 22.875v-5.25c0-.623.502-1.125 1.125-1.125h6.877l2.296 2.297a2.402 2.402 0 0 0 3.404 0l2.296-2.297h6.877c.623 0 1.125.502 1.125 1.125Zm-5.813 4.125a.94.94 0 0 0-.937-.938.94.94 0 0 0-.938.938.94.94 0 0 0 .938.938.94.94 0 0 0 .938-.938Zm3 0a.94.94 0 0 0-.937-.938.94.94 0 0 0-.938.938.94.94 0 0 0 .938.938.94.94 0 0 0 .938-.938Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;\r\n```\r\nSnapshot of the element:\r\n\r\n![**I m trying to find xpath of button in picture that I attached.**][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uDTwb.png","title":"How to locate the icon of the extension that opened in new tab","body":"<p>I m trying to find xpath of button:</p>\n<pre><code>&lt;div data-testid=&quot;xray-export-csv&quot; class=&quot;sc-dMfPxa dCFvBy&quot;&gt;&lt;svg width=&quot;24&quot; height=&quot;24&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 24 24&quot; class=&quot;sc-hXvPvl cOJGAW&quot;&gt;&lt;path d=&quot;M10.125 0h3.75C14.498 0 15 .502 15 1.125V9h4.11c.835 0 1.253 1.008.662 1.598l-7.13 7.135a.908.908 0 0 1-1.28 0l-7.139-7.135C3.633 10.008 4.05 9 4.884 9H9V1.125C9 .502 9.502 0 10.125 0ZM24 17.625v5.25c0 .623-.502 1.125-1.125 1.125H1.125A1.122 1.122 0 0 1 0 22.875v-5.25c0-.623.502-1.125 1.125-1.125h6.877l2.296 2.297a2.402 2.402 0 0 0 3.404 0l2.296-2.297h6.877c.623 0 1.125.502 1.125 1.125Zm-5.813 4.125a.94.94 0 0 0-.937-.938.94.94 0 0 0-.938.938.94.94 0 0 0 .938.938.94.94 0 0 0 .938-.938Zm3 0a.94.94 0 0 0-.937-.938.94.94 0 0 0-.938.938.94.94 0 0 0 .938.938.94.94 0 0 0 .938-.938Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;\n</code></pre>\n<p>Snapshot of the element:</p>\n<p><img src=\"https://i.stack.imgur.com/uDTwb.png\" alt=\"I m trying to find xpath of button in picture that I attached.\" /></p>\n"},{"tags":["java","maven","plugins","war","manifest.mf"],"answers":[{"tags":[],"owner":{"account_id":23525093,"reputation":11,"user_id":19616702,"display_name":"Mirek Krenc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659537262,"creation_date":1659537226,"answer_id":73223340,"question_id":73110998,"body_markdown":"The problem, as it turned out, was in another module of the project, which was downloaded from remote repository, while building the entire artifact. In this extra module, there was a definition in pom used to set the value of Release-Name in the manifestEntries section.\r\n\r\n    &lt;Release-Name&gt;${releaseName}&lt;/Release-Name&gt;","title":"Maven - from where is &quot;Release-Name&quot; field data retrieved while creating MANIFEST.MF","body":"<p>The problem, as it turned out, was in another module of the project, which was downloaded from remote repository, while building the entire artifact. In this extra module, there was a definition in pom used to set the value of Release-Name in the manifestEntries section.</p>\n<pre><code>&lt;Release-Name&gt;${releaseName}&lt;/Release-Name&gt;\n</code></pre>\n"}],"owner":{"account_id":23525093,"reputation":11,"user_id":19616702,"display_name":"Mirek Krenc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659537262,"creation_date":1658759596,"question_id":73110998,"body_markdown":"We are using Jenkins maven plugin for building and deploying war applications. In the jenkinsfile we have the command (I removed the list of profiles for the sake of simplicity):\r\n\r\n```\r\nmvn release:clean release:prepare -P&lt;profiles&gt; -U -DautoVersionSubmodules=&quot;true&quot; -Darguments=&quot;-T 1C -DskipTests=true&quot; -V --batch-mode --errors\r\n```\r\n\r\nThe built war artifact has MANIFEST.MF file with field Release-Name set to main. \r\n\r\n&gt; Release-Name: main\r\n\r\nIn the parent pom.xml there are some extra settings for customize MANIFEST.MF but it seems to me that &quot;Release-Name&quot; is added by default because it is not listed below:\r\n```\r\n&lt;manifestEntries&gt;\r\n   &lt;Version&gt;${project.version}&lt;/Version&gt;\r\n   &lt;Revision-Number&gt;${buildNumber}&lt;/Revision-Number&gt;\r\n   &lt;Branch&gt;${GIT_BRANCH}&lt;/Branch&gt;\r\n   &lt;Local-Branch&gt;${scmBranch}&lt;/Local-Branch&gt;\r\n&lt;/manifestEntries&gt;\r\n```\r\nSo I tried to look into the maven release plugin source code from this [repository][1] but I couldn&#39;t find anything helpful. \r\nThen the main question is how the field &quot;Release-Name&quot; is filled because I&#39;d like to change it into some more meaningful value.\r\n\r\n\r\n  [1]: https://github.com/apache/maven-release","title":"Maven - from where is &quot;Release-Name&quot; field data retrieved while creating MANIFEST.MF","body":"<p>We are using Jenkins maven plugin for building and deploying war applications. In the jenkinsfile we have the command (I removed the list of profiles for the sake of simplicity):</p>\n<pre><code>mvn release:clean release:prepare -P&lt;profiles&gt; -U -DautoVersionSubmodules=&quot;true&quot; -Darguments=&quot;-T 1C -DskipTests=true&quot; -V --batch-mode --errors\n</code></pre>\n<p>The built war artifact has MANIFEST.MF file with field Release-Name set to main.</p>\n<blockquote>\n<p>Release-Name: main</p>\n</blockquote>\n<p>In the parent pom.xml there are some extra settings for customize MANIFEST.MF but it seems to me that &quot;Release-Name&quot; is added by default because it is not listed below:</p>\n<pre><code>&lt;manifestEntries&gt;\n   &lt;Version&gt;${project.version}&lt;/Version&gt;\n   &lt;Revision-Number&gt;${buildNumber}&lt;/Revision-Number&gt;\n   &lt;Branch&gt;${GIT_BRANCH}&lt;/Branch&gt;\n   &lt;Local-Branch&gt;${scmBranch}&lt;/Local-Branch&gt;\n&lt;/manifestEntries&gt;\n</code></pre>\n<p>So I tried to look into the maven release plugin source code from this <a href=\"https://github.com/apache/maven-release\" rel=\"nofollow noreferrer\">repository</a> but I couldn't find anything helpful.\nThen the main question is how the field &quot;Release-Name&quot; is filled because I'd like to change it into some more meaningful value.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":8643075,"reputation":2470,"user_id":6471170,"accept_rate":60,"display_name":"nasukkin"},"score":6,"creation_date":1473963955,"post_id":39517911,"comment_id":66351618,"body_markdown":"Can you provide an example (written in Java) covering your use-case/grievances?","body":"Can you provide an example (written in Java) covering your use-case/grievances?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":5,"creation_date":1473964080,"post_id":39517911,"comment_id":66351690,"body_markdown":"*Why* would you be using a predicate to lookup in a map? You&#39;re not using the map, but relying on sequential search, so why is it a map in the first place, if you&#39;re going to use a predicate? Your premise seems flawed.","body":"<i>Why</i> would you be using a predicate to lookup in a map? You&#39;re not using the map, but relying on sequential search, so why is it a map in the first place, if you&#39;re going to use a predicate? Your premise seems flawed."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":3,"creation_date":1473964220,"post_id":39517911,"comment_id":66351761,"body_markdown":"basically, yeah. That&#39;s pretty easy, though: `map.keySet().stream().filter(key -&gt; &lt;your condition here&gt;).findFirst();` that gets you an `Optional`, you can test if it is empty, then use the key if not. (or simply get the value and catch the exception).","body":"basically, yeah. That&#39;s pretty easy, though: <code>map.keySet().stream().filter(key -&gt; &lt;your condition here&gt;).findFirst();</code> that gets you an <code>Optional</code>, you can test if it is empty, then use the key if not. (or simply get the value and catch the exception)."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1473964315,"post_id":39517911,"comment_id":66351822,"body_markdown":"@njzk2 You could then lookup the value using the `Optional.map()` method. Alternatively, use `entrySet()`, and you have it all.","body":"@njzk2 You could then lookup the value using the <code>Optional.map()</code> method. Alternatively, use <code>entrySet()</code>, and you have it all."},{"owner":{"account_id":7561163,"reputation":1380,"user_id":5738696,"display_name":"korolar"},"score":0,"creation_date":1473964899,"post_id":39517911,"comment_id":66352127,"body_markdown":"Does that `map.forEach((k, v) -&gt; { if (predicate(k)) { action(v); }});` cover your use case?","body":"Does that <code>map.forEach((k, v) -&gt; { if (predicate(k)) { action(v); }});</code> cover your use case?"}],"answers":[{"tags":[],"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1659536519,"creation_date":1473964534,"answer_id":39518127,"question_id":39517911,"body_markdown":"I prefer `entrySet` myself as well. You should find this efficient:\r\n\r\n    Map&lt;String, Integer&gt; map; //Some example Map\r\n    //The map is filled here\r\n\r\n    List&lt;Integer&gt; valuesOfInterest = map.entrySet()\r\n                                     .stream() //Or parallelStream for big maps\r\n\t\t\t\t                     .filter(e -&gt; e.getKey().startsWith(&quot;word&quot;)) //Or some predicate\r\n\t\t\t\t                     .map(Map.Entry::getValue) //Get the values\r\n\t\t\t\t                     .collect(Collectors.toList()); //Put them in a list\r\n\r\nThe list is empty if nothing matched. This is useful if multiple keys match the predicate.","title":"How do I search a map in Java for a key that matches a predicate?","body":"<p>I prefer <code>entrySet</code> myself as well. You should find this efficient:</p>\n<pre><code>Map&lt;String, Integer&gt; map; //Some example Map\n//The map is filled here\n\nList&lt;Integer&gt; valuesOfInterest = map.entrySet()\n                                 .stream() //Or parallelStream for big maps\n                                 .filter(e -&gt; e.getKey().startsWith(&quot;word&quot;)) //Or some predicate\n                                 .map(Map.Entry::getValue) //Get the values\n                                 .collect(Collectors.toList()); //Put them in a list\n</code></pre>\n<p>The list is empty if nothing matched. This is useful if multiple keys match the predicate.</p>\n"},{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1563043777,"creation_date":1473964565,"answer_id":39518135,"question_id":39517911,"body_markdown":"In a nutshell, it is as simple as:\r\n\r\n\r\n    Predicate&lt;T&gt; predicate = (t -&gt; &lt;your predicate here&gt;);\r\n    return myMap.keySet()\r\n        .stream()\r\n        .filter(predicate)\r\n        .findAny()\r\n        .map(myMap::get);\r\n\r\nreturns an empty Optional if no key matches\r\n\r\n(nota: `findAny` is better than `findFirst` because it does not prevent parallelization if relevant, and `findFirst` is useless anyway since the `Set` of keys is not sorted in any meaningful way, unless your `Map` is a `SortedMap`)","title":"How do I search a map in Java for a key that matches a predicate?","body":"<p>In a nutshell, it is as simple as:</p>\n\n<pre><code>Predicate&lt;T&gt; predicate = (t -&gt; &lt;your predicate here&gt;);\nreturn myMap.keySet()\n    .stream()\n    .filter(predicate)\n    .findAny()\n    .map(myMap::get);\n</code></pre>\n\n<p>returns an empty Optional if no key matches</p>\n\n<p>(nota: <code>findAny</code> is better than <code>findFirst</code> because it does not prevent parallelization if relevant, and <code>findFirst</code> is useless anyway since the <code>Set</code> of keys is not sorted in any meaningful way, unless your <code>Map</code> is a <code>SortedMap</code>)</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474020597,"creation_date":1474020597,"answer_id":39528879,"question_id":39517911,"body_markdown":"Itâs not clear why you are shouting âTHENâ so often. Itâs the standard way of solving problems, to combine tools designed for broad variety of use cases to get your specific result. There is a built-in capability for traversing a sequence of elements and search for matches, the Stream API. Further, the `Map` interface provides you with the Collection views, `keySet()`, `entrySet()`, and `values()`, to be able to use arbitrary tools operating on Collections, the bridge to the Stream API being one of them.\r\n\r\nSo if you have a `Map&lt;Key,Value&gt;` and are interested in the values, whose keys match a predicate, you may use\r\n\r\n    List&lt;Value&gt; valuesOfInterest = map.entrySet().stream()\r\n        .filter(e -&gt; e.getKey().fulfillsCondition())\r\n        .map(Map.Entry::getValue)\r\n        .collect(Collectors.toList());\r\n\r\nwhich consists of three main steps, `filter` to select matches, `map` to specify whether you are interested in the key, value, entry or a converted value of each matche and `collect(Collectors.toList())` to specify that you want to collect the results into a `List`.\r\n\r\nEach of these steps could be replaced by a different choice and the entire stream pipeline could be augmented by additional processing steps. Since you want this specific combination of operations, there is nothing wrong with having to specify exactly these three steps instead of getting a convenience method for your specific use case.\r\n\r\nThe initial step of `entrySet().stream()` is required as you have to select the entry set as starting point and switch to the Stream API which is the dedicated API for element processing that doesnât modify the source. The Collection API, on the other hand, provides you with methods with might mutate the source. If you are willing to use that, the alternative to the code above is\r\n\r\n    map.keySet().removeIf(key -&gt; !key.fulfillsCondition());\r\n    Collection&lt;Value&gt; valuesOfInterest=map.values();\r\n\r\nwhich differs in that the nonmatching entries are indeed removed from the source map. Surely, you donât want to confuse these two, so it should be understandable, why there is a clear separation between the Collection API and the Stream API.\r\n","title":"How do I search a map in Java for a key that matches a predicate?","body":"<p>Itâs not clear why you are shouting âTHENâ so often. Itâs the standard way of solving problems, to combine tools designed for broad variety of use cases to get your specific result. There is a built-in capability for traversing a sequence of elements and search for matches, the Stream API. Further, the <code>Map</code> interface provides you with the Collection views, <code>keySet()</code>, <code>entrySet()</code>, and <code>values()</code>, to be able to use arbitrary tools operating on Collections, the bridge to the Stream API being one of them.</p>\n\n<p>So if you have a <code>Map&lt;Key,Value&gt;</code> and are interested in the values, whose keys match a predicate, you may use</p>\n\n<pre><code>List&lt;Value&gt; valuesOfInterest = map.entrySet().stream()\n    .filter(e -&gt; e.getKey().fulfillsCondition())\n    .map(Map.Entry::getValue)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>which consists of three main steps, <code>filter</code> to select matches, <code>map</code> to specify whether you are interested in the key, value, entry or a converted value of each matche and <code>collect(Collectors.toList())</code> to specify that you want to collect the results into a <code>List</code>.</p>\n\n<p>Each of these steps could be replaced by a different choice and the entire stream pipeline could be augmented by additional processing steps. Since you want this specific combination of operations, there is nothing wrong with having to specify exactly these three steps instead of getting a convenience method for your specific use case.</p>\n\n<p>The initial step of <code>entrySet().stream()</code> is required as you have to select the entry set as starting point and switch to the Stream API which is the dedicated API for element processing that doesnât modify the source. The Collection API, on the other hand, provides you with methods with might mutate the source. If you are willing to use that, the alternative to the code above is</p>\n\n<pre><code>map.keySet().removeIf(key -&gt; !key.fulfillsCondition());\nCollection&lt;Value&gt; valuesOfInterest=map.values();\n</code></pre>\n\n<p>which differs in that the nonmatching entries are indeed removed from the source map. Surely, you donât want to confuse these two, so it should be understandable, why there is a clear separation between the Collection API and the Stream API.</p>\n"}],"owner":{"account_id":456544,"reputation":1409,"user_id":855367,"accept_rate":92,"display_name":"Matthew Reddington"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10929,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":39518135,"answer_count":3,"score":9,"last_activity_date":1659536519,"creation_date":1473963809,"question_id":39517911,"body_markdown":"Do I understand this correctly? Is this how Java developers do it? Or is there a better way?\r\n\r\nSo if I want to find a key in a map that matches a predicate, I must first get the key set from the map through the conveniently supplied method. THEN, I have to convert the set into a stream through the conveniently supplied method. THEN, I have to filter the stream with my predicate through the conveniently supplied method. THEN, I have to convert the stream into a container of a type of my choosing, possibly supplying a collector to do so, through the conveniently supplied method. THEN, I can at least check the container for empty to know if anything matched. Only then can I use the key(s) to extract the values of interest, or I could have used the entry set from the beginning and spare myself the extra step.\r\n\r\nIs this the way, really? Because as far as I can tell, there are no other methods either built into the map or provided as a generic search algorithm over iterators or some other container abstraction.","title":"How do I search a map in Java for a key that matches a predicate?","body":"<p>Do I understand this correctly? Is this how Java developers do it? Or is there a better way?</p>\n\n<p>So if I want to find a key in a map that matches a predicate, I must first get the key set from the map through the conveniently supplied method. THEN, I have to convert the set into a stream through the conveniently supplied method. THEN, I have to filter the stream with my predicate through the conveniently supplied method. THEN, I have to convert the stream into a container of a type of my choosing, possibly supplying a collector to do so, through the conveniently supplied method. THEN, I can at least check the container for empty to know if anything matched. Only then can I use the key(s) to extract the values of interest, or I could have used the entry set from the beginning and spare myself the extra step.</p>\n\n<p>Is this the way, really? Because as far as I can tell, there are no other methods either built into the map or provided as a generic search algorithm over iterators or some other container abstraction.</p>\n"},{"tags":["java","spring","mongodb","postgresql","database-migration"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":2,"creation_date":1659537061,"post_id":73223184,"comment_id":129318669,"body_markdown":"If you just need a new value for inserting rows you can use `IDENTITY`, `SEQUENCE`, or even the old `SERIAL`. Now, do you need the value for anything else?","body":"If you just need a new value for inserting rows you can use <code>IDENTITY</code>, <code>SEQUENCE</code>, or even the old <code>SERIAL</code>. Now, do you need the value for anything else?"},{"owner":{"account_id":19441347,"reputation":137,"user_id":15522059,"display_name":"Ann"},"score":0,"creation_date":1659546203,"post_id":73223184,"comment_id":129321774,"body_markdown":"@TheImpaler As per existing design, we have one entity class but two different Mongo Collections use that same entity class . For example: Entity class will be Fuel Consumption. But, there will be two separate mongo collections - Car fuel Consumption and Bike Fuel Consumption. Both the collections will have same columns, but data will be different","body":"@TheImpaler As per existing design, we have one entity class but two different Mongo Collections use that same entity class . For example: Entity class will be Fuel Consumption. But, there will be two separate mongo collections - Car fuel Consumption and Bike Fuel Consumption. Both the collections will have same columns, but data will be different"}],"owner":{"account_id":19441347,"reputation":137,"user_id":15522059,"display_name":"Ann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659536514,"creation_date":1659536514,"question_id":73223184,"body_markdown":"We are migrating the database of our Springboot application from MongoDB to TimescaleDB, which is an extension of PostgreSQL. The codebase uses MongoDB&#39;s findAndModify method in order to maintain the IDs of different tables. Whenever a new record is inserted, the counter for that particular table is incremented by 1. And the ID value present before last increment is used as the ID for the table&#39;s record.\r\n\r\nPostgreSQL&#39;s upsert method seems similar to that of MongoDB&#39;s findAndModify method. Is there any other efficient way to handle this in PostgreSQL? \r\n\r\nAnd what would be the alternative for MongoTemplate(which provides the support of findAndModify method) in PostgreSQL? ","title":"What is the alternative in postgreSQL for MongoDB&#39;s findAndModify method?","body":"<p>We are migrating the database of our Springboot application from MongoDB to TimescaleDB, which is an extension of PostgreSQL. The codebase uses MongoDB's findAndModify method in order to maintain the IDs of different tables. Whenever a new record is inserted, the counter for that particular table is incremented by 1. And the ID value present before last increment is used as the ID for the table's record.</p>\n<p>PostgreSQL's upsert method seems similar to that of MongoDB's findAndModify method. Is there any other efficient way to handle this in PostgreSQL?</p>\n<p>And what would be the alternative for MongoTemplate(which provides the support of findAndModify method) in PostgreSQL?</p>\n"},{"tags":["java","openide"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659546009,"post_id":73223183,"comment_id":129321705,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":14481113,"reputation":1,"user_id":10460311,"display_name":"Ahmadreza Soltani"},"score":0,"creation_date":1660128967,"post_id":73223183,"comment_id":129458271,"body_markdown":"It&#39;s a clear question and it doesn&#39;t need any more description and code sample.\nI just want to know how can i set OpenIDE AbstractNode as default expanded mode.","body":"It&#39;s a clear question and it doesn&#39;t need any more description and code sample. I just want to know how can i set OpenIDE AbstractNode as default expanded mode."},{"owner":{"account_id":14481113,"reputation":1,"user_id":10460311,"display_name":"Ahmadreza Soltani"},"score":0,"creation_date":1660393039,"post_id":73223183,"comment_id":129525442,"body_markdown":"Finally, i found solution.\nWe can use openide TreeView.java class.","body":"Finally, i found solution. We can use openide TreeView.java class."}],"owner":{"account_id":14481113,"reputation":1,"user_id":10460311,"display_name":"Ahmadreza Soltani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659536513,"creation_date":1659536513,"question_id":73223183,"body_markdown":"I extended and use org.openide.nodes.AbstracNode.java class as CategoryNode.java in my codes.\r\nI want to set CategoryNode.java and it&#39;s child as default expanded tree nodes(Auto expanded)when i render the nodes in UI component.\r\nAny one can help me to solve this problem?","title":"Set extended AbstractNode.java with auto expanded child nodes as default","body":"<p>I extended and use org.openide.nodes.AbstracNode.java class as CategoryNode.java in my codes.\nI want to set CategoryNode.java and it's child as default expanded tree nodes(Auto expanded)when i render the nodes in UI component.\nAny one can help me to solve this problem?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"score":0,"creation_date":1364997443,"post_id":15789361,"comment_id":22449350,"body_markdown":"Sounds like you&#39;re just missing the import.","body":"Sounds like you&#39;re just missing the import."},{"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"score":0,"creation_date":1364998205,"post_id":15789361,"comment_id":22449915,"body_markdown":"A decent Java IDE would help you with that.","body":"A decent Java IDE would help you with that."}],"answers":[{"tags":[],"owner":{"account_id":2538024,"reputation":8113,"user_id":2204581,"accept_rate":71,"display_name":"mrks"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1364997397,"creation_date":1364997397,"answer_id":15789395,"question_id":15789361,"body_markdown":"Do you have an import statement in the top of the file?\r\n\r\n    import java.util.ArrayList;","title":"Error: cannot find symbol ArrayList","body":"<p>Do you have an import statement in the top of the file?</p>\n\n<pre><code>import java.util.ArrayList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59069,"reputation":2861,"user_id":176765,"accept_rate":46,"display_name":"Andre Pastore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553096819,"creation_date":1364997597,"answer_id":15789489,"question_id":15789361,"body_markdown":"Before use a class, you need to import it into you class file definition.\r\n\r\nAdd it on top of your file:\r\n\r\n    import java.util.ArrayList;\r\n\r\nFor more info about imports, look it up [here][1]\r\n\r\nIt is recommended to learn how to use a IDE, like [Eclipse][2], Netbeans. It will help you with these common mistakes when we are programming in Java (in this case) outside a integrated environment.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/package/usepkgs.html\r\n  [2]: http://www.eclipse.org","title":"Error: cannot find symbol ArrayList","body":"<p>Before use a class, you need to import it into you class file definition.</p>\n\n<p>Add it on top of your file:</p>\n\n<pre><code>import java.util.ArrayList;\n</code></pre>\n\n<p>For more info about imports, look it up <a href=\"http://docs.oracle.com/javase/tutorial/java/package/usepkgs.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>It is recommended to learn how to use a IDE, like <a href=\"http://www.eclipse.org\" rel=\"nofollow noreferrer\">Eclipse</a>, Netbeans. It will help you with these common mistakes when we are programming in Java (in this case) outside a integrated environment.</p>\n"},{"tags":[],"owner":{"account_id":18367231,"reputation":21,"user_id":13378020,"display_name":"Shubham Teke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600321408,"creation_date":1600321408,"answer_id":63931916,"question_id":15789361,"body_markdown":"While doing any java program just\r\n\r\n`import java.util.*;`\r\n\r\nBecause * will import all the packages from util.\r\n\r\nAnd all the basic package are present in that java.util like Scanner, ArrayList, etc...\r\n\r\nSo to avoid errors first check you have imported that.","title":"Error: cannot find symbol ArrayList","body":"<p>While doing any java program just</p>\n<p><code>import java.util.*;</code></p>\n<p>Because * will import all the packages from util.</p>\n<p>And all the basic package are present in that java.util like Scanner, ArrayList, etc...</p>\n<p>So to avoid errors first check you have imported that.</p>\n"},{"tags":[],"owner":{"account_id":19731009,"reputation":1,"user_id":14446503,"display_name":"Aditya Singh"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1659536378,"creation_date":1659357718,"answer_id":73193847,"question_id":15789361,"body_markdown":"I am new to the community and on a path of learning now.\r\nBut I think the main problem is of int \r\n\r\nWrong\r\n\r\n    ArrayList &lt;int&gt; goodMoves = new ArrayList &lt;int&gt;();\r\n\r\nRight\r\n\r\n    ArrayList &lt;Integer&gt; goodMoves = new ArrayList &lt;Integer&gt;();\r\n\r\n","title":"Error: cannot find symbol ArrayList","body":"<p>I am new to the community and on a path of learning now.\nBut I think the main problem is of int</p>\n<p>Wrong</p>\n<pre><code>ArrayList &lt;int&gt; goodMoves = new ArrayList &lt;int&gt;();\n</code></pre>\n<p>Right</p>\n<pre><code>ArrayList &lt;Integer&gt; goodMoves = new ArrayList &lt;Integer&gt;();\n</code></pre>\n"}],"owner":{"account_id":2584707,"reputation":163,"user_id":2240675,"display_name":"csstudent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108447,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":15789395,"answer_count":4,"score":15,"last_activity_date":1659536378,"creation_date":1364997338,"question_id":15789361,"body_markdown":"I&#39;m trying to create some kind of list to store values from the array &#39;table&#39;. (I&#39;m using a arraylist here, but should I be using a list instead?) However, every time I try to compile, it throws the following error: \r\n\r\ncannot find symbol\r\nsymbol  : class ArrayList\r\nlocation: class players.TablePlayer\r\n\r\nThe code is below.\r\n\r\n\r\n    public class TablePlayer extends Player {\r\n      \r\n        int[][] table;\r\n        ArrayList goodMoves;\r\n      \r\n      \r\n        public TablePlayer(String name) {\r\n            super(name);\r\n        }\r\n      \r\n        @Override\r\n        public int move() {\r\n            int oppLast = opponentLastMove();\r\n            int myLast = myLastMove();\r\n            if (!isLegalMove(oppLast)) {\r\n                return 0; // temporary\r\n            }\r\n            if (wonLast()) {\r\n                table[oppLast][myLast] = 1;\r\n                table[myLast][oppLast] = -1;\r\n            }\r\n            if ((wonLast() == false) &amp;&amp; (oppLast != myLast)) {\r\n                table[oppLast][myLast] = -1;\r\n                table[myLast][oppLast] = 1;\r\n            }\r\n            for (int i = 0; i &lt; table.length; i++) {\r\n                for (int j = 0; j &lt; table.length; j++) {\r\n                    if (table[i][j] == 1) {\r\n                        goodMoves.add(table[i][j]);\r\n                    }\r\n                }\r\n            }\r\n        \r\n            return oppLast; // temporary\r\n        }\r\n      \r\n        @Override\r\n        public void start() {\r\n            int[][] table = new int[7][7];\r\n            ArrayList&lt;int&gt; goodMoves = new ArrayList&lt;int&gt;();\r\n        }\r\n    }\r\n\r\nAny help would be great, thanks!","title":"Error: cannot find symbol ArrayList","body":"<p>I'm trying to create some kind of list to store values from the array 'table'. (I'm using a arraylist here, but should I be using a list instead?) However, every time I try to compile, it throws the following error: </p>\n\n<p>cannot find symbol\nsymbol  : class ArrayList\nlocation: class players.TablePlayer</p>\n\n<p>The code is below.</p>\n\n<pre><code>public class TablePlayer extends Player {\n\n    int[][] table;\n    ArrayList goodMoves;\n\n\n    public TablePlayer(String name) {\n        super(name);\n    }\n\n    @Override\n    public int move() {\n        int oppLast = opponentLastMove();\n        int myLast = myLastMove();\n        if (!isLegalMove(oppLast)) {\n            return 0; // temporary\n        }\n        if (wonLast()) {\n            table[oppLast][myLast] = 1;\n            table[myLast][oppLast] = -1;\n        }\n        if ((wonLast() == false) &amp;&amp; (oppLast != myLast)) {\n            table[oppLast][myLast] = -1;\n            table[myLast][oppLast] = 1;\n        }\n        for (int i = 0; i &lt; table.length; i++) {\n            for (int j = 0; j &lt; table.length; j++) {\n                if (table[i][j] == 1) {\n                    goodMoves.add(table[i][j]);\n                }\n            }\n        }\n\n        return oppLast; // temporary\n    }\n\n    @Override\n    public void start() {\n        int[][] table = new int[7][7];\n        ArrayList&lt;int&gt; goodMoves = new ArrayList&lt;int&gt;();\n    }\n}\n</code></pre>\n\n<p>Any help would be great, thanks!</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659533919,"post_id":73222724,"comment_id":129317666,"body_markdown":"What have you tried so far? What are the problem you&#39;ve encountered?","body":"What have you tried so far? What are the problem you&#39;ve encountered?"}],"answers":[{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659534448,"creation_date":1659534448,"answer_id":73222785,"question_id":73222724,"body_markdown":"First of all, how would one convert a `LinkedList&lt;Integer&gt;` to an `int[]` using Streams?\r\n\r\nThis is done by streaming the values, converting the `Stream&lt;Integer&gt;` to an `IntStream`, and using its built-in `toArray()` method:\r\n\r\n    LinkedList&lt;Integer&gt; list = something;\r\n    int[] array = list.stream().mapToInt(i -&gt; i).toArray()\r\n\r\nNow that we can convert the inner list, what do we do about the outer list? We start by streaming it (as a `Stream&lt;LinkedList&lt;Integer&gt;&gt;`), converting the inner data using the above approach (thus making a `Stream&lt;int[]&gt;`), and then outputting that as an array:\r\n\r\n    LinkedList&lt;LinkedList&lt;Integer&gt;&gt; list = something;\r\n    int[][] array = list.stream()\r\n        .map(l -&gt; l.stream().mapToInt(i -&gt; i).toArray())\r\n        .toArray(int[][]::new);","title":"How to covert LinkedList&lt;LinkedList&lt;Integer&gt;&gt;to int[][] type using stream in Java 8?","body":"<p>First of all, how would one convert a <code>LinkedList&lt;Integer&gt;</code> to an <code>int[]</code> using Streams?</p>\n<p>This is done by streaming the values, converting the <code>Stream&lt;Integer&gt;</code> to an <code>IntStream</code>, and using its built-in <code>toArray()</code> method:</p>\n<pre><code>LinkedList&lt;Integer&gt; list = something;\nint[] array = list.stream().mapToInt(i -&gt; i).toArray()\n</code></pre>\n<p>Now that we can convert the inner list, what do we do about the outer list? We start by streaming it (as a <code>Stream&lt;LinkedList&lt;Integer&gt;&gt;</code>), converting the inner data using the above approach (thus making a <code>Stream&lt;int[]&gt;</code>), and then outputting that as an array:</p>\n<pre><code>LinkedList&lt;LinkedList&lt;Integer&gt;&gt; list = something;\nint[][] array = list.stream()\n    .map(l -&gt; l.stream().mapToInt(i -&gt; i).toArray())\n    .toArray(int[][]::new);\n</code></pre>\n"}],"owner":{"account_id":5903901,"reputation":7,"user_id":4646398,"display_name":"Sakura"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1659540401,"answer_count":1,"score":-2,"last_activity_date":1659536280,"creation_date":1659533813,"question_id":73222724,"body_markdown":"How can I convert a `LinkedList&lt;LinkedList&lt;Integer&gt;&gt;` to `int[][]` type?\r\n\r\nI have created \r\n````\r\nLinkedList&lt;LinkedList&lt;Integer&gt;&gt; result = new LinkedList&lt;LinkedList&lt;Integer&gt;&gt;();\r\n````\r\nI want to convert the result to `int[][]` type using Java 8 functionality.","title":"How to covert LinkedList&lt;LinkedList&lt;Integer&gt;&gt;to int[][] type using stream in Java 8?","body":"<p>How can I convert a <code>LinkedList&lt;LinkedList&lt;Integer&gt;&gt;</code> to <code>int[][]</code> type?</p>\n<p>I have created</p>\n<pre><code>LinkedList&lt;LinkedList&lt;Integer&gt;&gt; result = new LinkedList&lt;LinkedList&lt;Integer&gt;&gt;();\n</code></pre>\n<p>I want to convert the result to <code>int[][]</code> type using Java 8 functionality.</p>\n"},{"tags":["java","hadoop","hdfs","hbase"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659535795,"post_id":73218908,"comment_id":129318113,"body_markdown":"By default, if you use Spark or Pig, for example, and load a HDFS directory of all csv files, they&#39;ll all be read with the same schema. Then you just load into hbase using the necessary APIs","body":"By default, if you use Spark or Pig, for example, and load a HDFS directory of all csv files, they&#39;ll all be read with the same schema. Then you just load into hbase using the necessary APIs"}],"answers":[{"tags":[],"owner":{"account_id":2816205,"reputation":651,"user_id":2421204,"accept_rate":75,"display_name":"Artyom Rebrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659519952,"creation_date":1659519952,"answer_id":73219568,"question_id":73218908,"body_markdown":"I assume you have your csv files on HDFS. \r\nSo to read the files with java you need to:\r\n\r\n - make use of HDFS configuration files, usually can be found in /etc/hadoop/conf directory on the HDFS nodes.\r\n - use hadoop java client libraries.\r\n\r\nThe code for reading a text file from HDFS might be something like this:\r\n\r\n    Configuration conf = new Configuration();\r\n    conf.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\r\n    conf.addResource(new Path(&quot;/etc/hadoop/conf/hdfs-site.xml&quot;));\r\n        \r\n    Path file = new Path(&quot;/user/username/people-file.csv&quot;);\r\n        \r\n    FileSystem hdfs = FileSystem.get(conf);\r\n        \r\n    FSDataInputStream is = hdfs.open(file);\r\n    BufferedReader br = new BufferedReader( new InputStreamReader( is, &quot;UTF-8&quot; ) );\r\n        \r\n    String lineRead = br.readLine();\r\n    while(lineRead != null) {\r\n        System.out.println(lineRead);\r\n        lineRead = br.readLine();\r\n        //do what ever you need with the line of data, map it into object, add into collection, e.t.c...\r\n    }\r\n        \r\n    br.close();\r\n    hdfs.close();\r\n\r\n\r\nAnd then when you have your data in memory, you can save it into HBASE. So to save your data into HBASE you need: \r\n\r\n - make use of HBASE configuration files, usually can be found in /etc/hbase/conf directory on the HBASE nodes.\r\n - use of hbase java client library\r\n\r\nThe code for inserting a data into HBASE might be something like this:\r\n\r\n    Configuration config = HBaseConfiguration.create();\r\n    config.addResource(new Path(&quot;/etc/hbase/conf/hbase-site.xml&quot;));\r\n    config.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\r\n\r\n    String tableName = &quot;people&quot;;\r\n    Connection connection = ConnectionFactory.createConnection(config);\r\n    Table table = connection.getTable(TableName.valueOf(tableName));\r\n\r\n    //you might have similar array after reading the csv files\r\n    String[][] people = {\r\n                    { &quot;1&quot;, &quot;Marcel&quot;, &quot;Haddad&quot;, &quot;marcel@xyz.com&quot;, &quot;M&quot;, &quot;26&quot; },\r\n                    { &quot;2&quot;, &quot;Franklin&quot;, &quot;Holtz&quot;, &quot;franklin@xyz.com&quot;, &quot;M&quot;, &quot;24&quot; },\r\n                    { &quot;3&quot;, &quot;Dwayne&quot;, &quot;McKee&quot;, &quot;dwayne@xyz.com&quot;, &quot;M&quot;, &quot;27&quot; },\r\n                    { &quot;4&quot;, &quot;Rae&quot;, &quot;Schroeder&quot;, &quot;rae@xyz.com&quot;, &quot;F&quot;, &quot;31&quot; },\r\n                    { &quot;5&quot;, &quot;Rosalie&quot;, &quot;burton&quot;, &quot;rosalie@xyz.com&quot;, &quot;F&quot;, &quot;25&quot; },\r\n                    { &quot;6&quot;, &quot;Gabriela&quot;, &quot;Ingram&quot;, &quot;gabriela@xyz.com&quot;, &quot;F&quot;, &quot;24&quot; } };\r\n \r\n    for (int i = 0; i &lt; people.length; i++) {\r\n        Put person = new Put(Bytes.toBytes(people[i][0]));\r\n        person.addColumn(Bytes.toBytes(&quot;name&quot;), Bytes.toBytes(&quot;first&quot;), Bytes.toBytes(people[i][1]));\r\n        person.addColumn(Bytes.toBytes(&quot;name&quot;), Bytes.toBytes(&quot;last&quot;), Bytes.toBytes(people[i][2]));\r\n        person.addColumn(Bytes.toBytes(&quot;contact_info&quot;), Bytes.toBytes(&quot;email&quot;), Bytes.toBytes(people[i][3]));\r\n        person.addColumn(Bytes.toBytes(&quot;personal_info&quot;), Bytes.toBytes(&quot;gender&quot;), Bytes.toBytes(people[i][4]));\r\n        person.addColumn(Bytes.toBytes(&quot;personal_info&quot;), Bytes.toBytes(&quot;age&quot;), Bytes.toBytes(people[i][5]));\r\n        table.put(person);\r\n    }\r\n   \r\n    table.close();\r\n    connection.close()\r\n\r\nNote that you need to create table (schema) in HBASE before you will start inserting data, like here: https://www.tutorialspoint.com/hbase/hbase_create_table.htm","title":"Java Program to load the multiple csv files from HDFS, read column values and load into HBASE?","body":"<p>I assume you have your csv files on HDFS.\nSo to read the files with java you need to:</p>\n<ul>\n<li>make use of HDFS configuration files, usually can be found in /etc/hadoop/conf directory on the HDFS nodes.</li>\n<li>use hadoop java client libraries.</li>\n</ul>\n<p>The code for reading a text file from HDFS might be something like this:</p>\n<pre><code>Configuration conf = new Configuration();\nconf.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\nconf.addResource(new Path(&quot;/etc/hadoop/conf/hdfs-site.xml&quot;));\n    \nPath file = new Path(&quot;/user/username/people-file.csv&quot;);\n    \nFileSystem hdfs = FileSystem.get(conf);\n    \nFSDataInputStream is = hdfs.open(file);\nBufferedReader br = new BufferedReader( new InputStreamReader( is, &quot;UTF-8&quot; ) );\n    \nString lineRead = br.readLine();\nwhile(lineRead != null) {\n    System.out.println(lineRead);\n    lineRead = br.readLine();\n    //do what ever you need with the line of data, map it into object, add into collection, e.t.c...\n}\n    \nbr.close();\nhdfs.close();\n</code></pre>\n<p>And then when you have your data in memory, you can save it into HBASE. So to save your data into HBASE you need:</p>\n<ul>\n<li>make use of HBASE configuration files, usually can be found in /etc/hbase/conf directory on the HBASE nodes.</li>\n<li>use of hbase java client library</li>\n</ul>\n<p>The code for inserting a data into HBASE might be something like this:</p>\n<pre><code>Configuration config = HBaseConfiguration.create();\nconfig.addResource(new Path(&quot;/etc/hbase/conf/hbase-site.xml&quot;));\nconfig.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\n\nString tableName = &quot;people&quot;;\nConnection connection = ConnectionFactory.createConnection(config);\nTable table = connection.getTable(TableName.valueOf(tableName));\n\n//you might have similar array after reading the csv files\nString[][] people = {\n                { &quot;1&quot;, &quot;Marcel&quot;, &quot;Haddad&quot;, &quot;marcel@xyz.com&quot;, &quot;M&quot;, &quot;26&quot; },\n                { &quot;2&quot;, &quot;Franklin&quot;, &quot;Holtz&quot;, &quot;franklin@xyz.com&quot;, &quot;M&quot;, &quot;24&quot; },\n                { &quot;3&quot;, &quot;Dwayne&quot;, &quot;McKee&quot;, &quot;dwayne@xyz.com&quot;, &quot;M&quot;, &quot;27&quot; },\n                { &quot;4&quot;, &quot;Rae&quot;, &quot;Schroeder&quot;, &quot;rae@xyz.com&quot;, &quot;F&quot;, &quot;31&quot; },\n                { &quot;5&quot;, &quot;Rosalie&quot;, &quot;burton&quot;, &quot;rosalie@xyz.com&quot;, &quot;F&quot;, &quot;25&quot; },\n                { &quot;6&quot;, &quot;Gabriela&quot;, &quot;Ingram&quot;, &quot;gabriela@xyz.com&quot;, &quot;F&quot;, &quot;24&quot; } };\n\nfor (int i = 0; i &lt; people.length; i++) {\n    Put person = new Put(Bytes.toBytes(people[i][0]));\n    person.addColumn(Bytes.toBytes(&quot;name&quot;), Bytes.toBytes(&quot;first&quot;), Bytes.toBytes(people[i][1]));\n    person.addColumn(Bytes.toBytes(&quot;name&quot;), Bytes.toBytes(&quot;last&quot;), Bytes.toBytes(people[i][2]));\n    person.addColumn(Bytes.toBytes(&quot;contact_info&quot;), Bytes.toBytes(&quot;email&quot;), Bytes.toBytes(people[i][3]));\n    person.addColumn(Bytes.toBytes(&quot;personal_info&quot;), Bytes.toBytes(&quot;gender&quot;), Bytes.toBytes(people[i][4]));\n    person.addColumn(Bytes.toBytes(&quot;personal_info&quot;), Bytes.toBytes(&quot;age&quot;), Bytes.toBytes(people[i][5]));\n    table.put(person);\n}\n\ntable.close();\nconnection.close()\n</code></pre>\n<p>Note that you need to create table (schema) in HBASE before you will start inserting data, like here: <a href=\"https://www.tutorialspoint.com/hbase/hbase_create_table.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/hbase/hbase_create_table.htm</a></p>\n"}],"owner":{"account_id":10342098,"reputation":19,"user_id":7628118,"display_name":"User9123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659535717,"creation_date":1659516911,"question_id":73218908,"body_markdown":"I am new to big data and hadoop. \r\n\r\nI have a requirement where I have to upload 100 csv files with information in it ( ex. People information ie. Name, age, city) to hdfs \r\n\r\nand then using a java program to load the csv files from HDFS, read column values and load into HBASE. \r\n\r\n\r\n\r\nCan you please help me ? \r\n\r\nParsing files is fine. But I do not understand how to use java to \r\nload multiple csv files from hdfs to hbase. ","title":"Java Program to load the multiple csv files from HDFS, read column values and load into HBASE?","body":"<p>I am new to big data and hadoop.</p>\n<p>I have a requirement where I have to upload 100 csv files with information in it ( ex. People information ie. Name, age, city) to hdfs</p>\n<p>and then using a java program to load the csv files from HDFS, read column values and load into HBASE.</p>\n<p>Can you please help me ?</p>\n<p>Parsing files is fine. But I do not understand how to use java to\nload multiple csv files from hdfs to hbase.</p>\n"},{"tags":["java","spring","code-coverage","lombok","jacoco"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1620350829,"post_id":67427838,"comment_id":119181801,"body_markdown":"the thing is - it rather complicated to see in the jacoco report what _exactly_ is not covered when using `lombok` annotations. what I usually do is &quot;de-lombok&quot; everything, run the tests and find out the actual un-covered paths. then &quot;lombok&quot; the code back. there are intellij plugins for that.","body":"the thing is - it rather complicated to see in the jacoco report what <i>exactly</i> is not covered when using <code>lombok</code> annotations. what I usually do is &quot;de-lombok&quot; everything, run the tests and find out the actual un-covered paths. then &quot;lombok&quot; the code back. there are intellij plugins for that."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1620351366,"post_id":67427838,"comment_id":119181898,"body_markdown":"@Eugene I know the code generated by sneaky throws is *not* run. the code is just `... } catch(...) { throw ...}`. Of course it is not run, since I do not cause the code inside to throw. But I want to ignore this un-covered block of `catch`","body":"@Eugene I know the code generated by sneaky throws is <i>not</i> run. the code is just <code>... } catch(...) { throw ...}</code>. Of course it is not run, since I do not cause the code inside to throw. But I want to ignore this un-covered block of <code>catch</code>"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1620351532,"post_id":67427838,"comment_id":119181940,"body_markdown":"you can&#39;t. jacoco looks at the `.class` file, that is generated _after_ lombok processor. think about it: you _do_ have a path that is not covered.","body":"you can&#39;t. jacoco looks at the <code>.class</code> file, that is generated <i>after</i> lombok processor. think about it: you <i>do</i> have a path that is not covered."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1620351718,"post_id":67427838,"comment_id":119181978,"body_markdown":"@Eugene hmm... thanks!","body":"@Eugene hmm... thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1620352251,"creation_date":1620352251,"answer_id":67428020,"question_id":67427838,"body_markdown":"You can&#39;t ignore a certain code path, jacoco has no support for that (neither it can ignore a method). Its unit of measure, for a lack of better term, is a `.class` file. Since jacoco looks at the `.class` file, that is generated _after_ lombok processor kicks in, for it - you simply have path that is un-tested. \r\n\r\nIn simpler words, `jacoco` sees your file like it never had lombok annotations. So you can&#39;t &quot;exclude&quot; an annotation. I feel your pain - we have modules where people have enforced a very high number of coverage, and these catch blocks are un-tested, almost all the time. ","title":"How to ignore @SneakyThrows of Lombok in Jacoco code coverage?","body":"<p>You can't ignore a certain code path, jacoco has no support for that (neither it can ignore a method). Its unit of measure, for a lack of better term, is a <code>.class</code> file. Since jacoco looks at the <code>.class</code> file, that is generated <em>after</em> lombok processor kicks in, for it - you simply have path that is un-tested.</p>\n<p>In simpler words, <code>jacoco</code> sees your file like it never had lombok annotations. So you can't &quot;exclude&quot; an annotation. I feel your pain - we have modules where people have enforced a very high number of coverage, and these catch blocks are un-tested, almost all the time.</p>\n"},{"tags":[],"owner":{"account_id":14363867,"reputation":21,"user_id":10375501,"display_name":"Thanh Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637823091,"creation_date":1637823091,"answer_id":70106902,"question_id":67427838,"body_markdown":"My solution on this is to attempt to mock `objectMapper` to throw an unchecked exception(eg: RuntimeException) then the code flow will jump inside to catch block(generated by Lombok) and @SneakyThrows will be covered.","title":"How to ignore @SneakyThrows of Lombok in Jacoco code coverage?","body":"<p>My solution on this is to attempt to mock <code>objectMapper</code> to throw an unchecked exception(eg: RuntimeException) then the code flow will jump inside to catch block(generated by Lombok) and @SneakyThrows will be covered.</p>\n"},{"tags":[],"owner":{"account_id":2294607,"reputation":3803,"user_id":2016386,"accept_rate":46,"display_name":"das Keks"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659535637,"creation_date":1659528049,"answer_id":73221363,"question_id":67427838,"body_markdown":"Adding `@Generated` with `lombok.addLombokGeneratedAnnotation = true` will only work for Lombok annotations that generate whole methods. However, `@SneakyThrows` will only add a `try-catch` block around the code inside of the annotated method.\r\n\r\nFor example if you have following method and want to sneaky-throw the `InterruptedException` from `Thread::sleep`:\r\n\r\n\r\n    package com.example;\r\n    \r\n    import lombok.SneakyThrows;\r\n    \r\n    public class Example {\r\n    \r\n      @SneakyThrows\r\n      public void someMethod() {\r\n        System.out.println(&quot;This method does a few things&quot;);\r\n        System.out.println(&quot;Like counting to 10&quot;);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n          System.out.println(i);\r\n        }\r\n        System.out.println(&quot;And waiting a second&quot;);\r\n        Thread.sleep(1000);\r\n      }\r\n    }\r\n\r\nThe generated code would look like this:\r\n\r\n    package com.example;\r\n    \r\n    public class Example {\r\n    \r\n      public void someMethod() {\r\n        try {\r\n          System.out.println(&quot;This method does a few things&quot;);\r\n          System.out.println(&quot;Like counting to 10&quot;);\r\n    \r\n          for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.println(i);\r\n          }\r\n    \r\n          System.out.println(&quot;And waiting a second&quot;);\r\n          Thread.sleep(1000L);\r\n        } catch (Throwable e) {\r\n          throw e;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nYou actually only want to ignore the `try-catch` in the coverage check, not the whole method, so if Lombok added `@Generated` to the whole method you will ignore more coverage than intended.\r\n\r\nWhat you could do, is extracting the code that throws a checked exception to a new method and add both `@Generated` and `@SneakyThrows`.\r\n\r\n    package com.example;\r\n\r\n    import lombok.Generated;\r\n    import lombok.SneakyThrows;\r\n\r\n    public class Example {\r\n\r\n      public void someMethod() {\r\n        System.out.println(&quot;This method does a few things&quot;);\r\n        System.out.println(&quot;Like counting to 10&quot;);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n          System.out.println(i);\r\n        }\r\n        System.out.println(&quot;And waiting a second&quot;);\r\n        waitOneSecond();\r\n      }\r\n      \r\n      @Generated\r\n      @SneakyThrows\r\n      private void waitOneSecond() {\r\n        Thread.sleep(1000);\r\n      }\r\n    }\r\n","title":"How to ignore @SneakyThrows of Lombok in Jacoco code coverage?","body":"<p>Adding <code>@Generated</code> with <code>lombok.addLombokGeneratedAnnotation = true</code> will only work for Lombok annotations that generate whole methods. However, <code>@SneakyThrows</code> will only add a <code>try-catch</code> block around the code inside of the annotated method.</p>\n<p>For example if you have following method and want to sneaky-throw the <code>InterruptedException</code> from <code>Thread::sleep</code>:</p>\n<pre><code>package com.example;\n\nimport lombok.SneakyThrows;\n\npublic class Example {\n\n  @SneakyThrows\n  public void someMethod() {\n    System.out.println(&quot;This method does a few things&quot;);\n    System.out.println(&quot;Like counting to 10&quot;);\n    for (int i = 0; i &lt; 10; i++) {\n      System.out.println(i);\n    }\n    System.out.println(&quot;And waiting a second&quot;);\n    Thread.sleep(1000);\n  }\n}\n</code></pre>\n<p>The generated code would look like this:</p>\n<pre><code>package com.example;\n\npublic class Example {\n\n  public void someMethod() {\n    try {\n      System.out.println(&quot;This method does a few things&quot;);\n      System.out.println(&quot;Like counting to 10&quot;);\n\n      for (int i = 0; i &lt; 10; ++i) {\n        System.out.println(i);\n      }\n\n      System.out.println(&quot;And waiting a second&quot;);\n      Thread.sleep(1000L);\n    } catch (Throwable e) {\n      throw e;\n    }\n  }\n}\n</code></pre>\n<p>You actually only want to ignore the <code>try-catch</code> in the coverage check, not the whole method, so if Lombok added <code>@Generated</code> to the whole method you will ignore more coverage than intended.</p>\n<p>What you could do, is extracting the code that throws a checked exception to a new method and add both <code>@Generated</code> and <code>@SneakyThrows</code>.</p>\n<pre><code>package com.example;\n\nimport lombok.Generated;\nimport lombok.SneakyThrows;\n\npublic class Example {\n\n  public void someMethod() {\n    System.out.println(&quot;This method does a few things&quot;);\n    System.out.println(&quot;Like counting to 10&quot;);\n    for (int i = 0; i &lt; 10; i++) {\n      System.out.println(i);\n    }\n    System.out.println(&quot;And waiting a second&quot;);\n    waitOneSecond();\n  }\n  \n  @Generated\n  @SneakyThrows\n  private void waitOneSecond() {\n    Thread.sleep(1000);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3297,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67428020,"answer_count":3,"score":4,"last_activity_date":1659535637,"creation_date":1620350654,"question_id":67427838,"body_markdown":"I use JaCOCO to see code coverage (and use the Intellij plugin for it). I have @SneakyThrows of lombok on my code. Since @SneakyThrows does nothing but converting a checked exception to a unchecked exception, I hope it does not affect the code coverage.\r\n\r\nHowever, it seems that it drops the code coverage:\r\n\r\n[![][1]][1]\r\n\r\nI have tried to add `lombok.addLombokGeneratedAnnotation = true` to my `lombok.config`, but no use.\r\n\r\nThanks for any suggestions!\r\n\r\n  [1]: https://i.stack.imgur.com/McyEg.png","title":"How to ignore @SneakyThrows of Lombok in Jacoco code coverage?","body":"<p>I use JaCOCO to see code coverage (and use the Intellij plugin for it). I have @SneakyThrows of lombok on my code. Since @SneakyThrows does nothing but converting a checked exception to a unchecked exception, I hope it does not affect the code coverage.</p>\n<p>However, it seems that it drops the code coverage:</p>\n<p><a href=\"https://i.stack.imgur.com/McyEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/McyEg.png\" alt=\"\" /></a></p>\n<p>I have tried to add <code>lombok.addLombokGeneratedAnnotation = true</code> to my <code>lombok.config</code>, but no use.</p>\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1659533188,"post_id":73222488,"comment_id":129317388,"body_markdown":"Try getting the warnings (`stmt.getWarnings();`) as well. In any case this is highly dependent on the specific JDBC driver and version of it that you are using.","body":"Try getting the warnings (<code>stmt.getWarnings();</code>) as well. In any case this is highly dependent on the specific JDBC driver and version of it that you are using."},{"owner":{"account_id":5937913,"reputation":55,"user_id":4670251,"display_name":"Marvin"},"score":0,"creation_date":1659534250,"post_id":73222488,"comment_id":129317730,"body_markdown":"There are no Warnings, but I&#39;m able to query `SHOW WARNINGS`. The ResultSet contains only the short Error message, not the details.","body":"There are no Warnings, but I&#39;m able to query <code>SHOW WARNINGS</code>. The ResultSet contains only the short Error message, not the details."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659537799,"post_id":73222488,"comment_id":129319006,"body_markdown":"@Marvin, in jdbc, are you calling any stored proc or it just simple `insert` stmt?","body":"@Marvin, in jdbc, are you calling any stored proc or it just simple <code>insert</code> stmt?"},{"owner":{"account_id":5937913,"reputation":55,"user_id":4670251,"display_name":"Marvin"},"score":0,"creation_date":1659538109,"post_id":73222488,"comment_id":129319115,"body_markdown":"@AshishPatil I&#39;m using PreparedStatement to build my `insert` stmt.","body":"@AshishPatil I&#39;m using PreparedStatement to build my <code>insert</code> stmt."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659538240,"post_id":73222488,"comment_id":129319156,"body_markdown":"@Marvin - I think `exception.getNextException().getMessage()` this may be helpful because `getNextException()` is retrieving vendor specific excpetion","body":"@Marvin - I think <code>exception.getNextException().getMessage()</code> this may be helpful because <code>getNextException()</code> is retrieving vendor specific excpetion"},{"owner":{"account_id":5937913,"reputation":55,"user_id":4670251,"display_name":"Marvin"},"score":0,"creation_date":1659538566,"post_id":73222488,"comment_id":129319256,"body_markdown":"@AshishPatil I tried your suggestion but my SQLException does not contain another Exception. `getNextException()` returns NULL","body":"@AshishPatil I tried your suggestion but my SQLException does not contain another Exception. <code>getNextException()</code> returns NULL"}],"answers":[{"tags":[],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659533183,"creation_date":1659533183,"answer_id":73222568,"question_id":73222488,"body_markdown":"Usually, when you catch the SQLException, the SQLException contains the Message/Error. You can retrieve them by using the SQLException object and print some of the several methods like SQLException.getMessage().\r\n\r\n[![Here you can see some of methods you can use to retrieve the Errormessage][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/izguS.png","title":"JDBC MySQL retrieve Error Message Details","body":"<p>Usually, when you catch the SQLException, the SQLException contains the Message/Error. You can retrieve them by using the SQLException object and print some of the several methods like SQLException.getMessage().</p>\n<p><a href=\"https://i.stack.imgur.com/izguS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izguS.png\" alt=\"Here you can see some of methods you can use to retrieve the Errormessage\" /></a></p>\n"}],"owner":{"account_id":5937913,"reputation":55,"user_id":4670251,"display_name":"Marvin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1659535505,"creation_date":1659532800,"question_id":73222488,"body_markdown":"Provoking Error 1452 in the mysql client produces following message:\r\n```\r\nmysql&gt; INSERT INTO demo VALUES(1,3);\r\nERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`test`.`demo`, CONSTRAINT `ContDemo` FOREIGN KEY (`fkpk`) REFERENCES `parentdemo` (`fkpk`))\r\n```\r\n\r\nI can&#39;t find a way to get the same message details in my JDBC implementation.\r\nWhen I catch an SQLException it only contains the first part:\r\n\r\n    ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails\r\n\r\nHow can I retrieve the constraint details of this error message in Java with JDBC?\r\n```\r\n(`test`.`demo`, CONSTRAINT `ContDemo` FOREIGN KEY (`fkpk`) REFERENCES `parentdemo` (`fkpk`))\r\n```\r\n","title":"JDBC MySQL retrieve Error Message Details","body":"<p>Provoking Error 1452 in the mysql client produces following message:</p>\n<pre><code>mysql&gt; INSERT INTO demo VALUES(1,3);\nERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`test`.`demo`, CONSTRAINT `ContDemo` FOREIGN KEY (`fkpk`) REFERENCES `parentdemo` (`fkpk`))\n</code></pre>\n<p>I can't find a way to get the same message details in my JDBC implementation.\nWhen I catch an SQLException it only contains the first part:</p>\n<pre><code>ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails\n</code></pre>\n<p>How can I retrieve the constraint details of this error message in Java with JDBC?</p>\n<pre><code>(`test`.`demo`, CONSTRAINT `ContDemo` FOREIGN KEY (`fkpk`) REFERENCES `parentdemo` (`fkpk`))\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1659527137,"post_id":73221089,"comment_id":129315029,"body_markdown":"Check that the `@ComponentScan` either inside an `@Configuration` class or inside your main class (probably `JobSearchSiteProjectApplication`) is covering the package where the repository is located. Also check if you have `@EnableJpaRepositories` on either one of those classes","body":"Check that the <code>@ComponentScan</code> either inside an <code>@Configuration</code> class or inside your main class (probably <code>JobSearchSiteProjectApplication</code>) is covering the package where the repository is located. Also check if you have <code>@EnableJpaRepositories</code> on either one of those classes"},{"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"score":0,"creation_date":1659527913,"post_id":73221089,"comment_id":129315313,"body_markdown":"with Lombok, should you not use specific  annotations for constructors in your Service ?","body":"with Lombok, should you not use specific  annotations for constructors in your Service ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659529902,"post_id":73221089,"comment_id":129316075,"body_markdown":"What package is your `@SpringBootAPplication` annotated class in. The `@Repository` on the interface is useless.","body":"What package is your <code>@SpringBootAPplication</code> annotated class in. The <code>@Repository</code> on the interface is useless."},{"owner":{"account_id":21111421,"reputation":45,"user_id":15519295,"display_name":"Epitaph"},"score":0,"creation_date":1659534647,"post_id":73221089,"comment_id":129317828,"body_markdown":"@QuentinGenet you mean `RequiredArgsConstructor` etc right? I used it but was trying to figure out how to solve the issue that&#39;s why I changed it.","body":"@QuentinGenet you mean <code>RequiredArgsConstructor</code> etc right? I used it but was trying to figure out how to solve the issue that&#39;s why I changed it."},{"owner":{"account_id":21111421,"reputation":45,"user_id":15519295,"display_name":"Epitaph"},"score":0,"creation_date":1659535417,"post_id":73221089,"comment_id":129317962,"body_markdown":"@Lino can you check again? I edited the question.","body":"@Lino can you check again? I edited the question."},{"owner":{"account_id":21111421,"reputation":45,"user_id":15519295,"display_name":"Epitaph"},"score":0,"creation_date":1659535434,"post_id":73221089,"comment_id":129317966,"body_markdown":"@M.Deinum can you check again? I edited the question.","body":"@M.Deinum can you check again? I edited the question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659536018,"post_id":73221089,"comment_id":129318219,"body_markdown":"Remove the exclude. JPA needs a database thus a `DataSource`. You disabled configuration for that, so no JPA, no Spring Data JPA.","body":"Remove the exclude. JPA needs a database thus a <code>DataSource</code>. You disabled configuration for that, so no JPA, no Spring Data JPA."},{"owner":{"account_id":21111421,"reputation":45,"user_id":15519295,"display_name":"Epitaph"},"score":0,"creation_date":1659536492,"post_id":73221089,"comment_id":129318412,"body_markdown":"@M.Deinum I will delete that after I set the database connection. Do you think that is the problem?","body":"@M.Deinum I will delete that after I set the database connection. Do you think that is the problem?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659536604,"post_id":73221089,"comment_id":129318470,"body_markdown":"I don&#39;t think that is the problem it **is** the problem. No datasource, no jpa, no spring data jpa. As I mentioned.","body":"I don&#39;t think that is the problem it <b>is</b> the problem. No datasource, no jpa, no spring data jpa. As I mentioned."}],"owner":{"account_id":21111421,"reputation":45,"user_id":15519295,"display_name":"Epitaph"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659535389,"creation_date":1659526683,"question_id":73221089,"body_markdown":"I reviewed all of the questions about this topic but still can not solve the issue. Annotated service and repository classes with the required annotations but still spring can&#39;t see my JobSeekerRepository. I probably missed something but working on the issue for like 1hr so I decided to ask you guys.\r\n\r\nHere is my JobSeekerService class.\r\n\r\n``` \r\npackage com.example.jobsearchsiteproject.services;\r\n\r\n\r\nimport com.example.jobsearchsiteproject.dto.JobSeekerDTO;\r\nimport com.example.jobsearchsiteproject.exception.EntityNotFoundException;\r\nimport com.example.jobsearchsiteproject.map.JobSeekerMapper;\r\nimport com.example.jobsearchsiteproject.model.JobSeeker;\r\nimport com.example.jobsearchsiteproject.repository.JobSeekerRepository;\r\n\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n\r\n@Service\r\n@Slf4j\r\npublic class JobSeekerService {\r\n\r\n\r\n    private final JobSeekerRepository jobSeekerRepository;\r\n\r\n    @Autowired\r\n    public JobSeekerService(JobSeekerRepository jobSeekerRepository) {\r\n        this.jobSeekerRepository = jobSeekerRepository;\r\n    }\r\n\r\n    public List&lt;JobSeeker&gt; getAllJobSeekers() {\r\n        List&lt;JobSeeker&gt; allCourses = jobSeekerRepository.findAll();\r\n        return allCourses;\r\n    }\r\n\r\n    public JobSeeker getById(Long id) {\r\n        Optional&lt;JobSeeker&gt; byId = jobSeekerRepository.findById(id);\r\n        return byId.orElseThrow(() -&gt; {\r\n            log.error(&quot;Course not found by id : &quot; + id);\r\n            return new EntityNotFoundException(&quot;Course&quot;, &quot;id : &quot; + id);\r\n        });\r\n    }\r\n\r\n    public JobSeeker getByFirstName(String firstName) {\r\n        Optional&lt;JobSeeker&gt; byId = jobSeekerRepository.findByFirstName(firstName);\r\n        return byId.orElseThrow(() -&gt; {\r\n            log.error(&quot;Course not found by id : &quot; + firstName);\r\n            return new EntityNotFoundException(&quot;Course&quot;, &quot;id : &quot; + firstName);\r\n        });\r\n    }\r\n\r\n    public JobSeeker create(JobSeekerDTO jobSeekerDTO) {\r\n        JobSeeker jobSeeker = JobSeekerMapper.toEntity(jobSeekerDTO);\r\n        return jobSeekerRepository.save(jobSeeker);\r\n    }\r\n\r\n    public void delete(Long id) {\r\n        getById(id);\r\n        jobSeekerRepository.deleteById(id);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nHere is my JobSeekerRepository\r\n```\r\npackage com.example.jobsearchsiteproject.repository;\r\n\r\nimport com.example.jobsearchsiteproject.model.JobSeeker;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface JobSeekerRepository\r\n        extends JpaRepository&lt;JobSeeker,Long&gt; {\r\n\r\n    Optional&lt;JobSeeker&gt; findJobSeekerByUniversityName(String universityName);\r\n\r\n    Optional&lt;JobSeeker&gt; findByFirstName(String firstName);\r\n}\r\n```\r\n\r\nHere is error tree\r\n\r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.2\\lib\\idea_rt.jar=63339:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.7.2\\spring-boot-starter-web-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.7.2\\spring-boot-starter-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.2\\spring-boot-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.7.2\\spring-boot-autoconfigure-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.7.2\\spring-boot-starter-logging-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.11\\logback-classic-1.2.11.jar;C:\\Users\\egecoskun\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.11\\logback-core-1.2.11.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.2\\log4j-to-slf4j-2.17.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.2\\log4j-api-2.17.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.36\\jul-to-slf4j-1.7.36.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\yaml\\snakeyaml\\1.30\\snakeyaml-1.30.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.7.2\\spring-boot-starter-json-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.3\\jackson-databind-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.3\\jackson-annotations-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.3\\jackson-core-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.3\\jackson-datatype-jdk8-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.3\\jackson-datatype-jsr310-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.3\\jackson-module-parameter-names-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.7.2\\spring-boot-starter-tomcat-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.65\\tomcat-embed-core-9.0.65.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.65\\tomcat-embed-el-9.0.65.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.65\\tomcat-embed-websocket-9.0.65.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-web\\5.3.22\\spring-web-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.22\\spring-beans-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.22\\spring-webmvc-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.22\\spring-aop-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-context\\5.3.22\\spring-context-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.22\\spring-expression-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.24\\lombok-1.18.24.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\2.7.2\\spring-boot-starter-data-jpa-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\2.7.2\\spring-boot-starter-aop-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.7\\aspectjweaver-1.9.7.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\2.7.2\\spring-boot-starter-jdbc-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\zaxxer\\HikariCP\\4.0.3\\HikariCP-4.0.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-jdbc\\5.3.22\\spring-jdbc-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\1.3.3\\jakarta.transaction-api-1.3.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\2.2.3\\jakarta.persistence-api-2.2.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.6.10.Final\\hibernate-core-5.6.10.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.12\\byte-buddy-1.12.12.jar;C:\\Users\\egecoskun\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.2.Final\\hibernate-commons-annotations-5.1.2.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.6\\jaxb-runtime-2.3.6.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.6\\txw2-2.3.6.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.12\\istack-commons-runtime-3.0.12.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\2.7.2\\spring-data-jpa-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\2.7.2\\spring-data-commons-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-orm\\5.3.22\\spring-orm-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.22\\spring-tx-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.36\\slf4j-api-1.7.36.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-aspects\\5.3.22\\spring-aspects-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\postgresql\\postgresql\\42.3.6\\postgresql-42.3.6.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.5.0\\checker-qual-3.5.0.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\2.3.3\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-core\\5.3.22\\spring-core-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.22\\spring-jcl-5.3.22.jar com.example.jobsearchsiteproject.JobSearchSiteProjectApplication\r\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.2)\r\n\r\n2022-08-03 14:28:49.976  INFO 3532 --- [           main] c.e.j.JobSearchSiteProjectApplication    : Starting JobSearchSiteProjectApplication using Java 17.0.1 on DESKTOP-0JI2QHS with PID 3532 (C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes started by egecoskun in C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject)\r\n2022-08-03 14:28:49.977  INFO 3532 --- [           main] c.e.j.JobSearchSiteProjectApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-08-03 14:28:50.541  INFO 3532 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-08-03 14:28:50.546  INFO 3532 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-08-03 14:28:50.546  INFO 3532 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n2022-08-03 14:28:50.628  INFO 3532 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-08-03 14:28:50.628  INFO 3532 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 616 ms\r\n2022-08-03 14:28:50.655  WARN 3532 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobSeekerController&#39; defined in file [C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes\\com\\example\\jobsearchsiteproject\\controller\\JobSeekerController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobSeekerService&#39; defined in file [C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes\\com\\example\\jobsearchsiteproject\\services\\JobSeekerService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.jobsearchsiteproject.repository.JobSeekerRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2022-08-03 14:28:50.656  INFO 3532 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-08-03 14:28:50.665  INFO 3532 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-08-03 14:28:50.677 ERROR 3532 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.jobsearchsiteproject.services.JobSeekerService required a bean of type &#39;com.example.jobsearchsiteproject.repository.JobSeekerRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.jobsearchsiteproject.repository.JobSeekerRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\nAnd my pom.xml\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;JobSearchSiteProject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;JobSearchSiteProject&lt;/name&gt;\r\n    &lt;description&gt;JobSearchSiteProject&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Junit lib --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\npackage tree is like this \r\n\r\n! https://i.stack.imgur.com/Z8bDr.jpg\r\n\r\n\r\nAs asked my main is here\r\n```\r\npackage com.example.jobsearchsiteproject;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\npublic class JobSearchSiteProjectApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JobSearchSiteProjectApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Parameter 0 of constructor in .JobSeekerService required a bean of type JobSeekerRepository that could not be found","body":"<p>I reviewed all of the questions about this topic but still can not solve the issue. Annotated service and repository classes with the required annotations but still spring can't see my JobSeekerRepository. I probably missed something but working on the issue for like 1hr so I decided to ask you guys.</p>\n<p>Here is my JobSeekerService class.</p>\n<pre><code>package com.example.jobsearchsiteproject.services;\n\n\nimport com.example.jobsearchsiteproject.dto.JobSeekerDTO;\nimport com.example.jobsearchsiteproject.exception.EntityNotFoundException;\nimport com.example.jobsearchsiteproject.map.JobSeekerMapper;\nimport com.example.jobsearchsiteproject.model.JobSeeker;\nimport com.example.jobsearchsiteproject.repository.JobSeekerRepository;\n\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n\nimport java.util.List;\nimport java.util.Optional;\n\n\n@Service\n@Slf4j\npublic class JobSeekerService {\n\n\n    private final JobSeekerRepository jobSeekerRepository;\n\n    @Autowired\n    public JobSeekerService(JobSeekerRepository jobSeekerRepository) {\n        this.jobSeekerRepository = jobSeekerRepository;\n    }\n\n    public List&lt;JobSeeker&gt; getAllJobSeekers() {\n        List&lt;JobSeeker&gt; allCourses = jobSeekerRepository.findAll();\n        return allCourses;\n    }\n\n    public JobSeeker getById(Long id) {\n        Optional&lt;JobSeeker&gt; byId = jobSeekerRepository.findById(id);\n        return byId.orElseThrow(() -&gt; {\n            log.error(&quot;Course not found by id : &quot; + id);\n            return new EntityNotFoundException(&quot;Course&quot;, &quot;id : &quot; + id);\n        });\n    }\n\n    public JobSeeker getByFirstName(String firstName) {\n        Optional&lt;JobSeeker&gt; byId = jobSeekerRepository.findByFirstName(firstName);\n        return byId.orElseThrow(() -&gt; {\n            log.error(&quot;Course not found by id : &quot; + firstName);\n            return new EntityNotFoundException(&quot;Course&quot;, &quot;id : &quot; + firstName);\n        });\n    }\n\n    public JobSeeker create(JobSeekerDTO jobSeekerDTO) {\n        JobSeeker jobSeeker = JobSeekerMapper.toEntity(jobSeekerDTO);\n        return jobSeekerRepository.save(jobSeeker);\n    }\n\n    public void delete(Long id) {\n        getById(id);\n        jobSeekerRepository.deleteById(id);\n    }\n\n\n\n}\n\n</code></pre>\n<p>Here is my JobSeekerRepository</p>\n<pre><code>package com.example.jobsearchsiteproject.repository;\n\nimport com.example.jobsearchsiteproject.model.JobSeeker;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface JobSeekerRepository\n        extends JpaRepository&lt;JobSeeker,Long&gt; {\n\n    Optional&lt;JobSeeker&gt; findJobSeekerByUniversityName(String universityName);\n\n    Optional&lt;JobSeeker&gt; findByFirstName(String firstName);\n}\n</code></pre>\n<p>Here is error tree</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.2\\lib\\idea_rt.jar=63339:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.7.2\\spring-boot-starter-web-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.7.2\\spring-boot-starter-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.7.2\\spring-boot-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.7.2\\spring-boot-autoconfigure-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.7.2\\spring-boot-starter-logging-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.11\\logback-classic-1.2.11.jar;C:\\Users\\egecoskun\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.11\\logback-core-1.2.11.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.2\\log4j-to-slf4j-2.17.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.2\\log4j-api-2.17.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.36\\jul-to-slf4j-1.7.36.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\yaml\\snakeyaml\\1.30\\snakeyaml-1.30.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.7.2\\spring-boot-starter-json-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.3\\jackson-databind-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.3\\jackson-annotations-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.3\\jackson-core-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.3\\jackson-datatype-jdk8-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.3\\jackson-datatype-jsr310-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.3\\jackson-module-parameter-names-2.13.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.7.2\\spring-boot-starter-tomcat-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.65\\tomcat-embed-core-9.0.65.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.65\\tomcat-embed-el-9.0.65.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.65\\tomcat-embed-websocket-9.0.65.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-web\\5.3.22\\spring-web-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.22\\spring-beans-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.22\\spring-webmvc-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.22\\spring-aop-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-context\\5.3.22\\spring-context-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.22\\spring-expression-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.24\\lombok-1.18.24.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\2.7.2\\spring-boot-starter-data-jpa-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\2.7.2\\spring-boot-starter-aop-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.7\\aspectjweaver-1.9.7.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\2.7.2\\spring-boot-starter-jdbc-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\zaxxer\\HikariCP\\4.0.3\\HikariCP-4.0.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-jdbc\\5.3.22\\spring-jdbc-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\1.3.3\\jakarta.transaction-api-1.3.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\2.2.3\\jakarta.persistence-api-2.2.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.6.10.Final\\hibernate-core-5.6.10.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.12\\byte-buddy-1.12.12.jar;C:\\Users\\egecoskun\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.2.Final\\hibernate-commons-annotations-5.1.2.Final.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.6\\jaxb-runtime-2.3.6.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.6\\txw2-2.3.6.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.12\\istack-commons-runtime-3.0.12.jar;C:\\Users\\egecoskun\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\2.7.2\\spring-data-jpa-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\2.7.2\\spring-data-commons-2.7.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-orm\\5.3.22\\spring-orm-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-tx\\5.3.22\\spring-tx-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.36\\slf4j-api-1.7.36.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-aspects\\5.3.22\\spring-aspects-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\postgresql\\postgresql\\42.3.6\\postgresql-42.3.6.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.5.0\\checker-qual-3.5.0.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\2.3.3\\jakarta.xml.bind-api-2.3.3.jar;C:\\Users\\egecoskun\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-core\\5.3.22\\spring-core-5.3.22.jar;C:\\Users\\egecoskun\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.22\\spring-jcl-5.3.22.jar com.example.jobsearchsiteproject.JobSearchSiteProjectApplication\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.2)\n\n2022-08-03 14:28:49.976  INFO 3532 --- [           main] c.e.j.JobSearchSiteProjectApplication    : Starting JobSearchSiteProjectApplication using Java 17.0.1 on DESKTOP-0JI2QHS with PID 3532 (C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes started by egecoskun in C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject)\n2022-08-03 14:28:49.977  INFO 3532 --- [           main] c.e.j.JobSearchSiteProjectApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-08-03 14:28:50.541  INFO 3532 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-08-03 14:28:50.546  INFO 3532 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-08-03 14:28:50.546  INFO 3532 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-08-03 14:28:50.628  INFO 3532 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-08-03 14:28:50.628  INFO 3532 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 616 ms\n2022-08-03 14:28:50.655  WARN 3532 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobSeekerController' defined in file [C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes\\com\\example\\jobsearchsiteproject\\controller\\JobSeekerController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobSeekerService' defined in file [C:\\Users\\egecoskun\\Desktop\\Univera\\JobSearchSiteProject\\target\\classes\\com\\example\\jobsearchsiteproject\\services\\JobSeekerService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.jobsearchsiteproject.repository.JobSeekerRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2022-08-03 14:28:50.656  INFO 3532 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-08-03 14:28:50.665  INFO 3532 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-08-03 14:28:50.677 ERROR 3532 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.jobsearchsiteproject.services.JobSeekerService required a bean of type 'com.example.jobsearchsiteproject.repository.JobSeekerRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.jobsearchsiteproject.repository.JobSeekerRepository' in your configuration.\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>And my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;JobSearchSiteProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JobSearchSiteProject&lt;/name&gt;\n    &lt;description&gt;JobSearchSiteProject&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Junit lib --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>package tree is like this</p>\n<p>! <a href=\"https://i.stack.imgur.com/Z8bDr.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Z8bDr.jpg</a></p>\n<p>As asked my main is here</p>\n<pre><code>package com.example.jobsearchsiteproject;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class JobSearchSiteProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JobSearchSiteProjectApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exception","sonarqube","sonarqube-scan","underscore-java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659535322,"creation_date":1659534471,"answer_id":73222801,"question_id":73222712,"body_markdown":"You could write it like this:\r\n\r\n       DataSource ds = jdbcTemplate.getDataSource();\r\n       if (ds != null) {\r\n           try (Connection con = ds.getConnection();\r\n                PreparedStatement preparedStatement = con.prepareStatement(sql);\r\n                Statement statement = con.createStatement()) {\r\n    \r\n                ....\r\n           }\r\n       }\r\n\r\nThe thing is that a `DataSource` is not `AutoClosable`.  Therefore there is no need to manage it with the *try with resources*.\r\n\r\nFurthermore, if the `DataSource` &gt;is&lt; `null`, you won&#39;t be able to get a connection or a statement, and there is probably nothing that you could sensibly in the try body if the statement was `null`.  An explicit `null` test will avoid all of that.\r\n\r\nBut if we take into account the way that `JdbcTemplate` is designed to be used, I think that @M.Deinum&#39;s [answer][1] gives better ways to solve this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73222864/139985","title":"Sonar issue: A &quot;NullPointerException&quot; could be thrown; &quot;getDataSource()&quot; can return null. How to solve in try with resources block","body":"<p>You could write it like this:</p>\n<pre><code>   DataSource ds = jdbcTemplate.getDataSource();\n   if (ds != null) {\n       try (Connection con = ds.getConnection();\n            PreparedStatement preparedStatement = con.prepareStatement(sql);\n            Statement statement = con.createStatement()) {\n\n            ....\n       }\n   }\n</code></pre>\n<p>The thing is that a <code>DataSource</code> is not <code>AutoClosable</code>.  Therefore there is no need to manage it with the <em>try with resources</em>.</p>\n<p>Furthermore, if the <code>DataSource</code> &gt;is&lt; <code>null</code>, you won't be able to get a connection or a statement, and there is probably nothing that you could sensibly in the try body if the statement was <code>null</code>.  An explicit <code>null</code> test will avoid all of that.</p>\n<p>But if we take into account the way that <code>JdbcTemplate</code> is designed to be used, I think that @M.Deinum's <a href=\"https://stackoverflow.com/a/73222864/139985\">answer</a> gives better ways to solve this.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659534847,"creation_date":1659534847,"answer_id":73222864,"question_id":73222712,"body_markdown":"That code is wrong on more then one level. You have a [`JdbcTemplate`][1] and just use it as a carrier for the `DataSource` instead of using it properly. \r\n\r\nDepending on what you want to do you should use one of the `query` or `execute` methods on the `JdbcTemplate` instead of obtaining the `DataSource` and getting the `Connection`. \r\n\r\nIf you really want the `Connection` use a `ConnectionCallback` with an `execute` method instead. \r\n\r\n```java\r\njdbcTemplate.execute( (Connection con) -&gt; {\r\n  PreparedStatement preparedStatement = con.prepareStatement(sql);\r\n  Statement statement = con.createStatement();\r\n})\r\n```\r\n\r\nBut as mentioned you probably should be using one of the `query` methods instead of doing what youa re doing now!.\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html","title":"Sonar issue: A &quot;NullPointerException&quot; could be thrown; &quot;getDataSource()&quot; can return null. How to solve in try with resources block","body":"<p>That code is wrong on more then one level. You have a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\"><code>JdbcTemplate</code></a> and just use it as a carrier for the <code>DataSource</code> instead of using it properly.</p>\n<p>Depending on what you want to do you should use one of the <code>query</code> or <code>execute</code> methods on the <code>JdbcTemplate</code> instead of obtaining the <code>DataSource</code> and getting the <code>Connection</code>.</p>\n<p>If you really want the <code>Connection</code> use a <code>ConnectionCallback</code> with an <code>execute</code> method instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>jdbcTemplate.execute( (Connection con) -&gt; {\n  PreparedStatement preparedStatement = con.prepareStatement(sql);\n  Statement statement = con.createStatement();\n})\n</code></pre>\n<p>But as mentioned you probably should be using one of the <code>query</code> methods instead of doing what youa re doing now!.</p>\n"}],"owner":{"account_id":11805960,"reputation":181,"user_id":8638447,"display_name":"Rajat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1659535322,"creation_date":1659533770,"question_id":73222712,"body_markdown":"This are the code try with resources block.   \r\n    \r\n    try (Connection con = jdbcTemplate.getDataSource().getConnection();\r\n    \t\t\t\tPreparedStatement preparedStatement = con.prepareStatement(sql);\r\n    \t\t\t\tStatement statement = con.createStatement()) {\r\n    \t\r\n    \t\t ....\r\n    }","title":"Sonar issue: A &quot;NullPointerException&quot; could be thrown; &quot;getDataSource()&quot; can return null. How to solve in try with resources block","body":"<p>This are the code try with resources block.</p>\n<pre><code>try (Connection con = jdbcTemplate.getDataSource().getConnection();\n                PreparedStatement preparedStatement = con.prepareStatement(sql);\n                Statement statement = con.createStatement()) {\n    \n         ....\n}\n</code></pre>\n"},{"tags":["java","c++","static"],"comments":[{"owner":{"account_id":2329643,"reputation":396,"user_id":2043376,"display_name":"ghostofstandardspast"},"score":1,"creation_date":1403103553,"post_id":24288855,"comment_id":37531472,"body_markdown":"That isn&#39;t an error unless you use `-Werror`. But http://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope","body":"That isn&#39;t an error unless you use <code>-Werror</code>. But <a href=\"http://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope\" title=\"can a local variables memory be accessed outside its scope\">stackoverflow.com/questions/6441218/&hellip;</a>"},{"owner":{"account_id":334826,"reputation":224596,"user_id":661519,"accept_rate":92,"display_name":"juanchopanza"},"score":0,"creation_date":1403103565,"post_id":24288855,"comment_id":37531481,"body_markdown":"C++: yes. Java: one question at a time!","body":"C++: yes. Java: one question at a time!"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1403103589,"post_id":24288855,"comment_id":37531499,"body_markdown":"One at a time. Ask for C++ or Java. And yes, `static` keyword has a different meaning in Java.","body":"One at a time. Ask for C++ or Java. And yes, <code>static</code> keyword has a different meaning in Java."},{"owner":{"account_id":1419093,"reputation":2964,"user_id":1941161,"accept_rate":67,"display_name":"Scis"},"score":0,"creation_date":1403103853,"post_id":24288855,"comment_id":37531691,"body_markdown":"Regarding static in C++ : [The static keyword and its various uses in C++](http://stackoverflow.com/questions/15235526/the-static-keyword-and-its-various-uses-in-c)","body":"Regarding static in C++ : <a href=\"http://stackoverflow.com/questions/15235526/the-static-keyword-and-its-various-uses-in-c\">The static keyword and its various uses in C++</a>"},{"owner":{"account_id":8929,"reputation":60656,"user_id":16287,"accept_rate":97,"display_name":"Drew Dormann"},"score":0,"creation_date":1403103926,"post_id":24288855,"comment_id":37531731,"body_markdown":"_&quot;Right?&quot;_  Right.  You&#39;ve answered your own question.","body":"<i>&quot;Right?&quot;</i>  Right.  You&#39;ve answered your own question."}],"answers":[{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403104444,"creation_date":1403103566,"answer_id":24288887,"question_id":24288855,"body_markdown":"Static variables in C++ in functions are persistant varibles in the scope of a function. In Java, you can&#39;t have static variables in methods. Static variables are variables of the class, not its instances.","title":"Static variables in C++ and Java","body":"<p>Static variables in C++ in functions are persistant varibles in the scope of a function. In Java, you can't have static variables in methods. Static variables are variables of the class, not its instances.</p>\n"},{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403103731,"creation_date":1403103731,"answer_id":24288944,"question_id":24288855,"body_markdown":"For the Java side you are correct. Static variables in Java must be declared at the class level not inside a method.\r\n\r\nIf you need to scope the static variables then you probably have some seriously broken architecture but you can do it to a certain extent by using inner classes to store the static variables in.\r\n","title":"Static variables in C++ and Java","body":"<p>For the Java side you are correct. Static variables in Java must be declared at the class level not inside a method.</p>\n\n<p>If you need to scope the static variables then you probably have some seriously broken architecture but you can do it to a certain extent by using inner classes to store the static variables in.</p>\n"},{"tags":[],"owner":{"account_id":1980316,"reputation":168353,"user_id":1782465,"accept_rate":76,"display_name":"Angew is no longer proud of SO"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1403103918,"creation_date":1403103918,"answer_id":24289000,"question_id":24288855,"body_markdown":"In C++, `static` is one of the most overloaded keywords of the language. The meaning you&#39;re using here is this:\r\n\r\nA variable which is defined inside a function with the `static` specifier has static storage duration - it occupies the same space for the entire runtime of the program, and keeps its value between different calls to the function. So you can safely return a reference to it, as the variable is always there to back the reference.\r\n\r\nA normal (non-`static`) function-local variable is destroyed when the function call returns, and so the reference becomes dangling - it doesn&#39;t refer to anything valid. Using it results in Undefined Behaviour.\r\n\r\nJava simply doesn&#39;t have function-scope `static` variables (it doesn&#39;t have that meaning of the keyword `static`). That&#39;s why you can&#39;t declare it there.\r\n\r\nBoth C++ and Java have the &quot;class-scope&quot; meaning of the `static` keyword. When a member of a class is declared with the `static` keyword, it means the member is not bound to any instance of the class, but is just a global variable whose identifier lives in the class&#39;s scope.","title":"Static variables in C++ and Java","body":"<p>In C++, <code>static</code> is one of the most overloaded keywords of the language. The meaning you're using here is this:</p>\n\n<p>A variable which is defined inside a function with the <code>static</code> specifier has static storage duration - it occupies the same space for the entire runtime of the program, and keeps its value between different calls to the function. So you can safely return a reference to it, as the variable is always there to back the reference.</p>\n\n<p>A normal (non-<code>static</code>) function-local variable is destroyed when the function call returns, and so the reference becomes dangling - it doesn't refer to anything valid. Using it results in Undefined Behaviour.</p>\n\n<p>Java simply doesn't have function-scope <code>static</code> variables (it doesn't have that meaning of the keyword <code>static</code>). That's why you can't declare it there.</p>\n\n<p>Both C++ and Java have the \"class-scope\" meaning of the <code>static</code> keyword. When a member of a class is declared with the <code>static</code> keyword, it means the member is not bound to any instance of the class, but is just a global variable whose identifier lives in the class's scope.</p>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659534612,"creation_date":1475776619,"answer_id":39902700,"question_id":24288855,"body_markdown":"Static keyword is used for almost same purpose in both C++ and Java. There are some differences though.\r\n\r\n**1)  Static Data Members:** Like C++, static data members in Java are class members and shared among all objects.\r\n\r\n**2) Static Member Methods:** Like C++, methods declared as static are class members and have following restrictions:\r\n\r\n - (i) They can only call other static methods.\r\n - (ii) They must only access static data.\r\n - (iii) They cannot access `this` or `super`\r\n\r\nLike C++, static data members and static methods can be accessed without creating an object. They can be accessed using class name. \r\n\r\n**3) Static Block:** Unlike C++, Java supports a special block, called static block (also called static clause) which can be used for static initialization of a class. This code inside static block is executed only once (first time you make an object of that class or the first time you access a static member of that class (even if you never make an object of that class)).\r\n\r\n**4) Static Local Variables:** Unlike C++, Java doesnât support static local variables. If used , Java program fails in compilation.\r\n\r\n**5) Static class:** Classes can also be made static in Java.In java, we canât make Top level class static. Only nested classes can be static.\r\n\r\n -  Nested static class doesnât need reference of Outer class, but Non-static nested class or Inner class requires Outer class reference.\r\n -  Inner class(or non-static nested class) can access both static and\r\n   non-static members of Outer class. A static class cannot access\r\n   non-static members of the Outer class. It can access only static\r\n   members of Outer class.\r\n\r\n Ref : [www.geeksforgeeks.org][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/static-keyword-in-java/","title":"Static variables in C++ and Java","body":"<p>Static keyword is used for almost same purpose in both C++ and Java. There are some differences though.</p>\n<p><strong>1)  Static Data Members:</strong> Like C++, static data members in Java are class members and shared among all objects.</p>\n<p><strong>2) Static Member Methods:</strong> Like C++, methods declared as static are class members and have following restrictions:</p>\n<ul>\n<li>(i) They can only call other static methods.</li>\n<li>(ii) They must only access static data.</li>\n<li>(iii) They cannot access <code>this</code> or <code>super</code></li>\n</ul>\n<p>Like C++, static data members and static methods can be accessed without creating an object. They can be accessed using class name.</p>\n<p><strong>3) Static Block:</strong> Unlike C++, Java supports a special block, called static block (also called static clause) which can be used for static initialization of a class. This code inside static block is executed only once (first time you make an object of that class or the first time you access a static member of that class (even if you never make an object of that class)).</p>\n<p><strong>4) Static Local Variables:</strong> Unlike C++, Java doesnât support static local variables. If used , Java program fails in compilation.</p>\n<p><strong>5) Static class:</strong> Classes can also be made static in Java.In java, we canât make Top level class static. Only nested classes can be static.</p>\n<ul>\n<li>Nested static class doesnât need reference of Outer class, but Non-static nested class or Inner class requires Outer class reference.</li>\n<li>Inner class(or non-static nested class) can access both static and\nnon-static members of Outer class. A static class cannot access\nnon-static members of the Outer class. It can access only static\nmembers of Outer class.</li>\n</ul>\n<p>Ref : <a href=\"https://www.geeksforgeeks.org/static-keyword-in-java/\" rel=\"nofollow noreferrer\">www.geeksforgeeks.org</a></p>\n"}],"owner":{"account_id":4597235,"reputation":1323,"user_id":3728918,"accept_rate":50,"display_name":"bog"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10114,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":24289000,"answer_count":4,"score":10,"last_activity_date":1659534612,"creation_date":1403103494,"question_id":24288855,"body_markdown":"I have a question:\r\nlet&#39;s say we have this function: (in C++)\r\n\r\n    int&amp; f() {\r\n        static int x = 0;\r\n        return x;\r\n    } // OK\r\nand \r\n\r\n    int&amp; h() {\r\n        int x=0;\r\n        return x;\r\n    } // ERROR\r\n\r\nWhy does `h` give an error? Is it because of the keyword `static`? I found `static` keyword lets my `x` variable live after my function is terminated. So I still can access at that memory location from the outside (another function or main? right?). Instead int `x = 0` is lost after `h` terminates. Right? I&#39;m not sure I really got it!\r\n \r\nAnd what about Java? I read I cannot declare `static` variables in methods but only in classes.\r\n\r\nThank you.","title":"Static variables in C++ and Java","body":"<p>I have a question:\nlet's say we have this function: (in C++)</p>\n\n<pre><code>int&amp; f() {\n    static int x = 0;\n    return x;\n} // OK\n</code></pre>\n\n<p>and </p>\n\n<pre><code>int&amp; h() {\n    int x=0;\n    return x;\n} // ERROR\n</code></pre>\n\n<p>Why does <code>h</code> give an error? Is it because of the keyword <code>static</code>? I found <code>static</code> keyword lets my <code>x</code> variable live after my function is terminated. So I still can access at that memory location from the outside (another function or main? right?). Instead int <code>x = 0</code> is lost after <code>h</code> terminates. Right? I'm not sure I really got it!</p>\n\n<p>And what about Java? I read I cannot declare <code>static</code> variables in methods but only in classes.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3905225,"reputation":77,"user_id":3232103,"accept_rate":60,"display_name":"osmanedip"},"score":0,"creation_date":1659534207,"post_id":1577138,"comment_id":129317719,"body_markdown":"Hello,\n\nI can&#39;t import a intellij IDEA Project into the Eclipse. Please help?","body":"Hello,  I can&#39;t import a intellij IDEA Project into the Eclipse. Please help?"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255687679,"creation_date":1255687679,"answer_id":1577230,"question_id":1577138,"body_markdown":"You can do it with the paid edition without any problem.  You&#39;ll see the option to do so when you first open IntelliJ.  If it&#39;s not there, perhaps they left it out of the community edition.\r\n","title":"IntelliJ Community Edition - How to import an Eclipse project?","body":"<p>You can do it with the paid edition without any problem.  You'll see the option to do so when you first open IntelliJ.  If it's not there, perhaps they left it out of the community edition.</p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1255694870,"creation_date":1255694870,"answer_id":1577676,"question_id":1577138,"body_markdown":"Please see the [IntelliJ IDEA Editions Comparison][1]. Eclipse project interoperability is listed as available for both editions. It&#39;s not available in the first preview release because of the bug in our build subsystem. The updated build with Eclipse import support will be published later today. Sorry for the inconvenience.\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/nextversion/editions_comparison_matrix.html","title":"IntelliJ Community Edition - How to import an Eclipse project?","body":"<p>Please see the <a href=\"http://www.jetbrains.com/idea/nextversion/editions_comparison_matrix.html\" rel=\"noreferrer\">IntelliJ IDEA Editions Comparison</a>. Eclipse project interoperability is listed as available for both editions. It's not available in the first preview release because of the bug in our build subsystem. The updated build with Eclipse import support will be published later today. Sorry for the inconvenience.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1256036568,"creation_date":1256036568,"answer_id":1593841,"question_id":1577138,"body_markdown":"Use Maven, stop relying on IDEs.","title":"IntelliJ Community Edition - How to import an Eclipse project?","body":"<p>Use Maven, stop relying on IDEs.</p>\n"}],"owner":{"account_id":8504,"reputation":6233,"user_id":1961117,"accept_rate":92,"display_name":"trunkc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1577676,"answer_count":3,"score":4,"last_activity_date":1659534207,"creation_date":1255686322,"question_id":1577138,"body_markdown":"There seems to be no eclipse support in the IntelliJ Community Edition. Do you know a smart way to import an eclipse project into IntelliJ Community Edition?\r\n\r\n\r\nSee also http://blogs.jetbrains.com/idea/2009/10/intellij-idea-open-sourced/","title":"IntelliJ Community Edition - How to import an Eclipse project?","body":"<p>There seems to be no eclipse support in the IntelliJ Community Edition. Do you know a smart way to import an eclipse project into IntelliJ Community Edition?</p>\n\n<p>See also <a href=\"http://blogs.jetbrains.com/idea/2009/10/intellij-idea-open-sourced/\" rel=\"nofollow noreferrer\">http://blogs.jetbrains.com/idea/2009/10/intellij-idea-open-sourced/</a></p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1659535108,"post_id":73222746,"comment_id":129317887,"body_markdown":"In other words, you need a way to filter the second dropdown depending on the content of the first dropdown? If that&#39;s the case, why don&#39;t you tell/notify the server whenever something is selected in the countries dropdown? What have you tried so far?","body":"In other words, you need a way to filter the second dropdown depending on the content of the first dropdown? If that&#39;s the case, why don&#39;t you tell/notify the server whenever something is selected in the countries dropdown? What have you tried so far?"},{"owner":{"account_id":20960119,"reputation":1,"user_id":15399739,"display_name":"Borislav"},"score":0,"creation_date":1659537083,"post_id":73222746,"comment_id":129318682,"body_markdown":"Hi Jetto, \n\nYes indeed that&#39;s what i want.\n\nHowever since I have almost to zero experience in JS I was able to compromise and add both objects in one dropdown and show each city and under the city - the respective towns. \nI will now start searching on how this is doable with JS.","body":"Hi Jetto,   Yes indeed that&#39;s what i want.  However since I have almost to zero experience in JS I was able to compromise and add both objects in one dropdown and show each city and under the city - the respective towns.  I will now start searching on how this is doable with JS."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1659540037,"post_id":73222746,"comment_id":129319532,"body_markdown":"I THINK your approach is not correct. I capitalize that because I have no experience with Thymeleaf in particular, but most (if not all) client-side libraries/frameworks have a way to communicate changes to the server-side. Nowadays we use `events` for that. I&#39;d look first how Thymeleaf implements events, before jumping right into JS. That being said, going with JS could be the right way after all.","body":"I THINK your approach is not correct. I capitalize that because I have no experience with Thymeleaf in particular, but most (if not all) client-side libraries/frameworks have a way to communicate changes to the server-side. Nowadays we use <code>events</code> for that. I&#39;d look first how Thymeleaf implements events, before jumping right into JS. That being said, going with JS could be the right way after all."}],"owner":{"account_id":20960119,"reputation":1,"user_id":15399739,"display_name":"Borislav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659533929,"creation_date":1659533929,"question_id":73222746,"body_markdown":"I am creating a Spring, Thymeleaf application and I stumbled upon something, which I cannot find an answer to, while searching, nor can i come up with something.\r\n\r\nSo I am making a page in which a user must input some values in a couple of fields and then add offer to the database. Two of the fields in the html template will be &lt;select&gt; dropdowns. In the first dropdown the respondent will see countries, which exist in the database. I add them to the model - \r\n\r\n    model.addAttribute(&quot;countries&quot;, countryService.getAllCountries())\r\n\r\nafter that I present them in the html with thymeleaf expressions.\r\n\r\nAfterwards, in the second dropdown, I want to show the towns for the respective country, however I cannot do the same for them, since I do not know, which country will be selected, or can i?\r\n\r\nIs there a way to do that without JS or it is the only way. And if JS is mandatory, could you give me some directions on where to look for information on how to do that, please.\r\n\r\nThank you in advance.","title":"Adding attribute to Model in Spring, but it needs to call different objects, depending on previous input","body":"<p>I am creating a Spring, Thymeleaf application and I stumbled upon something, which I cannot find an answer to, while searching, nor can i come up with something.</p>\n<p>So I am making a page in which a user must input some values in a couple of fields and then add offer to the database. Two of the fields in the html template will be  dropdowns. In the first dropdown the respondent will see countries, which exist in the database. I add them to the model -</p>\n<pre><code>model.addAttribute(&quot;countries&quot;, countryService.getAllCountries())\n</code></pre>\n<p>after that I present them in the html with thymeleaf expressions.</p>\n<p>Afterwards, in the second dropdown, I want to show the towns for the respective country, however I cannot do the same for them, since I do not know, which country will be selected, or can i?</p>\n<p>Is there a way to do that without JS or it is the only way. And if JS is mandatory, could you give me some directions on where to look for information on how to do that, please.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","apache-poi","filereader","xlsx"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1450346261,"post_id":34264120,"comment_id":56404593,"body_markdown":"As far as I see your `public String getExcelData(String sheetName, int rowNum, int colNum)` is able to get *one* cells value from the given sheet, row and column. For this small task every time it creates a new Workbook from the stored file. Also the `public void writeToExcel(String sheetName,int rowNum,int cellNum,String desc)` every time creates a new Workbook from the stored file, writes *one* cells value into the given sheet, row and column and saves the whole Workbook. Why not having the Workbook open outside this methods and saving it only once if all cell values are set?","body":"As far as I see your <code>public String getExcelData(String sheetName, int rowNum, int colNum)</code> is able to get <i>one</i> cells value from the given sheet, row and column. For this small task every time it creates a new Workbook from the stored file. Also the <code>public void writeToExcel(String sheetName,int rowNum,int cellNum,String desc)</code> every time creates a new Workbook from the stored file, writes <i>one</i> cells value into the given sheet, row and column and saves the whole Workbook. Why not having the Workbook open outside this methods and saving it only once if all cell values are set?"},{"owner":{"account_id":3242030,"reputation":1,"user_id":2734784,"display_name":"user2734784"},"score":0,"creation_date":1479711789,"post_id":34264120,"comment_id":68656478,"body_markdown":"Visit http://stackoverflow.com/a/12263649/2734784 for finding out how to close the xlsx properly","body":"Visit <a href=\"http://stackoverflow.com/a/12263649/2734784\">stackoverflow.com/a/12263649/2734784</a> for finding out how to close the xlsx properly"}],"answers":[{"tags":[],"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450088696,"creation_date":1450088696,"answer_id":34264628,"question_id":34264120,"body_markdown":"When you write to your file, you seem not to be using [`flush`][1]. Furthermore, your `close` code should be done in a `finally` block to ensure the stream is closed even if something wrong happens.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html#flush()","title":"Java - Apache POI - Read/Write .xlsx file - File getting corrupted and becomes empty","body":"<p>When you write to your file, you seem not to be using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html#flush()\" rel=\"nofollow\"><code>flush</code></a>. Furthermore, your <code>close</code> code should be done in a <code>finally</code> block to ensure the stream is closed even if something wrong happens.</p>\n"},{"tags":[],"owner":{"account_id":7354578,"reputation":37,"user_id":5599713,"display_name":"PhstKv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450088748,"creation_date":1450088748,"answer_id":34264649,"question_id":34264120,"body_markdown":"you need to close the FileInputStream and FileOutputStream  with org.apache.commons.io.IOUtils.closeQuietly(fos) and fis.\r\n\r\n","title":"Java - Apache POI - Read/Write .xlsx file - File getting corrupted and becomes empty","body":"<p>you need to close the FileInputStream and FileOutputStream  with org.apache.commons.io.IOUtils.closeQuietly(fos) and fis.</p>\n"},{"tags":[],"owner":{"account_id":1864737,"reputation":1282,"user_id":1688570,"display_name":"TouDick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450089079,"creation_date":1450089079,"answer_id":34264763,"question_id":34264120,"body_markdown":"You are reading and writing to the same file at the same time. Try to first close FileInputStream fis before writing to FileOutputStream fos. \r\nOr use temporary file to write new result and then rename it to original one. \r\n\r\nBTW. close automatically performs flush, so it don&#39;t has to be called separately. ","title":"Java - Apache POI - Read/Write .xlsx file - File getting corrupted and becomes empty","body":"<p>You are reading and writing to the same file at the same time. Try to first close FileInputStream fis before writing to FileOutputStream fos. \nOr use temporary file to write new result and then rename it to original one. </p>\n\n<p>BTW. close automatically performs flush, so it don't has to be called separately. </p>\n"},{"tags":[],"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450089477,"creation_date":1450089477,"answer_id":34264903,"question_id":34264120,"body_markdown":"As a java dev, you need to use `finally` block when you use `try-catch` block.\r\nin your finally block, you must close `FileInputStream` and `FileOutputStream`.may be filehandler opened as you didn&#39;t close.","title":"Java - Apache POI - Read/Write .xlsx file - File getting corrupted and becomes empty","body":"<p>As a java dev, you need to use <code>finally</code> block when you use <code>try-catch</code> block.\nin your finally block, you must close <code>FileInputStream</code> and <code>FileOutputStream</code>.may be filehandler opened as you didn't close.</p>\n"},{"tags":[],"owner":{"account_id":4971565,"reputation":336,"user_id":3999107,"accept_rate":20,"display_name":"Dheeraj Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631509591,"creation_date":1631509591,"answer_id":69157512,"question_id":34264120,"body_markdown":"I faced this issue initially, solution is simple.\r\n\r\nI am writting only code line which u need to add **fis.close();\r\n    wb.close();** before returning **retval** \r\n\r\n    public String getExcelData(String sheetName, int rowNum, int colNum){\r\n    String retVal = null;\r\n    try {\r\n        FileInputStream fis = new FileInputStream(&quot;/Absolute/File/Path/Test-File.xlsx&quot;);\r\n        Workbook wb = WorkbookFactory.create(fis);\r\n        Sheet s = wb.getSheet(sheetName);\r\n        Row r = s.getRow(rowNum);\r\n        Cell c = r.getCell(colNum);\r\n        retVal=(c.getStringCellValue());\r\n        } catch (FileNotFoundException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n        } catch (InvalidFormatException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n        } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n       }\r\n    fis.close();\r\n    wb.close();\r\n    return retVal;    \r\n    }\r\n\r\n","title":"Java - Apache POI - Read/Write .xlsx file - File getting corrupted and becomes empty","body":"<p>I faced this issue initially, solution is simple.</p>\n<p>I am writting only code line which u need to add <strong>fis.close();\nwb.close();</strong> before returning <strong>retval</strong></p>\n<pre><code>public String getExcelData(String sheetName, int rowNum, int colNum){\nString retVal = null;\ntry {\n    FileInputStream fis = new FileInputStream(&quot;/Absolute/File/Path/Test-File.xlsx&quot;);\n    Workbook wb = WorkbookFactory.create(fis);\n    Sheet s = wb.getSheet(sheetName);\n    Row r = s.getRow(rowNum);\n    Cell c = r.getCell(colNum);\n    retVal=(c.getStringCellValue());\n    } catch (FileNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n    } catch (InvalidFormatException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n    } catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n   }\nfis.close();\nwb.close();\nreturn retVal;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25889177,"reputation":3,"user_id":19616832,"display_name":"Subhaneil Sengupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659533819,"creation_date":1659533819,"answer_id":73222725,"question_id":34264120,"body_markdown":"Try this one out. I was facing the same issue but resolved it with below.\r\n\r\n    FileInputStream fis=new FileInputStream(-Location-);\r\n    --- do whatever you want to do --\r\n    fis.close();\r\n    FileOutputStream fos=new FileOutputStream(-Location-);\r\n    wb.write(fos);\r\n    fos.close();\r\n    wb.close();","title":"Java - Apache POI - Read/Write .xlsx file - File getting corrupted and becomes empty","body":"<p>Try this one out. I was facing the same issue but resolved it with below.</p>\n<pre><code>FileInputStream fis=new FileInputStream(-Location-);\n--- do whatever you want to do --\nfis.close();\nFileOutputStream fos=new FileOutputStream(-Location-);\nwb.write(fos);\nfos.close();\nwb.close();\n</code></pre>\n"}],"owner":{"account_id":1718515,"reputation":371,"user_id":1575067,"accept_rate":40,"display_name":"chivas_hvn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30920,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1659533819,"creation_date":1450087221,"question_id":34264120,"body_markdown":"I am using a Java program to read and write an existing .xlsx file(same file) but the file is getting corrupted, and the file size becomes zero bytes which is causing **&quot;org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)â**. \r\n\r\nOne more thing is - this is not happening consistently. The program is reading and writing to file properly most of the time but occurring once out of 10-15 runs. It would be helpful if anyone has a solution to this. BTW, am using Apache POI 3.13.\r\n\r\nRead File Program:\r\n\r\n    public String getExcelData(String sheetName, int rowNum, int colNum){\r\n    \tString retVal = null;\r\n    \ttry {\r\n    \t\tFileInputStream fis = new FileInputStream(&quot;/Absolute/File/Path/Test-File.xlsx&quot;);\r\n    \t\tWorkbook wb = WorkbookFactory.create(fis);\r\n    \t\tSheet s = wb.getSheet(sheetName);\r\n    \t\tRow r = s.getRow(rowNum);\r\n    \t\tCell c = r.getCell(colNum);\r\n    \t\tretVal=(c.getStringCellValue());\r\n    \t} catch (FileNotFoundException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (InvalidFormatException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn retVal;\r\n\r\nWrite File Program :\r\n\r\n    public void writeToExcel(String sheetName,int rowNum,int cellNum,String desc){\r\n    \ttry {\r\n    \t\tFileInputStream fis = new FileInputStream(&quot;/Absolute/File/Path/Test-File.xlsx&quot;);\r\n    \t\tWorkbook wb = WorkbookFactory.create(fis);\r\n    \t\tSheet s = wb.getSheet(sheetName);\r\n    \t\tRow r = s.getRow(rowNum);\r\n    \t\tCell c = r.createCell(cellNum);\r\n    \t\tc.setCellValue(desc);\r\n    \t\tFileOutputStream fos = new FileOutputStream(&quot;/Absolute/File/Path/Test-File.xlsx&quot;);\r\n    \t\twb.write(fos);\r\n    \t\tfos.close();\r\n    \t} catch (FileNotFoundException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (InvalidFormatException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nError Trace:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)\r\n    at org.apache.poi.util.IOUtils.peekFirst8Bytes(IOUtils.java:55)\r\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:201)\r\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:168)\r\n    at ExcelLibrary.getExcelData(ExcelLibrary.java:139)\r\n    at Driver.main(Driver.java:82)","title":"Java - Apache POI - Read/Write .xlsx file - File getting corrupted and becomes empty","body":"<p>I am using a Java program to read and write an existing .xlsx file(same file) but the file is getting corrupted, and the file size becomes zero bytes which is causing <strong>\"org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)â</strong>. </p>\n\n<p>One more thing is - this is not happening consistently. The program is reading and writing to file properly most of the time but occurring once out of 10-15 runs. It would be helpful if anyone has a solution to this. BTW, am using Apache POI 3.13.</p>\n\n<p>Read File Program:</p>\n\n<pre><code>public String getExcelData(String sheetName, int rowNum, int colNum){\n    String retVal = null;\n    try {\n        FileInputStream fis = new FileInputStream(\"/Absolute/File/Path/Test-File.xlsx\");\n        Workbook wb = WorkbookFactory.create(fis);\n        Sheet s = wb.getSheet(sheetName);\n        Row r = s.getRow(rowNum);\n        Cell c = r.getCell(colNum);\n        retVal=(c.getStringCellValue());\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (InvalidFormatException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return retVal;\n</code></pre>\n\n<p>Write File Program :</p>\n\n<pre><code>public void writeToExcel(String sheetName,int rowNum,int cellNum,String desc){\n    try {\n        FileInputStream fis = new FileInputStream(\"/Absolute/File/Path/Test-File.xlsx\");\n        Workbook wb = WorkbookFactory.create(fis);\n        Sheet s = wb.getSheet(sheetName);\n        Row r = s.getRow(rowNum);\n        Cell c = r.createCell(cellNum);\n        c.setCellValue(desc);\n        FileOutputStream fos = new FileOutputStream(\"/Absolute/File/Path/Test-File.xlsx\");\n        wb.write(fos);\n        fos.close();\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (InvalidFormatException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Error Trace:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.poi.EmptyFileException: The supplied file was empty (zero bytes long)\nat org.apache.poi.util.IOUtils.peekFirst8Bytes(IOUtils.java:55)\nat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:201)\nat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:168)\nat ExcelLibrary.getExcelData(ExcelLibrary.java:139)\nat Driver.main(Driver.java:82)\n</code></pre>\n"},{"tags":["java","rest","http","github"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1659532994,"post_id":73222431,"comment_id":129317324,"body_markdown":"you could clone the repo and then search inside it locally","body":"you could clone the repo and then search inside it locally"},{"owner":{"account_id":20583247,"reputation":58,"user_id":15108786,"display_name":"Marcus Rost"},"score":1,"creation_date":1659533539,"post_id":73222431,"comment_id":129317497,"body_markdown":"Yeah. That&#39;s not the problem. I&#39;m working anyway on a private repo. I&#39;m searching for a way of programmatically downloading files from Github","body":"Yeah. That&#39;s not the problem. I&#39;m working anyway on a private repo. I&#39;m searching for a way of programmatically downloading files from Github"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659533698,"creation_date":1659533698,"answer_id":73222696,"question_id":73222431,"body_markdown":"If you replace `github.com` by `raw.githubusercontent.com` and remove `/blob` from the URL (which you can do it dynamically of course), then you automatically get the URL of the &quot;raw&quot; view of the same file. \r\n\r\nHence, a simple HTTP GET call on that URL will contain the content of the file in the body: \r\n\r\n    @Test\r\n    public void test() throws IOException, InterruptedException {\r\n        String url = &quot;https://github.com/Call-for-Code/Project-Sample/blob/main/sample-static-web/css/styles.css&quot;;\r\n        System.out.println(getContent(url));\r\n    }\r\n\r\n    private String getContent(String url) throws IOException, InterruptedException {\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        String rawUrl = url.replace(&quot;github.com&quot;, &quot;raw.githubusercontent.com&quot;).replace(&quot;/blob&quot;, &quot;&quot;);\r\n        HttpRequest request = HttpRequest.newBuilder().uri(URI.create(rawUrl)).build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        return response.body();\r\n    }\r\n\r\nOf course, if the repository is private, you&#39;ll need to add an authentication to your HTTP request.\r\n\r\nP.s. in my example I&#39;m using Java 11&#39;s `java.net.*` Http client, but of course you can use whatever HTTP client you prefer (the concept is always the same).","title":"Get Content of agit respository","body":"<p>If you replace <code>github.com</code> by <code>raw.githubusercontent.com</code> and remove <code>/blob</code> from the URL (which you can do it dynamically of course), then you automatically get the URL of the &quot;raw&quot; view of the same file.</p>\n<p>Hence, a simple HTTP GET call on that URL will contain the content of the file in the body:</p>\n<pre><code>@Test\npublic void test() throws IOException, InterruptedException {\n    String url = &quot;https://github.com/Call-for-Code/Project-Sample/blob/main/sample-static-web/css/styles.css&quot;;\n    System.out.println(getContent(url));\n}\n\nprivate String getContent(String url) throws IOException, InterruptedException {\n    HttpClient client = HttpClient.newHttpClient();\n    String rawUrl = url.replace(&quot;github.com&quot;, &quot;raw.githubusercontent.com&quot;).replace(&quot;/blob&quot;, &quot;&quot;);\n    HttpRequest request = HttpRequest.newBuilder().uri(URI.create(rawUrl)).build();\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    return response.body();\n}\n</code></pre>\n<p>Of course, if the repository is private, you'll need to add an authentication to your HTTP request.</p>\n<p>P.s. in my example I'm using Java 11's <code>java.net.*</code> Http client, but of course you can use whatever HTTP client you prefer (the concept is always the same).</p>\n"}],"owner":{"account_id":20583247,"reputation":58,"user_id":15108786,"display_name":"Marcus Rost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73222696,"answer_count":1,"score":-2,"last_activity_date":1659533698,"creation_date":1659532558,"question_id":73222431,"body_markdown":"I need a way of getting the content of the GitHub repository in java.\r\nFor example I wanna download this file: [Example Repository][1]\r\n\r\nWith a method like this:\r\n\r\n    public String getRepository(String url) {\r\n        String result = // do somthing;\r\n        return result;\r\n    }\r\n\r\n   \r\nWhen We call it with \r\n\r\n      getRepository(&quot;github.com/Call-for-Code/Project-Sample/blob/main/sample-static-web/css/styles.css&quot;);\r\nIt shoukd return \r\n\r\n    &quot;/*\\n* Copyright 2020-2021 Daniel Krook\\n* \\n* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); \\n* you may not use this file except in compliance with the License. \\n* You may obtain a copy of the License at\\n* \\n* http://www.apache.org/licenses/LICENSE-2.0\\n* \\n* Unless required by applicable law or agreed to in writing, software\\n* distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n* See the License for the specific language governing permissions and\\n* limitations under the License.\\n*/&quot;\r\n\r\n\r\n  [1]: https://github.com/Call-for-Code/Project-Sample/blob/main/sample-static-web/css/styles.css","title":"Get Content of agit respository","body":"<p>I need a way of getting the content of the GitHub repository in java.\nFor example I wanna download this file: <a href=\"https://github.com/Call-for-Code/Project-Sample/blob/main/sample-static-web/css/styles.css\" rel=\"nofollow noreferrer\">Example Repository</a></p>\n<p>With a method like this:</p>\n<pre><code>public String getRepository(String url) {\n    String result = // do somthing;\n    return result;\n}\n</code></pre>\n<p>When We call it with</p>\n<pre><code>  getRepository(&quot;github.com/Call-for-Code/Project-Sample/blob/main/sample-static-web/css/styles.css&quot;);\n</code></pre>\n<p>It shoukd return</p>\n<pre><code>&quot;/*\\n* Copyright 2020-2021 Daniel Krook\\n* \\n* Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); \\n* you may not use this file except in compliance with the License. \\n* You may obtain a copy of the License at\\n* \\n* http://www.apache.org/licenses/LICENSE-2.0\\n* \\n* Unless required by applicable law or agreed to in writing, software\\n* distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n* See the License for the specific language governing permissions and\\n* limitations under the License.\\n*/&quot;\n</code></pre>\n"},{"tags":["java","jms","spring-jms","activemq-artemis","jms-topic"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659533301,"creation_date":1659533301,"answer_id":73222590,"question_id":73221598,"body_markdown":"What you&#39;re seeing is the expected behavior. Generally speaking, a subscriber has to be _connected_ to the broker in order to receive messages. This is traditional publish/subscribe semantics.\r\n\r\nYou can change this behavior by using a **durable** subscription (use `setSubscriptionDurable(true)` on your instance of `DefaultJmsListenerContainerFactory`). However, this can be problematic if subscribers disconnect for an extended period of time as messages will accumulate in their subscriptions.","title":"Guaranteed Delivery with JMS topics and ActiveMQ Artemis","body":"<p>What you're seeing is the expected behavior. Generally speaking, a subscriber has to be <em>connected</em> to the broker in order to receive messages. This is traditional publish/subscribe semantics.</p>\n<p>You can change this behavior by using a <strong>durable</strong> subscription (use <code>setSubscriptionDurable(true)</code> on your instance of <code>DefaultJmsListenerContainerFactory</code>). However, this can be problematic if subscribers disconnect for an extended period of time as messages will accumulate in their subscriptions.</p>\n"}],"owner":{"account_id":1214804,"reputation":1085,"user_id":1182619,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73222590,"answer_count":1,"score":0,"last_activity_date":1659533543,"creation_date":1659529090,"question_id":73221598,"body_markdown":"I&#39;m discovering the whole JMS world, and for now every time I have tried to use a topic (pub/sub) I ultimately switched to a queue and either used a recipient-list pattern or directly performed the various computations in the consumer (which transaction-wise is not ideal, but I&#39;m not sure if defining plenty of queues is a better practice).\r\n\r\nI need to be sure all subscribers will get all the messages, and as I configured it that doesn&#39;t seems to be compatible with topics.\r\n\r\nI&#39;m using an embedded ActiveMQ Artemis configuration (so no console, which doesn&#39;t help debugging), and Spring JMS. My `broker.xml` looks as follow:\r\n\r\n``` xml\r\n&lt;configuration\r\n    xmlns=&quot;urn:activemq&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;urn:activemq /schema/artemis-server.xsd&quot;&gt;\r\n\r\n    &lt;jms xmlns=&quot;urn:activemq:jms&quot;&gt;\r\n    &lt;/jms&gt;\r\n    &lt;core xmlns=&quot;urn:activemq:core&quot;&gt;\r\n\r\n        &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;\r\n        &lt;security-enabled&gt;false&lt;/security-enabled&gt;\r\n\r\n        &lt;acceptors&gt;\r\n            &lt;acceptor name=&quot;in-vm&quot;&gt;vm://0&lt;/acceptor&gt;\r\n        &lt;/acceptors&gt;\r\n\r\n        &lt;address-settings&gt;\r\n            &lt;address-setting match=&quot;#&quot;&gt;\r\n                &lt;!-- all queues have redelivery --&gt;\r\n                &lt;redelivery-delay&gt;200&lt;/redelivery-delay&gt;\r\n                &lt;max-redelivery-delay&gt;60000&lt;/max-redelivery-delay&gt;\r\n                &lt;redelivery-delay-multiplier&gt;1.5&lt;/redelivery-delay-multiplier&gt;\r\n                &lt;redelivery-collision-avoidance-factor&gt;0.15&lt;/redelivery-collision-avoidance-factor&gt;\r\n                &lt;!-- all queues have dead-letters --&gt;\r\n                &lt;max-delivery-attempts&gt;10&lt;/max-delivery-attempts&gt;\r\n                &lt;auto-create-dead-letter-resources&gt;true&lt;/auto-create-dead-letter-resources&gt;\r\n            &lt;/address-setting&gt;\r\n        &lt;/address-settings&gt;\r\n    &lt;/core&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nMy `jmsListenerContainerFactory` is defined as follow:\r\n\r\n``` java\r\nDefaultJmsListenerContainerFactory listenerContainerFactory = new DefaultJmsListenerContainerFactory();\r\nlistenerContainerFactory.setConnectionFactory(aConnectionFactory);\r\nlistenerContainerFactory.setDestinationResolver(aDestinationResolver);\r\nlistenerContainerFactory.setSessionTransacted(true);\r\nlistenerContainerFactory.setSessionAcknowledgeMode(JMSContext.SESSION_TRANSACTED);\r\nlistenerContainerFactory.setMessageConverter(aMessageConverter);\r\nlistenerContainerFactory.setTransactionManager(aTransactionManager);\r\nreturn listenerContainerFactory;\r\n```\r\n\r\nMy consumers are `@Jmslistener` annotated methods in various classes (sometime multiple for one topic in the same class if that matters).\r\n\r\nIt seems to me as if the messages are not always sent to all the consumers. Or as if the consumers would disconnect themselves from the topic while processing a message.\r\n\r\nThe behavior is consistent and happens 100% of the time on a test.\r\n\r\nDid I missed something big, or aren&#39;t topics meant for reliable communication?","title":"Guaranteed Delivery with JMS topics and ActiveMQ Artemis","body":"<p>I'm discovering the whole JMS world, and for now every time I have tried to use a topic (pub/sub) I ultimately switched to a queue and either used a recipient-list pattern or directly performed the various computations in the consumer (which transaction-wise is not ideal, but I'm not sure if defining plenty of queues is a better practice).</p>\n<p>I need to be sure all subscribers will get all the messages, and as I configured it that doesn't seems to be compatible with topics.</p>\n<p>I'm using an embedded ActiveMQ Artemis configuration (so no console, which doesn't help debugging), and Spring JMS. My <code>broker.xml</code> looks as follow:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration\n    xmlns=&quot;urn:activemq&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;urn:activemq /schema/artemis-server.xsd&quot;&gt;\n\n    &lt;jms xmlns=&quot;urn:activemq:jms&quot;&gt;\n    &lt;/jms&gt;\n    &lt;core xmlns=&quot;urn:activemq:core&quot;&gt;\n\n        &lt;persistence-enabled&gt;true&lt;/persistence-enabled&gt;\n        &lt;security-enabled&gt;false&lt;/security-enabled&gt;\n\n        &lt;acceptors&gt;\n            &lt;acceptor name=&quot;in-vm&quot;&gt;vm://0&lt;/acceptor&gt;\n        &lt;/acceptors&gt;\n\n        &lt;address-settings&gt;\n            &lt;address-setting match=&quot;#&quot;&gt;\n                &lt;!-- all queues have redelivery --&gt;\n                &lt;redelivery-delay&gt;200&lt;/redelivery-delay&gt;\n                &lt;max-redelivery-delay&gt;60000&lt;/max-redelivery-delay&gt;\n                &lt;redelivery-delay-multiplier&gt;1.5&lt;/redelivery-delay-multiplier&gt;\n                &lt;redelivery-collision-avoidance-factor&gt;0.15&lt;/redelivery-collision-avoidance-factor&gt;\n                &lt;!-- all queues have dead-letters --&gt;\n                &lt;max-delivery-attempts&gt;10&lt;/max-delivery-attempts&gt;\n                &lt;auto-create-dead-letter-resources&gt;true&lt;/auto-create-dead-letter-resources&gt;\n            &lt;/address-setting&gt;\n        &lt;/address-settings&gt;\n    &lt;/core&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My <code>jmsListenerContainerFactory</code> is defined as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultJmsListenerContainerFactory listenerContainerFactory = new DefaultJmsListenerContainerFactory();\nlistenerContainerFactory.setConnectionFactory(aConnectionFactory);\nlistenerContainerFactory.setDestinationResolver(aDestinationResolver);\nlistenerContainerFactory.setSessionTransacted(true);\nlistenerContainerFactory.setSessionAcknowledgeMode(JMSContext.SESSION_TRANSACTED);\nlistenerContainerFactory.setMessageConverter(aMessageConverter);\nlistenerContainerFactory.setTransactionManager(aTransactionManager);\nreturn listenerContainerFactory;\n</code></pre>\n<p>My consumers are <code>@Jmslistener</code> annotated methods in various classes (sometime multiple for one topic in the same class if that matters).</p>\n<p>It seems to me as if the messages are not always sent to all the consumers. Or as if the consumers would disconnect themselves from the topic while processing a message.</p>\n<p>The behavior is consistent and happens 100% of the time on a test.</p>\n<p>Did I missed something big, or aren't topics meant for reliable communication?</p>\n"},{"tags":["java","soap","jax-ws","wsimport"],"comments":[{"owner":{"account_id":5697872,"reputation":697,"user_id":4503858,"display_name":"Edwardth"},"score":0,"creation_date":1497634961,"post_id":44594940,"comment_id":76178092,"body_markdown":"Is this the generated code?","body":"Is this the generated code?"},{"owner":{"account_id":3514399,"reputation":97,"user_id":2938186,"accept_rate":80,"display_name":"Sarvesh Tank"},"score":0,"creation_date":1497635309,"post_id":44594940,"comment_id":76178276,"body_markdown":"Yes.. but it&#39;s not complete code.. complete code has 140 classes..it&#39;s just a snippet","body":"Yes.. but it&#39;s not complete code.. complete code has 140 classes..it&#39;s just a snippet"},{"owner":{"account_id":5697872,"reputation":697,"user_id":4503858,"display_name":"Edwardth"},"score":0,"creation_date":1497635472,"post_id":44594940,"comment_id":76178340,"body_markdown":"Does the problem only occur when you generate the code in netbeans or also when you use wsimport on the console?","body":"Does the problem only occur when you generate the code in netbeans or also when you use wsimport on the console?"},{"owner":{"account_id":3514399,"reputation":97,"user_id":2938186,"accept_rate":80,"display_name":"Sarvesh Tank"},"score":0,"creation_date":1497635577,"post_id":44594940,"comment_id":76178410,"body_markdown":"Its same when I execute wsimport from console also","body":"Its same when I execute wsimport from console also"},{"owner":{"account_id":5697872,"reputation":697,"user_id":4503858,"display_name":"Edwardth"},"score":0,"creation_date":1497635617,"post_id":44594940,"comment_id":76178430,"body_markdown":"Can you post the wsdl file?","body":"Can you post the wsdl file?"},{"owner":{"account_id":3514399,"reputation":97,"user_id":2938186,"accept_rate":80,"display_name":"Sarvesh Tank"},"score":0,"creation_date":1497635754,"post_id":44594940,"comment_id":76178500,"body_markdown":"It&#39;s local to my system. Moreover it&#39;s from client system. Hence I can&#39;t post it..","body":"It&#39;s local to my system. Moreover it&#39;s from client system. Hence I can&#39;t post it.."},{"owner":{"account_id":5697872,"reputation":697,"user_id":4503858,"display_name":"Edwardth"},"score":0,"creation_date":1497635918,"post_id":44594940,"comment_id":76178583,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/146901/discussion-between-edwardth-and-sarvesh-tank).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/146901/discussion-between-edwardth-and-sarvesh-tank\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":14188489,"reputation":1,"user_id":10249827,"display_name":"AmITKumar Bhanje AmITKumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659533405,"creation_date":1659533347,"answer_id":73222602,"question_id":44594940,"body_markdown":"\r\nYou need to include a jaxb xjc extension library in your build classpath and use the -Xsetters xjcArg. This will cause your generated stubs to have setters for your List objects.\r\n\r\nFor Maven users with the jaxws-maven-plugin, it looks like this:\r\n\r\n      &lt;!-- generates webservice client stubs using wsimport --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;wsdlDirectory&gt;${basedir}/src/main/resources/${resources-folder}/wsdl/v1&lt;/wsdlDirectory&gt;\r\n                        &lt;wsdlFile&gt;${wsdlFileName}&lt;/wsdlFile&gt;\r\n                        &lt;bindingFiles&gt;\r\n                            &lt;bindingFile&gt;${basedir}/src/main/resources/jaxb-bindings.xml&lt;/bindingFile&gt;\r\n                        &lt;/bindingFiles&gt;\r\n                        &lt;vmArgs&gt;\r\n                            &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt; &lt;!-- necessary for JDK 8 --&gt;\r\n                        &lt;/vmArgs&gt;\r\n                        &lt;xjcArgs&gt;\r\n                            &lt;xjcArg&gt;-Xsetters&lt;/xjcArg&gt;\r\n                        &lt;/xjcArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;!-- put xjc-plugins on the jaxws-maven-plugin&#39;s classpath --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.9.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;  \r\nAnd for Maven users with the cxf-codegen-plugin it looks like this:\r\n\r\n        &lt;!-- generates webservice client stubs using CXF framework--&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;generate-sources&lt;/id&gt;\r\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;sourceRoot&gt;${project.build.directory}/generated-sources/cxf&lt;/sourceRoot&gt;\r\n                        &lt;wsdlOptions&gt;\r\n                            &lt;wsdlOption&gt;\r\n                                &lt;wsdl&gt;${adapter.api.wsdlFileName}&lt;/wsdl&gt;\r\n                                &lt;bindingFiles&gt;\r\n                                    &lt;bindingFile&gt;${basedir}/src/main/resources/jaxb-bindings.xml&lt;/bindingFile&gt;\r\n                                &lt;/bindingFiles&gt;\r\n                                &lt;extraargs&gt;\r\n                                    &lt;extraarg&gt;-xjc-Xsetters&lt;/extraarg&gt;&lt;!-- needed so that setters for lists are generated --&gt;\r\n                                &lt;/extraargs&gt;\r\n                            &lt;/wsdlOption&gt;\r\n                        &lt;/wsdlOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;!-- plugin needed to customize cxf genrated classes --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.9.4&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;","title":"WSImport Not generating code for not required element","body":"<p>You need to include a jaxb xjc extension library in your build classpath and use the -Xsetters xjcArg. This will cause your generated stubs to have setters for your List objects.</p>\n<p>For Maven users with the jaxws-maven-plugin, it looks like this:</p>\n<pre><code>  &lt;!-- generates webservice client stubs using wsimport --&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;wsdlDirectory&gt;${basedir}/src/main/resources/${resources-folder}/wsdl/v1&lt;/wsdlDirectory&gt;\n                    &lt;wsdlFile&gt;${wsdlFileName}&lt;/wsdlFile&gt;\n                    &lt;bindingFiles&gt;\n                        &lt;bindingFile&gt;${basedir}/src/main/resources/jaxb-bindings.xml&lt;/bindingFile&gt;\n                    &lt;/bindingFiles&gt;\n                    &lt;vmArgs&gt;\n                        &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt; &lt;!-- necessary for JDK 8 --&gt;\n                    &lt;/vmArgs&gt;\n                    &lt;xjcArgs&gt;\n                        &lt;xjcArg&gt;-Xsetters&lt;/xjcArg&gt;\n                    &lt;/xjcArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;!-- put xjc-plugins on the jaxws-maven-plugin's classpath --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\n                &lt;version&gt;0.9.5&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;  \n</code></pre>\n<p>And for Maven users with the cxf-codegen-plugin it looks like this:</p>\n<pre><code>    &lt;!-- generates webservice client stubs using CXF framework--&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;generate-sources&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;sourceRoot&gt;${project.build.directory}/generated-sources/cxf&lt;/sourceRoot&gt;\n                    &lt;wsdlOptions&gt;\n                        &lt;wsdlOption&gt;\n                            &lt;wsdl&gt;${adapter.api.wsdlFileName}&lt;/wsdl&gt;\n                            &lt;bindingFiles&gt;\n                                &lt;bindingFile&gt;${basedir}/src/main/resources/jaxb-bindings.xml&lt;/bindingFile&gt;\n                            &lt;/bindingFiles&gt;\n                            &lt;extraargs&gt;\n                                &lt;extraarg&gt;-xjc-Xsetters&lt;/extraarg&gt;&lt;!-- needed so that setters for lists are generated --&gt;\n                            &lt;/extraargs&gt;\n                        &lt;/wsdlOption&gt;\n                    &lt;/wsdlOptions&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;!-- plugin needed to customize cxf genrated classes --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\n                &lt;version&gt;0.9.4&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3514399,"reputation":97,"user_id":2938186,"accept_rate":80,"display_name":"Sarvesh Tank"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659533405,"creation_date":1497634163,"question_id":44594940,"body_markdown":"I have a wsdl file while creating a client in netbeans it is not generating setter method for not required methods.\r\n\r\nfor example:\r\n\r\n\t@XmlAccessorType(value = XmlAccessType.FIELD)\r\n\t@XmlType(name = &quot;&quot;, propOrder = {&quot;jobPackageName&quot;, &quot;jobDefinitionName&quot;, &quot;paramList&quot;})\r\n\t@XmlRootElement(name = &quot;submitESSJobRequest&quot;)\r\n\tpublic class SubmitESSJobRequest {\r\n\r\n\t\t@XmlElement(required = true)\r\n\t\tprotected String jobPackageName;\r\n\t\t@XmlElement(required = true)\r\n\t\tprotected String jobDefinitionName;\r\n\t\tprotected List&lt;String&gt; paramList;\r\n\r\n\t\tpublic SubmitESSJobRequest() {\r\n\t\t}\r\n\r\n\t\tpublic String getJobPackageName() {\r\n\t\t}\r\n\r\n\t\tpublic void setJobPackageName(String string) {\r\n\t\t}\r\n\r\n\t\tpublic String getJobDefinitionName() {\r\n\t\t}\r\n\r\n\t\tpublic void setJobDefinitionName(String string) {\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic List&lt;String&gt; getParamList() {\r\n\t\t}\r\n\t}\r\n\r\n\r\nhere setter for paramList is not created. \r\n**How to set value of paramList?**","title":"WSImport Not generating code for not required element","body":"<p>I have a wsdl file while creating a client in netbeans it is not generating setter method for not required methods.</p>\n\n<p>for example:</p>\n\n<pre><code>@XmlAccessorType(value = XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\"jobPackageName\", \"jobDefinitionName\", \"paramList\"})\n@XmlRootElement(name = \"submitESSJobRequest\")\npublic class SubmitESSJobRequest {\n\n    @XmlElement(required = true)\n    protected String jobPackageName;\n    @XmlElement(required = true)\n    protected String jobDefinitionName;\n    protected List&lt;String&gt; paramList;\n\n    public SubmitESSJobRequest() {\n    }\n\n    public String getJobPackageName() {\n    }\n\n    public void setJobPackageName(String string) {\n    }\n\n    public String getJobDefinitionName() {\n    }\n\n    public void setJobDefinitionName(String string) {\n\n    }\n\n    public List&lt;String&gt; getParamList() {\n    }\n}\n</code></pre>\n\n<p>here setter for paramList is not created. \n<strong>How to set value of paramList?</strong></p>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1659468308,"post_id":73212653,"comment_id":129300817,"body_markdown":"What does the method `processEmails` do?","body":"What does the method <code>processEmails</code> do?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1659468419,"post_id":73212653,"comment_id":129300848,"body_markdown":"Your input `emails` contains duplicate values, so isn&#39;t suitable to add to a Map unless you resolve merging the values for matched keys or filter the duplicates.","body":"Your input <code>emails</code> contains duplicate values, so isn&#39;t suitable to add to a Map unless you resolve merging the values for matched keys or filter the duplicates."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659468318,"creation_date":1659468318,"answer_id":73212762,"question_id":73212653,"body_markdown":"You have duplicate emails. The `toMap` version you&#39;re using explicitly doesn&#39;t allow duplicate keys. Use the `toMap` that takes a merge function. How to merge those `processEmails` results depends on your business logic.\r\n\r\nAlternatively, use `distinct()` before collecting, because otherwise you&#39;ll probably end up sending some people multiple emails.","title":"How to fix Duplicate Key IllegalStateException while using Collectors.toMap()","body":"<p>You have duplicate emails. The <code>toMap</code> version you're using explicitly doesn't allow duplicate keys. Use the <code>toMap</code> that takes a merge function. How to merge those <code>processEmails</code> results depends on your business logic.</p>\n<p>Alternatively, use <code>distinct()</code> before collecting, because otherwise you'll probably end up sending some people multiple emails.</p>\n"},{"tags":[],"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659468445,"creation_date":1659468445,"answer_id":73212783,"question_id":73212653,"body_markdown":"try using  \r\n\r\n    Collectors.toMap(Function keyFuntion, Function valueFunction, BinaryOperator mergeFunction)\r\n\r\nYou obviously have to write your own merge logic, a simple mergeFunction could be \r\n\r\n    (x1, x2) -&gt; x1 ","title":"How to fix Duplicate Key IllegalStateException while using Collectors.toMap()","body":"<p>try using</p>\n<pre><code>Collectors.toMap(Function keyFuntion, Function valueFunction, BinaryOperator mergeFunction)\n</code></pre>\n<p>You obviously have to write your own merge logic, a simple mergeFunction could be</p>\n<pre><code>(x1, x2) -&gt; x1 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659474063,"creation_date":1659469550,"answer_id":73212969,"question_id":73212653,"body_markdown":"The flavor of `toMap()` you&#39;re using in your code (which expects only `keyMapper` and `valueMapper`) disallow duplicates merely because it&#39;s not capable to handle them. And exception message explicitly tells you that.\r\n\r\n*Judging by the resulting type `Map&lt;String, List&lt;String&gt;&gt;` and by the exception message which shows strings enclosed in square brackets, it is possible to make the conclusion that `processEmails(email)` produces a `List&lt;String&gt;` (although it&#39;s not obvious from your description and IMO worth specifying).*\r\n\r\nThere are multiple ways to solve this problem, you can either:\r\n\r\n*  Use this another version of [`toMap(keyMapper,valueMapper,mergeFunction)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)) which requires the third argument, `mergeFunction` - a *function* responsible for resolving duplicates. \r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map = emails.stream()\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        email -&gt; processEmails(email),\r\n        (list1, list2) -&gt; list1 // or { list1.addAll(list2); return list1} depending on the your logic of resolving duplicates you need\r\n    ));\r\n```\r\n\r\n* Make use of the *collector* [`groupingBy(classifier,downstream)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) to preserve all the *emails* retrieved by `processEmails()` that are associated with the same *key* by storing them into a `List`. As a *downstream collector* we could utilize a combination of collectors [`flatMapping()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)) and `toList()`.\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map = emails.stream()\r\n            .collect(Collectors.groupingBy(\r\n                Function.identity(),\r\n                Collectors.flatMapping(email -&gt; processEmails(email).stream(),\r\n                    Collectors.toList())\r\n            ));\r\n```\r\n***Note*** that the later option would make sense only if `processEmails()` somehow generates different results for the same key, otherwise you would end up with a list of repeated values which doesn&#39;t seem to be useful.\r\n\r\nBut what you definitely **shouldn&#39;t** do in this case is to use `distinct()`. It&#39;ll unnecessarily increase the memory consumption because it eliminates the duplicates by maintaining a `LinkedHashSet` under the hood. It would be wasteful because you&#39;re already using `Map` which is capable to deal with duplicated keys.","title":"How to fix Duplicate Key IllegalStateException while using Collectors.toMap()","body":"<p>The flavor of <code>toMap()</code> you're using in your code (which expects only <code>keyMapper</code> and <code>valueMapper</code>) disallow duplicates merely because it's not capable to handle them. And exception message explicitly tells you that.</p>\n<p><em>Judging by the resulting type <code>Map&lt;String, List&lt;String&gt;&gt;</code> and by the exception message which shows strings enclosed in square brackets, it is possible to make the conclusion that <code>processEmails(email)</code> produces a <code>List&lt;String&gt;</code> (although it's not obvious from your description and IMO worth specifying).</em></p>\n<p>There are multiple ways to solve this problem, you can either:</p>\n<ul>\n<li>Use this another version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap(keyMapper,valueMapper,mergeFunction)</code></a> which requires the third argument, <code>mergeFunction</code> - a <em>function</em> responsible for resolving duplicates.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = emails.stream()\n    .collect(Collectors.toMap(\n        Function.identity(),\n        email -&gt; processEmails(email),\n        (list1, list2) -&gt; list1 // or { list1.addAll(list2); return list1} depending on the your logic of resolving duplicates you need\n    ));\n</code></pre>\n<ul>\n<li>Make use of the <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy(classifier,downstream)</code></a> to preserve all the <em>emails</em> retrieved by <code>processEmails()</code> that are associated with the same <em>key</em> by storing them into a <code>List</code>. As a <em>downstream collector</em> we could utilize a combination of collectors <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>flatMapping()</code></a> and <code>toList()</code>.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = emails.stream()\n            .collect(Collectors.groupingBy(\n                Function.identity(),\n                Collectors.flatMapping(email -&gt; processEmails(email).stream(),\n                    Collectors.toList())\n            ));\n</code></pre>\n<p><em><strong>Note</strong></em> that the later option would make sense only if <code>processEmails()</code> somehow generates different results for the same key, otherwise you would end up with a list of repeated values which doesn't seem to be useful.</p>\n<p>But what you definitely <strong>shouldn't</strong> do in this case is to use <code>distinct()</code>. It'll unnecessarily increase the memory consumption because it eliminates the duplicates by maintaining a <code>LinkedHashSet</code> under the hood. It would be wasteful because you're already using <code>Map</code> which is capable to deal with duplicated keys.</p>\n"}],"owner":{"account_id":12363836,"reputation":509,"user_id":9016872,"display_name":"Jainam Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4194,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73212969,"answer_count":3,"score":0,"last_activity_date":1659533256,"creation_date":1659467675,"question_id":73212653,"body_markdown":"I have a stream that processes some strings and collects them in a map.\r\n\r\nBut getting the following exception:\r\n\r\n```\r\njava.lang.IllegalStateException:\r\nDuplicate key test@yahoo.com\r\n(attempted merging values [test@yahoo.com] and [test@yahoo.com])\r\nat java.base/java.util.stream.Collectors.duplicateKeyException(Collectors.java:133)\r\n```\r\n\r\nI&#39;m using the following code:\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map = emails.stream()\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        email -&gt; processEmails(email)\r\n    ));\r\n```","title":"How to fix Duplicate Key IllegalStateException while using Collectors.toMap()","body":"<p>I have a stream that processes some strings and collects them in a map.</p>\n<p>But getting the following exception:</p>\n<pre><code>java.lang.IllegalStateException:\nDuplicate key test@yahoo.com\n(attempted merging values [test@yahoo.com] and [test@yahoo.com])\nat java.base/java.util.stream.Collectors.duplicateKeyException(Collectors.java:133)\n</code></pre>\n<p>I'm using the following code:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = emails.stream()\n    .collect(Collectors.toMap(\n        Function.identity(),\n        email -&gt; processEmails(email)\n    ));\n</code></pre>\n"},{"tags":["java","intellij-idea","compilation"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659521698,"post_id":73219919,"comment_id":129313026,"body_markdown":"Welcome to StackOverflow. You are calling `valueOf()` on an `enum` named `Size` somewhere, and passing it an invalid value. Without seeing your source code, it&#39;s impossible to give you a more detailed answer - so post your source code if you need to know more details.","body":"Welcome to StackOverflow. You are calling <code>valueOf()</code> on an <code>enum</code> named <code>Size</code> somewhere, and passing it an invalid value. Without seeing your source code, it&#39;s impossible to give you a more detailed answer - so post your source code if you need to know more details."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659523162,"creation_date":1659521721,"answer_id":73219987,"question_id":73219919,"body_markdown":"1. It&#39;s not a compilation error but a runtime error (i.e. it was discovered when running the program but the syntax of your code is correct)\r\n2. The error is on line 158 of FindAShirt.java as indicated in [the stacktrace you posted][1]\r\n3. It seems that you call something like `Size.valueOf(&quot;somesize&quot;)` on that line and `somesize` is not a valid value for the `Size` enum.\r\n4. You need to include the code in your question to get the best answers. See: https://stackoverflow.com/help/minimal-reproducible-example\r\n\r\nNow that you have posted your code, I suggest you make it more error-proof with this:\r\n\r\n    Size size;\r\n    try {\r\n      size = Size.valueOf(elements[2]);\r\n    } catch (IllegalArgumentException e) {\r\n      System.out.println(elements[2] + &quot; is not a valid Size&quot;);\r\n      //and here you may want to exit or use a default value etc.\r\n    }\r\n\r\n[1]: https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","title":"Using IntelliJ Java Code has minimal errors but won&#39;t compile? Not sure how to fix. (Newbie)","body":"<ol>\n<li>It's not a compilation error but a runtime error (i.e. it was discovered when running the program but the syntax of your code is correct)</li>\n<li>The error is on line 158 of FindAShirt.java as indicated in <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">the stacktrace you posted</a></li>\n<li>It seems that you call something like <code>Size.valueOf(&quot;somesize&quot;)</code> on that line and <code>somesize</code> is not a valid value for the <code>Size</code> enum.</li>\n<li>You need to include the code in your question to get the best answers. See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">https://stackoverflow.com/help/minimal-reproducible-example</a></li>\n</ol>\n<p>Now that you have posted your code, I suggest you make it more error-proof with this:</p>\n<pre><code>Size size;\ntry {\n  size = Size.valueOf(elements[2]);\n} catch (IllegalArgumentException e) {\n  System.out.println(elements[2] + &quot; is not a valid Size&quot;);\n  //and here you may want to exit or use a default value etc.\n}\n</code></pre>\n"}],"owner":{"account_id":25966280,"reputation":23,"user_id":19682190,"display_name":"idndns"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73219987,"answer_count":1,"score":2,"last_activity_date":1659533125,"creation_date":1659521408,"question_id":73219919,"body_markdown":"This is what I am getting after I compile my code but it doesn&#39;t come up with any errors when I am actually typing my code. So when I think it is all good to go and good to run it doesn&#39;t work. Any help would be appreciated. I&#39;m still really new to Java. \r\n\r\n   \r\n```none\r\n Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant      Size.34.96\r\n\tat java.base/java.lang.Enum.valueOf(Enum.java:273)\r\n\tat Size.valueOf(Size.java:5)\r\n\tat FindAShirt.loadShirt(FindAShirt.java:158)\r\n\tat FindAShirt.main(FindAShirt.java:22)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n    public record Shirt (String productName, long productCodeNumber, int price, String brand, Size size, int minPrice, int maxPrice) {\r\n        /**\r\n         * constructor to create a Shirt object\r\n         *\r\n         * @param productName       the shirt&#39;s name\r\n         * @param productCodeNumber the shirt&#39;s code number - unique 9-digit number\r\n         * @param price             the shirt&#39;s price\r\n         * @param brand             the shirt&#39;s brand\r\n         * @param size              the shirt&#39;s size\r\n         * @param minPrice          the users min price they will pay for a shirt\r\n         * @param maxPrice          the users max price they will pay for a shirt\r\n         */\r\n        public Shirt {\r\n        }\r\n    //getters\r\n\r\n    /**\r\n     * @return the shirt&#39;s name\r\n     */\r\n    public String productName() {\r\n        return productName;\r\n    }\r\n\r\n    /**\r\n     * @return the shirt&#39;s code number - unique 9-digit number\r\n     */\r\n\r\n    public long productCodeNumber() {\r\n        return productCodeNumber;\r\n    }\r\n\r\n    /**\r\n     * @return the shirt&#39;s price\r\n     */\r\n\r\n    public int price() {\r\n        return price;\r\n    }\r\n\r\n    /**\r\n     * @return the shirt&#39;s brand\r\n     */\r\n\r\n    public String brand() {\r\n        return brand;\r\n    }\r\n\r\n\r\n    /**\r\n     * @return the shirt&#39;s size via enum\r\n     */\r\n\r\n    public Size size() {\r\n        return size;\r\n    }\r\n\r\n    //create min and max price setters and getters\r\n\r\n    /**\r\n     * @return a &#39;dream&#39; shirt&#39;s min price\r\n     */\r\n    public int minPrice() {\r\n        return minPrice;\r\n    }\r\n\r\n    /**\r\n     * @return a &#39;dream&#39; shirt&#39;s max price\r\n     */\r\n    public int maxPrice() {\r\n        return maxPrice;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * enum representing the 8 t-shirt sizes that the geek store stocks\r\n     */\r\n    enum Size {\r\n        XS, S, M, L, XL, XXL, XXXL, XXXXL;\r\n    \r\n        public String toString() {\r\n            return switch (this) {\r\n                case XS -&gt; &quot;Extra Small&quot;;\r\n                case S -&gt; &quot;Small&quot;;\r\n                case M -&gt; &quot;Medium&quot;;\r\n                case L -&gt; &quot;Large&quot;;\r\n                case XL -&gt; &quot;Extra Large&quot;;\r\n                case XXL -&gt; &quot;2XL&quot;;\r\n                case XXXL -&gt; &quot;3XL&quot;;\r\n                case XXXXL -&gt; &quot;4XL&quot;;\r\n            };\r\n        }\r\n    }\r\n\r\n\r\nPlease let me know if adding the code helps. They are all sectioned into parts just like I have them in IntelliJ.\r\n\r\n","title":"Using IntelliJ Java Code has minimal errors but won&#39;t compile? Not sure how to fix. (Newbie)","body":"<p>This is what I am getting after I compile my code but it doesn't come up with any errors when I am actually typing my code. So when I think it is all good to go and good to run it doesn't work. Any help would be appreciated. I'm still really new to Java.</p>\n<pre class=\"lang-none prettyprint-override\"><code> Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant      Size.34.96\n    at java.base/java.lang.Enum.valueOf(Enum.java:273)\n    at Size.valueOf(Size.java:5)\n    at FindAShirt.loadShirt(FindAShirt.java:158)\n    at FindAShirt.main(FindAShirt.java:22)\n\nProcess finished with exit code 1\n</code></pre>\n<pre><code>public record Shirt (String productName, long productCodeNumber, int price, String brand, Size size, int minPrice, int maxPrice) {\n    /**\n     * constructor to create a Shirt object\n     *\n     * @param productName       the shirt's name\n     * @param productCodeNumber the shirt's code number - unique 9-digit number\n     * @param price             the shirt's price\n     * @param brand             the shirt's brand\n     * @param size              the shirt's size\n     * @param minPrice          the users min price they will pay for a shirt\n     * @param maxPrice          the users max price they will pay for a shirt\n     */\n    public Shirt {\n    }\n//getters\n\n/**\n * @return the shirt's name\n */\npublic String productName() {\n    return productName;\n}\n\n/**\n * @return the shirt's code number - unique 9-digit number\n */\n\npublic long productCodeNumber() {\n    return productCodeNumber;\n}\n\n/**\n * @return the shirt's price\n */\n\npublic int price() {\n    return price;\n}\n\n/**\n * @return the shirt's brand\n */\n\npublic String brand() {\n    return brand;\n}\n\n\n/**\n * @return the shirt's size via enum\n */\n\npublic Size size() {\n    return size;\n}\n\n//create min and max price setters and getters\n\n/**\n * @return a 'dream' shirt's min price\n */\npublic int minPrice() {\n    return minPrice;\n}\n\n/**\n * @return a 'dream' shirt's max price\n */\npublic int maxPrice() {\n    return maxPrice;\n}\n\n\n\n/**\n * enum representing the 8 t-shirt sizes that the geek store stocks\n */\nenum Size {\n    XS, S, M, L, XL, XXL, XXXL, XXXXL;\n\n    public String toString() {\n        return switch (this) {\n            case XS -&gt; &quot;Extra Small&quot;;\n            case S -&gt; &quot;Small&quot;;\n            case M -&gt; &quot;Medium&quot;;\n            case L -&gt; &quot;Large&quot;;\n            case XL -&gt; &quot;Extra Large&quot;;\n            case XXL -&gt; &quot;2XL&quot;;\n            case XXXL -&gt; &quot;3XL&quot;;\n            case XXXXL -&gt; &quot;4XL&quot;;\n        };\n    }\n}\n</code></pre>\n<p>Please let me know if adding the code helps. They are all sectioned into parts just like I have them in IntelliJ.</p>\n"},{"tags":["java","arduino","rxtx"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1659496234,"post_id":73215759,"comment_id":129306360,"body_markdown":"The error literally says: &quot;Run with --stacktrace option to get the stack trace.  Run with --scan to get full insights.&quot; â you should do exactly that.","body":"The error literally says: &quot;Run with --stacktrace option to get the stack trace.  Run with --scan to get full insights.&quot; â you should do exactly that."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1659505345,"post_id":73215759,"comment_id":129307596,"body_markdown":"and then post the results of the stacktrace in your question","body":"and then post the results of the stacktrace in your question"},{"owner":{"display_name":"user12969831"},"score":0,"creation_date":1659532437,"post_id":73215759,"comment_id":129317103,"body_markdown":"Ready! I edited and added the error. I also put my Java code that runs the class where the error is.","body":"Ready! I edited and added the error. I also put my Java code that runs the class where the error is."},{"owner":{"display_name":"user12969831"},"score":0,"creation_date":1659793684,"post_id":73215759,"comment_id":129381983,"body_markdown":"I came to the conclusion that the problem is in the combination of javafx and rxtx.\njavaFX does not allow Runnables to run alongside code, which could be causing this issue.","body":"I came to the conclusion that the problem is in the combination of javafx and rxtx. javaFX does not allow Runnables to run alongside code, which could be causing this issue."}],"owner":{"display_name":"user12969831"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659532979,"creation_date":1659494486,"question_id":73215759,"body_markdown":"I&#39;m developing a program with gradle and javaFX to read a serial port where the arduino is connected.\r\n\r\nHowever, when reading the events received by the serial, my program closes and returns an error &quot;finished with non-zero exit value 1&quot;.\r\n\r\nRemoving the BufferedReader.readLine() line it works normally again.\r\n\r\nCode for reading the serial:\r\n\r\n    public class SerialReadder implements SerialPortEventListener {\r\n    \r\n        private SerialPort serialPort;\r\n        private String serialPortName;\r\n    \r\n        static int PORT_RATE = 9600;\r\n    \r\n        public SerialReadder(String serialPortName) {\r\n            this.serialPortName = serialPortName;\r\n        }\r\n        public SerialReadder(){\r\n            super();\r\n        }\r\n    \r\n        public boolean connect() throws Exception {\r\n            CommPortIdentifier portIdentifier = CommPortIdentifier.getPortIdentifier(serialPortName);\r\n    \r\n            if (portIdentifier.isCurrentlyOwned())\r\n                return false;\r\n            else {\r\n                CommPort commPort = portIdentifier.open(this.getClass().getName(), PORT_RATE);\r\n                if (commPort instanceof SerialPort) {\r\n                    serialPort = (SerialPort) commPort;\r\n    \r\n                    serialPort.setSerialPortParams(PORT_RATE,SerialPort.DATABITS_8,SerialPort.STOPBITS_1,SerialPort.PARITY_NONE);\r\n    \r\n                    serialPort.addEventListener(this);\r\n                    serialPort.notifyOnDataAvailable(true);\r\n                    return true;\r\n                } else\r\n                    return false;\r\n            }\r\n        }\r\n    \r\n        public synchronized void close(){\r\n            if(serialPort != null){\r\n                serialPort.removeEventListener();\r\n                serialPort.close();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void serialEvent(SerialPortEvent spe) {\r\n            try {\r\n                switch (spe.getEventType()) {\r\n                    case SerialPortEvent.DATA_AVAILABLE:\r\n    \r\n                        BufferedReader dataInput = new BufferedReader(new InputStreamReader(serialPort.getInputStream()));\r\n                        System.out.println(dataInput.readLine());\r\n                        dataInput.close();\r\n    \r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe error is in this &quot;serialEvent&quot;\r\n\r\nMy JavaFX MainFrameController:\r\n\r\n    public class MainFrameController implements Initializable {\r\n    \r\n        @FXML\r\n        private ResourceBundle resources;\r\n    \r\n        @FXML\r\n        private URL location;\r\n    \r\n        @FXML\r\n        private MenuItem connect_menu_button;\r\n    \r\n        @FXML\r\n        private LineChart&lt;?, ?&gt; line_chart;\r\n    \r\n        @FXML\r\n        private MenuBar menu_bar;\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n            connect_menu_button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                public void handle(ActionEvent t) {\r\n                    openConnectPopUp();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private SerialReadder serialReadder = new SerialReadder();\r\n    \r\n        @FXML\r\n        void onClickInConnectButton(ActionEvent event) {\r\n    \r\n        }\r\n    \r\n        void openConnectPopUp(){\r\n            try {\r\n                FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(\r\n                        &quot;/com/matheusmarkies/mousetrapcar/ConnectPopUp.fxml&quot;));\r\n                Parent root = fxmlLoader.load();\r\n    \r\n                ConnectPopUpController connectPopUpController = (ConnectPopUpController)fxmlLoader.getController();\r\n    \r\n                connectPopUpController.setSerialReadder(serialReadder);\r\n    \r\n                Stage stage = new Stage();\r\n                stage.setTitle(&quot;Conectar&quot;);\r\n                stage.setScene(new Scene(root));\r\n    \r\n                stage.show();\r\n            } catch (IOException ignored) {\r\n                System.err.println(ignored);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nIntelliJ Console:\r\n\r\n    Execution failed for task &#39;:run&#39;.\r\n    &gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace.  Run with --scan to get full insights.\r\n\r\n\r\nDependencies:\r\n\r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n        implementation group: &#39;org.rxtx&#39;, name: &#39;rxtx&#39;, version: &#39;2.1.7&#39;\r\n    }\r\n\r\nError stacktrace:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:run&#39;.\r\n    &gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 5s\r\n\r\nFull stacktrace:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:run&#39;.\r\n    &gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:run&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:174)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n    \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\r\n    \tat org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\r\n    \tat org.gradle.api.tasks.JavaExec.exec(JavaExec.java:156)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:506)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n    \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:491)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:474)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:106)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:249)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n    \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:85)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:42)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:106)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:51)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:72)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:46)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\r\n    \tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:284)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n    \tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:185)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:174)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n    \tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n    \r\n    Publishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \r\n\r\n","title":"BufferedReader.readLine() finished with non-zero exit value 1","body":"<p>I'm developing a program with gradle and javaFX to read a serial port where the arduino is connected.</p>\n<p>However, when reading the events received by the serial, my program closes and returns an error &quot;finished with non-zero exit value 1&quot;.</p>\n<p>Removing the BufferedReader.readLine() line it works normally again.</p>\n<p>Code for reading the serial:</p>\n<pre><code>public class SerialReadder implements SerialPortEventListener {\n\n    private SerialPort serialPort;\n    private String serialPortName;\n\n    static int PORT_RATE = 9600;\n\n    public SerialReadder(String serialPortName) {\n        this.serialPortName = serialPortName;\n    }\n    public SerialReadder(){\n        super();\n    }\n\n    public boolean connect() throws Exception {\n        CommPortIdentifier portIdentifier = CommPortIdentifier.getPortIdentifier(serialPortName);\n\n        if (portIdentifier.isCurrentlyOwned())\n            return false;\n        else {\n            CommPort commPort = portIdentifier.open(this.getClass().getName(), PORT_RATE);\n            if (commPort instanceof SerialPort) {\n                serialPort = (SerialPort) commPort;\n\n                serialPort.setSerialPortParams(PORT_RATE,SerialPort.DATABITS_8,SerialPort.STOPBITS_1,SerialPort.PARITY_NONE);\n\n                serialPort.addEventListener(this);\n                serialPort.notifyOnDataAvailable(true);\n                return true;\n            } else\n                return false;\n        }\n    }\n\n    public synchronized void close(){\n        if(serialPort != null){\n            serialPort.removeEventListener();\n            serialPort.close();\n        }\n    }\n\n    @Override\n    public void serialEvent(SerialPortEvent spe) {\n        try {\n            switch (spe.getEventType()) {\n                case SerialPortEvent.DATA_AVAILABLE:\n\n                    BufferedReader dataInput = new BufferedReader(new InputStreamReader(serialPort.getInputStream()));\n                    System.out.println(dataInput.readLine());\n                    dataInput.close();\n\n                    break;\n                default:\n                    break;\n            }\n\n        } catch (Exception e) {\n            System.err.println(e);\n        }\n    }\n\n}\n</code></pre>\n<p>The error is in this &quot;serialEvent&quot;</p>\n<p>My JavaFX MainFrameController:</p>\n<pre><code>public class MainFrameController implements Initializable {\n\n    @FXML\n    private ResourceBundle resources;\n\n    @FXML\n    private URL location;\n\n    @FXML\n    private MenuItem connect_menu_button;\n\n    @FXML\n    private LineChart&lt;?, ?&gt; line_chart;\n\n    @FXML\n    private MenuBar menu_bar;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        connect_menu_button.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            public void handle(ActionEvent t) {\n                openConnectPopUp();\n            }\n        });\n    }\n\n    private SerialReadder serialReadder = new SerialReadder();\n\n    @FXML\n    void onClickInConnectButton(ActionEvent event) {\n\n    }\n\n    void openConnectPopUp(){\n        try {\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(\n                    &quot;/com/matheusmarkies/mousetrapcar/ConnectPopUp.fxml&quot;));\n            Parent root = fxmlLoader.load();\n\n            ConnectPopUpController connectPopUpController = (ConnectPopUpController)fxmlLoader.getController();\n\n            connectPopUpController.setSerialReadder(serialReadder);\n\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Conectar&quot;);\n            stage.setScene(new Scene(root));\n\n            stage.show();\n        } catch (IOException ignored) {\n            System.err.println(ignored);\n        }\n    }\n\n}\n</code></pre>\n<p>IntelliJ Console:</p>\n<pre><code>Execution failed for task ':run'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace.  Run with --scan to get full insights.\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation group: 'org.rxtx', name: 'rxtx', version: '2.1.7'\n}\n</code></pre>\n<p>Error stacktrace:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n</code></pre>\n<p>Full stacktrace:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':run'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:174)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe'' finished with non-zero exit value 1\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:414)\n    at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\n    at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:156)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:506)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:491)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:474)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:106)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:249)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:85)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:42)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:106)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:51)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:72)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:46)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:284)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:185)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:174)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n\nPublishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8856,"page":1136,"page_size":100}
